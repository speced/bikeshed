<!doctype html><html lang="en">
 <head>
  <meta charset="utf-8">
  <meta content="width=device-width, initial-scale=1, shrink-to-fit=no" name="viewport">
  <meta content="#3c790a" name="theme-color">
  <title>[TITLE]</title>
  <link href="https://resources.whatwg.org/standard.css" rel="stylesheet">
  <link href="https://resources.whatwg.org/bikeshed.css" rel="stylesheet">
  <link href="" rel="icon">
  <meta content="Bikeshed version 67155cabad72a8ab669a7d4421c90e2999a29b68" name="generator">
  <meta content="67155cabad72a8ab669a7d4421c90e2999a29b68" name="document-revision">
<style>/* style-syntax-highlighting */
pre.idl.highlight { color: #708090; }
.highlight:not(.idl) { background: hsl(24, 20%, 95%); }
code.highlight { padding: .1em; border-radius: .3em; }
pre.highlight, pre > code.highlight { display: block; padding: 1em; margin: .5em 0; overflow: auto; border-radius: 0; }
.highlight .c { color: #708090 } /* Comment */
.highlight .k { color: #990055 } /* Keyword */
.highlight .l { color: #000000 } /* Literal */
.highlight .n { color: #0077aa } /* Name */
.highlight .o { color: #999999 } /* Operator */
.highlight .p { color: #999999 } /* Punctuation */
.highlight .cm { color: #708090 } /* Comment.Multiline */
.highlight .cp { color: #708090 } /* Comment.Preproc */
.highlight .c1 { color: #708090 } /* Comment.Single */
.highlight .cs { color: #708090 } /* Comment.Special */
.highlight .kc { color: #990055 } /* Keyword.Constant */
.highlight .kd { color: #990055 } /* Keyword.Declaration */
.highlight .kn { color: #990055 } /* Keyword.Namespace */
.highlight .kp { color: #990055 } /* Keyword.Pseudo */
.highlight .kr { color: #990055 } /* Keyword.Reserved */
.highlight .kt { color: #990055 } /* Keyword.Type */
.highlight .ld { color: #000000 } /* Literal.Date */
.highlight .m { color: #000000 } /* Literal.Number */
.highlight .s { color: #a67f59 } /* Literal.String */
.highlight .na { color: #0077aa } /* Name.Attribute */
.highlight .nc { color: #0077aa } /* Name.Class */
.highlight .no { color: #0077aa } /* Name.Constant */
.highlight .nd { color: #0077aa } /* Name.Decorator */
.highlight .ni { color: #0077aa } /* Name.Entity */
.highlight .ne { color: #0077aa } /* Name.Exception */
.highlight .nf { color: #0077aa } /* Name.Function */
.highlight .nl { color: #0077aa } /* Name.Label */
.highlight .nn { color: #0077aa } /* Name.Namespace */
.highlight .py { color: #0077aa } /* Name.Property */
.highlight .nt { color: #669900 } /* Name.Tag */
.highlight .nv { color: #222222 } /* Name.Variable */
.highlight .ow { color: #999999 } /* Operator.Word */
.highlight .mb { color: #000000 } /* Literal.Number.Bin */
.highlight .mf { color: #000000 } /* Literal.Number.Float */
.highlight .mh { color: #000000 } /* Literal.Number.Hex */
.highlight .mi { color: #000000 } /* Literal.Number.Integer */
.highlight .mo { color: #000000 } /* Literal.Number.Oct */
.highlight .sb { color: #a67f59 } /* Literal.String.Backtick */
.highlight .sc { color: #a67f59 } /* Literal.String.Char */
.highlight .sd { color: #a67f59 } /* Literal.String.Doc */
.highlight .s2 { color: #a67f59 } /* Literal.String.Double */
.highlight .se { color: #a67f59 } /* Literal.String.Escape */
.highlight .sh { color: #a67f59 } /* Literal.String.Heredoc */
.highlight .si { color: #a67f59 } /* Literal.String.Interpol */
.highlight .sx { color: #a67f59 } /* Literal.String.Other */
.highlight .sr { color: #a67f59 } /* Literal.String.Regex */
.highlight .s1 { color: #a67f59 } /* Literal.String.Single */
.highlight .ss { color: #a67f59 } /* Literal.String.Symbol */
.highlight .vc { color: #0077aa } /* Name.Variable.Class */
.highlight .vg { color: #0077aa } /* Name.Variable.Global */
.highlight .vi { color: #0077aa } /* Name.Variable.Instance */
.highlight .il { color: #000000 } /* Literal.Number.Integer.Long */
</style>
 <body class="h-entry status-">
  <div class="head">
   <p data-fill-with="logo"><a class="logo" href="https://whatwg.org/"> <img alt="WHATWG" height="100" src=""> </a> </p>
   <hgroup>
    <h1 class="p-name no-ref" id="title">Notifications API</h1>
    <h2 class="no-num no-toc no-ref heading settled" id="subtitle"><span class="content"> — Last Updated <time class="dt-updated" datetime="2018-01-19">19 January 2018</time></span></h2>
   </hgroup>
   <div data-fill-with="spec-metadata">
    <dl>
     <dt>Issue Tracking:
     <dd><a href="https://github.com/foolip/bikeshed/issues/">GitHub</a>
     <dd><a href="#issues-index">Inline In Spec</a>
     <dt>Translations <small>(non-normative and likely out-of-date)</small>:
     <dd><span title="Japanese"><a href="https://triple-underscore.github.io/notifications-ja.html" hreflang="ja" lang="ja" rel="alternate">日本語</a></span>
     <dd><span title="Simplified Chinese"><a href="https://w3c-html-ig-zh.github.io/notifications/whatwg/" hreflang="zh-cn" lang="zh-cn" rel="alternate">简体中文</a></span>
    </dl>
   </div>
   <div data-fill-with="warning"></div>
  </div>
  <div class="p-summary" data-fill-with="abstract">
   <h2 class="no-num no-toc no-ref heading settled" id="abstract"><span class="content">Abstract</span></h2>
   <p>This standard defines an API to display notifications to the end user, typically outside the top-level browsing context’s viewport. It is designed to be compatible with existing notification systems, while remaining platform-independent.</p>
  </div>
  <nav data-fill-with="table-of-contents" id="toc">
   <h2 class="no-num no-toc no-ref" id="contents">Table of Contents</h2>
   <ol class="toc" role="directory">
    <li><a href="#terminology"><span class="secno">1</span> <span class="content">Terminology</span></a>
    <li>
     <a href="#notifications"><span class="secno">2</span> <span class="content">Notifications</span></a>
     <ol class="toc">
      <li><a href="#lifetime-and-ui-integrations"><span class="secno">2.1</span> <span class="content">Lifetime and UI integration</span></a>
      <li><a href="#permission-model"><span class="secno">2.2</span> <span class="content">Permission model</span></a>
      <li><a href="#direction"><span class="secno">2.3</span> <span class="content">Direction</span></a>
      <li><a href="#language"><span class="secno">2.4</span> <span class="content">Language</span></a>
      <li><a href="#resources"><span class="secno">2.5</span> <span class="content">Resources</span></a>
      <li><a href="#showing-a-notification"><span class="secno">2.6</span> <span class="content">Showing a notification</span></a>
      <li><a href="#activating-a-notification"><span class="secno">2.7</span> <span class="content">Activating a notification</span></a>
      <li><a href="#closing-a-notification"><span class="secno">2.8</span> <span class="content">Closing a notification</span></a>
      <li><a href="#displaying-notification"><span class="secno">2.9</span> <span class="content">Displaying notifications</span></a>
      <li><a href="#replacing-a-notification"><span class="secno">2.10</span> <span class="content">Replacing a notification</span></a>
      <li><a href="#alerting-the-user"><span class="secno">2.11</span> <span class="content">Alerting the user</span></a>
     </ol>
    <li>
     <a href="#api"><span class="secno">3</span> <span class="content">API</span></a>
     <ol class="toc">
      <li><a href="#garbage-collection"><span class="secno">3.1</span> <span class="content">Garbage collection</span></a>
      <li><a href="#constructors"><span class="secno">3.2</span> <span class="content">Constructors</span></a>
      <li><a href="#static-members"><span class="secno">3.3</span> <span class="content">Static members</span></a>
      <li><a href="#object-members"><span class="secno">3.4</span> <span class="content">Object members</span></a>
      <li>
       <a href="#examples"><span class="secno">3.5</span> <span class="content">Examples</span></a>
       <ol class="toc">
        <li><a href="#using-events"><span class="secno">3.5.1</span> <span class="content">Using events from a page</span></a>
        <li><a href="#using-actions"><span class="secno">3.5.2</span> <span class="content">Using actions from a service worker</span></a>
        <li><a href="#tags-example"><span class="secno">3.5.3</span> <span class="content">Using the <code>tag</code> member for multiple instances</span></a>
        <li><a href="#using-the-tag-member-for-a-single-instance"><span class="secno">3.5.4</span> <span class="content">Using the <code>tag</code> member for a single instance</span></a>
       </ol>
     </ol>
    <li><a href="#service-worker-api"><span class="secno">4</span> <span class="content">Service worker API</span></a>
    <li><a href="#acknowledgments"><span class="secno"></span> <span class="content">Acknowledgments</span></a>
    <li><a href="#conformance"><span class="secno"></span> <span class="content">Conformance</span></a>
    <li>
     <a href="#index"><span class="secno"></span> <span class="content">Index</span></a>
     <ol class="toc">
      <li><a href="#index-defined-here"><span class="secno"></span> <span class="content">Terms defined by this specification</span></a>
      <li><a href="#index-defined-elsewhere"><span class="secno"></span> <span class="content">Terms defined by reference</span></a>
     </ol>
    <li>
     <a href="#references"><span class="secno"></span> <span class="content">References</span></a>
     <ol class="toc">
      <li><a href="#normative"><span class="secno"></span> <span class="content">Normative References</span></a>
     </ol>
    <li><a href="#idl-index"><span class="secno"></span> <span class="content">IDL Index</span></a>
   </ol>
  </nav>
  <main>
   <h2 class="heading settled" data-level="1" id="terminology"><span class="secno">1. </span><span class="content">Terminology</span><a class="self-link" href="#terminology"></a></h2>
   <p>This specification depends on the Infra Standard. <a data-link-type="biblio" href="#biblio-infra">[INFRA]</a> </p>
   <p>Some terms used in this specification are defined in the DOM, Fetch, HTML, IDL, Service Workers,
URL, and Vibration API Standards. <a data-link-type="biblio" href="#biblio-dom">[DOM]</a> <a data-link-type="biblio" href="#biblio-fetch">[FETCH]</a> <a data-link-type="biblio" href="#biblio-html">[HTML]</a> <a data-link-type="biblio" href="#biblio-webidl">[WEBIDL]</a> <a data-link-type="biblio" href="#biblio-service-workers">[SERVICE-WORKERS]</a> <a data-link-type="biblio" href="#biblio-url">[URL]</a> <a data-link-type="biblio" href="#biblio-vibration">[VIBRATION]</a> </p>
   <h2 class="heading settled" data-level="2" id="notifications"><span class="secno">2. </span><span class="content">Notifications</span><a class="self-link" href="#notifications"></a></h2>
   <p>A <dfn data-dfn-type="dfn" data-noexport="" id="concept-notification">notification<a class="self-link" href="#concept-notification"></a></dfn> is an abstract
representation of something that happened, such as the delivery of a message. </p>
   <p>A <a data-link-type="dfn" href="#concept-notification" id="ref-for-concept-notification">notification</a> <em>can</em> have an associated <dfn data-dfn-for="notification" data-dfn-type="dfn" data-noexport="" id="service-worker-registration">service worker registration<a class="self-link" href="#service-worker-registration"></a></dfn>. </p>
   <p>A <a data-link-type="dfn" href="#concept-notification" id="ref-for-concept-notification①">notification</a> has an associated <dfn data-dfn-for="notification" data-dfn-type="dfn" data-noexport="" id="concept-title">title<a class="self-link" href="#concept-title"></a></dfn> which is a DOMString. </p>
   <p>A <a data-link-type="dfn" href="#concept-notification" id="ref-for-concept-notification②">notification</a> has an associated <dfn data-dfn-for="notification" data-dfn-type="dfn" data-noexport="" id="body">body<a class="self-link" href="#body"></a></dfn> which is a DOMString. </p>
   <p>A <a data-link-type="dfn" href="#concept-notification" id="ref-for-concept-notification③">notification</a> has an associated <dfn data-dfn-for="notification" data-dfn-type="dfn" data-noexport="" id="concept-direction">direction<a class="self-link" href="#concept-direction"></a></dfn> which is one of <i>auto</i>, <i>ltr</i>, and <i>rtl</i>. </p>
   <p>A <a data-link-type="dfn" href="#concept-notification" id="ref-for-concept-notification④">notification</a> has an associated <dfn data-dfn-for="notification" data-dfn-type="dfn" data-noexport="" id="concept-language">language<a class="self-link" href="#concept-language"></a></dfn> which is a DOMString
representing either a valid BCP 47 language tag or the empty string. </p>
   <p>A <a data-link-type="dfn" href="#concept-notification" id="ref-for-concept-notification⑤">notification</a> has an associated <dfn data-dfn-for="notification" data-dfn-type="dfn" data-noexport="" id="tag">tag<a class="self-link" href="#tag"></a></dfn> which is a DOMString. </p>
   <p>A <a data-link-type="dfn" href="#concept-notification" id="ref-for-concept-notification⑥">notification</a> has an associated <dfn data-dfn-for="notification" data-dfn-type="dfn" data-noexport="" id="data">data<a class="self-link" href="#data"></a></dfn>. </p>
   <p>A <a data-link-type="dfn" href="#concept-notification" id="ref-for-concept-notification⑦">notification</a> has an associated <dfn data-dfn-for="notification" data-dfn-type="dfn" data-noexport="" id="timestamp">timestamp<a class="self-link" href="#timestamp"></a></dfn> which
is a <code class="idl"><a data-link-type="idl" href="https://heycam.github.io/webidl/#DOMTimeStamp" id="ref-for-DOMTimeStamp">DOMTimeStamp</a></code> representing the time, in milliseconds since 00:00:00 UTC on 1 January 1970,
of the event for which the notification was created. </p>
   <p class="note" role="note">Timestamps can be used to indicate the time at which a notification
is actual. For example, this could be in the past when a notification is used for
a message that couldn’t immediately be delivered because the device was offline,
or in the future for a meeting that is about to start. </p>
   <p>A <a data-link-type="dfn" href="#concept-notification" id="ref-for-concept-notification⑧">notification</a> has an associated <dfn data-dfn-for="notification" data-dfn-type="dfn" data-noexport="" id="concept-origin">origin<a class="self-link" href="#concept-origin"></a></dfn>. </p>
   <p>A <a data-link-type="dfn" href="#concept-notification" id="ref-for-concept-notification⑨">notification</a> has an associated <dfn data-dfn-for="notification" data-dfn-type="dfn" data-noexport="" id="renotify-preference-flag">renotify preference flag<a class="self-link" href="#renotify-preference-flag"></a></dfn> which is initially
unset. When set indicates that the end user should be alerted after the <a data-link-type="dfn" href="#replace-steps" id="ref-for-replace-steps">replace steps</a> have
run. </p>
   <p>A <a data-link-type="dfn" href="#concept-notification" id="ref-for-concept-notification①⓪">notification</a> has an associated <dfn data-dfn-for="notification" data-dfn-type="dfn" data-noexport="" id="silent-preference-flag">silent preference flag<a class="self-link" href="#silent-preference-flag"></a></dfn> which is initially
unset. When set indicates that no sounds or vibrations should be made. </p>
   <p>A <a data-link-type="dfn" href="#concept-notification" id="ref-for-concept-notification①①">notification</a> has an associated <dfn data-dfn-for="notification" data-dfn-type="dfn" data-noexport="" id="require-interaction-preference-flag">require interaction preference flag<a class="self-link" href="#require-interaction-preference-flag"></a></dfn> which is initially unset. When set, indicates that on devices with a sufficiently large screen, the
notification should remain readily available until the user activates or dismisses the notification. </p>
   <p>A <a data-link-type="dfn" href="#concept-notification" id="ref-for-concept-notification①②">notification</a> <em>can</em> have these associated graphics: an <dfn data-dfn-for="notification" data-dfn-type="dfn" data-noexport="" id="image-url">image URL<a class="self-link" href="#image-url"></a></dfn>, <dfn data-dfn-for="notification" data-dfn-type="dfn" data-noexport="" id="icon-url">icon URL<a class="self-link" href="#icon-url"></a></dfn>, and <dfn data-dfn-for="notification" data-dfn-type="dfn" data-noexport="" id="badge-url">badge URL<a class="self-link" href="#badge-url"></a></dfn>; and their corresponding <a data-link-type="dfn" href="#image-resource" id="ref-for-image-resource">image resource</a>, <a data-link-type="dfn" href="#icon-resource" id="ref-for-icon-resource">icon resource</a>, and <a data-link-type="dfn" href="#badge-resource" id="ref-for-badge-resource">badge resource</a>. </p>
   <p>An <dfn data-dfn-for="notification" data-dfn-type="dfn" data-noexport="" id="image-resource">image resource<a class="self-link" href="#image-resource"></a></dfn> is a picture shown as part of the
content of the <a data-link-type="dfn" href="#concept-notification" id="ref-for-concept-notification①③">notification</a>, and should be displayed with higher visual priority than the <a data-link-type="dfn" href="#icon-resource" id="ref-for-icon-resource①">icon resource</a> and <a data-link-type="dfn" href="#badge-resource" id="ref-for-badge-resource①">badge resource</a>, though it may be
displayed in fewer circumstances. </p>
   <p>An <dfn data-dfn-for="notification" data-dfn-type="dfn" data-noexport="" id="icon-resource">icon resource<a class="self-link" href="#icon-resource"></a></dfn> is an image that reinforces the <a data-link-type="dfn" href="#concept-notification" id="ref-for-concept-notification①④">notification</a> (such as an icon, or a photo of the sender). </p>
   <p>A <dfn data-dfn-for="notification" data-dfn-type="dfn" data-noexport="" id="badge-resource">badge resource<a class="self-link" href="#badge-resource"></a></dfn> is an icon representing the web
application, or the category of the <a data-link-type="dfn" href="#concept-notification" id="ref-for-concept-notification①⑤">notification</a> if the web application sends a wide variety
of <a data-link-type="dfn" href="#concept-notification" id="ref-for-concept-notification①⑥">notifications</a>. It <em>may</em> be used to represent the <a data-link-type="dfn" href="#concept-notification" id="ref-for-concept-notification①⑦">notification</a> when there is
not enough space to display the <a data-link-type="dfn" href="#concept-notification" id="ref-for-concept-notification①⑧">notification</a> itself. It <em>may</em> also be displayed inside
the <a data-link-type="dfn" href="#concept-notification" id="ref-for-concept-notification①⑨">notification</a>, but then it should have less visual priority than the <a data-link-type="dfn" href="#image-resource" id="ref-for-image-resource①">image resource</a> and <a data-link-type="dfn" href="#icon-resource" id="ref-for-icon-resource②">icon resource</a>. </p>
   <p>A <a data-link-type="dfn" href="#concept-notification" id="ref-for-concept-notification②⓪">notification</a> <em>can</em> have an <dfn data-dfn-for="notification" data-dfn-type="dfn" data-noexport="" id="sound-url">sound URL<a class="self-link" href="#sound-url"></a></dfn>, <dfn data-dfn-for="notification" data-dfn-type="dfn" data-noexport="" id="sound-resource">sound resource<a class="self-link" href="#sound-resource"></a></dfn>, <dfn data-dfn-for="notification" data-dfn-type="dfn" data-noexport="" id="vibration-pattern">vibration pattern<a class="self-link" href="#vibration-pattern"></a></dfn>. </p>
   <p class="note" role="note">Developers are encouraged to not convey information through an <a data-link-type="dfn" href="#image-resource" id="ref-for-image-resource②">image</a>, <a data-link-type="dfn" href="#icon-resource" id="ref-for-icon-resource③">icon</a>, <a data-link-type="dfn" href="#badge-resource" id="ref-for-badge-resource②">badge</a>, <a data-link-type="dfn" href="#sound-resource" id="ref-for-sound-resource">sound</a>, or <a data-link-type="dfn" href="#vibration-pattern" id="ref-for-vibration-pattern">vibration pattern</a> that
is not otherwise accessible to the end user, especially since notification platforms that do not
support these features might ignore them. </p>
   <p>A <a data-link-type="dfn" href="#concept-notification" id="ref-for-concept-notification②①">notification</a> has an associated list of
zero or more <dfn data-dfn-for="notification" data-dfn-type="dfn" data-lt="action" data-noexport="" id="actions">actions<a class="self-link" href="#actions"></a></dfn>. Each <a data-link-type="dfn" href="#actions" id="ref-for-actions">action</a> has an associated <dfn data-dfn-for="action" data-dfn-type="dfn" data-noexport="" id="action-title">title<a class="self-link" href="#action-title"></a></dfn> and <dfn data-dfn-for="action" data-dfn-type="dfn" data-noexport="" id="action-name">name<a class="self-link" href="#action-name"></a></dfn> and <em>can</em> have an associated <dfn data-dfn-for="action" data-dfn-type="dfn" data-noexport="" id="action-icon-url">icon URL<a class="self-link" href="#action-icon-url"></a></dfn> and <dfn data-dfn-for="action" data-dfn-type="dfn" data-noexport="" id="action-icon-resource">icon resource<a class="self-link" href="#action-icon-resource"></a></dfn>. Users may activate actions, as alternatives to
activating the notification itself. The user agent must determine the <dfn data-dfn-type="dfn" data-noexport="" id="maximum-number-of-actions">maximum number of actions<a class="self-link" href="#maximum-number-of-actions"></a></dfn> supported, within the constraints of the
notification platform. </p>
   <p class="note" role="note">Since display of actions is platform-dependent, developers are
encouraged to make sure that any action a user can invoke from a notification is
also available within the web application. </p>
   <p class="note no-backref" role="note">Some platforms might modify an <a data-link-type="dfn" href="#action-icon-resource" id="ref-for-action-icon-resource">icon resource</a> to better
match the platform’s visual style before displaying it to the user, for example by rounding the
corners or painting it in a specific color. Developers are encouraged to use an icon that handles
such cases gracefully and does not lose important information through, e.g., loss of color or
clipped corners. </p>
   <p>A <dfn data-dfn-type="dfn" data-noexport="" id="non-persistent-notification">non-persistent notification<a class="self-link" href="#non-persistent-notification"></a></dfn> is a <a data-link-type="dfn" href="#concept-notification" id="ref-for-concept-notification②②">notification</a> without an associated <a data-link-type="dfn" href="#service-worker-registration" id="ref-for-service-worker-registration">service worker registration</a>. </p>
   <p>A <dfn data-dfn-type="dfn" data-noexport="" id="persistent-notification">persistent notification<a class="self-link" href="#persistent-notification"></a></dfn> is a <a data-link-type="dfn" href="#concept-notification" id="ref-for-concept-notification②③">notification</a> with an associated <a data-link-type="dfn" href="#service-worker-registration" id="ref-for-service-worker-registration①">service worker registration</a>. </p>
   <p>A <var>notification</var> is considered to be <dfn data-dfn-for="notification" data-dfn-type="dfn" data-noexport="" id="replaceable">replaceable<a class="self-link" href="#replaceable"></a></dfn> if there is a <a data-link-type="dfn" href="#concept-notification" id="ref-for-concept-notification②④">notification</a> in the <a data-link-type="dfn" href="#list-of-notifications" id="ref-for-list-of-notifications">list of notifications</a> whose <a data-link-type="dfn" href="#tag" id="ref-for-tag">tag</a> is not the empty string and equals
the <var>notification</var>’s <a data-link-type="dfn" href="#tag" id="ref-for-tag①">tag</a>, and whose <a data-link-type="dfn" href="#concept-origin" id="ref-for-concept-origin">origin</a> is <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/origin.html#same-origin" id="ref-for-same-origin">same origin</a> with <var>notification</var>’s <a data-link-type="dfn" href="#concept-origin" id="ref-for-concept-origin①">origin</a>. </p>
   <hr>
   <p>To <dfn data-dfn-type="dfn" data-lt="create a notification|creating a notification" data-noexport="" id="create-a-notification">create a notification<a class="self-link" href="#create-a-notification"></a></dfn>, given a <var>title</var>, <var>options</var>, and optionally a <var>serviceWorkerRegistration</var>, run
these steps: </p>
   <ol>
    <li>
     <p>Let <var>notification</var> be a new <a data-link-type="dfn" href="#concept-notification" id="ref-for-concept-notification②⑤">notification</a>. </p>
    <li>
     <p>If a <var>serviceWorkerRegistration</var> was provided, set <var>notification</var>’s <a data-link-type="dfn" href="#service-worker-registration" id="ref-for-service-worker-registration②">service worker registration</a> to <var>serviceWorkerRegistration</var>. </p>
    <li>
     <p>If a <var>serviceWorkerRegistration</var> was not provided and <var>options</var>’s <code>actions</code> is not empty, <a data-link-type="dfn" href="https://heycam.github.io/webidl/#dfn-throw" id="ref-for-dfn-throw">throw</a> a <code>TypeError</code> exception. </p>
     <p class="note" role="note"><a data-link-type="dfn" href="#actions" id="ref-for-actions①">Actions</a> are only currently supported for <a data-link-type="dfn" href="#persistent-notification" id="ref-for-persistent-notification">persistent notifications</a>. </p>
    <li>
     <p>If <var>options</var>’s <code>silent</code> is true, and either <var>options</var>’s <code>sound</code> is present or <var>options</var>’s <code>vibrate</code> is present, <a data-link-type="dfn" href="https://heycam.github.io/webidl/#dfn-throw" id="ref-for-dfn-throw①">throw</a> a <code>TypeError</code> exception. </p>
    <li>
     <p>If <var>options</var>’s <code>renotify</code> is true and <var>options</var>’s <code>tag</code> is the empty string, <a data-link-type="dfn" href="https://heycam.github.io/webidl/#dfn-throw" id="ref-for-dfn-throw②">throw</a> a <code>TypeError</code> exception. </p>
    <li>
     <p>Set <var>notification</var>’s <a data-link-type="dfn" href="#data" id="ref-for-data">data</a> to <a data-link-type="abstract-op" href="https://html.spec.whatwg.org/multipage/structured-data.html#structuredserializeforstorage" id="ref-for-structuredserializeforstorage">StructuredSerializeForStorage</a>(<var>options</var>’s <code>data</code>). Rethrow
  any exceptions. </p>
    <li>
     <p>Set <var>notification</var>’s <a data-link-type="dfn" href="#concept-title" id="ref-for-concept-title">title</a> to <var>title</var>. </p>
    <li>
     <p>Set <var>notification</var>’s <a data-link-type="dfn" href="#concept-direction" id="ref-for-concept-direction">direction</a> to <var>options</var>’s <code>dir</code>. </p>
    <li>
     <p>Set <var>notification</var>’s <a data-link-type="dfn" href="#concept-language" id="ref-for-concept-language">language</a> to <var>options</var>’s <code>lang</code>. </p>
    <li>
     <p>Set <var>notification</var>’s <a data-link-type="dfn" href="#concept-origin" id="ref-for-concept-origin②">origin</a> to the <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#entry-settings-object" id="ref-for-entry-settings-object">entry settings object</a>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-settings-object-origin" id="ref-for-concept-settings-object-origin">origin</a>. </p>
    <li>
     <p>Set <var>notification</var>’s <a data-link-type="dfn" href="#body" id="ref-for-body">body</a> to <var>options</var>’s <code>body</code>. </p>
    <li>
     <p>Set <var>notification</var>’s <a data-link-type="dfn" href="#tag" id="ref-for-tag②">tag</a> to <var>options</var>’s <code>tag</code>. </p>
    <li>
     <p>Let <var>baseURL</var> be the API base URL specified by the <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#entry-settings-object" id="ref-for-entry-settings-object①">entry settings object</a>. <span class="XXX">Or incumbent?</span> </p>
    <li>
     <p>If <var>options</var>’s <code>image</code> is present, <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url-parser" id="ref-for-concept-url-parser">parse</a> it using <var>baseURL</var>, and if that does not
  return failure, set <var>notification</var>’s <a data-link-type="dfn" href="#image-url" id="ref-for-image-url">image URL</a> to the return
  value. (Otherwise <a data-link-type="dfn" href="#image-url" id="ref-for-image-url①">image URL</a> is not set.) </p>
    <li>
     <p>If <var>options</var>’s <code>icon</code> is present, <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url-parser" id="ref-for-concept-url-parser①">parse</a> it using <var>baseURL</var>, and if that does not
  return failure, set <var>notification</var>’s <a data-link-type="dfn" href="#icon-url" id="ref-for-icon-url">icon URL</a> to the return
  value. (Otherwise <a data-link-type="dfn" href="#icon-url" id="ref-for-icon-url①">icon URL</a> is not set.) </p>
    <li>
     <p>If <var>options</var>’s <code>badge</code> is present, <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url-parser" id="ref-for-concept-url-parser②">parse</a> it using <var>baseURL</var>, and if that does not
  return failure, set <var>notification</var>’s <a data-link-type="dfn" href="#badge-url" id="ref-for-badge-url">badge URL</a> to the return
  value. (Otherwise <a data-link-type="dfn" href="#badge-url" id="ref-for-badge-url①">badge URL</a> is not set.) </p>
    <li>
     <p>If <var>options</var>’s <code>sound</code> is present, <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url-parser" id="ref-for-concept-url-parser③">parse</a> it using <var>baseURL</var>, and if that does not
  return failure, set <var>notification</var>’s <a data-link-type="dfn" href="#sound-url" id="ref-for-sound-url">sound URL</a> to the return
  value. (Otherwise <a data-link-type="dfn" href="#sound-url" id="ref-for-sound-url①">sound URL</a> is not set.) </p>
    <li>
     <p>If <var>options</var>’s <code>vibrate</code> is present, <a data-link-type="dfn" href="https://w3c.github.io/vibration/#dfn-validate-and-normalize" id="ref-for-dfn-validate-and-normalize">validate and normalize</a> it and set <var>notification</var>’s <a data-link-type="dfn" href="#vibration-pattern" id="ref-for-vibration-pattern①">vibration pattern</a> to the return value. (Otherwise <a data-link-type="dfn" href="#vibration-pattern" id="ref-for-vibration-pattern②">vibration pattern</a> is not set.) </p>
    <li>
     <p>If <var>options</var>’s <code>timestamp</code> is present, set <var>notification</var>’s <a data-link-type="dfn" href="#timestamp" id="ref-for-timestamp">timestamp</a> to the value. Otherwise, set <var>notification</var>’s <a data-link-type="dfn" href="#timestamp" id="ref-for-timestamp①">timestamp</a> to the number of milliseconds that
  passed between 00:00:00 UTC on 1 January 1970 and the time at which the <code>Notification</code> constructor was called. </p>
    <li>
     <p>If <var>options</var>’s <code>renotify</code> is true, set <var>notification</var>’s <a data-link-type="dfn" href="#renotify-preference-flag" id="ref-for-renotify-preference-flag">renotify preference flag</a>. </p>
    <li>
     <p>If <var>options</var>’s <code>silent</code> is true, set <var>notification</var>’s <a data-link-type="dfn" href="#silent-preference-flag" id="ref-for-silent-preference-flag">silent preference flag</a>. </p>
    <li>
     <p>If <var>options</var>’s <code>requireInteraction</code> is true, set <var>notification</var>’s <a data-link-type="dfn" href="#require-interaction-preference-flag" id="ref-for-require-interaction-preference-flag">require interaction preference flag</a>. </p>
    <li>
     <p>Set <var>notification</var>’s list of <a data-link-type="dfn" href="#actions" id="ref-for-actions②">actions</a> to an empty list,
  then for each <var>entry</var> in <var>options</var>’s <code>actions</code>,
  up to the <a data-link-type="dfn" href="#maximum-number-of-actions" id="ref-for-maximum-number-of-actions">maximum number of actions</a> supported (skip any excess
  entries), perform the following steps: </p>
     <ol>
      <li>
       <p>Let <var>action</var> be a new <a data-link-type="dfn" href="#actions" id="ref-for-actions③">action</a>. </p>
      <li>
       <p>Set <var>action</var>’s <a data-link-type="dfn" href="#action-name" id="ref-for-action-name">name</a> to the <var>entry</var>’s <code>action</code>. </p>
      <li>
       <p>Set <var>action</var>’s <a data-link-type="dfn" href="#action-title" id="ref-for-action-title">title</a> to the <var>entry</var>’s <code>title</code>. </p>
      <li>
       <p>If <var>entry</var>’s <code>icon</code> is present, <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url-parser" id="ref-for-concept-url-parser④">parse</a> it using <var>baseURL</var>, and if that does
    not return failure, set <var>action</var>’s <a data-link-type="dfn" href="#action-icon-url" id="ref-for-action-icon-url">icon URL</a> to the
    return value. (Otherwise <a data-link-type="dfn" href="#action-icon-url" id="ref-for-action-icon-url①">icon URL</a> is not set.) </p>
      <li>
       <p>Append <var>action</var> to <var>notification</var>’s list of <a data-link-type="dfn" href="#actions" id="ref-for-actions④">actions</a>. </p>
     </ol>
    <li>
     <p>Return <var>notification</var>. </p>
   </ol>
   <h3 class="heading settled" data-level="2.1" id="lifetime-and-ui-integrations"><span class="secno">2.1. </span><span class="content">Lifetime and UI integration</span><a class="self-link" href="#lifetime-and-ui-integrations"></a></h3>
   <p>The user agent must keep a <dfn data-dfn-type="dfn" data-noexport="" id="list-of-notifications">list of notifications<a class="self-link" href="#list-of-notifications"></a></dfn> that consists of
zero or more <a data-link-type="dfn" href="#concept-notification" id="ref-for-concept-notification②⑥">notifications</a>. </p>
   <p>User agents should run the <a data-link-type="dfn" href="#close-steps" id="ref-for-close-steps">close steps</a> for a <a data-link-type="dfn" href="#non-persistent-notification" id="ref-for-non-persistent-notification">non-persistent notification</a> a couple of seconds after they have been
created. </p>
   <p>User agents should not display <a data-link-type="dfn" href="#non-persistent-notification" id="ref-for-non-persistent-notification①">non-persistent notification</a> in a
platform’s "notification center" (if available). </p>
   <p>User agents should persist <a data-link-type="dfn" href="#persistent-notification" id="ref-for-persistent-notification①">persistent notifications</a> until they are
removed from the <a data-link-type="dfn" href="#list-of-notifications" id="ref-for-list-of-notifications①">list of notifications</a>. </p>
   <p class="example" id="example-38bbd8ee"><a class="self-link" href="#example-38bbd8ee"></a>A <a data-link-type="dfn" href="#persistent-notification" id="ref-for-persistent-notification②">persistent notification</a> could have the <code class="idl"><a data-link-type="idl" href="#dom-notification-close" id="ref-for-dom-notification-close">close()</a></code> method invoked of one of its <code class="idl"><a data-link-type="idl" href="#notification" id="ref-for-notification">Notification</a></code> objects. </p>
   <p>User agents should display <a data-link-type="dfn" href="#persistent-notification" id="ref-for-persistent-notification③">persistent notifications</a> in a platform’s
"notification center" (if available). </p>
   <h3 class="heading settled" data-level="2.2" id="permission-model"><span class="secno">2.2. </span><span class="content">Permission model</span><a class="self-link" href="#permission-model"></a></h3>
   <p><a data-link-type="dfn" href="#concept-notification" id="ref-for-concept-notification②⑦">Notifications</a> can only be displayed if the
user (or user agent on behalf of the user) has granted <dfn data-dfn-type="dfn" data-noexport="" id="permission">permission<a class="self-link" href="#permission"></a></dfn>.
The <a data-link-type="dfn" href="#permission" id="ref-for-permission">permission</a> to show <a data-link-type="dfn" href="#concept-notification" id="ref-for-concept-notification②⑧">notifications</a> for a given <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/origin.html#concept-origin" id="ref-for-concept-origin③">origin</a> is one of three strings: </p>
   <dl>
    <dt>"<code>default</code>" 
    <dd>
     <p>This is equivalent to "<code>denied</code>", but the user has made no
  explicit choice thus far. </p>
    <dt>"<code>denied</code>" 
    <dd>
     <p>This means the user does not want <a data-link-type="dfn" href="#concept-notification" id="ref-for-concept-notification②⑨">notifications</a>. </p>
    <dt>"<code>granted</code>" 
    <dd>
     <p>This means <a data-link-type="dfn" href="#concept-notification" id="ref-for-concept-notification③⓪">notifications</a> can be
  displayed. </p>
   </dl>
   <p class="note" role="note">There is no equivalent to "<code>default</code>"
meaning "<code>granted</code>". In that case
"<code>granted</code>" is simply returned as there would be no reason
for the application to ask for <a data-link-type="dfn" href="#permission" id="ref-for-permission①">permission</a>. </p>
   <h3 class="heading settled" data-level="2.3" id="direction"><span class="secno">2.3. </span><span class="content">Direction</span><a class="self-link" href="#direction"></a></h3>
   <p>This section is written in terms equivalent to those used in the Rendering
section of HTML. <a data-link-type="biblio" href="#biblio-html">[HTML]</a> </p>
   <p>User agents are expected to honor the Unicode semantics of the text of a <a data-link-type="dfn" href="#concept-notification" id="ref-for-concept-notification③①">notification</a>’s <a data-link-type="dfn" href="#concept-title" id="ref-for-concept-title①">title</a>, <a data-link-type="dfn" href="#body" id="ref-for-body①">body</a>, and the <a data-link-type="dfn" href="#action-title" id="ref-for-action-title①">title</a> of each of its <a data-link-type="dfn" href="#actions" id="ref-for-actions⑤">actions</a>. Each is expected
to be treated as an independent set of one or more bidirectional algorithm
paragraphs when displayed, as defined by the bidirectional algorithm’s rules P1,
P2, and P3, including, for instance, supporting the paragraph-breaking behavior
of U+000A LINE FEED (LF) characters. For each paragraph of the <a data-link-type="dfn" href="#concept-title" id="ref-for-concept-title②">title</a>, <a data-link-type="dfn" href="#body" id="ref-for-body②">body</a> and the <a data-link-type="dfn" href="#action-title" id="ref-for-action-title②">title</a> of each of the <a data-link-type="dfn" href="#actions" id="ref-for-actions⑥">actions</a>, the <a data-link-type="dfn" href="#concept-notification" id="ref-for-concept-notification③②">notification</a>’s <a data-link-type="dfn" href="#concept-direction" id="ref-for-concept-direction①">direction</a> provides the higher-level override of
rules P2 and P3 if it has a value other than "<code>auto</code>". <a data-link-type="biblio" href="#biblio-bidi">[BIDI]</a> </p>
   <p>The <a data-link-type="dfn" href="#concept-notification" id="ref-for-concept-notification③③">notification</a>’s <a data-link-type="dfn" href="#concept-direction" id="ref-for-concept-direction②">direction</a> also determines the relative order in
which the <a data-link-type="dfn" href="#concept-notification" id="ref-for-concept-notification③④">notification</a>’s <a data-link-type="dfn" href="#actions" id="ref-for-actions⑦">actions</a> should be displayed to the user, if
the notification platform displays them side by side. </p>
   <h3 class="heading settled" data-level="2.4" id="language"><span class="secno">2.4. </span><span class="content">Language</span><a class="self-link" href="#language"></a></h3>
   <p>The <a data-link-type="dfn" href="#concept-notification" id="ref-for-concept-notification③⑤">notification</a>’s <a data-link-type="dfn" href="#concept-language" id="ref-for-concept-language①">language</a> specifies the primary language for the <a data-link-type="dfn" href="#concept-notification" id="ref-for-concept-notification③⑥">notification</a>’s <a data-link-type="dfn" href="#concept-title" id="ref-for-concept-title③">title</a>, <a data-link-type="dfn" href="#body" id="ref-for-body③">body</a> and the <a data-link-type="dfn" href="#concept-title" id="ref-for-concept-title④">title</a> of each of its <a data-link-type="dfn" href="#actions" id="ref-for-actions⑧">actions</a>. Its value is a string.
The empty string indicates that the primary language is unknown. Any other string must be
interpreted as a language tag. Validity or well-formedness are not enforced. <a data-link-type="biblio" href="#biblio-lang">[LANG]</a> </p>
   <p class="note" role="note">Developers are encouraged to only use valid language tags. </p>
   <h3 class="heading settled" data-level="2.5" id="resources"><span class="secno">2.5. </span><span class="content">Resources</span><a class="self-link" href="#resources"></a></h3>
   <p>The <dfn data-dfn-type="dfn" data-noexport="" id="fetch-steps">fetch steps<a class="self-link" href="#fetch-steps"></a></dfn> for a given <a data-link-type="dfn" href="#concept-notification" id="ref-for-concept-notification③⑦">notification</a> <var>notification</var> are: </p>
   <ol>
    <li>
     <p>If the notification platform supports images, <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-fetch" id="ref-for-concept-fetch">fetch</a> <var>notification</var>’s <a data-link-type="dfn" href="#image-url" id="ref-for-image-url②">image URL</a>, if <a data-link-type="dfn" href="#image-url" id="ref-for-image-url③">image URL</a> is set. </p>
     <p class="note" role="note">The intent is to fetch this resource similar to an <a href="https://html.spec.whatwg.org/multipage/embedded-content.html#update-the-image-data"><code>&lt;img></code></a>,
  but this <a href="https://www.w3.org/Bugs/Public/show_bug.cgi?id=24055">needs abstracting</a>. </p>
     <p>Then, <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/infrastructure.html#in-parallel" id="ref-for-in-parallel">in parallel</a>: </p>
     <ol>
      <li>
       <p>Wait for the <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-response" id="ref-for-concept-response">response</a>. </p>
      <li>
       <p>If the <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-response" id="ref-for-concept-response①">response</a>’s <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-internal-response" id="ref-for-concept-internal-response">internal response</a>’s <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-response-type" id="ref-for-concept-response-type">type</a> is
   "<code>default</code>", then attempt to decode the resource as image. </p>
      <li>
       <p>If the image format is supported, set <var>notification</var>’s <a data-link-type="dfn" href="#image-resource" id="ref-for-image-resource③">image resource</a> to the decoded resource. (Otherwise <var>notification</var> has no <a data-link-type="dfn" href="#image-resource" id="ref-for-image-resource④">image resource</a>.) </p>
     </ol>
    <li>
     <p>If the notification platform supports icons, <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-fetch" id="ref-for-concept-fetch①">fetch</a> <var>notification</var>’s <a data-link-type="dfn" href="#icon-url" id="ref-for-icon-url②">icon URL</a>, if <a data-link-type="dfn" href="#icon-url" id="ref-for-icon-url③">icon URL</a> is set. </p>
     <p class="note" role="note">The intent is to fetch this resource similar to an <a href="https://html.spec.whatwg.org/multipage/embedded-content.html#update-the-image-data"><code>&lt;img></code></a>,
  but this <a href="https://www.w3.org/Bugs/Public/show_bug.cgi?id=24055">needs abstracting</a>. </p>
     <p>Then, <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/infrastructure.html#in-parallel" id="ref-for-in-parallel①">in parallel</a>: </p>
     <ol>
      <li>
       <p>Wait for the <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-response" id="ref-for-concept-response②">response</a>. </p>
      <li>
       <p>If the <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-response" id="ref-for-concept-response③">response</a>’s <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-internal-response" id="ref-for-concept-internal-response①">internal response</a>’s <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-response-type" id="ref-for-concept-response-type①">type</a> is
   "<code>default</code>", then attempt to decode the resource as image. </p>
      <li>
       <p>If the image format is supported, set <var>notification</var>’s <a data-link-type="dfn" href="#icon-resource" id="ref-for-icon-resource④">icon resource</a> to the decoded resource. (Otherwise <var>notification</var> has no <a data-link-type="dfn" href="#icon-resource" id="ref-for-icon-resource⑤">icon resource</a>.) </p>
     </ol>
    <li>
     <p>If the notification platform supports badges, <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-fetch" id="ref-for-concept-fetch②">fetch</a> <var>notification</var>’s <a data-link-type="dfn" href="#badge-url" id="ref-for-badge-url②">badge URL</a>, if <a data-link-type="dfn" href="#badge-url" id="ref-for-badge-url③">badge URL</a> is set. </p>
     <p class="note" role="note">The intent is to fetch this resource similar to an <a href="https://html.spec.whatwg.org/multipage/embedded-content.html#update-the-image-data"><code>&lt;img></code></a>,
  but this <a href="https://www.w3.org/Bugs/Public/show_bug.cgi?id=24055">needs abstracting</a>. </p>
     <p>Then, <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/infrastructure.html#in-parallel" id="ref-for-in-parallel②">in parallel</a>: </p>
     <ol>
      <li>
       <p>Wait for the <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-response" id="ref-for-concept-response④">response</a>. </p>
      <li>
       <p>If the <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-response" id="ref-for-concept-response⑤">response</a>’s <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-internal-response" id="ref-for-concept-internal-response②">internal response</a>’s <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-response-type" id="ref-for-concept-response-type②">type</a> is
   "<code>default</code>", then attempt to decode the resource as image. </p>
      <li>
       <p>If the image format is supported, set <var>notification</var>’s <a data-link-type="dfn" href="#badge-resource" id="ref-for-badge-resource③">badge resource</a> to the decoded resource. (Otherwise <var>notification</var> has no <a data-link-type="dfn" href="#badge-resource" id="ref-for-badge-resource④">badge resource</a>.) </p>
     </ol>
    <li>
     <p>If the notification platform supports actions and action icons, then for each <var>action</var> in <var>notification</var>’s list of <a data-link-type="dfn" href="#actions" id="ref-for-actions⑨">actions</a> <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-fetch" id="ref-for-concept-fetch③">fetch</a> <var>action</var>’s <a data-link-type="dfn" href="#action-icon-url" id="ref-for-action-icon-url②">icon URL</a>, if <a data-link-type="dfn" href="#action-icon-url" id="ref-for-action-icon-url③">icon URL</a> is set. </p>
     <p class="note" role="note">The intent is to fetch this resource similar to an <a href="https://html.spec.whatwg.org/multipage/embedded-content.html#update-the-image-data"><code>&lt;img></code></a>,
  but this <a href="https://www.w3.org/Bugs/Public/show_bug.cgi?id=24055">needs abstracting</a>. </p>
     <p>Then, <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/infrastructure.html#in-parallel" id="ref-for-in-parallel③">in parallel</a>: </p>
     <ol>
      <li>
       <p>Wait for the <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-response" id="ref-for-concept-response⑥">response</a>. </p>
      <li>
       <p>If the <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-response" id="ref-for-concept-response⑦">response</a>’s <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-internal-response" id="ref-for-concept-internal-response③">internal response</a>’s <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-response-type" id="ref-for-concept-response-type③">type</a> is
   "<code>default</code>", then attempt to decode the resource as image. </p>
      <li>
       <p>If the image format is supported, set <var>action</var>’s <a data-link-type="dfn" href="#action-icon-resource" id="ref-for-action-icon-resource①">icon resource</a> to the decoded resource. (Otherwise <var>action</var> has no <a data-link-type="dfn" href="#action-icon-resource" id="ref-for-action-icon-resource②">icon resource</a>.) </p>
     </ol>
    <li>
     <p>If the notification platform supports sounds, and the <var>notification</var> is either not <a data-link-type="dfn" href="#replaceable" id="ref-for-replaceable">replaceable</a> or has the <a data-link-type="dfn" href="#renotify-preference-flag" id="ref-for-renotify-preference-flag①">renotify preference flag</a> set, <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-fetch" id="ref-for-concept-fetch④">fetch</a> <var>notification</var>’s <a data-link-type="dfn" href="#sound-url" id="ref-for-sound-url②">sound URL</a> if it has
  been set. </p>
     <p>Then, <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/infrastructure.html#in-parallel" id="ref-for-in-parallel④">in parallel</a>: </p>
     <ol>
      <li>
       <p>Wait for the <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-response" id="ref-for-concept-response⑧">response</a>. </p>
      <li>
       <p>If the <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-response" id="ref-for-concept-response⑨">response</a>’s <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-internal-response" id="ref-for-concept-internal-response④">internal response</a>’s <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-response-type" id="ref-for-concept-response-type④">type</a> is
   "<code>default</code>", then attempt to decode the resource as sound. </p>
      <li>
       <p>If the sound format is supported, set <var>notification</var>’s <a data-link-type="dfn" href="#sound-resource" id="ref-for-sound-resource①">sound resource</a> to the decoded resource. (Otherwise <var>notification</var> has no <a data-link-type="dfn" href="#sound-resource" id="ref-for-sound-resource②">sound resource</a>.) </p>
     </ol>
   </ol>
   <h3 class="heading settled" data-level="2.6" id="showing-a-notification"><span class="secno">2.6. </span><span class="content">Showing a notification</span><a class="self-link" href="#showing-a-notification"></a></h3>
   <p>The <dfn data-dfn-type="dfn" data-noexport="" id="show-steps">show steps<a class="self-link" href="#show-steps"></a></dfn> for a given <a data-link-type="dfn" href="#concept-notification" id="ref-for-concept-notification③⑧">notification</a> <var>notification</var> are: </p>
   <ol>
    <li>
     <p>If <var>notification</var> is <a data-link-type="dfn" href="#replaceable" id="ref-for-replaceable①">replaceable</a>, run the <a data-link-type="dfn" href="#replace-steps" id="ref-for-replace-steps①">replace steps</a> for that <a data-link-type="dfn" href="#concept-notification" id="ref-for-concept-notification③⑨">notification</a> and <var>notification</var>, and then terminate these steps. </p>
    <li>
     <p>Otherwise, run the <a data-link-type="dfn" href="#display-steps" id="ref-for-display-steps">display steps</a> for <var>notification</var>. </p>
   </ol>
   <h3 class="heading settled" data-level="2.7" id="activating-a-notification"><span class="secno">2.7. </span><span class="content">Activating a notification</span><a class="self-link" href="#activating-a-notification"></a></h3>
   <p>When a <a data-link-type="dfn" href="#concept-notification" id="ref-for-concept-notification④⓪">notification</a> <var>notification</var>,
or one of its <a data-link-type="dfn" href="#actions" id="ref-for-actions①⓪">actions</a>, is activated by the user, assuming the underlying
notification platform supports activation, the user agent must (unless otherwise
specified) run these steps: </p>
   <ol>
    <li>
     <p>If <var>notification</var> is a <a data-link-type="dfn" href="#persistent-notification" id="ref-for-persistent-notification④">persistent notification</a>, run
  these substeps: </p>
     <ol>
      <li>
       <p>Let <var>action</var> be the empty string. </p>
      <li>
       <p>If one of <var>notification</var>’s <a data-link-type="dfn" href="#actions" id="ref-for-actions①①">actions</a> was activated by the
    user, then set <var>action</var> to that <a data-link-type="dfn" href="#actions" id="ref-for-actions①②">action</a>’s <a data-link-type="dfn" href="#action-name" id="ref-for-action-name①">name</a>. </p>
      <li>
       <p>Let <var>callback</var> be an algorithm that when invoked with a <var>global</var>, <a data-link-type="dfn" href="#fire-a-service-worker-notification-event-named-e" id="ref-for-fire-a-service-worker-notification-event-named-e"> fires a service worker notification event</a> named <code>notificationclick</code> given <var>notification</var> and <var>action</var> on <var>global</var>. </p>
      <li>
       <p>Then run <a data-link-type="dfn" href="https://w3c.github.io/ServiceWorker/#handle-functional-event-algorithm" id="ref-for-handle-functional-event-algorithm">Handle Functional Event</a> with <var>notification</var>’s <a data-link-type="dfn" href="#service-worker-registration" id="ref-for-service-worker-registration③">service worker registration</a> and <var>callback</var>. </p>
     </ol>
    <li>
     <p>Otherwise, <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-task" id="ref-for-queue-a-task">queue a task</a> to run these substeps: </p>
     <ol>
      <li>
       <p>Let <var>intoFocus</var> be the result of <a data-link-type="dfn" href="https://dom.spec.whatwg.org/#concept-event-fire" id="ref-for-concept-event-fire">firing an event</a> named <code>click</code> on the <code class="idl"><a data-link-type="idl" href="#notification" id="ref-for-notification①">Notification</a></code> object representing <var>notification</var>, with
      its <code class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#dom-event-cancelable" id="ref-for-dom-event-cancelable">cancelable</a></code> attribute initialized to true. </p>
       <p class="note" role="note">User agents are encouraged to make <code><a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/interaction.html#dom-window-focus" id="ref-for-dom-window-focus">window.focus()</a></code> work from within the event listener
      for the event named <code>click</code>. </p>
      <li>
       <p>If <var>intoFocus</var> is true, then the user agent should bring the <var>notification</var>’s related <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsers.html#browsing-context" id="ref-for-browsing-context">browsing context</a>’s viewport into focus. </p>
     </ol>
   </ol>
   <p class="note" role="note">Throughout the web platform "activate" is intentionally
misnamed as "click". </p>
   <h3 class="heading settled" data-level="2.8" id="closing-a-notification"><span class="secno">2.8. </span><span class="content">Closing a notification</span><a class="self-link" href="#closing-a-notification"></a></h3>
   <p>When a <a data-link-type="dfn" href="#concept-notification" id="ref-for-concept-notification④①">notification</a> is closed, either by the
underlying notification platform or by the user, the <a data-link-type="dfn" href="#close-steps" id="ref-for-close-steps①">close steps</a> for it
must be run. </p>
   <p>The <dfn data-dfn-type="dfn" data-noexport="" id="close-steps">close steps<a class="self-link" href="#close-steps"></a></dfn> for a given <var>notification</var> are: </p>
   <ol>
    <li>
     <p>If <var>notification</var> is not in the <a data-link-type="dfn" href="#list-of-notifications" id="ref-for-list-of-notifications②">list of notifications</a>,
  terminate these steps. </p>
    <li>
     <p>If <var>notification</var> is a <a data-link-type="dfn" href="#persistent-notification" id="ref-for-persistent-notification⑤">persistent notification</a> and <var>notification</var> was closed by the user, run these substeps: </p>
     <ol>
      <li>
       <p>Let <var>callback</var> be an algorithm that when invoked with a <var>global</var>, <a data-link-type="dfn" href="#fire-a-service-worker-notification-event-named-e" id="ref-for-fire-a-service-worker-notification-event-named-e①"> fires a service worker notification event</a> named <code>notificationclose</code> given <var>notification</var> on <var>global</var>. </p>
      <li>
       <p>Then run <a data-link-type="dfn" href="https://w3c.github.io/ServiceWorker/#handle-functional-event-algorithm" id="ref-for-handle-functional-event-algorithm①">Handle Functional Event</a> with <var>notification</var>’s <a data-link-type="dfn" href="#service-worker-registration" id="ref-for-service-worker-registration④">service worker registration</a> and <var>callback</var>. </p>
     </ol>
    <li>
     <p>Remove <var>notification</var> from the <a data-link-type="dfn" href="#list-of-notifications" id="ref-for-list-of-notifications③">list of notifications</a>. </p>
   </ol>
   <h3 class="heading settled" data-level="2.9" id="displaying-notification"><span class="secno">2.9. </span><span class="content">Displaying notifications</span><a class="self-link" href="#displaying-notification"></a></h3>
   <p>The <dfn data-dfn-type="dfn" data-noexport="" id="display-steps">display steps<a class="self-link" href="#display-steps"></a></dfn> for a given <var>notification</var> are: </p>
   <ol>
    <li>
     <p>Wait for any <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-fetch" id="ref-for-concept-fetch⑤">fetches</a> to complete and <var>notification</var>’s <a data-link-type="dfn" href="#image-resource" id="ref-for-image-resource⑤">image resource</a> <a data-link-type="dfn" href="#icon-resource" id="ref-for-icon-resource⑥">icon resource</a>, <a data-link-type="dfn" href="#badge-resource" id="ref-for-badge-resource⑤">badge resource</a>, and <a data-link-type="dfn" href="#sound-resource" id="ref-for-sound-resource③">sound resource</a> to be set
  (if any), as well as the <a data-link-type="dfn" href="#action-icon-resource" id="ref-for-action-icon-resource③">icon resources</a> for the <var>notification</var>’s <a data-link-type="dfn" href="#actions" id="ref-for-actions①③">actions</a> (if any). </p>
    <li>
     <p>Display <var>notification</var> on the device (e.g., by calling the
  appropriate notification platform API). </p>
    <li>
     <p>Run the <a data-link-type="dfn" href="#alert-steps" id="ref-for-alert-steps">alert steps</a> for <var>notification</var>. </p>
    <li>
     <p>Append <var>notification</var> to the <a data-link-type="dfn" href="#list-of-notifications" id="ref-for-list-of-notifications④">list of notifications</a>. </p>
   </ol>
   <h3 class="heading settled" data-level="2.10" id="replacing-a-notification"><span class="secno">2.10. </span><span class="content">Replacing a notification</span><a class="self-link" href="#replacing-a-notification"></a></h3>
   <p>The <dfn data-dfn-type="dfn" data-noexport="" id="replace-steps">replace steps<a class="self-link" href="#replace-steps"></a></dfn> for replacing an <var>old</var> <a data-link-type="dfn" href="#concept-notification" id="ref-for-concept-notification④②">notification</a> with a <var>new</var> one are: </p>
   <ol>
    <li>
     <p>Wait for any <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-fetch" id="ref-for-concept-fetch⑥">fetches</a> to complete and <var>notification</var>’s <a data-link-type="dfn" href="#image-resource" id="ref-for-image-resource⑥">image resource</a> <a data-link-type="dfn" href="#icon-resource" id="ref-for-icon-resource⑦">icon resource</a>, <a data-link-type="dfn" href="#badge-resource" id="ref-for-badge-resource⑥">badge resource</a>, and <a data-link-type="dfn" href="#sound-resource" id="ref-for-sound-resource④">sound resource</a> to be set
  (if any), as well as the <a data-link-type="dfn" href="#action-icon-resource" id="ref-for-action-icon-resource④">icon resources</a> for the <var>notification</var>’s <a data-link-type="dfn" href="#actions" id="ref-for-actions①④">actions</a> (if any). </p>
    <li>
     <p>Replace <var>old</var> with <var>new</var>, in the same position, in the <a data-link-type="dfn" href="#list-of-notifications" id="ref-for-list-of-notifications⑤">list of notifications</a>. </p>
    <li>
     <p>If <var>notification</var>’s <a data-link-type="dfn" href="#renotify-preference-flag" id="ref-for-renotify-preference-flag②">renotify preference flag</a> has been set,
  perform the <a data-link-type="dfn" href="#alert-steps" id="ref-for-alert-steps①">alert steps</a> for <var>new</var>. </p>
   </ol>
   <p>If the notification platform does not support replacement this requirement may be
addressed by running the <a data-link-type="dfn" href="#close-steps" id="ref-for-close-steps②">close steps</a> for <var>old</var> and then running the <a data-link-type="dfn" href="#display-steps" id="ref-for-display-steps①">display steps</a> for <var>new</var>. </p>
   <p class="note no-backref" role="note">Notification platforms are strongly encouraged to support
native replacement. It is much nicer and has no side effects, such as playing sounds
or vibrating the device again, unless the <a data-link-type="dfn" href="#renotify-preference-flag" id="ref-for-renotify-preference-flag③">renotify preference flag</a> is set. </p>
   <h3 class="heading settled" data-level="2.11" id="alerting-the-user"><span class="secno">2.11. </span><span class="content">Alerting the user</span><a class="self-link" href="#alerting-the-user"></a></h3>
   <p>The <dfn data-dfn-type="dfn" data-noexport="" id="alert-steps">alert steps<a class="self-link" href="#alert-steps"></a></dfn> for alerting the user about a given <var>notification</var> are: </p>
   <ol>
    <li>
     <p>Play the <var>notification</var>’s <a data-link-type="dfn" href="#sound-resource" id="ref-for-sound-resource⑤">sound resource</a>, if any. </p>
    <li>
     <p><a data-link-type="dfn" href="https://w3c.github.io/vibration/#dfn-perform-vibration" id="ref-for-dfn-perform-vibration">Perform vibration</a> using <var>notification</var>’s <a data-link-type="dfn" href="#vibration-pattern" id="ref-for-vibration-pattern③">vibration pattern</a>, if any. </p>
   </ol>
   <h2 class="heading settled" data-level="3" id="api"><span class="secno">3. </span><span class="content">API</span><a class="self-link" href="#api"></a></h2>
<pre class="idl highlight def">[<a class="nv idl-code" data-link-type="constructor" href="#dom-notification-notification" id="ref-for-dom-notification-notification">Constructor</a>(<a class="n idl-code" data-link-type="interface" href="https://heycam.github.io/webidl/#idl-DOMString" id="ref-for-idl-DOMString"><span class="kt">DOMString</span></a> <dfn class="nv idl-code" data-dfn-for="Notification/Notification(title, options)" data-dfn-type="argument" data-export="" id="dom-notification-notification-title-options-title"><code>title</code><a class="self-link" href="#dom-notification-notification-title-options-title"></a></dfn>, <span class="kt">optional</span> <a class="n" data-link-type="idl-name" href="#dictdef-notificationoptions" id="ref-for-dictdef-notificationoptions">NotificationOptions</a> <dfn class="nv idl-code" data-dfn-for="Notification/Notification(title, options)" data-dfn-type="argument" data-export="" id="dom-notification-notification-title-options-options"><code>options</code><a class="self-link" href="#dom-notification-notification-title-options-options"></a></dfn>),
 <a class="nv idl-code" data-link-type="extended-attribute" href="https://heycam.github.io/webidl/#Exposed" id="ref-for-Exposed">Exposed</a>=(<span class="n">Window</span>,<span class="n">Worker</span>)]
<span class="kt">interface</span> <dfn class="nv idl-code" data-dfn-type="interface" data-export="" id="notification"><code>Notification</code><a class="self-link" href="#notification"></a></dfn> : <a class="n" data-link-type="idl-name" href="https://dom.spec.whatwg.org/#eventtarget" id="ref-for-eventtarget">EventTarget</a> {
  <span class="kt">static</span> <span class="kt">readonly</span> <span class="kt">attribute</span> <a class="n" data-link-type="idl-name" href="#enumdef-notificationpermission" id="ref-for-enumdef-notificationpermission">NotificationPermission</a> <a class="nv idl-code" data-link-type="attribute" data-readonly="" data-type="NotificationPermission" href="#dom-notification-permission" id="ref-for-dom-notification-permission">permission</a>;
  [<a class="nv idl-code" data-link-type="extended-attribute" href="https://heycam.github.io/webidl/#Exposed" id="ref-for-Exposed①">Exposed</a>=<span class="n">Window</span>] <span class="kt">static</span> <span class="kt">Promise</span>&lt;<a class="n" data-link-type="idl-name" href="#enumdef-notificationpermission" id="ref-for-enumdef-notificationpermission①">NotificationPermission</a>> <a class="nv idl-code" data-link-type="method" href="#dom-notification-requestpermission" id="ref-for-dom-notification-requestpermission">requestPermission</a>(<span class="kt">optional</span> <a class="n" data-link-type="idl-name" href="#callbackdef-notificationpermissioncallback" id="ref-for-callbackdef-notificationpermissioncallback">NotificationPermissionCallback</a> <dfn class="nv idl-code" data-dfn-for="Notification/requestPermission(deprecatedCallback), Notification/requestPermission()" data-dfn-type="argument" data-export="" id="dom-notification-requestpermission-deprecatedcallback-deprecatedcallback"><code>deprecatedCallback</code><a class="self-link" href="#dom-notification-requestpermission-deprecatedcallback-deprecatedcallback"></a></dfn>);

  <span class="kt">static</span> <span class="kt">readonly</span> <span class="kt">attribute</span> <a class="n idl-code" data-link-type="interface" href="https://heycam.github.io/webidl/#idl-unsigned-long" id="ref-for-idl-unsigned-long"><span class="kt">unsigned</span> <span class="kt">long</span></a> <a class="nv idl-code" data-link-type="attribute" data-readonly="" data-type="unsigned long" href="#dom-notification-maxactions" id="ref-for-dom-notification-maxactions">maxActions</a>;

  <span class="kt">attribute</span> <a class="n" data-link-type="idl-name" href="https://html.spec.whatwg.org/multipage/webappapis.html#eventhandler" id="ref-for-eventhandler">EventHandler</a> <a class="nv idl-code" data-link-type="attribute" data-type="EventHandler" href="#dom-notification-onclick" id="ref-for-dom-notification-onclick">onclick</a>;
  <span class="kt">attribute</span> <a class="n" data-link-type="idl-name" href="https://html.spec.whatwg.org/multipage/webappapis.html#eventhandler" id="ref-for-eventhandler①">EventHandler</a> <a class="nv idl-code" data-link-type="attribute" data-type="EventHandler" href="#dom-notification-onerror" id="ref-for-dom-notification-onerror">onerror</a>;

  <span class="kt">readonly</span> <span class="kt">attribute</span> <a class="n idl-code" data-link-type="interface" href="https://heycam.github.io/webidl/#idl-DOMString" id="ref-for-idl-DOMString①"><span class="kt">DOMString</span></a> <a class="nv idl-code" data-link-type="attribute" data-readonly="" data-type="DOMString" href="#dom-notification-title" id="ref-for-dom-notification-title">title</a>;
  <span class="kt">readonly</span> <span class="kt">attribute</span> <a class="n" data-link-type="idl-name" href="#enumdef-notificationdirection" id="ref-for-enumdef-notificationdirection">NotificationDirection</a> <a class="nv idl-code" data-link-type="attribute" data-readonly="" data-type="NotificationDirection" href="#dom-notification-dir" id="ref-for-dom-notification-dir">dir</a>;
  <span class="kt">readonly</span> <span class="kt">attribute</span> <a class="n idl-code" data-link-type="interface" href="https://heycam.github.io/webidl/#idl-DOMString" id="ref-for-idl-DOMString②"><span class="kt">DOMString</span></a> <a class="nv idl-code" data-link-type="attribute" data-readonly="" data-type="DOMString" href="#dom-notification-lang" id="ref-for-dom-notification-lang">lang</a>;
  <span class="kt">readonly</span> <span class="kt">attribute</span> <a class="n idl-code" data-link-type="interface" href="https://heycam.github.io/webidl/#idl-DOMString" id="ref-for-idl-DOMString③"><span class="kt">DOMString</span></a> <a class="nv idl-code" data-link-type="attribute" data-readonly="" data-type="DOMString" href="#dom-notification-body" id="ref-for-dom-notification-body">body</a>;
  <span class="kt">readonly</span> <span class="kt">attribute</span> <a class="n idl-code" data-link-type="interface" href="https://heycam.github.io/webidl/#idl-DOMString" id="ref-for-idl-DOMString④"><span class="kt">DOMString</span></a> <a class="nv idl-code" data-link-type="attribute" data-readonly="" data-type="DOMString" href="#dom-notification-tag" id="ref-for-dom-notification-tag">tag</a>;
  <span class="kt">readonly</span> <span class="kt">attribute</span> <a class="n idl-code" data-link-type="interface" href="https://heycam.github.io/webidl/#idl-USVString" id="ref-for-idl-USVString"><span class="kt">USVString</span></a> <a class="nv idl-code" data-link-type="attribute" data-readonly="" data-type="USVString" href="#dom-notification-image" id="ref-for-dom-notification-image">image</a>;
  <span class="kt">readonly</span> <span class="kt">attribute</span> <a class="n idl-code" data-link-type="interface" href="https://heycam.github.io/webidl/#idl-USVString" id="ref-for-idl-USVString①"><span class="kt">USVString</span></a> <a class="nv idl-code" data-link-type="attribute" data-readonly="" data-type="USVString" href="#dom-notification-icon" id="ref-for-dom-notification-icon">icon</a>;
  <span class="kt">readonly</span> <span class="kt">attribute</span> <a class="n idl-code" data-link-type="interface" href="https://heycam.github.io/webidl/#idl-USVString" id="ref-for-idl-USVString②"><span class="kt">USVString</span></a> <a class="nv idl-code" data-link-type="attribute" data-readonly="" data-type="USVString" href="#dom-notification-badge" id="ref-for-dom-notification-badge">badge</a>;
  <span class="kt">readonly</span> <span class="kt">attribute</span> <a class="n idl-code" data-link-type="interface" href="https://heycam.github.io/webidl/#idl-USVString" id="ref-for-idl-USVString③"><span class="kt">USVString</span></a> <a class="nv idl-code" data-link-type="attribute" data-readonly="" data-type="USVString" href="#dom-notification-sound" id="ref-for-dom-notification-sound">sound</a>;
  [<a class="nv idl-code" data-link-type="extended-attribute" href="https://heycam.github.io/webidl/#SameObject" id="ref-for-SameObject">SameObject</a>] <span class="kt">readonly</span> <span class="kt">attribute</span> <span class="kt">FrozenArray</span>&lt;<a class="n idl-code" data-link-type="interface" href="https://heycam.github.io/webidl/#idl-unsigned-long" id="ref-for-idl-unsigned-long①"><span class="kt">unsigned</span> <span class="kt">long</span></a>> <a class="nv idl-code" data-link-type="attribute" data-readonly="" data-type="FrozenArray<unsigned long>" href="#dom-notification-vibrate" id="ref-for-dom-notification-vibrate">vibrate</a>;
  <span class="kt">readonly</span> <span class="kt">attribute</span> <a class="n" data-link-type="idl-name" href="https://heycam.github.io/webidl/#DOMTimeStamp" id="ref-for-DOMTimeStamp①">DOMTimeStamp</a> <a class="nv idl-code" data-link-type="attribute" data-readonly="" data-type="DOMTimeStamp" href="#dom-notification-timestamp" id="ref-for-dom-notification-timestamp">timestamp</a>;
  <span class="kt">readonly</span> <span class="kt">attribute</span> <a class="n idl-code" data-link-type="interface" href="https://heycam.github.io/webidl/#idl-boolean" id="ref-for-idl-boolean"><span class="kt">boolean</span></a> <a class="nv idl-code" data-link-type="attribute" data-readonly="" data-type="boolean" href="#dom-notification-renotify" id="ref-for-dom-notification-renotify">renotify</a>;
  <span class="kt">readonly</span> <span class="kt">attribute</span> <a class="n idl-code" data-link-type="interface" href="https://heycam.github.io/webidl/#idl-boolean" id="ref-for-idl-boolean①"><span class="kt">boolean</span></a> <a class="nv idl-code" data-link-type="attribute" data-readonly="" data-type="boolean" href="#dom-notification-silent" id="ref-for-dom-notification-silent">silent</a>;
  <span class="kt">readonly</span> <span class="kt">attribute</span> <a class="n idl-code" data-link-type="interface" href="https://heycam.github.io/webidl/#idl-boolean" id="ref-for-idl-boolean②"><span class="kt">boolean</span></a> <a class="nv idl-code" data-link-type="attribute" data-readonly="" data-type="boolean" href="#dom-notification-requireinteraction" id="ref-for-dom-notification-requireinteraction">requireInteraction</a>;
  [<a class="nv idl-code" data-link-type="extended-attribute" href="https://heycam.github.io/webidl/#SameObject" id="ref-for-SameObject①">SameObject</a>] <span class="kt">readonly</span> <span class="kt">attribute</span> <span class="kt">any</span> <a class="nv idl-code" data-link-type="attribute" data-readonly="" data-type="any" href="#dom-notification-data" id="ref-for-dom-notification-data">data</a>;
  [<a class="nv idl-code" data-link-type="extended-attribute" href="https://heycam.github.io/webidl/#SameObject" id="ref-for-SameObject②">SameObject</a>] <span class="kt">readonly</span> <span class="kt">attribute</span> <span class="kt">FrozenArray</span>&lt;<a class="n" data-link-type="idl-name" href="#dictdef-notificationaction" id="ref-for-dictdef-notificationaction">NotificationAction</a>> <a class="nv idl-code" data-link-type="attribute" data-readonly="" data-type="FrozenArray<NotificationAction>" href="#dom-notification-actions" id="ref-for-dom-notification-actions">actions</a>;

  <span class="kt">void</span> <a class="nv idl-code" data-link-type="method" href="#dom-notification-close" id="ref-for-dom-notification-close①">close</a>();
};

<span class="kt">dictionary</span> <dfn class="nv idl-code" data-dfn-type="dictionary" data-export="" id="dictdef-notificationoptions"><code>NotificationOptions</code><a class="self-link" href="#dictdef-notificationoptions"></a></dfn> {
  <a class="n" data-link-type="idl-name" href="#enumdef-notificationdirection" id="ref-for-enumdef-notificationdirection①">NotificationDirection</a> <dfn class="nv idl-code" data-default="&quot;auto&quot;" data-dfn-for="NotificationOptions" data-dfn-type="dict-member" data-export="" data-type="NotificationDirection " id="dom-notificationoptions-dir"><code>dir</code><a class="self-link" href="#dom-notificationoptions-dir"></a></dfn> = "auto";
  <a class="n idl-code" data-link-type="interface" href="https://heycam.github.io/webidl/#idl-DOMString" id="ref-for-idl-DOMString⑤"><span class="kt">DOMString</span></a> <dfn class="nv idl-code" data-default="&quot;&quot;" data-dfn-for="NotificationOptions" data-dfn-type="dict-member" data-export="" data-type="DOMString " id="dom-notificationoptions-lang"><code>lang</code><a class="self-link" href="#dom-notificationoptions-lang"></a></dfn> = "";
  <a class="n idl-code" data-link-type="interface" href="https://heycam.github.io/webidl/#idl-DOMString" id="ref-for-idl-DOMString⑥"><span class="kt">DOMString</span></a> <dfn class="nv idl-code" data-default="&quot;&quot;" data-dfn-for="NotificationOptions" data-dfn-type="dict-member" data-export="" data-type="DOMString " id="dom-notificationoptions-body"><code>body</code><a class="self-link" href="#dom-notificationoptions-body"></a></dfn> = "";
  <a class="n idl-code" data-link-type="interface" href="https://heycam.github.io/webidl/#idl-DOMString" id="ref-for-idl-DOMString⑦"><span class="kt">DOMString</span></a> <dfn class="nv idl-code" data-default="&quot;&quot;" data-dfn-for="NotificationOptions" data-dfn-type="dict-member" data-export="" data-type="DOMString " id="dom-notificationoptions-tag"><code>tag</code><a class="self-link" href="#dom-notificationoptions-tag"></a></dfn> = "";
  <a class="n idl-code" data-link-type="interface" href="https://heycam.github.io/webidl/#idl-USVString" id="ref-for-idl-USVString④"><span class="kt">USVString</span></a> <dfn class="nv idl-code" data-dfn-for="NotificationOptions" data-dfn-type="dict-member" data-export="" data-type="USVString " id="dom-notificationoptions-image"><code>image</code><a class="self-link" href="#dom-notificationoptions-image"></a></dfn>;
  <a class="n idl-code" data-link-type="interface" href="https://heycam.github.io/webidl/#idl-USVString" id="ref-for-idl-USVString⑤"><span class="kt">USVString</span></a> <dfn class="nv idl-code" data-dfn-for="NotificationOptions" data-dfn-type="dict-member" data-export="" data-type="USVString " id="dom-notificationoptions-icon"><code>icon</code><a class="self-link" href="#dom-notificationoptions-icon"></a></dfn>;
  <a class="n idl-code" data-link-type="interface" href="https://heycam.github.io/webidl/#idl-USVString" id="ref-for-idl-USVString⑥"><span class="kt">USVString</span></a> <dfn class="nv idl-code" data-dfn-for="NotificationOptions" data-dfn-type="dict-member" data-export="" data-type="USVString " id="dom-notificationoptions-badge"><code>badge</code><a class="self-link" href="#dom-notificationoptions-badge"></a></dfn>;
  <a class="n idl-code" data-link-type="interface" href="https://heycam.github.io/webidl/#idl-USVString" id="ref-for-idl-USVString⑦"><span class="kt">USVString</span></a> <dfn class="nv idl-code" data-dfn-for="NotificationOptions" data-dfn-type="dict-member" data-export="" data-type="USVString " id="dom-notificationoptions-sound"><code>sound</code><a class="self-link" href="#dom-notificationoptions-sound"></a></dfn>;
  <a class="n" data-link-type="idl-name" href="https://w3c.github.io/vibration/#idl-def-vibratepattern" id="ref-for-idl-def-vibratepattern">VibratePattern</a> <dfn class="nv idl-code" data-dfn-for="NotificationOptions" data-dfn-type="dict-member" data-export="" data-type="VibratePattern " id="dom-notificationoptions-vibrate"><code>vibrate</code><a class="self-link" href="#dom-notificationoptions-vibrate"></a></dfn>;
  <a class="n" data-link-type="idl-name" href="https://heycam.github.io/webidl/#DOMTimeStamp" id="ref-for-DOMTimeStamp②">DOMTimeStamp</a> <dfn class="nv idl-code" data-dfn-for="NotificationOptions" data-dfn-type="dict-member" data-export="" data-type="DOMTimeStamp " id="dom-notificationoptions-timestamp"><code>timestamp</code><a class="self-link" href="#dom-notificationoptions-timestamp"></a></dfn>;
  <a class="n idl-code" data-link-type="interface" href="https://heycam.github.io/webidl/#idl-boolean" id="ref-for-idl-boolean③"><span class="kt">boolean</span></a> <dfn class="nv idl-code" data-default="false" data-dfn-for="NotificationOptions" data-dfn-type="dict-member" data-export="" data-type="boolean " id="dom-notificationoptions-renotify"><code>renotify</code><a class="self-link" href="#dom-notificationoptions-renotify"></a></dfn> = <span class="kt">false</span>;
  <a class="n idl-code" data-link-type="interface" href="https://heycam.github.io/webidl/#idl-boolean" id="ref-for-idl-boolean④"><span class="kt">boolean</span></a> <dfn class="nv idl-code" data-default="false" data-dfn-for="NotificationOptions" data-dfn-type="dict-member" data-export="" data-type="boolean " id="dom-notificationoptions-silent"><code>silent</code><a class="self-link" href="#dom-notificationoptions-silent"></a></dfn> = <span class="kt">false</span>;
  <a class="n idl-code" data-link-type="interface" href="https://heycam.github.io/webidl/#idl-boolean" id="ref-for-idl-boolean⑤"><span class="kt">boolean</span></a> <dfn class="nv idl-code" data-default="false" data-dfn-for="NotificationOptions" data-dfn-type="dict-member" data-export="" data-type="boolean " id="dom-notificationoptions-requireinteraction"><code>requireInteraction</code><a class="self-link" href="#dom-notificationoptions-requireinteraction"></a></dfn> = <span class="kt">false</span>;
  <span class="kt">any</span> <dfn class="nv idl-code" data-default="null" data-dfn-for="NotificationOptions" data-dfn-type="dict-member" data-export="" data-type="any " id="dom-notificationoptions-data"><code>data</code><a class="self-link" href="#dom-notificationoptions-data"></a></dfn> = <span class="kt">null</span>;
  <span class="kt">sequence</span>&lt;<a class="n" data-link-type="idl-name" href="#dictdef-notificationaction" id="ref-for-dictdef-notificationaction①">NotificationAction</a>> <dfn class="nv idl-code" data-default="None" data-dfn-for="NotificationOptions" data-dfn-type="dict-member" data-export="" data-type="sequence<NotificationAction> " id="dom-notificationoptions-actions"><code>actions</code><a class="self-link" href="#dom-notificationoptions-actions"></a></dfn> = [];
};

<span class="kt">enum</span> <dfn class="nv idl-code" data-dfn-type="enum" data-export="" id="enumdef-notificationpermission"><code>NotificationPermission</code><a class="self-link" href="#enumdef-notificationpermission"></a></dfn> {
  <dfn class="s idl-code" data-dfn-for="NotificationPermission" data-dfn-type="enum-value" data-export="" data-lt="&quot;default&quot;|default" id="dom-notificationpermission-default"><code>"default"</code><a class="self-link" href="#dom-notificationpermission-default"></a></dfn>,
  <dfn class="s idl-code" data-dfn-for="NotificationPermission" data-dfn-type="enum-value" data-export="" data-lt="&quot;denied&quot;|denied" id="dom-notificationpermission-denied"><code>"denied"</code><a class="self-link" href="#dom-notificationpermission-denied"></a></dfn>,
  <dfn class="s idl-code" data-dfn-for="NotificationPermission" data-dfn-type="enum-value" data-export="" data-lt="&quot;granted&quot;|granted" id="dom-notificationpermission-granted"><code>"granted"</code><a class="self-link" href="#dom-notificationpermission-granted"></a></dfn>
};

<span class="kt">enum</span> <dfn class="nv idl-code" data-dfn-type="enum" data-export="" id="enumdef-notificationdirection"><code>NotificationDirection</code><a class="self-link" href="#enumdef-notificationdirection"></a></dfn> {
  <dfn class="s idl-code" data-dfn-for="NotificationDirection" data-dfn-type="enum-value" data-export="" data-lt="&quot;auto&quot;|auto" id="dom-notificationdirection-auto"><code>"auto"</code><a class="self-link" href="#dom-notificationdirection-auto"></a></dfn>,
  <dfn class="s idl-code" data-dfn-for="NotificationDirection" data-dfn-type="enum-value" data-export="" data-lt="&quot;ltr&quot;|ltr" id="dom-notificationdirection-ltr"><code>"ltr"</code><a class="self-link" href="#dom-notificationdirection-ltr"></a></dfn>,
  <dfn class="s idl-code" data-dfn-for="NotificationDirection" data-dfn-type="enum-value" data-export="" data-lt="&quot;rtl&quot;|rtl" id="dom-notificationdirection-rtl"><code>"rtl"</code><a class="self-link" href="#dom-notificationdirection-rtl"></a></dfn>
};

<span class="kt">dictionary</span> <dfn class="nv idl-code" data-dfn-type="dictionary" data-export="" id="dictdef-notificationaction"><code>NotificationAction</code><a class="self-link" href="#dictdef-notificationaction"></a></dfn> {
  <span class="kt">required</span> <a class="n idl-code" data-link-type="interface" href="https://heycam.github.io/webidl/#idl-DOMString" id="ref-for-idl-DOMString⑧"><span class="kt">DOMString</span></a> <dfn class="nv idl-code" data-dfn-for="NotificationAction" data-dfn-type="dict-member" data-export="" data-type="DOMString " id="dom-notificationaction-action"><code>action</code><a class="self-link" href="#dom-notificationaction-action"></a></dfn>;
  <span class="kt">required</span> <a class="n idl-code" data-link-type="interface" href="https://heycam.github.io/webidl/#idl-DOMString" id="ref-for-idl-DOMString⑨"><span class="kt">DOMString</span></a> <dfn class="nv idl-code" data-dfn-for="NotificationAction" data-dfn-type="dict-member" data-export="" data-type="DOMString " id="dom-notificationaction-title"><code>title</code><a class="self-link" href="#dom-notificationaction-title"></a></dfn>;
  <a class="n idl-code" data-link-type="interface" href="https://heycam.github.io/webidl/#idl-USVString" id="ref-for-idl-USVString⑧"><span class="kt">USVString</span></a> <dfn class="nv idl-code" data-dfn-for="NotificationAction" data-dfn-type="dict-member" data-export="" data-type="USVString " id="dom-notificationaction-icon"><code>icon</code><a class="self-link" href="#dom-notificationaction-icon"></a></dfn>;
};

<span class="kt">callback</span> <dfn class="nv idl-code" data-dfn-type="callback" data-export="" id="callbackdef-notificationpermissioncallback"><code>NotificationPermissionCallback</code><a class="self-link" href="#callbackdef-notificationpermissioncallback"></a></dfn> = <span class="kt">void</span> (<a class="n" data-link-type="idl-name" href="#enumdef-notificationpermission" id="ref-for-enumdef-notificationpermission②">NotificationPermission</a> <dfn class="nv idl-code" data-dfn-for="NotificationPermissionCallback" data-dfn-type="argument" data-export="" id="dom-notificationpermissioncallback-permission"><code>permission</code><a class="self-link" href="#dom-notificationpermissioncallback-permission"></a></dfn>);
</pre>
   <p>A <a data-link-type="dfn" href="#non-persistent-notification" id="ref-for-non-persistent-notification②">non-persistent notification</a> is represented by one <code class="idl"><a data-link-type="idl" href="#notification" id="ref-for-notification②">Notification</a></code> object and can be created through <code class="idl"><a data-link-type="idl" href="#notification" id="ref-for-notification③">Notification</a></code>'s <a class="idl-code" data-link-type="constructor" href="#dom-notification-notification" id="ref-for-dom-notification-notification①">constructor</a>. </p>
   <p>A <a data-link-type="dfn" href="#persistent-notification" id="ref-for-persistent-notification⑥">persistent notification</a> is represented by zero or more <code class="idl"><a data-link-type="idl" href="#notification" id="ref-for-notification④">Notification</a></code> objects and can be created through the <code class="idl"><a data-link-type="idl" href="#dom-serviceworkerregistration-shownotification" id="ref-for-dom-serviceworkerregistration-shownotification">showNotification()</a></code> method. </p>
   <h3 class="heading settled" data-level="3.1" id="garbage-collection"><span class="secno">3.1. </span><span class="content">Garbage collection</span><a class="self-link" href="#garbage-collection"></a></h3>
   <p>A <code class="idl"><a data-link-type="idl" href="#notification" id="ref-for-notification⑤">Notification</a></code> object must not be garbage collected while its
corresponding <a data-link-type="dfn" href="#concept-notification" id="ref-for-concept-notification④③">notification</a> is in the <a data-link-type="dfn" href="#list-of-notifications" id="ref-for-list-of-notifications⑥">list of notifications</a> and the <code class="idl"><a data-link-type="idl" href="#notification" id="ref-for-notification⑥">Notification</a></code> object in question has an <a data-link-type="dfn" href="https://dom.spec.whatwg.org/#concept-event-listener" id="ref-for-concept-event-listener">event listener</a> whose <b>type</b> is <code>click</code> or <code>error</code>. </p>
   <h3 class="heading settled" data-level="3.2" id="constructors"><span class="secno">3.2. </span><span class="content">Constructors</span><a class="self-link" href="#constructors"></a></h3>
   <p>The <dfn class="idl-code" data-dfn-for="Notification" data-dfn-type="constructor" data-export="" id="dom-notification-notification"><code>Notification(title, options)</code><a class="self-link" href="#dom-notification-notification"></a></dfn> constructor, when invoked, must run these steps: </p>
   <ol>
    <li>
     <p>If the <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#current-global-object" id="ref-for-current-global-object">current global object</a> is a <code class="idl"><a data-link-type="idl" href="https://w3c.github.io/ServiceWorker/#serviceworkerglobalscope" id="ref-for-serviceworkerglobalscope">ServiceWorkerGlobalScope</a></code> object, then <a data-link-type="dfn" href="https://heycam.github.io/webidl/#dfn-throw" id="ref-for-dfn-throw③">throw</a> a <code>TypeError</code> exception. </p>
    <li>
     <p>Let <var>notification</var> be the result of <a data-link-type="dfn" href="#create-a-notification" id="ref-for-create-a-notification">creating a notification</a> given <var>title</var> and <var>options</var>. Rethrow any exceptions. </p>
    <li>
     <p>Let <var>n</var> be a new <code class="idl"><a data-link-type="idl" href="#notification" id="ref-for-notification⑦">Notification</a></code> object associated with <var>notification</var>. </p>
    <li>
     <p>Run these substeps <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/infrastructure.html#in-parallel" id="ref-for-in-parallel⑤">in parallel</a>: </p>
     <ol>
      <li>
       <p>If <a data-link-type="dfn" href="#permission" id="ref-for-permission②">permission</a> for <var>notification</var>’s <a data-link-type="dfn" href="#concept-origin" id="ref-for-concept-origin④">origin</a> is not
    "<code>granted</code>", then <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-task" id="ref-for-queue-a-task①">queue a task</a> to <a data-link-type="dfn" href="https://dom.spec.whatwg.org/#concept-event-fire" id="ref-for-concept-event-fire①">fire an event</a> named <code>error</code> on <var>n</var>, and terminate these substeps. </p>
      <li>
       <p>Run the <a data-link-type="dfn" href="#fetch-steps" id="ref-for-fetch-steps">fetch steps</a> for <var>notification</var>. </p>
      <li>
       <p>Run the <a data-link-type="dfn" href="#show-steps" id="ref-for-show-steps">show steps</a> for <var>notification</var>. </p>
     </ol>
    <li>
     <p>Return <var>n</var>. </p>
   </ol>
   <h3 class="heading settled" data-level="3.3" id="static-members"><span class="secno">3.3. </span><span class="content">Static members</span><a class="self-link" href="#static-members"></a></h3>
   <p>The static <dfn class="idl-code" data-dfn-for="Notification" data-dfn-type="attribute" data-export="" id="dom-notification-permission"><code>permission</code><a class="self-link" href="#dom-notification-permission"></a></dfn> attribute’s getter must return <a data-link-type="dfn" href="#permission" id="ref-for-permission③">permission</a> for the <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#entry-settings-object" id="ref-for-entry-settings-object②">entry settings object</a>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-settings-object-origin" id="ref-for-concept-settings-object-origin①">origin</a>. </p>
   <p class="note" role="note">If you edit standards please refrain from copying the above. Synchronous
permissions are like synchronous IO, a bad idea. </p>
   <p>The static <dfn class="idl-code" data-dfn-for="Notification" data-dfn-type="method" data-export="" data-lt="requestPermission(deprecatedCallback)|requestPermission()" id="dom-notification-requestpermission"><code>requestPermission(<var>deprecatedCallback</var>)</code><a class="self-link" href="#dom-notification-requestpermission"></a></dfn> method, when invoked, must run these steps: </p>
   <ol>
    <li>
     <p>Let <var>promise</var> be a new promise. </p>
    <li>
     <p>Run these substeps <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/infrastructure.html#in-parallel" id="ref-for-in-parallel⑥">in parallel</a>: </p>
     <ol>
      <li>
       <p>Let <var>permission</var> be <a data-link-type="dfn" href="#permission" id="ref-for-permission④">permission</a> for <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#entry-settings-object" id="ref-for-entry-settings-object③">entry settings object</a>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-settings-object-origin" id="ref-for-concept-settings-object-origin②">origin</a>. </p>
      <li>
       <p>If <var>permission</var> is "<code>default</code>", ask the user whether showing
   notifications for the <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#entry-settings-object" id="ref-for-entry-settings-object④">entry settings object</a>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-settings-object-origin" id="ref-for-concept-settings-object-origin③">origin</a> is acceptable. If it is, set <var>permission</var> to "<code>granted</code>", and "<code>denied</code>" otherwise. </p>
      <li>
       <p><a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-task" id="ref-for-queue-a-task②">Queue a task</a> to run these subsubsteps: </p>
       <ol>
        <li>
         <p>Set <a data-link-type="dfn" href="#permission" id="ref-for-permission⑤">permission</a> for the <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#entry-settings-object" id="ref-for-entry-settings-object⑤">entry settings object</a>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-settings-object-origin" id="ref-for-concept-settings-object-origin④">origin</a> to <var>permission</var>. </p>
        <li>
         <p>If <var>deprecatedCallback</var> is given, invoke <var>deprecatedCallback</var> with <var>permission</var> as single argument. If this
     throws an exception, <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#report-the-exception" id="ref-for-report-the-exception">report the exception</a>. </p>
        <li>
         <p>Fullfil <var>promise</var> with <var>permission</var>. </p>
       </ol>
     </ol>
    <li>
     <p>Return <var>promise</var>. </p>
   </ol>
   <p class="warning">Notifications are the one instance thus far where asking the
user upfront makes sense. Specifications for other APIs should not use this
pattern and instead employ one of the <a href="http://robert.ocallahan.org/2011/06/permissions-for-web-applications_30.html"> many more suitable alternatives</a>. </p>
   <p>The static <dfn class="idl-code" data-dfn-for="Notification" data-dfn-type="attribute" data-export="" id="dom-notification-maxactions"><code>maxActions</code><a class="self-link" href="#dom-notification-maxactions"></a></dfn> attribute’s getter must return the <a data-link-type="dfn" href="#maximum-number-of-actions" id="ref-for-maximum-number-of-actions①">maximum number of actions</a> supported. </p>
   <h3 class="heading settled" data-level="3.4" id="object-members"><span class="secno">3.4. </span><span class="content">Object members</span><a class="self-link" href="#object-members"></a></h3>
   <p>The following are the <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#event-handlers" id="ref-for-event-handlers">event handlers</a> (and their corresponding <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#event-handler-event-type" id="ref-for-event-handler-event-type">event handler event types</a>) that must be supported as attributes by the <code class="idl"><a data-link-type="idl" href="#notification" id="ref-for-notification⑧">Notification</a></code> object. </p>
   <table>
    <thead>
     <tr>
      <th><a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#event-handlers" id="ref-for-event-handlers①">event handler</a> 
      <th><a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#event-handler-event-type" id="ref-for-event-handler-event-type①">event handler event type</a> 
    <tbody>
     <tr>
      <td><dfn class="idl-code" data-dfn-for="Notification" data-dfn-type="attribute" data-export="" id="dom-notification-onclick"><code>onclick</code><a class="self-link" href="#dom-notification-onclick"></a></dfn> 
      <td><code>click</code> 
     <tr>
      <td><dfn class="idl-code" data-dfn-for="Notification" data-dfn-type="attribute" data-export="" id="dom-notification-onerror"><code>onerror</code><a class="self-link" href="#dom-notification-onerror"></a></dfn> 
      <td><code>error</code> 
   </table>
   <p>The <dfn class="idl-code" data-dfn-for="Notification" data-dfn-type="method" data-export="" id="dom-notification-close"><code>close()</code><a class="self-link" href="#dom-notification-close"></a></dfn> method, when
invoked, must run the <a data-link-type="dfn" href="#close-steps" id="ref-for-close-steps③">close steps</a> for the <a data-link-type="dfn" href="#concept-notification" id="ref-for-concept-notification④④">notification</a>. </p>
   <p>The <dfn class="idl-code" data-dfn-for="Notification" data-dfn-type="attribute" data-export="" id="dom-notification-title"><code>title</code><a class="self-link" href="#dom-notification-title"></a></dfn> attribute’s getter must return the <a data-link-type="dfn" href="#concept-notification" id="ref-for-concept-notification④⑤">notification</a>’s <a data-link-type="dfn" href="#concept-title" id="ref-for-concept-title⑤">title</a>. </p>
   <p>The <dfn class="idl-code" data-dfn-for="Notification" data-dfn-type="attribute" data-export="" id="dom-notification-dir"><code>dir</code><a class="self-link" href="#dom-notification-dir"></a></dfn> attribute’s getter must return the <a data-link-type="dfn" href="#concept-notification" id="ref-for-concept-notification④⑥">notification</a>’s <a data-link-type="dfn" href="#concept-direction" id="ref-for-concept-direction③">direction</a>. </p>
   <p>The <dfn class="idl-code" data-dfn-for="Notification" data-dfn-type="attribute" data-export="" id="dom-notification-lang"><code>lang</code><a class="self-link" href="#dom-notification-lang"></a></dfn> attribute’s getter must return the <a data-link-type="dfn" href="#concept-notification" id="ref-for-concept-notification④⑦">notification</a>’s <a data-link-type="dfn" href="#concept-language" id="ref-for-concept-language②">language</a>. </p>
   <p>The <dfn class="idl-code" data-dfn-for="Notification" data-dfn-type="attribute" data-export="" id="dom-notification-body"><code>body</code><a class="self-link" href="#dom-notification-body"></a></dfn> attribute’s getter must return the <a data-link-type="dfn" href="#concept-notification" id="ref-for-concept-notification④⑧">notification</a>’s <a data-link-type="dfn" href="#body" id="ref-for-body④">body</a>. </p>
   <p>The <dfn class="idl-code" data-dfn-for="Notification" data-dfn-type="attribute" data-export="" id="dom-notification-tag"><code>tag</code><a class="self-link" href="#dom-notification-tag"></a></dfn> attribute’s getter must return the <a data-link-type="dfn" href="#concept-notification" id="ref-for-concept-notification④⑨">notification</a>’s <a data-link-type="dfn" href="#tag" id="ref-for-tag③">tag</a>. </p>
   <p>The <dfn class="idl-code" data-dfn-for="Notification" data-dfn-type="attribute" data-export="" id="dom-notification-image"><code>image</code><a class="self-link" href="#dom-notification-image"></a></dfn> attribute’s getter must return
the <a data-link-type="dfn" href="#concept-notification" id="ref-for-concept-notification⑤⓪">notification</a>’s <a data-link-type="dfn" href="#image-url" id="ref-for-image-url④">image URL</a>, <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url-serializer" id="ref-for-concept-url-serializer">serialized</a>,
and the empty string if there is no <a data-link-type="dfn" href="#concept-notification" id="ref-for-concept-notification⑤①">notification</a>’s <a data-link-type="dfn" href="#image-url" id="ref-for-image-url⑤">image URL</a> otherwise. </p>
   <p>The <dfn class="idl-code" data-dfn-for="Notification" data-dfn-type="attribute" data-export="" id="dom-notification-icon"><code>icon</code><a class="self-link" href="#dom-notification-icon"></a></dfn> attribute’s getter must return the <a data-link-type="dfn" href="#concept-notification" id="ref-for-concept-notification⑤②">notification</a>’s <a data-link-type="dfn" href="#icon-url" id="ref-for-icon-url④">icon URL</a>, <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url-serializer" id="ref-for-concept-url-serializer①">serialized</a>, and
the empty string if there is no <a data-link-type="dfn" href="#concept-notification" id="ref-for-concept-notification⑤③">notification</a>’s <a data-link-type="dfn" href="#icon-url" id="ref-for-icon-url⑤">icon URL</a> otherwise. </p>
   <p>The <dfn class="idl-code" data-dfn-for="Notification" data-dfn-type="attribute" data-export="" id="dom-notification-badge"><code>badge</code><a class="self-link" href="#dom-notification-badge"></a></dfn> attribute’s getter must return the <a data-link-type="dfn" href="#concept-notification" id="ref-for-concept-notification⑤④">notification</a>’s <a data-link-type="dfn" href="#badge-url" id="ref-for-badge-url④">badge URL</a>, <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url-serializer" id="ref-for-concept-url-serializer②">serialized</a>, and
the empty string if there is no <a data-link-type="dfn" href="#concept-notification" id="ref-for-concept-notification⑤⑤">notification</a>’s <a data-link-type="dfn" href="#badge-url" id="ref-for-badge-url⑤">badge URL</a> otherwise. </p>
   <p>The <dfn class="idl-code" data-dfn-for="Notification" data-dfn-type="attribute" data-export="" id="dom-notification-sound"><code>sound</code><a class="self-link" href="#dom-notification-sound"></a></dfn> attribute’s getter must return the <a data-link-type="dfn" href="#concept-notification" id="ref-for-concept-notification⑤⑥">notification</a>’s <a data-link-type="dfn" href="#sound-url" id="ref-for-sound-url③">sound URL</a>, <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url-serializer" id="ref-for-concept-url-serializer③">serialized</a>, and
the empty string if there is no <a data-link-type="dfn" href="#concept-notification" id="ref-for-concept-notification⑤⑦">notification</a>’s <a data-link-type="dfn" href="#sound-url" id="ref-for-sound-url④">sound URL</a> otherwise. </p>
   <p>The <dfn class="idl-code" data-dfn-for="Notification" data-dfn-type="attribute" data-export="" id="dom-notification-vibrate"><code>vibrate</code><a class="self-link" href="#dom-notification-vibrate"></a></dfn> attribute’s getter must return the <a data-link-type="dfn" href="#concept-notification" id="ref-for-concept-notification⑤⑧">notification</a>’s <a data-link-type="dfn" href="#vibration-pattern" id="ref-for-vibration-pattern④">vibration pattern</a>, if any, and the empty list
otherwise. </p>
   <p>The <dfn class="idl-code" data-dfn-for="Notification" data-dfn-type="attribute" data-export="" id="dom-notification-timestamp"><code>timestamp</code><a class="self-link" href="#dom-notification-timestamp"></a></dfn> attribute’s getter must return
the <a data-link-type="dfn" href="#concept-notification" id="ref-for-concept-notification⑤⑨">notification</a>’s <a data-link-type="dfn" href="#timestamp" id="ref-for-timestamp②">timestamp</a>. </p>
   <p>The <dfn class="idl-code" data-dfn-for="Notification" data-dfn-type="attribute" data-export="" id="dom-notification-renotify"><code>renotify</code><a class="self-link" href="#dom-notification-renotify"></a></dfn> attribute’s getter must return
the <a data-link-type="dfn" href="#concept-notification" id="ref-for-concept-notification⑥⓪">notification</a>’s <a data-link-type="dfn" href="#renotify-preference-flag" id="ref-for-renotify-preference-flag④">renotify preference flag</a>. </p>
   <p>The <dfn class="idl-code" data-dfn-for="Notification" data-dfn-type="attribute" data-export="" id="dom-notification-silent"><code>silent</code><a class="self-link" href="#dom-notification-silent"></a></dfn> attribute’s getter must return the <a data-link-type="dfn" href="#concept-notification" id="ref-for-concept-notification⑥①">notification</a>’s <a data-link-type="dfn" href="#silent-preference-flag" id="ref-for-silent-preference-flag①">silent preference flag</a>. </p>
   <p>The <dfn class="idl-code" data-dfn-for="Notification" data-dfn-type="attribute" data-export="" id="dom-notification-requireinteraction"><code>requireInteraction</code><a class="self-link" href="#dom-notification-requireinteraction"></a></dfn> attribute’s getter must
return the <a data-link-type="dfn" href="#concept-notification" id="ref-for-concept-notification⑥②">notification</a>’s <a data-link-type="dfn" href="#require-interaction-preference-flag" id="ref-for-require-interaction-preference-flag①">require interaction preference flag</a>. </p>
   <p>The <dfn class="idl-code" data-dfn-for="Notification" data-dfn-type="attribute" data-export="" id="dom-notification-data"><code>data</code><a class="self-link" href="#dom-notification-data"></a></dfn> attribute’s getter must return <a data-link-type="abstract-op" href="https://html.spec.whatwg.org/multipage/structured-data.html#structureddeserialize" id="ref-for-structureddeserialize">StructuredDeserialize</a>(<a data-link-type="dfn" href="#concept-notification" id="ref-for-concept-notification⑥③">notification</a>’s <a data-link-type="dfn" href="#data" id="ref-for-data①">data</a>, <a data-link-type="dfn" href="https://dom.spec.whatwg.org/#context-object" id="ref-for-context-object">context object</a>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-realm" id="ref-for-concept-relevant-realm">relevant Realm</a>). If this throws an exception, then return null. </p>
   <p>The <dfn class="idl-code" data-dfn-for="Notification" data-dfn-type="attribute" data-export="" id="dom-notification-actions"><code>actions</code><a class="self-link" href="#dom-notification-actions"></a></dfn> attribute’s getter must return the
result of the following steps: </p>
   <ol>
    <li>
     <p>Let <var>frozenActions</var> be an empty list of type <code class="idl"><a data-link-type="idl" href="#dictdef-notificationaction" id="ref-for-dictdef-notificationaction②">NotificationAction</a></code>. </p>
    <li>
     <p>For each <var>entry</var> in the <a data-link-type="dfn" href="#concept-notification" id="ref-for-concept-notification⑥④">notification</a>’s list of <a data-link-type="dfn" href="#actions" id="ref-for-actions①⑤">actions</a>, perform the following steps: </p>
     <ol>
      <li>
       <p>Let <var>action</var> be a new <code class="idl"><a data-link-type="idl" href="#dictdef-notificationaction" id="ref-for-dictdef-notificationaction③">NotificationAction</a></code>. </p>
      <li>
       <p>Set <var>action</var>’s <code class="idl"><a data-link-type="idl" href="#dom-notificationaction-action" id="ref-for-dom-notificationaction-action">action</a></code> to <var>entry</var>’s <a data-link-type="dfn" href="#action-name" id="ref-for-action-name②">name</a>. </p>
      <li>
       <p>Set <var>action</var>’s <code class="idl"><a data-link-type="idl" href="#dom-notificationaction-title" id="ref-for-dom-notificationaction-title">title</a></code> to <var>entry</var>’s <a data-link-type="dfn" href="#action-title" id="ref-for-action-title③">title</a>. </p>
      <li>
       <p>Set <var>action</var>’s <code class="idl"><a data-link-type="idl" href="#dom-notificationaction-icon" id="ref-for-dom-notificationaction-icon">icon</a></code> to <var>entry</var>’s <a data-link-type="dfn" href="#action-icon-url" id="ref-for-action-icon-url④">icon URL</a>. </p>
      <li>
       <p>Call <a data-link-type="dfn" href="https://tc39.github.io/ecma262/#sec-object.freeze" id="ref-for-sec-object.freeze">Object.freeze</a> on <var>action</var>, to
    prevent accidental mutation by scripts. </p>
      <li>
       <p>Append <var>action</var> to <var>frozenActions</var>. </p>
     </ol>
    <li>
     <p><a data-link-type="dfn" href="https://heycam.github.io/webidl/#dfn-create-frozen-array" id="ref-for-dfn-create-frozen-array">Create a frozen array</a> from <var>frozenActions</var>. </p>
   </ol>
   <h3 class="heading settled" data-level="3.5" id="examples"><span class="secno">3.5. </span><span class="content">Examples</span><a class="self-link" href="#examples"></a></h3>
   <h4 class="heading settled" data-level="3.5.1" id="using-events"><span class="secno">3.5.1. </span><span class="content">Using events from a page</span><a class="self-link" href="#using-events"></a></h4>
   <p><a data-link-type="dfn" href="#non-persistent-notification" id="ref-for-non-persistent-notification③">Non-persistent</a> <code class="idl"><a data-link-type="idl" href="#notification" id="ref-for-notification⑨">Notification</a></code> objects dispatch events during their lifecycle, which developers can use to
generate desired behaviors. </p>
   <p>The <code>click</code> event dispatches when the user activates a
notification. </p>
<pre class="example" id="example-08e8ecea"><a class="self-link" href="#example-08e8ecea"></a>var not = new Notification("Gebrünn Gebrünn by Paul Kalkbrenner", { icon: "newsong.svg", tag: "song" });
not.onclick = function() { displaySong(this); };</pre>
   <h4 class="heading settled" data-level="3.5.2" id="using-actions"><span class="secno">3.5.2. </span><span class="content">Using actions from a service worker</span><a class="self-link" href="#using-actions"></a></h4>
   <p><a data-link-type="dfn" href="#persistent-notification" id="ref-for-persistent-notification⑦">Persistent notifications</a> fire <code>notificationclick</code> events on the <code class="idl"><a data-link-type="idl" href="https://w3c.github.io/ServiceWorker/#serviceworkerglobalscope" id="ref-for-serviceworkerglobalscope①">ServiceWorkerGlobalScope</a></code>. </p>
   <p>Here a service worker shows a notification with a single "Archive" <a data-link-type="dfn" href="#actions" id="ref-for-actions①⑥">action</a>, allowing users to perform this common task from the
notification without having to open the website (for example the notification
platform might show a button on the notification). The user can also activate
the main body of the notification to open their inbox. </p>
<pre class="example" id="example-50e7c86c"><a class="self-link" href="#example-50e7c86c"></a>self.registration.showNotification("New mail from Alice", {
  actions: [{action: 'archive', title: "Archive"}]
});

self.addEventListener('notificationclick', function(event) {
  event.notification.close();
  if (event.action === 'archive') {
    silentlyArchiveEmail();
  } else {
    clients.openWindow("/inbox");
  }
}, false);</pre>
   <h4 class="heading settled" data-level="3.5.3" id="tags-example"><span class="secno">3.5.3. </span><span class="content">Using the <code>tag</code> member for multiple instances</span><a class="self-link" href="#tags-example"></a></h4>
   <p>Web applications frequently operate concurrently in multiple instances, such
as when a user opens a mail application in multiple browser tabs. Since the
desktop is a shared resource, the notifications API provides a way for these
instances to easily coordinate, by using the <code>tag</code> member. </p>
   <p>Notifications which represent the same conceptual event can be tagged in the
same way, and when both are shown, the user will only receive one notification. </p>
<pre class="example" id="example-2e2c735a"><a class="self-link" href="#example-2e2c735a"></a>Instance 1                                   | Instance 2
                                             |
// Instance notices there is new mail.       |
new Notification("New mail from John Doe",   |
                 { tag: 'message1' });       |
                                             |
                                             |  // Slightly later, this instance notices
                                             |  // there is new mail.
                                             |  new Notification("New mail from John Doe",
                                             |                   { tag: 'message1' });</pre>
   <p>The result of this situation, if the user agent follows the algorithms here, is a <strong>single</strong> notification "New mail from John Doe". </p>
   <h4 class="heading settled" data-level="3.5.4" id="using-the-tag-member-for-a-single-instance"><span class="secno">3.5.4. </span><span class="content">Using the <code>tag</code> member for a single instance</span><a class="self-link" href="#using-the-tag-member-for-a-single-instance"></a></h4>
   <p>The <code>tag</code> member can also be used by a single instance of an
application to keep its notifications as current as possible as state changes. </p>
   <p>For example, if Alice is using a chat application with Bob, and Bob sends
multiple messages while Alice is idle, the application may prefer that Alice not
see a desktop notification for each message. </p>
<pre class="example" id="example-a1d95db4"><a class="self-link" href="#example-a1d95db4"></a>// Bob says "Hi"
new Notification("Bob: Hi", { tag: 'chat_Bob' });

// Bob says "Are you free this afternoon?"
new Notification("Bob: Hi / Are you free this afternoon?", { tag: 'chat_Bob' });</pre>
   <p>The result of this situation is a <i>single</i> notification; the second one
replaces the first having the same tag. In a platform that queues notifications
(first-in-first-out), using the tag allows the notification to also maintain its
position in the queue. Platforms where the newest notifications are shown first,
a similar result could be achieved using the <code class="idl"><a data-link-type="idl" href="#dom-notification-close" id="ref-for-dom-notification-close②">close()</a></code> method. </p>
   <h2 class="heading settled" data-level="4" id="service-worker-api"><span class="secno">4. </span><span class="content">Service worker API</span><a class="self-link" href="#service-worker-api"></a></h2>
<pre class="idl highlight def"><span class="kt">dictionary</span> <dfn class="nv idl-code" data-dfn-type="dictionary" data-export="" id="dictdef-getnotificationoptions"><code>GetNotificationOptions</code><a class="self-link" href="#dictdef-getnotificationoptions"></a></dfn> {
  <a class="n idl-code" data-link-type="interface" href="https://heycam.github.io/webidl/#idl-DOMString" id="ref-for-idl-DOMString①⓪"><span class="kt">DOMString</span></a> <dfn class="nv idl-code" data-default="&quot;&quot;" data-dfn-for="GetNotificationOptions" data-dfn-type="dict-member" data-export="" data-type="DOMString " id="dom-getnotificationoptions-tag"><code>tag</code><a class="self-link" href="#dom-getnotificationoptions-tag"></a></dfn> = "";
};

<span class="kt">partial</span> <span class="kt">interface</span> <a class="nv idl-code" data-link-type="interface" href="https://w3c.github.io/ServiceWorker/#serviceworkerregistration" id="ref-for-serviceworkerregistration">ServiceWorkerRegistration</a> {
  <span class="kt">Promise</span>&lt;<span class="kt">void</span>> <a class="nv idl-code" data-link-type="method" href="#dom-serviceworkerregistration-shownotification" id="ref-for-dom-serviceworkerregistration-shownotification①">showNotification</a>(<a class="n idl-code" data-link-type="interface" href="https://heycam.github.io/webidl/#idl-DOMString" id="ref-for-idl-DOMString①①"><span class="kt">DOMString</span></a> <dfn class="nv idl-code" data-dfn-for="ServiceWorkerRegistration/showNotification(title, options), ServiceWorkerRegistration/showNotification(title)" data-dfn-type="argument" data-export="" id="dom-serviceworkerregistration-shownotification-title-options-title"><code>title</code><a class="self-link" href="#dom-serviceworkerregistration-shownotification-title-options-title"></a></dfn>, <span class="kt">optional</span> <a class="n" data-link-type="idl-name" href="#dictdef-notificationoptions" id="ref-for-dictdef-notificationoptions①">NotificationOptions</a> <dfn class="nv idl-code" data-dfn-for="ServiceWorkerRegistration/showNotification(title, options), ServiceWorkerRegistration/showNotification(title)" data-dfn-type="argument" data-export="" id="dom-serviceworkerregistration-shownotification-title-options-options"><code>options</code><a class="self-link" href="#dom-serviceworkerregistration-shownotification-title-options-options"></a></dfn>);
  <span class="kt">Promise</span>&lt;<span class="kt">sequence</span>&lt;<a class="n" data-link-type="idl-name" href="#notification" id="ref-for-notification①⓪">Notification</a>>> <a class="nv idl-code" data-link-type="method" href="#dom-serviceworkerregistration-getnotifications" id="ref-for-dom-serviceworkerregistration-getnotifications">getNotifications</a>(<span class="kt">optional</span> <a class="n" data-link-type="idl-name" href="#dictdef-getnotificationoptions" id="ref-for-dictdef-getnotificationoptions">GetNotificationOptions</a> <dfn class="nv idl-code" data-dfn-for="ServiceWorkerRegistration/getNotifications(filter), ServiceWorkerRegistration/getNotifications()" data-dfn-type="argument" data-export="" id="dom-serviceworkerregistration-getnotifications-filter-filter"><code>filter</code><a class="self-link" href="#dom-serviceworkerregistration-getnotifications-filter-filter"></a></dfn>);
};

[<dfn class="nv idl-code" data-dfn-for="NotificationEvent" data-dfn-type="constructor" data-export="" data-lt="NotificationEvent(type, eventInitDict)" id="dom-notificationevent-notificationevent"><code>Constructor</code><a class="self-link" href="#dom-notificationevent-notificationevent"></a></dfn>(<a class="n idl-code" data-link-type="interface" href="https://heycam.github.io/webidl/#idl-DOMString" id="ref-for-idl-DOMString①②"><span class="kt">DOMString</span></a> <dfn class="nv idl-code" data-dfn-for="NotificationEvent/NotificationEvent(type, eventInitDict)" data-dfn-type="argument" data-export="" id="dom-notificationevent-notificationevent-type-eventinitdict-type"><code>type</code><a class="self-link" href="#dom-notificationevent-notificationevent-type-eventinitdict-type"></a></dfn>, <a class="n" data-link-type="idl-name" href="#dictdef-notificationeventinit" id="ref-for-dictdef-notificationeventinit">NotificationEventInit</a> <dfn class="nv idl-code" data-dfn-for="NotificationEvent/NotificationEvent(type, eventInitDict)" data-dfn-type="argument" data-export="" id="dom-notificationevent-notificationevent-type-eventinitdict-eventinitdict"><code>eventInitDict</code><a class="self-link" href="#dom-notificationevent-notificationevent-type-eventinitdict-eventinitdict"></a></dfn>),
 <a class="nv idl-code" data-link-type="extended-attribute" href="https://heycam.github.io/webidl/#Exposed" id="ref-for-Exposed②">Exposed</a>=<span class="n">ServiceWorker</span>]
<span class="kt">interface</span> <dfn class="nv idl-code" data-dfn-type="interface" data-export="" id="notificationevent"><code>NotificationEvent</code><a class="self-link" href="#notificationevent"></a></dfn> : <a class="n" data-link-type="idl-name" href="https://w3c.github.io/ServiceWorker/#extendableevent" id="ref-for-extendableevent">ExtendableEvent</a> {
  <span class="kt">readonly</span> <span class="kt">attribute</span> <a class="n" data-link-type="idl-name" href="#notification" id="ref-for-notification①①">Notification</a> <dfn class="nv idl-code" data-dfn-for="NotificationEvent" data-dfn-type="attribute" data-export="" data-readonly="" data-type="Notification" id="dom-notificationevent-notification"><code>notification</code><a class="self-link" href="#dom-notificationevent-notification"></a></dfn>;
  <span class="kt">readonly</span> <span class="kt">attribute</span> <a class="n idl-code" data-link-type="interface" href="https://heycam.github.io/webidl/#idl-DOMString" id="ref-for-idl-DOMString①③"><span class="kt">DOMString</span></a> <dfn class="nv idl-code" data-dfn-for="NotificationEvent" data-dfn-type="attribute" data-export="" data-readonly="" data-type="DOMString" id="dom-notificationevent-action"><code>action</code><a class="self-link" href="#dom-notificationevent-action"></a></dfn>;
};

<span class="kt">dictionary</span> <dfn class="nv idl-code" data-dfn-type="dictionary" data-export="" id="dictdef-notificationeventinit"><code>NotificationEventInit</code><a class="self-link" href="#dictdef-notificationeventinit"></a></dfn> : <a class="n" data-link-type="idl-name" href="https://w3c.github.io/ServiceWorker/#dictdef-extendableeventinit" id="ref-for-dictdef-extendableeventinit">ExtendableEventInit</a> {
  <span class="kt">required</span> <a class="n" data-link-type="idl-name" href="#notification" id="ref-for-notification①②">Notification</a> <dfn class="nv idl-code" data-dfn-for="NotificationEventInit" data-dfn-type="dict-member" data-export="" data-type="Notification " id="dom-notificationeventinit-notification"><code>notification</code><a class="self-link" href="#dom-notificationeventinit-notification"></a></dfn>;
  <a class="n idl-code" data-link-type="interface" href="https://heycam.github.io/webidl/#idl-DOMString" id="ref-for-idl-DOMString①④"><span class="kt">DOMString</span></a> <dfn class="nv idl-code" data-default="&quot;&quot;" data-dfn-for="NotificationEventInit" data-dfn-type="dict-member" data-export="" data-type="DOMString " id="dom-notificationeventinit-action"><code>action</code><a class="self-link" href="#dom-notificationeventinit-action"></a></dfn> = "";
};

<span class="kt">partial</span> <span class="kt">interface</span> <a class="nv idl-code" data-link-type="interface" href="https://w3c.github.io/ServiceWorker/#serviceworkerglobalscope" id="ref-for-serviceworkerglobalscope②">ServiceWorkerGlobalScope</a> {
  <span class="kt">attribute</span> <a class="n" data-link-type="idl-name" href="https://html.spec.whatwg.org/multipage/webappapis.html#eventhandler" id="ref-for-eventhandler②">EventHandler</a> <a class="nv idl-code" data-link-type="attribute" data-type="EventHandler" href="#dom-serviceworkerglobalscope-onnotificationclick" id="ref-for-dom-serviceworkerglobalscope-onnotificationclick">onnotificationclick</a>;
  <span class="kt">attribute</span> <a class="n" data-link-type="idl-name" href="https://html.spec.whatwg.org/multipage/webappapis.html#eventhandler" id="ref-for-eventhandler③">EventHandler</a> <a class="nv idl-code" data-link-type="attribute" data-type="EventHandler" href="#dom-serviceworkerglobalscope-onnotificationclose" id="ref-for-dom-serviceworkerglobalscope-onnotificationclose">onnotificationclose</a>;
};
</pre>
   <p>The <dfn class="idl-code" data-dfn-for="ServiceWorkerRegistration" data-dfn-type="method" data-export="" data-lt="showNotification(title, options)|showNotification(title)" id="dom-serviceworkerregistration-shownotification"><code>showNotification(title, options)</code><a class="self-link" href="#dom-serviceworkerregistration-shownotification"></a></dfn> method, when invoked, must run these steps: </p>
   <ol>
    <li>
     <p>Let <var>promise</var> be a new promise. </p>
    <li>
     <p>If the <a data-link-type="dfn" href="https://dom.spec.whatwg.org/#context-object" id="ref-for-context-object①">context object</a>’s <a data-link-type="dfn" href="https://w3c.github.io/ServiceWorker/#dfn-active-worker" id="ref-for-dfn-active-worker">active worker</a> is
  null, then reject <var>promise</var> with a <code>TypeError</code> exception and return <var>promise</var>. </p>
    <li>
     <p>Let <var>serviceWorkerRegistration</var> be the <a data-link-type="dfn" href="https://dom.spec.whatwg.org/#context-object" id="ref-for-context-object②">context object</a>. </p>
    <li>
     <p>Let <var>notification</var> be the result of <a data-link-type="dfn" href="#create-a-notification" id="ref-for-create-a-notification①">creating a notification</a> given <var>title</var>, <var>options</var>, and <var>serviceWorkerRegistration</var>. If this threw an
  exception, reject <var>promise</var> with that exception and return <var>promise</var>. </p>
    <li>
     <p>Run these substeps <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/infrastructure.html#in-parallel" id="ref-for-in-parallel⑦">in parallel</a>: </p>
     <ol>
      <li>
       <p>If <a data-link-type="dfn" href="#permission" id="ref-for-permission⑥">permission</a> for <var>notification</var>’s <a data-link-type="dfn" href="#concept-origin" id="ref-for-concept-origin⑤">origin</a> is not
    "<code>granted</code>", then reject <var>promise</var> with a <code>TypeError</code> exception,
    and terminate these substeps. </p>
      <li>
       <p>Run the <a data-link-type="dfn" href="#fetch-steps" id="ref-for-fetch-steps①">fetch steps</a> for <var>notification</var>. </p>
      <li>
       <p>Run the <a data-link-type="dfn" href="#show-steps" id="ref-for-show-steps①">show steps</a> for <var>notification</var>. </p>
      <li>
       <p>Resolve <var>promise</var> with undefined. </p>
     </ol>
    <li>
     <p>Return <var>promise</var>. </p>
   </ol>
   <p>The <dfn class="idl-code" data-dfn-for="ServiceWorkerRegistration" data-dfn-type="method" data-export="" data-lt="getNotifications(filter)|getNotifications()" id="dom-serviceworkerregistration-getnotifications"><code>getNotifications(<var>filter</var>)</code><a class="self-link" href="#dom-serviceworkerregistration-getnotifications"></a></dfn> method, when invoked, must run these steps: </p>
   <ol>
    <li>
     <p>Let <var>promise</var> be a new promise. </p>
    <li>
     <p>Run these substeps <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/infrastructure.html#in-parallel" id="ref-for-in-parallel⑧">in parallel</a>: </p>
     <ol>
      <li>
       <p>Let <var>tag</var> be <var>filter</var>’s <code>tag</code>. </p>
      <li>
       <p>Let <var>notifications</var> be a list of all <a data-link-type="dfn" href="#concept-notification" id="ref-for-concept-notification⑥⑤">notifications</a> in the <a data-link-type="dfn" href="#list-of-notifications" id="ref-for-list-of-notifications⑦">list of notifications</a> whose <a data-link-type="dfn" href="#concept-origin" id="ref-for-concept-origin⑥">origin</a> is the <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#entry-settings-object" id="ref-for-entry-settings-object⑥">entry settings object</a>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-settings-object-origin" id="ref-for-concept-settings-object-origin⑤">origin</a>, whose <a data-link-type="dfn" href="#service-worker-registration" id="ref-for-service-worker-registration⑤">service worker registration</a> is the <a data-link-type="dfn" href="https://dom.spec.whatwg.org/#context-object" id="ref-for-context-object③">context object</a>, and whose <a data-link-type="dfn" href="#tag" id="ref-for-tag④">tag</a>, if <var>tag</var> is not the empty string, is <var>tag</var>. </p>
      <li>
       <p>Let <var>objects</var> be an empty JavaScript array. </p>
      <li>
       <p>For each <a data-link-type="dfn" href="#concept-notification" id="ref-for-concept-notification⑥⑥">notification</a> in <var>notifications</var>, in creation order, create a new <code class="idl"><a data-link-type="idl" href="#notification" id="ref-for-notification①③">Notification</a></code> object representing <a data-link-type="dfn" href="#concept-notification" id="ref-for-concept-notification⑥⑦">notification</a> and push
    that object to <var>objects</var>. </p>
      <li>
       <p>Resolve <var>promise</var> with <var>objects</var>. </p>
     </ol>
    <li>
     <p>Return <var>promise</var>. </p>
   </ol>
   <p class="note" role="note">This method returns zero or more new <code class="idl"><a data-link-type="idl" href="#notification" id="ref-for-notification①④">Notification</a></code> objects which might represent
the same underlying <a data-link-type="dfn" href="#concept-notification" id="ref-for-concept-notification⑥⑧">notification</a> of <code class="idl"><a data-link-type="idl" href="#notification" id="ref-for-notification①⑤">Notification</a></code> objects already in existence. </p>
   <hr>
   <p>To <dfn data-dfn-type="dfn" data-noexport="" id="fire-a-service-worker-notification-event-named-e">fire a service worker notification event named <var>e</var><a class="self-link" href="#fire-a-service-worker-notification-event-named-e"></a></dfn> given <var>notification</var> and <var>action</var>, <a data-link-type="dfn" href="https://dom.spec.whatwg.org/#concept-event-fire" id="ref-for-concept-event-fire②">fire an event</a> named <var>e</var>, using <code class="idl"><a data-link-type="idl" href="#notificationevent" id="ref-for-notificationevent">NotificationEvent</a></code>, with the <code class="idl"><a data-link-type="idl" href="#dom-notificationevent-notification" id="ref-for-dom-notificationevent-notification">notification</a></code> attribute initialized to a new <code class="idl"><a data-link-type="idl" href="#notification" id="ref-for-notification①⑥">Notification</a></code> object representing <var>notification</var> and the <code class="idl"><a data-link-type="idl" href="#dom-notificationevent-action" id="ref-for-dom-notificationevent-action">action</a></code> attribute initialized to <var>action</var>. </p>
   <p>The <code class="idl"><a data-link-type="idl" href="#dom-notificationevent-notification" id="ref-for-dom-notificationevent-notification①">notification</a></code> attribute’s getter must return the
value it was initialized to. </p>
   <p>The <code class="idl"><a data-link-type="idl" href="#dom-notificationevent-action" id="ref-for-dom-notificationevent-action①">action</a></code> attribute’s getter must return the value it
was initialized to. </p>
   <p>The following is the <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#event-handlers" id="ref-for-event-handlers②">event handler</a> (and its corresponding <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#event-handler-event-type" id="ref-for-event-handler-event-type②">event handler event type</a>) that must be supported as attribute by the <code class="idl"><a data-link-type="idl" href="https://w3c.github.io/ServiceWorker/#serviceworkerglobalscope" id="ref-for-serviceworkerglobalscope③">ServiceWorkerGlobalScope</a></code> object: </p>
   <table>
    <thead>
     <tr>
      <th><a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#event-handlers" id="ref-for-event-handlers③">event handler</a> 
      <th><a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#event-handler-event-type" id="ref-for-event-handler-event-type③">event handler event type</a> 
    <tbody>
     <tr>
      <td><dfn class="idl-code" data-dfn-for="ServiceWorkerGlobalScope" data-dfn-type="attribute" data-export="" id="dom-serviceworkerglobalscope-onnotificationclick"><code>onnotificationclick</code><a class="self-link" href="#dom-serviceworkerglobalscope-onnotificationclick"></a></dfn> 
      <td><code>notificationclick</code> 
     <tr>
      <td><dfn class="idl-code" data-dfn-for="ServiceWorkerGlobalScope" data-dfn-type="attribute" data-export="" id="dom-serviceworkerglobalscope-onnotificationclose"><code>onnotificationclose</code><a class="self-link" href="#dom-serviceworkerglobalscope-onnotificationclose"></a></dfn> 
      <td><code>notificationclose</code> 
   </table>
   <h2 class="no-num heading settled" id="acknowledgments"><span class="content">Acknowledgments</span><a class="self-link" href="#acknowledgments"></a></h2>
   <p>Thanks to
Addison Phillips,
Aharon (Vladimir) Lanin,
Alex Russell,
Anssi Kostiainen,
Arkadiusz Michalski,
Boris Zbarsky,
David Håsäther,
Doug Turner,
Drew Wilson,
Ehsan Akhgari,
Frederick Hirsch,
Ian Hickson,
Jake Archibald,
James Graham,
John Mellor,
Jon Lee,
Jonas Sicking,
Michael Cooper,
Michael Henretty,
Michael™ Smith,
Michael van Ouwerkerk,
Nicolás Satragno,
Olli Pettay,
Peter Beverloo,
Philip Jägenstedt,
Reuben Morais,
Rich Tibbett,
Robert Bindar,
박상현 (Sanghyun Park),
Simon Pieters,
Theresa O’Connor,
timeless, and
triple-underscore
for being awesome. </p>
   <p>This standard is written by <a href="https://annevankesteren.nl/" lang="nl">Anne van Kesteren</a> (<a href="https://www.mozilla.org/">Mozilla</a>, <a href="mailto:annevk@annevk.nl">annevk@annevk.nl</a>). An earlier iteration was written
by John Gregg (<a href="https://www.google.com/">Google</a>, <a href="mailto:johnnyg@google.com">johnnyg@google.com</a>). </p>
  </main>
  <div data-fill-with="conformance">
   <h2 class="no-num no-ref heading settled" id="conformance"><span class="content">Conformance</span><a class="self-link" href="#conformance"></a></h2>
   <p>All diagrams, examples, and notes in this specification are non-normative, as are all sections explicitly marked non-normative. Everything else in this specification is normative. </p>
   <p>The key words “MUST”, “MUST NOT”, “REQUIRED”,  “SHOULD”, “SHOULD NOT”, “RECOMMENDED”, “MAY”, and “OPTIONAL” in the normative parts of this specification are to be interpreted as described in RFC2119. For readability, these words do not appear in all uppercase letters in this specification. <a data-link-type="biblio" href="#biblio-rfc2119">[RFC2119]</a> </p>
   <p>Conformance requirements phrased as algorithms or specific steps may be implemented in any manner, so long as the end result is equivalent. (In particular, the algorithms defined in this specification are intended to be easy to follow, and not intended to be performant.) </p>
  </div>
  <h2 class="no-num no-ref heading settled" id="index"><span class="content">Index</span><a class="self-link" href="#index"></a></h2>
  <h3 class="no-num no-ref heading settled" id="index-defined-here"><span class="content">Terms defined by this specification</span><a class="self-link" href="#index-defined-here"></a></h3>
  <ul class="index">
   <li>
    action
    <ul>
     <li><a href="#actions">dfn for notification</a><span>, in §2</span>
     <li><a href="#dom-notificationaction-action">dict-member for NotificationAction</a><span>, in §3</span>
     <li><a href="#dom-notificationevent-action">attribute for NotificationEvent</a><span>, in §4</span>
     <li><a href="#dom-notificationeventinit-action">dict-member for NotificationEventInit</a><span>, in §4</span>
    </ul>
   <li>
    actions
    <ul>
     <li><a href="#dom-notificationoptions-actions">dict-member for NotificationOptions</a><span>, in §3</span>
     <li><a href="#dom-notification-actions">attribute for Notification</a><span>, in §3.4</span>
    </ul>
   <li><a href="#alert-steps">alert steps</a><span>, in §2.11</span>
   <li><a href="#dom-notificationdirection-auto">"auto"</a><span>, in §3</span>
   <li><a href="#dom-notificationdirection-auto">auto</a><span>, in §3</span>
   <li>
    badge
    <ul>
     <li><a href="#dom-notificationoptions-badge">dict-member for NotificationOptions</a><span>, in §3</span>
     <li><a href="#dom-notification-badge">attribute for Notification</a><span>, in §3.4</span>
    </ul>
   <li><a href="#badge-resource">badge resource</a><span>, in §2</span>
   <li><a href="#badge-url">badge URL</a><span>, in §2</span>
   <li>
    body
    <ul>
     <li><a href="#body">dfn for notification</a><span>, in §2</span>
     <li><a href="#dom-notificationoptions-body">dict-member for NotificationOptions</a><span>, in §3</span>
     <li><a href="#dom-notification-body">attribute for Notification</a><span>, in §3.4</span>
    </ul>
   <li><a href="#dom-notification-close">close()</a><span>, in §3.4</span>
   <li><a href="#close-steps">close steps</a><span>, in §2.8</span>
   <li><a href="#create-a-notification">create a notification</a><span>, in §2</span>
   <li><a href="#create-a-notification">creating a notification</a><span>, in §2</span>
   <li>
    data
    <ul>
     <li><a href="#data">dfn for notification</a><span>, in §2</span>
     <li><a href="#dom-notificationoptions-data">dict-member for NotificationOptions</a><span>, in §3</span>
     <li><a href="#dom-notification-data">attribute for Notification</a><span>, in §3.4</span>
    </ul>
   <li><a href="#dom-notificationpermission-default">"default"</a><span>, in §3</span>
   <li><a href="#dom-notificationpermission-default">default</a><span>, in §3</span>
   <li><a href="#dom-notificationpermission-denied">denied</a><span>, in §3</span>
   <li><a href="#dom-notificationpermission-denied">"denied"</a><span>, in §3</span>
   <li>
    dir
    <ul>
     <li><a href="#dom-notificationoptions-dir">dict-member for NotificationOptions</a><span>, in §3</span>
     <li><a href="#dom-notification-dir">attribute for Notification</a><span>, in §3.4</span>
    </ul>
   <li><a href="#concept-direction">direction</a><span>, in §2</span>
   <li><a href="#display-steps">display steps</a><span>, in §2.9</span>
   <li><a href="#fetch-steps">fetch steps</a><span>, in §2.5</span>
   <li><a href="#fire-a-service-worker-notification-event-named-e">fire a service worker notification event named e</a><span>, in §4</span>
   <li><a href="#dictdef-getnotificationoptions">GetNotificationOptions</a><span>, in §4</span>
   <li><a href="#dom-serviceworkerregistration-getnotifications">getNotifications()</a><span>, in §4</span>
   <li><a href="#dom-serviceworkerregistration-getnotifications">getNotifications(filter)</a><span>, in §4</span>
   <li><a href="#dom-notificationpermission-granted">granted</a><span>, in §3</span>
   <li><a href="#dom-notificationpermission-granted">"granted"</a><span>, in §3</span>
   <li>
    icon
    <ul>
     <li><a href="#dom-notificationoptions-icon">dict-member for NotificationOptions</a><span>, in §3</span>
     <li><a href="#dom-notificationaction-icon">dict-member for NotificationAction</a><span>, in §3</span>
     <li><a href="#dom-notification-icon">attribute for Notification</a><span>, in §3.4</span>
    </ul>
   <li>
    icon resource
    <ul>
     <li><a href="#icon-resource">dfn for notification</a><span>, in §2</span>
     <li><a href="#action-icon-resource">dfn for action</a><span>, in §2</span>
    </ul>
   <li>
    icon URL
    <ul>
     <li><a href="#icon-url">dfn for notification</a><span>, in §2</span>
     <li><a href="#action-icon-url">dfn for action</a><span>, in §2</span>
    </ul>
   <li>
    image
    <ul>
     <li><a href="#dom-notificationoptions-image">dict-member for NotificationOptions</a><span>, in §3</span>
     <li><a href="#dom-notification-image">attribute for Notification</a><span>, in §3.4</span>
    </ul>
   <li><a href="#image-resource">image resource</a><span>, in §2</span>
   <li><a href="#image-url">image URL</a><span>, in §2</span>
   <li>
    lang
    <ul>
     <li><a href="#dom-notificationoptions-lang">dict-member for NotificationOptions</a><span>, in §3</span>
     <li><a href="#dom-notification-lang">attribute for Notification</a><span>, in §3.4</span>
    </ul>
   <li><a href="#concept-language">language</a><span>, in §2</span>
   <li><a href="#list-of-notifications">list of notifications</a><span>, in §2.1</span>
   <li><a href="#dom-notificationdirection-ltr">"ltr"</a><span>, in §3</span>
   <li><a href="#dom-notificationdirection-ltr">ltr</a><span>, in §3</span>
   <li><a href="#dom-notification-maxactions">maxActions</a><span>, in §3.3</span>
   <li><a href="#maximum-number-of-actions">maximum number of actions</a><span>, in §2</span>
   <li><a href="#action-name">name</a><span>, in §2</span>
   <li><a href="#non-persistent-notification">non-persistent notification</a><span>, in §2</span>
   <li><a href="#notification">Notification</a><span>, in §3</span>
   <li>
    notification
    <ul>
     <li><a href="#concept-notification">definition of</a><span>, in §2</span>
     <li><a href="#dom-notificationevent-notification">attribute for NotificationEvent</a><span>, in §4</span>
     <li><a href="#dom-notificationeventinit-notification">dict-member for NotificationEventInit</a><span>, in §4</span>
    </ul>
   <li><a href="#dictdef-notificationaction">NotificationAction</a><span>, in §3</span>
   <li><a href="#enumdef-notificationdirection">NotificationDirection</a><span>, in §3</span>
   <li><a href="#notificationevent">NotificationEvent</a><span>, in §4</span>
   <li><a href="#dictdef-notificationeventinit">NotificationEventInit</a><span>, in §4</span>
   <li><a href="#dom-notificationevent-notificationevent">NotificationEvent(type, eventInitDict)</a><span>, in §4</span>
   <li><a href="#dictdef-notificationoptions">NotificationOptions</a><span>, in §3</span>
   <li><a href="#enumdef-notificationpermission">NotificationPermission</a><span>, in §3</span>
   <li><a href="#callbackdef-notificationpermissioncallback">NotificationPermissionCallback</a><span>, in §3</span>
   <li><a href="#dom-notification-notification">Notification(title, options)</a><span>, in §3.2</span>
   <li><a href="#dom-notification-onclick">onclick</a><span>, in §3.4</span>
   <li><a href="#dom-notification-onerror">onerror</a><span>, in §3.4</span>
   <li><a href="#dom-serviceworkerglobalscope-onnotificationclick">onnotificationclick</a><span>, in §4</span>
   <li><a href="#dom-serviceworkerglobalscope-onnotificationclose">onnotificationclose</a><span>, in §4</span>
   <li><a href="#concept-origin">origin</a><span>, in §2</span>
   <li>
    permission
    <ul>
     <li><a href="#permission">definition of</a><span>, in §2.2</span>
     <li><a href="#dom-notification-permission">attribute for Notification</a><span>, in §3.3</span>
    </ul>
   <li><a href="#persistent-notification">persistent notification</a><span>, in §2</span>
   <li>
    renotify
    <ul>
     <li><a href="#dom-notificationoptions-renotify">dict-member for NotificationOptions</a><span>, in §3</span>
     <li><a href="#dom-notification-renotify">attribute for Notification</a><span>, in §3.4</span>
    </ul>
   <li><a href="#renotify-preference-flag">renotify preference flag</a><span>, in §2</span>
   <li><a href="#replaceable">replaceable</a><span>, in §2</span>
   <li><a href="#replace-steps">replace steps</a><span>, in §2.10</span>
   <li><a href="#dom-notification-requestpermission">requestPermission()</a><span>, in §3.3</span>
   <li><a href="#dom-notification-requestpermission">requestPermission(deprecatedCallback)</a><span>, in §3.3</span>
   <li>
    requireInteraction
    <ul>
     <li><a href="#dom-notificationoptions-requireinteraction">dict-member for NotificationOptions</a><span>, in §3</span>
     <li><a href="#dom-notification-requireinteraction">attribute for Notification</a><span>, in §3.4</span>
    </ul>
   <li><a href="#require-interaction-preference-flag">require interaction preference flag</a><span>, in §2</span>
   <li><a href="#dom-notificationdirection-rtl">rtl</a><span>, in §3</span>
   <li><a href="#dom-notificationdirection-rtl">"rtl"</a><span>, in §3</span>
   <li><a href="#service-worker-registration">service worker registration</a><span>, in §2</span>
   <li><a href="#dom-serviceworkerregistration-shownotification">showNotification(title)</a><span>, in §4</span>
   <li><a href="#dom-serviceworkerregistration-shownotification">showNotification(title, options)</a><span>, in §4</span>
   <li><a href="#show-steps">show steps</a><span>, in §2.6</span>
   <li>
    silent
    <ul>
     <li><a href="#dom-notificationoptions-silent">dict-member for NotificationOptions</a><span>, in §3</span>
     <li><a href="#dom-notification-silent">attribute for Notification</a><span>, in §3.4</span>
    </ul>
   <li><a href="#silent-preference-flag">silent preference flag</a><span>, in §2</span>
   <li>
    sound
    <ul>
     <li><a href="#dom-notificationoptions-sound">dict-member for NotificationOptions</a><span>, in §3</span>
     <li><a href="#dom-notification-sound">attribute for Notification</a><span>, in §3.4</span>
    </ul>
   <li><a href="#sound-resource">sound resource</a><span>, in §2</span>
   <li><a href="#sound-url">sound URL</a><span>, in §2</span>
   <li>
    tag
    <ul>
     <li><a href="#tag">dfn for notification</a><span>, in §2</span>
     <li><a href="#dom-notificationoptions-tag">dict-member for NotificationOptions</a><span>, in §3</span>
     <li><a href="#dom-notification-tag">attribute for Notification</a><span>, in §3.4</span>
     <li><a href="#dom-getnotificationoptions-tag">dict-member for GetNotificationOptions</a><span>, in §4</span>
    </ul>
   <li>
    timestamp
    <ul>
     <li><a href="#timestamp">dfn for notification</a><span>, in §2</span>
     <li><a href="#dom-notificationoptions-timestamp">dict-member for NotificationOptions</a><span>, in §3</span>
     <li><a href="#dom-notification-timestamp">attribute for Notification</a><span>, in §3.4</span>
    </ul>
   <li>
    title
    <ul>
     <li><a href="#concept-title">dfn for notification</a><span>, in §2</span>
     <li><a href="#action-title">dfn for action</a><span>, in §2</span>
     <li><a href="#dom-notificationaction-title">dict-member for NotificationAction</a><span>, in §3</span>
     <li><a href="#dom-notification-title">attribute for Notification</a><span>, in §3.4</span>
    </ul>
   <li>
    vibrate
    <ul>
     <li><a href="#dom-notificationoptions-vibrate">dict-member for NotificationOptions</a><span>, in §3</span>
     <li><a href="#dom-notification-vibrate">attribute for Notification</a><span>, in §3.4</span>
    </ul>
   <li><a href="#vibration-pattern">vibration pattern</a><span>, in §2</span>
  </ul>
  <h3 class="no-num no-ref heading settled" id="index-defined-elsewhere"><span class="content">Terms defined by reference</span><a class="self-link" href="#index-defined-elsewhere"></a></h3>
  <ul class="index">
   <li>
    <a data-link-type="biblio">[DOM]</a> defines the following terms:
    <ul>
     <li><a href="https://dom.spec.whatwg.org/#eventtarget">EventTarget</a>
     <li><a href="https://dom.spec.whatwg.org/#dom-event-cancelable">cancelable</a>
     <li><a href="https://dom.spec.whatwg.org/#context-object">context object</a>
     <li><a href="https://dom.spec.whatwg.org/#concept-event-listener">event listener</a>
     <li><a href="https://dom.spec.whatwg.org/#concept-event-fire">fire an event</a>
    </ul>
   <li>
    <a data-link-type="biblio">[FETCH]</a> defines the following terms:
    <ul>
     <li><a href="https://fetch.spec.whatwg.org/#concept-fetch">fetch</a>
     <li><a href="https://fetch.spec.whatwg.org/#concept-internal-response">internal response</a>
     <li><a href="https://fetch.spec.whatwg.org/#concept-response">response</a>
     <li><a href="https://fetch.spec.whatwg.org/#concept-response-type">type</a>
    </ul>
   <li>
    <a data-link-type="biblio">[HTML]</a> defines the following terms:
    <ul>
     <li><a href="https://html.spec.whatwg.org/multipage/webappapis.html#eventhandler">EventHandler</a>
     <li><a href="https://html.spec.whatwg.org/multipage/structured-data.html#structureddeserialize">StructuredDeserialize</a>
     <li><a href="https://html.spec.whatwg.org/multipage/structured-data.html#structuredserializeforstorage">StructuredSerializeForStorage</a>
     <li><a href="https://html.spec.whatwg.org/multipage/browsers.html#browsing-context">browsing context</a>
     <li><a href="https://html.spec.whatwg.org/multipage/webappapis.html#current-global-object">current global object</a>
     <li><a href="https://html.spec.whatwg.org/multipage/webappapis.html#event-handlers">event handler</a>
     <li><a href="https://html.spec.whatwg.org/multipage/webappapis.html#event-handler-event-type">event handler event type</a>
     <li><a href="https://html.spec.whatwg.org/multipage/infrastructure.html#in-parallel">in parallel</a>
     <li><a href="https://html.spec.whatwg.org/multipage/origin.html#concept-origin">origin</a>
     <li><a href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-settings-object-origin">origin <small>(for environment settings object)</small></a>
     <li><a href="https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-task">queue a task</a>
     <li><a href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-realm">relevant realm</a>
     <li><a href="https://html.spec.whatwg.org/multipage/webappapis.html#report-the-exception">report the exception</a>
     <li><a href="https://html.spec.whatwg.org/multipage/origin.html#same-origin">same origin</a>
    </ul>
   <li>
    <a data-link-type="biblio">[SERVICE-WORKERS]</a> defines the following terms:
    <ul>
     <li><a href="https://w3c.github.io/ServiceWorker/#extendableevent">ExtendableEvent</a>
     <li><a href="https://w3c.github.io/ServiceWorker/#dictdef-extendableeventinit">ExtendableEventInit</a>
     <li><a href="https://w3c.github.io/ServiceWorker/#serviceworkerglobalscope">ServiceWorkerGlobalScope</a>
     <li><a href="https://w3c.github.io/ServiceWorker/#serviceworkerregistration">ServiceWorkerRegistration</a>
     <li><a href="https://w3c.github.io/ServiceWorker/#dfn-active-worker">active worker</a>
    </ul>
   <li>
    <a data-link-type="biblio">[URL]</a> defines the following terms:
    <ul>
     <li><a href="https://url.spec.whatwg.org/#concept-url-parser">url parser</a>
     <li><a href="https://url.spec.whatwg.org/#concept-url-serializer">url serializer</a>
    </ul>
   <li>
    <a data-link-type="biblio">[WEBIDL]</a> defines the following terms:
    <ul>
     <li><a href="https://heycam.github.io/webidl/#idl-DOMString">DOMString</a>
     <li><a href="https://heycam.github.io/webidl/#DOMTimeStamp">DOMTimeStamp</a>
     <li><a href="https://heycam.github.io/webidl/#Exposed">Exposed</a>
     <li><a href="https://heycam.github.io/webidl/#SameObject">SameObject</a>
     <li><a href="https://heycam.github.io/webidl/#idl-USVString">USVString</a>
     <li><a href="https://heycam.github.io/webidl/#idl-boolean">boolean</a>
     <li><a href="https://heycam.github.io/webidl/#dfn-create-frozen-array">create a frozen array</a>
     <li><a href="https://heycam.github.io/webidl/#dfn-throw">throw</a>
     <li><a href="https://heycam.github.io/webidl/#idl-unsigned-long">unsigned long</a>
    </ul>
  </ul>
  <h2 class="no-num no-ref heading settled" id="references"><span class="content">References</span><a class="self-link" href="#references"></a></h2>
  <h3 class="no-num no-ref heading settled" id="normative"><span class="content">Normative References</span><a class="self-link" href="#normative"></a></h3>
  <dl>
   <dt id="biblio-bidi">[BIDI]
   <dd>Mark Davis; Aharon Lanin; Andrew Glass. <a href="https://www.unicode.org/reports/tr9/tr9-37.html">Unicode Bidirectional Algorithm</a>. 14 May 2017. Unicode Standard Annex #9. URL: <a href="https://www.unicode.org/reports/tr9/tr9-37.html">https://www.unicode.org/reports/tr9/tr9-37.html</a>
   <dt id="biblio-dom">[DOM]
   <dd>Anne van Kesteren. <a href="https://dom.spec.whatwg.org/">DOM Standard</a>. Living Standard. URL: <a href="https://dom.spec.whatwg.org/">https://dom.spec.whatwg.org/</a>
   <dt id="biblio-fetch">[FETCH]
   <dd>Anne van Kesteren. <a href="https://fetch.spec.whatwg.org/">Fetch Standard</a>. Living Standard. URL: <a href="https://fetch.spec.whatwg.org/">https://fetch.spec.whatwg.org/</a>
   <dt id="biblio-html">[HTML]
   <dd>Anne van Kesteren; et al. <a href="https://html.spec.whatwg.org/multipage/">HTML Standard</a>. Living Standard. URL: <a href="https://html.spec.whatwg.org/multipage/">https://html.spec.whatwg.org/multipage/</a>
   <dt id="biblio-infra">[INFRA]
   <dd>Anne van Kesteren; Domenic Denicola. <a href="https://infra.spec.whatwg.org/">Infra Standard</a>. Living Standard. URL: <a href="https://infra.spec.whatwg.org/">https://infra.spec.whatwg.org/</a>
   <dt id="biblio-lang">[LANG]
   <dd>A. Phillips; M. Davis. <a href="https://tools.ietf.org/html/bcp47">Tags for Identifying Languages</a>. September 2009. IETF Best Current Practice. URL: <a href="https://tools.ietf.org/html/bcp47">https://tools.ietf.org/html/bcp47</a>
   <dt id="biblio-rfc2119">[RFC2119]
   <dd>S. Bradner. <a href="https://tools.ietf.org/html/rfc2119">Key words for use in RFCs to Indicate Requirement Levels</a>. March 1997. Best Current Practice. URL: <a href="https://tools.ietf.org/html/rfc2119">https://tools.ietf.org/html/rfc2119</a>
   <dt id="biblio-service-workers">[SERVICE-WORKERS]
   <dd>Alex Russell; et al. <a href="https://w3c.github.io/ServiceWorker/">Service Workers 1</a>. URL: <a href="https://w3c.github.io/ServiceWorker/">https://w3c.github.io/ServiceWorker/</a>
   <dt id="biblio-url">[URL]
   <dd>Anne van Kesteren. <a href="https://url.spec.whatwg.org/">URL Standard</a>. Living Standard. URL: <a href="https://url.spec.whatwg.org/">https://url.spec.whatwg.org/</a>
   <dt id="biblio-vibration">[VIBRATION]
   <dd>Anssi Kostiainen. <a href="https://w3c.github.io/vibration/">Vibration API (Second Edition)</a>. URL: <a href="https://w3c.github.io/vibration/">https://w3c.github.io/vibration/</a>
   <dt id="biblio-webidl">[WEBIDL]
   <dd>Cameron McCormack; Boris Zbarsky; Tobie Langel. <a href="https://heycam.github.io/webidl/">Web IDL</a>. URL: <a href="https://heycam.github.io/webidl/">https://heycam.github.io/webidl/</a>
  </dl>
  <h2 class="no-num no-ref heading settled" id="idl-index"><span class="content">IDL Index</span><a class="self-link" href="#idl-index"></a></h2>
<pre class="idl highlight def">[<a class="nv idl-code" data-link-type="constructor" href="#dom-notification-notification" id="ref-for-dom-notification-notification②">Constructor</a>(<a class="n idl-code" data-link-type="interface" href="https://heycam.github.io/webidl/#idl-DOMString" id="ref-for-idl-DOMString①⑥"><span class="kt">DOMString</span></a> <a class="nv" href="#dom-notification-notification-title-options-title"><code>title</code></a>, <span class="kt">optional</span> <a class="n" data-link-type="idl-name" href="#dictdef-notificationoptions" id="ref-for-dictdef-notificationoptions②">NotificationOptions</a> <a class="nv" href="#dom-notification-notification-title-options-options"><code>options</code></a>),
 <a class="nv idl-code" data-link-type="extended-attribute" href="https://heycam.github.io/webidl/#Exposed" id="ref-for-Exposed③">Exposed</a>=(<span class="n">Window</span>,<span class="n">Worker</span>)]
<span class="kt">interface</span> <a class="nv" href="#notification"><code>Notification</code></a> : <a class="n" data-link-type="idl-name" href="https://dom.spec.whatwg.org/#eventtarget" id="ref-for-eventtarget①">EventTarget</a> {
  <span class="kt">static</span> <span class="kt">readonly</span> <span class="kt">attribute</span> <a class="n" data-link-type="idl-name" href="#enumdef-notificationpermission" id="ref-for-enumdef-notificationpermission③">NotificationPermission</a> <a class="nv idl-code" data-link-type="attribute" data-readonly="" data-type="NotificationPermission" href="#dom-notification-permission" id="ref-for-dom-notification-permission①">permission</a>;
  [<a class="nv idl-code" data-link-type="extended-attribute" href="https://heycam.github.io/webidl/#Exposed" id="ref-for-Exposed①①">Exposed</a>=<span class="n">Window</span>] <span class="kt">static</span> <span class="kt">Promise</span>&lt;<a class="n" data-link-type="idl-name" href="#enumdef-notificationpermission" id="ref-for-enumdef-notificationpermission①①">NotificationPermission</a>> <a class="nv idl-code" data-link-type="method" href="#dom-notification-requestpermission" id="ref-for-dom-notification-requestpermission①">requestPermission</a>(<span class="kt">optional</span> <a class="n" data-link-type="idl-name" href="#callbackdef-notificationpermissioncallback" id="ref-for-callbackdef-notificationpermissioncallback①">NotificationPermissionCallback</a> <a class="nv" href="#dom-notification-requestpermission-deprecatedcallback-deprecatedcallback"><code>deprecatedCallback</code></a>);

  <span class="kt">static</span> <span class="kt">readonly</span> <span class="kt">attribute</span> <a class="n idl-code" data-link-type="interface" href="https://heycam.github.io/webidl/#idl-unsigned-long" id="ref-for-idl-unsigned-long②"><span class="kt">unsigned</span> <span class="kt">long</span></a> <a class="nv idl-code" data-link-type="attribute" data-readonly="" data-type="unsigned long" href="#dom-notification-maxactions" id="ref-for-dom-notification-maxactions①">maxActions</a>;

  <span class="kt">attribute</span> <a class="n" data-link-type="idl-name" href="https://html.spec.whatwg.org/multipage/webappapis.html#eventhandler" id="ref-for-eventhandler④">EventHandler</a> <a class="nv idl-code" data-link-type="attribute" data-type="EventHandler" href="#dom-notification-onclick" id="ref-for-dom-notification-onclick①">onclick</a>;
  <span class="kt">attribute</span> <a class="n" data-link-type="idl-name" href="https://html.spec.whatwg.org/multipage/webappapis.html#eventhandler" id="ref-for-eventhandler①①">EventHandler</a> <a class="nv idl-code" data-link-type="attribute" data-type="EventHandler" href="#dom-notification-onerror" id="ref-for-dom-notification-onerror①">onerror</a>;

  <span class="kt">readonly</span> <span class="kt">attribute</span> <a class="n idl-code" data-link-type="interface" href="https://heycam.github.io/webidl/#idl-DOMString" id="ref-for-idl-DOMString①⑤"><span class="kt">DOMString</span></a> <a class="nv idl-code" data-link-type="attribute" data-readonly="" data-type="DOMString" href="#dom-notification-title" id="ref-for-dom-notification-title①">title</a>;
  <span class="kt">readonly</span> <span class="kt">attribute</span> <a class="n" data-link-type="idl-name" href="#enumdef-notificationdirection" id="ref-for-enumdef-notificationdirection②">NotificationDirection</a> <a class="nv idl-code" data-link-type="attribute" data-readonly="" data-type="NotificationDirection" href="#dom-notification-dir" id="ref-for-dom-notification-dir①">dir</a>;
  <span class="kt">readonly</span> <span class="kt">attribute</span> <a class="n idl-code" data-link-type="interface" href="https://heycam.github.io/webidl/#idl-DOMString" id="ref-for-idl-DOMString②①"><span class="kt">DOMString</span></a> <a class="nv idl-code" data-link-type="attribute" data-readonly="" data-type="DOMString" href="#dom-notification-lang" id="ref-for-dom-notification-lang①">lang</a>;
  <span class="kt">readonly</span> <span class="kt">attribute</span> <a class="n idl-code" data-link-type="interface" href="https://heycam.github.io/webidl/#idl-DOMString" id="ref-for-idl-DOMString③①"><span class="kt">DOMString</span></a> <a class="nv idl-code" data-link-type="attribute" data-readonly="" data-type="DOMString" href="#dom-notification-body" id="ref-for-dom-notification-body①">body</a>;
  <span class="kt">readonly</span> <span class="kt">attribute</span> <a class="n idl-code" data-link-type="interface" href="https://heycam.github.io/webidl/#idl-DOMString" id="ref-for-idl-DOMString④①"><span class="kt">DOMString</span></a> <a class="nv idl-code" data-link-type="attribute" data-readonly="" data-type="DOMString" href="#dom-notification-tag" id="ref-for-dom-notification-tag①">tag</a>;
  <span class="kt">readonly</span> <span class="kt">attribute</span> <a class="n idl-code" data-link-type="interface" href="https://heycam.github.io/webidl/#idl-USVString" id="ref-for-idl-USVString⑨"><span class="kt">USVString</span></a> <a class="nv idl-code" data-link-type="attribute" data-readonly="" data-type="USVString" href="#dom-notification-image" id="ref-for-dom-notification-image①">image</a>;
  <span class="kt">readonly</span> <span class="kt">attribute</span> <a class="n idl-code" data-link-type="interface" href="https://heycam.github.io/webidl/#idl-USVString" id="ref-for-idl-USVString①①"><span class="kt">USVString</span></a> <a class="nv idl-code" data-link-type="attribute" data-readonly="" data-type="USVString" href="#dom-notification-icon" id="ref-for-dom-notification-icon①">icon</a>;
  <span class="kt">readonly</span> <span class="kt">attribute</span> <a class="n idl-code" data-link-type="interface" href="https://heycam.github.io/webidl/#idl-USVString" id="ref-for-idl-USVString②①"><span class="kt">USVString</span></a> <a class="nv idl-code" data-link-type="attribute" data-readonly="" data-type="USVString" href="#dom-notification-badge" id="ref-for-dom-notification-badge①">badge</a>;
  <span class="kt">readonly</span> <span class="kt">attribute</span> <a class="n idl-code" data-link-type="interface" href="https://heycam.github.io/webidl/#idl-USVString" id="ref-for-idl-USVString③①"><span class="kt">USVString</span></a> <a class="nv idl-code" data-link-type="attribute" data-readonly="" data-type="USVString" href="#dom-notification-sound" id="ref-for-dom-notification-sound①">sound</a>;
  [<a class="nv idl-code" data-link-type="extended-attribute" href="https://heycam.github.io/webidl/#SameObject" id="ref-for-SameObject③">SameObject</a>] <span class="kt">readonly</span> <span class="kt">attribute</span> <span class="kt">FrozenArray</span>&lt;<a class="n idl-code" data-link-type="interface" href="https://heycam.github.io/webidl/#idl-unsigned-long" id="ref-for-idl-unsigned-long①①"><span class="kt">unsigned</span> <span class="kt">long</span></a>> <a class="nv idl-code" data-link-type="attribute" data-readonly="" data-type="FrozenArray<unsigned long>" href="#dom-notification-vibrate" id="ref-for-dom-notification-vibrate①">vibrate</a>;
  <span class="kt">readonly</span> <span class="kt">attribute</span> <a class="n" data-link-type="idl-name" href="https://heycam.github.io/webidl/#DOMTimeStamp" id="ref-for-DOMTimeStamp①①">DOMTimeStamp</a> <a class="nv idl-code" data-link-type="attribute" data-readonly="" data-type="DOMTimeStamp" href="#dom-notification-timestamp" id="ref-for-dom-notification-timestamp①">timestamp</a>;
  <span class="kt">readonly</span> <span class="kt">attribute</span> <a class="n idl-code" data-link-type="interface" href="https://heycam.github.io/webidl/#idl-boolean" id="ref-for-idl-boolean⑥"><span class="kt">boolean</span></a> <a class="nv idl-code" data-link-type="attribute" data-readonly="" data-type="boolean" href="#dom-notification-renotify" id="ref-for-dom-notification-renotify①">renotify</a>;
  <span class="kt">readonly</span> <span class="kt">attribute</span> <a class="n idl-code" data-link-type="interface" href="https://heycam.github.io/webidl/#idl-boolean" id="ref-for-idl-boolean①①"><span class="kt">boolean</span></a> <a class="nv idl-code" data-link-type="attribute" data-readonly="" data-type="boolean" href="#dom-notification-silent" id="ref-for-dom-notification-silent①">silent</a>;
  <span class="kt">readonly</span> <span class="kt">attribute</span> <a class="n idl-code" data-link-type="interface" href="https://heycam.github.io/webidl/#idl-boolean" id="ref-for-idl-boolean②①"><span class="kt">boolean</span></a> <a class="nv idl-code" data-link-type="attribute" data-readonly="" data-type="boolean" href="#dom-notification-requireinteraction" id="ref-for-dom-notification-requireinteraction①">requireInteraction</a>;
  [<a class="nv idl-code" data-link-type="extended-attribute" href="https://heycam.github.io/webidl/#SameObject" id="ref-for-SameObject①①">SameObject</a>] <span class="kt">readonly</span> <span class="kt">attribute</span> <span class="kt">any</span> <a class="nv idl-code" data-link-type="attribute" data-readonly="" data-type="any" href="#dom-notification-data" id="ref-for-dom-notification-data①">data</a>;
  [<a class="nv idl-code" data-link-type="extended-attribute" href="https://heycam.github.io/webidl/#SameObject" id="ref-for-SameObject②①">SameObject</a>] <span class="kt">readonly</span> <span class="kt">attribute</span> <span class="kt">FrozenArray</span>&lt;<a class="n" data-link-type="idl-name" href="#dictdef-notificationaction" id="ref-for-dictdef-notificationaction④">NotificationAction</a>> <a class="nv idl-code" data-link-type="attribute" data-readonly="" data-type="FrozenArray<NotificationAction>" href="#dom-notification-actions" id="ref-for-dom-notification-actions①">actions</a>;

  <span class="kt">void</span> <a class="nv idl-code" data-link-type="method" href="#dom-notification-close" id="ref-for-dom-notification-close①①">close</a>();
};

<span class="kt">dictionary</span> <a class="nv" href="#dictdef-notificationoptions"><code>NotificationOptions</code></a> {
  <a class="n" data-link-type="idl-name" href="#enumdef-notificationdirection" id="ref-for-enumdef-notificationdirection①①">NotificationDirection</a> <a class="nv" data-default="&quot;auto&quot;" data-type="NotificationDirection " href="#dom-notificationoptions-dir"><code>dir</code></a> = "auto";
  <a class="n idl-code" data-link-type="interface" href="https://heycam.github.io/webidl/#idl-DOMString" id="ref-for-idl-DOMString⑤①"><span class="kt">DOMString</span></a> <a class="nv" data-default="&quot;&quot;" data-type="DOMString " href="#dom-notificationoptions-lang"><code>lang</code></a> = "";
  <a class="n idl-code" data-link-type="interface" href="https://heycam.github.io/webidl/#idl-DOMString" id="ref-for-idl-DOMString⑥①"><span class="kt">DOMString</span></a> <a class="nv" data-default="&quot;&quot;" data-type="DOMString " href="#dom-notificationoptions-body"><code>body</code></a> = "";
  <a class="n idl-code" data-link-type="interface" href="https://heycam.github.io/webidl/#idl-DOMString" id="ref-for-idl-DOMString⑦①"><span class="kt">DOMString</span></a> <a class="nv" data-default="&quot;&quot;" data-type="DOMString " href="#dom-notificationoptions-tag"><code>tag</code></a> = "";
  <a class="n idl-code" data-link-type="interface" href="https://heycam.github.io/webidl/#idl-USVString" id="ref-for-idl-USVString④①"><span class="kt">USVString</span></a> <a class="nv" data-type="USVString " href="#dom-notificationoptions-image"><code>image</code></a>;
  <a class="n idl-code" data-link-type="interface" href="https://heycam.github.io/webidl/#idl-USVString" id="ref-for-idl-USVString⑤①"><span class="kt">USVString</span></a> <a class="nv" data-type="USVString " href="#dom-notificationoptions-icon"><code>icon</code></a>;
  <a class="n idl-code" data-link-type="interface" href="https://heycam.github.io/webidl/#idl-USVString" id="ref-for-idl-USVString⑥①"><span class="kt">USVString</span></a> <a class="nv" data-type="USVString " href="#dom-notificationoptions-badge"><code>badge</code></a>;
  <a class="n idl-code" data-link-type="interface" href="https://heycam.github.io/webidl/#idl-USVString" id="ref-for-idl-USVString⑦①"><span class="kt">USVString</span></a> <a class="nv" data-type="USVString " href="#dom-notificationoptions-sound"><code>sound</code></a>;
  <a class="n" data-link-type="idl-name" href="https://w3c.github.io/vibration/#idl-def-vibratepattern" id="ref-for-idl-def-vibratepattern①">VibratePattern</a> <a class="nv" data-type="VibratePattern " href="#dom-notificationoptions-vibrate"><code>vibrate</code></a>;
  <a class="n" data-link-type="idl-name" href="https://heycam.github.io/webidl/#DOMTimeStamp" id="ref-for-DOMTimeStamp②①">DOMTimeStamp</a> <a class="nv" data-type="DOMTimeStamp " href="#dom-notificationoptions-timestamp"><code>timestamp</code></a>;
  <a class="n idl-code" data-link-type="interface" href="https://heycam.github.io/webidl/#idl-boolean" id="ref-for-idl-boolean③①"><span class="kt">boolean</span></a> <a class="nv" data-default="false" data-type="boolean " href="#dom-notificationoptions-renotify"><code>renotify</code></a> = <span class="kt">false</span>;
  <a class="n idl-code" data-link-type="interface" href="https://heycam.github.io/webidl/#idl-boolean" id="ref-for-idl-boolean④①"><span class="kt">boolean</span></a> <a class="nv" data-default="false" data-type="boolean " href="#dom-notificationoptions-silent"><code>silent</code></a> = <span class="kt">false</span>;
  <a class="n idl-code" data-link-type="interface" href="https://heycam.github.io/webidl/#idl-boolean" id="ref-for-idl-boolean⑤①"><span class="kt">boolean</span></a> <a class="nv" data-default="false" data-type="boolean " href="#dom-notificationoptions-requireinteraction"><code>requireInteraction</code></a> = <span class="kt">false</span>;
  <span class="kt">any</span> <a class="nv" data-default="null" data-type="any " href="#dom-notificationoptions-data"><code>data</code></a> = <span class="kt">null</span>;
  <span class="kt">sequence</span>&lt;<a class="n" data-link-type="idl-name" href="#dictdef-notificationaction" id="ref-for-dictdef-notificationaction①①">NotificationAction</a>> <a class="nv" data-default="None" data-type="sequence<NotificationAction> " href="#dom-notificationoptions-actions"><code>actions</code></a> = [];
};

<span class="kt">enum</span> <a class="nv" href="#enumdef-notificationpermission"><code>NotificationPermission</code></a> {
  <a class="s" href="#dom-notificationpermission-default"><code>"default"</code></a>,
  <a class="s" href="#dom-notificationpermission-denied"><code>"denied"</code></a>,
  <a class="s" href="#dom-notificationpermission-granted"><code>"granted"</code></a>
};

<span class="kt">enum</span> <a class="nv" href="#enumdef-notificationdirection"><code>NotificationDirection</code></a> {
  <a class="s" href="#dom-notificationdirection-auto"><code>"auto"</code></a>,
  <a class="s" href="#dom-notificationdirection-ltr"><code>"ltr"</code></a>,
  <a class="s" href="#dom-notificationdirection-rtl"><code>"rtl"</code></a>
};

<span class="kt">dictionary</span> <a class="nv" href="#dictdef-notificationaction"><code>NotificationAction</code></a> {
  <span class="kt">required</span> <a class="n idl-code" data-link-type="interface" href="https://heycam.github.io/webidl/#idl-DOMString" id="ref-for-idl-DOMString⑧①"><span class="kt">DOMString</span></a> <a class="nv" data-type="DOMString " href="#dom-notificationaction-action"><code>action</code></a>;
  <span class="kt">required</span> <a class="n idl-code" data-link-type="interface" href="https://heycam.github.io/webidl/#idl-DOMString" id="ref-for-idl-DOMString⑨①"><span class="kt">DOMString</span></a> <a class="nv" data-type="DOMString " href="#dom-notificationaction-title"><code>title</code></a>;
  <a class="n idl-code" data-link-type="interface" href="https://heycam.github.io/webidl/#idl-USVString" id="ref-for-idl-USVString⑧①"><span class="kt">USVString</span></a> <a class="nv" data-type="USVString " href="#dom-notificationaction-icon"><code>icon</code></a>;
};

<span class="kt">callback</span> <a class="nv" href="#callbackdef-notificationpermissioncallback"><code>NotificationPermissionCallback</code></a> = <span class="kt">void</span> (<a class="n" data-link-type="idl-name" href="#enumdef-notificationpermission" id="ref-for-enumdef-notificationpermission②①">NotificationPermission</a> <a class="nv" href="#dom-notificationpermissioncallback-permission"><code>permission</code></a>);

<span class="kt">dictionary</span> <a class="nv" href="#dictdef-getnotificationoptions"><code>GetNotificationOptions</code></a> {
  <a class="n idl-code" data-link-type="interface" href="https://heycam.github.io/webidl/#idl-DOMString" id="ref-for-idl-DOMString①⓪①"><span class="kt">DOMString</span></a> <a class="nv" data-default="&quot;&quot;" data-type="DOMString " href="#dom-getnotificationoptions-tag"><code>tag</code></a> = "";
};

<span class="kt">partial</span> <span class="kt">interface</span> <a class="nv idl-code" data-link-type="interface" href="https://w3c.github.io/ServiceWorker/#serviceworkerregistration" id="ref-for-serviceworkerregistration①">ServiceWorkerRegistration</a> {
  <span class="kt">Promise</span>&lt;<span class="kt">void</span>> <a class="nv idl-code" data-link-type="method" href="#dom-serviceworkerregistration-shownotification" id="ref-for-dom-serviceworkerregistration-shownotification①①">showNotification</a>(<a class="n idl-code" data-link-type="interface" href="https://heycam.github.io/webidl/#idl-DOMString" id="ref-for-idl-DOMString①①①"><span class="kt">DOMString</span></a> <a class="nv" href="#dom-serviceworkerregistration-shownotification-title-options-title"><code>title</code></a>, <span class="kt">optional</span> <a class="n" data-link-type="idl-name" href="#dictdef-notificationoptions" id="ref-for-dictdef-notificationoptions①①">NotificationOptions</a> <a class="nv" href="#dom-serviceworkerregistration-shownotification-title-options-options"><code>options</code></a>);
  <span class="kt">Promise</span>&lt;<span class="kt">sequence</span>&lt;<a class="n" data-link-type="idl-name" href="#notification" id="ref-for-notification①⓪①">Notification</a>>> <a class="nv idl-code" data-link-type="method" href="#dom-serviceworkerregistration-getnotifications" id="ref-for-dom-serviceworkerregistration-getnotifications①">getNotifications</a>(<span class="kt">optional</span> <a class="n" data-link-type="idl-name" href="#dictdef-getnotificationoptions" id="ref-for-dictdef-getnotificationoptions①">GetNotificationOptions</a> <a class="nv" href="#dom-serviceworkerregistration-getnotifications-filter-filter"><code>filter</code></a>);
};

[<a class="nv" href="#dom-notificationevent-notificationevent"><code>Constructor</code></a>(<a class="n idl-code" data-link-type="interface" href="https://heycam.github.io/webidl/#idl-DOMString" id="ref-for-idl-DOMString①②①"><span class="kt">DOMString</span></a> <a class="nv" href="#dom-notificationevent-notificationevent-type-eventinitdict-type"><code>type</code></a>, <a class="n" data-link-type="idl-name" href="#dictdef-notificationeventinit" id="ref-for-dictdef-notificationeventinit①">NotificationEventInit</a> <a class="nv" href="#dom-notificationevent-notificationevent-type-eventinitdict-eventinitdict"><code>eventInitDict</code></a>),
 <a class="nv idl-code" data-link-type="extended-attribute" href="https://heycam.github.io/webidl/#Exposed" id="ref-for-Exposed②①">Exposed</a>=<span class="n">ServiceWorker</span>]
<span class="kt">interface</span> <a class="nv" href="#notificationevent"><code>NotificationEvent</code></a> : <a class="n" data-link-type="idl-name" href="https://w3c.github.io/ServiceWorker/#extendableevent" id="ref-for-extendableevent①">ExtendableEvent</a> {
  <span class="kt">readonly</span> <span class="kt">attribute</span> <a class="n" data-link-type="idl-name" href="#notification" id="ref-for-notification①①①">Notification</a> <a class="nv" data-readonly="" data-type="Notification" href="#dom-notificationevent-notification"><code>notification</code></a>;
  <span class="kt">readonly</span> <span class="kt">attribute</span> <a class="n idl-code" data-link-type="interface" href="https://heycam.github.io/webidl/#idl-DOMString" id="ref-for-idl-DOMString①③①"><span class="kt">DOMString</span></a> <a class="nv" data-readonly="" data-type="DOMString" href="#dom-notificationevent-action"><code>action</code></a>;
};

<span class="kt">dictionary</span> <a class="nv" href="#dictdef-notificationeventinit"><code>NotificationEventInit</code></a> : <a class="n" data-link-type="idl-name" href="https://w3c.github.io/ServiceWorker/#dictdef-extendableeventinit" id="ref-for-dictdef-extendableeventinit①">ExtendableEventInit</a> {
  <span class="kt">required</span> <a class="n" data-link-type="idl-name" href="#notification" id="ref-for-notification①②①">Notification</a> <a class="nv" data-type="Notification " href="#dom-notificationeventinit-notification"><code>notification</code></a>;
  <a class="n idl-code" data-link-type="interface" href="https://heycam.github.io/webidl/#idl-DOMString" id="ref-for-idl-DOMString①④①"><span class="kt">DOMString</span></a> <a class="nv" data-default="&quot;&quot;" data-type="DOMString " href="#dom-notificationeventinit-action"><code>action</code></a> = "";
};

<span class="kt">partial</span> <span class="kt">interface</span> <a class="nv idl-code" data-link-type="interface" href="https://w3c.github.io/ServiceWorker/#serviceworkerglobalscope" id="ref-for-serviceworkerglobalscope②①">ServiceWorkerGlobalScope</a> {
  <span class="kt">attribute</span> <a class="n" data-link-type="idl-name" href="https://html.spec.whatwg.org/multipage/webappapis.html#eventhandler" id="ref-for-eventhandler②①">EventHandler</a> <a class="nv idl-code" data-link-type="attribute" data-type="EventHandler" href="#dom-serviceworkerglobalscope-onnotificationclick" id="ref-for-dom-serviceworkerglobalscope-onnotificationclick①">onnotificationclick</a>;
  <span class="kt">attribute</span> <a class="n" data-link-type="idl-name" href="https://html.spec.whatwg.org/multipage/webappapis.html#eventhandler" id="ref-for-eventhandler③①">EventHandler</a> <a class="nv idl-code" data-link-type="attribute" data-type="EventHandler" href="#dom-serviceworkerglobalscope-onnotificationclose" id="ref-for-dom-serviceworkerglobalscope-onnotificationclose①">onnotificationclose</a>;
};

</pre>