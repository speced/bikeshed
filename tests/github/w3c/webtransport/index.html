<!doctype html><html lang="en">
 <head>
  <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
  <meta content="width=device-width, initial-scale=1, shrink-to-fit=no" name="viewport">
  <title>WebTransport</title>
  <meta content="w3c/ED" name="w3c-status">
  <link href="https://www.w3.org/StyleSheets/TR/2021/W3C-ED" rel="stylesheet">
  <link href="https://www.w3.org/2008/site/images/favicon.ico" rel="icon">
  <link href="https://github.com/w3c/webtransport" rel="canonical">
<style>/* Boilerplate: style-autolinks */
.css.css, .property.property, .descriptor.descriptor {
    color: var(--a-normal-text);
    font-size: inherit;
    font-family: inherit;
}
.css::before, .property::before, .descriptor::before {
    content: "‘";
}
.css::after, .property::after, .descriptor::after {
    content: "’";
}
.property, .descriptor {
    /* Don't wrap property and descriptor names */
    white-space: nowrap;
}
.type { /* CSS value <type> */
    font-style: italic;
}
pre .property::before, pre .property::after {
    content: "";
}
[data-link-type="property"]::before,
[data-link-type="propdesc"]::before,
[data-link-type="descriptor"]::before,
[data-link-type="value"]::before,
[data-link-type="function"]::before,
[data-link-type="at-rule"]::before,
[data-link-type="selector"]::before,
[data-link-type="maybe"]::before {
    content: "‘";
}
[data-link-type="property"]::after,
[data-link-type="propdesc"]::after,
[data-link-type="descriptor"]::after,
[data-link-type="value"]::after,
[data-link-type="function"]::after,
[data-link-type="at-rule"]::after,
[data-link-type="selector"]::after,
[data-link-type="maybe"]::after {
    content: "’";
}

[data-link-type].production::before,
[data-link-type].production::after,
.prod [data-link-type]::before,
.prod [data-link-type]::after {
    content: "";
}

[data-link-type=element],
[data-link-type=element-attr] {
    font-family: Menlo, Consolas, "DejaVu Sans Mono", monospace;
    font-size: .9em;
}
[data-link-type=element]::before { content: "<" }
[data-link-type=element]::after  { content: ">" }

[data-link-type=biblio] {
    white-space: pre;
}

@media (prefers-color-scheme: dark) {
    :root {
        --selflink-text: black;
        --selflink-bg: silver;
        --selflink-hover-text: white;
    }
}
</style>
<style>/* Boilerplate: style-colors */

/* Any --*-text not paired with a --*-bg is assumed to have a transparent bg */
:root {
    color-scheme: light dark;

    --text: black;
    --bg: white;

    --unofficial-watermark: url(https://www.w3.org/StyleSheets/TR/2016/logos/UD-watermark);

    --logo-bg: #1a5e9a;
    --logo-active-bg: #c00;
    --logo-text: white;

    --tocnav-normal-text: #707070;
    --tocnav-normal-bg: var(--bg);
    --tocnav-hover-text: var(--tocnav-normal-text);
    --tocnav-hover-bg: #f8f8f8;
    --tocnav-active-text: #c00;
    --tocnav-active-bg: var(--tocnav-normal-bg);

    --tocsidebar-text: var(--text);
    --tocsidebar-bg: #f7f8f9;
    --tocsidebar-shadow: rgba(0,0,0,.1);
    --tocsidebar-heading-text: hsla(203,20%,40%,.7);

    --toclink-text: var(--text);
    --toclink-underline: #3980b5;
    --toclink-visited-text: var(--toclink-text);
    --toclink-visited-underline: #054572;

    --heading-text: #005a9c;

    --hr-text: var(--text);

    --algo-border: #def;

    --del-text: red;
    --del-bg: transparent;
    --ins-text: #080;
    --ins-bg: transparent;

    --a-normal-text: #034575;
    --a-normal-underline: #bbb;
    --a-visited-text: var(--a-normal-text);
    --a-visited-underline: #707070;
    --a-hover-bg: rgba(75%, 75%, 75%, .25);
    --a-active-text: #c00;
    --a-active-underline: #c00;

    --blockquote-border: silver;
    --blockquote-bg: transparent;
    --blockquote-text: currentcolor;

    --issue-border: #e05252;
    --issue-bg: #fbe9e9;
    --issue-text: var(--text);
    --issueheading-text: #831616;

    --example-border: #e0cb52;
    --example-bg: #fcfaee;
    --example-text: var(--text);
    --exampleheading-text: #574b0f;

    --note-border: #52e052;
    --note-bg: #e9fbe9;
    --note-text: var(--text);
    --noteheading-text: hsl(120, 70%, 30%);
    --notesummary-underline: silver;

    --assertion-border: #aaa;
    --assertion-bg: #eee;
    --assertion-text: black;

    --advisement-border: orange;
    --advisement-bg: #fec;
    --advisement-text: var(--text);
    --advisementheading-text: #b35f00;

    --warning-border: red;
    --warning-bg: hsla(40,100%,50%,0.95);
    --warning-text: var(--text);

    --amendment-border: #330099;
    --amendment-bg: #F5F0FF;
    --amendment-text: var(--text);
    --amendmentheading-text: #220066;

    --def-border: #8ccbf2;
    --def-bg: #def;
    --def-text: var(--text);
    --defrow-border: #bbd7e9;

    --datacell-border: silver;

    --indexinfo-text: #707070;

    --indextable-hover-text: black;
    --indextable-hover-bg: #f7f8f9;

    --outdatedspec-bg: rgba(0, 0, 0, .5);
    --outdatedspec-text: black;
    --outdated-bg: maroon;
    --outdated-text: white;
    --outdated-shadow: red;

    --editedrec-bg: darkorange;
}

@media (prefers-color-scheme: dark) {
    :root {
        --text: #ddd;
        --bg: black;

        --unofficial-watermark: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='400' height='400'%3E%3Cg fill='%23100808' transform='translate(200 200) rotate(-45) translate(-200 -200)' stroke='%23100808' stroke-width='3'%3E%3Ctext x='50%25' y='220' style='font: bold 70px sans-serif; text-anchor: middle; letter-spacing: 6px;'%3EUNOFFICIAL%3C/text%3E%3Ctext x='50%25' y='305' style='font: bold 70px sans-serif; text-anchor: middle; letter-spacing: 6px;'%3EDRAFT%3C/text%3E%3C/g%3E%3C/svg%3E");

        --logo-bg: #1a5e9a;
        --logo-active-bg: #c00;
        --logo-text: white;

        --tocnav-normal-text: #999;
        --tocnav-normal-bg: var(--bg);
        --tocnav-hover-text: var(--tocnav-normal-text);
        --tocnav-hover-bg: #080808;
        --tocnav-active-text: #f44;
        --tocnav-active-bg: var(--tocnav-normal-bg);

        --tocsidebar-text: var(--text);
        --tocsidebar-bg: #080808;
        --tocsidebar-shadow: rgba(255,255,255,.1);
        --tocsidebar-heading-text: hsla(203,20%,40%,.7);

        --toclink-text: var(--text);
        --toclink-underline: #6af;
        --toclink-visited-text: var(--toclink-text);
        --toclink-visited-underline: #054572;

        --heading-text: #8af;

        --hr-text: var(--text);

        --algo-border: #456;

        --del-text: #f44;
        --del-bg: transparent;
        --ins-text: #4a4;
        --ins-bg: transparent;

        --a-normal-text: #6af;
        --a-normal-underline: #555;
        --a-visited-text: var(--a-normal-text);
        --a-visited-underline: var(--a-normal-underline);
        --a-hover-bg: rgba(25%, 25%, 25%, .2);
        --a-active-text: #f44;
        --a-active-underline: var(--a-active-text);

        --borderedblock-bg: rgba(255, 255, 255, .05);

        --blockquote-border: silver;
        --blockquote-bg: var(--borderedblock-bg);
        --blockquote-text: currentcolor;

        --issue-border: #e05252;
        --issue-bg: var(--borderedblock-bg);
        --issue-text: var(--text);
        --issueheading-text: hsl(0deg, 70%, 70%);

        --example-border: hsl(50deg, 90%, 60%);
        --example-bg: var(--borderedblock-bg);
        --example-text: var(--text);
        --exampleheading-text: hsl(50deg, 70%, 70%);

        --note-border: hsl(120deg, 100%, 35%);
        --note-bg: var(--borderedblock-bg);
        --note-text: var(--text);
        --noteheading-text: hsl(120, 70%, 70%);
        --notesummary-underline: silver;

        --assertion-border: #444;
        --assertion-bg: var(--borderedblock-bg);
        --assertion-text: var(--text);

        --advisement-border: orange;
        --advisement-bg: #222218;
        --advisement-text: var(--text);
        --advisementheading-text: #f84;

        --warning-border: red;
        --warning-bg: hsla(40,100%,20%,0.95);
        --warning-text: var(--text);

        --amendment-border: #330099;
        --amendment-bg: #080010;
        --amendment-text: var(--text);
        --amendmentheading-text: #cc00ff;

        --def-border: #8ccbf2;
        --def-bg: #080818;
        --def-text: var(--text);
        --defrow-border: #136;

        --datacell-border: silver;

        --indexinfo-text: #aaa;

        --indextable-hover-text: var(--text);
        --indextable-hover-bg: #181818;

        --outdatedspec-bg: rgba(255, 255, 255, .5);
        --outdatedspec-text: black;
        --outdated-bg: maroon;
        --outdated-text: white;
        --outdated-shadow: red;

        --editedrec-bg: darkorange;
    }
    /* In case a transparent-bg image doesn't expect to be on a dark bg,
       which is quite common in practice... */
    img { background: white; }
}
</style>
<style>/* Boilerplate: style-counters */
body {
    counter-reset: example figure issue;
}
.issue {
    counter-increment: issue;
}
.issue:not(.no-marker)::before {
    content: "Issue " counter(issue);
}

.example {
    counter-increment: example;
}
.example:not(.no-marker)::before {
    content: "Example " counter(example);
}
.invalid.example:not(.no-marker)::before,
.illegal.example:not(.no-marker)::before {
    content: "Invalid Example" counter(example);
}

figcaption {
    counter-increment: figure;
}
figcaption:not(.no-marker)::before {
    content: "Figure " counter(figure) " ";
}
</style>
<style>/* Boilerplate: style-dfn-panel */
:root {
    --dfnpanel-bg: #ddd;
    --dfnpanel-text: var(--text);
    --dfnpanel-target-bg: #ffc;
    --dfnpanel-target-outline: orange;
}
@media (prefers-color-scheme: dark) {
    :root {
        --dfnpanel-bg: #222;
        --dfnpanel-text: var(--text);
        --dfnpanel-target-bg: #333;
        --dfnpanel-target-outline: silver;
    }
}
.dfn-panel {
    position: absolute;
    z-index: 35;
    width: 20em;
    width: 300px;
    height: auto;
    max-height: 500px;
    overflow: auto;
    padding: 0.5em 0.75em;
    font: small Helvetica Neue, sans-serif, Droid Sans Fallback;
    background: var(--dfnpanel-bg);
    color: var(--dfnpanel-text);
    border: outset 0.2em;
    white-space: normal; /* in case it's moved into a pre */
}
.dfn-panel:not(.on) { display: none; }
.dfn-panel * { margin: 0; padding: 0; text-indent: 0; }
.dfn-panel > b { display: block; }
.dfn-panel a { color: var(--dfnpanel-text); }
.dfn-panel a:not(:hover) { text-decoration: none !important; border-bottom: none !important; }
.dfn-panel a:focus {
    outline: 5px auto Highlight;
    outline: 5px auto -webkit-focus-ring-color;
}
.dfn-panel > b + b { margin-top: 0.25em; }
.dfn-panel ul { padding: 0 0 0 1em; list-style: none; }
.dfn-panel li a {
    max-width: calc(300px - 1.5em - 1em);
    overflow: hidden;
    text-overflow: ellipsis;
}

.dfn-panel.activated {
    display: inline-block;
    position: fixed;
    left: 8px;
    bottom: 2em;
    margin: 0 auto;
    max-width: calc(100vw - 1.5em - .4em - .5em);
    max-height: 30vh;
    transition: left 1s ease-out, bottom 1s ease-out;
}

.dfn-panel .link-item:hover {
    text-decoration: underline;
}
.dfn-panel .link-item .copy-icon {
    opacity: 0;
}
.dfn-panel .link-item:hover .copy-icon,
.dfn-panel .link-item .copy-icon:focus {
    opacity: 1;
}

.dfn-panel .copy-icon {
    display: inline-block;
    margin-right: 0.5em;
    width: 0.85em;
    height: 1em;
    border-radius: 3;
    background-color: #ccc;
    cursor: pointer;
}

.dfn-panel .copy-icon .icon {
    width: 100%;
    height: 100%;
    background-color: #fff;
    display: flex;
    justify-content: center;
    align-items: center;
    position: relative;
}

.dfn-panel .copy-icon .icon::before {
    content: "";
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    border: 1px solid black;
    background-color: #ccc;
    opacity: 0.25;
    transform: translate(3px, -3px);
}

.dfn-panel .copy-icon:active .icon::before {
    opacity: 1;
}

.dfn-paneled[role="button"] { cursor: help; }

.highlighted {
    animation: target-fade 3s;
}

@keyframes target-fade {
    from {
        background-color: var(--dfnpanel-target-bg);
        outline: 5px solid var(--dfnpanel-target-outline);
    }
    to {
        color: var(--a-normal-text);
        background-color: transparent;
        outline: transparent;
    }
}
</style>
<style>/* Boilerplate: style-issues */
a[href].issue-return {
    float: right;
    float: inline-end;
    color: var(--issueheading-text);
    font-weight: bold;
    text-decoration: none;
}
</style>
<style>/* Boilerplate: style-md-lists */
/* This is a weird hack for me not yet following the commonmark spec
   regarding paragraph and lists. */
[data-md] > :first-child {
    margin-top: 0;
}
[data-md] > :last-child {
    margin-bottom: 0;
}
</style>
<style>/* Boilerplate: style-ref-hints */
:root {
    --ref-hint-bg: #ddd;
    --ref-hint-text: var(--text);
}
@media (prefers-color-scheme: dark) {
    :root {
        --ref-hint-bg: #222;
        --ref-hint-text: var(--text);
    }
}

.ref-hint {
    display: none;
    position: absolute;
    z-index: 35;
    width: 20em;
    width: 300px;
    height: auto;
    max-height: 500px;
    overflow: auto;
    padding: 0.5em 0.5em;
    font: small Helvetica Neue, sans-serif, Droid Sans Fallback;
    background: var(--ref-hint-bg);
    color: var(--ref-hint-text);
    border: outset 0.2em;
    white-space: normal; /* in case it's moved into a pre */
}

.ref-hint.on {
    display: inline-block;
}

.ref-hint * { margin: 0; padding: 0; text-indent: 0; }

.ref-hint ul { padding: 0 0 0 1em; list-style: none; }
</style>
<style>/* Boilerplate: style-selflinks */

:root {
    --selflink-text: white;
    --selflink-bg: gray;
    --selflink-hover-text: black;
}
.heading, .issue, .note, .example, li, dt {
    position: relative;
}
a.self-link {
    position: absolute;
    top: 0;
    left: calc(-1 * (3.5rem - 26px));
    width: calc(3.5rem - 26px);
    height: 2em;
    text-align: center;
    border: none;
    transition: opacity .2s;
    opacity: .5;
}
a.self-link:hover {
    opacity: 1;
}
.heading > a.self-link {
    font-size: 83%;
}
.example > a.self-link,
.note > a.self-link,
.issue > a.self-link {
    /* These blocks are overflow:auto, so positioning outside
       doesn't work. */
    left: auto;
    right: 0;
}
li > a.self-link {
    left: calc(-1 * (3.5rem - 26px) - 2em);
}
dfn > a.self-link {
    top: auto;
    left: auto;
    opacity: 0;
    width: 1.5em;
    height: 1.5em;
    background: var(--selflink-bg);
    color: var(--selflink-text);
    font-style: normal;
    transition: opacity .2s, background-color .2s, color .2s;
}
dfn:hover > a.self-link {
    opacity: 1;
}
dfn > a.self-link:hover {
    color: var(--selflink-hover-text);
}

a.self-link::before            { content: "¶"; }
.heading > a.self-link::before { content: "§"; }
dfn > a.self-link::before      { content: "#"; }
</style>
<style>/* Boilerplate: style-syntax-highlighting */

code.highlight { padding: .1em; border-radius: .3em; }
pre.highlight, pre > code.highlight { display: block; padding: 1em; margin: .5em 0; overflow: auto; border-radius: 0; }

.highlight:not(.idl) { background: rgba(0, 0, 0, .03); }
c-[a] { color: #990055 } /* Keyword.Declaration */
c-[b] { color: #990055 } /* Keyword.Type */
c-[c] { color: #708090 } /* Comment */
c-[d] { color: #708090 } /* Comment.Multiline */
c-[e] { color: #0077aa } /* Name.Attribute */
c-[f] { color: #669900 } /* Name.Tag */
c-[g] { color: #222222 } /* Name.Variable */
c-[k] { color: #990055 } /* Keyword */
c-[l] { color: #000000 } /* Literal */
c-[m] { color: #000000 } /* Literal.Number */
c-[n] { color: #0077aa } /* Name */
c-[o] { color: #999999 } /* Operator */
c-[p] { color: #999999 } /* Punctuation */
c-[s] { color: #a67f59 } /* Literal.String */
c-[t] { color: #a67f59 } /* Literal.String.Single */
c-[u] { color: #a67f59 } /* Literal.String.Double */
c-[cp] { color: #708090 } /* Comment.Preproc */
c-[c1] { color: #708090 } /* Comment.Single */
c-[cs] { color: #708090 } /* Comment.Special */
c-[kc] { color: #990055 } /* Keyword.Constant */
c-[kn] { color: #990055 } /* Keyword.Namespace */
c-[kp] { color: #990055 } /* Keyword.Pseudo */
c-[kr] { color: #990055 } /* Keyword.Reserved */
c-[ld] { color: #000000 } /* Literal.Date */
c-[nc] { color: #0077aa } /* Name.Class */
c-[no] { color: #0077aa } /* Name.Constant */
c-[nd] { color: #0077aa } /* Name.Decorator */
c-[ni] { color: #0077aa } /* Name.Entity */
c-[ne] { color: #0077aa } /* Name.Exception */
c-[nf] { color: #0077aa } /* Name.Function */
c-[nl] { color: #0077aa } /* Name.Label */
c-[nn] { color: #0077aa } /* Name.Namespace */
c-[py] { color: #0077aa } /* Name.Property */
c-[ow] { color: #999999 } /* Operator.Word */
c-[mb] { color: #000000 } /* Literal.Number.Bin */
c-[mf] { color: #000000 } /* Literal.Number.Float */
c-[mh] { color: #000000 } /* Literal.Number.Hex */
c-[mi] { color: #000000 } /* Literal.Number.Integer */
c-[mo] { color: #000000 } /* Literal.Number.Oct */
c-[sb] { color: #a67f59 } /* Literal.String.Backtick */
c-[sc] { color: #a67f59 } /* Literal.String.Char */
c-[sd] { color: #a67f59 } /* Literal.String.Doc */
c-[se] { color: #a67f59 } /* Literal.String.Escape */
c-[sh] { color: #a67f59 } /* Literal.String.Heredoc */
c-[si] { color: #a67f59 } /* Literal.String.Interpol */
c-[sx] { color: #a67f59 } /* Literal.String.Other */
c-[sr] { color: #a67f59 } /* Literal.String.Regex */
c-[ss] { color: #a67f59 } /* Literal.String.Symbol */
c-[vc] { color: #0077aa } /* Name.Variable.Class */
c-[vg] { color: #0077aa } /* Name.Variable.Global */
c-[vi] { color: #0077aa } /* Name.Variable.Instance */
c-[il] { color: #000000 } /* Literal.Number.Integer.Long */


@media (prefers-color-scheme: dark) {
    .highlight:not(.idl) { background: rgba(255, 255, 255, .05); }

    c-[a] { color: #d33682 } /* Keyword.Declaration */
    c-[b] { color: #d33682 } /* Keyword.Type */
    c-[c] { color: #2aa198 } /* Comment */
    c-[d] { color: #2aa198 } /* Comment.Multiline */
    c-[e] { color: #268bd2 } /* Name.Attribute */
    c-[f] { color: #b58900 } /* Name.Tag */
    c-[g] { color: #cb4b16 } /* Name.Variable */
    c-[k] { color: #d33682 } /* Keyword */
    c-[l] { color: #657b83 } /* Literal */
    c-[m] { color: #657b83 } /* Literal.Number */
    c-[n] { color: #268bd2 } /* Name */
    c-[o] { color: #657b83 } /* Operator */
    c-[p] { color: #657b83 } /* Punctuation */
    c-[s] { color: #6c71c4 } /* Literal.String */
    c-[t] { color: #6c71c4 } /* Literal.String.Single */
    c-[u] { color: #6c71c4 } /* Literal.String.Double */
    c-[ch] { color: #2aa198 } /* Comment.Hashbang */
    c-[cp] { color: #2aa198 } /* Comment.Preproc */
    c-[cpf] { color: #2aa198 } /* Comment.PreprocFile */
    c-[c1] { color: #2aa198 } /* Comment.Single */
    c-[cs] { color: #2aa198 } /* Comment.Special */
    c-[kc] { color: #d33682 } /* Keyword.Constant */
    c-[kn] { color: #d33682 } /* Keyword.Namespace */
    c-[kp] { color: #d33682 } /* Keyword.Pseudo */
    c-[kr] { color: #d33682 } /* Keyword.Reserved */
    c-[ld] { color: #657b83 } /* Literal.Date */
    c-[nc] { color: #268bd2 } /* Name.Class */
    c-[no] { color: #268bd2 } /* Name.Constant */
    c-[nd] { color: #268bd2 } /* Name.Decorator */
    c-[ni] { color: #268bd2 } /* Name.Entity */
    c-[ne] { color: #268bd2 } /* Name.Exception */
    c-[nf] { color: #268bd2 } /* Name.Function */
    c-[nl] { color: #268bd2 } /* Name.Label */
    c-[nn] { color: #268bd2 } /* Name.Namespace */
    c-[py] { color: #268bd2 } /* Name.Property */
    c-[ow] { color: #657b83 } /* Operator.Word */
    c-[mb] { color: #657b83 } /* Literal.Number.Bin */
    c-[mf] { color: #657b83 } /* Literal.Number.Float */
    c-[mh] { color: #657b83 } /* Literal.Number.Hex */
    c-[mi] { color: #657b83 } /* Literal.Number.Integer */
    c-[mo] { color: #657b83 } /* Literal.Number.Oct */
    c-[sa] { color: #6c71c4 } /* Literal.String.Affix */
    c-[sb] { color: #6c71c4 } /* Literal.String.Backtick */
    c-[sc] { color: #6c71c4 } /* Literal.String.Char */
    c-[dl] { color: #6c71c4 } /* Literal.String.Delimiter */
    c-[sd] { color: #6c71c4 } /* Literal.String.Doc */
    c-[se] { color: #6c71c4 } /* Literal.String.Escape */
    c-[sh] { color: #6c71c4 } /* Literal.String.Heredoc */
    c-[si] { color: #6c71c4 } /* Literal.String.Interpol */
    c-[sx] { color: #6c71c4 } /* Literal.String.Other */
    c-[sr] { color: #6c71c4 } /* Literal.String.Regex */
    c-[ss] { color: #6c71c4 } /* Literal.String.Symbol */
    c-[fm] { color: #268bd2 } /* Name.Function.Magic */
    c-[vc] { color: #cb4b16 } /* Name.Variable.Class */
    c-[vg] { color: #cb4b16 } /* Name.Variable.Global */
    c-[vi] { color: #cb4b16 } /* Name.Variable.Instance */
    c-[vm] { color: #cb4b16 } /* Name.Variable.Magic */
    c-[il] { color: #657b83 } /* Literal.Number.Integer.Long */
}
</style>
<style>/* Boilerplate: style-var-click-highlighting */
/*
Colors were chosen in Lab using https://nixsensor.com/free-color-converter/
D50 2deg illuminant, L in [0,100], a and b in [-128, 128]
0 = lab(85,0,85)
1 = lab(85,80,30)
2 = lab(85,-40,40)
3 = lab(85,-50,0)
4 = lab(85,5,15)
5 = lab(85,-10,-50)
6 = lab(85,35,-15)
*/
var { cursor: pointer; }
var.selected0 { background-color: #F4D200; box-shadow: 0 0 0 2px #F4D200; }
var.selected1 { background-color: #FF87A2; box-shadow: 0 0 0 2px #FF87A2; }
var.selected2 { background-color: #96E885; box-shadow: 0 0 0 2px #96E885; }
var.selected3 { background-color: #3EEED2; box-shadow: 0 0 0 2px #3EEED2; }
var.selected4 { background-color: #EACFB6; box-shadow: 0 0 0 2px #EACFB6; }
var.selected5 { background-color: #82DDFF; box-shadow: 0 0 0 2px #82DDFF; }
var.selected6 { background-color: #FFBCF2; box-shadow: 0 0 0 2px #FFBCF2; }
</style>
 <body class="h-entry">
  <div class="head">
   <p data-fill-with="logo"><a class="logo" href="https://www.w3.org/"> <img alt="W3C" height="48" src="https://www.w3.org/StyleSheets/TR/2021/logos/W3C" width="72"> </a> </p>
   <h1 class="p-name no-ref" id="title">WebTransport</h1>
   <p id="w3c-state"><a href="https://www.w3.org/standards/types#ED">Editor’s Draft</a>, <time class="dt-updated" datetime="1970-01-01">1 January 1970</time></p>
   <details open>
    <summary>More details about this document</summary>
    <div data-fill-with="spec-metadata">
     <dl>
      <dt>This version:
      <dd><a class="u-url" href="https://github.com/w3c/webtransport">https://github.com/w3c/webtransport</a>
      <dt>Feedback:
      <dd><span><a href="mailto:public-webtransport@w3.org?subject=%5Bwebtransport%5D%20YOUR%20TOPIC%20HERE">public-webtransport@w3.org</a> with subject line “<kbd>[webtransport] <i data-lt>… message topic …</i></kbd>” (<a href="https://lists.w3.org/Archives/Public/public-webtransport/" rel="discussion">archives</a>)</span>
      <dt class="editor">Editors:
      <dd class="editor p-author h-card vcard"><span class="p-name fn">Bernard Aboba</span> (<span class="p-org org">Microsoft Corporation</span>)
      <dd class="editor p-author h-card vcard"><span class="p-name fn">Victor Vasiliev</span> (<span class="p-org org">Google</span>)
      <dd class="editor p-author h-card vcard"><span class="p-name fn">Yutaka Hirano</span> (<span class="p-org org">Google</span>)
      <dt class="editor">Former Editors:
      <dd class="editor p-author h-card vcard"><span class="p-name fn">Peter Thatcher</span> (<span class="p-org org">Google</span>)
      <dd class="editor p-author h-card vcard"><span class="p-name fn">Robin Raymond</span> (<span class="p-org org">Optical Tone Ltd.</span>)
     </dl>
    </div>
   </details>
   <div data-fill-with="warning"></div>
   <p class="copyright" data-fill-with="copyright"><a href="https://www.w3.org/Consortium/Legal/ipr-notice#Copyright">Copyright</a> © 1970 <a href="https://www.w3.org/">World Wide Web Consortium</a>. <abbr title="World Wide Web Consortium">W3C</abbr><sup>®</sup> <a href="https://www.w3.org/Consortium/Legal/ipr-notice#Legal_Disclaimer">liability</a>, <a href="https://www.w3.org/Consortium/Legal/ipr-notice#W3C_Trademarks">trademark</a> and <a href="https://www.w3.org/Consortium/Legal/2015/copyright-software-and-document" rel="license">permissive document license</a> rules apply. </p>
   <hr title="Separator for header">
  </div>
  <div class="p-summary" data-fill-with="abstract">
   <h2 class="no-num no-toc no-ref heading settled" id="abstract"><span class="content">Abstract</span></h2>
   <p>This document defines a set of ECMAScript APIs in WebIDL to allow data to be

  sent and received between a browser and server, utilizing <a data-link-type="biblio" href="#biblio-web-transport-http3" title="WebTransport over HTTP/3">[WEB-TRANSPORT-HTTP3]</a>.
  This specification is being developed in conjunction with a protocol
  specification developed by the IETF WEBTRANS Working Group.</p>
  </div>
  <h2 class="no-num no-toc no-ref heading settled" id="sotd"><span class="content">Status of this document</span></h2>
  <div data-fill-with="status">
   <p> This is a public copy of the editors’ draft.
	It is provided for discussion only and may change at any moment.
	Its publication here does not imply endorsement of its contents by W3C.
	Don’t cite this document other than as work in progress. </p>
   <p> Feedback and comments on this document are welcome. Please <a href="https://github.com/w3c/webtransport/issues">file an issue</a> in this document’s <a href="https://github.com/w3c/webtransport/">GitHub repository</a>. </p>
   <p> This document was produced by the <a href="https://www.w3.org/groups/wg/webtransport">WebTransport Working Group</a>. </p>
   <p> This document was produced by a group operating under
	the <a href="https://www.w3.org/Consortium/Patent-Policy/">W3C Patent Policy</a>.
	W3C maintains a <a href="https://www.w3.org/2004/01/pp-impl/125908/status" rel="disclosure">public list of any patent disclosures</a> made in connection with the deliverables of the group;
	that page also includes instructions for disclosing a patent.
	An individual who has actual knowledge of a patent which the individual believes contains <a href="https://www.w3.org/Consortium/Patent-Policy/#def-essential">Essential Claim(s)</a> must disclose the information in accordance with <a href="https://www.w3.org/Consortium/Patent-Policy/#sec-Disclosure">section 6 of the W3C Patent Policy</a>. </p>
   <p> This document is governed by the <a href="https://www.w3.org/2021/Process-20211102/" id="w3c_process_revision">2 November 2021 W3C Process Document</a>. </p>
   <p></p>
  </div>
  <div data-fill-with="at-risk"></div>
  <nav data-fill-with="table-of-contents" id="toc">
   <h2 class="no-num no-toc no-ref" id="contents">Table of Contents</h2>
   <ol class="toc" role="directory">
    <li><a href="#introduction"><span class="secno">1</span> <span class="content">Introduction</span></a>
    <li><a href="#conformance"><span class="secno">2</span> <span class="content">Conformance</span></a>
    <li><a href="#terminology"><span class="secno">3</span> <span class="content">Terminology</span></a>
    <li>
     <a href="#unidirectional-streams-transport"><span class="secno">4</span> <span class="content"><code>UnidirectionalStreamsTransport</code> Mixin</span></a>
     <ol class="toc">
      <li><a href="#unidirectional-streams-transport-methods"><span class="secno">4.1</span> <span class="content">Methods</span></a>
      <li>
       <a href="#unidirectional-streams-transport-procedures"><span class="secno">4.2</span> <span class="content">Procedures</span></a>
       <ol class="toc">
        <li><a href="#add-sendstream"><span class="secno">4.2.1</span> <span class="content">Add SendStream to UnidirectionalStreamsTransport</span></a>
       </ol>
      <li><a href="#send-stream-parameters"><span class="secno">4.3</span> <span class="content">SendStreamParameters Dictionary</span></a>
     </ol>
    <li>
     <a href="#bidirectional-streams-transport"><span class="secno">5</span> <span class="content"><code>BidirectionalStreamsTransport</code> Mixin</span></a>
     <ol class="toc">
      <li><a href="#bidirectional-streams-transport-methods"><span class="secno">5.1</span> <span class="content">Methods</span></a>
      <li>
       <a href="#bidirectional-streams-transport-procedures"><span class="secno">5.2</span> <span class="content">Procedures</span></a>
       <ol class="toc">
        <li><a href="#add-bidirectionalstream"><span class="secno">5.2.1</span> <span class="content">Add BidirectionalStream to BidirectionalStreamsTransport</span></a>
       </ol>
     </ol>
    <li>
     <a href="#datagram-transport"><span class="secno">6</span> <span class="content"><code>DatagramTransport</code> Mixin</span></a>
     <ol class="toc">
      <li><a href="#datagram-transport-attributes"><span class="secno">6.1</span> <span class="content">Attributes</span></a>
      <li><a href="#datagrams-transport-procedures"><span class="secno">6.2</span> <span class="content">Procedures</span></a>
     </ol>
    <li>
     <a href="#duplex-stream"><span class="secno">7</span> <span class="content"><code>DatagramDuplexStream</code> Interface</span></a>
     <ol class="toc">
      <li><a href="#duplex-stream-attributes"><span class="secno">7.1</span> <span class="content">Attributes</span></a>
     </ol>
    <li>
     <a href="#web-transport"><span class="secno">8</span> <span class="content"><code>WebTransport</code> Interface</span></a>
     <ol class="toc">
      <li><a href="#webtransport-internal-slots"><span class="secno">8.1</span> <span class="content">Internal slots</span></a>
      <li><a href="#webtransport-constructor"><span class="secno">8.2</span> <span class="content">Constructor</span></a>
      <li><a href="#webtransport-attributes"><span class="secno">8.3</span> <span class="content">Attributes</span></a>
      <li><a href="#webtransport-methods"><span class="secno">8.4</span> <span class="content">Methods</span></a>
      <li><a href="#web-transport-configuration"><span class="secno">8.5</span> <span class="content">Configuration</span></a>
      <li><a href="#web-transport-state-enum"><span class="secno">8.6</span> <span class="content"><code>WebTransportState</code> Enum</span></a>
      <li><a href="#web-transport-close-info"><span class="secno">8.7</span> <span class="content"><code>WebTransportCloseInfo</code> Dictionary</span></a>
      <li><a href="#web-transport-stats"><span class="secno">8.8</span> <span class="content"><code>WebTransportStats</code> Dictionary</span></a>
     </ol>
    <li>
     <a href="#send-stream"><span class="secno">9</span> <span class="content">Interface <code>SendStream</code></span></a>
     <ol class="toc">
      <li><a href="#outgoing-stream-overview"><span class="secno">9.1</span> <span class="content">Overview</span></a>
      <li><a href="#outgoing-stream-attributes"><span class="secno">9.2</span> <span class="content">Attributes</span></a>
      <li><a href="#outgoing-stream-methods"><span class="secno">9.3</span> <span class="content">Methods</span></a>
      <li><a href="#stream-abort-info"><span class="secno">9.4</span> <span class="content"><code>StreamAbortInfo</code> Dictionary</span></a>
     </ol>
    <li>
     <a href="#receive-stream"><span class="secno">10</span> <span class="content">Interface <code>ReceiveStream</code></span></a>
     <ol class="toc">
      <li><a href="#incoming-stream-overview"><span class="secno">10.1</span> <span class="content">Overview</span></a>
      <li><a href="#incoming-stream-attributes"><span class="secno">10.2</span> <span class="content">Attributes</span></a>
      <li><a href="#incoming-stream-methods"><span class="secno">10.3</span> <span class="content">Methods</span></a>
     </ol>
    <li><a href="#bidirectional-stream"><span class="secno">11</span> <span class="content">Interface <code>BidirectionalStream</code></span></a>
    <li><a href="#protocol-mapping"><span class="secno">12</span> <span class="content">Protocol Mappings</span></a>
    <li>
     <a href="#privacy-security"><span class="secno">13</span> <span class="content">Privacy and Security Considerations</span></a>
     <ol class="toc">
      <li><a href="#confidentiality"><span class="secno">13.1</span> <span class="content">Confidentiality of Communications</span></a>
      <li><a href="#state-persistence"><span class="secno">13.2</span> <span class="content">State Persistence</span></a>
      <li><a href="#protocol-security"><span class="secno">13.3</span> <span class="content">Protocol Security</span></a>
     </ol>
    <li>
     <a href="#examples"><span class="secno">14</span> <span class="content">Examples</span></a>
     <ol class="toc">
      <li><a href="#example-datagrams"><span class="secno">14.1</span> <span class="content">Sending a buffer of datagrams</span></a>
      <li><a href="#example-fixed-rate"><span class="secno">14.2</span> <span class="content">Sending datagrams at a fixed rate</span></a>
      <li><a href="#example-receiving-datagrams"><span class="secno">14.3</span> <span class="content">Receiving datagrams</span></a>
      <li><a href="#example-sending-stream"><span class="secno">14.4</span> <span class="content">Sending a stream</span></a>
      <li><a href="#example-receiving-incoming-streams"><span class="secno">14.5</span> <span class="content">Receiving incoming streams</span></a>
      <li><a href="#example-complete"><span class="secno">14.6</span> <span class="content">Complete example</span></a>
     </ol>
    <li><a href="#acknowledgements"><span class="secno">15</span> <span class="content">Acknowledgements</span></a>
    <li>
     <a href="#index"><span class="secno"></span> <span class="content">Index</span></a>
     <ol class="toc">
      <li><a href="#index-defined-here"><span class="secno"></span> <span class="content">Terms defined by this specification</span></a>
      <li><a href="#index-defined-elsewhere"><span class="secno"></span> <span class="content">Terms defined by reference</span></a>
     </ol>
    <li>
     <a href="#references"><span class="secno"></span> <span class="content">References</span></a>
     <ol class="toc">
      <li><a href="#normative"><span class="secno"></span> <span class="content">Normative References</span></a>
      <li><a href="#informative"><span class="secno"></span> <span class="content">Informative References</span></a>
     </ol>
    <li><a href="#idl-index"><span class="secno"></span> <span class="content">IDL Index</span></a>
    <li><a href="#issues-index"><span class="secno"></span> <span class="content">Issues Index</span></a>
   </ol>
  </nav>
  <main>
   <h2 class="heading settled" data-level="1" id="introduction"><span class="secno">1. </span><span class="content">Introduction</span><a class="self-link" href="#introduction"></a></h2>
   <p><em>This section is non-normative.</em></p>
   <p>This specification uses <a data-link-type="biblio" href="#biblio-web-transport-http3" title="WebTransport over HTTP/3">[WEB-TRANSPORT-HTTP3]</a> to send data to and receive
data from servers. It can be used like WebSockets but with support for multiple
streams, unidirectional streams, out-of-order delivery, and reliable as well as
unreliable transport.</p>
   <p class="note" role="note"><span class="marker">Note:</span> The API presented in this specification represents a preliminary proposal
based on work-in-progress within the IETF WEBTRANS WG. Since the <a data-link-type="biblio" href="#biblio-web-transport-http3" title="WebTransport over HTTP/3">[WEB-TRANSPORT-HTTP3]</a> specification is a work-in-progress, both the protocol and API are likely to
change significantly going forward.</p>
   <h2 class="heading settled" data-level="2" id="conformance"><span class="secno">2. </span><span class="content">Conformance</span><a class="self-link" href="#conformance"></a></h2>
   <p>As well as sections marked as non-normative, all authoring guidelines,
diagrams, examples, and notes in this specification are non-normative.
Everything else in this specification is normative.</p>
   <p>The key words <em>MUST</em> and <em>SHOULD</em> are to be interpreted as described in <a data-link-type="biblio" href="#biblio-rfc2119" title="Key words for use in RFCs to Indicate Requirement Levels">[RFC2119]</a>.</p>
   <p>This specification defines conformance criteria that apply to a single product:
the user agent that implements the interfaces that it contains.</p>
   <p>Conformance requirements phrased as algorithms or specific steps may be
implemented in any manner, so long as the end result is equivalent. (In
particular, the algorithms defined in this specification are intended to be
easy to follow, and not intended to be performant.)</p>
   <p>Implementations that use ECMAScript to implement the APIs defined in this
specification MUST implement them in a manner consistent with the ECMAScript
Bindings defined in the Web IDL specification <a data-link-type="biblio" href="#biblio-webidl" title="Web IDL Standard">[WEBIDL]</a>, as this
specification uses that specification and terminology.</p>
   <h2 class="heading settled" data-level="3" id="terminology"><span class="secno">3. </span><span class="content">Terminology</span><a class="self-link" href="#terminology"></a></h2>
   <p>The <code class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/webappapis.html#eventhandler" id="ref-for-eventhandler">EventHandler</a></code> interface, representing a callback used for event
handlers, and the <code class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/webappapis.html#errorevent" id="ref-for-errorevent">ErrorEvent</a></code> interface are defined in <a data-link-type="biblio" href="#biblio-html" title="HTML Standard">[HTML]</a>.</p>
   <p>The concepts <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-task" id="ref-for-queue-a-task">queue a task</a> and <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#networking-task-source" id="ref-for-networking-task-source">networking task source</a> are defined in <a data-link-type="biblio" href="#biblio-html" title="HTML Standard">[HTML]</a>.</p>
   <p>The terms <a data-link-type="dfn" href="https://dom.spec.whatwg.org/#concept-event" id="ref-for-concept-event">event</a>, <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#event-handlers" id="ref-for-event-handlers">event handlers</a> and <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#event-handler-event-type" id="ref-for-event-handler-event-type">event handler event types</a> are
defined in <a data-link-type="biblio" href="#biblio-html" title="HTML Standard">[HTML]</a>.</p>
   <p>When referring to exceptions, the terms <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#dfn-throw" id="ref-for-dfn-throw">throw</a> and <a data-link-type="dfn" href="#bidirectionalstream-create" id="ref-for-bidirectionalstream-create">create</a> are defined in <a data-link-type="biblio" href="#biblio-webidl" title="Web IDL Standard">[WEBIDL]</a>.</p>
   <p>The terms <a data-link-type="dfn" href="http://www.ecma-international.org/ecma-262/6.0/index.html#sec-promise-objects" id="ref-for-sec-promise-objects">fulfilled</a>, <a data-link-type="dfn" href="http://www.ecma-international.org/ecma-262/6.0/index.html#sec-promise-objects" id="ref-for-sec-promise-objects①">rejected</a>, <a data-link-type="dfn" href="http://www.ecma-international.org/ecma-262/6.0/index.html#sec-promise-objects" id="ref-for-sec-promise-objects②">resolved</a>, <a data-link-type="dfn" href="http://www.ecma-international.org/ecma-262/6.0/index.html#sec-promise-objects" id="ref-for-sec-promise-objects③">pending</a> and <a data-link-type="dfn" href="http://www.ecma-international.org/ecma-262/6.0/index.html#sec-promise-objects" id="ref-for-sec-promise-objects④">settled</a> used in the context of Promises are defined in <a data-link-type="biblio" href="#biblio-ecmascript-60" title="ECMA-262 6th Edition, The ECMAScript 2015 Language Specification">[ECMASCRIPT-6.0]</a>.</p>
   <p>The terms <code class="idl"><a data-link-type="idl" href="https://streams.spec.whatwg.org/#readablestream" id="ref-for-readablestream">ReadableStream</a></code> and <code class="idl"><a data-link-type="idl" href="https://streams.spec.whatwg.org/#writablestream" id="ref-for-writablestream">WritableStream</a></code> are defined in <a data-link-type="biblio" href="#biblio-whatwg-streams" title="Streams Standard">[WHATWG-STREAMS]</a>.</p>
   <h2 class="heading settled" data-level="4" id="unidirectional-streams-transport"><span class="secno">4. </span><span class="content"><code>UnidirectionalStreamsTransport</code> Mixin</span><a class="self-link" href="#unidirectional-streams-transport"></a></h2>
   <p>A <code class="idl"><a data-link-type="idl" href="#unidirectionalstreamstransport" id="ref-for-unidirectionalstreamstransport">UnidirectionalStreamsTransport</a></code> can send and receive unidirectional
streams.  Data within a stream is delivered in order, but data between streams
may be delivered out of order.  Data is generally sent reliably, but
retransmissions may be disabled or the stream may aborted to produce a form of
unreliability.  All stream data is encrypted and congestion-controlled.</p>
<pre class="idl highlight def"><c- b>interface</c-> <c- b>mixin</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="interface" data-export id="unidirectionalstreamstransport"><code><c- g>UnidirectionalStreamsTransport</c-></code></dfn> {
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise" id="ref-for-idl-promise"><c- b>Promise</c-></a>&lt;<a data-link-type="idl-name" href="#sendstream" id="ref-for-sendstream"><c- n>SendStream</c-></a>> <a class="idl-code" data-link-type="method" href="#dom-unidirectionalstreamstransport-createunidirectionalstream" id="ref-for-dom-unidirectionalstreamstransport-createunidirectionalstream"><c- g>createUnidirectionalStream</c-></a>(<c- b>optional</c-> <a data-link-type="idl-name" href="#dictdef-sendstreamparameters" id="ref-for-dictdef-sendstreamparameters"><c- n>SendStreamParameters</c-></a> <dfn class="idl-code" data-dfn-for="UnidirectionalStreamsTransport/createUnidirectionalStream(parameters), UnidirectionalStreamsTransport/createUnidirectionalStream()" data-dfn-type="argument" data-export id="dom-unidirectionalstreamstransport-createunidirectionalstream-parameters-parameters"><code><c- g>parameters</c-></code><a class="self-link" href="#dom-unidirectionalstreamstransport-createunidirectionalstream-parameters-parameters"></a></dfn> = {});
  /* a ReadableStream of ReceiveStream objects */
  <c- b>readonly</c-> <c- b>attribute</c-> <a data-link-type="idl-name" href="https://streams.spec.whatwg.org/#readablestream" id="ref-for-readablestream①"><c- n>ReadableStream</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="ReadableStream" href="#dom-unidirectionalstreamstransport-incomingunidirectionalstreams" id="ref-for-dom-unidirectionalstreamstransport-incomingunidirectionalstreams"><c- g>incomingUnidirectionalStreams</c-></a>;
};
</pre>
   <h3 class="heading settled" data-level="4.1" id="unidirectional-streams-transport-methods"><span class="secno">4.1. </span><span class="content">Methods</span><a class="self-link" href="#unidirectional-streams-transport-methods"></a></h3>
   <dl>
    <dt data-md><dfn class="dfn-paneled idl-code" data-dfn-for="UnidirectionalStreamsTransport" data-dfn-type="method" data-export data-lt="createUnidirectionalStream(parameters)|createUnidirectionalStream()" id="dom-unidirectionalstreamstransport-createunidirectionalstream"><code>createUnidirectionalStream()</code></dfn>
    <dd data-md>
     <p>Creates a <code class="idl"><a data-link-type="idl" href="#sendstream" id="ref-for-sendstream①">SendStream</a></code> object for an outgoing unidirectional stream.  Note
 that in some transports, the mere creation of a stream is not immediately
 visible to the peer until it is used to send data.</p>
     <p>When <code>createUnidirectionalStream()</code> method is called, the user agent MUST
 run the following steps:</p>
     <ol>
      <li data-md>
       <p>Let <var>transport</var> be the <code>UnidirectionalStreamsTransport</code> on which <code>createUnidirectionalStream</code> is invoked.</p>
      <li data-md>
       <p>If <var>transport</var>’s <code class="idl"><a data-link-type="idl" href="#dom-webtransport-state" id="ref-for-dom-webtransport-state">state</a></code> is <code>"closed"</code> or <code>"failed"</code>,
  immediately return a new <a data-link-type="dfn" href="http://www.ecma-international.org/ecma-262/6.0/index.html#sec-promise-objects" id="ref-for-sec-promise-objects⑤">rejected</a> promise with a newly created <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#invalidstateerror" id="ref-for-invalidstateerror">InvalidStateError</a></code> and abort these steps.</p>
      <li data-md>
       <p>Let <var>p</var> be a new promise.</p>
      <li data-md>
       <p>Return <var>p</var> and continue the remaining steps <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/infrastructure.html#in-parallel" id="ref-for-in-parallel">in parallel</a>.</p>
      <li data-md>
       <p><a data-link-type="dfn" href="#sendstream-create" id="ref-for-sendstream-create">Create</a> a <code class="idl"><a data-link-type="idl" href="#sendstream" id="ref-for-sendstream②">SendStream</a></code> with <var>transport</var> and <var>p</var> when all
  of the following conditions are met:</p>
       <ol>
        <li data-md>
         <p>The <var>transport</var>’s <code class="idl"><a data-link-type="idl" href="#dom-webtransport-state" id="ref-for-dom-webtransport-state①">state</a></code> is <code>"connected"</code>.</p>
        <li data-md>
         <p>Stream creation flow control is not being violated by exceeding the
  max stream limit set by the remote endpoint, as specified in <a data-link-type="biblio" href="#biblio-quic" title="QUIC: A UDP-Based Multiplexed and Secure Transport">[QUIC]</a>.</p>
        <li data-md>
         <p><var>p</var> has not been <a data-link-type="dfn" href="http://www.ecma-international.org/ecma-262/6.0/index.html#sec-promise-objects" id="ref-for-sec-promise-objects⑥">settled</a>.</p>
       </ol>
      <li data-md>
       <p>Queue a task to <a data-link-type="dfn" href="http://www.ecma-international.org/ecma-262/6.0/index.html#sec-promise-objects" id="ref-for-sec-promise-objects⑦">reject</a> <var>p</var> with a newly created <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#invalidstateerror" id="ref-for-invalidstateerror①">InvalidStateError</a></code> when all of the following conditions are met:</p>
       <ol>
        <li data-md>
         <p>The <var>transport</var>’s state is <code>"closed"</code> or <code>"failed"</code>.</p>
        <li data-md>
         <p><var>p</var> has not been <a data-link-type="dfn" href="http://www.ecma-international.org/ecma-262/6.0/index.html#sec-promise-objects" id="ref-for-sec-promise-objects⑧">settled</a>.</p>
       </ol>
     </ol>
    <dt data-md><dfn class="dfn-paneled idl-code" data-dfn-for="UnidirectionalStreamsTransport" data-dfn-type="attribute" data-export id="dom-unidirectionalstreamstransport-incomingunidirectionalstreams"><code>incomingUnidirectionalStreams</code></dfn>, <span> of type <a data-link-type="idl-name" href="https://streams.spec.whatwg.org/#readablestream" id="ref-for-readablestream②">ReadableStream</a>, readonly</span>
    <dd data-md>
     <p>A <code class="idl"><a data-link-type="idl" href="https://streams.spec.whatwg.org/#readablestream" id="ref-for-readablestream③">ReadableStream</a></code> of unidirectional streams, each represented by a <code class="idl"><a data-link-type="idl" href="#receivestream" id="ref-for-receivestream">ReceiveStream</a></code> object, that have been received from the remote host.</p>
     <p>The getter steps for <code>incomingUnidirectionalStreams</code> are:</p>
     <ol>
      <li data-md>
       <p>Let <var>transport</var> be the <code>UnidirectionalStreamsTransport</code> on which
  the <code>incomingUnidirectionalStreams</code> getter is invoked.</p>
      <li data-md>
       <p>Return <var>transport</var>’s <a data-link-type="dfn" href="#webtransport-receivedstreams" id="ref-for-webtransport-receivedstreams">[[ReceivedStreams]]</a>.</p>
      <li data-md>
       <p>For each unidirectional stream received, create a corresponding <code class="idl"><a data-link-type="idl" href="#receivestream" id="ref-for-receivestream①">ReceiveStream</a></code> and insert it into <a data-link-type="dfn" href="#webtransport-receivedstreams" id="ref-for-webtransport-receivedstreams①">[[ReceivedStreams]]</a>. As data
  is received over the unidirectional stream, insert that data into the
  corresponding <code>ReceiveStream</code> object.  When the remote side closes or
  aborts the stream, close or abort the corresponding <code>ReceiveStream</code>.</p>
     </ol>
   </dl>
   <h3 class="heading settled" data-level="4.2" id="unidirectional-streams-transport-procedures"><span class="secno">4.2. </span><span class="content">Procedures</span><a class="self-link" href="#unidirectional-streams-transport-procedures"></a></h3>
   <h4 class="heading settled" data-level="4.2.1" id="add-sendstream"><span class="secno">4.2.1. </span><span class="content">Add SendStream to UnidirectionalStreamsTransport</span><a class="self-link" href="#add-sendstream"></a></h4>
   <div class="algorithm" data-algorithm="create a SendStream">
    <p>To <dfn class="dfn-paneled" data-dfn-for="SendStream" data-dfn-type="dfn" data-export data-lt="create|creating" id="sendstream-create">create</dfn> a <code class="idl"><a data-link-type="idl" href="#sendstream" id="ref-for-sendstream③">SendStream</a></code> given a <var>transport</var> and a promise <var>p</var>, run the following
steps:</p>
    <ol>
     <li data-md>
      <p>Reserve a unidirectional stream <var>association</var> in the underlying transport.</p>
     <li data-md>
      <p>Queue a task to run the following sub-steps:</p>
      <ol>
       <li data-md>
        <p>If <var>transport</var>’s state is <code>"closed"</code> or <code>"failed"</code>, abort these sub-steps.</p>
       <li data-md>
        <p>Let <var>stream</var> be a newly created <code class="idl"><a data-link-type="idl" href="#sendstream" id="ref-for-sendstream④">SendStream</a></code> for <var>association</var>.</p>
       <li data-md>
        <p>Add <var>stream</var> to <var>transport</var>’s <a data-link-type="dfn" href="#webtransport-outgoingstreams" id="ref-for-webtransport-outgoingstreams">[[OutgoingStreams]]</a>.</p>
       <li data-md>
        <p>Resolve <var>p</var> with <var>stream</var>.</p>
      </ol>
    </ol>
   </div>
   <h3 class="heading settled" data-level="4.3" id="send-stream-parameters"><span class="secno">4.3. </span><span class="content">SendStreamParameters Dictionary</span><a class="self-link" href="#send-stream-parameters"></a></h3>
   <p>The <dfn class="dfn-paneled idl-code" data-dfn-type="dictionary" data-export id="dictdef-sendstreamparameters"><code>SendStreamParameters</code></dfn> dictionary includes information
relating to stream configuration.</p>
<pre class="idl highlight def"><c- b>dictionary</c-> <a class="idl-code" data-link-type="dictionary" href="#dictdef-sendstreamparameters" id="ref-for-dictdef-sendstreamparameters①"><c- g>SendStreamParameters</c-></a> {
};
</pre>
   <h2 class="heading settled" data-level="5" id="bidirectional-streams-transport"><span class="secno">5. </span><span class="content"><code>BidirectionalStreamsTransport</code> Mixin</span><a class="self-link" href="#bidirectional-streams-transport"></a></h2>
   <p>A <code class="idl"><a data-link-type="idl" href="#bidirectionalstreamstransport" id="ref-for-bidirectionalstreamstransport">BidirectionalStreamsTransport</a></code> can send and receive bidirectional streams.
Data within a stream is delivered in order, but data between streams may be
delivered out of order. Data is generally sent reliably, but retransmissions
may be disabled or the stream may aborted to produce a form of unreliability.
All stream data is encrypted and congestion-controlled.</p>
<pre class="idl highlight def"><c- b>interface</c-> <c- b>mixin</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="interface" data-export id="bidirectionalstreamstransport"><code><c- g>BidirectionalStreamsTransport</c-></code></dfn> {
    <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise" id="ref-for-idl-promise①"><c- b>Promise</c-></a>&lt;<a data-link-type="idl-name" href="#bidirectionalstream" id="ref-for-bidirectionalstream"><c- n>BidirectionalStream</c-></a>> <a class="idl-code" data-link-type="method" href="#dom-bidirectionalstreamstransport-createbidirectionalstream" id="ref-for-dom-bidirectionalstreamstransport-createbidirectionalstream"><c- g>createBidirectionalStream</c-></a>();
    /* a ReadableStream of BidirectionalStream objects */
    <c- b>readonly</c-> <c- b>attribute</c-> <a data-link-type="idl-name" href="https://streams.spec.whatwg.org/#readablestream" id="ref-for-readablestream④"><c- n>ReadableStream</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="ReadableStream" href="#dom-bidirectionalstreamstransport-incomingbidirectionalstreams" id="ref-for-dom-bidirectionalstreamstransport-incomingbidirectionalstreams"><c- g>incomingBidirectionalStreams</c-></a>;
};
</pre>
   <h3 class="heading settled" data-level="5.1" id="bidirectional-streams-transport-methods"><span class="secno">5.1. </span><span class="content">Methods</span><a class="self-link" href="#bidirectional-streams-transport-methods"></a></h3>
   <dl>
    <dt data-md><dfn class="dfn-paneled idl-code" data-dfn-for="BidirectionalStreamsTransport" data-dfn-type="method" data-export id="dom-bidirectionalstreamstransport-createbidirectionalstream"><code>createBidirectionalStream()</code></dfn>
    <dd data-md>
     <p>Creates a <code class="idl"><a data-link-type="idl" href="#bidirectionalstream" id="ref-for-bidirectionalstream①">BidirectionalStream</a></code> object for an outgoing bidirectional
 stream.  Note that in some transports, the mere creation of a stream is not
 immediately visible to the peer until it is used to send data.</p>
     <p>When <code>createBidirectionalStream</code> is called, the user agent MUST run the
 following steps:</p>
     <ol>
      <li data-md>
       <p>Let <var>transport</var> be the <code class="idl"><a data-link-type="idl" href="#bidirectionalstreamstransport" id="ref-for-bidirectionalstreamstransport①">BidirectionalStreamsTransport</a></code> on which <code class="idl"><a data-link-type="idl" href="#dom-bidirectionalstreamstransport-createbidirectionalstream" id="ref-for-dom-bidirectionalstreamstransport-createbidirectionalstream①">createBidirectionalStream</a></code> is invoked.</p>
      <li data-md>
       <p>If <var>transport</var>’s <code class="idl"><a data-link-type="idl" href="#dom-webtransport-state" id="ref-for-dom-webtransport-state②">state</a></code> is <code>"closed"</code> or <code>"failed"</code>,
  immediately return a new <a data-link-type="dfn" href="http://www.ecma-international.org/ecma-262/6.0/index.html#sec-promise-objects" id="ref-for-sec-promise-objects⑨">rejected</a> promise with a newly created <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#invalidstateerror" id="ref-for-invalidstateerror②">InvalidStateError</a></code> and abort these steps.</p>
      <li data-md>
       <p>Let <var>p</var> be a new promise.</p>
      <li data-md>
       <p>Return <var>p</var> and continue the remaining steps <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/infrastructure.html#in-parallel" id="ref-for-in-parallel①">in parallel</a>.</p>
      <li data-md>
       <p><a data-link-type="dfn" href="#bidirectionalstream-create" id="ref-for-bidirectionalstream-create①">Create</a> a <code class="idl"><a data-link-type="idl" href="#bidirectionalstream" id="ref-for-bidirectionalstream②">BidirectionalStream</a></code> with <var>transport</var> and <var>p</var> when all of the following conditions are met:</p>
       <ol>
        <li data-md>
         <p>The <var>transport</var>’s <code class="idl"><a data-link-type="idl" href="#dom-webtransport-state" id="ref-for-dom-webtransport-state③">state</a></code> is <code>"connected"</code>.</p>
        <li data-md>
         <p>Stream creation flow control is not being violated by exceeding the
  max stream limit set by the remote endpoint, as specified in <a data-link-type="biblio" href="#biblio-quic" title="QUIC: A UDP-Based Multiplexed and Secure Transport">[QUIC]</a>.</p>
        <li data-md>
         <p><var>p</var> has not been <a data-link-type="dfn" href="http://www.ecma-international.org/ecma-262/6.0/index.html#sec-promise-objects" id="ref-for-sec-promise-objects①⓪">settled</a>.</p>
       </ol>
      <li data-md>
       <p>Queue a task to <a data-link-type="dfn" href="http://www.ecma-international.org/ecma-262/6.0/index.html#sec-promise-objects" id="ref-for-sec-promise-objects①①">reject</a> <var>p</var> with a newly created <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#invalidstateerror" id="ref-for-invalidstateerror③">InvalidStateError</a></code> when all of the following conditions are met:</p>
       <ol>
        <li data-md>
         <p>The <var>transport</var>’s state is <code>"closed"</code> or <code>"failed"</code>.</p>
        <li data-md>
         <p><var>p</var> has not been <a data-link-type="dfn" href="http://www.ecma-international.org/ecma-262/6.0/index.html#sec-promise-objects" id="ref-for-sec-promise-objects①②">settled</a>.</p>
       </ol>
     </ol>
    <dt data-md><dfn class="dfn-paneled idl-code" data-dfn-for="BidirectionalStreamsTransport" data-dfn-type="attribute" data-export id="dom-bidirectionalstreamstransport-incomingbidirectionalstreams"><code>incomingBidirectionalStreams</code></dfn>, <span> of type <a data-link-type="idl-name" href="https://streams.spec.whatwg.org/#readablestream" id="ref-for-readablestream⑤">ReadableStream</a>, readonly</span>
    <dd data-md>
     <p>Returns a <code class="idl"><a data-link-type="idl" href="https://streams.spec.whatwg.org/#readablestream" id="ref-for-readablestream⑥">ReadableStream</a></code> of <code class="idl"><a data-link-type="idl" href="#bidirectionalstream" id="ref-for-bidirectionalstream③">BidirectionalStream</a></code>s that have been
 received from the remote host.</p>
     <p>The getter steps for the <code>incomingBidirectionalStreams</code> attribute SHALL be:</p>
     <ol>
      <li data-md>
       <p>Return <a data-link-type="dfn" href="#webtransport-receivedbidirectionalstreams" id="ref-for-webtransport-receivedbidirectionalstreams">[[ReceivedBidirectionalStreams]]</a>.</p>
      <li data-md>
       <p>For each bidirectional stream received, create a corresponding <code class="idl"><a data-link-type="idl" href="#bidirectionalstream" id="ref-for-bidirectionalstream④">BidirectionalStream</a></code> and insert it into <a data-link-type="dfn" href="#webtransport-receivedbidirectionalstreams" id="ref-for-webtransport-receivedbidirectionalstreams①">[[ReceivedBidirectionalStreams]]</a>.
  As data is received over the bidirectional stream, insert that data into the
  corresponding <code class="idl"><a data-link-type="idl" href="#bidirectionalstream" id="ref-for-bidirectionalstream⑤">BidirectionalStream</a></code>.  When the remote side closes or aborts
  the stream, close or abort the corresponding <code class="idl"><a data-link-type="idl" href="#bidirectionalstream" id="ref-for-bidirectionalstream⑥">BidirectionalStream</a></code>.</p>
     </ol>
   </dl>
   <h3 class="heading settled" data-level="5.2" id="bidirectional-streams-transport-procedures"><span class="secno">5.2. </span><span class="content">Procedures</span><a class="self-link" href="#bidirectional-streams-transport-procedures"></a></h3>
   <h4 class="heading settled" data-level="5.2.1" id="add-bidirectionalstream"><span class="secno">5.2.1. </span><span class="content">Add BidirectionalStream to BidirectionalStreamsTransport</span><a class="self-link" href="#add-bidirectionalstream"></a></h4>
   <div class="algorithm" data-algorithm="create a BidirectionalStream">
    <p>To <dfn class="dfn-paneled" data-dfn-for="BidirectionalStream" data-dfn-type="dfn" data-export data-lt="create|creating" id="bidirectionalstream-create">create</dfn> a <code class="idl"><a data-link-type="idl" href="#bidirectionalstream" id="ref-for-bidirectionalstream⑦">BidirectionalStream</a></code> given a <var>transport</var> and a promise <var>p</var>, run
  the following steps:</p>
    <ol>
     <li data-md>
      <p>Reserve a bidirectional stream <var>association</var> in the underlying transport.</p>
     <li data-md>
      <p>Queue a task to run the following sub-steps:</p>
      <ol>
       <li data-md>
        <p>If <var>transport</var>’s state is <code>"closed"</code> or <code>"failed"</code>, abort these sub-steps.</p>
       <li data-md>
        <p>Let <var>stream</var> be a newly created <code class="idl"><a data-link-type="idl" href="#bidirectionalstream" id="ref-for-bidirectionalstream⑧">BidirectionalStream</a></code> object for <var>association</var>.</p>
       <li data-md>
        <p>Add <var>stream</var> to <var>transport</var>’s <a data-link-type="dfn" href="#webtransport-receivedbidirectionalstreams" id="ref-for-webtransport-receivedbidirectionalstreams②">[[ReceivedBidirectionalStreams]]</a>.</p>
       <li data-md>
        <p>Add <var>stream</var> to <var>transport</var>’s <a data-link-type="dfn" href="#webtransport-outgoingstreams" id="ref-for-webtransport-outgoingstreams①">[[OutgoingStreams]]</a>.</p>
       <li data-md>
        <p>Resolve <var>p</var> with <var>stream</var>.</p>
      </ol>
    </ol>
   </div>
   <h2 class="heading settled" data-level="6" id="datagram-transport"><span class="secno">6. </span><span class="content"><code>DatagramTransport</code> Mixin</span><a class="self-link" href="#datagram-transport"></a></h2>
   <p>A <dfn class="dfn-paneled idl-code" data-dfn-type="interface" data-export id="datagramtransport"><code>DatagramTransport</code></dfn> can send and receive datagrams,
as defined in <a data-link-type="biblio" href="#biblio-http3-datagram" title="Using QUIC Datagrams with HTTP/3">[HTTP3-DATAGRAM]</a><a data-link-type="biblio" href="#biblio-quic-datagram" title="An Unreliable Datagram Extension to QUIC">[QUIC-DATAGRAM]</a>.
Datagrams are sent out of order, unreliably, and have a limited maximum size.
Datagrams are encrypted and congestion controlled.</p>
<pre class="idl highlight def"><c- b>interface</c-> <c- b>mixin</c-> <a class="idl-code" data-link-type="interface" href="#datagramtransport" id="ref-for-datagramtransport"><c- g>DatagramTransport</c-></a> {
    <c- b>readonly</c-> <c- b>attribute</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-unsigned-short" id="ref-for-idl-unsigned-short"><c- b>unsigned</c-> <c- b>short</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="unsigned short" href="#dom-datagramtransport-maxdatagramsize" id="ref-for-dom-datagramtransport-maxdatagramsize"><c- g>maxDatagramSize</c-></a>;
    <c- b>readonly</c-> <c- b>attribute</c-> <a data-link-type="idl-name" href="#datagramduplexstream" id="ref-for-datagramduplexstream"><c- n>DatagramDuplexStream</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="DatagramDuplexStream" href="#dom-datagramtransport-datagrams" id="ref-for-dom-datagramtransport-datagrams"><c- g>datagrams</c-></a>;
};
</pre>
   <h3 class="heading settled" data-level="6.1" id="datagram-transport-attributes"><span class="secno">6.1. </span><span class="content">Attributes</span><a class="self-link" href="#datagram-transport-attributes"></a></h3>
   <dl>
    <dt data-md><dfn class="dfn-paneled idl-code" data-dfn-for="DatagramTransport" data-dfn-type="attribute" data-export id="dom-datagramtransport-maxdatagramsize"><code>maxDatagramSize</code></dfn>, <span> of type <a data-link-type="idl-name" href="https://webidl.spec.whatwg.org/#idl-unsigned-short" id="ref-for-idl-unsigned-short①">unsigned short</a>, readonly</span>
    <dd data-md>
     <p>The maximum size data that may be passed to <code class="idl"><a data-link-type="idl" href="#dom-datagramtransport-datagrams" id="ref-for-dom-datagramtransport-datagrams①">datagrams</a></code>' <code class="idl"><a data-link-type="idl" href="#dom-datagramduplexstream-writable" id="ref-for-dom-datagramduplexstream-writable">writable</a></code>.</p>
    <dt data-md><dfn class="dfn-paneled idl-code" data-dfn-for="DatagramTransport" data-dfn-type="attribute" data-export id="dom-datagramtransport-datagrams"><code>datagrams</code></dfn>, <span> of type <a data-link-type="idl-name" href="#datagramduplexstream" id="ref-for-datagramduplexstream①">DatagramDuplexStream</a>, readonly</span>
    <dd data-md>
     <p>A single duplex stream for sending and receiving datagrams over this connection.</p>
     <p>Each datagram received will be readable on the <code class="idl"><a data-link-type="idl" href="https://streams.spec.whatwg.org/#readablestream" id="ref-for-readablestream⑦">ReadableStream</a></code> member.</p>
     <p>If too many datagrams are queued because the stream is not being read quickly
 enough, datagrams are dropped to avoid queueing. Implementations should drop older
 datagrams in favor of newer datagrams. The number of datagrams to queue
 should be kept small enough to avoid adding significant latency to packet
 delivery when the stream is being read slowly (due to the reader being slow)
 but large enough to avoid dropping packets when for the stream is not read
 for short periods of time (due to the reader being paused).</p>
     <p>Datagrams written to the returned <code class="idl"><a data-link-type="idl" href="https://streams.spec.whatwg.org/#writablestream" id="ref-for-writablestream①">WritableStream</a></code> member will be sent.</p>
     <p>The getter steps for the <code>datagrams</code> attribute SHALL be:</p>
     <ol>
      <li data-md>
       <p>Return <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this" id="ref-for-this">this</a>'s <a data-link-type="dfn" href="#webtransport-datagrams" id="ref-for-webtransport-datagrams">[[Datagrams]]</a>.</p>
     </ol>
   </dl>
   <h3 class="heading settled" data-level="6.2" id="datagrams-transport-procedures"><span class="secno">6.2. </span><span class="content">Procedures</span><a class="self-link" href="#datagrams-transport-procedures"></a></h3>
   <p>The <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="readdatagrams">readDatagrams</dfn> algorithm is given a <var>transport</var> as parameter. It
is defined by running the following steps:</p>
   <ol>
    <li data-md>
     <p>TODO</p>
    <li data-md>
     <p><a data-link-type="dfn" href="https://streams.spec.whatwg.org/#readablestream-enqueue" id="ref-for-readablestream-enqueue">enqueue</a> <var>data</var> in <var>transport</var>.<code>[[IncomingDatagrams]]</code>.</p>
   </ol>
   <p>The <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="writedatagrams">writeDatagrams</dfn> algorithm is given a <var>transport</var> as parameter and <var>data</var> as input. It is defined by running the following steps:</p>
   <ol>
    <li data-md>
     <p>Let <var>timestamp</var> be a timestamp representing now.</p>
    <li data-md>
     <p>If <var>data</var> is not a <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-Uint8Array" id="ref-for-idl-Uint8Array">Uint8Array</a></code> object, then return <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#a-promise-rejected-with" id="ref-for-a-promise-rejected-with">a promise rejected with</a> a <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#exceptiondef-typeerror" id="ref-for-exceptiondef-typeerror">TypeError</a></code>.</p>
    <li data-md>
     <p>Let <var>promise</var> be a new promise.</p>
    <li data-md>
     <p>Let <var>bytes</var> be a copy of bytes which <var>data</var> represents.</p>
    <li data-md>
     <p>Let <var>chunk</var> be a tuple of <var>bytes</var>, <var>timestamp</var> and <var>promise</var>.</p>
    <li data-md>
     <p>Enqueue <var>chunk</var> to <var>transport</var>’s <a data-link-type="dfn" href="#webtransport-outgoingdatagramsqueue" id="ref-for-webtransport-outgoingdatagramsqueue">[[OutgoingDatagramsQueue]]</a>.</p>
    <li data-md>
     <p>If the length of <var>transport</var>’s <a data-link-type="dfn" href="#webtransport-outgoingdatagramsqueue" id="ref-for-webtransport-outgoingdatagramsqueue①">[[OutgoingDatagramsQueue]]</a> is less than <var>transport</var>’s <a data-link-type="dfn" href="#webtransport-outgoingdatagramshighwatermark" id="ref-for-webtransport-outgoingdatagramshighwatermark">[[OutgoingDatagramsHighWaterMark]]</a>, then <a data-link-type="dfn" href="http://www.ecma-international.org/ecma-262/6.0/index.html#sec-promise-objects" id="ref-for-sec-promise-objects①③">resolve</a> <var>promise</var> with undefined.</p>
    <li data-md>
     <p>Return <var>promise</var>.</p>
   </ol>
   <p class="note" role="note"><span class="marker">Note:</span> The associated <code class="idl"><a data-link-type="idl" href="https://streams.spec.whatwg.org/#writablestream" id="ref-for-writablestream②">WritableStream</a></code> calls <a data-link-type="dfn" href="#writedatagrams" id="ref-for-writedatagrams">writeDatagrams</a> only when all the promises that
have been returned by <a data-link-type="dfn" href="#writedatagrams" id="ref-for-writedatagrams①">writeDatagrams</a> have been resolved. Hence the timestamp and the expiration
duration work well only when the web developer pays attention to <code class="idl"><a data-link-type="idl" href="https://streams.spec.whatwg.org/#default-writer-ready" id="ref-for-default-writer-ready">WritableStreamDefaultWriter.ready</a></code>.</p>
   <p>To <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="senddatagrams">sendDatagrams</dfn>, given a <code class="idl"><a data-link-type="idl" href="#webtransport" id="ref-for-webtransport">WebTransport</a></code> object <var>transport</var>, run these steps:</p>
   <ol>
    <li data-md>
     <p>Let <var>queue</var> be <var>transport</var>’s <a data-link-type="dfn" href="#webtransport-outgoingdatagramsqueue" id="ref-for-webtransport-outgoingdatagramsqueue②">[[OutgoingDatagramsQueue]]</a>.</p>
    <li data-md>
     <p>Let <var>duration</var> be <var>transport</var>’s <a data-link-type="dfn" href="#webtransport-outgoingdatagramsexpirationduration" id="ref-for-webtransport-outgoingdatagramsexpirationduration">[[OutgoingDatagramsExpirationDuration]]</a>.</p>
    <li data-md>
     <p>If <var>duration</var> is null, then set <var>duration</var> to an <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#implementation-defined" id="ref-for-implementation-defined">implementation-defined</a> value.</p>
    <li data-md>
     <p>While <var>queue</var> is not empty:</p>
     <ol>
      <li data-md>
       <p>Let <var>bytes</var>, <var>timestamp</var> and <var>promise</var> be <var>queue</var>’s first element.</p>
      <li data-md>
       <p>If more than <var>duration</var> milliseconds have passed since <var>timestamp</var>, then:</p>
       <ol>
        <li data-md>
         <p><a data-link-type="dfn" href="http://www.ecma-international.org/ecma-262/6.0/index.html#sec-promise-objects" id="ref-for-sec-promise-objects①④">Resolve</a> <var>promise</var> with undefined.</p>
        <li data-md>
         <p>Remove the first element from <var>queue</var>.</p>
       </ol>
      <li data-md>
       <p>Otherwise, break this loop.</p>
     </ol>
    <li data-md>
     <p>While <var>queue</var> is not empty:</p>
     <ol>
      <li data-md>
       <p>Let <var>bytes</var>, <var>timestamp</var> and <var>promise</var> be <var>queue</var>’s first element.</p>
      <li data-md>
       <p>If it is not possible to send <var>bytes</var> to the network immediately, then break this loop.</p>
      <li data-md>
       <p>Send <var>bytes</var> to the network. <a data-link-type="biblio" href="#biblio-web-transport-http3" title="WebTransport over HTTP/3">[WEB-TRANSPORT-HTTP3]</a></p>
      <li data-md>
       <p><a data-link-type="dfn" href="http://www.ecma-international.org/ecma-262/6.0/index.html#sec-promise-objects" id="ref-for-sec-promise-objects①⑤">Resolve</a> <var>promise</var> with undefined.</p>
      <li data-md>
       <p>Remove the first element from <var>queue</var>.</p>
     </ol>
   </ol>
   <p>The user agent SHOULD run <a data-link-type="dfn" href="#senddatagrams" id="ref-for-senddatagrams">sendDatagrams</a> for any <code class="idl"><a data-link-type="idl" href="#webtransport" id="ref-for-webtransport①">WebTransport</a></code> object whose <a data-link-type="dfn" href="#webtransport-state" id="ref-for-webtransport-state">[[State]]</a> is <code>"connected"</code> as soon as reasonably possible whenever the algorithm can make
progress.</p>
   <h2 class="heading settled" data-level="7" id="duplex-stream"><span class="secno">7. </span><span class="content"><code>DatagramDuplexStream</code> Interface</span><a class="self-link" href="#duplex-stream"></a></h2>
   <p>A <dfn class="dfn-paneled idl-code" data-dfn-type="interface" data-export id="datagramduplexstream"><code>DatagramDuplexStream</code></dfn> is a generic duplex stream.</p>
<pre class="idl highlight def">[<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Exposed" id="ref-for-Exposed"><c- g>Exposed</c-></a>=(<c- n>Window</c->,<c- n>Worker</c->)]
<c- b>interface</c-> <a class="idl-code" data-link-type="interface" href="#datagramduplexstream" id="ref-for-datagramduplexstream②"><c- g>DatagramDuplexStream</c-></a> {
  <c- b>readonly</c-> <c- b>attribute</c-> <a data-link-type="idl-name" href="https://streams.spec.whatwg.org/#readablestream" id="ref-for-readablestream⑧"><c- n>ReadableStream</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="ReadableStream" href="#dom-datagramduplexstream-readable" id="ref-for-dom-datagramduplexstream-readable"><c- g>readable</c-></a>;
  <c- b>readonly</c-> <c- b>attribute</c-> <a data-link-type="idl-name" href="https://streams.spec.whatwg.org/#writablestream" id="ref-for-writablestream③"><c- n>WritableStream</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="WritableStream" href="#dom-datagramduplexstream-writable" id="ref-for-dom-datagramduplexstream-writable①"><c- g>writable</c-></a>;
};
</pre>
   <p>To <dfn class="dfn-paneled" data-dfn-for="DatagramDuplexStream" data-dfn-type="dfn" data-export data-lt="create|creating" id="datagramduplexstream-create">create</dfn> a <code class="idl"><a data-link-type="idl" href="#datagramduplexstream" id="ref-for-datagramduplexstream③">DatagramDuplexStream</a></code> given a <dfn class="dfn-paneled" data-dfn-for="DatagramDuplexStream/create" data-dfn-type="dfn" data-export id="datagramduplexstream-create-readable"><var>readable</var></dfn>, and
 a <dfn class="dfn-paneled" data-dfn-for="DatagramDuplexStream/create" data-dfn-type="dfn" data-export id="datagramduplexstream-create-writable"><var>writable</var></dfn>,
 perform the following steps.</p>
   <ol>
    <li data-md>
     <p>Let <var>stream</var> be a <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#new" id="ref-for-new">new</a> <code class="idl"><a data-link-type="idl" href="#datagramduplexstream" id="ref-for-datagramduplexstream④">DatagramDuplexStream</a></code>.</p>
    <li data-md>
     <p>Initialize <var>stream</var>.<code>[[readable]]</code> to <var>readable</var>.</p>
    <li data-md>
     <p>Initialize <var>stream</var>.<code>[[writable]]</code> to <var>writable</var>.</p>
    <li data-md>
     <p>Return <var>stream</var>.</p>
   </ol>
   <h3 class="heading settled" data-level="7.1" id="duplex-stream-attributes"><span class="secno">7.1. </span><span class="content">Attributes</span><a class="self-link" href="#duplex-stream-attributes"></a></h3>
   <dl>
    <dt data-md><dfn class="dfn-paneled idl-code" data-dfn-for="DatagramDuplexStream" data-dfn-type="attribute" data-export id="dom-datagramduplexstream-readable"><code>readable</code></dfn>, <span> of type <a data-link-type="idl-name" href="https://streams.spec.whatwg.org/#readablestream" id="ref-for-readablestream⑨">ReadableStream</a>, readonly</span>
    <dd data-md>
     <p>The getter steps are:</p>
     <ol>
      <li data-md>
       <p>Return <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this" id="ref-for-this①">this</a>.<code>[[readable]]</code>.</p>
     </ol>
    <dt data-md><dfn class="dfn-paneled idl-code" data-dfn-for="DatagramDuplexStream" data-dfn-type="attribute" data-export id="dom-datagramduplexstream-writable"><code>writable</code></dfn>, <span> of type <a data-link-type="idl-name" href="https://streams.spec.whatwg.org/#writablestream" id="ref-for-writablestream④">WritableStream</a>, readonly</span>
    <dd data-md>
     <p>The getter steps are:</p>
     <ol>
      <li data-md>
       <p>Return <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this" id="ref-for-this②">this</a>.<code>[[writable]]</code>.</p>
     </ol>
   </dl>
   <h2 class="heading settled" data-level="8" id="web-transport"><span class="secno">8. </span><span class="content"><code>WebTransport</code> Interface</span><a class="self-link" href="#web-transport"></a></h2>
   <p><code>WebTransport</code> provides an API to the HTTP/3 transport functionality
defined in <a data-link-type="biblio" href="#biblio-web-transport-http3" title="WebTransport over HTTP/3">[WEB-TRANSPORT-HTTP3]</a>. It implements all of the transport
mixins (<code class="idl"><a data-link-type="idl" href="#unidirectionalstreamstransport" id="ref-for-unidirectionalstreamstransport①">UnidirectionalStreamsTransport</a></code>, <code class="idl"><a data-link-type="idl" href="#bidirectionalstreamstransport" id="ref-for-bidirectionalstreamstransport②">BidirectionalStreamsTransport</a></code>, <code class="idl"><a data-link-type="idl" href="#datagramtransport" id="ref-for-datagramtransport①">DatagramTransport</a></code>), as well as stats and transport state information.</p>
<pre class="idl highlight def">[<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Exposed" id="ref-for-Exposed①"><c- g>Exposed</c-></a>=(<c- n>Window</c->,<c- n>Worker</c->)]
<c- b>interface</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="interface" data-export id="webtransport"><code><c- g>WebTransport</c-></code></dfn> {
  <dfn class="dfn-paneled idl-code" data-dfn-for="WebTransport" data-dfn-type="constructor" data-export data-lt="WebTransport(url, options)|constructor(url, options)|WebTransport(url)|constructor(url)" id="dom-webtransport-webtransport"><code><c- g>constructor</c-></code></dfn>(<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-USVString" id="ref-for-idl-USVString"><c- b>USVString</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="WebTransport/WebTransport(url, options), WebTransport/constructor(url, options), WebTransport/WebTransport(url), WebTransport/constructor(url)" data-dfn-type="argument" data-export id="dom-webtransport-webtransport-url-options-url"><code><c- g>url</c-></code></dfn>, <c- b>optional</c-> <a data-link-type="idl-name" href="#dictdef-webtransportoptions" id="ref-for-dictdef-webtransportoptions"><c- n>WebTransportOptions</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="WebTransport/WebTransport(url, options), WebTransport/constructor(url, options), WebTransport/WebTransport(url), WebTransport/constructor(url)" data-dfn-type="argument" data-export id="dom-webtransport-webtransport-url-options-options"><code><c- g>options</c-></code></dfn> = {});

  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise" id="ref-for-idl-promise②"><c- b>Promise</c-></a>&lt;<a data-link-type="idl-name" href="#dictdef-webtransportstats" id="ref-for-dictdef-webtransportstats"><c- n>WebTransportStats</c-></a>> <a class="idl-code" data-link-type="method" href="#dom-webtransport-getstats" id="ref-for-dom-webtransport-getstats"><c- g>getStats</c-></a>();
  <c- b>readonly</c-> <c- b>attribute</c-> <a data-link-type="idl-name" href="#enumdef-webtransportstate" id="ref-for-enumdef-webtransportstate"><c- n>WebTransportState</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="WebTransportState" href="#dom-webtransport-state" id="ref-for-dom-webtransport-state④"><c- g>state</c-></a>;
  <c- b>readonly</c-> <c- b>attribute</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise" id="ref-for-idl-promise③"><c- b>Promise</c-></a>&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-undefined" id="ref-for-idl-undefined"><c- b>undefined</c-></a>> <a class="idl-code" data-link-type="attribute" data-readonly data-type="Promise<undefined>" href="#dom-webtransport-ready" id="ref-for-dom-webtransport-ready"><c- g>ready</c-></a>;
  <c- b>readonly</c-> <c- b>attribute</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise" id="ref-for-idl-promise④"><c- b>Promise</c-></a>&lt;<a data-link-type="idl-name" href="#dictdef-webtransportcloseinfo" id="ref-for-dictdef-webtransportcloseinfo"><c- n>WebTransportCloseInfo</c-></a>> <a class="idl-code" data-link-type="attribute" data-readonly data-type="Promise<WebTransportCloseInfo>" href="#dom-webtransport-closed" id="ref-for-dom-webtransport-closed"><c- g>closed</c-></a>;
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-undefined" id="ref-for-idl-undefined①"><c- b>undefined</c-></a> <a class="idl-code" data-link-type="method" href="#dom-webtransport-close" id="ref-for-dom-webtransport-close"><c- g>close</c-></a>(<c- b>optional</c-> <a data-link-type="idl-name" href="#dictdef-webtransportcloseinfo" id="ref-for-dictdef-webtransportcloseinfo①"><c- n>WebTransportCloseInfo</c-></a> <dfn class="idl-code" data-dfn-for="WebTransport/close(closeInfo), WebTransport/close()" data-dfn-type="argument" data-export id="dom-webtransport-close-closeinfo-closeinfo"><code><c- g>closeInfo</c-></code><a class="self-link" href="#dom-webtransport-close-closeinfo-closeinfo"></a></dfn> = {});
  <c- b>attribute</c-> <a data-link-type="idl-name" href="https://html.spec.whatwg.org/multipage/webappapis.html#eventhandler" id="ref-for-eventhandler①"><c- n>EventHandler</c-></a> <a class="idl-code" data-link-type="attribute" data-type="EventHandler" href="#dom-webtransport-onstatechange" id="ref-for-dom-webtransport-onstatechange"><c- g>onstatechange</c-></a>;
};

<a data-link-type="idl-name" href="#webtransport" id="ref-for-webtransport②"><c- n>WebTransport</c-></a> <c- b>includes</c-> <a data-link-type="idl-name" href="#unidirectionalstreamstransport" id="ref-for-unidirectionalstreamstransport②"><c- n>UnidirectionalStreamsTransport</c-></a>;
<a data-link-type="idl-name" href="#webtransport" id="ref-for-webtransport③"><c- n>WebTransport</c-></a> <c- b>includes</c-> <a data-link-type="idl-name" href="#bidirectionalstreamstransport" id="ref-for-bidirectionalstreamstransport③"><c- n>BidirectionalStreamsTransport</c-></a>;
<a data-link-type="idl-name" href="#webtransport" id="ref-for-webtransport④"><c- n>WebTransport</c-></a> <c- b>includes</c-> <a data-link-type="idl-name" href="#datagramtransport" id="ref-for-datagramtransport②"><c- n>DatagramTransport</c-></a>;
</pre>
   <h3 class="heading settled" data-level="8.1" id="webtransport-internal-slots"><span class="secno">8.1. </span><span class="content">Internal slots</span><a class="self-link" href="#webtransport-internal-slots"></a></h3>
   <p>A <code class="idl"><a data-link-type="idl" href="#webtransport" id="ref-for-webtransport⑤">WebTransport</a></code> object has the following internal slots.</p>
   <table class="data">
    <thead>
     <tr>
      <th>Internal Slot 
      <th>Description (<em>non-normative</em>) 
    <tbody>
     <tr>
      <td><dfn class="dfn-paneled" data-dfn-for="WebTransport" data-dfn-type="dfn" data-noexport id="webtransport-outgoingstreams">[[OutgoingStreams]]</dfn> 
      <td class="non-normative">A sequence of <code class="idl"><a data-link-type="idl" href="#sendstream" id="ref-for-sendstream⑤">SendStream</a></code> objects. 
     <tr>
      <td><dfn class="dfn-paneled" data-dfn-for="WebTransport" data-dfn-type="dfn" data-noexport id="webtransport-receivedstreams">[[ReceivedStreams]]</dfn> 
      <td class="non-normative">A <code class="idl"><a data-link-type="idl" href="https://streams.spec.whatwg.org/#readablestream" id="ref-for-readablestream①⓪">ReadableStream</a></code> consisting of <code class="idl"><a data-link-type="idl" href="#receivestream" id="ref-for-receivestream②">ReceiveStream</a></code> objects. 
     <tr>
      <td><dfn class="dfn-paneled" data-dfn-for="WebTransport" data-dfn-type="dfn" data-noexport id="webtransport-receivedbidirectionalstreams">[[ReceivedBidirectionalStreams]]</dfn> 
      <td class="non-normative">A <code class="idl"><a data-link-type="idl" href="https://streams.spec.whatwg.org/#readablestream" id="ref-for-readablestream①①">ReadableStream</a></code> consisting of <code class="idl"><a data-link-type="idl" href="#bidirectionalstream" id="ref-for-bidirectionalstream⑨">BidirectionalStream</a></code> objects. 
     <tr>
      <td><dfn class="dfn-paneled" data-dfn-for="WebTransport" data-dfn-type="dfn" data-noexport id="webtransport-state">[[State]]</dfn> 
      <td class="non-normative">A <code class="idl"><a data-link-type="idl" href="#enumdef-webtransportstate" id="ref-for-enumdef-webtransportstate①">WebTransportState</a></code>. 
     <tr>
      <td><dfn class="dfn-paneled" data-dfn-for="WebTransport" data-dfn-type="dfn" data-noexport id="webtransport-ready">[[Ready]]</dfn> 
      <td class="non-normative">A promise fulfilled when the associated <code class="idl"><a data-link-type="idl" href="#webtransport" id="ref-for-webtransport⑥">WebTransport</a></code> object is
   ready to use, or rejected if it failed to connect. 
     <tr>
      <td><dfn class="dfn-paneled" data-dfn-for="WebTransport" data-dfn-type="dfn" data-noexport id="webtransport-closed">[[Closed]]</dfn> 
      <td class="non-normative">A promise fulfilled when the associated <code class="idl"><a data-link-type="idl" href="#webtransport" id="ref-for-webtransport⑦">WebTransport</a></code> object is
   closed gracefully, or rejected when it is closed abruptly or failed on initialization. 
     <tr>
      <td><dfn class="dfn-paneled" data-dfn-for="WebTransport" data-dfn-type="dfn" data-noexport id="webtransport-datagrams">[[Datagrams]]</dfn> 
      <td class="non-normative">A <code class="idl"><a data-link-type="idl" href="#datagramduplexstream" id="ref-for-datagramduplexstream⑤">DatagramDuplexStream</a></code>. 
     <tr>
      <td><dfn class="dfn-paneled" data-dfn-for="WebTransport" data-dfn-type="dfn" data-noexport id="webtransport-outgoingdatagramsqueue">[[OutgoingDatagramsQueue]]</dfn> 
      <td class="non-normative">A queue of tuples of an outgoing datagram, a timestamp and a promise
   which is resolved when the datagram is sent or discarded. 
     <tr>
      <td><dfn class="dfn-paneled" data-dfn-for="WebTransport" data-dfn-type="dfn" data-noexport id="webtransport-outgoingdatagramshighwatermark">[[OutgoingDatagramsHighWaterMark]]</dfn> 
      <td class="non-normative">An integer representing the <a data-link-type="dfn" href="https://streams.spec.whatwg.org/#high-water-mark" id="ref-for-high-water-mark">high water mark</a> of the outgoing
   datagrams. 
     <tr>
      <td><dfn class="dfn-paneled" data-dfn-for="WebTransport" data-dfn-type="dfn" data-noexport id="webtransport-outgoingdatagramsexpirationduration">[[OutgoingDatagramsExpirationDuration]]</dfn> 
      <td class="non-normative">A <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-double" id="ref-for-idl-double">double</a></code> value representing the expiration duration for outgoing
   datagrams (in seconds), or null. 
     <tr>
      <td><dfn class="dfn-paneled" data-dfn-for="WebTransport" data-dfn-type="dfn" data-noexport id="webtransport-connection">[[Connection]]</dfn> 
      <td class="non-normative">A <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-connection" id="ref-for-concept-connection">connection</a> for this <code class="idl"><a data-link-type="idl" href="#webtransport" id="ref-for-webtransport⑧">WebTransport</a></code> object, or null. 
   </table>
   <h3 class="heading settled" data-level="8.2" id="webtransport-constructor"><span class="secno">8.2. </span><span class="content">Constructor</span><a class="self-link" href="#webtransport-constructor"></a></h3>
   <p>When the <code class="idl"><a data-link-type="idl" href="#dom-webtransport-webtransport" id="ref-for-dom-webtransport-webtransport">WebTransport()</a></code> constructor is invoked, the user
agent MUST run the following steps:</p>
   <ol>
    <li data-md>
     <p>Let <var>parsedURL</var> be the <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url" id="ref-for-concept-url">URL record</a> resulting from <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url-parser" id="ref-for-concept-url-parser">parsing</a> <code class="idl"><a data-link-type="idl" href="#dom-webtransport-webtransport-url-options-url" id="ref-for-dom-webtransport-webtransport-url-options-url">url</a></code>.</p>
    <li data-md>
     <p>If <var>parsedURL</var> is a failure, <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#dfn-throw" id="ref-for-dfn-throw①">throw</a> a <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#syntaxerror" id="ref-for-syntaxerror">SyntaxError</a></code> exception.</p>
    <li data-md>
     <p>If <var>parsedURL</var> <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url-scheme" id="ref-for-concept-url-scheme">scheme</a> is not <code>https</code>, <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#dfn-throw" id="ref-for-dfn-throw②">throw</a> a <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#syntaxerror" id="ref-for-syntaxerror①">SyntaxError</a></code> exception.</p>
    <li data-md>
     <p>If <var>parsedURL</var> <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url-fragment" id="ref-for-concept-url-fragment">fragment</a> is not null, <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#dfn-throw" id="ref-for-dfn-throw③">throw</a> a <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#syntaxerror" id="ref-for-syntaxerror②">SyntaxError</a></code> exception.</p>
    <li data-md>
     <p>Let <var>allowPooling</var> be <code class="idl"><a data-link-type="idl" href="#dom-webtransport-webtransport-url-options-options" id="ref-for-dom-webtransport-webtransport-url-options-options">options</a></code>'s <code class="idl"><a data-link-type="idl" href="#dom-webtransportoptions-allowpooling" id="ref-for-dom-webtransportoptions-allowpooling">allowPooling</a></code> if it exists, and false otherwise.</p>
    <li data-md>
     <p>Let <var>dedicated</var> be the negation of <var>allowPooling</var>.</p>
    <li data-md>
     <p>Let <var>serverCertificateFingerprints</var> be <code class="idl"><a data-link-type="idl" href="#dom-webtransport-webtransport-url-options-options" id="ref-for-dom-webtransport-webtransport-url-options-options①">options</a></code>'s <code class="idl"><a data-link-type="idl" href="#dom-webtransportoptions-servercertificatefingerprints" id="ref-for-dom-webtransportoptions-servercertificatefingerprints">serverCertificateFingerprints</a></code> if it exists, and null otherwise.</p>
    <li data-md>
     <p>If <var>dedicated</var> is false and <var>serverCertificateFingerprints</var> is non-null, then <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#dfn-throw" id="ref-for-dfn-throw④">throw</a> a <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#exceptiondef-typeerror" id="ref-for-exceptiondef-typeerror①">TypeError</a></code>.</p>
    <li data-md>
     <p>Let <var>transport</var> be a newly constructed <code class="idl"><a data-link-type="idl" href="#webtransport" id="ref-for-webtransport⑨">WebTransport</a></code> object, with:</p>
     <dl>
      <dt data-md><a data-link-type="dfn" href="#webtransport-outgoingstreams" id="ref-for-webtransport-outgoingstreams②">[[OutgoingStreams]]</a>
      <dd data-md>
       <p>empty</p>
      <dt data-md><a data-link-type="dfn" href="#webtransport-receivedstreams" id="ref-for-webtransport-receivedstreams②">[[ReceivedStreams]]</a>
      <dd data-md>
       <p>a new <code class="idl"><a data-link-type="idl" href="https://streams.spec.whatwg.org/#readablestream" id="ref-for-readablestream①②">ReadableStream</a></code></p>
      <dt data-md><a data-link-type="dfn" href="#webtransport-receivedbidirectionalstreams" id="ref-for-webtransport-receivedbidirectionalstreams③">[[ReceivedBidirectionalStreams]]</a>
      <dd data-md>
       <p>a new <code class="idl"><a data-link-type="idl" href="https://streams.spec.whatwg.org/#readablestream" id="ref-for-readablestream①③">ReadableStream</a></code></p>
      <dt data-md><a data-link-type="dfn" href="#webtransport-state" id="ref-for-webtransport-state①">[[State]]</a>
      <dd data-md>
       <p><code>"connecting"</code></p>
      <dt data-md><a data-link-type="dfn" href="#webtransport-ready" id="ref-for-webtransport-ready">[[Ready]]</a>
      <dd data-md>
       <p>a new promise</p>
      <dt data-md><a data-link-type="dfn" href="#webtransport-closed" id="ref-for-webtransport-closed">[[Closed]]</a>
      <dd data-md>
       <p>a new promise</p>
      <dt data-md><a data-link-type="dfn" href="#webtransport-datagrams" id="ref-for-webtransport-datagrams①">[[Datagrams]]</a>
      <dd data-md>
       <p>null</p>
       <div class="note" role="note">
        <p>This slot cannot be set to null, but this case is fine because we set a value in the
     subsequent steps.</p>
       </div>
      <dt data-md><a data-link-type="dfn" href="#webtransport-outgoingdatagramsqueue" id="ref-for-webtransport-outgoingdatagramsqueue③">[[OutgoingDatagramsQueue]]</a>
      <dd data-md>
       <p>an empty queue</p>
      <dt data-md><a data-link-type="dfn" href="#webtransport-outgoingdatagramshighwatermark" id="ref-for-webtransport-outgoingdatagramshighwatermark①">[[OutgoingDatagramsHighWaterMark]]</a>
      <dd data-md>
       <p>an <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#implementation-defined" id="ref-for-implementation-defined①">implementation-defined</a> integer</p>
       <div class="note" role="note">
        <p>This implementation-defined value should be tuned to ensure decent throughput, without
     jeopardizing the timeliness of transmitted data.</p>
       </div>
      <dt data-md><a data-link-type="dfn" href="#webtransport-outgoingdatagramsexpirationduration" id="ref-for-webtransport-outgoingdatagramsexpirationduration①">[[OutgoingDatagramsExpirationDuration]]</a>
      <dd data-md>
       <p>null</p>
      <dt data-md><a data-link-type="dfn" href="#webtransport-connection" id="ref-for-webtransport-connection">[[Connection]]</a>
      <dd data-md>
       <p>null</p>
     </dl>
    <li data-md>
     <p>Let <var>outgoingDatagrams</var> be the result of <a data-link-type="dfn">creating</a> a <code class="idl"><a data-link-type="idl" href="https://streams.spec.whatwg.org/#writablestream" id="ref-for-writablestream⑤">WritableStream</a></code>,
 its <a data-link-type="dfn">writeAlgorithm</a> set to <a data-link-type="dfn" href="#writedatagrams" id="ref-for-writedatagrams②">writeDatagrams</a> given <var>transport</var> as a parameter.</p>
    <li data-md>
     <p>Let <var>incomingDatagrams</var> be the result of <a data-link-type="dfn">creating</a> a <code class="idl"><a data-link-type="idl" href="https://streams.spec.whatwg.org/#readablestream" id="ref-for-readablestream①④">ReadableStream</a></code>. <code>transport.[[IncomingDatagrams]]</code> is provided datagrams
  using the <a data-link-type="dfn" href="#readdatagrams" id="ref-for-readdatagrams">readDatagrams</a> algorithm given <var>transport</var> as a parameter.</p>
    <li data-md>
     <p>Set <var>transport</var>’s <a data-link-type="dfn" href="#webtransport-datagrams" id="ref-for-webtransport-datagrams②">[[Datagrams]]</a> to the result of <a data-link-type="dfn" href="#datagramduplexstream-create" id="ref-for-datagramduplexstream-create">creating</a> a <code class="idl"><a data-link-type="idl" href="#datagramduplexstream" id="ref-for-datagramduplexstream⑥">DatagramDuplexStream</a></code>, its <a data-link-type="dfn" href="#datagramduplexstream-create-readable" id="ref-for-datagramduplexstream-create-readable">readable</a> set to <var>incomingDatagrams</var> and its <a data-link-type="dfn" href="#datagramduplexstream-create-writable" id="ref-for-datagramduplexstream-create-writable">writable</a> set to <var>outgoingDatagrams</var>.</p>
    <li data-md>
     <p>Let <var>promise</var> be the result of <a data-link-type="dfn" href="#initialize-webtransport-over-http" id="ref-for-initialize-webtransport-over-http">initializing WebTransport
 over HTTP</a>, with <var>transport</var>, <var>parsedURL</var> and <var>dedicated</var>.</p>
    <li data-md>
     <p><a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#upon-fulfillment" id="ref-for-upon-fulfillment">Upon fulfillment</a> of <var>promise</var>, run these steps:</p>
     <ol>
      <li data-md>
       <p>If <var>transport</var>’s <a data-link-type="dfn" href="#webtransport-state" id="ref-for-webtransport-state②">[[State]]</a> is not <code>"connecting"</code>, then abort these steps.</p>
      <li data-md>
       <p>Set <var>transport</var>’s <a data-link-type="dfn" href="#webtransport-state" id="ref-for-webtransport-state③">[[State]]</a> to <code>"connected"</code>.</p>
      <li data-md>
       <p>Resolve <var>transport</var>’s <a data-link-type="dfn" href="#webtransport-ready" id="ref-for-webtransport-ready①">[[Ready]]</a> with <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-undefined" id="ref-for-idl-undefined②">undefined</a></code>.</p>
     </ol>
    <li data-md>
     <p><a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#upon-rejection" id="ref-for-upon-rejection">Upon rejection</a> of <var>promise</var> with <var>error</var>, run these steps:</p>
     <ol>
      <li data-md>
       <p>Set <var>transport</var>’s <a data-link-type="dfn" href="#webtransport-state" id="ref-for-webtransport-state④">[[State]]</a> to <code>"failed"</code>.</p>
      <li data-md>
       <p>Reject <var>transport</var>’s <a data-link-type="dfn" href="#webtransport-ready" id="ref-for-webtransport-ready②">[[Ready]]</a> with <var>error</var>.</p>
      <li data-md>
       <p>Reject <var>transport</var>’s <a data-link-type="dfn" href="#webtransport-closed" id="ref-for-webtransport-closed①">[[Closed]]</a> with <var>error</var>.</p>
     </ol>
    <li data-md>
     <p>Return <var>transport</var>.</p>
   </ol>
   <div class="algorithm" data-algorithm="initialize WebTransport over HTTP">
     To <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="initialize-webtransport-over-http">initialize WebTransport over HTTP</dfn>, given a <code class="idl"><a data-link-type="idl" href="#webtransport" id="ref-for-webtransport①⓪">WebTransport</a></code> object <var>transport</var>, a <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url" id="ref-for-concept-url①">URL record</a> <var>url</var>, and a boolean <var>dedicated</var>, run these steps. 
    <ol>
     <li data-md>
      <p>Let <var>promise</var> be a new promise.</p>
     <li data-md>
      <p>Let <var>networkPartitionKey</var> be the result of <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#determine-the-network-partition-key" id="ref-for-determine-the-network-partition-key">determining the network partition key</a> with <var>transport</var>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#relevant-settings-object" id="ref-for-relevant-settings-object">relevant settings object</a>.</p>
     <li data-md>
      <p>Return <var>promise</var> and run the following steps <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/infrastructure.html#in-parallel" id="ref-for-in-parallel②">in parallel</a>.</p>
     <li data-md>
      <p>Let <var>connection</var> be the result of <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-connection-obtain" id="ref-for-concept-connection-obtain">obtaining a connection</a> with <var>networkPartitionKey</var>, <var>url</var>’s <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url-origin" id="ref-for-concept-url-origin">origin</a>, false, <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#obtain-a-connection-http3only" id="ref-for-obtain-a-connection-http3only">http3Only</a> set to
 true, and <a data-link-type="dfn">dedicated</a> set to <var>dedicated</var>.</p>
     <li data-md>
      <p>If <var>connection</var> is failure, then reject <var>promise</var> with a <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#exceptiondef-typeerror" id="ref-for-exceptiondef-typeerror②">TypeError</a></code> and abort these steps.</p>
     <li data-md>
      <p>Set <var>transport</var>’s <a data-link-type="dfn" href="#webtransport-connection" id="ref-for-webtransport-connection①">[[Connection]]</a> to <var>connection</var>.</p>
     <li data-md>
      <p>Wait for <var>connection</var> to receive the first SETTINGS frame, and let <var>settings</var> be a dictionary that
 represents the SETTINGS frame.</p>
     <li data-md>
      <p>If <var>settings</var> doesn’t contain SETTINGS_ENABLE_WEBTRANPORT with a value of 1, or it doesn’t
 contain H3_DATAGRAM with a value of 1, then reject <var>promise</var> with a <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#exceptiondef-typeerror" id="ref-for-exceptiondef-typeerror③">TypeError</a></code> and abort
 these steps.</p>
     <li data-md>
      <p>Create a WebTransport session with <var>connection</var>, as described in <a data-link-type="biblio" href="#biblio-web-transport-http3" title="WebTransport over HTTP/3">[WEB-TRANSPORT-HTTP3]</a>.</p>
     <li data-md>
      <p>If the previous step fails, then reject <var>promise</var> with a <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#exceptiondef-typeerror" id="ref-for-exceptiondef-typeerror④">TypeError</a></code> and abort these steps.</p>
     <li data-md>
      <p>Resolve <var>promise</var> with <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-undefined" id="ref-for-idl-undefined③">undefined</a></code>.</p>
    </ol>
   </div>
   <h3 class="heading settled" data-level="8.3" id="webtransport-attributes"><span class="secno">8.3. </span><span class="content">Attributes</span><a class="self-link" href="#webtransport-attributes"></a></h3>
   <dl>
    <dt data-md><dfn class="dfn-paneled idl-code" data-dfn-for="WebTransport" data-dfn-type="attribute" data-export id="dom-webtransport-state"><code>state</code></dfn>, <span> of type <a data-link-type="idl-name" href="#enumdef-webtransportstate" id="ref-for-enumdef-webtransportstate②">WebTransportState</a>, readonly</span>
    <dd data-md>
     <p>The current state of the transport. On getting, it MUST return <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this" id="ref-for-this③">this</a>'s <a data-link-type="dfn" href="#webtransport-state" id="ref-for-webtransport-state⑤">[[State]]</a>.</p>
    <dt data-md><dfn class="dfn-paneled idl-code" data-dfn-for="WebTransport" data-dfn-type="attribute" data-export id="dom-webtransport-ready"><code>ready</code></dfn>, <span> of type Promise&lt;<a data-link-type="idl-name" href="https://webidl.spec.whatwg.org/#idl-undefined" id="ref-for-idl-undefined④">undefined</a>>, readonly</span>
    <dd data-md>
     <p>On getting, it MUST return <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this" id="ref-for-this④">this</a>'s <a data-link-type="dfn" href="#webtransport-ready" id="ref-for-webtransport-ready③">[[Ready]]</a>.</p>
    <dt data-md><dfn class="dfn-paneled idl-code" data-dfn-for="WebTransport" data-dfn-type="attribute" data-export id="dom-webtransport-closed"><code>closed</code></dfn>, <span> of type Promise&lt;<a data-link-type="idl-name" href="#dictdef-webtransportcloseinfo" id="ref-for-dictdef-webtransportcloseinfo②">WebTransportCloseInfo</a>>, readonly</span>
    <dd data-md>
     <p>On getting, it MUST return <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this" id="ref-for-this⑤">this</a>'s <a data-link-type="dfn" href="#webtransport-closed" id="ref-for-webtransport-closed②">[[Closed]]</a>.</p>
    <dd data-md>
     <p>This promise MUST be <a data-link-type="dfn" href="http://www.ecma-international.org/ecma-262/6.0/index.html#sec-promise-objects" id="ref-for-sec-promise-objects①⑥">resolved</a> when the transport is closed; an
 implementation SHOULD include error information in the <code>reason</code> and <code>errorCode</code> fields of <code class="idl"><a data-link-type="idl" href="#dictdef-webtransportcloseinfo" id="ref-for-dictdef-webtransportcloseinfo③">WebTransportCloseInfo</a></code>.</p>
    <dt data-md><dfn class="dfn-paneled idl-code" data-dfn-for="WebTransport" data-dfn-type="attribute" data-export id="dom-webtransport-onstatechange"><code>onstatechange</code></dfn>, <span> of type <a data-link-type="idl-name" href="https://html.spec.whatwg.org/multipage/webappapis.html#eventhandler" id="ref-for-eventhandler②">EventHandler</a></span>
    <dd data-md>
     <p>This event handler, of event handler event type <code>statechange</code>, MUST be fired
 any time the <a data-link-type="dfn" href="#webtransport-state" id="ref-for-webtransport-state⑥">[[State]]</a> changes, unless the state changes
 due to calling <code class="idl"><a data-link-type="idl" href="#dom-webtransport-close" id="ref-for-dom-webtransport-close①">close</a></code>.</p>
   </dl>
   <h3 class="heading settled" data-level="8.4" id="webtransport-methods"><span class="secno">8.4. </span><span class="content">Methods</span><a class="self-link" href="#webtransport-methods"></a></h3>
   <dl>
    <dt data-md><dfn class="dfn-paneled idl-code" data-dfn-for="WebTransport" data-dfn-type="method" data-export data-lt="close(closeInfo)|close()" id="dom-webtransport-close"><code>close()</code></dfn>
    <dd data-md>
     <p>Closes the WebTransport object. For a dedicated connection, this
 triggers an <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="immediate-close">Immediate Close</dfn> as described in <a data-link-type="biblio" href="#biblio-quic" title="QUIC: A UDP-Based Multiplexed and Secure Transport">[QUIC]</a> section 10.2.</p>
     <p>When close is called, the user agent MUST run the following steps:</p>
     <ol>
      <li data-md>
       <p>Let <var>transport</var> be the WebTransport on which <code>close</code> is invoked.</p>
      <li data-md>
       <p>If <var>transport</var>’s <a data-link-type="dfn" href="#webtransport-state" id="ref-for-webtransport-state⑦">[[State]]</a> is <code>"closed"</code> or <code>"failed"</code>,
  then abort these steps.</p>
      <li data-md>
       <p>Set <var>transport</var>’s <a data-link-type="dfn" href="#webtransport-state" id="ref-for-webtransport-state⑧">[[State]]</a> to <code>"closed"</code>.</p>
      <li data-md>
       <p>Let <code>closeInfo</code> be the first argument.</p>
      <li data-md>
       <p>If the connection is dedicated, start the <a data-link-type="dfn" href="#immediate-close" id="ref-for-immediate-close">Immediate Close</a> procedure
  by sending an CONNECTION_CLOSE frame with its error code value set to the value
  of <code class="idl"><a data-link-type="idl" href="#dom-webtransportcloseinfo-errorcode" id="ref-for-dom-webtransportcloseinfo-errorcode">errorCode</a></code> and its reason value set to the
  value of <code class="idl"><a data-link-type="idl" href="#dom-webtransportcloseinfo-reason" id="ref-for-dom-webtransportcloseinfo-reason">reason</a></code>.</p>
     </ol>
    <dt data-md><dfn class="dfn-paneled idl-code" data-dfn-for="WebTransport" data-dfn-type="method" data-export id="dom-webtransport-getstats"><code>getStats()</code></dfn>
    <dd data-md>
     <p>Gathers stats for this <code class="idl"><a data-link-type="idl" href="#webtransport" id="ref-for-webtransport①①">WebTransport</a></code>'s HTTP/3
 connection and reports the result asynchronously.</p>
     <p></p>
     <p>When close is called, the user agent MUST run the following steps:</p>
     <ol>
      <li data-md>
       <p>Let <var>transport</var> be the WebTransport on which <code>getStats</code> is invoked.</p>
      <li data-md>
       <p>Let <var>p</var> be a new promise.</p>
      <li data-md>
       <p>If the URL scheme associated with <var>transport</var> is not <code>https</code>, <a data-link-type="dfn" href="http://www.ecma-international.org/ecma-262/6.0/index.html#sec-promise-objects" id="ref-for-sec-promise-objects①⑦">reject</a> <var>p</var> with <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#notsupportederror" id="ref-for-notsupportederror">NotSupportedError</a></code> and return <var>p</var>.</p>
      <li data-md>
       <p>Return <var>p</var> and continue the following steps <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/infrastructure.html#in-parallel" id="ref-for-in-parallel③">in parallel</a>.</p>
       <ol>
        <li data-md>
         <p>Gather the stats from the underlying QUIC connection.</p>
        <li data-md>
         <p>Once stats have been gathered, resolve <var>p</var> with the <code class="idl"><a data-link-type="idl" href="#dictdef-webtransportstats" id="ref-for-dictdef-webtransportstats①">WebTransportStats</a></code> object, representing the gathered stats.</p>
       </ol>
     </ol>
   </dl>
   <h3 class="heading settled" data-level="8.5" id="web-transport-configuration"><span class="secno">8.5. </span><span class="content">Configuration</span><a class="self-link" href="#web-transport-configuration"></a></h3>
<pre class="idl highlight def"><c- b>dictionary</c-> <a class="idl-code" data-link-type="dictionary" href="#dictdef-webtransportoptions" id="ref-for-dictdef-webtransportoptions①"><c- g>WebTransportOptions</c-></a> {
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-boolean" id="ref-for-idl-boolean"><c- b>boolean</c-></a> <a class="idl-code" data-link-type="dict-member" data-type="boolean " href="#dom-webtransportoptions-allowpooling" id="ref-for-dom-webtransportoptions-allowpooling①"><c- g>allowPooling</c-></a>;
  <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#idl-sequence" id="ref-for-idl-sequence"><c- b>sequence</c-></a>&lt;<a data-link-type="idl-name" href="https://w3c.github.io/webrtc-pc/#dom-rtcdtlsfingerprint" id="ref-for-dom-rtcdtlsfingerprint"><c- n>RTCDtlsFingerprint</c-></a>> <a class="idl-code" data-link-type="dict-member" data-type="sequence<RTCDtlsFingerprint> " href="#dom-webtransportoptions-servercertificatefingerprints" id="ref-for-dom-webtransportoptions-servercertificatefingerprints①"><c- g>serverCertificateFingerprints</c-></a>;
};
</pre>
   <p><dfn class="dfn-paneled idl-code" data-dfn-type="dictionary" data-export id="dictdef-webtransportoptions"><code>WebTransportOptions</code></dfn> is a dictionary of parameters
that determine how WebTransport connection is established and used.</p>
   <dl>
    <dt data-md><dfn class="dfn-paneled idl-code" data-dfn-for="WebTransportOptions" data-dfn-type="dict-member" data-export id="dom-webtransportoptions-allowpooling"><code>allowPooling</code></dfn>, <span> of type <a data-link-type="idl-name" href="https://webidl.spec.whatwg.org/#idl-boolean" id="ref-for-idl-boolean①">boolean</a></span>
    <dd data-md>
     <p>When set to true, the WebTransport connection can be pooled, that is, the network connection for
 the WebTransport session can be shared with other HTTP/3 sessions.</p>
    <dt data-md><dfn class="dfn-paneled idl-code" data-dfn-for="WebTransportOptions" data-dfn-type="dict-member" data-export id="dom-webtransportoptions-servercertificatefingerprints"><code>serverCertificateFingerprints</code></dfn>, <span> of type sequence&lt;<a data-link-type="idl-name" href="https://w3c.github.io/webrtc-pc/#dom-rtcdtlsfingerprint" id="ref-for-dom-rtcdtlsfingerprint①">RTCDtlsFingerprint</a>></span>
    <dd data-md>
     <p>This option is only supported for transports using dedicated connections.
 For transport protocols that do not support this feature, having this
 field non-empty SHALL result in a <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#notsupportederror" id="ref-for-notsupportederror①">NotSupportedError</a></code> exception being thrown.</p>
    <dd data-md>
     <p>If supported and non-empty, the user agent SHALL deem a server certificate
 trusted if and only if it can successfully <a data-link-type="dfn" href="#verify-a-certificate-fingerprint" id="ref-for-verify-a-certificate-fingerprint">verify a certificate
 fingerprint</a> against <code class="idl"><a data-link-type="idl" href="#dom-webtransportoptions-servercertificatefingerprints" id="ref-for-dom-webtransportoptions-servercertificatefingerprints②">serverCertificateFingerprints</a></code> and satisfies <a data-link-type="dfn" href="#custom-certificate-requirements" id="ref-for-custom-certificate-requirements">custom certificate requirements</a>.  The user agent SHALL
 ignore any fingerprint that uses an unknown <code class="idl"><a data-link-type="idl" href="https://w3c.github.io/webrtc-pc/#dom-rtcdtlsfingerprint-algorithm" id="ref-for-dom-rtcdtlsfingerprint-algorithm">algorithm</a></code> or has a malformed <code class="idl"><a data-link-type="idl" href="https://w3c.github.io/webrtc-pc/#dom-rtcdtlsfingerprint-value" id="ref-for-dom-rtcdtlsfingerprint-value">value</a></code>.  If empty, the user agent
 SHALL use certificate verification procedures it would use for normal <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-fetch" id="ref-for-concept-fetch">fetch</a> operations.</p>
    <dd data-md>
     <p>This cannot be used with <code class="idl"><a data-link-type="idl" href="#dom-webtransportoptions-allowpooling" id="ref-for-dom-webtransportoptions-allowpooling②">allowPooling</a></code>.</p>
   </dl>
   <div class="algorithm" data-algorithm="compute a certificate fingerprint">
     To <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="compute-a-certificate-fingerprint">compute a certificate fingerprint</dfn>, do the following: 
    <ol>
     <li data-md>
      <p>Let <var>cert</var> be the input certificate, represented as a DER encoding of
 Certificate message defined in <a data-link-type="biblio" href="#biblio-rfc5280" title="Internet X.509 Public Key Infrastructure Certificate and Certificate Revocation List (CRL) Profile">[RFC5280]</a>.</p>
     <li data-md>
      <p>Compute the SHA-256 hash of <var>cert</var>.  Format it as <code>fingerprint</code> BNF
 rule described in Section 5 of <a data-link-type="biblio" href="#biblio-rfc8122" title="Connection-Oriented Media Transport over the Transport Layer Security (TLS) Protocol in the Session Description Protocol (SDP)">[RFC8122]</a>.</p>
    </ol>
   </div>
   <div class="algorithm" data-algorithm="verify a certificate fingerprint">
     To <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="verify-a-certificate-fingerprint">verify a certificate fingerprint</dfn>, do the following: 
    <ol>
     <li data-md>
      <p>Let <var>fingerprints</var> be the input array of fingerprints.</p>
     <li data-md>
      <p>Let <var>referenceFingerprint</var> be the <a data-link-type="dfn" href="#compute-a-certificate-fingerprint" id="ref-for-compute-a-certificate-fingerprint">computed
 fingerprint</a> of the input certificate.</p>
     <li data-md>
      <p>For every fingerprint <var>fingerprint</var> in <var>fingerprints</var>:</p>
      <ol>
       <li data-md>
        <p>If <code class="idl"><a data-link-type="idl" href="https://w3c.github.io/webrtc-pc/#dom-rtcdtlsfingerprint-algorithm" id="ref-for-dom-rtcdtlsfingerprint-algorithm①">algorithm</a></code> of <var>fingerprint</var> is equal to "sha-256",
  and <code class="idl"><a data-link-type="idl" href="https://w3c.github.io/webrtc-pc/#dom-rtcdtlsfingerprint-value" id="ref-for-dom-rtcdtlsfingerprint-value①">value</a></code> of <var>fingerprint</var> is equal to <var>referenceFingerprint</var>, the certificate is valid.  Return true.</p>
      </ol>
     <li data-md>
      <p>Return false.</p>
    </ol>
   </div>
   <p>The <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="custom-certificate-requirements">custom certificate requirements</dfn> are as follows: the certificate
MUST be an X.509v3 certificate as defined in <a data-link-type="biblio" href="#biblio-rfc5280" title="Internet X.509 Public Key Infrastructure Certificate and Certificate Revocation List (CRL) Profile">[RFC5280]</a>, the current time
MUST be within the validity period of the certificate as defined in Section
4.1.2.5 of <a data-link-type="biblio" href="#biblio-rfc5280" title="Internet X.509 Public Key Infrastructure Certificate and Certificate Revocation List (CRL) Profile">[RFC5280]</a> and the total length of the validity period MUST NOT
exceed two weeks.</p>
   <p class="issue" id="issue-7e6950b7"><a class="self-link" href="#issue-7e6950b7"></a> Reconsider the time period above.  We want it to be sufficiently large
that applications using this for ephemeral certificates can do so without
having to fight the clock skew, but small enough to discourage long-term use
without key rotation.</p>
   <h3 class="heading settled" data-level="8.6" id="web-transport-state-enum"><span class="secno">8.6. </span><span class="content"><code>WebTransportState</code> Enum</span><a class="self-link" href="#web-transport-state-enum"></a></h3>
   <p><dfn class="dfn-paneled idl-code" data-dfn-type="enum" data-export id="enumdef-webtransportstate"><code>WebTransportState</code></dfn> indicates the state of the transport.</p>
<pre class="idl highlight def"><c- b>enum</c-> <a class="idl-code" data-link-type="enum" href="#enumdef-webtransportstate" id="ref-for-enumdef-webtransportstate③"><c- g>WebTransportState</c-></a> {
  <a class="idl-code" data-link-type="enum-value" href="#dom-webtransportstate-connecting" id="ref-for-dom-webtransportstate-connecting"><c- s>"connecting"</c-></a>,
  <a class="idl-code" data-link-type="enum-value" href="#dom-webtransportstate-connected" id="ref-for-dom-webtransportstate-connected"><c- s>"connected"</c-></a>,
  <a class="idl-code" data-link-type="enum-value" href="#dom-webtransportstate-closed" id="ref-for-dom-webtransportstate-closed"><c- s>"closed"</c-></a>,
  <a class="idl-code" data-link-type="enum-value" href="#dom-webtransportstate-failed" id="ref-for-dom-webtransportstate-failed"><c- s>"failed"</c-></a>
};
</pre>
   <dl>
    <dt data-md><dfn class="dfn-paneled idl-code" data-dfn-for="WebTransportState" data-dfn-type="enum-value" data-export id="dom-webtransportstate-connecting"><code>"connecting"</code></dfn>
    <dd data-md>
     <p>The transport is in the process of negotiating a secure connection. Once a
 secure connection is negotiated, incoming data can flow through.</p>
    <dt data-md><dfn class="dfn-paneled idl-code" data-dfn-for="WebTransportState" data-dfn-type="enum-value" data-export id="dom-webtransportstate-connected"><code>"connected"</code></dfn>
    <dd data-md>
     <p>The transport has completed negotiation of a secure connection. Outgoing
 data and media can now flow through.</p>
    <dt data-md><dfn class="dfn-paneled idl-code" data-dfn-for="WebTransportState" data-dfn-type="enum-value" data-export id="dom-webtransportstate-closed"><code>"closed"</code></dfn>
    <dd data-md>
     <p>The transport has been closed intentionally via a call to <code class="idl"><a data-link-type="idl" href="#dom-webtransport-close" id="ref-for-dom-webtransport-close②">close()</a></code> or receipt of a closing message from the remote
 side.  When the <code class="idl"><a data-link-type="idl" href="#webtransport" id="ref-for-webtransport①②">WebTransport</a></code>'s <a data-link-type="dfn" href="#webtransport-state" id="ref-for-webtransport-state⑨">[[State]]</a> transitions to <code>closed</code> the user agent MUST run the following steps:</p>
     <ol>
      <li data-md>
       <p>Let <var>transport</var> be the <code class="idl"><a data-link-type="idl" href="#webtransport" id="ref-for-webtransport①③">WebTransport</a></code>.</p>
      <li data-md>
       <p>Close the <code class="idl"><a data-link-type="idl" href="https://streams.spec.whatwg.org/#readablestream" id="ref-for-readablestream①⑤">ReadableStream</a></code> in <var>transport</var>’s <a data-link-type="dfn" href="#webtransport-receivedstreams" id="ref-for-webtransport-receivedstreams③">[[ReceivedStreams]]</a>.</p>
      <li data-md>
       <p>Close the <code class="idl"><a data-link-type="idl" href="https://streams.spec.whatwg.org/#readablestream" id="ref-for-readablestream①⑥">ReadableStream</a></code> in <var>transport</var>’s <a data-link-type="dfn" href="#webtransport-receivedbidirectionalstreams" id="ref-for-webtransport-receivedbidirectionalstreams④">[[ReceivedBidirectionalStreams]]</a>.</p>
      <li data-md>
       <p>For each <code class="idl"><a data-link-type="idl" href="#sendstream" id="ref-for-sendstream⑥">SendStream</a></code> in <var>transport</var>’s <a data-link-type="dfn" href="#webtransport-outgoingstreams" id="ref-for-webtransport-outgoingstreams③">[[OutgoingStreams]]</a> run the following:</p>
       <ol>
        <li data-md>
         <p>Let <var>stream</var> be the <code class="idl"><a data-link-type="idl" href="#sendstream" id="ref-for-sendstream⑦">SendStream</a></code>.</p>
        <li data-md>
         <p>Remove the <var>stream</var> from the <var>transport</var>’s <a data-link-type="dfn" href="#webtransport-outgoingstreams" id="ref-for-webtransport-outgoingstreams④">[[OutgoingStreams]]</a>.</p>
       </ol>
     </ol>
    <dt data-md><dfn class="dfn-paneled idl-code" data-dfn-for="WebTransportState" data-dfn-type="enum-value" data-export id="dom-webtransportstate-failed"><code>"failed"</code></dfn>
    <dd data-md>
     <p>The transport has been closed as the result of an error (such as receipt of
 an error alert). When the WebTransport’s <a data-link-type="dfn" href="#webtransport-state" id="ref-for-webtransport-state①⓪">[[State]]</a> transitions to <code>failed</code> the user agent MUST run the following steps:</p>
     <ol>
      <li data-md>
       <p>Close the <code class="idl"><a data-link-type="idl" href="https://streams.spec.whatwg.org/#readablestream" id="ref-for-readablestream①⑦">ReadableStream</a></code> in <var>transport</var>’s <a data-link-type="dfn" href="#webtransport-receivedstreams" id="ref-for-webtransport-receivedstreams④">[[ReceivedStreams]]</a>.</p>
      <li data-md>
       <p>Close the <code class="idl"><a data-link-type="idl" href="https://streams.spec.whatwg.org/#readablestream" id="ref-for-readablestream①⑧">ReadableStream</a></code> in <var>transport</var>’s <a data-link-type="dfn" href="#webtransport-receivedbidirectionalstreams" id="ref-for-webtransport-receivedbidirectionalstreams⑤">[[ReceivedBidirectionalStreams]]</a>.</p>
      <li data-md>
       <p>For each <code class="idl"><a data-link-type="idl" href="#sendstream" id="ref-for-sendstream⑧">SendStream</a></code> in <var>transport</var>’s <a data-link-type="dfn" href="#webtransport-outgoingstreams" id="ref-for-webtransport-outgoingstreams⑤">[[OutgoingStreams]]</a> run the following:</p>
       <ol>
        <li data-md>
         <p>Remove the <var>stream</var> from the <var>transport</var>’s <a data-link-type="dfn" href="#webtransport-outgoingstreams" id="ref-for-webtransport-outgoingstreams⑥">[[OutgoingStreams]]</a>.</p>
       </ol>
     </ol>
   </dl>
   <h3 class="heading settled" data-level="8.7" id="web-transport-close-info"><span class="secno">8.7. </span><span class="content"><code>WebTransportCloseInfo</code> Dictionary</span><a class="self-link" href="#web-transport-close-info"></a></h3>
   <p>The <dfn class="dfn-paneled idl-code" data-dfn-type="dictionary" data-export id="dictdef-webtransportcloseinfo"><code>WebTransportCloseInfo</code></dfn> dictionary includes information
relating to the error code for closing a <code class="idl"><a data-link-type="idl" href="#webtransport" id="ref-for-webtransport①④">WebTransport</a></code>. This
information is used to set the error code and reason for a CONNECTION_CLOSE
frame.</p>
<pre class="idl highlight def"><c- b>dictionary</c-> <a class="idl-code" data-link-type="dictionary" href="#dictdef-webtransportcloseinfo" id="ref-for-dictdef-webtransportcloseinfo④"><c- g>WebTransportCloseInfo</c-></a> {
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-unsigned-long-long" id="ref-for-idl-unsigned-long-long"><c- b>unsigned</c-> <c- b>long</c-> <c- b>long</c-></a> <a class="idl-code" data-default="0" data-link-type="dict-member" data-type="unsigned long long " href="#dom-webtransportcloseinfo-errorcode" id="ref-for-dom-webtransportcloseinfo-errorcode①"><c- g>errorCode</c-></a> = 0;
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString" id="ref-for-idl-DOMString"><c- b>DOMString</c-></a> <a class="idl-code" data-default="&quot;&quot;" data-link-type="dict-member" data-type="DOMString " href="#dom-webtransportcloseinfo-reason" id="ref-for-dom-webtransportcloseinfo-reason①"><c- g>reason</c-></a> = "";
};
</pre>
   <p>The dictionary SHALL have the following attributes:</p>
   <dl>
    <dt data-md><dfn class="dfn-paneled idl-code" data-dfn-for="WebTransportCloseInfo" data-dfn-type="dict-member" data-export id="dom-webtransportcloseinfo-errorcode"><code>errorCode</code></dfn>, <span> of type <a data-link-type="idl-name" href="https://webidl.spec.whatwg.org/#idl-unsigned-long-long" id="ref-for-idl-unsigned-long-long①">unsigned long long</a>, defaulting to <code>0</code></span>
    <dd data-md>
     <p>The error code communicated to the peer.</p>
    <dt data-md><dfn class="dfn-paneled idl-code" data-dfn-for="WebTransportCloseInfo" data-dfn-type="dict-member" data-export id="dom-webtransportcloseinfo-reason"><code>reason</code></dfn>, <span> of type <a data-link-type="idl-name" href="https://webidl.spec.whatwg.org/#idl-DOMString" id="ref-for-idl-DOMString①">DOMString</a>, defaulting to <code>""</code></span>
    <dd data-md>
     <p>The reason for closing the <code class="idl"><a data-link-type="idl" href="#webtransport" id="ref-for-webtransport①⑤">WebTransport</a></code>.</p>
   </dl>
   <h3 class="heading settled" data-level="8.8" id="web-transport-stats"><span class="secno">8.8. </span><span class="content"><code>WebTransportStats</code> Dictionary</span><a class="self-link" href="#web-transport-stats"></a></h3>
   <p>The <dfn class="dfn-paneled idl-code" data-dfn-type="dictionary" data-export id="dictdef-webtransportstats"><code>WebTransportStats</code></dfn> dictionary includes information
on HTTP/3 connection stats.</p>
   <p class="issue" id="issue-29939a8a"><a class="self-link" href="#issue-29939a8a"></a> Now that quic-transport has been removed, this section needs to be
revised. Some of those are safe to expose for HTTP/2 and HTTP/3 connections
(like min-RTT), while most would either result in information disclosure
or are impossible to define for pooled connections.</p>
<pre class="idl highlight def"><c- b>dictionary</c-> <a class="idl-code" data-link-type="dictionary" href="#dictdef-webtransportstats" id="ref-for-dictdef-webtransportstats②"><c- g>WebTransportStats</c-></a> {
  <a data-link-type="idl-name" href="https://w3c.github.io/hr-time/#dom-domhighrestimestamp" id="ref-for-dom-domhighrestimestamp"><c- n>DOMHighResTimeStamp</c-></a> <a class="idl-code" data-link-type="dict-member" data-type="DOMHighResTimeStamp " href="#dom-webtransportstats-timestamp" id="ref-for-dom-webtransportstats-timestamp"><c- g>timestamp</c-></a>;
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-unsigned-long-long" id="ref-for-idl-unsigned-long-long②"><c- b>unsigned</c-> <c- b>long</c-> <c- b>long</c-></a> <a class="idl-code" data-link-type="dict-member" data-type="unsigned long long " href="#dom-webtransportstats-bytessent" id="ref-for-dom-webtransportstats-bytessent"><c- g>bytesSent</c-></a>;
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-unsigned-long-long" id="ref-for-idl-unsigned-long-long③"><c- b>unsigned</c-> <c- b>long</c-> <c- b>long</c-></a> <a class="idl-code" data-link-type="dict-member" data-type="unsigned long long " href="#dom-webtransportstats-packetssent" id="ref-for-dom-webtransportstats-packetssent"><c- g>packetsSent</c-></a>;
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-unsigned-long" id="ref-for-idl-unsigned-long"><c- b>unsigned</c-> <c- b>long</c-></a> <a class="idl-code" data-link-type="dict-member" data-type="unsigned long " href="#dom-webtransportstats-numoutgoingstreamscreated" id="ref-for-dom-webtransportstats-numoutgoingstreamscreated"><c- g>numOutgoingStreamsCreated</c-></a>;
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-unsigned-long" id="ref-for-idl-unsigned-long①"><c- b>unsigned</c-> <c- b>long</c-></a> <a class="idl-code" data-link-type="dict-member" data-type="unsigned long " href="#dom-webtransportstats-numincomingstreamscreated" id="ref-for-dom-webtransportstats-numincomingstreamscreated"><c- g>numIncomingStreamsCreated</c-></a>;
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-unsigned-long-long" id="ref-for-idl-unsigned-long-long④"><c- b>unsigned</c-> <c- b>long</c-> <c- b>long</c-></a> <a class="idl-code" data-link-type="dict-member" data-type="unsigned long long " href="#dom-webtransportstats-bytesreceived" id="ref-for-dom-webtransportstats-bytesreceived"><c- g>bytesReceived</c-></a>;
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-unsigned-long-long" id="ref-for-idl-unsigned-long-long⑤"><c- b>unsigned</c-> <c- b>long</c-> <c- b>long</c-></a> <a class="idl-code" data-link-type="dict-member" data-type="unsigned long long " href="#dom-webtransportstats-packetsreceived" id="ref-for-dom-webtransportstats-packetsreceived"><c- g>packetsReceived</c-></a>;
  <a data-link-type="idl-name" href="https://w3c.github.io/hr-time/#dom-domhighrestimestamp" id="ref-for-dom-domhighrestimestamp①"><c- n>DOMHighResTimeStamp</c-></a> <a class="idl-code" data-link-type="dict-member" data-type="DOMHighResTimeStamp " href="#dom-webtransportstats-minrtt" id="ref-for-dom-webtransportstats-minrtt"><c- g>minRtt</c-></a>;
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-unsigned-long" id="ref-for-idl-unsigned-long②"><c- b>unsigned</c-> <c- b>long</c-></a> <a class="idl-code" data-link-type="dict-member" data-type="unsigned long " href="#dom-webtransportstats-numreceiveddatagramsdropped" id="ref-for-dom-webtransportstats-numreceiveddatagramsdropped"><c- g>numReceivedDatagramsDropped</c-></a>;
};
</pre>
   <p>The dictionary SHALL have the following attributes:</p>
   <dl>
    <dt data-md><dfn class="dfn-paneled idl-code" data-dfn-for="WebTransportStats" data-dfn-type="dict-member" data-export id="dom-webtransportstats-timestamp"><code>timestamp</code></dfn>, <span> of type <a data-link-type="idl-name" href="https://w3c.github.io/hr-time/#dom-domhighrestimestamp" id="ref-for-dom-domhighrestimestamp②">DOMHighResTimeStamp</a></span>
    <dd data-md>
     <p>The <code>timestamp</code> for when the stats are gathered, relative to the
 UNIX epoch (Jan 1, 1970, UTC).</p>
    <dt data-md><dfn class="dfn-paneled idl-code" data-dfn-for="WebTransportStats" data-dfn-type="dict-member" data-export id="dom-webtransportstats-bytessent"><code>bytesSent</code></dfn>, <span> of type <a data-link-type="idl-name" href="https://webidl.spec.whatwg.org/#idl-unsigned-long-long" id="ref-for-idl-unsigned-long-long⑥">unsigned long long</a></span>
    <dd data-md>
     <p>The number of bytes sent on the QUIC connection, including retransmissions.
 Does not include UDP or any other outer framing.</p>
    <dt data-md><dfn class="dfn-paneled idl-code" data-dfn-for="WebTransportStats" data-dfn-type="dict-member" data-export id="dom-webtransportstats-packetssent"><code>packetsSent</code></dfn>, <span> of type <a data-link-type="idl-name" href="https://webidl.spec.whatwg.org/#idl-unsigned-long-long" id="ref-for-idl-unsigned-long-long⑦">unsigned long long</a></span>
    <dd data-md>
     <p>The number of packets sent on the QUIC connection, including retransmissions.</p>
    <dt data-md><dfn class="dfn-paneled idl-code" data-dfn-for="WebTransportStats" data-dfn-type="dict-member" data-export id="dom-webtransportstats-numoutgoingstreamscreated"><code>numOutgoingStreamsCreated</code></dfn>, <span> of type <a data-link-type="idl-name" href="https://webidl.spec.whatwg.org/#idl-unsigned-long" id="ref-for-idl-unsigned-long③">unsigned long</a></span>
    <dd data-md>
     <p>The number of outgoing QUIC streams created on the QUIC connection.</p>
    <dt data-md><dfn class="dfn-paneled idl-code" data-dfn-for="WebTransportStats" data-dfn-type="dict-member" data-export id="dom-webtransportstats-numincomingstreamscreated"><code>numIncomingStreamsCreated</code></dfn>, <span> of type <a data-link-type="idl-name" href="https://webidl.spec.whatwg.org/#idl-unsigned-long" id="ref-for-idl-unsigned-long④">unsigned long</a></span>
    <dd data-md>
     <p>The number of incoming QUIC streams created on the QUIC connection.</p>
    <dt data-md><dfn class="dfn-paneled idl-code" data-dfn-for="WebTransportStats" data-dfn-type="dict-member" data-export id="dom-webtransportstats-bytesreceived"><code>bytesReceived</code></dfn>, <span> of type <a data-link-type="idl-name" href="https://webidl.spec.whatwg.org/#idl-unsigned-long-long" id="ref-for-idl-unsigned-long-long⑧">unsigned long long</a></span>
    <dd data-md>
     <p>The number of total bytes received on the QUIC connection, including
 duplicate data for streams. Does not include UDP or any other outer framing.</p>
    <dt data-md><dfn class="dfn-paneled idl-code" data-dfn-for="WebTransportStats" data-dfn-type="dict-member" data-export id="dom-webtransportstats-packetsreceived"><code>packetsReceived</code></dfn>, <span> of type <a data-link-type="idl-name" href="https://webidl.spec.whatwg.org/#idl-unsigned-long-long" id="ref-for-idl-unsigned-long-long⑨">unsigned long long</a></span>
    <dd data-md>
     <p>The number of total packets received on the QUIC connection, including
 packets that were not processable.</p>
    <dt data-md><dfn class="dfn-paneled idl-code" data-dfn-for="WebTransportStats" data-dfn-type="dict-member" data-export id="dom-webtransportstats-minrtt"><code>minRtt</code></dfn>, <span> of type <a data-link-type="idl-name" href="https://w3c.github.io/hr-time/#dom-domhighrestimestamp" id="ref-for-dom-domhighrestimestamp③">DOMHighResTimeStamp</a></span>
    <dd data-md>
     <p>The minimum RTT observed on the entire connection.</p>
    <dt data-md><dfn class="dfn-paneled idl-code" data-dfn-for="WebTransportStats" data-dfn-type="dict-member" data-export id="dom-webtransportstats-numreceiveddatagramsdropped"><code>numReceivedDatagramsDropped</code></dfn>, <span> of type <a data-link-type="idl-name" href="https://webidl.spec.whatwg.org/#idl-unsigned-long" id="ref-for-idl-unsigned-long⑤">unsigned long</a></span>
    <dd data-md>
     <p>The number of datagrams that were dropped, due to too many datagrams buffered
 between calls to <code class="idl"><a data-link-type="idl" href="#dom-datagramtransport-datagrams" id="ref-for-dom-datagramtransport-datagrams②">datagrams</a></code>' <code class="idl"><a data-link-type="idl" href="#dom-datagramduplexstream-readable" id="ref-for-dom-datagramduplexstream-readable①">readable</a></code>.</p>
   </dl>
   <h2 class="heading settled" data-level="9" id="send-stream"><span class="secno">9. </span><span class="content">Interface <code>SendStream</code></span><a class="self-link" href="#send-stream"></a></h2>
   <p>A <dfn class="dfn-paneled idl-code" data-dfn-type="interface" data-export id="sendstream"><code>SendStream</code></dfn> is a <code class="idl"><a data-link-type="idl" href="https://streams.spec.whatwg.org/#writablestream" id="ref-for-writablestream⑥">WritableStream</a></code> of <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-Uint8Array" id="ref-for-idl-Uint8Array①">Uint8Array</a></code> that can be written to, to transmit data to the remote host.</p>
<pre class="idl highlight def">[ <a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Exposed" id="ref-for-Exposed②"><c- g>Exposed</c-></a>=(<c- n>Window</c->,<c- n>Worker</c->) ]
<c- b>interface</c-> <a class="idl-code" data-link-type="interface" href="#sendstream" id="ref-for-sendstream⑨"><c- g>SendStream</c-></a> : <a data-link-type="idl-name" href="https://streams.spec.whatwg.org/#writablestream" id="ref-for-writablestream⑦"><c- n>WritableStream</c-></a> /* of Uint8Array */ {
  <c- b>readonly</c-> <c- b>attribute</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise" id="ref-for-idl-promise⑤"><c- b>Promise</c-></a>&lt;<a data-link-type="idl-name" href="#dictdef-streamabortinfo" id="ref-for-dictdef-streamabortinfo"><c- n>StreamAbortInfo</c-></a>> <a class="idl-code" data-link-type="attribute" data-readonly data-type="Promise<StreamAbortInfo>" href="#dom-sendstream-writingaborted" id="ref-for-dom-sendstream-writingaborted"><c- g>writingAborted</c-></a>;
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-undefined" id="ref-for-idl-undefined⑤"><c- b>undefined</c-></a> <a class="idl-code" data-link-type="method" href="#dom-sendstream-abortwriting" id="ref-for-dom-sendstream-abortwriting"><c- g>abortWriting</c-></a>(<c- b>optional</c-> <a data-link-type="idl-name" href="#dictdef-streamabortinfo" id="ref-for-dictdef-streamabortinfo①"><c- n>StreamAbortInfo</c-></a> <dfn class="idl-code" data-dfn-for="SendStream/abortWriting(abortInfo), SendStream/abortWriting()" data-dfn-type="argument" data-export id="dom-sendstream-abortwriting-abortinfo-abortinfo"><code><c- g>abortInfo</c-></code><a class="self-link" href="#dom-sendstream-abortwriting-abortinfo-abortinfo"></a></dfn> = {});
};
</pre>
   <h3 class="heading settled" data-level="9.1" id="outgoing-stream-overview"><span class="secno">9.1. </span><span class="content">Overview</span><a class="self-link" href="#outgoing-stream-overview"></a></h3>
   <p>The <code class="idl"><a data-link-type="idl" href="#sendstream" id="ref-for-sendstream①⓪">SendStream</a></code> will be initialized by running the <code class="idl"><a data-link-type="idl" href="https://streams.spec.whatwg.org/#writablestream" id="ref-for-writablestream⑧">WritableStream</a></code> initialization steps.</p>
   <h3 class="heading settled" data-level="9.2" id="outgoing-stream-attributes"><span class="secno">9.2. </span><span class="content">Attributes</span><a class="self-link" href="#outgoing-stream-attributes"></a></h3>
   <dl>
    <dt data-md><dfn class="dfn-paneled idl-code" data-dfn-for="SendStream" data-dfn-type="attribute" data-export id="dom-sendstream-writingaborted"><code>writingAborted</code></dfn>, <span> of type Promise&lt;<a data-link-type="idl-name" href="#dictdef-streamabortinfo" id="ref-for-dictdef-streamabortinfo②">StreamAbortInfo</a>>, readonly</span>
    <dd data-md>
     <p>The <code>writingAborted</code> attribute represents a promise that is <a data-link-type="dfn" href="http://www.ecma-international.org/ecma-262/6.0/index.html#sec-promise-objects" id="ref-for-sec-promise-objects①⑧">fulfilled</a> when the a message from the remote side aborting the stream is received.
  For QUIC, that message is a STOP_SENDING frame. When the stream receives
  this mesage, the user agent MUST run the following:</p>
     <ol>
      <li data-md>
       <p>Let <var>stream</var> be the <code class="idl"><a data-link-type="idl" href="#sendstream" id="ref-for-sendstream①①">SendStream</a></code> object.</p>
      <li data-md>
       <p>Let <var>transport</var> be the <code class="idl"><a data-link-type="idl" href="#webtransport" id="ref-for-webtransport①⑥">WebTransport</a></code>, which the <var>stream</var> was created
 from.</p>
      <li data-md>
       <p>Remove the stream from the <var>transport</var>’s <a data-link-type="dfn" href="#webtransport-outgoingstreams" id="ref-for-webtransport-outgoingstreams⑦">[[OutgoingStreams]]</a>.</p>
      <li data-md>
       <p><a data-link-type="dfn" href="http://www.ecma-international.org/ecma-262/6.0/index.html#sec-promise-objects" id="ref-for-sec-promise-objects①⑨">Resolve</a> the promise with the resulting <code class="idl"><a data-link-type="idl" href="#dictdef-streamabortinfo" id="ref-for-dictdef-streamabortinfo③">StreamAbortInfo</a></code> with
 the <code class="idl"><a data-link-type="idl" href="#dom-streamabortinfo-errorcode" id="ref-for-dom-streamabortinfo-errorcode">errorCode</a></code> set to the value from the aborting
 message from the remote side.</p>
     </ol>
   </dl>
   <h3 class="heading settled" data-level="9.3" id="outgoing-stream-methods"><span class="secno">9.3. </span><span class="content">Methods</span><a class="self-link" href="#outgoing-stream-methods"></a></h3>
   <dl>
    <dt data-md><dfn class="dfn-paneled idl-code" data-dfn-for="SendStream" data-dfn-type="method" data-export data-lt="abortWriting(abortInfo)|abortWriting()" id="dom-sendstream-abortwriting"><code>abortWriting()</code></dfn>
    <dd data-md>
     <p>A hard shutdown of the <code class="idl"><a data-link-type="idl" href="#sendstream" id="ref-for-sendstream①②">SendStream</a></code>. It may be called regardless of
 whether the <code class="idl"><a data-link-type="idl" href="#sendstream" id="ref-for-sendstream①③">SendStream</a></code> was created by the local or remote peer. When
 the <code>abortWriting</code> method is called, the user agent MUST run the following
 steps:</p>
     <ol>
      <li data-md>
       <p>Let <var>stream</var> be the <code class="idl"><a data-link-type="idl" href="#sendstream" id="ref-for-sendstream①④">SendStream</a></code> object which is about to abort
  writing.</p>
      <li data-md>
       <p>Let <var>transport</var> be the <code class="idl"><a data-link-type="idl" href="#webtransport" id="ref-for-webtransport①⑦">WebTransport</a></code>, which the <var>stream</var> was created
  from.</p>
      <li data-md>
       <p>Remove the stream from the transport’s <a data-link-type="dfn" href="#webtransport-outgoingstreams" id="ref-for-webtransport-outgoingstreams⑧">[[OutgoingStreams]]</a>.</p>
      <li data-md>
       <p>Let <var>abortInfo</var> be the first argument.</p>
      <li data-md>
       <p>Start the closing procedure by sending a RST_STREAM frame with its
  error code set to the value of |abortInfo.errorCode|.</p>
     </ol>
   </dl>
   <h3 class="heading settled" data-level="9.4" id="stream-abort-info"><span class="secno">9.4. </span><span class="content"><code>StreamAbortInfo</code> Dictionary</span><a class="self-link" href="#stream-abort-info"></a></h3>
   <p>The <dfn class="dfn-paneled idl-code" data-dfn-type="dictionary" data-export id="dictdef-streamabortinfo"><code>StreamAbortInfo</code></dfn> dictionary includes information
relating to the error code for aborting an incoming or outgoing stream (
in either a RST_STREAM frame or a STOP_SENDING frame).</p>
<pre class="idl highlight def"><c- b>dictionary</c-> <a class="idl-code" data-link-type="dictionary" href="#dictdef-streamabortinfo" id="ref-for-dictdef-streamabortinfo④"><c- g>StreamAbortInfo</c-></a> {
  [<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#EnforceRange" id="ref-for-EnforceRange"><c- g>EnforceRange</c-></a>] <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-octet" id="ref-for-idl-octet"><c- b>octet</c-></a> <a class="idl-code" data-default="0" data-link-type="dict-member" data-type="octet " href="#dom-streamabortinfo-errorcode" id="ref-for-dom-streamabortinfo-errorcode①"><c- g>errorCode</c-></a> = 0;
};
</pre>
   <p>The dictionary SHALL have the following fields:</p>
   <dl>
    <dt data-md><dfn class="dfn-paneled idl-code" data-dfn-for="StreamAbortInfo" data-dfn-type="dict-member" data-export id="dom-streamabortinfo-errorcode"><code>errorCode</code></dfn>, <span> of type <a data-link-type="idl-name" href="https://webidl.spec.whatwg.org/#idl-octet" id="ref-for-idl-octet①">octet</a>, defaulting to <code>0</code></span>
    <dd data-md>
     <p>The error code. The default value of 0 means "CLOSING."</p>
   </dl>
   <h2 class="heading settled" data-level="10" id="receive-stream"><span class="secno">10. </span><span class="content">Interface <code>ReceiveStream</code></span><a class="self-link" href="#receive-stream"></a></h2>
   <p>A <dfn class="dfn-paneled idl-code" data-dfn-type="interface" data-export id="receivestream"><code>ReceiveStream</code></dfn> is a <code class="idl"><a data-link-type="idl" href="https://streams.spec.whatwg.org/#readablestream" id="ref-for-readablestream①⑨">ReadableStream</a></code> of <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-Uint8Array" id="ref-for-idl-Uint8Array②">Uint8Array</a></code> that can be read from, to consume data received from the remote host.</p>
<pre class="idl highlight def">[ <a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Exposed" id="ref-for-Exposed③"><c- g>Exposed</c-></a>=(<c- n>Window</c->,<c- n>Worker</c->) ]
<c- b>interface</c-> <a class="idl-code" data-link-type="interface" href="#receivestream" id="ref-for-receivestream③"><c- g>ReceiveStream</c-></a> : <a data-link-type="idl-name" href="https://streams.spec.whatwg.org/#readablestream" id="ref-for-readablestream②⓪"><c- n>ReadableStream</c-></a> /* of Uint8Array */ {
  <c- b>readonly</c-> <c- b>attribute</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise" id="ref-for-idl-promise⑥"><c- b>Promise</c-></a>&lt;<a data-link-type="idl-name" href="#dictdef-streamabortinfo" id="ref-for-dictdef-streamabortinfo⑤"><c- n>StreamAbortInfo</c-></a>> <a class="idl-code" data-link-type="attribute" data-readonly data-type="Promise<StreamAbortInfo>" href="#dom-receivestream-readingaborted" id="ref-for-dom-receivestream-readingaborted"><c- g>readingAborted</c-></a>;
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-undefined" id="ref-for-idl-undefined⑥"><c- b>undefined</c-></a> <a class="idl-code" data-link-type="method" href="#dom-receivestream-abortreading" id="ref-for-dom-receivestream-abortreading"><c- g>abortReading</c-></a>(<c- b>optional</c-> <a data-link-type="idl-name" href="#dictdef-streamabortinfo" id="ref-for-dictdef-streamabortinfo⑥"><c- n>StreamAbortInfo</c-></a> <dfn class="idl-code" data-dfn-for="ReceiveStream/abortReading(abortInfo), ReceiveStream/abortReading()" data-dfn-type="argument" data-export id="dom-receivestream-abortreading-abortinfo-abortinfo"><code><c- g>abortInfo</c-></code><a class="self-link" href="#dom-receivestream-abortreading-abortinfo-abortinfo"></a></dfn> = {});
};
</pre>
   <h3 class="heading settled" data-level="10.1" id="incoming-stream-overview"><span class="secno">10.1. </span><span class="content">Overview</span><a class="self-link" href="#incoming-stream-overview"></a></h3>
   <p>The <code class="idl"><a data-link-type="idl" href="#receivestream" id="ref-for-receivestream④">ReceiveStream</a></code> will be initialized by running the <code class="idl"><a data-link-type="idl" href="https://streams.spec.whatwg.org/#readablestream" id="ref-for-readablestream②①">ReadableStream</a></code> initialization steps.</p>
   <h3 class="heading settled" data-level="10.2" id="incoming-stream-attributes"><span class="secno">10.2. </span><span class="content">Attributes</span><a class="self-link" href="#incoming-stream-attributes"></a></h3>
   <dl>
    <dt data-md><dfn class="dfn-paneled idl-code" data-dfn-for="ReceiveStream" data-dfn-type="attribute" data-export id="dom-receivestream-readingaborted"><code>readingAborted</code></dfn>, <span> of type Promise&lt;<a data-link-type="idl-name" href="#dictdef-streamabortinfo" id="ref-for-dictdef-streamabortinfo⑦">StreamAbortInfo</a>>, readonly</span>
    <dd data-md>
     <p>The <code>readingAborted</code> attribute represents a promise that is <a data-link-type="dfn" href="http://www.ecma-international.org/ecma-262/6.0/index.html#sec-promise-objects" id="ref-for-sec-promise-objects②⓪">fulfilled</a> when the a message from the remote side aborting the stream is received.
  For QUIC, that message is a RST_STREAM frame. When the stream receives
  this mesage, the user agent MUST run the following:</p>
     <ol>
      <li data-md>
       <p>Let <var>stream</var> be the <code class="idl"><a data-link-type="idl" href="#receivestream" id="ref-for-receivestream⑤">ReceiveStream</a></code> object for which the abort
 message was received.</p>
      <li data-md>
       <p>Let <var>transport</var> be the <code class="idl"><a data-link-type="idl" href="#webtransport" id="ref-for-webtransport①⑧">WebTransport</a></code>, which the <var>stream</var> was created
 from.</p>
      <li data-md>
       <p><a data-link-type="dfn" href="http://www.ecma-international.org/ecma-262/6.0/index.html#sec-promise-objects" id="ref-for-sec-promise-objects②①">Resolve</a> the promise with the resulting <code class="idl"><a data-link-type="idl" href="#dictdef-streamabortinfo" id="ref-for-dictdef-streamabortinfo⑧">StreamAbortInfo</a></code> with
 the <code class="idl"><a data-link-type="idl" href="#dom-streamabortinfo-errorcode" id="ref-for-dom-streamabortinfo-errorcode②">errorCode</a></code> set to the value from the aborting
 message from the remote side.</p>
     </ol>
   </dl>
   <h3 class="heading settled" data-level="10.3" id="incoming-stream-methods"><span class="secno">10.3. </span><span class="content">Methods</span><a class="self-link" href="#incoming-stream-methods"></a></h3>
   <dl>
    <dt data-md><dfn class="dfn-paneled idl-code" data-dfn-for="ReceiveStream" data-dfn-type="method" data-export data-lt="abortReading(abortInfo)|abortReading()" id="dom-receivestream-abortreading"><code>abortReading()</code></dfn>
    <dd data-md>
     <p>A hard shutdown of the <code class="idl"><a data-link-type="idl" href="#receivestream" id="ref-for-receivestream⑥">ReceiveStream</a></code>. It may be called regardless of
 whether the <code class="idl"><a data-link-type="idl" href="#receivestream" id="ref-for-receivestream⑦">ReceiveStream</a></code> was created by the local or remote peer. When
 the <code>abortWriting</code> method is called, the user agent MUST run the following
 steps:</p>
     <ol>
      <li data-md>
       <p>Let <var>stream</var> be the <code class="idl"><a data-link-type="idl" href="#receivestream" id="ref-for-receivestream⑧">ReceiveStream</a></code> object which is about to abort
  reading.</p>
      <li data-md>
       <p>Let <var>transport</var> be the <code class="idl"><a data-link-type="idl" href="#webtransport" id="ref-for-webtransport①⑨">WebTransport</a></code>, which the <var>stream</var> was created
  from.</p>
      <li data-md>
       <p>Let <var>abortInfo</var> be the first argument.</p>
      <li data-md>
       <p>Start the closing procedure by sending a message to the remote side
  indicating that the stream has been aborted (using a
  STOP_SENDING frame) with its error code set to the value of
  |abortInfo.errorCode|.</p>
     </ol>
   </dl>
   <h2 class="heading settled" data-level="11" id="bidirectional-stream"><span class="secno">11. </span><span class="content">Interface <code>BidirectionalStream</code></span><a class="self-link" href="#bidirectional-stream"></a></h2>
<pre class="idl highlight def">[ <a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Exposed" id="ref-for-Exposed④"><c- g>Exposed</c-></a>=(<c- n>Window</c->,<c- n>Worker</c->) ]
<c- b>interface</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="interface" data-export id="bidirectionalstream"><code><c- g>BidirectionalStream</c-></code></dfn> {
  <c- b>readonly</c-> <c- b>attribute</c-> <a data-link-type="idl-name" href="#receivestream" id="ref-for-receivestream⑨"><c- n>ReceiveStream</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="BidirectionalStream" data-dfn-type="attribute" data-export data-readonly data-type="ReceiveStream" id="dom-bidirectionalstream-readable"><code><c- g>readable</c-></code></dfn>;
  <c- b>readonly</c-> <c- b>attribute</c-> <a data-link-type="idl-name" href="#sendstream" id="ref-for-sendstream①⑤"><c- n>SendStream</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="BidirectionalStream" data-dfn-type="attribute" data-export data-readonly data-type="SendStream" id="dom-bidirectionalstream-writable"><code><c- g>writable</c-></code></dfn>;
};
</pre>
   <p>The <code class="idl"><a data-link-type="idl" href="#bidirectionalstream" id="ref-for-bidirectionalstream①⓪">BidirectionalStream</a></code> will initialize with the following:</p>
   <ol>
    <li data-md>
     <p>Let <var>duplexStream</var> be the <code class="idl"><a data-link-type="idl" href="#bidirectionalstream" id="ref-for-bidirectionalstream①①">BidirectionalStream</a></code>.</p>
    <li data-md>
     <p>Let <var>duplexStream</var> have a <dfn class="idl-code" data-dfn-for="BidirectionalStream" data-dfn-type="attribute" data-export id="dom-bidirectionalstream-readable-slot"><code>[[Readable]]</code><a class="self-link" href="#dom-bidirectionalstream-readable-slot"></a></dfn> internal slot initialized to a new <code class="idl"><a data-link-type="idl" href="#receivestream" id="ref-for-receivestream①⓪">ReceiveStream</a></code>.</p>
    <li data-md>
     <p>Let <var>duplexStream</var> have a <dfn class="idl-code" data-dfn-for="BidirectionalStream" data-dfn-type="attribute" data-export id="dom-bidirectionalstream-writable-slot"><code>[[Writable]]</code><a class="self-link" href="#dom-bidirectionalstream-writable-slot"></a></dfn> internal slot initialized to a new <code class="idl"><a data-link-type="idl" href="#sendstream" id="ref-for-sendstream①⑥">SendStream</a></code>.</p>
   </ol>
   <h2 class="heading settled" data-level="12" id="protocol-mapping"><span class="secno">12. </span><span class="content">Protocol Mappings</span><a class="self-link" href="#protocol-mapping"></a></h2>
   <p><em>This section is non-normative.</em></p>
   <p>This section describes the <a data-link-type="biblio" href="#biblio-quic" title="QUIC: A UDP-Based Multiplexed and Secure Transport">[QUIC]</a> protocol behavior of methods defined
in this specification, utilizing <a data-link-type="biblio" href="#biblio-web-transport-http3" title="WebTransport over HTTP/3">[WEB-TRANSPORT-HTTP3]</a>.</p>
   <table class="data">
    <colgroup class="header">
    <colgroup span="2">
    <thead>
     <tr>
      <th>Method
      <th>QUIC Protocol Action
    <tbody>
     <tr>
      <td><code class="idl"><a data-link-type="idl" href="#dom-receivestream-abortreading" id="ref-for-dom-receivestream-abortreading①">abortReading</a></code>
      <td>send STOP_SENDING with code
     <tr>
      <td><code class="idl"><a data-link-type="idl" href="#dom-sendstream-abortwriting" id="ref-for-dom-sendstream-abortwriting①">abortWriting</a></code>
      <td>send RESET_STREAM with code
     <tr>
      <td><code class="idl"><a data-link-type="idl" href="#dom-bidirectionalstream-writable" id="ref-for-dom-bidirectionalstream-writable">writable</a></code>.abort()
      <td>send RESET_STREAM
     <tr>
      <td><code class="idl"><a data-link-type="idl" href="#dom-bidirectionalstream-writable" id="ref-for-dom-bidirectionalstream-writable①">writable</a></code>.close()
      <td>send STREAM_FINAL
     <tr>
      <td><code class="idl"><a data-link-type="idl" href="#dom-bidirectionalstream-writable" id="ref-for-dom-bidirectionalstream-writable②">writable</a></code>.getWriter().write()
      <td>send STREAM
     <tr>
      <td><code class="idl"><a data-link-type="idl" href="#dom-bidirectionalstream-writable" id="ref-for-dom-bidirectionalstream-writable③">writable</a></code>.getWriter().close()
      <td>send STREAM_FINAL
     <tr>
      <td><code class="idl"><a data-link-type="idl" href="#dom-bidirectionalstream-writable" id="ref-for-dom-bidirectionalstream-writable④">writable</a></code>.getWriter().abort()
      <td>send RESET_STREAM
     <tr>
      <td><code class="idl"><a data-link-type="idl" href="#dom-bidirectionalstream-readable" id="ref-for-dom-bidirectionalstream-readable">readable</a></code>.cancel()
      <td>send STOP_SENDING
     <tr>
      <td><code class="idl"><a data-link-type="idl" href="#dom-bidirectionalstream-readable" id="ref-for-dom-bidirectionalstream-readable①">readable</a></code>.getReader().read()
      <td>receive STREAM or STREAM_FINAL
     <tr>
      <td><code class="idl"><a data-link-type="idl" href="#dom-bidirectionalstream-readable" id="ref-for-dom-bidirectionalstream-readable②">readable</a></code>.getReader().cancel()
      <td>send STOP_SENDING
   </table>
   <h2 class="heading settled" data-level="13" id="privacy-security"><span class="secno">13. </span><span class="content">Privacy and Security Considerations</span><a class="self-link" href="#privacy-security"></a></h2>
   <p>This section is non-normative; it specifies no new behaviour, but instead
summarizes information already present in other parts of the specification.</p>
   <h3 class="heading settled" data-level="13.1" id="confidentiality"><span class="secno">13.1. </span><span class="content">Confidentiality of Communications</span><a class="self-link" href="#confidentiality"></a></h3>
   <p>The fact that communication is taking place cannot be hidden from adversaries
that can observe the network, so this has to be regarded as public information.</p>
   <p>All of the transport protocols described in this document use either TLS <a data-link-type="biblio" href="#biblio-rfc8446" title="The Transport Layer Security (TLS) Protocol Version 1.3">[RFC8446]</a> or a semantically equivalent protocol, thus providing all of the
security properties of TLS, including confidentiality and integrity of the
traffic. Http3Transport uses the same certificate
verification mechanism as outbound HTTP requests, thus relying on the same
public key infrastructure for authentication of the remote server. In
WebTransport, certificate verification errors are fatal; no interstitial
allowing bypassing certificate validation is available.</p>
   <h3 class="heading settled" data-level="13.2" id="state-persistence"><span class="secno">13.2. </span><span class="content">State Persistence</span><a class="self-link" href="#state-persistence"></a></h3>
   <p>WebTransport by itself does not create any new unique identifiers or new ways
to persistently store state, nor does it automatically expose any of the
existing persistent state to the server. For instance, none of the transports
defined in this document automatically send cookies, support HTTP
authentication or caching invalidation mechanisms. Since they use TLS, they may
support TLS session tickets, which could be used by the server (though not by
passive network observers) to correlate different connections from the same
client. This is not specific to WebTransport by itself, but rather an inherent
property of all TLS-based protocols; thus, this is out-of-scope for this
specification.</p>
   <h3 class="heading settled" data-level="13.3" id="protocol-security"><span class="secno">13.3. </span><span class="content">Protocol Security</span><a class="self-link" href="#protocol-security"></a></h3>
   <p>WebTransport imposes a set of requirements as described in <a data-link-type="biblio" href="#biblio-web-transport-overview" title="WebTransport Protocol Framework">[WEB-TRANSPORT-OVERVIEW]</a>, including:</p>
   <ol>
    <li data-md>
     <p>Ensuring that the remote server is aware that the
 connection in question originates from a Web application; this is required
 to prevent cross-protocol attacks. <a data-link-type="biblio" href="#biblio-web-transport-http3" title="WebTransport over HTTP/3">[WEB-TRANSPORT-HTTP3]</a> uses ALPN <a data-link-type="biblio" href="#biblio-rfc7301" title="Transport Layer Security (TLS) Application-Layer Protocol Negotiation Extension">[RFC7301]</a> for this purpose.</p>
    <li data-md>
     <p>Allowing the server to filter connections based on the
 origin of the resource originating the transport session.</p>
   </ol>
   <p>Protocol security considerations related are described in the <em>Security Considerations</em> sections of <a data-link-type="biblio" href="#biblio-web-transport-http3" title="WebTransport over HTTP/3">[WEB-TRANSPORT-HTTP3]</a>.</p>
   <p>Networking APIs can be commonly used to scan the local network for available
hosts, and thus be used for fingerprinting and other forms of attacks.
WebTransport follows the <a href="https://html.spec.whatwg.org/multipage/web-sockets.html#feedback-from-the-protocol">WebSocket
approach</a> to this problem: the specific connection error is not returned until an
endpoint is verified to be a WebTransport endpoint; thus, the Web application
cannot distinguish between a non-existing endpoint and the endpoint that is not
willing to accept connections from the Web.</p>
   <h2 class="heading settled" data-level="14" id="examples"><span class="secno">14. </span><span class="content">Examples</span><a class="self-link" href="#examples"></a></h2>
   <h3 class="heading settled" data-level="14.1" id="example-datagrams"><span class="secno">14.1. </span><span class="content">Sending a buffer of datagrams</span><a class="self-link" href="#example-datagrams"></a></h3>
   <p><em>This section is non-normative.</em></p>
   <p>Sending a buffer of datagrams can be achieved by using the <code class="idl"><a data-link-type="idl" href="#dom-datagramtransport-datagrams" id="ref-for-dom-datagramtransport-datagrams③">datagrams</a></code>' <code class="idl"><a data-link-type="idl" href="#dom-datagramduplexstream-writable" id="ref-for-dom-datagramduplexstream-writable②">writable</a></code> attribute. In the
following example datagrams are only sent if the <code class="idl"><a data-link-type="idl" href="#datagramtransport" id="ref-for-datagramtransport③">DatagramTransport</a></code> is ready to send.</p>
<pre class="example highlight" id="example-446d9f31"><a class="self-link" href="#example-446d9f31"></a><c- k>async</c-> <c- a>function</c-> sendDatagrams<c- p>(</c->url<c- p>,</c-> datagrams<c- p>)</c-> <c- p>{</c->
  <c- a>const</c-> wt <c- o>=</c-> <c- ow>new</c-> WebTransport<c- p>(</c->url<c- p>);</c->
  <c- a>const</c-> writer <c- o>=</c-> wt<c- p>.</c->datagrams<c- p>.</c->writable<c- p>.</c->getWriter<c- p>();</c->
  <c- k>for</c-> <c- p>(</c-><c- a>const</c-> datagram <c- k>of</c-> datagrams<c- p>)</c-> <c- p>{</c->
    <c- k>await</c-> writer<c- p>.</c->ready<c- p>;</c->
    writer<c- p>.</c->write<c- p>(</c->datagram<c- p>).</c-><c- k>catch</c-><c- p>(()</c-> <c- p>=></c-> <c- p>{});</c->
  <c- p>}</c->
<c- p>}</c->
</pre>
   <h3 class="heading settled" data-level="14.2" id="example-fixed-rate"><span class="secno">14.2. </span><span class="content">Sending datagrams at a fixed rate</span><a class="self-link" href="#example-fixed-rate"></a></h3>
   <p><em>This section is non-normative.</em></p>
   <p>Sending datagrams at a fixed rate regardless if the transport is ready to send
can be achieved by simply using <code class="idl"><a data-link-type="idl" href="#dom-datagramtransport-datagrams" id="ref-for-dom-datagramtransport-datagrams④">datagrams</a></code>' <code class="idl"><a data-link-type="idl" href="#dom-datagramduplexstream-writable" id="ref-for-dom-datagramduplexstream-writable③">writable</a></code> and not using the <code>ready</code> attribute. More complex
scenarios can utilize the <code>ready</code> attribute.</p>
<pre class="example highlight" id="example-9e704f13"><a class="self-link" href="#example-9e704f13"></a><c- c1>// Sends datagrams every 100 ms.</c->
<c- k>async</c-> <c- a>function</c-> sendFixedRate<c- p>(</c->url<c- p>,</c-> createDatagram<c- p>,</c-> ms <c- o>=</c-> <c- mf>100</c-><c- p>)</c-> <c- p>{</c->
  <c- a>const</c-> wt <c- o>=</c-> <c- ow>new</c-> WebTransport<c- p>(</c->url<c- p>);</c->
  <c- k>await</c-> wt<c- p>.</c->ready<c- p>;</c->
  <c- a>const</c-> writer <c- o>=</c-> wt<c- p>.</c->datagrams<c- p>.</c->writable<c- p>.</c->getWriter<c- p>();</c->
  <c- a>const</c-> datagram <c- o>=</c-> createDatagram<c- p>();</c->
  setInterval<c- p>(()</c-> <c- p>=></c-> writer<c- p>.</c->write<c- p>(</c->datagram<c- p>).</c-><c- k>catch</c-><c- p>(()</c-> <c- p>=></c-> <c- p>{}),</c-> ms<c- p>);</c->
<c- p>}</c->
</pre>
   <h3 class="heading settled" data-level="14.3" id="example-receiving-datagrams"><span class="secno">14.3. </span><span class="content">Receiving datagrams</span><a class="self-link" href="#example-receiving-datagrams"></a></h3>
   <p><em>This section is non-normative.</em></p>
   <p>Datagrams can be received by reading from the
transport.<code class="idl"><a data-link-type="idl" href="#dom-datagramtransport-datagrams" id="ref-for-dom-datagramtransport-datagrams⑤">datagrams</a></code>.<code class="idl"><a data-link-type="idl" href="#dom-datagramtransport-datagrams" id="ref-for-dom-datagramtransport-datagrams⑥">datagrams</a></code>.<code class="idl"><a data-link-type="idl" href="#dom-datagramduplexstream-readable" id="ref-for-dom-datagramduplexstream-readable②">readable</a></code> attribute. Null values may indicate that packets are not being processed quickly
enough.</p>
<pre class="example highlight" id="example-d871a49b"><a class="self-link" href="#example-d871a49b"></a><c- k>async</c-> <c- a>function</c-> receiveDatagrams<c- p>(</c->url<c- p>)</c-> <c- p>{</c->
  <c- a>const</c-> wt <c- o>=</c-> <c- ow>new</c-> WebTransport<c- p>(</c->url<c- p>);</c->
  <c- k>for</c-> <c- k>await</c-> <c- p>(</c-><c- a>const</c-> datagram <c- k>of</c-> wt<c- p>.</c->datagrams<c- p>.</c->readable<c- p>)</c-> <c- p>{</c->
    <c- c1>// Process the datagram</c->
  <c- p>}</c->
<c- p>}</c->
</pre>
   <h3 class="heading settled" data-level="14.4" id="example-sending-stream"><span class="secno">14.4. </span><span class="content">Sending a stream</span><a class="self-link" href="#example-sending-stream"></a></h3>
   <p><em>This section is non-normative.</em></p>
   <p>Sending data as a one-way stream can be achieved by using the <code class="idl"><a data-link-type="idl" href="#dom-unidirectionalstreamstransport-createunidirectionalstream" id="ref-for-dom-unidirectionalstreamstransport-createunidirectionalstream①">createUnidirectionalStream</a></code> function and the
resulting stream’s writer.</p>
<pre class="example highlight" id="example-c3aaf81c"><a class="self-link" href="#example-c3aaf81c"></a><c- k>async</c-> <c- a>function</c-> sendData<c- p>(</c->url<c- p>,</c-> data<c- p>)</c-> <c- p>{</c->
  <c- a>const</c-> wt <c- o>=</c-> <c- ow>new</c-> WebTransport<c- p>(</c->url<c- p>);</c->
  <c- a>const</c-> writable <c- o>=</c-> <c- k>await</c-> wt<c- p>.</c->createUnidirectionalStream<c- p>();</c->
  <c- a>const</c-> writer <c- o>=</c-> writable<c- p>.</c->getWriter<c- p>();</c->
  <c- k>await</c-> writer<c- p>.</c->write<c- p>(</c->data<c- p>);</c->
  <c- k>await</c-> writer<c- p>.</c->close<c- p>();</c->
<c- p>}</c->
</pre>
   <p>Encoding can also be done through pipes from a <code class="idl"><a data-link-type="idl" href="https://streams.spec.whatwg.org/#readablestream" id="ref-for-readablestream②②">ReadableStream</a></code>, for example using <code class="idl"><a data-link-type="idl" href="https://encoding.spec.whatwg.org/#textencoderstream" id="ref-for-textencoderstream">TextEncoderStream</a></code>.</p>
<pre class="example highlight" id="example-14e60a4e"><a class="self-link" href="#example-14e60a4e"></a><c- k>async</c-> <c- a>function</c-> sendText<c- p>(</c->url<c- p>,</c-> readableStreamOfTextData<c- p>)</c-> <c- p>{</c->
  <c- a>const</c-> wt <c- o>=</c-> <c- ow>new</c-> WebTransport<c- p>(</c->url<c- p>);</c->
  <c- a>const</c-> writable <c- o>=</c-> <c- k>await</c-> wt<c- p>.</c->createUnidirectionalStream<c- p>();</c->
  <c- k>await</c-> readableStreamOfTextData
    <c- p>.</c->pipeThrough<c- p>(</c-><c- ow>new</c-> TextEncoderStream<c- p>(</c-><c- u>"utf-8"</c-><c- p>))</c->
    <c- p>.</c->pipeTo<c- p>(</c->writable<c- p>);</c->
<c- p>}</c->
</pre>
   <h3 class="heading settled" data-level="14.5" id="example-receiving-incoming-streams"><span class="secno">14.5. </span><span class="content">Receiving incoming streams</span><a class="self-link" href="#example-receiving-incoming-streams"></a></h3>
   <p><em>This section is non-normative.</em></p>
   <p>Reading incoming streams can be achieved by iterating over the <code class="idl"><a data-link-type="idl" href="#dom-unidirectionalstreamstransport-incomingunidirectionalstreams" id="ref-for-dom-unidirectionalstreamstransport-incomingunidirectionalstreams①">incomingUnidirectionalStreams</a></code> attribute,
and then consuming each <code class="idl"><a data-link-type="idl" href="#receivestream" id="ref-for-receivestream①①">ReceiveStream</a></code> by iterating over its chunks.</p>
<pre class="example highlight" id="example-46f8ad3e"><a class="self-link" href="#example-46f8ad3e"></a><c- k>async</c-> <c- a>function</c-> receiveData<c- p>(</c->url<c- p>,</c-> processTheData<c- p>)</c-> <c- p>{</c->
  <c- a>const</c-> wt <c- o>=</c-> <c- ow>new</c-> WebTransport<c- p>(</c->url<c- p>);</c->
  <c- k>for</c-> <c- k>await</c-> <c- p>(</c-><c- a>const</c-> readable <c- k>of</c-> wt<c- p>.</c->incomingUnidirectionalStreams<c- p>)</c-> <c- p>{</c->
    <c- c1>// consume streams individually, reporting per-stream errors</c->
    <c- p>((</c-><c- k>async</c-> <c- p>()</c-> <c- p>=></c-> <c- p>{</c->
      <c- k>try</c-> <c- p>{</c->
        <c- k>for</c-> <c- k>await</c-> <c- p>(</c-><c- a>const</c-> chunk <c- k>of</c-> readable<c- p>.</c->getReader<c- p>())</c-> <c- p>{</c->
          processTheData<c- p>(</c->chunk<c- p>);</c->
        <c- p>}</c->
      <c- p>}</c-> <c- k>catch</c-> <c- p>(</c->e<c- p>)</c-> <c- p>{</c->
        console<c- p>.</c->error<c- p>(</c->e<c- p>);</c->
      <c- p>}</c->
    <c- p>})());</c->
  <c- p>}</c->
<c- p>}</c->
</pre>
   <p>Decoding can also be done through pipes to new WritableStreams, for example using <code class="idl"><a data-link-type="idl" href="https://encoding.spec.whatwg.org/#textdecoderstream" id="ref-for-textdecoderstream">TextDecoderStream</a></code>. This example assumes text output should not be
interleaved, and therefore only reads one stream at a time.</p>
<pre class="example highlight" id="example-b6b74950"><a class="self-link" href="#example-b6b74950"></a><c- k>async</c-> <c- a>function</c-> receiveText<c- p>(</c->url<c- p>,</c-> createWritableStreamForTextData<c- p>)</c-> <c- p>{</c->
  <c- a>const</c-> wt <c- o>=</c-> <c- ow>new</c-> WebTransport<c- p>(</c->url<c- p>);</c->
  <c- k>for</c-> <c- k>await</c-> <c- p>(</c-><c- a>const</c-> readable <c- k>of</c-> wt<c- p>.</c->incomingUnidirectionalStreams<c- p>)</c-> <c- p>{</c->
    <c- c1>// consume sequentially to not interleave output, reporting per-stream errors</c->
    <c- k>try</c-> <c- p>{</c->
      <c- k>await</c-> readable
       <c- p>.</c->pipeThrough<c- p>(</c-><c- ow>new</c-> TextDecoderStream<c- p>(</c-><c- u>"utf-8"</c-><c- p>))</c->
       <c- p>.</c->pipeTo<c- p>(</c->createWritableStreamForTextData<c- p>());</c->
    <c- p>}</c-> <c- k>catch</c-> <c- p>(</c->e<c- p>)</c-> <c- p>{</c->
      console<c- p>.</c->error<c- p>(</c->e<c- p>);</c->
    <c- p>}</c->
  <c- p>}</c->
<c- p>}</c->
</pre>
   <h3 class="heading settled" data-level="14.6" id="example-complete"><span class="secno">14.6. </span><span class="content">Complete example</span><a class="self-link" href="#example-complete"></a></h3>
   <p><em>This section is non-normative.</em></p>
   <p>This example illustrates use of the closed and ready promises, opening
of uni-directional and bi-directional streams by either the client or
the server, and sending and receiving datagrams.</p>
<pre class="example highlight" id="example-5d82f6aa"><a class="self-link" href="#example-5d82f6aa"></a><c- c1>// Adds an entry to the event log on the page, optionally applying a specified</c->
<c- c1>// CSS class.</c->

<c- a>let</c-> wt<c- p>,</c-> streamNumber<c- p>,</c-> datagramWriter<c- p>;</c->

connect<c- p>.</c->onclick <c- o>=</c-> <c- k>async</c-> <c- p>()</c-> <c- p>=></c-> <c- p>{</c->
  <c- k>try</c-> <c- p>{</c->
    <c- a>const</c-> url <c- o>=</c-> document<c- p>.</c->getElementById<c- p>(</c-><c- t>'url'</c-><c- p>).</c->value<c- p>;</c->

    wt <c- o>=</c-> <c- ow>new</c-> WebTransport<c- p>(</c->url<c- p>);</c->
    addToEventLog<c- p>(</c-><c- t>'Initiating connection...'</c-><c- p>);</c->
    <c- k>await</c-> wt<c- p>.</c->ready<c- p>;</c->
    addToEventLog<c- p>(</c-><c- t>'Connection ready.'</c-><c- p>);</c->

    wt<c- p>.</c->closed
      <c- p>.</c->then<c- p>(()</c-> <c- p>=></c-> addToEventLog<c- p>(</c-><c- t>'Connection closed normally.'</c-><c- p>))</c->
      <c- p>.</c-><c- k>catch</c-><c- p>(()</c-> <c- p>=></c-> addToEventLog<c- p>(</c-><c- t>'Connection closed abruptly.'</c-><c- p>,</c-> <c- t>'error'</c-><c- p>));</c->

    streamNumber <c- o>=</c-> <c- mf>1</c-><c- p>;</c->
    datagramWriter <c- o>=</c-> wt<c- p>.</c->datagrams<c- p>.</c->writable<c- p>.</c->getWriter<c- p>();</c->

    readDatagrams<c- p>();</c->
    acceptUnidirectionalStreams<c- p>();</c->
    document<c- p>.</c->forms<c- p>.</c->sending<c- p>.</c->elements<c- p>.</c->send<c- p>.</c->disabled <c- o>=</c-> <c- kc>false</c-><c- p>;</c->
    document<c- p>.</c->getElementById<c- p>(</c-><c- t>'connect'</c-><c- p>).</c->disabled <c- o>=</c-> <c- kc>true</c-><c- p>;</c->
  <c- p>}</c-> <c- k>catch</c-> <c- p>(</c->e<c- p>)</c-> <c- p>{</c->
    addToEventLog<c- p>(</c-><c- sb>`Connection failed. </c-><c- si>${</c->e<c- si>}</c-><c- sb>`</c-><c- p>,</c-> <c- t>'error'</c-><c- p>);</c->
  <c- p>}</c->
<c- p>}</c->

sendData<c- p>.</c->onclick <c- o>=</c-> <c- k>async</c-> <c- p>()</c-> <c- p>=></c-> <c- p>{</c->
  <c- a>const</c-> form <c- o>=</c-> document<c- p>.</c->forms<c- p>.</c->sending<c- p>.</c->elements<c- p>;</c->
  <c- a>const</c-> rawData <c- o>=</c-> sending<c- p>.</c->data<c- p>.</c->value<c- p>;</c->
  <c- a>const</c-> data <c- o>=</c-> <c- ow>new</c-> TextEncoder<c- p>(</c-><c- t>'utf-8'</c-><c- p>).</c->encode<c- p>(</c->rawData<c- p>);</c->
  <c- k>try</c-> <c- p>{</c->
    <c- k>switch</c-> <c- p>(</c->form<c- p>.</c->sendtype<c- p>.</c->value<c- p>)</c-> <c- p>{</c->
      <c- k>case</c-> <c- t>'datagram'</c-><c- o>:</c-> <c- p>{</c->
        <c- k>await</c-> datagramWriter<c- p>.</c->write<c- p>(</c->data<c- p>);</c->
        addToEventLog<c- p>(</c-><c- sb>`Sent datagram: </c-><c- si>${</c->rawData<c- si>}</c-><c- sb>`</c-><c- p>);</c->
        <c- k>break</c-><c- p>;</c->
      <c- p>}</c->
      <c- k>case</c-> <c- t>'unidi'</c-><c- o>:</c-> <c- p>{</c->
        <c- a>const</c-> writable <c- o>=</c-> <c- k>await</c-> wt<c- p>.</c->createUnidirectionalStream<c- p>();</c->
        <c- a>const</c-> writer <c- o>=</c-> writable<c- p>.</c->getWriter<c- p>();</c->
        <c- k>await</c-> writer<c- p>.</c->write<c- p>(</c->data<c- p>);</c->
        <c- k>await</c-> writer<c- p>.</c->close<c- p>();</c->
        addToEventLog<c- p>(</c-><c- sb>`Sent a unidirectional stream with data: </c-><c- si>${</c->rawData<c- si>}</c-><c- sb>`</c-><c- p>);</c->
        <c- k>break</c-><c- p>;</c->
      <c- p>}</c->
      <c- k>case</c-> <c- t>'bidi'</c-><c- o>:</c-> <c- p>{</c->
        <c- a>const</c-> duplexStream <c- o>=</c-> <c- k>await</c-> wt<c- p>.</c->createBidirectionalStream<c- p>();</c->
        <c- a>const</c-> n <c- o>=</c-> streamNumber<c- o>++</c-><c- p>;</c->
        readFromIncomingStream<c- p>(</c->duplexStream<c- p>.</c->readable<c- p>,</c-> n<c- p>);</c->

        <c- a>const</c-> writer <c- o>=</c-> duplexStream<c- p>.</c->writable<c- p>.</c->getWriter<c- p>();</c->
        <c- k>await</c-> writer<c- p>.</c->write<c- p>(</c->data<c- p>);</c->
        <c- k>await</c-> writer<c- p>.</c->close<c- p>();</c->
        addToEventLog<c- p>(</c-><c- sb>`Sent bidirectional stream #</c-><c- si>${</c->n<c- si>}</c-><c- sb> with data: </c-><c- si>${</c->rawData<c- si>}</c-><c- sb>`</c-><c- p>);</c->
        <c- k>break</c-><c- p>;</c->
      <c- p>}</c->
    <c- p>}</c->
  <c- p>}</c-> <c- k>catch</c-> <c- p>(</c->e<c- p>)</c-> <c- p>{</c->
    addToEventLog<c- p>(</c-><c- sb>`Error while sending data: </c-><c- si>${</c->e<c- si>}</c-><c- sb>`</c-><c- p>,</c-> <c- t>'error'</c-><c- p>);</c->
  <c- p>}</c->
<c- p>}</c->

<c- c1>// Reads datagrams into the event log until EOF is reached.</c->
<c- k>async</c-> <c- a>function</c-> readDatagrams<c- p>()</c-> <c- p>{</c->
  <c- k>try</c-> <c- p>{</c->
    <c- a>const</c-> decoder <c- o>=</c-> <c- ow>new</c-> TextDecoderStream<c- p>(</c-><c- t>'utf-8'</c-><c- p>);</c->

    <c- k>for</c-> <c- k>await</c-> <c- p>(</c-><c- a>const</c-> data <c- k>of</c-> wt<c- p>.</c->datagrams<c- p>.</c->readable<c- p>.</c->pipeThrough<c- p>(</c->decoder<c- p>))</c-> <c- p>{</c->
      addToEventLog<c- p>(</c-><c- sb>`Datagram received: </c-><c- si>${</c->data<c- si>}</c-><c- sb>`</c-><c- p>);</c->
    <c- p>}</c->
    addToEventLog<c- p>(</c-><c- t>'Done reading datagrams!'</c-><c- p>);</c->
  <c- p>}</c-> <c- k>catch</c-> <c- p>(</c->e<c- p>)</c-> <c- p>{</c->
    addToEventLog<c- p>(</c-><c- sb>`Error while reading datagrams: </c-><c- si>${</c->e<c- si>}</c-><c- sb>`</c-><c- p>,</c-> <c- t>'error'</c-><c- p>);</c->
  <c- p>}</c->
<c- p>}</c->

<c- k>async</c-> <c- a>function</c-> acceptUnidirectionalStreams<c- p>()</c-> <c- p>{</c->
  <c- k>try</c-> <c- p>{</c->
    <c- k>for</c-> <c- k>await</c-> <c- p>(</c-><c- a>const</c-> readable <c- k>of</c-> wt<c- p>.</c->incomingUnidirectionalStreams<c- p>)</c-> <c- p>{</c->
      <c- a>const</c-> number <c- o>=</c-> streamNumber<c- o>++</c-><c- p>;</c->
      addToEventLog<c- p>(</c-><c- sb>`New incoming unidirectional stream #</c-><c- si>${</c->number<c- si>}</c-><c- sb>`</c-><c- p>);</c->
      readFromIncomingStream<c- p>(</c->readable<c- p>,</c-> number<c- p>);</c->
    <c- p>}</c->
    addToEventLog<c- p>(</c-><c- t>'Done accepting unidirectional streams!'</c-><c- p>);</c->
  <c- p>}</c-> <c- k>catch</c-> <c- p>(</c->e<c- p>)</c-> <c- p>{</c->
    addToEventLog<c- p>(</c-><c- sb>`Error while accepting streams </c-><c- si>${</c->e<c- si>}</c-><c- sb>`</c-><c- p>,</c-> <c- t>'error'</c-><c- p>);</c->
  <c- p>}</c->
<c- p>}</c->

<c- k>async</c-> <c- a>function</c-> readFromIncomingStream<c- p>(</c->readable<c- p>,</c-> number<c- p>)</c-> <c- p>{</c->
  <c- k>try</c-> <c- p>{</c->
    <c- a>const</c-> decoder <c- o>=</c-> <c- ow>new</c-> TextDecoderStream<c- p>(</c-><c- t>'utf-8'</c-><c- p>);</c->
    <c- k>for</c-> <c- k>await</c-> <c- p>(</c-><c- a>const</c-> chunk <c- k>of</c-> readable<c- p>.</c->pipeThrough<c- p>(</c->decoder<c- p>))</c-> <c- p>{</c->
      addToEventLog<c- p>(</c-><c- sb>`Received data on stream #</c-><c- si>${</c->number<c- si>}</c-><c- sb>: </c-><c- si>${</c->chunk<c- si>}</c-><c- sb>`</c-><c- p>);</c->
    <c- p>}</c->
    addToEventLog<c- p>(</c-><c- sb>`Stream #</c-><c- si>${</c->number<c- si>}</c-><c- sb> closed`</c-><c- p>);</c->
  <c- p>}</c-> <c- k>catch</c-> <c- p>(</c->e<c- p>)</c-> <c- p>{</c->
    addToEventLog<c- p>(</c-><c- sb>`Error while reading from stream #</c-><c- si>${</c->number"<c- si>}</c-><c- sb>: </c-><c- si>${</c->e<c- si>}</c-><c- sb>`</c-><c- p>,</c-> <c- t>'error'</c-><c- p>);</c->
    addToEventLog<c- p>(</c-><c- sb>`    </c-><c- si>${</c->e<c- p>.</c->message<c- si>}</c-><c- sb>`</c-><c- p>);</c->
  <c- p>}</c->
<c- p>}</c->

<c- a>function</c-> addToEventLog<c- p>(</c->text<c- p>,</c-> severity <c- o>=</c-> <c- t>'info'</c-><c- p>)</c-> <c- p>{</c->
  <c- a>const</c-> log <c- o>=</c-> document<c- p>.</c->getElementById<c- p>(</c-><c- t>'event-log'</c-><c- p>);</c->
  <c- a>const</c-> previous <c- o>=</c-> log<c- p>.</c->lastElementChild<c- p>;</c->
  <c- a>const</c-> entry <c- o>=</c-> document<c- p>.</c->createElement<c- p>(</c-><c- t>'li'</c-><c- p>);</c->
  entry<c- p>.</c->innerText <c- o>=</c-> text<c- p>;</c->
  entry<c- p>.</c->className <c- o>=</c-> <c- sb>`log-</c-><c- si>${</c->severity<c- si>}</c-><c- sb>`</c-><c- p>;</c->
  log<c- p>.</c->appendChild<c- p>(</c->entry<c- p>);</c->

  <c- c1>// If the previous entry in the log was visible, scroll to the new element.</c->
  <c- k>if</c-> <c- p>(</c->previous <c- o>&amp;&amp;</c->
      previous<c- p>.</c->getBoundingClientRect<c- p>().</c->top <c- o>&lt;</c-> log<c- p>.</c->getBoundingClientRect<c- p>().</c->bottom<c- p>)</c-> <c- p>{</c->
    entry<c- p>.</c->scrollIntoView<c- p>();</c->
  <c- p>}</c->
<c- p>}</c->
</pre>
   <h2 class="heading settled" data-level="15" id="acknowledgements"><span class="secno">15. </span><span class="content">Acknowledgements</span><a class="self-link" href="#acknowledgements"></a></h2>
    The editors wish to thank the Working Group chairs and Team Contact, Jan-Ivar Bruaroey, Will Law
and Yves Lafon, for their support. 
   <p>The <code class="idl"><a data-link-type="idl" href="#webtransport" id="ref-for-webtransport②⓪">WebTransport</a></code> interface is based on the <code>QuicTransport</code> interface
initially described in the <a href="https://www.w3.org/community/ortc/">W3C ORTC CG</a>,
and has been adapted for use in this specification.</p>
  </main>
<script src="https://www.w3.org/scripts/TR/2021/fixup.js"></script>
  <h2 class="no-num no-ref heading settled" id="index"><span class="content">Index</span><a class="self-link" href="#index"></a></h2>
  <h3 class="no-num no-ref heading settled" id="index-defined-here"><span class="content">Terms defined by this specification</span><a class="self-link" href="#index-defined-here"></a></h3>
  <ul class="index">
   <li><a href="#dom-receivestream-abortreading">abortReading()</a><span>, in § 10.3</span>
   <li><a href="#dom-receivestream-abortreading">abortReading(abortInfo)</a><span>, in § 10.3</span>
   <li><a href="#dom-sendstream-abortwriting">abortWriting()</a><span>, in § 9.3</span>
   <li><a href="#dom-sendstream-abortwriting">abortWriting(abortInfo)</a><span>, in § 9.3</span>
   <li><a href="#dom-webtransportoptions-allowpooling">allowPooling</a><span>, in § 8.5</span>
   <li><a href="#bidirectionalstream">BidirectionalStream</a><span>, in § 11</span>
   <li><a href="#bidirectionalstreamstransport">BidirectionalStreamsTransport</a><span>, in § 5</span>
   <li><a href="#dom-webtransportstats-bytesreceived">bytesReceived</a><span>, in § 8.8</span>
   <li><a href="#dom-webtransportstats-bytessent">bytesSent</a><span>, in § 8.8</span>
   <li><a href="#dom-webtransport-close">close()</a><span>, in § 8.4</span>
   <li><a href="#dom-webtransport-close">close(closeInfo)</a><span>, in § 8.4</span>
   <li><a href="#dom-webtransportstate-closed">"closed"</a><span>, in § 8.6</span>
   <li><a href="#webtransport-closed">[[Closed]]</a><span>, in § 8.1</span>
   <li><a href="#dom-webtransport-closed">closed</a><span>, in § 8.3</span>
   <li><a href="#compute-a-certificate-fingerprint">compute a certificate fingerprint</a><span>, in § 8.5</span>
   <li><a href="#dom-webtransportstate-connected">"connected"</a><span>, in § 8.6</span>
   <li><a href="#dom-webtransportstate-connecting">"connecting"</a><span>, in § 8.6</span>
   <li><a href="#webtransport-connection">[[Connection]]</a><span>, in § 8.1</span>
   <li><a href="#dom-webtransport-webtransport">constructor(url)</a><span>, in § 8</span>
   <li><a href="#dom-webtransport-webtransport">constructor(url, options)</a><span>, in § 8</span>
   <li>
    create
    <ul>
     <li><a href="#bidirectionalstream-create">dfn for BidirectionalStream</a><span>, in § 5.2.1</span>
     <li><a href="#datagramduplexstream-create">dfn for DatagramDuplexStream</a><span>, in § 7</span>
     <li><a href="#sendstream-create">dfn for SendStream</a><span>, in § 4.2.1</span>
    </ul>
   <li><a href="#dom-bidirectionalstreamstransport-createbidirectionalstream">createBidirectionalStream()</a><span>, in § 5.1</span>
   <li><a href="#dom-unidirectionalstreamstransport-createunidirectionalstream">createUnidirectionalStream()</a><span>, in § 4.1</span>
   <li><a href="#dom-unidirectionalstreamstransport-createunidirectionalstream">createUnidirectionalStream(parameters)</a><span>, in § 4.1</span>
   <li>
    creating
    <ul>
     <li><a href="#bidirectionalstream-create">dfn for BidirectionalStream</a><span>, in § 5.2.1</span>
     <li><a href="#datagramduplexstream-create">dfn for DatagramDuplexStream</a><span>, in § 7</span>
     <li><a href="#sendstream-create">dfn for SendStream</a><span>, in § 4.2.1</span>
    </ul>
   <li><a href="#custom-certificate-requirements">custom certificate requirements</a><span>, in § 8.5</span>
   <li><a href="#datagramduplexstream">DatagramDuplexStream</a><span>, in § 7</span>
   <li><a href="#webtransport-datagrams">[[Datagrams]]</a><span>, in § 8.1</span>
   <li><a href="#dom-datagramtransport-datagrams">datagrams</a><span>, in § 6.1</span>
   <li><a href="#datagramtransport">DatagramTransport</a><span>, in § 6</span>
   <li>
    errorCode
    <ul>
     <li><a href="#dom-streamabortinfo-errorcode">dict-member for StreamAbortInfo</a><span>, in § 9.4</span>
     <li><a href="#dom-webtransportcloseinfo-errorcode">dict-member for WebTransportCloseInfo</a><span>, in § 8.7</span>
    </ul>
   <li><a href="#dom-webtransportstate-failed">"failed"</a><span>, in § 8.6</span>
   <li><a href="#dom-webtransport-getstats">getStats()</a><span>, in § 8.4</span>
   <li><a href="#immediate-close">Immediate Close</a><span>, in § 8.4</span>
   <li><a href="#dom-bidirectionalstreamstransport-incomingbidirectionalstreams">incomingBidirectionalStreams</a><span>, in § 5.1</span>
   <li><a href="#dom-unidirectionalstreamstransport-incomingunidirectionalstreams">incomingUnidirectionalStreams</a><span>, in § 4.1</span>
   <li><a href="#initialize-webtransport-over-http">initialize WebTransport over HTTP</a><span>, in § 8.2</span>
   <li><a href="#dom-datagramtransport-maxdatagramsize">maxDatagramSize</a><span>, in § 6.1</span>
   <li><a href="#dom-webtransportstats-minrtt">minRtt</a><span>, in § 8.8</span>
   <li><a href="#dom-webtransportstats-numincomingstreamscreated">numIncomingStreamsCreated</a><span>, in § 8.8</span>
   <li><a href="#dom-webtransportstats-numoutgoingstreamscreated">numOutgoingStreamsCreated</a><span>, in § 8.8</span>
   <li><a href="#dom-webtransportstats-numreceiveddatagramsdropped">numReceivedDatagramsDropped</a><span>, in § 8.8</span>
   <li><a href="#dom-webtransport-onstatechange">onstatechange</a><span>, in § 8.3</span>
   <li><a href="#webtransport-outgoingdatagramsexpirationduration">[[OutgoingDatagramsExpirationDuration]]</a><span>, in § 8.1</span>
   <li><a href="#webtransport-outgoingdatagramshighwatermark">[[OutgoingDatagramsHighWaterMark]]</a><span>, in § 8.1</span>
   <li><a href="#webtransport-outgoingdatagramsqueue">[[OutgoingDatagramsQueue]]</a><span>, in § 8.1</span>
   <li><a href="#webtransport-outgoingstreams">[[OutgoingStreams]]</a><span>, in § 8.1</span>
   <li><a href="#dom-webtransportstats-packetsreceived">packetsReceived</a><span>, in § 8.8</span>
   <li><a href="#dom-webtransportstats-packetssent">packetsSent</a><span>, in § 8.8</span>
   <li><a href="#dom-bidirectionalstream-readable-slot">[[Readable]]</a><span>, in § 11</span>
   <li>
    readable
    <ul>
     <li><a href="#dom-bidirectionalstream-readable">attribute for BidirectionalStream</a><span>, in § 11</span>
     <li><a href="#dom-datagramduplexstream-readable">attribute for DatagramDuplexStream</a><span>, in § 7.1</span>
     <li><a href="#datagramduplexstream-create-readable">dfn for DatagramDuplexStream/create</a><span>, in § 7</span>
    </ul>
   <li><a href="#readdatagrams">readDatagrams</a><span>, in § 6.2</span>
   <li><a href="#dom-receivestream-readingaborted">readingAborted</a><span>, in § 10.2</span>
   <li><a href="#webtransport-ready">[[Ready]]</a><span>, in § 8.1</span>
   <li><a href="#dom-webtransport-ready">ready</a><span>, in § 8.3</span>
   <li><a href="#dom-webtransportcloseinfo-reason">reason</a><span>, in § 8.7</span>
   <li><a href="#webtransport-receivedbidirectionalstreams">[[ReceivedBidirectionalStreams]]</a><span>, in § 8.1</span>
   <li><a href="#webtransport-receivedstreams">[[ReceivedStreams]]</a><span>, in § 8.1</span>
   <li><a href="#receivestream">ReceiveStream</a><span>, in § 10</span>
   <li><a href="#senddatagrams">sendDatagrams</a><span>, in § 6.2</span>
   <li><a href="#sendstream">SendStream</a><span>, in § 9</span>
   <li><a href="#dictdef-sendstreamparameters">SendStreamParameters</a><span>, in § 4.3</span>
   <li><a href="#dom-webtransportoptions-servercertificatefingerprints">serverCertificateFingerprints</a><span>, in § 8.5</span>
   <li><a href="#webtransport-state">[[State]]</a><span>, in § 8.1</span>
   <li><a href="#dom-webtransport-state">state</a><span>, in § 8.3</span>
   <li><a href="#dictdef-streamabortinfo">StreamAbortInfo</a><span>, in § 9.4</span>
   <li><a href="#dom-webtransportstats-timestamp">timestamp</a><span>, in § 8.8</span>
   <li><a href="#unidirectionalstreamstransport">UnidirectionalStreamsTransport</a><span>, in § 4</span>
   <li><a href="#verify-a-certificate-fingerprint">verify a certificate fingerprint</a><span>, in § 8.5</span>
   <li><a href="#webtransport">WebTransport</a><span>, in § 8</span>
   <li><a href="#dictdef-webtransportcloseinfo">WebTransportCloseInfo</a><span>, in § 8.7</span>
   <li><a href="#dictdef-webtransportoptions">WebTransportOptions</a><span>, in § 8.5</span>
   <li><a href="#enumdef-webtransportstate">WebTransportState</a><span>, in § 8.6</span>
   <li><a href="#dictdef-webtransportstats">WebTransportStats</a><span>, in § 8.8</span>
   <li><a href="#dom-webtransport-webtransport">WebTransport(url)</a><span>, in § 8</span>
   <li><a href="#dom-webtransport-webtransport">WebTransport(url, options)</a><span>, in § 8</span>
   <li><a href="#dom-bidirectionalstream-writable-slot">[[Writable]]</a><span>, in § 11</span>
   <li>
    writable
    <ul>
     <li><a href="#dom-bidirectionalstream-writable">attribute for BidirectionalStream</a><span>, in § 11</span>
     <li><a href="#dom-datagramduplexstream-writable">attribute for DatagramDuplexStream</a><span>, in § 7.1</span>
     <li><a href="#datagramduplexstream-create-writable">dfn for DatagramDuplexStream/create</a><span>, in § 7</span>
    </ul>
   <li><a href="#writedatagrams">writeDatagrams</a><span>, in § 6.2</span>
   <li><a href="#dom-sendstream-writingaborted">writingAborted</a><span>, in § 9.2</span>
  </ul>
  <h3 class="no-num no-ref heading settled" id="index-defined-elsewhere"><span class="content">Terms defined by reference</span><a class="self-link" href="#index-defined-elsewhere"></a></h3>
  <ul class="index">
   <li>
    <a data-link-type="biblio">[DOM]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="26b82890">event</span>
    </ul>
   <li>
    <a data-link-type="biblio">[ECMASCRIPT-6.0]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="4aa3c96c">fulfilled</span>
     <li><span class="dfn-paneled" id="6a26f4a8">pending</span>
     <li><span class="dfn-paneled" id="e9e7a885">rejected</span>
     <li><span class="dfn-paneled" id="e64f2090">resolved</span>
     <li><span class="dfn-paneled" id="dbb8f07d">settled</span>
    </ul>
   <li>
    <a data-link-type="biblio">[ENCODING]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="1e249f40">TextDecoderStream</span>
     <li><span class="dfn-paneled" id="417f81da">TextEncoderStream</span>
    </ul>
   <li>
    <a data-link-type="biblio">[FETCH]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="697965b2">connection</span>
     <li><span class="dfn-paneled" id="86ba8c0f">determine the network partition key</span>
     <li><span class="dfn-paneled" id="a33db89a">fetch</span>
     <li><span class="dfn-paneled" id="d09d0dcd">http3only</span>
     <li><span class="dfn-paneled" id="8e1fb11c">obtain a connection</span>
    </ul>
   <li>
    <a data-link-type="biblio">[HR-TIME-3]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="0e9f636b">DOMHighResTimeStamp</span>
    </ul>
   <li>
    <a data-link-type="biblio">[HTML]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="ccfe986b">ErrorEvent</span>
     <li><span class="dfn-paneled" id="f0951476">EventHandler</span>
     <li><span class="dfn-paneled" id="6a5a59a0">event handler</span>
     <li><span class="dfn-paneled" id="9d386f55">event handler event type</span>
     <li><span class="dfn-paneled" id="a72449dd">in parallel</span>
     <li><span class="dfn-paneled" id="b6ae4501">networking task source</span>
     <li><span class="dfn-paneled" id="9a517a7d">queue a task</span>
     <li><span class="dfn-paneled" id="9c4c1e66">relevant settings object</span>
    </ul>
   <li>
    <a data-link-type="biblio">[INFRA]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="860300d4">implementation-defined</span>
    </ul>
   <li>
    <a data-link-type="biblio">[URL]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="ed948033">fragment</span>
     <li><span class="dfn-paneled" id="959ad97b">origin</span>
     <li><span class="dfn-paneled" id="3a711be7">scheme</span>
     <li><span class="dfn-paneled" id="ca3ca4ae">url parser</span>
     <li><span class="dfn-paneled" id="a8c7461b">url record</span>
    </ul>
   <li>
    <a data-link-type="biblio">[WEBIDL]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="8855a9aa">DOMString</span>
     <li><span class="dfn-paneled" id="c01cbda0">EnforceRange</span>
     <li><span class="dfn-paneled" id="889e932f">Exposed</span>
     <li><span class="dfn-paneled" id="797018a7">InvalidStateError</span>
     <li><span class="dfn-paneled" id="3182eb71">NotSupportedError</span>
     <li><span class="dfn-paneled" id="bdbd19d1">Promise</span>
     <li><span class="dfn-paneled" id="be2d2b4c">SyntaxError</span>
     <li><span class="dfn-paneled" id="82ca3efc">TypeError</span>
     <li><span class="dfn-paneled" id="b0d7f3c3">USVString</span>
     <li><span class="dfn-paneled" id="95d7775a">Uint8Array</span>
     <li><span class="dfn-paneled" id="d0b4a948">a promise rejected with</span>
     <li><span class="dfn-paneled" id="5372cca8">boolean</span>
     <li><span class="dfn-paneled" id="8c800cdf">double</span>
     <li><span class="dfn-paneled" id="56f81a8e">new</span>
     <li><span class="dfn-paneled" id="bc5645aa">octet</span>
     <li><span class="dfn-paneled" id="9cce47fd">sequence</span>
     <li><span class="dfn-paneled" id="4013a022">this</span>
     <li><span class="dfn-paneled" id="b4cfa5ce">throw</span>
     <li><span class="dfn-paneled" id="5f90bbfb">undefined</span>
     <li><span class="dfn-paneled" id="e97a9688">unsigned long</span>
     <li><span class="dfn-paneled" id="f14b47b8">unsigned long long</span>
     <li><span class="dfn-paneled" id="450958f7">unsigned short</span>
     <li><span class="dfn-paneled" id="24bd7d25">upon fulfillment</span>
     <li><span class="dfn-paneled" id="f14ed351">upon rejection</span>
    </ul>
   <li>
    <a data-link-type="biblio">[WEBRTC]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="57ed85e6">RTCDtlsFingerprint</span>
     <li><span class="dfn-paneled" id="02054956">algorithm</span>
     <li><span class="dfn-paneled" id="8c97e3f6">value</span>
    </ul>
   <li>
    <a data-link-type="biblio">[WHATWG-STREAMS]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="59ed4e57">ReadableStream</span>
     <li><span class="dfn-paneled" id="59dc45b5">WritableStream</span>
     <li><span class="dfn-paneled" id="6b6bb798">enqueue</span>
     <li><span class="dfn-paneled" id="c93cffd2">high water mark</span>
     <li><span class="dfn-paneled" id="52296420">ready</span>
    </ul>
  </ul>
  <h2 class="no-num no-ref heading settled" id="references"><span class="content">References</span><a class="self-link" href="#references"></a></h2>
  <h3 class="no-num no-ref heading settled" id="normative"><span class="content">Normative References</span><a class="self-link" href="#normative"></a></h3>
  <dl>
   <dt id="biblio-dom">[DOM]
   <dd>Anne van Kesteren. <a href="https://dom.spec.whatwg.org/"><cite>DOM Standard</cite></a>. Living Standard. URL: <a href="https://dom.spec.whatwg.org/">https://dom.spec.whatwg.org/</a>
   <dt id="biblio-ecmascript-60">[ECMASCRIPT-6.0]
   <dd>Allen Wirfs-Brock. <a href="http://www.ecma-international.org/ecma-262/6.0/index.html"><cite>ECMA-262 6th Edition, The ECMAScript 2015 Language Specification</cite></a>. URL: <a href="http://www.ecma-international.org/ecma-262/6.0/index.html">http://www.ecma-international.org/ecma-262/6.0/index.html</a>
   <dt id="biblio-encoding">[ENCODING]
   <dd>Anne van Kesteren. <a href="https://encoding.spec.whatwg.org/"><cite>Encoding Standard</cite></a>. Living Standard. URL: <a href="https://encoding.spec.whatwg.org/">https://encoding.spec.whatwg.org/</a>
   <dt id="biblio-fetch">[FETCH]
   <dd>Anne van Kesteren. <a href="https://fetch.spec.whatwg.org/"><cite>Fetch Standard</cite></a>. Living Standard. URL: <a href="https://fetch.spec.whatwg.org/">https://fetch.spec.whatwg.org/</a>
   <dt id="biblio-hr-time-3">[HR-TIME-3]
   <dd>Yoav Weiss. <a href="https://w3c.github.io/hr-time/"><cite>High Resolution Time</cite></a>. URL: <a href="https://w3c.github.io/hr-time/">https://w3c.github.io/hr-time/</a>
   <dt id="biblio-html">[HTML]
   <dd>Anne van Kesteren; et al. <a href="https://html.spec.whatwg.org/multipage/"><cite>HTML Standard</cite></a>. Living Standard. URL: <a href="https://html.spec.whatwg.org/multipage/">https://html.spec.whatwg.org/multipage/</a>
   <dt id="biblio-http3-datagram">[HTTP3-DATAGRAM]
   <dd>David Schinazi; Lucas Pardue. <a href="https://datatracker.ietf.org/doc/html/draft-ietf-masque-h3-datagram"><cite>Using QUIC Datagrams with HTTP/3</cite></a>. Internet-Draft. URL: <a href="https://datatracker.ietf.org/doc/html/draft-ietf-masque-h3-datagram">https://datatracker.ietf.org/doc/html/draft-ietf-masque-h3-datagram</a>
   <dt id="biblio-infra">[INFRA]
   <dd>Anne van Kesteren; Domenic Denicola. <a href="https://infra.spec.whatwg.org/"><cite>Infra Standard</cite></a>. Living Standard. URL: <a href="https://infra.spec.whatwg.org/">https://infra.spec.whatwg.org/</a>
   <dt id="biblio-quic">[QUIC]
   <dd>Jana Iyengar; Martin Thomson. <a href="https://quicwg.org/base-drafts/draft-ietf-quic-transport.html"><cite>QUIC: A UDP-Based Multiplexed and Secure Transport</cite></a>. Internet-Draft. URL: <a href="https://quicwg.org/base-drafts/draft-ietf-quic-transport.html">https://quicwg.org/base-drafts/draft-ietf-quic-transport.html</a>
   <dt id="biblio-quic-datagram">[QUIC-DATAGRAM]
   <dd>Tommy Pauly; Eric Kinnear; David Schinazi. <a href="https://datatracker.ietf.org/doc/html/draft-ietf-quic-datagram/"><cite>An Unreliable Datagram Extension to QUIC</cite></a>. Internet-Draft. URL: <a href="https://datatracker.ietf.org/doc/html/draft-ietf-quic-datagram/">https://datatracker.ietf.org/doc/html/draft-ietf-quic-datagram/</a>
   <dt id="biblio-rfc2119">[RFC2119]
   <dd>S. Bradner. <a href="https://datatracker.ietf.org/doc/html/rfc2119"><cite>Key words for use in RFCs to Indicate Requirement Levels</cite></a>. March 1997. Best Current Practice. URL: <a href="https://datatracker.ietf.org/doc/html/rfc2119">https://datatracker.ietf.org/doc/html/rfc2119</a>
   <dt id="biblio-rfc5280">[RFC5280]
   <dd>D. Cooper; et al. <a href="https://www.rfc-editor.org/rfc/rfc5280"><cite>Internet X.509 Public Key Infrastructure Certificate and Certificate Revocation List (CRL) Profile</cite></a>. May 2008. Proposed Standard. URL: <a href="https://www.rfc-editor.org/rfc/rfc5280">https://www.rfc-editor.org/rfc/rfc5280</a>
   <dt id="biblio-rfc8122">[RFC8122]
   <dd>J. Lennox; C. Holmberg. <a href="https://www.rfc-editor.org/rfc/rfc8122"><cite>Connection-Oriented Media Transport over the Transport Layer Security (TLS) Protocol in the Session Description Protocol (SDP)</cite></a>. March 2017. Proposed Standard. URL: <a href="https://www.rfc-editor.org/rfc/rfc8122">https://www.rfc-editor.org/rfc/rfc8122</a>
   <dt id="biblio-url">[URL]
   <dd>Anne van Kesteren. <a href="https://url.spec.whatwg.org/"><cite>URL Standard</cite></a>. Living Standard. URL: <a href="https://url.spec.whatwg.org/">https://url.spec.whatwg.org/</a>
   <dt id="biblio-web-transport-http3">[WEB-TRANSPORT-HTTP3]
   <dd>Victor Vasiliev. <a href="https://datatracker.ietf.org/doc/html/draft-ietf-webtrans-http3/"><cite>WebTransport over HTTP/3</cite></a>. Internet-Draft. URL: <a href="https://datatracker.ietf.org/doc/html/draft-ietf-webtrans-http3/">https://datatracker.ietf.org/doc/html/draft-ietf-webtrans-http3/</a>
   <dt id="biblio-web-transport-overview">[WEB-TRANSPORT-OVERVIEW]
   <dd>Victor Vasiliev. <a href="https://datatracker.ietf.org/doc/html/draft-ietf-webtrans-overview"><cite>WebTransport Protocol Framework</cite></a>. Internet-Draft. URL: <a href="https://datatracker.ietf.org/doc/html/draft-ietf-webtrans-overview">https://datatracker.ietf.org/doc/html/draft-ietf-webtrans-overview</a>
   <dt id="biblio-webidl">[WEBIDL]
   <dd>Edgar Chen; Timothy Gu. <a href="https://webidl.spec.whatwg.org/"><cite>Web IDL Standard</cite></a>. Living Standard. URL: <a href="https://webidl.spec.whatwg.org/">https://webidl.spec.whatwg.org/</a>
   <dt id="biblio-webrtc">[WEBRTC]
   <dd>Cullen Jennings; Henrik Boström; Jan-Ivar Bruaroey. <a href="https://w3c.github.io/webrtc-pc/"><cite>WebRTC 1.0: Real-Time Communication Between Browsers</cite></a>. URL: <a href="https://w3c.github.io/webrtc-pc/">https://w3c.github.io/webrtc-pc/</a>
   <dt id="biblio-whatwg-streams">[WHATWG-STREAMS]
   <dd>Adam Rice; et al. <a href="https://streams.spec.whatwg.org/"><cite>Streams Standard</cite></a>. Living Standard. URL: <a href="https://streams.spec.whatwg.org/">https://streams.spec.whatwg.org/</a>
  </dl>
  <h3 class="no-num no-ref heading settled" id="informative"><span class="content">Informative References</span><a class="self-link" href="#informative"></a></h3>
  <dl>
   <dt id="biblio-rfc7301">[RFC7301]
   <dd>S. Friedl; et al. <a href="https://www.rfc-editor.org/rfc/rfc7301"><cite>Transport Layer Security (TLS) Application-Layer Protocol Negotiation Extension</cite></a>. July 2014. Proposed Standard. URL: <a href="https://www.rfc-editor.org/rfc/rfc7301">https://www.rfc-editor.org/rfc/rfc7301</a>
   <dt id="biblio-rfc8446">[RFC8446]
   <dd>E. Rescorla. <a href="https://www.rfc-editor.org/rfc/rfc8446"><cite>The Transport Layer Security (TLS) Protocol Version 1.3</cite></a>. August 2018. Proposed Standard. URL: <a href="https://www.rfc-editor.org/rfc/rfc8446">https://www.rfc-editor.org/rfc/rfc8446</a>
  </dl>
  <h2 class="no-num no-ref heading settled" id="idl-index"><span class="content">IDL Index</span><a class="self-link" href="#idl-index"></a></h2>
<pre class="idl highlight def"><c- b>interface</c-> <c- b>mixin</c-> <a href="#unidirectionalstreamstransport"><code><c- g>UnidirectionalStreamsTransport</c-></code></a> {
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise"><c- b>Promise</c-></a>&lt;<a data-link-type="idl-name" href="#sendstream"><c- n>SendStream</c-></a>> <a class="idl-code" data-link-type="method" href="#dom-unidirectionalstreamstransport-createunidirectionalstream"><c- g>createUnidirectionalStream</c-></a>(<c- b>optional</c-> <a data-link-type="idl-name" href="#dictdef-sendstreamparameters"><c- n>SendStreamParameters</c-></a> <a href="#dom-unidirectionalstreamstransport-createunidirectionalstream-parameters-parameters"><code><c- g>parameters</c-></code></a> = {});
  /* a ReadableStream of ReceiveStream objects */
  <c- b>readonly</c-> <c- b>attribute</c-> <a data-link-type="idl-name" href="https://streams.spec.whatwg.org/#readablestream"><c- n>ReadableStream</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="ReadableStream" href="#dom-unidirectionalstreamstransport-incomingunidirectionalstreams"><c- g>incomingUnidirectionalStreams</c-></a>;
};

<c- b>dictionary</c-> <a class="idl-code" data-link-type="dictionary" href="#dictdef-sendstreamparameters"><c- g>SendStreamParameters</c-></a> {
};

<c- b>interface</c-> <c- b>mixin</c-> <a href="#bidirectionalstreamstransport"><code><c- g>BidirectionalStreamsTransport</c-></code></a> {
    <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise"><c- b>Promise</c-></a>&lt;<a data-link-type="idl-name" href="#bidirectionalstream"><c- n>BidirectionalStream</c-></a>> <a class="idl-code" data-link-type="method" href="#dom-bidirectionalstreamstransport-createbidirectionalstream"><c- g>createBidirectionalStream</c-></a>();
    /* a ReadableStream of BidirectionalStream objects */
    <c- b>readonly</c-> <c- b>attribute</c-> <a data-link-type="idl-name" href="https://streams.spec.whatwg.org/#readablestream"><c- n>ReadableStream</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="ReadableStream" href="#dom-bidirectionalstreamstransport-incomingbidirectionalstreams"><c- g>incomingBidirectionalStreams</c-></a>;
};

<c- b>interface</c-> <c- b>mixin</c-> <a class="idl-code" data-link-type="interface" href="#datagramtransport"><c- g>DatagramTransport</c-></a> {
    <c- b>readonly</c-> <c- b>attribute</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-unsigned-short"><c- b>unsigned</c-> <c- b>short</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="unsigned short" href="#dom-datagramtransport-maxdatagramsize"><c- g>maxDatagramSize</c-></a>;
    <c- b>readonly</c-> <c- b>attribute</c-> <a data-link-type="idl-name" href="#datagramduplexstream"><c- n>DatagramDuplexStream</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="DatagramDuplexStream" href="#dom-datagramtransport-datagrams"><c- g>datagrams</c-></a>;
};

[<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Exposed"><c- g>Exposed</c-></a>=(<c- n>Window</c->,<c- n>Worker</c->)]
<c- b>interface</c-> <a class="idl-code" data-link-type="interface" href="#datagramduplexstream"><c- g>DatagramDuplexStream</c-></a> {
  <c- b>readonly</c-> <c- b>attribute</c-> <a data-link-type="idl-name" href="https://streams.spec.whatwg.org/#readablestream"><c- n>ReadableStream</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="ReadableStream" href="#dom-datagramduplexstream-readable"><c- g>readable</c-></a>;
  <c- b>readonly</c-> <c- b>attribute</c-> <a data-link-type="idl-name" href="https://streams.spec.whatwg.org/#writablestream"><c- n>WritableStream</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="WritableStream" href="#dom-datagramduplexstream-writable"><c- g>writable</c-></a>;
};

[<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Exposed"><c- g>Exposed</c-></a>=(<c- n>Window</c->,<c- n>Worker</c->)]
<c- b>interface</c-> <a href="#webtransport"><code><c- g>WebTransport</c-></code></a> {
  <a href="#dom-webtransport-webtransport"><code><c- g>constructor</c-></code></a>(<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-USVString"><c- b>USVString</c-></a> <a href="#dom-webtransport-webtransport-url-options-url"><code><c- g>url</c-></code></a>, <c- b>optional</c-> <a data-link-type="idl-name" href="#dictdef-webtransportoptions"><c- n>WebTransportOptions</c-></a> <a href="#dom-webtransport-webtransport-url-options-options"><code><c- g>options</c-></code></a> = {});

  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise"><c- b>Promise</c-></a>&lt;<a data-link-type="idl-name" href="#dictdef-webtransportstats"><c- n>WebTransportStats</c-></a>> <a class="idl-code" data-link-type="method" href="#dom-webtransport-getstats"><c- g>getStats</c-></a>();
  <c- b>readonly</c-> <c- b>attribute</c-> <a data-link-type="idl-name" href="#enumdef-webtransportstate"><c- n>WebTransportState</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="WebTransportState" href="#dom-webtransport-state"><c- g>state</c-></a>;
  <c- b>readonly</c-> <c- b>attribute</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise"><c- b>Promise</c-></a>&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-undefined"><c- b>undefined</c-></a>> <a class="idl-code" data-link-type="attribute" data-readonly data-type="Promise<undefined>" href="#dom-webtransport-ready"><c- g>ready</c-></a>;
  <c- b>readonly</c-> <c- b>attribute</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise"><c- b>Promise</c-></a>&lt;<a data-link-type="idl-name" href="#dictdef-webtransportcloseinfo"><c- n>WebTransportCloseInfo</c-></a>> <a class="idl-code" data-link-type="attribute" data-readonly data-type="Promise<WebTransportCloseInfo>" href="#dom-webtransport-closed"><c- g>closed</c-></a>;
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-undefined"><c- b>undefined</c-></a> <a class="idl-code" data-link-type="method" href="#dom-webtransport-close"><c- g>close</c-></a>(<c- b>optional</c-> <a data-link-type="idl-name" href="#dictdef-webtransportcloseinfo"><c- n>WebTransportCloseInfo</c-></a> <a href="#dom-webtransport-close-closeinfo-closeinfo"><code><c- g>closeInfo</c-></code></a> = {});
  <c- b>attribute</c-> <a data-link-type="idl-name" href="https://html.spec.whatwg.org/multipage/webappapis.html#eventhandler"><c- n>EventHandler</c-></a> <a class="idl-code" data-link-type="attribute" data-type="EventHandler" href="#dom-webtransport-onstatechange"><c- g>onstatechange</c-></a>;
};

<a data-link-type="idl-name" href="#webtransport"><c- n>WebTransport</c-></a> <c- b>includes</c-> <a data-link-type="idl-name" href="#unidirectionalstreamstransport"><c- n>UnidirectionalStreamsTransport</c-></a>;
<a data-link-type="idl-name" href="#webtransport"><c- n>WebTransport</c-></a> <c- b>includes</c-> <a data-link-type="idl-name" href="#bidirectionalstreamstransport"><c- n>BidirectionalStreamsTransport</c-></a>;
<a data-link-type="idl-name" href="#webtransport"><c- n>WebTransport</c-></a> <c- b>includes</c-> <a data-link-type="idl-name" href="#datagramtransport"><c- n>DatagramTransport</c-></a>;

<c- b>dictionary</c-> <a class="idl-code" data-link-type="dictionary" href="#dictdef-webtransportoptions"><c- g>WebTransportOptions</c-></a> {
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-boolean"><c- b>boolean</c-></a> <a class="idl-code" data-link-type="dict-member" data-type="boolean " href="#dom-webtransportoptions-allowpooling"><c- g>allowPooling</c-></a>;
  <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#idl-sequence"><c- b>sequence</c-></a>&lt;<a data-link-type="idl-name" href="https://w3c.github.io/webrtc-pc/#dom-rtcdtlsfingerprint"><c- n>RTCDtlsFingerprint</c-></a>> <a class="idl-code" data-link-type="dict-member" data-type="sequence<RTCDtlsFingerprint> " href="#dom-webtransportoptions-servercertificatefingerprints"><c- g>serverCertificateFingerprints</c-></a>;
};

<c- b>enum</c-> <a class="idl-code" data-link-type="enum" href="#enumdef-webtransportstate"><c- g>WebTransportState</c-></a> {
  <a class="idl-code" data-link-type="enum-value" href="#dom-webtransportstate-connecting"><c- s>"connecting"</c-></a>,
  <a class="idl-code" data-link-type="enum-value" href="#dom-webtransportstate-connected"><c- s>"connected"</c-></a>,
  <a class="idl-code" data-link-type="enum-value" href="#dom-webtransportstate-closed"><c- s>"closed"</c-></a>,
  <a class="idl-code" data-link-type="enum-value" href="#dom-webtransportstate-failed"><c- s>"failed"</c-></a>
};

<c- b>dictionary</c-> <a class="idl-code" data-link-type="dictionary" href="#dictdef-webtransportcloseinfo"><c- g>WebTransportCloseInfo</c-></a> {
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-unsigned-long-long"><c- b>unsigned</c-> <c- b>long</c-> <c- b>long</c-></a> <a class="idl-code" data-default="0" data-link-type="dict-member" data-type="unsigned long long " href="#dom-webtransportcloseinfo-errorcode"><c- g>errorCode</c-></a> = 0;
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString"><c- b>DOMString</c-></a> <a class="idl-code" data-default="&quot;&quot;" data-link-type="dict-member" data-type="DOMString " href="#dom-webtransportcloseinfo-reason"><c- g>reason</c-></a> = "";
};

<c- b>dictionary</c-> <a class="idl-code" data-link-type="dictionary" href="#dictdef-webtransportstats"><c- g>WebTransportStats</c-></a> {
  <a data-link-type="idl-name" href="https://w3c.github.io/hr-time/#dom-domhighrestimestamp"><c- n>DOMHighResTimeStamp</c-></a> <a class="idl-code" data-link-type="dict-member" data-type="DOMHighResTimeStamp " href="#dom-webtransportstats-timestamp"><c- g>timestamp</c-></a>;
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-unsigned-long-long"><c- b>unsigned</c-> <c- b>long</c-> <c- b>long</c-></a> <a class="idl-code" data-link-type="dict-member" data-type="unsigned long long " href="#dom-webtransportstats-bytessent"><c- g>bytesSent</c-></a>;
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-unsigned-long-long"><c- b>unsigned</c-> <c- b>long</c-> <c- b>long</c-></a> <a class="idl-code" data-link-type="dict-member" data-type="unsigned long long " href="#dom-webtransportstats-packetssent"><c- g>packetsSent</c-></a>;
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-unsigned-long"><c- b>unsigned</c-> <c- b>long</c-></a> <a class="idl-code" data-link-type="dict-member" data-type="unsigned long " href="#dom-webtransportstats-numoutgoingstreamscreated"><c- g>numOutgoingStreamsCreated</c-></a>;
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-unsigned-long"><c- b>unsigned</c-> <c- b>long</c-></a> <a class="idl-code" data-link-type="dict-member" data-type="unsigned long " href="#dom-webtransportstats-numincomingstreamscreated"><c- g>numIncomingStreamsCreated</c-></a>;
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-unsigned-long-long"><c- b>unsigned</c-> <c- b>long</c-> <c- b>long</c-></a> <a class="idl-code" data-link-type="dict-member" data-type="unsigned long long " href="#dom-webtransportstats-bytesreceived"><c- g>bytesReceived</c-></a>;
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-unsigned-long-long"><c- b>unsigned</c-> <c- b>long</c-> <c- b>long</c-></a> <a class="idl-code" data-link-type="dict-member" data-type="unsigned long long " href="#dom-webtransportstats-packetsreceived"><c- g>packetsReceived</c-></a>;
  <a data-link-type="idl-name" href="https://w3c.github.io/hr-time/#dom-domhighrestimestamp"><c- n>DOMHighResTimeStamp</c-></a> <a class="idl-code" data-link-type="dict-member" data-type="DOMHighResTimeStamp " href="#dom-webtransportstats-minrtt"><c- g>minRtt</c-></a>;
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-unsigned-long"><c- b>unsigned</c-> <c- b>long</c-></a> <a class="idl-code" data-link-type="dict-member" data-type="unsigned long " href="#dom-webtransportstats-numreceiveddatagramsdropped"><c- g>numReceivedDatagramsDropped</c-></a>;
};

[ <a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Exposed"><c- g>Exposed</c-></a>=(<c- n>Window</c->,<c- n>Worker</c->) ]
<c- b>interface</c-> <a class="idl-code" data-link-type="interface" href="#sendstream"><c- g>SendStream</c-></a> : <a data-link-type="idl-name" href="https://streams.spec.whatwg.org/#writablestream"><c- n>WritableStream</c-></a> /* of Uint8Array */ {
  <c- b>readonly</c-> <c- b>attribute</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise"><c- b>Promise</c-></a>&lt;<a data-link-type="idl-name" href="#dictdef-streamabortinfo"><c- n>StreamAbortInfo</c-></a>> <a class="idl-code" data-link-type="attribute" data-readonly data-type="Promise<StreamAbortInfo>" href="#dom-sendstream-writingaborted"><c- g>writingAborted</c-></a>;
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-undefined"><c- b>undefined</c-></a> <a class="idl-code" data-link-type="method" href="#dom-sendstream-abortwriting"><c- g>abortWriting</c-></a>(<c- b>optional</c-> <a data-link-type="idl-name" href="#dictdef-streamabortinfo"><c- n>StreamAbortInfo</c-></a> <a href="#dom-sendstream-abortwriting-abortinfo-abortinfo"><code><c- g>abortInfo</c-></code></a> = {});
};

<c- b>dictionary</c-> <a class="idl-code" data-link-type="dictionary" href="#dictdef-streamabortinfo"><c- g>StreamAbortInfo</c-></a> {
  [<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#EnforceRange"><c- g>EnforceRange</c-></a>] <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-octet"><c- b>octet</c-></a> <a class="idl-code" data-default="0" data-link-type="dict-member" data-type="octet " href="#dom-streamabortinfo-errorcode"><c- g>errorCode</c-></a> = 0;
};

[ <a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Exposed"><c- g>Exposed</c-></a>=(<c- n>Window</c->,<c- n>Worker</c->) ]
<c- b>interface</c-> <a class="idl-code" data-link-type="interface" href="#receivestream"><c- g>ReceiveStream</c-></a> : <a data-link-type="idl-name" href="https://streams.spec.whatwg.org/#readablestream"><c- n>ReadableStream</c-></a> /* of Uint8Array */ {
  <c- b>readonly</c-> <c- b>attribute</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise"><c- b>Promise</c-></a>&lt;<a data-link-type="idl-name" href="#dictdef-streamabortinfo"><c- n>StreamAbortInfo</c-></a>> <a class="idl-code" data-link-type="attribute" data-readonly data-type="Promise<StreamAbortInfo>" href="#dom-receivestream-readingaborted"><c- g>readingAborted</c-></a>;
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-undefined"><c- b>undefined</c-></a> <a class="idl-code" data-link-type="method" href="#dom-receivestream-abortreading"><c- g>abortReading</c-></a>(<c- b>optional</c-> <a data-link-type="idl-name" href="#dictdef-streamabortinfo"><c- n>StreamAbortInfo</c-></a> <a href="#dom-receivestream-abortreading-abortinfo-abortinfo"><code><c- g>abortInfo</c-></code></a> = {});
};

[ <a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Exposed"><c- g>Exposed</c-></a>=(<c- n>Window</c->,<c- n>Worker</c->) ]
<c- b>interface</c-> <a href="#bidirectionalstream"><code><c- g>BidirectionalStream</c-></code></a> {
  <c- b>readonly</c-> <c- b>attribute</c-> <a data-link-type="idl-name" href="#receivestream"><c- n>ReceiveStream</c-></a> <a data-readonly data-type="ReceiveStream" href="#dom-bidirectionalstream-readable"><code><c- g>readable</c-></code></a>;
  <c- b>readonly</c-> <c- b>attribute</c-> <a data-link-type="idl-name" href="#sendstream"><c- n>SendStream</c-></a> <a data-readonly data-type="SendStream" href="#dom-bidirectionalstream-writable"><code><c- g>writable</c-></code></a>;
};

</pre>
  <h2 class="no-num no-ref heading settled" id="issues-index"><span class="content">Issues Index</span><a class="self-link" href="#issues-index"></a></h2>
  <div style="counter-reset:issue">
   <div class="issue"> Reconsider the time period above.  We want it to be sufficiently large
that applications using this for ephemeral certificates can do so without
having to fight the clock skew, but small enough to discourage long-term use
without key rotation. <a class="issue-return" href="#issue-7e6950b7" title="Jump to section">↵</a></div>
   <div class="issue"> Now that quic-transport has been removed, this section needs to be
revised. Some of those are safe to expose for HTTP/2 and HTTP/3 connections
(like min-RTT), while most would either result in information disclosure
or are impossible to define for pooled connections. <a class="issue-return" href="#issue-29939a8a" title="Jump to section">↵</a></div>
  </div>
<script>/* Boilerplate: script-dfn-panel */
"use strict";
{
    // Functions, divided by link type, that wrap an autolink's
    // contents with the appropriate outer syntax.
    // Alternately, a string naming another type they format
    // the same as.
    const typeFormatters = {
        'dfn': (text) => `[=${text}=]`,
        'abstract-op': (text) => `[\$${text}\$]`,
        'value': (text) => `''${text}''`,
        'http-header': (text) => `[:${text}:]`,
        'idl': (text) => `{{${text}}}`,
        'interface': 'idl',
        'constructor': 'idl',
        'method': 'idl',
        'argument': 'idl',
        'attribute': 'idl',
        'callback': 'idl',
        'dictionary': 'idl',
        'dict-member': 'idl',
        'enum': 'idl',
        'enum-value': 'idl',
        'exception': 'idl',
        'const': 'idl',
        'typedef': 'idl',
        'stringifier': 'idl',
        'serializer': 'idl',
        'iterator': 'idl',
        'maplike': 'idl',
        'setlike': 'idl',
        'extended-attribute': 'idl',
        'event': 'idl',
        'element': (element) => `<{${element}}>`,
        'element-state': 'element',
        'element-attr': 'element',
        'attr-value': 'element',
        'scheme': 'dfn',
        'permission': 'dfn',
        'grammar': (text) => `${text} (within a <pre class=prod>)`,
        'type': (text)=> `<<${text}>>`,
        'property': (text) => `'${text}'`,
        'descriptor': 'property',
        'function': 'value',
        'at-rule': 'value',
        'selector': 'value',
    };
    const typesUsingFor = new Set(
        [
            "descriptor",
            "value",
            "element-attr",
            "attr-value",
            "element-state",
            "method",
            "constructor",
            "argument",
            "attribute",
            "const",
            "dict-member",
            "event",
            "enum-value",
            "stringifier",
            "serializer",
            "iterator",
            "maplike",
            "setlike",
            "state",
            "mode",
            "context",
            "facet",
        ],
    )
    const typesNotUsingFor = new Set(
        [
            "property",
            "element",
            "interface",
            "namespace",
            "callback",
            "dictionary",
            "enum",
            "exception",
            "typedef",
            "http-header",
            "permission",
        ],
    )
    function linkFormatterFromType(type) {
        const fnOrType = typeFormatters[type];
        if(typeof fnOrType === 'string') {
            // follow the alias
            return linkFormatterFromType(fnOrType);
        }
        return fnOrType;
    };

    function genLinkingSyntaxes(dfn) {
        if(dfn.tagName != "DFN") return;

        const type = dfn.getAttribute('data-dfn-type');
        if(!type) {
            console.log(`<dfn> doesn't have a data-dfn-type:`, dfn);
            return [];
        }

        // Return a function that wraps link text based on the type
        const linkFormatter = linkFormatterFromType(type);
        if(!linkFormatter) {
            console.log(`<dfn> has an unknown data-dfn-type:`, dfn);
            return [];
        }

        let ltAlts;
        if(dfn.hasAttribute('data-lt')) {
            ltAlts = dfn.getAttribute('data-lt')
                .split("|")
                .map(x=>x.trim());
        } else {
            ltAlts = [dfn.textContent.trim()];
        }
        if(type == "type") {
            // lt of "<foo>", but "foo" is the interior;
            // <<foo/bar>> is how you write it with a for,
            // not <foo/<bar>> or whatever.
            for(var i = 0; i < ltAlts.length; i++) {
                const lt = ltAlts[i];
                const match = /<(.*)>/.exec(lt);
                if(match) { ltAlts[i] = match[1]; }
            }
        }

        let forAlts;
        if(dfn.hasAttribute('data-dfn-for')) {
            forAlts = dfn.getAttribute('data-dfn-for')
                .split(",")
                .map(x=>x.trim());
        } else {
            forAlts = [''];
        }

        let linkingSyntaxes = [];
        if(!typesUsingFor.has(type)) {
            for(const lt of ltAlts) {
                linkingSyntaxes.push(linkFormatter(lt));
            }
        }
        if(!typesNotUsingFor.has(type)) {
            for(const f of forAlts) {
                linkingSyntaxes.push(linkFormatter(`${f}/${ltAlts[0]}`))
            }
        }
        return [
            mk.b({}, 'Possible linking syntaxes:'),
            mk.ul({},
                ...linkingSyntaxes.map(link => {
                    const copyLink = async () =>
                        await navigator.clipboard.writeText(link);
                    return mk.li({},
                        mk.div({ class: 'link-item' },
                            mk.button({
                                class: 'copy-icon', title: 'Copy',
                                type: 'button',
                                _onclick: copyLink,
                                tabindex: 0,
                            }, mk.span({ class: 'icon' }) ),
                            mk.span({}, link)
                        )
                    );
                })
            )
        ];
    }

    function genDfnPanel({ dfn, dfnID, url, dfnText, refSections, external }) {
        const dfnPanel = mk.aside({
            class: "dfn-panel",
            id: `infopanel-for-${dfnID}`,
            "data-for": dfnID,
            "aria-labelled-by":`infopaneltitle-for-${dfnID}`,
            },
            mk.span({id:`infopaneltitle-for-${dfnID}`, style:"display:none"},
                `Info about the '${dfnText}' ${external?"external":""} reference.`),
            mk.a({href:url, class:"dfn-link"}, url),
            mk.b({}, "Referenced in:"),
            mk.ul({},
                ...refSections.map(section=>
                    mk.li({},
                        ...section.refs.map((ref, refI)=>
                            [
                                mk.a({ href: `#${ref.id}` },
                                    (refI == 0) ? section.title : `(${refI + 1})`
                                ),
                                " ",
                            ]
                        ),
                    ),
                ),
            ),
            genLinkingSyntaxes(dfn),
        );
        dfnPanel.forDfn = dfn;
        if(!dfn) { console.log(dfnPanel); }
        return dfnPanel;
    }

    function genAllDfnPanels() {
        for(const panelData of Object.values(window.dfnpanelData)) {
            const dfnID = panelData.dfnID;
            const dfn = document.getElementById(dfnID);
            if(!dfn) {
                console.log(`Can't find dfn#${dfnID}.`, panelData);
                continue;
            }
            const panel = genDfnPanel({ ...panelData, dfn });
            append(document.body, panel);
            insertDfnPopupAction(panel)
        }
    }

    document.addEventListener("DOMContentLoaded", ()=>{
        genAllDfnPanels();

        document.body.addEventListener("click", (e) => {
            // If not handled already, just hide all dfn panels.
            hideAllDfnPanels();
        });
    })

    function hideAllDfnPanels() {
        // Turn off any currently "on" or "activated" panels.
        queryAll(".dfn-panel.on, .dfn-panel.activated").forEach(el=>hideDfnPanel(el));
    }

    function showDfnPanel(dfnPanel) {
        hideAllDfnPanels(); // Only display one at this time.

        const dfn = dfnPanel.forDfn;
        dfn.setAttribute("aria-expanded", "true");

        dfnPanel.classList.add("on");
        positionDfnPanel(dfnPanel);

        let tabIndex = 100;
        dfn.tabIndex = tabIndex++;
        // Increment tabindex for each anchor and button tags in panel
        const tabbable = dfnPanel.querySelectorAll(":is(a, button)");
        for (const el of tabbable) {
            el.tabIndex = tabIndex++;
        }
    }

    function positionDfnPanel(dfnPanel) {
        const dfn = dfnPanel.forDfn;
        const dfnPos = getRootLevelAbsolutePosition(dfn);
        dfnPanel.style.top = dfnPos.bottom + "px";
        dfnPanel.style.left = dfnPos.left + "px";

        const panelPos = dfnPanel.getBoundingClientRect();
        const panelMargin = 8;
        const maxRight = document.body.parentNode.clientWidth - panelMargin;
        if (panelPos.right > maxRight) {
            const overflowAmount = panelPos.right - maxRight;
            const newLeft = Math.max(panelMargin, dfnPos.left - overflowAmount);
            dfnPanel.style.left = newLeft + "px";
        }}

    function pinDfnPanel(dfnPanel) {
        // Switch it to "activated" state, which pins it.
        dfnPanel.classList.add("activated");
        dfnPanel.style.position = "fixed";
        dfnPanel.style.left = null;
        dfnPanel.style.top = null;
    }

    function hideDfnPanel(dfnPanel) {
        const dfn = dfnPanel.forDfn;
        dfn.setAttribute("aria-expanded", "false");
        dfn.tabIndex = undefined;
        dfnPanel.style.position = "absolute"; // unfix it
        dfnPanel.classList.remove("on");
        dfnPanel.classList.remove("activated");
    }

    function toggleDfnPanel(dfnPanel) {
        if(dfnPanel.classList.contains("on")) {
            hideDfnPanel(dfnPanel);
        } else {
            showDfnPanel(dfnPanel);
        }
    }

    function insertDfnPopupAction(dfnPanel) {
        const dfn = dfnPanel.forDfn;
        dfn.setAttribute('role', 'button');
        dfn.setAttribute('aria-expanded', 'false')
        dfn.tabIndex = 0;
        dfn.classList.add('has-dfn-panel');
        dfn.addEventListener('click', (event) => {
            showDfnPanel(dfnPanel);
            event.stopPropagation();
        });
        dfn.addEventListener('keypress', (event) => {
            const kc = event.keyCode;
            // 32->Space, 13->Enter
            if(kc == 32 || kc == 13) {
                toggleDfnPanel(dfnPanel);
                event.stopPropagation();
                event.preventDefault();
            }
        });

        dfnPanel.addEventListener('click', (event) => {
            if (event.target.nodeName == 'A') {
                scrollToTargetAndHighlight(event);
                pinDfnPanel(dfnPanel);
            }
            event.stopPropagation();
            refocusOnTarget(event);
        });

        dfnPanel.addEventListener('keydown', (event) => {
            if(event.keyCode == 27) { // Escape key
                hideDfnPanel(dfnPanel, dfn);
                event.stopPropagation();
                event.preventDefault();
            }
        })
    }

    function refocusOnTarget(event) {
        const target = event.target;
        setTimeout(() => {
            // Refocus on the event.target element.
            // This is needed after browser scrolls to the destination.
            target.focus();
        });
    }

    // Returns the root-level absolute position {left and top} of element.
    function getRootLevelAbsolutePosition(el) {
        const boundsRect = el.getBoundingClientRect();
        let xPos = 0;
        let yPos = 0;

        while (el) {
            let xScroll = el.scrollLeft;
            let yScroll = el.scrollTop;

            // Ignore scrolling of body.
            if (el.tagName === "BODY") {
                xScroll = 0;
                yScroll = 0;
            }
            xPos += (el.offsetLeft - xScroll + el.clientLeft);
            yPos += (el.offsetTop - yScroll + el.clientTop);

            el = el.offsetParent;
        }
        return {
            left: xPos,
            top: yPos,
            right: xPos + boundsRect.width,
            bottom: yPos + boundsRect.height,
        };
    }

    function scrolledIntoView(element) {
        const rect = element.getBoundingClientRect();
        return (
            rect.top > 0 &&
            rect.bottom < window.innerHeight
        );
    }

    function scrollToTargetAndHighlight(event) {
        let hash = event.target.hash;
        if (hash) {
            hash = decodeURIComponent(hash.substring(1));
            const dest = document.getElementById(hash);
            if (dest) {
                // Maybe prevent default scroll.
                if (scrolledIntoView(dest)) {
                    event.preventDefault();
                }
                dest.classList.add('highlighted');
                setTimeout(() => dest.classList.remove('highlighted'), 1000);
            }
        }
    }

    window.addEventListener("resize", () => {
        // Pin any visible dfn panel
        queryAll(".dfn-panel.on, .dfn-panel.activated").forEach(el=>positionDfnPanel(el));
    });
}
</script>
<script>/* Boilerplate: script-dfn-panel-json */
window.dfnpanelData = {};
window.dfnpanelData['26b82890'] = {"dfnID": "26b82890", "url": "https://dom.spec.whatwg.org/#concept-event", "dfnText": "event", "refSections": [{"refs": [{"id": "ref-for-concept-event"}], "title": "3. Terminology"}], "external": true};
window.dfnpanelData['4aa3c96c'] = {"dfnID": "4aa3c96c", "url": "http://www.ecma-international.org/ecma-262/6.0/index.html#sec-promise-objects", "dfnText": "fulfilled", "refSections": [{"refs": [{"id": "ref-for-sec-promise-objects"}, {"id": "ref-for-sec-promise-objects\u2460"}, {"id": "ref-for-sec-promise-objects\u2461"}, {"id": "ref-for-sec-promise-objects\u2462"}, {"id": "ref-for-sec-promise-objects\u2463"}], "title": "3. Terminology"}, {"refs": [{"id": "ref-for-sec-promise-objects\u2464"}, {"id": "ref-for-sec-promise-objects\u2465"}, {"id": "ref-for-sec-promise-objects\u2466"}, {"id": "ref-for-sec-promise-objects\u2467"}], "title": "4.1. Methods"}, {"refs": [{"id": "ref-for-sec-promise-objects\u2468"}, {"id": "ref-for-sec-promise-objects\u2460\u24ea"}, {"id": "ref-for-sec-promise-objects\u2460\u2460"}, {"id": "ref-for-sec-promise-objects\u2460\u2461"}], "title": "5.1. Methods"}, {"refs": [{"id": "ref-for-sec-promise-objects\u2460\u2462"}, {"id": "ref-for-sec-promise-objects\u2460\u2463"}, {"id": "ref-for-sec-promise-objects\u2460\u2464"}], "title": "6.2. Procedures"}, {"refs": [{"id": "ref-for-sec-promise-objects\u2460\u2465"}], "title": "8.3. Attributes"}, {"refs": [{"id": "ref-for-sec-promise-objects\u2460\u2466"}], "title": "8.4. Methods"}, {"refs": [{"id": "ref-for-sec-promise-objects\u2460\u2467"}, {"id": "ref-for-sec-promise-objects\u2460\u2468"}], "title": "9.2. Attributes"}, {"refs": [{"id": "ref-for-sec-promise-objects\u2461\u24ea"}, {"id": "ref-for-sec-promise-objects\u2461\u2460"}], "title": "10.2. Attributes"}], "external": true};
window.dfnpanelData['6a26f4a8'] = {"dfnID": "6a26f4a8", "url": "http://www.ecma-international.org/ecma-262/6.0/index.html#sec-promise-objects", "dfnText": "pending", "refSections": [{"refs": [{"id": "ref-for-sec-promise-objects"}, {"id": "ref-for-sec-promise-objects\u2460"}, {"id": "ref-for-sec-promise-objects\u2461"}, {"id": "ref-for-sec-promise-objects\u2462"}, {"id": "ref-for-sec-promise-objects\u2463"}], "title": "3. Terminology"}, {"refs": [{"id": "ref-for-sec-promise-objects\u2464"}, {"id": "ref-for-sec-promise-objects\u2465"}, {"id": "ref-for-sec-promise-objects\u2466"}, {"id": "ref-for-sec-promise-objects\u2467"}], "title": "4.1. Methods"}, {"refs": [{"id": "ref-for-sec-promise-objects\u2468"}, {"id": "ref-for-sec-promise-objects\u2460\u24ea"}, {"id": "ref-for-sec-promise-objects\u2460\u2460"}, {"id": "ref-for-sec-promise-objects\u2460\u2461"}], "title": "5.1. Methods"}, {"refs": [{"id": "ref-for-sec-promise-objects\u2460\u2462"}, {"id": "ref-for-sec-promise-objects\u2460\u2463"}, {"id": "ref-for-sec-promise-objects\u2460\u2464"}], "title": "6.2. Procedures"}, {"refs": [{"id": "ref-for-sec-promise-objects\u2460\u2465"}], "title": "8.3. Attributes"}, {"refs": [{"id": "ref-for-sec-promise-objects\u2460\u2466"}], "title": "8.4. Methods"}, {"refs": [{"id": "ref-for-sec-promise-objects\u2460\u2467"}, {"id": "ref-for-sec-promise-objects\u2460\u2468"}], "title": "9.2. Attributes"}, {"refs": [{"id": "ref-for-sec-promise-objects\u2461\u24ea"}, {"id": "ref-for-sec-promise-objects\u2461\u2460"}], "title": "10.2. Attributes"}], "external": true};
window.dfnpanelData['e9e7a885'] = {"dfnID": "e9e7a885", "url": "http://www.ecma-international.org/ecma-262/6.0/index.html#sec-promise-objects", "dfnText": "rejected", "refSections": [{"refs": [{"id": "ref-for-sec-promise-objects"}, {"id": "ref-for-sec-promise-objects\u2460"}, {"id": "ref-for-sec-promise-objects\u2461"}, {"id": "ref-for-sec-promise-objects\u2462"}, {"id": "ref-for-sec-promise-objects\u2463"}], "title": "3. Terminology"}, {"refs": [{"id": "ref-for-sec-promise-objects\u2464"}, {"id": "ref-for-sec-promise-objects\u2465"}, {"id": "ref-for-sec-promise-objects\u2466"}, {"id": "ref-for-sec-promise-objects\u2467"}], "title": "4.1. Methods"}, {"refs": [{"id": "ref-for-sec-promise-objects\u2468"}, {"id": "ref-for-sec-promise-objects\u2460\u24ea"}, {"id": "ref-for-sec-promise-objects\u2460\u2460"}, {"id": "ref-for-sec-promise-objects\u2460\u2461"}], "title": "5.1. Methods"}, {"refs": [{"id": "ref-for-sec-promise-objects\u2460\u2462"}, {"id": "ref-for-sec-promise-objects\u2460\u2463"}, {"id": "ref-for-sec-promise-objects\u2460\u2464"}], "title": "6.2. Procedures"}, {"refs": [{"id": "ref-for-sec-promise-objects\u2460\u2465"}], "title": "8.3. Attributes"}, {"refs": [{"id": "ref-for-sec-promise-objects\u2460\u2466"}], "title": "8.4. Methods"}, {"refs": [{"id": "ref-for-sec-promise-objects\u2460\u2467"}, {"id": "ref-for-sec-promise-objects\u2460\u2468"}], "title": "9.2. Attributes"}, {"refs": [{"id": "ref-for-sec-promise-objects\u2461\u24ea"}, {"id": "ref-for-sec-promise-objects\u2461\u2460"}], "title": "10.2. Attributes"}], "external": true};
window.dfnpanelData['e64f2090'] = {"dfnID": "e64f2090", "url": "http://www.ecma-international.org/ecma-262/6.0/index.html#sec-promise-objects", "dfnText": "resolved", "refSections": [{"refs": [{"id": "ref-for-sec-promise-objects"}, {"id": "ref-for-sec-promise-objects\u2460"}, {"id": "ref-for-sec-promise-objects\u2461"}, {"id": "ref-for-sec-promise-objects\u2462"}, {"id": "ref-for-sec-promise-objects\u2463"}], "title": "3. Terminology"}, {"refs": [{"id": "ref-for-sec-promise-objects\u2464"}, {"id": "ref-for-sec-promise-objects\u2465"}, {"id": "ref-for-sec-promise-objects\u2466"}, {"id": "ref-for-sec-promise-objects\u2467"}], "title": "4.1. Methods"}, {"refs": [{"id": "ref-for-sec-promise-objects\u2468"}, {"id": "ref-for-sec-promise-objects\u2460\u24ea"}, {"id": "ref-for-sec-promise-objects\u2460\u2460"}, {"id": "ref-for-sec-promise-objects\u2460\u2461"}], "title": "5.1. Methods"}, {"refs": [{"id": "ref-for-sec-promise-objects\u2460\u2462"}, {"id": "ref-for-sec-promise-objects\u2460\u2463"}, {"id": "ref-for-sec-promise-objects\u2460\u2464"}], "title": "6.2. Procedures"}, {"refs": [{"id": "ref-for-sec-promise-objects\u2460\u2465"}], "title": "8.3. Attributes"}, {"refs": [{"id": "ref-for-sec-promise-objects\u2460\u2466"}], "title": "8.4. Methods"}, {"refs": [{"id": "ref-for-sec-promise-objects\u2460\u2467"}, {"id": "ref-for-sec-promise-objects\u2460\u2468"}], "title": "9.2. Attributes"}, {"refs": [{"id": "ref-for-sec-promise-objects\u2461\u24ea"}, {"id": "ref-for-sec-promise-objects\u2461\u2460"}], "title": "10.2. Attributes"}], "external": true};
window.dfnpanelData['dbb8f07d'] = {"dfnID": "dbb8f07d", "url": "http://www.ecma-international.org/ecma-262/6.0/index.html#sec-promise-objects", "dfnText": "settled", "refSections": [{"refs": [{"id": "ref-for-sec-promise-objects"}, {"id": "ref-for-sec-promise-objects\u2460"}, {"id": "ref-for-sec-promise-objects\u2461"}, {"id": "ref-for-sec-promise-objects\u2462"}, {"id": "ref-for-sec-promise-objects\u2463"}], "title": "3. Terminology"}, {"refs": [{"id": "ref-for-sec-promise-objects\u2464"}, {"id": "ref-for-sec-promise-objects\u2465"}, {"id": "ref-for-sec-promise-objects\u2466"}, {"id": "ref-for-sec-promise-objects\u2467"}], "title": "4.1. Methods"}, {"refs": [{"id": "ref-for-sec-promise-objects\u2468"}, {"id": "ref-for-sec-promise-objects\u2460\u24ea"}, {"id": "ref-for-sec-promise-objects\u2460\u2460"}, {"id": "ref-for-sec-promise-objects\u2460\u2461"}], "title": "5.1. Methods"}, {"refs": [{"id": "ref-for-sec-promise-objects\u2460\u2462"}, {"id": "ref-for-sec-promise-objects\u2460\u2463"}, {"id": "ref-for-sec-promise-objects\u2460\u2464"}], "title": "6.2. Procedures"}, {"refs": [{"id": "ref-for-sec-promise-objects\u2460\u2465"}], "title": "8.3. Attributes"}, {"refs": [{"id": "ref-for-sec-promise-objects\u2460\u2466"}], "title": "8.4. Methods"}, {"refs": [{"id": "ref-for-sec-promise-objects\u2460\u2467"}, {"id": "ref-for-sec-promise-objects\u2460\u2468"}], "title": "9.2. Attributes"}, {"refs": [{"id": "ref-for-sec-promise-objects\u2461\u24ea"}, {"id": "ref-for-sec-promise-objects\u2461\u2460"}], "title": "10.2. Attributes"}], "external": true};
window.dfnpanelData['1e249f40'] = {"dfnID": "1e249f40", "url": "https://encoding.spec.whatwg.org/#textdecoderstream", "dfnText": "TextDecoderStream", "refSections": [{"refs": [{"id": "ref-for-textdecoderstream"}], "title": "14.5. Receiving incoming streams"}], "external": true};
window.dfnpanelData['417f81da'] = {"dfnID": "417f81da", "url": "https://encoding.spec.whatwg.org/#textencoderstream", "dfnText": "TextEncoderStream", "refSections": [{"refs": [{"id": "ref-for-textencoderstream"}], "title": "14.4. Sending a stream"}], "external": true};
window.dfnpanelData['697965b2'] = {"dfnID": "697965b2", "url": "https://fetch.spec.whatwg.org/#concept-connection", "dfnText": "connection", "refSections": [{"refs": [{"id": "ref-for-concept-connection"}], "title": "8.1. Internal slots"}], "external": true};
window.dfnpanelData['86ba8c0f'] = {"dfnID": "86ba8c0f", "url": "https://fetch.spec.whatwg.org/#determine-the-network-partition-key", "dfnText": "determine the network partition key", "refSections": [{"refs": [{"id": "ref-for-determine-the-network-partition-key"}], "title": "8.2. Constructor"}], "external": true};
window.dfnpanelData['a33db89a'] = {"dfnID": "a33db89a", "url": "https://fetch.spec.whatwg.org/#concept-fetch", "dfnText": "fetch", "refSections": [{"refs": [{"id": "ref-for-concept-fetch"}], "title": "8.5. Configuration"}], "external": true};
window.dfnpanelData['d09d0dcd'] = {"dfnID": "d09d0dcd", "url": "https://fetch.spec.whatwg.org/#obtain-a-connection-http3only", "dfnText": "http3only", "refSections": [{"refs": [{"id": "ref-for-obtain-a-connection-http3only"}], "title": "8.2. Constructor"}], "external": true};
window.dfnpanelData['8e1fb11c'] = {"dfnID": "8e1fb11c", "url": "https://fetch.spec.whatwg.org/#concept-connection-obtain", "dfnText": "obtain a connection", "refSections": [{"refs": [{"id": "ref-for-concept-connection-obtain"}], "title": "8.2. Constructor"}], "external": true};
window.dfnpanelData['0e9f636b'] = {"dfnID": "0e9f636b", "url": "https://w3c.github.io/hr-time/#dom-domhighrestimestamp", "dfnText": "DOMHighResTimeStamp", "refSections": [{"refs": [{"id": "ref-for-dom-domhighrestimestamp"}, {"id": "ref-for-dom-domhighrestimestamp\u2460"}, {"id": "ref-for-dom-domhighrestimestamp\u2461"}, {"id": "ref-for-dom-domhighrestimestamp\u2462"}], "title": "8.8. WebTransportStats Dictionary"}], "external": true};
window.dfnpanelData['ccfe986b'] = {"dfnID": "ccfe986b", "url": "https://html.spec.whatwg.org/multipage/webappapis.html#errorevent", "dfnText": "ErrorEvent", "refSections": [{"refs": [{"id": "ref-for-errorevent"}], "title": "3. Terminology"}], "external": true};
window.dfnpanelData['f0951476'] = {"dfnID": "f0951476", "url": "https://html.spec.whatwg.org/multipage/webappapis.html#eventhandler", "dfnText": "EventHandler", "refSections": [{"refs": [{"id": "ref-for-eventhandler"}], "title": "3. Terminology"}, {"refs": [{"id": "ref-for-eventhandler\u2460"}], "title": "8. WebTransport Interface"}, {"refs": [{"id": "ref-for-eventhandler\u2461"}], "title": "8.3. Attributes"}], "external": true};
window.dfnpanelData['6a5a59a0'] = {"dfnID": "6a5a59a0", "url": "https://html.spec.whatwg.org/multipage/webappapis.html#event-handlers", "dfnText": "event handler", "refSections": [{"refs": [{"id": "ref-for-event-handlers"}], "title": "3. Terminology"}], "external": true};
window.dfnpanelData['9d386f55'] = {"dfnID": "9d386f55", "url": "https://html.spec.whatwg.org/multipage/webappapis.html#event-handler-event-type", "dfnText": "event handler event type", "refSections": [{"refs": [{"id": "ref-for-event-handler-event-type"}], "title": "3. Terminology"}], "external": true};
window.dfnpanelData['a72449dd'] = {"dfnID": "a72449dd", "url": "https://html.spec.whatwg.org/multipage/infrastructure.html#in-parallel", "dfnText": "in parallel", "refSections": [{"refs": [{"id": "ref-for-in-parallel"}], "title": "4.1. Methods"}, {"refs": [{"id": "ref-for-in-parallel\u2460"}], "title": "5.1. Methods"}, {"refs": [{"id": "ref-for-in-parallel\u2461"}], "title": "8.2. Constructor"}, {"refs": [{"id": "ref-for-in-parallel\u2462"}], "title": "8.4. Methods"}], "external": true};
window.dfnpanelData['b6ae4501'] = {"dfnID": "b6ae4501", "url": "https://html.spec.whatwg.org/multipage/webappapis.html#networking-task-source", "dfnText": "networking task source", "refSections": [{"refs": [{"id": "ref-for-networking-task-source"}], "title": "3. Terminology"}], "external": true};
window.dfnpanelData['9a517a7d'] = {"dfnID": "9a517a7d", "url": "https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-task", "dfnText": "queue a task", "refSections": [{"refs": [{"id": "ref-for-queue-a-task"}], "title": "3. Terminology"}], "external": true};
window.dfnpanelData['9c4c1e66'] = {"dfnID": "9c4c1e66", "url": "https://html.spec.whatwg.org/multipage/webappapis.html#relevant-settings-object", "dfnText": "relevant settings object", "refSections": [{"refs": [{"id": "ref-for-relevant-settings-object"}], "title": "8.2. Constructor"}], "external": true};
window.dfnpanelData['860300d4'] = {"dfnID": "860300d4", "url": "https://infra.spec.whatwg.org/#implementation-defined", "dfnText": "implementation-defined", "refSections": [{"refs": [{"id": "ref-for-implementation-defined"}], "title": "6.2. Procedures"}, {"refs": [{"id": "ref-for-implementation-defined\u2460"}], "title": "8.2. Constructor"}], "external": true};
window.dfnpanelData['ed948033'] = {"dfnID": "ed948033", "url": "https://url.spec.whatwg.org/#concept-url-fragment", "dfnText": "fragment", "refSections": [{"refs": [{"id": "ref-for-concept-url-fragment"}], "title": "8.2. Constructor"}], "external": true};
window.dfnpanelData['959ad97b'] = {"dfnID": "959ad97b", "url": "https://url.spec.whatwg.org/#concept-url-origin", "dfnText": "origin", "refSections": [{"refs": [{"id": "ref-for-concept-url-origin"}], "title": "8.2. Constructor"}], "external": true};
window.dfnpanelData['3a711be7'] = {"dfnID": "3a711be7", "url": "https://url.spec.whatwg.org/#concept-url-scheme", "dfnText": "scheme", "refSections": [{"refs": [{"id": "ref-for-concept-url-scheme"}], "title": "8.2. Constructor"}], "external": true};
window.dfnpanelData['ca3ca4ae'] = {"dfnID": "ca3ca4ae", "url": "https://url.spec.whatwg.org/#concept-url-parser", "dfnText": "url parser", "refSections": [{"refs": [{"id": "ref-for-concept-url-parser"}], "title": "8.2. Constructor"}], "external": true};
window.dfnpanelData['a8c7461b'] = {"dfnID": "a8c7461b", "url": "https://url.spec.whatwg.org/#concept-url", "dfnText": "url record", "refSections": [{"refs": [{"id": "ref-for-concept-url"}, {"id": "ref-for-concept-url\u2460"}], "title": "8.2. Constructor"}], "external": true};
window.dfnpanelData['8855a9aa'] = {"dfnID": "8855a9aa", "url": "https://webidl.spec.whatwg.org/#idl-DOMString", "dfnText": "DOMString", "refSections": [{"refs": [{"id": "ref-for-idl-DOMString"}, {"id": "ref-for-idl-DOMString\u2460"}], "title": "8.7. WebTransportCloseInfo Dictionary"}], "external": true};
window.dfnpanelData['c01cbda0'] = {"dfnID": "c01cbda0", "url": "https://webidl.spec.whatwg.org/#EnforceRange", "dfnText": "EnforceRange", "refSections": [{"refs": [{"id": "ref-for-EnforceRange"}], "title": "9.4. StreamAbortInfo Dictionary"}], "external": true};
window.dfnpanelData['889e932f'] = {"dfnID": "889e932f", "url": "https://webidl.spec.whatwg.org/#Exposed", "dfnText": "Exposed", "refSections": [{"refs": [{"id": "ref-for-Exposed"}], "title": "7. DatagramDuplexStream Interface"}, {"refs": [{"id": "ref-for-Exposed\u2460"}], "title": "8. WebTransport Interface"}, {"refs": [{"id": "ref-for-Exposed\u2461"}], "title": "9. Interface SendStream"}, {"refs": [{"id": "ref-for-Exposed\u2462"}], "title": "10. Interface ReceiveStream"}, {"refs": [{"id": "ref-for-Exposed\u2463"}], "title": "11. Interface BidirectionalStream"}], "external": true};
window.dfnpanelData['797018a7'] = {"dfnID": "797018a7", "url": "https://webidl.spec.whatwg.org/#invalidstateerror", "dfnText": "InvalidStateError", "refSections": [{"refs": [{"id": "ref-for-invalidstateerror"}, {"id": "ref-for-invalidstateerror\u2460"}], "title": "4.1. Methods"}, {"refs": [{"id": "ref-for-invalidstateerror\u2461"}, {"id": "ref-for-invalidstateerror\u2462"}], "title": "5.1. Methods"}], "external": true};
window.dfnpanelData['3182eb71'] = {"dfnID": "3182eb71", "url": "https://webidl.spec.whatwg.org/#notsupportederror", "dfnText": "NotSupportedError", "refSections": [{"refs": [{"id": "ref-for-notsupportederror"}], "title": "8.4. Methods"}, {"refs": [{"id": "ref-for-notsupportederror\u2460"}], "title": "8.5. Configuration"}], "external": true};
window.dfnpanelData['bdbd19d1'] = {"dfnID": "bdbd19d1", "url": "https://webidl.spec.whatwg.org/#idl-promise", "dfnText": "Promise", "refSections": [{"refs": [{"id": "ref-for-idl-promise"}], "title": "4. UnidirectionalStreamsTransport Mixin"}, {"refs": [{"id": "ref-for-idl-promise\u2460"}], "title": "5. BidirectionalStreamsTransport Mixin"}, {"refs": [{"id": "ref-for-idl-promise\u2461"}, {"id": "ref-for-idl-promise\u2462"}, {"id": "ref-for-idl-promise\u2463"}], "title": "8. WebTransport Interface"}, {"refs": [{"id": "ref-for-idl-promise\u2464"}], "title": "9. Interface SendStream"}, {"refs": [{"id": "ref-for-idl-promise\u2465"}], "title": "10. Interface ReceiveStream"}], "external": true};
window.dfnpanelData['be2d2b4c'] = {"dfnID": "be2d2b4c", "url": "https://webidl.spec.whatwg.org/#syntaxerror", "dfnText": "SyntaxError", "refSections": [{"refs": [{"id": "ref-for-syntaxerror"}, {"id": "ref-for-syntaxerror\u2460"}, {"id": "ref-for-syntaxerror\u2461"}], "title": "8.2. Constructor"}], "external": true};
window.dfnpanelData['82ca3efc'] = {"dfnID": "82ca3efc", "url": "https://webidl.spec.whatwg.org/#exceptiondef-typeerror", "dfnText": "TypeError", "refSections": [{"refs": [{"id": "ref-for-exceptiondef-typeerror"}], "title": "6.2. Procedures"}, {"refs": [{"id": "ref-for-exceptiondef-typeerror\u2460"}, {"id": "ref-for-exceptiondef-typeerror\u2461"}, {"id": "ref-for-exceptiondef-typeerror\u2462"}, {"id": "ref-for-exceptiondef-typeerror\u2463"}], "title": "8.2. Constructor"}], "external": true};
window.dfnpanelData['b0d7f3c3'] = {"dfnID": "b0d7f3c3", "url": "https://webidl.spec.whatwg.org/#idl-USVString", "dfnText": "USVString", "refSections": [{"refs": [{"id": "ref-for-idl-USVString"}], "title": "8. WebTransport Interface"}], "external": true};
window.dfnpanelData['95d7775a'] = {"dfnID": "95d7775a", "url": "https://webidl.spec.whatwg.org/#idl-Uint8Array", "dfnText": "Uint8Array", "refSections": [{"refs": [{"id": "ref-for-idl-Uint8Array"}], "title": "6.2. Procedures"}, {"refs": [{"id": "ref-for-idl-Uint8Array\u2460"}], "title": "9. Interface SendStream"}, {"refs": [{"id": "ref-for-idl-Uint8Array\u2461"}], "title": "10. Interface ReceiveStream"}], "external": true};
window.dfnpanelData['d0b4a948'] = {"dfnID": "d0b4a948", "url": "https://webidl.spec.whatwg.org/#a-promise-rejected-with", "dfnText": "a promise rejected with", "refSections": [{"refs": [{"id": "ref-for-a-promise-rejected-with"}], "title": "6.2. Procedures"}], "external": true};
window.dfnpanelData['5372cca8'] = {"dfnID": "5372cca8", "url": "https://webidl.spec.whatwg.org/#idl-boolean", "dfnText": "boolean", "refSections": [{"refs": [{"id": "ref-for-idl-boolean"}, {"id": "ref-for-idl-boolean\u2460"}], "title": "8.5. Configuration"}], "external": true};
window.dfnpanelData['8c800cdf'] = {"dfnID": "8c800cdf", "url": "https://webidl.spec.whatwg.org/#idl-double", "dfnText": "double", "refSections": [{"refs": [{"id": "ref-for-idl-double"}], "title": "8.1. Internal slots"}], "external": true};
window.dfnpanelData['56f81a8e'] = {"dfnID": "56f81a8e", "url": "https://webidl.spec.whatwg.org/#new", "dfnText": "new", "refSections": [{"refs": [{"id": "ref-for-new"}], "title": "7. DatagramDuplexStream Interface"}], "external": true};
window.dfnpanelData['bc5645aa'] = {"dfnID": "bc5645aa", "url": "https://webidl.spec.whatwg.org/#idl-octet", "dfnText": "octet", "refSections": [{"refs": [{"id": "ref-for-idl-octet"}, {"id": "ref-for-idl-octet\u2460"}], "title": "9.4. StreamAbortInfo Dictionary"}], "external": true};
window.dfnpanelData['9cce47fd'] = {"dfnID": "9cce47fd", "url": "https://webidl.spec.whatwg.org/#idl-sequence", "dfnText": "sequence", "refSections": [{"refs": [{"id": "ref-for-idl-sequence"}], "title": "8.5. Configuration"}], "external": true};
window.dfnpanelData['4013a022'] = {"dfnID": "4013a022", "url": "https://webidl.spec.whatwg.org/#this", "dfnText": "this", "refSections": [{"refs": [{"id": "ref-for-this"}], "title": "6.1. Attributes"}, {"refs": [{"id": "ref-for-this\u2460"}, {"id": "ref-for-this\u2461"}], "title": "7.1. Attributes"}, {"refs": [{"id": "ref-for-this\u2462"}, {"id": "ref-for-this\u2463"}, {"id": "ref-for-this\u2464"}], "title": "8.3. Attributes"}], "external": true};
window.dfnpanelData['b4cfa5ce'] = {"dfnID": "b4cfa5ce", "url": "https://webidl.spec.whatwg.org/#dfn-throw", "dfnText": "throw", "refSections": [{"refs": [{"id": "ref-for-dfn-throw"}], "title": "3. Terminology"}, {"refs": [{"id": "ref-for-dfn-throw\u2460"}, {"id": "ref-for-dfn-throw\u2461"}, {"id": "ref-for-dfn-throw\u2462"}, {"id": "ref-for-dfn-throw\u2463"}], "title": "8.2. Constructor"}], "external": true};
window.dfnpanelData['5f90bbfb'] = {"dfnID": "5f90bbfb", "url": "https://webidl.spec.whatwg.org/#idl-undefined", "dfnText": "undefined", "refSections": [{"refs": [{"id": "ref-for-idl-undefined"}, {"id": "ref-for-idl-undefined\u2460"}], "title": "8. WebTransport Interface"}, {"refs": [{"id": "ref-for-idl-undefined\u2461"}, {"id": "ref-for-idl-undefined\u2462"}], "title": "8.2. Constructor"}, {"refs": [{"id": "ref-for-idl-undefined\u2463"}], "title": "8.3. Attributes"}, {"refs": [{"id": "ref-for-idl-undefined\u2464"}], "title": "9. Interface SendStream"}, {"refs": [{"id": "ref-for-idl-undefined\u2465"}], "title": "10. Interface ReceiveStream"}], "external": true};
window.dfnpanelData['e97a9688'] = {"dfnID": "e97a9688", "url": "https://webidl.spec.whatwg.org/#idl-unsigned-long", "dfnText": "unsigned long", "refSections": [{"refs": [{"id": "ref-for-idl-unsigned-long"}, {"id": "ref-for-idl-unsigned-long\u2460"}, {"id": "ref-for-idl-unsigned-long\u2461"}, {"id": "ref-for-idl-unsigned-long\u2462"}, {"id": "ref-for-idl-unsigned-long\u2463"}, {"id": "ref-for-idl-unsigned-long\u2464"}], "title": "8.8. WebTransportStats Dictionary"}], "external": true};
window.dfnpanelData['f14b47b8'] = {"dfnID": "f14b47b8", "url": "https://webidl.spec.whatwg.org/#idl-unsigned-long-long", "dfnText": "unsigned long long", "refSections": [{"refs": [{"id": "ref-for-idl-unsigned-long-long"}, {"id": "ref-for-idl-unsigned-long-long\u2460"}], "title": "8.7. WebTransportCloseInfo Dictionary"}, {"refs": [{"id": "ref-for-idl-unsigned-long-long\u2461"}, {"id": "ref-for-idl-unsigned-long-long\u2462"}, {"id": "ref-for-idl-unsigned-long-long\u2463"}, {"id": "ref-for-idl-unsigned-long-long\u2464"}, {"id": "ref-for-idl-unsigned-long-long\u2465"}, {"id": "ref-for-idl-unsigned-long-long\u2466"}, {"id": "ref-for-idl-unsigned-long-long\u2467"}, {"id": "ref-for-idl-unsigned-long-long\u2468"}], "title": "8.8. WebTransportStats Dictionary"}], "external": true};
window.dfnpanelData['450958f7'] = {"dfnID": "450958f7", "url": "https://webidl.spec.whatwg.org/#idl-unsigned-short", "dfnText": "unsigned short", "refSections": [{"refs": [{"id": "ref-for-idl-unsigned-short"}], "title": "6. DatagramTransport Mixin"}, {"refs": [{"id": "ref-for-idl-unsigned-short\u2460"}], "title": "6.1. Attributes"}], "external": true};
window.dfnpanelData['24bd7d25'] = {"dfnID": "24bd7d25", "url": "https://webidl.spec.whatwg.org/#upon-fulfillment", "dfnText": "upon fulfillment", "refSections": [{"refs": [{"id": "ref-for-upon-fulfillment"}], "title": "8.2. Constructor"}], "external": true};
window.dfnpanelData['f14ed351'] = {"dfnID": "f14ed351", "url": "https://webidl.spec.whatwg.org/#upon-rejection", "dfnText": "upon rejection", "refSections": [{"refs": [{"id": "ref-for-upon-rejection"}], "title": "8.2. Constructor"}], "external": true};
window.dfnpanelData['57ed85e6'] = {"dfnID": "57ed85e6", "url": "https://w3c.github.io/webrtc-pc/#dom-rtcdtlsfingerprint", "dfnText": "RTCDtlsFingerprint", "refSections": [{"refs": [{"id": "ref-for-dom-rtcdtlsfingerprint"}, {"id": "ref-for-dom-rtcdtlsfingerprint\u2460"}], "title": "8.5. Configuration"}], "external": true};
window.dfnpanelData['02054956'] = {"dfnID": "02054956", "url": "https://w3c.github.io/webrtc-pc/#dom-rtcdtlsfingerprint-algorithm", "dfnText": "algorithm", "refSections": [{"refs": [{"id": "ref-for-dom-rtcdtlsfingerprint-algorithm"}, {"id": "ref-for-dom-rtcdtlsfingerprint-algorithm\u2460"}], "title": "8.5. Configuration"}], "external": true};
window.dfnpanelData['8c97e3f6'] = {"dfnID": "8c97e3f6", "url": "https://w3c.github.io/webrtc-pc/#dom-rtcdtlsfingerprint-value", "dfnText": "value", "refSections": [{"refs": [{"id": "ref-for-dom-rtcdtlsfingerprint-value"}, {"id": "ref-for-dom-rtcdtlsfingerprint-value\u2460"}], "title": "8.5. Configuration"}], "external": true};
window.dfnpanelData['59ed4e57'] = {"dfnID": "59ed4e57", "url": "https://streams.spec.whatwg.org/#readablestream", "dfnText": "ReadableStream", "refSections": [{"refs": [{"id": "ref-for-readablestream"}], "title": "3. Terminology"}, {"refs": [{"id": "ref-for-readablestream\u2460"}], "title": "4. UnidirectionalStreamsTransport Mixin"}, {"refs": [{"id": "ref-for-readablestream\u2461"}, {"id": "ref-for-readablestream\u2462"}], "title": "4.1. Methods"}, {"refs": [{"id": "ref-for-readablestream\u2463"}], "title": "5. BidirectionalStreamsTransport Mixin"}, {"refs": [{"id": "ref-for-readablestream\u2464"}, {"id": "ref-for-readablestream\u2465"}], "title": "5.1. Methods"}, {"refs": [{"id": "ref-for-readablestream\u2466"}], "title": "6.1. Attributes"}, {"refs": [{"id": "ref-for-readablestream\u2467"}], "title": "7. DatagramDuplexStream Interface"}, {"refs": [{"id": "ref-for-readablestream\u2468"}], "title": "7.1. Attributes"}, {"refs": [{"id": "ref-for-readablestream\u2460\u24ea"}, {"id": "ref-for-readablestream\u2460\u2460"}], "title": "8.1. Internal slots"}, {"refs": [{"id": "ref-for-readablestream\u2460\u2461"}, {"id": "ref-for-readablestream\u2460\u2462"}, {"id": "ref-for-readablestream\u2460\u2463"}], "title": "8.2. Constructor"}, {"refs": [{"id": "ref-for-readablestream\u2460\u2464"}, {"id": "ref-for-readablestream\u2460\u2465"}, {"id": "ref-for-readablestream\u2460\u2466"}, {"id": "ref-for-readablestream\u2460\u2467"}], "title": "8.6. WebTransportState Enum"}, {"refs": [{"id": "ref-for-readablestream\u2460\u2468"}, {"id": "ref-for-readablestream\u2461\u24ea"}], "title": "10. Interface ReceiveStream"}, {"refs": [{"id": "ref-for-readablestream\u2461\u2460"}], "title": "10.1. Overview"}, {"refs": [{"id": "ref-for-readablestream\u2461\u2461"}], "title": "14.4. Sending a stream"}], "external": true};
window.dfnpanelData['59dc45b5'] = {"dfnID": "59dc45b5", "url": "https://streams.spec.whatwg.org/#writablestream", "dfnText": "WritableStream", "refSections": [{"refs": [{"id": "ref-for-writablestream"}], "title": "3. Terminology"}, {"refs": [{"id": "ref-for-writablestream\u2460"}], "title": "6.1. Attributes"}, {"refs": [{"id": "ref-for-writablestream\u2461"}], "title": "6.2. Procedures"}, {"refs": [{"id": "ref-for-writablestream\u2462"}], "title": "7. DatagramDuplexStream Interface"}, {"refs": [{"id": "ref-for-writablestream\u2463"}], "title": "7.1. Attributes"}, {"refs": [{"id": "ref-for-writablestream\u2464"}], "title": "8.2. Constructor"}, {"refs": [{"id": "ref-for-writablestream\u2465"}, {"id": "ref-for-writablestream\u2466"}], "title": "9. Interface SendStream"}, {"refs": [{"id": "ref-for-writablestream\u2467"}], "title": "9.1. Overview"}], "external": true};
window.dfnpanelData['6b6bb798'] = {"dfnID": "6b6bb798", "url": "https://streams.spec.whatwg.org/#readablestream-enqueue", "dfnText": "enqueue", "refSections": [{"refs": [{"id": "ref-for-readablestream-enqueue"}], "title": "6.2. Procedures"}], "external": true};
window.dfnpanelData['c93cffd2'] = {"dfnID": "c93cffd2", "url": "https://streams.spec.whatwg.org/#high-water-mark", "dfnText": "high water mark", "refSections": [{"refs": [{"id": "ref-for-high-water-mark"}], "title": "8.1. Internal slots"}], "external": true};
window.dfnpanelData['52296420'] = {"dfnID": "52296420", "url": "https://streams.spec.whatwg.org/#default-writer-ready", "dfnText": "ready", "refSections": [{"refs": [{"id": "ref-for-default-writer-ready"}], "title": "6.2. Procedures"}], "external": true};
window.dfnpanelData['unidirectionalstreamstransport'] = {"dfnID": "unidirectionalstreamstransport", "url": "#unidirectionalstreamstransport", "dfnText": "UnidirectionalStreamsTransport", "refSections": [{"refs": [{"id": "ref-for-unidirectionalstreamstransport"}], "title": "4. UnidirectionalStreamsTransport Mixin"}, {"refs": [{"id": "ref-for-unidirectionalstreamstransport\u2460"}, {"id": "ref-for-unidirectionalstreamstransport\u2461"}], "title": "8. WebTransport Interface"}], "external": false};
window.dfnpanelData['dom-unidirectionalstreamstransport-createunidirectionalstream'] = {"dfnID": "dom-unidirectionalstreamstransport-createunidirectionalstream", "url": "#dom-unidirectionalstreamstransport-createunidirectionalstream", "dfnText": "createUnidirectionalStream()", "refSections": [{"refs": [{"id": "ref-for-dom-unidirectionalstreamstransport-createunidirectionalstream"}], "title": "4. UnidirectionalStreamsTransport Mixin"}, {"refs": [{"id": "ref-for-dom-unidirectionalstreamstransport-createunidirectionalstream\u2460"}], "title": "14.4. Sending a stream"}], "external": false};
window.dfnpanelData['dom-unidirectionalstreamstransport-incomingunidirectionalstreams'] = {"dfnID": "dom-unidirectionalstreamstransport-incomingunidirectionalstreams", "url": "#dom-unidirectionalstreamstransport-incomingunidirectionalstreams", "dfnText": "incomingUnidirectionalStreams", "refSections": [{"refs": [{"id": "ref-for-dom-unidirectionalstreamstransport-incomingunidirectionalstreams"}], "title": "4. UnidirectionalStreamsTransport Mixin"}, {"refs": [{"id": "ref-for-dom-unidirectionalstreamstransport-incomingunidirectionalstreams\u2460"}], "title": "14.5. Receiving incoming streams"}], "external": false};
window.dfnpanelData['sendstream-create'] = {"dfnID": "sendstream-create", "url": "#sendstream-create", "dfnText": "create", "refSections": [{"refs": [{"id": "ref-for-sendstream-create"}], "title": "4.1. Methods"}], "external": false};
window.dfnpanelData['dictdef-sendstreamparameters'] = {"dfnID": "dictdef-sendstreamparameters", "url": "#dictdef-sendstreamparameters", "dfnText": "SendStreamParameters", "refSections": [{"refs": [{"id": "ref-for-dictdef-sendstreamparameters"}], "title": "4. UnidirectionalStreamsTransport Mixin"}, {"refs": [{"id": "ref-for-dictdef-sendstreamparameters\u2460"}], "title": "4.3. SendStreamParameters Dictionary"}], "external": false};
window.dfnpanelData['bidirectionalstreamstransport'] = {"dfnID": "bidirectionalstreamstransport", "url": "#bidirectionalstreamstransport", "dfnText": "BidirectionalStreamsTransport", "refSections": [{"refs": [{"id": "ref-for-bidirectionalstreamstransport"}], "title": "5. BidirectionalStreamsTransport Mixin"}, {"refs": [{"id": "ref-for-bidirectionalstreamstransport\u2460"}], "title": "5.1. Methods"}, {"refs": [{"id": "ref-for-bidirectionalstreamstransport\u2461"}, {"id": "ref-for-bidirectionalstreamstransport\u2462"}], "title": "8. WebTransport Interface"}], "external": false};
window.dfnpanelData['dom-bidirectionalstreamstransport-createbidirectionalstream'] = {"dfnID": "dom-bidirectionalstreamstransport-createbidirectionalstream", "url": "#dom-bidirectionalstreamstransport-createbidirectionalstream", "dfnText": "createBidirectionalStream()", "refSections": [{"refs": [{"id": "ref-for-dom-bidirectionalstreamstransport-createbidirectionalstream"}], "title": "5. BidirectionalStreamsTransport Mixin"}, {"refs": [{"id": "ref-for-dom-bidirectionalstreamstransport-createbidirectionalstream\u2460"}], "title": "5.1. Methods"}], "external": false};
window.dfnpanelData['dom-bidirectionalstreamstransport-incomingbidirectionalstreams'] = {"dfnID": "dom-bidirectionalstreamstransport-incomingbidirectionalstreams", "url": "#dom-bidirectionalstreamstransport-incomingbidirectionalstreams", "dfnText": "incomingBidirectionalStreams", "refSections": [{"refs": [{"id": "ref-for-dom-bidirectionalstreamstransport-incomingbidirectionalstreams"}], "title": "5. BidirectionalStreamsTransport Mixin"}], "external": false};
window.dfnpanelData['bidirectionalstream-create'] = {"dfnID": "bidirectionalstream-create", "url": "#bidirectionalstream-create", "dfnText": "create", "refSections": [{"refs": [{"id": "ref-for-bidirectionalstream-create"}], "title": "3. Terminology"}, {"refs": [{"id": "ref-for-bidirectionalstream-create\u2460"}], "title": "5.1. Methods"}], "external": false};
window.dfnpanelData['datagramtransport'] = {"dfnID": "datagramtransport", "url": "#datagramtransport", "dfnText": "DatagramTransport", "refSections": [{"refs": [{"id": "ref-for-datagramtransport"}], "title": "6. DatagramTransport Mixin"}, {"refs": [{"id": "ref-for-datagramtransport\u2460"}, {"id": "ref-for-datagramtransport\u2461"}], "title": "8. WebTransport Interface"}, {"refs": [{"id": "ref-for-datagramtransport\u2462"}], "title": "14.1. Sending a buffer of datagrams"}], "external": false};
window.dfnpanelData['dom-datagramtransport-maxdatagramsize'] = {"dfnID": "dom-datagramtransport-maxdatagramsize", "url": "#dom-datagramtransport-maxdatagramsize", "dfnText": "maxDatagramSize", "refSections": [{"refs": [{"id": "ref-for-dom-datagramtransport-maxdatagramsize"}], "title": "6. DatagramTransport Mixin"}], "external": false};
window.dfnpanelData['dom-datagramtransport-datagrams'] = {"dfnID": "dom-datagramtransport-datagrams", "url": "#dom-datagramtransport-datagrams", "dfnText": "datagrams", "refSections": [{"refs": [{"id": "ref-for-dom-datagramtransport-datagrams"}], "title": "6. DatagramTransport Mixin"}, {"refs": [{"id": "ref-for-dom-datagramtransport-datagrams\u2460"}], "title": "6.1. Attributes"}, {"refs": [{"id": "ref-for-dom-datagramtransport-datagrams\u2461"}], "title": "8.8. WebTransportStats Dictionary"}, {"refs": [{"id": "ref-for-dom-datagramtransport-datagrams\u2462"}], "title": "14.1. Sending a buffer of datagrams"}, {"refs": [{"id": "ref-for-dom-datagramtransport-datagrams\u2463"}], "title": "14.2. Sending datagrams at a fixed rate"}, {"refs": [{"id": "ref-for-dom-datagramtransport-datagrams\u2464"}, {"id": "ref-for-dom-datagramtransport-datagrams\u2465"}], "title": "14.3. Receiving datagrams"}], "external": false};
window.dfnpanelData['readdatagrams'] = {"dfnID": "readdatagrams", "url": "#readdatagrams", "dfnText": "readDatagrams", "refSections": [{"refs": [{"id": "ref-for-readdatagrams"}], "title": "8.2. Constructor"}], "external": false};
window.dfnpanelData['writedatagrams'] = {"dfnID": "writedatagrams", "url": "#writedatagrams", "dfnText": "writeDatagrams", "refSections": [{"refs": [{"id": "ref-for-writedatagrams"}, {"id": "ref-for-writedatagrams\u2460"}], "title": "6.2. Procedures"}, {"refs": [{"id": "ref-for-writedatagrams\u2461"}], "title": "8.2. Constructor"}], "external": false};
window.dfnpanelData['senddatagrams'] = {"dfnID": "senddatagrams", "url": "#senddatagrams", "dfnText": "sendDatagrams", "refSections": [{"refs": [{"id": "ref-for-senddatagrams"}], "title": "6.2. Procedures"}], "external": false};
window.dfnpanelData['datagramduplexstream'] = {"dfnID": "datagramduplexstream", "url": "#datagramduplexstream", "dfnText": "DatagramDuplexStream", "refSections": [{"refs": [{"id": "ref-for-datagramduplexstream"}], "title": "6. DatagramTransport Mixin"}, {"refs": [{"id": "ref-for-datagramduplexstream\u2460"}], "title": "6.1. Attributes"}, {"refs": [{"id": "ref-for-datagramduplexstream\u2461"}, {"id": "ref-for-datagramduplexstream\u2462"}, {"id": "ref-for-datagramduplexstream\u2463"}], "title": "7. DatagramDuplexStream Interface"}, {"refs": [{"id": "ref-for-datagramduplexstream\u2464"}], "title": "8.1. Internal slots"}, {"refs": [{"id": "ref-for-datagramduplexstream\u2465"}], "title": "8.2. Constructor"}], "external": false};
window.dfnpanelData['datagramduplexstream-create'] = {"dfnID": "datagramduplexstream-create", "url": "#datagramduplexstream-create", "dfnText": "create", "refSections": [{"refs": [{"id": "ref-for-datagramduplexstream-create"}], "title": "8.2. Constructor"}], "external": false};
window.dfnpanelData['datagramduplexstream-create-readable'] = {"dfnID": "datagramduplexstream-create-readable", "url": "#datagramduplexstream-create-readable", "dfnText": "readable", "refSections": [{"refs": [{"id": "ref-for-datagramduplexstream-create-readable"}], "title": "8.2. Constructor"}], "external": false};
window.dfnpanelData['datagramduplexstream-create-writable'] = {"dfnID": "datagramduplexstream-create-writable", "url": "#datagramduplexstream-create-writable", "dfnText": "writable", "refSections": [{"refs": [{"id": "ref-for-datagramduplexstream-create-writable"}], "title": "8.2. Constructor"}], "external": false};
window.dfnpanelData['dom-datagramduplexstream-readable'] = {"dfnID": "dom-datagramduplexstream-readable", "url": "#dom-datagramduplexstream-readable", "dfnText": "readable", "refSections": [{"refs": [{"id": "ref-for-dom-datagramduplexstream-readable"}], "title": "7. DatagramDuplexStream Interface"}, {"refs": [{"id": "ref-for-dom-datagramduplexstream-readable\u2460"}], "title": "8.8. WebTransportStats Dictionary"}, {"refs": [{"id": "ref-for-dom-datagramduplexstream-readable\u2461"}], "title": "14.3. Receiving datagrams"}], "external": false};
window.dfnpanelData['dom-datagramduplexstream-writable'] = {"dfnID": "dom-datagramduplexstream-writable", "url": "#dom-datagramduplexstream-writable", "dfnText": "writable", "refSections": [{"refs": [{"id": "ref-for-dom-datagramduplexstream-writable"}], "title": "6.1. Attributes"}, {"refs": [{"id": "ref-for-dom-datagramduplexstream-writable\u2460"}], "title": "7. DatagramDuplexStream Interface"}, {"refs": [{"id": "ref-for-dom-datagramduplexstream-writable\u2461"}], "title": "14.1. Sending a buffer of datagrams"}, {"refs": [{"id": "ref-for-dom-datagramduplexstream-writable\u2462"}], "title": "14.2. Sending datagrams at a fixed rate"}], "external": false};
window.dfnpanelData['webtransport'] = {"dfnID": "webtransport", "url": "#webtransport", "dfnText": "WebTransport", "refSections": [{"refs": [{"id": "ref-for-webtransport"}, {"id": "ref-for-webtransport\u2460"}], "title": "6.2. Procedures"}, {"refs": [{"id": "ref-for-webtransport\u2461"}, {"id": "ref-for-webtransport\u2462"}, {"id": "ref-for-webtransport\u2463"}], "title": "8. WebTransport Interface"}, {"refs": [{"id": "ref-for-webtransport\u2464"}, {"id": "ref-for-webtransport\u2465"}, {"id": "ref-for-webtransport\u2466"}, {"id": "ref-for-webtransport\u2467"}], "title": "8.1. Internal slots"}, {"refs": [{"id": "ref-for-webtransport\u2468"}, {"id": "ref-for-webtransport\u2460\u24ea"}], "title": "8.2. Constructor"}, {"refs": [{"id": "ref-for-webtransport\u2460\u2460"}], "title": "8.4. Methods"}, {"refs": [{"id": "ref-for-webtransport\u2460\u2461"}, {"id": "ref-for-webtransport\u2460\u2462"}], "title": "8.6. WebTransportState Enum"}, {"refs": [{"id": "ref-for-webtransport\u2460\u2463"}, {"id": "ref-for-webtransport\u2460\u2464"}], "title": "8.7. WebTransportCloseInfo Dictionary"}, {"refs": [{"id": "ref-for-webtransport\u2460\u2465"}], "title": "9.2. Attributes"}, {"refs": [{"id": "ref-for-webtransport\u2460\u2466"}], "title": "9.3. Methods"}, {"refs": [{"id": "ref-for-webtransport\u2460\u2467"}], "title": "10.2. Attributes"}, {"refs": [{"id": "ref-for-webtransport\u2460\u2468"}], "title": "10.3. Methods"}, {"refs": [{"id": "ref-for-webtransport\u2461\u24ea"}], "title": "15. Acknowledgements"}], "external": false};
window.dfnpanelData['dom-webtransport-webtransport'] = {"dfnID": "dom-webtransport-webtransport", "url": "#dom-webtransport-webtransport", "dfnText": "constructor", "refSections": [{"refs": [{"id": "ref-for-dom-webtransport-webtransport"}], "title": "8.2. Constructor"}], "external": false};
window.dfnpanelData['dom-webtransport-webtransport-url-options-url'] = {"dfnID": "dom-webtransport-webtransport-url-options-url", "url": "#dom-webtransport-webtransport-url-options-url", "dfnText": "url", "refSections": [{"refs": [{"id": "ref-for-dom-webtransport-webtransport-url-options-url"}], "title": "8.2. Constructor"}], "external": false};
window.dfnpanelData['dom-webtransport-webtransport-url-options-options'] = {"dfnID": "dom-webtransport-webtransport-url-options-options", "url": "#dom-webtransport-webtransport-url-options-options", "dfnText": "options", "refSections": [{"refs": [{"id": "ref-for-dom-webtransport-webtransport-url-options-options"}, {"id": "ref-for-dom-webtransport-webtransport-url-options-options\u2460"}], "title": "8.2. Constructor"}], "external": false};
window.dfnpanelData['webtransport-outgoingstreams'] = {"dfnID": "webtransport-outgoingstreams", "url": "#webtransport-outgoingstreams", "dfnText": "[[OutgoingStreams]]", "refSections": [{"refs": [{"id": "ref-for-webtransport-outgoingstreams"}], "title": "4.2.1. Add SendStream to UnidirectionalStreamsTransport"}, {"refs": [{"id": "ref-for-webtransport-outgoingstreams\u2460"}], "title": "5.2.1. Add BidirectionalStream to BidirectionalStreamsTransport"}, {"refs": [{"id": "ref-for-webtransport-outgoingstreams\u2461"}], "title": "8.2. Constructor"}, {"refs": [{"id": "ref-for-webtransport-outgoingstreams\u2462"}, {"id": "ref-for-webtransport-outgoingstreams\u2463"}, {"id": "ref-for-webtransport-outgoingstreams\u2464"}, {"id": "ref-for-webtransport-outgoingstreams\u2465"}], "title": "8.6. WebTransportState Enum"}, {"refs": [{"id": "ref-for-webtransport-outgoingstreams\u2466"}], "title": "9.2. Attributes"}, {"refs": [{"id": "ref-for-webtransport-outgoingstreams\u2467"}], "title": "9.3. Methods"}], "external": false};
window.dfnpanelData['webtransport-receivedstreams'] = {"dfnID": "webtransport-receivedstreams", "url": "#webtransport-receivedstreams", "dfnText": "[[ReceivedStreams]]", "refSections": [{"refs": [{"id": "ref-for-webtransport-receivedstreams"}, {"id": "ref-for-webtransport-receivedstreams\u2460"}], "title": "4.1. Methods"}, {"refs": [{"id": "ref-for-webtransport-receivedstreams\u2461"}], "title": "8.2. Constructor"}, {"refs": [{"id": "ref-for-webtransport-receivedstreams\u2462"}, {"id": "ref-for-webtransport-receivedstreams\u2463"}], "title": "8.6. WebTransportState Enum"}], "external": false};
window.dfnpanelData['webtransport-receivedbidirectionalstreams'] = {"dfnID": "webtransport-receivedbidirectionalstreams", "url": "#webtransport-receivedbidirectionalstreams", "dfnText": "[[ReceivedBidirectionalStreams]]", "refSections": [{"refs": [{"id": "ref-for-webtransport-receivedbidirectionalstreams"}, {"id": "ref-for-webtransport-receivedbidirectionalstreams\u2460"}], "title": "5.1. Methods"}, {"refs": [{"id": "ref-for-webtransport-receivedbidirectionalstreams\u2461"}], "title": "5.2.1. Add BidirectionalStream to BidirectionalStreamsTransport"}, {"refs": [{"id": "ref-for-webtransport-receivedbidirectionalstreams\u2462"}], "title": "8.2. Constructor"}, {"refs": [{"id": "ref-for-webtransport-receivedbidirectionalstreams\u2463"}, {"id": "ref-for-webtransport-receivedbidirectionalstreams\u2464"}], "title": "8.6. WebTransportState Enum"}], "external": false};
window.dfnpanelData['webtransport-state'] = {"dfnID": "webtransport-state", "url": "#webtransport-state", "dfnText": "[[State]]", "refSections": [{"refs": [{"id": "ref-for-webtransport-state"}], "title": "6.2. Procedures"}, {"refs": [{"id": "ref-for-webtransport-state\u2460"}, {"id": "ref-for-webtransport-state\u2461"}, {"id": "ref-for-webtransport-state\u2462"}, {"id": "ref-for-webtransport-state\u2463"}], "title": "8.2. Constructor"}, {"refs": [{"id": "ref-for-webtransport-state\u2464"}, {"id": "ref-for-webtransport-state\u2465"}], "title": "8.3. Attributes"}, {"refs": [{"id": "ref-for-webtransport-state\u2466"}, {"id": "ref-for-webtransport-state\u2467"}], "title": "8.4. Methods"}, {"refs": [{"id": "ref-for-webtransport-state\u2468"}, {"id": "ref-for-webtransport-state\u2460\u24ea"}], "title": "8.6. WebTransportState Enum"}], "external": false};
window.dfnpanelData['webtransport-ready'] = {"dfnID": "webtransport-ready", "url": "#webtransport-ready", "dfnText": "[[Ready]]", "refSections": [{"refs": [{"id": "ref-for-webtransport-ready"}, {"id": "ref-for-webtransport-ready\u2460"}, {"id": "ref-for-webtransport-ready\u2461"}], "title": "8.2. Constructor"}, {"refs": [{"id": "ref-for-webtransport-ready\u2462"}], "title": "8.3. Attributes"}], "external": false};
window.dfnpanelData['webtransport-closed'] = {"dfnID": "webtransport-closed", "url": "#webtransport-closed", "dfnText": "[[Closed]]", "refSections": [{"refs": [{"id": "ref-for-webtransport-closed"}, {"id": "ref-for-webtransport-closed\u2460"}], "title": "8.2. Constructor"}, {"refs": [{"id": "ref-for-webtransport-closed\u2461"}], "title": "8.3. Attributes"}], "external": false};
window.dfnpanelData['webtransport-datagrams'] = {"dfnID": "webtransport-datagrams", "url": "#webtransport-datagrams", "dfnText": "[[Datagrams]]", "refSections": [{"refs": [{"id": "ref-for-webtransport-datagrams"}], "title": "6.1. Attributes"}, {"refs": [{"id": "ref-for-webtransport-datagrams\u2460"}, {"id": "ref-for-webtransport-datagrams\u2461"}], "title": "8.2. Constructor"}], "external": false};
window.dfnpanelData['webtransport-outgoingdatagramsqueue'] = {"dfnID": "webtransport-outgoingdatagramsqueue", "url": "#webtransport-outgoingdatagramsqueue", "dfnText": "[[OutgoingDatagramsQueue]]", "refSections": [{"refs": [{"id": "ref-for-webtransport-outgoingdatagramsqueue"}, {"id": "ref-for-webtransport-outgoingdatagramsqueue\u2460"}, {"id": "ref-for-webtransport-outgoingdatagramsqueue\u2461"}], "title": "6.2. Procedures"}, {"refs": [{"id": "ref-for-webtransport-outgoingdatagramsqueue\u2462"}], "title": "8.2. Constructor"}], "external": false};
window.dfnpanelData['webtransport-outgoingdatagramshighwatermark'] = {"dfnID": "webtransport-outgoingdatagramshighwatermark", "url": "#webtransport-outgoingdatagramshighwatermark", "dfnText": "[[OutgoingDatagramsHighWaterMark]]", "refSections": [{"refs": [{"id": "ref-for-webtransport-outgoingdatagramshighwatermark"}], "title": "6.2. Procedures"}, {"refs": [{"id": "ref-for-webtransport-outgoingdatagramshighwatermark\u2460"}], "title": "8.2. Constructor"}], "external": false};
window.dfnpanelData['webtransport-outgoingdatagramsexpirationduration'] = {"dfnID": "webtransport-outgoingdatagramsexpirationduration", "url": "#webtransport-outgoingdatagramsexpirationduration", "dfnText": "[[OutgoingDatagramsExpirationDuration]]", "refSections": [{"refs": [{"id": "ref-for-webtransport-outgoingdatagramsexpirationduration"}], "title": "6.2. Procedures"}, {"refs": [{"id": "ref-for-webtransport-outgoingdatagramsexpirationduration\u2460"}], "title": "8.2. Constructor"}], "external": false};
window.dfnpanelData['webtransport-connection'] = {"dfnID": "webtransport-connection", "url": "#webtransport-connection", "dfnText": "[[Connection]]", "refSections": [{"refs": [{"id": "ref-for-webtransport-connection"}, {"id": "ref-for-webtransport-connection\u2460"}], "title": "8.2. Constructor"}], "external": false};
window.dfnpanelData['initialize-webtransport-over-http'] = {"dfnID": "initialize-webtransport-over-http", "url": "#initialize-webtransport-over-http", "dfnText": "initialize WebTransport over HTTP", "refSections": [{"refs": [{"id": "ref-for-initialize-webtransport-over-http"}], "title": "8.2. Constructor"}], "external": false};
window.dfnpanelData['dom-webtransport-state'] = {"dfnID": "dom-webtransport-state", "url": "#dom-webtransport-state", "dfnText": "state", "refSections": [{"refs": [{"id": "ref-for-dom-webtransport-state"}, {"id": "ref-for-dom-webtransport-state\u2460"}], "title": "4.1. Methods"}, {"refs": [{"id": "ref-for-dom-webtransport-state\u2461"}, {"id": "ref-for-dom-webtransport-state\u2462"}], "title": "5.1. Methods"}, {"refs": [{"id": "ref-for-dom-webtransport-state\u2463"}], "title": "8. WebTransport Interface"}], "external": false};
window.dfnpanelData['dom-webtransport-ready'] = {"dfnID": "dom-webtransport-ready", "url": "#dom-webtransport-ready", "dfnText": "ready", "refSections": [{"refs": [{"id": "ref-for-dom-webtransport-ready"}], "title": "8. WebTransport Interface"}], "external": false};
window.dfnpanelData['dom-webtransport-closed'] = {"dfnID": "dom-webtransport-closed", "url": "#dom-webtransport-closed", "dfnText": "closed", "refSections": [{"refs": [{"id": "ref-for-dom-webtransport-closed"}], "title": "8. WebTransport Interface"}], "external": false};
window.dfnpanelData['dom-webtransport-onstatechange'] = {"dfnID": "dom-webtransport-onstatechange", "url": "#dom-webtransport-onstatechange", "dfnText": "onstatechange", "refSections": [{"refs": [{"id": "ref-for-dom-webtransport-onstatechange"}], "title": "8. WebTransport Interface"}], "external": false};
window.dfnpanelData['dom-webtransport-close'] = {"dfnID": "dom-webtransport-close", "url": "#dom-webtransport-close", "dfnText": "close()", "refSections": [{"refs": [{"id": "ref-for-dom-webtransport-close"}], "title": "8. WebTransport Interface"}, {"refs": [{"id": "ref-for-dom-webtransport-close\u2460"}], "title": "8.3. Attributes"}, {"refs": [{"id": "ref-for-dom-webtransport-close\u2461"}], "title": "8.6. WebTransportState Enum"}], "external": false};
window.dfnpanelData['immediate-close'] = {"dfnID": "immediate-close", "url": "#immediate-close", "dfnText": "Immediate Close", "refSections": [{"refs": [{"id": "ref-for-immediate-close"}], "title": "8.4. Methods"}], "external": false};
window.dfnpanelData['dom-webtransport-getstats'] = {"dfnID": "dom-webtransport-getstats", "url": "#dom-webtransport-getstats", "dfnText": "getStats()", "refSections": [{"refs": [{"id": "ref-for-dom-webtransport-getstats"}], "title": "8. WebTransport Interface"}], "external": false};
window.dfnpanelData['dictdef-webtransportoptions'] = {"dfnID": "dictdef-webtransportoptions", "url": "#dictdef-webtransportoptions", "dfnText": "WebTransportOptions", "refSections": [{"refs": [{"id": "ref-for-dictdef-webtransportoptions"}], "title": "8. WebTransport Interface"}, {"refs": [{"id": "ref-for-dictdef-webtransportoptions\u2460"}], "title": "8.5. Configuration"}], "external": false};
window.dfnpanelData['dom-webtransportoptions-allowpooling'] = {"dfnID": "dom-webtransportoptions-allowpooling", "url": "#dom-webtransportoptions-allowpooling", "dfnText": "allowPooling", "refSections": [{"refs": [{"id": "ref-for-dom-webtransportoptions-allowpooling"}], "title": "8.2. Constructor"}, {"refs": [{"id": "ref-for-dom-webtransportoptions-allowpooling\u2460"}, {"id": "ref-for-dom-webtransportoptions-allowpooling\u2461"}], "title": "8.5. Configuration"}], "external": false};
window.dfnpanelData['dom-webtransportoptions-servercertificatefingerprints'] = {"dfnID": "dom-webtransportoptions-servercertificatefingerprints", "url": "#dom-webtransportoptions-servercertificatefingerprints", "dfnText": "serverCertificateFingerprints", "refSections": [{"refs": [{"id": "ref-for-dom-webtransportoptions-servercertificatefingerprints"}], "title": "8.2. Constructor"}, {"refs": [{"id": "ref-for-dom-webtransportoptions-servercertificatefingerprints\u2460"}, {"id": "ref-for-dom-webtransportoptions-servercertificatefingerprints\u2461"}], "title": "8.5. Configuration"}], "external": false};
window.dfnpanelData['compute-a-certificate-fingerprint'] = {"dfnID": "compute-a-certificate-fingerprint", "url": "#compute-a-certificate-fingerprint", "dfnText": "compute a certificate fingerprint", "refSections": [{"refs": [{"id": "ref-for-compute-a-certificate-fingerprint"}], "title": "8.5. Configuration"}], "external": false};
window.dfnpanelData['verify-a-certificate-fingerprint'] = {"dfnID": "verify-a-certificate-fingerprint", "url": "#verify-a-certificate-fingerprint", "dfnText": "verify a certificate fingerprint", "refSections": [{"refs": [{"id": "ref-for-verify-a-certificate-fingerprint"}], "title": "8.5. Configuration"}], "external": false};
window.dfnpanelData['custom-certificate-requirements'] = {"dfnID": "custom-certificate-requirements", "url": "#custom-certificate-requirements", "dfnText": "custom certificate requirements", "refSections": [{"refs": [{"id": "ref-for-custom-certificate-requirements"}], "title": "8.5. Configuration"}], "external": false};
window.dfnpanelData['enumdef-webtransportstate'] = {"dfnID": "enumdef-webtransportstate", "url": "#enumdef-webtransportstate", "dfnText": "WebTransportState", "refSections": [{"refs": [{"id": "ref-for-enumdef-webtransportstate"}], "title": "8. WebTransport Interface"}, {"refs": [{"id": "ref-for-enumdef-webtransportstate\u2460"}], "title": "8.1. Internal slots"}, {"refs": [{"id": "ref-for-enumdef-webtransportstate\u2461"}], "title": "8.3. Attributes"}, {"refs": [{"id": "ref-for-enumdef-webtransportstate\u2462"}], "title": "8.6. WebTransportState Enum"}], "external": false};
window.dfnpanelData['dom-webtransportstate-connecting'] = {"dfnID": "dom-webtransportstate-connecting", "url": "#dom-webtransportstate-connecting", "dfnText": "\"connecting\"", "refSections": [{"refs": [{"id": "ref-for-dom-webtransportstate-connecting"}], "title": "8.6. WebTransportState Enum"}], "external": false};
window.dfnpanelData['dom-webtransportstate-connected'] = {"dfnID": "dom-webtransportstate-connected", "url": "#dom-webtransportstate-connected", "dfnText": "\"connected\"", "refSections": [{"refs": [{"id": "ref-for-dom-webtransportstate-connected"}], "title": "8.6. WebTransportState Enum"}], "external": false};
window.dfnpanelData['dom-webtransportstate-closed'] = {"dfnID": "dom-webtransportstate-closed", "url": "#dom-webtransportstate-closed", "dfnText": "\"closed\"", "refSections": [{"refs": [{"id": "ref-for-dom-webtransportstate-closed"}], "title": "8.6. WebTransportState Enum"}], "external": false};
window.dfnpanelData['dom-webtransportstate-failed'] = {"dfnID": "dom-webtransportstate-failed", "url": "#dom-webtransportstate-failed", "dfnText": "\"failed\"", "refSections": [{"refs": [{"id": "ref-for-dom-webtransportstate-failed"}], "title": "8.6. WebTransportState Enum"}], "external": false};
window.dfnpanelData['dictdef-webtransportcloseinfo'] = {"dfnID": "dictdef-webtransportcloseinfo", "url": "#dictdef-webtransportcloseinfo", "dfnText": "WebTransportCloseInfo", "refSections": [{"refs": [{"id": "ref-for-dictdef-webtransportcloseinfo"}, {"id": "ref-for-dictdef-webtransportcloseinfo\u2460"}], "title": "8. WebTransport Interface"}, {"refs": [{"id": "ref-for-dictdef-webtransportcloseinfo\u2461"}, {"id": "ref-for-dictdef-webtransportcloseinfo\u2462"}], "title": "8.3. Attributes"}, {"refs": [{"id": "ref-for-dictdef-webtransportcloseinfo\u2463"}], "title": "8.7. WebTransportCloseInfo Dictionary"}], "external": false};
window.dfnpanelData['dom-webtransportcloseinfo-errorcode'] = {"dfnID": "dom-webtransportcloseinfo-errorcode", "url": "#dom-webtransportcloseinfo-errorcode", "dfnText": "errorCode", "refSections": [{"refs": [{"id": "ref-for-dom-webtransportcloseinfo-errorcode"}], "title": "8.4. Methods"}, {"refs": [{"id": "ref-for-dom-webtransportcloseinfo-errorcode\u2460"}], "title": "8.7. WebTransportCloseInfo Dictionary"}], "external": false};
window.dfnpanelData['dom-webtransportcloseinfo-reason'] = {"dfnID": "dom-webtransportcloseinfo-reason", "url": "#dom-webtransportcloseinfo-reason", "dfnText": "reason", "refSections": [{"refs": [{"id": "ref-for-dom-webtransportcloseinfo-reason"}], "title": "8.4. Methods"}, {"refs": [{"id": "ref-for-dom-webtransportcloseinfo-reason\u2460"}], "title": "8.7. WebTransportCloseInfo Dictionary"}], "external": false};
window.dfnpanelData['dictdef-webtransportstats'] = {"dfnID": "dictdef-webtransportstats", "url": "#dictdef-webtransportstats", "dfnText": "WebTransportStats", "refSections": [{"refs": [{"id": "ref-for-dictdef-webtransportstats"}], "title": "8. WebTransport Interface"}, {"refs": [{"id": "ref-for-dictdef-webtransportstats\u2460"}], "title": "8.4. Methods"}, {"refs": [{"id": "ref-for-dictdef-webtransportstats\u2461"}], "title": "8.8. WebTransportStats Dictionary"}], "external": false};
window.dfnpanelData['dom-webtransportstats-timestamp'] = {"dfnID": "dom-webtransportstats-timestamp", "url": "#dom-webtransportstats-timestamp", "dfnText": "timestamp", "refSections": [{"refs": [{"id": "ref-for-dom-webtransportstats-timestamp"}], "title": "8.8. WebTransportStats Dictionary"}], "external": false};
window.dfnpanelData['dom-webtransportstats-bytessent'] = {"dfnID": "dom-webtransportstats-bytessent", "url": "#dom-webtransportstats-bytessent", "dfnText": "bytesSent", "refSections": [{"refs": [{"id": "ref-for-dom-webtransportstats-bytessent"}], "title": "8.8. WebTransportStats Dictionary"}], "external": false};
window.dfnpanelData['dom-webtransportstats-packetssent'] = {"dfnID": "dom-webtransportstats-packetssent", "url": "#dom-webtransportstats-packetssent", "dfnText": "packetsSent", "refSections": [{"refs": [{"id": "ref-for-dom-webtransportstats-packetssent"}], "title": "8.8. WebTransportStats Dictionary"}], "external": false};
window.dfnpanelData['dom-webtransportstats-numoutgoingstreamscreated'] = {"dfnID": "dom-webtransportstats-numoutgoingstreamscreated", "url": "#dom-webtransportstats-numoutgoingstreamscreated", "dfnText": "numOutgoingStreamsCreated", "refSections": [{"refs": [{"id": "ref-for-dom-webtransportstats-numoutgoingstreamscreated"}], "title": "8.8. WebTransportStats Dictionary"}], "external": false};
window.dfnpanelData['dom-webtransportstats-numincomingstreamscreated'] = {"dfnID": "dom-webtransportstats-numincomingstreamscreated", "url": "#dom-webtransportstats-numincomingstreamscreated", "dfnText": "numIncomingStreamsCreated", "refSections": [{"refs": [{"id": "ref-for-dom-webtransportstats-numincomingstreamscreated"}], "title": "8.8. WebTransportStats Dictionary"}], "external": false};
window.dfnpanelData['dom-webtransportstats-bytesreceived'] = {"dfnID": "dom-webtransportstats-bytesreceived", "url": "#dom-webtransportstats-bytesreceived", "dfnText": "bytesReceived", "refSections": [{"refs": [{"id": "ref-for-dom-webtransportstats-bytesreceived"}], "title": "8.8. WebTransportStats Dictionary"}], "external": false};
window.dfnpanelData['dom-webtransportstats-packetsreceived'] = {"dfnID": "dom-webtransportstats-packetsreceived", "url": "#dom-webtransportstats-packetsreceived", "dfnText": "packetsReceived", "refSections": [{"refs": [{"id": "ref-for-dom-webtransportstats-packetsreceived"}], "title": "8.8. WebTransportStats Dictionary"}], "external": false};
window.dfnpanelData['dom-webtransportstats-minrtt'] = {"dfnID": "dom-webtransportstats-minrtt", "url": "#dom-webtransportstats-minrtt", "dfnText": "minRtt", "refSections": [{"refs": [{"id": "ref-for-dom-webtransportstats-minrtt"}], "title": "8.8. WebTransportStats Dictionary"}], "external": false};
window.dfnpanelData['dom-webtransportstats-numreceiveddatagramsdropped'] = {"dfnID": "dom-webtransportstats-numreceiveddatagramsdropped", "url": "#dom-webtransportstats-numreceiveddatagramsdropped", "dfnText": "numReceivedDatagramsDropped", "refSections": [{"refs": [{"id": "ref-for-dom-webtransportstats-numreceiveddatagramsdropped"}], "title": "8.8. WebTransportStats Dictionary"}], "external": false};
window.dfnpanelData['sendstream'] = {"dfnID": "sendstream", "url": "#sendstream", "dfnText": "SendStream", "refSections": [{"refs": [{"id": "ref-for-sendstream"}], "title": "4. UnidirectionalStreamsTransport Mixin"}, {"refs": [{"id": "ref-for-sendstream\u2460"}, {"id": "ref-for-sendstream\u2461"}], "title": "4.1. Methods"}, {"refs": [{"id": "ref-for-sendstream\u2462"}, {"id": "ref-for-sendstream\u2463"}], "title": "4.2.1. Add SendStream to UnidirectionalStreamsTransport"}, {"refs": [{"id": "ref-for-sendstream\u2464"}], "title": "8.1. Internal slots"}, {"refs": [{"id": "ref-for-sendstream\u2465"}, {"id": "ref-for-sendstream\u2466"}, {"id": "ref-for-sendstream\u2467"}], "title": "8.6. WebTransportState Enum"}, {"refs": [{"id": "ref-for-sendstream\u2468"}], "title": "9. Interface SendStream"}, {"refs": [{"id": "ref-for-sendstream\u2460\u24ea"}], "title": "9.1. Overview"}, {"refs": [{"id": "ref-for-sendstream\u2460\u2460"}], "title": "9.2. Attributes"}, {"refs": [{"id": "ref-for-sendstream\u2460\u2461"}, {"id": "ref-for-sendstream\u2460\u2462"}, {"id": "ref-for-sendstream\u2460\u2463"}], "title": "9.3. Methods"}, {"refs": [{"id": "ref-for-sendstream\u2460\u2464"}, {"id": "ref-for-sendstream\u2460\u2465"}], "title": "11. Interface BidirectionalStream"}], "external": false};
window.dfnpanelData['dom-sendstream-writingaborted'] = {"dfnID": "dom-sendstream-writingaborted", "url": "#dom-sendstream-writingaborted", "dfnText": "writingAborted", "refSections": [{"refs": [{"id": "ref-for-dom-sendstream-writingaborted"}], "title": "9. Interface SendStream"}], "external": false};
window.dfnpanelData['dom-sendstream-abortwriting'] = {"dfnID": "dom-sendstream-abortwriting", "url": "#dom-sendstream-abortwriting", "dfnText": "abortWriting()", "refSections": [{"refs": [{"id": "ref-for-dom-sendstream-abortwriting"}], "title": "9. Interface SendStream"}, {"refs": [{"id": "ref-for-dom-sendstream-abortwriting\u2460"}], "title": "12. Protocol Mappings"}], "external": false};
window.dfnpanelData['dictdef-streamabortinfo'] = {"dfnID": "dictdef-streamabortinfo", "url": "#dictdef-streamabortinfo", "dfnText": "StreamAbortInfo", "refSections": [{"refs": [{"id": "ref-for-dictdef-streamabortinfo"}, {"id": "ref-for-dictdef-streamabortinfo\u2460"}], "title": "9. Interface SendStream"}, {"refs": [{"id": "ref-for-dictdef-streamabortinfo\u2461"}, {"id": "ref-for-dictdef-streamabortinfo\u2462"}], "title": "9.2. Attributes"}, {"refs": [{"id": "ref-for-dictdef-streamabortinfo\u2463"}], "title": "9.4. StreamAbortInfo Dictionary"}, {"refs": [{"id": "ref-for-dictdef-streamabortinfo\u2464"}, {"id": "ref-for-dictdef-streamabortinfo\u2465"}], "title": "10. Interface ReceiveStream"}, {"refs": [{"id": "ref-for-dictdef-streamabortinfo\u2466"}, {"id": "ref-for-dictdef-streamabortinfo\u2467"}], "title": "10.2. Attributes"}], "external": false};
window.dfnpanelData['dom-streamabortinfo-errorcode'] = {"dfnID": "dom-streamabortinfo-errorcode", "url": "#dom-streamabortinfo-errorcode", "dfnText": "errorCode", "refSections": [{"refs": [{"id": "ref-for-dom-streamabortinfo-errorcode"}], "title": "9.2. Attributes"}, {"refs": [{"id": "ref-for-dom-streamabortinfo-errorcode\u2460"}], "title": "9.4. StreamAbortInfo Dictionary"}, {"refs": [{"id": "ref-for-dom-streamabortinfo-errorcode\u2461"}], "title": "10.2. Attributes"}], "external": false};
window.dfnpanelData['receivestream'] = {"dfnID": "receivestream", "url": "#receivestream", "dfnText": "ReceiveStream", "refSections": [{"refs": [{"id": "ref-for-receivestream"}, {"id": "ref-for-receivestream\u2460"}], "title": "4.1. Methods"}, {"refs": [{"id": "ref-for-receivestream\u2461"}], "title": "8.1. Internal slots"}, {"refs": [{"id": "ref-for-receivestream\u2462"}], "title": "10. Interface ReceiveStream"}, {"refs": [{"id": "ref-for-receivestream\u2463"}], "title": "10.1. Overview"}, {"refs": [{"id": "ref-for-receivestream\u2464"}], "title": "10.2. Attributes"}, {"refs": [{"id": "ref-for-receivestream\u2465"}, {"id": "ref-for-receivestream\u2466"}, {"id": "ref-for-receivestream\u2467"}], "title": "10.3. Methods"}, {"refs": [{"id": "ref-for-receivestream\u2468"}, {"id": "ref-for-receivestream\u2460\u24ea"}], "title": "11. Interface BidirectionalStream"}, {"refs": [{"id": "ref-for-receivestream\u2460\u2460"}], "title": "14.5. Receiving incoming streams"}], "external": false};
window.dfnpanelData['dom-receivestream-readingaborted'] = {"dfnID": "dom-receivestream-readingaborted", "url": "#dom-receivestream-readingaborted", "dfnText": "readingAborted", "refSections": [{"refs": [{"id": "ref-for-dom-receivestream-readingaborted"}], "title": "10. Interface ReceiveStream"}], "external": false};
window.dfnpanelData['dom-receivestream-abortreading'] = {"dfnID": "dom-receivestream-abortreading", "url": "#dom-receivestream-abortreading", "dfnText": "abortReading()", "refSections": [{"refs": [{"id": "ref-for-dom-receivestream-abortreading"}], "title": "10. Interface ReceiveStream"}, {"refs": [{"id": "ref-for-dom-receivestream-abortreading\u2460"}], "title": "12. Protocol Mappings"}], "external": false};
window.dfnpanelData['bidirectionalstream'] = {"dfnID": "bidirectionalstream", "url": "#bidirectionalstream", "dfnText": "BidirectionalStream", "refSections": [{"refs": [{"id": "ref-for-bidirectionalstream"}], "title": "5. BidirectionalStreamsTransport Mixin"}, {"refs": [{"id": "ref-for-bidirectionalstream\u2460"}, {"id": "ref-for-bidirectionalstream\u2461"}, {"id": "ref-for-bidirectionalstream\u2462"}, {"id": "ref-for-bidirectionalstream\u2463"}, {"id": "ref-for-bidirectionalstream\u2464"}, {"id": "ref-for-bidirectionalstream\u2465"}], "title": "5.1. Methods"}, {"refs": [{"id": "ref-for-bidirectionalstream\u2466"}, {"id": "ref-for-bidirectionalstream\u2467"}], "title": "5.2.1. Add BidirectionalStream to BidirectionalStreamsTransport"}, {"refs": [{"id": "ref-for-bidirectionalstream\u2468"}], "title": "8.1. Internal slots"}, {"refs": [{"id": "ref-for-bidirectionalstream\u2460\u24ea"}, {"id": "ref-for-bidirectionalstream\u2460\u2460"}], "title": "11. Interface BidirectionalStream"}], "external": false};
window.dfnpanelData['dom-bidirectionalstream-readable'] = {"dfnID": "dom-bidirectionalstream-readable", "url": "#dom-bidirectionalstream-readable", "dfnText": "readable", "refSections": [{"refs": [{"id": "ref-for-dom-bidirectionalstream-readable"}, {"id": "ref-for-dom-bidirectionalstream-readable\u2460"}, {"id": "ref-for-dom-bidirectionalstream-readable\u2461"}], "title": "12. Protocol Mappings"}], "external": false};
window.dfnpanelData['dom-bidirectionalstream-writable'] = {"dfnID": "dom-bidirectionalstream-writable", "url": "#dom-bidirectionalstream-writable", "dfnText": "writable", "refSections": [{"refs": [{"id": "ref-for-dom-bidirectionalstream-writable"}, {"id": "ref-for-dom-bidirectionalstream-writable\u2460"}, {"id": "ref-for-dom-bidirectionalstream-writable\u2461"}, {"id": "ref-for-dom-bidirectionalstream-writable\u2462"}, {"id": "ref-for-dom-bidirectionalstream-writable\u2463"}], "title": "12. Protocol Mappings"}], "external": false};
</script>
<script>/* Boilerplate: script-dom-helper */
function query(sel) { return document.querySelector(sel); }

function queryAll(sel) { return [...document.querySelectorAll(sel)]; }

function iter(obj) {
	if(!obj) return [];
	var it = obj[Symbol.iterator];
	if(it) return it;
	return Object.entries(obj);
}

function mk(tagname, attrs, ...children) {
	const el = document.createElement(tagname);
	for(const [k,v] of iter(attrs)) {
		if(k.slice(0,3) == "_on") {
			const eventName = k.slice(3);
			el.addEventListener(eventName, v);
		} else if(k[0] == "_") {
			// property, not attribute
			el[k.slice(1)] = v;
		} else {
			if(v === false || v == null) {
        continue;
      } else if(v === true) {
        el.setAttribute(k, "");
        continue;
      } else {
  			el.setAttribute(k, v);
      }
		}
	}
	append(el, children);
	return el;
}

/* Create shortcuts for every known HTML element */
[
  "a",
  "abbr",
  "acronym",
  "address",
  "applet",
  "area",
  "article",
  "aside",
  "audio",
  "b",
  "base",
  "basefont",
  "bdo",
  "big",
  "blockquote",
  "body",
  "br",
  "button",
  "canvas",
  "caption",
  "center",
  "cite",
  "code",
  "col",
  "colgroup",
  "datalist",
  "dd",
  "del",
  "details",
  "dfn",
  "dialog",
  "div",
  "dl",
  "dt",
  "em",
  "embed",
  "fieldset",
  "figcaption",
  "figure",
  "font",
  "footer",
  "form",
  "frame",
  "frameset",
  "head",
  "header",
  "h1",
  "h2",
  "h3",
  "h4",
  "h5",
  "h6",
  "hr",
  "html",
  "i",
  "iframe",
  "img",
  "input",
  "ins",
  "kbd",
  "label",
  "legend",
  "li",
  "link",
  "main",
  "map",
  "mark",
  "meta",
  "meter",
  "nav",
  "nobr",
  "noscript",
  "object",
  "ol",
  "optgroup",
  "option",
  "output",
  "p",
  "param",
  "pre",
  "progress",
  "q",
  "s",
  "samp",
  "script",
  "section",
  "select",
  "small",
  "source",
  "span",
  "strike",
  "strong",
  "style",
  "sub",
  "summary",
  "sup",
  "table",
  "tbody",
  "td",
  "template",
  "textarea",
  "tfoot",
  "th",
  "thead",
  "time",
  "title",
  "tr",
  "u",
  "ul",
  "var",
  "video",
  "wbr",
  "xmp",
].forEach(tagname=>{
	mk[tagname] = (...args) => mk(tagname, ...args);
});

function* nodesFromChildList(children) {
	for(const child of children.flat(Infinity)) {
		if(child instanceof Node) {
			yield child;
		} else {
			yield new Text(child);
		}
	}
}
function append(el, ...children) {
	for(const child of nodesFromChildList(children)) {
		if(el instanceof Node) el.appendChild(child);
		else el.push(child);
	}
	return el;
}

function insertAfter(el, ...children) {
	for(const child of nodesFromChildList(children)) {
		el.parentNode.insertBefore(child, el.nextSibling);
	}
	return el;
}

function clearContents(el) {
	el.innerHTML = "";
	return el;
}

function parseHTML(markup) {
	if(markup.toLowerCase().trim().indexOf('<!doctype') === 0) {
		const doc = document.implementation.createHTMLDocument("");
		doc.documentElement.innerHTML = markup;
		return doc;
	} else {
		const el = mk.template({});
		el.innerHTML = markup;
		return el.content;
	}
}
</script>
<script>/* Boilerplate: script-ref-hints */
"use strict";
{
    function genRefHint(link, ref) {
        const linkText = link.textContent;
        let dfnTextElements = '';
        if (ref.text != linkText) {
            dfnTextElements =
                mk.li({},
                    mk.b({}, "DFN: "),
                    mk.code({ class: "dfn-text" }, ref.text)
                );
        }
        const forList = ref.for_;
        const forListElements = forList.length === 0 ? '' : mk.li({},
            mk.b({}, "For: "),
            mk.ul({},
                ...forList.map(forItem =>
                    mk.li({},
                        mk.span({}, `${forItem}`)
                    ),
                ),
            ),
        );
        const url = ref.url;
        const safeUrl = encodeURIComponent(url);
        const hintPanel = mk.aside({
            class: "ref-hint",
            id: `ref-hint-for-${safeUrl}`,
            "data-for": url,
            "aria-labelled-by": `ref-hint-for-${safeUrl}`,
        },
            mk.ul({},
                dfnTextElements,
                mk.li({},
                    mk.b({}, "URL: "),
                    mk.a({ href: url, class: "ref" }, url),
                ),
                mk.li({},
                    mk.b({}, "Type: "),
                    mk.span({}, `${ref.type}`),
                ),
                mk.li({},
                    mk.b({}, "Spec: "),
                    mk.span({}, `${ref.spec ? ref.spec : ''}`),
                ),
                forListElements
            ),
        );
        hintPanel.forLink = link;
        return hintPanel;
    }
    function genAllRefHints() {
        for(const refData of Object.values(window.refsData)) {
            const refUrl = refData.url;
            const links = document.querySelectorAll(`a[href="${refUrl}"]`);
            if (links.length == 0) {
                console.log(`Can't find link href="${refUrl}".`, refData);
                continue;
            }
            for (let i = 0; i < links.length; i++) {
                const link = links[i];
                const hint = genRefHint(link, refData);
                append(document.body, hint);
                insertLinkPopupAction(hint)
            }
        }
    }

    function hideAllRefHints() {
        queryAll(".ref-hint.on").forEach(el=>hideRefHint(el));
    }

    function hideRefHint(refHint) {
        const link = refHint.forLink;
        link.setAttribute("aria-expanded", "false");
        refHint.style.position = "absolute"; // unfix it
        refHint.classList.remove("on");
        const teardown = refHint.teardownEventListeners;
        if (teardown) {
            refHint.teardownEventListeners = undefined;
            teardown();
        }
    }

    function showRefHint(refHint) {
        hideAllRefHints(); // Only display one at this time.

        const link = refHint.forLink;
        link.setAttribute("aria-expanded", "true");
        refHint.classList.add("on");
        positionRefHint(refHint);
        setupRefHintEventListeners(refHint);
    }

    function setupRefHintEventListeners(refHint) {
        if (refHint.teardownEventListeners) return;
        const link = refHint.forLink;
        // Add event handlers to hide the refHint after the user moves away
        // from both the link and refHint, if not hovering either within one second.
        let timeout = null;
        const startHidingRefHint = (event) => {
            if (timeout) {
                clearTimeout(timeout);
            }
            timeout = setTimeout(() => {
                hideRefHint(refHint);
            }, 1000);
        }
        const resetHidingRefHint = (event) => {
            if (timeout) clearTimeout(timeout);
            timeout = null;
        };
        link.addEventListener("mouseleave", startHidingRefHint);
        link.addEventListener("mouseenter", resetHidingRefHint);
        link.addEventListener("blur", startHidingRefHint);
        link.addEventListener("focus", resetHidingRefHint);
        refHint.addEventListener("mouseleave", startHidingRefHint);
        refHint.addEventListener("mouseenter", resetHidingRefHint);
        refHint.addEventListener("blur", startHidingRefHint);
        refHint.addEventListener("focus", resetHidingRefHint);

        refHint.teardownEventListeners = () => {
            // remove event listeners
            resetHidingRefHint();
            link.removeEventListener("mouseleave", startHidingRefHint);
            link.removeEventListener("mouseenter", resetHidingRefHint);
            link.removeEventListener("blur", startHidingRefHint);
            link.removeEventListener("focus", resetHidingRefHint);
            refHint.removeEventListener("mouseleave", startHidingRefHint);
            refHint.removeEventListener("mouseenter", resetHidingRefHint);
            refHint.removeEventListener("blur", startHidingRefHint);
            refHint.removeEventListener("focus", resetHidingRefHint);
        };
    }

    function positionRefHint(refHint) {
        const link = refHint.forLink;
        const linkPos = getRootLevelAbsolutePosition(link);
        refHint.style.top = linkPos.bottom + "px";
        refHint.style.left = linkPos.left + "px";

        const panelPos = refHint.getBoundingClientRect();
        const panelMargin = 8;
        const maxRight = document.body.parentNode.clientWidth - panelMargin;
        if (panelPos.right > maxRight) {
            const overflowAmount = panelPos.right - maxRight;
            const newLeft = Math.max(panelMargin, linkPos.left - overflowAmount);
            refHint.style.left = newLeft + "px";
        }
    }

    // TODO: shared util
    // Returns the root-level absolute position {left and top} of element.
    function getRootLevelAbsolutePosition(el) {
        const boundsRect = el.getBoundingClientRect();
        let xPos = 0;
        let yPos = 0;

        while (el) {
            let xScroll = el.scrollLeft;
            let yScroll = el.scrollTop;

            // Ignore scrolling of body.
            if (el.tagName === "BODY") {
                xScroll = 0;
                yScroll = 0;
            }
            xPos += (el.offsetLeft - xScroll + el.clientLeft);
            yPos += (el.offsetTop - yScroll + el.clientTop);

            el = el.offsetParent;
        }
        return {
            left: xPos,
            top: yPos,
            right: xPos + boundsRect.width,
            bottom: yPos + boundsRect.height,
        };
    }

    function insertLinkPopupAction(refHint) {
        const link = refHint.forLink;
        // link.setAttribute('role', 'button');
        link.setAttribute('aria-expanded', 'false')
        link.classList.add('has-ref-hint');
        link.addEventListener('mouseover', (event) => {
            showRefHint(refHint);
        });
        link.addEventListener('focus', (event) => {
            showRefHint(refHint);
        })
    }

    document.addEventListener("DOMContentLoaded", () => {
        genAllRefHints();

        document.body.addEventListener("click", (e) => {
            // If not handled already, just hide all link panels.
            hideAllRefHints();
        });
    });

    window.addEventListener("resize", () => {
        // Hide any open ref hint.
        hideAllRefHints();
    });
}
</script>
<script>/* Boilerplate: script-ref-hints-json */
window.refsData = {};
window.refsData['https://html.spec.whatwg.org/multipage/webappapis.html#eventhandler'] = {"text": "EventHandler", "type": "typedef", "spec": "html", "shortname": "html", "level": "1", "status": "current", "url": "https://html.spec.whatwg.org/multipage/webappapis.html#eventhandler", "export": true, "normative": true, "for_": []};
window.refsData['https://html.spec.whatwg.org/multipage/webappapis.html#errorevent'] = {"text": "ErrorEvent", "type": "interface", "spec": "html", "shortname": "html", "level": "1", "status": "current", "url": "https://html.spec.whatwg.org/multipage/webappapis.html#errorevent", "export": true, "normative": true, "for_": []};
window.refsData['https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-task'] = {"text": "queue a task", "type": "dfn", "spec": "html", "shortname": "html", "level": "1", "status": "current", "url": "https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-task", "export": true, "normative": true, "for_": []};
window.refsData['https://html.spec.whatwg.org/multipage/webappapis.html#networking-task-source'] = {"text": "networking task source", "type": "dfn", "spec": "html", "shortname": "html", "level": "1", "status": "current", "url": "https://html.spec.whatwg.org/multipage/webappapis.html#networking-task-source", "export": true, "normative": true, "for_": []};
window.refsData['https://dom.spec.whatwg.org/#concept-event'] = {"text": "event", "type": "dfn", "spec": "dom", "shortname": "dom", "level": "1", "status": "current", "url": "https://dom.spec.whatwg.org/#concept-event", "export": true, "normative": true, "for_": []};
window.refsData['https://html.spec.whatwg.org/multipage/webappapis.html#event-handlers'] = {"text": "event handler", "type": "dfn", "spec": "html", "shortname": "html", "level": "1", "status": "current", "url": "https://html.spec.whatwg.org/multipage/webappapis.html#event-handlers", "export": true, "normative": true, "for_": []};
window.refsData['https://html.spec.whatwg.org/multipage/webappapis.html#event-handler-event-type'] = {"text": "event handler event type", "type": "dfn", "spec": "html", "shortname": "html", "level": "1", "status": "current", "url": "https://html.spec.whatwg.org/multipage/webappapis.html#event-handler-event-type", "export": true, "normative": true, "for_": []};
window.refsData['https://webidl.spec.whatwg.org/#dfn-throw'] = {"text": "throw", "type": "dfn", "spec": "webidl", "shortname": "webidl", "level": "1", "status": "current", "url": "https://webidl.spec.whatwg.org/#dfn-throw", "export": true, "normative": true, "for_": ["exception"]};
window.refsData['#bidirectionalstream-create'] = {"text": "create", "type": "dfn", "spec": "webtransport", "shortname": "webtransport", "level": "", "status": "local", "url": "#bidirectionalstream-create", "export": true, "normative": true, "for_": ["BidirectionalStream"]};
window.refsData['http://www.ecma-international.org/ecma-262/6.0/index.html#sec-promise-objects'] = {"text": "fulfilled", "type": "dfn", "spec": "ecmascript-6.0", "shortname": "ecmascript-6.0", "level": "", "status": "anchor-block", "url": "http://www.ecma-international.org/ecma-262/6.0/index.html#sec-promise-objects", "export": true, "normative": true, "for_": []};
window.refsData['https://streams.spec.whatwg.org/#readablestream'] = {"text": "ReadableStream", "type": "interface", "spec": "streams", "shortname": "streams", "level": "1", "status": "current", "url": "https://streams.spec.whatwg.org/#readablestream", "export": true, "normative": true, "for_": []};
window.refsData['https://streams.spec.whatwg.org/#writablestream'] = {"text": "WritableStream", "type": "interface", "spec": "streams", "shortname": "streams", "level": "1", "status": "current", "url": "https://streams.spec.whatwg.org/#writablestream", "export": true, "normative": true, "for_": []};
window.refsData['#unidirectionalstreamstransport'] = {"text": "UnidirectionalStreamsTransport", "type": "interface", "spec": "webtransport", "shortname": "webtransport", "level": "", "status": "local", "url": "#unidirectionalstreamstransport", "export": true, "normative": true, "for_": []};
window.refsData['https://webidl.spec.whatwg.org/#idl-promise'] = {"text": "Promise", "type": "interface", "spec": "webidl", "shortname": "webidl", "level": "1", "status": "current", "url": "https://webidl.spec.whatwg.org/#idl-promise", "export": true, "normative": true, "for_": []};
window.refsData['#sendstream'] = {"text": "SendStream", "type": "interface", "spec": "webtransport", "shortname": "webtransport", "level": "", "status": "local", "url": "#sendstream", "export": true, "normative": true, "for_": []};
window.refsData['#dom-unidirectionalstreamstransport-createunidirectionalstream'] = {"text": "createUnidirectionalStream(parameters)", "type": "method", "spec": "webtransport", "shortname": "webtransport", "level": "", "status": "local", "url": "#dom-unidirectionalstreamstransport-createunidirectionalstream", "export": true, "normative": true, "for_": ["UnidirectionalStreamsTransport"]};
window.refsData['#dictdef-sendstreamparameters'] = {"text": "SendStreamParameters", "type": "dictionary", "spec": "webtransport", "shortname": "webtransport", "level": "", "status": "local", "url": "#dictdef-sendstreamparameters", "export": true, "normative": true, "for_": []};
window.refsData['#dom-unidirectionalstreamstransport-incomingunidirectionalstreams'] = {"text": "incomingUnidirectionalStreams", "type": "attribute", "spec": "webtransport", "shortname": "webtransport", "level": "", "status": "local", "url": "#dom-unidirectionalstreamstransport-incomingunidirectionalstreams", "export": true, "normative": true, "for_": ["UnidirectionalStreamsTransport"]};
window.refsData['#dom-webtransport-state'] = {"text": "state", "type": "attribute", "spec": "webtransport", "shortname": "webtransport", "level": "", "status": "local", "url": "#dom-webtransport-state", "export": true, "normative": true, "for_": ["WebTransport"]};
window.refsData['https://webidl.spec.whatwg.org/#invalidstateerror'] = {"text": "InvalidStateError", "type": "exception", "spec": "webidl", "shortname": "webidl", "level": "1", "status": "current", "url": "https://webidl.spec.whatwg.org/#invalidstateerror", "export": true, "normative": true, "for_": []};
window.refsData['https://html.spec.whatwg.org/multipage/infrastructure.html#in-parallel'] = {"text": "in parallel", "type": "dfn", "spec": "html", "shortname": "html", "level": "1", "status": "current", "url": "https://html.spec.whatwg.org/multipage/infrastructure.html#in-parallel", "export": true, "normative": true, "for_": []};
window.refsData['#sendstream-create'] = {"text": "create", "type": "dfn", "spec": "webtransport", "shortname": "webtransport", "level": "", "status": "local", "url": "#sendstream-create", "export": true, "normative": true, "for_": ["SendStream"]};
window.refsData['#receivestream'] = {"text": "ReceiveStream", "type": "interface", "spec": "webtransport", "shortname": "webtransport", "level": "", "status": "local", "url": "#receivestream", "export": true, "normative": true, "for_": []};
window.refsData['#webtransport-receivedstreams'] = {"text": "[[receivedstreams]]", "type": "dfn", "spec": "webtransport", "shortname": "webtransport", "level": "", "status": "local", "url": "#webtransport-receivedstreams", "export": true, "normative": true, "for_": ["WebTransport"]};
window.refsData['#webtransport-outgoingstreams'] = {"text": "[[outgoingstreams]]", "type": "dfn", "spec": "webtransport", "shortname": "webtransport", "level": "", "status": "local", "url": "#webtransport-outgoingstreams", "export": true, "normative": true, "for_": ["WebTransport"]};
window.refsData['#bidirectionalstreamstransport'] = {"text": "BidirectionalStreamsTransport", "type": "interface", "spec": "webtransport", "shortname": "webtransport", "level": "", "status": "local", "url": "#bidirectionalstreamstransport", "export": true, "normative": true, "for_": []};
window.refsData['#bidirectionalstream'] = {"text": "BidirectionalStream", "type": "interface", "spec": "webtransport", "shortname": "webtransport", "level": "", "status": "local", "url": "#bidirectionalstream", "export": true, "normative": true, "for_": []};
window.refsData['#dom-bidirectionalstreamstransport-createbidirectionalstream'] = {"text": "createBidirectionalStream()", "type": "method", "spec": "webtransport", "shortname": "webtransport", "level": "", "status": "local", "url": "#dom-bidirectionalstreamstransport-createbidirectionalstream", "export": true, "normative": true, "for_": ["BidirectionalStreamsTransport"]};
window.refsData['#dom-bidirectionalstreamstransport-incomingbidirectionalstreams'] = {"text": "incomingBidirectionalStreams", "type": "attribute", "spec": "webtransport", "shortname": "webtransport", "level": "", "status": "local", "url": "#dom-bidirectionalstreamstransport-incomingbidirectionalstreams", "export": true, "normative": true, "for_": ["BidirectionalStreamsTransport"]};
window.refsData['#webtransport-receivedbidirectionalstreams'] = {"text": "[[receivedbidirectionalstreams]]", "type": "dfn", "spec": "webtransport", "shortname": "webtransport", "level": "", "status": "local", "url": "#webtransport-receivedbidirectionalstreams", "export": true, "normative": true, "for_": ["WebTransport"]};
window.refsData['#datagramtransport'] = {"text": "DatagramTransport", "type": "interface", "spec": "webtransport", "shortname": "webtransport", "level": "", "status": "local", "url": "#datagramtransport", "export": true, "normative": true, "for_": []};
window.refsData['https://webidl.spec.whatwg.org/#idl-unsigned-short'] = {"text": "unsigned short", "type": "interface", "spec": "webidl", "shortname": "webidl", "level": "1", "status": "current", "url": "https://webidl.spec.whatwg.org/#idl-unsigned-short", "export": true, "normative": true, "for_": []};
window.refsData['#dom-datagramtransport-maxdatagramsize'] = {"text": "maxDatagramSize", "type": "attribute", "spec": "webtransport", "shortname": "webtransport", "level": "", "status": "local", "url": "#dom-datagramtransport-maxdatagramsize", "export": true, "normative": true, "for_": ["DatagramTransport"]};
window.refsData['#datagramduplexstream'] = {"text": "DatagramDuplexStream", "type": "interface", "spec": "webtransport", "shortname": "webtransport", "level": "", "status": "local", "url": "#datagramduplexstream", "export": true, "normative": true, "for_": []};
window.refsData['#dom-datagramtransport-datagrams'] = {"text": "datagrams", "type": "attribute", "spec": "webtransport", "shortname": "webtransport", "level": "", "status": "local", "url": "#dom-datagramtransport-datagrams", "export": true, "normative": true, "for_": ["DatagramTransport"]};
window.refsData['#dom-datagramduplexstream-writable'] = {"text": "writable", "type": "attribute", "spec": "webtransport", "shortname": "webtransport", "level": "", "status": "local", "url": "#dom-datagramduplexstream-writable", "export": true, "normative": true, "for_": ["DatagramDuplexStream"]};
window.refsData['https://webidl.spec.whatwg.org/#this'] = {"text": "this", "type": "dfn", "spec": "webidl", "shortname": "webidl", "level": "1", "status": "current", "url": "https://webidl.spec.whatwg.org/#this", "export": true, "normative": true, "for_": []};
window.refsData['#webtransport-datagrams'] = {"text": "[[datagrams]]", "type": "dfn", "spec": "webtransport", "shortname": "webtransport", "level": "", "status": "local", "url": "#webtransport-datagrams", "export": true, "normative": true, "for_": ["WebTransport"]};
window.refsData['https://streams.spec.whatwg.org/#readablestream-enqueue'] = {"text": "enqueue", "type": "dfn", "spec": "streams", "shortname": "streams", "level": "1", "status": "current", "url": "https://streams.spec.whatwg.org/#readablestream-enqueue", "export": true, "normative": true, "for_": ["ReadableStream"]};
window.refsData['https://webidl.spec.whatwg.org/#idl-Uint8Array'] = {"text": "Uint8Array", "type": "interface", "spec": "webidl", "shortname": "webidl", "level": "1", "status": "current", "url": "https://webidl.spec.whatwg.org/#idl-Uint8Array", "export": true, "normative": true, "for_": []};
window.refsData['https://webidl.spec.whatwg.org/#a-promise-rejected-with'] = {"text": "a promise rejected with", "type": "dfn", "spec": "webidl", "shortname": "webidl", "level": "1", "status": "current", "url": "https://webidl.spec.whatwg.org/#a-promise-rejected-with", "export": true, "normative": true, "for_": []};
window.refsData['https://webidl.spec.whatwg.org/#exceptiondef-typeerror'] = {"text": "TypeError", "type": "exception", "spec": "webidl", "shortname": "webidl", "level": "1", "status": "current", "url": "https://webidl.spec.whatwg.org/#exceptiondef-typeerror", "export": true, "normative": true, "for_": []};
window.refsData['#webtransport-outgoingdatagramsqueue'] = {"text": "[[outgoingdatagramsqueue]]", "type": "dfn", "spec": "webtransport", "shortname": "webtransport", "level": "", "status": "local", "url": "#webtransport-outgoingdatagramsqueue", "export": true, "normative": true, "for_": ["WebTransport"]};
window.refsData['#webtransport-outgoingdatagramshighwatermark'] = {"text": "[[outgoingdatagramshighwatermark]]", "type": "dfn", "spec": "webtransport", "shortname": "webtransport", "level": "", "status": "local", "url": "#webtransport-outgoingdatagramshighwatermark", "export": true, "normative": true, "for_": ["WebTransport"]};
window.refsData['#writedatagrams'] = {"text": "writedatagrams", "type": "dfn", "spec": "webtransport", "shortname": "webtransport", "level": "", "status": "local", "url": "#writedatagrams", "export": true, "normative": true, "for_": []};
window.refsData['https://streams.spec.whatwg.org/#default-writer-ready'] = {"text": "ready", "type": "attribute", "spec": "streams", "shortname": "streams", "level": "1", "status": "current", "url": "https://streams.spec.whatwg.org/#default-writer-ready", "export": true, "normative": true, "for_": ["WritableStreamDefaultWriter"]};
window.refsData['#webtransport'] = {"text": "WebTransport", "type": "interface", "spec": "webtransport", "shortname": "webtransport", "level": "", "status": "local", "url": "#webtransport", "export": true, "normative": true, "for_": []};
window.refsData['#webtransport-outgoingdatagramsexpirationduration'] = {"text": "[[outgoingdatagramsexpirationduration]]", "type": "dfn", "spec": "webtransport", "shortname": "webtransport", "level": "", "status": "local", "url": "#webtransport-outgoingdatagramsexpirationduration", "export": true, "normative": true, "for_": ["WebTransport"]};
window.refsData['https://infra.spec.whatwg.org/#implementation-defined'] = {"text": "implementation-defined", "type": "dfn", "spec": "infra", "shortname": "infra", "level": "1", "status": "current", "url": "https://infra.spec.whatwg.org/#implementation-defined", "export": true, "normative": true, "for_": []};
window.refsData['#senddatagrams'] = {"text": "senddatagrams", "type": "dfn", "spec": "webtransport", "shortname": "webtransport", "level": "", "status": "local", "url": "#senddatagrams", "export": true, "normative": true, "for_": []};
window.refsData['#webtransport-state'] = {"text": "[[state]]", "type": "dfn", "spec": "webtransport", "shortname": "webtransport", "level": "", "status": "local", "url": "#webtransport-state", "export": true, "normative": true, "for_": ["WebTransport"]};
window.refsData['https://webidl.spec.whatwg.org/#Exposed'] = {"text": "Exposed", "type": "extended-attribute", "spec": "webidl", "shortname": "webidl", "level": "1", "status": "current", "url": "https://webidl.spec.whatwg.org/#Exposed", "export": true, "normative": true, "for_": []};
window.refsData['#dom-datagramduplexstream-readable'] = {"text": "readable", "type": "attribute", "spec": "webtransport", "shortname": "webtransport", "level": "", "status": "local", "url": "#dom-datagramduplexstream-readable", "export": true, "normative": true, "for_": ["DatagramDuplexStream"]};
window.refsData['https://webidl.spec.whatwg.org/#new'] = {"text": "new", "type": "dfn", "spec": "webidl", "shortname": "webidl", "level": "1", "status": "current", "url": "https://webidl.spec.whatwg.org/#new", "export": true, "normative": true, "for_": []};
window.refsData['https://webidl.spec.whatwg.org/#idl-USVString'] = {"text": "USVString", "type": "interface", "spec": "webidl", "shortname": "webidl", "level": "1", "status": "current", "url": "https://webidl.spec.whatwg.org/#idl-USVString", "export": true, "normative": true, "for_": []};
window.refsData['#dictdef-webtransportoptions'] = {"text": "WebTransportOptions", "type": "dictionary", "spec": "webtransport", "shortname": "webtransport", "level": "", "status": "local", "url": "#dictdef-webtransportoptions", "export": true, "normative": true, "for_": []};
window.refsData['#dictdef-webtransportstats'] = {"text": "WebTransportStats", "type": "dictionary", "spec": "webtransport", "shortname": "webtransport", "level": "", "status": "local", "url": "#dictdef-webtransportstats", "export": true, "normative": true, "for_": []};
window.refsData['#dom-webtransport-getstats'] = {"text": "getStats()", "type": "method", "spec": "webtransport", "shortname": "webtransport", "level": "", "status": "local", "url": "#dom-webtransport-getstats", "export": true, "normative": true, "for_": ["WebTransport"]};
window.refsData['#enumdef-webtransportstate'] = {"text": "WebTransportState", "type": "enum", "spec": "webtransport", "shortname": "webtransport", "level": "", "status": "local", "url": "#enumdef-webtransportstate", "export": true, "normative": true, "for_": []};
window.refsData['https://webidl.spec.whatwg.org/#idl-undefined'] = {"text": "undefined", "type": "interface", "spec": "webidl", "shortname": "webidl", "level": "1", "status": "current", "url": "https://webidl.spec.whatwg.org/#idl-undefined", "export": true, "normative": true, "for_": []};
window.refsData['#dom-webtransport-ready'] = {"text": "ready", "type": "attribute", "spec": "webtransport", "shortname": "webtransport", "level": "", "status": "local", "url": "#dom-webtransport-ready", "export": true, "normative": true, "for_": ["WebTransport"]};
window.refsData['#dictdef-webtransportcloseinfo'] = {"text": "WebTransportCloseInfo", "type": "dictionary", "spec": "webtransport", "shortname": "webtransport", "level": "", "status": "local", "url": "#dictdef-webtransportcloseinfo", "export": true, "normative": true, "for_": []};
window.refsData['#dom-webtransport-closed'] = {"text": "closed", "type": "attribute", "spec": "webtransport", "shortname": "webtransport", "level": "", "status": "local", "url": "#dom-webtransport-closed", "export": true, "normative": true, "for_": ["WebTransport"]};
window.refsData['#dom-webtransport-close'] = {"text": "close()", "type": "method", "spec": "webtransport", "shortname": "webtransport", "level": "", "status": "local", "url": "#dom-webtransport-close", "export": true, "normative": true, "for_": ["WebTransport"]};
window.refsData['#dom-webtransport-onstatechange'] = {"text": "onstatechange", "type": "attribute", "spec": "webtransport", "shortname": "webtransport", "level": "", "status": "local", "url": "#dom-webtransport-onstatechange", "export": true, "normative": true, "for_": ["WebTransport"]};
window.refsData['https://streams.spec.whatwg.org/#high-water-mark'] = {"text": "high water mark", "type": "dfn", "spec": "streams", "shortname": "streams", "level": "1", "status": "current", "url": "https://streams.spec.whatwg.org/#high-water-mark", "export": true, "normative": true, "for_": []};
window.refsData['https://webidl.spec.whatwg.org/#idl-double'] = {"text": "double", "type": "interface", "spec": "webidl", "shortname": "webidl", "level": "1", "status": "current", "url": "https://webidl.spec.whatwg.org/#idl-double", "export": true, "normative": true, "for_": []};
window.refsData['https://fetch.spec.whatwg.org/#concept-connection'] = {"text": "connection", "type": "dfn", "spec": "fetch", "shortname": "fetch", "level": "1", "status": "current", "url": "https://fetch.spec.whatwg.org/#concept-connection", "export": true, "normative": true, "for_": []};
window.refsData['#dom-webtransport-webtransport'] = {"text": "constructor(url)", "type": "constructor", "spec": "webtransport", "shortname": "webtransport", "level": "", "status": "local", "url": "#dom-webtransport-webtransport", "export": true, "normative": true, "for_": ["WebTransport"]};
window.refsData['https://url.spec.whatwg.org/#concept-url'] = {"text": "url record", "type": "dfn", "spec": "url", "shortname": "url", "level": "1", "status": "current", "url": "https://url.spec.whatwg.org/#concept-url", "export": true, "normative": true, "for_": []};
window.refsData['https://url.spec.whatwg.org/#concept-url-parser'] = {"text": "url parser", "type": "dfn", "spec": "url", "shortname": "url", "level": "1", "status": "current", "url": "https://url.spec.whatwg.org/#concept-url-parser", "export": true, "normative": true, "for_": []};
window.refsData['#dom-webtransport-webtransport-url-options-url'] = {"text": "url", "type": "argument", "spec": "webtransport", "shortname": "webtransport", "level": "", "status": "local", "url": "#dom-webtransport-webtransport-url-options-url", "export": true, "normative": true, "for_": ["WebTransport/WebTransport(url)", "WebTransport/WebTransport(url, options)", "WebTransport/constructor(url)", "WebTransport/constructor(url, options)"]};
window.refsData['https://webidl.spec.whatwg.org/#syntaxerror'] = {"text": "SyntaxError", "type": "exception", "spec": "webidl", "shortname": "webidl", "level": "1", "status": "current", "url": "https://webidl.spec.whatwg.org/#syntaxerror", "export": true, "normative": true, "for_": []};
window.refsData['https://url.spec.whatwg.org/#concept-url-scheme'] = {"text": "scheme", "type": "dfn", "spec": "url", "shortname": "url", "level": "1", "status": "current", "url": "https://url.spec.whatwg.org/#concept-url-scheme", "export": true, "normative": true, "for_": ["url"]};
window.refsData['https://url.spec.whatwg.org/#concept-url-fragment'] = {"text": "fragment", "type": "dfn", "spec": "url", "shortname": "url", "level": "1", "status": "current", "url": "https://url.spec.whatwg.org/#concept-url-fragment", "export": true, "normative": true, "for_": ["url"]};
window.refsData['#dom-webtransport-webtransport-url-options-options'] = {"text": "options", "type": "argument", "spec": "webtransport", "shortname": "webtransport", "level": "", "status": "local", "url": "#dom-webtransport-webtransport-url-options-options", "export": true, "normative": true, "for_": ["WebTransport/WebTransport(url)", "WebTransport/WebTransport(url, options)", "WebTransport/constructor(url)", "WebTransport/constructor(url, options)"]};
window.refsData['#dom-webtransportoptions-allowpooling'] = {"text": "allowPooling", "type": "dict-member", "spec": "webtransport", "shortname": "webtransport", "level": "", "status": "local", "url": "#dom-webtransportoptions-allowpooling", "export": true, "normative": true, "for_": ["WebTransportOptions"]};
window.refsData['#dom-webtransportoptions-servercertificatefingerprints'] = {"text": "serverCertificateFingerprints", "type": "dict-member", "spec": "webtransport", "shortname": "webtransport", "level": "", "status": "local", "url": "#dom-webtransportoptions-servercertificatefingerprints", "export": true, "normative": true, "for_": ["WebTransportOptions"]};
window.refsData['#webtransport-ready'] = {"text": "[[ready]]", "type": "dfn", "spec": "webtransport", "shortname": "webtransport", "level": "", "status": "local", "url": "#webtransport-ready", "export": true, "normative": true, "for_": ["WebTransport"]};
window.refsData['#webtransport-closed'] = {"text": "[[closed]]", "type": "dfn", "spec": "webtransport", "shortname": "webtransport", "level": "", "status": "local", "url": "#webtransport-closed", "export": true, "normative": true, "for_": ["WebTransport"]};
window.refsData['#webtransport-connection'] = {"text": "[[connection]]", "type": "dfn", "spec": "webtransport", "shortname": "webtransport", "level": "", "status": "local", "url": "#webtransport-connection", "export": true, "normative": true, "for_": ["WebTransport"]};
window.refsData['#readdatagrams'] = {"text": "readdatagrams", "type": "dfn", "spec": "webtransport", "shortname": "webtransport", "level": "", "status": "local", "url": "#readdatagrams", "export": true, "normative": true, "for_": []};
window.refsData['#datagramduplexstream-create'] = {"text": "creating", "type": "dfn", "spec": "webtransport", "shortname": "webtransport", "level": "", "status": "local", "url": "#datagramduplexstream-create", "export": true, "normative": true, "for_": ["DatagramDuplexStream"]};
window.refsData['#datagramduplexstream-create-readable'] = {"text": "readable", "type": "dfn", "spec": "webtransport", "shortname": "webtransport", "level": "", "status": "local", "url": "#datagramduplexstream-create-readable", "export": true, "normative": true, "for_": ["DatagramDuplexStream/create"]};
window.refsData['#datagramduplexstream-create-writable'] = {"text": "writable", "type": "dfn", "spec": "webtransport", "shortname": "webtransport", "level": "", "status": "local", "url": "#datagramduplexstream-create-writable", "export": true, "normative": true, "for_": ["DatagramDuplexStream/create"]};
window.refsData['#initialize-webtransport-over-http'] = {"text": "initialize webtransport over http", "type": "dfn", "spec": "webtransport", "shortname": "webtransport", "level": "", "status": "local", "url": "#initialize-webtransport-over-http", "export": true, "normative": true, "for_": []};
window.refsData['https://webidl.spec.whatwg.org/#upon-fulfillment'] = {"text": "upon fulfillment", "type": "dfn", "spec": "webidl", "shortname": "webidl", "level": "1", "status": "current", "url": "https://webidl.spec.whatwg.org/#upon-fulfillment", "export": true, "normative": true, "for_": []};
window.refsData['https://webidl.spec.whatwg.org/#upon-rejection'] = {"text": "upon rejection", "type": "dfn", "spec": "webidl", "shortname": "webidl", "level": "1", "status": "current", "url": "https://webidl.spec.whatwg.org/#upon-rejection", "export": true, "normative": true, "for_": []};
window.refsData['https://fetch.spec.whatwg.org/#determine-the-network-partition-key'] = {"text": "determine the network partition key", "type": "dfn", "spec": "fetch", "shortname": "fetch", "level": "1", "status": "current", "url": "https://fetch.spec.whatwg.org/#determine-the-network-partition-key", "export": true, "normative": true, "for_": []};
window.refsData['https://html.spec.whatwg.org/multipage/webappapis.html#relevant-settings-object'] = {"text": "relevant settings object", "type": "dfn", "spec": "html", "shortname": "html", "level": "1", "status": "current", "url": "https://html.spec.whatwg.org/multipage/webappapis.html#relevant-settings-object", "export": true, "normative": true, "for_": []};
window.refsData['https://fetch.spec.whatwg.org/#concept-connection-obtain'] = {"text": "obtain a connection", "type": "dfn", "spec": "fetch", "shortname": "fetch", "level": "1", "status": "current", "url": "https://fetch.spec.whatwg.org/#concept-connection-obtain", "export": true, "normative": true, "for_": []};
window.refsData['https://url.spec.whatwg.org/#concept-url-origin'] = {"text": "origin", "type": "dfn", "spec": "url", "shortname": "url", "level": "1", "status": "current", "url": "https://url.spec.whatwg.org/#concept-url-origin", "export": true, "normative": true, "for_": ["url"]};
window.refsData['https://fetch.spec.whatwg.org/#obtain-a-connection-http3only'] = {"text": "http3only", "type": "dfn", "spec": "fetch", "shortname": "fetch", "level": "1", "status": "current", "url": "https://fetch.spec.whatwg.org/#obtain-a-connection-http3only", "export": true, "normative": true, "for_": ["obtain a connection"]};
window.refsData['#immediate-close'] = {"text": "immediate close", "type": "dfn", "spec": "webtransport", "shortname": "webtransport", "level": "", "status": "local", "url": "#immediate-close", "export": true, "normative": true, "for_": []};
window.refsData['#dom-webtransportcloseinfo-errorcode'] = {"text": "errorCode", "type": "dict-member", "spec": "webtransport", "shortname": "webtransport", "level": "", "status": "local", "url": "#dom-webtransportcloseinfo-errorcode", "export": true, "normative": true, "for_": ["WebTransportCloseInfo"]};
window.refsData['#dom-webtransportcloseinfo-reason'] = {"text": "reason", "type": "dict-member", "spec": "webtransport", "shortname": "webtransport", "level": "", "status": "local", "url": "#dom-webtransportcloseinfo-reason", "export": true, "normative": true, "for_": ["WebTransportCloseInfo"]};
window.refsData['https://webidl.spec.whatwg.org/#notsupportederror'] = {"text": "NotSupportedError", "type": "exception", "spec": "webidl", "shortname": "webidl", "level": "1", "status": "current", "url": "https://webidl.spec.whatwg.org/#notsupportederror", "export": true, "normative": true, "for_": []};
window.refsData['https://webidl.spec.whatwg.org/#idl-boolean'] = {"text": "boolean", "type": "interface", "spec": "webidl", "shortname": "webidl", "level": "1", "status": "current", "url": "https://webidl.spec.whatwg.org/#idl-boolean", "export": true, "normative": true, "for_": []};
window.refsData['https://webidl.spec.whatwg.org/#idl-sequence'] = {"text": "sequence", "type": "dfn", "spec": "webidl", "shortname": "webidl", "level": "1", "status": "current", "url": "https://webidl.spec.whatwg.org/#idl-sequence", "export": true, "normative": true, "for_": []};
window.refsData['https://w3c.github.io/webrtc-pc/#dom-rtcdtlsfingerprint'] = {"text": "RTCDtlsFingerprint", "type": "dictionary", "spec": "webrtc", "shortname": "webrtc", "level": "1", "status": "current", "url": "https://w3c.github.io/webrtc-pc/#dom-rtcdtlsfingerprint", "export": true, "normative": true, "for_": []};
window.refsData['#verify-a-certificate-fingerprint'] = {"text": "verify a certificate fingerprint", "type": "dfn", "spec": "webtransport", "shortname": "webtransport", "level": "", "status": "local", "url": "#verify-a-certificate-fingerprint", "export": true, "normative": true, "for_": []};
window.refsData['#custom-certificate-requirements'] = {"text": "custom certificate requirements", "type": "dfn", "spec": "webtransport", "shortname": "webtransport", "level": "", "status": "local", "url": "#custom-certificate-requirements", "export": true, "normative": true, "for_": []};
window.refsData['https://w3c.github.io/webrtc-pc/#dom-rtcdtlsfingerprint-algorithm'] = {"text": "algorithm", "type": "dict-member", "spec": "webrtc", "shortname": "webrtc", "level": "1", "status": "current", "url": "https://w3c.github.io/webrtc-pc/#dom-rtcdtlsfingerprint-algorithm", "export": true, "normative": true, "for_": ["RTCDtlsFingerprint"]};
window.refsData['https://w3c.github.io/webrtc-pc/#dom-rtcdtlsfingerprint-value'] = {"text": "value", "type": "dict-member", "spec": "webrtc", "shortname": "webrtc", "level": "1", "status": "current", "url": "https://w3c.github.io/webrtc-pc/#dom-rtcdtlsfingerprint-value", "export": true, "normative": true, "for_": ["RTCDtlsFingerprint"]};
window.refsData['https://fetch.spec.whatwg.org/#concept-fetch'] = {"text": "fetch", "type": "dfn", "spec": "fetch", "shortname": "fetch", "level": "1", "status": "current", "url": "https://fetch.spec.whatwg.org/#concept-fetch", "export": true, "normative": true, "for_": []};
window.refsData['#compute-a-certificate-fingerprint'] = {"text": "compute a certificate fingerprint", "type": "dfn", "spec": "webtransport", "shortname": "webtransport", "level": "", "status": "local", "url": "#compute-a-certificate-fingerprint", "export": true, "normative": true, "for_": []};
window.refsData['#dom-webtransportstate-connecting'] = {"text": "\"connecting\"", "type": "enum-value", "spec": "webtransport", "shortname": "webtransport", "level": "", "status": "local", "url": "#dom-webtransportstate-connecting", "export": true, "normative": true, "for_": ["WebTransportState"]};
window.refsData['#dom-webtransportstate-connected'] = {"text": "\"connected\"", "type": "enum-value", "spec": "webtransport", "shortname": "webtransport", "level": "", "status": "local", "url": "#dom-webtransportstate-connected", "export": true, "normative": true, "for_": ["WebTransportState"]};
window.refsData['#dom-webtransportstate-closed'] = {"text": "\"closed\"", "type": "enum-value", "spec": "webtransport", "shortname": "webtransport", "level": "", "status": "local", "url": "#dom-webtransportstate-closed", "export": true, "normative": true, "for_": ["WebTransportState"]};
window.refsData['#dom-webtransportstate-failed'] = {"text": "\"failed\"", "type": "enum-value", "spec": "webtransport", "shortname": "webtransport", "level": "", "status": "local", "url": "#dom-webtransportstate-failed", "export": true, "normative": true, "for_": ["WebTransportState"]};
window.refsData['https://webidl.spec.whatwg.org/#idl-unsigned-long-long'] = {"text": "unsigned long long", "type": "interface", "spec": "webidl", "shortname": "webidl", "level": "1", "status": "current", "url": "https://webidl.spec.whatwg.org/#idl-unsigned-long-long", "export": true, "normative": true, "for_": []};
window.refsData['https://webidl.spec.whatwg.org/#idl-DOMString'] = {"text": "DOMString", "type": "interface", "spec": "webidl", "shortname": "webidl", "level": "1", "status": "current", "url": "https://webidl.spec.whatwg.org/#idl-DOMString", "export": true, "normative": true, "for_": []};
window.refsData['https://w3c.github.io/hr-time/#dom-domhighrestimestamp'] = {"text": "DOMHighResTimeStamp", "type": "typedef", "spec": "hr-time-3", "shortname": "hr-time", "level": "3", "status": "current", "url": "https://w3c.github.io/hr-time/#dom-domhighrestimestamp", "export": true, "normative": true, "for_": []};
window.refsData['#dom-webtransportstats-timestamp'] = {"text": "timestamp", "type": "dict-member", "spec": "webtransport", "shortname": "webtransport", "level": "", "status": "local", "url": "#dom-webtransportstats-timestamp", "export": true, "normative": true, "for_": ["WebTransportStats"]};
window.refsData['#dom-webtransportstats-bytessent'] = {"text": "bytesSent", "type": "dict-member", "spec": "webtransport", "shortname": "webtransport", "level": "", "status": "local", "url": "#dom-webtransportstats-bytessent", "export": true, "normative": true, "for_": ["WebTransportStats"]};
window.refsData['#dom-webtransportstats-packetssent'] = {"text": "packetsSent", "type": "dict-member", "spec": "webtransport", "shortname": "webtransport", "level": "", "status": "local", "url": "#dom-webtransportstats-packetssent", "export": true, "normative": true, "for_": ["WebTransportStats"]};
window.refsData['https://webidl.spec.whatwg.org/#idl-unsigned-long'] = {"text": "unsigned long", "type": "interface", "spec": "webidl", "shortname": "webidl", "level": "1", "status": "current", "url": "https://webidl.spec.whatwg.org/#idl-unsigned-long", "export": true, "normative": true, "for_": []};
window.refsData['#dom-webtransportstats-numoutgoingstreamscreated'] = {"text": "numOutgoingStreamsCreated", "type": "dict-member", "spec": "webtransport", "shortname": "webtransport", "level": "", "status": "local", "url": "#dom-webtransportstats-numoutgoingstreamscreated", "export": true, "normative": true, "for_": ["WebTransportStats"]};
window.refsData['#dom-webtransportstats-numincomingstreamscreated'] = {"text": "numIncomingStreamsCreated", "type": "dict-member", "spec": "webtransport", "shortname": "webtransport", "level": "", "status": "local", "url": "#dom-webtransportstats-numincomingstreamscreated", "export": true, "normative": true, "for_": ["WebTransportStats"]};
window.refsData['#dom-webtransportstats-bytesreceived'] = {"text": "bytesReceived", "type": "dict-member", "spec": "webtransport", "shortname": "webtransport", "level": "", "status": "local", "url": "#dom-webtransportstats-bytesreceived", "export": true, "normative": true, "for_": ["WebTransportStats"]};
window.refsData['#dom-webtransportstats-packetsreceived'] = {"text": "packetsReceived", "type": "dict-member", "spec": "webtransport", "shortname": "webtransport", "level": "", "status": "local", "url": "#dom-webtransportstats-packetsreceived", "export": true, "normative": true, "for_": ["WebTransportStats"]};
window.refsData['#dom-webtransportstats-minrtt'] = {"text": "minRtt", "type": "dict-member", "spec": "webtransport", "shortname": "webtransport", "level": "", "status": "local", "url": "#dom-webtransportstats-minrtt", "export": true, "normative": true, "for_": ["WebTransportStats"]};
window.refsData['#dom-webtransportstats-numreceiveddatagramsdropped'] = {"text": "numReceivedDatagramsDropped", "type": "dict-member", "spec": "webtransport", "shortname": "webtransport", "level": "", "status": "local", "url": "#dom-webtransportstats-numreceiveddatagramsdropped", "export": true, "normative": true, "for_": ["WebTransportStats"]};
window.refsData['#dictdef-streamabortinfo'] = {"text": "StreamAbortInfo", "type": "dictionary", "spec": "webtransport", "shortname": "webtransport", "level": "", "status": "local", "url": "#dictdef-streamabortinfo", "export": true, "normative": true, "for_": []};
window.refsData['#dom-sendstream-writingaborted'] = {"text": "writingAborted", "type": "attribute", "spec": "webtransport", "shortname": "webtransport", "level": "", "status": "local", "url": "#dom-sendstream-writingaborted", "export": true, "normative": true, "for_": ["SendStream"]};
window.refsData['#dom-sendstream-abortwriting'] = {"text": "abortWriting(abortInfo)", "type": "method", "spec": "webtransport", "shortname": "webtransport", "level": "", "status": "local", "url": "#dom-sendstream-abortwriting", "export": true, "normative": true, "for_": ["SendStream"]};
window.refsData['#dom-streamabortinfo-errorcode'] = {"text": "errorCode", "type": "dict-member", "spec": "webtransport", "shortname": "webtransport", "level": "", "status": "local", "url": "#dom-streamabortinfo-errorcode", "export": true, "normative": true, "for_": ["StreamAbortInfo"]};
window.refsData['https://webidl.spec.whatwg.org/#EnforceRange'] = {"text": "EnforceRange", "type": "extended-attribute", "spec": "webidl", "shortname": "webidl", "level": "1", "status": "current", "url": "https://webidl.spec.whatwg.org/#EnforceRange", "export": true, "normative": true, "for_": []};
window.refsData['https://webidl.spec.whatwg.org/#idl-octet'] = {"text": "octet", "type": "interface", "spec": "webidl", "shortname": "webidl", "level": "1", "status": "current", "url": "https://webidl.spec.whatwg.org/#idl-octet", "export": true, "normative": true, "for_": []};
window.refsData['#dom-receivestream-readingaborted'] = {"text": "readingAborted", "type": "attribute", "spec": "webtransport", "shortname": "webtransport", "level": "", "status": "local", "url": "#dom-receivestream-readingaborted", "export": true, "normative": true, "for_": ["ReceiveStream"]};
window.refsData['#dom-receivestream-abortreading'] = {"text": "abortReading(abortInfo)", "type": "method", "spec": "webtransport", "shortname": "webtransport", "level": "", "status": "local", "url": "#dom-receivestream-abortreading", "export": true, "normative": true, "for_": ["ReceiveStream"]};
window.refsData['#dom-bidirectionalstream-writable'] = {"text": "writable", "type": "attribute", "spec": "webtransport", "shortname": "webtransport", "level": "", "status": "local", "url": "#dom-bidirectionalstream-writable", "export": true, "normative": true, "for_": ["BidirectionalStream"]};
window.refsData['#dom-bidirectionalstream-readable'] = {"text": "readable", "type": "attribute", "spec": "webtransport", "shortname": "webtransport", "level": "", "status": "local", "url": "#dom-bidirectionalstream-readable", "export": true, "normative": true, "for_": ["BidirectionalStream"]};
window.refsData['https://encoding.spec.whatwg.org/#textencoderstream'] = {"text": "TextEncoderStream", "type": "interface", "spec": "encoding", "shortname": "encoding", "level": "1", "status": "current", "url": "https://encoding.spec.whatwg.org/#textencoderstream", "export": true, "normative": true, "for_": []};
window.refsData['https://encoding.spec.whatwg.org/#textdecoderstream'] = {"text": "TextDecoderStream", "type": "interface", "spec": "encoding", "shortname": "encoding", "level": "1", "status": "current", "url": "https://encoding.spec.whatwg.org/#textdecoderstream", "export": true, "normative": true, "for_": []};
</script>
<script>/* Boilerplate: script-var-click-highlighting */
/*
Color-choosing design:

Colors are ordered by goodness.
Each color has a usage count (initially zero).
Each variable has a last-used color.

* If the var has a last-used color, and that color's usage is 0,
    return that color.
* Otherwise, return the lowest-indexed color with the lowest usage.
    Increment the color's usage and set it as the last-used color
    for that var.
* On unclicking, decrement usage of the color.
*/
"use strict";
{
    document.addEventListener("click", e=>{
        if(e.target.nodeName == "VAR") {
            highlightSameAlgoVars(e.target);
        }
    });
    const indexCounts = new Map();
    const indexNames = new Map();
    function highlightSameAlgoVars(v) {
        // Find the algorithm container.
        let algoContainer = null;
        let searchEl = v;
        while(algoContainer == null && searchEl != document.body) {
            searchEl = searchEl.parentNode;
            if(searchEl.hasAttribute("data-algorithm")) {
                algoContainer = searchEl;
            }
        }

        // Not highlighting document-global vars,
        // too likely to be unrelated.
        if(algoContainer == null) return;

        const algoName = algoContainer.getAttribute("data-algorithm");
        const varName = getVarName(v);
        const addClass = !v.classList.contains("selected");
        let highlightClass = null;
        if(addClass) {
            const index = chooseHighlightIndex(algoName, varName);
            indexCounts.get(algoName)[index] += 1;
            indexNames.set(algoName+"///"+varName, index);
            highlightClass = nameFromIndex(index);
        } else {
            const index = previousHighlightIndex(algoName, varName);
            indexCounts.get(algoName)[index] -= 1;
            highlightClass = nameFromIndex(index);
        }

        // Find all same-name vars, and toggle their class appropriately.
        for(const el of algoContainer.querySelectorAll("var")) {
            if(getVarName(el) == varName) {
                el.classList.toggle("selected", addClass);
                el.classList.toggle(highlightClass, addClass);
            }
        }
    }
    function getVarName(el) {
        return el.textContent.replace(/(\s|\xa0)+/, " ").trim();
    }
    function chooseHighlightIndex(algoName, varName) {
        let indexes = null;
        if(indexCounts.has(algoName)) {
            indexes = indexCounts.get(algoName);
        } else {
            // 7 classes right now
            indexes = [0,0,0,0,0,0,0];
            indexCounts.set(algoName, indexes);
        }

        // If the element was recently unclicked,
        // *and* that color is still unclaimed,
        // give it back the same color.
        const lastIndex = previousHighlightIndex(algoName, varName);
        if(indexes[lastIndex] === 0) return lastIndex;

        // Find the earliest index with the lowest count.
        const minCount = Math.min.apply(null, indexes);
        let index = null;
        for(var i = 0; i < indexes.length; i++) {
            if(indexes[i] == minCount) {
                return i;
            }
        }
    }
    function previousHighlightIndex(algoName, varName) {
        return indexNames.get(algoName+"///"+varName);
    }
    function nameFromIndex(index) {
        return "selected" + index;
    }
}
</script>