<!doctype html><html lang="en">
 <head>
  <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
  <meta content="width=device-width, initial-scale=1, shrink-to-fit=no" name="viewport">
  <title>WebRTC Encoded Transform</title>
  <meta content="ED" name="w3c-status">
  <link href="https://www.w3.org/StyleSheets/TR/2021/W3C-ED" rel="stylesheet">
  <link href="https://www.w3.org/2008/site/images/favicon.ico" rel="icon">
  <link href="https://www.w3.org/TR/webrtc-encoded-transform/" rel="canonical">
<style>/* style-autolinks */

.css.css, .property.property, .descriptor.descriptor {
    color: var(--a-normal-text);
    font-size: inherit;
    font-family: inherit;
}
.css::before, .property::before, .descriptor::before {
    content: "‘";
}
.css::after, .property::after, .descriptor::after {
    content: "’";
}
.property, .descriptor {
    /* Don't wrap property and descriptor names */
    white-space: nowrap;
}
.type { /* CSS value <type> */
    font-style: italic;
}
pre .property::before, pre .property::after {
    content: "";
}
[data-link-type="property"]::before,
[data-link-type="propdesc"]::before,
[data-link-type="descriptor"]::before,
[data-link-type="value"]::before,
[data-link-type="function"]::before,
[data-link-type="at-rule"]::before,
[data-link-type="selector"]::before,
[data-link-type="maybe"]::before {
    content: "‘";
}
[data-link-type="property"]::after,
[data-link-type="propdesc"]::after,
[data-link-type="descriptor"]::after,
[data-link-type="value"]::after,
[data-link-type="function"]::after,
[data-link-type="at-rule"]::after,
[data-link-type="selector"]::after,
[data-link-type="maybe"]::after {
    content: "’";
}

[data-link-type].production::before,
[data-link-type].production::after,
.prod [data-link-type]::before,
.prod [data-link-type]::after {
    content: "";
}

[data-link-type=element],
[data-link-type=element-attr] {
    font-family: Menlo, Consolas, "DejaVu Sans Mono", monospace;
    font-size: .9em;
}
[data-link-type=element]::before { content: "<" }
[data-link-type=element]::after  { content: ">" }

[data-link-type=biblio] {
    white-space: pre;
}</style>
<style>/* style-colors */

/* Any --*-text not paired with a --*-bg is assumed to have a transparent bg */
:root {
    color-scheme: light dark;

    --text: black;
    --bg: white;

    --unofficial-watermark: url(https://www.w3.org/StyleSheets/TR/2016/logos/UD-watermark);

    --logo-bg: #1a5e9a;
    --logo-active-bg: #c00;
    --logo-text: white;

    --tocnav-normal-text: #707070;
    --tocnav-normal-bg: var(--bg);
    --tocnav-hover-text: var(--tocnav-normal-text);
    --tocnav-hover-bg: #f8f8f8;
    --tocnav-active-text: #c00;
    --tocnav-active-bg: var(--tocnav-normal-bg);

    --tocsidebar-text: var(--text);
    --tocsidebar-bg: #f7f8f9;
    --tocsidebar-shadow: rgba(0,0,0,.1);
    --tocsidebar-heading-text: hsla(203,20%,40%,.7);

    --toclink-text: var(--text);
    --toclink-underline: #3980b5;
    --toclink-visited-text: var(--toclink-text);
    --toclink-visited-underline: #054572;

    --heading-text: #005a9c;

    --hr-text: var(--text);

    --algo-border: #def;

    --del-text: red;
    --del-bg: transparent;
    --ins-text: #080;
    --ins-bg: transparent;

    --a-normal-text: #034575;
    --a-normal-underline: #bbb;
    --a-visited-text: var(--a-normal-text);
    --a-visited-underline: #707070;
    --a-hover-bg: rgba(75%, 75%, 75%, .25);
    --a-active-text: #c00;
    --a-active-underline: #c00;

    --blockquote-border: silver;
    --blockquote-bg: transparent;
    --blockquote-text: currentcolor;

    --issue-border: #e05252;
    --issue-bg: #fbe9e9;
    --issue-text: var(--text);
    --issueheading-text: #831616;

    --example-border: #e0cb52;
    --example-bg: #fcfaee;
    --example-text: var(--text);
    --exampleheading-text: #574b0f;

    --note-border: #52e052;
    --note-bg: #e9fbe9;
    --note-text: var(--text);
    --noteheading-text: hsl(120, 70%, 30%);
    --notesummary-underline: silver;

    --assertion-border: #aaa;
    --assertion-bg: #eee;
    --assertion-text: black;

    --advisement-border: orange;
    --advisement-bg: #fec;
    --advisement-text: var(--text);
    --advisementheading-text: #b35f00;

    --warning-border: red;
    --warning-bg: hsla(40,100%,50%,0.95);
    --warning-text: var(--text);

    --amendment-border: #330099;
    --amendment-bg: #F5F0FF;
    --amendment-text: var(--text);
    --amendmentheading-text: #220066;

    --def-border: #8ccbf2;
    --def-bg: #def;
    --def-text: var(--text);
    --defrow-border: #bbd7e9;

    --datacell-border: silver;

    --indexinfo-text: #707070;

    --indextable-hover-text: black;
    --indextable-hover-bg: #f7f8f9;

    --outdatedspec-bg: rgba(0, 0, 0, .5);
    --outdatedspec-text: black;
    --outdated-bg: maroon;
    --outdated-text: white;
    --outdated-shadow: red;

    --editedrec-bg: darkorange;
}</style>
<style>/* style-counters */

body {
    counter-reset: example figure issue;
}
.issue {
    counter-increment: issue;
}
.issue:not(.no-marker)::before {
    content: "Issue " counter(issue);
}

.example {
    counter-increment: example;
}
.example:not(.no-marker)::before {
    content: "Example " counter(example);
}
.invalid.example:not(.no-marker)::before,
.illegal.example:not(.no-marker)::before {
    content: "Invalid Example" counter(example);
}

figcaption {
    counter-increment: figure;
}
figcaption:not(.no-marker)::before {
    content: "Figure " counter(figure) " ";
}</style>
<style>/* style-dfn-panel */

:root {
    --dfnpanel-bg: #ddd;
    --dfnpanel-text: var(--text);
}
.dfn-panel {
    position: absolute;
    z-index: 35;
    height: auto;
    width: -webkit-fit-content;
    width: fit-content;
    max-width: 300px;
    max-height: 500px;
    overflow: auto;
    padding: 0.5em 0.75em;
    font: small Helvetica Neue, sans-serif, Droid Sans Fallback;
    background: var(--dfnpanel-bg);
    color: var(--dfnpanel-text);
    border: outset 0.2em;
}
.dfn-panel:not(.on) { display: none; }
.dfn-panel * { margin: 0; padding: 0; text-indent: 0; }
.dfn-panel > b { display: block; }
.dfn-panel a { color: var(--dfnpanel-text); }
.dfn-panel a:not(:hover) { text-decoration: none !important; border-bottom: none !important; }
.dfn-panel > b + b { margin-top: 0.25em; }
.dfn-panel ul { padding: 0; }
.dfn-panel li { list-style: inside; }
.dfn-panel.activated {
    display: inline-block;
    position: fixed;
    left: .5em;
    bottom: 2em;
    margin: 0 auto;
    max-width: calc(100vw - 1.5em - .4em - .5em);
    max-height: 30vh;
}

.dfn-paneled { cursor: pointer; }
</style>
<style>/* style-issues */

a[href].issue-return {
    float: right;
    float: inline-end;
    color: var(--issueheading-text);
    font-weight: bold;
    text-decoration: none;
}
</style>
<style>/* style-md-lists */

/* This is a weird hack for me not yet following the commonmark spec
   regarding paragraph and lists. */
[data-md] > :first-child {
    margin-top: 0;
}
[data-md] > :last-child {
    margin-bottom: 0;
}</style>
<style>/* style-selflinks */

:root {
    --selflink-text: white;
    --selflink-bg: gray;
    --selflink-hover-text: black;
}
.heading, .issue, .note, .example, li, dt {
    position: relative;
}
a.self-link {
    position: absolute;
    top: 0;
    left: calc(-1 * (3.5rem - 26px));
    width: calc(3.5rem - 26px);
    height: 2em;
    text-align: center;
    border: none;
    transition: opacity .2s;
    opacity: .5;
}
a.self-link:hover {
    opacity: 1;
}
.heading > a.self-link {
    font-size: 83%;
}
.example > a.self-link,
.note > a.self-link,
.issue > a.self-link {
    /* These blocks are overflow:auto, so positioning outside
       doesn't work. */
    left: auto;
    right: 0;
}
li > a.self-link {
    left: calc(-1 * (3.5rem - 26px) - 2em);
}
dfn > a.self-link {
    top: auto;
    left: auto;
    opacity: 0;
    width: 1.5em;
    height: 1.5em;
    background: var(--selflink-bg);
    color: var(--selflink-text);
    font-style: normal;
    transition: opacity .2s, background-color .2s, color .2s;
}
dfn:hover > a.self-link {
    opacity: 1;
}
dfn > a.self-link:hover {
    color: var(--selflink-hover-text);
}

a.self-link::before            { content: "¶"; }
.heading > a.self-link::before { content: "§"; }
dfn > a.self-link::before      { content: "#"; }
</style>
<style>/* style-syntax-highlighting */

            pre.idl.highlight {
                background: var(--borderedblock-bg, var(--def-bg));
            }
            
code.highlight { padding: .1em; border-radius: .3em; }
pre.highlight, pre > code.highlight { display: block; padding: 1em; margin: .5em 0; overflow: auto; border-radius: 0; }

.highlight:not(.idl) { background: rgba(0, 0, 0, .03); }
c-[a] { color: #990055 } /* Keyword.Declaration */
c-[b] { color: #990055 } /* Keyword.Type */
c-[c] { color: #708090 } /* Comment */
c-[d] { color: #708090 } /* Comment.Multiline */
c-[e] { color: #0077aa } /* Name.Attribute */
c-[f] { color: #669900 } /* Name.Tag */
c-[g] { color: #222222 } /* Name.Variable */
c-[k] { color: #990055 } /* Keyword */
c-[l] { color: #000000 } /* Literal */
c-[m] { color: #000000 } /* Literal.Number */
c-[n] { color: #0077aa } /* Name */
c-[o] { color: #999999 } /* Operator */
c-[p] { color: #999999 } /* Punctuation */
c-[s] { color: #a67f59 } /* Literal.String */
c-[t] { color: #a67f59 } /* Literal.String.Single */
c-[u] { color: #a67f59 } /* Literal.String.Double */
c-[cp] { color: #708090 } /* Comment.Preproc */
c-[c1] { color: #708090 } /* Comment.Single */
c-[cs] { color: #708090 } /* Comment.Special */
c-[kc] { color: #990055 } /* Keyword.Constant */
c-[kn] { color: #990055 } /* Keyword.Namespace */
c-[kp] { color: #990055 } /* Keyword.Pseudo */
c-[kr] { color: #990055 } /* Keyword.Reserved */
c-[ld] { color: #000000 } /* Literal.Date */
c-[nc] { color: #0077aa } /* Name.Class */
c-[no] { color: #0077aa } /* Name.Constant */
c-[nd] { color: #0077aa } /* Name.Decorator */
c-[ni] { color: #0077aa } /* Name.Entity */
c-[ne] { color: #0077aa } /* Name.Exception */
c-[nf] { color: #0077aa } /* Name.Function */
c-[nl] { color: #0077aa } /* Name.Label */
c-[nn] { color: #0077aa } /* Name.Namespace */
c-[py] { color: #0077aa } /* Name.Property */
c-[ow] { color: #999999 } /* Operator.Word */
c-[mb] { color: #000000 } /* Literal.Number.Bin */
c-[mf] { color: #000000 } /* Literal.Number.Float */
c-[mh] { color: #000000 } /* Literal.Number.Hex */
c-[mi] { color: #000000 } /* Literal.Number.Integer */
c-[mo] { color: #000000 } /* Literal.Number.Oct */
c-[sb] { color: #a67f59 } /* Literal.String.Backtick */
c-[sc] { color: #a67f59 } /* Literal.String.Char */
c-[sd] { color: #a67f59 } /* Literal.String.Doc */
c-[se] { color: #a67f59 } /* Literal.String.Escape */
c-[sh] { color: #a67f59 } /* Literal.String.Heredoc */
c-[si] { color: #a67f59 } /* Literal.String.Interpol */
c-[sx] { color: #a67f59 } /* Literal.String.Other */
c-[sr] { color: #a67f59 } /* Literal.String.Regex */
c-[ss] { color: #a67f59 } /* Literal.String.Symbol */
c-[vc] { color: #0077aa } /* Name.Variable.Class */
c-[vg] { color: #0077aa } /* Name.Variable.Global */
c-[vi] { color: #0077aa } /* Name.Variable.Instance */
c-[il] { color: #000000 } /* Literal.Number.Integer.Long */
</style>
<style>/* style-darkmode */

@media (prefers-color-scheme: dark) {
    :root {
        --text: #ddd;
        --bg: black;

        --unofficial-watermark: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='400' height='400'%3E%3Cg fill='%23100808' transform='translate(200 200) rotate(-45) translate(-200 -200)' stroke='%23100808' stroke-width='3'%3E%3Ctext x='50%25' y='220' style='font: bold 70px sans-serif; text-anchor: middle; letter-spacing: 6px;'%3EUNOFFICIAL%3C/text%3E%3Ctext x='50%25' y='305' style='font: bold 70px sans-serif; text-anchor: middle; letter-spacing: 6px;'%3EDRAFT%3C/text%3E%3C/g%3E%3C/svg%3E");

        --logo-bg: #1a5e9a;
        --logo-active-bg: #c00;
        --logo-text: white;

        --tocnav-normal-text: #999;
        --tocnav-normal-bg: var(--bg);
        --tocnav-hover-text: var(--tocnav-normal-text);
        --tocnav-hover-bg: #080808;
        --tocnav-active-text: #f44;
        --tocnav-active-bg: var(--tocnav-normal-bg);

        --tocsidebar-text: var(--text);
        --tocsidebar-bg: #080808;
        --tocsidebar-shadow: rgba(255,255,255,.1);
        --tocsidebar-heading-text: hsla(203,20%,40%,.7);

        --toclink-text: var(--text);
        --toclink-underline: #6af;
        --toclink-visited-text: var(--toclink-text);
        --toclink-visited-underline: #054572;

        --heading-text: #8af;

        --hr-text: var(--text);

        --algo-border: #456;

        --del-text: #f44;
        --del-bg: transparent;
        --ins-text: #4a4;
        --ins-bg: transparent;

        --a-normal-text: #6af;
        --a-normal-underline: #555;
        --a-visited-text: var(--a-normal-text);
        --a-visited-underline: var(--a-normal-underline);
        --a-hover-bg: rgba(25%, 25%, 25%, .2);
        --a-active-text: #f44;
        --a-active-underline: var(--a-active-text);

        --borderedblock-bg: rgba(255, 255, 255, .05);

        --blockquote-border: silver;
        --blockquote-bg: var(--borderedblock-bg);
        --blockquote-text: currentcolor;

        --issue-border: #e05252;
        --issue-bg: var(--borderedblock-bg);
        --issue-text: var(--text);
        --issueheading-text: hsl(0deg, 70%, 70%);

        --example-border: hsl(50deg, 90%, 60%);
        --example-bg: var(--borderedblock-bg);
        --example-text: var(--text);
        --exampleheading-text: hsl(50deg, 70%, 70%);

        --note-border: hsl(120deg, 100%, 35%);
        --note-bg: var(--borderedblock-bg);
        --note-text: var(--text);
        --noteheading-text: hsl(120, 70%, 70%);
        --notesummary-underline: silver;

        --assertion-border: #444;
        --assertion-bg: var(--borderedblock-bg);
        --assertion-text: var(--text);

        --advisement-border: orange;
        --advisement-bg: #222218;
        --advisement-text: var(--text);
        --advisementheading-text: #f84;

        --warning-border: red;
        --warning-bg: hsla(40,100%,20%,0.95);
        --warning-text: var(--text);

        --amendment-border: #330099;
        --amendment-bg: #080010;
        --amendment-text: var(--text);
        --amendmentheading-text: #cc00ff;

        --def-border: #8ccbf2;
        --def-bg: #080818;
        --def-text: var(--text);
        --defrow-border: #136;

        --datacell-border: silver;

        --indexinfo-text: #aaa;

        --indextable-hover-text: var(--text);
        --indextable-hover-bg: #181818;

        --outdatedspec-bg: rgba(255, 255, 255, .5);
        --outdatedspec-text: black;
        --outdated-bg: maroon;
        --outdated-text: white;
        --outdated-shadow: red;

        --editedrec-bg: darkorange;
    }
    /* In case a transparent-bg image doesn't expect to be on a dark bg,
       which is quite common in practice... */
    img { background: white; }
}
@media (prefers-color-scheme: dark) {
    :root {
        --selflink-text: black;
        --selflink-bg: silver;
        --selflink-hover-text: white;
    }
}

@media (prefers-color-scheme: dark) {
    :root {
        --dfnpanel-bg: #222;
        --dfnpanel-text: var(--text);
    }
}
@media (prefers-color-scheme: dark) {
    .highlight:not(.idl) { background: rgba(255, 255, 255, .05); }

    c-[a] { color: #d33682 } /* Keyword.Declaration */
    c-[b] { color: #d33682 } /* Keyword.Type */
    c-[c] { color: #2aa198 } /* Comment */
    c-[d] { color: #2aa198 } /* Comment.Multiline */
    c-[e] { color: #268bd2 } /* Name.Attribute */
    c-[f] { color: #b58900 } /* Name.Tag */
    c-[g] { color: #cb4b16 } /* Name.Variable */
    c-[k] { color: #d33682 } /* Keyword */
    c-[l] { color: #657b83 } /* Literal */
    c-[m] { color: #657b83 } /* Literal.Number */
    c-[n] { color: #268bd2 } /* Name */
    c-[o] { color: #657b83 } /* Operator */
    c-[p] { color: #657b83 } /* Punctuation */
    c-[s] { color: #6c71c4 } /* Literal.String */
    c-[t] { color: #6c71c4 } /* Literal.String.Single */
    c-[u] { color: #6c71c4 } /* Literal.String.Double */
    c-[ch] { color: #2aa198 } /* Comment.Hashbang */
    c-[cp] { color: #2aa198 } /* Comment.Preproc */
    c-[cpf] { color: #2aa198 } /* Comment.PreprocFile */
    c-[c1] { color: #2aa198 } /* Comment.Single */
    c-[cs] { color: #2aa198 } /* Comment.Special */
    c-[kc] { color: #d33682 } /* Keyword.Constant */
    c-[kn] { color: #d33682 } /* Keyword.Namespace */
    c-[kp] { color: #d33682 } /* Keyword.Pseudo */
    c-[kr] { color: #d33682 } /* Keyword.Reserved */
    c-[ld] { color: #657b83 } /* Literal.Date */
    c-[nc] { color: #268bd2 } /* Name.Class */
    c-[no] { color: #268bd2 } /* Name.Constant */
    c-[nd] { color: #268bd2 } /* Name.Decorator */
    c-[ni] { color: #268bd2 } /* Name.Entity */
    c-[ne] { color: #268bd2 } /* Name.Exception */
    c-[nf] { color: #268bd2 } /* Name.Function */
    c-[nl] { color: #268bd2 } /* Name.Label */
    c-[nn] { color: #268bd2 } /* Name.Namespace */
    c-[py] { color: #268bd2 } /* Name.Property */
    c-[ow] { color: #657b83 } /* Operator.Word */
    c-[mb] { color: #657b83 } /* Literal.Number.Bin */
    c-[mf] { color: #657b83 } /* Literal.Number.Float */
    c-[mh] { color: #657b83 } /* Literal.Number.Hex */
    c-[mi] { color: #657b83 } /* Literal.Number.Integer */
    c-[mo] { color: #657b83 } /* Literal.Number.Oct */
    c-[sa] { color: #6c71c4 } /* Literal.String.Affix */
    c-[sb] { color: #6c71c4 } /* Literal.String.Backtick */
    c-[sc] { color: #6c71c4 } /* Literal.String.Char */
    c-[dl] { color: #6c71c4 } /* Literal.String.Delimiter */
    c-[sd] { color: #6c71c4 } /* Literal.String.Doc */
    c-[se] { color: #6c71c4 } /* Literal.String.Escape */
    c-[sh] { color: #6c71c4 } /* Literal.String.Heredoc */
    c-[si] { color: #6c71c4 } /* Literal.String.Interpol */
    c-[sx] { color: #6c71c4 } /* Literal.String.Other */
    c-[sr] { color: #6c71c4 } /* Literal.String.Regex */
    c-[ss] { color: #6c71c4 } /* Literal.String.Symbol */
    c-[fm] { color: #268bd2 } /* Name.Function.Magic */
    c-[vc] { color: #cb4b16 } /* Name.Variable.Class */
    c-[vg] { color: #cb4b16 } /* Name.Variable.Global */
    c-[vi] { color: #cb4b16 } /* Name.Variable.Instance */
    c-[vm] { color: #cb4b16 } /* Name.Variable.Magic */
    c-[il] { color: #657b83 } /* Literal.Number.Integer.Long */
}
</style>
 <body class="h-entry">
  <div class="head">
   <p data-fill-with="logo"><a class="logo" href="https://www.w3.org/"> <img alt="W3C" height="48" src="https://www.w3.org/StyleSheets/TR/2021/logos/W3C" width="72"> </a> </p>
   <h1 class="p-name no-ref" id="title">WebRTC Encoded Transform</h1>
   <p id="w3c-state"><a href="https://www.w3.org/standards/types#ED">Editor’s Draft</a>, <time class="dt-updated" datetime="1970-01-01">1 January 1970</time></p>
   <details open>
    <summary>More details about this document</summary>
    <div data-fill-with="spec-metadata">
     <dl>
      <dt>This version:
      <dd><a class="u-url" href="https://w3c.github.io/webrtc-encoded-transform/">https://w3c.github.io/webrtc-encoded-transform/</a>
      <dt>Latest published version:
      <dd><a href="https://www.w3.org/TR/webrtc-encoded-transform/">https://www.w3.org/TR/webrtc-encoded-transform/</a>
      <dt>Feedback:
      <dd><span><a href="mailto:public-webrtc@w3.org?subject=%5Bwebrtc-encoded-transform%5D%20YOUR%20TOPIC%20HERE">public-webrtc@w3.org</a> with subject line “<kbd>[webrtc-encoded-transform] <i data-lt>… message topic …</i></kbd>” (<a href="https://lists.w3.org/Archives/Public/public-webrtc/" rel="discussion">archives</a>)</span>
      <dt class="editor">Editors:
      <dd class="editor p-author h-card vcard" data-editor-id="24610"><a class="p-name fn u-email email" href="mailto:hta@google.com">Harald Alvestrand</a> (<a class="p-org org" href="https://google.com">Google</a>)
      <dd class="editor p-author h-card vcard" data-editor-id="84810"><a class="p-name fn u-email email" href="mailto:guidou@google.com">Guido Urdaneta</a> (<a class="p-org org" href="https://google.com">Google</a>)
      <dd class="editor p-author h-card vcard" data-editor-id="96458"><a class="p-name fn u-email email" href="mailto:youenn@apple.com">Youenn Fablet</a> (<a class="p-org org" href="https://www.apple.com">Apple</a>)
     </dl>
    </div>
   </details>
   <div data-fill-with="warning"></div>
   <p class="copyright" data-fill-with="copyright"><a href="https://www.w3.org/Consortium/Legal/ipr-notice#Copyright">Copyright</a> © 1970 <a href="https://www.w3.org/"><abbr title="World Wide Web Consortium">W3C</abbr></a><sup>®</sup> (<a href="https://www.csail.mit.edu/"><abbr title="Massachusetts Institute of Technology">MIT</abbr></a>, <a href="https://www.ercim.eu/"><abbr title="European Research Consortium for Informatics and Mathematics">ERCIM</abbr></a>, <a href="https://www.keio.ac.jp/">Keio</a>, <a href="https://ev.buaa.edu.cn/">Beihang</a>). W3C <a href="https://www.w3.org/Consortium/Legal/ipr-notice#Legal_Disclaimer">liability</a>, <a href="https://www.w3.org/Consortium/Legal/ipr-notice#W3C_Trademarks">trademark</a> and <a href="https://www.w3.org/Consortium/Legal/2015/copyright-software-and-document" rel="license">permissive document license</a> rules apply. </p>
   <hr title="Separator for header">
  </div>
  <div class="p-summary" data-fill-with="abstract">
   <h2 class="no-num no-toc no-ref heading settled" id="abstract"><span class="content">Abstract</span></h2>
   <p>This API defines an API surface for manipulating the bits on <code class="idl"><a data-link-type="idl" href="https://w3c.github.io/mediacapture-main/#dom-mediastreamtrack" id="ref-for-dom-mediastreamtrack">MediaStreamTrack</a></code>s being sent via an <code class="idl"><a data-link-type="idl" href="https://w3c.github.io/webrtc-pc/#dom-rtcpeerconnection" id="ref-for-dom-rtcpeerconnection">RTCPeerConnection</a></code>.</p>
  </div>
  <h2 class="no-num no-toc no-ref heading settled" id="sotd"><span class="content">Status of this document</span></h2>
  <div data-fill-with="status">
   <p> This is a public copy of the editors’ draft.
	It is provided for discussion only and may change at any moment.
	Its publication here does not imply endorsement of its contents by W3C.
	Don’t cite this document other than as work in progress. </p>
   <p> If you wish to make comments regarding this document, please send them to <a href="mailto:public-webrtc@w3.org?Subject=%5Bwebrtc-encoded-transform%5D%20PUT%20SUBJECT%20HERE">public-webrtc@w3.org</a> (<a href="mailto:public-webrtc-request@w3.org?subject=subscribe">subscribe</a>, <a href="https://lists.w3.org/Archives/Public/public-webrtc/">archives</a>).
	When sending e-mail,
	please put the text “webrtc-encoded-transform” in the subject,
	preferably like this:
	“[webrtc-encoded-transform] <em>…summary of comment…</em>”.
	All comments are welcome. </p>
   <p> This document was produced by the <a href="https://www.w3.org/groups/wg/webrtc">Web Real-Time Communications Working Group</a>. </p>
   <p> This document was produced by a group operating under
	the <a href="https://www.w3.org/Consortium/Patent-Policy/">W3C Patent Policy</a>.
	W3C maintains a <a href="https://www.w3.org/2004/01/pp-impl/47318/status" rel="disclosure">public list of any patent disclosures</a> made in connection with the deliverables of the group;
	that page also includes instructions for disclosing a patent.
	An individual who has actual knowledge of a patent which the individual believes contains <a href="https://www.w3.org/Consortium/Patent-Policy/#def-essential">Essential Claim(s)</a> must disclose the information in accordance with <a href="https://www.w3.org/Consortium/Patent-Policy/#sec-Disclosure">section 6 of the W3C Patent Policy</a>. </p>
   <p> This document is governed by the <a href="https://www.w3.org/2021/Process-20211102/" id="w3c_process_revision">2 November 2021 W3C Process Document</a>. </p>
   <p></p>
  </div>
  <div data-fill-with="at-risk"></div>
  <nav data-fill-with="table-of-contents" id="toc">
   <h2 class="no-num no-toc no-ref" id="contents">Table of Contents</h2>
   <ol class="toc" role="directory">
    <li><a href="#introduction"><span class="secno">1</span> <span class="content">Introduction</span></a>
    <li><a href="#terminology"><span class="secno">2</span> <span class="content">Terminology</span></a>
    <li>
     <a href="#specification"><span class="secno">3</span> <span class="content">Specification</span></a>
     <ol class="toc">
      <li>
       <a href="#operation"><span class="secno">3.1</span> <span class="content">Extension operation</span></a>
       <ol class="toc">
        <li><a href="#stream-creation"><span class="secno">3.1.1</span> <span class="content">Stream creation</span></a>
        <li><a href="#stream-processing"><span class="secno">3.1.2</span> <span class="content">Stream processing</span></a>
       </ol>
      <li><a href="#attribute"><span class="secno">3.2</span> <span class="content">Extension attribute</span></a>
     </ol>
    <li>
     <a href="#sframe"><span class="secno">4</span> <span class="content">SFrameTransform</span></a>
     <ol class="toc">
      <li><a href="#sframe-transform-algorithm"><span class="secno">4.1</span> <span class="content">Algorithm</span></a>
      <li><a href="#sframe-transform-methods"><span class="secno">4.2</span> <span class="content">Methods</span></a>
     </ol>
    <li>
     <a href="#scriptTransform"><span class="secno">5</span> <span class="content">RTCRtpScriptTransform</span></a>
     <ol class="toc">
      <li><a href="#RTCEncodedVideoFrameType"><span class="secno">5.1</span> <span class="content"><span>RTCEncodedVideoFrameType</span> dictionary</span></a>
      <li>
       <a href="#RTCEncodedVideoFrameMetadata"><span class="secno">5.2</span> <span class="content"><span>RTCEncodedVideoFrameMetadata</span> dictionary</span></a>
       <ol class="toc">
        <li><a href="#RTCEncodedVideoFrameMetadata-members"><span class="secno">5.2.1</span> <span class="content">Members</span></a>
       </ol>
      <li>
       <a href="#RTCEncodedVideoFrame-interface"><span class="secno">5.3</span> <span class="content"><span>RTCEncodedVideoFrame</span> interface</span></a>
       <ol class="toc">
        <li><a href="#RTCEncodedVideoFrame-members"><span class="secno">5.3.1</span> <span class="content">Members</span></a>
        <li><a href="#RTCEncodedVideoFrame-methods"><span class="secno">5.3.2</span> <span class="content">Methods</span></a>
       </ol>
      <li>
       <a href="#RTCEncodedAudioFrameMetadata"><span class="secno">5.4</span> <span class="content"><span>RTCEncodedAudioFrameMetadata</span> dictionary</span></a>
       <ol class="toc">
        <li><a href="#RTCEncodedAudioFrameMetadata-members"><span class="secno">5.4.1</span> <span class="content">Members</span></a>
       </ol>
      <li>
       <a href="#RTCEncodedAudioFrame-interface"><span class="secno">5.5</span> <span class="content"><span>RTCEncodedAudioFrame</span> interface</span></a>
       <ol class="toc">
        <li><a href="#RTCEncodedAudioFrame-members"><span class="secno">5.5.1</span> <span class="content">Members</span></a>
        <li><a href="#RTCEncodedAudioFrame-methods"><span class="secno">5.5.2</span> <span class="content">Methods</span></a>
       </ol>
      <li><a href="#RTCRtpScriptTransform-operations"><span class="secno">5.6</span> <span class="content">Operations</span></a>
      <li><a href="#RTCRtpScriptTransformer-attributes"><span class="secno">5.7</span> <span class="content">Attributes</span></a>
      <li><a href="#KeyFrame-algorithms"><span class="secno">5.8</span> <span class="content">KeyFrame Algorithms</span></a>
     </ol>
    <li>
     <a href="#rtcrtpsender-extension"><span class="secno">6</span> <span class="content">RTCRtpSender extension</span></a>
     <ol class="toc">
      <li><a href="#sender-operation"><span class="secno">6.1</span> <span class="content">Extension operation</span></a>
     </ol>
    <li><a href="#privacy"><span class="secno">7</span> <span class="content">Privacy and security considerations</span></a>
    <li><a href="#examples"><span class="secno">8</span> <span class="content">Examples</span></a>
    <li>
     <a href="#w3c-conformance"><span class="secno"></span> <span class="content">Conformance</span></a>
     <ol class="toc">
      <li><a href="#w3c-conventions"><span class="secno"></span> <span class="content">Document conventions</span></a>
      <li><a href="#w3c-conformant-algorithms"><span class="secno"></span> <span class="content">Conformant Algorithms</span></a>
     </ol>
    <li>
     <a href="#index"><span class="secno"></span> <span class="content">Index</span></a>
     <ol class="toc">
      <li><a href="#index-defined-here"><span class="secno"></span> <span class="content">Terms defined by this specification</span></a>
      <li><a href="#index-defined-elsewhere"><span class="secno"></span> <span class="content">Terms defined by reference</span></a>
     </ol>
    <li>
     <a href="#references"><span class="secno"></span> <span class="content">References</span></a>
     <ol class="toc">
      <li><a href="#normative"><span class="secno"></span> <span class="content">Normative References</span></a>
      <li><a href="#informative"><span class="secno"></span> <span class="content">Informative References</span></a>
     </ol>
    <li><a href="#idl-index"><span class="secno"></span> <span class="content">IDL Index</span></a>
   </ol>
  </nav>
  <main>
   <h2 class="heading settled" data-level="1" id="introduction"><span class="secno">1. </span><span class="content">Introduction</span><a class="self-link" href="#introduction"></a></h2>
   <p>The <a data-link-type="biblio" href="#biblio-webrtc-nv-use-cases" title="WebRTC Next Version Use Cases">[WEBRTC-NV-USE-CASES]</a> document describes the use-case of</p>
   <ul>
    <li data-md>
     <p>Untrusted JavaScript Cloud Conferencing</p>
   </ul>
   which requires that the conferencing server does not have access
to the cleartext media (requirement N27). 
   <p>This specification provides access to encoded media,
which is the output of the encoder part of a codec and the input to the
decoder part of a codec which allows the user agent to apply encryption
locally.</p>
   <p>The interface is inspired by <a data-link-type="biblio" href="#biblio-web-codecs" title="Web Codecs explainer">[WEB-CODECS]</a> to
provide access to such functionality while retaining the setup flow of
RTCPeerConnection</p>
   <h2 class="heading settled" data-level="2" id="terminology"><span class="secno">2. </span><span class="content">Terminology</span><a class="self-link" href="#terminology"></a></h2>
   <h2 class="heading settled" data-level="3" id="specification"><span class="secno">3. </span><span class="content">Specification</span><a class="self-link" href="#specification"></a></h2>
   <p>The Streams definition doesn’t use WebIDL much, but the WebRTC spec does.
This specification shows the IDL extensions for WebRTC.</p>
   <p>It uses an additional API on <code class="idl"><a data-link-type="idl" href="https://w3c.github.io/webrtc-pc/#dom-rtcrtpsender" id="ref-for-dom-rtcrtpsender">RTCRtpSender</a></code> and <code class="idl"><a data-link-type="idl" href="https://w3c.github.io/webrtc-pc/#dom-rtcrtpreceiver" id="ref-for-dom-rtcrtpreceiver">RTCRtpReceiver</a></code> to
insert the processing into the pipeline.</p>
<pre class="idl highlight def"><c- b>typedef</c-> (<a data-link-type="idl-name" href="#sframetransform" id="ref-for-sframetransform"><c- n>SFrameTransform</c-></a> <c- b>or</c-> <a data-link-type="idl-name" href="#rtcrtpscripttransform" id="ref-for-rtcrtpscripttransform"><c- n>RTCRtpScriptTransform</c-></a>) <dfn class="dfn-paneled idl-code" data-dfn-type="typedef" data-export id="typedefdef-rtcrtptransform"><code><c- g>RTCRtpTransform</c-></code></dfn>;

// New methods for RTCRtpSender and RTCRtpReceiver
<c- b>partial</c-> <c- b>interface</c-> <a class="idl-code" data-link-type="interface" href="https://w3c.github.io/webrtc-pc/#dom-rtcrtpsender" id="ref-for-dom-rtcrtpsender①"><c- g>RTCRtpSender</c-></a> {
    <c- b>attribute</c-> <a data-link-type="idl-name" href="#typedefdef-rtcrtptransform" id="ref-for-typedefdef-rtcrtptransform"><c- n>RTCRtpTransform</c-></a>? <a class="idl-code" data-link-type="attribute" data-type="RTCRtpTransform?" href="#dom-rtcrtpsender-transform" id="ref-for-dom-rtcrtpsender-transform"><c- g>transform</c-></a>;
};

<c- b>partial</c-> <c- b>interface</c-> <a class="idl-code" data-link-type="interface" href="https://w3c.github.io/webrtc-pc/#dom-rtcrtpreceiver" id="ref-for-dom-rtcrtpreceiver①"><c- g>RTCRtpReceiver</c-></a> {
    <c- b>attribute</c-> <a data-link-type="idl-name" href="#typedefdef-rtcrtptransform" id="ref-for-typedefdef-rtcrtptransform①"><c- n>RTCRtpTransform</c-></a>? <a class="idl-code" data-link-type="attribute" data-type="RTCRtpTransform?" href="#dom-rtcrtpsender-transform" id="ref-for-dom-rtcrtpsender-transform①"><c- g>transform</c-></a>;
};
</pre>
   <h3 class="heading settled" data-level="3.1" id="operation"><span class="secno">3.1. </span><span class="content">Extension operation</span><a class="self-link" href="#operation"></a></h3>
   <p>At the time when a codec is initialized as part of the encoder, and the
corresponding flag is set in the <code class="idl"><a data-link-type="idl" href="https://w3c.github.io/webrtc-pc/#dom-rtcpeerconnection" id="ref-for-dom-rtcpeerconnection①">RTCPeerConnection</a></code>'s <code class="idl"><a data-link-type="idl" href="https://w3c.github.io/webrtc-pc/#dom-rtcconfiguration" id="ref-for-dom-rtcconfiguration">RTCConfiguration</a></code> argument, ensure that the codec is disabled and produces no output.</p>
   <h4 class="heading settled" data-level="3.1.1" id="stream-creation"><span class="secno">3.1.1. </span><span class="content">Stream creation</span><a class="self-link" href="#stream-creation"></a></h4>
   <p>At construction of each <code class="idl"><a data-link-type="idl" href="https://w3c.github.io/webrtc-pc/#dom-rtcrtpsender" id="ref-for-dom-rtcrtpsender②">RTCRtpSender</a></code> or <code class="idl"><a data-link-type="idl" href="https://w3c.github.io/webrtc-pc/#dom-rtcrtpreceiver" id="ref-for-dom-rtcrtpreceiver②">RTCRtpReceiver</a></code>, run the following steps:</p>
   <ol start="2">
    <li data-md>
     <p>Initialize <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this" id="ref-for-this">this</a>.<code>[[transform]]</code> to null.</p>
    <li data-md>
     <p>Initialize <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this" id="ref-for-this①">this</a>.<code>[[readable]]</code> to a new <code class="idl"><a data-link-type="idl" href="https://streams.spec.whatwg.org/#readablestream" id="ref-for-readablestream">ReadableStream</a></code>.</p>
    <li data-md>
     <p><a data-link-type="dfn" href="https://streams.spec.whatwg.org/#readablestream-set-up" id="ref-for-readablestream-set-up">Set up</a> <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this" id="ref-for-this②">this</a>.<code>[[readable]]</code>. <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this" id="ref-for-this③">this</a>.<code>[[readable]]</code> is provided frames using the <a data-link-type="dfn" href="#readencodeddata" id="ref-for-readencodeddata">readEncodedData</a> algorithm given <var>this</var> as parameter.</p>
    <li data-md>
     <p>Set <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this" id="ref-for-this④">this</a>.<code>[[readable]]</code>.<code>[[owner]]</code> to <var>this</var>.</p>
    <li data-md>
     <p>Initialize <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this" id="ref-for-this⑤">this</a>.<code>[[writable]]</code> to a new <code class="idl"><a data-link-type="idl" href="https://streams.spec.whatwg.org/#writablestream" id="ref-for-writablestream">WritableStream</a></code>.</p>
    <li data-md>
     <p><a data-link-type="dfn" href="https://streams.spec.whatwg.org/#writablestream-set-up" id="ref-for-writablestream-set-up">Set up</a> <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this" id="ref-for-this⑥">this</a>.<code>[[writable]]</code> with its <a data-link-type="dfn" href="https://streams.spec.whatwg.org/#writablestream-set-up-writealgorithm" id="ref-for-writablestream-set-up-writealgorithm">writeAlgorithm</a> set to <a data-link-type="dfn" href="#writeencodeddata" id="ref-for-writeencodeddata">writeEncodedData</a> given <var>this</var> as parameter and its <a data-link-type="dfn" href="https://streams.spec.whatwg.org/#writablestream-set-up-sizealgorithm" id="ref-for-writablestream-set-up-sizealgorithm">sizeAlgorithm</a> to an algorithm that returns <code>0</code>.</p>
     <p class="note" role="note">Chunk size is set to 0 to explictly disable streams backpressure on the write side.</p>
    <li data-md>
     <p>Set <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this" id="ref-for-this⑦">this</a>.<code>[[writable]]</code>.<code>[[owner]]</code> to <var>this</var>.</p>
    <li data-md>
     <p>Initialize <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this" id="ref-for-this⑧">this</a>.<code>[[pipeToController]]</code> to null.</p>
    <li data-md>
     <p>Initialize <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this" id="ref-for-this⑨">this</a>.<code>[[lastReceivedFrameCounter]]</code> to <code>0</code>.</p>
    <li data-md>
     <p>Initialize <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this" id="ref-for-this①⓪">this</a>.<code>[[lastEnqueuedFrameCounter]]</code> to <code>0</code>.</p>
    <li data-md>
     <p><a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-task" id="ref-for-queue-a-task">Queue a task</a> to run the following steps:</p>
     <ol>
      <li data-md>
       <p>If <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this" id="ref-for-this①①">this</a>.<code>[[pipeToController]]</code> is not null, abort these steps.</p>
      <li data-md>
       <p>Set <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this" id="ref-for-this①②">this</a>.<code>[[pipeToController]]</code> to a new <code class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#abortcontroller" id="ref-for-abortcontroller">AbortController</a></code>.</p>
      <li data-md>
       <p>Call <a href="https://streams.spec.whatwg.org/#readable-stream-pipe-to">pipeTo</a> with <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this" id="ref-for-this①③">this</a>.<code>[[readable]]</code>, <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this" id="ref-for-this①④">this</a>.<code>[[writable]]</code>, preventClose equal to true, preventAbort equal to true, preventCancel equal to true and <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this" id="ref-for-this①⑤">this</a>.<code>[[pipeToController]]</code>.signal.</p>
     </ol>
   </ol>
   <h4 class="heading settled" data-level="3.1.2" id="stream-processing"><span class="secno">3.1.2. </span><span class="content">Stream processing</span><a class="self-link" href="#stream-processing"></a></h4>
   <p>The <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="readencodeddata">readEncodedData</dfn> algorithm is given a <var>rtcObject</var> as parameter. It is defined by running the following steps:</p>
   <ol>
    <li data-md>
     <p>Wait for a frame to be produced by <var>rtcObject</var>’s encoder if it is a <code class="idl"><a data-link-type="idl" href="https://w3c.github.io/webrtc-pc/#dom-rtcrtpsender" id="ref-for-dom-rtcrtpsender③">RTCRtpSender</a></code> or <var>rtcObject</var>’s packetizer if it is a <code class="idl"><a data-link-type="idl" href="https://w3c.github.io/webrtc-pc/#dom-rtcrtpreceiver" id="ref-for-dom-rtcrtpreceiver③">RTCRtpReceiver</a></code>.</p>
    <li data-md>
     <p>Increment <var>rtcObject</var>.<code>[[lastEnqueuedFrameCounter]]</code> by <code>1</code>.</p>
    <li data-md>
     <p>Let <var>frame</var> be the newly produced frame.</p>
    <li data-md>
     <p>Set <var>frame</var>.<code>[[owner]]</code> to <var>rtcObject</var>.</p>
    <li data-md>
     <p>Set <var>frame</var>.<code>[[counter]]</code> to <var>rtcObject</var>.<code>[[lastEnqueuedFrameCounter]]</code>.</p>
    <li data-md>
     <p><a data-link-type="dfn" href="https://streams.spec.whatwg.org/#readablestream-enqueue" id="ref-for-readablestream-enqueue">Enqueue</a> <var>frame</var> in <var>rtcObject</var>.<code>[[readable]]</code>.</p>
   </ol>
   <p>The <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="writeencodeddata">writeEncodedData</dfn> algorithm is given a <var>rtcObject</var> as parameter and a <var>frame</var> as input. It is defined by running the following steps:</p>
   <ol>
    <li data-md>
     <p>If <var>frame</var>.<code>[[owner]]</code> is not equal to <var>rtcObject</var>, abort these steps and return <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#a-promise-resolved-with" id="ref-for-a-promise-resolved-with">a promise resolved with</a> undefined. A processor cannot create frames, or move frames between streams.</p>
    <li data-md>
     <p>If <var>frame</var>.<code>[[counter]]</code> is equal or smaller than <var>rtcObject</var>.<code>[[lastReceivedFrameCounter]]</code>, abort these steps and return <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#a-promise-resolved-with" id="ref-for-a-promise-resolved-with①">a promise resolved with</a> undefined. A processor cannot reorder frames, although it may delay them or drop them.</p>
    <li data-md>
     <p>Set <var>rtcObject</var>.<code>[[lastReceivedFrameCounter]]</code> to <var>frame</var><code>[[counter]]</code>.</p>
    <li data-md>
     <p>Let <var>data</var> be <var>frame</var>.<code>[[data]]</code>.</p>
    <li data-md>
     <p>Let <var>serializedFrame</var> be <a data-link-type="abstract-op" href="https://html.spec.whatwg.org/multipage/structured-data.html#structuredserializewithtransfer" id="ref-for-structuredserializewithtransfer">StructuredSerializeWithTransfer</a>(<var>frame</var>, « <var>data</var> »).</p>
    <li data-md>
     <p>Let <var>frameCopy</var> be <a data-link-type="abstract-op" href="https://html.spec.whatwg.org/multipage/structured-data.html#structureddeserialize" id="ref-for-structureddeserialize">StructuredDeserialize</a>(<var>serializedFrame</var>, <var>frame</var>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-realm" id="ref-for-concept-relevant-realm">relevant realm</a>).</p>
    <li data-md>
     <p>Enqueue <var>frameCopy</var> for processing as if it came directly from the encoded data source, by running one of the following steps:</p>
     <ul>
      <li data-md>
       <p>If <var>rtcObject</var> is a <code class="idl"><a data-link-type="idl" href="https://w3c.github.io/webrtc-pc/#dom-rtcrtpsender" id="ref-for-dom-rtcrtpsender④">RTCRtpSender</a></code>, enqueue <var>frameCopy</var> to <var>rtcObject</var>’s packetizer, to be processed <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/infrastructure.html#in-parallel" id="ref-for-in-parallel">in parallel</a>.</p>
      <li data-md>
       <p>If <var>rtcObject</var> is a <code class="idl"><a data-link-type="idl" href="https://w3c.github.io/webrtc-pc/#dom-rtcrtpreceiver" id="ref-for-dom-rtcrtpreceiver④">RTCRtpReceiver</a></code>, enqueue <var>frameCopy</var> it to <var>rtcObject</var>’s decoder, to be processed <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/infrastructure.html#in-parallel" id="ref-for-in-parallel①">in parallel</a>.</p>
     </ul>
    <li data-md>
     <p>Return <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#a-promise-resolved-with" id="ref-for-a-promise-resolved-with②">a promise resolved with</a> undefined.</p>
   </ol>
   <p>On sender side, as part of <a data-link-type="dfn" href="#readencodeddata" id="ref-for-readencodeddata①">readEncodedData</a>, frames produced by <var>rtcObject</var>’s encoder MUST be enqueued in <var>rtcObject</var>.<code>[[readable]]</code> in the encoder’s output order.
As <a data-link-type="dfn" href="#writeencodeddata" id="ref-for-writeencodeddata①">writeEncodedData</a> ensures that the transform cannot reorder frames, the encoder’s output order is also the order followed by packetizers to generate RTP packets and assign RTP packet sequence numbers.</p>
   <p>On receiver side, as part of <a data-link-type="dfn" href="#readencodeddata" id="ref-for-readencodeddata②">readEncodedData</a>, frames produced by <var>rtcObject</var>’s packetizer MUST be enqueued in <var>rtcObject</var>.<code>[[readable]]</code> in the same encoder’s output order.
To ensure the order is respected, the depacketizer will typically use RTP packet sequence numbers to reorder RTP packets as needed before enqueuing frames in <var>rtcObject</var>.<code>[[readable]]</code>.
As <a data-link-type="dfn" href="#writeencodeddata" id="ref-for-writeencodeddata②">writeEncodedData</a> ensures that the transform cannot reorder frames, this will be the order expected by <var>rtcObject</var>’s decoder.</p>
   <h3 class="heading settled" data-level="3.2" id="attribute"><span class="secno">3.2. </span><span class="content">Extension attribute</span><a class="self-link" href="#attribute"></a></h3>
   <p>A RTCRtpTransform has two private slots called <code>[[readable]]</code> and <code>[[writable]]</code>.</p>
   <p>Each RTCRtpTransform has an <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="association-steps">association steps</dfn> set, which is empty by default.</p>
   <p>The <dfn class="dfn-paneled idl-code" data-dfn-for="RTCRtpSender,RTCRtpReceiver" data-dfn-type="attribute" data-export id="dom-rtcrtpsender-transform"><code>transform</code></dfn> getter steps are:</p>
   <ol>
    <li data-md>
     <p>Return <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this" id="ref-for-this①⑥">this</a>.<code>[[transform]]</code>.</p>
   </ol>
   <p>The <code>transform</code> setter steps are:</p>
   <ol start="2">
    <li data-md>
     <p>Let <var>transform</var> be the argument to the setter.</p>
    <li data-md>
     <p>Let <var>checkedTransform</var> set to <var>transform</var> if it is not null or to an <a data-link-type="dfn" href="https://streams.spec.whatwg.org/#identity-transform-stream" id="ref-for-identity-transform-stream">identity transform stream</a> otherwise.</p>
    <li data-md>
     <p>Let <var>reader</var> be the result of <a data-link-type="dfn" href="https://streams.spec.whatwg.org/#readablestream-get-a-reader" id="ref-for-readablestream-get-a-reader">getting a reader</a> for <var>checkedTransform</var>.<code>[[readable]]</code>.</p>
    <li data-md>
     <p>Let <var>writer</var> be the result of <a data-link-type="dfn" href="https://streams.spec.whatwg.org/#writablestream-get-a-writer" id="ref-for-writablestream-get-a-writer">getting a writer</a> for <var>checkedTransform</var>.<code>[[writable]]</code>.</p>
    <li data-md>
     <p>Initialize <var>newPipeToController</var> to a new <code class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#abortcontroller" id="ref-for-abortcontroller①">AbortController</a></code>.</p>
    <li data-md>
     <p>If <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this" id="ref-for-this①⑦">this</a>.<code>[[pipeToController]]</code> is not null, run the following steps:</p>
     <ol>
      <li data-md>
       <p><a data-link-type="dfn" href="https://dom.spec.whatwg.org/#abortsignal-add" id="ref-for-abortsignal-add">Add</a> the <a data-link-type="dfn" href="#chain-transform-algorithm" id="ref-for-chain-transform-algorithm">chain transform algorithm</a> to <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this" id="ref-for-this①⑧">this</a>.<code>[[pipeToController]]</code>.signal.</p>
      <li data-md>
       <p><a data-link-type="dfn" href="https://dom.spec.whatwg.org/#abortsignal-signal-abort" id="ref-for-abortsignal-signal-abort">signal abort</a> <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this" id="ref-for-this①⑨">this</a>.<code>[[pipeToController]]</code>.signal.</p>
     </ol>
    <li data-md>
     <p>Else, run the <a data-link-type="dfn" href="#chain-transform-algorithm" id="ref-for-chain-transform-algorithm①">chain transform algorithm</a> steps.</p>
    <li data-md>
     <p>Set <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this" id="ref-for-this②⓪">this</a>.<code>[[pipeToController]]</code> to <var>newPipeToController</var>.</p>
    <li data-md>
     <p>Set <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this" id="ref-for-this②①">this</a>.<code>[[transform]]</code> to <var>transform</var>.</p>
    <li data-md>
     <p>Run the steps in the set of <a data-link-type="dfn" href="#association-steps" id="ref-for-association-steps">association steps</a> of <var>transform</var> with <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this" id="ref-for-this②②">this</a>.</p>
   </ol>
   <p>The <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="chain-transform-algorithm">chain transform algorithm</dfn> steps are defined as:</p>
   <ol>
    <li data-md>
     <p>If <var>newPipeToController</var> is <a data-link-type="dfn" href="https://dom.spec.whatwg.org/#abortsignal-aborted" id="ref-for-abortsignal-aborted">aborted</a>, abort these steps.</p>
    <li data-md>
     <p><a data-link-type="dfn" href="https://streams.spec.whatwg.org/#readablestreamdefaultreader-release" id="ref-for-readablestreamdefaultreader-release">Release</a> <var>reader</var>.</p>
    <li data-md>
     <p><a data-link-type="dfn" href="https://streams.spec.whatwg.org/#writablestreamdefaultwriter-release" id="ref-for-writablestreamdefaultwriter-release">Release</a> <var>writer</var>.</p>
    <li data-md>
     <p>Assert that <var>newPipeToController</var> is the same object as <var>rtcObject</var>.<code>[[pipeToController]]</code>.</p>
    <li data-md>
     <p>Call <a href="https://streams.spec.whatwg.org/#readable-stream-pipe-to">pipeTo</a> with <var>rtcObject</var>.<code>[[readable]]</code>, <var>checkedTransform</var>.<code>[[writable]]</code>, preventClose equal to false, preventAbort equal to false, preventCancel equal to true and <var>newPipeToController</var>.signal.</p>
    <li data-md>
     <p>Call <a href="https://streams.spec.whatwg.org/#readable-stream-pipe-to">pipeTo</a> with <var>checkedTransform</var>.<code>[[readable]]</code>, <var>rtcObject</var>.<code>[[writable]]</code>, preventClose equal to true, preventAbort equal to true, preventCancel equal to false and <var>newPipeToController</var>.signal.</p>
   </ol>
   <p>This algorithm is defined so that transforms can be updated dynamically.
There is no guarantee on which frame will happen the switch from the previous transform to the new transform.</p>
   <p>If a web application sets the transform synchronously at creation of the <code class="idl"><a data-link-type="idl" href="https://w3c.github.io/webrtc-pc/#dom-rtcrtpsender" id="ref-for-dom-rtcrtpsender⑤">RTCRtpSender</a></code> (for instance when calling addTrack), the transform will receive the first frame generated by the <code class="idl"><a data-link-type="idl" href="https://w3c.github.io/webrtc-pc/#dom-rtcrtpsender" id="ref-for-dom-rtcrtpsender⑥">RTCRtpSender</a></code>'s encoder.
Similarly, if a web application sets the transform synchronously at creation of the <code class="idl"><a data-link-type="idl" href="https://w3c.github.io/webrtc-pc/#dom-rtcrtpreceiver" id="ref-for-dom-rtcrtpreceiver⑤">RTCRtpReceiver</a></code> (for instance when calling addTrack, or at track event handler), the transform will receive the first full frame generated by the <code class="idl"><a data-link-type="idl" href="https://w3c.github.io/webrtc-pc/#dom-rtcrtpreceiver" id="ref-for-dom-rtcrtpreceiver⑥">RTCRtpReceiver</a></code>'s packetizer.</p>
   <h2 class="heading settled" data-level="4" id="sframe"><span class="secno">4. </span><span class="content">SFrameTransform</span><a class="self-link" href="#sframe"></a></h2>
   <p> The API presented in this section allows applications to process SFrame data as defined in <a data-link-type="biblio" href="#biblio-sframe" title="Secure Frame (SFrame)">[SFrame]</a>. </p>
<pre class="idl highlight def"><c- b>enum</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="enum" data-export id="enumdef-sframetransformrole"><code><c- g>SFrameTransformRole</c-></code></dfn> {
    <dfn class="idl-code" data-dfn-for="SFrameTransformRole" data-dfn-type="enum-value" data-export id="dom-sframetransformrole-encrypt"><code><c- s>"encrypt"</c-></code><a class="self-link" href="#dom-sframetransformrole-encrypt"></a></dfn>,
    <dfn class="idl-code" data-dfn-for="SFrameTransformRole" data-dfn-type="enum-value" data-export id="dom-sframetransformrole-decrypt"><code><c- s>"decrypt"</c-></code><a class="self-link" href="#dom-sframetransformrole-decrypt"></a></dfn>
};

<c- b>dictionary</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="dictionary" data-export id="dictdef-sframetransformoptions"><code><c- g>SFrameTransformOptions</c-></code></dfn> {
    <a data-link-type="idl-name" href="#enumdef-sframetransformrole" id="ref-for-enumdef-sframetransformrole"><c- n>SFrameTransformRole</c-></a> <dfn class="dfn-paneled idl-code" data-default="&quot;encrypt&quot;" data-dfn-for="SFrameTransformOptions" data-dfn-type="dict-member" data-export data-type="SFrameTransformRole " id="dom-sframetransformoptions-role"><code><c- g>role</c-></code></dfn> = "encrypt";
};

<c- b>typedef</c-> [<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#EnforceRange" id="ref-for-EnforceRange"><c- g>EnforceRange</c-></a>] <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-unsigned-long-long" id="ref-for-idl-unsigned-long-long"><c- b>unsigned</c-> <c- b>long</c-> <c- b>long</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-type="typedef" data-export id="typedefdef-smallcryptokeyid"><code><c- g>SmallCryptoKeyID</c-></code></dfn>;
<c- b>typedef</c-> (<a data-link-type="idl-name" href="#typedefdef-smallcryptokeyid" id="ref-for-typedefdef-smallcryptokeyid"><c- n>SmallCryptoKeyID</c-></a> <c- b>or</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-bigint" id="ref-for-idl-bigint"><c- b>bigint</c-></a>) <dfn class="dfn-paneled idl-code" data-dfn-type="typedef" data-export id="typedefdef-cryptokeyid"><code><c- g>CryptoKeyID</c-></code></dfn>;

[<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Exposed" id="ref-for-Exposed"><c- g>Exposed</c-></a>=(<c- n>Window</c->,<c- n>DedicatedWorker</c->)]
<c- b>interface</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="interface" data-export id="sframetransform"><code><c- g>SFrameTransform</c-></code></dfn> {
    <a class="idl-code" data-link-type="constructor" href="#dom-sframetransform-sframetransform" id="ref-for-dom-sframetransform-sframetransform"><c- g>constructor</c-></a>(<c- b>optional</c-> <a data-link-type="idl-name" href="#dictdef-sframetransformoptions" id="ref-for-dictdef-sframetransformoptions"><c- n>SFrameTransformOptions</c-></a> <dfn class="idl-code" data-dfn-for="SFrameTransform/SFrameTransform(options), SFrameTransform/constructor(options), SFrameTransform/SFrameTransform(), SFrameTransform/constructor()" data-dfn-type="argument" data-export id="dom-sframetransform-sframetransform-options-options"><code><c- g>options</c-></code><a class="self-link" href="#dom-sframetransform-sframetransform-options-options"></a></dfn> = {});
    <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise" id="ref-for-idl-promise"><c- b>Promise</c-></a>&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-undefined" id="ref-for-idl-undefined"><c- b>undefined</c-></a>> <a class="idl-code" data-link-type="method" href="#dom-sframetransform-setencryptionkey" id="ref-for-dom-sframetransform-setencryptionkey"><c- g>setEncryptionKey</c-></a>(<a data-link-type="idl-name" href="https://w3c.github.io/webcrypto/#dfn-CryptoKey" id="ref-for-dfn-CryptoKey"><c- n>CryptoKey</c-></a> <dfn class="idl-code" data-dfn-for="SFrameTransform/setEncryptionKey(key, keyID), SFrameTransform/setEncryptionKey(key)" data-dfn-type="argument" data-export id="dom-sframetransform-setencryptionkey-key-keyid-key"><code><c- g>key</c-></code><a class="self-link" href="#dom-sframetransform-setencryptionkey-key-keyid-key"></a></dfn>, <c- b>optional</c-> <a data-link-type="idl-name" href="#typedefdef-cryptokeyid" id="ref-for-typedefdef-cryptokeyid"><c- n>CryptoKeyID</c-></a> <dfn class="idl-code" data-dfn-for="SFrameTransform/setEncryptionKey(key, keyID), SFrameTransform/setEncryptionKey(key)" data-dfn-type="argument" data-export id="dom-sframetransform-setencryptionkey-key-keyid-keyid"><code><c- g>keyID</c-></code><a class="self-link" href="#dom-sframetransform-setencryptionkey-key-keyid-keyid"></a></dfn>);
    <c- b>attribute</c-> <a data-link-type="idl-name" href="https://html.spec.whatwg.org/multipage/webappapis.html#eventhandler" id="ref-for-eventhandler"><c- n>EventHandler</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="SFrameTransform" data-dfn-type="attribute" data-export data-type="EventHandler" id="dom-sframetransform-onerror"><code><c- g>onerror</c-></code></dfn>;
};
<a data-link-type="idl-name" href="#sframetransform" id="ref-for-sframetransform①"><c- n>SFrameTransform</c-></a> <c- b>includes</c-> <a data-link-type="idl-name" href="https://streams.spec.whatwg.org/#generictransformstream" id="ref-for-generictransformstream"><c- n>GenericTransformStream</c-></a>;

<c- b>enum</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="enum" data-export id="enumdef-sframetransformerroreventtype"><code><c- g>SFrameTransformErrorEventType</c-></code></dfn> {
    <dfn class="dfn-paneled idl-code" data-dfn-for="SFrameTransformErrorEventType" data-dfn-type="enum-value" data-export id="dom-sframetransformerroreventtype-authentication"><code><c- s>"authentication"</c-></code></dfn>,
    <dfn class="dfn-paneled idl-code" data-dfn-for="SFrameTransformErrorEventType" data-dfn-type="enum-value" data-export id="dom-sframetransformerroreventtype-keyid"><code><c- s>"keyID"</c-></code></dfn>,
    <dfn class="dfn-paneled idl-code" data-dfn-for="SFrameTransformErrorEventType" data-dfn-type="enum-value" data-export id="dom-sframetransformerroreventtype-syntax"><code><c- s>"syntax"</c-></code></dfn>
};

[<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Exposed" id="ref-for-Exposed①"><c- g>Exposed</c-></a>=(<c- n>Window</c->,<c- n>DedicatedWorker</c->)]
<c- b>interface</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="interface" data-export id="sframetransformerrorevent"><code><c- g>SFrameTransformErrorEvent</c-></code></dfn> : <a data-link-type="idl-name" href="https://dom.spec.whatwg.org/#event" id="ref-for-event"><c- n>Event</c-></a> {
    <dfn class="idl-code" data-dfn-for="SFrameTransformErrorEvent" data-dfn-type="constructor" data-export data-lt="SFrameTransformErrorEvent(type, eventInitDict)|constructor(type, eventInitDict)" id="dom-sframetransformerrorevent-sframetransformerrorevent"><code><c- g>constructor</c-></code><a class="self-link" href="#dom-sframetransformerrorevent-sframetransformerrorevent"></a></dfn>(<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString" id="ref-for-idl-DOMString"><c- b>DOMString</c-></a> <dfn class="idl-code" data-dfn-for="SFrameTransformErrorEvent/SFrameTransformErrorEvent(type, eventInitDict), SFrameTransformErrorEvent/constructor(type, eventInitDict)" data-dfn-type="argument" data-export id="dom-sframetransformerrorevent-sframetransformerrorevent-type-eventinitdict-type"><code><c- g>type</c-></code><a class="self-link" href="#dom-sframetransformerrorevent-sframetransformerrorevent-type-eventinitdict-type"></a></dfn>, <a data-link-type="idl-name" href="#dictdef-sframetransformerroreventinit" id="ref-for-dictdef-sframetransformerroreventinit"><c- n>SFrameTransformErrorEventInit</c-></a> <dfn class="idl-code" data-dfn-for="SFrameTransformErrorEvent/SFrameTransformErrorEvent(type, eventInitDict), SFrameTransformErrorEvent/constructor(type, eventInitDict)" data-dfn-type="argument" data-export id="dom-sframetransformerrorevent-sframetransformerrorevent-type-eventinitdict-eventinitdict"><code><c- g>eventInitDict</c-></code><a class="self-link" href="#dom-sframetransformerrorevent-sframetransformerrorevent-type-eventinitdict-eventinitdict"></a></dfn>);

    <c- b>readonly</c-> <c- b>attribute</c-> <a data-link-type="idl-name" href="#enumdef-sframetransformerroreventtype" id="ref-for-enumdef-sframetransformerroreventtype"><c- n>SFrameTransformErrorEventType</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="SFrameTransformErrorEvent" data-dfn-type="attribute" data-export data-readonly data-type="SFrameTransformErrorEventType" id="dom-sframetransformerrorevent-errortype"><code><c- g>errorType</c-></code></dfn>;
    <c- b>readonly</c-> <c- b>attribute</c-> <a data-link-type="idl-name" href="#typedefdef-cryptokeyid" id="ref-for-typedefdef-cryptokeyid①"><c- n>CryptoKeyID</c-></a>? <dfn class="dfn-paneled idl-code" data-dfn-for="SFrameTransformErrorEvent" data-dfn-type="attribute" data-export data-readonly data-type="CryptoKeyID?" id="dom-sframetransformerrorevent-keyid"><code><c- g>keyID</c-></code></dfn>;
    <c- b>readonly</c-> <c- b>attribute</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-any" id="ref-for-idl-any"><c- b>any</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="SFrameTransformErrorEvent" data-dfn-type="attribute" data-export data-readonly data-type="any" id="dom-sframetransformerrorevent-frame"><code><c- g>frame</c-></code></dfn>;
};

<c- b>dictionary</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="dictionary" data-export id="dictdef-sframetransformerroreventinit"><code><c- g>SFrameTransformErrorEventInit</c-></code></dfn> : <a data-link-type="idl-name" href="https://dom.spec.whatwg.org/#dictdef-eventinit" id="ref-for-dictdef-eventinit"><c- n>EventInit</c-></a> {
    <c- b>required</c-> <a data-link-type="idl-name" href="#enumdef-sframetransformerroreventtype" id="ref-for-enumdef-sframetransformerroreventtype①"><c- n>SFrameTransformErrorEventType</c-></a> <dfn class="idl-code" data-dfn-for="SFrameTransformErrorEventInit" data-dfn-type="dict-member" data-export data-type="SFrameTransformErrorEventType " id="dom-sframetransformerroreventinit-errortype"><code><c- g>errorType</c-></code><a class="self-link" href="#dom-sframetransformerroreventinit-errortype"></a></dfn>;
    <c- b>required</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-any" id="ref-for-idl-any①"><c- b>any</c-></a> <dfn class="idl-code" data-dfn-for="SFrameTransformErrorEventInit" data-dfn-type="dict-member" data-export data-type="any " id="dom-sframetransformerroreventinit-frame"><code><c- g>frame</c-></code><a class="self-link" href="#dom-sframetransformerroreventinit-frame"></a></dfn>;
    <a data-link-type="idl-name" href="#typedefdef-cryptokeyid" id="ref-for-typedefdef-cryptokeyid②"><c- n>CryptoKeyID</c-></a>? <dfn class="idl-code" data-dfn-for="SFrameTransformErrorEventInit" data-dfn-type="dict-member" data-export data-type="CryptoKeyID? " id="dom-sframetransformerroreventinit-keyid"><code><c- g>keyID</c-></code><a class="self-link" href="#dom-sframetransformerroreventinit-keyid"></a></dfn>;
};
</pre>
   <p>The <dfn class="dfn-paneled idl-code" data-dfn-for="SFrameTransform" data-dfn-type="constructor" data-export data-lt="SFrameTransform(options)|constructor(options)|SFrameTransform()|constructor()" id="dom-sframetransform-sframetransform"><code>new SFrameTransform(<var>options</var>)</code></dfn> constructor steps are:</p>
   <ol>
    <li data-md>
     <p>Let <var>transformAlgorithm</var> be an algorithm which takes a <var>frame</var> as input and runs the <a href="#sframe-transform-algorithm">SFrame transform algorithm</a> with <var>this</var> and <var>frame</var>.</p>
    <li data-md>
     <p>Set <var>this</var>.<code>[[transform]]</code> to a new <code class="idl"><a data-link-type="idl" href="https://streams.spec.whatwg.org/#transformstream" id="ref-for-transformstream">TransformStream</a></code>.</p>
    <li data-md>
     <p><a data-link-type="dfn" href="https://streams.spec.whatwg.org/#readablestream-set-up" id="ref-for-readablestream-set-up①">Set up</a> <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this" id="ref-for-this②③">this</a>.<code>[[transform]]</code> with <a data-link-type="dfn" href="https://streams.spec.whatwg.org/#transformstream-set-up-transformalgorithm" id="ref-for-transformstream-set-up-transformalgorithm">transformAlgorithm</a> set to <var>transformAlgorithm</var>.</p>
    <li data-md>
     <p>Let <var>options</var> be the method’s first argument.</p>
    <li data-md>
     <p>Set <var>this</var>.<code>[[role]]</code> to <var>options</var>["<code class="idl"><a data-link-type="idl" href="#dom-sframetransformoptions-role" id="ref-for-dom-sframetransformoptions-role">role</a></code>"].</p>
    <li data-md>
     <p>Set <var>this</var>.<code>[[readable]]</code> to <var>this</var>.<code>[[transform]]</code>.<code>[[readable]]</code>.</p>
    <li data-md>
     <p>Set <var>this</var>.<code>[[writable]]</code> to <var>this</var>.<code>[[transform]]</code>.<code>[[writable]]</code>.</p>
   </ol>
   <h3 class="heading settled" data-level="4.1" id="sframe-transform-algorithm"><span class="secno">4.1. </span><span class="content">Algorithm</span><a class="self-link" href="#sframe-transform-algorithm"></a></h3>
   <p>The SFrame transform algorithm, given <var>sframe</var> as a SFrameTransform object and <var>frame</var>, runs these steps:</p>
   <ol>
    <li data-md>
     <p>Let <var>role</var> be <var>sframe</var>.<code>[[role]]</code>.</p>
    <li data-md>
     <p>If <var>frame</var>.<code>[[owner]]</code> is a <code class="idl"><a data-link-type="idl" href="https://w3c.github.io/webrtc-pc/#dom-rtcrtpsender" id="ref-for-dom-rtcrtpsender⑦">RTCRtpSender</a></code>, set <var>role</var> to 'encrypt'.</p>
    <li data-md>
     <p>If <var>frame</var>.<code>[[owner]]</code> is a <code class="idl"><a data-link-type="idl" href="https://w3c.github.io/webrtc-pc/#dom-rtcrtpreceiver" id="ref-for-dom-rtcrtpreceiver⑦">RTCRtpReceiver</a></code>, set <var>role</var> to 'decrypt'.</p>
    <li data-md>
     <p>Let <var>data</var> be undefined.</p>
    <li data-md>
     <p>If <var>frame</var> is a <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#BufferSource" id="ref-for-BufferSource">BufferSource</a></code>, set <var>data</var> to <var>frame</var>.</p>
    <li data-md>
     <p>If <var>frame</var> is a <code class="idl"><a data-link-type="idl" href="#rtcencodedaudioframe①" id="ref-for-rtcencodedaudioframe①">RTCEncodedAudioFrame</a></code>, set <var>data</var> to <var>frame</var>.<code class="idl"><a data-link-type="idl" href="#dom-rtcencodedaudioframe-data" id="ref-for-dom-rtcencodedaudioframe-data">data</a></code></p>
    <li data-md>
     <p>If <var>frame</var> is a <code class="idl"><a data-link-type="idl" href="#rtcencodedvideoframe①" id="ref-for-rtcencodedvideoframe①">RTCEncodedVideoFrame</a></code>, set <var>data</var> to <var>frame</var>.<code class="idl"><a data-link-type="idl" href="#dom-rtcencodedvideoframe-data" id="ref-for-dom-rtcencodedvideoframe-data">data</a></code></p>
    <li data-md>
     <p>If <var>data</var> is undefined, abort these steps.</p>
    <li data-md>
     <p>Let <var>buffer</var> be the result of running the SFrame algorithm with <var>data</var> and <var>role</var> as parameters. This algorithm is defined by the <a href="https://datatracker.ietf.org/doc/draft-omara-sframe/">SFrame specification</a> and returns an <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-ArrayBuffer" id="ref-for-idl-ArrayBuffer">ArrayBuffer</a></code>.</p>
    <li data-md>
     <p>If the SFrame algorithm exits abruptly with an error, <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-task" id="ref-for-queue-a-task①">queue a task</a> to run the following sub steps:</p>
     <ol>
      <li data-md>
       <p>If the processing fails on decryption side due to <var>data</var> not following the SFrame format, <a data-link-type="dfn" href="https://dom.spec.whatwg.org/#concept-event-fire" id="ref-for-concept-event-fire">fire an event</a> named <code class="idl"><a data-link-type="idl" href="#dom-sframetransform-onerror" id="ref-for-dom-sframetransform-onerror">error</a></code> at <var>sframe</var>,
using the <code class="idl"><a data-link-type="idl" href="#sframetransformerrorevent" id="ref-for-sframetransformerrorevent">SFrameTransformErrorEvent</a></code> interface with its <code class="idl"><a data-link-type="idl" href="#dom-sframetransformerrorevent-errortype" id="ref-for-dom-sframetransformerrorevent-errortype">errorType</a></code> attribute set to <code class="idl"><a data-link-type="idl" href="#dom-sframetransformerroreventtype-syntax" id="ref-for-dom-sframetransformerroreventtype-syntax">syntax</a></code> and its <code class="idl"><a data-link-type="idl" href="#dom-sframetransformerrorevent-frame" id="ref-for-dom-sframetransformerrorevent-frame">frame</a></code> attribute set to <var>frame</var>.</p>
      <li data-md>
       <p>If the processing fails on decryption side due to the key identifier parsed in <var>data</var> being unknown, <a data-link-type="dfn" href="https://dom.spec.whatwg.org/#concept-event-fire" id="ref-for-concept-event-fire①">fire an event</a> named <code class="idl"><a data-link-type="idl" href="#dom-sframetransform-onerror" id="ref-for-dom-sframetransform-onerror①">error</a></code> at <var>sframe</var>,
using the <code class="idl"><a data-link-type="idl" href="#sframetransformerrorevent" id="ref-for-sframetransformerrorevent①">SFrameTransformErrorEvent</a></code> interface with its <code class="idl"><a data-link-type="idl" href="#dom-sframetransformerrorevent-errortype" id="ref-for-dom-sframetransformerrorevent-errortype①">errorType</a></code> attribute set to <code class="idl"><a data-link-type="idl" href="#dom-sframetransformerroreventtype-keyid" id="ref-for-dom-sframetransformerroreventtype-keyid">keyID</a></code>,
its <code class="idl"><a data-link-type="idl" href="#dom-sframetransformerrorevent-frame" id="ref-for-dom-sframetransformerrorevent-frame①">frame</a></code> attribute set to <var>frame</var> and its <code class="idl"><a data-link-type="idl" href="#dom-sframetransformerrorevent-keyid" id="ref-for-dom-sframetransformerrorevent-keyid">keyID</a></code> attribute set to the keyID value parsed in the SFrame header.</p>
      <li data-md>
       <p>If the processing fails on decryption side due to validation of the authentication tag, <a data-link-type="dfn" href="https://dom.spec.whatwg.org/#concept-event-fire" id="ref-for-concept-event-fire②">fire an event</a> named <code class="idl"><a data-link-type="idl" href="#dom-sframetransform-onerror" id="ref-for-dom-sframetransform-onerror②">error</a></code> at <var>sframe</var>,
using the <code class="idl"><a data-link-type="idl" href="#sframetransformerrorevent" id="ref-for-sframetransformerrorevent②">SFrameTransformErrorEvent</a></code> interface with its <code class="idl"><a data-link-type="idl" href="#dom-sframetransformerrorevent-errortype" id="ref-for-dom-sframetransformerrorevent-errortype②">errorType</a></code> attribute set to <code class="idl"><a data-link-type="idl" href="#dom-sframetransformerroreventtype-authentication" id="ref-for-dom-sframetransformerroreventtype-authentication">authentication</a></code> and its <code class="idl"><a data-link-type="idl" href="#dom-sframetransformerrorevent-frame" id="ref-for-dom-sframetransformerrorevent-frame②">frame</a></code> attribute set to <var>frame</var>.</p>
      <li data-md>
       <p>Abort these steps.</p>
     </ol>
    <li data-md>
     <p>If <var>frame</var> is a <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#BufferSource" id="ref-for-BufferSource①">BufferSource</a></code>, set <var>frame</var> to <var>buffer</var>.</p>
    <li data-md>
     <p>If <var>frame</var> is a <code class="idl"><a data-link-type="idl" href="#rtcencodedaudioframe①" id="ref-for-rtcencodedaudioframe①①">RTCEncodedAudioFrame</a></code>, set <var>frame</var>.<code class="idl"><a data-link-type="idl" href="#dom-rtcencodedaudioframe-data" id="ref-for-dom-rtcencodedaudioframe-data①">data</a></code> to <var>buffer</var>.</p>
    <li data-md>
     <p>If <var>frame</var> is a <code class="idl"><a data-link-type="idl" href="#rtcencodedvideoframe①" id="ref-for-rtcencodedvideoframe①①">RTCEncodedVideoFrame</a></code>, set <var>frame</var>.<code class="idl"><a data-link-type="idl" href="#dom-rtcencodedvideoframe-data" id="ref-for-dom-rtcencodedvideoframe-data①">data</a></code> to <var>buffer</var>.</p>
    <li data-md>
     <p><a data-link-type="dfn" href="https://streams.spec.whatwg.org/#readablestream-enqueue" id="ref-for-readablestream-enqueue①">Enqueue</a> <var>frame</var> in <var>sframe</var>.<code>[[transform]]</code>.</p>
   </ol>
   <h3 class="heading settled" data-level="4.2" id="sframe-transform-methods"><span class="secno">4.2. </span><span class="content">Methods</span><a class="self-link" href="#sframe-transform-methods"></a></h3>
    The <dfn class="dfn-paneled idl-code" data-dfn-for="SFrameTransform" data-dfn-type="method" data-export data-lt="setEncryptionKey(key, keyID)|setEncryptionKey(key)" id="dom-sframetransform-setencryptionkey"><code>setEncryptionKey(<var>key</var>, <var>keyID</var>)</code></dfn> method steps are: 
   <ol>
    <li data-md>
     <p>Let <var>promise</var> be <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#a-new-promise" id="ref-for-a-new-promise">a new promise</a>.</p>
    <li data-md>
     <p>If <var>keyID</var> is a <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-bigint" id="ref-for-idl-bigint①">bigint</a></code> which cannot be represented as a integer between 0 and 2<sup>64</sup>-1 inclusive, <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#reject" id="ref-for-reject">reject</a> <var>promise</var> with a <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#exceptiondef-rangeerror" id="ref-for-exceptiondef-rangeerror">RangeError</a></code> exception.</p>
    <li data-md>
     <p>Otherwise, <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/infrastructure.html#in-parallel" id="ref-for-in-parallel②">in parallel</a>, run the following steps:</p>
     <ol>
      <li data-md>
       <p>Set <var>key</var> with its optional <var>keyID</var> as key material to use for the SFrame transform algorithm, as defined by the <a href="https://datatracker.ietf.org/doc/draft-omara-sframe/">SFrame specification</a>.</p>
      <li data-md>
       <p>If setting the key material fails, <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#reject" id="ref-for-reject①">reject</a> <var>promise</var> with an <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#invalidmodificationerror" id="ref-for-invalidmodificationerror">InvalidModificationError</a></code> exception and abort these steps.</p>
      <li data-md>
       <p><a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#resolve" id="ref-for-resolve">Resolve</a> <var>promise</var> with undefined.</p>
     </ol>
    <li data-md>
     <p>Return <var>promise</var>.</p>
   </ol>
   <h2 class="heading settled" data-level="5" id="scriptTransform"><span class="secno">5. </span><span class="content">RTCRtpScriptTransform</span><a class="self-link" href="#scriptTransform"></a></h2>
   <h3 class="heading settled" data-level="5.1" id="RTCEncodedVideoFrameType"><span class="secno">5.1. </span><span class="content"><dfn data-dfn-type="dfn" data-noexport id="rtcencodedvideoframetype">RTCEncodedVideoFrameType<a class="self-link" href="#rtcencodedvideoframetype"></a></dfn> dictionary</span><a class="self-link" href="#RTCEncodedVideoFrameType"></a></h3>
<pre class="idl highlight def">// New enum for video frame types. Will eventually re-use the equivalent defined
// by WebCodecs.
<c- b>enum</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="enum" data-export id="enumdef-rtcencodedvideoframetype"><code><c- g>RTCEncodedVideoFrameType</c-></code></dfn> {
    <dfn class="idl-code" data-dfn-for="RTCEncodedVideoFrameType" data-dfn-type="enum-value" data-export id="dom-rtcencodedvideoframetype-empty"><code><c- s>"empty"</c-></code><a class="self-link" href="#dom-rtcencodedvideoframetype-empty"></a></dfn>,
    <dfn class="dfn-paneled idl-code" data-dfn-for="RTCEncodedVideoFrameType" data-dfn-type="enum-value" data-export id="dom-rtcencodedvideoframetype-key"><code><c- s>"key"</c-></code></dfn>,
    <dfn class="idl-code" data-dfn-for="RTCEncodedVideoFrameType" data-dfn-type="enum-value" data-export id="dom-rtcencodedvideoframetype-delta"><code><c- s>"delta"</c-></code><a class="self-link" href="#dom-rtcencodedvideoframetype-delta"></a></dfn>,
};
</pre>
   <table class="simple">
    <caption>Enumeration description</caption>
    <thead>
     <tr>
      <th>Enum value
      <th>Description
    <tbody>
     <tr>
      <td> <dfn data-dfn-for="RTCEncodedVideoFrameType" data-dfn-type="dfn" data-idl data-noexport id="rtcencodedvideoframetype-empty">empty<a class="self-link" href="#rtcencodedvideoframetype-empty"></a></dfn> 
      <td>
       <p> This frame contains no data. </p>
     <tr>
      <td> <dfn data-dfn-for="RTCEncodedVideoFrameType" data-dfn-type="dfn" data-idl data-noexport id="rtcencodedvideoframetype-key">key<a class="self-link" href="#rtcencodedvideoframetype-key"></a></dfn> 
      <td>
       <p> This frame can be decoded without reference to any other frames. </p>
     <tr>
      <td> <dfn data-dfn-for="RTCEncodedVideoFrameType" data-dfn-type="dfn" data-idl data-noexport id="rtcencodedvideoframetype-delta">delta<a class="self-link" href="#rtcencodedvideoframetype-delta"></a></dfn> 
      <td>
       <p> This frame references another frame and can not be decoded without that frame. </p>
   </table>
   <h3 class="heading settled" data-level="5.2" id="RTCEncodedVideoFrameMetadata"><span class="secno">5.2. </span><span class="content"><dfn data-dfn-type="dfn" data-noexport id="rtcencodedvideoframemetadata">RTCEncodedVideoFrameMetadata<a class="self-link" href="#rtcencodedvideoframemetadata"></a></dfn> dictionary</span><a class="self-link" href="#RTCEncodedVideoFrameMetadata"></a></h3>
<pre class="idl highlight def"><c- b>dictionary</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="dictionary" data-export id="dictdef-rtcencodedvideoframemetadata"><code><c- g>RTCEncodedVideoFrameMetadata</c-></code></dfn> {
    <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-unsigned-long-long" id="ref-for-idl-unsigned-long-long①"><c- b>unsigned</c-> <c- b>long</c-> <c- b>long</c-></a> <dfn class="idl-code" data-dfn-for="RTCEncodedVideoFrameMetadata" data-dfn-type="dict-member" data-export data-type="unsigned long long " id="dom-rtcencodedvideoframemetadata-frameid"><code><c- g>frameId</c-></code><a class="self-link" href="#dom-rtcencodedvideoframemetadata-frameid"></a></dfn>;
    <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#idl-sequence" id="ref-for-idl-sequence"><c- b>sequence</c-></a>&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-unsigned-long-long" id="ref-for-idl-unsigned-long-long②"><c- b>unsigned</c-> <c- b>long</c-> <c- b>long</c-></a>> <dfn class="idl-code" data-dfn-for="RTCEncodedVideoFrameMetadata" data-dfn-type="dict-member" data-export data-type="sequence<unsigned long long> " id="dom-rtcencodedvideoframemetadata-dependencies"><code><c- g>dependencies</c-></code><a class="self-link" href="#dom-rtcencodedvideoframemetadata-dependencies"></a></dfn>;
    <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-unsigned-short" id="ref-for-idl-unsigned-short"><c- b>unsigned</c-> <c- b>short</c-></a> <dfn class="idl-code" data-dfn-for="RTCEncodedVideoFrameMetadata" data-dfn-type="dict-member" data-export data-type="unsigned short " id="dom-rtcencodedvideoframemetadata-width"><code><c- g>width</c-></code><a class="self-link" href="#dom-rtcencodedvideoframemetadata-width"></a></dfn>;
    <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-unsigned-short" id="ref-for-idl-unsigned-short①"><c- b>unsigned</c-> <c- b>short</c-></a> <dfn class="idl-code" data-dfn-for="RTCEncodedVideoFrameMetadata" data-dfn-type="dict-member" data-export data-type="unsigned short " id="dom-rtcencodedvideoframemetadata-height"><code><c- g>height</c-></code><a class="self-link" href="#dom-rtcencodedvideoframemetadata-height"></a></dfn>;
    <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-unsigned-long" id="ref-for-idl-unsigned-long"><c- b>unsigned</c-> <c- b>long</c-></a> <dfn class="idl-code" data-dfn-for="RTCEncodedVideoFrameMetadata" data-dfn-type="dict-member" data-export data-type="unsigned long " id="dom-rtcencodedvideoframemetadata-spatialindex"><code><c- g>spatialIndex</c-></code><a class="self-link" href="#dom-rtcencodedvideoframemetadata-spatialindex"></a></dfn>;
    <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-unsigned-long" id="ref-for-idl-unsigned-long①"><c- b>unsigned</c-> <c- b>long</c-></a> <dfn class="idl-code" data-dfn-for="RTCEncodedVideoFrameMetadata" data-dfn-type="dict-member" data-export data-type="unsigned long " id="dom-rtcencodedvideoframemetadata-temporalindex"><code><c- g>temporalIndex</c-></code><a class="self-link" href="#dom-rtcencodedvideoframemetadata-temporalindex"></a></dfn>;
    <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-unsigned-long" id="ref-for-idl-unsigned-long②"><c- b>unsigned</c-> <c- b>long</c-></a> <dfn class="idl-code" data-dfn-for="RTCEncodedVideoFrameMetadata" data-dfn-type="dict-member" data-export data-type="unsigned long " id="dom-rtcencodedvideoframemetadata-synchronizationsource"><code><c- g>synchronizationSource</c-></code><a class="self-link" href="#dom-rtcencodedvideoframemetadata-synchronizationsource"></a></dfn>;
    <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-octet" id="ref-for-idl-octet"><c- b>octet</c-></a> <dfn class="idl-code" data-dfn-for="RTCEncodedVideoFrameMetadata" data-dfn-type="dict-member" data-export data-type="octet " id="dom-rtcencodedvideoframemetadata-payloadtype"><code><c- g>payloadType</c-></code><a class="self-link" href="#dom-rtcencodedvideoframemetadata-payloadtype"></a></dfn>;
  <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#idl-sequence" id="ref-for-idl-sequence①"><c- b>sequence</c-></a>&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-unsigned-long" id="ref-for-idl-unsigned-long③"><c- b>unsigned</c-> <c- b>long</c-></a>> <dfn class="idl-code" data-dfn-for="RTCEncodedVideoFrameMetadata" data-dfn-type="dict-member" data-export data-type="sequence<unsigned long> " id="dom-rtcencodedvideoframemetadata-contributingsources"><code><c- g>contributingSources</c-></code><a class="self-link" href="#dom-rtcencodedvideoframemetadata-contributingsources"></a></dfn>;
};
</pre>
   <h4 class="heading settled" data-level="5.2.1" id="RTCEncodedVideoFrameMetadata-members"><span class="secno">5.2.1. </span><span class="content">Members</span><a class="self-link" href="#RTCEncodedVideoFrameMetadata-members"></a></h4>
   <dl class="dictionary-members">
    <dt> <dfn data-dfn-for="RTCEncodedVideoFrameMetadata" data-dfn-type="dfn" data-noexport id="rtcencodedvideoframemetadata-synchronizationsource">synchronizationSource<a class="self-link" href="#rtcencodedvideoframemetadata-synchronizationsource"></a></dfn> of type <span class="idlMemberType">unsigned long</span> 
    <dd>
     <p> The synchronization source (ssrc) identifier is an unsigned integer value per <a data-link-type="biblio" href="#biblio-rfc3550" title="RTP: A Transport Protocol for Real-Time Applications">[RFC3550]</a> used to identify the stream of RTP packets that the encoded frame object is describing. </p>
    <dt> <dfn data-dfn-for="RTCEncodedVideoFrameMetadata" data-dfn-type="dfn" data-noexport id="rtcencodedvideoframemetadata-payloadtype">payloadType<a class="self-link" href="#rtcencodedvideoframemetadata-payloadtype"></a></dfn> of type <span class="idlMemberType">octet</span> 
    <dd>
     <p> The payload type is an unsigned integer value in the range from 0 to 127 per <a data-link-type="biblio" href="#biblio-rfc3550" title="RTP: A Transport Protocol for Real-Time Applications">[RFC3550]</a> that is used to describe the format of the RTP payload. </p>
    <dt> <dfn data-dfn-for="RTCEncodedVideoFrameMetadata" data-dfn-type="dfn" data-noexport id="rtcencodedvideoframemetadata-contributingsources">contributingSources<a class="self-link" href="#rtcencodedvideoframemetadata-contributingsources"></a></dfn> of type <span class="idlMemberType">sequence&lt;unsigned long></span> 
    <dd>
     <p> The list of contribution sources (csrc list) as defined in <a data-link-type="biblio" href="#biblio-rfc3550" title="RTP: A Transport Protocol for Real-Time Applications">[RFC3550]</a>. </p>
   </dl>
   <h3 class="heading settled" data-level="5.3" id="RTCEncodedVideoFrame-interface"><span class="secno">5.3. </span><span class="content"><dfn data-dfn-type="dfn" data-noexport id="rtcencodedvideoframe">RTCEncodedVideoFrame<a class="self-link" href="#rtcencodedvideoframe"></a></dfn> interface</span><a class="self-link" href="#RTCEncodedVideoFrame-interface"></a></h3>
<pre class="idl highlight def">// New interfaces to define encoded video and audio frames. Will eventually
// re-use or extend the equivalent defined in WebCodecs.
[<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Exposed" id="ref-for-Exposed②"><c- g>Exposed</c-></a>=(<c- n>Window</c->,<c- n>DedicatedWorker</c->)]
<c- b>interface</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="interface" data-export id="rtcencodedvideoframe①"><code><c- g>RTCEncodedVideoFrame</c-></code></dfn> {
    <c- b>readonly</c-> <c- b>attribute</c-> <a data-link-type="idl-name" href="#enumdef-rtcencodedvideoframetype" id="ref-for-enumdef-rtcencodedvideoframetype"><c- n>RTCEncodedVideoFrameType</c-></a> <dfn class="idl-code" data-dfn-for="RTCEncodedVideoFrame" data-dfn-type="attribute" data-export data-readonly data-type="RTCEncodedVideoFrameType" id="dom-rtcencodedvideoframe-type"><code><c- g>type</c-></code><a class="self-link" href="#dom-rtcencodedvideoframe-type"></a></dfn>;
    <c- b>readonly</c-> <c- b>attribute</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-unsigned-long" id="ref-for-idl-unsigned-long④"><c- b>unsigned</c-> <c- b>long</c-></a> <dfn class="idl-code" data-dfn-for="RTCEncodedVideoFrame" data-dfn-type="attribute" data-export data-readonly data-type="unsigned long" id="dom-rtcencodedvideoframe-timestamp"><code><c- g>timestamp</c-></code><a class="self-link" href="#dom-rtcencodedvideoframe-timestamp"></a></dfn>;
    <c- b>attribute</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-ArrayBuffer" id="ref-for-idl-ArrayBuffer①"><c- b>ArrayBuffer</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="RTCEncodedVideoFrame" data-dfn-type="attribute" data-export data-type="ArrayBuffer" id="dom-rtcencodedvideoframe-data"><code><c- g>data</c-></code></dfn>;
    <a data-link-type="idl-name" href="#dictdef-rtcencodedvideoframemetadata" id="ref-for-dictdef-rtcencodedvideoframemetadata"><c- n>RTCEncodedVideoFrameMetadata</c-></a> <a class="idl-code" data-link-type="method" href="#dom-rtcencodedvideoframe-getmetadata" id="ref-for-dom-rtcencodedvideoframe-getmetadata"><c- g>getMetadata</c-></a>();
};
</pre>
   <h4 class="heading settled" data-level="5.3.1" id="RTCEncodedVideoFrame-members"><span class="secno">5.3.1. </span><span class="content">Members</span><a class="self-link" href="#RTCEncodedVideoFrame-members"></a></h4>
   <dl class="dictionary-members">
    <dt> <dfn data-dfn-for="RTCEncodedVideoFrame" data-dfn-type="dfn" data-noexport id="rtcencodedvideoframe-type">type<a class="self-link" href="#rtcencodedvideoframe-type"></a></dfn> of type <span class="idlMemberType">RTCEncodedVideoFrameType</span> 
    <dd>
     <p> The type attribute allows the application to determine when a key frame is being
            sent or received. </p>
    <dt> <dfn data-dfn-for="RTCEncodedVideoFrame" data-dfn-type="dfn" data-noexport id="rtcencodedvideoframe-timestamp">timestamp<a class="self-link" href="#rtcencodedvideoframe-timestamp"></a></dfn> of type <span class="idlMemberType">unsigned long</span> 
    <dd>
     <p> The RTP timestamp identifier is an unsigned integer value per <a data-link-type="biblio" href="#biblio-rfc3550" title="RTP: A Transport Protocol for Real-Time Applications">[RFC3550]</a> that reflects the sampling instant of the first octet in the RTP data packet. </p>
    <dt> <dfn data-dfn-for="RTCEncodedVideoFrame" data-dfn-type="dfn" data-noexport id="rtcencodedvideoframe-data">data<a class="self-link" href="#rtcencodedvideoframe-data"></a></dfn> of type <span class="idlMemberType">ArrayBuffer</span> 
    <dd>
     <p> The encoded frame data. </p>
   </dl>
   <h4 class="heading settled" data-level="5.3.2" id="RTCEncodedVideoFrame-methods"><span class="secno">5.3.2. </span><span class="content">Methods</span><a class="self-link" href="#RTCEncodedVideoFrame-methods"></a></h4>
   <dl class="dictionary-members">
    <dt> <dfn class="dfn-paneled idl-code" data-dfn-for="RTCEncodedVideoFrame" data-dfn-type="method" data-export id="dom-rtcencodedvideoframe-getmetadata"><code>getMetadata()</code></dfn> 
    <dd>
     <p> Returns the metadata associated with the frame. </p>
   </dl>
   <h3 class="heading settled" data-level="5.4" id="RTCEncodedAudioFrameMetadata"><span class="secno">5.4. </span><span class="content"><dfn data-dfn-type="dfn" data-noexport id="rtcencodedaudioframemetadata">RTCEncodedAudioFrameMetadata<a class="self-link" href="#rtcencodedaudioframemetadata"></a></dfn> dictionary</span><a class="self-link" href="#RTCEncodedAudioFrameMetadata"></a></h3>
<pre class="idl highlight def"><c- b>dictionary</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="dictionary" data-export id="dictdef-rtcencodedaudioframemetadata"><code><c- g>RTCEncodedAudioFrameMetadata</c-></code></dfn> {
    <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-unsigned-long" id="ref-for-idl-unsigned-long⑤"><c- b>unsigned</c-> <c- b>long</c-></a> <dfn class="idl-code" data-dfn-for="RTCEncodedAudioFrameMetadata" data-dfn-type="dict-member" data-export data-type="unsigned long " id="dom-rtcencodedaudioframemetadata-synchronizationsource"><code><c- g>synchronizationSource</c-></code><a class="self-link" href="#dom-rtcencodedaudioframemetadata-synchronizationsource"></a></dfn>;
    <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-octet" id="ref-for-idl-octet①"><c- b>octet</c-></a> <dfn class="idl-code" data-dfn-for="RTCEncodedAudioFrameMetadata" data-dfn-type="dict-member" data-export data-type="octet " id="dom-rtcencodedaudioframemetadata-payloadtype"><code><c- g>payloadType</c-></code><a class="self-link" href="#dom-rtcencodedaudioframemetadata-payloadtype"></a></dfn>;
    <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#idl-sequence" id="ref-for-idl-sequence②"><c- b>sequence</c-></a>&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-unsigned-long" id="ref-for-idl-unsigned-long⑥"><c- b>unsigned</c-> <c- b>long</c-></a>> <dfn class="idl-code" data-dfn-for="RTCEncodedAudioFrameMetadata" data-dfn-type="dict-member" data-export data-type="sequence<unsigned long> " id="dom-rtcencodedaudioframemetadata-contributingsources"><code><c- g>contributingSources</c-></code><a class="self-link" href="#dom-rtcencodedaudioframemetadata-contributingsources"></a></dfn>;
};
</pre>
   <h4 class="heading settled" data-level="5.4.1" id="RTCEncodedAudioFrameMetadata-members"><span class="secno">5.4.1. </span><span class="content">Members</span><a class="self-link" href="#RTCEncodedAudioFrameMetadata-members"></a></h4>
   <dl class="dictionary-members">
    <dt> <dfn data-dfn-for="RTCEncodedAudioFrameMetadata" data-dfn-type="dfn" data-noexport id="rtcencodedaudioframemetadata-synchronizationsource">synchronizationSource<a class="self-link" href="#rtcencodedaudioframemetadata-synchronizationsource"></a></dfn> of type <span class="idlMemberType">unsigned long</span> 
    <dd>
     <p> The synchronization source (ssrc) identifier is an unsigned integer value per <a data-link-type="biblio" href="#biblio-rfc3550" title="RTP: A Transport Protocol for Real-Time Applications">[RFC3550]</a> used to identify the stream of RTP packets that the encoded frame object is describing. </p>
    <dt> <dfn data-dfn-for="RTCEncodedAudioFrameMetadata" data-dfn-type="dfn" data-noexport id="rtcencodedaudioframemetadata-payloadtype">payloadType<a class="self-link" href="#rtcencodedaudioframemetadata-payloadtype"></a></dfn> of type <span class="idlMemberType">octet</span> 
    <dd>
     <p> The payload type is an unsigned integer value in the range from 0 to 127 per <a data-link-type="biblio" href="#biblio-rfc3550" title="RTP: A Transport Protocol for Real-Time Applications">[RFC3550]</a> that is used to describe the format of the RTP payload. </p>
    <dt> <dfn data-dfn-for="RTCEncodedAudioFrameMetadata" data-dfn-type="dfn" data-noexport id="rtcencodedaudioframemetadata-contributingsources">contributingSources<a class="self-link" href="#rtcencodedaudioframemetadata-contributingsources"></a></dfn> of type <span class="idlMemberType">sequence&lt;unsigned long></span> 
    <dd>
     <p> The list of contribution sources (csrc list) as defined in <a data-link-type="biblio" href="#biblio-rfc3550" title="RTP: A Transport Protocol for Real-Time Applications">[RFC3550]</a>. </p>
   </dl>
   <h3 class="heading settled" data-level="5.5" id="RTCEncodedAudioFrame-interface"><span class="secno">5.5. </span><span class="content"><dfn data-dfn-type="dfn" data-noexport id="rtcencodedaudioframe">RTCEncodedAudioFrame<a class="self-link" href="#rtcencodedaudioframe"></a></dfn> interface</span><a class="self-link" href="#RTCEncodedAudioFrame-interface"></a></h3>
<pre class="idl highlight def">[<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Exposed" id="ref-for-Exposed③"><c- g>Exposed</c-></a>=(<c- n>Window</c->,<c- n>DedicatedWorker</c->)]
<c- b>interface</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="interface" data-export id="rtcencodedaudioframe①"><code><c- g>RTCEncodedAudioFrame</c-></code></dfn> {
    <c- b>readonly</c-> <c- b>attribute</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-unsigned-long" id="ref-for-idl-unsigned-long⑦"><c- b>unsigned</c-> <c- b>long</c-></a> <dfn class="idl-code" data-dfn-for="RTCEncodedAudioFrame" data-dfn-type="attribute" data-export data-readonly data-type="unsigned long" id="dom-rtcencodedaudioframe-timestamp"><code><c- g>timestamp</c-></code><a class="self-link" href="#dom-rtcencodedaudioframe-timestamp"></a></dfn>;
    <c- b>attribute</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-ArrayBuffer" id="ref-for-idl-ArrayBuffer②"><c- b>ArrayBuffer</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="RTCEncodedAudioFrame" data-dfn-type="attribute" data-export data-type="ArrayBuffer" id="dom-rtcencodedaudioframe-data"><code><c- g>data</c-></code></dfn>;
    <a data-link-type="idl-name" href="#dictdef-rtcencodedaudioframemetadata" id="ref-for-dictdef-rtcencodedaudioframemetadata"><c- n>RTCEncodedAudioFrameMetadata</c-></a> <a class="idl-code" data-link-type="method" href="#dom-rtcencodedaudioframe-getmetadata" id="ref-for-dom-rtcencodedaudioframe-getmetadata"><c- g>getMetadata</c-></a>();
};
</pre>
   <h4 class="heading settled" data-level="5.5.1" id="RTCEncodedAudioFrame-members"><span class="secno">5.5.1. </span><span class="content">Members</span><a class="self-link" href="#RTCEncodedAudioFrame-members"></a></h4>
   <dl class="dictionary-members">
    <dt> <dfn data-dfn-for="RTCEncodedAudioFrame" data-dfn-type="dfn" data-noexport id="rtcencodedaudioframe-timestamp">timestamp<a class="self-link" href="#rtcencodedaudioframe-timestamp"></a></dfn> of type <span class="idlMemberType">unsigned long</span> 
    <dd>
     <p> The RTP timestamp identifier is an unsigned integer value per <a data-link-type="biblio" href="#biblio-rfc3550" title="RTP: A Transport Protocol for Real-Time Applications">[RFC3550]</a> that reflects the sampling instant of the first octet in the RTP data packet. </p>
    <dt> <dfn data-dfn-for="RTCEncodedAudioFrame" data-dfn-type="dfn" data-noexport id="rtcencodedaudioframe-data">data<a class="self-link" href="#rtcencodedaudioframe-data"></a></dfn> of type <span class="idlMemberType">ArrayBuffer</span> 
    <dd>
     <p> The encoded frame data. </p>
   </dl>
   <h4 class="heading settled" data-level="5.5.2" id="RTCEncodedAudioFrame-methods"><span class="secno">5.5.2. </span><span class="content">Methods</span><a class="self-link" href="#RTCEncodedAudioFrame-methods"></a></h4>
   <dl class="dictionary-members">
    <dt> <dfn class="dfn-paneled idl-code" data-dfn-for="RTCEncodedAudioFrame" data-dfn-type="method" data-export id="dom-rtcencodedaudioframe-getmetadata"><code>getMetadata()</code></dfn> 
    <dd>
     <p> Returns the metadata associated with the frame. </p>
   </dl>
   <p>// New interfaces to expose JavaScript-based transforms.
##Interfaces</p>
<pre class="idl highlight def">[<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Exposed" id="ref-for-Exposed④"><c- g>Exposed</c-></a>=<c- n>DedicatedWorker</c->]
<c- b>interface</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="interface" data-export id="rtctransformevent"><code><c- g>RTCTransformEvent</c-></code></dfn> : <a data-link-type="idl-name" href="https://dom.spec.whatwg.org/#event" id="ref-for-event①"><c- n>Event</c-></a> {
    <c- b>readonly</c-> <c- b>attribute</c-> <a data-link-type="idl-name" href="#rtcrtpscripttransformer" id="ref-for-rtcrtpscripttransformer"><c- n>RTCRtpScriptTransformer</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="RTCTransformEvent" data-dfn-type="attribute" data-export data-readonly data-type="RTCRtpScriptTransformer" id="dom-rtctransformevent-transformer"><code><c- g>transformer</c-></code></dfn>;
};

<c- b>partial</c-> <c- b>interface</c-> <a class="idl-code" data-link-type="interface" href="https://html.spec.whatwg.org/multipage/workers.html#dedicatedworkerglobalscope" id="ref-for-dedicatedworkerglobalscope"><c- g>DedicatedWorkerGlobalScope</c-></a> {
    <c- b>attribute</c-> <a data-link-type="idl-name" href="https://html.spec.whatwg.org/multipage/webappapis.html#eventhandler" id="ref-for-eventhandler①"><c- n>EventHandler</c-></a> <dfn class="idl-code" data-dfn-for="DedicatedWorkerGlobalScope" data-dfn-type="attribute" data-export data-type="EventHandler" id="dom-dedicatedworkerglobalscope-onrtctransform"><code><c- g>onrtctransform</c-></code><a class="self-link" href="#dom-dedicatedworkerglobalscope-onrtctransform"></a></dfn>;
};

[<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Exposed" id="ref-for-Exposed⑤"><c- g>Exposed</c-></a>=<c- n>DedicatedWorker</c->]
<c- b>interface</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="interface" data-export id="rtcrtpscripttransformer"><code><c- g>RTCRtpScriptTransformer</c-></code></dfn> {
    <c- b>readonly</c-> <c- b>attribute</c-> <a data-link-type="idl-name" href="https://streams.spec.whatwg.org/#readablestream" id="ref-for-readablestream①"><c- n>ReadableStream</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="ReadableStream" href="#dom-rtcrtpscripttransformer-readable" id="ref-for-dom-rtcrtpscripttransformer-readable"><c- g>readable</c-></a>;
    <c- b>readonly</c-> <c- b>attribute</c-> <a data-link-type="idl-name" href="https://streams.spec.whatwg.org/#writablestream" id="ref-for-writablestream①"><c- n>WritableStream</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="WritableStream" href="#dom-rtcrtpscripttransformer-writable" id="ref-for-dom-rtcrtpscripttransformer-writable"><c- g>writable</c-></a>;
    <c- b>readonly</c-> <c- b>attribute</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-any" id="ref-for-idl-any②"><c- b>any</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="any" href="#dom-rtcrtpscripttransformer-options" id="ref-for-dom-rtcrtpscripttransformer-options"><c- g>options</c-></a>;
    <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise" id="ref-for-idl-promise①"><c- b>Promise</c-></a>&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-unsigned-long-long" id="ref-for-idl-unsigned-long-long③"><c- b>unsigned</c-> <c- b>long</c-> <c- b>long</c-></a>> <a class="idl-code" data-link-type="method" href="#dom-rtcrtpscripttransformer-generatekeyframe" id="ref-for-dom-rtcrtpscripttransformer-generatekeyframe"><c- g>generateKeyFrame</c-></a>(<c- b>optional</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString" id="ref-for-idl-DOMString①"><c- b>DOMString</c-></a> <dfn class="idl-code" data-dfn-for="RTCRtpScriptTransformer/generateKeyFrame(rid), RTCRtpScriptTransformer/generateKeyFrame()" data-dfn-type="argument" data-export id="dom-rtcrtpscripttransformer-generatekeyframe-rid-rid"><code><c- g>rid</c-></code><a class="self-link" href="#dom-rtcrtpscripttransformer-generatekeyframe-rid-rid"></a></dfn>);
    <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise" id="ref-for-idl-promise②"><c- b>Promise</c-></a>&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-undefined" id="ref-for-idl-undefined①"><c- b>undefined</c-></a>> <a class="idl-code" data-link-type="method" href="#dom-rtcrtpscripttransformer-sendkeyframerequest" id="ref-for-dom-rtcrtpscripttransformer-sendkeyframerequest"><c- g>sendKeyFrameRequest</c-></a>();
};

[<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Exposed" id="ref-for-Exposed⑥"><c- g>Exposed</c-></a>=<c- n>Window</c->]
<c- b>interface</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="interface" data-export id="rtcrtpscripttransform"><code><c- g>RTCRtpScriptTransform</c-></code></dfn> {
    <a class="idl-code" data-link-type="constructor" href="#dom-rtcrtpscripttransform-rtcrtpscripttransform" id="ref-for-dom-rtcrtpscripttransform-rtcrtpscripttransform"><c- g>constructor</c-></a>(<a data-link-type="idl-name" href="https://html.spec.whatwg.org/multipage/workers.html#worker" id="ref-for-worker"><c- n>Worker</c-></a> <dfn class="idl-code" data-dfn-for="RTCRtpScriptTransform/RTCRtpScriptTransform(worker, options, transfer), RTCRtpScriptTransform/constructor(worker, options, transfer), RTCRtpScriptTransform/RTCRtpScriptTransform(worker, options), RTCRtpScriptTransform/constructor(worker, options), RTCRtpScriptTransform/RTCRtpScriptTransform(worker), RTCRtpScriptTransform/constructor(worker)" data-dfn-type="argument" data-export id="dom-rtcrtpscripttransform-rtcrtpscripttransform-worker-options-transfer-worker"><code><c- g>worker</c-></code><a class="self-link" href="#dom-rtcrtpscripttransform-rtcrtpscripttransform-worker-options-transfer-worker"></a></dfn>, <c- b>optional</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-any" id="ref-for-idl-any③"><c- b>any</c-></a> <dfn class="idl-code" data-dfn-for="RTCRtpScriptTransform/RTCRtpScriptTransform(worker, options, transfer), RTCRtpScriptTransform/constructor(worker, options, transfer), RTCRtpScriptTransform/RTCRtpScriptTransform(worker, options), RTCRtpScriptTransform/constructor(worker, options), RTCRtpScriptTransform/RTCRtpScriptTransform(worker), RTCRtpScriptTransform/constructor(worker)" data-dfn-type="argument" data-export id="dom-rtcrtpscripttransform-rtcrtpscripttransform-worker-options-transfer-options"><code><c- g>options</c-></code><a class="self-link" href="#dom-rtcrtpscripttransform-rtcrtpscripttransform-worker-options-transfer-options"></a></dfn>, <c- b>optional</c-> <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#idl-sequence" id="ref-for-idl-sequence③"><c- b>sequence</c-></a>&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-object" id="ref-for-idl-object"><c- b>object</c-></a>> <dfn class="idl-code" data-dfn-for="RTCRtpScriptTransform/RTCRtpScriptTransform(worker, options, transfer), RTCRtpScriptTransform/constructor(worker, options, transfer), RTCRtpScriptTransform/RTCRtpScriptTransform(worker, options), RTCRtpScriptTransform/constructor(worker, options), RTCRtpScriptTransform/RTCRtpScriptTransform(worker), RTCRtpScriptTransform/constructor(worker)" data-dfn-type="argument" data-export id="dom-rtcrtpscripttransform-rtcrtpscripttransform-worker-options-transfer-transfer"><code><c- g>transfer</c-></code><a class="self-link" href="#dom-rtcrtpscripttransform-rtcrtpscripttransform-worker-options-transfer-transfer"></a></dfn>);
};
</pre>
   <h3 class="heading settled" data-level="5.6" id="RTCRtpScriptTransform-operations"><span class="secno">5.6. </span><span class="content">Operations</span><a class="self-link" href="#RTCRtpScriptTransform-operations"></a></h3>
   <p>The <dfn class="dfn-paneled idl-code" data-dfn-for="RTCRtpScriptTransform" data-dfn-type="constructor" data-export data-lt="RTCRtpScriptTransform(worker, options, transfer)|constructor(worker, options, transfer)|RTCRtpScriptTransform(worker, options)|constructor(worker, options)|RTCRtpScriptTransform(worker)|constructor(worker)" id="dom-rtcrtpscripttransform-rtcrtpscripttransform"><code>new RTCRtpScriptTransform(<var>worker</var>, <var>options</var>, <var>transfer</var>)</code></dfn> constructor steps are:</p>
   <ol>
    <li data-md>
     <p>Set <var>t1</var> to an <a data-link-type="dfn" href="https://streams.spec.whatwg.org/#identity-transform-stream" id="ref-for-identity-transform-stream①">identity transform stream</a>.</p>
    <li data-md>
     <p>Set <var>t2</var> to an <a data-link-type="dfn" href="https://streams.spec.whatwg.org/#identity-transform-stream" id="ref-for-identity-transform-stream②">identity transform stream</a>.</p>
    <li data-md>
     <p>Set <var>this</var>.<code>[[writable]]</code> to <var>t1</var>.<code>[[writable]]</code>.</p>
    <li data-md>
     <p>Set <var>this</var>.<code>[[readable]]</code> to <var>t2</var>.<code>[[readable]]</code>.</p>
    <li data-md>
     <p>Let <var>serializedOptions</var> be the result of <a data-link-type="abstract-op" href="https://html.spec.whatwg.org/multipage/structured-data.html#structuredserializewithtransfer" id="ref-for-structuredserializewithtransfer①">StructuredSerializeWithTransfer</a>(<var>options</var>, <var>transfer</var>).</p>
    <li data-md>
     <p>Let <var>serializedReadable</var> be the result of <a data-link-type="abstract-op" href="https://html.spec.whatwg.org/multipage/structured-data.html#structuredserializewithtransfer" id="ref-for-structuredserializewithtransfer②">StructuredSerializeWithTransfer</a>(<var>t1</var>.<code>[[readable]]</code>, « <var>t1</var>.<code>[[readable]]</code> »).</p>
    <li data-md>
     <p>Let <var>serializedWritable</var> be the result of <a data-link-type="abstract-op" href="https://html.spec.whatwg.org/multipage/structured-data.html#structuredserializewithtransfer" id="ref-for-structuredserializewithtransfer③">StructuredSerializeWithTransfer</a>(<var>t2</var>.<code>[[writable]]</code>, « <var>t2</var>.<code>[[writable]]</code> »).</p>
    <li data-md>
     <p><a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-task" id="ref-for-queue-a-task②">Queue a task</a> on the DOM manipulation <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#task-source" id="ref-for-task-source">task source</a> <var>worker</var>’s global scope to run the following steps:</p>
     <ol>
      <li data-md>
       <p>Let <var>transformerOptions</var> be the result of <a data-link-type="abstract-op" href="https://html.spec.whatwg.org/multipage/structured-data.html#structureddeserialize" id="ref-for-structureddeserialize①">StructuredDeserialize</a>(<var>serializedOptions</var>, the current Realm).</p>
      <li data-md>
       <p>Let <var>readable</var> be the result of <a data-link-type="abstract-op" href="https://html.spec.whatwg.org/multipage/structured-data.html#structureddeserialize" id="ref-for-structureddeserialize②">StructuredDeserialize</a>(<var>serializedReadable</var>, the current Realm).</p>
      <li data-md>
       <p>Let <var>writable</var> be the result of <a data-link-type="abstract-op" href="https://html.spec.whatwg.org/multipage/structured-data.html#structureddeserialize" id="ref-for-structureddeserialize③">StructuredDeserialize</a>(<var>serializedWritable</var>, the current Realm).</p>
      <li data-md>
       <p>Let <var>transformer</var> be a new <code class="idl"><a data-link-type="idl" href="#rtcrtpscripttransformer" id="ref-for-rtcrtpscripttransformer①">RTCRtpScriptTransformer</a></code>.</p>
      <li data-md>
       <p>Set <var>transformer</var>.<code>[[options]]</code> to <var>transformerOptions</var>.</p>
      <li data-md>
       <p>Set <var>transformer</var>.<code>[[readable]]</code> to <var>readable</var>.</p>
      <li data-md>
       <p>Set <var>transformer</var>.<code>[[writable]]</code> to <var>writable</var>.</p>
      <li data-md>
       <p><a data-link-type="dfn" href="https://dom.spec.whatwg.org/#concept-event-fire" id="ref-for-concept-event-fire③">Fire an event</a> named <dfn class="idl-code" data-dfn-for="DedicatedWorkerGlobalScope" data-dfn-type="event" data-export id="eventdef-dedicatedworkerglobalscope-rtctransform"><code>rtctransform</code><a class="self-link" href="#eventdef-dedicatedworkerglobalscope-rtctransform"></a></dfn> using <code class="idl"><a data-link-type="idl" href="#rtctransformevent" id="ref-for-rtctransformevent">RTCTransformEvent</a></code> with <code class="idl"><a data-link-type="idl" href="#dom-rtctransformevent-transformer" id="ref-for-dom-rtctransformevent-transformer">transformer</a></code> set to <var>transformer</var> on <var>worker</var>’s global scope.</p>
     </ol>
   </ol>
   <p>// FIXME: Describe error handling (worker closing flag true at RTCRtpScriptTransform creation time. And worker being terminated while transform is processing data).</p>
   <p>Each RTCRtpScriptTransform has the following set of <a data-link-type="dfn" href="#association-steps" id="ref-for-association-steps①">association steps</a>, given <var>rtcObject</var>:</p>
   <ol>
    <li data-md>
     <p>Let <var>transform</var> be the <code class="idl"><a data-link-type="idl" href="#rtcrtpscripttransform" id="ref-for-rtcrtpscripttransform①">RTCRtpScriptTransform</a></code> object that owns the <a data-link-type="dfn" href="#association-steps" id="ref-for-association-steps②">association steps</a>.</p>
    <li data-md>
     <p>Let <var>encoder</var> be <var>rtcObject</var>’s encoder if <var>rtcObject</var> is a <code class="idl"><a data-link-type="idl" href="https://w3c.github.io/webrtc-pc/#dom-rtcrtpsender" id="ref-for-dom-rtcrtpsender⑧">RTCRtpSender</a></code> or undefined otherwise.</p>
    <li data-md>
     <p>Let <var>depacketizer</var> be <var>rtcObject</var>’s depacketizer if <var>rtcObject</var> is a <code class="idl"><a data-link-type="idl" href="https://w3c.github.io/webrtc-pc/#dom-rtcrtpreceiver" id="ref-for-dom-rtcrtpreceiver⑧">RTCRtpReceiver</a></code> or undefined otherwise.</p>
    <li data-md>
     <p><a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-task" id="ref-for-queue-a-task③">Queue a task</a> on the DOM manipulation <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#task-source" id="ref-for-task-source①">task source</a> <var>worker</var>’s global scope to run the following steps:</p>
     <ol>
      <li data-md>
       <p>Let <var>transformer</var> be the <code class="idl"><a data-link-type="idl" href="#rtcrtpscripttransformer" id="ref-for-rtcrtpscripttransformer②">RTCRtpScriptTransformer</a></code> object associated to <var>transform</var>.</p>
      <li data-md>
       <p>Set <var>transformer</var>.<code>[[encoder]]</code> to <var>encoder</var>.</p>
      <li data-md>
       <p>Set <var>transformer</var>.<code>[[depacketizer]]</code> to <var>depacketizer</var>.</p>
     </ol>
   </ol>
   <p>The <dfn class="dfn-paneled idl-code" data-dfn-for="RTCRtpScriptTransformer" data-dfn-type="method" data-export data-lt="generateKeyFrame(rid)|generateKeyFrame()" id="dom-rtcrtpscripttransformer-generatekeyframe"><code>generateKeyFrame(<var>rid</var>)</code></dfn> method steps are:</p>
   <ol>
    <li data-md>
     <p>Let <var>promise</var> be a new promise.</p>
    <li data-md>
     <p>Run the <a data-link-type="dfn" href="#generate-key-frame-algorithm" id="ref-for-generate-key-frame-algorithm">generate key frame algorithm</a> with <var>promise</var>, <var>this</var>.<code>[[encoder]]</code> and <var>rid</var>.</p>
    <li data-md>
     <p>Return <var>promise</var>.</p>
   </ol>
   <p>The <dfn class="dfn-paneled idl-code" data-dfn-for="RTCRtpScriptTransformer" data-dfn-type="method" data-export id="dom-rtcrtpscripttransformer-sendkeyframerequest"><code>sendKeyFrameRequest()</code></dfn> method steps are:</p>
   <ol>
    <li data-md>
     <p>Let <var>promise</var> be a new promise.</p>
    <li data-md>
     <p>Run the <a data-link-type="dfn" href="#send-request-key-frame-algorithm" id="ref-for-send-request-key-frame-algorithm">send request key frame algorithm</a> with <var>promise</var> and <var>this</var>.<code>[[depacketizer]]</code>.</p>
    <li data-md>
     <p>Return <var>promise</var>.</p>
   </ol>
   <h3 class="heading settled" data-level="5.7" id="RTCRtpScriptTransformer-attributes"><span class="secno">5.7. </span><span class="content">Attributes</span><a class="self-link" href="#RTCRtpScriptTransformer-attributes"></a></h3>
   <p>A <code class="idl"><a data-link-type="idl" href="#rtcrtpscripttransformer" id="ref-for-rtcrtpscripttransformer③">RTCRtpScriptTransformer</a></code> has the following private slots called <code>[[depacketizer]]</code>, <code>[[encoder]]</code>, <code>[[options]]</code>, <code>[[readable]]</code> and <code>[[writable]]</code>.
In addition, a <code class="idl"><a data-link-type="idl" href="#rtcrtpscripttransformer" id="ref-for-rtcrtpscripttransformer④">RTCRtpScriptTransformer</a></code> is always associated with its parent <code class="idl"><a data-link-type="idl" href="#rtcrtpscripttransform" id="ref-for-rtcrtpscripttransform②">RTCRtpScriptTransform</a></code> transform.
This allows algorithms to go from an <code class="idl"><a data-link-type="idl" href="#rtcrtpscripttransformer" id="ref-for-rtcrtpscripttransformer⑤">RTCRtpScriptTransformer</a></code> object to its <code class="idl"><a data-link-type="idl" href="#rtcrtpscripttransform" id="ref-for-rtcrtpscripttransform③">RTCRtpScriptTransform</a></code> parent and vice versa.</p>
   <p>The <dfn class="dfn-paneled idl-code" data-dfn-for="RTCRtpScriptTransformer" data-dfn-type="attribute" data-export id="dom-rtcrtpscripttransformer-options"><code>options</code></dfn> getter steps are:</p>
   <ol>
    <li data-md>
     <p>Return <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this" id="ref-for-this②④">this</a>.<code>[[options]]</code>.</p>
   </ol>
   <p>The <dfn class="dfn-paneled idl-code" data-dfn-for="RTCRtpScriptTransformer" data-dfn-type="attribute" data-export id="dom-rtcrtpscripttransformer-readable"><code>readable</code></dfn> getter steps are:</p>
   <ol>
    <li data-md>
     <p>Return <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this" id="ref-for-this②⑤">this</a>.<code>[[readable]]</code>.</p>
   </ol>
   <p>The <dfn class="dfn-paneled idl-code" data-dfn-for="RTCRtpScriptTransformer" data-dfn-type="attribute" data-export id="dom-rtcrtpscripttransformer-writable"><code>writable</code></dfn> getter steps are:</p>
   <ol>
    <li data-md>
     <p>Return <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this" id="ref-for-this②⑥">this</a>.<code>[[writable]]</code>.</p>
   </ol>
   <h3 class="heading settled" data-level="5.8" id="KeyFrame-algorithms"><span class="secno">5.8. </span><span class="content">KeyFrame Algorithms</span><a class="self-link" href="#KeyFrame-algorithms"></a></h3>
   <p>The <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="generate-key-frame-algorithm">generate key frame algorithm</dfn>, given <var>promise</var>, <var>encoder</var> and <var>rid</var>, is defined by running these steps:</p>
   <ol>
    <li data-md>
     <p>If <var>encoder</var> is undefined, reject <var>promise</var> with <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#invalidstateerror" id="ref-for-invalidstateerror">InvalidStateError</a></code>, abort these steps.</p>
    <li data-md>
     <p>If <var>encoder</var> is not processing video frames, reject <var>promise</var> with <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#invalidstateerror" id="ref-for-invalidstateerror①">InvalidStateError</a></code>, abort these steps.</p>
    <li data-md>
     <p>If <var>rid</var> is defined, validate its value. If invalid, reject <var>promise</var> with <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#notallowederror" id="ref-for-notallowederror">NotAllowedError</a></code> and abort these steps.</p>
    <li data-md>
     <p><a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/infrastructure.html#in-parallel" id="ref-for-in-parallel③">In parallel</a>, run the following steps:</p>
     <ol>
      <li data-md>
       <p>Gather a list of video encoders, named <var>videoEncoders</var> from <var>encoder</var>, ordered according negotiated RIDs if any.</p>
      <li data-md>
       <p>If <var>rid</var> is defined, remove from <var>videoEncoders</var> any video encoder that does not match <var>rid</var>.</p>
      <li data-md>
       <p>If <var>rid</var> is undefined, remove from <var>videoEncoders</var> all video encoders except the first one.</p>
      <li data-md>
       <p>If <var>videoEncoders</var> is empty, reject <var>promise</var> with <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#notfounderror" id="ref-for-notfounderror">NotFoundError</a></code> and abort these steps. <var>videoEncoders</var> is expected to be empty if the corresponding <code class="idl"><a data-link-type="idl" href="https://w3c.github.io/webrtc-pc/#dom-rtcrtpsender" id="ref-for-dom-rtcrtpsender⑨">RTCRtpSender</a></code> is not active, or the corresponding <code class="idl"><a data-link-type="idl" href="https://w3c.github.io/webrtc-pc/#dom-rtcrtpsender" id="ref-for-dom-rtcrtpsender①⓪">RTCRtpSender</a></code> track is ended.</p>
      <li data-md>
       <p>Let <var>videoEncoder</var> be the first encoder in <var>videoEncoders</var>.</p>
      <li data-md>
       <p>If <var>rid</var> is undefined, set <var>rid</var> to the RID value corresponding to <var>videoEncoder</var>.</p>
      <li data-md>
       <p>Create a pending key frame task called <var>task</var> with <var>task</var>.<code>[[rid]]</code> set to rid and <var>task</var>.<code>[[promise]]</code>| set to <var>promise</var>.</p>
      <li data-md>
       <p>If <var>encoder</var>.<code>[[pendingKeyFrameTasks]]</code> is undefined, initialize <var>encoder</var>.<code>[[pendingKeyFrameTasks]]</code> to an empty set.</p>
      <li data-md>
       <p>Let <var>shouldTriggerKeyFrame</var> be <code>true</code> if <var>encoder</var>.<code>[[pendingKeyFrameTasks]]</code> contains a task whose <code>[[rid]]</code> value is equal to <var>rid</var>, and <code>false</code> otherwise.</p>
      <li data-md>
       <p>Add <var>task</var> to <var>encoder</var>.<code>[[pendingKeyFrameTasks]]</code>.</p>
      <li data-md>
       <p>If <var>shouldTriggerKeyFrame</var> is <code>true</code>, instruct <var>videoEncoder</var> to generate a key frame for the next provided video frame.</p>
     </ol>
   </ol>
   <p>For any <code class="idl"><a data-link-type="idl" href="#rtcrtpscripttransformer" id="ref-for-rtcrtpscripttransformer⑥">RTCRtpScriptTransformer</a></code> named <var>transformer</var>, the following steps are run just before any <var>frame</var> is enqueued in <var>transformer</var>.<code>[[readable]]</code>:</p>
   <ol>
    <li data-md>
     <p>Let <var>encoder</var> be <var>transformer</var>.<code>[[encoder]]</code>.</p>
    <li data-md>
     <p>If <var>encoder</var> or <var>encoder</var>.<code>[[pendingKeyFrameTasks]]</code> is undefined, abort these steps.</p>
    <li data-md>
     <p>If <var>frame</var> is not a video <code class="idl"><a data-link-type="idl" href="#dom-rtcencodedvideoframetype-key" id="ref-for-dom-rtcencodedvideoframetype-key">"key"</a></code> frame, abort these steps.</p>
    <li data-md>
     <p>For each <var>task</var> in <var>encoder</var>.<code>[[pendingKeyFrameTasks]]</code>, run the following steps:</p>
     <ol>
      <li data-md>
       <p>If <var>frame</var> was generated by a video encoder identified by <var>task</var>.<code>[[rid]]</code>, run the following steps:</p>
       <ol>
        <li data-md>
         <p>Remove <var>task</var> from <var>encoder</var>.<code>[[pendingKeyFrameTasks]]</code>.</p>
        <li data-md>
         <p>Resolve <var>task</var>.<code>[[promise]]</code> with <var>frame</var>’s timestamp.</p>
       </ol>
     </ol>
   </ol>
   <p>By resolving the promises just before enqueuing the corresponding key frame in a <code class="idl"><a data-link-type="idl" href="#rtcrtpscripttransformer" id="ref-for-rtcrtpscripttransformer⑦">RTCRtpScriptTransformer</a></code>'s readable,
the resolution callbacks of the promises are always executed just before the corresponding key frame is exposed.
If the promise is associated to several rid values, it will be resolved when the first key frame corresponding to one the rid value is enqueued.</p>
   <p>The <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="send-request-key-frame-algorithm">send request key frame algorithm</dfn>, given <var>promise</var> and <var>depacketizer</var>, is defined by running these steps:</p>
   <ol>
    <li data-md>
     <p>If <var>depacketizer</var> is undefined, reject <var>promise</var> with <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#invalidstateerror" id="ref-for-invalidstateerror②">InvalidStateError</a></code>, abort these steps.</p>
    <li data-md>
     <p>If <var>depacketizer</var> is not processing video packets, reject <var>promise</var> with <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#invalidstateerror" id="ref-for-invalidstateerror③">InvalidStateError</a></code>, abort these steps.</p>
    <li data-md>
     <p><a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/infrastructure.html#in-parallel" id="ref-for-in-parallel④">In parallel</a>, run the following steps:</p>
     <ol>
      <li data-md>
       <p>If sending a Full Intra Request (FIR) by <var>depacketizer</var>’s receiver is not deemed appropriate, <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#resolve" id="ref-for-resolve①">resolve</a> <var>promise</var> with undefined and abort these steps.
Section 4.3.1 of <a data-link-type="biblio" href="#biblio-rfc5104" title="Codec Control Messages in the RTP Audio-Visual Profile with Feedback (AVPF)">[RFC5104]</a> provides guidelines of how and when it is appropriate to sending a Full Intra Request.</p>
      <li data-md>
       <p>Generate a Full Intra Request (FIR) packet as defined in section 4.3.1 of <a data-link-type="biblio" href="#biblio-rfc5104" title="Codec Control Messages in the RTP Audio-Visual Profile with Feedback (AVPF)">[RFC5104]</a> and send it through <var>depacketizer</var>’s receiver.</p>
      <li data-md>
       <p><a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#resolve" id="ref-for-resolve②">Resolve</a> <var>promise</var> with undefined.</p>
     </ol>
   </ol>
   <h2 class="heading settled" data-level="6" id="rtcrtpsender-extension"><span class="secno">6. </span><span class="content">RTCRtpSender extension</span><a class="self-link" href="#rtcrtpsender-extension"></a></h2>
   <p>An additional API on <code class="idl"><a data-link-type="idl" href="https://w3c.github.io/webrtc-pc/#dom-rtcrtpsender" id="ref-for-dom-rtcrtpsender①①">RTCRtpSender</a></code> is added to complement the generation of key frame added to <code class="idl"><a data-link-type="idl" href="#rtcrtpscripttransformer" id="ref-for-rtcrtpscripttransformer⑧">RTCRtpScriptTransformer</a></code>.</p>
<pre class="idl highlight def"><c- b>partial</c-> <c- b>interface</c-> <a class="idl-code" data-link-type="interface" href="https://w3c.github.io/webrtc-pc/#dom-rtcrtpsender" id="ref-for-dom-rtcrtpsender①②"><c- g>RTCRtpSender</c-></a> {
    <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise" id="ref-for-idl-promise③"><c- b>Promise</c-></a>&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-undefined" id="ref-for-idl-undefined②"><c- b>undefined</c-></a>> <a class="idl-code" data-link-type="method" href="#dom-rtcrtpsender-generatekeyframe" id="ref-for-dom-rtcrtpsender-generatekeyframe"><c- g>generateKeyFrame</c-></a>(<c- b>optional</c-> <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#idl-sequence" id="ref-for-idl-sequence④"><c- b>sequence</c-></a> &lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString" id="ref-for-idl-DOMString②"><c- b>DOMString</c-></a>> <dfn class="idl-code" data-dfn-for="RTCRtpSender/generateKeyFrame(rids), RTCRtpSender/generateKeyFrame()" data-dfn-type="argument" data-export id="dom-rtcrtpsender-generatekeyframe-rids-rids"><code><c- g>rids</c-></code><a class="self-link" href="#dom-rtcrtpsender-generatekeyframe-rids-rids"></a></dfn>);
};
</pre>
   <h3 class="heading settled" data-level="6.1" id="sender-operation"><span class="secno">6.1. </span><span class="content">Extension operation</span><a class="self-link" href="#sender-operation"></a></h3>
   <p>The <dfn class="dfn-paneled idl-code" data-dfn-for="RTCRtpSender" data-dfn-type="method" data-export data-lt="generateKeyFrame(rids)|generateKeyFrame()" id="dom-rtcrtpsender-generatekeyframe"><code>generateKeyFrame(<var>rids</var>)</code></dfn> method steps are:</p>
   <ol>
    <li data-md>
     <p>Let <var>promise</var> be a new promise.</p>
    <li data-md>
     <p><a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/infrastructure.html#in-parallel" id="ref-for-in-parallel⑤">In parallel</a>, run the <a data-link-type="dfn" href="#generate-key-frame-algorithm" id="ref-for-generate-key-frame-algorithm①">generate key frame algorithm</a> with <var>promise</var>, <var>this</var>’s encoder and <var>rids</var>.</p>
    <li data-md>
     <p>Return <var>promise</var>.</p>
   </ol>
   <h2 class="heading settled" data-level="7" id="privacy"><span class="secno">7. </span><span class="content">Privacy and security considerations</span><a class="self-link" href="#privacy"></a></h2>
   <p>This API gives Javascript access to the content of media streams. This
is also available from other sources, such as Canvas and WebAudio.</p>
   <p>However, streams that are isolated (as specified in <a data-link-type="biblio" href="#biblio-webrtc-identity" title="Identity for WebRTC 1.0">[WEBRTC-IDENTITY]</a>) or tainted with another origin, cannot be
accessed using this API, since that would break the isolation rule.</p>
   <p>The API will allow access to some aspects of timing information that are
otherwise unavailable, which allows some fingerprinting surface.</p>
   <p>The API will give access to encoded media, which means that the JS application
will have full control over what’s delivered to internal components like
the packetizer or the decoder. This may require additional care with
auditing how data is handled inside these components.</p>
   <p>For instance, packetizers may expect to see data only from trusted encoders,
and may not be audited for reception of data from untrusted sources.</p>
   <h2 class="heading settled" data-level="8" id="examples"><span class="secno">8. </span><span class="content">Examples</span><a class="self-link" href="#examples"></a></h2>
   <p>See the <a href="https://github.com/w3c/webrtc-encoded-transform/blob/master/explainer.md#code-examples">explainer document</a>.</p>
  </main>
  <div data-fill-with="conformance">
   <h2 class="no-ref no-num heading settled" id="w3c-conformance"><span class="content">Conformance</span><a class="self-link" href="#w3c-conformance"></a></h2>
   <h3 class="no-ref no-num heading settled" id="w3c-conventions"><span class="content">Document conventions</span><a class="self-link" href="#w3c-conventions"></a></h3>
   <p>Conformance requirements are expressed
    with a combination of descriptive assertions
    and RFC 2119 terminology.
    The key words “MUST”, “MUST NOT”, “REQUIRED”, “SHALL”, “SHALL NOT”, “SHOULD”, “SHOULD NOT”, “RECOMMENDED”, “MAY”, and “OPTIONAL”
    in the normative parts of this document
    are to be interpreted as described in RFC 2119.
    However, for readability,
    these words do not appear in all uppercase letters in this specification. </p>
   <p>All of the text of this specification is normative
    except sections explicitly marked as non-normative, examples, and notes. <a data-link-type="biblio" href="#biblio-rfc2119" title="Key words for use in RFCs to Indicate Requirement Levels">[RFC2119]</a> </p>
   <p>Examples in this specification are introduced with the words “for example”
    or are set apart from the normative text
    with <code>class="example"</code>,
    like this: </p>
   <div class="example" id="w3c-example">
    <a class="self-link" href="#w3c-example"></a> 
    <p>This is an example of an informative example. </p>
   </div>
   <p>Informative notes begin with the word “Note”
    and are set apart from the normative text
    with <code>class="note"</code>,
    like this: </p>
   <p class="note" role="note">Note, this is an informative note.</p>
   <h3 class="no-ref no-num heading settled" id="w3c-conformant-algorithms"><span class="content">Conformant Algorithms</span><a class="self-link" href="#w3c-conformant-algorithms"></a></h3>
   <p>Requirements phrased in the imperative as part of algorithms
    (such as "strip any leading space characters"
    or "return false and abort these steps")
    are to be interpreted with the meaning of the key word
    ("must", "should", "may", etc)
    used in introducing the algorithm. </p>
   <p>Conformance requirements phrased as algorithms or specific steps
    can be implemented in any manner,
    so long as the end result is equivalent.
    In particular, the algorithms defined in this specification
    are intended to be easy to understand
    and are not intended to be performant.
    Implementers are encouraged to optimize. </p>
  </div>
<script src="https://www.w3.org/scripts/TR/2021/fixup.js"></script>
  <h2 class="no-num no-ref heading settled" id="index"><span class="content">Index</span><a class="self-link" href="#index"></a></h2>
  <h3 class="no-num no-ref heading settled" id="index-defined-here"><span class="content">Terms defined by this specification</span><a class="self-link" href="#index-defined-here"></a></h3>
  <ul class="index">
   <li><a href="#association-steps">association steps</a><span>, in § 3.2</span>
   <li><a href="#dom-sframetransformerroreventtype-authentication">"authentication"</a><span>, in § 4</span>
   <li><a href="#chain-transform-algorithm">chain transform algorithm</a><span>, in § 3.2</span>
   <li><a href="#dom-sframetransform-sframetransform">constructor()</a><span>, in § 4</span>
   <li><a href="#dom-sframetransform-sframetransform">constructor(options)</a><span>, in § 4</span>
   <li><a href="#dom-sframetransformerrorevent-sframetransformerrorevent">constructor(type, eventInitDict)</a><span>, in § 4</span>
   <li><a href="#dom-rtcrtpscripttransform-rtcrtpscripttransform">constructor(worker)</a><span>, in § 5.6</span>
   <li><a href="#dom-rtcrtpscripttransform-rtcrtpscripttransform">constructor(worker, options)</a><span>, in § 5.6</span>
   <li><a href="#dom-rtcrtpscripttransform-rtcrtpscripttransform">constructor(worker, options, transfer)</a><span>, in § 5.6</span>
   <li>
    contributingSources
    <ul>
     <li><a href="#rtcencodedaudioframemetadata-contributingsources">dfn for RTCEncodedAudioFrameMetadata</a><span>, in § 5.4.1</span>
     <li><a href="#rtcencodedvideoframemetadata-contributingsources">dfn for RTCEncodedVideoFrameMetadata</a><span>, in § 5.2.1</span>
     <li><a href="#dom-rtcencodedaudioframemetadata-contributingsources">dict-member for RTCEncodedAudioFrameMetadata</a><span>, in § 5.4</span>
     <li><a href="#dom-rtcencodedvideoframemetadata-contributingsources">dict-member for RTCEncodedVideoFrameMetadata</a><span>, in § 5.2</span>
    </ul>
   <li><a href="#typedefdef-cryptokeyid">CryptoKeyID</a><span>, in § 4</span>
   <li>
    data
    <ul>
     <li><a href="#dom-rtcencodedaudioframe-data">attribute for RTCEncodedAudioFrame</a><span>, in § 5.5</span>
     <li><a href="#dom-rtcencodedvideoframe-data">attribute for RTCEncodedVideoFrame</a><span>, in § 5.3</span>
     <li><a href="#rtcencodedaudioframe-data">dfn for RTCEncodedAudioFrame</a><span>, in § 5.5.1</span>
     <li><a href="#rtcencodedvideoframe-data">dfn for RTCEncodedVideoFrame</a><span>, in § 5.3.1</span>
    </ul>
   <li><a href="#dom-sframetransformrole-decrypt">"decrypt"</a><span>, in § 4</span>
   <li><a href="#dom-rtcencodedvideoframetype-delta">"delta"</a><span>, in § 5.1</span>
   <li><a href="#rtcencodedvideoframetype-delta">delta</a><span>, in § 5.1</span>
   <li><a href="#dom-rtcencodedvideoframemetadata-dependencies">dependencies</a><span>, in § 5.2</span>
   <li><a href="#dom-rtcencodedvideoframetype-empty">"empty"</a><span>, in § 5.1</span>
   <li><a href="#rtcencodedvideoframetype-empty">empty</a><span>, in § 5.1</span>
   <li><a href="#dom-sframetransformrole-encrypt">"encrypt"</a><span>, in § 4</span>
   <li>
    errorType
    <ul>
     <li><a href="#dom-sframetransformerrorevent-errortype">attribute for SFrameTransformErrorEvent</a><span>, in § 4</span>
     <li><a href="#dom-sframetransformerroreventinit-errortype">dict-member for SFrameTransformErrorEventInit</a><span>, in § 4</span>
    </ul>
   <li>
    frame
    <ul>
     <li><a href="#dom-sframetransformerrorevent-frame">attribute for SFrameTransformErrorEvent</a><span>, in § 4</span>
     <li><a href="#dom-sframetransformerroreventinit-frame">dict-member for SFrameTransformErrorEventInit</a><span>, in § 4</span>
    </ul>
   <li><a href="#dom-rtcencodedvideoframemetadata-frameid">frameId</a><span>, in § 5.2</span>
   <li>
    generateKeyFrame()
    <ul>
     <li><a href="#dom-rtcrtpscripttransformer-generatekeyframe">method for RTCRtpScriptTransformer</a><span>, in § 5.6</span>
     <li><a href="#dom-rtcrtpsender-generatekeyframe">method for RTCRtpSender</a><span>, in § 6.1</span>
    </ul>
   <li><a href="#generate-key-frame-algorithm">generate key frame algorithm</a><span>, in § 5.8</span>
   <li><a href="#dom-rtcrtpscripttransformer-generatekeyframe">generateKeyFrame(rid)</a><span>, in § 5.6</span>
   <li><a href="#dom-rtcrtpsender-generatekeyframe">generateKeyFrame(rids)</a><span>, in § 6.1</span>
   <li>
    getMetadata()
    <ul>
     <li><a href="#dom-rtcencodedaudioframe-getmetadata">method for RTCEncodedAudioFrame</a><span>, in § 5.5.2</span>
     <li><a href="#dom-rtcencodedvideoframe-getmetadata">method for RTCEncodedVideoFrame</a><span>, in § 5.3.2</span>
    </ul>
   <li><a href="#dom-rtcencodedvideoframemetadata-height">height</a><span>, in § 5.2</span>
   <li><a href="#dom-rtcencodedvideoframetype-key">"key"</a><span>, in § 5.1</span>
   <li><a href="#rtcencodedvideoframetype-key">key</a><span>, in § 5.1</span>
   <li><a href="#dom-sframetransformerroreventtype-keyid">"keyID"</a><span>, in § 4</span>
   <li>
    keyID
    <ul>
     <li><a href="#dom-sframetransformerrorevent-keyid">attribute for SFrameTransformErrorEvent</a><span>, in § 4</span>
     <li><a href="#dom-sframetransformerroreventinit-keyid">dict-member for SFrameTransformErrorEventInit</a><span>, in § 4</span>
    </ul>
   <li><a href="#dom-sframetransform-onerror">onerror</a><span>, in § 4</span>
   <li><a href="#dom-dedicatedworkerglobalscope-onrtctransform">onrtctransform</a><span>, in § 5.5.2</span>
   <li><a href="#dom-rtcrtpscripttransformer-options">options</a><span>, in § 5.7</span>
   <li>
    payloadType
    <ul>
     <li><a href="#rtcencodedaudioframemetadata-payloadtype">dfn for RTCEncodedAudioFrameMetadata</a><span>, in § 5.4.1</span>
     <li><a href="#rtcencodedvideoframemetadata-payloadtype">dfn for RTCEncodedVideoFrameMetadata</a><span>, in § 5.2.1</span>
     <li><a href="#dom-rtcencodedaudioframemetadata-payloadtype">dict-member for RTCEncodedAudioFrameMetadata</a><span>, in § 5.4</span>
     <li><a href="#dom-rtcencodedvideoframemetadata-payloadtype">dict-member for RTCEncodedVideoFrameMetadata</a><span>, in § 5.2</span>
    </ul>
   <li><a href="#dom-rtcrtpscripttransformer-readable">readable</a><span>, in § 5.7</span>
   <li><a href="#readencodeddata">readEncodedData</a><span>, in § 3.1.2</span>
   <li><a href="#dom-sframetransformoptions-role">role</a><span>, in § 4</span>
   <li>
    RTCEncodedAudioFrame
    <ul>
     <li><a href="#rtcencodedaudioframe①">(interface)</a><span>, in § 5.5</span>
     <li><a href="#rtcencodedaudioframe">definition of</a><span>, in § 5.5</span>
    </ul>
   <li>
    RTCEncodedAudioFrameMetadata
    <ul>
     <li><a href="#dictdef-rtcencodedaudioframemetadata">(dictionary)</a><span>, in § 5.4</span>
     <li><a href="#rtcencodedaudioframemetadata">definition of</a><span>, in § 5.4</span>
    </ul>
   <li>
    RTCEncodedVideoFrame
    <ul>
     <li><a href="#rtcencodedvideoframe①">(interface)</a><span>, in § 5.3</span>
     <li><a href="#rtcencodedvideoframe">definition of</a><span>, in § 5.3</span>
    </ul>
   <li>
    RTCEncodedVideoFrameMetadata
    <ul>
     <li><a href="#dictdef-rtcencodedvideoframemetadata">(dictionary)</a><span>, in § 5.2</span>
     <li><a href="#rtcencodedvideoframemetadata">definition of</a><span>, in § 5.2</span>
    </ul>
   <li>
    RTCEncodedVideoFrameType
    <ul>
     <li><a href="#enumdef-rtcencodedvideoframetype">(enum)</a><span>, in § 5.1</span>
     <li><a href="#rtcencodedvideoframetype">definition of</a><span>, in § 5.1</span>
    </ul>
   <li><a href="#rtcrtpscripttransform">RTCRtpScriptTransform</a><span>, in § 5.5.2</span>
   <li><a href="#rtcrtpscripttransformer">RTCRtpScriptTransformer</a><span>, in § 5.5.2</span>
   <li><a href="#dom-rtcrtpscripttransform-rtcrtpscripttransform">RTCRtpScriptTransform(worker)</a><span>, in § 5.6</span>
   <li><a href="#dom-rtcrtpscripttransform-rtcrtpscripttransform">RTCRtpScriptTransform(worker, options)</a><span>, in § 5.6</span>
   <li><a href="#dom-rtcrtpscripttransform-rtcrtpscripttransform">RTCRtpScriptTransform(worker, options, transfer)</a><span>, in § 5.6</span>
   <li><a href="#typedefdef-rtcrtptransform">RTCRtpTransform</a><span>, in § 3</span>
   <li><a href="#eventdef-dedicatedworkerglobalscope-rtctransform">rtctransform</a><span>, in § 5.6</span>
   <li><a href="#rtctransformevent">RTCTransformEvent</a><span>, in § 5.5.2</span>
   <li><a href="#dom-rtcrtpscripttransformer-sendkeyframerequest">sendKeyFrameRequest()</a><span>, in § 5.6</span>
   <li><a href="#send-request-key-frame-algorithm">send request key frame algorithm</a><span>, in § 5.8</span>
   <li><a href="#dom-sframetransform-setencryptionkey">setEncryptionKey(key)</a><span>, in § 4.2</span>
   <li><a href="#dom-sframetransform-setencryptionkey">setEncryptionKey(key, keyID)</a><span>, in § 4.2</span>
   <li><a href="#sframetransform">SFrameTransform</a><span>, in § 4</span>
   <li><a href="#dom-sframetransform-sframetransform">SFrameTransform()</a><span>, in § 4</span>
   <li><a href="#sframetransformerrorevent">SFrameTransformErrorEvent</a><span>, in § 4</span>
   <li><a href="#dictdef-sframetransformerroreventinit">SFrameTransformErrorEventInit</a><span>, in § 4</span>
   <li><a href="#enumdef-sframetransformerroreventtype">SFrameTransformErrorEventType</a><span>, in § 4</span>
   <li><a href="#dom-sframetransformerrorevent-sframetransformerrorevent">SFrameTransformErrorEvent(type, eventInitDict)</a><span>, in § 4</span>
   <li><a href="#dom-sframetransform-sframetransform">SFrameTransform(options)</a><span>, in § 4</span>
   <li><a href="#dictdef-sframetransformoptions">SFrameTransformOptions</a><span>, in § 4</span>
   <li><a href="#enumdef-sframetransformrole">SFrameTransformRole</a><span>, in § 4</span>
   <li><a href="#typedefdef-smallcryptokeyid">SmallCryptoKeyID</a><span>, in § 4</span>
   <li><a href="#dom-rtcencodedvideoframemetadata-spatialindex">spatialIndex</a><span>, in § 5.2</span>
   <li>
    synchronizationSource
    <ul>
     <li><a href="#rtcencodedaudioframemetadata-synchronizationsource">dfn for RTCEncodedAudioFrameMetadata</a><span>, in § 5.4.1</span>
     <li><a href="#rtcencodedvideoframemetadata-synchronizationsource">dfn for RTCEncodedVideoFrameMetadata</a><span>, in § 5.2.1</span>
     <li><a href="#dom-rtcencodedaudioframemetadata-synchronizationsource">dict-member for RTCEncodedAudioFrameMetadata</a><span>, in § 5.4</span>
     <li><a href="#dom-rtcencodedvideoframemetadata-synchronizationsource">dict-member for RTCEncodedVideoFrameMetadata</a><span>, in § 5.2</span>
    </ul>
   <li><a href="#dom-sframetransformerroreventtype-syntax">"syntax"</a><span>, in § 4</span>
   <li><a href="#dom-rtcencodedvideoframemetadata-temporalindex">temporalIndex</a><span>, in § 5.2</span>
   <li>
    timestamp
    <ul>
     <li><a href="#dom-rtcencodedaudioframe-timestamp">attribute for RTCEncodedAudioFrame</a><span>, in § 5.5</span>
     <li><a href="#dom-rtcencodedvideoframe-timestamp">attribute for RTCEncodedVideoFrame</a><span>, in § 5.3</span>
     <li><a href="#rtcencodedaudioframe-timestamp">dfn for RTCEncodedAudioFrame</a><span>, in § 5.5.1</span>
     <li><a href="#rtcencodedvideoframe-timestamp">dfn for RTCEncodedVideoFrame</a><span>, in § 5.3.1</span>
    </ul>
   <li><a href="#dom-rtcrtpsender-transform">transform</a><span>, in § 3.2</span>
   <li><a href="#dom-rtctransformevent-transformer">transformer</a><span>, in § 5.5.2</span>
   <li>
    type
    <ul>
     <li><a href="#dom-rtcencodedvideoframe-type">attribute for RTCEncodedVideoFrame</a><span>, in § 5.3</span>
     <li><a href="#rtcencodedvideoframe-type">dfn for RTCEncodedVideoFrame</a><span>, in § 5.3.1</span>
    </ul>
   <li><a href="#dom-rtcencodedvideoframemetadata-width">width</a><span>, in § 5.2</span>
   <li><a href="#dom-rtcrtpscripttransformer-writable">writable</a><span>, in § 5.7</span>
   <li><a href="#writeencodeddata">writeEncodedData</a><span>, in § 3.1.2</span>
  </ul>
  <aside class="dfn-panel" data-for="term-for-abortcontroller">
   <a href="https://dom.spec.whatwg.org/#abortcontroller">https://dom.spec.whatwg.org/#abortcontroller</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-abortcontroller">3.1.1. Stream creation</a>
    <li><a href="#ref-for-abortcontroller①">3.2. Extension attribute</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="term-for-event">
   <a href="https://dom.spec.whatwg.org/#event">https://dom.spec.whatwg.org/#event</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-event">4. SFrameTransform</a>
    <li><a href="#ref-for-event①">5.5.2. Methods</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="term-for-dictdef-eventinit">
   <a href="https://dom.spec.whatwg.org/#dictdef-eventinit">https://dom.spec.whatwg.org/#dictdef-eventinit</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dictdef-eventinit">4. SFrameTransform</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="term-for-abortsignal-aborted">
   <a href="https://dom.spec.whatwg.org/#abortsignal-aborted">https://dom.spec.whatwg.org/#abortsignal-aborted</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-abortsignal-aborted">3.2. Extension attribute</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="term-for-abortsignal-add">
   <a href="https://dom.spec.whatwg.org/#abortsignal-add">https://dom.spec.whatwg.org/#abortsignal-add</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-abortsignal-add">3.2. Extension attribute</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="term-for-concept-event-fire">
   <a href="https://dom.spec.whatwg.org/#concept-event-fire">https://dom.spec.whatwg.org/#concept-event-fire</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-concept-event-fire">4.1. Algorithm</a> <a href="#ref-for-concept-event-fire①">(2)</a> <a href="#ref-for-concept-event-fire②">(3)</a>
    <li><a href="#ref-for-concept-event-fire③">5.6. Operations</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="term-for-abortsignal-signal-abort">
   <a href="https://dom.spec.whatwg.org/#abortsignal-signal-abort">https://dom.spec.whatwg.org/#abortsignal-signal-abort</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-abortsignal-signal-abort">3.2. Extension attribute</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="term-for-dedicatedworkerglobalscope">
   <a href="https://html.spec.whatwg.org/multipage/workers.html#dedicatedworkerglobalscope">https://html.spec.whatwg.org/multipage/workers.html#dedicatedworkerglobalscope</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dedicatedworkerglobalscope">5.5.2. Methods</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="term-for-eventhandler">
   <a href="https://html.spec.whatwg.org/multipage/webappapis.html#eventhandler">https://html.spec.whatwg.org/multipage/webappapis.html#eventhandler</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-eventhandler">4. SFrameTransform</a>
    <li><a href="#ref-for-eventhandler①">5.5.2. Methods</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="term-for-structureddeserialize">
   <a href="https://html.spec.whatwg.org/multipage/structured-data.html#structureddeserialize">https://html.spec.whatwg.org/multipage/structured-data.html#structureddeserialize</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-structureddeserialize">3.1.2. Stream processing</a>
    <li><a href="#ref-for-structureddeserialize①">5.6. Operations</a> <a href="#ref-for-structureddeserialize②">(2)</a> <a href="#ref-for-structureddeserialize③">(3)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="term-for-structuredserializewithtransfer">
   <a href="https://html.spec.whatwg.org/multipage/structured-data.html#structuredserializewithtransfer">https://html.spec.whatwg.org/multipage/structured-data.html#structuredserializewithtransfer</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-structuredserializewithtransfer">3.1.2. Stream processing</a>
    <li><a href="#ref-for-structuredserializewithtransfer①">5.6. Operations</a> <a href="#ref-for-structuredserializewithtransfer②">(2)</a> <a href="#ref-for-structuredserializewithtransfer③">(3)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="term-for-worker">
   <a href="https://html.spec.whatwg.org/multipage/workers.html#worker">https://html.spec.whatwg.org/multipage/workers.html#worker</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-worker">5.5.2. Methods</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="term-for-in-parallel">
   <a href="https://html.spec.whatwg.org/multipage/infrastructure.html#in-parallel">https://html.spec.whatwg.org/multipage/infrastructure.html#in-parallel</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-in-parallel">3.1.2. Stream processing</a> <a href="#ref-for-in-parallel①">(2)</a>
    <li><a href="#ref-for-in-parallel②">4.2. Methods</a>
    <li><a href="#ref-for-in-parallel③">5.8. KeyFrame Algorithms</a> <a href="#ref-for-in-parallel④">(2)</a>
    <li><a href="#ref-for-in-parallel⑤">6.1. Extension operation</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="term-for-queue-a-task">
   <a href="https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-task">https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-task</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-queue-a-task">3.1.1. Stream creation</a>
    <li><a href="#ref-for-queue-a-task①">4.1. Algorithm</a>
    <li><a href="#ref-for-queue-a-task②">5.6. Operations</a> <a href="#ref-for-queue-a-task③">(2)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="term-for-concept-relevant-realm">
   <a href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-realm">https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-realm</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-concept-relevant-realm">3.1.2. Stream processing</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="term-for-task-source">
   <a href="https://html.spec.whatwg.org/multipage/webappapis.html#task-source">https://html.spec.whatwg.org/multipage/webappapis.html#task-source</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-task-source">5.6. Operations</a> <a href="#ref-for-task-source①">(2)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="term-for-dom-mediastreamtrack">
   <a href="https://w3c.github.io/mediacapture-main/#dom-mediastreamtrack">https://w3c.github.io/mediacapture-main/#dom-mediastreamtrack</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-mediastreamtrack">Unnumbered Section</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="term-for-generictransformstream">
   <a href="https://streams.spec.whatwg.org/#generictransformstream">https://streams.spec.whatwg.org/#generictransformstream</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-generictransformstream">4. SFrameTransform</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="term-for-readablestream">
   <a href="https://streams.spec.whatwg.org/#readablestream">https://streams.spec.whatwg.org/#readablestream</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-readablestream">3.1.1. Stream creation</a>
    <li><a href="#ref-for-readablestream①">5.5.2. Methods</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="term-for-transformstream">
   <a href="https://streams.spec.whatwg.org/#transformstream">https://streams.spec.whatwg.org/#transformstream</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-transformstream">4. SFrameTransform</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="term-for-writablestream">
   <a href="https://streams.spec.whatwg.org/#writablestream">https://streams.spec.whatwg.org/#writablestream</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-writablestream">3.1.1. Stream creation</a>
    <li><a href="#ref-for-writablestream①">5.5.2. Methods</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="term-for-readablestream-enqueue">
   <a href="https://streams.spec.whatwg.org/#readablestream-enqueue">https://streams.spec.whatwg.org/#readablestream-enqueue</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-readablestream-enqueue">3.1.2. Stream processing</a>
    <li><a href="#ref-for-readablestream-enqueue①">4.1. Algorithm</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="term-for-readablestream-get-a-reader">
   <a href="https://streams.spec.whatwg.org/#readablestream-get-a-reader">https://streams.spec.whatwg.org/#readablestream-get-a-reader</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-readablestream-get-a-reader">3.2. Extension attribute</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="term-for-writablestream-get-a-writer">
   <a href="https://streams.spec.whatwg.org/#writablestream-get-a-writer">https://streams.spec.whatwg.org/#writablestream-get-a-writer</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-writablestream-get-a-writer">3.2. Extension attribute</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="term-for-identity-transform-stream">
   <a href="https://streams.spec.whatwg.org/#identity-transform-stream">https://streams.spec.whatwg.org/#identity-transform-stream</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-identity-transform-stream">3.2. Extension attribute</a>
    <li><a href="#ref-for-identity-transform-stream①">5.6. Operations</a> <a href="#ref-for-identity-transform-stream②">(2)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="term-for-readablestreamdefaultreader-release">
   <a href="https://streams.spec.whatwg.org/#readablestreamdefaultreader-release">https://streams.spec.whatwg.org/#readablestreamdefaultreader-release</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-readablestreamdefaultreader-release">3.2. Extension attribute</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="term-for-writablestreamdefaultwriter-release">
   <a href="https://streams.spec.whatwg.org/#writablestreamdefaultwriter-release">https://streams.spec.whatwg.org/#writablestreamdefaultwriter-release</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-writablestreamdefaultwriter-release">3.2. Extension attribute</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="term-for-readablestream-set-up">
   <a href="https://streams.spec.whatwg.org/#readablestream-set-up">https://streams.spec.whatwg.org/#readablestream-set-up</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-readablestream-set-up">3.1.1. Stream creation</a>
    <li><a href="#ref-for-readablestream-set-up①">4. SFrameTransform</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="term-for-writablestream-set-up">
   <a href="https://streams.spec.whatwg.org/#writablestream-set-up">https://streams.spec.whatwg.org/#writablestream-set-up</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-writablestream-set-up">3.1.1. Stream creation</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="term-for-writablestream-set-up-sizealgorithm">
   <a href="https://streams.spec.whatwg.org/#writablestream-set-up-sizealgorithm">https://streams.spec.whatwg.org/#writablestream-set-up-sizealgorithm</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-writablestream-set-up-sizealgorithm">3.1.1. Stream creation</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="term-for-transformstream-set-up-transformalgorithm">
   <a href="https://streams.spec.whatwg.org/#transformstream-set-up-transformalgorithm">https://streams.spec.whatwg.org/#transformstream-set-up-transformalgorithm</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-transformstream-set-up-transformalgorithm">4. SFrameTransform</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="term-for-writablestream-set-up-writealgorithm">
   <a href="https://streams.spec.whatwg.org/#writablestream-set-up-writealgorithm">https://streams.spec.whatwg.org/#writablestream-set-up-writealgorithm</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-writablestream-set-up-writealgorithm">3.1.1. Stream creation</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="term-for-dfn-CryptoKey">
   <a href="https://w3c.github.io/webcrypto/#dfn-CryptoKey">https://w3c.github.io/webcrypto/#dfn-CryptoKey</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dfn-CryptoKey">4. SFrameTransform</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="term-for-idl-ArrayBuffer">
   <a href="https://webidl.spec.whatwg.org/#idl-ArrayBuffer">https://webidl.spec.whatwg.org/#idl-ArrayBuffer</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-idl-ArrayBuffer">4.1. Algorithm</a>
    <li><a href="#ref-for-idl-ArrayBuffer①">5.3. RTCEncodedVideoFrame interface</a>
    <li><a href="#ref-for-idl-ArrayBuffer②">5.5. RTCEncodedAudioFrame interface</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="term-for-BufferSource">
   <a href="https://webidl.spec.whatwg.org/#BufferSource">https://webidl.spec.whatwg.org/#BufferSource</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-BufferSource">4.1. Algorithm</a> <a href="#ref-for-BufferSource①">(2)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="term-for-idl-DOMString">
   <a href="https://webidl.spec.whatwg.org/#idl-DOMString">https://webidl.spec.whatwg.org/#idl-DOMString</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-idl-DOMString">4. SFrameTransform</a>
    <li><a href="#ref-for-idl-DOMString①">5.5.2. Methods</a>
    <li><a href="#ref-for-idl-DOMString②">6. RTCRtpSender extension</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="term-for-EnforceRange">
   <a href="https://webidl.spec.whatwg.org/#EnforceRange">https://webidl.spec.whatwg.org/#EnforceRange</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-EnforceRange">4. SFrameTransform</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="term-for-Exposed">
   <a href="https://webidl.spec.whatwg.org/#Exposed">https://webidl.spec.whatwg.org/#Exposed</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-Exposed">4. SFrameTransform</a> <a href="#ref-for-Exposed①">(2)</a>
    <li><a href="#ref-for-Exposed②">5.3. RTCEncodedVideoFrame interface</a>
    <li><a href="#ref-for-Exposed③">5.5. RTCEncodedAudioFrame interface</a>
    <li><a href="#ref-for-Exposed④">5.5.2. Methods</a> <a href="#ref-for-Exposed⑤">(2)</a> <a href="#ref-for-Exposed⑥">(3)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="term-for-invalidmodificationerror">
   <a href="https://webidl.spec.whatwg.org/#invalidmodificationerror">https://webidl.spec.whatwg.org/#invalidmodificationerror</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-invalidmodificationerror">4.2. Methods</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="term-for-invalidstateerror">
   <a href="https://webidl.spec.whatwg.org/#invalidstateerror">https://webidl.spec.whatwg.org/#invalidstateerror</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-invalidstateerror">5.8. KeyFrame Algorithms</a> <a href="#ref-for-invalidstateerror①">(2)</a> <a href="#ref-for-invalidstateerror②">(3)</a> <a href="#ref-for-invalidstateerror③">(4)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="term-for-notallowederror">
   <a href="https://webidl.spec.whatwg.org/#notallowederror">https://webidl.spec.whatwg.org/#notallowederror</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-notallowederror">5.8. KeyFrame Algorithms</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="term-for-notfounderror">
   <a href="https://webidl.spec.whatwg.org/#notfounderror">https://webidl.spec.whatwg.org/#notfounderror</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-notfounderror">5.8. KeyFrame Algorithms</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="term-for-idl-promise">
   <a href="https://webidl.spec.whatwg.org/#idl-promise">https://webidl.spec.whatwg.org/#idl-promise</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-idl-promise">4. SFrameTransform</a>
    <li><a href="#ref-for-idl-promise①">5.5.2. Methods</a> <a href="#ref-for-idl-promise②">(2)</a>
    <li><a href="#ref-for-idl-promise③">6. RTCRtpSender extension</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="term-for-exceptiondef-rangeerror">
   <a href="https://webidl.spec.whatwg.org/#exceptiondef-rangeerror">https://webidl.spec.whatwg.org/#exceptiondef-rangeerror</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-exceptiondef-rangeerror">4.2. Methods</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="term-for-a-new-promise">
   <a href="https://webidl.spec.whatwg.org/#a-new-promise">https://webidl.spec.whatwg.org/#a-new-promise</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-a-new-promise">4.2. Methods</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="term-for-a-promise-resolved-with">
   <a href="https://webidl.spec.whatwg.org/#a-promise-resolved-with">https://webidl.spec.whatwg.org/#a-promise-resolved-with</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-a-promise-resolved-with">3.1.2. Stream processing</a> <a href="#ref-for-a-promise-resolved-with①">(2)</a> <a href="#ref-for-a-promise-resolved-with②">(3)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="term-for-idl-any">
   <a href="https://webidl.spec.whatwg.org/#idl-any">https://webidl.spec.whatwg.org/#idl-any</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-idl-any">4. SFrameTransform</a> <a href="#ref-for-idl-any①">(2)</a>
    <li><a href="#ref-for-idl-any②">5.5.2. Methods</a> <a href="#ref-for-idl-any③">(2)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="term-for-idl-bigint">
   <a href="https://webidl.spec.whatwg.org/#idl-bigint">https://webidl.spec.whatwg.org/#idl-bigint</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-idl-bigint">4. SFrameTransform</a>
    <li><a href="#ref-for-idl-bigint①">4.2. Methods</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="term-for-idl-object">
   <a href="https://webidl.spec.whatwg.org/#idl-object">https://webidl.spec.whatwg.org/#idl-object</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-idl-object">5.5.2. Methods</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="term-for-idl-octet">
   <a href="https://webidl.spec.whatwg.org/#idl-octet">https://webidl.spec.whatwg.org/#idl-octet</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-idl-octet">5.2. RTCEncodedVideoFrameMetadata dictionary</a>
    <li><a href="#ref-for-idl-octet①">5.4. RTCEncodedAudioFrameMetadata dictionary</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="term-for-reject">
   <a href="https://webidl.spec.whatwg.org/#reject">https://webidl.spec.whatwg.org/#reject</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-reject">4.2. Methods</a> <a href="#ref-for-reject①">(2)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="term-for-resolve">
   <a href="https://webidl.spec.whatwg.org/#resolve">https://webidl.spec.whatwg.org/#resolve</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-resolve">4.2. Methods</a>
    <li><a href="#ref-for-resolve①">5.8. KeyFrame Algorithms</a> <a href="#ref-for-resolve②">(2)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="term-for-idl-sequence">
   <a href="https://webidl.spec.whatwg.org/#idl-sequence">https://webidl.spec.whatwg.org/#idl-sequence</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-idl-sequence">5.2. RTCEncodedVideoFrameMetadata dictionary</a> <a href="#ref-for-idl-sequence①">(2)</a>
    <li><a href="#ref-for-idl-sequence②">5.4. RTCEncodedAudioFrameMetadata dictionary</a>
    <li><a href="#ref-for-idl-sequence③">5.5.2. Methods</a>
    <li><a href="#ref-for-idl-sequence④">6. RTCRtpSender extension</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="term-for-this">
   <a href="https://webidl.spec.whatwg.org/#this">https://webidl.spec.whatwg.org/#this</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-this">3.1.1. Stream creation</a> <a href="#ref-for-this①">(2)</a> <a href="#ref-for-this②">(3)</a> <a href="#ref-for-this③">(4)</a> <a href="#ref-for-this④">(5)</a> <a href="#ref-for-this⑤">(6)</a> <a href="#ref-for-this⑥">(7)</a> <a href="#ref-for-this⑦">(8)</a> <a href="#ref-for-this⑧">(9)</a> <a href="#ref-for-this⑨">(10)</a> <a href="#ref-for-this①⓪">(11)</a> <a href="#ref-for-this①①">(12)</a> <a href="#ref-for-this①②">(13)</a> <a href="#ref-for-this①③">(14)</a> <a href="#ref-for-this①④">(15)</a> <a href="#ref-for-this①⑤">(16)</a>
    <li><a href="#ref-for-this①⑥">3.2. Extension attribute</a> <a href="#ref-for-this①⑦">(2)</a> <a href="#ref-for-this①⑧">(3)</a> <a href="#ref-for-this①⑨">(4)</a> <a href="#ref-for-this②⓪">(5)</a> <a href="#ref-for-this②①">(6)</a> <a href="#ref-for-this②②">(7)</a>
    <li><a href="#ref-for-this②③">4. SFrameTransform</a>
    <li><a href="#ref-for-this②④">5.7. Attributes</a> <a href="#ref-for-this②⑤">(2)</a> <a href="#ref-for-this②⑥">(3)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="term-for-idl-undefined">
   <a href="https://webidl.spec.whatwg.org/#idl-undefined">https://webidl.spec.whatwg.org/#idl-undefined</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-idl-undefined">4. SFrameTransform</a>
    <li><a href="#ref-for-idl-undefined①">5.5.2. Methods</a>
    <li><a href="#ref-for-idl-undefined②">6. RTCRtpSender extension</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="term-for-idl-unsigned-long">
   <a href="https://webidl.spec.whatwg.org/#idl-unsigned-long">https://webidl.spec.whatwg.org/#idl-unsigned-long</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-idl-unsigned-long">5.2. RTCEncodedVideoFrameMetadata dictionary</a> <a href="#ref-for-idl-unsigned-long①">(2)</a> <a href="#ref-for-idl-unsigned-long②">(3)</a> <a href="#ref-for-idl-unsigned-long③">(4)</a>
    <li><a href="#ref-for-idl-unsigned-long④">5.3. RTCEncodedVideoFrame interface</a>
    <li><a href="#ref-for-idl-unsigned-long⑤">5.4. RTCEncodedAudioFrameMetadata dictionary</a> <a href="#ref-for-idl-unsigned-long⑥">(2)</a>
    <li><a href="#ref-for-idl-unsigned-long⑦">5.5. RTCEncodedAudioFrame interface</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="term-for-idl-unsigned-long-long">
   <a href="https://webidl.spec.whatwg.org/#idl-unsigned-long-long">https://webidl.spec.whatwg.org/#idl-unsigned-long-long</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-idl-unsigned-long-long">4. SFrameTransform</a>
    <li><a href="#ref-for-idl-unsigned-long-long①">5.2. RTCEncodedVideoFrameMetadata dictionary</a> <a href="#ref-for-idl-unsigned-long-long②">(2)</a>
    <li><a href="#ref-for-idl-unsigned-long-long③">5.5.2. Methods</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="term-for-idl-unsigned-short">
   <a href="https://webidl.spec.whatwg.org/#idl-unsigned-short">https://webidl.spec.whatwg.org/#idl-unsigned-short</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-idl-unsigned-short">5.2. RTCEncodedVideoFrameMetadata dictionary</a> <a href="#ref-for-idl-unsigned-short①">(2)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="term-for-dom-rtcconfiguration">
   <a href="https://w3c.github.io/webrtc-pc/#dom-rtcconfiguration">https://w3c.github.io/webrtc-pc/#dom-rtcconfiguration</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-rtcconfiguration">3.1. Extension operation</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="term-for-dom-rtcpeerconnection">
   <a href="https://w3c.github.io/webrtc-pc/#dom-rtcpeerconnection">https://w3c.github.io/webrtc-pc/#dom-rtcpeerconnection</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-rtcpeerconnection">Unnumbered Section</a>
    <li><a href="#ref-for-dom-rtcpeerconnection①">3.1. Extension operation</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="term-for-dom-rtcrtpreceiver">
   <a href="https://w3c.github.io/webrtc-pc/#dom-rtcrtpreceiver">https://w3c.github.io/webrtc-pc/#dom-rtcrtpreceiver</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-rtcrtpreceiver">3. Specification</a> <a href="#ref-for-dom-rtcrtpreceiver①">(2)</a>
    <li><a href="#ref-for-dom-rtcrtpreceiver②">3.1.1. Stream creation</a>
    <li><a href="#ref-for-dom-rtcrtpreceiver③">3.1.2. Stream processing</a> <a href="#ref-for-dom-rtcrtpreceiver④">(2)</a>
    <li><a href="#ref-for-dom-rtcrtpreceiver⑤">3.2. Extension attribute</a> <a href="#ref-for-dom-rtcrtpreceiver⑥">(2)</a>
    <li><a href="#ref-for-dom-rtcrtpreceiver⑦">4.1. Algorithm</a>
    <li><a href="#ref-for-dom-rtcrtpreceiver⑧">5.6. Operations</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="term-for-dom-rtcrtpsender">
   <a href="https://w3c.github.io/webrtc-pc/#dom-rtcrtpsender">https://w3c.github.io/webrtc-pc/#dom-rtcrtpsender</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-rtcrtpsender">3. Specification</a> <a href="#ref-for-dom-rtcrtpsender①">(2)</a>
    <li><a href="#ref-for-dom-rtcrtpsender②">3.1.1. Stream creation</a>
    <li><a href="#ref-for-dom-rtcrtpsender③">3.1.2. Stream processing</a> <a href="#ref-for-dom-rtcrtpsender④">(2)</a>
    <li><a href="#ref-for-dom-rtcrtpsender⑤">3.2. Extension attribute</a> <a href="#ref-for-dom-rtcrtpsender⑥">(2)</a>
    <li><a href="#ref-for-dom-rtcrtpsender⑦">4.1. Algorithm</a>
    <li><a href="#ref-for-dom-rtcrtpsender⑧">5.6. Operations</a>
    <li><a href="#ref-for-dom-rtcrtpsender⑨">5.8. KeyFrame Algorithms</a> <a href="#ref-for-dom-rtcrtpsender①⓪">(2)</a>
    <li><a href="#ref-for-dom-rtcrtpsender①①">6. RTCRtpSender extension</a> <a href="#ref-for-dom-rtcrtpsender①②">(2)</a>
   </ul>
  </aside>
  <h3 class="no-num no-ref heading settled" id="index-defined-elsewhere"><span class="content">Terms defined by reference</span><a class="self-link" href="#index-defined-elsewhere"></a></h3>
  <ul class="index">
   <li>
    <a data-link-type="biblio">[DOM]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="term-for-abortcontroller">AbortController</span>
     <li><span class="dfn-paneled" id="term-for-event">Event</span>
     <li><span class="dfn-paneled" id="term-for-dictdef-eventinit">EventInit</span>
     <li><span class="dfn-paneled" id="term-for-abortsignal-aborted">aborted</span>
     <li><span class="dfn-paneled" id="term-for-abortsignal-add">add</span>
     <li><span class="dfn-paneled" id="term-for-concept-event-fire">fire an event</span>
     <li><span class="dfn-paneled" id="term-for-abortsignal-signal-abort">signal abort</span>
    </ul>
   <li>
    <a data-link-type="biblio">[HTML]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="term-for-dedicatedworkerglobalscope">DedicatedWorkerGlobalScope</span>
     <li><span class="dfn-paneled" id="term-for-eventhandler">EventHandler</span>
     <li><span class="dfn-paneled" id="term-for-structureddeserialize">StructuredDeserialize</span>
     <li><span class="dfn-paneled" id="term-for-structuredserializewithtransfer">StructuredSerializeWithTransfer</span>
     <li><span class="dfn-paneled" id="term-for-worker">Worker</span>
     <li><span class="dfn-paneled" id="term-for-in-parallel">in parallel</span>
     <li><span class="dfn-paneled" id="term-for-queue-a-task">queue a task</span>
     <li><span class="dfn-paneled" id="term-for-concept-relevant-realm">relevant realm</span>
     <li><span class="dfn-paneled" id="term-for-task-source">task source</span>
    </ul>
   <li>
    <a data-link-type="biblio">[MEDIACAPTURE-STREAMS]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="term-for-dom-mediastreamtrack">MediaStreamTrack</span>
    </ul>
   <li>
    <a data-link-type="biblio">[STREAMS]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="term-for-generictransformstream">GenericTransformStream</span>
     <li><span class="dfn-paneled" id="term-for-readablestream">ReadableStream</span>
     <li><span class="dfn-paneled" id="term-for-transformstream">TransformStream</span>
     <li><span class="dfn-paneled" id="term-for-writablestream">WritableStream</span>
     <li><span class="dfn-paneled" id="term-for-readablestream-enqueue">enqueue</span>
     <li><span class="dfn-paneled" id="term-for-readablestream-get-a-reader">getting a reader</span>
     <li><span class="dfn-paneled" id="term-for-writablestream-get-a-writer">getting a writer</span>
     <li><span class="dfn-paneled" id="term-for-identity-transform-stream">identity transform stream</span>
     <li><span class="dfn-paneled" id="term-for-readablestreamdefaultreader-release">release <small>(for ReadableStreamDefaultReader)</small></span>
     <li><span class="dfn-paneled" id="term-for-writablestreamdefaultwriter-release">release <small>(for WritableStreamDefaultWriter)</small></span>
     <li><span class="dfn-paneled" id="term-for-readablestream-set-up">set up <small>(for ReadableStream)</small></span>
     <li><span class="dfn-paneled" id="term-for-writablestream-set-up">set up <small>(for WritableStream)</small></span>
     <li><span class="dfn-paneled" id="term-for-writablestream-set-up-sizealgorithm">sizealgorithm</span>
     <li><span class="dfn-paneled" id="term-for-transformstream-set-up-transformalgorithm">transformalgorithm</span>
     <li><span class="dfn-paneled" id="term-for-writablestream-set-up-writealgorithm">writealgorithm</span>
    </ul>
   <li>
    <a data-link-type="biblio">[WebCryptoAPI]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="term-for-dfn-CryptoKey">CryptoKey</span>
    </ul>
   <li>
    <a data-link-type="biblio">[WEBIDL]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="term-for-idl-ArrayBuffer">ArrayBuffer</span>
     <li><span class="dfn-paneled" id="term-for-BufferSource">BufferSource</span>
     <li><span class="dfn-paneled" id="term-for-idl-DOMString">DOMString</span>
     <li><span class="dfn-paneled" id="term-for-EnforceRange">EnforceRange</span>
     <li><span class="dfn-paneled" id="term-for-Exposed">Exposed</span>
     <li><span class="dfn-paneled" id="term-for-invalidmodificationerror">InvalidModificationError</span>
     <li><span class="dfn-paneled" id="term-for-invalidstateerror">InvalidStateError</span>
     <li><span class="dfn-paneled" id="term-for-notallowederror">NotAllowedError</span>
     <li><span class="dfn-paneled" id="term-for-notfounderror">NotFoundError</span>
     <li><span class="dfn-paneled" id="term-for-idl-promise">Promise</span>
     <li><span class="dfn-paneled" id="term-for-exceptiondef-rangeerror">RangeError</span>
     <li><span class="dfn-paneled" id="term-for-a-new-promise">a new promise</span>
     <li><span class="dfn-paneled" id="term-for-a-promise-resolved-with">a promise resolved with</span>
     <li><span class="dfn-paneled" id="term-for-idl-any">any</span>
     <li><span class="dfn-paneled" id="term-for-idl-bigint">bigint</span>
     <li><span class="dfn-paneled" id="term-for-idl-object">object</span>
     <li><span class="dfn-paneled" id="term-for-idl-octet">octet</span>
     <li><span class="dfn-paneled" id="term-for-reject">reject</span>
     <li><span class="dfn-paneled" id="term-for-resolve">resolve</span>
     <li><span class="dfn-paneled" id="term-for-idl-sequence">sequence</span>
     <li><span class="dfn-paneled" id="term-for-this">this</span>
     <li><span class="dfn-paneled" id="term-for-idl-undefined">undefined</span>
     <li><span class="dfn-paneled" id="term-for-idl-unsigned-long">unsigned long</span>
     <li><span class="dfn-paneled" id="term-for-idl-unsigned-long-long">unsigned long long</span>
     <li><span class="dfn-paneled" id="term-for-idl-unsigned-short">unsigned short</span>
    </ul>
   <li>
    <a data-link-type="biblio">[WEBRTC]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="term-for-dom-rtcconfiguration">RTCConfiguration</span>
     <li><span class="dfn-paneled" id="term-for-dom-rtcpeerconnection">RTCPeerConnection</span>
     <li><span class="dfn-paneled" id="term-for-dom-rtcrtpreceiver">RTCRtpReceiver</span>
     <li><span class="dfn-paneled" id="term-for-dom-rtcrtpsender">RTCRtpSender</span>
    </ul>
  </ul>
  <h2 class="no-num no-ref heading settled" id="references"><span class="content">References</span><a class="self-link" href="#references"></a></h2>
  <h3 class="no-num no-ref heading settled" id="normative"><span class="content">Normative References</span><a class="self-link" href="#normative"></a></h3>
  <dl>
   <dt id="biblio-dom">[DOM]
   <dd>Anne van Kesteren. <a href="https://dom.spec.whatwg.org/"><cite>DOM Standard</cite></a>. Living Standard. URL: <a href="https://dom.spec.whatwg.org/">https://dom.spec.whatwg.org/</a>
   <dt id="biblio-html">[HTML]
   <dd>Anne van Kesteren; et al. <a href="https://html.spec.whatwg.org/multipage/"><cite>HTML Standard</cite></a>. Living Standard. URL: <a href="https://html.spec.whatwg.org/multipage/">https://html.spec.whatwg.org/multipage/</a>
   <dt id="biblio-mediacapture-streams">[MEDIACAPTURE-STREAMS]
   <dd>Cullen Jennings; et al. <a href="https://w3c.github.io/mediacapture-main/"><cite>Media Capture and Streams</cite></a>. URL: <a href="https://w3c.github.io/mediacapture-main/">https://w3c.github.io/mediacapture-main/</a>
   <dt id="biblio-rfc2119">[RFC2119]
   <dd>S. Bradner. <a href="https://datatracker.ietf.org/doc/html/rfc2119"><cite>Key words for use in RFCs to Indicate Requirement Levels</cite></a>. March 1997. Best Current Practice. URL: <a href="https://datatracker.ietf.org/doc/html/rfc2119">https://datatracker.ietf.org/doc/html/rfc2119</a>
   <dt id="biblio-streams">[STREAMS]
   <dd>Adam Rice; et al. <a href="https://streams.spec.whatwg.org/"><cite>Streams Standard</cite></a>. Living Standard. URL: <a href="https://streams.spec.whatwg.org/">https://streams.spec.whatwg.org/</a>
   <dt id="biblio-webcryptoapi">[WebCryptoAPI]
   <dd>Mark Watson. <a href="https://w3c.github.io/webcrypto/"><cite>Web Cryptography API</cite></a>. URL: <a href="https://w3c.github.io/webcrypto/">https://w3c.github.io/webcrypto/</a>
   <dt id="biblio-webidl">[WEBIDL]
   <dd>Edgar Chen; Timothy Gu. <a href="https://webidl.spec.whatwg.org/"><cite>Web IDL Standard</cite></a>. Living Standard. URL: <a href="https://webidl.spec.whatwg.org/">https://webidl.spec.whatwg.org/</a>
   <dt id="biblio-webrtc">[WEBRTC]
   <dd>Cullen Jennings; Henrik Boström; Jan-Ivar Bruaroey. <a href="https://w3c.github.io/webrtc-pc/"><cite>WebRTC 1.0: Real-Time Communication Between Browsers</cite></a>. URL: <a href="https://w3c.github.io/webrtc-pc/">https://w3c.github.io/webrtc-pc/</a>
  </dl>
  <h3 class="no-num no-ref heading settled" id="informative"><span class="content">Informative References</span><a class="self-link" href="#informative"></a></h3>
  <dl>
   <dt id="biblio-rfc3550">[RFC3550]
   <dd>H. Schulzrinne; et al. <a href="https://www.rfc-editor.org/rfc/rfc3550"><cite>RTP: A Transport Protocol for Real-Time Applications</cite></a>. July 2003. Internet Standard. URL: <a href="https://www.rfc-editor.org/rfc/rfc3550">https://www.rfc-editor.org/rfc/rfc3550</a>
   <dt id="biblio-rfc5104">[RFC5104]
   <dd>S. Wenger; et al. <a href="https://www.rfc-editor.org/rfc/rfc5104"><cite>Codec Control Messages in the RTP Audio-Visual Profile with Feedback (AVPF)</cite></a>. February 2008. Proposed Standard. URL: <a href="https://www.rfc-editor.org/rfc/rfc5104">https://www.rfc-editor.org/rfc/rfc5104</a>
   <dt id="biblio-sframe">[SFrame]
   <dd><a href="https://www.ietf.org/archive/id/draft-ietf-sframe-enc-00.html"><cite>Secure Frame (SFrame)</cite></a>. URL: <a href="https://www.ietf.org/archive/id/draft-ietf-sframe-enc-00.html">https://www.ietf.org/archive/id/draft-ietf-sframe-enc-00.html</a>
   <dt id="biblio-web-codecs">[WEB-CODECS]
   <dd><a href="https://github.com/WICG/web-codecs/blob/master/explainer.md"><cite>Web Codecs explainer</cite></a>. URL: <a href="https://github.com/WICG/web-codecs/blob/master/explainer.md">https://github.com/WICG/web-codecs/blob/master/explainer.md</a>
   <dt id="biblio-webrtc-identity">[WEBRTC-IDENTITY]
   <dd>Cullen Jennings; Martin Thomson. <a href="https://w3c.github.io/webrtc-identity/"><cite>Identity for WebRTC 1.0</cite></a>. URL: <a href="https://w3c.github.io/webrtc-identity/">https://w3c.github.io/webrtc-identity/</a>
   <dt id="biblio-webrtc-nv-use-cases">[WEBRTC-NV-USE-CASES]
   <dd>Bernard Aboba. <a href="https://w3c.github.io/webrtc-nv-use-cases/"><cite>WebRTC Next Version Use Cases</cite></a>. URL: <a href="https://w3c.github.io/webrtc-nv-use-cases/">https://w3c.github.io/webrtc-nv-use-cases/</a>
  </dl>
  <h2 class="no-num no-ref heading settled" id="idl-index"><span class="content">IDL Index</span><a class="self-link" href="#idl-index"></a></h2>
<pre class="idl highlight def"><c- b>typedef</c-> (<a data-link-type="idl-name" href="#sframetransform"><c- n>SFrameTransform</c-></a> <c- b>or</c-> <a data-link-type="idl-name" href="#rtcrtpscripttransform"><c- n>RTCRtpScriptTransform</c-></a>) <a href="#typedefdef-rtcrtptransform"><code><c- g>RTCRtpTransform</c-></code></a>;

// New methods for RTCRtpSender and RTCRtpReceiver
<c- b>partial</c-> <c- b>interface</c-> <a class="idl-code" data-link-type="interface" href="https://w3c.github.io/webrtc-pc/#dom-rtcrtpsender"><c- g>RTCRtpSender</c-></a> {
    <c- b>attribute</c-> <a data-link-type="idl-name" href="#typedefdef-rtcrtptransform"><c- n>RTCRtpTransform</c-></a>? <a class="idl-code" data-link-type="attribute" data-type="RTCRtpTransform?" href="#dom-rtcrtpsender-transform"><c- g>transform</c-></a>;
};

<c- b>partial</c-> <c- b>interface</c-> <a class="idl-code" data-link-type="interface" href="https://w3c.github.io/webrtc-pc/#dom-rtcrtpreceiver"><c- g>RTCRtpReceiver</c-></a> {
    <c- b>attribute</c-> <a data-link-type="idl-name" href="#typedefdef-rtcrtptransform"><c- n>RTCRtpTransform</c-></a>? <a class="idl-code" data-link-type="attribute" data-type="RTCRtpTransform?" href="#dom-rtcrtpsender-transform"><c- g>transform</c-></a>;
};

<c- b>enum</c-> <a href="#enumdef-sframetransformrole"><code><c- g>SFrameTransformRole</c-></code></a> {
    <a href="#dom-sframetransformrole-encrypt"><code><c- s>"encrypt"</c-></code></a>,
    <a href="#dom-sframetransformrole-decrypt"><code><c- s>"decrypt"</c-></code></a>
};

<c- b>dictionary</c-> <a href="#dictdef-sframetransformoptions"><code><c- g>SFrameTransformOptions</c-></code></a> {
    <a data-link-type="idl-name" href="#enumdef-sframetransformrole"><c- n>SFrameTransformRole</c-></a> <a data-default="&quot;encrypt&quot;" data-type="SFrameTransformRole " href="#dom-sframetransformoptions-role"><code><c- g>role</c-></code></a> = "encrypt";
};

<c- b>typedef</c-> [<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#EnforceRange"><c- g>EnforceRange</c-></a>] <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-unsigned-long-long"><c- b>unsigned</c-> <c- b>long</c-> <c- b>long</c-></a> <a href="#typedefdef-smallcryptokeyid"><code><c- g>SmallCryptoKeyID</c-></code></a>;
<c- b>typedef</c-> (<a data-link-type="idl-name" href="#typedefdef-smallcryptokeyid"><c- n>SmallCryptoKeyID</c-></a> <c- b>or</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-bigint"><c- b>bigint</c-></a>) <a href="#typedefdef-cryptokeyid"><code><c- g>CryptoKeyID</c-></code></a>;

[<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Exposed"><c- g>Exposed</c-></a>=(<c- n>Window</c->,<c- n>DedicatedWorker</c->)]
<c- b>interface</c-> <a href="#sframetransform"><code><c- g>SFrameTransform</c-></code></a> {
    <a class="idl-code" data-link-type="constructor" href="#dom-sframetransform-sframetransform"><c- g>constructor</c-></a>(<c- b>optional</c-> <a data-link-type="idl-name" href="#dictdef-sframetransformoptions"><c- n>SFrameTransformOptions</c-></a> <a href="#dom-sframetransform-sframetransform-options-options"><code><c- g>options</c-></code></a> = {});
    <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise"><c- b>Promise</c-></a>&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-undefined"><c- b>undefined</c-></a>> <a class="idl-code" data-link-type="method" href="#dom-sframetransform-setencryptionkey"><c- g>setEncryptionKey</c-></a>(<a data-link-type="idl-name" href="https://w3c.github.io/webcrypto/#dfn-CryptoKey"><c- n>CryptoKey</c-></a> <a href="#dom-sframetransform-setencryptionkey-key-keyid-key"><code><c- g>key</c-></code></a>, <c- b>optional</c-> <a data-link-type="idl-name" href="#typedefdef-cryptokeyid"><c- n>CryptoKeyID</c-></a> <a href="#dom-sframetransform-setencryptionkey-key-keyid-keyid"><code><c- g>keyID</c-></code></a>);
    <c- b>attribute</c-> <a data-link-type="idl-name" href="https://html.spec.whatwg.org/multipage/webappapis.html#eventhandler"><c- n>EventHandler</c-></a> <a data-type="EventHandler" href="#dom-sframetransform-onerror"><code><c- g>onerror</c-></code></a>;
};
<a data-link-type="idl-name" href="#sframetransform"><c- n>SFrameTransform</c-></a> <c- b>includes</c-> <a data-link-type="idl-name" href="https://streams.spec.whatwg.org/#generictransformstream"><c- n>GenericTransformStream</c-></a>;

<c- b>enum</c-> <a href="#enumdef-sframetransformerroreventtype"><code><c- g>SFrameTransformErrorEventType</c-></code></a> {
    <a href="#dom-sframetransformerroreventtype-authentication"><code><c- s>"authentication"</c-></code></a>,
    <a href="#dom-sframetransformerroreventtype-keyid"><code><c- s>"keyID"</c-></code></a>,
    <a href="#dom-sframetransformerroreventtype-syntax"><code><c- s>"syntax"</c-></code></a>
};

[<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Exposed"><c- g>Exposed</c-></a>=(<c- n>Window</c->,<c- n>DedicatedWorker</c->)]
<c- b>interface</c-> <a href="#sframetransformerrorevent"><code><c- g>SFrameTransformErrorEvent</c-></code></a> : <a data-link-type="idl-name" href="https://dom.spec.whatwg.org/#event"><c- n>Event</c-></a> {
    <a href="#dom-sframetransformerrorevent-sframetransformerrorevent"><code><c- g>constructor</c-></code></a>(<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString"><c- b>DOMString</c-></a> <a href="#dom-sframetransformerrorevent-sframetransformerrorevent-type-eventinitdict-type"><code><c- g>type</c-></code></a>, <a data-link-type="idl-name" href="#dictdef-sframetransformerroreventinit"><c- n>SFrameTransformErrorEventInit</c-></a> <a href="#dom-sframetransformerrorevent-sframetransformerrorevent-type-eventinitdict-eventinitdict"><code><c- g>eventInitDict</c-></code></a>);

    <c- b>readonly</c-> <c- b>attribute</c-> <a data-link-type="idl-name" href="#enumdef-sframetransformerroreventtype"><c- n>SFrameTransformErrorEventType</c-></a> <a data-readonly data-type="SFrameTransformErrorEventType" href="#dom-sframetransformerrorevent-errortype"><code><c- g>errorType</c-></code></a>;
    <c- b>readonly</c-> <c- b>attribute</c-> <a data-link-type="idl-name" href="#typedefdef-cryptokeyid"><c- n>CryptoKeyID</c-></a>? <a data-readonly data-type="CryptoKeyID?" href="#dom-sframetransformerrorevent-keyid"><code><c- g>keyID</c-></code></a>;
    <c- b>readonly</c-> <c- b>attribute</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-any"><c- b>any</c-></a> <a data-readonly data-type="any" href="#dom-sframetransformerrorevent-frame"><code><c- g>frame</c-></code></a>;
};

<c- b>dictionary</c-> <a href="#dictdef-sframetransformerroreventinit"><code><c- g>SFrameTransformErrorEventInit</c-></code></a> : <a data-link-type="idl-name" href="https://dom.spec.whatwg.org/#dictdef-eventinit"><c- n>EventInit</c-></a> {
    <c- b>required</c-> <a data-link-type="idl-name" href="#enumdef-sframetransformerroreventtype"><c- n>SFrameTransformErrorEventType</c-></a> <a data-type="SFrameTransformErrorEventType " href="#dom-sframetransformerroreventinit-errortype"><code><c- g>errorType</c-></code></a>;
    <c- b>required</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-any"><c- b>any</c-></a> <a data-type="any " href="#dom-sframetransformerroreventinit-frame"><code><c- g>frame</c-></code></a>;
    <a data-link-type="idl-name" href="#typedefdef-cryptokeyid"><c- n>CryptoKeyID</c-></a>? <a data-type="CryptoKeyID? " href="#dom-sframetransformerroreventinit-keyid"><code><c- g>keyID</c-></code></a>;
};

// New enum for video frame types. Will eventually re-use the equivalent defined
// by WebCodecs.
<c- b>enum</c-> <a href="#enumdef-rtcencodedvideoframetype"><code><c- g>RTCEncodedVideoFrameType</c-></code></a> {
    <a href="#dom-rtcencodedvideoframetype-empty"><code><c- s>"empty"</c-></code></a>,
    <a href="#dom-rtcencodedvideoframetype-key"><code><c- s>"key"</c-></code></a>,
    <a href="#dom-rtcencodedvideoframetype-delta"><code><c- s>"delta"</c-></code></a>,
};

<c- b>dictionary</c-> <a href="#dictdef-rtcencodedvideoframemetadata"><code><c- g>RTCEncodedVideoFrameMetadata</c-></code></a> {
    <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-unsigned-long-long"><c- b>unsigned</c-> <c- b>long</c-> <c- b>long</c-></a> <a data-type="unsigned long long " href="#dom-rtcencodedvideoframemetadata-frameid"><code><c- g>frameId</c-></code></a>;
    <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#idl-sequence"><c- b>sequence</c-></a>&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-unsigned-long-long"><c- b>unsigned</c-> <c- b>long</c-> <c- b>long</c-></a>> <a data-type="sequence<unsigned long long> " href="#dom-rtcencodedvideoframemetadata-dependencies"><code><c- g>dependencies</c-></code></a>;
    <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-unsigned-short"><c- b>unsigned</c-> <c- b>short</c-></a> <a data-type="unsigned short " href="#dom-rtcencodedvideoframemetadata-width"><code><c- g>width</c-></code></a>;
    <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-unsigned-short"><c- b>unsigned</c-> <c- b>short</c-></a> <a data-type="unsigned short " href="#dom-rtcencodedvideoframemetadata-height"><code><c- g>height</c-></code></a>;
    <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-unsigned-long"><c- b>unsigned</c-> <c- b>long</c-></a> <a data-type="unsigned long " href="#dom-rtcencodedvideoframemetadata-spatialindex"><code><c- g>spatialIndex</c-></code></a>;
    <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-unsigned-long"><c- b>unsigned</c-> <c- b>long</c-></a> <a data-type="unsigned long " href="#dom-rtcencodedvideoframemetadata-temporalindex"><code><c- g>temporalIndex</c-></code></a>;
    <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-unsigned-long"><c- b>unsigned</c-> <c- b>long</c-></a> <a data-type="unsigned long " href="#dom-rtcencodedvideoframemetadata-synchronizationsource"><code><c- g>synchronizationSource</c-></code></a>;
    <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-octet"><c- b>octet</c-></a> <a data-type="octet " href="#dom-rtcencodedvideoframemetadata-payloadtype"><code><c- g>payloadType</c-></code></a>;
  <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#idl-sequence"><c- b>sequence</c-></a>&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-unsigned-long"><c- b>unsigned</c-> <c- b>long</c-></a>> <a data-type="sequence<unsigned long> " href="#dom-rtcencodedvideoframemetadata-contributingsources"><code><c- g>contributingSources</c-></code></a>;
};

// New interfaces to define encoded video and audio frames. Will eventually
// re-use or extend the equivalent defined in WebCodecs.
[<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Exposed"><c- g>Exposed</c-></a>=(<c- n>Window</c->,<c- n>DedicatedWorker</c->)]
<c- b>interface</c-> <a href="#rtcencodedvideoframe①"><code><c- g>RTCEncodedVideoFrame</c-></code></a> {
    <c- b>readonly</c-> <c- b>attribute</c-> <a data-link-type="idl-name" href="#enumdef-rtcencodedvideoframetype"><c- n>RTCEncodedVideoFrameType</c-></a> <a data-readonly data-type="RTCEncodedVideoFrameType" href="#dom-rtcencodedvideoframe-type"><code><c- g>type</c-></code></a>;
    <c- b>readonly</c-> <c- b>attribute</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-unsigned-long"><c- b>unsigned</c-> <c- b>long</c-></a> <a data-readonly data-type="unsigned long" href="#dom-rtcencodedvideoframe-timestamp"><code><c- g>timestamp</c-></code></a>;
    <c- b>attribute</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-ArrayBuffer"><c- b>ArrayBuffer</c-></a> <a data-type="ArrayBuffer" href="#dom-rtcencodedvideoframe-data"><code><c- g>data</c-></code></a>;
    <a data-link-type="idl-name" href="#dictdef-rtcencodedvideoframemetadata"><c- n>RTCEncodedVideoFrameMetadata</c-></a> <a class="idl-code" data-link-type="method" href="#dom-rtcencodedvideoframe-getmetadata"><c- g>getMetadata</c-></a>();
};

<c- b>dictionary</c-> <a href="#dictdef-rtcencodedaudioframemetadata"><code><c- g>RTCEncodedAudioFrameMetadata</c-></code></a> {
    <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-unsigned-long"><c- b>unsigned</c-> <c- b>long</c-></a> <a data-type="unsigned long " href="#dom-rtcencodedaudioframemetadata-synchronizationsource"><code><c- g>synchronizationSource</c-></code></a>;
    <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-octet"><c- b>octet</c-></a> <a data-type="octet " href="#dom-rtcencodedaudioframemetadata-payloadtype"><code><c- g>payloadType</c-></code></a>;
    <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#idl-sequence"><c- b>sequence</c-></a>&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-unsigned-long"><c- b>unsigned</c-> <c- b>long</c-></a>> <a data-type="sequence<unsigned long> " href="#dom-rtcencodedaudioframemetadata-contributingsources"><code><c- g>contributingSources</c-></code></a>;
};

[<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Exposed"><c- g>Exposed</c-></a>=(<c- n>Window</c->,<c- n>DedicatedWorker</c->)]
<c- b>interface</c-> <a href="#rtcencodedaudioframe①"><code><c- g>RTCEncodedAudioFrame</c-></code></a> {
    <c- b>readonly</c-> <c- b>attribute</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-unsigned-long"><c- b>unsigned</c-> <c- b>long</c-></a> <a data-readonly data-type="unsigned long" href="#dom-rtcencodedaudioframe-timestamp"><code><c- g>timestamp</c-></code></a>;
    <c- b>attribute</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-ArrayBuffer"><c- b>ArrayBuffer</c-></a> <a data-type="ArrayBuffer" href="#dom-rtcencodedaudioframe-data"><code><c- g>data</c-></code></a>;
    <a data-link-type="idl-name" href="#dictdef-rtcencodedaudioframemetadata"><c- n>RTCEncodedAudioFrameMetadata</c-></a> <a class="idl-code" data-link-type="method" href="#dom-rtcencodedaudioframe-getmetadata"><c- g>getMetadata</c-></a>();
};

[<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Exposed"><c- g>Exposed</c-></a>=<c- n>DedicatedWorker</c->]
<c- b>interface</c-> <a href="#rtctransformevent"><code><c- g>RTCTransformEvent</c-></code></a> : <a data-link-type="idl-name" href="https://dom.spec.whatwg.org/#event"><c- n>Event</c-></a> {
    <c- b>readonly</c-> <c- b>attribute</c-> <a data-link-type="idl-name" href="#rtcrtpscripttransformer"><c- n>RTCRtpScriptTransformer</c-></a> <a data-readonly data-type="RTCRtpScriptTransformer" href="#dom-rtctransformevent-transformer"><code><c- g>transformer</c-></code></a>;
};

<c- b>partial</c-> <c- b>interface</c-> <a class="idl-code" data-link-type="interface" href="https://html.spec.whatwg.org/multipage/workers.html#dedicatedworkerglobalscope"><c- g>DedicatedWorkerGlobalScope</c-></a> {
    <c- b>attribute</c-> <a data-link-type="idl-name" href="https://html.spec.whatwg.org/multipage/webappapis.html#eventhandler"><c- n>EventHandler</c-></a> <a data-type="EventHandler" href="#dom-dedicatedworkerglobalscope-onrtctransform"><code><c- g>onrtctransform</c-></code></a>;
};

[<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Exposed"><c- g>Exposed</c-></a>=<c- n>DedicatedWorker</c->]
<c- b>interface</c-> <a href="#rtcrtpscripttransformer"><code><c- g>RTCRtpScriptTransformer</c-></code></a> {
    <c- b>readonly</c-> <c- b>attribute</c-> <a data-link-type="idl-name" href="https://streams.spec.whatwg.org/#readablestream"><c- n>ReadableStream</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="ReadableStream" href="#dom-rtcrtpscripttransformer-readable"><c- g>readable</c-></a>;
    <c- b>readonly</c-> <c- b>attribute</c-> <a data-link-type="idl-name" href="https://streams.spec.whatwg.org/#writablestream"><c- n>WritableStream</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="WritableStream" href="#dom-rtcrtpscripttransformer-writable"><c- g>writable</c-></a>;
    <c- b>readonly</c-> <c- b>attribute</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-any"><c- b>any</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="any" href="#dom-rtcrtpscripttransformer-options"><c- g>options</c-></a>;
    <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise"><c- b>Promise</c-></a>&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-unsigned-long-long"><c- b>unsigned</c-> <c- b>long</c-> <c- b>long</c-></a>> <a class="idl-code" data-link-type="method" href="#dom-rtcrtpscripttransformer-generatekeyframe"><c- g>generateKeyFrame</c-></a>(<c- b>optional</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString"><c- b>DOMString</c-></a> <a href="#dom-rtcrtpscripttransformer-generatekeyframe-rid-rid"><code><c- g>rid</c-></code></a>);
    <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise"><c- b>Promise</c-></a>&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-undefined"><c- b>undefined</c-></a>> <a class="idl-code" data-link-type="method" href="#dom-rtcrtpscripttransformer-sendkeyframerequest"><c- g>sendKeyFrameRequest</c-></a>();
};

[<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Exposed"><c- g>Exposed</c-></a>=<c- n>Window</c->]
<c- b>interface</c-> <a href="#rtcrtpscripttransform"><code><c- g>RTCRtpScriptTransform</c-></code></a> {
    <a class="idl-code" data-link-type="constructor" href="#dom-rtcrtpscripttransform-rtcrtpscripttransform"><c- g>constructor</c-></a>(<a data-link-type="idl-name" href="https://html.spec.whatwg.org/multipage/workers.html#worker"><c- n>Worker</c-></a> <a href="#dom-rtcrtpscripttransform-rtcrtpscripttransform-worker-options-transfer-worker"><code><c- g>worker</c-></code></a>, <c- b>optional</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-any"><c- b>any</c-></a> <a href="#dom-rtcrtpscripttransform-rtcrtpscripttransform-worker-options-transfer-options"><code><c- g>options</c-></code></a>, <c- b>optional</c-> <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#idl-sequence"><c- b>sequence</c-></a>&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-object"><c- b>object</c-></a>> <a href="#dom-rtcrtpscripttransform-rtcrtpscripttransform-worker-options-transfer-transfer"><code><c- g>transfer</c-></code></a>);
};

<c- b>partial</c-> <c- b>interface</c-> <a class="idl-code" data-link-type="interface" href="https://w3c.github.io/webrtc-pc/#dom-rtcrtpsender"><c- g>RTCRtpSender</c-></a> {
    <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise"><c- b>Promise</c-></a>&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-undefined"><c- b>undefined</c-></a>> <a class="idl-code" data-link-type="method" href="#dom-rtcrtpsender-generatekeyframe"><c- g>generateKeyFrame</c-></a>(<c- b>optional</c-> <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#idl-sequence"><c- b>sequence</c-></a> &lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString"><c- b>DOMString</c-></a>> <a href="#dom-rtcrtpsender-generatekeyframe-rids-rids"><code><c- g>rids</c-></code></a>);
};

</pre>
  <aside class="dfn-panel" data-for="typedefdef-rtcrtptransform">
   <b><a href="#typedefdef-rtcrtptransform">#typedefdef-rtcrtptransform</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-typedefdef-rtcrtptransform">3. Specification</a> <a href="#ref-for-typedefdef-rtcrtptransform①">(2)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="readencodeddata">
   <b><a href="#readencodeddata">#readencodeddata</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-readencodeddata">3.1.1. Stream creation</a>
    <li><a href="#ref-for-readencodeddata①">3.1.2. Stream processing</a> <a href="#ref-for-readencodeddata②">(2)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="writeencodeddata">
   <b><a href="#writeencodeddata">#writeencodeddata</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-writeencodeddata">3.1.1. Stream creation</a>
    <li><a href="#ref-for-writeencodeddata①">3.1.2. Stream processing</a> <a href="#ref-for-writeencodeddata②">(2)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="association-steps">
   <b><a href="#association-steps">#association-steps</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-association-steps">3.2. Extension attribute</a>
    <li><a href="#ref-for-association-steps①">5.6. Operations</a> <a href="#ref-for-association-steps②">(2)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dom-rtcrtpsender-transform">
   <b><a href="#dom-rtcrtpsender-transform">#dom-rtcrtpsender-transform</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-rtcrtpsender-transform">3. Specification</a> <a href="#ref-for-dom-rtcrtpsender-transform①">(2)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="chain-transform-algorithm">
   <b><a href="#chain-transform-algorithm">#chain-transform-algorithm</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-chain-transform-algorithm">3.2. Extension attribute</a> <a href="#ref-for-chain-transform-algorithm①">(2)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="enumdef-sframetransformrole">
   <b><a href="#enumdef-sframetransformrole">#enumdef-sframetransformrole</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-enumdef-sframetransformrole">4. SFrameTransform</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dictdef-sframetransformoptions">
   <b><a href="#dictdef-sframetransformoptions">#dictdef-sframetransformoptions</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dictdef-sframetransformoptions">4. SFrameTransform</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dom-sframetransformoptions-role">
   <b><a href="#dom-sframetransformoptions-role">#dom-sframetransformoptions-role</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-sframetransformoptions-role">4. SFrameTransform</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="typedefdef-smallcryptokeyid">
   <b><a href="#typedefdef-smallcryptokeyid">#typedefdef-smallcryptokeyid</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-typedefdef-smallcryptokeyid">4. SFrameTransform</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="typedefdef-cryptokeyid">
   <b><a href="#typedefdef-cryptokeyid">#typedefdef-cryptokeyid</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-typedefdef-cryptokeyid">4. SFrameTransform</a> <a href="#ref-for-typedefdef-cryptokeyid①">(2)</a> <a href="#ref-for-typedefdef-cryptokeyid②">(3)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="sframetransform">
   <b><a href="#sframetransform">#sframetransform</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-sframetransform">3. Specification</a>
    <li><a href="#ref-for-sframetransform①">4. SFrameTransform</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dom-sframetransform-onerror">
   <b><a href="#dom-sframetransform-onerror">#dom-sframetransform-onerror</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-sframetransform-onerror">4.1. Algorithm</a> <a href="#ref-for-dom-sframetransform-onerror①">(2)</a> <a href="#ref-for-dom-sframetransform-onerror②">(3)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="enumdef-sframetransformerroreventtype">
   <b><a href="#enumdef-sframetransformerroreventtype">#enumdef-sframetransformerroreventtype</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-enumdef-sframetransformerroreventtype">4. SFrameTransform</a> <a href="#ref-for-enumdef-sframetransformerroreventtype①">(2)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dom-sframetransformerroreventtype-authentication">
   <b><a href="#dom-sframetransformerroreventtype-authentication">#dom-sframetransformerroreventtype-authentication</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-sframetransformerroreventtype-authentication">4.1. Algorithm</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dom-sframetransformerroreventtype-keyid">
   <b><a href="#dom-sframetransformerroreventtype-keyid">#dom-sframetransformerroreventtype-keyid</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-sframetransformerroreventtype-keyid">4.1. Algorithm</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dom-sframetransformerroreventtype-syntax">
   <b><a href="#dom-sframetransformerroreventtype-syntax">#dom-sframetransformerroreventtype-syntax</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-sframetransformerroreventtype-syntax">4.1. Algorithm</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="sframetransformerrorevent">
   <b><a href="#sframetransformerrorevent">#sframetransformerrorevent</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-sframetransformerrorevent">4.1. Algorithm</a> <a href="#ref-for-sframetransformerrorevent①">(2)</a> <a href="#ref-for-sframetransformerrorevent②">(3)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dom-sframetransformerrorevent-errortype">
   <b><a href="#dom-sframetransformerrorevent-errortype">#dom-sframetransformerrorevent-errortype</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-sframetransformerrorevent-errortype">4.1. Algorithm</a> <a href="#ref-for-dom-sframetransformerrorevent-errortype①">(2)</a> <a href="#ref-for-dom-sframetransformerrorevent-errortype②">(3)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dom-sframetransformerrorevent-keyid">
   <b><a href="#dom-sframetransformerrorevent-keyid">#dom-sframetransformerrorevent-keyid</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-sframetransformerrorevent-keyid">4.1. Algorithm</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dom-sframetransformerrorevent-frame">
   <b><a href="#dom-sframetransformerrorevent-frame">#dom-sframetransformerrorevent-frame</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-sframetransformerrorevent-frame">4.1. Algorithm</a> <a href="#ref-for-dom-sframetransformerrorevent-frame①">(2)</a> <a href="#ref-for-dom-sframetransformerrorevent-frame②">(3)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dictdef-sframetransformerroreventinit">
   <b><a href="#dictdef-sframetransformerroreventinit">#dictdef-sframetransformerroreventinit</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dictdef-sframetransformerroreventinit">4. SFrameTransform</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dom-sframetransform-sframetransform">
   <b><a href="#dom-sframetransform-sframetransform">#dom-sframetransform-sframetransform</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-sframetransform-sframetransform">4. SFrameTransform</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dom-sframetransform-setencryptionkey">
   <b><a href="#dom-sframetransform-setencryptionkey">#dom-sframetransform-setencryptionkey</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-sframetransform-setencryptionkey">4. SFrameTransform</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="enumdef-rtcencodedvideoframetype">
   <b><a href="#enumdef-rtcencodedvideoframetype">#enumdef-rtcencodedvideoframetype</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-enumdef-rtcencodedvideoframetype">5.3. RTCEncodedVideoFrame interface</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dom-rtcencodedvideoframetype-key">
   <b><a href="#dom-rtcencodedvideoframetype-key">#dom-rtcencodedvideoframetype-key</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-rtcencodedvideoframetype-key">5.8. KeyFrame Algorithms</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dictdef-rtcencodedvideoframemetadata">
   <b><a href="#dictdef-rtcencodedvideoframemetadata">#dictdef-rtcencodedvideoframemetadata</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dictdef-rtcencodedvideoframemetadata">5.3. RTCEncodedVideoFrame interface</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="rtcencodedvideoframe①">
   <b><a href="#rtcencodedvideoframe①">#rtcencodedvideoframe①</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-rtcencodedvideoframe①">4.1. Algorithm</a> <a href="#ref-for-rtcencodedvideoframe①①">(2)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dom-rtcencodedvideoframe-data">
   <b><a href="#dom-rtcencodedvideoframe-data">#dom-rtcencodedvideoframe-data</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-rtcencodedvideoframe-data">4.1. Algorithm</a> <a href="#ref-for-dom-rtcencodedvideoframe-data①">(2)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dom-rtcencodedvideoframe-getmetadata">
   <b><a href="#dom-rtcencodedvideoframe-getmetadata">#dom-rtcencodedvideoframe-getmetadata</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-rtcencodedvideoframe-getmetadata">5.3. RTCEncodedVideoFrame interface</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dictdef-rtcencodedaudioframemetadata">
   <b><a href="#dictdef-rtcencodedaudioframemetadata">#dictdef-rtcencodedaudioframemetadata</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dictdef-rtcencodedaudioframemetadata">5.5. RTCEncodedAudioFrame interface</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="rtcencodedaudioframe①">
   <b><a href="#rtcencodedaudioframe①">#rtcencodedaudioframe①</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-rtcencodedaudioframe①">4.1. Algorithm</a> <a href="#ref-for-rtcencodedaudioframe①①">(2)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dom-rtcencodedaudioframe-data">
   <b><a href="#dom-rtcencodedaudioframe-data">#dom-rtcencodedaudioframe-data</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-rtcencodedaudioframe-data">4.1. Algorithm</a> <a href="#ref-for-dom-rtcencodedaudioframe-data①">(2)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dom-rtcencodedaudioframe-getmetadata">
   <b><a href="#dom-rtcencodedaudioframe-getmetadata">#dom-rtcencodedaudioframe-getmetadata</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-rtcencodedaudioframe-getmetadata">5.5. RTCEncodedAudioFrame interface</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="rtctransformevent">
   <b><a href="#rtctransformevent">#rtctransformevent</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-rtctransformevent">5.6. Operations</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dom-rtctransformevent-transformer">
   <b><a href="#dom-rtctransformevent-transformer">#dom-rtctransformevent-transformer</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-rtctransformevent-transformer">5.6. Operations</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="rtcrtpscripttransformer">
   <b><a href="#rtcrtpscripttransformer">#rtcrtpscripttransformer</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-rtcrtpscripttransformer">5.5.2. Methods</a>
    <li><a href="#ref-for-rtcrtpscripttransformer①">5.6. Operations</a> <a href="#ref-for-rtcrtpscripttransformer②">(2)</a>
    <li><a href="#ref-for-rtcrtpscripttransformer③">5.7. Attributes</a> <a href="#ref-for-rtcrtpscripttransformer④">(2)</a> <a href="#ref-for-rtcrtpscripttransformer⑤">(3)</a>
    <li><a href="#ref-for-rtcrtpscripttransformer⑥">5.8. KeyFrame Algorithms</a> <a href="#ref-for-rtcrtpscripttransformer⑦">(2)</a>
    <li><a href="#ref-for-rtcrtpscripttransformer⑧">6. RTCRtpSender extension</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="rtcrtpscripttransform">
   <b><a href="#rtcrtpscripttransform">#rtcrtpscripttransform</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-rtcrtpscripttransform">3. Specification</a>
    <li><a href="#ref-for-rtcrtpscripttransform①">5.6. Operations</a>
    <li><a href="#ref-for-rtcrtpscripttransform②">5.7. Attributes</a> <a href="#ref-for-rtcrtpscripttransform③">(2)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dom-rtcrtpscripttransform-rtcrtpscripttransform">
   <b><a href="#dom-rtcrtpscripttransform-rtcrtpscripttransform">#dom-rtcrtpscripttransform-rtcrtpscripttransform</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-rtcrtpscripttransform-rtcrtpscripttransform">5.5.2. Methods</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dom-rtcrtpscripttransformer-generatekeyframe">
   <b><a href="#dom-rtcrtpscripttransformer-generatekeyframe">#dom-rtcrtpscripttransformer-generatekeyframe</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-rtcrtpscripttransformer-generatekeyframe">5.5.2. Methods</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dom-rtcrtpscripttransformer-sendkeyframerequest">
   <b><a href="#dom-rtcrtpscripttransformer-sendkeyframerequest">#dom-rtcrtpscripttransformer-sendkeyframerequest</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-rtcrtpscripttransformer-sendkeyframerequest">5.5.2. Methods</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dom-rtcrtpscripttransformer-options">
   <b><a href="#dom-rtcrtpscripttransformer-options">#dom-rtcrtpscripttransformer-options</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-rtcrtpscripttransformer-options">5.5.2. Methods</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dom-rtcrtpscripttransformer-readable">
   <b><a href="#dom-rtcrtpscripttransformer-readable">#dom-rtcrtpscripttransformer-readable</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-rtcrtpscripttransformer-readable">5.5.2. Methods</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dom-rtcrtpscripttransformer-writable">
   <b><a href="#dom-rtcrtpscripttransformer-writable">#dom-rtcrtpscripttransformer-writable</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-rtcrtpscripttransformer-writable">5.5.2. Methods</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="generate-key-frame-algorithm">
   <b><a href="#generate-key-frame-algorithm">#generate-key-frame-algorithm</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-generate-key-frame-algorithm">5.6. Operations</a>
    <li><a href="#ref-for-generate-key-frame-algorithm①">6.1. Extension operation</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="send-request-key-frame-algorithm">
   <b><a href="#send-request-key-frame-algorithm">#send-request-key-frame-algorithm</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-send-request-key-frame-algorithm">5.6. Operations</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dom-rtcrtpsender-generatekeyframe">
   <b><a href="#dom-rtcrtpsender-generatekeyframe">#dom-rtcrtpsender-generatekeyframe</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-rtcrtpsender-generatekeyframe">6. RTCRtpSender extension</a>
   </ul>
  </aside>
<script>/* script-dfn-panel */

document.body.addEventListener("click", function(e) {
    var queryAll = function(sel) { return [].slice.call(document.querySelectorAll(sel)); }
    // Find the dfn element or panel, if any, that was clicked on.
    var el = e.target;
    var target;
    var hitALink = false;
    while(el.parentElement) {
        if(el.tagName == "A") {
            // Clicking on a link in a <dfn> shouldn't summon the panel
            hitALink = true;
        }
        if(el.classList.contains("dfn-paneled")) {
            target = "dfn";
            break;
        }
        if(el.classList.contains("dfn-panel")) {
            target = "dfn-panel";
            break;
        }
        el = el.parentElement;
    }
    if(target != "dfn-panel") {
        // Turn off any currently "on" or "activated" panels.
        queryAll(".dfn-panel.on, .dfn-panel.activated").forEach(function(el){
            el.classList.remove("on");
            el.classList.remove("activated");
        });
    }
    if(target == "dfn" && !hitALink) {
        // open the panel
        var dfnPanel = document.querySelector(".dfn-panel[data-for='" + el.id + "']");
        if(dfnPanel) {
            dfnPanel.classList.add("on");
            var rect = el.getBoundingClientRect();
            dfnPanel.style.left = window.scrollX + rect.right + 5 + "px";
            dfnPanel.style.top = window.scrollY + rect.top + "px";
            var panelRect = dfnPanel.getBoundingClientRect();
            var panelWidth = panelRect.right - panelRect.left;
            if(panelRect.right > document.body.scrollWidth && (rect.left - (panelWidth + 5)) > 0) {
                // Reposition, because the panel is overflowing
                dfnPanel.style.left = window.scrollX + rect.left - (panelWidth + 5) + "px";
            }
        } else {
            console.log("Couldn't find .dfn-panel[data-for='" + el.id + "']");
        }
    } else if(target == "dfn-panel") {
        // Switch it to "activated" state, which pins it.
        el.classList.add("activated");
        el.style.left = null;
        el.style.top = null;
    }

});
</script>