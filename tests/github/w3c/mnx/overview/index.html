<!doctype html><html lang="en">
 <head>
  <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
  <title>MNX Proposal Overview</title>
  <meta content="width=device-width, initial-scale=1, shrink-to-fit=no" name="viewport">
<style data-fill-with="stylesheet">/******************************************************************************
 *                   Style sheet for the W3C specifications                   *
 *
 * Special classes handled by this style sheet include:
 *
 * Indices
 *   - .toc for the Table of Contents (<ol class="toc">)
 *     + <span class="secno"> for the section numbers
 *   - #toc for the Table of Contents (<nav id="toc">)
 *   - ul.index for Indices (<a href="#ref">term</a><span>, in §N.M</span>)
 *   - table.index for Index Tables (e.g. for properties or elements)
 *
 * Structural Markup
 *   - table.data for general data tables
 *     -> use 'scope' attribute, <colgroup>, <thead>, and <tbody> for best results !
 *     -> use <table class='complex data'> for extra-complex tables
 *     -> use <td class='long'> for paragraph-length cell content
 *     -> use <td class='pre'> when manual line breaks/indentation would help readability
 *   - dl.switch for switch statements
 *   - ol.algorithm for algorithms (helps to visualize nesting)
 *   - .figure and .caption (HTML4) and figure and figcaption (HTML5)
 *     -> .sidefigure for right-floated figures
 *   - ins/del
 *
 * Code
 *   - pre and code
 *
 * Special Sections
 *   - .note       for informative notes             (div, p, span, aside, details)
 *   - .example    for informative examples          (div, p, pre, span)
 *   - .issue      for issues                        (div, p, span)
 *   - .assertion  for assertions                    (div, p, span)
 *   - .advisement for loud normative statements     (div, p, strong)
 *   - .annoying-warning for spec obsoletion notices (div, aside, details)
 *
 * Definition Boxes
 *   - pre.def   for WebIDL definitions
 *   - table.def for tables that define other entities (e.g. CSS properties)
 *   - dl.def    for definition lists that define other entitles (e.g. HTML elements)
 *
 * Numbering
 *   - .secno for section numbers in .toc and headings (<span class='secno'>3.2</span>)
 *   - .marker for source-inserted example/figure/issue numbers (<span class='marker'>Issue 4</span>)
 *   - ::before styled for CSS-generated issue/example/figure numbers:
 *     -> Documents wishing to use this only need to add
 *        figcaption::before,
 *        .caption::before { content: "Figure "  counter(figure) " ";  }
 *        .example::before { content: "Example " counter(example) " "; }
 *        .issue::before   { content: "Issue "   counter(issue) " ";   }
 *
 * Header Stuff (ignore, just don't conflict with these classes)
 *   - .head for the header
 *   - .copyright for the copyright
 *
 * Miscellaneous
 *   - .overlarge for things that should be as wide as possible, even if
 *     that overflows the body text area. This can be used on an item or
 *     on its container, depending on the effect desired.
 *     Note that this styling basically doesn't help at all when printing,
 *     since A4 paper isn't much wider than the max-width here.
 *     It's better to design things to fit into a narrower measure if possible.
 *   - js-added ToC jump links (see fixup.js)
 *
 ******************************************************************************/

/******************************************************************************/
/*                                   Body                                     */
/******************************************************************************/

	body {
		counter-reset: example figure issue;

		/* Layout */
		max-width: 50em;               /* limit line length to 50em for readability   */
		margin: 0 auto;                /* center text within page                     */
		padding: 1.6em 1.5em 2em 50px; /* assume 16px font size for downlevel clients */
		padding: 1.6em 1.5em 2em calc(26px + 1.5em); /* leave space for status flag     */

		/* Typography */
		line-height: 1.5;
		font-family: sans-serif;
		widows: 2;
		orphans: 2;
		word-wrap: break-word;
		overflow-wrap: break-word;
		hyphens: auto;

		/* Colors */
		color: black;
		background: white top left fixed no-repeat;
		background-size: 25px auto;
	}


/******************************************************************************/
/*                         Front Matter & Navigation                          */
/******************************************************************************/

/** Header ********************************************************************/

	div.head { margin-bottom: 1em }
	div.head hr { border-style: solid; }

	div.head h1 {
		font-weight: bold;
		margin: 0 0 .1em;
		font-size: 220%;
	}

	div.head h2 { margin-bottom: 1.5em;}

/** W3C Logo ******************************************************************/

	.head .logo {
		float: right;
		margin: 0.4rem 0 0.2rem .4rem;
	}

	.head img[src*="logos/W3C"] {
		display: block;
		border: solid #1a5e9a;
		border-width: .65rem .7rem .6rem;
		border-radius: .4rem;
		background: #1a5e9a;
		color: white;
		font-weight: bold;
	}

	.head a:hover > img[src*="logos/W3C"],
	.head a:focus > img[src*="logos/W3C"] {
		opacity: .8;
	}

	.head a:active > img[src*="logos/W3C"] {
		background: #c00;
		border-color: #c00;
	}

	/* see also additional rules in Link Styling section */

/** Copyright *****************************************************************/

	p.copyright,
	p.copyright small { font-size: small }

/** Back to Top / ToC Toggle **************************************************/

	@media print {
		#toc-nav {
			display: none;
		}
	}
	@media not print {
		#toc-nav {
			position: fixed;
			z-index: 2;
			bottom: 0; left: 0;
			margin: 0;
			min-width: 1.33em;
			border-top-right-radius: 2rem;
			box-shadow: 0 0 2px;
			font-size: 1.5em;
			color: black;
		}
		#toc-nav > a {
			display: block;
			white-space: nowrap;

			height: 1.33em;
			padding: .1em 0.3em;
			margin: 0;

			background: white;
			box-shadow: 0 0 2px;
			border: none;
			border-top-right-radius: 1.33em;
			background: white;
		}
		#toc-nav > #toc-jump {
			padding-bottom: 2em;
			margin-bottom: -1.9em;
		}

		#toc-nav > a:hover,
		#toc-nav > a:focus {
			background: #f8f8f8;
		}
		#toc-nav > a:not(:hover):not(:focus) {
			color: #707070;
		}

		/* statusbar gets in the way on keyboard focus; remove once browsers fix */
		#toc-nav > a[href="#toc"]:not(:hover):focus:last-child {
			padding-bottom: 1.5rem;
		}

		#toc-nav:not(:hover) > a:not(:focus) > span + span {
			/* Ideally this uses :focus-within on #toc-nav */
			display: none;
		}
		#toc-nav > a > span + span {
			padding-right: 0.2em;
		}

		#toc-toggle-inline {
			vertical-align: 0.05em;
			font-size: 80%;
			color: gray;
			color: hsla(203,20%,40%,.7);
			border-style: none;
			background: transparent;
			position: relative;
		}
		#toc-toggle-inline:hover:not(:active),
		#toc-toggle-inline:focus:not(:active) {
			text-shadow: 1px 1px silver;
			top: -1px;
			left: -1px;
		}

		#toc-nav :active {
			color: #C00;
		}
	}

/** ToC Sidebar ***************************************************************/

	/* Floating sidebar */
	@media screen {
		body.toc-sidebar #toc {
			position: fixed;
			top: 0; bottom: 0;
			left: 0;
			width: 23.5em;
			max-width: 80%;
			max-width: calc(100% - 2em - 26px);
			overflow: auto;
			padding: 0 1em;
			padding-left: 42px;
			padding-left: calc(1em + 26px);
			background: inherit;
			background-color: #f7f8f9;
			z-index: 1;
			box-shadow: -.1em 0 .25em rgba(0,0,0,.1) inset;
		}
		body.toc-sidebar #toc h2 {
			margin-top: .8rem;
			font-variant: small-caps;
			font-variant: all-small-caps;
			text-transform: lowercase;
			font-weight: bold;
			color: gray;
			color: hsla(203,20%,40%,.7);
		}
		body.toc-sidebar #toc-jump:not(:focus) {
			width: 0;
			height: 0;
			padding: 0;
			position: absolute;
			overflow: hidden;
		}
	}
	/* Hide main scroller when only the ToC is visible anyway */
	@media screen and (max-width: 28em) {
		body.toc-sidebar {
			overflow: hidden;
		}
	}

	/* Sidebar with its own space */
	@media screen and (min-width: 78em) {
		body:not(.toc-inline) #toc {
			position: fixed;
			top: 0; bottom: 0;
			left: 0;
			width: 23.5em;
			overflow: auto;
			padding: 0 1em;
			padding-left: 42px;
			padding-left: calc(1em + 26px);
			background: inherit;
			background-color: #f7f8f9;
			z-index: 1;
			box-shadow: -.1em 0 .25em rgba(0,0,0,.1) inset;
		}
		body:not(.toc-inline) #toc h2 {
			margin-top: .8rem;
			font-variant: small-caps;
			font-variant: all-small-caps;
			text-transform: lowercase;
			font-weight: bold;
			color: gray;
			color: hsla(203,20%,40%,.7);
		}

		body:not(.toc-inline) {
			padding-left: 29em;
		}
		/* See also Overflow section at the bottom */

		body:not(.toc-inline) #toc-jump:not(:focus) {
			width: 0;
			height: 0;
			padding: 0;
			position: absolute;
			overflow: hidden;
		}
	}
	@media screen and (min-width: 90em) {
		body:not(.toc-inline) {
			margin: 0 4em;
		}
	}

/******************************************************************************/
/*                                Sectioning                                  */
/******************************************************************************/

/** Headings ******************************************************************/

	h1, h2, h3, h4, h5, h6, dt {
		page-break-after: avoid;
		page-break-inside: avoid;
		font: 100% sans-serif;   /* Reset all font styling to clear out UA styles */
		font-family: inherit;    /* Inherit the font family. */
		line-height: 1.2;        /* Keep wrapped headings compact */
		hyphens: manual;         /* Hyphenated headings look weird */
	}

	h2, h3, h4, h5, h6 {
		margin-top: 3rem;
	}

	h1, h2, h3 {
		color: #005A9C;
		background: transparent;
	}

	h1 { font-size: 170%; }
	h2 { font-size: 140%; }
	h3 { font-size: 120%; }
	h4 { font-weight: bold; }
	h5 { font-style: italic; }
	h6 { font-variant: small-caps; }
	dt { font-weight: bold; }

/** Subheadings ***************************************************************/

	h1 + h2,
	#subtitle {
		/* #subtitle is a subtitle in an H2 under the H1 */
		margin-top: 0;
	}
	h2 + h3,
	h3 + h4,
	h4 + h5,
	h5 + h6 {
		margin-top: 1.2em; /* = 1 x line-height */
	}

/** Section divider ***********************************************************/

	:not(.head) > hr {
		font-size: 1.5em;
		text-align: center;
		margin: 1em auto;
		height: auto;
		border: transparent solid 0;
		background: transparent;
	}
	:not(.head) > hr::before {
		content: "\2727\2003\2003\2727\2003\2003\2727";
	}

/******************************************************************************/
/*                            Paragraphs and Lists                            */
/******************************************************************************/

	p {
		margin: 1em 0;
	}

	dd > p:first-child,
	li > p:first-child {
		margin-top: 0;
	}

	ul, ol {
		margin-left: 0;
		padding-left: 2em;
	}

	li {
		margin: 0.25em 0 0.5em;
		padding: 0;
	}

	dl dd {
		margin: 0 0 .5em 2em;
	}

	.head dd + dd { /* compact for header */
		margin-top: -.5em;
	}

	/* Style for algorithms */
	ol.algorithm ol:not(.algorithm),
	.algorithm > ol ol:not(.algorithm) {
	 border-left: 0.5em solid #DEF;
	}

	/* Put nice boxes around each algorithm. */
	[data-algorithm]:not(.heading) {
	  padding: .5em;
	  border: thin solid #ddd; border-radius: .5em;
	  margin: .5em calc(-0.5em - 1px);
	}
	[data-algorithm]:not(.heading) > :first-child {
	  margin-top: 0;
	}
	[data-algorithm]:not(.heading) > :last-child {
	  margin-bottom: 0;
	}

	/* Style for switch/case <dl>s */
	dl.switch > dd > ol.only,
	dl.switch > dd > .only > ol {
	 margin-left: 0;
	}
	dl.switch > dd > ol.algorithm,
	dl.switch > dd > .algorithm > ol {
	 margin-left: -2em;
	}
	dl.switch {
	 padding-left: 2em;
	}
	dl.switch > dt {
	 text-indent: -1.5em;
	 margin-top: 1em;
	}
	dl.switch > dt + dt {
	 margin-top: 0;
	}
	dl.switch > dt::before {
	 content: '\21AA';
	 padding: 0 0.5em 0 0;
	 display: inline-block;
	 width: 1em;
	 text-align: right;
	 line-height: 0.5em;
	}

/** Terminology Markup ********************************************************/


/******************************************************************************/
/*                                 Inline Markup                              */
/******************************************************************************/

/** Terminology Markup ********************************************************/
	dfn   { /* Defining instance */
		font-weight: bolder;
	}
	a > i { /* Instance of term */
		font-style: normal;
	}
	dt dfn code, code.idl {
		font-size: medium;
	}
	dfn var {
		font-style: normal;
	}

/** Change Marking ************************************************************/

	del { color: red;  text-decoration: line-through; }
	ins { color: #080; text-decoration: underline;    }

/** Miscellaneous improvements to inline formatting ***************************/

	sup {
		vertical-align: super;
		font-size: 80%
	}

/******************************************************************************/
/*                                    Code                                    */
/******************************************************************************/

/** General monospace/pre rules ***********************************************/

	pre, code, samp {
		font-family: Menlo, Consolas, "DejaVu Sans Mono", Monaco, monospace;
		font-size: .9em;
		page-break-inside: avoid;
		hyphens: none;
		text-transform: none;
	}
	pre code,
	code code {
		font-size: 100%;
	}

	pre {
		margin-top: 1em;
		margin-bottom: 1em;
		overflow: auto;
	}

/** Inline Code fragments *****************************************************/

  /* Do something nice. */

/******************************************************************************/
/*                                    Links                                   */
/******************************************************************************/

/** General Hyperlinks ********************************************************/

	/* We hyperlink a lot, so make it less intrusive */
	a[href] {
		color: #034575;
		text-decoration: none;
		border-bottom: 1px solid #707070;
		/* Need a bit of extending for it to look okay */
		padding: 0 1px 0;
		margin: 0 -1px 0;
	}
	a:visited {
		border-bottom-color: #BBB;
	}

	/* Use distinguishing colors when user is interacting with the link */
	a[href]:focus,
	a[href]:hover {
		background: #f8f8f8;
		background: rgba(75%, 75%, 75%, .25);
		border-bottom-width: 3px;
		margin-bottom: -2px;
	}
	a[href]:active {
		color: #C00;
		border-color: #C00;
	}

	/* Backout above styling for W3C logo */
	.head .logo,
	.head .logo a {
		border: none;
		text-decoration: none;
		background: transparent;
	}

/******************************************************************************/
/*                                    Images                                  */
/******************************************************************************/

	img {
		border-style: none;
	}

	/* For autogen numbers, add
	   .caption::before, figcaption::before { content: "Figure " counter(figure) ". "; }
	*/

	figure, .figure, .sidefigure {
		page-break-inside: avoid;
		text-align: center;
		margin: 2.5em 0;
	}
	.figure img,    .sidefigure img,    figure img,
	.figure object, .sidefigure object, figure object {
		max-width: 100%;
		margin: auto;
	}
	.figure pre, .sidefigure pre, figure pre {
		text-align: left;
		display: table;
		margin: 1em auto;
	}
	.figure table, figure table {
		margin: auto;
	}
	@media screen and (min-width: 20em) {
		.sidefigure {
			float: right;
			width: 50%;
			margin: 0 0 0.5em 0.5em
		}
	}
	.caption, figcaption, caption {
		font-style: italic;
		font-size: 90%;
	}
	.caption::before, figcaption::before, figcaption > .marker {
		font-weight: bold;
	}
	.caption, figcaption {
		counter-increment: figure;
	}

	/* DL list is indented 2em, but figure inside it is not */
	dd > .figure, dd > figure { margin-left: -2em }

/******************************************************************************/
/*                             Colored Boxes                                  */
/******************************************************************************/

	.issue, .note, .example, .assertion, .advisement, blockquote {
		padding: .5em;
		border: .5em;
		border-left-style: solid;
		page-break-inside: avoid;
	}
	span.issue, span.note {
		padding: .1em .5em .15em;
		border-right-style: solid;
	}

	.issue,
	.note,
	.example,
	.advisement,
	.assertion,
	blockquote {
		margin: 1em auto;
	}
	.note  > p:first-child,
	.issue > p:first-child,
	blockquote > :first-child {
		margin-top: 0;
	}
	blockquote > :last-child {
		margin-bottom: 0;
	}

/** Blockquotes ***************************************************************/

	blockquote {
		border-color: silver;
	}

/** Open issue ****************************************************************/

	.issue {
		border-color: #E05252;
		background: #FBE9E9;
		counter-increment: issue;
		overflow: auto;
	}
	.issue::before, .issue > .marker {
		text-transform: uppercase;
		color: #AE1E1E;
		padding-right: 1em;
		text-transform: uppercase;
	}
	/* Add .issue::before { content: "Issue " counter(issue) " "; } for autogen numbers,
	   or use class="marker" to mark up the issue number in source. */

/** Example *******************************************************************/

	.example {
		border-color: #E0CB52;
		background: #FCFAEE;
		counter-increment: example;
		overflow: auto;
		clear: both;
	}
	.example::before, .example > .marker {
		text-transform: uppercase;
		color: #827017;
		min-width: 7.5em;
		display: block;
	}
	/* Add .example::before { content: "Example " counter(example) " "; } for autogen numbers,
	   or use class="marker" to mark up the example number in source. */

/** Non-normative Note ********************************************************/

	.note {
		border-color: #52E052;
		background: #E9FBE9;
		overflow: auto;
	}

	.note::before, .note > .marker,
	details.note > summary::before,
	details.note > summary > .marker {
		text-transform: uppercase;
		display: block;
		color: hsl(120, 70%, 30%);
	}
	/* Add .note::before { content: "Note"; } for autogen label,
	   or use class="marker" to mark up the label in source. */

	details.note > summary {
		display: block;
		color: hsl(120, 70%, 30%);
	}
	details.note[open] > summary {
		border-bottom: 1px silver solid;
	}

/** Assertion Box *************************************************************/
	/*  for assertions in algorithms */

	.assertion {
		border-color: #AAA;
		background: #EEE;
	}

/** Advisement Box ************************************************************/
	/*  for attention-grabbing normative statements */

	.advisement {
		border-color: orange;
		border-style: none solid;
		background: #FFEECC;
	}
	strong.advisement {
		display: block;
		text-align: center;
	}
	.advisement > .marker {
		color: #B35F00;
	}

/** Spec Obsoletion Notice ****************************************************/
	/* obnoxious obsoletion notice for older/abandoned specs. */

	details {
		display: block;
	}
	summary {
		font-weight: bolder;
	}

	.annoying-warning:not(details),
	details.annoying-warning:not([open]) > summary,
	details.annoying-warning[open] {
		background: #fdd;
		color: red;
		font-weight: bold;
		padding: .75em 1em;
		border: thick red;
		border-style: solid;
		border-radius: 1em;
	}
	.annoying-warning :last-child {
		margin-bottom: 0;
	}

@media not print {
	details.annoying-warning[open] {
		position: fixed;
		left: 1em;
		right: 1em;
		bottom: 1em;
		z-index: 1000;
	}
}

	details.annoying-warning:not([open]) > summary {
		text-align: center;
	}

/** Entity Definition Boxes ***************************************************/

	.def {
		padding: .5em 1em;
		background: #DEF;
		margin: 1.2em 0;
		border-left: 0.5em solid #8CCBF2;
	}

/******************************************************************************/
/*                                    Tables                                  */
/******************************************************************************/

	th, td {
		text-align: left;
		text-align: start;
	}

/** Property/Descriptor Definition Tables *************************************/

	table.def {
		/* inherits .def box styling, see above */
		width: 100%;
		border-spacing: 0;
	}

	table.def td,
	table.def th {
		padding: 0.5em;
		vertical-align: baseline;
		border-bottom: 1px solid #bbd7e9;
	}

	table.def > tbody > tr:last-child th,
	table.def > tbody > tr:last-child td {
		border-bottom: 0;
	}

	table.def th {
		font-style: italic;
		font-weight: normal;
		padding-left: 1em;
		width: 3em;
	}

	/* For when values are extra-complex and need formatting for readability */
	table td.pre {
		white-space: pre-wrap;
	}

	/* A footnote at the bottom of a def table */
	table.def           td.footnote {
		padding-top: 0.6em;
	}
	table.def           td.footnote::before {
		content: " ";
		display: block;
		height: 0.6em;
		width: 4em;
		border-top: thin solid;
	}

/** Data tables (and properly marked-up index tables) *************************/
	/*
		 <table class="data"> highlights structural relationships in a table
		 when correct markup is used (e.g. thead/tbody, th vs. td, scope attribute)

		 Use class="complex data" for particularly complicated tables --
		 (This will draw more lines: busier, but clearer.)

		 Use class="long" on table cells with paragraph-like contents
		 (This will adjust text alignment accordingly.)
		 Alternately use class="longlastcol" on tables, to have the last column assume "long".
	*/

	table {
		word-wrap: normal;
		overflow-wrap: normal;
		hyphens: manual;
	}

	table.data,
	table.index {
		margin: 1em auto;
		border-collapse: collapse;
		border: hidden;
		width: 100%;
	}
	table.data caption,
	table.index caption {
		max-width: 50em;
		margin: 0 auto 1em;
	}

	table.data td,  table.data th,
	table.index td, table.index th {
		padding: 0.5em 1em;
		border-width: 1px;
		border-color: silver;
		border-top-style: solid;
	}

	table.data thead td:empty {
		padding: 0;
		border: 0;
	}

	table.data  thead,
	table.index thead,
	table.data  tbody,
	table.index tbody {
		border-bottom: 2px solid;
	}

	table.data colgroup,
	table.index colgroup {
		border-left: 2px solid;
	}

	table.data  tbody th:first-child,
	table.index tbody th:first-child  {
		border-right: 2px solid;
		border-top: 1px solid silver;
		padding-right: 1em;
	}

	table.data th[colspan],
	table.data td[colspan] {
		text-align: center;
	}

	table.complex.data th,
	table.complex.data td {
		border: 1px solid silver;
		text-align: center;
	}

	table.data.longlastcol td:last-child,
	table.data td.long {
	 vertical-align: baseline;
	 text-align: left;
	}

	table.data img {
		vertical-align: middle;
	}


/*
Alternate table alignment rules

	table.data,
	table.index {
		text-align: center;
	}

	table.data  thead th[scope="row"],
	table.index thead th[scope="row"] {
		text-align: right;
	}

	table.data  tbody th:first-child,
	table.index tbody th:first-child  {
		text-align: right;
	}

Possible extra rowspan handling

	table.data  tbody th[rowspan]:not([rowspan='1']),
	table.index tbody th[rowspan]:not([rowspan='1']),
	table.data  tbody td[rowspan]:not([rowspan='1']),
	table.index tbody td[rowspan]:not([rowspan='1']) {
		border-left: 1px solid silver;
	}

	table.data  tbody th[rowspan]:first-child,
	table.index tbody th[rowspan]:first-child,
	table.data  tbody td[rowspan]:first-child,
	table.index tbody td[rowspan]:first-child{
		border-left: 0;
		border-right: 1px solid silver;
	}
*/

/******************************************************************************/
/*                                  Indices                                   */
/******************************************************************************/


/** Table of Contents *********************************************************/

	.toc a {
		/* More spacing; use padding to make it part of the click target. */
		padding-top: 0.1rem;
		/* Larger, more consistently-sized click target */
		display: block;
		/* Reverse color scheme */
		color: black;
		border-color: #3980B5;
		border-bottom-width: 3px !important;
		margin-bottom: 0px !important;
	}
	.toc a:visited {
		border-color: #054572;
	}
	.toc a:not(:focus):not(:hover) {
		/* Allow colors to cascade through from link styling */
		border-bottom-color: transparent;
	}

	.toc, .toc ol, .toc ul, .toc li {
		list-style: none; /* Numbers must be inlined into source */
		/* because generated content isn't search/selectable and markers can't do multilevel yet */
		margin:  0;
		padding: 0;
		line-height: 1.1rem; /* consistent spacing */
	}

	/* ToC not indented until third level, but font style & margins show hierarchy */
	.toc > li             { font-weight: bold;   }
	.toc > li li          { font-weight: normal; }
	.toc > li li li       { font-size:   95%;    }
	.toc > li li li li    { font-size:   90%;    }
	.toc > li li li li li { font-size:   85%;    }

	.toc > li             { margin: 1.5rem 0;    }
	.toc > li li          { margin: 0.3rem 0;    }
	.toc > li li li       { margin-left: 2rem;   }

	/* Section numbers in a column of their own */
	.toc .secno {
		float: left;
		width: 4rem;
		white-space: nowrap;
	}
	.toc > li li li li .secno {
		font-size: 85%;
	}
	.toc > li li li li li .secno {
		font-size: 100%;
	}

	:not(li) > .toc              { margin-left:  5rem; }
	.toc .secno                  { margin-left: -5rem; }
	.toc > li li li .secno       { margin-left: -7rem; }
	.toc > li li li li .secno    { margin-left: -9rem; }
	.toc > li li li li li .secno { margin-left: -11rem; }

	/* Tighten up indentation in narrow ToCs */
	@media (max-width: 30em) {
		:not(li) > .toc              { margin-left:  4rem; }
		.toc .secno                  { margin-left: -4rem; }
		.toc > li li li              { margin-left:  1rem; }
		.toc > li li li .secno       { margin-left: -5rem; }
		.toc > li li li li .secno    { margin-left: -6rem; }
		.toc > li li li li li .secno { margin-left: -7rem; }
	}
	@media screen and (min-width: 78em) {
		body:not(.toc-inline) :not(li) > .toc              { margin-left:  4rem; }
		body:not(.toc-inline) .toc .secno                  { margin-left: -4rem; }
		body:not(.toc-inline) .toc > li li li              { margin-left:  1rem; }
		body:not(.toc-inline) .toc > li li li .secno       { margin-left: -5rem; }
		body:not(.toc-inline) .toc > li li li li .secno    { margin-left: -6rem; }
		body:not(.toc-inline) .toc > li li li li li .secno { margin-left: -7rem; }
	}
	body.toc-sidebar #toc :not(li) > .toc              { margin-left:  4rem; }
	body.toc-sidebar #toc .toc .secno                  { margin-left: -4rem; }
	body.toc-sidebar #toc .toc > li li li              { margin-left:  1rem; }
	body.toc-sidebar #toc .toc > li li li .secno       { margin-left: -5rem; }
	body.toc-sidebar #toc .toc > li li li li .secno    { margin-left: -6rem; }
	body.toc-sidebar #toc .toc > li li li li li .secno { margin-left: -7rem; }

	.toc li {
		clear: both;
	}


/** Index *********************************************************************/

	/* Index Lists: Layout */
	ul.index       { margin-left: 0; columns: 15em; text-indent: 1em hanging; }
	ul.index li    { margin-left: 0; list-style: none; break-inside: avoid; }
	ul.index li li { margin-left: 1em }
	ul.index dl    { margin-top: 0; }
	ul.index dt    { margin: .2em 0 .2em 20px;}
	ul.index dd    { margin: .2em 0 .2em 40px;}
	/* Index Lists: Typography */
	ul.index ul,
	ul.index dl { font-size: smaller; }
	@media not print {
		ul.index li span {
			white-space: nowrap;
			color: transparent; }
		ul.index li a:hover + span,
		ul.index li a:focus + span {
			color: #707070;
		}
	}

/** Index Tables *****************************************************/
	/* See also the data table styling section, which this effectively subclasses */

	table.index {
		font-size: small;
		border-collapse: collapse;
		border-spacing: 0;
		text-align: left;
		margin: 1em 0;
	}

	table.index td,
	table.index th {
		padding: 0.4em;
	}

	table.index tr:hover td:not([rowspan]),
	table.index tr:hover th:not([rowspan]) {
		background: #f7f8f9;
	}

	/* The link in the first column in the property table (formerly a TD) */
	table.index th:first-child a {
		font-weight: bold;
	}

/******************************************************************************/
/*                                    Print                                   */
/******************************************************************************/

	@media print {
		/* Pages have their own margins. */
		html {
			margin: 0;
		}
		/* Serif for print. */
		body {
			font-family: serif;
		}
	}
	@page {
		margin: 1.5cm 1.1cm;
	}

/******************************************************************************/
/*                                    Legacy                                  */
/******************************************************************************/

	/* This rule is inherited from past style sheets. No idea what it's for. */
	.hide { display: none }



/******************************************************************************/
/*                             Overflow Control                               */
/******************************************************************************/

	.figure .caption, .sidefigure .caption, figcaption {
		/* in case figure is overlarge, limit caption to 50em */
		max-width: 50rem;
		margin-left: auto;
		margin-right: auto;
	}
	.overlarge > table {
		/* limit preferred width of table */
		max-width: 50em;
		margin-left: auto;
		margin-right: auto;
	}

	@media (min-width: 55em) {
		.overlarge {
			margin-left: calc(13px + 26.5rem - 50vw);
			margin-right: calc(13px + 26.5rem - 50vw);
			max-width: none;
		}
	}
	@media screen and (min-width: 78em) {
		body:not(.toc-inline) .overlarge {
			/* 30.5em body padding 50em content area */
			margin-left: calc(40em - 50vw) !important;
			margin-right: calc(40em - 50vw) !important;
		}
	}
	@media screen and (min-width: 90em) {
		body:not(.toc-inline) .overlarge {
			/* 4em html margin 30.5em body padding 50em content area */
			margin-left: 0 !important;
			margin-right: calc(84.5em - 100vw) !important;
		}
	}

	@media not print {
		.overlarge {
			overflow-x: auto;
			/* See Lea Verou's explanation background-attachment:
			 * http://lea.verou.me/2012/04/background-attachment-local/
			 *
			background: top left  / 4em 100% linear-gradient(to right,  #ffffff, rgba(255, 255, 255, 0)) local,
			            top right / 4em 100% linear-gradient(to left, #ffffff, rgba(255, 255, 255, 0)) local,
			            top left  / 1em 100% linear-gradient(to right,  #c3c3c5, rgba(195, 195, 197, 0)) scroll,
			            top right / 1em 100% linear-gradient(to left, #c3c3c5, rgba(195, 195, 197, 0)) scroll,
			            white;
			background-repeat: no-repeat;
			*/
		}
	}
</style>
  <meta content="Bikeshed version 67155cabad72a8ab669a7d4421c90e2999a29b68" name="generator">
  <meta content="67155cabad72a8ab669a7d4421c90e2999a29b68" name="document-revision">
<style>/* style-md-lists */

/* This is a weird hack for me not yet following the commonmark spec
   regarding paragraph and lists. */
[data-md] > :first-child {
    margin-top: 0;
}
[data-md] > :last-child {
    margin-bottom: 0;
}</style>
<style>/* style-counters */

body {
    counter-reset: example figure issue;
}
.issue {
    counter-increment: issue;
}
.issue:not(.no-marker)::before {
    content: "Issue " counter(issue);
}

.example {
    counter-increment: example;
}
.example:not(.no-marker)::before {
    content: "Example " counter(example);
}
.invalid.example:not(.no-marker)::before,
.illegal.example:not(.no-marker)::before {
    content: "Invalid Example" counter(example);
}

figcaption {
    counter-increment: figure;
}
figcaption:not(.no-marker)::before {
    content: "Figure " counter(figure) " ";
}</style>
<style>/* style-syntax-highlighting */

.highlight:not(.idl) { background: hsl(24, 20%, 95%); }
code.highlight { padding: .1em; border-radius: .3em; }
pre.highlight, pre > code.highlight { display: block; padding: 1em; margin: .5em 0; overflow: auto; border-radius: 0; }
.highlight .c { color: #708090 } /* Comment */
.highlight .k { color: #990055 } /* Keyword */
.highlight .l { color: #000000 } /* Literal */
.highlight .n { color: #0077aa } /* Name */
.highlight .o { color: #999999 } /* Operator */
.highlight .p { color: #999999 } /* Punctuation */
.highlight .cm { color: #708090 } /* Comment.Multiline */
.highlight .cp { color: #708090 } /* Comment.Preproc */
.highlight .c1 { color: #708090 } /* Comment.Single */
.highlight .cs { color: #708090 } /* Comment.Special */
.highlight .kc { color: #990055 } /* Keyword.Constant */
.highlight .kd { color: #990055 } /* Keyword.Declaration */
.highlight .kn { color: #990055 } /* Keyword.Namespace */
.highlight .kp { color: #990055 } /* Keyword.Pseudo */
.highlight .kr { color: #990055 } /* Keyword.Reserved */
.highlight .kt { color: #990055 } /* Keyword.Type */
.highlight .ld { color: #000000 } /* Literal.Date */
.highlight .m { color: #000000 } /* Literal.Number */
.highlight .s { color: #a67f59 } /* Literal.String */
.highlight .na { color: #0077aa } /* Name.Attribute */
.highlight .nc { color: #0077aa } /* Name.Class */
.highlight .no { color: #0077aa } /* Name.Constant */
.highlight .nd { color: #0077aa } /* Name.Decorator */
.highlight .ni { color: #0077aa } /* Name.Entity */
.highlight .ne { color: #0077aa } /* Name.Exception */
.highlight .nf { color: #0077aa } /* Name.Function */
.highlight .nl { color: #0077aa } /* Name.Label */
.highlight .nn { color: #0077aa } /* Name.Namespace */
.highlight .py { color: #0077aa } /* Name.Property */
.highlight .nt { color: #669900 } /* Name.Tag */
.highlight .nv { color: #222222 } /* Name.Variable */
.highlight .ow { color: #999999 } /* Operator.Word */
.highlight .mb { color: #000000 } /* Literal.Number.Bin */
.highlight .mf { color: #000000 } /* Literal.Number.Float */
.highlight .mh { color: #000000 } /* Literal.Number.Hex */
.highlight .mi { color: #000000 } /* Literal.Number.Integer */
.highlight .mo { color: #000000 } /* Literal.Number.Oct */
.highlight .sb { color: #a67f59 } /* Literal.String.Backtick */
.highlight .sc { color: #a67f59 } /* Literal.String.Char */
.highlight .sd { color: #a67f59 } /* Literal.String.Doc */
.highlight .s2 { color: #a67f59 } /* Literal.String.Double */
.highlight .se { color: #a67f59 } /* Literal.String.Escape */
.highlight .sh { color: #a67f59 } /* Literal.String.Heredoc */
.highlight .si { color: #a67f59 } /* Literal.String.Interpol */
.highlight .sx { color: #a67f59 } /* Literal.String.Other */
.highlight .sr { color: #a67f59 } /* Literal.String.Regex */
.highlight .s1 { color: #a67f59 } /* Literal.String.Single */
.highlight .ss { color: #a67f59 } /* Literal.String.Symbol */
.highlight .vc { color: #0077aa } /* Name.Variable.Class */
.highlight .vg { color: #0077aa } /* Name.Variable.Global */
.highlight .vi { color: #0077aa } /* Name.Variable.Instance */
.highlight .il { color: #000000 } /* Literal.Number.Integer.Long */
</style>
<style>/* style-selflinks */

.heading, .issue, .note, .example, li, dt {
    position: relative;
}
a.self-link {
    position: absolute;
    top: 0;
    left: calc(-1 * (3.5rem - 26px));
    width: calc(3.5rem - 26px);
    height: 2em;
    text-align: center;
    border: none;
    transition: opacity .2s;
    opacity: .5;
}
a.self-link:hover {
    opacity: 1;
}
.heading > a.self-link {
    font-size: 83%;
}
li > a.self-link {
    left: calc(-1 * (3.5rem - 26px) - 2em);
}
dfn > a.self-link {
    top: auto;
    left: auto;
    opacity: 0;
    width: 1.5em;
    height: 1.5em;
    background: gray;
    color: white;
    font-style: normal;
    transition: opacity .2s, background-color .2s, color .2s;
}
dfn:hover > a.self-link {
    opacity: 1;
}
dfn > a.self-link:hover {
    color: black;
}

a.self-link::before            { content: "¶"; }
.heading > a.self-link::before { content: "§"; }
dfn > a.self-link::before      { content: "#"; }</style>
<style>/* style-autolinks */

.css.css, .property.property, .descriptor.descriptor {
    color: #005a9c;
    font-size: inherit;
    font-family: inherit;
}
.css::before, .property::before, .descriptor::before {
    content: "‘";
}
.css::after, .property::after, .descriptor::after {
    content: "’";
}
.property, .descriptor {
    /* Don't wrap property and descriptor names */
    white-space: nowrap;
}
.type { /* CSS value <type> */
    font-style: italic;
}
pre .property::before, pre .property::after {
    content: "";
}
[data-link-type="property"]::before,
[data-link-type="propdesc"]::before,
[data-link-type="descriptor"]::before,
[data-link-type="value"]::before,
[data-link-type="function"]::before,
[data-link-type="at-rule"]::before,
[data-link-type="selector"]::before,
[data-link-type="maybe"]::before {
    content: "‘";
}
[data-link-type="property"]::after,
[data-link-type="propdesc"]::after,
[data-link-type="descriptor"]::after,
[data-link-type="value"]::after,
[data-link-type="function"]::after,
[data-link-type="at-rule"]::after,
[data-link-type="selector"]::after,
[data-link-type="maybe"]::after {
    content: "’";
}

[data-link-type].production::before,
[data-link-type].production::after,
.prod [data-link-type]::before,
.prod [data-link-type]::after {
    content: "";
}

[data-link-type=element],
[data-link-type=element-attr] {
    font-family: Menlo, Consolas, "DejaVu Sans Mono", monospace;
    font-size: .9em;
}
[data-link-type=element]::before { content: "<" }
[data-link-type=element]::after  { content: ">" }

[data-link-type=biblio] {
    white-space: pre;
}</style>
 <body class="h-entry">
  <div class="head">
   <p data-fill-with="logo"></p>
   <h1 class="p-name no-ref" id="title">MNX Proposal Overview</h1>
   <h2 class="no-num no-toc no-ref heading settled" id="subtitle"><span class="content">Living Document, <time class="dt-updated" datetime="2018-01-19">19 January 2018</time></span></h2>
   <div data-fill-with="spec-metadata">
    <dl>
     <dt>Issue Tracking:
     <dd><a href="https://github.com/foolip/bikeshed/issues/">GitHub</a>
     <dt class="editor">Editor:
     <dd class="editor p-author h-card vcard"><span class="p-name fn">Joe Berkovitz</span> (<span class="p-org org">Noteflight / Hal Leonard Corporation</span>)
    </dl>
   </div>
   <div data-fill-with="warning">
    <details class="annoying-warning" open="">
     <summary>Obsoletion Notice</summary>
     <p> This specification is not being actively maintained,
  	and should not be used as a guide for implementations.
  	It may be revived in the future,
  	but for now should be considered obsolete. </p>
     <p> If you have questions or comments on this specification,
  	please send an email to the editors. </p>
    </details>
   </div>
   <p class="copyright" data-fill-with="copyright"><a href="http://creativecommons.org/publicdomain/zero/1.0/" rel="license"><img alt="CC0" src="https://licensebuttons.net/p/zero/1.0/80x15.png"></a> To the extent possible under law, the editors have waived all copyright
and related or neighboring rights to this work.
In addition, as of 19 January 2018,
the editors have made this specification available under the <a href="http://www.openwebfoundation.org/legal/the-owf-1-0-agreements/owfa-1-0" rel="license">Open Web Foundation Agreement Version 1.0</a>,
which is available at http://www.openwebfoundation.org/legal/the-owf-1-0-agreements/owfa-1-0.
Parts of this work may be from another specification document.  If so, those parts are instead covered by the license of that specification document. </p>
   <hr title="Separator for header">
  </div>
  <div class="p-summary" data-fill-with="abstract">
   <h2 class="no-num no-toc no-ref heading settled" id="abstract"><span class="content">Abstract</span></h2>
   <p>An overview of a proposal for the MNX music notation markup language

with the aim of illustrating design goals and potential concrete solutions to those goals.
Examples are used rather than specification language.</p>
  </div>
  <div data-fill-with="at-risk"></div>
  <nav data-fill-with="table-of-contents" id="toc">
   <h2 class="no-num no-toc no-ref" id="contents">Table of Contents</h2>
   <ol class="toc" role="directory">
    <li>
     <a href="#introduction"><span class="secno">1</span> <span class="content">Introduction</span></a>
     <ol class="toc">
      <li><a href="#about-mnx"><span class="secno">1.1</span> <span class="content">About MNX</span></a>
      <li><a href="#goals-and-tradeoffs"><span class="secno">1.2</span> <span class="content">Goals and Tradeoffs</span></a>
      <li><a href="#mnx-score-types"><span class="secno">1.3</span> <span class="content">MNX Score Types</span></a>
      <li><a href="#comparisons-with-other-notation-standards"><span class="secno">1.4</span> <span class="content">Comparisons with other notation standards</span></a>
      <li><a href="#compatibility-with-musicxml"><span class="secno">1.5</span> <span class="content">Compatibility with MusicXML</span></a>
      <li><a href="#use-case-concordance"><span class="secno">1.6</span> <span class="content">Use case concordance</span></a>
     </ol>
    <li><a href="#a-brief-example"><span class="secno">2</span> <span class="content">A brief example</span></a>
    <li>
     <a href="#document-organization"><span class="secno">3</span> <span class="content">Document organization</span></a>
     <ol class="toc">
      <li>
       <a href="#the-container-document"><span class="secno">3.1</span> <span class="content">The container document</span></a>
       <ol class="toc">
        <li><a href="#a-simple-cwmn-score"><span class="secno">3.1.1</span> <span class="content">A simple CWMN score</span></a>
        <li><a href="#a-simple-general-score"><span class="secno">3.1.2</span> <span class="content">A simple general score</span></a>
        <li><a href="#compound-mnx-documents"><span class="secno">3.1.3</span> <span class="content">Compound MNX documents</span></a>
        <li><a href="#inclusion-by-reference"><span class="secno">3.1.4</span> <span class="content">Inclusion by reference</span></a>
       </ol>
      <li><a href="#profiles"><span class="secno">3.2</span> <span class="content">Profiles</span></a>
      <li><a href="#metadata-and-attribution"><span class="secno">3.3</span> <span class="content">Metadata and Attribution</span></a>
     </ol>
    <li>
     <a href="#cwmnx"><span class="secno">4</span> <span class="content">CWMNX: Encoding Conventional Western Music</span></a>
     <ol class="toc">
      <li><a href="#cwmnx-goals"><span class="secno">4.1</span> <span class="content">CWMNX Goals</span></a>
      <li><a href="#cwmnx-layers"><span class="secno">4.2</span> <span class="content">CWMNX Layers</span></a>
     </ol>
    <li>
     <a href="#semantic-markup"><span class="secno">5</span> <span class="content">CWMNX Semantic markup</span></a>
     <ol class="toc">
      <li>
       <a href="#score-structure"><span class="secno">5.1</span> <span class="content">Score structure</span></a>
       <ol class="toc">
        <li><a href="#unifying-score-part-and-part"><span class="secno">5.1.1</span> <span class="content">Unifying <code><span>score-part</span></code> and <code><span>part</span></code></span></a>
        <li><a href="#system-notations"><span class="secno">5.1.2</span> <span class="content">System notations</span></a>
        <li><a href="#concert-and-transposed-pitch"><span class="secno">5.1.3</span> <span class="content">Concert and transposed pitch</span></a>
       </ol>
      <li><a href="#element-ids"><span class="secno">5.2</span> <span class="content">Element IDs</span></a>
      <li>
       <a href="#musical-timelines"><span class="secno">5.3</span> <span class="content">Musical timelines</span></a>
       <ol class="toc">
        <li><a href="#specialized-encodings"><span class="secno">5.3.1</span> <span class="content">Specialized encodings</span></a>
        <li><a href="#note-values"><span class="secno">5.3.2</span> <span class="content">Note values</span></a>
        <li><a href="#metrical-timespans"><span class="secno">5.3.3</span> <span class="content">Metrical timespans</span></a>
        <li><a href="#general-timespans"><span class="secno">5.3.4</span> <span class="content">General timespans</span></a>
        <li><a href="#positions-and-timespans"><span class="secno">5.3.5</span> <span class="content">Positions and timespans</span></a>
        <li><a href="#sequences"><span class="secno">5.3.6</span> <span class="content">Sequences</span></a>
        <li><a href="#the-sequence-cursor"><span class="secno">5.3.7</span> <span class="content">The sequence cursor</span></a>
        <li><a href="#explicit-positions"><span class="secno">5.3.8</span> <span class="content">Explicit positions</span></a>
        <li><a href="#spaces"><span class="secno">5.3.9</span> <span class="content">Spaces</span></a>
        <li><a href="#pitch-encoding"><span class="secno">5.3.10</span> <span class="content">Pitch encoding</span></a>
        <li><a href="#events"><span class="secno">5.3.11</span> <span class="content">Events</span></a>
        <li><a href="#directions"><span class="secno">5.3.12</span> <span class="content">Directions</span></a>
        <li><a href="#tuplets"><span class="secno">5.3.13</span> <span class="content">Tuplets</span></a>
       </ol>
      <li><a href="#spanning-notations"><span class="secno">5.4</span> <span class="content">Spanning notations</span></a>
      <li><a href="#pagination-credits-and-page-level-text"><span class="secno">5.5</span> <span class="content">Pagination, credits and page-level text</span></a>
      <li><a href="#semantic-layout-overrides"><span class="secno">5.6</span> <span class="content">Semantic layout overrides</span></a>
     </ol>
    <li>
     <a href="#styling"><span class="secno">6</span> <span class="content">CWMNX Styling</span></a>
     <ol class="toc">
      <li><a href="#css-and-style-properties"><span class="secno">6.1</span> <span class="content">CSS and style properties</span></a>
      <li><a href="#stylesheets"><span class="secno">6.2</span> <span class="content">Stylesheets</span></a>
      <li><a href="#external-stylesheets"><span class="secno">6.3</span> <span class="content">External stylesheets</span></a>
      <li><a href="#units"><span class="secno">6.4</span> <span class="content">Units</span></a>
      <li>
       <a href="#css-property-usage"><span class="secno">6.5</span> <span class="content">CSS property usage</span></a>
       <ol class="toc">
        <li><a href="#standard-css-properties"><span class="secno">6.5.1</span> <span class="content">Standard CSS properties</span></a>
        <li><a href="#document-properties"><span class="secno">6.5.2</span> <span class="content">Document properties</span></a>
        <li><a href="#notation-properties"><span class="secno">6.5.3</span> <span class="content">Notation properties</span></a>
        <li><a href="#new-cwmnx-properties"><span class="secno">6.5.4</span> <span class="content">New CWMNX properties</span></a>
       </ol>
      <li><a href="#media-queries-and-parts"><span class="secno">6.6</span> <span class="content">Media queries and parts</span></a>
      <li><a href="#controlling-visibility"><span class="secno">6.7</span> <span class="content">Controlling visibility</span></a>
      <li><a href="#system-and-page-flow"><span class="secno">6.8</span> <span class="content">System and page flow</span></a>
      <li><a href="#styling-grace-and-cue-notes"><span class="secno">6.9</span> <span class="content">Styling grace and cue notes</span></a>
     </ol>
    <li>
     <a href="#interpretation"><span class="secno">7</span> <span class="content">CWMNX Interpretation</span></a>
     <ol class="toc">
      <li><a href="#inline-interpretation"><span class="secno">7.1</span> <span class="content">Inline interpretation</span></a>
      <li><a href="#interpretation-properties"><span class="secno">7.2</span> <span class="content">Interpretation properties</span></a>
      <li><a href="#interpretation-flow"><span class="secno">7.3</span> <span class="content">Interpretation flow</span></a>
      <li><a href="#performance-events-and-event-streams"><span class="secno">7.4</span> <span class="content">Performance events and event streams</span></a>
      <li><a href="#rhythmic-template-selectors"><span class="secno">7.5</span> <span class="content">Rhythmic template selectors</span></a>
     </ol>
    <li>
     <a href="#gmnx"><span class="secno">8</span> <span class="content">GMNX: Encoding Scores with General Content</span></a>
     <ol class="toc">
      <li><a href="#gmnx-goals"><span class="secno">8.1</span> <span class="content">GMNX Goals</span></a>
      <li>
       <a href="#gmnx-structure"><span class="secno">8.2</span> <span class="content">GMNX Structure</span></a>
       <ol class="toc">
        <li><a href="#visual-content"><span class="secno">8.2.1</span> <span class="content">Visual Content</span></a>
        <li>
         <a href="#performance-content"><span class="secno">8.2.2</span> <span class="content">Performance Content</span></a>
         <ol class="toc">
          <li><a href="#audio-media"><span class="secno">8.2.2.1</span> <span class="content">Audio Media</span></a>
          <li><a href="#event-sequences"><span class="secno">8.2.2.2</span> <span class="content">Event Sequences</span></a>
         </ol>
       </ol>
      <li>
       <a href="#mapping"><span class="secno">8.3</span> <span class="content">Mapping Between Position and Time</span></a>
       <ol class="toc">
        <li><a href="#performance-regions"><span class="secno">8.3.1</span> <span class="content">Performance Regions</span></a>
        <li><a href="#performance-flows"><span class="secno">8.3.2</span> <span class="content">Performance Flows</span></a>
        <li><a href="#performance-events"><span class="secno">8.3.3</span> <span class="content">Performance Events</span></a>
       </ol>
      <li><a href="#a-gmnx-example"><span class="secno">8.4</span> <span class="content">A GMNX Example</span></a>
      <li><a href="#compilation-to-gmnx"><span class="secno">8.5</span> <span class="content">Compilation to GMNX</span></a>
     </ol>
    <li><a href="#conformance"><span class="secno"></span> <span class="content"> Conformance</span></a>
    <li>
     <a href="#index"><span class="secno"></span> <span class="content">Index</span></a>
     <ol class="toc">
      <li><a href="#index-defined-elsewhere"><span class="secno"></span> <span class="content">Terms defined by reference</span></a>
     </ol>
    <li>
     <a href="#references"><span class="secno"></span> <span class="content">References</span></a>
     <ol class="toc">
      <li><a href="#normative"><span class="secno"></span> <span class="content">Normative References</span></a>
     </ol>
   </ol>
  </nav>
  <main>
   <h2 class="heading settled" data-level="1" id="introduction"><span class="secno">1. </span><span class="content">Introduction</span><a class="self-link" href="#introduction"></a></h2>
   <h3 class="heading settled" data-level="1.1" id="about-mnx"><span class="secno">1.1. </span><span class="content">About MNX</span><a class="self-link" href="#about-mnx"></a></h3>
   <p>MNX is a proposed music notation markup standard. Its aim is to improve
MusicXML in fundamental ways, while retaining many of its key concepts, terms
and features.</p>
   <p>Rather than attempting to create a normative specification for MNX from the
start, this document tries to describe key design goals. Each goal is
accompanied with examples of proposed MNX markup that directly illustrates it.
In some cases, alternative examples are included.</p>
   <p>The focus is on areas which substantially differ from MusicXML, and
explanations refer to MusicXML features to show how MNX differs.</p>
   <p>Note that this is not intended to be an exhaustive list of the changes that
MNX will include; it is merely an attempt to portray some of the most
important ones. Many other changes and improvements are expected to be
included.</p>
   <p>Having said that, where not explicitly called out, assume that MusicXML features may
carry over to MNX unchanged, or in an obvious and analogous fashion.</p>
   <p>MNX stands for "Music Notation X", where "X" suggests "XML", "eXtended",
and potentially other X-related things as may come to mind.</p>
   <h3 class="heading settled" data-level="1.2" id="goals-and-tradeoffs"><span class="secno">1.2. </span><span class="content">Goals and Tradeoffs</span><a class="self-link" href="#goals-and-tradeoffs"></a></h3>
   <p>MNX seeks to provide a high degree of interoperability and exchange between
different applications working with music notation. This emphasis on interoperability
is a differentiator between MNX and other notation encoding approaches,
and takes it in a different direction from its predecessors.</p>
   <p>MNX is designed with a few core beliefs in mind:</p>
   <ul>
    <li data-md="">
     <p>Limits are needed on either semantic
richness or universality. An encoding that seeks to represent an
established notational system will want rich and specific semantics,
tailored to represent that system’s ideals and concepts, which are by
definition not universal in scope. On the other hand, a universal system
that can encompass literally any graphical and sonic expression of music,
is most interoperable when the semantics of notation are
set aside.</p>
    <li data-md="">
     <p>There are no culturally privileged notational systems. Consequently it must be possible to extend
MNX to accommodate multiple such systems.</p>
    <li data-md="">
     <p>Within any given notational system, some limits on expressiveness are necessary
in order to make the implementation effort manageable.</p>
   </ul>
   <p class="note" role="note"><span>Note:</span> we use the term <em>semantics</em> here to refer to concepts
with an understood meaning in some musical culture, as distinct from their
graphical or sonic instantiations. For example, in conventional Western music,
we consider the shared idea of "quarter note" to be a semantic one; a quarter note
can be instantiated as many different shapes, or as many different sounds.</p>
   <h3 class="heading settled" data-level="1.3" id="mnx-score-types"><span class="secno">1.3. </span><span class="content">MNX Score Types</span><a class="self-link" href="#mnx-score-types"></a></h3>
   <p>MNX can support multiple types of score encoding, which can be bundled
together through the mechanism of <a href="#the-container-document">§3.1 The container document</a> into a single
composite document.</p>
   <p>The present proposal focuses on two distinct types of MNX score, which represent
opposite poles in the tradeoff described above between semantic richness and
universality. The expectation is that others will be created over time,
particularly those which target specific notational systems.</p>
   <p>The first score type is <a href="#cwmnx">CWMNX</a>, which encodes Conventional Western Music Notation (CWMN) in a
semantically rich fashion. It inherits many ideas and concepts from MusicXML.</p>
   <p>The second is <a href="#gmnx">GMNX</a>, where "G" is for <strong>G</strong>eneral. It serves as a kind of universal encoding for
scores having arbitary graphical and audio content. In consequence, it is
relatively free of semantics.</p>
   <p class="note" role="note"><span>Note:</span> Our working definition for CWMN is "notation in which the
requirements do not significantly extend beyond those of music of the 19th and
early 20th centuries." [Gerald Warfield, <em>Writings on
Contemporary Music Notation</em> (Ann Arbor: Music Library Association, 1976),
ii.]</p>
   <h3 class="heading settled" data-level="1.4" id="comparisons-with-other-notation-standards"><span class="secno">1.4. </span><span class="content">Comparisons with other notation standards</span><a class="self-link" href="#comparisons-with-other-notation-standards"></a></h3>
   <p>CWMNX is a lineal descendant of MusicXML, and employs many of the same
concepts. However it sacrifices some features and flexibility in favor of
tighter interoperability, and simplifies the element structure considerably.
It also moves all non-semantic information into CSS properties. The features
in GMNX have no analogue in MusicXML.</p>
   <p>MEI is a very general and expressive medium for encoding arbitrary musical
documents, with particular attention to the needs of scholars. Due to its
extreme plasticity, MEI is perhaps better described as a powerful framework
for building customized documents and applications, than as a single encoding
method. As such, interoperability has not been a main goal of MEI to date.
However there are efforts underway to define a clean MEI subset as an
interoperable medium for encoding CWMN (sometimes known as "MEI Go").</p>
   <p>IEEE 1599 is a specification that has paid unique attention to the
relationships between different layers of musical information. Its Logic layer
is similar in content to CWMNX, while its Notational, Performance and Audio
layers answer some of the same concerns as GWMNX. GMNX takes a different
approach to connecting these layers, and does not attempt to fully
unify semantic information with visual and performance data. It relies
to a greater degree on SVG, and to a lesser degree on MIDI.</p>
   <h3 class="heading settled" data-level="1.5" id="compatibility-with-musicxml"><span class="secno">1.5. </span><span class="content">Compatibility with MusicXML</span><a class="self-link" href="#compatibility-with-musicxml"></a></h3>
   <p>MNX does not attempt to be backward-compatible with MusicXML, nor is it a
superset of MusicXML. However, a large proportion of MusicXML markup is expected
to be preserved. In these examples, MusicXML constructs are used freely
throughout as a way to show how proposed new concepts dovetail with existing
ones.</p>
   <p>Backward compatibility aside, it is a goal to be able to machine-translate
MusicXML into MNX. This is essential for migration purposes.</p>
   <h3 class="heading settled" data-level="1.6" id="use-case-concordance"><span class="secno">1.6. </span><span class="content">Use case concordance</span><a class="self-link" href="#use-case-concordance"></a></h3>
   <p>A companion document details a set of <a href="../use-cases/index.html">known use cases for music notation</a>.
The use cases have links back to relevant sections of this document, where support
can be demonstrated.</p>
   <h2 class="heading settled" data-level="2" id="a-brief-example"><span class="secno">2. </span><span class="content">A brief example</span><a class="self-link" href="#a-brief-example"></a></h2>
   <p>To satisfy immediate curiosity up front, here is an MNX encoding of the
timeless song <em>Hot Cross Buns</em>, in a simple grand-staff piano arrangement.
This encoding is purely semantic, and includes no information on appearance or
interpretation.</p>
   <div style="font-size: .75em;">
<pre class="language-xml highlight"><span class="cp">&lt;?xml version="1.0" encoding="UTF-8"?></span>
<span class="nt">&lt;mnx></span>
    <span class="nt">&lt;head></span>
        <span class="nt">&lt;identification></span>
            <span class="nt">&lt;title></span>Hot Cross Buns<span class="nt">&lt;/title></span>
        <span class="nt">&lt;/identification></span>
    <span class="nt">&lt;/head></span>
    <span class="nt">&lt;score</span> <span class="na">content=</span><span class="s">"cwmn"</span><span class="nt">></span>
        <span class="nt">&lt;system></span>
            <span class="nt">&lt;measure></span>
                <span class="nt">&lt;attributes></span>
                    <span class="nt">&lt;tempo</span> <span class="na">bpm=</span><span class="s">"120"</span> <span class="na">value=</span><span class="s">"4"</span><span class="nt">/></span>
                    <span class="nt">&lt;time</span> <span class="na">signature=</span><span class="s">"4/4"</span><span class="nt">/></span>
                <span class="nt">&lt;/attributes></span>
                <span class="nt">&lt;direction</span> <span class="na">placement=</span><span class="s">"above"</span><span class="nt">></span>
                    <span class="nt">&lt;words></span>With heavy irony<span class="nt">&lt;/words></span>
                <span class="nt">&lt;/direction></span>
            <span class="nt">&lt;/measure></span>
            <span class="nt">&lt;measure/></span>
            <span class="nt">&lt;measure/></span>
            <span class="nt">&lt;measure/></span>
        <span class="nt">&lt;/system></span>
        <span class="nt">&lt;part></span>
            <span class="nt">&lt;part-name></span>Piano<span class="nt">&lt;/part-name></span>
            <span class="nt">&lt;measure></span>
                <span class="nt">&lt;attributes></span>
                    <span class="nt">&lt;staff></span>
                        <span class="nt">&lt;clef</span> <span class="na">sign=</span><span class="s">"G"</span> <span class="na">line=</span><span class="s">"2"</span><span class="nt">/></span>
                    <span class="nt">&lt;/staff></span>
                    <span class="nt">&lt;staff></span>
                        <span class="nt">&lt;clef</span> <span class="na">sign=</span><span class="s">"F"</span> <span class="na">line=</span><span class="s">"4"</span><span class="nt">/></span>
                    <span class="nt">&lt;/staff></span>
                    <span class="nt">&lt;instrument-sound></span>keyboard.piano<span class="nt">&lt;/instrument-sound></span>
                <span class="nt">&lt;/attributes></span>
                <span class="nt">&lt;sequence</span> <span class="na">staff=</span><span class="s">"1"</span><span class="nt">></span>
                    <span class="nt">&lt;direction></span>
                        <span class="nt">&lt;dynamics>&lt;f/>&lt;/dynamics></span>
                    <span class="nt">&lt;/direction></span>
                    <span class="nt">&lt;event</span> <span class="na">value=</span><span class="s">"4"</span><span class="nt">>&lt;note</span> <span class="na">pitch=</span><span class="s">"E4"</span><span class="nt">/>&lt;/event></span>
                    <span class="nt">&lt;event</span> <span class="na">value=</span><span class="s">"4"</span><span class="nt">>&lt;note</span> <span class="na">pitch=</span><span class="s">"D4"</span><span class="nt">/>&lt;/event></span>
                    <span class="nt">&lt;event</span> <span class="na">value=</span><span class="s">"2"</span><span class="nt">>&lt;note</span> <span class="na">pitch=</span><span class="s">"C4"</span><span class="nt">/>&lt;/event></span>
                <span class="nt">&lt;/sequence></span>
                <span class="nt">&lt;sequence</span> <span class="na">staff=</span><span class="s">"2"</span><span class="nt">></span>
                    <span class="nt">&lt;event</span> <span class="na">value=</span><span class="s">"2*"</span><span class="nt">>&lt;rest/>&lt;/event></span>
                    <span class="nt">&lt;direction></span>
                        <span class="nt">&lt;dynamics>&lt;p/>&lt;/dynamics></span>
                    <span class="nt">&lt;/direction></span>
                    <span class="nt">&lt;event</span> <span class="na">value=</span><span class="s">"4"</span><span class="nt">></span>
                        <span class="nt">&lt;note</span> <span class="na">pitch=</span><span class="s">"C3"</span><span class="nt">/></span>
                        <span class="nt">&lt;note</span> <span class="na">pitch=</span><span class="s">"E3"</span><span class="nt">/></span>
                        <span class="nt">&lt;note</span> <span class="na">pitch=</span><span class="s">"G3"</span><span class="nt">/></span>
                    <span class="nt">&lt;/event></span>
                <span class="nt">&lt;/sequence></span>
            <span class="nt">&lt;/measure></span>
            <span class="nt">&lt;measure></span>
                <span class="nt">&lt;sequence</span> <span class="na">staff=</span><span class="s">"1"</span><span class="nt">></span>
                    <span class="nt">&lt;event</span> <span class="na">value=</span><span class="s">"4"</span><span class="nt">>&lt;note</span> <span class="na">pitch=</span><span class="s">"E4"</span><span class="nt">/>&lt;/event></span>
                    <span class="nt">&lt;event</span> <span class="na">value=</span><span class="s">"4"</span><span class="nt">>&lt;note</span> <span class="na">pitch=</span><span class="s">"D4"</span><span class="nt">/>&lt;/event></span>
                    <span class="nt">&lt;event</span> <span class="na">value=</span><span class="s">"2"</span><span class="nt">>&lt;note</span> <span class="na">pitch=</span><span class="s">"C4"</span><span class="nt">/>&lt;/event></span>
                <span class="nt">&lt;/sequence></span>
                <span class="nt">&lt;sequence</span> <span class="na">staff=</span><span class="s">"2"</span><span class="nt">></span>
                    <span class="nt">&lt;event</span> <span class="na">value=</span><span class="s">"2*"</span><span class="nt">>&lt;rest/>&lt;/event></span>
                    <span class="nt">&lt;event</span> <span class="na">value=</span><span class="s">"4"</span><span class="nt">></span>
                        <span class="nt">&lt;note</span> <span class="na">pitch=</span><span class="s">"C3"</span><span class="nt">/></span>
                        <span class="nt">&lt;note</span> <span class="na">pitch=</span><span class="s">"E3"</span><span class="nt">/></span>
                        <span class="nt">&lt;note</span> <span class="na">pitch=</span><span class="s">"G3"</span><span class="nt">/></span>
                    <span class="nt">&lt;/event></span>
                <span class="nt">&lt;/sequence></span>
            <span class="nt">&lt;/measure></span>
            <span class="nt">&lt;measure></span>
                <span class="nt">&lt;sequence</span> <span class="na">staff=</span><span class="s">"1"</span><span class="nt">></span>
                    <span class="nt">&lt;event</span> <span class="na">value=</span><span class="s">"8"</span><span class="nt">>&lt;note</span> <span class="na">pitch=</span><span class="s">"C4"</span><span class="nt">/>&lt;/event></span>
                    <span class="nt">&lt;event</span> <span class="na">value=</span><span class="s">"8"</span><span class="nt">>&lt;note</span> <span class="na">pitch=</span><span class="s">"C4"</span><span class="nt">/>&lt;/event></span>
                    <span class="nt">&lt;event</span> <span class="na">value=</span><span class="s">"8"</span><span class="nt">>&lt;note</span> <span class="na">pitch=</span><span class="s">"C4"</span><span class="nt">/>&lt;/event></span>
                    <span class="nt">&lt;event</span> <span class="na">value=</span><span class="s">"8"</span><span class="nt">>&lt;note</span> <span class="na">pitch=</span><span class="s">"C4"</span><span class="nt">/>&lt;/event></span>
                    <span class="nt">&lt;event</span> <span class="na">value=</span><span class="s">"8"</span><span class="nt">>&lt;note</span> <span class="na">pitch=</span><span class="s">"D4"</span><span class="nt">/>&lt;/event></span>
                    <span class="nt">&lt;event</span> <span class="na">value=</span><span class="s">"8"</span><span class="nt">>&lt;note</span> <span class="na">pitch=</span><span class="s">"D4"</span><span class="nt">/>&lt;/event></span>
                    <span class="nt">&lt;event</span> <span class="na">value=</span><span class="s">"8"</span><span class="nt">>&lt;note</span> <span class="na">pitch=</span><span class="s">"D4"</span><span class="nt">/>&lt;/event></span>
                    <span class="nt">&lt;event</span> <span class="na">value=</span><span class="s">"8"</span><span class="nt">>&lt;note</span> <span class="na">pitch=</span><span class="s">"D4"</span><span class="nt">/>&lt;/event></span>
                <span class="nt">&lt;/sequence></span>
                <span class="nt">&lt;sequence</span> <span class="na">staff=</span><span class="s">"2"</span><span class="nt">></span>
                    <span class="nt">&lt;event</span> <span class="na">value=</span><span class="s">"4"</span><span class="nt">>&lt;rest/>&lt;/event></span>
                    <span class="nt">&lt;event</span> <span class="na">value=</span><span class="s">"4"</span><span class="nt">></span>
                        <span class="nt">&lt;note</span> <span class="na">pitch=</span><span class="s">"C3"</span><span class="nt">/></span>
                        <span class="nt">&lt;note</span> <span class="na">pitch=</span><span class="s">"E3"</span><span class="nt">/></span>
                        <span class="nt">&lt;note</span> <span class="na">pitch=</span><span class="s">"G3"</span><span class="nt">/></span>
                    <span class="nt">&lt;/event></span>
                    <span class="nt">&lt;event</span> <span class="na">value=</span><span class="s">"4"</span><span class="nt">>&lt;rest/>&lt;/event></span>
                    <span class="nt">&lt;event</span> <span class="na">value=</span><span class="s">"4"</span><span class="nt">></span>
                        <span class="nt">&lt;note</span> <span class="na">pitch=</span><span class="s">"G3"</span><span class="nt">/></span>
                        <span class="nt">&lt;note</span> <span class="na">pitch=</span><span class="s">"B3"</span><span class="nt">/></span>
                    <span class="nt">&lt;/event></span>
                <span class="nt">&lt;/sequence></span>
            <span class="nt">&lt;/measure></span>
            <span class="nt">&lt;measure></span>
                <span class="nt">&lt;sequence</span> <span class="na">staff=</span><span class="s">"1"</span><span class="nt">></span>
                    <span class="nt">&lt;event</span> <span class="na">value=</span><span class="s">"4"</span><span class="nt">>&lt;note</span> <span class="na">pitch=</span><span class="s">"E4"</span><span class="nt">/>&lt;/event></span>
                    <span class="nt">&lt;event</span> <span class="na">value=</span><span class="s">"4"</span><span class="nt">>&lt;note</span> <span class="na">pitch=</span><span class="s">"D4"</span><span class="nt">/>&lt;/event></span>
                    <span class="nt">&lt;event</span> <span class="na">value=</span><span class="s">"2"</span><span class="nt">>&lt;note</span> <span class="na">pitch=</span><span class="s">"C4"</span><span class="nt">/>&lt;/event></span>
                <span class="nt">&lt;/sequence></span>
                <span class="nt">&lt;sequence</span> <span class="na">staff=</span><span class="s">"2"</span><span class="nt">></span>
                    <span class="nt">&lt;event</span> <span class="na">value=</span><span class="s">"2*"</span><span class="nt">>&lt;rest/>&lt;/event></span>
                    <span class="nt">&lt;event</span> <span class="na">value=</span><span class="s">"4"</span><span class="nt">></span>
                        <span class="nt">&lt;note</span> <span class="na">pitch=</span><span class="s">"C3"</span><span class="nt">/></span>
                        <span class="nt">&lt;note</span> <span class="na">pitch=</span><span class="s">"E3"</span><span class="nt">/></span>
                        <span class="nt">&lt;note</span> <span class="na">pitch=</span><span class="s">"G3"</span><span class="nt">/></span>
                    <span class="nt">&lt;/event></span>
                <span class="nt">&lt;/sequence></span>
            <span class="nt">&lt;/measure></span>
        <span class="nt">&lt;/part></span>
    <span class="nt">&lt;/score></span>
<span class="nt">&lt;/mnx></span>
</pre>
   </div>
   <h2 class="heading settled" data-level="3" id="document-organization"><span class="secno">3. </span><span class="content">Document organization</span><a class="self-link" href="#document-organization"></a></h2>
   <p class="note" role="note"><span>Note:</span> This section applies to all content types, CWMN or otherwise.</p>
   <h3 class="heading settled" data-level="3.1" id="the-container-document"><span class="secno">3.1. </span><span class="content">The container document</span><a class="self-link" href="#the-container-document"></a></h3>
   <p>MNX documents act as general-purpose containers, which may be arbitrarily
subdivided into a hierarchy of components which collectively make up the
document as a whole.</p>
   <h4 class="heading settled" data-level="3.1.1" id="a-simple-cwmn-score"><span class="secno">3.1.1. </span><span class="content">A simple CWMN score</span><a class="self-link" href="#a-simple-cwmn-score"></a></h4>
   <p>Here’s an example of the simplest structure, where an MNX document contains a
single CWMN score. The <code><a data-link-type="element">head</a></code> element includes descriptive information,
while the <code><a data-link-type="element">score</a></code> element contains the score contents.</p>
   <p>A significant MNX-specific element occurs here: the <code><a data-link-type="element">style</a></code> element, which
includes information relevant to the document’s appearance and interpretation:</p>
<pre class="language-xml highlight"><span class="nt">&lt;mnx</span> <span class="na">xmlns=</span><span class="s">"http://www.w3.org/mnx"</span><span class="nt">></span>
    <span class="nt">&lt;head></span>
        <span class="nt">&lt;identification></span>
            <span class="nt">&lt;title></span>My Favorite Work<span class="nt">&lt;/title></span>
            <span class="nt">&lt;creator</span> <span class="na">type=</span><span class="s">"composer"</span><span class="nt">></span>Alan Smithee<span class="nt">&lt;/creator></span>
        <span class="nt">&lt;/identification></span>
        <span class="nt">&lt;style></span>
            @import url(mystyles.css);
        <span class="nt">&lt;/style></span>
    <span class="nt">&lt;/head></span>
    <span class="nt">&lt;score</span> <span class="na">content=</span><span class="s">"cwmn"</span><span class="nt">></span>
        // CWMNX score contents here...
    <span class="nt">&lt;/score></span>
<span class="nt">&lt;/mnx></span>
</pre>
   <h4 class="heading settled" data-level="3.1.2" id="a-simple-general-score"><span class="secno">3.1.2. </span><span class="content">A simple general score</span><a class="self-link" href="#a-simple-general-score"></a></h4>
   <p>The <code><a data-link-type="element">score</a></code> element can be qualified by a <code><a data-link-type="element-sub">content</a></code> attribute that
describes the encoding of the content. It defaults to <code>content="cwmn"</code> and may include values from a registry of MNX
musical content types. This example shows a score using the GMNX
type of <code>general</code>:</p>
<pre class="language-xml highlight"><span class="nt">&lt;mnx</span> <span class="na">xmlns=</span><span class="s">"http://www.w3.org/mnx"</span><span class="nt">></span>
    <span class="nt">&lt;head></span>
        <span class="nt">&lt;identification></span>
            <span class="nt">&lt;title></span>My Favorite Work<span class="nt">&lt;/title></span>
            <span class="nt">&lt;creator</span> <span class="na">type=</span><span class="s">"composer"</span><span class="nt">></span>Alan Smithee<span class="nt">&lt;/creator></span>
        <span class="nt">&lt;/identification></span>
    <span class="nt">&lt;/head></span>
    <span class="nt">&lt;score</span> <span class="na">content=</span><span class="s">"general"</span><span class="nt">></span>
        // GMNX score contents here...
    <span class="nt">&lt;/score></span>
<span class="nt">&lt;/mnx></span>
</pre>
   <p>The MNX specification will maintain a registry of recognized values for <code>content</code>.</p>
   <h4 class="heading settled" data-level="3.1.3" id="compound-mnx-documents"><span class="secno">3.1.3. </span><span class="content">Compound MNX documents</span><a class="self-link" href="#compound-mnx-documents"></a></h4>
   <p>It’s also possible to combine different representations of music in the same
MNX document by using the <code><a data-link-type="element">collection</a></code> element to combine  multiple chunks
of music into a single chunk.  Each chunk may possess a distinct encoding. <code><a data-link-type="element">collection</a></code> elements can be nested, allowing a subordinate collection to be 
embedded in a higher-level one.</p>
   <p>Metadata elements such as <code><a data-link-type="element">identification</a></code> or formatting elements like <code><a data-link-type="element">style</a></code> may be included at any level of the resulting structure, causing
them to apply them only to those parts of the document.</p>
   <p>Here’s an example that includes a hierarchy of collections and scores. (Note
that some of these could employ non-CWMN encodings as well.)</p>
<pre class="language-xml highlight"><span class="nt">&lt;mnx</span> <span class="na">xmlns=</span><span class="s">"http://www.w3.org/mnx"</span><span class="nt">></span>
    <span class="nt">&lt;head></span>
        // 
    <span class="nt">&lt;/head></span>
    <span class="nt">&lt;collection></span>
        <span class="nt">&lt;score</span> <span class="na">type=</span><span class="s">"section"</span> <span class="na">content=</span><span class="s">"cwmn"</span><span class="nt">></span>
            <span class="nt">&lt;identification></span>
                <span class="nt">&lt;title></span>Section 1<span class="nt">&lt;/title></span>
            <span class="nt">&lt;/identification></span>
            // CWMN markup...
        <span class="nt">&lt;/score></span>
        <span class="nt">&lt;collection</span> <span class="na">type=</span><span class="s">"section"</span><span class="nt">></span>
            <span class="nt">&lt;identification></span>
                <span class="nt">&lt;title></span>Section 2<span class="nt">&lt;/title></span>
            <span class="nt">&lt;/identification></span>
            <span class="nt">&lt;score</span> <span class="na">type=</span><span class="s">"movement"</span> <span class="na">content=</span><span class="s">"cwmn"</span><span class="nt">></span>
                <span class="nt">&lt;identification></span>
                    <span class="nt">&lt;title></span>Section 2, Movement 1 (for Solo Flute)<span class="nt">&lt;/title></span>
                <span class="nt">&lt;/identification></span>
                // CWMN markup...
            <span class="nt">&lt;/score></span>
            <span class="nt">&lt;score</span> <span class="na">type=</span><span class="s">"movement"</span> <span class="na">content=</span><span class="s">"cwmn"</span><span class="nt">></span>
                <span class="nt">&lt;identification></span>
                    <span class="nt">&lt;title></span>Section 2, Movement 2 (for String Orchestra)<span class="nt">&lt;/title></span>
                <span class="nt">&lt;/identification></span>
                // CWMN markup...
            <span class="nt">&lt;/score></span>
        <span class="nt">&lt;/collection></span>
    <span class="nt">&lt;/collection></span>
<span class="nt">&lt;/mnx></span>
</pre>
   <h4 class="heading settled" data-level="3.1.4" id="inclusion-by-reference"><span class="secno">3.1.4. </span><span class="content">Inclusion by reference</span><a class="self-link" href="#inclusion-by-reference"></a></h4>
   <p>The HTML <code><a data-link-type="element">link</a></code> element may be used to include a score by reference.</p>
   <h3 class="heading settled" data-level="3.2" id="profiles"><span class="secno">3.2. </span><span class="content">Profiles</span><a class="self-link" href="#profiles"></a></h3>
   <p>A <code><a data-link-type="element">score</a></code> element may employ the <code><a data-link-type="element-sub">profile</a></code> attribute to indicate
that it conforms to a particular set of expectations regarding its contents. A
registry of valid profile names for each allowed score encoding is maintained
as part of the specification.</p>
   <p>The intent of profiles is to allow programmatic validation of documents, and
to permit different levels of validation to be enforced where appropriate. 
MNX parsers may be also be constructed to specifically support certain
profiles, significantly decreasing programming effort.</p>
   <p>For the purposes of this document, the most important profile is <code>&lt;score content="cwmn" profile="standard"></code>. This profile
indicates that the <code><a data-link-type="element">score</a></code> in question conforms to a set of standard
assumptions regarding "well-formed" CWMN. Examples of such assumptions may
include:</p>
   <ul>
    <li data-md="">
     <p>All parts contain the same number of measures</p>
    <li data-md="">
     <p>The metrical content of a measure does not exceed its duration</p>
    <li data-md="">
     <p>The metrical content of a tuplet does not exceed its duration</p>
    <li data-md="">
     <p>All displayed accidentals are encoded in the document using <code><a data-link-type="element">accidental</a></code></p>
    <li data-md="">
     <p>All parts of a score agree with respect to form, time and key signatures and barring.</p>
   </ul>
   <p>This profile mechanism replaces the <code><a data-link-type="element">supports</a></code> feature of MusicXML.</p>
   <h3 class="heading settled" data-level="3.3" id="metadata-and-attribution"><span class="secno">3.3. </span><span class="content">Metadata and Attribution</span><a class="self-link" href="#metadata-and-attribution"></a></h3>
   <p>The <code><a data-link-type="element">identification</a></code> element in MNX is used to supply descriptive and
bibliographic information, as it is in MusicXML.</p>
   <p>Its contents are similar to MusicXML, but it can be included in a variety of
parent elements for greater flexibility:</p>
   <ul>
    <li data-md="">
     <p>The <code><a data-link-type="element">head</a></code> element of the document</p>
    <li data-md="">
     <p>Any <code><a data-link-type="element">score</a></code> or <code><a data-link-type="element">collection</a></code> element at any level (work, section, movement...)</p>
    <li data-md="">
     <p>Any notational element (part, measure, notes...)</p>
   </ul>
   <p>Other parent elements will no doubt make sense as the specification is
developed.</p>
   <h2 class="heading settled" data-level="4" id="cwmnx"><span class="secno">4. </span><span class="content">CWMNX: Encoding Conventional Western Music</span><a class="self-link" href="#cwmnx"></a></h2>
   <p>CWMNX is the MNX score type denoted by a <code>content</code> attribute of <code>cwmn</code>. It is
intended specifically for encoding conventional Western music notation. It is
a vehicle for representing the semantics of such musical scores, with the
ability to weave appearance and interpretation data into these semantics by
means of CSS properties.</p>
   <h3 class="heading settled" data-level="4.1" id="cwmnx-goals"><span class="secno">4.1. </span><span class="content">CWMNX Goals</span><a class="self-link" href="#cwmnx-goals"></a></h3>
   <p>CWMNX is intended to support a wide range of applications which <em>must</em> have a semantic description of music notation and which <em>may</em> make use
of appearance and performance information alongside this.</p>
   <p>Some examples of applications suited to using CWMNX include:</p>
   <ul>
    <li data-md="">
     <p>CWMN-based notation editors</p>
    <li data-md="">
     <p>CWMN readers which dynamically render or play music</p>
    <li data-md="">
     <p>tools for analysis or transformation of CWMN music</p>
    <li data-md="">
     <p>OMR applications that produce encodings of CWMN</p>
    <li data-md="">
     <p>educational applications requiring a knowledge of underlying CWMN structure</p>
   </ul>
   <h3 class="heading settled" data-level="4.2" id="cwmnx-layers"><span class="secno">4.2. </span><span class="content">CWMNX Layers</span><a class="self-link" href="#cwmnx-layers"></a></h3>
   <p>CWMNX makes a very clear distinction between the following layers of musical
information:</p>
   <ul>
    <li data-md="">
     <p><strong>Semantics</strong>, the core stratum of notational data in a CWMN work that must
inform any potential rendering of that work. CWMNX encodes all semantic
information as XML markup like <code><a data-link-type="element">measure</a></code>, <code><a data-link-type="element">note</a></code> and so on. There is no
concept of "selective encoding" in this layer: without the required core of
semantic elements, the document is not valid. See <a href="#semantic-markup">§5 CWMNX Semantic markup</a>.</p>
    <li data-md="">
     <p><strong>Appearance</strong>, a layer of visual attributes and formatting that describes how
a work appears to the reader, independent of the other two layers. Where this
layer is absent, implementations are expected to supply a default appearance based
on the semantic layer. CWMNX encodes all appearance information using CSS styles
and properties. See <a href="#styling">§6 CWMNX Styling</a> for more information.</p>
    <li data-md="">
     <p><strong>Interpretation</strong>, a layer of performance information that describes how a work
sounds to the listener, independent of the other two layers. Where this
layer is absent, implementations are expected to supply a default interpretation based
on the semantic layer. Where this layer is present, CWMNX
encodes all interpretation information in the form of CSS styles also.
See <a href="#interpretation">§7 CWMNX Interpretation</a> for more information.</p>
   </ul>
   <p>Since only the semantic layer is encoded in XML markup and the rest is CSS,
these distinctions are made very concrete. Furthermore, ambiguities arising
from combining the layers in MusicXML (such as the near-duplication of <code>tie</code> and <code>tied</code>) can disappear.</p>
   <h2 class="heading settled" data-level="5" id="semantic-markup"><span class="secno">5. </span><span class="content">CWMNX Semantic markup</span><a class="self-link" href="#semantic-markup"></a></h2>
   <p>This section describes how CWMNX treats the semantic layer of a CWMN document in
the standard profile.</p>
   <p class="note" role="note"><span>Note:</span> In most of the examples that follow, the MNX container elements are
omitted for brevity.</p>
   <h3 class="heading settled" data-level="5.1" id="score-structure"><span class="secno">5.1. </span><span class="content">Score structure</span><a class="self-link" href="#score-structure"></a></h3>
   <p>For a CWMN score, the <code><a data-link-type="element">score</a></code> element is roughly equivalent to the <code><a data-link-type="element">score-partwise</a></code> element in MusicXML. MusicXML’s <code><a data-link-type="element">score-timewise</a></code> element
is not used in CWMNX.</p>
   <h4 class="heading settled" data-level="5.1.1" id="unifying-score-part-and-part"><span class="secno">5.1.1. </span><span class="content">Unifying <code><a data-link-type="element">score-part</a></code> and <code><a data-link-type="element">part</a></code></span><a class="self-link" href="#unifying-score-part-and-part"></a></h4>
   <p>In CWMNX, the contents of the <code><a data-link-type="element">score-part</a></code> element are simply included below <code><a data-link-type="element">part</a></code>.
This leaves the <code><a data-link-type="element">part</a></code> element as the single place in the document that provides
part-related information.</p>
   <h4 class="heading settled" data-level="5.1.2" id="system-notations"><span class="secno">5.1.2. </span><span class="content">System notations</span><a class="self-link" href="#system-notations"></a></h4>
   <p>A number of notational concepts can be scoped to the entire system in a
semantic sense, not only to a single part. Examples include:</p>
   <ul>
    <li data-md="">
     <p>Key signatures</p>
    <li data-md="">
     <p>Time signatures</p>
    <li data-md="">
     <p>Tempo indications</p>
    <li data-md="">
     <p>Rehearsal marks</p>
    <li data-md="">
     <p>Barlines</p>
    <li data-md="">
     <p>System and page breaks (see <a href="#system-and-page-flow">§6.8 System and page flow</a>)</p>
    <li data-md="">
     <p>Musical form indications</p>
   </ul>
   <p>In some cases (time signatures, for example) multiple instances of a notation
are encoded separately in each MusicXML part, yet they are expected to
semantically agree across all parts. While such agreement is not necessarily
the case, it is nearly always the case. It seems desirable to allow this
agreement to be expressed in a single instance, somewhere in the document.</p>
   <p>In other cases (e.g. tempo indications) the concept typically is encoded in
the first visible MusicXML part. Yet, if the document were rendered showing
only some other part in the score, there would still be an expectation that
the tempo indications encoded in the topmost part would be shown. MusicXML
documents produced by different engravers vary widely in this respect.</p>
   <p>MNX includes a new <code><a data-link-type="element">system</a></code> element analogous to <code><a data-link-type="element">part</a></code>, which precedes all <code><a data-link-type="element">part</a></code> elements in the score. This contains <code><a data-link-type="element">measures</a></code> whose contents are
understood to apply to all parts. Parts need only include such elements to
the extent that they are overridden. No performance events like notes
or rests may be included in the measures within <code><a data-link-type="element">system</a></code>.</p>
   <p>An example CWMNX score skeleton could thus look like this:</p>
<pre class="language-xml highlight"><span class="nt">&lt;mnx</span> <span class="na">xmlns=</span><span class="s">"http://www.w3.org/mnx"</span><span class="nt">></span>
    <span class="nt">&lt;head></span>...<span class="nt">&lt;/head></span>
    <span class="nt">&lt;score</span> <span class="na">content=</span><span class="s">"cwmn"</span><span class="nt">></span>
        <span class="nt">&lt;system></span>
            // measures describing system-wide features...
        <span class="nt">&lt;/system></span>
        <span class="nt">&lt;part></span>
            // descriptive info for part 1...
            // measures describing part 1...
        <span class="nt">&lt;/part></span>
        <span class="nt">&lt;part></span>
            // descriptive info for part 2...
            // measures describing part 2...
        <span class="nt">&lt;/part></span>
        // additional parts...
    <span class="nt">&lt;/score></span>
<span class="nt">&lt;/mnx></span>
</pre>
   <h4 class="heading settled" data-level="5.1.3" id="concert-and-transposed-pitch"><span class="secno">5.1.3. </span><span class="content">Concert and transposed pitch</span><a class="self-link" href="#concert-and-transposed-pitch"></a></h4>
   <p><strong class="advisement"> TBD pending resolution of issue.</strong></p>
   <h3 class="heading settled" data-level="5.2" id="element-ids"><span class="secno">5.2. </span><span class="content">Element IDs</span><a class="self-link" href="#element-ids"></a></h3>
   <p>Any element whatsoever in MNX markup may possess a regular <code>id</code> attribute as defined for the XML namespace. References to elements form a
backbone principle of key aspects of CWMNX, for example <a href="#spanning-notations">§5.4 Spanning notations</a>.</p>
   <p>These attributes are of type <code>ID</code>, not <code>IDREF</code> and thus
fully conform to the XML standard.  Existing uses of <code>id</code> in
MusicXML that are in conflict with this usage, and which carry over to MNX,
will be renamed.</p>
   <h3 class="heading settled" data-level="5.3" id="musical-timelines"><span class="secno">5.3. </span><span class="content">Musical timelines</span><a class="self-link" href="#musical-timelines"></a></h3>
   <p>CWMNX makes use of a different element structure than MusicXML to represent
timelines of musical notations and events, always in chronological sequence.
The elements of these timelines are essentially the same as those found in
MusicXML, though. The differences are driven by the following design goals:</p>
   <ul>
    <li data-md="">
     <p>Use parent elements as containers to organize child elements that are part
of a whole (e.g. notes in a chord).</p>
    <li data-md="">
     <p>Give parent elements responsibility for expressing concepts that are
logically shared by the children (e.g. the stem shared by notes in a chord).</p>
    <li data-md="">
     <p>Wherever possible, make it impossible to encode invalid constructs.</p>
    <li data-md="">
     <p>Preserve a common-sense mapping between encodings and a "naïve engraving" of
the same music.</p>
    <li data-md="">
     <p>Eliminate the need for complex book-keeping and post-processing when
parsing measures of music.</p>
    <li data-md="">
     <p>Make it easy to alter the content of a CWMNX document using simple <a href="https://dom.spec.whatwg.org/">DOM
(Document Object Model)</a> operations such as node insertion and deletion (e.g. add a note to a chord by
simply inserting a <code><a data-link-type="element">note</a></code> element in the appropriate parent).</p>
   </ul>
   <h4 class="heading settled" data-level="5.3.1" id="specialized-encodings"><span class="secno">5.3.1. </span><span class="content">Specialized encodings</span><a class="self-link" href="#specialized-encodings"></a></h4>
   <p>For compactness and readability, CWMNX can represent concepts such as note
values, timespans and pitches as simple strings, usually encoded as XML
attributes. Compactness and readability are desirable because encodings are
documented, read and talked about, not only parsed and generated.</p>
   <p>These will be covered first, before timelines are described, since they help
make sense of the succeeding examples.</p>
   <h4 class="heading settled" data-level="5.3.2" id="note-values"><span class="secno">5.3.2. </span><span class="content">Note values</span><a class="self-link" href="#note-values"></a></h4>
   <p>There are a variety of situations in which the note value of a musical event
needs to be supplied for an element. CWMNX uses a text encoding to represent
such durations; in general, this replaces some arbitrary combination of
MusicXMLs <code><a data-link-type="element">type</a></code> and <code><a data-link-type="element">dot</a></code> elements, with no difference in semantics at
all. The values are always implicitly subject to any tuplet time modification
that may be in effect.</p>
   <p>The note value encoding scheme consists of a unit, expressed as a power-of-two
division of a whole note, similar to the denominator of a time signature, with
textual exceptions for large antique units. This may be optionally followed by
zero or more dots expressed as occurrences of the asterisk character <code>*</code>, (to
avoid confusion with a decimal point). Examples follow:</p>
   <dl>
    <dt data-md=""><code>1</code>
    <dd data-md="">
     <p>a whole note</p>
    <dt data-md=""><code>4</code>
    <dd data-md="">
     <p>a quarter note</p>
    <dt data-md=""><code>8*</code>
    <dd data-md="">
     <p>a dotted eighth note</p>
    <dt data-md=""><code>8**</code>
    <dd data-md="">
     <p>a double-dotted eighth note</p>
    <dt data-md=""><code>breve</code>
    <dd data-md="">
     <p>a breve (double whole note)</p>
    <dt data-md=""><code>breve*</code>
    <dd data-md="">
     <p>a dotted breve</p>
   </dl>
   <p>In general, the attribute name <code>value</code> is used to supply this information
for various CWMNX elements.</p>
   <div class="note" role="note">
     Note: The motivation here is to provide a terse but readable encoding which is
constrained to note values expressible within the framework of CWMN. 
    <p>While it would be possible to use full-blown rational numbers with arbitrary
denominators, this would permit the specification of arbitrary non-CMN values
and complicate validation and parsing.</p>
    <p>Retaining the more verbose MusicXML approach of separate <code><a data-link-type="element">type</a></code> and <code><a data-link-type="element">dot</a></code> elements, on the other hand, makes it harder to embed note values in other
strings such as time or position offsets.</p>
    <p>Finally, a rational number does not map cleanly onto what one sees in
notated music. This encoding attempts an obvious mapping between the semantic
layer and a naïvely notated score. Rational numbers that combine the notion of
note values, dots and tuplets into a single number would take us further from
this ideal.</p>
   </div>
   <h4 class="heading settled" data-level="5.3.3" id="metrical-timespans"><span class="secno">5.3.3. </span><span class="content">Metrical timespans</span><a class="self-link" href="#metrical-timespans"></a></h4>
   <p>There are also situations in which a <em>metrical timespan</em> needs to be supplied,
as an exact multiple of a note value. There is no exact corresponding
construct in MusicXML.</p>
   <p>A metrical timespan is very similar to a time signature, but more general. It
is encoded as an integer, followed by <code>/</code> and a note value encoding. This
specifies a timespan equal to the given number of note value units. Metrical
timespans are used in CWMNX to represent time intervals which must be
constrained to exact note value multiples, such as note positions relative
to the origin of a containing sequence.</p>
   <p>Examples:</p>
   <dl>
    <dt data-md=""><code>3/4</code>
    <dd data-md="">
     <p>three quarter notes</p>
    <dt data-md=""><code>3/8*</code>
    <dd data-md="">
     <p>three dotted eighth notes (this form can be useful for specification of <a href="#tuplets">§5.3.13 Tuplets</a>)</p>
    <dt data-md=""><code>9/16</code>
    <dd data-md="">
     <p>the same timespan as above, only expressed in sixteenth note units</p>
   </dl>
   <p>Like an individual note value, a metrical timespan is always subject to any
contextual time modification due to tuplets. For example, inside an 8-th note
triplet, the timespan <code>1/8</code> refers to an eighth-note triplet.</p>
   <h4 class="heading settled" data-level="5.3.4" id="general-timespans"><span class="secno">5.3.4. </span><span class="content">General timespans</span><a class="self-link" href="#general-timespans"></a></h4>
   <p>MNX has a less constrained notion of a <em>general timespan</em> which is used in
situations where no constraint to an exact note value multiple is desired.</p>
   <p>General timespans are encoded as a real number followed by one of the following
suffixes.</p>
   <dl>
    <dt data-md=""><code>/</code><em>note-value</em>
    <dd data-md="">
     <p>displacement based on contextual time within the containing measure or tuplet.</p>
    <dt data-md=""><code>//</code><em>note-value</em>
    <dd data-md="">
     <p>displacement based on measure-level time, <em>disregarding any containing tuplets</em>.</p>
    <dt data-md=""><code>t</code>
    <dd data-md="">
     <p>MIDI ticks (1/960 of a measure-level quarter note)</p>
   </dl>
   <p>Arbitrary denominators may also be used in general timespans.</p>
   <p>Examples:</p>
   <dl>
    <dt data-md=""><code>1/8</code>
    <dd data-md="">
     <p>a contextual eighth note</p>
    <dt data-md=""><code>1//8</code>
    <dd data-md="">
     <p>a measure-level eighth note</p>
    <dt data-md=""><code>480t</code>
    <dd data-md="">
     <p>also a measure-level eighth note</p>
    <dt data-md=""><code>490t</code>
    <dd data-md="">
     <p>10 ticks longer than a measure-level eighth note</p>
    <dt data-md=""><code>2.42//4</code>
    <dd data-md="">
     <p>2.42 measure-level quarter notes</p>
    <dt data-md=""><code>1/12</code>
    <dd data-md="">
     <p>a triplet 8th note (1/3 of a quarter note)</p>
   </dl>
   <p class="note" role="note"><span>Note:</span> This concept replaces the MusicXML notion of <code>divisions</code> (and is
capable of expressing arbitrary divisions if so desired).</p>
   <h4 class="heading settled" data-level="5.3.5" id="positions-and-timespans"><span class="secno">5.3.5. </span><span class="content">Positions and timespans</span><a class="self-link" href="#positions-and-timespans"></a></h4>
   <p>Any timespan can also express a <em>position</em> within a sequence or tuplet. In these
cases, the timespan has the meaning of "timespan from some origin". Just as
there are metrical and general timespans, so are there metrical and general
positions.</p>
   <p>Positions expressed as timespans using contextual note values (e.g. <code>3/8</code>),
are always relative to the start of the containing sequence or tuplet.
Positions expressed in terms of measure-level note values (<code>3//8</code>) are always
relative to the start of the containing measure.</p>
   <h4 class="heading settled" data-level="5.3.6" id="sequences"><span class="secno">5.3.6. </span><span class="content">Sequences</span><a class="self-link" href="#sequences"></a></h4>
   <p>The <code><a data-link-type="element">sequence</a></code> element represents an independent sequential timeline within
a measure. A <code><a data-link-type="element">measure</a></code> can have any number of timelines within it.</p>
   <p>Each <code><a data-link-type="element">sequence</a></code> child of the measure orders its child elements in
chronological sequence, starting from the beginning of the measure. These may
include such elements as rests, nodes, chords, performance directions,
barlines, clefs, and so forth. They also may include tuplets, which effectively
act as nested sequences.</p>
   <p>Its children may be of these kinds:</p>
   <ul>
    <li data-md="">
     <p><em>event</em> children are notes or rests which possess a specific note value
and occupy the corresponding timespan within the sequence.
Events may not overlap, and they must occur at <em>metrical positions</em> within their containing elements.</p>
    <li data-md="">
     <p><em>direction</em> children are elements that occupy a zero timespan
within the sequence (although they have visual extent).
Directions are allowed to temporally overlap any other elements, and may occur at <em>general positions</em>.</p>
    <li data-md="">
     <p><em>tuplet</em> children are sub-sequences that apply a time modification ratio
to their children, which in turn may be nested events, directions or tuplets.
Like events, they must occur at <em>metrical positions</em>.</p>
   </ul>
   <p>Here’s an example measure that shows several key aspects of sequences. In the
first <code><a data-link-type="element">sequence</a></code> there are two direction elements, separated by a half-note
gap in metrical time. There are also two independent melodic voices
represented by <code><a data-link-type="element">sequence</a></code> elements. The second voice includes an 8th-note
triplet.</p>
<pre class="language-xml highlight"><span class="nt">&lt;measure></span>
    <span class="nt">&lt;sequence></span>
        <span class="nt">&lt;direction></span>...<span class="nt">&lt;/direction></span>
        <span class="nt">&lt;direction</span> <span class="na">position=</span><span class="s">"2/4"</span><span class="nt">></span>...<span class="nt">&lt;/direction></span>
    <span class="nt">&lt;/sequence></span>
    <span class="nt">&lt;sequence></span>
        <span class="nt">&lt;event</span> <span class="na">value=</span><span class="s">"2"</span><span class="nt">></span>...<span class="nt">&lt;/event></span>
        <span class="nt">&lt;event</span> <span class="na">value=</span><span class="s">"4"</span><span class="nt">></span>...<span class="nt">&lt;/event></span>
        <span class="nt">&lt;direction></span>...<span class="nt">&lt;/direction></span>
        <span class="nt">&lt;event</span> <span class="na">value=</span><span class="s">"4"</span><span class="nt">></span>...<span class="nt">&lt;/event></span>
    <span class="nt">&lt;/sequence></span>
    <span class="nt">&lt;sequence></span>
        <span class="nt">&lt;event</span> <span class="na">value=</span><span class="s">"2*"</span><span class="nt">></span>...<span class="nt">&lt;/event></span>
        <span class="nt">&lt;tuplet</span> <span class="na">actual=</span><span class="s">"3/8"</span> <span class="na">normal=</span><span class="s">"1/4"</span><span class="nt">></span>
            <span class="nt">&lt;event</span> <span class="na">value=</span><span class="s">"8"</span><span class="nt">></span>...<span class="nt">&lt;/event></span>
            <span class="nt">&lt;event</span> <span class="na">value=</span><span class="s">"8"</span><span class="nt">></span>...<span class="nt">&lt;/event></span>
            <span class="nt">&lt;event</span> <span class="na">value=</span><span class="s">"8"</span><span class="nt">></span>...<span class="nt">&lt;/event></span>
        <span class="nt">&lt;/tuplet></span>
    <span class="nt">&lt;/sequence></span>
<span class="nt">&lt;/measure></span>
</pre>
   <p>The optional <code><a data-link-type="element-sub">orientation</a></code> attribute may assume the values <code>up</code> or <code>down</code>, affecting the default placement of stems, articulations,
ornaments and other voice-specific objects within a sequence.</p>
   <p>The optional <code>staff</code> attribute may furthermore default the staff assignment
of all events within the voice for a given <code><a data-link-type="element">sequence</a></code>. This may be selectively
overridden within the sequence, of course. For example, consider these
4 sequences set up for an SATB-style grand staff:</p>
<pre class="language-xml highlight"><span class="nt">&lt;measure></span>
    <span class="nt">&lt;sequence</span> <span class="na">orientation=</span><span class="s">"up"</span> <span class="na">staff=</span><span class="s">"1"</span><span class="nt">></span>...<span class="nt">&lt;/sequence></span>
    <span class="nt">&lt;sequence</span> <span class="na">orientation=</span><span class="s">"down"</span> <span class="na">staff=</span><span class="s">"1"</span><span class="nt">></span>...<span class="nt">&lt;/sequence></span>
    <span class="nt">&lt;sequence</span> <span class="na">orientation=</span><span class="s">"up"</span> <span class="na">staff=</span><span class="s">"2"</span><span class="nt">></span>...<span class="nt">&lt;/sequence></span>
    <span class="nt">&lt;sequence</span> <span class="na">orientation=</span><span class="s">"down"</span> <span class="na">staff=</span><span class="s">"2"</span><span class="nt">></span>...<span class="nt">&lt;/sequence></span>
<span class="nt">&lt;/measure></span>
</pre>
   <p>Unlike the MusicXML <code><a data-link-type="element">voice</a></code> element, the CWMNX <code><a data-link-type="element">sequence</a></code> element need not
possess a number or any other label. It can, however, be assigned a label via
the optional <code><a data-link-type="element-sub">name</a></code> attribute that declares continuity between
identically named/numbered sequences in successive measures of the same part.</p>
   <h4 class="heading settled" data-level="5.3.7" id="the-sequence-cursor"><span class="secno">5.3.7. </span><span class="content">The sequence cursor</span><a class="self-link" href="#the-sequence-cursor"></a></h4>
   <p>Elements of a sequence can be assigned an explicit position, but need not be.
In the absence of an explicit <code>position</code> attribute on an event, direction, or
tuplet, the current value of the <em>sequence cursor</em> is used.</p>
   <p>In the <code>standard</code> profile, the start tag of an <code><a data-link-type="element">event</a></code> or <code><a data-link-type="element">tuplet</a></code> element
assigns the temporal start point of that element to the sequence cursor; the
end tag of the element assigns the element’s temporal end point to the cursor.</p>
   <p>Direction elements have no effect on the sequence cursor.</p>
   <p>There are two motivations for the cursor:</p>
   <ul>
    <li data-md="">
     <p>to permit a terse and straightforward
encoding of music wherever events and directions assume standard metrical
positions.</p>
    <li data-md="">
     <p>to afford encoding of music which uses standard note values, but not any standard interpretation
of event positions</p>
   </ul>
   <p>Significant constraints distinguish CWMNX’s sequence cursor from MusicXML:</p>
   <ul>
    <li data-md="">
     <p>The cursor must progress in a forward direction</p>
    <li data-md="">
     <p>The cursor only progresses in units that are expressible in CMN (rather than any number of divisions)</p>
    <li data-md="">
     <p>Events within the cursor’s timeline always belong to the same polyphonic voice or "layer"</p>
    <li data-md="">
     <p>Events cannot temporally overlap (and all notes within an event are simultaneous)</p>
   </ul>
   <h4 class="heading settled" data-level="5.3.8" id="explicit-positions"><span class="secno">5.3.8. </span><span class="content">Explicit positions</span><a class="self-link" href="#explicit-positions"></a></h4>
   <p>It’s also possible to use a <code>position</code> attribute for any element of a
sequence.</p>
   <p>This is most useful for directions.  Directions may specify a <em>general
position</em> since their positions are not constrained by CMN rules.</p>
   <p>It is also possible for events to take an explicit <em>metrical position</em>.</p>
   <p>MNX prohibits the use of out-of-order elements within a sequence or tuplet element.
While cursor-based positioning can’t violate this constraint, explicit positions
can, so care must be taken to sort elements properly when encoding.</p>
   <p>Here is the prior example from <a href="#sequences">§5.3.6 Sequences</a>, recast with the use of
a <code>position</code> attribute relative to the containing measure or tuplet.</p>
<pre class="language-xml highlight"><span class="nt">&lt;measure></span>
    <span class="nt">&lt;sequence></span>
        <span class="nt">&lt;direction></span>...<span class="nt">&lt;/direction></span>
        <span class="nt">&lt;direction</span> <span class="na">position=</span><span class="s">"100t"</span><span class="nt">></span>...<span class="nt">&lt;/direction></span>
    <span class="nt">&lt;/sequence></span>
    <span class="nt">&lt;sequence></span>
        <span class="nt">&lt;event</span> <span class="na">value=</span><span class="s">"2"</span><span class="nt">></span>...<span class="nt">&lt;/event></span>
        <span class="nt">&lt;direction</span> <span class="na">position=</span><span class="s">"2/4"</span><span class="nt">></span>...<span class="nt">&lt;/direction></span>
        <span class="nt">&lt;event</span> <span class="na">position=</span><span class="s">"2/4"</span> <span class="na">value=</span><span class="s">"4"</span><span class="nt">></span>...<span class="nt">&lt;/event></span>
        <span class="nt">&lt;event</span> <span class="na">position=</span><span class="s">"3/4"</span> <span class="na">value=</span><span class="s">"4"</span><span class="nt">></span>...<span class="nt">&lt;/event></span>
    <span class="nt">&lt;/sequence></span>
    <span class="nt">&lt;sequence></span>
        <span class="nt">&lt;event</span> <span class="na">value=</span><span class="s">"2*"</span><span class="nt">></span>...<span class="nt">&lt;/event></span>
        <span class="nt">&lt;tuplet</span> <span class="na">position=</span><span class="s">"3/4"</span> <span class="na">actual=</span><span class="s">"3/8"</span> <span class="na">normal=</span><span class="s">"1/4"</span><span class="nt">></span>
            <span class="nt">&lt;event</span> <span class="na">value=</span><span class="s">"8"</span><span class="nt">></span>...<span class="nt">&lt;/event></span>
            <span class="nt">&lt;event</span> <span class="na">position=</span><span class="s">"1/8"</span> <span class="na">value=</span><span class="s">"8"</span><span class="nt">></span>...<span class="nt">&lt;/event></span>
            <span class="nt">&lt;event</span> <span class="na">position=</span><span class="s">"2/8"</span> <span class="na">value=</span><span class="s">"8"</span><span class="nt">></span>...<span class="nt">&lt;/event></span>
        <span class="nt">&lt;/tuplet></span>
    <span class="nt">&lt;/sequence></span>
<span class="nt">&lt;/measure></span>
</pre>
   <h4 class="heading settled" data-level="5.3.9" id="spaces"><span class="secno">5.3.9. </span><span class="content">Spaces</span><a class="self-link" href="#spaces"></a></h4>
   <p>A <code><a data-link-type="element">space</a></code> is a way of specifying a metrical time interval that does not
contain any notation. CWMNX uses <code><a data-link-type="element">space</a></code> elements to explicitly represent such
gaps. (In MusicXML, these gaps were often created using the <code><a data-link-type="element">forward</a></code> and <code><a data-link-type="element">backward</a></code> elements or with hidden rests, and could only be determined after
complete parsing of a measure’s contents.)</p>
   <p>Because of the use of the <code><a data-link-type="element">sequence</a></code> element to organize notations in
chronological sequence, and because non-notated gaps within a sequence can be
explicitly represented, CWMNX does not need MusicXML’s <code><a data-link-type="element">forward</a></code> and <code><a data-link-type="element">backward</a></code> elements. Instead, <code><a data-link-type="element">space</a></code> serves the purpose of <code><a data-link-type="element">forward</a></code>,
while picking up a few additional useful characteristics. The contents of a
sequence can always be expressed as a sequence of contiguous elements starting
at the beginning of the measure and proceeding forward in metrical time.</p>
   <p>Accordingly, the concept of <code>divisions</code> also becomes
unnecessary in CWMNX. To the extent that arbitrary durations are needed, they
can always be expressed as multiples of some normal musical time unit.
(See <a href="#tuplets">§5.3.13 Tuplets</a> for more information on how spaces work
to take up space in tuplets -- divisions aren’t needed here either.)</p>
   <p>A <code><a data-link-type="element">space</a></code> takes a <code>length</code> attribute to specify its metrical duration (see <a href="#metrical-timespans">§5.3.3 Metrical timespans</a>):</p>
<pre class="language-xml highlight"><span class="nt">&lt;space</span> <span class="na">length=</span><span class="s">"4*"</span><span class="nt">/></span>
</pre>
   <p>The following space is equivalent to 5 eighth notes:</p>
<pre class="language-xml highlight"><span class="nt">&lt;space</span> <span class="na">length=</span><span class="s">"5/8"</span><span class="nt">/></span>
</pre>
   <p>And so is this one:</p>
<pre class="language-xml highlight"><span class="nt">&lt;space</span> <span class="na">length=</span><span class="s">"2.5/4"</span><span class="nt">/></span>
</pre>
   <p>Spaces are useful for causing a non-metrical notation like text to appear at a certain
metrically anchored place within a measure. For example, the following causes text
to be anchored at a point one quarter note into the given measure:</p>
<pre class="language-xml highlight"><span class="nt">&lt;measure></span>
  <span class="nt">&lt;sequence></span>
      <span class="nt">&lt;space</span> <span class="na">length=</span><span class="s">"4"</span><span class="nt">/></span>
      <span class="nt">&lt;direction</span> <span class="na">placement=</span><span class="s">"above"</span><span class="nt">></span>
        <span class="nt">&lt;direction-type></span>
          <span class="nt">&lt;words></span>And then...<span class="nt">&lt;/words></span>
        <span class="nt">&lt;/direction-type></span>
      <span class="nt">&lt;/direction></span>
  <span class="nt">&lt;/sequence></span>
<span class="nt">&lt;/measure></span>
</pre>
   <h4 class="heading settled" data-level="5.3.10" id="pitch-encoding"><span class="secno">5.3.10. </span><span class="content">Pitch encoding</span><a class="self-link" href="#pitch-encoding"></a></h4>
   <p>CWMNX introduces a text encoding of pitches, which represents a combination of
MusicXML’s <code><a data-link-type="element">step</a></code>, <code><a data-link-type="element">octave</a></code> and <code><a data-link-type="element">alter</a></code> elements. This is done to
address issues of readability and compactness in MusicXML and makes no
semantic difference.</p>
   <p>The format consists of a MusicXML <code>step</code>, followed optionally by 0..2
occurrences of <code>#</code> or <code>b</code> representing an integer alteration, followed by a MusicXML <code>octave</code>.
An additional, non-integer alteration may be added to the preceding integral amount
by including the suffix <code>+</code> or <code>-</code>, followed by a real-valued number of semitones.</p>
   <p>As with MusicXML <code>alter</code> values, any occurrences of <code>#</code> or <code>b</code> do not imply
rendering of accidentals on some associated element. These remain specified by
an <code>accidental</code> value, if provided.</p>
   <p>Examples:</p>
   <dl>
    <dt data-md=""><code>C4</code>
    <dd data-md="">
     <p>Middle C</p>
    <dt data-md=""><code>C#4</code>
    <dd data-md="">
     <p>The pitch one semitone above middle C</p>
    <dt data-md=""><code>Db4</code>
    <dd data-md="">
     <p>The pitch one semitone above middle C (identical to the above)</p>
    <dt data-md=""><code>C4+0.5</code>
    <dd data-md="">
     <p>The pitch one quarter-tone above middle C</p>
    <dt data-md=""><code>B3+1.5</code>
    <dd data-md="">
     <p>The pitch one quarter-tone above middle C (identical to the above)</p>
    <dt data-md=""><code>C#4-0.5</code>
    <dd data-md="">
     <p>The pitch one quarter-tone above middle C (identical to the above)</p>
   </dl>
   <p>The <code>pitch</code> attribute is used to supply pitch encodings where appropriate, typically
for <code><a data-link-type="element">note</a></code> elements.</p>
   <p>Pitch encodings are used also in <a href="#interpretation">§7 CWMNX Interpretation</a>.</p>
   <h4 class="heading settled" data-level="5.3.11" id="events"><span class="secno">5.3.11. </span><span class="content">Events</span><a class="self-link" href="#events"></a></h4>
   <p>The new CWMNX element <code><a data-link-type="element">event</a></code> represents the related concepts of rest, note
or chord depending on its contents. It supplies information that is common to
all three:</p>
   <ul>
    <li data-md="">
     <p>event duration, expressed in terms of note value and dot count</p>
    <li data-md="">
     <p>stem orientation, length, etc. if applicable</p>
    <li data-md="">
     <p>flag and beam description</p>
    <li data-md="">
     <p>articulations or directions that apply to all contained notes</p>
    <li data-md="">
     <p>styling data (e.g. horizontal displacement)</p>
    <li data-md="">
     <p>grace/cue markers</p>
    <li data-md="">
     <p>lyrics</p>
    <li data-md="">
     <p>slurs and other event-oriented <a href="#spanning-notations">§5.4 Spanning notations</a></p>
   </ul>
   <p>Here’s a middle C as a dotted half note.</p>
<pre class="language-xml highlight"><span class="nt">&lt;event</span> <span class="na">value=</span><span class="s">"2*"</span><span class="nt">></span>
  <span class="nt">&lt;stem></span>up<span class="nt">&lt;/stem></span>
  <span class="nt">&lt;note</span> <span class="na">pitch=</span><span class="s">"C4"</span><span class="nt">/></span>
<span class="nt">&lt;/event></span>
</pre>
   <p>Here’s a C major triad as an eighth note:</p>
<pre class="language-xml highlight"><span class="nt">&lt;event</span> <span class="na">value=</span><span class="s">"8"</span><span class="nt">></span>
  <span class="nt">&lt;stem></span>up<span class="nt">&lt;/stem></span>
  <span class="nt">&lt;note</span> <span class="na">pitch=</span><span class="s">"C4"</span><span class="nt">/></span>
  <span class="nt">&lt;note</span> <span class="na">pitch=</span><span class="s">"E4"</span><span class="nt">/></span>
  <span class="nt">&lt;note</span> <span class="na">pitch=</span><span class="s">"G4"</span><span class="nt">/></span>
<span class="nt">&lt;/event></span>
</pre>
   <p>Here’s a whole note rest:</p>
<pre class="language-xml highlight"><span class="nt">&lt;event</span> <span class="na">value=</span><span class="s">"1"</span><span class="nt">></span>
  <span class="nt">&lt;rest/></span>
<span class="nt">&lt;/event></span>
</pre>
   <p>And a grace note chord; the <code>grace</code> attribute belongs to the <code><a data-link-type="element">event</a></code>.</p>
<pre class="language-xml highlight"><span class="nt">&lt;event</span> <span class="na">value=</span><span class="s">"8"</span> <span class="na">grace=</span><span class="s">"true"</span><span class="nt">></span>
  <span class="nt">&lt;stem></span>up<span class="nt">&lt;/stem></span>
  <span class="nt">&lt;note</span> <span class="na">pitch=</span><span class="s">"C4"</span><span class="nt">/></span>
  <span class="nt">&lt;note</span> <span class="na">pitch=</span><span class="s">"E4"</span><span class="nt">/></span>
  <span class="nt">&lt;note</span> <span class="na">pitch=</span><span class="s">"G4"</span><span class="nt">/></span>
<span class="nt">&lt;/event></span>
</pre>
   <p class="note" role="note"><span>Note:</span> grace notes do not advance the sequence cursor.</p>
   <p>As one special case, the following event encodes a <em>whole-measure</em> rest.
Note that the <code>type</code> attribute is used to indicate this, rather than <code>value</code>:</p>
<pre class="language-xml highlight"><span class="nt">&lt;event</span> <span class="na">type=</span><span class="s">"measure"</span><span class="nt">></span>
  <span class="nt">&lt;rest/></span>
<span class="nt">&lt;/event></span>
</pre>
   <h4 class="heading settled" data-level="5.3.12" id="directions"><span class="secno">5.3.12. </span><span class="content">Directions</span><a class="self-link" href="#directions"></a></h4>
   <p>The CWMNX <code><a data-link-type="element">direction</a></code> element carries over the features of the MusicXML <code><a data-link-type="element">direction</a></code> element.</p>
   <p>This proposal does not yet attempt to examine how CWMNX directions will work in
detail or how they differ from MusicXML directions.</p>
   <p>CWMNX is, however, expected to include strong semantic types for different
musical purposes of text. Dynamics, tempo markings, lyrics, playing
instructions/techniques, etc. will all have proper types and may be freely
included in <code><a data-link-type="element">sequence</a></code> and <code><a data-link-type="element">event</a></code> elements.</p>
   <h4 class="heading settled" data-level="5.3.13" id="tuplets"><span class="secno">5.3.13. </span><span class="content">Tuplets</span><a class="self-link" href="#tuplets"></a></h4>
   <p>In CWMNX, the <code><a data-link-type="element">tuplet</a></code> element applies a time modification to all of its child
elements, which are the same as those allowed in <code><a data-link-type="element">sequence</a></code>. In fact, <code><a data-link-type="element">tuplet</a></code> is very much like a nested <code><a data-link-type="element">sequence</a></code> element, with an implicit
time signature representing the notated duration inside the tuplet. It
functions just like an <code><a data-link-type="element">event</a></code> element, in that it takes up a known duration
within its parent, and is not allowed to overlap with other <code><a data-link-type="element">event</a></code> or <code><a data-link-type="element">tuplet</a></code> elements.</p>
   <p>A <code><a data-link-type="element">tuplet</a></code> uses the two attributes <code>actual</code> and <code>normal</code> making use of <a href="#metrical-timespans">§5.3.3 Metrical timespans</a> to represent the tuplet ratio.
It thus combines the function of MusicXML’s <code><a data-link-type="element">tuplet</a></code> and <code><a data-link-type="element">time-modification</a></code> elements into a single construct: the contained elements are automatically
subject to time modification, and CSS styling can control the appearance of
the tuplet.</p>
   <p>Numerals and brackets may or may not be shown in conjunction with a <code><a data-link-type="element">tuplet</a></code>, by using the relevant MusicXML attributes which carry over into CWMNX.</p>
   <p>Here’s an example of an eighth-note triplet:</p>
<pre class="language-xml highlight"><span class="nt">&lt;sequence></span>
    // preceding events in sequence...
    <span class="nt">&lt;tuplet</span> <span class="na">actual=</span><span class="s">"3/8"</span> <span class="na">normal=</span><span class="s">"1/4"</span><span class="nt">></span>
        <span class="nt">&lt;event</span> <span class="na">value=</span><span class="s">"8"</span><span class="nt">></span>
            <span class="nt">&lt;note></span>...<span class="nt">&lt;/note></span>
        <span class="nt">&lt;/event></span>
        <span class="nt">&lt;event</span> <span class="na">value=</span><span class="s">"8"</span><span class="nt">></span>
            <span class="nt">&lt;note></span>...<span class="nt">&lt;/note></span>
        <span class="nt">&lt;/event></span>
        <span class="nt">&lt;event</span> <span class="na">value=</span><span class="s">"8"</span><span class="nt">></span>
            <span class="nt">&lt;note></span>...<span class="nt">&lt;/note></span>
        <span class="nt">&lt;/event></span>
    <span class="nt">&lt;/tuplet></span>
    // remaining events in sequence...
<span class="nt">&lt;/sequence></span>
</pre>
   <p>(The tag <code>&lt;tuplet actual="3/8" normal="2/8">...&lt;/tuplet></code> would work exactly the same. There
is no semantic difference.)</p>
   <p>One can include directions in tuplets as well. And, naturally, tuplets
may be included within tuplets.</p>
   <p>Other examples of tuplets:</p>
<pre class="language-xml highlight"><span class="nt">&lt;tuplet</span> <span class="na">actual=</span><span class="s">"5/8"</span> <span class="na">normal=</span><span class="s">"11/16"</span><span class="nt">></span>
    // a tuplet that displays 5 eighth notes in the space of 11 sixteenths...
<span class="nt">&lt;/tuplet></span>
</pre>
<pre class="language-xml highlight"><span class="nt">&lt;tuplet</span> <span class="na">actual=</span><span class="s">"7/8*"</span> <span class="na">normal=</span><span class="s">"4/4*"</span><span class="nt">></span>
    // a tuplet that displays 7 dotted eighth notes in the space of 4 dotted quarters...
<span class="nt">&lt;/tuplet></span>
</pre>
   <h3 class="heading settled" data-level="5.4" id="spanning-notations"><span class="secno">5.4. </span><span class="content">Spanning notations</span><a class="self-link" href="#spanning-notations"></a></h3>
   <p>Many notations occupy an arbitrary span of time in a score, across
some number of measures in a given part. Some examples are:</p>
   <ul>
    <li data-md="">
     <p>slurs</p>
    <li data-md="">
     <p>dynamic wedges (hairpins)</p>
    <li data-md="">
     <p>8va lines</p>
    <li data-md="">
     <p>performance directions like <em>cresc. poco a poco</em></p>
   </ul>
   <p>Essentially all the elements described by a combination
of MusicXML’s <code>number="N"</code> and <code>type="start|stop"</code> fall into
this category. (Some of these are considered <code><a data-link-type="element">notations</a></code> in MusicXML and
others are considered <code><a data-link-type="element">direction-type</a></code>s. We won’t deal with this
classification problem yet.)</p>
   <p>In CWMNX, the preferred way to describe such <em>spanning notations</em> is in
terms of a <em>start element</em> and an <em>stop element</em>. These elements
may be any element that occurs inside a <code><a data-link-type="element">sequence</a></code>.</p>
   <p>The start element of a spanning notation is specified by including the span
directly in the start element as a child. The stop element is specified via an <code>end-ref</code> attribute on the span that supplies the stop element’s ID. Thus,
spanning notations "point to" the notation where they will end. This is different
from MusicXML, in which the stop point refers back to the spanning notation’s
number.</p>
   <p>Thus there is no use of MusicXML’s <code>number=N</code> or <code>type="start"</code> and <code>type="stop"</code> attributes.</p>
   <p>Here’s an example, showing a slur that connects two non-adjacent chords in the
same measure (the situation is very similar for events in different measures):</p>
<pre class="language-xml highlight"><span class="nt">&lt;measure></span>
    <span class="nt">&lt;sequence></span>
        <span class="nt">&lt;event</span> <span class="na">value=</span><span class="s">"4"</span><span class="nt">></span>
            <span class="nt">&lt;note</span> <span class="na">pitch=</span><span class="s">"C5"</span><span class="nt">/></span>
            <span class="nt">&lt;note</span> <span class="na">pitch=</span><span class="s">"Eb5"</span><span class="nt">/></span>
            <span class="nt">&lt;slur</span> <span class="na">end-ref=</span><span class="s">"a1"</span><span class="nt">/></span>
        <span class="nt">&lt;/event></span>
        <span class="nt">&lt;event</span> <span class="na">value=</span><span class="s">"4"</span><span class="nt">></span>
            <span class="nt">&lt;note</span> <span class="na">pitch=</span><span class="s">"D5"</span><span class="nt">/></span>
        <span class="nt">&lt;/event></span>
        <span class="nt">&lt;event</span> <span class="na">id=</span><span class="s">"a1"</span> <span class="na">value=</span><span class="s">"4"</span><span class="nt">></span>
            <span class="nt">&lt;note</span> <span class="na">pitch=</span><span class="s">"Db5"</span><span class="nt">/></span>
        <span class="nt">&lt;/event></span>
    <span class="nt">&lt;/sequence></span>
<span class="nt">&lt;/measure></span>
</pre>
   <p>An alternate means of supplying spanning notations is also allowed, in which
the endpoints of the span are specified positionally. This technique does not depend on
any start or stop element: the spanning notation is simply included in a sequence,
and its <code>length</code> attribute supplies its overall length in the score.</p>
<pre class="language-xml highlight"><span class="nt">&lt;measure></span>
    <span class="nt">&lt;sequence></span>
        <span class="nt">&lt;slur</span> <span class="na">length=</span><span class="s">"2/4"</span><span class="nt">/></span>
        <span class="nt">&lt;event</span> <span class="na">value=</span><span class="s">"4"</span><span class="nt">></span>
            <span class="nt">&lt;note</span> <span class="na">pitch=</span><span class="s">"C5"</span><span class="nt">/></span>
            <span class="nt">&lt;note</span> <span class="na">pitch=</span><span class="s">"Eb5"</span><span class="nt">/></span>
        <span class="nt">&lt;/event></span>
        <span class="nt">&lt;event</span> <span class="na">value=</span><span class="s">"4"</span><span class="nt">></span>
            <span class="nt">&lt;note</span> <span class="na">pitch=</span><span class="s">"D5"</span><span class="nt">/></span>
        <span class="nt">&lt;/event></span>
        <span class="nt">&lt;event</span> <span class="na">value=</span><span class="s">"4"</span><span class="nt">></span>
            <span class="nt">&lt;note</span> <span class="na">pitch=</span><span class="s">"Db5"</span><span class="nt">/></span>
        <span class="nt">&lt;/event></span>
    <span class="nt">&lt;/sequence></span>
<span class="nt">&lt;/measure></span>
</pre>
   <h3 class="heading settled" data-level="5.5" id="pagination-credits-and-page-level-text"><span class="secno">5.5. </span><span class="content">Pagination, credits and page-level text</span><a class="self-link" href="#pagination-credits-and-page-level-text"></a></h3>
   <p>(TBD)</p>
   <p>We need to study the CSS specification as it is currently evolving to
represent pagination to meet the needs of digital publishing overall, not only
music publishing.</p>
   <p>MusicXML’s page-level elements such as <code><a data-link-type="element">credit-words</a></code> and others need to be
reconsidered in light of this evolution. There is currently a tension in the
existing corpus of MusicXML documents between the use of explicitly placed <code><a data-link-type="element">credit</a></code> elements and the metadata found in the <code><a data-link-type="element">identification</a></code> element.</p>
   <h3 class="heading settled" data-level="5.6" id="semantic-layout-overrides"><span class="secno">5.6. </span><span class="content">Semantic layout overrides</span><a class="self-link" href="#semantic-layout-overrides"></a></h3>
   <p>The CWMN canon has many examples of notation in which notes do not add up
metrically to yield the duration of a measure or tuplet, or in which notes in one
voices align with notes in another, in spite of the dissimilar points in time
at which they would appear to be specified by their notated duration.</p>
   <p>CWMNX addresses these problems by allowing any <code><a data-link-type="element">event</a></code> to optionally specify
either or both of the following:</p>
   <ul>
    <li data-md="">
     <p>render this event using the visual conventions for an arbitrary duration
(e.g. render notehead, stem and flag/beam as for
a sixteenth-note, although the note occupies an eighth-note
duration within its timeline). An <code>appearance</code> attribute
may be used to supply the visually rendered note or rest value
for any given <code><a data-link-type="element">event</a></code>. For example, a note that is positioned and played
as an eighth note might include <code>appearance="8*"</code> to force the appearance of a dot.</p>
    <li data-md="">
     <p>visually align this event with some other arbitrary event in the same
measure (e.g. line up a regular sixteenth note with the last note in some
other voice’s sixteenth-note triplet). An <code>offset-ref</code> attribute
specifies an IDREF for target event with which to align.</p>
   </ul>
   <p>For example, consider the following Chopin-esque example of a two-voice passage.
The upper staff contains a dotted-8th and sixteenth note; the lower voice
contains quintuplet 16th notes. However, the two final notes of both voices are
to be displayed in alignment.</p>
   <p>One way to encode this is to consider the upper voice to
actually be denoting a quintuplet-based rhythm, but make it look like a non-
tuplet rhythm:</p>
<pre class="language-xml highlight"><span class="nt">&lt;measure></span>
    <span class="nt">&lt;sequence</span> <span class="na">staff=</span><span class="s">"1"</span><span class="nt">></span>
        <span class="nt">&lt;tuplet</span> <span class="na">actual=</span><span class="s">"5/16"</span> <span class="na">normal=</span><span class="s">"1/4"</span> <span class="na">bracket=</span><span class="s">"no"</span> <span class="na">show-number=</span><span class="s">"no"</span><span class="nt">></span>
            <span class="nt">&lt;event</span> <span class="na">value=</span><span class="s">"4"</span> <span class="na">appearance=</span><span class="s">"8*"</span><span class="nt">></span>...<span class="nt">&lt;/event></span>
            <span class="nt">&lt;event</span> <span class="na">value=</span><span class="s">"1/16"</span><span class="nt">></span>...<span class="nt">&lt;/event></span>
        <span class="nt">&lt;/tuplet></span>
    <span class="nt">&lt;/sequence></span>
    <span class="nt">&lt;sequence</span> <span class="na">staff=</span><span class="s">"1"</span><span class="nt">></span>
        <span class="nt">&lt;tuplet</span> <span class="na">actual=</span><span class="s">"5/16"</span> <span class="na">normal=</span><span class="s">"1/4"</span><span class="nt">></span>
            <span class="nt">&lt;event</span> <span class="na">value=</span><span class="s">"1/16"</span><span class="nt">></span>...<span class="nt">&lt;/event></span>
            <span class="nt">&lt;event</span> <span class="na">value=</span><span class="s">"1/16"</span><span class="nt">></span>...<span class="nt">&lt;/event></span>
            <span class="nt">&lt;event</span> <span class="na">value=</span><span class="s">"1/16"</span><span class="nt">></span>...<span class="nt">&lt;/event></span>
            <span class="nt">&lt;event</span> <span class="na">value=</span><span class="s">"1/16"</span><span class="nt">></span>...<span class="nt">&lt;/event></span>
            <span class="nt">&lt;event</span> <span class="na">value=</span><span class="s">"1/16"</span><span class="nt">></span>...<span class="nt">&lt;/event></span>
        <span class="nt">&lt;/tuplet></span>
    <span class="nt">&lt;/sequence></span>
<span class="nt">&lt;/measure></span>
</pre>
   <p>Independent of such editorial decisions, it is also possible to prescribe any
desired performance rhythm using the <a href="#interpretation">§7 CWMNX Interpretation</a> features of CWMNX.</p>
   <h2 class="heading settled" data-level="6" id="styling"><span class="secno">6. </span><span class="content">CWMNX Styling</span><a class="self-link" href="#styling"></a></h2>
   <p>CWMNX employs CSS style properties to describe the appearance layer of a score.
The property vocabulary used by CWMNX is not the same as for HTML or SVG,
although it has some overlap. A large part of the work to specify CWMNX will
involve figuring out the new set of properties that we need to drive music
rendering and appearance.</p>
   <p>As a result of this shift in approach, a great deal of MusicXML markup
will shift into CSS. This allows it to be controlled by <em>style sheets</em> and <a data-link-type="dfn" href="https://drafts.csswg.org/mediaqueries-4/#media-query" id="ref-for-media-query">media queries</a>, yielding a great deal of expressive power over score
appearance in multiple contexts.</p>
   <p>The expectation is that a conformant implementation can always infer a
default appearance from the semantic layer, using built-in default style
properties as required. This replaces the notion of "selective encoding" in
MusicXML: appearance styles may be supplied optionally, but they are never
necessary.</p>
   <p>Here’s a quick example to set the stage for more discussion, showing the
application of color and positioning details to various CWMNX elements. In this
example, the <code>color</code> property is self-explanatory, and the <code>relative-y</code> property is the same as found in MusicXML. The value <code>1sl</code> means <em>1 staff
line</em> (analogous to typical CSS units such as <code>1px</code> for <em>1 pixel</em>).</p>
<pre class="language-xml highlight"><span class="nt">&lt;measure></span>
    <span class="nt">&lt;sequence></span>
        <span class="nt">&lt;event</span> <span class="na">style=</span><span class="s">"color: red;"</span><span class="nt">></span>
            <span class="nt">&lt;note></span>...<span class="nt">&lt;/note></span>
        <span class="nt">&lt;/event></span>
        <span class="nt">&lt;direction</span> <span class="na">style=</span><span class="s">"relative-y: 1sl;"</span><span class="nt">></span>
            <span class="nt">&lt;direction-type>&lt;words</span> <span class="na">style=</span><span class="s">"color: #666"</span><span class="nt">></span>...<span class="nt">&lt;/words>&lt;/direction-type></span>
        <span class="nt">&lt;/direction></span>
        <span class="nt">&lt;event></span>
            <span class="nt">&lt;note</span> <span class="na">style=</span><span class="s">"color: red;"</span><span class="nt">></span>...<span class="nt">&lt;/note></span>
        <span class="nt">&lt;/event></span>
    <span class="nt">&lt;/sequence></span>
<span class="nt">&lt;/measure></span>
</pre>
   <p class="note" role="note"><span>Note:</span> It is possible that additional profiles might require the encoder to
supply some degree of basic style information (e.g. measure widths). The
position of this proposal is that such requirements are optional and ride on
top of the <code>standard</code> profile, rather than constituting standard behavior.</p>
   <h3 class="heading settled" data-level="6.1" id="css-and-style-properties"><span class="secno">6.1. </span><span class="content">CSS and style properties</span><a class="self-link" href="#css-and-style-properties"></a></h3>
   <p>As in HTML or SVG, CSS properties can be specified in several distinct ways:</p>
   <ul>
    <li data-md="">
     <p>They can be specified directly on the pertinent element, inline, using the <code>style</code> attribute in which properties are explicitly given. This is the approach
used in the preceding example.</p>
    <li data-md="">
     <p>They can be specified indirectly on the pertinent element by using the <code>class</code> attribute, causing the applicable properties to be looked up
in one or more associated stylesheets using the element’s class name(s).
For instance, <code>class="alternate"</code> might be used in a given document
to specify a specific look for notes in an alternate melody line,
allowing that appearance to be specified exactly once in the stylesheet
selector for <code>.alternate</code>.</p>
    <li data-md="">
     <p>They can be inferred implicitly from the element’s characteristics, according
to the <a href="https://www.w3.org/TR/2011/REC-css3-selectors-20110929/">selectors</a> in the CSS specification. For example, a stylesheet might
include a <code>note</code> selector specifying the default appearance of all <code><a data-link-type="element">note</a></code> elements.
An <code>.alternate</code> selector in the stylesheet, would specify the appearance of all elements
marked as belonging to the <code>alternate</code> style class.</p>
   </ul>
   <p>This flexibility and generality is the primary motivator for using CSS as part
of MNX. It allows a spectrum of expression for style properties that ranges
from the very general (a house style) to the very specific (an exception for
just one element in the document).</p>
   <h3 class="heading settled" data-level="6.2" id="stylesheets"><span class="secno">6.2. </span><span class="content">Stylesheets</span><a class="self-link" href="#stylesheets"></a></h3>
   <p>Stylesheets allow visual style properties to be declared using <a data-link-type="dfn">selectors</a>, that provide both implicit and explicit ways of applying
styles to elements in the markup. These work exactly as in CSS for HTML or
SVG, except where extended in MNX-specific ways.</p>
   <p>In MNX, stylesheets are referenced by including a <code><a data-link-type="element">style</a></code> element below the appropriately
scoped chunk of the document. This element may contain CSS, and may further import
external documents using the import statement.</p>
   <p>The following example illustrates the power of stylesheets and selectors; see
the <a href="https://drafts.csswg.org/selectors-4/">CSS Selectors Level 4</a> draft specification for more details.</p>
<pre class="language-xml highlight"><span class="nt">&lt;mnx</span> <span class="na">xmlns=</span><span class="s">"http://www.w3.org/mnx"</span><span class="nt">></span>
    <span class="nt">&lt;head></span>
        <span class="nt">&lt;style></span>
            score {
                font-family: Bravura;
            }
            .alternate {
                color: #666;  /* gray */
            }
            direction {
                font-family: Times Roman;
                font-size: 2sl;
            }
            words.aside {
                font-weight: bold;
            }
        <span class="nt">&lt;/style></span>
    <span class="nt">&lt;/head></span>
    <span class="nt">&lt;score></span>
        <span class="nt">&lt;part></span>
            <span class="nt">&lt;measure></span>
                <span class="nt">&lt;sequence></span>
                    <span class="nt">&lt;event</span> <span class="na">class=</span><span class="s">"alternate"</span><span class="nt">></span>
                        <span class="nt">&lt;note></span>...<span class="nt">&lt;/note></span>
                    <span class="nt">&lt;/event></span>
                    <span class="nt">&lt;direction</span> <span class="na">style=</span><span class="s">"relative-y: 1sl;"</span><span class="nt">></span>
                        <span class="nt">&lt;direction-type>&lt;words</span> <span class="na">class=</span><span class="s">"aside"</span><span class="nt">></span>...<span class="nt">&lt;/words>&lt;/direction-type></span>
                    <span class="nt">&lt;/direction></span>
                    <span class="nt">&lt;event></span>
                        <span class="nt">&lt;note</span> <span class="na">class=</span><span class="s">"alternate"</span><span class="nt">></span>...<span class="nt">&lt;/note></span>
                    <span class="nt">&lt;/event></span>
                <span class="nt">&lt;/sequence></span>
            <span class="nt">&lt;/measure></span>
        <span class="nt">&lt;/part></span>
    <span class="nt">&lt;/score></span>
<span class="nt">&lt;/mnx></span>
</pre>
   <h3 class="heading settled" data-level="6.3" id="external-stylesheets"><span class="secno">6.3. </span><span class="content">External stylesheets</span><a class="self-link" href="#external-stylesheets"></a></h3>
   <p>It’s often useful to separate stylesheet definitions in a separate <code>.css</code> file. The <code>@import</code> directive serves this purpose:</p>
<pre class="language-xml highlight"><span class="nt">&lt;mnx</span> <span class="na">xmlns=</span><span class="s">"http://www.w3.org/mnx"</span><span class="nt">></span>
    <span class="nt">&lt;head></span>
        <span class="nt">&lt;style></span>
            @import url(house-style.css)
        <span class="nt">&lt;/style></span>
    <span class="nt">&lt;/head></span>
    <span class="nt">&lt;score></span>
        // 
    <span class="nt">&lt;/score></span>
<span class="nt">&lt;/mnx></span>
</pre>
   <h3 class="heading settled" data-level="6.4" id="units"><span class="secno">6.4. </span><span class="content">Units</span><a class="self-link" href="#units"></a></h3>
   <p>Properties representing a visual displacement or distance must use a number followed
by an explicit unit:</p>
   <dl>
    <dt data-md=""><code>sl</code>
    <dd data-md="">
     <p>the space between two standard staff lines</p>
    <dt data-md=""><code>st</code>
    <dd data-md="">
     <p>staff tenths (same unit as in MusicXML)</p>
    <dt data-md=""><code>px</code>
    <dd data-md="">
     <p>display pixels (same unit as in SVG or HTML)</p>
   </dl>
   <p>Also, <a href="#general-timespans">§5.3.4 General timespans</a> may be used as style units.</p>
   <p>Examples:</p>
   <dl>
    <dt data-md=""><code>1sl</code>
    <dd data-md="">
     <p>One staff line</p>
    <dt data-md=""><code>5st</code>
    <dd data-md="">
     <p>0.5 staff lines</p>
    <dt data-md=""><code>1/8</code>
    <dd data-md="">
     <p>a contextual eighth note</p>
    <dt data-md=""><code>1//8</code>
    <dd data-md="">
     <p>a measure-level eighth note</p>
    <dt data-md=""><code>481t</code>
    <dd data-md="">
     <p>one tick longer than a measure-level eighthnote</p>
    <dt data-md=""><code>1:3//4</code>
    <dd data-md="">
     <p>a triplet 8th note (1/3 of a quarter note)</p>
   </dl>
   <h3 class="heading settled" data-level="6.5" id="css-property-usage"><span class="secno">6.5. </span><span class="content">CSS property usage</span><a class="self-link" href="#css-property-usage"></a></h3>
   <h4 class="heading settled" data-level="6.5.1" id="standard-css-properties"><span class="secno">6.5.1. </span><span class="content">Standard CSS properties</span><a class="self-link" href="#standard-css-properties"></a></h4>
   <p>Certain CSS standard properties will replace the corresponding MusicXML
properties, to avoid conflict with other web standards. Notably, the CSS <a class="property" data-link-type="propdesc" href="https://drafts.csswg.org/css-display-3/#propdef-display" id="ref-for-propdef-display">display</a> and <a class="property" data-link-type="propdesc" href="https://drafts.csswg.org/css2/visufx.html#propdef-visibility" id="ref-for-propdef-visibility">visibility</a> replace MusicXML’s <code>print-object</code> attribute.  All
CSS properties relating to fonts and typography (<a class="property" data-link-type="propdesc" href="https://drafts.csswg.org/css-fonts-3/#propdef-font-family" id="ref-for-propdef-font-family">font-family</a>, <a class="property" data-link-type="propdesc" href="https://drafts.csswg.org/css-fonts-3/#propdef-font-weight" id="ref-for-propdef-font-weight">font-weight</a>, <a class="property" data-link-type="propdesc" href="https://drafts.csswg.org/css-fonts-3/#propdef-font-style" id="ref-for-propdef-font-style">font-style</a> and so forth) will also replace corresponding features in
MusicXML. <code>color</code> has roughly the same meaning in both.</p>
   <h4 class="heading settled" data-level="6.5.2" id="document-properties"><span class="secno">6.5.2. </span><span class="content">Document properties</span><a class="self-link" href="#document-properties"></a></h4>
   <p>Virtually all of the values in the MusicXML <code><a data-link-type="element">defaults</a></code> element can also
be transferred to CSS properties, permitting stylesheet control of these
important settings as well.</p>
   <h4 class="heading settled" data-level="6.5.3" id="notation-properties"><span class="secno">6.5.3. </span><span class="content">Notation properties</span><a class="self-link" href="#notation-properties"></a></h4>
   <p>The expectation is that almost all other MusicXML attributes and elements
governing visual rendition will simply migrate to CSS properties with no
change except for the units used. These include positioning tweaks as well
as system and page breaks.</p>
   <p>The result is that MusicXML will generally look very simple and semantic,
with occasional <code>style</code> and <code>class</code> attributes supplying exceptions to the
general house style supplied by a score-wide stylesheet.</p>
   <p>Examples of migrated MusicXML properties from notation markup include:</p>
   <ul>
    <li data-md="">
     <p><code>relative-x</code> and <code>relative-y</code></p>
    <li data-md="">
     <p><code>default-x</code> and <code>default-y</code></p>
    <li data-md="">
     <p><code>offset</code> (note that this is purely a visual offset, unlike MusiXML)</p>
    <li data-md="">
     <p><code>new-system</code> and <code>new-page</code></p>
   </ul>
   <p>In keeping with CSS conventions, MusicXML’s values of <code>yes</code> and <code>no</code> will be
generally replaced with <code>true</code> and <code>false</code>.</p>
   <h4 class="heading settled" data-level="6.5.4" id="new-cwmnx-properties"><span class="secno">6.5.4. </span><span class="content">New CWMNX properties</span><a class="self-link" href="#new-cwmnx-properties"></a></h4>
   <p>CWMNX will also define new properties for useful concepts not previously
addressed in MusicXML.</p>
   <p>As one example, an <strong>part-display: all</strong> property could distinguish elements
that are intended to appear in both full-score and part views.</p>
   <h3 class="heading settled" data-level="6.6" id="media-queries-and-parts"><span class="secno">6.6. </span><span class="content">Media queries and parts</span><a class="self-link" href="#media-queries-and-parts"></a></h3>
   <p>CSS defines a notion of <a data-link-type="dfn" href="https://drafts.csswg.org/mediaqueries-4/#media-query" id="ref-for-media-query①">media queries</a> which permit stylesheet definitions
to apply in only certain contexts. For web pages, this is used to vary the appearance
according to whether a page is viewed on, say, a mobile device, or a laptop screen,
or on printed paper.</p>
<pre class="language-css highlight"><span class="n">@media</span> screen <span class="p">{</span>
    <span class="nt">.alternate </span><span class="p">{</span>
        <span class="k">color</span><span class="p">:</span> blue<span class="p">;</span> <span class="c">/* show alternate readings in blue on the screen */</span>
    <span class="p">}</span>
<span class="p">}</span>
<span class="n">@media</span> print <span class="p">{</span>
    <span class="nt">.alternate </span><span class="p">{</span>
        <span class="k">note-size</span><span class="p">:</span> <span class="m">-0.2</span><span class="l">sl</span><span class="p">;</span> <span class="c">/* show alternate readings smaller when printed */</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre>
   <p>In CWMNX, media queries can be used in exactly the same way, but they
can also be used to govern how parts are displayed. This permits high quality
parts to be generated from the same document as the full score, formatted in a
specialized way.</p>
   <p>To take advantage of this, one labels a <code><a data-link-type="element">part</a></code> with a child <code><a data-link-type="element">media-name</a></code> element
whose text can be used as an identifier in a media query:</p>
<pre class="language-xml highlight"><span class="nt">&lt;mnx</span> <span class="na">xmlns=</span><span class="s">"http://www.w3.org/mnx"</span><span class="nt">></span>
    <span class="nt">&lt;head></span>
        <span class="nt">&lt;style></span>
            score {
                note-size: 10px;
            }
            @media (part: vln) {
                note-size: 13px; /* make the violin part bigger */
            }
        <span class="nt">&lt;/style></span>
    <span class="nt">&lt;/head></span>
    <span class="nt">&lt;score></span>
        <span class="nt">&lt;part></span>
            <span class="nt">&lt;part-name></span>Violin<span class="nt">&lt;/part-name></span>
            <span class="nt">&lt;media-name></span>vln<span class="nt">&lt;/media-name></span>
            <span class="nt">&lt;measure></span>...<span class="nt">&lt;/measure></span>
            <span class="nt">&lt;measure></span>...<span class="nt">&lt;/measure></span>
            <span class="nt">&lt;measure></span>...<span class="nt">&lt;/measure></span>
        <span class="nt">&lt;/part></span>
    <span class="nt">&lt;/score></span>
<span class="nt">&lt;/mnx></span>
</pre>
   <p>More than one part can use the same media name, allowing multiple parts to be formatted according to
the same rules.</p>
   <h3 class="heading settled" data-level="6.7" id="controlling-visibility"><span class="secno">6.7. </span><span class="content">Controlling visibility</span><a class="self-link" href="#controlling-visibility"></a></h3>
   <p>As previously mentioned, the standard CSS <a class="property" data-link-type="propdesc" href="https://drafts.csswg.org/css2/visufx.html#propdef-visibility" id="ref-for-propdef-visibility①">visibility</a> and <a class="property" data-link-type="propdesc" href="https://drafts.csswg.org/css-display-3/#propdef-display" id="ref-for-propdef-display①">display</a> properties control whether
a given element is seen or not.</p>
   <p>Setting <strong>display: none</strong> on an element prevents it from being seen and causes the layout to act
as though it does not exist in any way; the space occupied by the element will disappear
from the layout’s point of view.</p>
   <p>Setting <strong>visibility: hidden</strong> on an element causes it not to be painted. However it still takes up
space in the layout, and it may be sensitive to pointer events.</p>
   <h3 class="heading settled" data-level="6.8" id="system-and-page-flow"><span class="secno">6.8. </span><span class="content">System and page flow</span><a class="self-link" href="#system-and-page-flow"></a></h3>
   <p>The CWMNX style properties <code>new-page</code> and <code>new-system</code> (as well as others)
control page and system flow. Such styles are specified at the <code><a data-link-type="element">measure</a></code> or <code><a data-link-type="element">event</a></code> level.</p>
   <p>These properties act across the system, but may be defined differently in
full-score formats as opposed to single-part formats; it is very uncommon for such
breaks to be identical across all views of a score. Thus they will participate
in whatever solution is arrived at for <a href="#system-notations">§5.1.2 System notations</a>.</p>
   <p>Media queries can further be used to specialize system and page flow for viewing
and printing different formats on different devices.</p>
   <h3 class="heading settled" data-level="6.9" id="styling-grace-and-cue-notes"><span class="secno">6.9. </span><span class="content">Styling grace and cue notes</span><a class="self-link" href="#styling-grace-and-cue-notes"></a></h3>
   <p>The CSS Selectors Level 4 draft specification includes the specification of a new <code>has:()</code> pseudo selector that can test for the presence of a child element.</p>
   <p>This provides a useful way to style grace and cue notes, for example:</p>
<pre class="language-css highlight"><span class="nt">note:has(> grace) </span><span class="p">{</span>
    <span class="k">note-size</span><span class="p">:</span> <span class="m">80</span><span class="l">%</span><span class="p">;</span>
<span class="p">}</span>
<span class="nt">note:has(> cue) </span><span class="p">{</span>
    <span class="k">note-size</span><span class="p">:</span> <span class="m">80</span><span class="l">%</span><span class="p">;</span>
<span class="p">}</span>
<span class="nt">note:has(>grace) note:has(> cue) </span><span class="p">{</span>
    <span class="k">note-size</span><span class="p">:</span> <span class="m">50</span><span class="l">%</span><span class="p">;</span> <span class="c">/* combination of grace and cue */</span>
<span class="p">}</span>
</pre>
   <h2 class="heading settled" data-level="7" id="interpretation"><span class="secno">7. </span><span class="content">CWMNX Interpretation</span><a class="self-link" href="#interpretation"></a></h2>
   <p>The performance interpretation of semantic markup in CWMNX is also carried out
using CSS properties, rather than through the content of MusicXML’s <code><a data-link-type="element">sound</a></code> element. The various attributes and child elements of <code><a data-link-type="element">sound</a></code> therefore
become new sound-oriented CSS properties in CWMNX. These are driven from
stylesheets and inline specifications in much the same way as visual
properties, thus separating interpretation cleanly from both semantic and
appearance layers.</p>
   <p>As with appearance, the expectation is that a functioning implementation
can always infer a default interpretation from the semantic layer, using
built-in default interpretation properties as required. This replaces the
notion of "selective encoding" in MusicXML.</p>
   <h3 class="heading settled" data-level="7.1" id="inline-interpretation"><span class="secno">7.1. </span><span class="content">Inline interpretation</span><a class="self-link" href="#inline-interpretation"></a></h3>
   <p>Any performable element may possess a <code>perform</code> attribute, analogous to <code>style</code>. This attribute
specifies a set of CSS properties affecting playback. For example:</p>
<pre class="language-xml highlight"><span class="nt">&lt;event</span> <span class="na">value=</span><span class="s">"4"</span><span class="nt">></span>
    <span class="nt">&lt;note</span> <span class="na">pitch=</span><span class="s">"C4"</span> <span class="na">perform=</span><span class="s">"dynamics: 40;"</span><span class="nt">/></span>
<span class="nt">&lt;/event></span>
</pre>
   <p>Naturally, one might wish to use CSS classes to specify this:</p>
<pre class="language-xml highlight"><span class="nt">&lt;mnx</span> <span class="na">xmlns=</span><span class="s">"http://www.w3.org/mnx"</span><span class="nt">></span>
    <span class="nt">&lt;head></span>
        <span class="nt">&lt;style></span>
            .forte {
                dynamics: 100;
            }
        <span class="nt">&lt;/style></span>
    <span class="nt">&lt;/head></span>
    <span class="nt">&lt;score></span>
        // 
            <span class="nt">&lt;event</span> <span class="na">value=</span><span class="s">"4"</span><span class="nt">></span>
                <span class="nt">&lt;note</span> <span class="na">pitch=</span><span class="s">"C4"</span> <span class="na">class=</span><span class="s">"forte"</span><span class="nt">/></span>
            <span class="nt">&lt;/event></span>
    <span class="nt">&lt;/score></span>
<span class="nt">&lt;/mnx></span>
</pre>
   <h3 class="heading settled" data-level="7.2" id="interpretation-properties"><span class="secno">7.2. </span><span class="content">Interpretation properties</span><a class="self-link" href="#interpretation-properties"></a></h3>
   <p>Here are some significant interpretation properties, but not an exhaustive list:</p>
   <dl>
    <dt data-md=""><code>offset</code>
    <dd data-md="">
     <p>A playback offset expressed as a general timespan relative to the
default offset. For example, <strong>offset: -1/16</strong> would play the given note one sixteenth note earlier. <strong>offset: 10t</strong> would play
it 10 MIDI ticks later.</p>
    <dt data-md=""><code>pitch</code>
    <dd data-md="">
     <p>A pitch to be used for playback instead of the notated pitch, expressed
as a pitch encoding (e.g. <strong>pitch: C#4+0.1</strong>).</p>
    <dt data-md=""><code>duration</code>
    <dd data-md="">
     <p>A note duration to be used for playback, expressed as a general timespan.
For example, <strong>duration: 1/16</strong> would cause the note to be played
as a sixteenth note regardless.</p>
    <dt data-md=""><code>dynamics</code>
    <dd data-md="">
     <p>Volume expressed as percentage of <em>forte</em> dynamic (same as MusicXML)</p>
    <dt data-md=""><code>tempo</code>
    <dd data-md="">
     <p>Tempo expressed as a metrical timespan, e.g. <strong>tempo: 120/4</strong>. (same as
MusicXML, but doesn’t require quarter note units).</p>
    <dt data-md=""><code>playback</code>
    <dd data-md="">
     <p>Controls whether interpretation occurs at all. <strong>playback: none</strong> will suppress
the interpretation of all events with this property.</p>
   </dl>
   <p class="note" role="note"><span>Note:</span> There is no <code>tied</code> property. It is not clear that one is needed, since
the sounded duration of a tied note should take the semantic <code>tie</code> information into account.</p>
   <h3 class="heading settled" data-level="7.3" id="interpretation-flow"><span class="secno">7.3. </span><span class="content">Interpretation flow</span><a class="self-link" href="#interpretation-flow"></a></h3>
   <p>In the same way that indenting text flow with certain CSS properties has follow-on effects
that continue down the page, altering interpretation with CSS has follow-on effects too.</p>
   <p>For example, <code>tempo</code> and <code>dynamics</code> clearly make sense to flow forward into successor
events. On the other hand, <code>pitch</code> probably does not.</p>
   <p>The flow behavior of interpretation properties needs to be carefully characterized.</p>
   <h3 class="heading settled" data-level="7.4" id="performance-events-and-event-streams"><span class="secno">7.4. </span><span class="content">Performance events and event streams</span><a class="self-link" href="#performance-events-and-event-streams"></a></h3>
   <p>It is useful to combine the values found in the <code>offset</code>, <code>pitch</code> and <code>duration</code> and <code>dynamics</code> properties into a single styling construct called a <em>performance event</em>, using the simple syntaxes <code>note(offset, pitch, duration)</code> or <code>note(offset, pitch, duration, dynamics)</code>. Think of these as syntactically
similar to <code>rgb()</code> or <code>rgba()</code> colors. Some examples:</p>
   <dl>
    <dt data-md=""><code>note(0, C4, 1/4)</code>
    <dd data-md="">
     <p>A middle C sounding at the event’s default offset for a duration of one quarter note.</p>
    <dt data-md=""><code>note(0, C4, 1/4, 127)</code>
    <dd data-md="">
     <p>The same note, but at a MIDI velocity of 127.</p>
    <dt data-md=""><code>note(0, C4, 1//4)</code>
    <dd data-md="">
     <p>The same note with a quarter note duration, <em>disregarding any effective time modification</em></p>
   </dl>
   <p>This permits the useful interpretation property <code>play</code>, which overrides the
entire default interpreation of whatever CWMNX element it is applied to. Here’s
a quarter note C3 that is supposed to actually be played as a 16th note C4:</p>
<pre class="language-xml highlight"><span class="nt">&lt;event</span> <span class="na">value=</span><span class="s">"4"</span><span class="nt">></span>
    <span class="nt">&lt;note</span> <span class="na">pitch=</span><span class="s">"C3"</span> <span class="na">perform=</span><span class="s">"play: note(0, C4, 16);"</span><span class="nt">/></span>
<span class="nt">&lt;/event></span>
</pre>
   <p>The real point of this feature is not syntactic sugar, but to make it practical
to specify more complex performance events. One can do this by separating
notes with spaces to create streams of simple events:</p>
   <dl>
    <dt data-md=""><code>note(0, C4, 1/4) note(0, E4, 1/4) note(0, G4, 1/4)</code>
    <dd data-md="">
     <p>A C major triad with the duration of a quarter note, sounding at the event’s default offset.</p>
    <dt data-md=""><code>note(0, C4, 0.33/4) note(0.33/4, E4, 0.33/4) note(0.67/4, G4, 0.33/4)</code>
    <dd data-md="">
     <p>A C major arpeggio with the duration of a quarter note, sounding at the event’s default offset.</p>
   </dl>
   <p>In this example, a regularly notated C-G dyad is actually played as an
arpeggiated C major triad, as part of an exercise in aural triad
identification (the prompt might be, "what’s the middle note?".) Note that the
styling is applied to the entire <code><a data-link-type="element">event</a></code>, replacing the interpretation of
all contained elements:</p>
<pre class="language-xml highlight"><span class="nt">&lt;event</span> <span class="na">value=</span><span class="s">"4"</span> <span class="na">perform=</span><span class="s">"play: note(0, C4, 4) note(1/32, E4, 7/32) note(2/32, G4, 6/32);"</span><span class="nt">></span>
    <span class="nt">&lt;note</span> <span class="na">pitch=</span><span class="s">"C4"</span><span class="nt">/></span>
    <span class="nt">&lt;note</span> <span class="na">pitch=</span><span class="s">"G4"</span><span class="nt">/></span>
<span class="nt">&lt;/event></span>
</pre>
   <p>One can style <code><a data-link-type="element">measure</a></code> or <code><a data-link-type="element">voice</a></code> elements with the <code>play</code> property,
replacing the entire default interpretation of measures or voices if so
desired.</p>
   <p class="note" role="note"><span>Note:</span> There are two reasons that this event representation is not directly
tied to MIDI concepts. First, it’s expected that many applications will make
use of their own internal sound engines to render performances, and we cannot
assume that these engines make use of MIDI constructs internally. Second, the
parameters governing the interpretation layer are very conveniently expressed
in terms of the same units as the semantic layer.</p>
   <h3 class="heading settled" data-level="7.5" id="rhythmic-template-selectors"><span class="secno">7.5. </span><span class="content">Rhythmic template selectors</span><a class="self-link" href="#rhythmic-template-selectors"></a></h3>
   <p>Special CSS selectors can be defined for CWMNX to make it easier to achieve
useful interpretation results with styling.</p>
   <p>Consider these two useful selectors:</p>
   <ul>
    <li data-md="">
     <p><code>:occurs-within(4, 1/8)</code> will match any event that occurs one eighth-
note into any quarter-note subdivision.</p>
    <li data-md="">
     <p><code>:value(8)</code> will match any event whose note value is 8.</p>
   </ul>
   <p>Now we can have a stylesheet definition that specifies a swing percentage of 10%:</p>
<pre class="language-css highlight"><span class="nt">:occurs-within(4, 0) :value(8) </span><span class="p">{</span>
    <span class="k">duration</span><span class="p">:</span> <span class="m">110</span><span class="l">%</span><span class="p">;</span>
<span class="p">}</span>
<span class="nt">:occurs-within(4, 1/8) :value(8) </span><span class="p">{</span>
    <span class="k">offset</span><span class="p">:</span> <span class="m">10</span><span class="l">%</span><span class="p">;</span>
    <span class="k">duration</span><span class="p">:</span> <span class="m">90</span><span class="l">%</span><span class="p">;</span>
<span class="p">}</span>
</pre>
   <p>It’s also possible to specify the interpretation of a French-style dotted
baroque rhythm using exactly the same mechanism. In this example,
all notated dotted eighths are performed as double-dotted:</p>
<pre class="language-css highlight"><span class="nt">:occurs-within(4, 0) :value(8*) </span><span class="p">{</span>
    <span class="k">duration</span><span class="p">:</span> <span class="m">7</span><span class="p">/</span><span class="m">32</span><span class="p">;</span>
<span class="p">}</span>
<span class="nt">:occurs-within(4, 8*) :value(16) </span><span class="p">{</span>
    <span class="k">offset</span><span class="p">:</span> <span class="m">1</span><span class="p">/</span><span class="m">32</span><span class="p">;</span>
    <span class="k">duration</span><span class="p">:</span> <span class="m">1</span><span class="p">/</span><span class="m">32</span><span class="p">;</span>
<span class="p">}</span>
</pre>
   <h2 class="heading settled" data-level="8" id="gmnx"><span class="secno">8. </span><span class="content">GMNX: Encoding Scores with General Content</span><a class="self-link" href="#gmnx"></a></h2>
   <p>GMNX is the MNX score type denoted by a <code>content</code> attribute of <code>general</code>.
It is intended as a general medium for representing scores in terms of
abstract visual, performance and audio information. There is no attempt
to represent semantics directly in GMNX, although GMNX may cross-reference
elements in a separate, semantic document for traceability.</p>
   <p><strong class="advisement"> This entire section is a rough sketch of a possible approach and
needs considerable work.</strong></p>
   <h3 class="heading settled" data-level="8.1" id="gmnx-goals"><span class="secno">8.1. </span><span class="content">GMNX Goals</span><a class="self-link" href="#gmnx-goals"></a></h3>
   <p>GMNX is intended to support applications which <em>must</em> be able to
faithfully execute a visual and/or audible rendition of a score, with an
awareness of the relationship between what is seen and what is heard.</p>
   <p>There are no dependencies on any particular notational schema for music.
Because of the lack of semantics, applications <em>must not</em> rely on
information about the notational content of the score beyond the purposely
limited vocabulary of GMNX. As a corollary, GMNX applications <em>need
not</em> be concerned with transforming semantic data into musically
acceptable graphics or audio, which can simplify their development.</p>
   <p>The only constraints on the nature of the score are:</p>
   <ol>
    <li data-md="">
     <p>The visual content of the score must be encoded in SVG.</p>
    <li data-md="">
     <p>The audible content of the score must be encoded either in audio media,
or in a GMNX <code><a data-link-type="element">performance-events</a></code> element.</p>
   </ol>
   <p>Some applications well-suited for GMNX usage include:</p>
   <ul>
    <li data-md="">
     <p>Lightweight music viewers/players that employ standard libraries for rendering graphics and audio media,
instead of doing custom rendering of semantic data.</p>
    <li data-md="">
     <p>Music viewers/players that wish to handle any kind of musical content, not just CWMN.</p>
    <li data-md="">
     <p>Music viewers/players which display a score exactly as it was
depicted in a specific edition or manuscript.</p>
    <li data-md="">
     <p>Highly individual or unusual notation editors that want to export music in a format
that can be consumed by other applications for viewing and playback.</p>
   </ul>
   <h3 class="heading settled" data-level="8.2" id="gmnx-structure"><span class="secno">8.2. </span><span class="content">GMNX Structure</span><a class="self-link" href="#gmnx-structure"></a></h3>
   <p>A GMNX document contains two kinds of data: visual content and performance
content.</p>
   <h4 class="heading settled" data-level="8.2.1" id="visual-content"><span class="secno">8.2.1. </span><span class="content">Visual Content</span><a class="self-link" href="#visual-content"></a></h4>
   <p>The visual content piece of a GMNX document is a set of <code><a data-link-type="element">svg</a></code> elements
representing the score. Each element constitutes a single page of the score,
where "page" is defined as a two-dimensional canvas of arbitrary dimension
whose contents can be viewed independently of other pages.</p>
   <p>A GMNX document is required to contain visual content, since it is music
notation of some kind.</p>
   <p>SVG elements are labeled with IDs, allowing them to be referenced within the
performance content.</p>
   <p>There are no hard requirements whatsoever on the hierarchical structure of
visual content. Notation need not be organized into anything except pages; if
pages are not meaningful, the entire document may consist of a single page.</p>
   <p>GMNX permits special elements to be embedded within SVG to describe regions in
the visual content having a directional flow which can be mapped to time in a
musical performance. This optional feature is described below under <a href="#performance-flows">performance flows</a>.</p>
   <p>Please refer to the <a href="https://www.w3.org/TR/SVG/Overview.html">SVG
specification</a> for information on what SVG is able to represent. For all
practical purposes, any combination of vector and raster graphics is
encodable in SVG.</p>
   <h4 class="heading settled" data-level="8.2.2" id="performance-content"><span class="secno">8.2.2. </span><span class="content">Performance Content</span><a class="self-link" href="#performance-content"></a></h4>
   <p>A GMNX document can contain any number of <em>performances</em>, which are
taken to be musical embodiments of the visual content. Each performance is
represented either through separate, conventionally-encoded audio media files
or by encoding as a <code><a data-link-type="element">performance-events</a></code> element that is similar in spirit
to a MIDI file, but is more compatible with CWMNX sequences and events.</p>
   <p>No matter how it is encoded, a "performance" takes place in the time
dimension. GMNX allows ranges and points in a performance to be mapped onto
various elements in the visual SVG content. These mappings define a two-way
correspondence between the visual score and the content of each performance.</p>
   <p>This correspondence is general in nature and not dependent on any particular
approach to notation.</p>
   <p>Performances are optional in GMNX. Any number of performances may be provided,
since there is no concept of a canonical performance in GMNX.</p>
   <h5 class="heading settled" data-level="8.2.2.1" id="audio-media"><span class="secno">8.2.2.1. </span><span class="content">Audio Media</span><a class="self-link" href="#audio-media"></a></h5>
   <p>A single performance represented by audio media can be described with a <code><a data-link-type="element">performance</a></code> element that includes any number of media file references.
Here’s a simple example:</p>
<pre class="language-xml highlight"><span class="nt">&lt;performance></span>
    <span class="nt">&lt;performance-name></span>Piano performance<span class="nt">&lt;/performance-name></span>
    <span class="nt">&lt;performance-media></span>
        <span class="nt">&lt;media-file</span> <span class="na">src=</span><span class="s">"hot-cross-buns.mp4"</span><span class="nt">/></span>
    <span class="nt">&lt;/performance-media></span>
<span class="nt">&lt;/performance></span>
</pre>
   <p>The performance media may be further described in terms of tracks. This is
important in <a href="#mapping">§8.3 Mapping Between Position and Time</a>. An example follows:</p>
<pre class="language-xml highlight"><span class="nt">&lt;performance></span>
    <span class="nt">&lt;performance-name></span>Piano performance<span class="nt">&lt;/performance-name></span>
    <span class="nt">&lt;performance-media></span>
        <span class="nt">&lt;media-file</span> <span class="na">src=</span><span class="s">"hot-cross-buns.mp4"</span><span class="nt">></span>
            <span class="nt">&lt;track</span> <span class="na">index=</span><span class="s">"0"</span><span class="nt">></span>
                <span class="nt">&lt;name></span>Piano LH<span class="nt">&lt;/name></span>
            <span class="nt">&lt;/track></span>
            <span class="nt">&lt;track</span> <span class="na">index=</span><span class="s">"1"</span><span class="nt">></span>
                <span class="nt">&lt;name></span>Piano RH<span class="nt">&lt;/name></span>
            <span class="nt">&lt;/track></span>
        <span class="nt">&lt;/media-file></span>
    <span class="nt">&lt;/performance-media></span>
<span class="nt">&lt;/performance></span>
</pre>
   <p>Multiple media files may also be referenced, indicating that they together supply
a multitrack performance when played in synchronization. Here a stereo piano
recording is synchronized with a mono recording of a trumpet track:</p>
<pre class="language-xml highlight"><span class="nt">&lt;performance></span>
    <span class="nt">&lt;performance-name></span>Piano performance<span class="nt">&lt;/performance-name></span>
    <span class="nt">&lt;performance-media></span>
        <span class="nt">&lt;media-file</span> <span class="na">src=</span><span class="s">"hot-cross-buns-piano.mp4"</span><span class="nt">></span>
            <span class="nt">&lt;track</span> <span class="na">index=</span><span class="s">"0"</span><span class="nt">></span>
                <span class="nt">&lt;name></span>Piano LH<span class="nt">&lt;/name></span>
            <span class="nt">&lt;/track></span>
            <span class="nt">&lt;track</span> <span class="na">index=</span><span class="s">"1"</span><span class="nt">></span>
                <span class="nt">&lt;name></span>Piano RH<span class="nt">&lt;/name></span>
            <span class="nt">&lt;/track></span>
        <span class="nt">&lt;/media-file></span>
        <span class="nt">&lt;media-file</span> <span class="na">src=</span><span class="s">"hot-cross-buns-trumpet.mp4"</span><span class="nt">></span>
            <span class="nt">&lt;track</span> <span class="na">index=</span><span class="s">"0"</span><span class="nt">></span>
                <span class="nt">&lt;name></span>Trumpet<span class="nt">&lt;/name></span>
            <span class="nt">&lt;/track></span>
        <span class="nt">&lt;/media-file></span>
    <span class="nt">&lt;/performance-media></span>
<span class="nt">&lt;/performance></span>
</pre>
   <h5 class="heading settled" data-level="8.2.2.2" id="event-sequences"><span class="secno">8.2.2.2. </span><span class="content">Event Sequences</span><a class="self-link" href="#event-sequences"></a></h5>
   <p>Alternately, a performance may be represented by a sequence of discrete events
having these properties:</p>
   <ul>
    <li data-md="">
     <p>onset (in seconds from start of performance)</p>
    <li data-md="">
     <p>duration (in seconds)</p>
    <li data-md="">
     <p>instrument (described by MusicXML sound ID)</p>
    <li data-md="">
     <p>pitch (as in CWMNX)</p>
    <li data-md="">
     <p>dynamics (as in CWMNX)</p>
    <li data-md="">
     <p>technique</p>
   </ul>
   <p>There is no tempo information in an event list. Adjustment of playback speed
by an implementation may be accomplished by proportionally adjusting onset and
duration times.</p>
   <p>This information can be used for synthesis, analysis, or any other purpose by
the application. However it is specifically not intended to represent semantic
notational content. For example, a CWMN staccato quarter note might
be represented as an event with the effective duration of a 16th note.</p>
   <p>The <code><a data-link-type="element">performance-events</a></code> element supplies this information:</p>
<pre class="language-xml highlight"><span class="nt">&lt;performance></span>
    <span class="nt">&lt;performance-name></span>Event sequence<span class="nt">&lt;/performance-name></span>
    <span class="nt">&lt;performance-events></span>
        <span class="nt">&lt;track></span>
            <span class="nt">&lt;instrument-sound></span>keyboard.piano<span class="nt">&lt;/instrument-sound></span>
            <span class="nt">&lt;sequence></span>
                <span class="nt">&lt;event</span> <span class="na">graphic=</span><span class="s">"#note1"</span> <span class="na">start=</span><span class="s">"0"</span> <span class="na">duration=</span><span class="s">"0.25"</span><span class="nt">></span>
                    <span class="nt">&lt;note</span> <span class="na">pitch=</span><span class="s">"E4"</span> <span class="na">dynamics=</span><span class="s">"100"</span><span class="nt">/></span>
                <span class="nt">&lt;/event></span>
                <span class="nt">&lt;event</span> <span class="na">graphic=</span><span class="s">"#note2"</span> <span class="na">start=</span><span class="s">"0.25"</span> <span class="na">duration=</span><span class="s">"0.25"</span><span class="nt">></span>
                    <span class="nt">&lt;note</span> <span class="na">pitch=</span><span class="s">"D4"</span><span class="nt">/></span>
                <span class="nt">&lt;/event></span>
                // ...and so on
            <span class="nt">&lt;/sequence></span>
        <span class="nt">&lt;/track></span>
    <span class="nt">&lt;/performance-events></span>
<span class="nt">&lt;/performance></span>
</pre>
   <h3 class="heading settled" data-level="8.3" id="mapping"><span class="secno">8.3. </span><span class="content">Mapping Between Position and Time</span><a class="self-link" href="#mapping"></a></h3>
   <p>What makes GMNX more powerful than just a combination of images and audio is its
ability to describe correspondences between the two. These correspondences
are not necessary to use GMNX, but can be provided wherever they are known.</p>
   <p>All of these mappings are optional, and applications may not count on their
presence. While they make sense for most CWMN, there are many kinds of music
notation that cannot supply them.</p>
   <h4 class="heading settled" data-level="8.3.1" id="performance-regions"><span class="secno">8.3.1. </span><span class="content">Performance Regions</span><a class="self-link" href="#performance-regions"></a></h4>
   <p>A <em>performance region</em> consists of two pieces of information:</p>
   <ol>
    <li data-md="">
     <p>The ID of a particular SVG element corresponding to the region.</p>
    <li data-md="">
     <p>A time range within some performance content.</p>
   </ol>
   <p>Where provided, this information allows applications to do the following:</p>
   <ul>
    <li data-md="">
     <p>modify the appearance of the element (e.g. by highlighting it) in conjunction with performance of the given time range</p>
    <li data-md="">
     <p>interpret user interaction with the element as referring to the performance time range</p>
   </ul>
   <p>Performance regions are identified by listing them in a performance’s <code><a data-link-type="element">performance-regions</a></code> element. The <code>graphic</code> attribute refers to the SVG element
for the region, while the <code>time</code> attribute supplies a time range within the performance
given in seconds since start.</p>
<pre class="language-xml highlight"><span class="nt">&lt;performance-regions></span>                
    <span class="nt">&lt;region</span> <span class="na">graphic=</span><span class="s">"#m1"</span> <span class="na">time=</span><span class="s">"0 1.8"</span><span class="nt">/></span>
    <span class="nt">&lt;region</span> <span class="na">graphic=</span><span class="s">"#m2"</span> <span class="na">time=</span><span class="s">"1.8 3.61"</span><span class="nt">/></span>
    <span class="nt">&lt;region</span> <span class="na">graphic=</span><span class="s">"#m3"</span> <span class="na">time=</span><span class="s">"3.61 5.38"</span><span class="nt">/></span>
    <span class="nt">&lt;region</span> <span class="na">graphic=</span><span class="s">"#m4"</span> <span class="na">time=</span><span class="s">"5.38 7.23"</span><span class="nt">/></span>
<span class="nt">&lt;/performance-regions></span>
</pre>
   <p>Region shapes can thus be any closed shape definable in SVG. Examples include
rectangles, polygons, ellipses, polylines, polysplines, shapes with hollow
cutouts... literally, anything.</p>
   <p>Region mappings are many-to-many in character: a given graphical
region may be mapped to any number of performance time ranges, and vice versa.
This is necessary to accommodate the varied possibilities of music notation,
which include among others:</p>
   <ul>
    <li data-md="">
     <p>disjoint and non-aligned regions that describe the same range of music (e.g. medieval partbooks)</p>
    <li data-md="">
     <p>a region that is repeated multiple times in performance</p>
    <li data-md="">
     <p>a region that is repeated with temporal overlap, or at varying speeds (e.g. rounds)</p>
    <li data-md="">
     <p>a region that is read in more than one direction or orientation (e.g. puzzle canons)</p>
    <li data-md="">
     <p>a region that may or may not be performed</p>
   </ul>
   <p>Thus, one can have region lists like this:</p>
<pre class="language-xml highlight"><span class="nt">&lt;performance-regions></span>                
    <span class="nt">&lt;region</span> <span class="na">graphic=</span><span class="s">"#m1part1"</span> <span class="na">time=</span><span class="s">"0 1.8"</span><span class="nt">/></span>
    <span class="nt">&lt;region</span> <span class="na">graphic=</span><span class="s">"#m1part2"</span> <span class="na">time=</span><span class="s">"0 1.8"</span><span class="nt">/></span>     // two regions exist for this time range
    <span class="nt">&lt;region</span> <span class="na">graphic=</span><span class="s">"#m1part1"</span> <span class="na">time=</span><span class="s">"1.8 3.61"</span><span class="nt">/></span>  // same region is repeated in performance
<span class="nt">&lt;/performance-regions></span>
</pre>
   <p>A <code><a data-link-type="element">performance-regions</a></code> element can also include one or more optional <code><a data-link-type="element">track-ref</a></code> elements that identify a set of specific tracks in the performance. Such regions
are taken as specific to the musical material in these tracks, rather than to the
material in the performance as a whole.</p>
   <h4 class="heading settled" data-level="8.3.2" id="performance-flows"><span class="secno">8.3.2. </span><span class="content">Performance Flows</span><a class="self-link" href="#performance-flows"></a></h4>
   <p>A <em>performance flow</em> is a special kind of performance region, in which
a smooth, continuous two-way mapping exists between each spatial point in the
region and a corresponding point in performance time. Each flow includes the
following information:</p>
   <ol>
    <li data-md="">
     <p>The ID of a particular SVG element corresponding to the region.</p>
    <li data-md="">
     <p>A geometric path that is followed smoothly by an imaginary cursor line within the SVG element,
as defined by a <code><a data-link-type="element">flow</a></code> child element.</p>
    <li data-md="">
     <p>A time range within some performance content.</p>
   </ol>
   <p>Flows are more powerful than regions, because every point in the region can be mapped
to a specific performance time within the range, and every performance time can be mapped
to a specific cursor position.</p>
   <p>Flows thus allow applications to:</p>
   <ul>
    <li data-md="">
     <p>position a cursor over the score in conjunction with an exact performance time</p>
    <li data-md="">
     <p>interpret user interaction with the region as indicating an exact performance time</p>
   </ul>
   <p>Within an SVG region, the <code><a data-link-type="element">flow</a></code> and <code><a data-link-type="element">flow-path</a></code> elements define the extent
and path of this cursor. The <code>pos</code> attributes define "position" ranges for the cursor
expressed in arbitrary time coordinates.</p>
<pre class="language-xml highlight"><span class="nt">&lt;flow</span> <span class="na">cursor=</span><span class="s">"0 40"</span><span class="nt">></span>    // cursor is a (0,40) vector in local coordinates
    <span class="nt">&lt;flow-path</span> <span class="na">d=</span><span class="s">"M 0 0 h 15"</span> <span class="na">pos=</span><span class="s">"0 1"</span><span class="nt">/></span>   // Move (0,0), horizontal(+15) over 0..1 position range
    <span class="nt">&lt;flow-path</span> <span class="na">d=</span><span class="s">"h 15"</span> <span class="na">pos=</span><span class="s">"1 2"</span><span class="nt">/></span>
    <span class="nt">&lt;flow-path</span> <span class="na">d=</span><span class="s">"h 35"</span> <span class="na">pos=</span><span class="s">"2 4"</span><span class="nt">/></span>
<span class="nt">&lt;/flow></span>
</pre>
   <p>With the SVG path approach shown above, cursors may progress in any desired fashion
through an arbitrarily shaped region. The cursor implicitly rotates as the tangent
vector of the path changes.</p>
   <p>Within a performance, the <code><a data-link-type="element">region-flow</a></code> element identifies a region with a
flow. It’s just like <code><a data-link-type="element">region</a></code> but it includes a position range; as the
performance progresses from the region’s start time to its end time, the
position of the flow cursor is advanced from its starting value to its ending
value:</p>
<pre class="language-xml highlight"><span class="nt">&lt;performance-regions></span>                
    <span class="nt">&lt;region-flow</span> <span class="na">graphic=</span><span class="s">"#m1"</span> <span class="na">time=</span><span class="s">"0 1.8"</span> <span class="na">pos=</span><span class="s">"0 4"</span><span class="nt">/></span>
    <span class="nt">&lt;region-flow</span> <span class="na">graphic=</span><span class="s">"#m2"</span> <span class="na">time=</span><span class="s">"1.8 3.61"</span> <span class="na">pos=</span><span class="s">"0 4"</span><span class="nt">/></span>
    <span class="nt">&lt;region-flow</span> <span class="na">graphic=</span><span class="s">"#m3"</span> <span class="na">time=</span><span class="s">"3.61 5.38"</span> <span class="na">pos=</span><span class="s">"0 4"</span><span class="nt">/></span>
    <span class="nt">&lt;region-flow</span> <span class="na">graphic=</span><span class="s">"#m4"</span> <span class="na">time=</span><span class="s">"5.38 7.23"</span> <span class="na">pos=</span><span class="s">"0 4"</span><span class="nt">/></span>
<span class="nt">&lt;/performance-regions></span>
</pre>
   <h4 class="heading settled" data-level="8.3.3" id="performance-events"><span class="secno">8.3.3. </span><span class="content">Performance Events</span><a class="self-link" href="#performance-events"></a></h4>
   <p><em>Performance events</em> are the final type of mapping supplied by GMNX,
whose purpose is to describe a discrete musical event. It includes
the following information:</p>
   <ol>
    <li data-md="">
     <p>The ID of a particular SVG element corresponding to the event.</p>
    <li data-md="">
     <p>A description of the event within a <code><a data-link-type="element">performance-events</a></code> element,
supplying its onset, duration and performance attributes such as
pitch, dynamics, etc.</p>
   </ol>
   <p>Performance event mappings can thus connect an arbitrary graphic
representation in the visual content, to a description of the sound that it
makes. Obviously, the richness of attributes like pitch, velocity and
performance techniques must be limited for reasons of interoperability.
Consequently, audio media remain the ultimate general vehicle for describing
sounds in their own native terms, in which case events refer to a time range.</p>
   <p>Performance event mappings allow applications to:</p>
   <ul>
    <li data-md="">
     <p>identify specific graphics within the score in conjunction with their occurrence in a performance</p>
    <li data-md="">
     <p>interpret user interaction with these graphics as indicating specific musical events in the performance
such as notes or time ranges.</p>
   </ul>
   <p>Although event mappings make sense for CWMN as well as applying to a great
deal of contemporary Western music, they are not universal and so are not
required by GMNX. Many simple notational ideas are not susceptible to event
descriptions, for example textual or graphical instructions to an improvising
performer, or color gradients as opposed to discrete symbols.</p>
   <p>Event mappings are effected by supplying a <code>graphic</code> attribute on an <code><a data-link-type="element">event</a></code> or <code><a data-link-type="element">note</a></code> element in an event sequence:</p>
<pre class="language-xml highlight"><span class="nt">&lt;event</span> <span class="na">graphic=</span><span class="s">"#note1"</span> <span class="na">start=</span><span class="s">"0"</span> <span class="na">duration=</span><span class="s">"0.25"</span><span class="nt">></span>
    <span class="nt">&lt;note</span> <span class="na">pitch=</span><span class="s">"E4"</span> <span class="na">dynamics=</span><span class="s">"100"</span><span class="nt">/></span>
<span class="nt">&lt;/event></span>
</pre>
   <h3 class="heading settled" data-level="8.4" id="a-gmnx-example"><span class="secno">8.4. </span><span class="content">A GMNX Example</span><a class="self-link" href="#a-gmnx-example"></a></h3>
   <p>Here is a simple example of the earlier CWMNX example, but structured as a
GMNX document and reduced to a single staff for clarity. This example illustrates
two kinds of mapping: performance flows and performance events.</p>
   <p class="note" role="note"><span>Note:</span> There is absolutely no requirement that music be structured as systems,
or staves, or use a rectangle-based layout, or have a left-to-right orientation.
This example merely uses a CWMN score because it’s familiar material.</p>
   <div style="font-size: .75em;">
<pre class="language-xml highlight"><span class="cp">&lt;?xml version="1.0" encoding="UTF-8"?></span>
<span class="nt">&lt;mnx></span>
    <span class="nt">&lt;head></span>
        <span class="nt">&lt;identification></span>
            <span class="nt">&lt;title></span>Hot Cross Buns<span class="nt">&lt;/title></span>
        <span class="nt">&lt;/identification></span>
    <span class="nt">&lt;/head></span>
    <span class="nt">&lt;score</span> <span class="na">content=</span><span class="s">"general"</span><span class="nt">></span>
        <span class="nt">&lt;svg</span> <span class="na">id=</span><span class="s">"page1"</span><span class="nt">></span>
            <span class="nt">&lt;g></span>
                <span class="nt">&lt;g></span>
                    // staff prefix: clefs, time signatures, etc...
                <span class="nt">&lt;/g></span>
                <span class="nt">&lt;g</span> <span class="na">id=</span><span class="s">"m1"</span> <span class="na">transform=</span><span class="s">"translate(20,0)"</span><span class="nt">></span>
                    // Describe a time flow in terms of an arbitrary notation position, mapped to local coordinates.
                    // The flow is an imaginary cursor that moves smoothly along a path described
                    // using the same commands as the SVG <span class="nt">&lt;path></span> element. The <span class="nt">&lt;code</span> data-opaque<span class="nt">></span>pos<span class="nt">&lt;/code></span> ranges 
                    // are in notation position units (which here are quarter notes), not time or pixels.
                    <span class="nt">&lt;mnx:flow</span> <span class="na">cursor=</span><span class="s">"0 40"</span><span class="nt">></span>
                        <span class="nt">&lt;flow-path</span> <span class="na">d=</span><span class="s">"M 0 0 h 15"</span> <span class="na">pos=</span><span class="s">"0 1"</span><span class="nt">/></span>
                        <span class="nt">&lt;flow-path</span> <span class="na">d=</span><span class="s">"h 15"</span> <span class="na">pos=</span><span class="s">"1 2"</span><span class="nt">/></span>
                        <span class="nt">&lt;flow-path</span> <span class="na">d=</span><span class="s">"h 35"</span> <span class="na">pos=</span><span class="s">"2 4"</span><span class="nt">/></span>
                    <span class="nt">&lt;/mnx:flow></span>
                    <span class="nt">&lt;path</span> <span class="na">id=</span><span class="s">"note1"</span> <span class="na">d=</span><span class="s">"..."</span><span class="nt">/></span>
                    <span class="nt">&lt;path</span> <span class="na">id=</span><span class="s">"note2"</span> <span class="na">d=</span><span class="s">"..."</span><span class="nt">/></span>
                    <span class="nt">&lt;path</span> <span class="na">id=</span><span class="s">"note3"</span> <span class="na">d=</span><span class="s">"..."</span><span class="nt">/></span>
                <span class="nt">&lt;/g></span>
                <span class="nt">&lt;g</span> <span class="na">id=</span><span class="s">"m2"</span> <span class="na">transform=</span><span class="s">"translate(100,0)"</span><span class="nt">></span>
                    <span class="nt">&lt;mnx:flow></span>
                        // similar to above
                    <span class="nt">&lt;/mnx:flow></span>
                    <span class="nt">&lt;path</span> <span class="na">id=</span><span class="s">"note4"</span> <span class="na">d=</span><span class="s">"..."</span><span class="nt">/></span>
                    <span class="nt">&lt;path</span> <span class="na">id=</span><span class="s">"note5"</span> <span class="na">d=</span><span class="s">"..."</span><span class="nt">/></span>
                    <span class="nt">&lt;path</span> <span class="na">id=</span><span class="s">"note6"</span> <span class="na">d=</span><span class="s">"..."</span><span class="nt">/></span>
                <span class="nt">&lt;/g></span>
                <span class="nt">&lt;g</span> <span class="na">id=</span><span class="s">"m3"</span> <span class="na">transform=</span><span class="s">"translate(200,0)"</span><span class="nt">></span>
                    // measure 3...
                <span class="nt">&lt;/g></span>
                <span class="nt">&lt;g</span> <span class="na">id=</span><span class="s">"m4"</span> <span class="na">transform=</span><span class="s">"translate(300,0)"</span><span class="nt">></span>
                    // measure 4...
                <span class="nt">&lt;/g></span>
            <span class="nt">&lt;/g></span>
        <span class="nt">&lt;/svg></span>
        <span class="nt">&lt;performance></span>
            <span class="nt">&lt;performance-name></span>Audio recording<span class="nt">&lt;/performance-name></span>
            <span class="nt">&lt;performance-media></span>
                <span class="nt">&lt;media-file</span> <span class="na">src=</span><span class="s">"hot-cross-buns.mp4"</span><span class="nt">/></span>
            <span class="nt">&lt;/performance-media></span>
            <span class="nt">&lt;performance-regions></span>                
                <span class="nt">&lt;region-flow</span> <span class="na">graphic=</span><span class="s">"#m1"</span> <span class="na">time=</span><span class="s">"0 1.8"</span> <span class="na">pos=</span><span class="s">"0 4"</span><span class="nt">/></span>
                <span class="nt">&lt;region-flow</span> <span class="na">graphic=</span><span class="s">"#m2"</span> <span class="na">time=</span><span class="s">"1.8 3.61"</span> <span class="na">pos=</span><span class="s">"0 4"</span><span class="nt">/></span>
                <span class="nt">&lt;region-flow</span> <span class="na">graphic=</span><span class="s">"#m3"</span> <span class="na">time=</span><span class="s">"3.61 5.38"</span> <span class="na">pos=</span><span class="s">"0 4"</span><span class="nt">/></span>
                <span class="nt">&lt;region-flow</span> <span class="na">graphic=</span><span class="s">"#m4"</span> <span class="na">time=</span><span class="s">"5.38 7.23"</span> <span class="na">pos=</span><span class="s">"0 4"</span><span class="nt">/></span>
            <span class="nt">&lt;/performance-regions></span>
        <span class="nt">&lt;/performance></span>
        <span class="nt">&lt;performance></span>
            <span class="nt">&lt;performance-name></span>Event sequence<span class="nt">&lt;/performance-name></span>
            <span class="nt">&lt;performance-events></span>
                <span class="nt">&lt;part></span>
                    <span class="nt">&lt;instrument-sound></span>keyboard.piano<span class="nt">&lt;/instrument-sound></span>
                    // Note that all units here are in seconds: this is a mechanical description of sound.
                    <span class="nt">&lt;sequence></span>
                        <span class="nt">&lt;event</span> <span class="na">graphic=</span><span class="s">"#note1"</span> <span class="na">start=</span><span class="s">"0"</span> <span class="na">duration=</span><span class="s">"0.25"</span><span class="nt">></span>
                            <span class="nt">&lt;note</span> <span class="na">pitch=</span><span class="s">"E4"</span> <span class="na">dynamics=</span><span class="s">"100"</span><span class="nt">/></span>
                        <span class="nt">&lt;/event></span>
                        <span class="nt">&lt;event</span> <span class="na">graphic=</span><span class="s">"#note2"</span> <span class="na">start=</span><span class="s">"0.25"</span> <span class="na">duration=</span><span class="s">"0.25"</span><span class="nt">></span>
                            <span class="nt">&lt;note</span> <span class="na">pitch=</span><span class="s">"D4"</span><span class="nt">/></span>
                        <span class="nt">&lt;/event></span>
                        <span class="nt">&lt;event</span> <span class="na">graphic=</span><span class="s">"#note3"</span> <span class="na">start=</span><span class="s">"0.5"</span> <span class="na">duration=</span><span class="s">"0.5"</span><span class="nt">></span>
                            <span class="nt">&lt;note</span> <span class="na">pitch=</span><span class="s">"C4"</span><span class="nt">/></span>
                        <span class="nt">&lt;/event></span>
                        <span class="nt">&lt;event</span> <span class="na">graphic=</span><span class="s">"#note4"</span> <span class="na">start=</span><span class="s">"1"</span> <span class="na">duration=</span><span class="s">"0.25"</span><span class="nt">></span>
                            <span class="nt">&lt;note</span> <span class="na">pitch=</span><span class="s">"E4"</span><span class="nt">/></span>
                        <span class="nt">&lt;/event></span>
                        <span class="nt">&lt;event</span> <span class="na">graphic=</span><span class="s">"#note5"</span> <span class="na">start=</span><span class="s">"1.25"</span> <span class="na">duration=</span><span class="s">"0.25"</span><span class="nt">></span>
                            <span class="nt">&lt;note</span> <span class="na">pitch=</span><span class="s">"D4"</span><span class="nt">/></span>
                        <span class="nt">&lt;/event></span>
                        <span class="nt">&lt;event</span> <span class="na">graphic=</span><span class="s">"#note6"</span> <span class="na">start=</span><span class="s">"1.5"</span> <span class="na">duration=</span><span class="s">"0.5"</span><span class="nt">></span>
                            <span class="nt">&lt;note</span> <span class="na">pitch=</span><span class="s">"C4"</span><span class="nt">/></span>
                        <span class="nt">&lt;/event></span>
                        // remaining events in song...
                    <span class="nt">&lt;/sequence></span>
                <span class="nt">&lt;/part></span>
            <span class="nt">&lt;/performance-events></span>
            <span class="nt">&lt;performance-regions></span>                
                <span class="nt">&lt;region-flow</span> <span class="na">graphic=</span><span class="s">"#m1"</span> <span class="na">time=</span><span class="s">"0 1"</span> <span class="na">pos=</span><span class="s">"0 4"</span><span class="nt">/></span>
                <span class="nt">&lt;region-flow</span> <span class="na">graphic=</span><span class="s">"#m2"</span> <span class="na">time=</span><span class="s">"1 2"</span> <span class="na">pos=</span><span class="s">"0 4"</span><span class="nt">/></span>
                <span class="nt">&lt;region-flow</span> <span class="na">graphic=</span><span class="s">"#m3"</span> <span class="na">time=</span><span class="s">"2 3"</span> <span class="na">pos=</span><span class="s">"0 4"</span><span class="nt">/></span>
                <span class="nt">&lt;region-flow</span> <span class="na">graphic=</span><span class="s">"#m4"</span> <span class="na">time=</span><span class="s">"3 4"</span> <span class="na">pos=</span><span class="s">"0 4"</span><span class="nt">/></span>
            <span class="nt">&lt;/performance-regions></span>
        <span class="nt">&lt;/performance></span>
    <span class="nt">&lt;/score></span>
<span class="nt">&lt;/mnx></span>
</pre>
   </div>
   <h3 class="heading settled" data-level="8.5" id="compilation-to-gmnx"><span class="secno">8.5. </span><span class="content">Compilation to GMNX</span><a class="self-link" href="#compilation-to-gmnx"></a></h3>
   <p>Because of the generality of GMNX, semantic flavors of MNX (like CWMNX) can be
fairly easily "compiled" to GMNX, by any application able to render them into
graphics and either audio or performance events.</p>
   <p>This has value as a bridge between applications that have a semantic
understanding of some type of music, and applications that do not (but which can
still profit from the packaging and mappings provided by a GMNX document).</p>
   <p>Where compilation occurs, <em>semantic traceability</em> is recommended as a
best practice by including an <code>mnx:semantic</code> attribute in each SVG element
that points to a corresponding semantic element in the original source.</p>
  </main>
  <div data-fill-with="conformance">
   <h2 class="no-ref no-num heading settled" id="conformance"><span class="content"> Conformance</span><a class="self-link" href="#conformance"></a></h2>
   <p> Conformance requirements are expressed with a combination of descriptive assertions and RFC 2119 terminology.
            The key words “MUST”, “MUST NOT”, “REQUIRED”, “SHALL”, “SHALL NOT”, “SHOULD”, “SHOULD NOT”, “RECOMMENDED”, “MAY”, and “OPTIONAL”
            in the normative parts of this document
            are to be interpreted as described in RFC 2119.
            However, for readability,
            these words do not appear in all uppercase letters in this specification. </p>
   <p> All of the text of this specification is normative
            except sections explicitly marked as non-normative, examples, and notes. <a data-link-type="biblio" href="#biblio-rfc2119">[RFC2119]</a> </p>
   <p> Examples in this specification are introduced with the words “for example”
            or are set apart from the normative text with <code>class="example"</code>, like this: </p>
   <div class="example" id="example-example"><a class="self-link" href="#example-example"></a> This is an example of an informative example. </div>
   <p> Informative notes begin with the word “Note”
            and are set apart from the normative text with <code>class="note"</code>, like this: </p>
   <p class="note" role="note"> Note, this is an informative note. </p>
  </div>
<script>
(function() {
  "use strict";
  var collapseSidebarText = '<span aria-hidden="true">←</span> '
                          + '<span>Collapse Sidebar</span>';
  var expandSidebarText   = '<span aria-hidden="true">→</span> '
                          + '<span>Pop Out Sidebar</span>';
  var tocJumpText         = '<span aria-hidden="true">↑</span> '
                          + '<span>Jump to Table of Contents</span>';

  var sidebarMedia = window.matchMedia('screen and (min-width: 78em)');
  var autoToggle   = function(e){ toggleSidebar(e.matches) };
  if(sidebarMedia.addListener) {
    sidebarMedia.addListener(autoToggle);
  }

  function toggleSidebar(on) {
    if (on == undefined) {
      on = !document.body.classList.contains('toc-sidebar');
    }

    /* Don’t scroll to compensate for the ToC if we’re above it already. */
    var headY = 0;
    var head = document.querySelector('.head');
    if (head) {
      // terrible approx of "top of ToC"
      headY += head.offsetTop + head.offsetHeight;
    }
    var skipScroll = window.scrollY < headY;

    var toggle = document.getElementById('toc-toggle');
    var tocNav = document.getElementById('toc');
    if (on) {
      var tocHeight = tocNav.offsetHeight;
      document.body.classList.add('toc-sidebar');
      document.body.classList.remove('toc-inline');
      toggle.innerHTML = collapseSidebarText;
      if (!skipScroll) {
        window.scrollBy(0, 0 - tocHeight);
      }
      tocNav.focus();
      sidebarMedia.addListener(autoToggle); // auto-collapse when out of room
    }
    else {
      document.body.classList.add('toc-inline');
      document.body.classList.remove('toc-sidebar');
      toggle.innerHTML = expandSidebarText;
      if (!skipScroll) {
        window.scrollBy(0, tocNav.offsetHeight);
      }
      if (toggle.matches(':hover')) {
        /* Unfocus button when not using keyboard navigation,
           because I don’t know where else to send the focus. */
        toggle.blur();
      }
    }
  }

  function createSidebarToggle() {
    /* Create the sidebar toggle in JS; it shouldn’t exist when JS is off. */
    var toggle = document.createElement('a');
      /* This should probably be a button, but appearance isn’t standards-track.*/
    toggle.id = 'toc-toggle';
    toggle.class = 'toc-toggle';
    toggle.href = '#toc';
    toggle.innerHTML = collapseSidebarText;

    sidebarMedia.addListener(autoToggle);
    var toggler = function(e) {
      e.preventDefault();
      sidebarMedia.removeListener(autoToggle); // persist explicit off states
      toggleSidebar();
      return false;
    }
    toggle.addEventListener('click', toggler, false);


    /* Get <nav id=toc-nav>, or make it if we don’t have one. */
    var tocNav = document.getElementById('toc-nav');
    if (!tocNav) {
      tocNav = document.createElement('p');
      tocNav.id = 'toc-nav';
      /* Prepend for better keyboard navigation */
      document.body.insertBefore(tocNav, document.body.firstChild);
    }
    /* While we’re at it, make sure we have a Jump to Toc link. */
    var tocJump = document.getElementById('toc-jump');
    if (!tocJump) {
      tocJump = document.createElement('a');
      tocJump.id = 'toc-jump';
      tocJump.href = '#toc';
      tocJump.innerHTML = tocJumpText;
      tocNav.appendChild(tocJump);
    }

    tocNav.appendChild(toggle);
  }

  var toc = document.getElementById('toc');
  if (toc) {
    createSidebarToggle();
    toggleSidebar(sidebarMedia.matches);

    /* If the sidebar has been manually opened and is currently overlaying the text
       (window too small for the MQ to add the margin to body),
       then auto-close the sidebar once you click on something in there. */
    toc.addEventListener('click', function(e) {
      if(e.target.tagName.toLowerCase() == "a" && document.body.classList.contains('toc-sidebar') && !sidebarMedia.matches) {
        toggleSidebar(false);
      }
    }, false);
  }
  else {
    console.warn("Can’t find Table of Contents. Please use <nav id='toc'> around the ToC.");
  }

  /* Wrap tables in case they overflow */
  var tables = document.querySelectorAll(':not(.overlarge) > table.data, :not(.overlarge) > table.index');
  var numTables = tables.length;
  for (var i = 0; i < numTables; i++) {
    var table = tables[i];
    var wrapper = document.createElement('div');
    wrapper.className = 'overlarge';
    table.parentNode.insertBefore(wrapper, table);
    wrapper.appendChild(table);
  }

})();
</script>
  <h2 class="no-num no-ref heading settled" id="index"><span class="content">Index</span><a class="self-link" href="#index"></a></h2>
  <h3 class="no-num no-ref heading settled" id="index-defined-elsewhere"><span class="content">Terms defined by reference</span><a class="self-link" href="#index-defined-elsewhere"></a></h3>
  <ul class="index">
   <li>
    <a data-link-type="biblio">[css-display-3]</a> defines the following terms:
    <ul>
     <li><a href="https://drafts.csswg.org/css-display-3/#propdef-display">display</a>
    </ul>
   <li>
    <a data-link-type="biblio">[css-fonts-3]</a> defines the following terms:
    <ul>
     <li><a href="https://drafts.csswg.org/css-fonts-3/#propdef-font-family">font-family</a>
     <li><a href="https://drafts.csswg.org/css-fonts-3/#propdef-font-style">font-style</a>
     <li><a href="https://drafts.csswg.org/css-fonts-3/#propdef-font-weight">font-weight</a>
    </ul>
   <li>
    <a data-link-type="biblio">[CSS22]</a> defines the following terms:
    <ul>
     <li><a href="https://drafts.csswg.org/css2/visufx.html#propdef-visibility">visibility</a>
    </ul>
   <li>
    <a data-link-type="biblio">[mediaqueries-4]</a> defines the following terms:
    <ul>
     <li><a href="https://drafts.csswg.org/mediaqueries-4/#media-query">media query</a>
    </ul>
  </ul>
  <h2 class="no-num no-ref heading settled" id="references"><span class="content">References</span><a class="self-link" href="#references"></a></h2>
  <h3 class="no-num no-ref heading settled" id="normative"><span class="content">Normative References</span><a class="self-link" href="#normative"></a></h3>
  <dl>
   <dt id="biblio-css-display-3">[CSS-DISPLAY-3]
   <dd>Elika Etemad. <a href="https://www.w3.org/TR/css-display-3/">CSS Display Module Level 3</a>. 20 July 2017. WD. URL: <a href="https://www.w3.org/TR/css-display-3/">https://www.w3.org/TR/css-display-3/</a>
   <dt id="biblio-css-fonts-3">[CSS-FONTS-3]
   <dd>John Daggett. <a href="https://www.w3.org/TR/css-fonts-3/">CSS Fonts Module Level 3</a>. 3 October 2013. CR. URL: <a href="https://www.w3.org/TR/css-fonts-3/">https://www.w3.org/TR/css-fonts-3/</a>
   <dt id="biblio-css22">[CSS22]
   <dd>Bert Bos. <a href="https://www.w3.org/TR/CSS22/">Cascading Style Sheets Level 2 Revision 2 (CSS 2.2) Specification</a>. 12 April 2016. WD. URL: <a href="https://www.w3.org/TR/CSS22/">https://www.w3.org/TR/CSS22/</a>
   <dt id="biblio-mediaqueries-4">[MEDIAQUERIES-4]
   <dd>Florian Rivoal; Tab Atkins Jr.. <a href="https://www.w3.org/TR/mediaqueries-4/">Media Queries Level 4</a>. 5 September 2017. CR. URL: <a href="https://www.w3.org/TR/mediaqueries-4/">https://www.w3.org/TR/mediaqueries-4/</a>
   <dt id="biblio-rfc2119">[RFC2119]
   <dd>S. Bradner. <a href="https://tools.ietf.org/html/rfc2119">Key words for use in RFCs to Indicate Requirement Levels</a>. March 1997. Best Current Practice. URL: <a href="https://tools.ietf.org/html/rfc2119">https://tools.ietf.org/html/rfc2119</a>
  </dl>