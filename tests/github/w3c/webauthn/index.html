<!doctype html><html lang="en">
 <head>
  <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
  <title>Web Authentication: An API for accessing Public Key Credentials - Level 1</title>
  <meta content="width=device-width, initial-scale=1, shrink-to-fit=no" name="viewport">
  <meta content="ED" name="w3c-status">
  <link href="https://www.w3.org/TR/webauthn/" rel="canonical">
<style>/* style-md-lists */

/* This is a weird hack for me not yet following the commonmark spec
   regarding paragraph and lists. */
[data-md] > :first-child {
    margin-top: 0;
}
[data-md] > :last-child {
    margin-bottom: 0;
}</style>
<style>/* style-selflinks */

.heading, .issue, .note, .example, li, dt {
    position: relative;
}
a.self-link {
    position: absolute;
    top: 0;
    left: calc(-1 * (3.5rem - 26px));
    width: calc(3.5rem - 26px);
    height: 2em;
    text-align: center;
    border: none;
    transition: opacity .2s;
    opacity: .5;
}
a.self-link:hover {
    opacity: 1;
}
.heading > a.self-link {
    font-size: 83%;
}
li > a.self-link {
    left: calc(-1 * (3.5rem - 26px) - 2em);
}
dfn > a.self-link {
    top: auto;
    left: auto;
    opacity: 0;
    width: 1.5em;
    height: 1.5em;
    background: gray;
    color: white;
    font-style: normal;
    transition: opacity .2s, background-color .2s, color .2s;
}
dfn:hover > a.self-link {
    opacity: 1;
}
dfn > a.self-link:hover {
    color: black;
}

a.self-link::before            { content: "¶"; }
.heading > a.self-link::before { content: "§"; }
dfn > a.self-link::before      { content: "#"; }</style>
<style>/* style-counters */

body {
    counter-reset: example figure issue;
}
.issue {
    counter-increment: issue;
}
.issue:not(.no-marker)::before {
    content: "Issue " counter(issue);
}

.example {
    counter-increment: example;
}
.example:not(.no-marker)::before {
    content: "Example " counter(example);
}
.invalid.example:not(.no-marker)::before,
.illegal.example:not(.no-marker)::before {
    content: "Invalid Example" counter(example);
}

figcaption {
    counter-increment: figure;
}
figcaption:not(.no-marker)::before {
    content: "Figure " counter(figure) " ";
}</style>
<style>/* style-var-click-highlighting */

    var { cursor: pointer; }
    var.selected0 { background-color: #F4D200; box-shadow: 0 0 0 2px #F4D200; }
    var.selected1 { background-color: #FF87A2; box-shadow: 0 0 0 2px #FF87A2; }
    var.selected2 { background-color: #96E885; box-shadow: 0 0 0 2px #96E885; }
    var.selected3 { background-color: #3EEED2; box-shadow: 0 0 0 2px #3EEED2; }
    var.selected4 { background-color: #EACFB6; box-shadow: 0 0 0 2px #EACFB6; }
    var.selected5 { background-color: #82DDFF; box-shadow: 0 0 0 2px #82DDFF; }
    var.selected6 { background-color: #FFBCF2; box-shadow: 0 0 0 2px #FFBCF2; }
    </style>
<style>/* style-autolinks */

.css.css, .property.property, .descriptor.descriptor {
    color: #005a9c;
    font-size: inherit;
    font-family: inherit;
}
.css::before, .property::before, .descriptor::before {
    content: "‘";
}
.css::after, .property::after, .descriptor::after {
    content: "’";
}
.property, .descriptor {
    /* Don't wrap property and descriptor names */
    white-space: nowrap;
}
.type { /* CSS value <type> */
    font-style: italic;
}
pre .property::before, pre .property::after {
    content: "";
}
[data-link-type="property"]::before,
[data-link-type="propdesc"]::before,
[data-link-type="descriptor"]::before,
[data-link-type="value"]::before,
[data-link-type="function"]::before,
[data-link-type="at-rule"]::before,
[data-link-type="selector"]::before,
[data-link-type="maybe"]::before {
    content: "‘";
}
[data-link-type="property"]::after,
[data-link-type="propdesc"]::after,
[data-link-type="descriptor"]::after,
[data-link-type="value"]::after,
[data-link-type="function"]::after,
[data-link-type="at-rule"]::after,
[data-link-type="selector"]::after,
[data-link-type="maybe"]::after {
    content: "’";
}

[data-link-type].production::before,
[data-link-type].production::after,
.prod [data-link-type]::before,
.prod [data-link-type]::after {
    content: "";
}

[data-link-type=element],
[data-link-type=element-attr] {
    font-family: Menlo, Consolas, "DejaVu Sans Mono", monospace;
    font-size: .9em;
}
[data-link-type=element]::before { content: "<" }
[data-link-type=element]::after  { content: ">" }

[data-link-type=biblio] {
    white-space: pre;
}</style>
<style>/* style-dfn-panel */

.dfn-panel {
    position: absolute;
    z-index: 35;
    height: auto;
    width: -webkit-fit-content;
    width: fit-content;
    max-width: 300px;
    max-height: 500px;
    overflow: auto;
    padding: 0.5em 0.75em;
    font: small Helvetica Neue, sans-serif, Droid Sans Fallback;
    background: #DDDDDD;
    color: black;
    border: outset 0.2em;
}
.dfn-panel:not(.on) { display: none; }
.dfn-panel * { margin: 0; padding: 0; text-indent: 0; }
.dfn-panel > b { display: block; }
.dfn-panel a { color: black; }
.dfn-panel a:not(:hover) { text-decoration: none !important; border-bottom: none !important; }
.dfn-panel > b + b { margin-top: 0.25em; }
.dfn-panel ul { padding: 0; }
.dfn-panel li { list-style: inside; }
.dfn-panel.activated {
    display: inline-block;
    position: fixed;
    left: .5em;
    bottom: 2em;
    margin: 0 auto;
    max-width: calc(100vw - 1.5em - .4em - .5em);
    max-height: 30vh;
}

.dfn-paneled { cursor: pointer; }
</style>
<style>/* style-syntax-highlighting */
pre.idl.highlight { color: #708090; }
.highlight:not(.idl) { background: hsl(24, 20%, 95%); }
code.highlight { padding: .1em; border-radius: .3em; }
pre.highlight, pre > code.highlight { display: block; padding: 1em; margin: .5em 0; overflow: auto; border-radius: 0; }
.highlight .c { color: #708090 } /* Comment */
.highlight .k { color: #990055 } /* Keyword */
.highlight .l { color: #000000 } /* Literal */
.highlight .n { color: #0077aa } /* Name */
.highlight .o { color: #999999 } /* Operator */
.highlight .p { color: #999999 } /* Punctuation */
.highlight .cm { color: #708090 } /* Comment.Multiline */
.highlight .cp { color: #708090 } /* Comment.Preproc */
.highlight .c1 { color: #708090 } /* Comment.Single */
.highlight .cs { color: #708090 } /* Comment.Special */
.highlight .kc { color: #990055 } /* Keyword.Constant */
.highlight .kd { color: #990055 } /* Keyword.Declaration */
.highlight .kn { color: #990055 } /* Keyword.Namespace */
.highlight .kp { color: #990055 } /* Keyword.Pseudo */
.highlight .kr { color: #990055 } /* Keyword.Reserved */
.highlight .kt { color: #990055 } /* Keyword.Type */
.highlight .ld { color: #000000 } /* Literal.Date */
.highlight .m { color: #000000 } /* Literal.Number */
.highlight .s { color: #a67f59 } /* Literal.String */
.highlight .na { color: #0077aa } /* Name.Attribute */
.highlight .nc { color: #0077aa } /* Name.Class */
.highlight .no { color: #0077aa } /* Name.Constant */
.highlight .nd { color: #0077aa } /* Name.Decorator */
.highlight .ni { color: #0077aa } /* Name.Entity */
.highlight .ne { color: #0077aa } /* Name.Exception */
.highlight .nf { color: #0077aa } /* Name.Function */
.highlight .nl { color: #0077aa } /* Name.Label */
.highlight .nn { color: #0077aa } /* Name.Namespace */
.highlight .py { color: #0077aa } /* Name.Property */
.highlight .nt { color: #669900 } /* Name.Tag */
.highlight .nv { color: #222222 } /* Name.Variable */
.highlight .ow { color: #999999 } /* Operator.Word */
.highlight .mb { color: #000000 } /* Literal.Number.Bin */
.highlight .mf { color: #000000 } /* Literal.Number.Float */
.highlight .mh { color: #000000 } /* Literal.Number.Hex */
.highlight .mi { color: #000000 } /* Literal.Number.Integer */
.highlight .mo { color: #000000 } /* Literal.Number.Oct */
.highlight .sb { color: #a67f59 } /* Literal.String.Backtick */
.highlight .sc { color: #a67f59 } /* Literal.String.Char */
.highlight .sd { color: #a67f59 } /* Literal.String.Doc */
.highlight .s2 { color: #a67f59 } /* Literal.String.Double */
.highlight .se { color: #a67f59 } /* Literal.String.Escape */
.highlight .sh { color: #a67f59 } /* Literal.String.Heredoc */
.highlight .si { color: #a67f59 } /* Literal.String.Interpol */
.highlight .sx { color: #a67f59 } /* Literal.String.Other */
.highlight .sr { color: #a67f59 } /* Literal.String.Regex */
.highlight .s1 { color: #a67f59 } /* Literal.String.Single */
.highlight .ss { color: #a67f59 } /* Literal.String.Symbol */
.highlight .vc { color: #0077aa } /* Name.Variable.Class */
.highlight .vg { color: #0077aa } /* Name.Variable.Global */
.highlight .vi { color: #0077aa } /* Name.Variable.Instance */
.highlight .il { color: #000000 } /* Literal.Number.Integer.Long */
</style>
  <link href="https://www.w3.org/StyleSheets/TR/2016/W3C-ED" rel="stylesheet" type="text/css">
 <body class="h-entry">
  <div class="head">
   <header>
    <p data-fill-with="logo"><a href="https://www.w3.org/"><img alt="W3C" height="48" src="https://www.w3.org/StyleSheets/TR/2016/logos/W3C" width="72"></a> </p>
    <h1>Web Authentication:<br>An API for accessing Public Key Credentials<br>Level 1</h1>
    <h2 class="no-num no-toc no-ref heading settled" id="subtitle"><span class="content">Editor’s Draft, <time class="dt-updated" datetime="1970-01-01">1 January 1970</time></span></h2>
   </header>
   <div data-fill-with="spec-metadata">
    <dl>
     <dt>This version:
     <dd><a class="u-url" href="https://w3c.github.io/webauthn/">https://w3c.github.io/webauthn/</a>
     <dt>Latest published version:
     <dd><a href="https://www.w3.org/TR/webauthn/">https://www.w3.org/TR/webauthn/</a>
     <dt>Previous Versions:
     <dd><a href="https://www.w3.org/TR/2018/CR-webauthn-20180320/" rel="prev">https://www.w3.org/TR/2018/CR-webauthn-20180320/</a>
     <dd><a href="https://www.w3.org/TR/2018/WD-webauthn-20180315/" rel="prev">https://www.w3.org/TR/2018/WD-webauthn-20180315/</a>
     <dd><a href="https://www.w3.org/TR/2018/WD-webauthn-20180306/" rel="prev">https://www.w3.org/TR/2018/WD-webauthn-20180306/</a>
     <dd><a href="https://www.w3.org/TR/2017/WD-webauthn-20171205/" rel="prev">https://www.w3.org/TR/2017/WD-webauthn-20171205/</a>
     <dd><a href="https://www.w3.org/TR/2017/WD-webauthn-20170811/" rel="prev">https://www.w3.org/TR/2017/WD-webauthn-20170811/</a>
     <dd><a href="https://www.w3.org/TR/2017/WD-webauthn-20170505/" rel="prev">https://www.w3.org/TR/2017/WD-webauthn-20170505/</a>
     <dd><a href="https://www.w3.org/TR/2017/WD-webauthn-20170216/" rel="prev">https://www.w3.org/TR/2017/WD-webauthn-20170216/</a>
     <dd><a href="https://www.w3.org/TR/2016/WD-webauthn-20161207/" rel="prev">https://www.w3.org/TR/2016/WD-webauthn-20161207/</a>
     <dd><a href="https://www.w3.org/TR/2016/WD-webauthn-20160928/" rel="prev">https://www.w3.org/TR/2016/WD-webauthn-20160928/</a>
     <dd><a href="https://www.w3.org/TR/2016/WD-webauthn-20160902/" rel="prev">https://www.w3.org/TR/2016/WD-webauthn-20160902/</a>
     <dd><a href="https://www.w3.org/TR/2016/WD-webauthn-20160531/" rel="prev">https://www.w3.org/TR/2016/WD-webauthn-20160531/</a>
     <dt>Issue Tracking:
     <dd><a href="https://github.com/w3c/webauthn/issues">GitHub</a>
     <dt class="editor">Editors:
     <dd class="editor p-author h-card vcard" data-editor-id="47648"><a class="p-name fn u-email email" href="mailto:balfanz@google.com">Dirk Balfanz</a> (<span class="p-org org">Google</span>)
     <dd class="editor p-author h-card vcard" data-editor-id="87258"><a class="p-name fn u-email email" href="mailto:aczeskis@google.com">Alexei Czeskis</a> (<span class="p-org org">Google</span>)
     <dd class="editor p-author h-card vcard" data-editor-id="43843"><a class="p-name fn u-email email" href="mailto:Jeff.Hodges@paypal.com">Jeff Hodges</a> (<span class="p-org org">PayPal</span>)
     <dd class="editor p-author h-card vcard" data-editor-id="87240"><a class="p-name fn u-email email" href="mailto:jc@mozilla.com">J.C. Jones</a> (<span class="p-org org">Mozilla</span>)
     <dd class="editor p-author h-card vcard" data-editor-id="38745"><a class="p-name fn u-email email" href="mailto:mbj@microsoft.com">Michael B. Jones</a> (<span class="p-org org">Microsoft</span>)
     <dd class="editor p-author h-card vcard" data-editor-id="99318"><a class="p-name fn u-email email" href="mailto:akshayku@microsoft.com">Akshay Kumar</a> (<span class="p-org org">Microsoft</span>)
     <dd class="editor p-author h-card vcard" data-editor-id="94342"><a class="p-name fn u-email email" href="mailto:huliao@microsoft.com">Angelo Liao</a> (<span class="p-org org">Microsoft</span>)
     <dd class="editor p-author h-card vcard" data-editor-id="84447"><a class="p-name fn u-email email" href="mailto:rolf@noknok.com">Rolf Lindemann</a> (<span class="p-org org">Nok Nok Labs</span>)
     <dd class="editor p-author h-card vcard"><a class="p-name fn u-email email" href="mailto:emil@yubico.com">Emil Lundberg</a> (<span class="p-org org">Yubico</span>)
     <dt class="editor">Former Editors:
     <dd class="editor p-author h-card vcard" data-editor-id="55440"><a class="p-name fn u-email email" href="mailto:vijay.bharadwaj@microsoft.com">Vijay Bharadwaj</a> (<span class="p-org org">Microsoft</span>)
     <dd class="editor p-author h-card vcard" data-editor-id="87332"><a class="p-name fn u-email email" href="mailto:arnarb@google.com">Arnar Birgisson</a> (<span class="p-org org">Google</span>)
     <dd class="editor p-author h-card vcard" data-editor-id="84817"><a class="p-name fn u-email email" href="mailto:hlevangong@paypal.com">Hubert Le Van Gong</a> (<span class="p-org org">PayPal</span>)
     <dt>Contributors:
     <dd><a href="mailto:cbrand@google.com">Christiaan Brand</a> (Google)
     <dd><a href="mailto:agl@google.com">Adam Langley</a> (Google)
     <dd><a href="mailto:mandyam@qti.qualcomm.com">Giridhar Mandyam</a> (Qualcomm)
     <dd><a href="mailto:mkwst@google.com">Mike West</a> (Google)
     <dd><a href="mailto:jyasskin@google.com">Jeffrey Yasskin</a> (Google)
     <dt>Tests:
     <dd><a href="https://github.com/w3c/web-platform-tests/tree/master/webauthn">web-platform-tests webauthn/</a> (<a href="https://github.com/w3c/web-platform-tests/labels/webauthn">ongoing work</a>)
    </dl>
   </div>
   <div data-fill-with="warning"></div>
   <p class="copyright" data-fill-with="copyright"><a href="https://www.w3.org/Consortium/Legal/ipr-notice#Copyright">Copyright</a> © 1970 <a href="https://www.w3.org/"><abbr title="World Wide Web Consortium">W3C</abbr></a><sup>®</sup> (<a href="http://www.csail.mit.edu/"><abbr title="Massachusetts Institute of Technology">MIT</abbr></a>, <a href="http://www.ercim.eu/"><abbr title="European Research Consortium for Informatics and Mathematics">ERCIM</abbr></a>, <a href="http://www.keio.ac.jp/">Keio</a>, <a href="http://ev.buaa.edu.cn/">Beihang</a>). W3C <a href="https://www.w3.org/Consortium/Legal/ipr-notice#Legal_Disclaimer">liability</a>, <a href="https://www.w3.org/Consortium/Legal/ipr-notice#W3C_Trademarks">trademark</a> and <a href="https://www.w3.org/Consortium/Legal/copyright-documents">document use</a> rules apply. </p>
   <hr title="Separator for header">
  </div>
  <div class="p-summary" data-fill-with="abstract">
   <h2 class="no-num no-toc no-ref heading settled" id="abstract"><span class="content">Abstract</span></h2>
   <p>This specification defines an API enabling the creation and use of strong, attested, scoped, public key-based

credentials by web applications, for the purpose of strongly authenticating users. Conceptually, one or more <a data-link-type="dfn" href="#public-key-credential" id="ref-for-public-key-credential">public key
credentials</a>, each scoped to a given <a data-link-type="dfn" href="#relying-party" id="ref-for-relying-party">Relying Party</a>, are created and stored on an <a data-link-type="dfn" href="#authenticator" id="ref-for-authenticator">authenticator</a> by the user agent in
conjunction with the web application. The user agent mediates access to <a data-link-type="dfn" href="#public-key-credential" id="ref-for-public-key-credential①">public key credentials</a> in order to preserve user
privacy. <a data-link-type="dfn" href="#authenticator" id="ref-for-authenticator①">Authenticators</a> are responsible for ensuring that no operation is performed without <a data-link-type="dfn" href="#user-consent" id="ref-for-user-consent">user consent</a>. <a data-link-type="dfn" href="#authenticator" id="ref-for-authenticator②">Authenticators</a> provide cryptographic proof of their properties to <a data-link-type="dfn" href="#relying-party" id="ref-for-relying-party①">relying parties</a> via <a data-link-type="dfn" href="#attestation" id="ref-for-attestation">attestation</a>. This
specification also describes the functional model for WebAuthn conformant <a data-link-type="dfn" href="#authenticator" id="ref-for-authenticator③">authenticators</a>, including their signature and <a data-link-type="dfn" href="#attestation" id="ref-for-attestation①">attestation</a> functionality.</p>
  </div>
  <h2 class="no-num no-toc no-ref heading settled" id="status"><span class="content">Status of this document</span></h2>
  <div data-fill-with="status">
   <p> <em>This section describes the status of this document at the time of its publication. Other
    documents may supersede this document. A list of current <abbr title="World Wide Web Consortium">W3C</abbr> publications and the latest revision of this
    technical report can be found in the <a href="https://www.w3.org/TR/"><abbr title="World Wide Web Consortium">W3C</abbr> technical
    reports index</a> at http://www.w3.org/TR/.</em> </p>
   <p> This document was published by the <a href="https://www.w3.org/webauthn/">Web Authentication Working Group</a> as an Editors' Draft. This document is intended to become a W3C Recommendation.

    Feedback and comments on this specification are welcome. Please use <a href="https://github.com/w3c/webauthn/issues">Github issues</a>.
    Discussions may also be found in the <a href="https://lists.w3.org/Archives/Public/public-webauthn/">public-webauthn@w3.org archives</a>. </p>
   <p> Publication as an Editors' Draft does not imply endorsement by the <abbr title="World Wide Web Consortium">W3C</abbr> Membership. This is a draft document and may
    be updated, replaced or obsoleted by other documents at any time. It is inappropriate to cite
    this document as other than work in progress. </p>
   <p> This document was produced by a group operating under the <a href="https://www.w3.org/Consortium/Patent-Policy/"> <abbr title="World Wide Web Consortium">W3C</abbr> Patent Policy</a>. <abbr title="World Wide Web Consortium">W3C</abbr> maintains a <a href="https://www.w3.org/2004/01/pp-impl/87227/status" rel="disclosure">public list of any
    patent disclosures</a> made in connection with the deliverables of the group; that page also
    includes instructions for disclosing a patent. An individual who has actual knowledge of a
    patent which the individual believes contains <a href="https://www.w3.org/Consortium/Patent-Policy/#def-essential">Essential
    Claim(s)</a> must disclose the information in accordance with <a href="https://www.w3.org/Consortium/Patent-Policy/#sec-Disclosure">section 6 of the <abbr title="World Wide Web Consortium">W3C</abbr> Patent Policy</a>. </p>
   <p> This document is governed by the <a href="https://www.w3.org/2018/Process-20180201/" id="w3c_process_revision">1 February 2018 W3C Process Document</a>. </p>
   <p></p>
  </div>
  <div data-fill-with="at-risk"></div>
  <nav data-fill-with="table-of-contents" id="toc">
   <h2 class="no-num no-toc no-ref" id="contents">Table of Contents</h2>
   <ol class="toc" role="directory">
    <li>
     <a href="#intro"><span class="secno">1</span> <span class="content">Introduction</span></a>
     <ol class="toc">
      <li>
       <a href="#use-cases"><span class="secno">1.1</span> <span class="content">Use Cases</span></a>
       <ol class="toc">
        <li><a href="#usecase-registration"><span class="secno">1.1.1</span> <span class="content">Registration</span></a>
        <li><a href="#usecase-authentication"><span class="secno">1.1.2</span> <span class="content">Authentication</span></a>
        <li><a href="#other-configurations"><span class="secno">1.1.3</span> <span class="content">Other use cases and configurations</span></a>
       </ol>
     </ol>
    <li>
     <a href="#conformance"><span class="secno">2</span> <span class="content">Conformance</span></a>
     <ol class="toc">
      <li><a href="#conforming-user-agents"><span class="secno">2.1</span> <span class="content">User Agents</span></a>
      <li>
       <a href="#conforming-authenticators"><span class="secno">2.2</span> <span class="content">Authenticators</span></a>
       <ol class="toc">
        <li><a href="#conforming-authenticators-u2f"><span class="secno">2.2.1</span> <span class="content">Backwards Compatibility with FIDO U2F</span></a>
       </ol>
      <li><a href="#conforming-relying-parties"><span class="secno">2.3</span> <span class="content">Relying Parties</span></a>
      <li><a href="#conforming-all-classes"><span class="secno">2.4</span> <span class="content">All Conformance Classes</span></a>
     </ol>
    <li><a href="#dependencies"><span class="secno">3</span> <span class="content">Dependencies</span></a>
    <li><a href="#terminology"><span class="secno">4</span> <span class="content">Terminology</span></a>
    <li>
     <a href="#api"><span class="secno">5</span> <span class="content"><span>Web Authentication API</span></span></a>
     <ol class="toc">
      <li>
       <a href="#iface-pkcredential"><span class="secno">5.1</span> <span class="content"><span><code>PublicKeyCredential</code></span> Interface</span></a>
       <ol class="toc">
        <li><a href="#credentialcreationoptions-extension"><span class="secno">5.1.1</span> <span class="content"><code>CredentialCreationOptions</code> Dictionary Extension</span></a>
        <li><a href="#credentialrequestoptions-extension"><span class="secno">5.1.2</span> <span class="content"><code>CredentialRequestOptions</code> Dictionary Extension</span></a>
        <li><a href="#createCredential"><span class="secno">5.1.3</span> <span class="content">Create a new credential - PublicKeyCredential’s <code>[[Create]](origin, options, sameOriginWithAncestors)</code> method</span></a>
        <li>
         <a href="#getAssertion"><span class="secno">5.1.4</span> <span class="content">Use an existing credential to make an assertion - PublicKeyCredential’s <code>[[Get]](options)</code> method</span></a>
         <ol class="toc">
          <li><a href="#discover-from-external-source"><span class="secno">5.1.4.1</span> <span class="content">PublicKeyCredential’s <code><span><code>[[DiscoverFromExternalSource]](origin, options, sameOriginWithAncestors)</code></span></code> method</span></a>
         </ol>
        <li><a href="#storeCredential"><span class="secno">5.1.5</span> <span class="content">Store an existing credential - PublicKeyCredential’s <code>[[Store]](credential, sameOriginWithAncestors)</code> method</span></a>
        <li><a href="#preventSilentAccessCredential"><span class="secno">5.1.6</span> <span class="content">Preventing silent access to an existing credential - PublicKeyCredential’s <code>[[preventSilentAccess]](credential, sameOriginWithAncestors)</code> method</span></a>
        <li><a href="#isUserVerifyingPlatformAuthenticatorAvailable"><span class="secno">5.1.7</span> <span class="content">Availability of User-Verifying Platform Authenticator - PublicKeyCredential’s <code>isUserVerifyingPlatformAuthenticatorAvailable()</code> method</span></a>
       </ol>
      <li>
       <a href="#iface-authenticatorresponse"><span class="secno">5.2</span> <span class="content">Authenticator Responses (interface <span><code>AuthenticatorResponse</code></span>)</span></a>
       <ol class="toc">
        <li><a href="#iface-authenticatorattestationresponse"><span class="secno">5.2.1</span> <span class="content">Information about Public Key Credential (interface <span><code>AuthenticatorAttestationResponse</code></span>)</span></a>
        <li><a href="#iface-authenticatorassertionresponse"><span class="secno">5.2.2</span> <span class="content">Web Authentication Assertion (interface <span><code>AuthenticatorAssertionResponse</code></span>)</span></a>
       </ol>
      <li><a href="#credential-params"><span class="secno">5.3</span> <span class="content">Parameters for Credential Generation (dictionary <span><code>PublicKeyCredentialParameters</code></span>)</span></a>
      <li>
       <a href="#dictionary-makecredentialoptions"><span class="secno">5.4</span> <span class="content">Options for Credential Creation (dictionary <span><code>PublicKeyCredentialCreationOptions</code></span>)</span></a>
       <ol class="toc">
        <li><a href="#dictionary-pkcredentialentity"><span class="secno">5.4.1</span> <span class="content">Public Key Entity Description (dictionary <span><code>PublicKeyCredentialEntity</code></span>)</span></a>
        <li><a href="#sctn-rp-credential-params"><span class="secno">5.4.2</span> <span class="content">RP Parameters for Credential Generation (dictionary <span><code>PublicKeyCredentialRpEntity</code></span>)</span></a>
        <li><a href="#sctn-user-credential-params"><span class="secno">5.4.3</span> <span class="content">User Account Parameters for Credential Generation (dictionary <span><code>PublicKeyCredentialUserEntity</code></span>)</span></a>
        <li><a href="#authenticatorSelection"><span class="secno">5.4.4</span> <span class="content">Authenticator Selection Criteria (dictionary <span><code>AuthenticatorSelectionCriteria</code></span>)</span></a>
        <li><a href="#attachment"><span class="secno">5.4.5</span> <span class="content">Authenticator Attachment enumeration (enum <span><code>AuthenticatorAttachment</code></span>)</span></a>
        <li><a href="#attestation-convey"><span class="secno">5.4.6</span> <span class="content"><span>Attestation Conveyance</span> Preference enumeration (enum <span><code>AttestationConveyancePreference</code></span>)</span></a>
       </ol>
      <li><a href="#assertion-options"><span class="secno">5.5</span> <span class="content">Options for Assertion Generation (dictionary <span><code>PublicKeyCredentialRequestOptions</code></span>)</span></a>
      <li><a href="#abortoperation"><span class="secno">5.6</span> <span class="content">Abort operations with <code>AbortSignal</code></span></a>
      <li><a href="#iface-authentication-extensions-client-inputs"><span class="secno">5.7</span> <span class="content">Authentication Extensions Client Inputs (typedef <code class="idl"><span>AuthenticationExtensionsClientInputs</span></code>)</span></a>
      <li><a href="#iface-authentication-extensions-client-outputs"><span class="secno">5.8</span> <span class="content">Authentication Extensions Client Outputs (typedef <code class="idl"><span>AuthenticationExtensionsClientOutputs</span></code>)</span></a>
      <li><a href="#iface-authentication-extensions-authenticator-inputs"><span class="secno">5.9</span> <span class="content">Authentication Extensions Authenticator Inputs (typedef <code class="idl"><span>AuthenticationExtensionsAuthenticatorInputs</span></code>)</span></a>
      <li>
       <a href="#supporting-data-structures"><span class="secno">5.10</span> <span class="content">Supporting Data Structures</span></a>
       <ol class="toc">
        <li><a href="#sec-client-data"><span class="secno">5.10.1</span> <span class="content">Client data used in WebAuthn signatures (dictionary <span><code>CollectedClientData</code></span>)</span></a>
        <li><a href="#credentialType"><span class="secno">5.10.2</span> <span class="content">Credential Type enumeration (enum <span><code>PublicKeyCredentialType</code></span>)</span></a>
        <li><a href="#credential-dictionary"><span class="secno">5.10.3</span> <span class="content">Credential Descriptor (dictionary <span><code>PublicKeyCredentialDescriptor</code></span>)</span></a>
        <li><a href="#transport"><span class="secno">5.10.4</span> <span class="content">Authenticator Transport enumeration (enum <span><code>AuthenticatorTransport</code></span>)</span></a>
        <li><a href="#alg-identifier"><span class="secno">5.10.5</span> <span class="content">Cryptographic Algorithm Identifier (typedef <code class="idl"><span>COSEAlgorithmIdentifier</span></code>)</span></a>
        <li><a href="#userVerificationRequirement"><span class="secno">5.10.6</span> <span class="content">User Verification Requirement enumeration (enum <span><code>UserVerificationRequirement</code></span>)</span></a>
       </ol>
     </ol>
    <li>
     <a href="#sctn-authenticator-model"><span class="secno">6</span> <span class="content">WebAuthn <span>Authenticator Model</span></span></a>
     <ol class="toc">
      <li>
       <a href="#sec-authenticator-data"><span class="secno">6.1</span> <span class="content">Authenticator data</span></a>
       <ol class="toc">
        <li><a href="#sign-counter"><span class="secno">6.1.1</span> <span class="content"><span>Signature Counter</span> Considerations</span></a>
        <li><a href="#sctn-fido-u2f-sig-format-compat"><span class="secno">6.1.2</span> <span class="content">FIDO U2F signature format compatibility</span></a>
       </ol>
      <li>
       <a href="#authenticator-ops"><span class="secno">6.2</span> <span class="content"><span>Authenticator operations</span></span></a>
       <ol class="toc">
        <li><a href="#op-lookup-credsource-by-credid"><span class="secno">6.2.1</span> <span class="content">Lookup Credential Source by Credential ID algorithm</span></a>
        <li><a href="#op-make-cred"><span class="secno">6.2.2</span> <span class="content">The <span>authenticatorMakeCredential</span> operation</span></a>
        <li><a href="#op-get-assertion"><span class="secno">6.2.3</span> <span class="content"> The <span>authenticatorGetAssertion</span> operation</span></a>
        <li><a href="#op-cancel"><span class="secno">6.2.4</span> <span class="content">The <span>authenticatorCancel</span> operation</span></a>
       </ol>
      <li>
       <a href="#sctn-attestation"><span class="secno">6.3</span> <span class="content">Attestation</span></a>
       <ol class="toc">
        <li>
         <a href="#sec-attested-credential-data"><span class="secno">6.3.1</span> <span class="content">Attested credential data</span></a>
         <ol class="toc">
          <li><a href="#sctn-encoded-credPubKey-examples"><span class="secno">6.3.1.1</span> <span class="content">Examples of <code>credentialPublicKey</code> Values encoded in COSE_Key format</span></a>
         </ol>
        <li><a href="#attestation-formats"><span class="secno">6.3.2</span> <span class="content">Attestation Statement Formats</span></a>
        <li><a href="#sctn-attestation-types"><span class="secno">6.3.3</span> <span class="content">Attestation Types</span></a>
        <li><a href="#generating-an-attestation-object"><span class="secno">6.3.4</span> <span class="content">Generating an Attestation Object</span></a>
        <li><a href="#signature-attestation-types"><span class="secno">6.3.5</span> <span class="content">Signature Formats for Packed Attestation, FIDO U2F Attestation, and Assertion Signatures</span></a>
       </ol>
     </ol>
    <li>
     <a href="#rp-operations"><span class="secno">7</span> <span class="content"><span>Relying Party</span> Operations</span></a>
     <ol class="toc">
      <li><a href="#registering-a-new-credential"><span class="secno">7.1</span> <span class="content">Registering a new credential</span></a>
      <li><a href="#verifying-assertion"><span class="secno">7.2</span> <span class="content">Verifying an authentication assertion</span></a>
     </ol>
    <li>
     <a href="#defined-attestation-formats"><span class="secno">8</span> <span class="content">Defined Attestation Statement Formats</span></a>
     <ol class="toc">
      <li><a href="#sctn-attstn-fmt-ids"><span class="secno">8.1</span> <span class="content">Attestation Statement Format Identifiers</span></a>
      <li>
       <a href="#packed-attestation"><span class="secno">8.2</span> <span class="content">Packed Attestation Statement Format</span></a>
       <ol class="toc">
        <li><a href="#packed-attestation-cert-requirements"><span class="secno">8.2.1</span> <span class="content">Packed attestation statement certificate requirements</span></a>
       </ol>
      <li>
       <a href="#tpm-attestation"><span class="secno">8.3</span> <span class="content">TPM Attestation Statement Format</span></a>
       <ol class="toc">
        <li><a href="#tpm-cert-requirements"><span class="secno">8.3.1</span> <span class="content">TPM attestation statement certificate requirements</span></a>
       </ol>
      <li><a href="#android-key-attestation"><span class="secno">8.4</span> <span class="content">Android Key Attestation Statement Format</span></a>
      <li><a href="#android-safetynet-attestation"><span class="secno">8.5</span> <span class="content">Android SafetyNet Attestation Statement Format</span></a>
      <li><a href="#fido-u2f-attestation"><span class="secno">8.6</span> <span class="content">FIDO U2F Attestation Statement Format</span></a>
      <li><a href="#none-attestation"><span class="secno">8.7</span> <span class="content">None Attestation Statement Format</span></a>
     </ol>
    <li>
     <a href="#extensions"><span class="secno">9</span> <span class="content">WebAuthn Extensions</span></a>
     <ol class="toc">
      <li><a href="#sctn-extension-id"><span class="secno">9.1</span> <span class="content">Extension Identifiers</span></a>
      <li><a href="#sctn-extension-specification"><span class="secno">9.2</span> <span class="content">Defining extensions</span></a>
      <li><a href="#sctn-extension-request-parameters"><span class="secno">9.3</span> <span class="content">Extending request parameters</span></a>
      <li><a href="#sctn-client-extension-processing"><span class="secno">9.4</span> <span class="content"><span>Client extension processing</span></span></a>
      <li><a href="#sctn-authenticator-extension-processing"><span class="secno">9.5</span> <span class="content"><span>Authenticator extension processing</span></span></a>
     </ol>
    <li>
     <a href="#sctn-defined-extensions"><span class="secno">10</span> <span class="content">Defined Extensions</span></a>
     <ol class="toc">
      <li><a href="#sctn-appid-extension"><span class="secno">10.1</span> <span class="content">FIDO <span>AppID</span> Extension (appid)</span></a>
      <li><a href="#sctn-simple-txauth-extension"><span class="secno">10.2</span> <span class="content">Simple Transaction Authorization Extension (txAuthSimple)</span></a>
      <li><a href="#sctn-generic-txauth-extension"><span class="secno">10.3</span> <span class="content">Generic Transaction Authorization Extension (txAuthGeneric)</span></a>
      <li><a href="#sctn-authenticator-selection-extension"><span class="secno">10.4</span> <span class="content">Authenticator Selection Extension (authnSel)</span></a>
      <li><a href="#sctn-supported-extensions-extension"><span class="secno">10.5</span> <span class="content">Supported Extensions Extension (exts)</span></a>
      <li><a href="#sctn-uvi-extension"><span class="secno">10.6</span> <span class="content">User Verification Index Extension (uvi)</span></a>
      <li><a href="#sctn-location-extension"><span class="secno">10.7</span> <span class="content">Location Extension (loc)</span></a>
      <li><a href="#sctn-uvm-extension"><span class="secno">10.8</span> <span class="content">User Verification Method Extension (uvm)</span></a>
      <li><a href="#sctn-authenticator-biometric-criteria-extension"><span class="secno">10.9</span> <span class="content">Biometric Authenticator Performance Bounds Extension (biometricPerfBounds)</span></a>
     </ol>
    <li>
     <a href="#sctn-IANA"><span class="secno">11</span> <span class="content">IANA Considerations</span></a>
     <ol class="toc">
      <li><a href="#sctn-att-fmt-reg"><span class="secno">11.1</span> <span class="content">WebAuthn Attestation Statement Format Identifier Registrations</span></a>
      <li><a href="#sctn-extensions-reg"><span class="secno">11.2</span> <span class="content">WebAuthn Extension Identifier Registrations</span></a>
      <li><a href="#sctn-cose-alg-reg"><span class="secno">11.3</span> <span class="content">COSE Algorithm Registrations</span></a>
     </ol>
    <li>
     <a href="#sample-scenarios"><span class="secno">12</span> <span class="content">Sample scenarios</span></a>
     <ol class="toc">
      <li><a href="#sample-registration"><span class="secno">12.1</span> <span class="content">Registration</span></a>
      <li><a href="#sample-registration-with-platform-authenticator"><span class="secno">12.2</span> <span class="content">Registration Specifically with User Verifying Platform Authenticator</span></a>
      <li><a href="#sample-authentication"><span class="secno">12.3</span> <span class="content">Authentication</span></a>
      <li><a href="#sample-aborting"><span class="secno">12.4</span> <span class="content">Aborting Authentication Operations</span></a>
      <li><a href="#sample-decommissioning"><span class="secno">12.5</span> <span class="content">Decommissioning</span></a>
     </ol>
    <li>
     <a href="#security-considerations"><span class="secno">13</span> <span class="content">Security Considerations</span></a>
     <ol class="toc">
      <li><a href="#cryptographic-challenges"><span class="secno">13.1</span> <span class="content">Cryptographic Challenges</span></a>
      <li>
       <a href="#sec-attestation-security-considerations"><span class="secno">13.2</span> <span class="content">Attestation Security Considerations</span></a>
       <ol class="toc">
        <li><a href="#cert-hierarchy"><span class="secno">13.2.1</span> <span class="content">Attestation Certificate Hierarchy</span></a>
        <li><a href="#ca-compromise"><span class="secno">13.2.2</span> <span class="content">Attestation Certificate and Attestation Certificate CA Compromise</span></a>
       </ol>
      <li>
       <a href="#sctn-rp-benefits"><span class="secno">13.3</span> <span class="content">Security Benefits for Relying Parties</span></a>
       <ol class="toc">
        <li><a href="#sctn-no-attestation-security-attestation"><span class="secno">13.3.1</span> <span class="content">Considerations for Self and None Attestation Types and Ignoring Attestation</span></a>
       </ol>
      <li><a href="#credentialIdSecurity"><span class="secno">13.4</span> <span class="content">credentialId Unsigned</span></a>
      <li><a href="#browser-permissions-framework-extensions"><span class="secno">13.5</span> <span class="content">Browser Permissions Framework and Extensions</span></a>
     </ol>
    <li>
     <a href="#sctn-privacy-considerations"><span class="secno">14</span> <span class="content">Privacy Considerations</span></a>
     <ol class="toc">
      <li><a href="#sec-attestation-privacy"><span class="secno">14.1</span> <span class="content">Attestation Privacy</span></a>
      <li><a href="#sec-make-credential-privacy"><span class="secno">14.2</span> <span class="content">Registration Ceremony Privacy</span></a>
      <li><a href="#sec-assertion-privacy"><span class="secno">14.3</span> <span class="content">Authentication Ceremony Privacy</span></a>
     </ol>
    <li><a href="#acknowledgements"><span class="secno">15</span> <span class="content">Acknowledgements</span></a>
    <li>
     <a href="#index"><span class="secno"></span> <span class="content">Index</span></a>
     <ol class="toc">
      <li><a href="#index-defined-here"><span class="secno"></span> <span class="content">Terms defined by this specification</span></a>
      <li><a href="#index-defined-elsewhere"><span class="secno"></span> <span class="content">Terms defined by reference</span></a>
     </ol>
    <li>
     <a href="#references"><span class="secno"></span> <span class="content">References</span></a>
     <ol class="toc">
      <li><a href="#normative"><span class="secno"></span> <span class="content">Normative References</span></a>
      <li><a href="#informative"><span class="secno"></span> <span class="content">Informative References</span></a>
     </ol>
    <li><a href="#idl-index"><span class="secno"></span> <span class="content">IDL Index</span></a>
    <li><a href="#issues-index"><span class="secno"></span> <span class="content">Issues Index</span></a>
   </ol>
  </nav>
  <main>
   <h2 class="heading settled" data-level="1" id="intro"><span class="secno">1. </span><span class="content">Introduction</span><a class="self-link" href="#intro"></a></h2>
   <p><em>This section is not normative.</em></p>
   <p>This specification defines an API enabling the creation and use of strong, attested, scoped, public key-based
credentials by web applications, for the purpose of strongly authenticating users. A <a data-link-type="dfn" href="#public-key-credential" id="ref-for-public-key-credential②">public key credential</a> is
created and stored by an <em><a data-link-type="dfn" href="#authenticator" id="ref-for-authenticator④">authenticator</a></em> at the behest of a <em><a data-link-type="dfn" href="#relying-party" id="ref-for-relying-party②">Relying Party</a></em>, subject to <em><a data-link-type="dfn" href="#user-consent" id="ref-for-user-consent①">user
consent</a></em>. Subsequently, the <a data-link-type="dfn" href="#public-key-credential" id="ref-for-public-key-credential③">public key credential</a> can only be accessed by <a data-link-type="dfn" href="https://w3c.github.io/html/browsers.html#concept-cross-origin" id="ref-for-concept-cross-origin">origins</a> belonging to that <a data-link-type="dfn" href="#relying-party" id="ref-for-relying-party③">Relying Party</a>.
This scoping is enforced jointly by <em><a data-link-type="dfn" href="#conforming-user-agent" id="ref-for-conforming-user-agent">conforming User Agents</a></em> and <em><a data-link-type="dfn" href="#authenticator" id="ref-for-authenticator⑤">authenticators</a></em>.
Additionally, privacy across <a data-link-type="dfn" href="#relying-party" id="ref-for-relying-party④">Relying Parties</a> is maintained; <a data-link-type="dfn" href="#relying-party" id="ref-for-relying-party⑤">Relying Parties</a> are not able to detect any properties, or even
the existence, of credentials scoped to other Relying Parties.</p>
   <p><a data-link-type="dfn" href="#relying-party" id="ref-for-relying-party⑥">Relying Parties</a> employ the <a data-link-type="dfn" href="#web-authentication-api" id="ref-for-web-authentication-api">Web Authentication API</a> during two distinct, but related, <a data-link-type="dfn" href="#ceremony" id="ref-for-ceremony">ceremonies</a> involving a user. The first
is <a data-link-type="dfn" href="#registration" id="ref-for-registration">Registration</a>, where a <a data-link-type="dfn" href="#public-key-credential" id="ref-for-public-key-credential④">public key credential</a> is created on an <a data-link-type="dfn" href="#authenticator" id="ref-for-authenticator⑥">authenticator</a>, and associated by a <a data-link-type="dfn" href="#relying-party" id="ref-for-relying-party⑦">Relying Party</a> with the present user’s account (the account MAY already exist or MAY be created at this time). The second is <a data-link-type="dfn" href="#authentication" id="ref-for-authentication">Authentication</a>, where the <a data-link-type="dfn" href="#relying-party" id="ref-for-relying-party⑧">Relying Party</a> is presented with an <em><a data-link-type="dfn" href="#authentication-assertion" id="ref-for-authentication-assertion">Authentication Assertion</a></em> proving the presence
and <a data-link-type="dfn" href="#user-consent" id="ref-for-user-consent②">consent</a> of the user who registered the <a data-link-type="dfn" href="#public-key-credential" id="ref-for-public-key-credential⑤">public key credential</a>. Functionally, the <a data-link-type="dfn" href="#web-authentication-api" id="ref-for-web-authentication-api①">Web Authentication
API</a> comprises a <code class="idl"><a data-link-type="idl" href="#publickeycredential" id="ref-for-publickeycredential">PublicKeyCredential</a></code> which extends the Credential Management API <a data-link-type="biblio" href="#biblio-credential-management-1">[CREDENTIAL-MANAGEMENT-1]</a>, and
infrastructure which allows those credentials to be used with <code class="idl"><a data-link-type="idl" href="https://w3c.github.io/webappsec-credential-management/#dom-credentialscontainer-create" id="ref-for-dom-credentialscontainer-create">navigator.credentials.create()</a></code> and <code class="idl"><a data-link-type="idl" href="https://w3c.github.io/webappsec-credential-management/#dom-credentialscontainer-get" id="ref-for-dom-credentialscontainer-get">navigator.credentials.get()</a></code>. The former is used during <a data-link-type="dfn" href="#registration" id="ref-for-registration①">Registration</a>, and the
latter during <a data-link-type="dfn" href="#authentication" id="ref-for-authentication①">Authentication</a>.</p>
   <p>Broadly, compliant <a data-link-type="dfn" href="#authenticator" id="ref-for-authenticator⑦">authenticators</a> protect <a data-link-type="dfn" href="#public-key-credential" id="ref-for-public-key-credential⑥">public key credentials</a>, and interact with user agents to implement the <a data-link-type="dfn" href="#web-authentication-api" id="ref-for-web-authentication-api②">Web Authentication API</a>. Some authenticators MAY run on the same computing device (e.g., smart phone, tablet, desktop PC) as
the user agent is running on. For instance, such an authenticator might consist of a Trusted Execution Environment (TEE) applet,
a Trusted Platform Module (TPM), or a Secure Element (SE) integrated into the computing device in conjunction with some means
for <a data-link-type="dfn" href="#user-verification" id="ref-for-user-verification">user verification</a>, along with appropriate platform software to mediate access to these components' functionality. Other
authenticators MAY operate autonomously from the computing device running the user agent, and be accessed over a transport such
as Universal Serial Bus (USB), Bluetooth Low Energy (BLE) or Near Field Communications (NFC).</p>
   <h3 class="heading settled" data-level="1.1" id="use-cases"><span class="secno">1.1. </span><span class="content">Use Cases</span><a class="self-link" href="#use-cases"></a></h3>
   <p>The below use case scenarios illustrate use of two very different types of <a data-link-type="dfn" href="#authenticator" id="ref-for-authenticator⑧">authenticators</a>, as well as outline further
scenarios. Additional scenarios, including sample code, are given later in <a href="#sample-scenarios">§12 Sample scenarios</a>.</p>
   <h4 class="heading settled" data-level="1.1.1" id="usecase-registration"><span class="secno">1.1.1. </span><span class="content">Registration</span><a class="self-link" href="#usecase-registration"></a></h4>
   <ul>
    <li data-md="">
     <p>On a phone:</p>
     <ul>
      <li data-md="">
       <p>User navigates to example.com in a browser and signs in to an existing account using whatever method they have been using
(possibly a legacy method such as a password), or creates a new account.</p>
      <li data-md="">
       <p>The phone prompts, "Do you want to register this device with example.com?"</p>
      <li data-md="">
       <p>User agrees.</p>
      <li data-md="">
       <p>The phone prompts the user for a previously configured <a data-link-type="dfn" href="#authorization-gesture" id="ref-for-authorization-gesture">authorization gesture</a> (PIN, biometric, etc.); the user
provides this.</p>
      <li data-md="">
       <p>Website shows message, "Registration complete."</p>
     </ul>
   </ul>
   <h4 class="heading settled" data-level="1.1.2" id="usecase-authentication"><span class="secno">1.1.2. </span><span class="content">Authentication</span><a class="self-link" href="#usecase-authentication"></a></h4>
   <ul>
    <li data-md="">
     <p>On a laptop or desktop:</p>
     <ul>
      <li data-md="">
       <p>User pairs their phone with the laptop or desktop via Bluetooth.</p>
      <li data-md="">
       <p>User navigates to example.com in a browser and initiates signing in.</p>
      <li data-md="">
       <p>User gets a message from the browser, "Please complete this action on your phone."</p>
     </ul>
    <li data-md="">
     <p>Next, on their phone:</p>
     <ul>
      <li data-md="">
       <p>User sees a discrete prompt or notification, "Sign in to example.com."</p>
      <li data-md="">
       <p>User selects this prompt / notification.</p>
      <li data-md="">
       <p>User is shown a list of their example.com identities, e.g., "Sign in as Alice / Sign in as Bob."</p>
      <li data-md="">
       <p>User picks an identity, is prompted for an <a data-link-type="dfn" href="#authorization-gesture" id="ref-for-authorization-gesture①">authorization gesture</a> (PIN, biometric, etc.) and provides this.</p>
     </ul>
    <li data-md="">
     <p>Now, back on the laptop:</p>
     <ul>
      <li data-md="">
       <p>Web page shows that the selected user is signed in, and navigates to the signed-in page.</p>
     </ul>
   </ul>
   <h4 class="heading settled" data-level="1.1.3" id="other-configurations"><span class="secno">1.1.3. </span><span class="content">Other use cases and configurations</span><a class="self-link" href="#other-configurations"></a></h4>
   <p>A variety of additional use cases and configurations are also possible, including (but not limited to):</p>
   <ul>
    <li data-md="">
     <p>A user navigates to example.com on their laptop, is guided through a flow to create and register a credential on their phone.</p>
    <li data-md="">
     <p>A user obtains a discrete, <a data-link-type="dfn" href="#roaming-authenticators" id="ref-for-roaming-authenticators">roaming authenticator</a>, such as a "fob" with USB or USB+NFC/BLE connectivity options, loads
example.com in their browser on a laptop or phone, and is guided though a flow to create and register a credential on the
fob.</p>
    <li data-md="">
     <p>A <a data-link-type="dfn" href="#relying-party" id="ref-for-relying-party⑨">Relying Party</a> prompts the user for their <a data-link-type="dfn" href="#authorization-gesture" id="ref-for-authorization-gesture②">authorization gesture</a> in order to authorize a single transaction, such as a payment
or other financial transaction.</p>
   </ul>
   <h2 class="heading settled" data-level="2" id="conformance"><span class="secno">2. </span><span class="content">Conformance</span><a class="self-link" href="#conformance"></a></h2>
   <p>This specification defines three conformance classes. Each of these classes is specified so that conforming members of the class
are secure against non-conforming or hostile members of the other classes.</p>
   <h3 class="heading settled" data-level="2.1" id="conforming-user-agents"><span class="secno">2.1. </span><span class="content">User Agents</span><a class="self-link" href="#conforming-user-agents"></a></h3>
   <p>A User Agent MUST behave as described by <a href="#api">§5 Web Authentication API</a> in order to be considered conformant. <a data-link-type="dfn" href="#conforming-user-agent" id="ref-for-conforming-user-agent①">Conforming User Agents</a> MAY implement
algorithms given in this specification in any way desired, so long as the end result is indistinguishable from the result that
would be obtained by the specification’s algorithms.</p>
   <p>A conforming User Agent MUST also be a conforming implementation of the IDL fragments of this specification, as described in the
“Web IDL” specification. <a data-link-type="biblio" href="#biblio-webidl-1">[WebIDL-1]</a></p>
   <h3 class="heading settled" data-level="2.2" id="conforming-authenticators"><span class="secno">2.2. </span><span class="content">Authenticators</span><a class="self-link" href="#conforming-authenticators"></a></h3>
   <p>An <a data-link-type="dfn" href="#authenticator" id="ref-for-authenticator⑨">authenticator</a> MUST provide the operations defined by <a href="#sctn-authenticator-model">§6 WebAuthn Authenticator Model</a>, and those operations MUST behave as
described there. This is a set of functional and security requirements for an authenticator to be usable by a <a data-link-type="dfn" href="#conforming-user-agent" id="ref-for-conforming-user-agent②">Conforming User
Agent</a>.</p>
   <p>As described in <a href="#use-cases">§1.1 Use Cases</a>, an authenticator may be implemented in the operating system underlying the User Agent, or in
external hardware, or a combination of both.</p>
   <h4 class="heading settled" data-level="2.2.1" id="conforming-authenticators-u2f"><span class="secno">2.2.1. </span><span class="content">Backwards Compatibility with FIDO U2F</span><a class="self-link" href="#conforming-authenticators-u2f"></a></h4>
   <p><a data-link-type="dfn" href="#authenticator" id="ref-for-authenticator①⓪">Authenticators</a> that only support the <a href="#fido-u2f-attestation">§8.6 FIDO U2F Attestation Statement Format</a> have no mechanism to store a <a data-link-type="dfn" href="#user-handle" id="ref-for-user-handle">user handle</a>, so the returned <code class="idl"><a data-link-type="idl" href="#dom-authenticatorassertionresponse-userhandle" id="ref-for-dom-authenticatorassertionresponse-userhandle">userHandle</a></code> will always be null.</p>
   <h3 class="heading settled" data-level="2.3" id="conforming-relying-parties"><span class="secno">2.3. </span><span class="content">Relying Parties</span><a class="self-link" href="#conforming-relying-parties"></a></h3>
   <p>A <a data-link-type="dfn" href="#relying-party" id="ref-for-relying-party①⓪">Relying Party</a> MUST behave as described in <a href="#rp-operations">§7 Relying Party Operations</a> to obtain all the security benefits offered by this specification. See <a href="#sctn-rp-benefits">§13.3 Security Benefits for Relying Parties</a> for further discussion of this.</p>
   <h3 class="heading settled" data-level="2.4" id="conforming-all-classes"><span class="secno">2.4. </span><span class="content">All Conformance Classes</span><a class="self-link" href="#conforming-all-classes"></a></h3>
   <p>All <a data-link-type="dfn" href="#cbor" id="ref-for-cbor">CBOR</a> encoding performed by the members of the above conformance classes MUST be done using the <a data-link-type="dfn" href="https://fidoalliance.org/specs/fido-v2.0-id-20180227/fido-client-to-authenticator-protocol-v2.0-id-20180227.html#ctap2-canonical-cbor-encoding-form" id="ref-for-ctap2-canonical-cbor-encoding-form">CTAP2 canonical CBOR encoding form</a>.
All decoders of the above conformance classes SHOULD reject CBOR that is not validly encoded
in the <a data-link-type="dfn" href="https://fidoalliance.org/specs/fido-v2.0-id-20180227/fido-client-to-authenticator-protocol-v2.0-id-20180227.html#ctap2-canonical-cbor-encoding-form" id="ref-for-ctap2-canonical-cbor-encoding-form①">CTAP2 canonical CBOR encoding form</a> and SHOULD reject messages with duplicate map keys.</p>
   <h2 class="heading settled" data-level="3" id="dependencies"><span class="secno">3. </span><span class="content">Dependencies</span><a class="self-link" href="#dependencies"></a></h2>
   <p>This specification relies on several other underlying specifications, listed
below and in <a href="#index-defined-elsewhere">Terms defined by reference</a>.</p>
   <dl>
    <dt data-md="">Base64url encoding
    <dd data-md="">
     <p>The term <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport="" id="base64url-encoding">Base64url Encoding</dfn> refers to the base64 encoding using the URL- and filename-safe character set defined
in Section 5 of <a data-link-type="biblio" href="#biblio-rfc4648">[RFC4648]</a>, with all trailing '=' characters omitted (as permitted by Section 3.2) and without the
inclusion of any line breaks, whitespace, or other additional characters.</p>
    <dt data-md="">CBOR
    <dd data-md="">
     <p>A number of structures in this specification, including attestation statements and extensions, are encoded using the <a data-link-type="dfn" href="https://fidoalliance.org/specs/fido-v2.0-id-20180227/fido-client-to-authenticator-protocol-v2.0-id-20180227.html#ctap2-canonical-cbor-encoding-form" id="ref-for-ctap2-canonical-cbor-encoding-form②">CTAP2 canonical CBOR encoding form</a> of the Compact Binary Object Representation (<dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport="" id="cbor">CBOR</dfn>) <a data-link-type="biblio" href="#biblio-rfc7049">[RFC7049]</a>,
as defined in <a data-link-type="biblio" href="#biblio-fido-ctap">[FIDO-CTAP]</a>.</p>
    <dt data-md="">CDDL
    <dd data-md="">
     <p>This specification describes the syntax of all <a data-link-type="dfn" href="#cbor" id="ref-for-cbor①">CBOR</a>-encoded data using the CBOR Data Definition Language (CDDL) <a data-link-type="biblio" href="#biblio-cddl">[CDDL]</a>.</p>
    <dt data-md="">COSE
    <dd data-md="">
     <p>CBOR Object Signing and Encryption (COSE) <a data-link-type="biblio" href="#biblio-rfc8152">[RFC8152]</a>.  The IANA COSE Algorithms registry established by this specification is also used.</p>
    <dt data-md="">Credential Management
    <dd data-md="">
     <p>The API described in this document is an extension of the <code class="idl"><a data-link-type="idl" href="https://w3c.github.io/webappsec-credential-management/#credential" id="ref-for-credential">Credential</a></code> concept defined in <a data-link-type="biblio" href="#biblio-credential-management-1">[CREDENTIAL-MANAGEMENT-1]</a>.</p>
    <dt data-md="">DOM
    <dd data-md="">
     <p><code class="idl"><a data-link-type="idl" href="https://heycam.github.io/webidl/#idl-DOMException" id="ref-for-idl-DOMException">DOMException</a></code> and the DOMException values used in this specification are defined in <a data-link-type="biblio" href="#biblio-dom4">[DOM4]</a>.</p>
    <dt data-md="">ECMAScript
    <dd data-md="">
     <p><a data-link-type="dfn" href="https://tc39.github.io/ecma262/#sec-arraybuffer-constructor" id="ref-for-sec-arraybuffer-constructor">%ArrayBuffer%</a> is defined in <a data-link-type="biblio" href="#biblio-ecmascript">[ECMAScript]</a>.</p>
    <dt data-md="">HTML
    <dd data-md="">
     <p>The concepts of <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#relevant-settings-object" id="ref-for-relevant-settings-object">relevant settings object</a>, <a data-link-type="dfn" href="https://w3c.github.io/html/browsers.html#concept-cross-origin" id="ref-for-concept-cross-origin①">origin</a>, <a data-link-type="dfn" href="https://w3c.github.io/html/browsers.html#opaque-origin" id="ref-for-opaque-origin">opaque origin</a>, and <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/origin.html#is-a-registrable-domain-suffix-of-or-is-equal-to" id="ref-for-is-a-registrable-domain-suffix-of-or-is-equal-to">is a registrable domain suffix of or is equal to</a> are defined in <a data-link-type="biblio" href="#biblio-html52">[HTML52]</a>.</p>
    <dt data-md="">Web IDL
    <dd data-md="">
     <p>Many of the interface definitions and all of the IDL in this specification depend on <a data-link-type="biblio" href="#biblio-webidl-1">[WebIDL-1]</a>. This updated version of
the Web IDL standard adds support for <code class="idl"><a data-link-type="idl" href="https://heycam.github.io/webidl/#idl-promise" id="ref-for-idl-promise">Promise</a></code>s, which are now the preferred mechanism for asynchronous
interaction in all new web APIs.</p>
    <dt data-md="">FIDO AppID
    <dd data-md="">
     <p>The algorithms for <a data-link-type="dfn" href="https://fidoalliance.org/specs/fido-v2.0-id-20180227/fido-appid-and-facets-v2.0-id-20180227.html#determining-the-facetid-of-a-calling-application" id="ref-for-determining-the-facetid-of-a-calling-application">determining the FacetID of a calling application</a> and <a data-link-type="dfn" href="https://fidoalliance.org/specs/fido-v2.0-id-20180227/fido-appid-and-facets-v2.0-id-20180227.html#determining-if-a-caller-s-facetid-is-authorized-for-an-appid" id="ref-for-determining-if-a-caller-s-facetid-is-authorized-for-an-appid">determining if a caller’s FacetID is authorized for an AppID</a> (used only in
the <a data-link-type="dfn" href="#appid" id="ref-for-appid">AppID extension</a>) are defined by <a data-link-type="biblio" href="#biblio-fido-appid">[FIDO-APPID]</a>.</p>
   </dl>
   <p>The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT", "SHOULD", "SHOULD NOT", "RECOMMENDED",  "MAY", and
"OPTIONAL" in this document are to be interpreted as described in <a data-link-type="biblio" href="#biblio-rfc2119">[RFC2119]</a>.</p>
   <h2 class="heading settled" data-level="4" id="terminology"><span class="secno">4. </span><span class="content">Terminology</span><a class="self-link" href="#terminology"></a></h2>
   <dl>
    <dt data-md=""><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport="" id="assertion">Assertion</dfn>
    <dd data-md="">
     <p>See <a data-link-type="dfn" href="#authentication-assertion" id="ref-for-authentication-assertion①">Authentication Assertion</a>.</p>
    <dt data-md=""><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport="" id="attestation">Attestation</dfn>
    <dd data-md="">
     <p>Generally, <em>attestation</em> is a statement serving to bear witness, confirm, or authenticate.
In the WebAuthn context, <a data-link-type="dfn" href="#attestation" id="ref-for-attestation②">attestation</a> is employed to <em>attest</em> to the <em>provenance</em> of an <a data-link-type="dfn" href="#authenticator" id="ref-for-authenticator①①">authenticator</a> and the data it emits; including, for example: <a data-link-type="dfn" href="#credential-id" id="ref-for-credential-id">credential IDs</a>, <a data-link-type="dfn" href="#credential-key-pair" id="ref-for-credential-key-pair">credential key pairs</a>, signature counters, etc. An <a data-link-type="dfn" href="#attestation-statement" id="ref-for-attestation-statement">attestation statement</a> is conveyed in an <a data-link-type="dfn" href="#attestation-object" id="ref-for-attestation-object">attestation object</a> during <a data-link-type="dfn" href="#registration" id="ref-for-registration②">registration</a>. See also <a href="#sctn-attestation">§6.3 Attestation</a> and <a href="#fig-attStructs">Figure 3</a>. Whether or how the client platform conveys the <a data-link-type="dfn" href="#attestation-statement" id="ref-for-attestation-statement①">attestation statement</a> and <a data-link-type="dfn" href="#aaguid" id="ref-for-aaguid">AAGUID</a> portions of the <a data-link-type="dfn" href="#attestation-object" id="ref-for-attestation-object①">attestation object</a> to the <a data-link-type="dfn" href="#relying-party" id="ref-for-relying-party①①">Relying Party</a> is described by <a data-link-type="dfn" href="#attestation-conveyance" id="ref-for-attestation-conveyance">attestation conveyance</a>.</p>
    <dt data-md=""><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport="" id="attestation-certificate">Attestation Certificate</dfn>
    <dd data-md="">
     <p>A X.509 Certificate for the <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport="" id="attestation-key-pair">attestation key pair</dfn> used by an <a data-link-type="dfn" href="#authenticator" id="ref-for-authenticator①②">authenticator</a> to attest to its manufacture
and capabilities. At <a data-link-type="dfn" href="#registration" id="ref-for-registration③">registration</a> time, the <a data-link-type="dfn" href="#authenticator" id="ref-for-authenticator①③">authenticator</a> uses the <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport="" id="attestation-private-key">attestation private key</dfn> to sign
the <a data-link-type="dfn" href="#relying-party" id="ref-for-relying-party①②">Relying Party</a>-specific <a data-link-type="dfn" href="#credential-public-key" id="ref-for-credential-public-key">credential public key</a> (and additional data) that it generates and returns via the <a data-link-type="dfn" href="#authenticatormakecredential" id="ref-for-authenticatormakecredential">authenticatorMakeCredential</a> operation. <a data-link-type="dfn" href="#relying-party" id="ref-for-relying-party①③">Relying Parties</a> use the <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport="" id="attestation-public-key">attestation public key</dfn> conveyed in the <a data-link-type="dfn" href="#attestation-certificate" id="ref-for-attestation-certificate">attestation
certificate</a> to verify the <a data-link-type="dfn" href="#attestation-signature" id="ref-for-attestation-signature">attestation signature</a>. Note that in the case of <a data-link-type="dfn" href="#self-attestation" id="ref-for-self-attestation">self attestation</a>, the <a data-link-type="dfn" href="#authenticator" id="ref-for-authenticator①④">authenticator</a> has no distinct <a data-link-type="dfn" href="#attestation-key-pair" id="ref-for-attestation-key-pair">attestation key pair</a> nor <a data-link-type="dfn" href="#attestation-certificate" id="ref-for-attestation-certificate①">attestation certificate</a>, see <a data-link-type="dfn" href="#self-attestation" id="ref-for-self-attestation①">self
attestation</a> for details.</p>
    <dt data-md=""><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport="" id="authentication">Authentication</dfn>
    <dd data-md="">
     <p>The <a data-link-type="dfn" href="#ceremony" id="ref-for-ceremony①">ceremony</a> where a user, and the user’s computing device(s) (containing at least one <a data-link-type="dfn" href="#authenticator" id="ref-for-authenticator①⑤">authenticator</a>) work in
concert to cryptographically prove to a <a data-link-type="dfn" href="#relying-party" id="ref-for-relying-party①④">Relying Party</a> that the user controls the <a data-link-type="dfn" href="#credential-private-key" id="ref-for-credential-private-key">credential private key</a> associated with a
previously-registered <a data-link-type="dfn" href="#public-key-credential" id="ref-for-public-key-credential⑦">public key credential</a> (see <a data-link-type="dfn" href="#registration" id="ref-for-registration④">Registration</a>). Note that this includes a <a data-link-type="dfn" href="#test-of-user-presence" id="ref-for-test-of-user-presence">test of user presence</a> or <a data-link-type="dfn" href="#user-verification" id="ref-for-user-verification①">user verification</a>.</p>
    <dt data-md=""><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport="" id="authentication-assertion">Authentication Assertion</dfn>
    <dd data-md="">
     <p>The cryptographically signed <code class="idl"><a data-link-type="idl" href="#authenticatorassertionresponse" id="ref-for-authenticatorassertionresponse">AuthenticatorAssertionResponse</a></code> object returned by an <a data-link-type="dfn" href="#authenticator" id="ref-for-authenticator①⑥">authenticator</a> as the result of an <a data-link-type="dfn" href="#authenticatorgetassertion" id="ref-for-authenticatorgetassertion">authenticatorGetAssertion</a> operation.</p>
     <p>This corresponds to the <a data-link-type="biblio" href="#biblio-credential-management-1">[CREDENTIAL-MANAGEMENT-1]</a> specification’s single-use <a data-link-type="dfn" href="https://w3c.github.io/webappsec-credential-management/#concept-credential" id="ref-for-concept-credential">credentials</a>.</p>
    <dt data-md=""><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport="" id="authenticator">Authenticator</dfn>
    <dd data-md="">
     <p>A cryptographic entity used by a <a data-link-type="dfn" href="#webauthn-client" id="ref-for-webauthn-client">WebAuthn Client</a> to (i) generate a <a data-link-type="dfn" href="#public-key-credential" id="ref-for-public-key-credential⑧">public key credential</a> and register it with a <a data-link-type="dfn" href="#relying-party" id="ref-for-relying-party①⑤">Relying Party</a>,
and (ii) <a data-link-type="dfn" href="#authentication" id="ref-for-authentication②">authenticate</a> by potentially <a data-link-type="dfn" href="#user-verification" id="ref-for-user-verification②">verifying the user</a>, and then 
cryptographically signing and returning, in the form of an <a data-link-type="dfn" href="#authentication-assertion" id="ref-for-authentication-assertion②">Authentication Assertion</a>, 
a challenge and other data presented by a <a data-link-type="dfn" href="#relying-party" id="ref-for-relying-party①⑥">Relying Party</a> (in concert with the <a data-link-type="dfn" href="#webauthn-client" id="ref-for-webauthn-client①">WebAuthn Client</a>).</p>
    <dt data-md=""><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport="" id="authorization-gesture">Authorization Gesture</dfn>
    <dd data-md="">
     <p>An <a data-link-type="dfn" href="#authorization-gesture" id="ref-for-authorization-gesture③">authorization gesture</a> is a physical interaction performed by a user with an authenticator as part of a <a data-link-type="dfn" href="#ceremony" id="ref-for-ceremony②">ceremony</a>,
such as <a data-link-type="dfn" href="#registration" id="ref-for-registration⑤">registration</a> or <a data-link-type="dfn" href="#authentication" id="ref-for-authentication③">authentication</a>. By making such an <a data-link-type="dfn" href="#authorization-gesture" id="ref-for-authorization-gesture④">authorization gesture</a>, a user <a data-link-type="dfn" href="#user-consent" id="ref-for-user-consent③">provides
consent</a> for (i.e., <em>authorizes</em>) a <a data-link-type="dfn" href="#ceremony" id="ref-for-ceremony③">ceremony</a> to proceed. This MAY involve <a data-link-type="dfn" href="#user-verification" id="ref-for-user-verification③">user verification</a> if the
employed <a data-link-type="dfn" href="#authenticator" id="ref-for-authenticator①⑦">authenticator</a> is capable, or it MAY involve a simple <a data-link-type="dfn" href="#test-of-user-presence" id="ref-for-test-of-user-presence①">test of user presence</a>.</p>
    <dt data-md=""><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport="" id="biometric-recognition">Biometric Recognition</dfn>
    <dd data-md="">
     <p>The automated recognition of individuals based on their biological and behavioral characteristics <a data-link-type="biblio" href="#biblio-isobiometricvocabulary">[ISOBiometricVocabulary]</a>.</p>
    <dt data-md=""><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport="" id="biometric-authenticator">Biometric Authenticator</dfn>
    <dd data-md="">
     <p>Any <a data-link-type="dfn" href="#authenticator" id="ref-for-authenticator①⑧">authenticator</a> that implements <a data-link-type="dfn" href="#biometric-recognition" id="ref-for-biometric-recognition">biometric recognition</a>.</p>
    <dt data-md=""><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport="" id="ceremony">Ceremony</dfn>
    <dd data-md="">
     <p>The concept of a <a data-link-type="dfn" href="#ceremony" id="ref-for-ceremony④">ceremony</a> <a data-link-type="biblio" href="#biblio-ceremony">[Ceremony]</a> is an extension of the concept of a network protocol, with human nodes alongside
computer nodes and with communication links that include user interface(s), human-to-human communication, and transfers of
physical objects that carry data. What is out-of-band to a protocol is in-band to a ceremony. In this specification, <a data-link-type="dfn" href="#registration" id="ref-for-registration⑥">Registration</a> and <a data-link-type="dfn" href="#authentication" id="ref-for-authentication④">Authentication</a> are ceremonies, and an <a data-link-type="dfn" href="#authorization-gesture" id="ref-for-authorization-gesture⑤">authorization gesture</a> is often a component of
those <a data-link-type="dfn" href="#ceremony" id="ref-for-ceremony⑤">ceremonies</a>.</p>
    <dt data-md=""><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport="" id="client">Client</dfn>
    <dd data-md="">
     <p>See <a data-link-type="dfn" href="#webauthn-client" id="ref-for-webauthn-client②">WebAuthn Client</a>, <a data-link-type="dfn" href="#conforming-user-agent" id="ref-for-conforming-user-agent③">Conforming User Agent</a>.</p>
    <dt data-md=""><dfn data-dfn-type="dfn" data-noexport="" id="client-side">Client-Side<a class="self-link" href="#client-side"></a></dfn>
    <dd data-md="">
     <p>This refers in general to the combination of the user’s platform device, user agent, authenticators, and everything gluing
it all together.</p>
    <dt data-md=""><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport="" id="client-side-resident-credential-private-key">Client-side-resident Credential Private Key</dfn>
    <dd data-md="">
     <p>A <a data-link-type="dfn" href="#client-side-resident-credential-private-key" id="ref-for-client-side-resident-credential-private-key">Client-side-resident Credential Private Key</a> is stored either on the client platform, or in some cases on the
authenticator itself, e.g., in the case of a discrete first-factor <a data-link-type="dfn" href="#roaming-authenticators" id="ref-for-roaming-authenticators①">roaming authenticator</a>. Such <dfn data-dfn-type="dfn" data-lt="client-side credential private key storage" data-noexport="" id="client-side-credential-private-key-storage">client-side credential
private key storage<a class="self-link" href="#client-side-credential-private-key-storage"></a></dfn> has the property that the authenticator is able to select the <a data-link-type="dfn" href="#credential-private-key" id="ref-for-credential-private-key①">credential private key</a> given
only an <a data-link-type="dfn" href="#rp-id" id="ref-for-rp-id">RP ID</a>, possibly with user assistance (e.g., by providing the user a pick list of credentials associated with the RP
ID). By definition, the private key is always exclusively controlled by the <a data-link-type="dfn" href="#authenticator" id="ref-for-authenticator①⑨">authenticator</a>. In the case of a <a data-link-type="dfn" href="#client-side-resident-credential-private-key" id="ref-for-client-side-resident-credential-private-key①">Client-side-resident Credential Private Key</a>, the <a data-link-type="dfn" href="#authenticator" id="ref-for-authenticator②⓪">authenticator</a> might offload storage of wrapped key material to the
client platform, but the client platform is not expected to offload the key storage to remote entities (e.g. RP Server).</p>
    <dt data-md=""><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport="" id="conforming-user-agent">Conforming User Agent</dfn>
    <dd data-md="">
     <p>A user agent implementing, in conjunction with the underlying platform, the <a data-link-type="dfn" href="#web-authentication-api" id="ref-for-web-authentication-api③">Web Authentication API</a> and algorithms
given in this specification, and handling communication between <a data-link-type="dfn" href="#authenticator" id="ref-for-authenticator②①">authenticators</a> and <a data-link-type="dfn" href="#relying-party" id="ref-for-relying-party①⑦">Relying Parties</a>.</p>
    <dt data-md=""><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport="" id="credential-id">Credential ID</dfn>
    <dd data-md="">
     <p>A probabilistically-unique <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#byte-sequence" id="ref-for-byte-sequence">byte sequence</a> identifying a <a data-link-type="dfn" href="#public-key-credential-source" id="ref-for-public-key-credential-source">public key credential source</a> and its <a data-link-type="dfn" href="#authentication-assertion" id="ref-for-authentication-assertion③">authentication assertions</a>.</p>
     <p>Credential IDs are generated by <a data-link-type="dfn" href="#authenticator" id="ref-for-authenticator②②">authenticators</a> in two forms:</p>
     <ol>
      <li data-md="">
       <p>At least 16 bytes that include at least 100 bits of entropy, or</p>
      <li data-md="">
       <p>The <a data-link-type="dfn" href="#public-key-credential-source" id="ref-for-public-key-credential-source①">public key credential source</a>, without its <a data-link-type="dfn" href="#credential-id" id="ref-for-credential-id①">Credential ID</a>, encrypted so only its <a data-link-type="dfn" href="#public-key-credential-source-managing-authenticator" id="ref-for-public-key-credential-source-managing-authenticator">managing authenticator</a> can
decrypt it. This form allows the <a data-link-type="dfn" href="#authenticator" id="ref-for-authenticator②③">authenticator</a> to be nearly stateless, by having the <a data-link-type="dfn" href="#relying-party" id="ref-for-relying-party①⑧">Relying Party</a> store any necessary
state.</p>
       <p class="note" role="note"><span>Note:</span> <a data-link-type="biblio" href="#biblio-fido-uaf-authnr-cmds">[FIDO-UAF-AUTHNR-CMDS]</a> includes guidance on encryption techniques under "Security Guidelines".</p>
     </ol>
     <p><a data-link-type="dfn" href="#relying-party" id="ref-for-relying-party①⑨">Relying Parties</a> do not need to distinguish these two <a data-link-type="dfn" href="#credential-id" id="ref-for-credential-id②">Credential ID</a> forms.</p>
    <dt data-md=""><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport="" id="credential-public-key">Credential Public Key</dfn>
    <dt data-md=""><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport="" id="user-public-key">User Public Key</dfn>
    <dd data-md="">
     <p>The public key portion of a <a data-link-type="dfn" href="#relying-party" id="ref-for-relying-party②⓪">Relying Party</a>-specific <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport="" id="credential-key-pair">credential key pair</dfn>, generated by an <a data-link-type="dfn" href="#authenticator" id="ref-for-authenticator②④">authenticator</a> and
returned to a <a data-link-type="dfn" href="#relying-party" id="ref-for-relying-party②①">Relying Party</a> at <a data-link-type="dfn" href="#registration" id="ref-for-registration⑦">registration</a> time (see also <a data-link-type="dfn" href="#public-key-credential" id="ref-for-public-key-credential⑨">public key credential</a>). The private key portion of the <a data-link-type="dfn" href="#credential-key-pair" id="ref-for-credential-key-pair①">credential key pair</a> is known as the <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport="" id="credential-private-key">credential private key</dfn>. Note that in the case of <a data-link-type="dfn" href="#self-attestation" id="ref-for-self-attestation②">self
attestation</a>, the <a data-link-type="dfn" href="#credential-key-pair" id="ref-for-credential-key-pair②">credential key pair</a> is also used as the <a data-link-type="dfn" href="#attestation-key-pair" id="ref-for-attestation-key-pair①">attestation key pair</a>, see <a data-link-type="dfn" href="#self-attestation" id="ref-for-self-attestation③">self attestation</a> for details.</p>
     <p class="note" role="note"><span>Note:</span> The <a data-link-type="dfn" href="#credential-public-key" id="ref-for-credential-public-key①">credential public key</a> is referred to as the <a data-link-type="dfn" href="#user-public-key" id="ref-for-user-public-key">user public key</a> in FIDO UAF <a data-link-type="biblio" href="#biblio-uafprotocol">[UAFProtocol]</a>, and in FIDO U2F <a data-link-type="biblio" href="#biblio-fido-u2f-message-formats">[FIDO-U2F-Message-Formats]</a> and some parts of this specification that relate to it.</p>
    <dt data-md=""><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport="" id="human-palatability">Human Palatability</dfn>
    <dd data-md="">
     <p>An identifier that is <a data-link-type="dfn" href="#human-palatability" id="ref-for-human-palatability">human-palatable</a> is intended to be rememberable and reproducible by typical human
users, in contrast to identifiers that are, for example, randomly generated sequences of bits <a data-link-type="biblio" href="#biblio-edupersonobjectclassspec">[EduPersonObjectClassSpec]</a>.</p>
    <dt data-md=""><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport="" id="public-key-credential-source">Public Key Credential Source</dfn>
    <dd data-md="">
     <p>A <a data-link-type="dfn" href="https://w3c.github.io/webappsec-credential-management/#credential-source" id="ref-for-credential-source">credential source</a> (<a data-link-type="biblio" href="#biblio-credential-management-1">[CREDENTIAL-MANAGEMENT-1]</a>) used by an <a data-link-type="dfn" href="#authenticator" id="ref-for-authenticator②⑤">authenticator</a> to generate <a data-link-type="dfn" href="#authentication-assertion" id="ref-for-authentication-assertion④">authentication assertions</a>. A <a data-link-type="dfn" href="#public-key-credential-source" id="ref-for-public-key-credential-source②">public key credential source</a> consists of a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#struct" id="ref-for-struct">struct</a> with the following <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#struct-item" id="ref-for-struct-item">items</a>:</p>
     <dl>
      <dt data-md=""><dfn class="dfn-paneled" data-dfn-for="public key credential source" data-dfn-type="dfn" data-noexport="" id="public-key-credential-source-type">type</dfn>
      <dd data-md="">
       <p>whose value is of <code class="idl"><a data-link-type="idl" href="#enumdef-publickeycredentialtype" id="ref-for-enumdef-publickeycredentialtype">PublicKeyCredentialType</a></code>, defaulting to <code class="idl"><a data-link-type="idl" href="#dom-publickeycredentialtype-public-key" id="ref-for-dom-publickeycredentialtype-public-key">public-key</a></code>.</p>
      <dt data-md=""><dfn class="dfn-paneled" data-dfn-for="public key credential source" data-dfn-type="dfn" data-noexport="" id="public-key-credential-source-id">id</dfn>
      <dd data-md="">
       <p>A <a data-link-type="dfn" href="#credential-id" id="ref-for-credential-id③">Credential ID</a>.</p>
      <dt data-md=""><dfn class="dfn-paneled" data-dfn-for="public key credential source" data-dfn-type="dfn" data-noexport="" id="public-key-credential-source-privatekey">privateKey</dfn>
      <dd data-md="">
       <p>The <a data-link-type="dfn" href="#credential-private-key" id="ref-for-credential-private-key②">credential private key</a>.</p>
      <dt data-md=""><dfn class="dfn-paneled" data-dfn-for="public key credential source" data-dfn-type="dfn" data-noexport="" id="public-key-credential-source-rpid">rpId</dfn>
      <dd data-md="">
       <p>The <a data-link-type="dfn" href="#relying-party-identifier" id="ref-for-relying-party-identifier">Relying Party Identifier</a>, for the <a data-link-type="dfn" href="#relying-party" id="ref-for-relying-party②②">Relying Party</a> this <a data-link-type="dfn" href="#public-key-credential-source" id="ref-for-public-key-credential-source③">public key credential source</a> is associated with.</p>
      <dt data-md=""><dfn class="dfn-paneled" data-dfn-for="public key credential source" data-dfn-type="dfn" data-noexport="" id="public-key-credential-source-userhandle">userHandle</dfn>
      <dd data-md="">
       <p>The <a data-link-type="dfn" href="#user-handle" id="ref-for-user-handle①">user handle</a> associated when this <a data-link-type="dfn" href="#public-key-credential-source" id="ref-for-public-key-credential-source④">public key credential source</a> was created. This <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#struct-item" id="ref-for-struct-item①">item</a> is
nullable.</p>
      <dt data-md=""><dfn class="dfn-paneled" data-dfn-for="public key credential source" data-dfn-type="dfn" data-noexport="" id="public-key-credential-source-otherui">otherUI</dfn>
      <dd data-md="">
       <p>Optional other information used by the <a data-link-type="dfn" href="#authenticator" id="ref-for-authenticator②⑥">authenticator</a> to inform its UI. For example, this might include the user’s <code class="idl"><a data-link-type="idl" href="#dom-publickeycredentialuserentity-displayname" id="ref-for-dom-publickeycredentialuserentity-displayname">displayName</a></code>.</p>
     </dl>
     <p>The <a data-link-type="dfn" href="#authenticatormakecredential" id="ref-for-authenticatormakecredential①">authenticatorMakeCredential</a> operation creates a <a data-link-type="dfn" href="#public-key-credential-source" id="ref-for-public-key-credential-source⑤">public key credential source</a> bound to a <dfn class="dfn-paneled" data-dfn-for="public key
credential source" data-dfn-type="dfn" data-noexport="" id="public-key-credential-source-managing-authenticator">managing authenticator</dfn> and returns the <a data-link-type="dfn" href="#credential-public-key" id="ref-for-credential-public-key②">credential public key</a> associated with its <a data-link-type="dfn" href="#credential-private-key" id="ref-for-credential-private-key③">credential
private key</a>. The <a data-link-type="dfn" href="#relying-party" id="ref-for-relying-party②③">Relying Party</a> can use this <a data-link-type="dfn" href="#credential-public-key" id="ref-for-credential-public-key③">credential public key</a> to verify the <a data-link-type="dfn" href="#authentication-assertion" id="ref-for-authentication-assertion⑤">authentication assertions</a> created by
this <a data-link-type="dfn" href="#public-key-credential-source" id="ref-for-public-key-credential-source⑥">public key credential source</a>.</p>
    <dt data-md=""><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport="" id="public-key-credential">Public Key Credential</dfn>
    <dd data-md="">
     <p>Generically, a <em>credential</em> is data one entity presents to another in order to <em>authenticate</em> the former to the latter <a data-link-type="biblio" href="#biblio-rfc4949">[RFC4949]</a>. The term <a data-link-type="dfn" href="#public-key-credential" id="ref-for-public-key-credential①⓪">public key credential</a> refers to one of: a <a data-link-type="dfn" href="#public-key-credential-source" id="ref-for-public-key-credential-source⑦">public key credential source</a>, the
possibly-<a data-link-type="dfn" href="#attestation" id="ref-for-attestation③">attested</a> <a data-link-type="dfn" href="#credential-public-key" id="ref-for-credential-public-key④">credential public key</a> corresponding to a <a data-link-type="dfn" href="#public-key-credential-source" id="ref-for-public-key-credential-source⑧">public key credential source</a>, or an <a data-link-type="dfn" href="#authentication-assertion" id="ref-for-authentication-assertion⑥">authentication assertion</a>. Which one is generally determined by context.</p>
     <div class="note" role="note">
       Note: This is a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#willful-violation" id="ref-for-willful-violation">willful violation</a> of <a data-link-type="biblio" href="#biblio-rfc4949">[RFC4949]</a>. In English, a "credential" is both a) the thing presented to prove
    a statement and b) intended to be used multiple times. It’s impossible to achieve both criteria securely with a single
    piece of data in a public key system. <a data-link-type="biblio" href="#biblio-rfc4949">[RFC4949]</a> chooses to define a credential as the thing that can be used multiple
    times (the public key), while this specification gives "credential" the English term’s flexibility. This specification
    uses more specific terms to identify the data related to an <a data-link-type="biblio" href="#biblio-rfc4949">[RFC4949]</a> credential: 
      <dl>
       <dt data-md="">"Authentication information" (possibly including a private key)
       <dd data-md="">
        <p><a data-link-type="dfn" href="#public-key-credential-source" id="ref-for-public-key-credential-source⑨">Public key credential source</a></p>
       <dt data-md="">"Signed value"
       <dd data-md="">
        <p><a data-link-type="dfn" href="#authentication-assertion" id="ref-for-authentication-assertion⑦">Authentication assertion</a></p>
       <dt data-md=""><a data-link-type="biblio" href="#biblio-rfc4949">[RFC4949]</a> "credential"
       <dd data-md="">
        <p><a data-link-type="dfn" href="#credential-public-key" id="ref-for-credential-public-key⑤">Credential public key</a> or <a data-link-type="dfn" href="#attestation-object" id="ref-for-attestation-object②">attestation object</a></p>
      </dl>
     </div>
     <p>At <a data-link-type="dfn" href="#registration" id="ref-for-registration⑧">registration</a> time, the <a data-link-type="dfn" href="#authenticator" id="ref-for-authenticator②⑦">authenticator</a> creates an asymmetric key pair, and stores its <a data-link-type="dfn" href="#credential-private-key" id="ref-for-credential-private-key④">private key portion</a> and information from the <a data-link-type="dfn" href="#relying-party" id="ref-for-relying-party②④">Relying Party</a> into a <a data-link-type="dfn" href="#public-key-credential-source" id="ref-for-public-key-credential-source①⓪">public key credential source</a>. The <a data-link-type="dfn" href="#credential-public-key" id="ref-for-credential-public-key⑥">public key portion</a> is returned to the <a data-link-type="dfn" href="#relying-party" id="ref-for-relying-party②⑤">Relying Party</a>, who then stores it in conjunction with the present user’s account.
Subsequently, only that <a data-link-type="dfn" href="#relying-party" id="ref-for-relying-party②⑥">Relying Party</a>, as identified by its <a data-link-type="dfn" href="#rp-id" id="ref-for-rp-id①">RP ID</a>, is able to employ the <a data-link-type="dfn" href="#public-key-credential" id="ref-for-public-key-credential①①">public key credential</a> in <a data-link-type="dfn" href="#authentication" id="ref-for-authentication⑤">authentication ceremonies</a>, via the <code class="idl"><a data-link-type="idl" href="https://w3c.github.io/webappsec-credential-management/#dom-credentialscontainer-get" id="ref-for-dom-credentialscontainer-get①">get()</a></code> method. The <a data-link-type="dfn" href="#relying-party" id="ref-for-relying-party②⑦">Relying Party</a> uses its stored
copy of the <a data-link-type="dfn" href="#credential-public-key" id="ref-for-credential-public-key⑦">credential public key</a> to verify the resultant <a data-link-type="dfn" href="#authentication-assertion" id="ref-for-authentication-assertion⑧">authentication assertion</a>.</p>
    <dt data-md=""><dfn data-dfn-type="dfn" data-noexport="" id="rate-limiting">Rate Limiting<a class="self-link" href="#rate-limiting"></a></dfn>
    <dd data-md="">
     <p>The process (also known as throttling) by which an authenticator implements controls against brute force attacks by limiting
the number of consecutive failed authentication attempts within a given period of time. If the limit is reached, the
authenticator should impose a delay that increases exponentially with each successive attempt, or disable the current
authentication modality and offer a different authentication factor if available. Rate limiting is often implemented as an
aspect of <a data-link-type="dfn" href="#user-verification" id="ref-for-user-verification④">user verification</a>.</p>
    <dt data-md=""><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport="" id="registration">Registration</dfn>
    <dd data-md="">
     <p>The <a data-link-type="dfn" href="#ceremony" id="ref-for-ceremony⑥">ceremony</a> where a user, a <a data-link-type="dfn" href="#relying-party" id="ref-for-relying-party②⑧">Relying Party</a>, and the user’s computing device(s) (containing at least one <a data-link-type="dfn" href="#authenticator" id="ref-for-authenticator②⑧">authenticator</a>) work in concert to create a <a data-link-type="dfn" href="#public-key-credential" id="ref-for-public-key-credential①②">public key credential</a> and associate it with the user’s <a data-link-type="dfn" href="#relying-party" id="ref-for-relying-party②⑨">Relying Party</a> account.
Note that this includes employing a <a data-link-type="dfn" href="#test-of-user-presence" id="ref-for-test-of-user-presence②">test of user presence</a> or <a data-link-type="dfn" href="#user-verification" id="ref-for-user-verification⑤">user verification</a>.</p>
    <dt data-md=""><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport="" id="relying-party">Relying Party</dfn>
    <dd data-md="">
     <p>The entity whose web application utilizes the <a data-link-type="dfn" href="#web-authentication-api" id="ref-for-web-authentication-api④">Web Authentication API</a> to register and authenticate users. See <a data-link-type="dfn" href="#registration" id="ref-for-registration⑨">Registration</a> and <a data-link-type="dfn" href="#authentication" id="ref-for-authentication⑥">Authentication</a>, respectively.</p>
     <p class="note" role="note"><span>Note:</span> While the term <a data-link-type="dfn" href="#relying-party" id="ref-for-relying-party③⓪">Relying Party</a> is used in other contexts (e.g., X.509 and OAuth), an entity acting as a <a data-link-type="dfn" href="#relying-party" id="ref-for-relying-party③①">Relying Party</a> in one
    context is not necessarily a <a data-link-type="dfn" href="#relying-party" id="ref-for-relying-party③②">Relying Party</a> in other contexts.</p>
    <dt data-md=""><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport="" id="relying-party-identifier">Relying Party Identifier</dfn>
    <dt data-md=""><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport="" id="rp-id">RP ID</dfn>
    <dd data-md="">
     <p>A <a data-link-type="dfn" href="https://url.spec.whatwg.org/#valid-domain-string" id="ref-for-valid-domain-string">valid domain string</a> that identifies the <a data-link-type="dfn" href="#relying-party" id="ref-for-relying-party③③">Relying Party</a> on whose behalf a given <a data-link-type="dfn" href="#registration" id="ref-for-registration①⓪">registration</a> or <a data-link-type="dfn" href="#authentication" id="ref-for-authentication⑦">authentication ceremony</a> is being performed. A <a data-link-type="dfn" href="#public-key-credential" id="ref-for-public-key-credential①③">public key credential</a> can only be used for <a data-link-type="dfn" href="#authentication" id="ref-for-authentication⑧">authentication</a> with the same entity (as identified by <a data-link-type="dfn" href="#rp-id" id="ref-for-rp-id②">RP ID</a>) it was registered with. By default, the <a data-link-type="dfn" href="#rp-id" id="ref-for-rp-id③">RP ID</a> for a
WebAuthn operation is set to the caller’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-settings-object-origin" id="ref-for-concept-settings-object-origin">origin</a>'s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/origin.html#concept-origin-effective-domain" id="ref-for-concept-origin-effective-domain">effective domain</a>. This default MAY be
overridden by the caller, as long as the caller-specified <a data-link-type="dfn" href="#rp-id" id="ref-for-rp-id④">RP ID</a> value <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/origin.html#is-a-registrable-domain-suffix-of-or-is-equal-to" id="ref-for-is-a-registrable-domain-suffix-of-or-is-equal-to①">is a registrable domain suffix of or is equal
to</a> the caller’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-settings-object-origin" id="ref-for-concept-settings-object-origin①">origin</a>'s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/origin.html#concept-origin-effective-domain" id="ref-for-concept-origin-effective-domain①">effective domain</a>. See also <a href="#createCredential">§5.1.3 Create a new credential - PublicKeyCredential’s [[Create]](origin, options, sameOriginWithAncestors) method</a> and <a href="#getAssertion">§5.1.4 Use an existing credential to make an assertion - PublicKeyCredential’s [[Get]](options) method</a>.</p>
     <div class="note" id="note-pkcredscope" role="note">
      <a class="self-link" href="#note-pkcredscope"></a> Note: A <a data-link-type="dfn" href="#public-key-credential" id="ref-for-public-key-credential①④">Public key credential</a>'s scope is for a <a data-link-type="dfn" href="#relying-party" id="ref-for-relying-party③④">Relying Party</a>'s <a data-link-type="dfn" href="https://w3c.github.io/html/browsers.html#concept-cross-origin" id="ref-for-concept-cross-origin②">origin</a>, with the following <em>restrictions</em> and <em>relaxations</em>: 
      <ul>
       <li data-md="">
        <p>The scheme is always <code>https</code> (i.e., <em>a restriction</em>), and,</p>
       <li data-md="">
        <p>the host may be equal to the <a data-link-type="dfn" href="#relying-party" id="ref-for-relying-party③⑤">Relying Party</a>'s <a data-link-type="dfn" href="https://w3c.github.io/html/browsers.html#concept-cross-origin" id="ref-for-concept-cross-origin③">origin</a>'s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/origin.html#concept-origin-effective-domain" id="ref-for-concept-origin-effective-domain②">effective domain</a>, or it may be equal to a registrable
domain suffix of the <a data-link-type="dfn" href="#relying-party" id="ref-for-relying-party③⑥">Relying Party</a>'s <a data-link-type="dfn" href="https://w3c.github.io/html/browsers.html#concept-cross-origin" id="ref-for-concept-cross-origin④">origin</a>'s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/origin.html#concept-origin-effective-domain" id="ref-for-concept-origin-effective-domain③">effective domain</a> (i.e., <em>an available relaxation</em>), and,</p>
       <li data-md="">
        <p>all (TCP) ports on that host (i.e., <em>a relaxation</em>).</p>
      </ul>
      <p>This is done in order to match the behavior of pervasively deployed ambient credentials (e.g., cookies, <a data-link-type="biblio" href="#biblio-rfc6265">[RFC6265]</a>).
    Please note that this is a greater relaxation of "same-origin" restrictions than what <a data-link-type="dfn" href="https://w3c.github.io/html/browsers.html#dom-document-domain" id="ref-for-dom-document-domain">document.domain</a>'s setter provides.</p>
     </div>
    <dt data-md=""><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport="" id="test-of-user-presence">Test of User Presence</dfn>
    <dd data-md="">
     <p>A <a data-link-type="dfn" href="#test-of-user-presence" id="ref-for-test-of-user-presence③">test of user presence</a> is a simple form of <a data-link-type="dfn" href="#authorization-gesture" id="ref-for-authorization-gesture⑥">authorization gesture</a> and technical process where a user interacts with
an <a data-link-type="dfn" href="#authenticator" id="ref-for-authenticator②⑨">authenticator</a> by (typically) simply touching it (other modalities may also exist), yielding a Boolean result. Note
that this does not constitute <a data-link-type="dfn" href="#user-verification" id="ref-for-user-verification⑥">user verification</a> because a <a data-link-type="dfn" href="#test-of-user-presence" id="ref-for-test-of-user-presence④">user presence test</a>, by definition,
is not capable of <a data-link-type="dfn" href="#biometric-recognition" id="ref-for-biometric-recognition①">biometric recognition</a>, nor does it involve the presentation of a shared secret such as a password or
PIN.</p>
    <dt data-md=""><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport="" id="user-consent">User Consent</dfn>
    <dd data-md="">
     <p>User consent means the user agrees with what they are being asked, i.e., it encompasses reading and understanding prompts.
An <a data-link-type="dfn" href="#authorization-gesture" id="ref-for-authorization-gesture⑦">authorization gesture</a> is a <a data-link-type="dfn" href="#ceremony" id="ref-for-ceremony⑦">ceremony</a> component often employed to indicate <a data-link-type="dfn" href="#user-consent" id="ref-for-user-consent④">user consent</a>.</p>
    <dt data-md=""><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport="" id="user-handle">User Handle</dfn>
    <dd data-md="">
     <p>The user handle is specified by a <a data-link-type="dfn" href="#relying-party" id="ref-for-relying-party③⑦">Relying Party</a> and is a unique identifier for a user account with that <a data-link-type="dfn" href="#relying-party" id="ref-for-relying-party③⑧">Relying Party</a>. A user handle is
an opaque <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#byte-sequence" id="ref-for-byte-sequence①">byte sequence</a> with a maximum size of 64 bytes.</p>
     <p>The user handle is not meant to be displayed to the user, but is used by the <a data-link-type="dfn" href="#relying-party" id="ref-for-relying-party③⑨">Relying Party</a> to control the number of credentials - an
authenticator will never contain more than one credential for a given <a data-link-type="dfn" href="#relying-party" id="ref-for-relying-party④⓪">Relying Party</a> under the same user handle.</p>
    <dt data-md=""><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport="" id="user-verification">User Verification</dfn>
    <dd data-md="">
     <p>The technical process by which an <a data-link-type="dfn" href="#authenticator" id="ref-for-authenticator③⓪">authenticator</a> <em>locally authorizes</em> the invocation of the <a data-link-type="dfn" href="#authenticatormakecredential" id="ref-for-authenticatormakecredential②">authenticatorMakeCredential</a> and <a data-link-type="dfn" href="#authenticatorgetassertion" id="ref-for-authenticatorgetassertion①">authenticatorGetAssertion</a> operations. <a data-link-type="dfn" href="#user-verification" id="ref-for-user-verification⑦">User verification</a> MAY be instigated
through various <a data-link-type="dfn" href="#authorization-gesture" id="ref-for-authorization-gesture⑧">authorization gesture</a> modalities; for example, through a touch plus pin code, password entry, or <a data-link-type="dfn" href="#biometric-recognition" id="ref-for-biometric-recognition②">biometric recognition</a> (e.g., presenting a fingerprint) <a data-link-type="biblio" href="#biblio-isobiometricvocabulary">[ISOBiometricVocabulary]</a>. The intent is to be able to
distinguish individual users. Note that invocation of the <a data-link-type="dfn" href="#authenticatormakecredential" id="ref-for-authenticatormakecredential③">authenticatorMakeCredential</a> and <a data-link-type="dfn" href="#authenticatorgetassertion" id="ref-for-authenticatorgetassertion②">authenticatorGetAssertion</a> operations implies use of key material managed by the authenticator. Note that for security, <a data-link-type="dfn" href="#user-verification" id="ref-for-user-verification⑧">user verification</a> and use
of <a data-link-type="dfn" href="#credential-private-key" id="ref-for-credential-private-key⑤">credential private keys</a> must occur within a single logical security boundary defining the <a data-link-type="dfn" href="#authenticator" id="ref-for-authenticator③①">authenticator</a>.</p>
    <dt data-md=""><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport="" id="concept-user-present">User Present</dfn>
    <dt data-md=""><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport="" id="up">UP</dfn>
    <dd data-md="">
     <p>Upon successful completion of a <a data-link-type="dfn" href="#test-of-user-presence" id="ref-for-test-of-user-presence⑤">user presence test</a>, the user is said to be
"<a data-link-type="dfn" href="#concept-user-present" id="ref-for-concept-user-present">present</a>".</p>
    <dt data-md=""><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport="" id="concept-user-verified">User Verified</dfn>
    <dt data-md=""><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport="" id="uv">UV</dfn>
    <dd data-md="">
     <p>Upon successful completion of a <a data-link-type="dfn" href="#user-verification" id="ref-for-user-verification⑨">user verification</a> process, the user is said to be "<a data-link-type="dfn" href="#concept-user-verified" id="ref-for-concept-user-verified">verified</a>".</p>
    <dt data-md=""><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport="" id="webauthn-client">WebAuthn Client</dfn>
    <dd data-md="">
     <p>Also referred to herein as simply a <a data-link-type="dfn" href="#client" id="ref-for-client">client</a>. See also <a data-link-type="dfn" href="#conforming-user-agent" id="ref-for-conforming-user-agent④">Conforming User Agent</a>. A <a data-link-type="dfn" href="#webauthn-client" id="ref-for-webauthn-client③">WebAuthn Client</a> is an intermediary entity typically implemented in the user agent (in whole, or in part). Conceptually, it underlies the <a data-link-type="dfn" href="#web-authentication-api" id="ref-for-web-authentication-api⑤">Web Authentication API</a> and embodies the implementation of the <code class="idl"><a data-link-type="idl" href="#dom-publickeycredential-create-slot" id="ref-for-dom-publickeycredential-create-slot">[[Create]](origin, options, sameOriginWithAncestors)</a></code> and <code class="idl"><a data-link-type="idl" href="#dom-publickeycredential-discoverfromexternalsource-slot" id="ref-for-dom-publickeycredential-discoverfromexternalsource-slot">[[DiscoverFromExternalSource]](origin, options, sameOriginWithAncestors)</a></code> <a data-link-type="dfn" href="https://tc39.github.io/ecma262/#sec-object-internal-methods-and-internal-slots" id="ref-for-sec-object-internal-methods-and-internal-slots">internal methods</a>. It is responsible for both marshalling the inputs for the underlying <a data-link-type="dfn" href="#authenticator-operations" id="ref-for-authenticator-operations">authenticator operations</a>, and for returning the results of the latter operations to the <a data-link-type="dfn" href="#web-authentication-api" id="ref-for-web-authentication-api⑥">Web Authentication API</a>'s callers.</p>
   </dl>
   <h2 class="heading settled" data-level="5" id="api"><span class="secno">5. </span><span class="content"><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport="" id="web-authentication-api">Web Authentication API</dfn></span><a class="self-link" href="#api"></a></h2>
   <p>This section normatively specifies the API for creating and using <a data-link-type="dfn" href="#public-key-credential" id="ref-for-public-key-credential①⑤">public key credentials</a>. The basic
idea is that the credentials belong to the user and are managed by an authenticator, with which the <a data-link-type="dfn" href="#relying-party" id="ref-for-relying-party④①">Relying Party</a> interacts through the
client (consisting of the browser and underlying OS platform). Scripts can (with the <a data-link-type="dfn" href="#user-consent" id="ref-for-user-consent⑤">user’s consent</a>) request the
browser to create a new credential for future use by the <a data-link-type="dfn" href="#relying-party" id="ref-for-relying-party④②">Relying Party</a>. Scripts can also request the user’s permission to perform
authentication operations with an existing credential. All such operations are performed in the authenticator and are mediated by
the browser and/or platform on the user’s behalf. At no point does the script get access to the credentials themselves; it only
gets information about the credentials in the form of objects.</p>
   <p>In addition to the above script interface, the authenticator MAY implement (or come with client software that implements) a user
interface for management. Such an interface MAY be used, for example, to reset the authenticator to a clean state or to inspect
the current state of the authenticator. In other words, such an interface is similar to the user interfaces provided by browsers
for managing user state such as history, saved passwords, and cookies. Authenticator management actions such as credential
deletion are considered to be the responsibility of such a user interface and are deliberately omitted from the API exposed to
scripts.</p>
   <p>The security properties of this API are provided by the client and the authenticator working together. The authenticator, which
holds and manages credentials, ensures that all operations are scoped to a particular <a data-link-type="dfn" href="https://w3c.github.io/html/browsers.html#concept-cross-origin" id="ref-for-concept-cross-origin⑤">origin</a>, and cannot be replayed against
a different <a data-link-type="dfn" href="https://w3c.github.io/html/browsers.html#concept-cross-origin" id="ref-for-concept-cross-origin⑥">origin</a>, by incorporating the <a data-link-type="dfn" href="https://w3c.github.io/html/browsers.html#concept-cross-origin" id="ref-for-concept-cross-origin⑦">origin</a> in its responses. Specifically, as defined in <a href="#authenticator-ops">§6.2 Authenticator operations</a>,
the full <a data-link-type="dfn" href="https://w3c.github.io/html/browsers.html#concept-cross-origin" id="ref-for-concept-cross-origin⑧">origin</a> of the requester is included, and signed over, in the <a data-link-type="dfn" href="#attestation-object" id="ref-for-attestation-object③">attestation object</a> produced when a new credential
is created as well as in all assertions produced by WebAuthn credentials.</p>
   <p>Additionally, to maintain user privacy and prevent malicious <a data-link-type="dfn" href="#relying-party" id="ref-for-relying-party④③">Relying Parties</a> from probing for the presence of <a data-link-type="dfn" href="#public-key-credential" id="ref-for-public-key-credential①⑥">public key
credentials</a> belonging to other <a data-link-type="dfn" href="#relying-party" id="ref-for-relying-party④④">Relying Parties</a>, each <a data-link-type="dfn" href="#public-key-credential" id="ref-for-public-key-credential①⑦">credential</a> is also associated with a <a data-link-type="dfn" href="#relying-party-identifier" id="ref-for-relying-party-identifier①">Relying Party
Identifier</a>, or <a data-link-type="dfn" href="#rp-id" id="ref-for-rp-id⑤">RP ID</a>. This <a data-link-type="dfn" href="#rp-id" id="ref-for-rp-id⑥">RP ID</a> is provided by the client to the <a data-link-type="dfn" href="#authenticator" id="ref-for-authenticator③②">authenticator</a> for all operations, and the <a data-link-type="dfn" href="#authenticator" id="ref-for-authenticator③③">authenticator</a> ensures that <a data-link-type="dfn" href="#public-key-credential" id="ref-for-public-key-credential①⑧">credentials</a> created by a <a data-link-type="dfn" href="#relying-party" id="ref-for-relying-party④⑤">Relying Party</a> can only be used in operations
requested by the same <a data-link-type="dfn" href="#rp-id" id="ref-for-rp-id⑦">RP ID</a>. Separating the <a data-link-type="dfn" href="https://w3c.github.io/html/browsers.html#concept-cross-origin" id="ref-for-concept-cross-origin⑨">origin</a> from the <a data-link-type="dfn" href="#rp-id" id="ref-for-rp-id⑧">RP ID</a> in this way allows the API to be used in cases
where a single <a data-link-type="dfn" href="#relying-party" id="ref-for-relying-party④⑥">Relying Party</a> maintains multiple <a data-link-type="dfn" href="https://w3c.github.io/html/browsers.html#concept-cross-origin" id="ref-for-concept-cross-origin①⓪">origins</a>.</p>
   <p>The client facilitates these security measures by providing the <a data-link-type="dfn" href="#relying-party" id="ref-for-relying-party④⑦">Relying Party</a>'s <a data-link-type="dfn" href="https://w3c.github.io/html/browsers.html#concept-cross-origin" id="ref-for-concept-cross-origin①①">origin</a> and <a data-link-type="dfn" href="#rp-id" id="ref-for-rp-id⑨">RP ID</a> to the <a data-link-type="dfn" href="#authenticator" id="ref-for-authenticator③④">authenticator</a> for
each operation. Since this is an integral part of the WebAuthn security model, user agents only expose this API to callers in <a data-link-type="dfn" href="https://w3c.github.io/webappsec-secure-contexts/#secure-contexts" id="ref-for-secure-contexts">secure contexts</a>.</p>
   <p>The Web Authentication API is defined by the union of the Web IDL fragments presented in the following sections. A combined IDL
listing is given in the <a href="#idl-index">IDL Index</a>.</p>
   <h3 class="heading settled" data-level="5.1" id="iface-pkcredential"><span class="secno">5.1. </span><span class="content"><dfn class="dfn-paneled idl-code" data-dfn-type="interface" data-export="" id="publickeycredential"><code>PublicKeyCredential</code></dfn> Interface</span><a class="self-link" href="#iface-pkcredential"></a></h3>
   <p>The <code class="idl"><a data-link-type="idl" href="#publickeycredential" id="ref-for-publickeycredential①">PublicKeyCredential</a></code> interface inherits from <code class="idl"><a data-link-type="idl" href="https://w3c.github.io/webappsec-credential-management/#credential" id="ref-for-credential①">Credential</a></code> <a data-link-type="biblio" href="#biblio-credential-management-1">[CREDENTIAL-MANAGEMENT-1]</a>, and contains the attributes
that are returned to the caller when a new credential is created, or a new assertion is requested.</p>
<pre class="idl highlight def">[<a class="nv idl-code" data-link-type="extended-attribute" href="https://heycam.github.io/webidl/#SecureContext" id="ref-for-SecureContext">SecureContext</a>, <a class="nv idl-code" data-link-type="extended-attribute" href="https://heycam.github.io/webidl/#Exposed" id="ref-for-Exposed">Exposed</a>=<span class="n">Window</span>]
<span class="kt">interface</span> <a class="nv idl-code" data-link-type="interface" href="#publickeycredential" id="ref-for-publickeycredential②">PublicKeyCredential</a> : <a class="n" data-link-type="idl-name" href="https://w3c.github.io/webappsec-credential-management/#credential" id="ref-for-credential②">Credential</a> {
    [<a class="nv idl-code" data-link-type="extended-attribute" href="https://heycam.github.io/webidl/#SameObject" id="ref-for-SameObject">SameObject</a>] <span class="kt">readonly</span> <span class="kt">attribute</span> <a class="n idl-code" data-link-type="interface" href="https://heycam.github.io/webidl/#idl-ArrayBuffer" id="ref-for-idl-ArrayBuffer"><span class="kt">ArrayBuffer</span></a>              <dfn class="nv dfn-paneled idl-code" data-dfn-for="PublicKeyCredential" data-dfn-type="attribute" data-export="" data-readonly="" data-type="ArrayBuffer" id="dom-publickeycredential-rawid"><code>rawId</code></dfn>;
    [<a class="nv idl-code" data-link-type="extended-attribute" href="https://heycam.github.io/webidl/#SameObject" id="ref-for-SameObject①">SameObject</a>] <span class="kt">readonly</span> <span class="kt">attribute</span> <a class="n" data-link-type="idl-name" href="#authenticatorresponse" id="ref-for-authenticatorresponse">AuthenticatorResponse</a>    <a class="nv idl-code" data-link-type="attribute" data-readonly="" data-type="AuthenticatorResponse" href="#dom-publickeycredential-response" id="ref-for-dom-publickeycredential-response">response</a>;
    <a class="n" data-link-type="idl-name" href="#dictdef-authenticationextensionsclientoutputs" id="ref-for-dictdef-authenticationextensionsclientoutputs">AuthenticationExtensionsClientOutputs</a> <dfn class="nv dfn-paneled idl-code" data-dfn-for="PublicKeyCredential" data-dfn-type="method" data-export="" data-lt="getClientExtensionResults()" id="dom-publickeycredential-getclientextensionresults"><code>getClientExtensionResults</code></dfn>();
};
</pre>
   <dl>
    <dt data-md=""><code class="idl"><a data-link-type="idl" href="https://w3c.github.io/webappsec-credential-management/#dom-credential-id" id="ref-for-dom-credential-id">id</a></code>
    <dd data-md="">
     <p>This attribute is inherited from <code class="idl"><a data-link-type="idl" href="https://w3c.github.io/webappsec-credential-management/#credential" id="ref-for-credential③">Credential</a></code>, though <code class="idl"><a data-link-type="idl" href="#publickeycredential" id="ref-for-publickeycredential③">PublicKeyCredential</a></code> overrides <code class="idl"><a data-link-type="idl" href="https://w3c.github.io/webappsec-credential-management/#credential" id="ref-for-credential④">Credential</a></code>'s getter,
instead returning the <a data-link-type="dfn" href="#base64url-encoding" id="ref-for-base64url-encoding">base64url encoding</a> of the data contained in the object’s <code class="idl"><a data-link-type="idl" href="#dom-publickeycredential-identifier-slot" id="ref-for-dom-publickeycredential-identifier-slot">[[identifier]]</a></code> <a data-link-type="dfn" href="https://tc39.github.io/ecma262/#sec-object-internal-methods-and-internal-slots" id="ref-for-sec-object-internal-methods-and-internal-slots①">internal slot</a>.</p>
    <dt data-md=""><code class="idl"><a data-link-type="idl" href="#dom-publickeycredential-rawid" id="ref-for-dom-publickeycredential-rawid">rawId</a></code>
    <dd data-md="">
     <p>This attribute returns the <code class="idl"><a data-link-type="idl" href="https://heycam.github.io/webidl/#idl-ArrayBuffer" id="ref-for-idl-ArrayBuffer①">ArrayBuffer</a></code> contained in the <code class="idl"><a data-link-type="idl" href="#dom-publickeycredential-identifier-slot" id="ref-for-dom-publickeycredential-identifier-slot①">[[identifier]]</a></code> internal slot.</p>
    <dt data-md=""><dfn class="dfn-paneled idl-code" data-dfn-for="PublicKeyCredential" data-dfn-type="attribute" data-export="" id="dom-publickeycredential-response"><code>response</code></dfn>, <span> of type <a data-link-type="idl-name" href="#authenticatorresponse" id="ref-for-authenticatorresponse①">AuthenticatorResponse</a>, readonly</span>
    <dd data-md="">
     <p>This attribute contains the <a data-link-type="dfn" href="#authenticator" id="ref-for-authenticator③⑤">authenticator</a>'s response to the client’s request to either create a <a data-link-type="dfn" href="#public-key-credential" id="ref-for-public-key-credential①⑨">public key
credential</a>, or generate an <a data-link-type="dfn" href="#authentication-assertion" id="ref-for-authentication-assertion⑨">authentication assertion</a>. If the <code class="idl"><a data-link-type="idl" href="#publickeycredential" id="ref-for-publickeycredential④">PublicKeyCredential</a></code> is created in response to <code class="idl"><a data-link-type="idl" href="https://w3c.github.io/webappsec-credential-management/#dom-credentialscontainer-create" id="ref-for-dom-credentialscontainer-create①">create()</a></code>, this attribute’s value will be an <code class="idl"><a data-link-type="idl" href="#authenticatorattestationresponse" id="ref-for-authenticatorattestationresponse">AuthenticatorAttestationResponse</a></code>, otherwise,
the <code class="idl"><a data-link-type="idl" href="#publickeycredential" id="ref-for-publickeycredential⑤">PublicKeyCredential</a></code> was created in response to <code class="idl"><a data-link-type="idl" href="https://w3c.github.io/webappsec-credential-management/#dom-credentialscontainer-get" id="ref-for-dom-credentialscontainer-get②">get()</a></code>, and this attribute’s value
will be an <code class="idl"><a data-link-type="idl" href="#authenticatorassertionresponse" id="ref-for-authenticatorassertionresponse①">AuthenticatorAssertionResponse</a></code>.</p>
    <dt data-md=""><code class="idl"><a data-link-type="idl" href="#dom-publickeycredential-getclientextensionresults" id="ref-for-dom-publickeycredential-getclientextensionresults">getClientExtensionResults()</a></code>
    <dd data-md="">
     <p>This operation returns the value of <code class="idl"><a data-link-type="idl" href="#dom-publickeycredential-clientextensionsresults-slot" id="ref-for-dom-publickeycredential-clientextensionsresults-slot">[[clientExtensionsResults]]</a></code>, which is a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#ordered-map" id="ref-for-ordered-map">map</a> containing <a data-link-type="dfn" href="#extension-identifier" id="ref-for-extension-identifier">extension identifier</a> → <a data-link-type="dfn" href="#client-extension-output" id="ref-for-client-extension-output">client extension output</a> entries produced by the extension’s <a data-link-type="dfn" href="#client-extension-processing" id="ref-for-client-extension-processing">client extension processing</a>.</p>
    <dt data-md=""><dfn class="idl-code" data-dfn-for="PublicKeyCredential" data-dfn-type="attribute" data-export="" id="dom-publickeycredential-type-slot"><code>[[type]]</code><a class="self-link" href="#dom-publickeycredential-type-slot"></a></dfn>
    <dd data-md="">
     <p>The <code class="idl"><a data-link-type="idl" href="#publickeycredential" id="ref-for-publickeycredential⑥">PublicKeyCredential</a></code> <a data-link-type="dfn" href="https://heycam.github.io/webidl/#dfn-interface-object" id="ref-for-dfn-interface-object">interface object</a>'s <code class="idl"><a data-link-type="idl" href="https://w3c.github.io/webappsec-credential-management/#dom-credential-type-slot" id="ref-for-dom-credential-type-slot">[[type]]</a></code> <a data-link-type="dfn" href="https://tc39.github.io/ecma262/#sec-object-internal-methods-and-internal-slots" id="ref-for-sec-object-internal-methods-and-internal-slots②">internal slot</a>'s value is the string
"<code>public-key</code>".</p>
     <p class="note" role="note"><span>Note:</span> This is reflected via the <code class="idl"><a data-link-type="idl" href="https://w3c.github.io/webappsec-credential-management/#dom-credential-type" id="ref-for-dom-credential-type">type</a></code> attribute getter inherited from <code class="idl"><a data-link-type="idl" href="https://w3c.github.io/webappsec-credential-management/#credential" id="ref-for-credential⑤">Credential</a></code>.</p>
    <dt data-md=""><dfn class="idl-code" data-dfn-for="PublicKeyCredential" data-dfn-type="attribute" data-export="" id="dom-publickeycredential-discovery-slot"><code>[[discovery]]</code><a class="self-link" href="#dom-publickeycredential-discovery-slot"></a></dfn>
    <dd data-md="">
     <p>The <code class="idl"><a data-link-type="idl" href="#publickeycredential" id="ref-for-publickeycredential⑦">PublicKeyCredential</a></code> <a data-link-type="dfn" href="https://heycam.github.io/webidl/#dfn-interface-object" id="ref-for-dfn-interface-object①">interface object</a>'s <code class="idl"><a data-link-type="idl" href="https://w3c.github.io/webappsec-credential-management/#dom-credential-discovery-slot" id="ref-for-dom-credential-discovery-slot">[[discovery]]</a></code> <a data-link-type="dfn" href="https://tc39.github.io/ecma262/#sec-object-internal-methods-and-internal-slots" id="ref-for-sec-object-internal-methods-and-internal-slots③">internal slot</a>'s value is
"<code class="idl"><a data-link-type="idl" href="https://w3c.github.io/webappsec-credential-management/#dom-credential-discovery-remote" id="ref-for-dom-credential-discovery-remote">remote</a></code>".</p>
    <dt data-md=""><dfn class="dfn-paneled idl-code" data-dfn-for="PublicKeyCredential" data-dfn-type="attribute" data-export="" id="dom-publickeycredential-identifier-slot"><code>[[identifier]]</code></dfn>
    <dd data-md="">
     <p>This <a data-link-type="dfn" href="https://tc39.github.io/ecma262/#sec-object-internal-methods-and-internal-slots" id="ref-for-sec-object-internal-methods-and-internal-slots④">internal slot</a> contains the <a data-link-type="dfn" href="#credential-id" id="ref-for-credential-id④">credential ID</a>, chosen by the platform with help from the authenticator.
The <a data-link-type="dfn" href="#credential-id" id="ref-for-credential-id⑤">credential ID</a> is used to look up credentials for use, and is therefore expected to be globally unique
with high probability across all credentials of the same type, across all authenticators.</p>
     <p class="note" role="note"><span>Note:</span> This API does not constrain
the format or length of this identifier, except that it MUST be sufficient for the platform to uniquely select a key.
For example, an authenticator without on-board storage may create identifiers containing a <a data-link-type="dfn" href="#credential-private-key" id="ref-for-credential-private-key⑥">credential private key</a> wrapped with a symmetric key that is burned into the authenticator.</p>
    <dt data-md=""><dfn class="dfn-paneled idl-code" data-dfn-for="PublicKeyCredential" data-dfn-type="attribute" data-export="" id="dom-publickeycredential-clientextensionsresults-slot"><code>[[clientExtensionsResults]]</code></dfn>
    <dd data-md="">
     <p>This <a data-link-type="dfn" href="https://tc39.github.io/ecma262/#sec-object-internal-methods-and-internal-slots" id="ref-for-sec-object-internal-methods-and-internal-slots⑤">internal slot</a> contains the results of processing client extensions requested by the <a data-link-type="dfn" href="#relying-party" id="ref-for-relying-party④⑧">Relying Party</a> upon the <a data-link-type="dfn" href="#relying-party" id="ref-for-relying-party④⑨">Relying Party</a>'s invocation of either <code class="idl"><a data-link-type="idl" href="https://w3c.github.io/webappsec-credential-management/#dom-credentialscontainer-create" id="ref-for-dom-credentialscontainer-create②">navigator.credentials.create()</a></code> or <code class="idl"><a data-link-type="idl" href="https://w3c.github.io/webappsec-credential-management/#dom-credentialscontainer-get" id="ref-for-dom-credentialscontainer-get③">navigator.credentials.get()</a></code>.</p>
   </dl>
   <p><code class="idl"><a data-link-type="idl" href="#publickeycredential" id="ref-for-publickeycredential⑧">PublicKeyCredential</a></code>'s <a data-link-type="dfn" href="https://heycam.github.io/webidl/#dfn-interface-object" id="ref-for-dfn-interface-object②">interface object</a> inherits <code class="idl"><a data-link-type="idl" href="https://w3c.github.io/webappsec-credential-management/#credential" id="ref-for-credential⑥">Credential</a></code>'s implementation of <code class="idl"><a data-link-type="idl" href="https://w3c.github.io/webappsec-credential-management/#collectfromcredentialstore-origin-options-sameoriginwithancestors" id="ref-for-collectfromcredentialstore-origin-options-sameoriginwithancestors">[[CollectFromCredentialStore]](origin, options, sameOriginWithAncestors)</a></code>, and defines its own
implementation of <code class="idl"><a data-link-type="idl" href="#dom-publickeycredential-create-slot" id="ref-for-dom-publickeycredential-create-slot①">[[Create]](origin, options, sameOriginWithAncestors)</a></code>, <code class="idl"><a data-link-type="idl" href="#dom-publickeycredential-discoverfromexternalsource-slot" id="ref-for-dom-publickeycredential-discoverfromexternalsource-slot①">[[DiscoverFromExternalSource]](origin, options, sameOriginWithAncestors)</a></code>, and <code class="idl"><a data-link-type="idl" href="https://w3c.github.io/webappsec-credential-management/#store-credential-sameoriginwithancestors" id="ref-for-store-credential-sameoriginwithancestors">[[Store]](credential, sameOriginWithAncestors)</a></code>.</p>
   <h4 class="heading settled" data-level="5.1.1" id="credentialcreationoptions-extension"><span class="secno">5.1.1. </span><span class="content"><code>CredentialCreationOptions</code> Dictionary Extension</span><a class="self-link" href="#credentialcreationoptions-extension"></a></h4>
   <p>To support registration via <code class="idl"><a data-link-type="idl" href="https://w3c.github.io/webappsec-credential-management/#dom-credentialscontainer-create" id="ref-for-dom-credentialscontainer-create③">navigator.credentials.create()</a></code>, this document extends
the <code class="idl"><a data-link-type="idl" href="https://w3c.github.io/webappsec-credential-management/#dictdef-credentialcreationoptions" id="ref-for-dictdef-credentialcreationoptions">CredentialCreationOptions</a></code> dictionary as follows:</p>
<pre class="idl highlight def"><span class="kt">partial</span> <span class="kt">dictionary</span> <a class="nv idl-code" data-link-type="dictionary" href="https://w3c.github.io/webappsec-credential-management/#dictdef-credentialcreationoptions" id="ref-for-dictdef-credentialcreationoptions①">CredentialCreationOptions</a> {
    <a class="n" data-link-type="idl-name" href="#dictdef-publickeycredentialcreationoptions" id="ref-for-dictdef-publickeycredentialcreationoptions">PublicKeyCredentialCreationOptions</a>      <dfn class="nv dfn-paneled idl-code" data-dfn-for="CredentialCreationOptions" data-dfn-type="dict-member" data-export="" data-type="PublicKeyCredentialCreationOptions      " id="dom-credentialcreationoptions-publickey"><code>publicKey</code></dfn>;
};
</pre>
   <h4 class="heading settled" data-level="5.1.2" id="credentialrequestoptions-extension"><span class="secno">5.1.2. </span><span class="content"><code>CredentialRequestOptions</code> Dictionary Extension</span><a class="self-link" href="#credentialrequestoptions-extension"></a></h4>
   <p>To support obtaining assertions via <code class="idl"><a data-link-type="idl" href="https://w3c.github.io/webappsec-credential-management/#dom-credentialscontainer-get" id="ref-for-dom-credentialscontainer-get④">navigator.credentials.get()</a></code>, this document extends the <code class="idl"><a data-link-type="idl" href="https://w3c.github.io/webappsec-credential-management/#dictdef-credentialrequestoptions" id="ref-for-dictdef-credentialrequestoptions">CredentialRequestOptions</a></code> dictionary as follows:</p>
<pre class="idl highlight def"><span class="kt">partial</span> <span class="kt">dictionary</span> <a class="nv idl-code" data-link-type="dictionary" href="https://w3c.github.io/webappsec-credential-management/#dictdef-credentialrequestoptions" id="ref-for-dictdef-credentialrequestoptions①">CredentialRequestOptions</a> {
    <a class="n" data-link-type="idl-name" href="#dictdef-publickeycredentialrequestoptions" id="ref-for-dictdef-publickeycredentialrequestoptions">PublicKeyCredentialRequestOptions</a>      <dfn class="nv dfn-paneled idl-code" data-dfn-for="CredentialRequestOptions" data-dfn-type="dict-member" data-export="" data-type="PublicKeyCredentialRequestOptions      " id="dom-credentialrequestoptions-publickey"><code>publicKey</code></dfn>;
};
</pre>
   <h4 class="heading settled" data-level="5.1.3" id="createCredential"><span class="secno">5.1.3. </span><span class="content">Create a new credential - PublicKeyCredential’s <code>[[Create]](origin, options, sameOriginWithAncestors)</code> method</span><a class="self-link" href="#createCredential"></a></h4>
   <div data-link-for-hint="PublicKeyCredential/[[Create]](origin, options, sameOriginWithAncestors)">
     <code class="idl"><a data-link-type="idl" href="#publickeycredential" id="ref-for-publickeycredential⑨">PublicKeyCredential</a></code>'s <a data-link-type="dfn" href="https://heycam.github.io/webidl/#dfn-interface-object" id="ref-for-dfn-interface-object③">interface object</a>'s implementation of the <dfn class="dfn-paneled idl-code" data-dfn-for="PublicKeyCredential" data-dfn-type="method" data-export="" data-lt="[[Create]](origin, options, sameOriginWithAncestors)" id="dom-publickeycredential-create-slot"><code>[[Create]](origin,
options, sameOriginWithAncestors)</code></dfn> <a data-link-type="dfn" href="https://tc39.github.io/ecma262/#sec-object-internal-methods-and-internal-slots" id="ref-for-sec-object-internal-methods-and-internal-slots⑥">internal method</a> <a data-link-type="biblio" href="#biblio-credential-management-1">[CREDENTIAL-MANAGEMENT-1]</a> allows <a data-link-type="dfn" href="#relying-party" id="ref-for-relying-party⑤⓪">Relying Party</a> scripts to call <code class="idl"><a data-link-type="idl" href="https://w3c.github.io/webappsec-credential-management/#dom-credentialscontainer-create" id="ref-for-dom-credentialscontainer-create④">navigator.credentials.create()</a></code> to request the creation of a new <a data-link-type="dfn" href="#public-key-credential-source" id="ref-for-public-key-credential-source①①">public key credential source</a>, bound to an <a data-link-type="dfn" href="#authenticator" id="ref-for-authenticator③⑥">authenticator</a>. This <code class="idl"><a data-link-type="idl" href="https://w3c.github.io/webappsec-credential-management/#dom-credentialscontainer-create" id="ref-for-dom-credentialscontainer-create⑤">navigator.credentials.create()</a></code> operation can be aborted by leveraging the <code class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#abortcontroller" id="ref-for-abortcontroller">AbortController</a></code>;
see <a href="https://dom.spec.whatwg.org/#abortcontroller-api-integration">DOM §3.3 Using AbortController and AbortSignal objects in APIs</a> for detailed instructions. 
    <p>This <a data-link-type="dfn" href="https://tc39.github.io/ecma262/#sec-object-internal-methods-and-internal-slots" id="ref-for-sec-object-internal-methods-and-internal-slots⑦">internal method</a> accepts three arguments:</p>
    <dl>
     <dt data-md=""><dfn class="dfn-paneled idl-code" data-dfn-for="PublicKeyCredential/[[Create]](origin, options, sameOriginWithAncestors)" data-dfn-type="argument" data-export="" id="dom-publickeycredential-create-origin-options-sameoriginwithancestors-origin"><code>origin</code></dfn>
     <dd data-md="">
      <p>This argument is the <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#relevant-settings-object" id="ref-for-relevant-settings-object①">relevant settings object</a>'s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-settings-object-origin" id="ref-for-concept-settings-object-origin②">origin</a>, as determined by the
calling <code class="idl"><a data-link-type="idl" href="https://w3c.github.io/webappsec-credential-management/#dom-credentialscontainer-create" id="ref-for-dom-credentialscontainer-create⑥">create()</a></code> implementation.</p>
     <dt data-md=""><dfn class="dfn-paneled idl-code" data-dfn-for="PublicKeyCredential/[[Create]](origin, options, sameOriginWithAncestors)" data-dfn-type="argument" data-export="" id="dom-publickeycredential-create-origin-options-sameoriginwithancestors-options"><code>options</code></dfn>
     <dd data-md="">
      <p>This argument is a <code class="idl"><a data-link-type="idl" href="https://w3c.github.io/webappsec-credential-management/#dictdef-credentialcreationoptions" id="ref-for-dictdef-credentialcreationoptions②">CredentialCreationOptions</a></code> object whose <code><var>options</var>.<code class="idl"><a data-link-type="idl" href="#dom-credentialcreationoptions-publickey" id="ref-for-dom-credentialcreationoptions-publickey">publicKey</a></code></code> member contains a <code class="idl"><a data-link-type="idl" href="#dictdef-publickeycredentialcreationoptions" id="ref-for-dictdef-publickeycredentialcreationoptions①">PublicKeyCredentialCreationOptions</a></code> object specifying the desired attributes of the to-be-created <a data-link-type="dfn" href="#public-key-credential" id="ref-for-public-key-credential②⓪">public key credential</a>.</p>
     <dt data-md=""><dfn class="idl-code" data-dfn-for="PublicKeyCredential/[[Create]](origin, options, sameOriginWithAncestors)" data-dfn-type="argument" data-export="" id="dom-publickeycredential-create-origin-options-sameoriginwithancestors-sameoriginwithancestors"><code>sameOriginWithAncestors</code><a class="self-link" href="#dom-publickeycredential-create-origin-options-sameoriginwithancestors-sameoriginwithancestors"></a></dfn>
     <dd data-md="">
      <p>This argument is a Boolean value which is <code>true</code> if and only if the caller’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#environment-settings-object" id="ref-for-environment-settings-object">environment settings object</a> is <a data-link-type="dfn" href="https://w3c.github.io/webappsec-credential-management/#same-origin-with-its-ancestors" id="ref-for-same-origin-with-its-ancestors">same-origin with its ancestors</a>.</p>
    </dl>
    <p class="note" role="note"><span>Note:</span> <strong>This algorithm is synchronous:</strong> the <code class="idl"><a data-link-type="idl" href="https://heycam.github.io/webidl/#idl-promise" id="ref-for-idl-promise①">Promise</a></code> resolution/rejection is handled by <code class="idl"><a data-link-type="idl" href="https://w3c.github.io/webappsec-credential-management/#dom-credentialscontainer-create" id="ref-for-dom-credentialscontainer-create⑦">navigator.credentials.create()</a></code>.</p>
    <p>When this method is invoked, the user agent MUST execute the following algorithm:</p>
    <ol>
     <li data-md="">
      <p class="assertion">Assert: <code><var>options</var>.<code class="idl"><a data-link-type="idl" href="#dom-credentialcreationoptions-publickey" id="ref-for-dom-credentialcreationoptions-publickey①">publicKey</a></code></code> is <a data-link-type="dfn" href="https://heycam.github.io/webidl/#dfn-present" id="ref-for-dfn-present">present</a>.</p>
     <li data-md="">
      <p>If <var>sameOriginWithAncestors</var> is <code>false</code>, return a "<code class="idl"><a data-link-type="idl" href="https://heycam.github.io/webidl/#notallowederror" id="ref-for-notallowederror">NotAllowedError</a></code>" <code class="idl"><a data-link-type="idl" href="https://heycam.github.io/webidl/#idl-DOMException" id="ref-for-idl-DOMException①">DOMException</a></code>.</p>
      <p class="note" role="note"><span>Note:</span> This "sameOriginWithAncestors" restriction aims to address the concern raised in the <a href="https://www.w3.org/TR/credential-management-1/#security-origin-confusion">Origin Confusion</a> section of <a data-link-type="biblio" href="#biblio-credential-management-1">[CREDENTIAL-MANAGEMENT-1]</a>,
while allowing <a data-link-type="dfn" href="#relying-party" id="ref-for-relying-party⑤①">Relying Party</a> script access to Web Authentication functionality, e.g., when running in
a <a data-link-type="dfn" href="https://w3c.github.io/webappsec-secure-contexts/#secure-contexts" id="ref-for-secure-contexts①">secure context</a> framed document that is <a data-link-type="dfn" href="https://w3c.github.io/webappsec-credential-management/#same-origin-with-its-ancestors" id="ref-for-same-origin-with-its-ancestors①">same-origin with its ancestors</a>.
However, in the future, this specification (in conjunction with <a data-link-type="biblio" href="#biblio-credential-management-1">[CREDENTIAL-MANAGEMENT-1]</a>) may provide <a data-link-type="dfn" href="#relying-party" id="ref-for-relying-party⑤②">Relying Parties</a> with more fine-grained control--e.g., ranging
from allowing only top-level access to Web Authentication functionality,
to allowing cross-origin embedded cases--by leveraging <a data-link-type="biblio" href="#biblio-feature-policy">[Feature-Policy]</a> once the latter specification becomes stably implemented in user agents.</p>
     <li data-md="">
      <p>Let <var>options</var> be the value of <code><var>options</var>.<code class="idl"><a data-link-type="idl" href="#dom-credentialcreationoptions-publickey" id="ref-for-dom-credentialcreationoptions-publickey②">publicKey</a></code></code>.</p>
     <li data-md="">
      <p>If the <code class="idl"><a data-link-type="idl" href="#dom-publickeycredentialcreationoptions-timeout" id="ref-for-dom-publickeycredentialcreationoptions-timeout">timeout</a></code> member of <var>options</var> is <a data-link-type="dfn" href="https://heycam.github.io/webidl/#dfn-present" id="ref-for-dfn-present①">present</a>, check if its value lies within a
reasonable range as defined by the platform and if not, correct it to the closest value lying within that range. Set a timer <var>lifetimeTimer</var> to this adjusted value. If the <code class="idl"><a data-link-type="idl" href="#dom-publickeycredentialcreationoptions-timeout" id="ref-for-dom-publickeycredentialcreationoptions-timeout①">timeout</a></code> member of <var>options</var> is <a data-link-type="dfn" href="https://heycam.github.io/webidl/#dfn-present" id="ref-for-dfn-present②">not
present</a>, then set <var>lifetimeTimer</var> to a platform-specific default.</p>
     <li data-md="">
      <p>Let <var>callerOrigin</var> be <code class="idl"><a data-link-type="idl" href="#dom-publickeycredential-create-origin-options-sameoriginwithancestors-origin" id="ref-for-dom-publickeycredential-create-origin-options-sameoriginwithancestors-origin">origin</a></code>. If <var>callerOrigin</var> is an <a data-link-type="dfn" href="https://w3c.github.io/html/browsers.html#opaque-origin" id="ref-for-opaque-origin①">opaque origin</a>, return a <code class="idl"><a data-link-type="idl" href="https://heycam.github.io/webidl/#idl-DOMException" id="ref-for-idl-DOMException②">DOMException</a></code> whose name is
"<code class="idl"><a data-link-type="idl" href="https://heycam.github.io/webidl/#notallowederror" id="ref-for-notallowederror①">NotAllowedError</a></code>", and terminate this algorithm.</p>
     <li data-md="">
      <p>Let <var>effectiveDomain</var> be the <var>callerOrigin</var>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/origin.html#concept-origin-effective-domain" id="ref-for-concept-origin-effective-domain④">effective domain</a>.
If <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/origin.html#concept-origin-effective-domain" id="ref-for-concept-origin-effective-domain⑤">effective domain</a> is not a <a data-link-type="dfn" href="https://url.spec.whatwg.org/#valid-domain" id="ref-for-valid-domain">valid domain</a>, then return a <code class="idl"><a data-link-type="idl" href="https://heycam.github.io/webidl/#idl-DOMException" id="ref-for-idl-DOMException③">DOMException</a></code> whose name is "<code class="idl"><a data-link-type="idl" href="https://heycam.github.io/webidl/#securityerror" id="ref-for-securityerror">SecurityError</a></code>" and terminate this algorithm.</p>
      <p class="note" role="note"><span>Note:</span> An <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/origin.html#concept-origin-effective-domain" id="ref-for-concept-origin-effective-domain⑥">effective domain</a> may resolve to a <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url-host" id="ref-for-concept-url-host">host</a>, which can be represented in various manners,
    such as <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-domain" id="ref-for-concept-domain">domain</a>, <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-ipv4" id="ref-for-concept-ipv4">ipv4 address</a>, <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-ipv6" id="ref-for-concept-ipv6">ipv6 address</a>, <a data-link-type="dfn" href="https://url.spec.whatwg.org/#opaque-host" id="ref-for-opaque-host">opaque host</a>, or <a data-link-type="dfn" href="https://url.spec.whatwg.org/#empty-host" id="ref-for-empty-host">empty host</a>.
    Only the <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-domain" id="ref-for-concept-domain①">domain</a> format of <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url-host" id="ref-for-concept-url-host①">host</a> is allowed here.</p>
     <li id="CreateCred-DetermineRpId">
      <a class="self-link" href="#CreateCred-DetermineRpId"></a> 
      <p>If <code><var>options</var>.<code class="idl"><a data-link-type="idl" href="#dom-publickeycredentialcreationoptions-rp" id="ref-for-dom-publickeycredentialcreationoptions-rp">rp</a></code>.<code class="idl"><a data-link-type="idl" href="#dom-publickeycredentialrpentity-id" id="ref-for-dom-publickeycredentialrpentity-id">id</a></code></code></p>
      <dl class="switch">
       <dt data-md="">Is <a data-link-type="dfn" href="https://heycam.github.io/webidl/#dfn-present" id="ref-for-dfn-present③">present</a>
       <dd data-md="">
        <p>If <code><var>options</var>.<code class="idl"><a data-link-type="idl" href="#dom-publickeycredentialcreationoptions-rp" id="ref-for-dom-publickeycredentialcreationoptions-rp①">rp</a></code>.<code class="idl"><a data-link-type="idl" href="#dom-publickeycredentialrpentity-id" id="ref-for-dom-publickeycredentialrpentity-id①">id</a></code></code> <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/origin.html#is-a-registrable-domain-suffix-of-or-is-equal-to" id="ref-for-is-a-registrable-domain-suffix-of-or-is-equal-to②">is not a
registrable domain suffix of and is not equal to</a> <var>effectiveDomain</var>, return a <code class="idl"><a data-link-type="idl" href="https://heycam.github.io/webidl/#idl-DOMException" id="ref-for-idl-DOMException④">DOMException</a></code> whose name
is "<code class="idl"><a data-link-type="idl" href="https://heycam.github.io/webidl/#securityerror" id="ref-for-securityerror①">SecurityError</a></code>", and terminate this algorithm.</p>
       <dt data-md="">Is <a data-link-type="dfn" href="https://heycam.github.io/webidl/#dfn-present" id="ref-for-dfn-present④">not present</a>
       <dd data-md="">
        <p>Set <code><var>options</var>.<code class="idl"><a data-link-type="idl" href="#dom-publickeycredentialcreationoptions-rp" id="ref-for-dom-publickeycredentialcreationoptions-rp②">rp</a></code>.<code class="idl"><a data-link-type="idl" href="#dom-publickeycredentialrpentity-id" id="ref-for-dom-publickeycredentialrpentity-id②">id</a></code></code> to <var>effectiveDomain</var>.</p>
      </dl>
      <p class="note" role="note"><span>Note:</span> <code><var>options</var>.<code class="idl"><a data-link-type="idl" href="#dom-publickeycredentialcreationoptions-rp" id="ref-for-dom-publickeycredentialcreationoptions-rp③">rp</a></code>.<code class="idl"><a data-link-type="idl" href="#dom-publickeycredentialrpentity-id" id="ref-for-dom-publickeycredentialrpentity-id③">id</a></code></code> represents the
        caller’s <a data-link-type="dfn" href="#rp-id" id="ref-for-rp-id①⓪">RP ID</a>. The <a data-link-type="dfn" href="#rp-id" id="ref-for-rp-id①①">RP ID</a> defaults to being the caller’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-settings-object-origin" id="ref-for-concept-settings-object-origin③">origin</a>'s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/origin.html#concept-origin-effective-domain" id="ref-for-concept-origin-effective-domain⑦">effective domain</a> unless the caller has explicitly set <code><var>options</var>.<code class="idl"><a data-link-type="idl" href="#dom-publickeycredentialcreationoptions-rp" id="ref-for-dom-publickeycredentialcreationoptions-rp④">rp</a></code>.<code class="idl"><a data-link-type="idl" href="#dom-publickeycredentialrpentity-id" id="ref-for-dom-publickeycredentialrpentity-id④">id</a></code></code> when calling <code class="idl"><a data-link-type="idl" href="https://w3c.github.io/webappsec-credential-management/#dom-credentialscontainer-create" id="ref-for-dom-credentialscontainer-create⑧">create()</a></code>.</p>
     <li data-md="">
      <p>Let <var>credTypesAndPubKeyAlgs</var> be a new <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list" id="ref-for-list">list</a> whose <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-item" id="ref-for-list-item">items</a> are pairs of <code class="idl"><a data-link-type="idl" href="#enumdef-publickeycredentialtype" id="ref-for-enumdef-publickeycredentialtype①">PublicKeyCredentialType</a></code> and
a <code class="idl"><a data-link-type="idl" href="#typedefdef-cosealgorithmidentifier" id="ref-for-typedefdef-cosealgorithmidentifier">COSEAlgorithmIdentifier</a></code>.</p>
     <li data-md="">
      <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-iterate" id="ref-for-list-iterate">For each</a> <var>current</var> of <code><var>options</var>.<code class="idl"><a data-link-type="idl" href="#dom-publickeycredentialcreationoptions-pubkeycredparams" id="ref-for-dom-publickeycredentialcreationoptions-pubkeycredparams">pubKeyCredParams</a></code></code>:</p>
      <ol>
       <li data-md="">
        <p>If <code><var>current</var>.<code class="idl"><a data-link-type="idl" href="#dom-publickeycredentialparameters-type" id="ref-for-dom-publickeycredentialparameters-type">type</a></code></code> does not contain a <code class="idl"><a data-link-type="idl" href="#enumdef-publickeycredentialtype" id="ref-for-enumdef-publickeycredentialtype②">PublicKeyCredentialType</a></code> supported
by this implementation, then <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#iteration-continue" id="ref-for-iteration-continue">continue</a>.</p>
       <li data-md="">
        <p>Let <var>alg</var> be <code><var>current</var>.<code class="idl"><a data-link-type="idl" href="#dom-publickeycredentialparameters-alg" id="ref-for-dom-publickeycredentialparameters-alg">alg</a></code></code>.</p>
       <li data-md="">
        <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-append" id="ref-for-list-append">Append</a> the pair of <code><var>current</var>.<code class="idl"><a data-link-type="idl" href="#dom-publickeycredentialparameters-type" id="ref-for-dom-publickeycredentialparameters-type①">type</a></code></code> and <var>alg</var> to <var>credTypesAndPubKeyAlgs</var>.</p>
      </ol>
     <li data-md="">
      <p>If <var>credTypesAndPubKeyAlgs</var> <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-is-empty" id="ref-for-list-is-empty">is empty</a> and <code><var>options</var>.<code class="idl"><a data-link-type="idl" href="#dom-publickeycredentialcreationoptions-pubkeycredparams" id="ref-for-dom-publickeycredentialcreationoptions-pubkeycredparams①">pubKeyCredParams</a></code></code> <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-is-empty" id="ref-for-list-is-empty①">is not empty</a>, return a <code class="idl"><a data-link-type="idl" href="https://heycam.github.io/webidl/#idl-DOMException" id="ref-for-idl-DOMException⑤">DOMException</a></code> whose name is "<code class="idl"><a data-link-type="idl" href="https://heycam.github.io/webidl/#notsupportederror" id="ref-for-notsupportederror">NotSupportedError</a></code>", and terminate this algorithm.</p>
     <li data-md="">
      <p>Let <var>clientExtensions</var> be a new <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#ordered-map" id="ref-for-ordered-map①">map</a> and let <var>authenticatorExtensions</var> be a new <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#ordered-map" id="ref-for-ordered-map②">map</a>.</p>
     <li data-md="">
      <p>If the <code class="idl"><a data-link-type="idl" href="#dom-publickeycredentialcreationoptions-extensions" id="ref-for-dom-publickeycredentialcreationoptions-extensions">extensions</a></code> member of <var>options</var> is <a data-link-type="dfn" href="https://heycam.github.io/webidl/#dfn-present" id="ref-for-dfn-present⑤">present</a>, then <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-iterate" id="ref-for-map-iterate">for each</a> <var>extensionId</var> → <var>clientExtensionInput</var> of <code><var>options</var>.<code class="idl"><a data-link-type="idl" href="#dom-publickeycredentialcreationoptions-extensions" id="ref-for-dom-publickeycredentialcreationoptions-extensions①">extensions</a></code></code>:</p>
      <ol>
       <li data-md="">
        <p>If <var>extensionId</var> is not supported by this client platform or is not a <a data-link-type="dfn" href="#registration-extension" id="ref-for-registration-extension">registration extension</a>, then <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#iteration-continue" id="ref-for-iteration-continue①">continue</a>.</p>
       <li data-md="">
        <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-set" id="ref-for-map-set">Set</a> <var>clientExtensions</var>[<var>extensionId</var>] to <var>clientExtensionInput</var>.</p>
       <li data-md="">
        <p>If <var>extensionId</var> is not an <a data-link-type="dfn" href="#authenticator-extension" id="ref-for-authenticator-extension">authenticator extension</a>, then <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#iteration-continue" id="ref-for-iteration-continue②">continue</a>.</p>
       <li data-md="">
        <p>Let <var>authenticatorExtensionInput</var> be the (<a data-link-type="dfn" href="#cbor" id="ref-for-cbor②">CBOR</a>) result of running <var>extensionId</var>’s <a data-link-type="dfn" href="#client-extension-processing" id="ref-for-client-extension-processing①">client extension processing</a> algorithm on <var>clientExtensionInput</var>. If the algorithm returned an error, <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#iteration-continue" id="ref-for-iteration-continue③">continue</a>.</p>
       <li data-md="">
        <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-set" id="ref-for-map-set①">Set</a> <var>authenticatorExtensions</var>[<var>extensionId</var>] to the <a data-link-type="dfn" href="#base64url-encoding" id="ref-for-base64url-encoding①">base64url encoding</a> of <var>authenticatorExtensionInput</var>.</p>
      </ol>
     <li data-md="">
      <p>Let <var>collectedClientData</var> be a new <code class="idl"><a data-link-type="idl" href="#dictdef-collectedclientdata" id="ref-for-dictdef-collectedclientdata">CollectedClientData</a></code> instance whose fields are:</p>
      <dl>
       <dt data-md=""><code class="idl"><a data-link-type="idl" href="#dom-collectedclientdata-type" id="ref-for-dom-collectedclientdata-type">type</a></code>
       <dd data-md="">
        <p>The string "webauthn.create".</p>
       <dt data-md=""><code class="idl"><a data-link-type="idl" href="#dom-collectedclientdata-challenge" id="ref-for-dom-collectedclientdata-challenge">challenge</a></code>
       <dd data-md="">
        <p>The <a data-link-type="dfn" href="#base64url-encoding" id="ref-for-base64url-encoding②">base64url encoding</a> of <var>options</var>.<code class="idl"><a data-link-type="idl" href="#dom-publickeycredentialcreationoptions-challenge" id="ref-for-dom-publickeycredentialcreationoptions-challenge">challenge</a></code>.</p>
       <dt data-md=""><code class="idl"><a data-link-type="idl" href="#dom-collectedclientdata-origin" id="ref-for-dom-collectedclientdata-origin">origin</a></code>
       <dd data-md="">
        <p>The <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/origin.html#ascii-serialisation-of-an-origin" id="ref-for-ascii-serialisation-of-an-origin">serialization of</a> <var>callerOrigin</var>.</p>
       <dt data-md=""><code class="idl"><a data-link-type="idl" href="#dom-collectedclientdata-tokenbinding" id="ref-for-dom-collectedclientdata-tokenbinding">tokenBinding</a></code>
       <dd data-md="">
        <p>The status of <a data-link-type="dfn" href="https://tools.ietf.org/html/draft-ietf-tokbind-protocol#token-binding" id="ref-for-token-binding">Token Binding</a> between the client and the <var>callerOrigin</var>, as well as the <a data-link-type="dfn" href="https://tools.ietf.org/html/draft-ietf-tokbind-protocol#section-3.2" id="ref-for-section-3.2">Token Binding ID</a> associated with <var>callerOrigin</var>, if one is available.</p>
      </dl>
     <li data-md="">
      <p>Let <var>clientDataJSON</var> be the <a data-link-type="dfn" href="#collectedclientdata-json-serialized-client-data" id="ref-for-collectedclientdata-json-serialized-client-data">JSON-serialized client data</a> constructed from <var>collectedClientData</var>.</p>
     <li data-md="">
      <p>Let <var>clientDataHash</var> be the <a data-link-type="dfn" href="#collectedclientdata-hash-of-the-serialized-client-data" id="ref-for-collectedclientdata-hash-of-the-serialized-client-data">hash of the serialized client data</a> represented by <var>clientDataJSON</var>.</p>
     <li data-md="">
      <p>If the <code><var>options</var>.<code class="idl"><a data-link-type="idl" href="https://w3c.github.io/webappsec-credential-management/#dom-credentialcreationoptions-signal" id="ref-for-dom-credentialcreationoptions-signal">signal</a></code></code> is <a data-link-type="dfn" href="https://heycam.github.io/webidl/#dfn-present" id="ref-for-dfn-present⑥">present</a> and its <a data-link-type="dfn" href="https://dom.spec.whatwg.org/#abortsignal-aborted-flag" id="ref-for-abortsignal-aborted-flag">aborted flag</a> is set to <code>true</code>, return a <code class="idl"><a data-link-type="idl" href="https://heycam.github.io/webidl/#idl-DOMException" id="ref-for-idl-DOMException⑥">DOMException</a></code> whose name is "<code class="idl"><a data-link-type="idl" href="https://heycam.github.io/webidl/#aborterror" id="ref-for-aborterror">AbortError</a></code>"
and terminate this algorithm.</p>
     <li data-md="">
      <p>Let <var>issuedRequests</var> be a new <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#ordered-set" id="ref-for-ordered-set">ordered set</a>.</p>
     <li data-md="">
      <p>Let <var>authenticators</var> represent a value which at any given instant is a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#ordered-set" id="ref-for-ordered-set①">set</a> of platform-specific handles, where each <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-item" id="ref-for-list-item①">item</a> identifies an <a data-link-type="dfn" href="#authenticator" id="ref-for-authenticator③⑦">authenticator</a> presently available on this platform at that instant.</p>
      <p class="note" role="note"><span>Note:</span> What qualifies an <a data-link-type="dfn" href="#authenticator" id="ref-for-authenticator③⑧">authenticator</a> as "available" is intentionally unspecified; this is meant to represent how <a data-link-type="dfn" href="#authenticator" id="ref-for-authenticator③⑨">authenticators</a> can be <a href="https://en.wikipedia.org/w/index.php?title=Hot_plug">hot-plugged</a> into (e.g., via USB)
or discovered (e.g., via NFC or Bluetooth) by the <a data-link-type="dfn" href="#client" id="ref-for-client①">client</a> by various mechanisms, or permanently built into the <a data-link-type="dfn" href="#client" id="ref-for-client②">client</a>.</p>
     <li data-md="">
      <p>Start <var>lifetimeTimer</var>.</p>
     <li data-md="">
      <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#iteration-while" id="ref-for-iteration-while">While</a> <var>lifetimeTimer</var> has not expired, perform the following actions depending upon <var>lifetimeTimer</var>,
and the state and response <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-iterate" id="ref-for-list-iterate①">for each</a> <var>authenticator</var> in <var>authenticators</var>:</p>
      <dl class="switch">
       <dt data-md="">If <var>lifetimeTimer</var> expires,
       <dd data-md="">
        <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-iterate" id="ref-for-list-iterate②">For each</a> <var>authenticator</var> in <var>issuedRequests</var> invoke the <a data-link-type="dfn" href="#authenticatorcancel" id="ref-for-authenticatorcancel">authenticatorCancel</a> operation on <var>authenticator</var> and <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-remove" id="ref-for-list-remove">remove</a> <var>authenticator</var> from <var>issuedRequests</var>.</p>
       <dt data-md="">If the <code><var>options</var>.<code class="idl"><a data-link-type="idl" href="https://w3c.github.io/webappsec-credential-management/#dom-credentialcreationoptions-signal" id="ref-for-dom-credentialcreationoptions-signal①">signal</a></code></code> is <a data-link-type="dfn" href="https://heycam.github.io/webidl/#dfn-present" id="ref-for-dfn-present⑦">present</a> and its <a data-link-type="dfn" href="https://dom.spec.whatwg.org/#abortsignal-aborted-flag" id="ref-for-abortsignal-aborted-flag①">aborted flag</a> is set to <code>true</code>,
       <dd data-md="">
        <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-iterate" id="ref-for-list-iterate③">For each</a> <var>authenticator</var> in <var>issuedRequests</var> invoke the <a data-link-type="dfn" href="#authenticatorcancel" id="ref-for-authenticatorcancel①">authenticatorCancel</a> operation on <var>authenticator</var> and <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-remove" id="ref-for-list-remove①">remove</a> <var>authenticator</var> from <var>issuedRequests</var>. Then return a <code class="idl"><a data-link-type="idl" href="https://heycam.github.io/webidl/#idl-DOMException" id="ref-for-idl-DOMException⑦">DOMException</a></code> whose name is "<code class="idl"><a data-link-type="idl" href="https://heycam.github.io/webidl/#aborterror" id="ref-for-aborterror①">AbortError</a></code>" and terminate this algorithm.</p>
       <dt data-md="">If an <var>authenticator</var> becomes available on this platform,
       <dd data-md="">
        <p class="note" role="note"><span>Note:</span> This includes the case where an <var>authenticator</var> was available upon <var>lifetimeTimer</var> initiation.</p>
        <ol>
         <li data-md="">
          <p>If <code><var>options</var>.<code class="idl"><a data-link-type="idl" href="#dom-publickeycredentialcreationoptions-authenticatorselection" id="ref-for-dom-publickeycredentialcreationoptions-authenticatorselection">authenticatorSelection</a></code></code> is <a data-link-type="dfn" href="https://heycam.github.io/webidl/#dfn-present" id="ref-for-dfn-present⑧">present</a>:</p>
          <ol>
           <li data-md="">
            <p>If <code><var>options</var>.<code class="idl"><a data-link-type="idl" href="#dom-publickeycredentialcreationoptions-authenticatorselection" id="ref-for-dom-publickeycredentialcreationoptions-authenticatorselection①">authenticatorSelection</a></code>.<code class="idl"><a data-link-type="idl" href="#dom-authenticatorselectioncriteria-authenticatorattachment" id="ref-for-dom-authenticatorselectioncriteria-authenticatorattachment">authenticatorAttachment</a></code></code> is <a data-link-type="dfn" href="https://heycam.github.io/webidl/#dfn-present" id="ref-for-dfn-present⑨">present</a> and its value is not equal to <var>authenticator</var>’s attachment modality, <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#iteration-continue" id="ref-for-iteration-continue④">continue</a>.</p>
           <li data-md="">
            <p>If <code><var>options</var>.<code class="idl"><a data-link-type="idl" href="#dom-publickeycredentialcreationoptions-authenticatorselection" id="ref-for-dom-publickeycredentialcreationoptions-authenticatorselection②">authenticatorSelection</a></code>.<code class="idl"><a data-link-type="idl" href="#dom-authenticatorselectioncriteria-requireresidentkey" id="ref-for-dom-authenticatorselectioncriteria-requireresidentkey">requireResidentKey</a></code></code> is set to <code>true</code> and the <var>authenticator</var> is not capable of storing a <a data-link-type="dfn" href="#client-side-resident-credential-private-key" id="ref-for-client-side-resident-credential-private-key②">Client-Side-Resident Credential Private Key</a>, <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#iteration-continue" id="ref-for-iteration-continue⑤">continue</a>.</p>
           <li data-md="">
            <p>If <code><var>options</var>.<code class="idl"><a data-link-type="idl" href="#dom-publickeycredentialcreationoptions-authenticatorselection" id="ref-for-dom-publickeycredentialcreationoptions-authenticatorselection③">authenticatorSelection</a></code>.<code class="idl"><a data-link-type="idl" href="#dom-authenticatorselectioncriteria-userverification" id="ref-for-dom-authenticatorselectioncriteria-userverification">userVerification</a></code></code> is
set to <code class="idl"><a data-link-type="idl" href="#dom-userverificationrequirement-required" id="ref-for-dom-userverificationrequirement-required">required</a></code> and the <var>authenticator</var> is not capable of performing <a data-link-type="dfn" href="#user-verification" id="ref-for-user-verification①⓪">user
verification</a>, <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#iteration-continue" id="ref-for-iteration-continue⑥">continue</a>.</p>
          </ol>
         <li data-md="">
          <p>Let <var>userVerification</var> be the <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport="" id="effective-user-verification-requirement-for-credential-creation">effective user verification requirement for credential creation</dfn>, a Boolean value,
as follows. If <code><var>options</var>.<code class="idl"><a data-link-type="idl" href="#dom-publickeycredentialcreationoptions-authenticatorselection" id="ref-for-dom-publickeycredentialcreationoptions-authenticatorselection④">authenticatorSelection</a></code>.<code class="idl"><a data-link-type="idl" href="#dom-authenticatorselectioncriteria-userverification" id="ref-for-dom-authenticatorselectioncriteria-userverification①">userVerification</a></code></code></p>
          <dl class="switch">
           <dt data-md="">is set to <code class="idl"><a data-link-type="idl" href="#dom-userverificationrequirement-required" id="ref-for-dom-userverificationrequirement-required①">required</a></code>
           <dd data-md="">
            <p>Let <var>userVerification</var> be <code>true</code>.</p>
           <dt data-md="">is set to <code class="idl"><a data-link-type="idl" href="#dom-userverificationrequirement-preferred" id="ref-for-dom-userverificationrequirement-preferred">preferred</a></code>
           <dd data-md="">
            <p>If the <var>authenticator</var></p>
            <dl class="switch">
             <dt data-md="">is capable of <a data-link-type="dfn" href="#user-verification" id="ref-for-user-verification①①">user verification</a>
             <dd data-md="">
              <p>Let <var>userVerification</var> be <code>true</code>.</p>
             <dt data-md="">is not capable of <a data-link-type="dfn" href="#user-verification" id="ref-for-user-verification①②">user verification</a>
             <dd data-md="">
              <p>Let <var>userVerification</var> be <code>false</code>.</p>
            </dl>
           <dt data-md="">is set to <code class="idl"><a data-link-type="idl" href="#dom-userverificationrequirement-discouraged" id="ref-for-dom-userverificationrequirement-discouraged">discouraged</a></code>
           <dd data-md="">
            <p>Let <var>userVerification</var> be <code>false</code>.</p>
          </dl>
         <li data-md="">
          <p>Let <var>userPresence</var> be a Boolean value set to the inverse of <var>userVerification</var>.</p>
         <li data-md="">
          <p>Let <var>excludeCredentialDescriptorList</var> be a new <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list" id="ref-for-list①">list</a>.</p>
         <li data-md="">
          <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-iterate" id="ref-for-list-iterate④">For each</a> credential descriptor <var>C</var> in <code><var>options</var>.<code class="idl"><a data-link-type="idl" href="#dom-publickeycredentialcreationoptions-excludecredentials" id="ref-for-dom-publickeycredentialcreationoptions-excludecredentials">excludeCredentials</a></code></code>:</p>
          <ol>
           <li data-md="">
            <p>If <code><var>C</var>.<code class="idl"><a data-link-type="idl" href="#dom-publickeycredentialdescriptor-transports" id="ref-for-dom-publickeycredentialdescriptor-transports">transports</a></code></code> <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-is-empty" id="ref-for-list-is-empty②">is not empty</a>, and <var>authenticator</var> is connected over a transport not
mentioned in <code><var>C</var>.<code class="idl"><a data-link-type="idl" href="#dom-publickeycredentialdescriptor-transports" id="ref-for-dom-publickeycredentialdescriptor-transports①">transports</a></code></code>, the client MAY <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#iteration-continue" id="ref-for-iteration-continue⑦">continue</a>.</p>
           <li data-md="">
            <p>Otherwise, <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-append" id="ref-for-list-append①">Append</a> <var>C</var> to <var>excludeCredentialDescriptorList</var>.</p>
          </ol>
         <li data-md="">
          <p>Invoke the <a data-link-type="dfn" href="#authenticatormakecredential" id="ref-for-authenticatormakecredential④">authenticatorMakeCredential</a> operation on <var>authenticator</var> with <var>clientDataHash</var>, <code><var>options</var>.<code class="idl"><a data-link-type="idl" href="#dom-publickeycredentialcreationoptions-rp" id="ref-for-dom-publickeycredentialcreationoptions-rp⑤">rp</a></code></code>, <code><var>options</var>.<code class="idl"><a data-link-type="idl" href="#dom-publickeycredentialcreationoptions-user" id="ref-for-dom-publickeycredentialcreationoptions-user">user</a></code></code>, <code><var>options</var>.<code class="idl"><a data-link-type="idl" href="#dom-publickeycredentialcreationoptions-authenticatorselection" id="ref-for-dom-publickeycredentialcreationoptions-authenticatorselection⑤">authenticatorSelection</a></code>.<code class="idl"><a data-link-type="idl" href="#dom-authenticatorselectioncriteria-requireresidentkey" id="ref-for-dom-authenticatorselectioncriteria-requireresidentkey①">requireResidentKey</a></code></code>, <var>userPresence</var>, <var>userVerification</var>, <var>credTypesAndPubKeyAlgs</var>, <var>excludeCredentialDescriptorList</var>,
and <var>authenticatorExtensions</var> as parameters.</p>
         <li data-md="">
          <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#set-append" id="ref-for-set-append">Append</a> <var>authenticator</var> to <var>issuedRequests</var>.</p>
        </ol>
       <dt data-md="">If an <var>authenticator</var> ceases to be available on this platform,
       <dd data-md="">
        <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-remove" id="ref-for-list-remove②">Remove</a> <var>authenticator</var> from <var>issuedRequests</var>.</p>
       <dt data-md="">If any <var>authenticator</var> returns a status indicating that the user cancelled the operation,
       <dd data-md="">
        <ol>
         <li data-md="">
          <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-remove" id="ref-for-list-remove③">Remove</a> <var>authenticator</var> from <var>issuedRequests</var>.</p>
         <li data-md="">
          <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-iterate" id="ref-for-list-iterate⑤">For each</a> remaining <var>authenticator</var> in <var>issuedRequests</var> invoke the <a data-link-type="dfn" href="#authenticatorcancel" id="ref-for-authenticatorcancel②">authenticatorCancel</a> operation on <var>authenticator</var> and <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-remove" id="ref-for-list-remove④">remove</a> it from <var>issuedRequests</var>.</p>
          <p class="note" role="note"><span>Note:</span> <a data-link-type="dfn" href="#authenticator" id="ref-for-authenticator④⓪">Authenticators</a> may return an indication of "the user cancelled the entire operation".
How a user agent manifests this state to users is unspecified.</p>
        </ol>
       <dt data-md="">If any <var>authenticator</var> returns an error status equivalent to "<code class="idl"><a data-link-type="idl" href="https://heycam.github.io/webidl/#invalidstateerror" id="ref-for-invalidstateerror">InvalidStateError</a></code>",
       <dd data-md="">
        <ol>
         <li data-md="">
          <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-remove" id="ref-for-list-remove⑤">Remove</a> <var>authenticator</var> from <var>issuedRequests</var>.</p>
         <li data-md="">
          <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-iterate" id="ref-for-list-iterate⑥">For each</a> remaining <var>authenticator</var> in <var>issuedRequests</var> invoke the <a data-link-type="dfn" href="#authenticatorcancel" id="ref-for-authenticatorcancel③">authenticatorCancel</a> operation on <var>authenticator</var> and <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-remove" id="ref-for-list-remove⑥">remove</a> it from <var>issuedRequests</var>.</p>
         <li data-md="">
          <p>Return a <code class="idl"><a data-link-type="idl" href="https://heycam.github.io/webidl/#idl-DOMException" id="ref-for-idl-DOMException⑧">DOMException</a></code> whose name is "<code class="idl"><a data-link-type="idl" href="https://heycam.github.io/webidl/#invalidstateerror" id="ref-for-invalidstateerror①">InvalidStateError</a></code>" and terminate this algorithm.</p>
        </ol>
        <p class="note" role="note"><span>Note:</span> This error status is handled separately because the <var>authenticator</var> returns it only if <var>excludeCredentialDescriptorList</var> identifies a credential bound to the <var>authenticator</var> and the user has <a data-link-type="dfn" href="#user-consent" id="ref-for-user-consent⑥">consented</a> to the operation. Given this explicit consent, it is acceptable for this case to be
distinguishable to the <a data-link-type="dfn" href="#relying-party" id="ref-for-relying-party⑤③">Relying Party</a>.</p>
       <dt data-md="">If any <var>authenticator</var> returns an error status not equivalent to "<code class="idl"><a data-link-type="idl" href="https://heycam.github.io/webidl/#invalidstateerror" id="ref-for-invalidstateerror②">InvalidStateError</a></code>",
       <dd data-md="">
        <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-remove" id="ref-for-list-remove⑦">Remove</a> <var>authenticator</var> from <var>issuedRequests</var>.</p>
        <p class="note" role="note"><span>Note:</span> This case does not imply <a data-link-type="dfn" href="#user-consent" id="ref-for-user-consent⑦">user consent</a> for the operation, so details about the error must be hidden from the <a data-link-type="dfn" href="#relying-party" id="ref-for-relying-party⑤④">Relying Party</a> in order to prevent leak of potentially identifying information. See <a href="#sec-make-credential-privacy">§14.2 Registration Ceremony Privacy</a> for
details.</p>
       <dt data-md="">If any <var>authenticator</var> indicates success,
       <dd data-md="">
        <ol>
         <li data-md="">
          <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-remove" id="ref-for-list-remove⑧">Remove</a> <var>authenticator</var> from <var>issuedRequests</var>.</p>
         <li data-md="">
          <p>Let <var>credentialCreationData</var> be a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#struct" id="ref-for-struct①">struct</a> whose <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#struct-item" id="ref-for-struct-item②">items</a> are:</p>
          <dl>
           <dt data-md=""><code><dfn class="dfn-paneled" data-dfn-for="credentialCreationData" data-dfn-type="dfn" data-noexport="" id="credentialcreationdata-attestationobjectresult">attestationObjectResult</dfn></code>
           <dd data-md="">
            <p>whose value is the bytes returned from the successful <a data-link-type="dfn" href="#authenticatormakecredential" id="ref-for-authenticatormakecredential⑤">authenticatorMakeCredential</a> operation.</p>
            <p class="note" role="note"><span>Note:</span> this value is <code>attObj</code>, as defined in <a href="#generating-an-attestation-object">§6.3.4 Generating an Attestation Object</a>.</p>
           <dt data-md=""><code><dfn class="dfn-paneled" data-dfn-for="credentialCreationData" data-dfn-type="dfn" data-noexport="" id="credentialcreationdata-clientdatajsonresult">clientDataJSONResult</dfn></code>
           <dd data-md="">
            <p>whose value is the bytes of <var>clientDataJSON</var>.</p>
           <dt data-md=""><code><dfn class="dfn-paneled" data-dfn-for="credentialCreationData" data-dfn-type="dfn" data-noexport="" id="credentialcreationdata-attestationconveyancepreferenceoption">attestationConveyancePreferenceOption</dfn></code>
           <dd data-md="">
            <p>whose value is the value of <var>options</var>.<code class="idl"><a data-link-type="idl" href="#dom-publickeycredentialcreationoptions-attestation" id="ref-for-dom-publickeycredentialcreationoptions-attestation">attestation</a></code>.</p>
           <dt data-md=""><code><dfn class="dfn-paneled" data-dfn-for="credentialCreationData" data-dfn-type="dfn" data-noexport="" id="credentialcreationdata-clientextensionresults">clientExtensionResults</dfn></code>
           <dd data-md="">
            <p>whose value is an <code class="idl"><a data-link-type="idl" href="#dictdef-authenticationextensionsclientoutputs" id="ref-for-dictdef-authenticationextensionsclientoutputs①">AuthenticationExtensionsClientOutputs</a></code> object containing <a data-link-type="dfn" href="#extension-identifier" id="ref-for-extension-identifier①">extension identifier</a> → <a data-link-type="dfn" href="#client-extension-output" id="ref-for-client-extension-output①">client extension output</a> entries. The entries are created by running each extension’s <a data-link-type="dfn" href="#client-extension-processing" id="ref-for-client-extension-processing②">client extension processing</a> algorithm to create the <a data-link-type="dfn" href="#client-extension-output" id="ref-for-client-extension-output②">client extension outputs</a>, for each <a data-link-type="dfn" href="#client-extension" id="ref-for-client-extension">client extension</a> in <code><code class="idl"><a data-link-type="idl" href="#dom-authenticatorresponse-clientdatajson" id="ref-for-dom-authenticatorresponse-clientdatajson">clientDataJSON</a></code>.clientExtensions</code>.</p>
          </dl>
         <li data-md="">
          <p>Let <var>constructCredentialAlg</var> be an algorithm that takes a <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-settings-object-global" id="ref-for-concept-settings-object-global">global object</a> <var>global</var>, and whose steps are:</p>
          <ol>
           <li data-md="">
            <p>If <code><var>credentialCreationData</var>.<a data-link-type="dfn" href="#credentialcreationdata-attestationconveyancepreferenceoption" id="ref-for-credentialcreationdata-attestationconveyancepreferenceoption">attestationConveyancePreferenceOption</a></code>’s value is</p>
            <dl class="switch">
             <dt data-md="">"none"
             <dd data-md="">
              <p>Replace potentially uniquely identifying information with non-identifying versions of the
same:</p>
              <ol>
               <li data-md="">
                <p>If the <a data-link-type="dfn" href="#aaguid" id="ref-for-aaguid①">AAGUID</a> in the <a data-link-type="dfn" href="#attested-credential-data" id="ref-for-attested-credential-data">attested credential data</a> is 16 zero bytes, <code><var>credentialCreationData</var>.<a data-link-type="dfn" href="#credentialcreationdata-attestationobjectresult" id="ref-for-credentialcreationdata-attestationobjectresult">attestationObjectResult</a>.fmt</code> is "packed", and "x5c" &amp; "ecdaaKeyId" are both absent from <code><var>credentialCreationData</var>.<a data-link-type="dfn" href="#credentialcreationdata-attestationobjectresult" id="ref-for-credentialcreationdata-attestationobjectresult①">attestationObjectResult</a></code>, then <a data-link-type="dfn" href="#self-attestation" id="ref-for-self-attestation④">self attestation</a> is being used and no further action is needed.</p>
               <li data-md="">
                <p>Otherwise</p>
                <ol>
                 <li data-md="">
                  <p>Replace the <a data-link-type="dfn" href="#aaguid" id="ref-for-aaguid②">AAGUID</a> in the <a data-link-type="dfn" href="#attested-credential-data" id="ref-for-attested-credential-data①">attested credential data</a> with 16 zero bytes.</p>
                 <li data-md="">
                  <p>Set the value of <code><var>credentialCreationData</var>.<a data-link-type="dfn" href="#credentialcreationdata-attestationobjectresult" id="ref-for-credentialcreationdata-attestationobjectresult②">attestationObjectResult</a>.fmt</code> to "none", and set the value of <code><var>credentialCreationData</var>.<a data-link-type="dfn" href="#credentialcreationdata-attestationobjectresult" id="ref-for-credentialcreationdata-attestationobjectresult③">attestationObjectResult</a>.attStmt</code> to be an empty <a data-link-type="dfn" href="#cbor" id="ref-for-cbor③">CBOR</a> map. (See <a href="#none-attestation">§8.7 None Attestation Statement Format</a> and <a href="#generating-an-attestation-object">§6.3.4 Generating an Attestation Object</a>).</p>
                </ol>
              </ol>
             <dt data-md="">"indirect"
             <dd data-md="">
              <p>The client MAY replace the <a data-link-type="dfn" href="#aaguid" id="ref-for-aaguid③">AAGUID</a> and <a data-link-type="dfn" href="#attestation-statement" id="ref-for-attestation-statement②">attestation statement</a> with a more privacy-friendly
and/or more easily verifiable version of the same data (for example, by employing an <a data-link-type="dfn" href="#anonymization-ca" id="ref-for-anonymization-ca">Anonymization CA</a>).</p>
             <dt data-md="">"direct"
             <dd data-md="">
              <p>Convey the <a data-link-type="dfn" href="#authenticator" id="ref-for-authenticator④①">authenticator</a>'s <a data-link-type="dfn" href="#aaguid" id="ref-for-aaguid④">AAGUID</a> and <a data-link-type="dfn" href="#attestation-statement" id="ref-for-attestation-statement③">attestation statement</a>, unaltered, to the RP.</p>
            </dl>
           <li data-md="">
            <p>Let <var>attestationObject</var> be a new <code class="idl"><a data-link-type="idl" href="https://heycam.github.io/webidl/#idl-ArrayBuffer" id="ref-for-idl-ArrayBuffer②">ArrayBuffer</a></code>, created using <var>global</var>’s <a data-link-type="dfn" href="https://tc39.github.io/ecma262/#sec-arraybuffer-constructor" id="ref-for-sec-arraybuffer-constructor①">%ArrayBuffer%</a>, containing the
bytes of <code><var>credentialCreationData</var>.<a data-link-type="dfn" href="#credentialcreationdata-attestationobjectresult" id="ref-for-credentialcreationdata-attestationobjectresult④">attestationObjectResult</a></code>’s value.</p>
           <li data-md="">
            <p>Let <var>id</var> be <code><var>attestationObject</var>.authData.<a data-link-type="dfn" href="#attestedcredentialdata" id="ref-for-attestedcredentialdata">attestedCredentialData</a>.<a data-link-type="dfn" href="#credentialid" id="ref-for-credentialid">credentialId</a></code>.</p>
           <li data-md="">
            <p>Let <var>pubKeyCred</var> be a new <code class="idl"><a data-link-type="idl" href="#publickeycredential" id="ref-for-publickeycredential①⓪">PublicKeyCredential</a></code> object associated with <var>global</var> whose fields are:</p>
            <dl>
             <dt data-md=""><code class="idl"><a data-link-type="idl" href="#dom-publickeycredential-identifier-slot" id="ref-for-dom-publickeycredential-identifier-slot②">[[identifier]]</a></code>
             <dd data-md="">
              <p><var>id</var></p>
             <dt data-md=""><code class="idl"><a data-link-type="idl" href="#dom-publickeycredential-response" id="ref-for-dom-publickeycredential-response①">response</a></code>
             <dd data-md="">
              <p>A new <code class="idl"><a data-link-type="idl" href="#authenticatorattestationresponse" id="ref-for-authenticatorattestationresponse①">AuthenticatorAttestationResponse</a></code> object associated with <var>global</var> whose fields are:</p>
              <dl>
               <dt data-md=""><code class="idl"><a data-link-type="idl" href="#dom-authenticatorresponse-clientdatajson" id="ref-for-dom-authenticatorresponse-clientdatajson①">clientDataJSON</a></code>
               <dd data-md="">
                <p>A new <code class="idl"><a data-link-type="idl" href="https://heycam.github.io/webidl/#idl-ArrayBuffer" id="ref-for-idl-ArrayBuffer③">ArrayBuffer</a></code>, created using <var>global</var>’s <a data-link-type="dfn" href="https://tc39.github.io/ecma262/#sec-arraybuffer-constructor" id="ref-for-sec-arraybuffer-constructor②">%ArrayBuffer%</a>, containing the bytes of <code><var>credentialCreationData</var>.<a data-link-type="dfn" href="#credentialcreationdata-clientdatajsonresult" id="ref-for-credentialcreationdata-clientdatajsonresult">clientDataJSONResult</a></code>.</p>
               <dt data-md=""><code class="idl"><a data-link-type="idl" href="#dom-authenticatorattestationresponse-attestationobject" id="ref-for-dom-authenticatorattestationresponse-attestationobject">attestationObject</a></code>
               <dd data-md="">
                <p><var>attestationObject</var></p>
              </dl>
             <dt data-md=""><code class="idl"><a data-link-type="idl" href="#dom-publickeycredential-clientextensionsresults-slot" id="ref-for-dom-publickeycredential-clientextensionsresults-slot①">[[clientExtensionsResults]]</a></code>
             <dd data-md="">
              <p>A new <code class="idl"><a data-link-type="idl" href="https://heycam.github.io/webidl/#idl-ArrayBuffer" id="ref-for-idl-ArrayBuffer④">ArrayBuffer</a></code>, created using <var>global</var>’s <a data-link-type="dfn" href="https://tc39.github.io/ecma262/#sec-arraybuffer-constructor" id="ref-for-sec-arraybuffer-constructor③">%ArrayBuffer%</a>, containing the bytes of <code><var>credentialCreationData</var>.<a data-link-type="dfn" href="#credentialcreationdata-clientextensionresults" id="ref-for-credentialcreationdata-clientextensionresults">clientExtensionResults</a></code>.</p>
            </dl>
           <li data-md="">
            <p>Return <var>pubKeyCred</var>.</p>
          </ol>
         <li data-md="">
          <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-iterate" id="ref-for-list-iterate⑦">For each</a> remaining <var>authenticator</var> in <var>issuedRequests</var> invoke the <a data-link-type="dfn" href="#authenticatorcancel" id="ref-for-authenticatorcancel④">authenticatorCancel</a> operation on <var>authenticator</var> and <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-remove" id="ref-for-list-remove⑨">remove</a> it from <var>issuedRequests</var>.</p>
         <li data-md="">
          <p>Return <var>constructCredentialAlg</var> and terminate this algorithm.</p>
        </ol>
      </dl>
     <li data-md="">
      <p>Return a <code class="idl"><a data-link-type="idl" href="https://heycam.github.io/webidl/#idl-DOMException" id="ref-for-idl-DOMException⑨">DOMException</a></code> whose name is "<code class="idl"><a data-link-type="idl" href="https://heycam.github.io/webidl/#notallowederror" id="ref-for-notallowederror②">NotAllowedError</a></code>". In order to prevent information leak that could identify the
user without <a data-link-type="dfn" href="#user-consent" id="ref-for-user-consent⑧">consent</a>, this step MUST NOT be executed before <var>lifetimeTimer</var> has expired. See <a href="#sec-assertion-privacy">§14.3 Authentication Ceremony Privacy</a> for details.</p>
    </ol>
    <p>During the above process, the user agent SHOULD show some UI to the user to guide them in the process of selecting and
authorizing an authenticator.</p>
   </div>
   <h4 class="heading settled" data-level="5.1.4" id="getAssertion"><span class="secno">5.1.4. </span><span class="content">Use an existing credential to make an assertion - PublicKeyCredential’s <code>[[Get]](options)</code> method</span><a class="self-link" href="#getAssertion"></a></h4>
   <p><a data-link-type="dfn" href="#relying-party" id="ref-for-relying-party⑤⑤">Relying Parties</a> call <code><a data-link-type="idl" href="https://w3c.github.io/webappsec-credential-management/#dom-credentialscontainer-get" id="ref-for-dom-credentialscontainer-get⑤">navigator.credentials.get({publicKey:..., ...})</a></code> to
discover and use an existing <a data-link-type="dfn" href="#public-key-credential" id="ref-for-public-key-credential②①">public key credential</a>, with the <a data-link-type="dfn" href="#user-consent" id="ref-for-user-consent⑨">user’s consent</a>. <a data-link-type="dfn" href="#relying-party" id="ref-for-relying-party⑤⑥">Relying Party</a> script optionally specifies some criteria
to indicate what <a data-link-type="dfn" href="https://w3c.github.io/webappsec-credential-management/#credential-source" id="ref-for-credential-source①">credential sources</a> are acceptable to it. The user agent and/or platform locates <a data-link-type="dfn" href="https://w3c.github.io/webappsec-credential-management/#credential-source" id="ref-for-credential-source②">credential sources</a> matching the specified criteria, and guides the user to pick one that the script will be allowed to use. The user may choose to
decline the entire interaction even if a <a data-link-type="dfn" href="https://w3c.github.io/webappsec-credential-management/#credential-source" id="ref-for-credential-source③">credential source</a> is present, for example to maintain privacy. If the user picks a <a data-link-type="dfn" href="https://w3c.github.io/webappsec-credential-management/#credential-source" id="ref-for-credential-source④">credential source</a>, the user agent then uses <a href="#op-get-assertion">§6.2.3 The authenticatorGetAssertion operation</a> to sign a Relying Party-provided challenge and other collected data into an assertion, which is used as a <a data-link-type="dfn" href="https://w3c.github.io/webappsec-credential-management/#concept-credential" id="ref-for-concept-credential①">credential</a>.</p>
   <p>The <code class="idl"><a data-link-type="idl" href="https://w3c.github.io/webappsec-credential-management/#dom-credentialscontainer-get" id="ref-for-dom-credentialscontainer-get⑥">get()</a></code> implementation <a data-link-type="biblio" href="#biblio-credential-management-1">[CREDENTIAL-MANAGEMENT-1]</a> calls <code>PublicKeyCredential.<code class="idl"><a data-link-type="idl" href="#dom-publickeycredential-collectfromcredentialstore-slot" id="ref-for-dom-publickeycredential-collectfromcredentialstore-slot">[[CollectFromCredentialStore]]()</a></code></code> to collect any <a data-link-type="dfn" href="https://w3c.github.io/webappsec-credential-management/#concept-credential" id="ref-for-concept-credential②">credentials</a> that
should be available without <a data-link-type="dfn" href="https://w3c.github.io/webappsec-credential-management/#user-mediated" id="ref-for-user-mediated">user mediation</a> (roughly, this specification’s <a data-link-type="dfn" href="#authorization-gesture" id="ref-for-authorization-gesture⑨">authorization gesture</a>), and if it does not find
exactly one of those, it then calls <code>PublicKeyCredential.<code class="idl"><a data-link-type="idl" href="#dom-publickeycredential-discoverfromexternalsource-slot" id="ref-for-dom-publickeycredential-discoverfromexternalsource-slot②">[[DiscoverFromExternalSource]]()</a></code></code> to have
the user select a <a data-link-type="dfn" href="https://w3c.github.io/webappsec-credential-management/#credential-source" id="ref-for-credential-source⑤">credential source</a>.</p>
   <p>Since this specification requires an <a data-link-type="dfn" href="#authorization-gesture" id="ref-for-authorization-gesture①⓪">authorization gesture</a> to create any <a data-link-type="dfn" href="https://w3c.github.io/webappsec-credential-management/#concept-credential" id="ref-for-concept-credential③">credentials</a>, the <code>PublicKeyCredential.<dfn class="dfn-paneled idl-code" data-dfn-for="PublicKeyCredential" data-dfn-type="method" data-export="" id="dom-publickeycredential-collectfromcredentialstore-slot"><code>[[CollectFromCredentialStore]](origin, options, sameOriginWithAncestors)</code></dfn></code> <a data-link-type="dfn" href="https://tc39.github.io/ecma262/#sec-object-internal-methods-and-internal-slots" id="ref-for-sec-object-internal-methods-and-internal-slots⑧">internal method</a> inherits the default behavior of <code class="idl"><a data-link-type="idl" href="https://w3c.github.io/webappsec-credential-management/#collectfromcredentialstore-origin-options-sameoriginwithancestors" id="ref-for-collectfromcredentialstore-origin-options-sameoriginwithancestors①">Credential.[[CollectFromCredentialStore]]()</a></code>, of returning an empty set.</p>
   <h5 class="heading settled algorithm" data-algorithm="PublicKeyCredential’s [[DiscoverFromExternalSource]](origin, options, sameOriginWithAncestors) method" data-level="5.1.4.1" id="discover-from-external-source"><span class="secno">5.1.4.1. </span><span class="content">PublicKeyCredential’s <code><dfn class="dfn-paneled idl-code" data-dfn-for="PublicKeyCredential" data-dfn-type="method" data-export="" id="dom-publickeycredential-discoverfromexternalsource-slot"><code>[[DiscoverFromExternalSource]](origin, options, sameOriginWithAncestors)</code></dfn></code> method</span><a class="self-link" href="#discover-from-external-source"></a></h5>
   <div data-link-for-hint="PublicKeyCredential/[[DiscoverFromExternalSource]](origin, options, sameOriginWithAncestors)">
    <p>This <a data-link-type="dfn" href="https://tc39.github.io/ecma262/#sec-object-internal-methods-and-internal-slots" id="ref-for-sec-object-internal-methods-and-internal-slots⑨">internal method</a> accepts three arguments:</p>
    <dl>
     <dt data-md=""><dfn class="dfn-paneled idl-code" data-dfn-for="PublicKeyCredential/[[DiscoverFromExternalSource]](origin, options, sameOriginWithAncestors)" data-dfn-type="argument" data-export="" id="dom-publickeycredential-discoverfromexternalsource-origin-options-sameoriginwithancestors-origin"><code>origin</code></dfn>
     <dd data-md="">
      <p>This argument is the <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#relevant-settings-object" id="ref-for-relevant-settings-object②">relevant settings object</a>'s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-settings-object-origin" id="ref-for-concept-settings-object-origin④">origin</a>, as determined by the
calling <code class="idl"><a data-link-type="idl" href="https://w3c.github.io/webappsec-credential-management/#dom-credentialscontainer-get" id="ref-for-dom-credentialscontainer-get⑦">get()</a></code> implementation, i.e., <code class="idl"><a data-link-type="idl" href="https://w3c.github.io/webappsec-credential-management/#credentialscontainer" id="ref-for-credentialscontainer">CredentialsContainer</a></code>'s <a data-link-type="abstract-op" href="https://w3c.github.io/webappsec-credential-management/#abstract-opdef-request-a-credential" id="ref-for-abstract-opdef-request-a-credential">Request a <code>Credential</code></a> abstract operation.</p>
     <dt data-md=""><dfn class="idl-code" data-dfn-for="PublicKeyCredential/[[DiscoverFromExternalSource]](origin, options, sameOriginWithAncestors)" data-dfn-type="argument" data-export="" id="dom-publickeycredential-discoverfromexternalsource-origin-options-sameoriginwithancestors-options"><code>options</code><a class="self-link" href="#dom-publickeycredential-discoverfromexternalsource-origin-options-sameoriginwithancestors-options"></a></dfn>
     <dd data-md="">
      <p>This argument is a <code class="idl"><a data-link-type="idl" href="https://w3c.github.io/webappsec-credential-management/#dictdef-credentialrequestoptions" id="ref-for-dictdef-credentialrequestoptions②">CredentialRequestOptions</a></code> object whose <code><var>options</var>.<code class="idl"><a data-link-type="idl" href="#dom-credentialrequestoptions-publickey" id="ref-for-dom-credentialrequestoptions-publickey">publicKey</a></code></code> member contains a <code class="idl"><a data-link-type="idl" href="#dictdef-publickeycredentialrequestoptions" id="ref-for-dictdef-publickeycredentialrequestoptions①">PublicKeyCredentialRequestOptions</a></code> object specifying the desired attributes of the <a data-link-type="dfn" href="#public-key-credential" id="ref-for-public-key-credential②②">public key credential</a> to discover.</p>
     <dt data-md=""><dfn class="idl-code" data-dfn-for="PublicKeyCredential/[[DiscoverFromExternalSource]](origin, options, sameOriginWithAncestors)" data-dfn-type="argument" data-export="" id="dom-publickeycredential-discoverfromexternalsource-origin-options-sameoriginwithancestors-sameoriginwithancestors"><code>sameOriginWithAncestors</code><a class="self-link" href="#dom-publickeycredential-discoverfromexternalsource-origin-options-sameoriginwithancestors-sameoriginwithancestors"></a></dfn>
     <dd data-md="">
      <p>This argument is a Boolean value which is <code>true</code> if and only if the caller’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#environment-settings-object" id="ref-for-environment-settings-object①">environment settings object</a> is <a data-link-type="dfn" href="https://w3c.github.io/webappsec-credential-management/#same-origin-with-its-ancestors" id="ref-for-same-origin-with-its-ancestors②">same-origin with its ancestors</a>.</p>
    </dl>
    <p class="note" role="note"><span>Note:</span> <strong>This algorithm is synchronous:</strong> the <code class="idl"><a data-link-type="idl" href="https://heycam.github.io/webidl/#idl-promise" id="ref-for-idl-promise②">Promise</a></code> resolution/rejection is handled by <code class="idl"><a data-link-type="idl" href="https://w3c.github.io/webappsec-credential-management/#dom-credentialscontainer-get" id="ref-for-dom-credentialscontainer-get⑧">navigator.credentials.get()</a></code>.</p>
    <p>When this method is invoked, the user agent MUST execute the following algorithm:</p>
    <ol>
     <li data-md="">
      <p class="assertion">Assert: <code><var>options</var>.<code class="idl"><a data-link-type="idl" href="#dom-credentialrequestoptions-publickey" id="ref-for-dom-credentialrequestoptions-publickey①">publicKey</a></code></code> is <a data-link-type="dfn" href="https://heycam.github.io/webidl/#dfn-present" id="ref-for-dfn-present①⓪">present</a>.</p>
     <li data-md="">
      <p>If <var>sameOriginWithAncestors</var> is <code>false</code>, return a "<code class="idl"><a data-link-type="idl" href="https://heycam.github.io/webidl/#notallowederror" id="ref-for-notallowederror③">NotAllowedError</a></code>" <code class="idl"><a data-link-type="idl" href="https://heycam.github.io/webidl/#idl-DOMException" id="ref-for-idl-DOMException①⓪">DOMException</a></code>.</p>
      <p class="note" role="note"><span>Note:</span> This "sameOriginWithAncestors" restriction aims to address the concern raised in the <a href="https://www.w3.org/TR/credential-management-1/#security-origin-confusion">Origin Confusion</a> section of <a data-link-type="biblio" href="#biblio-credential-management-1">[CREDENTIAL-MANAGEMENT-1]</a>,
while allowing <a data-link-type="dfn" href="#relying-party" id="ref-for-relying-party⑤⑦">Relying Party</a> script access to Web Authentication functionality, e.g., when running in
a <a data-link-type="dfn" href="https://w3c.github.io/webappsec-secure-contexts/#secure-contexts" id="ref-for-secure-contexts②">secure context</a> framed document that is <a data-link-type="dfn" href="https://w3c.github.io/webappsec-credential-management/#same-origin-with-its-ancestors" id="ref-for-same-origin-with-its-ancestors③">same-origin with its ancestors</a>.
However, in the future, this specification (in conjunction with <a data-link-type="biblio" href="#biblio-credential-management-1">[CREDENTIAL-MANAGEMENT-1]</a>) may provide <a data-link-type="dfn" href="#relying-party" id="ref-for-relying-party⑤⑧">Relying Parties</a> with more fine-grained control--e.g., ranging
from allowing only top-level access to Web Authentication functionality,
to allowing cross-origin embedded cases--by leveraging <a data-link-type="biblio" href="#biblio-feature-policy">[Feature-Policy]</a> once the latter specification becomes stably implemented in user agents.</p>
     <li data-md="">
      <p>Let <var>options</var> be the value of <code><var>options</var>.<code class="idl"><a data-link-type="idl" href="#dom-credentialrequestoptions-publickey" id="ref-for-dom-credentialrequestoptions-publickey②">publicKey</a></code></code>.</p>
     <li data-md="">
      <p>If the <code class="idl"><a data-link-type="idl" href="#dom-publickeycredentialrequestoptions-timeout" id="ref-for-dom-publickeycredentialrequestoptions-timeout">timeout</a></code> member of <var>options</var> is <a data-link-type="dfn" href="https://heycam.github.io/webidl/#dfn-present" id="ref-for-dfn-present①①">present</a>, check if its value lies
within a reasonable range as defined by the platform and if not, correct it to the closest value lying within that range.
Set a timer <var>lifetimeTimer</var> to this adjusted value. If the <code class="idl"><a data-link-type="idl" href="#dom-publickeycredentialrequestoptions-timeout" id="ref-for-dom-publickeycredentialrequestoptions-timeout①">timeout</a></code> member of <var>options</var> is <a data-link-type="dfn" href="https://heycam.github.io/webidl/#dfn-present" id="ref-for-dfn-present①②">not present</a>, then set <var>lifetimeTimer</var> to a platform-specific default.</p>
     <li data-md="">
      <p>Let <var>callerOrigin</var> be <code class="idl"><a data-link-type="idl" href="#dom-publickeycredential-discoverfromexternalsource-origin-options-sameoriginwithancestors-origin" id="ref-for-dom-publickeycredential-discoverfromexternalsource-origin-options-sameoriginwithancestors-origin">origin</a></code>. If <var>callerOrigin</var> is
an <a data-link-type="dfn" href="https://w3c.github.io/html/browsers.html#opaque-origin" id="ref-for-opaque-origin②">opaque origin</a>, return a <code class="idl"><a data-link-type="idl" href="https://heycam.github.io/webidl/#idl-DOMException" id="ref-for-idl-DOMException①①">DOMException</a></code> whose name is "<code class="idl"><a data-link-type="idl" href="https://heycam.github.io/webidl/#notallowederror" id="ref-for-notallowederror④">NotAllowedError</a></code>", and terminate this algorithm.</p>
     <li data-md="">
      <p>Let <var>effectiveDomain</var> be the <var>callerOrigin</var>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/origin.html#concept-origin-effective-domain" id="ref-for-concept-origin-effective-domain⑧">effective domain</a>.
If <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/origin.html#concept-origin-effective-domain" id="ref-for-concept-origin-effective-domain⑨">effective domain</a> is not a <a data-link-type="dfn" href="https://url.spec.whatwg.org/#valid-domain" id="ref-for-valid-domain①">valid domain</a>, then return a <code class="idl"><a data-link-type="idl" href="https://heycam.github.io/webidl/#idl-DOMException" id="ref-for-idl-DOMException①②">DOMException</a></code> whose name is "<code class="idl"><a data-link-type="idl" href="https://heycam.github.io/webidl/#securityerror" id="ref-for-securityerror②">SecurityError</a></code>" and terminate this algorithm.</p>
      <p class="note" role="note"><span>Note:</span> An <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/origin.html#concept-origin-effective-domain" id="ref-for-concept-origin-effective-domain①⓪">effective domain</a> may resolve to a <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url-host" id="ref-for-concept-url-host②">host</a>, which can be represented in various manners,
    such as <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-domain" id="ref-for-concept-domain②">domain</a>, <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-ipv4" id="ref-for-concept-ipv4①">ipv4 address</a>, <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-ipv6" id="ref-for-concept-ipv6①">ipv6 address</a>, <a data-link-type="dfn" href="https://url.spec.whatwg.org/#opaque-host" id="ref-for-opaque-host①">opaque host</a>, or <a data-link-type="dfn" href="https://url.spec.whatwg.org/#empty-host" id="ref-for-empty-host①">empty host</a>.
    Only the <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-domain" id="ref-for-concept-domain③">domain</a> format of <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url-host" id="ref-for-concept-url-host③">host</a> is allowed here.</p>
     <li id="GetAssn-DetermineRpId">
      <a class="self-link" href="#GetAssn-DetermineRpId"></a> If <var>options</var>.<code class="idl"><a data-link-type="idl" href="#dom-publickeycredentialrequestoptions-rpid" id="ref-for-dom-publickeycredentialrequestoptions-rpid">rpId</a></code> is <a data-link-type="dfn" href="https://heycam.github.io/webidl/#dfn-present" id="ref-for-dfn-present①③">not present</a>, then set <var>rpId</var> to <var>effectiveDomain</var>. 
      <p>Otherwise:</p>
      <ol>
       <li data-md="">
        <p>If <var>options</var>.<code class="idl"><a data-link-type="idl" href="#dom-publickeycredentialrequestoptions-rpid" id="ref-for-dom-publickeycredentialrequestoptions-rpid①">rpId</a></code> <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/origin.html#is-a-registrable-domain-suffix-of-or-is-equal-to" id="ref-for-is-a-registrable-domain-suffix-of-or-is-equal-to③">is not a registrable domain suffix of and is not
equal to</a> <var>effectiveDomain</var>, return a <code class="idl"><a data-link-type="idl" href="https://heycam.github.io/webidl/#idl-DOMException" id="ref-for-idl-DOMException①③">DOMException</a></code> whose name is "<code class="idl"><a data-link-type="idl" href="https://heycam.github.io/webidl/#securityerror" id="ref-for-securityerror③">SecurityError</a></code>", and terminate
this algorithm.</p>
       <li data-md="">
        <p>Set <var>rpId</var> to <var>options</var>.<code class="idl"><a data-link-type="idl" href="#dom-publickeycredentialrequestoptions-rpid" id="ref-for-dom-publickeycredentialrequestoptions-rpid②">rpId</a></code>.</p>
        <p class="note" role="note"><span>Note:</span> <var>rpId</var> represents the caller’s <a data-link-type="dfn" href="#rp-id" id="ref-for-rp-id①②">RP ID</a>. The <a data-link-type="dfn" href="#rp-id" id="ref-for-rp-id①③">RP ID</a> defaults to being the caller’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-settings-object-origin" id="ref-for-concept-settings-object-origin⑤">origin</a>'s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/origin.html#concept-origin-effective-domain" id="ref-for-concept-origin-effective-domain①①">effective domain</a> unless the caller has explicitly set <var>options</var>.<code class="idl"><a data-link-type="idl" href="#dom-publickeycredentialrequestoptions-rpid" id="ref-for-dom-publickeycredentialrequestoptions-rpid③">rpId</a></code> when calling <code class="idl"><a data-link-type="idl" href="https://w3c.github.io/webappsec-credential-management/#dom-credentialscontainer-get" id="ref-for-dom-credentialscontainer-get⑨">get()</a></code>.</p>
      </ol>
     <li data-md="">
      <p>Let <var>clientExtensions</var> be a new <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#ordered-map" id="ref-for-ordered-map③">map</a> and let <var>authenticatorExtensions</var> be a new <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#ordered-map" id="ref-for-ordered-map④">map</a>.</p>
     <li data-md="">
      <p>If the <code class="idl"><a data-link-type="idl" href="#dom-publickeycredentialrequestoptions-extensions" id="ref-for-dom-publickeycredentialrequestoptions-extensions">extensions</a></code> member of <var>options</var> is <a data-link-type="dfn" href="https://heycam.github.io/webidl/#dfn-present" id="ref-for-dfn-present①④">present</a>, then <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-iterate" id="ref-for-map-iterate①">for each</a> <var>extensionId</var> → <var>clientExtensionInput</var> of <code><var>options</var>.<code class="idl"><a data-link-type="idl" href="#dom-publickeycredentialrequestoptions-extensions" id="ref-for-dom-publickeycredentialrequestoptions-extensions①">extensions</a></code></code>:</p>
      <ol>
       <li data-md="">
        <p>If <var>extensionId</var> is not supported by this client platform or is not an <a data-link-type="dfn" href="#authentication-extension" id="ref-for-authentication-extension">authentication extension</a>, then <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#iteration-continue" id="ref-for-iteration-continue⑧">continue</a>.</p>
       <li data-md="">
        <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-set" id="ref-for-map-set②">Set</a> <var>clientExtensions</var>[<var>extensionId</var>] to <var>clientExtensionInput</var>.</p>
       <li data-md="">
        <p>If <var>extensionId</var> is not an <a data-link-type="dfn" href="#authenticator-extension" id="ref-for-authenticator-extension①">authenticator extension</a>, then <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#iteration-continue" id="ref-for-iteration-continue⑨">continue</a>.</p>
       <li data-md="">
        <p>Let <var>authenticatorExtensionInput</var> be the (<a data-link-type="dfn" href="#cbor" id="ref-for-cbor④">CBOR</a>) result of running <var>extensionId</var>’s <a data-link-type="dfn" href="#client-extension-processing" id="ref-for-client-extension-processing③">client extension processing</a> algorithm on <var>clientExtensionInput</var>. If the algorithm returned an error, <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#iteration-continue" id="ref-for-iteration-continue①⓪">continue</a>.</p>
       <li data-md="">
        <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-set" id="ref-for-map-set③">Set</a> <var>authenticatorExtensions</var>[<var>extensionId</var>] to the <a data-link-type="dfn" href="#base64url-encoding" id="ref-for-base64url-encoding③">base64url encoding</a> of <var>authenticatorExtensionInput</var>.</p>
      </ol>
     <li data-md="">
      <p>Let <var>collectedClientData</var> be a new <code class="idl"><a data-link-type="idl" href="#dictdef-collectedclientdata" id="ref-for-dictdef-collectedclientdata①">CollectedClientData</a></code> instance whose fields are:</p>
      <dl>
       <dt data-md=""><code class="idl"><a data-link-type="idl" href="#dom-collectedclientdata-type" id="ref-for-dom-collectedclientdata-type①">type</a></code>
       <dd data-md="">
        <p>The string "webauthn.get".</p>
       <dt data-md=""><code class="idl"><a data-link-type="idl" href="#dom-collectedclientdata-challenge" id="ref-for-dom-collectedclientdata-challenge①">challenge</a></code>
       <dd data-md="">
        <p>The <a data-link-type="dfn" href="#base64url-encoding" id="ref-for-base64url-encoding④">base64url encoding</a> of <var>options</var>.<code class="idl"><a data-link-type="idl" href="#dom-publickeycredentialrequestoptions-challenge" id="ref-for-dom-publickeycredentialrequestoptions-challenge">challenge</a></code></p>
       <dt data-md=""><code class="idl"><a data-link-type="idl" href="#dom-collectedclientdata-origin" id="ref-for-dom-collectedclientdata-origin①">origin</a></code>
       <dd data-md="">
        <p>The <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/origin.html#ascii-serialisation-of-an-origin" id="ref-for-ascii-serialisation-of-an-origin①">serialization of</a> <var>callerOrigin</var>.</p>
       <dt data-md=""><code class="idl"><a data-link-type="idl" href="#dom-collectedclientdata-tokenbinding" id="ref-for-dom-collectedclientdata-tokenbinding①">tokenBinding</a></code>
       <dd data-md="">
        <p>The status of <a data-link-type="dfn" href="https://tools.ietf.org/html/draft-ietf-tokbind-protocol#token-binding" id="ref-for-token-binding①">Token Binding</a> between the client and the <var>callerOrigin</var>, as well as the <a data-link-type="dfn" href="https://tools.ietf.org/html/draft-ietf-tokbind-protocol#section-3.2" id="ref-for-section-3.2①">Token Binding ID</a> associated with <var>callerOrigin</var>, if one is available.</p>
      </dl>
     <li data-md="">
      <p>Let <var>clientDataJSON</var> be the <a data-link-type="dfn" href="#collectedclientdata-json-serialized-client-data" id="ref-for-collectedclientdata-json-serialized-client-data①">JSON-serialized client data</a> constructed from <var>collectedClientData</var>.</p>
     <li data-md="">
      <p>Let <var>clientDataHash</var> be the <a data-link-type="dfn" href="#collectedclientdata-hash-of-the-serialized-client-data" id="ref-for-collectedclientdata-hash-of-the-serialized-client-data①">hash of the serialized client data</a> represented by <var>clientDataJSON</var>.</p>
     <li data-md="">
      <p>If the <code><var>options</var>.<code class="idl"><a data-link-type="idl" href="https://w3c.github.io/webappsec-credential-management/#dom-credentialrequestoptions-signal" id="ref-for-dom-credentialrequestoptions-signal">signal</a></code></code> is <a data-link-type="dfn" href="https://heycam.github.io/webidl/#dfn-present" id="ref-for-dfn-present①⑤">present</a> and its <a data-link-type="dfn" href="https://dom.spec.whatwg.org/#abortsignal-aborted-flag" id="ref-for-abortsignal-aborted-flag②">aborted flag</a> is set to <code>true</code>, return a <code class="idl"><a data-link-type="idl" href="https://heycam.github.io/webidl/#idl-DOMException" id="ref-for-idl-DOMException①④">DOMException</a></code> whose name is "<code class="idl"><a data-link-type="idl" href="https://heycam.github.io/webidl/#aborterror" id="ref-for-aborterror②">AbortError</a></code>"
and terminate this algorithm.</p>
     <li data-md="">
      <p>Let <var>issuedRequests</var> be a new <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#ordered-set" id="ref-for-ordered-set②">ordered set</a>.</p>
     <li data-md="">
      <p>Let <var>savedCredentialIds</var> be a new <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#ordered-map" id="ref-for-ordered-map⑤">map</a>.</p>
     <li data-md="">
      <p>Let <var>authenticators</var> represent a value which at any given instant is a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#ordered-set" id="ref-for-ordered-set③">set</a> of platform-specific handles, where each <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-item" id="ref-for-list-item②">item</a> identifies an <a data-link-type="dfn" href="#authenticator" id="ref-for-authenticator④②">authenticator</a> presently available on this platform at that instant.</p>
      <p class="note" role="note"><span>Note:</span> What qualifies an <a data-link-type="dfn" href="#authenticator" id="ref-for-authenticator④③">authenticator</a> as "available" is intentionally unspecified; this is meant to represent how <a data-link-type="dfn" href="#authenticator" id="ref-for-authenticator④④">authenticators</a> can be <a href="https://en.wikipedia.org/w/index.php?title=Hot_plug">hot-plugged</a> into (e.g., via USB)
or discovered (e.g., via NFC or Bluetooth) by the <a data-link-type="dfn" href="#client" id="ref-for-client③">client</a> by various mechanisms, or permanently built into the <a data-link-type="dfn" href="#client" id="ref-for-client④">client</a>.</p>
     <li data-md="">
      <p>Start <var>lifetimeTimer</var>.</p>
     <li data-md="">
      <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#iteration-while" id="ref-for-iteration-while①">While</a> <var>lifetimeTimer</var> has not expired, perform the following actions depending upon <var>lifetimeTimer</var>,
and the state and response <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-iterate" id="ref-for-list-iterate⑧">for each</a> <var>authenticator</var> in <var>authenticators</var>:</p>
      <dl class="switch">
       <dt data-md="">If <var>lifetimeTimer</var> expires,
       <dd data-md="">
        <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-iterate" id="ref-for-list-iterate⑨">For each</a> <var>authenticator</var> in <var>issuedRequests</var> invoke the <a data-link-type="dfn" href="#authenticatorcancel" id="ref-for-authenticatorcancel⑤">authenticatorCancel</a> operation on <var>authenticator</var> and <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-remove" id="ref-for-list-remove①⓪">remove</a> <var>authenticator</var> from <var>issuedRequests</var>.</p>
       <dt data-md="">If the <code class="idl"><a data-link-type="idl" href="https://w3c.github.io/webappsec-credential-management/#dom-credentialrequestoptions-signal" id="ref-for-dom-credentialrequestoptions-signal①">signal</a></code> member is <a data-link-type="dfn" href="https://heycam.github.io/webidl/#dfn-present" id="ref-for-dfn-present①⑥">present</a> and the <a data-link-type="dfn" href="https://dom.spec.whatwg.org/#abortsignal-aborted-flag" id="ref-for-abortsignal-aborted-flag③">aborted flag</a> is set to <code>true</code>,
       <dd data-md="">
        <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-iterate" id="ref-for-list-iterate①⓪">For each</a> <var>authenticator</var> in <var>issuedRequests</var> invoke the <a data-link-type="dfn" href="#authenticatorcancel" id="ref-for-authenticatorcancel⑥">authenticatorCancel</a> operation on <var>authenticator</var> and <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-remove" id="ref-for-list-remove①①">remove</a> <var>authenticator</var> from <var>issuedRequests</var>. Then
return a <code class="idl"><a data-link-type="idl" href="https://heycam.github.io/webidl/#idl-DOMException" id="ref-for-idl-DOMException①⑤">DOMException</a></code> whose name is "<code class="idl"><a data-link-type="idl" href="https://heycam.github.io/webidl/#aborterror" id="ref-for-aborterror③">AbortError</a></code>" and terminate this algorithm.</p>
       <dt data-md="">If an <var>authenticator</var> becomes available on this platform,
       <dd data-md="">
        <p class="note" role="note"><span>Note:</span> This includes the case where an <var>authenticator</var> was available upon <var>lifetimeTimer</var> initiation.</p>
        <ol>
         <li data-md="">
          <p>If <code><var>options</var>.<code class="idl"><a data-link-type="idl" href="#dom-publickeycredentialrequestoptions-userverification" id="ref-for-dom-publickeycredentialrequestoptions-userverification">userVerification</a></code></code> is set to <code class="idl"><a data-link-type="idl" href="#dom-userverificationrequirement-required" id="ref-for-dom-userverificationrequirement-required②">required</a></code> and the <var>authenticator</var> is not capable of performing <a data-link-type="dfn" href="#user-verification" id="ref-for-user-verification①③">user verification</a>, <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#iteration-continue" id="ref-for-iteration-continue①①">continue</a>.</p>
         <li data-md="">
          <p>Let <var>userVerification</var> be the <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport="" id="effective-user-verification-requirement-for-assertion">effective user verification requirement for assertion</dfn>, a Boolean value, as
follows. If <code><var>options</var>.<code class="idl"><a data-link-type="idl" href="#dom-publickeycredentialrequestoptions-userverification" id="ref-for-dom-publickeycredentialrequestoptions-userverification①">userVerification</a></code></code></p>
          <dl class="switch">
           <dt data-md="">is set to <code class="idl"><a data-link-type="idl" href="#dom-userverificationrequirement-required" id="ref-for-dom-userverificationrequirement-required③">required</a></code>
           <dd data-md="">
            <p>Let <var>userVerification</var> be <code>true</code>.</p>
           <dt data-md="">is set to <code class="idl"><a data-link-type="idl" href="#dom-userverificationrequirement-preferred" id="ref-for-dom-userverificationrequirement-preferred①">preferred</a></code>
           <dd data-md="">
            <p>If the <var>authenticator</var></p>
            <dl class="switch">
             <dt data-md="">is capable of <a data-link-type="dfn" href="#user-verification" id="ref-for-user-verification①④">user verification</a>
             <dd data-md="">
              <p>Let <var>userVerification</var> be <code>true</code>.</p>
             <dt data-md="">is not capable of <a data-link-type="dfn" href="#user-verification" id="ref-for-user-verification①⑤">user verification</a>
             <dd data-md="">
              <p>Let <var>userVerification</var> be <code>false</code>.</p>
            </dl>
           <dt data-md="">is set to <code class="idl"><a data-link-type="idl" href="#dom-userverificationrequirement-discouraged" id="ref-for-dom-userverificationrequirement-discouraged①">discouraged</a></code>
           <dd data-md="">
            <p>Let <var>userVerification</var> be <code>false</code>.</p>
          </dl>
         <li data-md="">
          <p>Let <var>userPresence</var> be a Boolean value set to the inverse of <var>userVerification</var>.</p>
         <li data-md="">
          <p><span id="allowCredentialDescriptorListCreation"></span> If <code><var>options</var>.<code class="idl"><a data-link-type="idl" href="#dom-publickeycredentialrequestoptions-allowcredentials" id="ref-for-dom-publickeycredentialrequestoptions-allowcredentials">allowCredentials</a></code></code></p>
          <dl class="switch">
           <dt data-md=""><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-is-empty" id="ref-for-list-is-empty③">is not empty</a>
           <dd data-md="">
            <ol>
             <li data-md="">
              <p>Let <var>allowCredentialDescriptorList</var> be a new <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list" id="ref-for-list②">list</a>.</p>
             <li data-md="">
              <p>Execute a platform-specific procedure to determine which, if any, <a data-link-type="dfn" href="#public-key-credential" id="ref-for-public-key-credential②③">public key credentials</a> described by <code><var>options</var>.<code class="idl"><a data-link-type="idl" href="#dom-publickeycredentialrequestoptions-allowcredentials" id="ref-for-dom-publickeycredentialrequestoptions-allowcredentials①">allowCredentials</a></code></code> are bound to this <var>authenticator</var>, by matching with <var>rpId</var>, <code><var>options</var>.<code class="idl"><a data-link-type="idl" href="#dom-publickeycredentialrequestoptions-allowcredentials" id="ref-for-dom-publickeycredentialrequestoptions-allowcredentials②">allowCredentials</a></code>.<code class="idl"><a data-link-type="idl" href="#dom-publickeycredentialdescriptor-id" id="ref-for-dom-publickeycredentialdescriptor-id">id</a></code></code>,
and <code><var>options</var>.<code class="idl"><a data-link-type="idl" href="#dom-publickeycredentialrequestoptions-allowcredentials" id="ref-for-dom-publickeycredentialrequestoptions-allowcredentials③">allowCredentials</a></code>.<code class="idl"><a data-link-type="idl" href="#dom-publickeycredentialdescriptor-type" id="ref-for-dom-publickeycredentialdescriptor-type">type</a></code></code>.
Set <var>allowCredentialDescriptorList</var> to this filtered list.</p>
             <li data-md="">
              <p>If <var>allowCredentialDescriptorList</var> <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-is-empty" id="ref-for-list-is-empty④">is empty</a>, <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#iteration-continue" id="ref-for-iteration-continue①②">continue</a>.</p>
             <li data-md="">
              <p>Let <var>distinctTransports</var> be a new <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#ordered-set" id="ref-for-ordered-set④">ordered set</a>.</p>
             <li data-md="">
              <p>If <var>allowCredentialDescriptorList</var> has exactly one value, set <code><var>savedCredentialIds</var>[<var>authenticator</var>]</code> to <code><var>allowCredentialDescriptorList</var>[0].id</code>’s
value (see <a href="#authenticatorGetAssertion-return-values">here</a> in <a href="#op-get-assertion">§6.2.3 The authenticatorGetAssertion operation</a> for more information).</p>
             <li data-md="">
              <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-iterate" id="ref-for-list-iterate①①">For each</a> credential descriptor <var>C</var> in <var>allowCredentialDescriptorList</var>, <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#set-append" id="ref-for-set-append①">append</a> each value, if any, of <code><var>C</var>.<code class="idl"><a data-link-type="idl" href="#dom-publickeycredentialdescriptor-transports" id="ref-for-dom-publickeycredentialdescriptor-transports②">transports</a></code></code> to <var>distinctTransports</var>.</p>
              <p class="note" role="note"><span>Note:</span> This will aggregate only distinct values of <code class="idl"><a data-link-type="idl" href="#dom-publickeycredentialdescriptor-transports" id="ref-for-dom-publickeycredentialdescriptor-transports③">transports</a></code> (for this <a data-link-type="dfn" href="#authenticator" id="ref-for-authenticator④⑤">authenticator</a>) in <var>distinctTransports</var> due to the properties of <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#ordered-set" id="ref-for-ordered-set⑤">ordered sets</a>.</p>
             <li data-md="">
              <p>If <var>distinctTransports</var></p>
              <dl class="switch">
               <dt data-md=""><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-is-empty" id="ref-for-list-is-empty⑤">is not empty</a>
               <dd data-md="">
                <p>The client selects one <var>transport</var> value from <var>distinctTransports</var>, possibly incorporating local
configuration knowledge of the appropriate transport to use with <var>authenticator</var> in making its
selection.</p>
                <p>Then, using <var>transport</var>, invoke the <a data-link-type="dfn" href="#authenticatorgetassertion" id="ref-for-authenticatorgetassertion③">authenticatorGetAssertion</a> operation on <var>authenticator</var>, with <var>rpId</var>, <var>clientDataHash</var>, <var>allowCredentialDescriptorList</var>, <var>userPresence</var>, <var>userVerification</var>, and <var>authenticatorExtensions</var> as parameters.</p>
               <dt data-md=""><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-is-empty" id="ref-for-list-is-empty⑥">is empty</a>
               <dd data-md="">
                <p>Using local configuration knowledge of the appropriate transport to use with <var>authenticator</var>,
invoke the <a data-link-type="dfn" href="#authenticatorgetassertion" id="ref-for-authenticatorgetassertion④">authenticatorGetAssertion</a> operation on <var>authenticator</var> with <var>rpId</var>, <var>clientDataHash</var>, <var>allowCredentialDescriptorList</var>, <var>userPresence</var>, <var>userVerification</var>, and <var>clientExtensions</var> as parameters.</p>
              </dl>
            </ol>
           <dt data-md=""><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-is-empty" id="ref-for-list-is-empty⑦">is empty</a>
           <dd data-md="">
            <p>Using local configuration knowledge of the appropriate transport to use with <var>authenticator</var>, invoke the <a data-link-type="dfn" href="#authenticatorgetassertion" id="ref-for-authenticatorgetassertion⑤">authenticatorGetAssertion</a> operation on <var>authenticator</var> with <var>rpId</var>, <var>clientDataHash</var>, <var>userPresence</var>, <var>userVerification</var> and <var>clientExtensions</var> as parameters.</p>
            <p class="note" role="note"><span>Note:</span> In this case, the <a data-link-type="dfn" href="#relying-party" id="ref-for-relying-party⑤⑨">Relying Party</a> did not supply a list of acceptable credential descriptors. Thus, the
    authenticator is being asked to exercise any credential it may possess that is bound to
    the <a data-link-type="dfn" href="#relying-party" id="ref-for-relying-party⑥⓪">Relying Party</a>, as identified by <var>rpId</var>.</p>
          </dl>
         <li data-md="">
          <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#set-append" id="ref-for-set-append②">Append</a> <var>authenticator</var> to <var>issuedRequests</var>.</p>
        </ol>
       <dt data-md="">If an <var>authenticator</var> ceases to be available on this platform,
       <dd data-md="">
        <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-remove" id="ref-for-list-remove①②">Remove</a> <var>authenticator</var> from <var>issuedRequests</var>.</p>
       <dt data-md="">If any <var>authenticator</var> returns a status indicating that the user cancelled the operation,
       <dd data-md="">
        <ol>
         <li data-md="">
          <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-remove" id="ref-for-list-remove①③">Remove</a> <var>authenticator</var> from <var>issuedRequests</var>.</p>
         <li data-md="">
          <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-iterate" id="ref-for-list-iterate①②">For each</a> remaining <var>authenticator</var> in <var>issuedRequests</var> invoke the <a data-link-type="dfn" href="#authenticatorcancel" id="ref-for-authenticatorcancel⑦">authenticatorCancel</a> operation
on <var>authenticator</var> and <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-remove" id="ref-for-list-remove①④">remove</a> it from <var>issuedRequests</var>.</p>
          <p class="note" role="note"><span>Note:</span> <a data-link-type="dfn" href="#authenticator" id="ref-for-authenticator④⑥">Authenticators</a> may return an indication of "the user cancelled the entire operation".
How a user agent manifests this state to users is unspecified.</p>
        </ol>
       <dt data-md="">If any <var>authenticator</var> returns an error status,
       <dd data-md="">
        <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-remove" id="ref-for-list-remove①⑤">Remove</a> <var>authenticator</var> from <var>issuedRequests</var>.</p>
       <dt data-md="">If any <var>authenticator</var> indicates success,
       <dd data-md="">
        <ol>
         <li data-md="">
          <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-remove" id="ref-for-list-remove①⑥">Remove</a> <var>authenticator</var> from <var>issuedRequests</var>.</p>
         <li data-md="">
          <p>Let <var>assertionCreationData</var> be a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#struct" id="ref-for-struct②">struct</a> whose <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#struct-item" id="ref-for-struct-item③">items</a> are:</p>
          <dl>
           <dt data-md=""><code><dfn class="dfn-paneled" data-dfn-for="assertionCreationData" data-dfn-type="dfn" data-noexport="" id="assertioncreationdata-credentialidresult">credentialIdResult</dfn></code>
           <dd data-md="">
            <p>If <code><var>savedCredentialIds</var>[<var>authenticator</var>]</code> exists, set the value of <a data-link-type="dfn" href="#assertioncreationdata-credentialidresult" id="ref-for-assertioncreationdata-credentialidresult">credentialIdResult</a> to be
the bytes of <code><var>savedCredentialIds</var>[<var>authenticator</var>]</code>. Otherwise, set the value of <a data-link-type="dfn" href="#assertioncreationdata-credentialidresult" id="ref-for-assertioncreationdata-credentialidresult①">credentialIdResult</a> to be the bytes of the <a data-link-type="dfn" href="#credential-id" id="ref-for-credential-id⑥">credential ID</a> returned from the successful <a data-link-type="dfn" href="#authenticatorgetassertion" id="ref-for-authenticatorgetassertion⑥">authenticatorGetAssertion</a> operation, as defined in <a href="#op-get-assertion">§6.2.3 The authenticatorGetAssertion operation</a>.</p>
           <dt data-md=""><code><dfn class="dfn-paneled" data-dfn-for="assertionCreationData" data-dfn-type="dfn" data-noexport="" id="assertioncreationdata-clientdatajsonresult">clientDataJSONResult</dfn></code>
           <dd data-md="">
            <p>whose value is the bytes of <var>clientDataJSON</var>.</p>
           <dt data-md=""><code><dfn class="dfn-paneled" data-dfn-for="assertionCreationData" data-dfn-type="dfn" data-noexport="" id="assertioncreationdata-authenticatordataresult">authenticatorDataResult</dfn></code>
           <dd data-md="">
            <p>whose value is the bytes of the <a data-link-type="dfn" href="#authenticator-data" id="ref-for-authenticator-data">authenticator data</a> returned by the <a data-link-type="dfn" href="#authenticator" id="ref-for-authenticator④⑦">authenticator</a>.</p>
           <dt data-md=""><code><dfn class="dfn-paneled" data-dfn-for="assertionCreationData" data-dfn-type="dfn" data-noexport="" id="assertioncreationdata-signatureresult">signatureResult</dfn></code>
           <dd data-md="">
            <p>whose value is the bytes of the signature value returned by the <a data-link-type="dfn" href="#authenticator" id="ref-for-authenticator④⑧">authenticator</a>.</p>
           <dt data-md=""><code><dfn class="dfn-paneled" data-dfn-for="assertionCreationData" data-dfn-type="dfn" data-noexport="" id="assertioncreationdata-userhandleresult">userHandleResult</dfn></code>
           <dd data-md="">
            <p>If the <a data-link-type="dfn" href="#authenticator" id="ref-for-authenticator④⑨">authenticator</a> returned a <a data-link-type="dfn" href="#user-handle" id="ref-for-user-handle②">user handle</a>, set the value of <a data-link-type="dfn" href="#assertioncreationdata-userhandleresult" id="ref-for-assertioncreationdata-userhandleresult">userHandleResult</a> to be the bytes of
the returned <a data-link-type="dfn" href="#user-handle" id="ref-for-user-handle③">user handle</a>. Otherwise, set the value of <a data-link-type="dfn" href="#assertioncreationdata-userhandleresult" id="ref-for-assertioncreationdata-userhandleresult①">userHandleResult</a> to null.</p>
           <dt data-md=""><code><dfn class="dfn-paneled" data-dfn-for="assertionCreationData" data-dfn-type="dfn" data-noexport="" id="assertioncreationdata-clientextensionresults">clientExtensionResults</dfn></code>
           <dd data-md="">
            <p>whose value is an <code class="idl"><a data-link-type="idl" href="#dictdef-authenticationextensionsclientoutputs" id="ref-for-dictdef-authenticationextensionsclientoutputs②">AuthenticationExtensionsClientOutputs</a></code> object containing <a data-link-type="dfn" href="#extension-identifier" id="ref-for-extension-identifier②">extension identifier</a> → <a data-link-type="dfn" href="#client-extension-output" id="ref-for-client-extension-output③">client extension output</a> entries. The entries are created by running each extension’s <a data-link-type="dfn" href="#client-extension-processing" id="ref-for-client-extension-processing④">client extension processing</a> algorithm to create the <a data-link-type="dfn" href="#client-extension-output" id="ref-for-client-extension-output④">client extension outputs</a>, for each <a data-link-type="dfn" href="#client-extension" id="ref-for-client-extension①">client extension</a> in <code><code class="idl"><a data-link-type="idl" href="#dom-authenticatorresponse-clientdatajson" id="ref-for-dom-authenticatorresponse-clientdatajson②">clientDataJSON</a></code>.clientExtensions</code>.</p>
          </dl>
         <li data-md="">
          <p>Let <var>constructAssertionAlg</var> be an algorithm that takes a <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-settings-object-global" id="ref-for-concept-settings-object-global①">global object</a> <var>global</var>, and whose steps are:</p>
          <ol>
           <li data-md="">
            <p>Let <var>pubKeyCred</var> be a new <code class="idl"><a data-link-type="idl" href="#publickeycredential" id="ref-for-publickeycredential①①">PublicKeyCredential</a></code> object associated with <var>global</var> whose fields are:</p>
            <dl>
             <dt data-md=""><code class="idl"><a data-link-type="idl" href="#dom-publickeycredential-identifier-slot" id="ref-for-dom-publickeycredential-identifier-slot③">[[identifier]]</a></code>
             <dd data-md="">
              <p>A new <code class="idl"><a data-link-type="idl" href="https://heycam.github.io/webidl/#idl-ArrayBuffer" id="ref-for-idl-ArrayBuffer⑤">ArrayBuffer</a></code>, created using <var>global</var>’s <a data-link-type="dfn" href="https://tc39.github.io/ecma262/#sec-arraybuffer-constructor" id="ref-for-sec-arraybuffer-constructor④">%ArrayBuffer%</a>, containing the bytes of <code><var>assertionCreationData</var>.<a data-link-type="dfn" href="#assertioncreationdata-credentialidresult" id="ref-for-assertioncreationdata-credentialidresult②">credentialIdResult</a></code>.</p>
             <dt data-md=""><code class="idl"><a data-link-type="idl" href="#dom-publickeycredential-response" id="ref-for-dom-publickeycredential-response②">response</a></code>
             <dd data-md="">
              <p>A new <code class="idl"><a data-link-type="idl" href="#authenticatorassertionresponse" id="ref-for-authenticatorassertionresponse②">AuthenticatorAssertionResponse</a></code> object associated with <var>global</var> whose fields are:</p>
              <dl>
               <dt data-md=""><code class="idl"><a data-link-type="idl" href="#dom-authenticatorresponse-clientdatajson" id="ref-for-dom-authenticatorresponse-clientdatajson③">clientDataJSON</a></code>
               <dd data-md="">
                <p>A new <code class="idl"><a data-link-type="idl" href="https://heycam.github.io/webidl/#idl-ArrayBuffer" id="ref-for-idl-ArrayBuffer⑥">ArrayBuffer</a></code>, created using <var>global</var>’s <a data-link-type="dfn" href="https://tc39.github.io/ecma262/#sec-arraybuffer-constructor" id="ref-for-sec-arraybuffer-constructor⑤">%ArrayBuffer%</a>, containing the bytes of <code><var>assertionCreationData</var>.<a data-link-type="dfn" href="#assertioncreationdata-clientdatajsonresult" id="ref-for-assertioncreationdata-clientdatajsonresult">clientDataJSONResult</a></code>.</p>
               <dt data-md=""><code class="idl"><a data-link-type="idl" href="#dom-authenticatorassertionresponse-authenticatordata" id="ref-for-dom-authenticatorassertionresponse-authenticatordata">authenticatorData</a></code>
               <dd data-md="">
                <p>A new <code class="idl"><a data-link-type="idl" href="https://heycam.github.io/webidl/#idl-ArrayBuffer" id="ref-for-idl-ArrayBuffer⑦">ArrayBuffer</a></code>, created using <var>global</var>’s <a data-link-type="dfn" href="https://tc39.github.io/ecma262/#sec-arraybuffer-constructor" id="ref-for-sec-arraybuffer-constructor⑥">%ArrayBuffer%</a>, containing the bytes of <code><var>assertionCreationData</var>.<a data-link-type="dfn" href="#assertioncreationdata-authenticatordataresult" id="ref-for-assertioncreationdata-authenticatordataresult">authenticatorDataResult</a></code>.</p>
               <dt data-md=""><code class="idl"><a data-link-type="idl" href="#dom-authenticatorassertionresponse-signature" id="ref-for-dom-authenticatorassertionresponse-signature">signature</a></code>
               <dd data-md="">
                <p>A new <code class="idl"><a data-link-type="idl" href="https://heycam.github.io/webidl/#idl-ArrayBuffer" id="ref-for-idl-ArrayBuffer⑧">ArrayBuffer</a></code>, created using <var>global</var>’s <a data-link-type="dfn" href="https://tc39.github.io/ecma262/#sec-arraybuffer-constructor" id="ref-for-sec-arraybuffer-constructor⑦">%ArrayBuffer%</a>, containing the bytes of <code><var>assertionCreationData</var>.<a data-link-type="dfn" href="#assertioncreationdata-signatureresult" id="ref-for-assertioncreationdata-signatureresult">signatureResult</a></code>.</p>
               <dt data-md=""><code class="idl"><a data-link-type="idl" href="#dom-authenticatorassertionresponse-userhandle" id="ref-for-dom-authenticatorassertionresponse-userhandle①">userHandle</a></code>
               <dd data-md="">
                <p>If <code><var>assertionCreationData</var>.<a data-link-type="dfn" href="#assertioncreationdata-userhandleresult" id="ref-for-assertioncreationdata-userhandleresult②">userHandleResult</a></code> is null, set this
field to null. Otherwise, set this field to a new <code class="idl"><a data-link-type="idl" href="https://heycam.github.io/webidl/#idl-ArrayBuffer" id="ref-for-idl-ArrayBuffer⑨">ArrayBuffer</a></code>, created using <var>global</var>’s <a data-link-type="dfn" href="https://tc39.github.io/ecma262/#sec-arraybuffer-constructor" id="ref-for-sec-arraybuffer-constructor⑧">%ArrayBuffer%</a>, containing the bytes of <code><var>assertionCreationData</var>.<a data-link-type="dfn" href="#assertioncreationdata-userhandleresult" id="ref-for-assertioncreationdata-userhandleresult③">userHandleResult</a></code>.</p>
              </dl>
             <dt data-md=""><code class="idl"><a data-link-type="idl" href="#dom-publickeycredential-clientextensionsresults-slot" id="ref-for-dom-publickeycredential-clientextensionsresults-slot②">[[clientExtensionsResults]]</a></code>
             <dd data-md="">
              <p>A new <code class="idl"><a data-link-type="idl" href="https://heycam.github.io/webidl/#idl-ArrayBuffer" id="ref-for-idl-ArrayBuffer①⓪">ArrayBuffer</a></code>, created using <var>global</var>’s <a data-link-type="dfn" href="https://tc39.github.io/ecma262/#sec-arraybuffer-constructor" id="ref-for-sec-arraybuffer-constructor⑨">%ArrayBuffer%</a>, containing the bytes of <code><var>assertionCreationData</var>.<a data-link-type="dfn" href="#assertioncreationdata-clientextensionresults" id="ref-for-assertioncreationdata-clientextensionresults">clientExtensionResults</a></code>.</p>
            </dl>
           <li data-md="">
            <p>Return <var>pubKeyCred</var>.</p>
          </ol>
         <li data-md="">
          <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-iterate" id="ref-for-list-iterate①③">For each</a> remaining <var>authenticator</var> in <var>issuedRequests</var> invoke the <a data-link-type="dfn" href="#authenticatorcancel" id="ref-for-authenticatorcancel⑧">authenticatorCancel</a> operation
on <var>authenticator</var> and <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-remove" id="ref-for-list-remove①⑦">remove</a> it from <var>issuedRequests</var>.</p>
         <li data-md="">
          <p>Return <var>constructAssertionAlg</var> and terminate this algorithm.</p>
        </ol>
      </dl>
     <li data-md="">
      <p>Return a <code class="idl"><a data-link-type="idl" href="https://heycam.github.io/webidl/#idl-DOMException" id="ref-for-idl-DOMException①⑥">DOMException</a></code> whose name is "<code class="idl"><a data-link-type="idl" href="https://heycam.github.io/webidl/#notallowederror" id="ref-for-notallowederror⑤">NotAllowedError</a></code>". In order to prevent information leak that could identify the
user without <a data-link-type="dfn" href="#user-consent" id="ref-for-user-consent①⓪">consent</a>, this step MUST NOT be executed before <var>lifetimeTimer</var> has expired. See <a href="#sec-assertion-privacy">§14.3 Authentication Ceremony Privacy</a> for details.</p>
    </ol>
    <p>During the above process, the user agent SHOULD show some UI to the user to guide them in the process of selecting and
authorizing an authenticator with which to complete the operation.</p>
   </div>
   <h4 class="heading settled" data-level="5.1.5" id="storeCredential"><span class="secno">5.1.5. </span><span class="content">Store an existing credential - PublicKeyCredential’s <code>[[Store]](credential, sameOriginWithAncestors)</code> method</span><a class="self-link" href="#storeCredential"></a></h4>
   <div data-link-for-hint="PublicKeyCredential/[[Store]](credential, sameOriginWithAncestors)">
    <p>The <dfn class="idl-code" data-dfn-for="PublicKeyCredential" data-dfn-type="method" data-export="" id="dom-publickeycredential-store-slot"><code>[[Store]](credential, sameOriginWithAncestors)</code><a class="self-link" href="#dom-publickeycredential-store-slot"></a></dfn> method is not supported
for Web Authentication’s <code class="idl"><a data-link-type="idl" href="#publickeycredential" id="ref-for-publickeycredential①②">PublicKeyCredential</a></code> type, so it always returns an error.</p>
    <p class="note" role="note"><span>Note:</span> This algorithm is synchronous; the <code class="idl"><a data-link-type="idl" href="https://heycam.github.io/webidl/#idl-promise" id="ref-for-idl-promise③">Promise</a></code> resolution/rejection is handled by <code class="idl"><a data-link-type="idl" href="https://w3c.github.io/webappsec-credential-management/#dom-credentialscontainer-store" id="ref-for-dom-credentialscontainer-store">navigator.credentials.store()</a></code>.</p>
    <p>This <a data-link-type="dfn" href="https://tc39.github.io/ecma262/#sec-object-internal-methods-and-internal-slots" id="ref-for-sec-object-internal-methods-and-internal-slots①⓪">internal method</a> accepts two arguments:</p>
    <dl>
     <dt data-md=""><dfn class="idl-code" data-dfn-for="PublicKeyCredential/[[Store]](credential, sameOriginWithAncestors)" data-dfn-type="argument" data-export="" id="dom-publickeycredential-store-credential-sameoriginwithancestors-credential"><code>credential</code><a class="self-link" href="#dom-publickeycredential-store-credential-sameoriginwithancestors-credential"></a></dfn>
     <dd data-md="">
      <p>This argument is a <code class="idl"><a data-link-type="idl" href="#publickeycredential" id="ref-for-publickeycredential①③">PublicKeyCredential</a></code> object.</p>
     <dt data-md=""><dfn class="idl-code" data-dfn-for="PublicKeyCredential/[[Store]](credential, sameOriginWithAncestors)" data-dfn-type="argument" data-export="" id="dom-publickeycredential-store-credential-sameoriginwithancestors-sameoriginwithancestors"><code>sameOriginWithAncestors</code><a class="self-link" href="#dom-publickeycredential-store-credential-sameoriginwithancestors-sameoriginwithancestors"></a></dfn>
     <dd data-md="">
      <p>This argument is a Boolean value which is <code>true</code> if and only if the caller’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#environment-settings-object" id="ref-for-environment-settings-object②">environment settings object</a> is <a data-link-type="dfn" href="https://w3c.github.io/webappsec-credential-management/#same-origin-with-its-ancestors" id="ref-for-same-origin-with-its-ancestors④">same-origin with its ancestors</a>.</p>
    </dl>
    <p>When this method is invoked, the user agent MUST execute the following algorithm:</p>
    <ol>
     <li data-md="">
      <p>Return a <code class="idl"><a data-link-type="idl" href="https://heycam.github.io/webidl/#idl-DOMException" id="ref-for-idl-DOMException①⑦">DOMException</a></code> whose name is "<code class="idl"><a data-link-type="idl" href="https://heycam.github.io/webidl/#notsupportederror" id="ref-for-notsupportederror①">NotSupportedError</a></code>", and terminate this algorithm</p>
    </ol>
   </div>
   <h4 class="heading settled" data-level="5.1.6" id="preventSilentAccessCredential"><span class="secno">5.1.6. </span><span class="content">Preventing silent access to an existing credential - PublicKeyCredential’s <code>[[preventSilentAccess]](credential, sameOriginWithAncestors)</code> method</span><a class="self-link" href="#preventSilentAccessCredential"></a></h4>
   <div data-link-for-hint="PublicKeyCredential/[[preventSilentAccess]](credential, sameOriginWithAncestors)">
    <p>Calling the <dfn class="idl-code" data-dfn-for="PublicKeyCredential" data-dfn-type="method" data-export="" id="dom-publickeycredential-preventsilentaccess-slot"><code>[[preventSilentAccess]](credential, sameOriginWithAncestors)</code><a class="self-link" href="#dom-publickeycredential-preventsilentaccess-slot"></a></dfn> method
will have no effect on authenticators that require an <a data-link-type="dfn" href="#authorization-gesture" id="ref-for-authorization-gesture①①">authorization gesture</a>,
but setting that flag may potentially exclude authenticators that can operate without user intervention.</p>
    <p>This <a data-link-type="dfn" href="https://tc39.github.io/ecma262/#sec-object-internal-methods-and-internal-slots" id="ref-for-sec-object-internal-methods-and-internal-slots①①">internal method</a> accepts no arguments.</p>
   </div>
   <h4 class="heading settled" data-level="5.1.7" id="isUserVerifyingPlatformAuthenticatorAvailable"><span class="secno">5.1.7. </span><span class="content">Availability of User-Verifying Platform Authenticator - PublicKeyCredential’s <code>isUserVerifyingPlatformAuthenticatorAvailable()</code> method</span><a class="self-link" href="#isUserVerifyingPlatformAuthenticatorAvailable"></a></h4>
   <div data-link-for-hint="WebAuthentication/isUserVerifyingPlatformAuthenticatorAvailable">
    <p><a data-link-type="dfn" href="#relying-party" id="ref-for-relying-party⑥①">Relying Parties</a> use this method to determine whether they can create a new credential using a <a data-link-type="dfn" href="#user-verification" id="ref-for-user-verification①⑥">user-verifying</a> <a data-link-type="dfn" href="#platform-authenticators" id="ref-for-platform-authenticators">platform authenticator</a>.
Upon invocation, the <a data-link-type="dfn" href="#client" id="ref-for-client⑤">client</a> employs a platform-specific procedure to discover available <a data-link-type="dfn" href="#user-verification" id="ref-for-user-verification①⑦">user-verifying</a> <a data-link-type="dfn" href="#platform-authenticators" id="ref-for-platform-authenticators①">platform authenticators</a>.
If successful, the <a data-link-type="dfn" href="#client" id="ref-for-client⑥">client</a> then assesses whether the user is willing to create a credential using one of the available <a data-link-type="dfn" href="#user-verification" id="ref-for-user-verification①⑧">user-verifying</a> <a data-link-type="dfn" href="#platform-authenticators" id="ref-for-platform-authenticators②">platform authenticators</a>.
This assessment may include various factors, such as:</p>
    <ul>
     <li data-md="">
      <p>Whether the user is running in private or incognito mode.</p>
     <li data-md="">
      <p>Whether the user has configured the <a data-link-type="dfn" href="#client" id="ref-for-client⑦">client</a> to not create such credentials.</p>
     <li data-md="">
      <p>Whether the user has previously expressed an unwillingness to create a new credential for this <a data-link-type="dfn" href="#relying-party" id="ref-for-relying-party⑥②">Relying Party</a>,
either through configuration or by declining a user interface prompt.</p>
     <li data-md="">
      <p>The user’s explicitly stated intentions, determined through user interaction.</p>
    </ul>
    If this assessment is affirmative, the promise is resolved with the value of <code>true</code>.
Otherwise, the promise is resolved with the value of <code>false</code>.
Based on the result, the <a data-link-type="dfn" href="#relying-party" id="ref-for-relying-party⑥③">Relying Party</a> can take further actions to guide the user to create a credential. 
    <p>This method has no arguments and returns a Boolean value.</p>
    <p>If the promise will return <code>false</code>,
the <a data-link-type="dfn" href="#client" id="ref-for-client⑧">client</a> SHOULD wait a fixed period of time from the invocation of the method before returning <code>false</code>.
This is done so that callers cannot distinguish between
the case where the user was unwilling to create a credential using one of the available <a data-link-type="dfn" href="#user-verification" id="ref-for-user-verification①⑨">user-verifying</a> <a data-link-type="dfn" href="#platform-authenticators" id="ref-for-platform-authenticators③">platform authenticators</a> and
the case where no <a data-link-type="dfn" href="#user-verification" id="ref-for-user-verification②⓪">user-verifying</a> <a data-link-type="dfn" href="#platform-authenticators" id="ref-for-platform-authenticators④">platform authenticator</a> exists.
Trying to make these cases indistinguishable is done in an attempt to not provide additional information that could be used for fingerprinting.
A timeout value on the order of 10 minutes is recommended;
this is enough time for successful user interactions to be performed
but short enough that the dangling promise will still be resolved in a reasonably timely fashion.</p>
<pre class="idl highlight def"><span class="kt">partial</span> <span class="kt">interface</span> <a class="nv idl-code" data-link-type="interface" href="#publickeycredential" id="ref-for-publickeycredential①④">PublicKeyCredential</a> {
    <span class="kt">static</span> <span class="kt">Promise</span> &lt; <a class="n idl-code" data-link-type="interface" href="https://heycam.github.io/webidl/#idl-boolean" id="ref-for-idl-boolean"><span class="kt">boolean</span></a> > <dfn class="nv idl-code" data-dfn-for="PublicKeyCredential" data-dfn-type="method" data-export="" data-lt="isUserVerifyingPlatformAuthenticatorAvailable()" id="dom-publickeycredential-isuserverifyingplatformauthenticatoravailable"><code>isUserVerifyingPlatformAuthenticatorAvailable</code><a class="self-link" href="#dom-publickeycredential-isuserverifyingplatformauthenticatoravailable"></a></dfn>();
};
</pre>
   </div>
   <h3 class="heading settled" data-level="5.2" id="iface-authenticatorresponse"><span class="secno">5.2. </span><span class="content">Authenticator Responses (interface <dfn class="dfn-paneled idl-code" data-dfn-type="interface" data-export="" id="authenticatorresponse"><code>AuthenticatorResponse</code></dfn>)</span><a class="self-link" href="#iface-authenticatorresponse"></a></h3>
   <p><a data-link-type="dfn" href="#authenticator" id="ref-for-authenticator⑤⓪">Authenticators</a> respond to <a data-link-type="dfn" href="#relying-party" id="ref-for-relying-party⑥④">Relying Party</a> requests by returning an object derived from the <code class="idl"><a data-link-type="idl" href="#authenticatorresponse" id="ref-for-authenticatorresponse②">AuthenticatorResponse</a></code> interface:</p>
<pre class="idl highlight def">[<a class="nv idl-code" data-link-type="extended-attribute" href="https://heycam.github.io/webidl/#SecureContext" id="ref-for-SecureContext①">SecureContext</a>, <a class="nv idl-code" data-link-type="extended-attribute" href="https://heycam.github.io/webidl/#Exposed" id="ref-for-Exposed①">Exposed</a>=<span class="n">Window</span>]
<span class="kt">interface</span> <a class="nv idl-code" data-link-type="interface" href="#authenticatorresponse" id="ref-for-authenticatorresponse③">AuthenticatorResponse</a> {
    [<a class="nv idl-code" data-link-type="extended-attribute" href="https://heycam.github.io/webidl/#SameObject" id="ref-for-SameObject②">SameObject</a>] <span class="kt">readonly</span> <span class="kt">attribute</span> <a class="n idl-code" data-link-type="interface" href="https://heycam.github.io/webidl/#idl-ArrayBuffer" id="ref-for-idl-ArrayBuffer①①"><span class="kt">ArrayBuffer</span></a>      <a class="nv idl-code" data-link-type="attribute" data-readonly="" data-type="ArrayBuffer" href="#dom-authenticatorresponse-clientdatajson" id="ref-for-dom-authenticatorresponse-clientdatajson④">clientDataJSON</a>;
};
</pre>
   <div>
    <dl>
     <dt data-md=""><dfn class="dfn-paneled idl-code" data-dfn-for="AuthenticatorResponse" data-dfn-type="attribute" data-export="" id="dom-authenticatorresponse-clientdatajson"><code>clientDataJSON</code></dfn>, <span> of type <a data-link-type="idl-name" href="https://heycam.github.io/webidl/#idl-ArrayBuffer" id="ref-for-idl-ArrayBuffer①②">ArrayBuffer</a>, readonly</span>
     <dd data-md="">
      <p>This attribute contains a <a data-link-type="dfn" href="#collectedclientdata-json-serialized-client-data" id="ref-for-collectedclientdata-json-serialized-client-data②">JSON serialization</a> of the <a data-link-type="dfn" href="#client-data" id="ref-for-client-data">client data</a> passed to the
authenticator by the client in its call to either <code class="idl"><a data-link-type="idl" href="https://w3c.github.io/webappsec-credential-management/#dom-credentialscontainer-create" id="ref-for-dom-credentialscontainer-create⑨">create()</a></code> or <code class="idl"><a data-link-type="idl" href="https://w3c.github.io/webappsec-credential-management/#dom-credentialscontainer-get" id="ref-for-dom-credentialscontainer-get①⓪">get()</a></code>.</p>
    </dl>
   </div>
   <h4 class="heading settled" data-level="5.2.1" id="iface-authenticatorattestationresponse"><span class="secno">5.2.1. </span><span class="content">Information about Public Key Credential (interface <dfn class="dfn-paneled idl-code" data-dfn-type="interface" data-export="" id="authenticatorattestationresponse"><code>AuthenticatorAttestationResponse</code></dfn>)</span><a class="self-link" href="#iface-authenticatorattestationresponse"></a></h4>
   <p>The <code class="idl"><a data-link-type="idl" href="#authenticatorattestationresponse" id="ref-for-authenticatorattestationresponse②">AuthenticatorAttestationResponse</a></code> interface represents the <a data-link-type="dfn" href="#authenticator" id="ref-for-authenticator⑤①">authenticator</a>'s response to a client’s request
for the creation of a new <a data-link-type="dfn" href="#public-key-credential" id="ref-for-public-key-credential②④">public key credential</a>. It contains information about the new credential that can be used to
identify it for later use, and metadata that can be used by the <a data-link-type="dfn" href="#relying-party" id="ref-for-relying-party⑥⑤">Relying Party</a> to assess the characteristics of the credential
during registration.</p>
<pre class="idl highlight def">[<a class="nv idl-code" data-link-type="extended-attribute" href="https://heycam.github.io/webidl/#SecureContext" id="ref-for-SecureContext②">SecureContext</a>, <a class="nv idl-code" data-link-type="extended-attribute" href="https://heycam.github.io/webidl/#Exposed" id="ref-for-Exposed②">Exposed</a>=<span class="n">Window</span>]
<span class="kt">interface</span> <a class="nv idl-code" data-link-type="interface" href="#authenticatorattestationresponse" id="ref-for-authenticatorattestationresponse③">AuthenticatorAttestationResponse</a> : <a class="n" data-link-type="idl-name" href="#authenticatorresponse" id="ref-for-authenticatorresponse④">AuthenticatorResponse</a> {
    [<a class="nv idl-code" data-link-type="extended-attribute" href="https://heycam.github.io/webidl/#SameObject" id="ref-for-SameObject③">SameObject</a>] <span class="kt">readonly</span> <span class="kt">attribute</span> <a class="n idl-code" data-link-type="interface" href="https://heycam.github.io/webidl/#idl-ArrayBuffer" id="ref-for-idl-ArrayBuffer①③"><span class="kt">ArrayBuffer</span></a>      <a class="nv idl-code" data-link-type="attribute" data-readonly="" data-type="ArrayBuffer" href="#dom-authenticatorattestationresponse-attestationobject" id="ref-for-dom-authenticatorattestationresponse-attestationobject①">attestationObject</a>;
};
</pre>
   <div>
    <dl>
     <dt data-md=""><code class="idl"><a data-link-type="idl" href="#dom-authenticatorresponse-clientdatajson" id="ref-for-dom-authenticatorresponse-clientdatajson⑤">clientDataJSON</a></code>
     <dd data-md="">
      <p>This attribute, inherited from <code class="idl"><a data-link-type="idl" href="#authenticatorresponse" id="ref-for-authenticatorresponse⑤">AuthenticatorResponse</a></code>, contains the <a data-link-type="dfn" href="#collectedclientdata-json-serialized-client-data" id="ref-for-collectedclientdata-json-serialized-client-data③">JSON-serialized client data</a> (see <a href="#sctn-attestation">§6.3 Attestation</a>) passed to the authenticator by the client in order to generate this credential. The
exact JSON serialization must be preserved, as the <a data-link-type="dfn" href="#collectedclientdata-hash-of-the-serialized-client-data" id="ref-for-collectedclientdata-hash-of-the-serialized-client-data②">hash of the serialized client data</a> has been computed
over it.</p>
     <dt data-md=""><dfn class="dfn-paneled idl-code" data-dfn-for="AuthenticatorAttestationResponse" data-dfn-type="attribute" data-export="" id="dom-authenticatorattestationresponse-attestationobject"><code>attestationObject</code></dfn>, <span> of type <a data-link-type="idl-name" href="https://heycam.github.io/webidl/#idl-ArrayBuffer" id="ref-for-idl-ArrayBuffer①④">ArrayBuffer</a>, readonly</span>
     <dd data-md="">
      <p>This attribute contains an <a data-link-type="dfn" href="#attestation-object" id="ref-for-attestation-object④">attestation object</a>, which is opaque to, and cryptographically protected against
tampering by, the client. The <a data-link-type="dfn" href="#attestation-object" id="ref-for-attestation-object⑤">attestation object</a> contains both <a data-link-type="dfn" href="#authenticator-data" id="ref-for-authenticator-data①">authenticator data</a> and an <a data-link-type="dfn" href="#attestation-statement" id="ref-for-attestation-statement④">attestation
statement</a>. The former contains the AAGUID, a unique <a data-link-type="dfn" href="#credential-id" id="ref-for-credential-id⑦">credential ID</a>, and the <a data-link-type="dfn" href="#credential-public-key" id="ref-for-credential-public-key⑧">credential public key</a>. The
contents of the <a data-link-type="dfn" href="#attestation-statement" id="ref-for-attestation-statement⑤">attestation statement</a> are determined by the <a data-link-type="dfn" href="#attestation-statement-format" id="ref-for-attestation-statement-format">attestation statement format</a> used by the <a data-link-type="dfn" href="#authenticator" id="ref-for-authenticator⑤②">authenticator</a>. It also contains any additional information that the <a data-link-type="dfn" href="#relying-party" id="ref-for-relying-party⑥⑥">Relying Party</a>'s server requires to validate the <a data-link-type="dfn" href="#attestation-statement" id="ref-for-attestation-statement⑥">attestation statement</a>, as well as to decode and validate the <a data-link-type="dfn" href="#authenticator-data" id="ref-for-authenticator-data②">authenticator data</a> along with the <a data-link-type="dfn" href="#collectedclientdata-json-serialized-client-data" id="ref-for-collectedclientdata-json-serialized-client-data④">JSON-serialized client data</a>. For more details, see <a href="#sctn-attestation">§6.3 Attestation</a>, <a href="#generating-an-attestation-object">§6.3.4 Generating an Attestation Object</a>,
and <a href="#fig-attStructs">Figure 3</a>.</p>
    </dl>
   </div>
   <h4 class="heading settled" data-level="5.2.2" id="iface-authenticatorassertionresponse"><span class="secno">5.2.2. </span><span class="content">Web Authentication Assertion (interface <dfn class="dfn-paneled idl-code" data-dfn-type="interface" data-export="" id="authenticatorassertionresponse"><code>AuthenticatorAssertionResponse</code></dfn>)</span><a class="self-link" href="#iface-authenticatorassertionresponse"></a></h4>
   <p>The <code class="idl"><a data-link-type="idl" href="#authenticatorassertionresponse" id="ref-for-authenticatorassertionresponse③">AuthenticatorAssertionResponse</a></code> interface represents an <a data-link-type="dfn" href="#authenticator" id="ref-for-authenticator⑤③">authenticator</a>'s response to a client’s request for
generation of a new <a data-link-type="dfn" href="#authentication-assertion" id="ref-for-authentication-assertion①⓪">authentication assertion</a> given the <a data-link-type="dfn" href="#relying-party" id="ref-for-relying-party⑥⑦">Relying Party</a>'s challenge and optional list of credentials it is
aware of. This response contains a cryptographic signature proving possession of the <a data-link-type="dfn" href="#credential-private-key" id="ref-for-credential-private-key⑦">credential private key</a>, and
optionally evidence of <a data-link-type="dfn" href="#user-consent" id="ref-for-user-consent①①">user consent</a> to a specific transaction.</p>
<pre class="idl highlight def">[<a class="nv idl-code" data-link-type="extended-attribute" href="https://heycam.github.io/webidl/#SecureContext" id="ref-for-SecureContext③">SecureContext</a>, <a class="nv idl-code" data-link-type="extended-attribute" href="https://heycam.github.io/webidl/#Exposed" id="ref-for-Exposed③">Exposed</a>=<span class="n">Window</span>]
<span class="kt">interface</span> <a class="nv idl-code" data-link-type="interface" href="#authenticatorassertionresponse" id="ref-for-authenticatorassertionresponse④">AuthenticatorAssertionResponse</a> : <a class="n" data-link-type="idl-name" href="#authenticatorresponse" id="ref-for-authenticatorresponse⑥">AuthenticatorResponse</a> {
    [<a class="nv idl-code" data-link-type="extended-attribute" href="https://heycam.github.io/webidl/#SameObject" id="ref-for-SameObject④">SameObject</a>] <span class="kt">readonly</span> <span class="kt">attribute</span> <a class="n idl-code" data-link-type="interface" href="https://heycam.github.io/webidl/#idl-ArrayBuffer" id="ref-for-idl-ArrayBuffer①⑤"><span class="kt">ArrayBuffer</span></a>      <a class="nv idl-code" data-link-type="attribute" data-readonly="" data-type="ArrayBuffer" href="#dom-authenticatorassertionresponse-authenticatordata" id="ref-for-dom-authenticatorassertionresponse-authenticatordata①">authenticatorData</a>;
    [<a class="nv idl-code" data-link-type="extended-attribute" href="https://heycam.github.io/webidl/#SameObject" id="ref-for-SameObject⑤">SameObject</a>] <span class="kt">readonly</span> <span class="kt">attribute</span> <a class="n idl-code" data-link-type="interface" href="https://heycam.github.io/webidl/#idl-ArrayBuffer" id="ref-for-idl-ArrayBuffer①⑥"><span class="kt">ArrayBuffer</span></a>      <a class="nv idl-code" data-link-type="attribute" data-readonly="" data-type="ArrayBuffer" href="#dom-authenticatorassertionresponse-signature" id="ref-for-dom-authenticatorassertionresponse-signature①">signature</a>;
    [<a class="nv idl-code" data-link-type="extended-attribute" href="https://heycam.github.io/webidl/#SameObject" id="ref-for-SameObject⑥">SameObject</a>] <span class="kt">readonly</span> <span class="kt">attribute</span> <a class="n idl-code" data-link-type="interface" href="https://heycam.github.io/webidl/#idl-ArrayBuffer" id="ref-for-idl-ArrayBuffer①⑦"><span class="kt">ArrayBuffer</span></a>?     <a class="nv idl-code" data-link-type="attribute" data-readonly="" data-type="ArrayBuffer?" href="#dom-authenticatorassertionresponse-userhandle" id="ref-for-dom-authenticatorassertionresponse-userhandle②">userHandle</a>;
};
</pre>
   <div>
    <dl>
     <dt data-md=""><code class="idl"><a data-link-type="idl" href="#dom-authenticatorresponse-clientdatajson" id="ref-for-dom-authenticatorresponse-clientdatajson⑥">clientDataJSON</a></code>
     <dd data-md="">
      <p>This attribute, inherited from <code class="idl"><a data-link-type="idl" href="#authenticatorresponse" id="ref-for-authenticatorresponse⑦">AuthenticatorResponse</a></code>, contains the <a data-link-type="dfn" href="#collectedclientdata-json-serialized-client-data" id="ref-for-collectedclientdata-json-serialized-client-data⑤">JSON-serialized client data</a> (see <a href="#sec-client-data">§5.10.1 Client data used in WebAuthn signatures (dictionary CollectedClientData)</a>) passed to the authenticator by the client in order to generate this assertion. The
exact JSON serialization MUST be preserved, as the <a data-link-type="dfn" href="#collectedclientdata-hash-of-the-serialized-client-data" id="ref-for-collectedclientdata-hash-of-the-serialized-client-data③">hash of the serialized client data</a> has been computed
over it.</p>
     <dt data-md=""><dfn class="dfn-paneled idl-code" data-dfn-for="AuthenticatorAssertionResponse" data-dfn-type="attribute" data-export="" id="dom-authenticatorassertionresponse-authenticatordata"><code>authenticatorData</code></dfn>, <span> of type <a data-link-type="idl-name" href="https://heycam.github.io/webidl/#idl-ArrayBuffer" id="ref-for-idl-ArrayBuffer①⑧">ArrayBuffer</a>, readonly</span>
     <dd data-md="">
      <p>This attribute contains the <a data-link-type="dfn" href="#authenticator-data" id="ref-for-authenticator-data③">authenticator data</a> returned by the authenticator. See <a href="#sec-authenticator-data">§6.1 Authenticator data</a>.</p>
     <dt data-md=""><dfn class="dfn-paneled idl-code" data-dfn-for="AuthenticatorAssertionResponse" data-dfn-type="attribute" data-export="" id="dom-authenticatorassertionresponse-signature"><code>signature</code></dfn>, <span> of type <a data-link-type="idl-name" href="https://heycam.github.io/webidl/#idl-ArrayBuffer" id="ref-for-idl-ArrayBuffer①⑨">ArrayBuffer</a>, readonly</span>
     <dd data-md="">
      <p>This attribute contains the raw signature returned from the authenticator. See <a href="#op-get-assertion">§6.2.3 The authenticatorGetAssertion operation</a>.</p>
     <dt data-md=""><dfn class="dfn-paneled idl-code" data-dfn-for="AuthenticatorAssertionResponse" data-dfn-type="attribute" data-export="" id="dom-authenticatorassertionresponse-userhandle"><code>userHandle</code></dfn>, <span> of type <a data-link-type="idl-name" href="https://heycam.github.io/webidl/#idl-ArrayBuffer" id="ref-for-idl-ArrayBuffer②⓪">ArrayBuffer</a>, readonly, nullable</span>
     <dd data-md="">
      <p>This attribute contains the <a data-link-type="dfn" href="#user-handle" id="ref-for-user-handle④">user handle</a> returned from the authenticator, or null if the authenticator did not return a <a data-link-type="dfn" href="#user-handle" id="ref-for-user-handle⑤">user handle</a>. See <a href="#op-get-assertion">§6.2.3 The authenticatorGetAssertion operation</a>.</p>
    </dl>
   </div>
   <h3 class="heading settled" data-level="5.3" id="credential-params"><span class="secno">5.3. </span><span class="content">Parameters for Credential Generation (dictionary <dfn class="dfn-paneled idl-code" data-dfn-type="dictionary" data-export="" id="dictdef-publickeycredentialparameters"><code>PublicKeyCredentialParameters</code></dfn>)</span><a class="self-link" href="#credential-params"></a></h3>
<pre class="idl highlight def"><span class="kt">dictionary</span> <a class="nv idl-code" data-link-type="dictionary" href="#dictdef-publickeycredentialparameters" id="ref-for-dictdef-publickeycredentialparameters">PublicKeyCredentialParameters</a> {
    <span class="kt">required</span> <a class="n" data-link-type="idl-name" href="#enumdef-publickeycredentialtype" id="ref-for-enumdef-publickeycredentialtype③">PublicKeyCredentialType</a>      <a class="nv idl-code" data-link-type="dict-member" data-type="PublicKeyCredentialType      " href="#dom-publickeycredentialparameters-type" id="ref-for-dom-publickeycredentialparameters-type②">type</a>;
    <span class="kt">required</span> <a class="n" data-link-type="idl-name" href="#typedefdef-cosealgorithmidentifier" id="ref-for-typedefdef-cosealgorithmidentifier①">COSEAlgorithmIdentifier</a>      <a class="nv idl-code" data-link-type="dict-member" data-type="COSEAlgorithmIdentifier      " href="#dom-publickeycredentialparameters-alg" id="ref-for-dom-publickeycredentialparameters-alg①">alg</a>;
};
</pre>
   <div>
     This dictionary is used to supply additional parameters when creating a new credential. 
    <dl>
     <dt data-md=""><dfn class="dfn-paneled idl-code" data-dfn-for="PublicKeyCredentialParameters" data-dfn-type="dict-member" data-export="" id="dom-publickeycredentialparameters-type"><code>type</code></dfn>, <span> of type <a data-link-type="idl-name" href="#enumdef-publickeycredentialtype" id="ref-for-enumdef-publickeycredentialtype④">PublicKeyCredentialType</a></span>
     <dd data-md="">
      <p>This member specifies the type of credential to be created.</p>
     <dt data-md=""><dfn class="dfn-paneled idl-code" data-dfn-for="PublicKeyCredentialParameters" data-dfn-type="dict-member" data-export="" id="dom-publickeycredentialparameters-alg"><code>alg</code></dfn>, <span> of type <a data-link-type="idl-name" href="#typedefdef-cosealgorithmidentifier" id="ref-for-typedefdef-cosealgorithmidentifier②">COSEAlgorithmIdentifier</a></span>
     <dd data-md="">
      <p>This member specifies the cryptographic signature algorithm with which the newly generated credential will be used, and
thus also the type of asymmetric key pair to be generated, e.g., RSA or Elliptic Curve.</p>
    </dl>
    <p class="note" role="note"><span>Note:</span> we use "alg" as the latter member name, rather than spelling-out "algorithm", because it will be serialized into
        a message to the authenticator, which may be sent over a low-bandwidth link.</p>
   </div>
   <h3 class="heading settled" data-level="5.4" id="dictionary-makecredentialoptions"><span class="secno">5.4. </span><span class="content">Options for Credential Creation (dictionary <dfn class="dfn-paneled idl-code" data-dfn-type="dictionary" data-export="" id="dictdef-publickeycredentialcreationoptions"><code>PublicKeyCredentialCreationOptions</code></dfn>)</span><a class="self-link" href="#dictionary-makecredentialoptions"></a></h3>
<pre class="idl highlight def"><span class="kt">dictionary</span> <a class="nv idl-code" data-link-type="dictionary" href="#dictdef-publickeycredentialcreationoptions" id="ref-for-dictdef-publickeycredentialcreationoptions②">PublicKeyCredentialCreationOptions</a> {
    <span class="kt">required</span> <a class="n" data-link-type="idl-name" href="#dictdef-publickeycredentialrpentity" id="ref-for-dictdef-publickeycredentialrpentity">PublicKeyCredentialRpEntity</a>         <a class="nv idl-code" data-link-type="dict-member" data-type="PublicKeyCredentialRpEntity         " href="#dom-publickeycredentialcreationoptions-rp" id="ref-for-dom-publickeycredentialcreationoptions-rp⑥">rp</a>;
    <span class="kt">required</span> <a class="n" data-link-type="idl-name" href="#dictdef-publickeycredentialuserentity" id="ref-for-dictdef-publickeycredentialuserentity">PublicKeyCredentialUserEntity</a>       <a class="nv idl-code" data-link-type="dict-member" data-type="PublicKeyCredentialUserEntity       " href="#dom-publickeycredentialcreationoptions-user" id="ref-for-dom-publickeycredentialcreationoptions-user①">user</a>;

    <span class="kt">required</span> <a class="n" data-link-type="idl-name" href="https://heycam.github.io/webidl/#BufferSource" id="ref-for-BufferSource">BufferSource</a>                             <a class="nv idl-code" data-link-type="dict-member" data-type="BufferSource                             " href="#dom-publickeycredentialcreationoptions-challenge" id="ref-for-dom-publickeycredentialcreationoptions-challenge①">challenge</a>;
    <span class="kt">required</span> <span class="kt">sequence</span>&lt;<a class="n" data-link-type="idl-name" href="#dictdef-publickeycredentialparameters" id="ref-for-dictdef-publickeycredentialparameters①">PublicKeyCredentialParameters</a>>  <a class="nv idl-code" data-link-type="dict-member" data-type="sequence<PublicKeyCredentialParameters>  " href="#dom-publickeycredentialcreationoptions-pubkeycredparams" id="ref-for-dom-publickeycredentialcreationoptions-pubkeycredparams②">pubKeyCredParams</a>;

    <a class="n idl-code" data-link-type="interface" href="https://heycam.github.io/webidl/#idl-unsigned-long" id="ref-for-idl-unsigned-long"><span class="kt">unsigned</span> <span class="kt">long</span></a>                                <a class="nv idl-code" data-link-type="dict-member" data-type="unsigned long                                " href="#dom-publickeycredentialcreationoptions-timeout" id="ref-for-dom-publickeycredentialcreationoptions-timeout②">timeout</a>;
    <span class="kt">sequence</span>&lt;<a class="n" data-link-type="idl-name" href="#dictdef-publickeycredentialdescriptor" id="ref-for-dictdef-publickeycredentialdescriptor">PublicKeyCredentialDescriptor</a>>      <a class="nv idl-code" data-default="None" data-link-type="dict-member" data-type="sequence<PublicKeyCredentialDescriptor>      " href="#dom-publickeycredentialcreationoptions-excludecredentials" id="ref-for-dom-publickeycredentialcreationoptions-excludecredentials①">excludeCredentials</a> = [];
    <a class="n" data-link-type="idl-name" href="#dictdef-authenticatorselectioncriteria" id="ref-for-dictdef-authenticatorselectioncriteria">AuthenticatorSelectionCriteria</a>               <a class="nv idl-code" data-link-type="dict-member" data-type="AuthenticatorSelectionCriteria               " href="#dom-publickeycredentialcreationoptions-authenticatorselection" id="ref-for-dom-publickeycredentialcreationoptions-authenticatorselection⑥">authenticatorSelection</a>;
    <a class="n" data-link-type="idl-name" href="#enumdef-attestationconveyancepreference" id="ref-for-enumdef-attestationconveyancepreference">AttestationConveyancePreference</a>              <a class="nv idl-code" data-default="&quot;none&quot;" data-link-type="dict-member" data-type="AttestationConveyancePreference              " href="#dom-publickeycredentialcreationoptions-attestation" id="ref-for-dom-publickeycredentialcreationoptions-attestation①">attestation</a> = "none";
    <a class="n" data-link-type="idl-name" href="#dictdef-authenticationextensionsclientinputs" id="ref-for-dictdef-authenticationextensionsclientinputs">AuthenticationExtensionsClientInputs</a>         <a class="nv idl-code" data-link-type="dict-member" data-type="AuthenticationExtensionsClientInputs         " href="#dom-publickeycredentialcreationoptions-extensions" id="ref-for-dom-publickeycredentialcreationoptions-extensions②">extensions</a>;
};
</pre>
   <div>
    <dl>
     <dt data-md=""><dfn class="dfn-paneled idl-code" data-dfn-for="PublicKeyCredentialCreationOptions" data-dfn-type="dict-member" data-export="" id="dom-publickeycredentialcreationoptions-rp"><code>rp</code></dfn>, <span> of type <a data-link-type="idl-name" href="#dictdef-publickeycredentialrpentity" id="ref-for-dictdef-publickeycredentialrpentity①">PublicKeyCredentialRpEntity</a></span>
     <dd data-md="">
      <p>This member contains data about the <a data-link-type="dfn" href="#relying-party" id="ref-for-relying-party⑥⑧">Relying Party</a> responsible for the request.</p>
      <p>Its value’s <code class="idl"><a data-link-type="idl" href="#dom-publickeycredentialentity-name" id="ref-for-dom-publickeycredentialentity-name">name</a></code> member is required.</p>
      <p>Its value’s <code class="idl"><a data-link-type="idl" href="#dom-publickeycredentialrpentity-id" id="ref-for-dom-publickeycredentialrpentity-id⑤">id</a></code> member specifies the <a data-link-type="dfn" href="#relying-party-identifier" id="ref-for-relying-party-identifier②">relying party identifier</a> with which the credential
should be associated. If omitted, its value will be the <code class="idl"><a data-link-type="idl" href="https://w3c.github.io/webappsec-credential-management/#credentialscontainer" id="ref-for-credentialscontainer①">CredentialsContainer</a></code> object’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#relevant-settings-object" id="ref-for-relevant-settings-object③">relevant
settings object</a>'s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-settings-object-origin" id="ref-for-concept-settings-object-origin⑥">origin</a>'s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/origin.html#concept-origin-effective-domain" id="ref-for-concept-origin-effective-domain①②">effective domain</a>.</p>
     <dt data-md=""><dfn class="dfn-paneled idl-code" data-dfn-for="PublicKeyCredentialCreationOptions" data-dfn-type="dict-member" data-export="" id="dom-publickeycredentialcreationoptions-user"><code>user</code></dfn>, <span> of type <a data-link-type="idl-name" href="#dictdef-publickeycredentialuserentity" id="ref-for-dictdef-publickeycredentialuserentity①">PublicKeyCredentialUserEntity</a></span>
     <dd data-md="">
      <p>This member contains data about the user account for which the <a data-link-type="dfn" href="#relying-party" id="ref-for-relying-party⑥⑨">Relying Party</a> is requesting attestation.</p>
      <p>Its value’s <code class="idl"><a data-link-type="idl" href="#dom-publickeycredentialentity-name" id="ref-for-dom-publickeycredentialentity-name①">name</a></code>, <code class="idl"><a data-link-type="idl" href="#dom-publickeycredentialuserentity-displayname" id="ref-for-dom-publickeycredentialuserentity-displayname①">displayName</a></code> and <code class="idl"><a data-link-type="idl" href="#dom-publickeycredentialuserentity-id" id="ref-for-dom-publickeycredentialuserentity-id">id</a></code> members are required.</p>
     <dt data-md=""><dfn class="dfn-paneled idl-code" data-dfn-for="PublicKeyCredentialCreationOptions" data-dfn-type="dict-member" data-export="" id="dom-publickeycredentialcreationoptions-challenge"><code>challenge</code></dfn>, <span> of type <a data-link-type="idl-name" href="https://heycam.github.io/webidl/#BufferSource" id="ref-for-BufferSource①">BufferSource</a></span>
     <dd data-md="">
      <p>This member contains a challenge intended to be used for generating the newly created credential’s <a data-link-type="dfn" href="#attestation-object" id="ref-for-attestation-object⑥">attestation
object</a>. See the <a href="#cryptographic-challenges">§13.1 Cryptographic Challenges</a> security consideration.</p>
     <dt data-md=""><dfn class="dfn-paneled idl-code" data-dfn-for="PublicKeyCredentialCreationOptions" data-dfn-type="dict-member" data-export="" id="dom-publickeycredentialcreationoptions-pubkeycredparams"><code>pubKeyCredParams</code></dfn>, <span> of type sequence&lt;<a data-link-type="idl-name" href="#dictdef-publickeycredentialparameters" id="ref-for-dictdef-publickeycredentialparameters②">PublicKeyCredentialParameters</a>></span>
     <dd data-md="">
      <p>This member contains information about the desired properties of the credential to be created. The sequence is ordered
from most preferred to least preferred. The platform makes a best-effort to create the most preferred credential that it
can.</p>
     <dt data-md=""><dfn class="dfn-paneled idl-code" data-dfn-for="PublicKeyCredentialCreationOptions" data-dfn-type="dict-member" data-export="" id="dom-publickeycredentialcreationoptions-timeout"><code>timeout</code></dfn>, <span> of type <a data-link-type="idl-name" href="https://heycam.github.io/webidl/#idl-unsigned-long" id="ref-for-idl-unsigned-long①">unsigned long</a></span>
     <dd data-md="">
      <p>This member specifies a time, in milliseconds, that the caller is willing to wait for the call to complete. This is
treated as a hint, and MAY be overridden by the platform.</p>
     <dt data-md=""><dfn class="dfn-paneled idl-code" data-dfn-for="PublicKeyCredentialCreationOptions" data-dfn-type="dict-member" data-export="" id="dom-publickeycredentialcreationoptions-excludecredentials"><code>excludeCredentials</code></dfn>, <span> of type sequence&lt;<a data-link-type="idl-name" href="#dictdef-publickeycredentialdescriptor" id="ref-for-dictdef-publickeycredentialdescriptor①">PublicKeyCredentialDescriptor</a>>, defaulting to <code>None</code></span>
     <dd data-md="">
      <p>This member is intended for use by <a data-link-type="dfn" href="#relying-party" id="ref-for-relying-party⑦⓪">Relying Parties</a> that wish to limit the creation of multiple credentials for the same
account on a single authenticator. The platform is requested to return an error if the new credential would be created
on an authenticator that also contains one of the credentials enumerated in this parameter.</p>
     <dt data-md=""><dfn class="dfn-paneled idl-code" data-dfn-for="PublicKeyCredentialCreationOptions" data-dfn-type="dict-member" data-export="" id="dom-publickeycredentialcreationoptions-authenticatorselection"><code>authenticatorSelection</code></dfn>, <span> of type <a data-link-type="idl-name" href="#dictdef-authenticatorselectioncriteria" id="ref-for-dictdef-authenticatorselectioncriteria①">AuthenticatorSelectionCriteria</a></span>
     <dd data-md="">
      <p>This member is intended for use by <a data-link-type="dfn" href="#relying-party" id="ref-for-relying-party⑦①">Relying Parties</a> that wish to select the appropriate authenticators to participate in
the <code class="idl"><a data-link-type="idl" href="https://w3c.github.io/webappsec-credential-management/#dom-credentialscontainer-create" id="ref-for-dom-credentialscontainer-create①⓪">create()</a></code> operation.</p>
     <dt data-md=""><dfn class="dfn-paneled idl-code" data-dfn-for="PublicKeyCredentialCreationOptions" data-dfn-type="dict-member" data-export="" id="dom-publickeycredentialcreationoptions-attestation"><code>attestation</code></dfn>, <span> of type <a data-link-type="idl-name" href="#enumdef-attestationconveyancepreference" id="ref-for-enumdef-attestationconveyancepreference①">AttestationConveyancePreference</a>, defaulting to <code>"none"</code></span>
     <dd data-md="">
      <p>This member is intended for use by <a data-link-type="dfn" href="#relying-party" id="ref-for-relying-party⑦②">Relying Parties</a> that wish to express their preference for <a data-link-type="dfn" href="#attestation-conveyance" id="ref-for-attestation-conveyance①">attestation conveyance</a>.
The default is <code class="idl"><a data-link-type="idl" href="#dom-attestationconveyancepreference-none" id="ref-for-dom-attestationconveyancepreference-none">none</a></code>.</p>
     <dt data-md=""><dfn class="dfn-paneled idl-code" data-dfn-for="PublicKeyCredentialCreationOptions" data-dfn-type="dict-member" data-export="" id="dom-publickeycredentialcreationoptions-extensions"><code>extensions</code></dfn>, <span> of type <a data-link-type="idl-name" href="#dictdef-authenticationextensionsclientinputs" id="ref-for-dictdef-authenticationextensionsclientinputs①">AuthenticationExtensionsClientInputs</a></span>
     <dd data-md="">
      <p>This member contains additional parameters requesting additional processing by the client and authenticator. For
example, the caller may request that only authenticators with certain capabilities be used to create the credential, or
that particular information be returned in the <a data-link-type="dfn" href="#attestation-object" id="ref-for-attestation-object⑦">attestation object</a>. Some extensions are defined in <a href="#extensions">§9 WebAuthn Extensions</a>;
consult the IANA "WebAuthn Extension Identifier" registry established by <a data-link-type="biblio" href="#biblio-webauthn-registries">[WebAuthn-Registries]</a> for an up-to-date list
of registered WebAuthn Extensions.</p>
    </dl>
   </div>
   <h4 class="heading settled" data-level="5.4.1" id="dictionary-pkcredentialentity"><span class="secno">5.4.1. </span><span class="content">Public Key Entity Description (dictionary <dfn class="dfn-paneled idl-code" data-dfn-type="dictionary" data-export="" id="dictdef-publickeycredentialentity"><code>PublicKeyCredentialEntity</code></dfn>)</span><a class="self-link" href="#dictionary-pkcredentialentity"></a></h4>
   <p>The <code class="idl"><a data-link-type="idl" href="#dictdef-publickeycredentialentity" id="ref-for-dictdef-publickeycredentialentity">PublicKeyCredentialEntity</a></code> dictionary describes a user account, or a <a data-link-type="dfn" href="#relying-party" id="ref-for-relying-party⑦③">Relying Party</a>, with which a <a data-link-type="dfn" href="#public-key-credential" id="ref-for-public-key-credential②⑤">public key credential</a> is
associated.</p>
<pre class="idl highlight def"><span class="kt">dictionary</span> <a class="nv idl-code" data-link-type="dictionary" href="#dictdef-publickeycredentialentity" id="ref-for-dictdef-publickeycredentialentity①">PublicKeyCredentialEntity</a> {
    <span class="kt">required</span> <a class="n idl-code" data-link-type="interface" href="https://heycam.github.io/webidl/#idl-DOMString" id="ref-for-idl-DOMString"><span class="kt">DOMString</span></a>    <a class="nv idl-code" data-link-type="dict-member" data-type="DOMString    " href="#dom-publickeycredentialentity-name" id="ref-for-dom-publickeycredentialentity-name②">name</a>;
    <a class="n idl-code" data-link-type="interface" href="https://heycam.github.io/webidl/#idl-USVString" id="ref-for-idl-USVString"><span class="kt">USVString</span></a>             <a class="nv idl-code" data-link-type="dict-member" data-type="USVString             " href="#dom-publickeycredentialentity-icon" id="ref-for-dom-publickeycredentialentity-icon">icon</a>;
};
</pre>
   <div>
    <dl>
     <dt data-md=""><dfn class="dfn-paneled idl-code" data-dfn-for="PublicKeyCredentialEntity" data-dfn-type="dict-member" data-export="" id="dom-publickeycredentialentity-name"><code>name</code></dfn>, <span> of type <a data-link-type="idl-name" href="https://heycam.github.io/webidl/#idl-DOMString" id="ref-for-idl-DOMString①">DOMString</a></span>
     <dd data-md="">
      <p>A human-readable name for the entity. Its function depends on what the <code class="idl"><a data-link-type="idl" href="#dictdef-publickeycredentialentity" id="ref-for-dictdef-publickeycredentialentity②">PublicKeyCredentialEntity</a></code> represents:</p>
      <ul>
       <li data-md="">
        <p>When inherited by <code class="idl"><a data-link-type="idl" href="#dictdef-publickeycredentialrpentity" id="ref-for-dictdef-publickeycredentialrpentity②">PublicKeyCredentialRpEntity</a></code> it is a human-friendly identifier for the <a data-link-type="dfn" href="#relying-party" id="ref-for-relying-party⑦④">Relying Party</a>, intended only
for display. For example, "ACME Corporation", "Wonderful Widgets, Inc." or "ОАО Примертех".</p>
       <li data-md="">
        <p>When inherited by <code class="idl"><a data-link-type="idl" href="#dictdef-publickeycredentialuserentity" id="ref-for-dictdef-publickeycredentialuserentity②">PublicKeyCredentialUserEntity</a></code>, it is a <a data-link-type="dfn" href="#human-palatability" id="ref-for-human-palatability①">human-palatable</a> identifier for a
user account. It is intended only for display, and SHOULD allow the user to easily tell the difference between user
accounts with similar <code class="idl"><a data-link-type="idl" href="#dom-publickeycredentialuserentity-displayname" id="ref-for-dom-publickeycredentialuserentity-displayname②">displayName</a></code>s. For example, "alexm", "alex.p.mueller@example.com"
or "+14255551234". The <a data-link-type="dfn" href="#relying-party" id="ref-for-relying-party⑦⑤">Relying Party</a> MAY let the user choose this, and MAY restrict the choice as needed or appropriate.
For example, a <a data-link-type="dfn" href="#relying-party" id="ref-for-relying-party⑦⑥">Relying Party</a> might choose to map <a data-link-type="dfn" href="#human-palatability" id="ref-for-human-palatability②">human-palatable</a> <a data-link-type="dfn" href="https://html.spec.whatwg.org/#attr-fe-autocomplete-username" id="ref-for-attr-fe-autocomplete-username">username</a> account identifiers to
the <code class="idl"><a data-link-type="idl" href="#dom-publickeycredentialentity-name" id="ref-for-dom-publickeycredentialentity-name③">name</a></code> member of <code class="idl"><a data-link-type="idl" href="#dictdef-publickeycredentialuserentity" id="ref-for-dictdef-publickeycredentialuserentity③">PublicKeyCredentialUserEntity</a></code>.</p>
      </ul>
      <p><a data-link-type="dfn" href="#authenticator" id="ref-for-authenticator⑤④">Authenticators</a> MUST accept and store a 64-byte minimum length for a <code class="idl"><a data-link-type="idl" href="#dom-publickeycredentialentity-name" id="ref-for-dom-publickeycredentialentity-name④">name</a></code> member’s
value. Authenticators MAY truncate a <code class="idl"><a data-link-type="idl" href="#dom-publickeycredentialentity-name" id="ref-for-dom-publickeycredentialentity-name⑤">name</a></code> member’s value to a length equal to or greater
than 64 bytes.</p>
     <dt data-md=""><dfn class="dfn-paneled idl-code" data-dfn-for="PublicKeyCredentialEntity" data-dfn-type="dict-member" data-export="" id="dom-publickeycredentialentity-icon"><code>icon</code></dfn>, <span> of type <a data-link-type="idl-name" href="https://heycam.github.io/webidl/#idl-USVString" id="ref-for-idl-USVString①">USVString</a></span>
     <dd data-md="">
      <p>A <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url-serializer" id="ref-for-concept-url-serializer">serialized</a> URL which resolves to an image associated with the entity. For example, this could be
a user’s avatar or a <a data-link-type="dfn" href="#relying-party" id="ref-for-relying-party⑦⑦">Relying Party</a>'s logo. This URL MUST be an <a data-link-type="dfn" href="https://w3c.github.io/webappsec-mixed-content/#a-priori-authenticated-url" id="ref-for-a-priori-authenticated-url">a priori authenticated URL</a>. <a data-link-type="dfn" href="#authenticator" id="ref-for-authenticator⑤⑤">Authenticators</a> MUST
accept and store a 128-byte minimum length for an icon member’s value.
Authenticators MAY ignore an icon member’s value if its length is greater than 128 bytes.</p>
    </dl>
   </div>
   <h4 class="heading settled" data-level="5.4.2" id="sctn-rp-credential-params"><span class="secno">5.4.2. </span><span class="content">RP Parameters for Credential Generation (dictionary <dfn class="dfn-paneled idl-code" data-dfn-type="dictionary" data-export="" id="dictdef-publickeycredentialrpentity"><code>PublicKeyCredentialRpEntity</code></dfn>)</span><a class="self-link" href="#sctn-rp-credential-params"></a></h4>
   <p>The <code class="idl"><a data-link-type="idl" href="#dictdef-publickeycredentialrpentity" id="ref-for-dictdef-publickeycredentialrpentity③">PublicKeyCredentialRpEntity</a></code> dictionary is used to supply additional <a data-link-type="dfn" href="#relying-party" id="ref-for-relying-party⑦⑧">Relying Party</a> attributes when creating a new credential.</p>
<pre class="idl highlight def"><span class="kt">dictionary</span> <a class="nv idl-code" data-link-type="dictionary" href="#dictdef-publickeycredentialrpentity" id="ref-for-dictdef-publickeycredentialrpentity④">PublicKeyCredentialRpEntity</a> : <a class="n" data-link-type="idl-name" href="#dictdef-publickeycredentialentity" id="ref-for-dictdef-publickeycredentialentity③">PublicKeyCredentialEntity</a> {
    <a class="n idl-code" data-link-type="interface" href="https://heycam.github.io/webidl/#idl-DOMString" id="ref-for-idl-DOMString②"><span class="kt">DOMString</span></a>      <a class="nv idl-code" data-link-type="dict-member" data-type="DOMString      " href="#dom-publickeycredentialrpentity-id" id="ref-for-dom-publickeycredentialrpentity-id⑥">id</a>;
};
</pre>
   <div>
    <dl>
     <dt data-md=""><dfn class="dfn-paneled idl-code" data-dfn-for="PublicKeyCredentialRpEntity" data-dfn-type="dict-member" data-export="" id="dom-publickeycredentialrpentity-id"><code>id</code></dfn>, <span> of type <a data-link-type="idl-name" href="https://heycam.github.io/webidl/#idl-DOMString" id="ref-for-idl-DOMString③">DOMString</a></span>
     <dd data-md="">
      <p>A unique identifier for the <a data-link-type="dfn" href="#relying-party" id="ref-for-relying-party⑦⑨">Relying Party</a> entity, which sets the <a data-link-type="dfn" href="#rp-id" id="ref-for-rp-id①④">RP ID</a>.</p>
    </dl>
   </div>
   <h4 class="heading settled" data-level="5.4.3" id="sctn-user-credential-params"><span class="secno">5.4.3. </span><span class="content">User Account Parameters for Credential Generation (dictionary <dfn class="dfn-paneled idl-code" data-dfn-type="dictionary" data-export="" id="dictdef-publickeycredentialuserentity"><code>PublicKeyCredentialUserEntity</code></dfn>)</span><a class="self-link" href="#sctn-user-credential-params"></a></h4>
   <p>The <code class="idl"><a data-link-type="idl" href="#dictdef-publickeycredentialuserentity" id="ref-for-dictdef-publickeycredentialuserentity④">PublicKeyCredentialUserEntity</a></code> dictionary is used to supply additional user account attributes when creating a new
credential.</p>
<pre class="idl highlight def"><span class="kt">dictionary</span> <a class="nv idl-code" data-link-type="dictionary" href="#dictdef-publickeycredentialuserentity" id="ref-for-dictdef-publickeycredentialuserentity⑤">PublicKeyCredentialUserEntity</a> : <a class="n" data-link-type="idl-name" href="#dictdef-publickeycredentialentity" id="ref-for-dictdef-publickeycredentialentity④">PublicKeyCredentialEntity</a> {
    <span class="kt">required</span> <a class="n" data-link-type="idl-name" href="https://heycam.github.io/webidl/#BufferSource" id="ref-for-BufferSource②">BufferSource</a>   <a class="nv idl-code" data-link-type="dict-member" data-type="BufferSource   " href="#dom-publickeycredentialuserentity-id" id="ref-for-dom-publickeycredentialuserentity-id①">id</a>;
    <span class="kt">required</span> <a class="n idl-code" data-link-type="interface" href="https://heycam.github.io/webidl/#idl-DOMString" id="ref-for-idl-DOMString④"><span class="kt">DOMString</span></a>      <a class="nv idl-code" data-link-type="dict-member" data-type="DOMString      " href="#dom-publickeycredentialuserentity-displayname" id="ref-for-dom-publickeycredentialuserentity-displayname③">displayName</a>;
};
</pre>
   <div>
    <dl>
     <dt data-md=""><dfn class="dfn-paneled idl-code" data-dfn-for="PublicKeyCredentialUserEntity" data-dfn-type="dict-member" data-export="" id="dom-publickeycredentialuserentity-id"><code>id</code></dfn>, <span> of type <a data-link-type="idl-name" href="https://heycam.github.io/webidl/#BufferSource" id="ref-for-BufferSource③">BufferSource</a></span>
     <dd data-md="">
      <p>The <a data-link-type="dfn" href="#user-handle" id="ref-for-user-handle⑥">user handle</a> of the user account entity.</p>
     <dt data-md=""><dfn class="dfn-paneled idl-code" data-dfn-for="PublicKeyCredentialUserEntity" data-dfn-type="dict-member" data-export="" id="dom-publickeycredentialuserentity-displayname"><code>displayName</code></dfn>, <span> of type <a data-link-type="idl-name" href="https://heycam.github.io/webidl/#idl-DOMString" id="ref-for-idl-DOMString⑤">DOMString</a></span>
     <dd data-md="">
      <p>A human-friendly name for the user account, intended only for display. For example, "Alex P. Müller" or "田中 倫". The <a data-link-type="dfn" href="#relying-party" id="ref-for-relying-party⑧⓪">Relying Party</a> SHOULD let the user choose this, and SHOULD NOT restrict the choice more than necessary.</p>
      <p><a data-link-type="dfn" href="#authenticator" id="ref-for-authenticator⑤⑥">Authenticators</a> MUST accept and store a 64-byte minimum length for a <code class="idl"><a data-link-type="idl" href="#dom-publickeycredentialuserentity-displayname" id="ref-for-dom-publickeycredentialuserentity-displayname④">displayName</a></code> member’s value. Authenticators MAY truncate a <code class="idl"><a data-link-type="idl" href="#dom-publickeycredentialuserentity-displayname" id="ref-for-dom-publickeycredentialuserentity-displayname⑤">displayName</a></code> member’s value to a length
equal to or greater than 64 bytes.</p>
    </dl>
   </div>
   <h4 class="heading settled" data-level="5.4.4" id="authenticatorSelection"><span class="secno">5.4.4. </span><span class="content">Authenticator Selection Criteria (dictionary <dfn class="dfn-paneled idl-code" data-dfn-type="dictionary" data-export="" id="dictdef-authenticatorselectioncriteria"><code>AuthenticatorSelectionCriteria</code></dfn>)</span><a class="self-link" href="#authenticatorSelection"></a></h4>
   <p><a data-link-type="dfn" href="#relying-party" id="ref-for-relying-party⑧①">Relying Parties</a> may use the <code class="idl"><a data-link-type="idl" href="#dictdef-authenticatorselectioncriteria" id="ref-for-dictdef-authenticatorselectioncriteria②">AuthenticatorSelectionCriteria</a></code> dictionary to specify their requirements regarding authenticator
attributes.</p>
<pre class="idl highlight def"><span class="kt">dictionary</span> <a class="nv idl-code" data-link-type="dictionary" href="#dictdef-authenticatorselectioncriteria" id="ref-for-dictdef-authenticatorselectioncriteria③">AuthenticatorSelectionCriteria</a> {
    <a class="n" data-link-type="idl-name" href="#enumdef-authenticatorattachment" id="ref-for-enumdef-authenticatorattachment">AuthenticatorAttachment</a>      <a class="nv idl-code" data-link-type="dict-member" data-type="AuthenticatorAttachment      " href="#dom-authenticatorselectioncriteria-authenticatorattachment" id="ref-for-dom-authenticatorselectioncriteria-authenticatorattachment①">authenticatorAttachment</a>;
    <a class="n idl-code" data-link-type="interface" href="https://heycam.github.io/webidl/#idl-boolean" id="ref-for-idl-boolean①"><span class="kt">boolean</span></a>                      <a class="nv idl-code" data-default="false" data-link-type="dict-member" data-type="boolean                      " href="#dom-authenticatorselectioncriteria-requireresidentkey" id="ref-for-dom-authenticatorselectioncriteria-requireresidentkey②">requireResidentKey</a> = <span class="kt">false</span>;
    <a class="n" data-link-type="idl-name" href="#enumdef-userverificationrequirement" id="ref-for-enumdef-userverificationrequirement">UserVerificationRequirement</a>  <a class="nv idl-code" data-default="&quot;preferred&quot;" data-link-type="dict-member" data-type="UserVerificationRequirement  " href="#dom-authenticatorselectioncriteria-userverification" id="ref-for-dom-authenticatorselectioncriteria-userverification②">userVerification</a> = "preferred";
};
</pre>
   <div>
    <dl>
     <dt data-md=""><dfn class="dfn-paneled idl-code" data-dfn-for="AuthenticatorSelectionCriteria" data-dfn-type="dict-member" data-export="" id="dom-authenticatorselectioncriteria-authenticatorattachment"><code>authenticatorAttachment</code></dfn>, <span> of type <a data-link-type="idl-name" href="#enumdef-authenticatorattachment" id="ref-for-enumdef-authenticatorattachment①">AuthenticatorAttachment</a></span>
     <dd data-md="">
      <p>If this member is <a data-link-type="dfn" href="https://heycam.github.io/webidl/#dfn-present" id="ref-for-dfn-present①⑦">present</a>, eligible authenticators are filtered to only authenticators attached with the
specified <a href="#attachment">§5.4.5 Authenticator Attachment enumeration (enum AuthenticatorAttachment)</a>.</p>
     <dt data-md=""><dfn class="dfn-paneled idl-code" data-dfn-for="AuthenticatorSelectionCriteria" data-dfn-type="dict-member" data-export="" id="dom-authenticatorselectioncriteria-requireresidentkey"><code>requireResidentKey</code></dfn>, <span> of type <a data-link-type="idl-name" href="https://heycam.github.io/webidl/#idl-boolean" id="ref-for-idl-boolean②">boolean</a>, defaulting to <code>false</code></span>
     <dd data-md="">
      <p>This member describes the <a data-link-type="dfn" href="#relying-party" id="ref-for-relying-party⑧②">Relying Parties</a>' requirements regarding availability of the <a data-link-type="dfn" href="#client-side-resident-credential-private-key" id="ref-for-client-side-resident-credential-private-key③">Client-side-resident Credential
Private Key</a>. If the parameter is set to <code>true</code>, the authenticator MUST create a <a data-link-type="dfn" href="#client-side-resident-credential-private-key" id="ref-for-client-side-resident-credential-private-key④">Client-side-resident Credential Private Key</a> when creating a <a data-link-type="dfn" href="#public-key-credential" id="ref-for-public-key-credential②⑥">public key credential</a>.</p>
     <dt data-md=""><dfn class="dfn-paneled idl-code" data-dfn-for="AuthenticatorSelectionCriteria" data-dfn-type="dict-member" data-export="" id="dom-authenticatorselectioncriteria-userverification"><code>userVerification</code></dfn>, <span> of type <a data-link-type="idl-name" href="#enumdef-userverificationrequirement" id="ref-for-enumdef-userverificationrequirement①">UserVerificationRequirement</a>, defaulting to <code>"preferred"</code></span>
     <dd data-md="">
      <p>This member describes the <a data-link-type="dfn" href="#relying-party" id="ref-for-relying-party⑧③">Relying Party</a>'s requirements regarding <a data-link-type="dfn" href="#user-verification" id="ref-for-user-verification②①">user verification</a> for the <code class="idl"><a data-link-type="idl" href="https://w3c.github.io/webappsec-credential-management/#dom-credentialscontainer-create" id="ref-for-dom-credentialscontainer-create①①">create()</a></code> operation. Eligible authenticators are filtered to only those capable of satisfying this
requirement.</p>
    </dl>
   </div>
   <h4 class="heading settled" data-level="5.4.5" id="attachment"><span class="secno">5.4.5. </span><span class="content">Authenticator Attachment enumeration (enum <dfn class="dfn-paneled idl-code" data-dfn-type="enum" data-export="" id="enumdef-authenticatorattachment"><code>AuthenticatorAttachment</code></dfn>)</span><a class="self-link" href="#attachment"></a></h4>
<pre class="idl highlight def"><span class="kt">enum</span> <a class="nv idl-code" data-link-type="enum" href="#enumdef-authenticatorattachment" id="ref-for-enumdef-authenticatorattachment②">AuthenticatorAttachment</a> {
    <a class="s idl-code" data-link-type="enum-value" href="#dom-authenticatorattachment-platform" id="ref-for-dom-authenticatorattachment-platform">"platform"</a>,
    <a class="s idl-code" data-link-type="enum-value" href="#dom-authenticatorattachment-cross-platform" id="ref-for-dom-authenticatorattachment-cross-platform">"cross-platform"</a>
};
</pre>
   <div>
    <dl>
     <dt data-md=""><dfn class="dfn-paneled idl-code" data-dfn-for="AuthenticatorAttachment" data-dfn-type="enum-value" data-export="" id="dom-authenticatorattachment-platform"><code>platform</code></dfn>
     <dd data-md="">
      <p>This value indicates <a data-link-type="dfn" href="#platform-attachment" id="ref-for-platform-attachment">platform attachment</a>.</p>
     <dt data-md=""><dfn class="dfn-paneled idl-code" data-dfn-for="AuthenticatorAttachment" data-dfn-type="enum-value" data-export="" id="dom-authenticatorattachment-cross-platform"><code>cross-platform</code></dfn>
     <dd data-md="">
      <p>This value indicates <a data-link-type="dfn" href="#cross-platform-attachment" id="ref-for-cross-platform-attachment">cross-platform attachment</a>.</p>
    </dl>
   </div>
   <p>Clients can communicate with authenticators using a variety of mechanisms. For example, a client MAY use a platform-specific
API to communicate with an authenticator which is physically bound to a platform. On the other hand, a client can use a
variety of standardized cross-platform transport protocols such as Bluetooth (see <a href="#transport">§5.10.4 Authenticator Transport enumeration (enum AuthenticatorTransport)</a>) to discover and
communicate with <a data-link-type="dfn" href="#cross-platform-attachment" id="ref-for-cross-platform-attachment①">cross-platform attached</a> authenticators. Therefore, we use <code class="idl"><a data-link-type="idl" href="#enumdef-authenticatorattachment" id="ref-for-enumdef-authenticatorattachment③">AuthenticatorAttachment</a></code> to describe an <a data-link-type="dfn" href="#authenticator" id="ref-for-authenticator⑤⑦">authenticator</a>'s <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport="" id="attachment-modality">attachment modality</dfn>. We define authenticators that are
part of the client’s platform as having a <a data-link-type="dfn" href="#platform-attachment" id="ref-for-platform-attachment①">platform attachment</a>, and refer to them as <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport="" id="platform-authenticators">platform authenticators</dfn>. While
those that are reachable via cross-platform transport protocols are defined as having <a data-link-type="dfn" href="#cross-platform-attachment" id="ref-for-cross-platform-attachment②">cross-platform attachment</a>, and refer to
them as <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport="" id="roaming-authenticators">roaming authenticators</dfn>.</p>
   <ul>
    <li data-md="">
     <p>An <a data-link-type="dfn" href="#authenticator" id="ref-for-authenticator⑤⑧">authenticator</a> with <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport="" id="platform-attachment">platform attachment</dfn> is attached using a platform-specific transport. Usually,
authenticators of this class are non-removable from the platform. A <a data-link-type="dfn" href="#public-key-credential" id="ref-for-public-key-credential②⑦">public key credential</a> bound to a <a data-link-type="dfn" href="#platform-authenticators" id="ref-for-platform-authenticators⑤">platform
authenticator</a> is called a <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport="" id="platform-credential">platform credential</dfn>.</p>
    <li data-md="">
     <p>An <a data-link-type="dfn" href="#authenticator" id="ref-for-authenticator⑤⑨">authenticator</a> with <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport="" id="cross-platform-attachment">cross-platform attachment</dfn> is attached using a cross-platform transport. Authenticators of
this class are removable from, and can "roam" among, client platforms. A <a data-link-type="dfn" href="#public-key-credential" id="ref-for-public-key-credential②⑧">public key credential</a> bound to a <a data-link-type="dfn" href="#roaming-authenticators" id="ref-for-roaming-authenticators②">roaming
authenticator</a> is called a <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport="" id="roaming-credential">roaming credential</dfn>.</p>
   </ul>
   <p>This distinction is important because there are use-cases where only <a data-link-type="dfn" href="#platform-authenticators" id="ref-for-platform-authenticators⑥">platform authenticators</a> are acceptable to a <a data-link-type="dfn" href="#relying-party" id="ref-for-relying-party⑧④">Relying Party</a>, and
conversely ones where only <a data-link-type="dfn" href="#roaming-authenticators" id="ref-for-roaming-authenticators③">roaming authenticators</a> are employed. As a concrete example of the former, a <a data-link-type="dfn" href="#platform-credential" id="ref-for-platform-credential">platform credential</a> may be used by <a data-link-type="dfn" href="#relying-party" id="ref-for-relying-party⑧⑤">Relying Parties</a> to quickly and conveniently reauthenticate the user with a minimum of friction, e.g., the user will not
have to dig around in their pocket for their key fob or phone. As a concrete example of the latter, when the user is accessing the <a data-link-type="dfn" href="#relying-party" id="ref-for-relying-party⑧⑥">Relying Party</a> from a given client for the first time, they may be asked to use a <a data-link-type="dfn" href="#roaming-credential" id="ref-for-roaming-credential">roaming credential</a> which was originally
registered with the <a data-link-type="dfn" href="#relying-party" id="ref-for-relying-party⑧⑦">Relying Party</a> using a different client.</p>
   <p class="note" role="note"><span>Note:</span> An <a data-link-type="dfn" href="#attachment-modality" id="ref-for-attachment-modality">attachment modality</a> selection option is available only in the <code class="idl"><a data-link-type="idl" href="#dom-publickeycredential-create-slot" id="ref-for-dom-publickeycredential-create-slot②">[[Create]](origin, options,
sameOriginWithAncestors)</a></code> operation. The <a data-link-type="dfn" href="#relying-party" id="ref-for-relying-party⑧⑧">Relying Party</a> may use it to, for example, ensure the user has a <a data-link-type="dfn" href="#roaming-credential" id="ref-for-roaming-credential①">roaming credential</a> for
authenticating using other <a data-link-type="dfn" href="#client" id="ref-for-client⑨">clients</a>; or to specifically register a <a data-link-type="dfn" href="#platform-credential" id="ref-for-platform-credential①">platform credential</a> for easier reauthentication using a
particular <a data-link-type="dfn" href="#client" id="ref-for-client①⓪">client</a>. The <code class="idl"><a data-link-type="idl" href="#dom-publickeycredential-discoverfromexternalsource-slot" id="ref-for-dom-publickeycredential-discoverfromexternalsource-slot③">[[DiscoverFromExternalSource]](origin, options, sameOriginWithAncestors)</a></code> operation has no <a data-link-type="dfn" href="#attachment-modality" id="ref-for-attachment-modality①">attachment modality</a> selection option, so the <a data-link-type="dfn" href="#relying-party" id="ref-for-relying-party⑧⑨">Relying Party</a> should accept any of the user’s registered <a data-link-type="dfn" href="#public-key-credential" id="ref-for-public-key-credential②⑨">credentials</a>. The <a data-link-type="dfn" href="#client" id="ref-for-client①①">client</a> and user will then use whichever is available and convenient at the time.</p>
   <h4 class="heading settled" data-level="5.4.6" id="attestation-convey"><span class="secno">5.4.6. </span><span class="content"><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport="" id="attestation-conveyance">Attestation Conveyance</dfn> Preference enumeration (enum <dfn class="dfn-paneled idl-code" data-dfn-type="enum" data-export="" id="enumdef-attestationconveyancepreference"><code>AttestationConveyancePreference</code></dfn>)</span><a class="self-link" href="#attestation-convey"></a></h4>
   <p><a data-link-type="dfn" href="#relying-party" id="ref-for-relying-party⑨⓪">Relying Parties</a> may use <code class="idl"><a data-link-type="idl" href="#enumdef-attestationconveyancepreference" id="ref-for-enumdef-attestationconveyancepreference②">AttestationConveyancePreference</a></code> to specify their preference regarding <a data-link-type="dfn" href="#attestation-conveyance" id="ref-for-attestation-conveyance②">attestation conveyance</a> during credential generation.</p>
<pre class="idl highlight def"><span class="kt">enum</span> <a class="nv idl-code" data-link-type="enum" href="#enumdef-attestationconveyancepreference" id="ref-for-enumdef-attestationconveyancepreference③">AttestationConveyancePreference</a> {
    <a class="s idl-code" data-link-type="enum-value" href="#dom-attestationconveyancepreference-none" id="ref-for-dom-attestationconveyancepreference-none①">"none"</a>,
    <a class="s idl-code" data-link-type="enum-value" href="#dom-attestationconveyancepreference-indirect" id="ref-for-dom-attestationconveyancepreference-indirect">"indirect"</a>,
    <a class="s idl-code" data-link-type="enum-value" href="#dom-attestationconveyancepreference-direct" id="ref-for-dom-attestationconveyancepreference-direct">"direct"</a>
};
</pre>
   <div>
    <dl>
     <dt data-md=""><dfn class="dfn-paneled idl-code" data-dfn-for="AttestationConveyancePreference" data-dfn-type="enum-value" data-export="" id="dom-attestationconveyancepreference-none"><code>none</code></dfn>
     <dd data-md="">
      <p>This value indicates that the <a data-link-type="dfn" href="#relying-party" id="ref-for-relying-party⑨①">Relying Party</a> is not interested in <a data-link-type="dfn" href="#authenticator" id="ref-for-authenticator⑥⓪">authenticator</a> <a data-link-type="dfn" href="#attestation" id="ref-for-attestation④">attestation</a>. For example, in order to
potentially avoid having to obtain <a data-link-type="dfn" href="#user-consent" id="ref-for-user-consent①②">user consent</a> to relay identifying information to the <a data-link-type="dfn" href="#relying-party" id="ref-for-relying-party⑨②">Relying Party</a>, or to save a
roundtrip to an <a data-link-type="dfn" href="#attestation-ca" id="ref-for-attestation-ca">Attestation CA</a>.</p>
      <p>This is the default value.</p>
     <dt data-md=""><dfn class="dfn-paneled idl-code" data-dfn-for="AttestationConveyancePreference" data-dfn-type="enum-value" data-export="" id="dom-attestationconveyancepreference-indirect"><code>indirect</code></dfn>
     <dd data-md="">
      <p>This value indicates that the <a data-link-type="dfn" href="#relying-party" id="ref-for-relying-party⑨③">Relying Party</a> prefers an <a data-link-type="dfn" href="#attestation" id="ref-for-attestation⑤">attestation</a> conveyance yielding verifiable <a data-link-type="dfn" href="#attestation-statement" id="ref-for-attestation-statement⑦">attestation
statements</a>, but allows the client to decide how to obtain such <a data-link-type="dfn" href="#attestation-statement" id="ref-for-attestation-statement⑧">attestation statements</a>.  The client MAY replace the
authenticator-generated <a data-link-type="dfn" href="#attestation-statement" id="ref-for-attestation-statement⑨">attestation statements</a> with <a data-link-type="dfn" href="#attestation-statement" id="ref-for-attestation-statement①⓪">attestation statements</a> generated by an <a data-link-type="dfn" href="#anonymization-ca" id="ref-for-anonymization-ca①">Anonymization CA</a>,
in order to protect the user’s privacy, or to assist <a data-link-type="dfn" href="#relying-party" id="ref-for-relying-party⑨④">Relying Parties</a> with attestation verification in a heterogeneous ecosystem.</p>
      <p class="note" role="note"><span>Note:</span> There is no guarantee that the <a data-link-type="dfn" href="#relying-party" id="ref-for-relying-party⑨⑤">Relying Party</a> will obtain a verifiable <a data-link-type="dfn" href="#attestation-statement" id="ref-for-attestation-statement①①">attestation statement</a> in this case.
For example, in the case that the authenticator employs <a data-link-type="dfn" href="#self-attestation" id="ref-for-self-attestation⑤">self attestation</a>.</p>
     <dt data-md=""><dfn class="dfn-paneled idl-code" data-dfn-for="AttestationConveyancePreference" data-dfn-type="enum-value" data-export="" id="dom-attestationconveyancepreference-direct"><code>direct</code></dfn>
     <dd data-md="">
      <p>This value indicates that the <a data-link-type="dfn" href="#relying-party" id="ref-for-relying-party⑨⑥">Relying Party</a> wants to receive the <a data-link-type="dfn" href="#attestation-statement" id="ref-for-attestation-statement①②">attestation statement</a> as generated by the <a data-link-type="dfn" href="#authenticator" id="ref-for-authenticator⑥①">authenticator</a>.</p>
    </dl>
   </div>
   <h3 class="heading settled" data-level="5.5" id="assertion-options"><span class="secno">5.5. </span><span class="content">Options for Assertion Generation (dictionary <dfn class="dfn-paneled idl-code" data-dfn-type="dictionary" data-export="" id="dictdef-publickeycredentialrequestoptions"><code>PublicKeyCredentialRequestOptions</code></dfn>)</span><a class="self-link" href="#assertion-options"></a></h3>
   <p>The <code class="idl"><a data-link-type="idl" href="#dictdef-publickeycredentialrequestoptions" id="ref-for-dictdef-publickeycredentialrequestoptions②">PublicKeyCredentialRequestOptions</a></code> dictionary supplies <code class="idl"><a data-link-type="idl" href="https://w3c.github.io/webappsec-credential-management/#dom-credentialscontainer-get" id="ref-for-dom-credentialscontainer-get①①">get()</a></code> with the data it needs to generate
an assertion. Its <code class="idl"><a data-link-type="idl" href="#dom-publickeycredentialrequestoptions-challenge" id="ref-for-dom-publickeycredentialrequestoptions-challenge①">challenge</a></code> member MUST be present, while its other members are OPTIONAL.</p>
<pre class="idl highlight def"><span class="kt">dictionary</span> <a class="nv idl-code" data-link-type="dictionary" href="#dictdef-publickeycredentialrequestoptions" id="ref-for-dictdef-publickeycredentialrequestoptions③">PublicKeyCredentialRequestOptions</a> {
    <span class="kt">required</span> <a class="n" data-link-type="idl-name" href="https://heycam.github.io/webidl/#BufferSource" id="ref-for-BufferSource④">BufferSource</a>                <a class="nv idl-code" data-link-type="dict-member" data-type="BufferSource                " href="#dom-publickeycredentialrequestoptions-challenge" id="ref-for-dom-publickeycredentialrequestoptions-challenge②">challenge</a>;
    <a class="n idl-code" data-link-type="interface" href="https://heycam.github.io/webidl/#idl-unsigned-long" id="ref-for-idl-unsigned-long②"><span class="kt">unsigned</span> <span class="kt">long</span></a>                        <a class="nv idl-code" data-link-type="dict-member" data-type="unsigned long                        " href="#dom-publickeycredentialrequestoptions-timeout" id="ref-for-dom-publickeycredentialrequestoptions-timeout②">timeout</a>;
    <a class="n idl-code" data-link-type="interface" href="https://heycam.github.io/webidl/#idl-USVString" id="ref-for-idl-USVString②"><span class="kt">USVString</span></a>                            <a class="nv idl-code" data-link-type="dict-member" data-type="USVString                            " href="#dom-publickeycredentialrequestoptions-rpid" id="ref-for-dom-publickeycredentialrequestoptions-rpid④">rpId</a>;
    <span class="kt">sequence</span>&lt;<a class="n" data-link-type="idl-name" href="#dictdef-publickeycredentialdescriptor" id="ref-for-dictdef-publickeycredentialdescriptor②">PublicKeyCredentialDescriptor</a>> <a class="nv idl-code" data-default="None" data-link-type="dict-member" data-type="sequence<PublicKeyCredentialDescriptor> " href="#dom-publickeycredentialrequestoptions-allowcredentials" id="ref-for-dom-publickeycredentialrequestoptions-allowcredentials④">allowCredentials</a> = [];
    <a class="n" data-link-type="idl-name" href="#enumdef-userverificationrequirement" id="ref-for-enumdef-userverificationrequirement②">UserVerificationRequirement</a>          <a class="nv idl-code" data-default="&quot;preferred&quot;" data-link-type="dict-member" data-type="UserVerificationRequirement          " href="#dom-publickeycredentialrequestoptions-userverification" id="ref-for-dom-publickeycredentialrequestoptions-userverification②">userVerification</a> = "preferred";
    <a class="n" data-link-type="idl-name" href="#dictdef-authenticationextensionsclientinputs" id="ref-for-dictdef-authenticationextensionsclientinputs②">AuthenticationExtensionsClientInputs</a> <a class="nv idl-code" data-link-type="dict-member" data-type="AuthenticationExtensionsClientInputs " href="#dom-publickeycredentialrequestoptions-extensions" id="ref-for-dom-publickeycredentialrequestoptions-extensions②">extensions</a>;
};
</pre>
   <dl>
    <dt data-md=""><dfn class="dfn-paneled idl-code" data-dfn-for="PublicKeyCredentialRequestOptions" data-dfn-type="dict-member" data-export="" id="dom-publickeycredentialrequestoptions-challenge"><code>challenge</code></dfn>, <span> of type <a data-link-type="idl-name" href="https://heycam.github.io/webidl/#BufferSource" id="ref-for-BufferSource⑤">BufferSource</a></span>
    <dd data-md="">
     <p>This member represents a challenge that the selected <a data-link-type="dfn" href="#authenticator" id="ref-for-authenticator⑥②">authenticator</a> signs, along with other data, when producing an <a data-link-type="dfn" href="#authentication-assertion" id="ref-for-authentication-assertion①①">authentication assertion</a>. See the <a href="#cryptographic-challenges">§13.1 Cryptographic Challenges</a> security consideration.</p>
    <dt data-md=""><dfn class="dfn-paneled idl-code" data-dfn-for="PublicKeyCredentialRequestOptions" data-dfn-type="dict-member" data-export="" id="dom-publickeycredentialrequestoptions-timeout"><code>timeout</code></dfn>, <span> of type <a data-link-type="idl-name" href="https://heycam.github.io/webidl/#idl-unsigned-long" id="ref-for-idl-unsigned-long③">unsigned long</a></span>
    <dd data-md="">
     <p>This OPTIONAL member specifies a time, in milliseconds, that the caller is willing to wait for the call to complete.
The value is treated as a hint, and MAY be overridden by the platform.</p>
    <dt data-md=""><dfn class="dfn-paneled idl-code" data-dfn-for="PublicKeyCredentialRequestOptions" data-dfn-type="dict-member" data-export="" id="dom-publickeycredentialrequestoptions-rpid"><code>rpId</code></dfn>, <span> of type <a data-link-type="idl-name" href="https://heycam.github.io/webidl/#idl-USVString" id="ref-for-idl-USVString③">USVString</a></span>
    <dd data-md="">
     <p>This optional member specifies the <a data-link-type="dfn" href="#relying-party-identifier" id="ref-for-relying-party-identifier③">relying party identifier</a> claimed by the caller. If omitted, its value will
be the <code class="idl"><a data-link-type="idl" href="https://w3c.github.io/webappsec-credential-management/#credentialscontainer" id="ref-for-credentialscontainer②">CredentialsContainer</a></code> object’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#relevant-settings-object" id="ref-for-relevant-settings-object④">relevant settings object</a>'s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-settings-object-origin" id="ref-for-concept-settings-object-origin⑦">origin</a>'s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/origin.html#concept-origin-effective-domain" id="ref-for-concept-origin-effective-domain①③">effective domain</a>.</p>
    <dt data-md=""><dfn class="dfn-paneled idl-code" data-dfn-for="PublicKeyCredentialRequestOptions" data-dfn-type="dict-member" data-export="" id="dom-publickeycredentialrequestoptions-allowcredentials"><code>allowCredentials</code></dfn>, <span> of type sequence&lt;<a data-link-type="idl-name" href="#dictdef-publickeycredentialdescriptor" id="ref-for-dictdef-publickeycredentialdescriptor③">PublicKeyCredentialDescriptor</a>>, defaulting to <code>None</code></span>
    <dd data-md="">
     <p>This optional member contains a list of <code class="idl"><a data-link-type="idl" href="#dictdef-publickeycredentialdescriptor" id="ref-for-dictdef-publickeycredentialdescriptor④">PublicKeyCredentialDescriptor</a></code> objects representing <a data-link-type="dfn" href="#public-key-credential" id="ref-for-public-key-credential③⓪">public key credentials</a> acceptable to the caller, in descending order of the caller’s preference (the first item in the list is the most
preferred credential, and so on down the list).</p>
    <dt data-md=""><dfn class="dfn-paneled idl-code" data-dfn-for="PublicKeyCredentialRequestOptions" data-dfn-type="dict-member" data-export="" id="dom-publickeycredentialrequestoptions-userverification"><code>userVerification</code></dfn>, <span> of type <a data-link-type="idl-name" href="#enumdef-userverificationrequirement" id="ref-for-enumdef-userverificationrequirement③">UserVerificationRequirement</a>, defaulting to <code>"preferred"</code></span>
    <dd data-md="">
     <p>This member describes the <a data-link-type="dfn" href="#relying-party" id="ref-for-relying-party⑨⑦">Relying Party</a>'s requirements regarding <a data-link-type="dfn" href="#user-verification" id="ref-for-user-verification②②">user verification</a> for the <code class="idl"><a data-link-type="idl" href="https://w3c.github.io/webappsec-credential-management/#dom-credentialscontainer-get" id="ref-for-dom-credentialscontainer-get①②">get()</a></code> operation. Eligible authenticators are filtered to only those capable of satisfying this
requirement.</p>
    <dt data-md=""><dfn class="dfn-paneled idl-code" data-dfn-for="PublicKeyCredentialRequestOptions" data-dfn-type="dict-member" data-export="" id="dom-publickeycredentialrequestoptions-extensions"><code>extensions</code></dfn>, <span> of type <a data-link-type="idl-name" href="#dictdef-authenticationextensionsclientinputs" id="ref-for-dictdef-authenticationextensionsclientinputs③">AuthenticationExtensionsClientInputs</a></span>
    <dd data-md="">
     <p>This OPTIONAL member contains additional parameters requesting additional processing by the client and authenticator.
For example, if transaction confirmation is sought from the user, then the prompt string might be included as an
extension.</p>
   </dl>
   <h3 class="heading settled" data-level="5.6" id="abortoperation"><span class="secno">5.6. </span><span class="content">Abort operations with <code>AbortSignal</code></span><a class="self-link" href="#abortoperation"></a></h3>
   <p>Developers are encouraged to leverage the <code class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#abortcontroller" id="ref-for-abortcontroller①">AbortController</a></code> to manage the <code class="idl"><a data-link-type="idl" href="#dom-publickeycredential-create-slot" id="ref-for-dom-publickeycredential-create-slot③">[[Create]](origin, options, sameOriginWithAncestors)</a></code> and <code class="idl"><a data-link-type="idl" href="#dom-publickeycredential-discoverfromexternalsource-slot" id="ref-for-dom-publickeycredential-discoverfromexternalsource-slot④">[[DiscoverFromExternalSource]](origin, options, sameOriginWithAncestors)</a></code> operations.
See <a href="https://dom.spec.whatwg.org/#abortcontroller-api-integration">DOM §3.3 Using AbortController and AbortSignal objects in APIs</a> section for detailed instructions.</p>
   <p class="note" role="note"><span>Note:</span> <a href="https://dom.spec.whatwg.org/#abortcontroller-api-integration">DOM §3.3 Using AbortController and AbortSignal objects in APIs</a> section specifies that web platform APIs integrating with the <code class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#abortcontroller" id="ref-for-abortcontroller②">AbortController</a></code> must reject the promise immediately once the <a data-link-type="dfn" href="https://dom.spec.whatwg.org/#abortsignal-aborted-flag" id="ref-for-abortsignal-aborted-flag④">aborted flag</a> is set. 
    Given the complex inheritance and parallelization structure of the <code class="idl"><a data-link-type="idl" href="#dom-publickeycredential-create-slot" id="ref-for-dom-publickeycredential-create-slot④">[[Create]](origin, options, sameOriginWithAncestors)</a></code> and <code class="idl"><a data-link-type="idl" href="#dom-publickeycredential-discoverfromexternalsource-slot" id="ref-for-dom-publickeycredential-discoverfromexternalsource-slot⑤">[[DiscoverFromExternalSource]](origin, options, sameOriginWithAncestors)</a></code> methods, the algorithms for the two APIs fulfills this
    requirement by checking the <a data-link-type="dfn" href="https://dom.spec.whatwg.org/#abortsignal-aborted-flag" id="ref-for-abortsignal-aborted-flag⑤">aborted flag</a> in three places. In the case of <code class="idl"><a data-link-type="idl" href="#dom-publickeycredential-create-slot" id="ref-for-dom-publickeycredential-create-slot⑤">[[Create]](origin, options, sameOriginWithAncestors)</a></code>, the aborted flag is checked first in <a href="https://www.w3.org/TR/credential-management-1/#algorithm-create">Credential Management 1 §2.5.4 Create a Credential</a> immediately before calling <code class="idl"><a data-link-type="idl" href="https://w3c.github.io/webappsec-credential-management/#create-origin-options-sameoriginwithancestors" id="ref-for-create-origin-options-sameoriginwithancestors">[[Create]](origin, options, sameOriginWithAncestors)</a></code>,
    then in <a href="#createCredential">§5.1.3 Create a new credential - PublicKeyCredential’s [[Create]](origin, options, sameOriginWithAncestors) method</a> right before <a data-link-type="dfn" href="#authenticator-session" id="ref-for-authenticator-session">authenticator sessions</a> start, and finally
    during <a data-link-type="dfn" href="#authenticator-session" id="ref-for-authenticator-session①">authenticator sessions</a>. The same goes for <code class="idl"><a data-link-type="idl" href="#dom-publickeycredential-discoverfromexternalsource-slot" id="ref-for-dom-publickeycredential-discoverfromexternalsource-slot⑥">[[DiscoverFromExternalSource]](origin, options, sameOriginWithAncestors)</a></code>.</p>
   <p>The <a data-link-type="dfn" href="https://www.w3.org/TR/page-visibility/#visibility-states" id="ref-for-visibility-states">visibility</a> and <a data-link-type="dfn" href="https://html.spec.whatwg.org/#focus" id="ref-for-focus">focus</a> state of the <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-request-window" id="ref-for-concept-request-window">Window</a> object determines whether the <code class="idl"><a data-link-type="idl" href="#dom-publickeycredential-create-slot" id="ref-for-dom-publickeycredential-create-slot⑥">[[Create]](origin, options, sameOriginWithAncestors)</a></code> and <code class="idl"><a data-link-type="idl" href="#dom-publickeycredential-discoverfromexternalsource-slot" id="ref-for-dom-publickeycredential-discoverfromexternalsource-slot⑦">[[DiscoverFromExternalSource]](origin, options, sameOriginWithAncestors)</a></code> operations
should continue. When the <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-request-window" id="ref-for-concept-request-window①">Window</a> object associated with the [<a data-link-type="dfn" href="https://dom.spec.whatwg.org/#concept-document" id="ref-for-concept-document">Document</a> loses focus, <code class="idl"><a data-link-type="idl" href="#dom-publickeycredential-create-slot" id="ref-for-dom-publickeycredential-create-slot⑦">[[Create]](origin, options, sameOriginWithAncestors)</a></code> and <code class="idl"><a data-link-type="idl" href="#dom-publickeycredential-discoverfromexternalsource-slot" id="ref-for-dom-publickeycredential-discoverfromexternalsource-slot⑧">[[DiscoverFromExternalSource]](origin, options, sameOriginWithAncestors)</a></code> operations
SHOULD be aborted.</p>
   <p class="issue" id="issue-c0359d2a"><a class="self-link" href="#issue-c0359d2a"></a> The WHATWG HTML WG is discussing whether to provide a hook when a browsing context gains or
    loses focuses. If a hook is provided, the above paragraph will be updated to include the hook.
    See <a href="https://github.com/whatwg/html/issues/2711">WHATWG HTML WG Issue #2711</a> for more details.</p>
   <h3 class="heading settled" data-level="5.7" id="iface-authentication-extensions-client-inputs"><span class="secno">5.7. </span><span class="content">Authentication Extensions Client Inputs (typedef <code class="idl"><a data-link-type="idl" href="#dictdef-authenticationextensionsclientinputs" id="ref-for-dictdef-authenticationextensionsclientinputs④">AuthenticationExtensionsClientInputs</a></code>)</span><a class="self-link" href="#iface-authentication-extensions-client-inputs"></a></h3>
<pre class="idl highlight def"><span class="kt">dictionary</span> <dfn class="nv dfn-paneled idl-code" data-dfn-type="dictionary" data-export="" id="dictdef-authenticationextensionsclientinputs"><code>AuthenticationExtensionsClientInputs</code></dfn> {
};
</pre>
   <p>This is a dictionary containing the <a data-link-type="dfn" href="#client-extension-input" id="ref-for-client-extension-input">client extension input</a> values for zero or more WebAuthn extensions, as defined in <a href="#extensions">§9 WebAuthn Extensions</a>.</p>
   <h3 class="heading settled" data-level="5.8" id="iface-authentication-extensions-client-outputs"><span class="secno">5.8. </span><span class="content">Authentication Extensions Client Outputs (typedef <code class="idl"><a data-link-type="idl" href="#dictdef-authenticationextensionsclientoutputs" id="ref-for-dictdef-authenticationextensionsclientoutputs③">AuthenticationExtensionsClientOutputs</a></code>)</span><a class="self-link" href="#iface-authentication-extensions-client-outputs"></a></h3>
<pre class="idl highlight def"><span class="kt">dictionary</span> <dfn class="nv dfn-paneled idl-code" data-dfn-type="dictionary" data-export="" id="dictdef-authenticationextensionsclientoutputs"><code>AuthenticationExtensionsClientOutputs</code></dfn> {
};
</pre>
   <p>This is a dictionary containing the <a data-link-type="dfn" href="#client-extension-output" id="ref-for-client-extension-output⑤">client extension output</a> values for zero or more WebAuthn extensions, as defined in <a href="#extensions">§9 WebAuthn Extensions</a>.</p>
   <h3 class="heading settled" data-level="5.9" id="iface-authentication-extensions-authenticator-inputs"><span class="secno">5.9. </span><span class="content">Authentication Extensions Authenticator Inputs (typedef <code class="idl"><a data-link-type="idl" href="#typedefdef-authenticationextensionsauthenticatorinputs" id="ref-for-typedefdef-authenticationextensionsauthenticatorinputs">AuthenticationExtensionsAuthenticatorInputs</a></code>)</span><a class="self-link" href="#iface-authentication-extensions-authenticator-inputs"></a></h3>
<pre class="idl highlight def"><span class="kt">typedef</span> <span class="kt">record</span>&lt;<a class="n idl-code" data-link-type="interface" href="https://heycam.github.io/webidl/#idl-DOMString" id="ref-for-idl-DOMString⑥"><span class="kt">DOMString</span></a>, <a class="n idl-code" data-link-type="interface" href="https://heycam.github.io/webidl/#idl-DOMString" id="ref-for-idl-DOMString⑦"><span class="kt">DOMString</span></a>> <dfn class="nv dfn-paneled idl-code" data-dfn-type="typedef" data-export="" id="typedefdef-authenticationextensionsauthenticatorinputs"><code>AuthenticationExtensionsAuthenticatorInputs</code></dfn>;
</pre>
   <p>This is a dictionary containing the <a data-link-type="dfn" href="#authenticator-extension-input" id="ref-for-authenticator-extension-input">authenticator extension input</a> values for zero or more WebAuthn extensions, as defined in <a href="#extensions">§9 WebAuthn Extensions</a>.</p>
   <h3 class="heading settled" data-level="5.10" id="supporting-data-structures"><span class="secno">5.10. </span><span class="content">Supporting Data Structures</span><a class="self-link" href="#supporting-data-structures"></a></h3>
   <p>The <a data-link-type="dfn" href="#public-key-credential" id="ref-for-public-key-credential③①">public key credential</a> type uses certain data structures that are specified in supporting specifications. These are as
follows.</p>
   <h4 class="heading settled" data-level="5.10.1" id="sec-client-data"><span class="secno">5.10.1. </span><span class="content">Client data used in WebAuthn signatures (dictionary <dfn class="dfn-paneled idl-code" data-dfn-type="dictionary" data-export="" id="dictdef-collectedclientdata"><code>CollectedClientData</code></dfn>)</span><a class="self-link" href="#sec-client-data"></a></h4>
   <p>The <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport="" id="client-data">client data</dfn> represents the contextual bindings of both the <a data-link-type="dfn" href="#relying-party" id="ref-for-relying-party⑨⑧">Relying Party</a> and the client platform. It is a key-value
mapping whose keys are strings. Values can be any type that has a valid encoding in JSON. Its structure is defined by the
following Web IDL.</p>
   <p class="note" role="note"><span>Note:</span> The <code class="idl"><a data-link-type="idl" href="#dictdef-collectedclientdata" id="ref-for-dictdef-collectedclientdata②">CollectedClientData</a></code> may be extended in the future. Therefore it’s critical when parsing to be tolerant of unknown keys and of any reordering of the keys.</p>
<pre class="idl highlight def"><span class="kt">dictionary</span> <a class="nv idl-code" data-link-type="dictionary" href="#dictdef-collectedclientdata" id="ref-for-dictdef-collectedclientdata③">CollectedClientData</a> {
    <span class="kt">required</span> <a class="n idl-code" data-link-type="interface" href="https://heycam.github.io/webidl/#idl-DOMString" id="ref-for-idl-DOMString⑧"><span class="kt">DOMString</span></a>           <a class="nv idl-code" data-link-type="dict-member" data-type="DOMString           " href="#dom-collectedclientdata-type" id="ref-for-dom-collectedclientdata-type②">type</a>;
    <span class="kt">required</span> <a class="n idl-code" data-link-type="interface" href="https://heycam.github.io/webidl/#idl-DOMString" id="ref-for-idl-DOMString⑨"><span class="kt">DOMString</span></a>           <a class="nv idl-code" data-link-type="dict-member" data-type="DOMString           " href="#dom-collectedclientdata-challenge" id="ref-for-dom-collectedclientdata-challenge②">challenge</a>;
    <span class="kt">required</span> <a class="n idl-code" data-link-type="interface" href="https://heycam.github.io/webidl/#idl-DOMString" id="ref-for-idl-DOMString①⓪"><span class="kt">DOMString</span></a>           <a class="nv idl-code" data-link-type="dict-member" data-type="DOMString           " href="#dom-collectedclientdata-origin" id="ref-for-dom-collectedclientdata-origin②">origin</a>;
    <a class="n" data-link-type="idl-name" href="#dictdef-tokenbinding" id="ref-for-dictdef-tokenbinding">TokenBinding</a>                 <a class="nv idl-code" data-link-type="dict-member" data-type="TokenBinding                 " href="#dom-collectedclientdata-tokenbinding" id="ref-for-dom-collectedclientdata-tokenbinding②">tokenBinding</a>;
};

<span class="kt">dictionary</span> <dfn class="nv dfn-paneled idl-code" data-dfn-type="dictionary" data-export="" id="dictdef-tokenbinding"><code>TokenBinding</code></dfn> {
    <span class="kt">required</span> <a class="n" data-link-type="idl-name" href="#enumdef-tokenbindingstatus" id="ref-for-enumdef-tokenbindingstatus">TokenBindingStatus</a> <a class="nv idl-code" data-link-type="dict-member" data-type="TokenBindingStatus " href="#dom-tokenbinding-status" id="ref-for-dom-tokenbinding-status">status</a>;
    <a class="n idl-code" data-link-type="interface" href="https://heycam.github.io/webidl/#idl-DOMString" id="ref-for-idl-DOMString①①"><span class="kt">DOMString</span></a> <a class="nv idl-code" data-link-type="dict-member" data-type="DOMString " href="#dom-tokenbinding-id" id="ref-for-dom-tokenbinding-id">id</a>;
};

<span class="kt">enum</span> <dfn class="nv dfn-paneled idl-code" data-dfn-type="enum" data-export="" id="enumdef-tokenbindingstatus"><code>TokenBindingStatus</code></dfn> { <a class="s idl-code" data-link-type="enum-value" href="#dom-tokenbindingstatus-present" id="ref-for-dom-tokenbindingstatus-present">"present"</a>, <a class="s idl-code" data-link-type="enum-value" href="#dom-tokenbindingstatus-supported" id="ref-for-dom-tokenbindingstatus-supported">"supported"</a>, <a class="s idl-code" data-link-type="enum-value" href="#dom-tokenbindingstatus-not-supported" id="ref-for-dom-tokenbindingstatus-not-supported">"not-supported"</a> };
</pre>
   <div>
    <dl>
     <dt data-md=""><dfn class="dfn-paneled idl-code" data-dfn-for="CollectedClientData" data-dfn-type="dict-member" data-export="" id="dom-collectedclientdata-type"><code>type</code></dfn>, <span> of type <a data-link-type="idl-name" href="https://heycam.github.io/webidl/#idl-DOMString" id="ref-for-idl-DOMString①②">DOMString</a></span>
     <dd data-md="">
      <p>This member contains the string "webauthn.create" when creating new credentials, and "webauthn.get" when getting an
assertion from an existing credential. The purpose of this member is to prevent certain types of signature confusion
attacks (where an attacker substitutes one legitimate signature for another).</p>
     <dt data-md=""><dfn class="dfn-paneled idl-code" data-dfn-for="CollectedClientData" data-dfn-type="dict-member" data-export="" id="dom-collectedclientdata-challenge"><code>challenge</code></dfn>, <span> of type <a data-link-type="idl-name" href="https://heycam.github.io/webidl/#idl-DOMString" id="ref-for-idl-DOMString①③">DOMString</a></span>
     <dd data-md="">
      <p>This member contains the base64url encoding of the challenge provided by the RP. See the <a href="#cryptographic-challenges">§13.1 Cryptographic Challenges</a> security consideration.</p>
     <dt data-md=""><dfn class="dfn-paneled idl-code" data-dfn-for="CollectedClientData" data-dfn-type="dict-member" data-export="" id="dom-collectedclientdata-origin"><code>origin</code></dfn>, <span> of type <a data-link-type="idl-name" href="https://heycam.github.io/webidl/#idl-DOMString" id="ref-for-idl-DOMString①④">DOMString</a></span>
     <dd data-md="">
      <p>This member contains the fully qualified <a data-link-type="dfn" href="https://w3c.github.io/html/browsers.html#concept-cross-origin" id="ref-for-concept-cross-origin①②">origin</a> of the requester, as provided to the authenticator by the client, in
the syntax defined by <a data-link-type="biblio" href="#biblio-rfc6454">[RFC6454]</a>.</p>
     <dt data-md=""><dfn class="dfn-paneled idl-code" data-dfn-for="CollectedClientData" data-dfn-type="dict-member" data-export="" id="dom-collectedclientdata-tokenbinding"><code>tokenBinding</code></dfn>, <span> of type <a data-link-type="idl-name" href="#dictdef-tokenbinding" id="ref-for-dictdef-tokenbinding①">TokenBinding</a></span>
     <dd data-md="">
      <p>This member contains information about the state of the <a data-link-type="dfn" href="https://tools.ietf.org/html/draft-ietf-tokbind-protocol#token-binding" id="ref-for-token-binding②">Token Binding</a> protocol used when communicating with the <a data-link-type="dfn" href="#relying-party" id="ref-for-relying-party⑨⑨">Relying Party</a>.</p>
      <div>
       <dl>
        <dt data-md=""><dfn class="dfn-paneled idl-code" data-dfn-for="TokenBinding" data-dfn-type="dict-member" data-export="" id="dom-tokenbinding-status"><code>status</code></dfn>, <span> of type <a data-link-type="idl-name" href="#enumdef-tokenbindingstatus" id="ref-for-enumdef-tokenbindingstatus①">TokenBindingStatus</a></span>
        <dd data-md="">
         <p>This member is one of the following:</p>
         <div>
          <dl>
           <dt data-md=""><dfn class="dfn-paneled idl-code" data-dfn-for="TokenBindingStatus" data-dfn-type="enum-value" data-export="" id="dom-tokenbindingstatus-not-supported"><code>not-supported</code></dfn>
           <dd data-md="">
            <p>Indicates the client does not support token binding.</p>
           <dt data-md=""><dfn class="dfn-paneled idl-code" data-dfn-for="TokenBindingStatus" data-dfn-type="enum-value" data-export="" id="dom-tokenbindingstatus-supported"><code>supported</code></dfn>
           <dd data-md="">
            <p>Indicates the client supports token binding, but it was not negotiated when communicating with the <a data-link-type="dfn" href="#relying-party" id="ref-for-relying-party①⓪⓪">Relying Party</a>.</p>
           <dt data-md=""><dfn class="dfn-paneled idl-code" data-dfn-for="TokenBindingStatus" data-dfn-type="enum-value" data-export="" id="dom-tokenbindingstatus-present"><code>present</code></dfn>
           <dd data-md="">
            <p>Indicates token binding was used when communicating with the <a data-link-type="dfn" href="#relying-party" id="ref-for-relying-party①⓪①">Relying Party</a>. In this case, the <code class="idl"><a data-link-type="idl" href="#dom-tokenbinding-id" id="ref-for-dom-tokenbinding-id①">id</a></code> member MUST be present.</p>
          </dl>
         </div>
        <dt data-md=""><dfn class="dfn-paneled idl-code" data-dfn-for="TokenBinding" data-dfn-type="dict-member" data-export="" id="dom-tokenbinding-id"><code>id</code></dfn>, <span> of type <a data-link-type="idl-name" href="https://heycam.github.io/webidl/#idl-DOMString" id="ref-for-idl-DOMString①⑤">DOMString</a></span>
        <dd data-md="">
         <p>This member MUST be present if <code class="idl"><a data-link-type="idl" href="#dom-tokenbinding-status" id="ref-for-dom-tokenbinding-status①">status</a></code> is <code class="idl"><a data-link-type="idl" href="#dom-tokenbindingstatus-present" id="ref-for-dom-tokenbindingstatus-present①">present</a></code>, and MUST a <a data-link-type="dfn" href="#base64url-encoding" id="ref-for-base64url-encoding⑤">base64url
encoding</a> of the <a data-link-type="dfn" href="https://tools.ietf.org/html/draft-ietf-tokbind-protocol#section-3.2" id="ref-for-section-3.2②">Token Binding ID</a> that was used when communicating with the <a data-link-type="dfn" href="#relying-party" id="ref-for-relying-party①⓪②">Relying Party</a>.</p>
       </dl>
      </div>
    </dl>
    <p>The <code class="idl"><a data-link-type="idl" href="#dictdef-collectedclientdata" id="ref-for-dictdef-collectedclientdata④">CollectedClientData</a></code> structure is used by the client to compute the following quantities:</p>
    <dl>
     <dt data-md=""><dfn class="dfn-paneled" data-dfn-for="CollectedClientData" data-dfn-type="dfn" data-noexport="" id="collectedclientdata-json-serialized-client-data">JSON-serialized client data</dfn>
     <dd data-md="">
      <p>This is the <a data-link-type="dfn" href="https://encoding.spec.whatwg.org/#utf-8-encode" id="ref-for-utf-8-encode">UTF-8 encoding</a> of the result of calling the initial value of <code class="idl"><a data-link-type="idl" href="https://tc39.github.io/ecma262/#sec-json.stringify" id="ref-for-sec-json.stringify">JSON.stringify</a></code> on a <code class="idl"><a data-link-type="idl" href="#dictdef-collectedclientdata" id="ref-for-dictdef-collectedclientdata⑤">CollectedClientData</a></code> dictionary.</p>
     <dt data-md=""><dfn class="dfn-paneled" data-dfn-for="CollectedClientData" data-dfn-type="dfn" data-noexport="" id="collectedclientdata-hash-of-the-serialized-client-data">Hash of the serialized client data</dfn>
     <dd data-md="">
      <p>This is the hash (computed using SHA-256) of the <a data-link-type="dfn" href="#collectedclientdata-json-serialized-client-data" id="ref-for-collectedclientdata-json-serialized-client-data⑥">JSON-serialized client data</a>, as constructed by the client.</p>
    </dl>
   </div>
   <h4 class="heading settled" data-level="5.10.2" id="credentialType"><span class="secno">5.10.2. </span><span class="content">Credential Type enumeration (enum <dfn class="dfn-paneled idl-code" data-dfn-type="enum" data-export="" id="enumdef-publickeycredentialtype"><code>PublicKeyCredentialType</code></dfn>)</span><a class="self-link" href="#credentialType"></a></h4>
<pre class="idl highlight def"><span class="kt">enum</span> <a class="nv idl-code" data-link-type="enum" href="#enumdef-publickeycredentialtype" id="ref-for-enumdef-publickeycredentialtype⑤">PublicKeyCredentialType</a> {
    <a class="s idl-code" data-link-type="enum-value" href="#dom-publickeycredentialtype-public-key" id="ref-for-dom-publickeycredentialtype-public-key①">"public-key"</a>
};
</pre>
   <div>
     This enumeration defines the valid credential types. It is an extension point; values can be added to it in the future, as
    more credential types are defined. The values of this enumeration are used for versioning the Authentication Assertion and
    attestation structures according to the type of the authenticator. 
    <p>Currently one credential type is defined, namely "<dfn class="dfn-paneled idl-code" data-dfn-for="PublicKeyCredentialType" data-dfn-type="enum-value" data-export="" id="dom-publickeycredentialtype-public-key"><code>public-key</code></dfn>".</p>
   </div>
   <h4 class="heading settled" data-level="5.10.3" id="credential-dictionary"><span class="secno">5.10.3. </span><span class="content">Credential Descriptor (dictionary <dfn class="dfn-paneled idl-code" data-dfn-type="dictionary" data-export="" id="dictdef-publickeycredentialdescriptor"><code>PublicKeyCredentialDescriptor</code></dfn>)</span><a class="self-link" href="#credential-dictionary"></a></h4>
<pre class="idl highlight def"><span class="kt">dictionary</span> <a class="nv idl-code" data-link-type="dictionary" href="#dictdef-publickeycredentialdescriptor" id="ref-for-dictdef-publickeycredentialdescriptor⑤">PublicKeyCredentialDescriptor</a> {
    <span class="kt">required</span> <a class="n" data-link-type="idl-name" href="#enumdef-publickeycredentialtype" id="ref-for-enumdef-publickeycredentialtype⑥">PublicKeyCredentialType</a>      <a class="nv idl-code" data-link-type="dict-member" data-type="PublicKeyCredentialType      " href="#dom-publickeycredentialdescriptor-type" id="ref-for-dom-publickeycredentialdescriptor-type①">type</a>;
    <span class="kt">required</span> <a class="n" data-link-type="idl-name" href="https://heycam.github.io/webidl/#BufferSource" id="ref-for-BufferSource⑥">BufferSource</a>                 <a class="nv idl-code" data-link-type="dict-member" data-type="BufferSource                 " href="#dom-publickeycredentialdescriptor-id" id="ref-for-dom-publickeycredentialdescriptor-id①">id</a>;
    <span class="kt">sequence</span>&lt;<a class="n" data-link-type="idl-name" href="#enumdef-authenticatortransport" id="ref-for-enumdef-authenticatortransport">AuthenticatorTransport</a>>      <a class="nv idl-code" data-link-type="dict-member" data-type="sequence<AuthenticatorTransport>      " href="#dom-publickeycredentialdescriptor-transports" id="ref-for-dom-publickeycredentialdescriptor-transports④">transports</a>;
};
</pre>
   <p>This dictionary contains the attributes that are specified by a caller when referring to a <a data-link-type="dfn" href="#public-key-credential" id="ref-for-public-key-credential③②">public key credential</a> as an input
parameter to the <code class="idl"><a data-link-type="idl" href="https://w3c.github.io/webappsec-credential-management/#dom-credentialscontainer-create" id="ref-for-dom-credentialscontainer-create①②">create()</a></code> or <code class="idl"><a data-link-type="idl" href="https://w3c.github.io/webappsec-credential-management/#dom-credentialscontainer-get" id="ref-for-dom-credentialscontainer-get①③">get()</a></code> methods. It mirrors the fields of the <code class="idl"><a data-link-type="idl" href="#publickeycredential" id="ref-for-publickeycredential①⑤">PublicKeyCredential</a></code> object returned by the latter methods.</p>
   <div>
    <dl>
     <dt data-md=""><dfn class="dfn-paneled idl-code" data-dfn-for="PublicKeyCredentialDescriptor" data-dfn-type="dict-member" data-export="" id="dom-publickeycredentialdescriptor-type"><code>type</code></dfn>, <span> of type <a data-link-type="idl-name" href="#enumdef-publickeycredentialtype" id="ref-for-enumdef-publickeycredentialtype⑦">PublicKeyCredentialType</a></span>
     <dd data-md="">
      <p>This member contains the type of the <a data-link-type="dfn" href="#public-key-credential" id="ref-for-public-key-credential③③">public key credential</a> the caller is referring to.</p>
     <dt data-md=""><dfn class="dfn-paneled idl-code" data-dfn-for="PublicKeyCredentialDescriptor" data-dfn-type="dict-member" data-export="" id="dom-publickeycredentialdescriptor-id"><code>id</code></dfn>, <span> of type <a data-link-type="idl-name" href="https://heycam.github.io/webidl/#BufferSource" id="ref-for-BufferSource⑦">BufferSource</a></span>
     <dd data-md="">
      <p>This member contains the <a data-link-type="dfn" href="#credential-id" id="ref-for-credential-id⑧">credential ID</a> of the <a data-link-type="dfn" href="#public-key-credential" id="ref-for-public-key-credential③④">public key credential</a> the caller is referring to.</p>
     <dt data-md=""><dfn class="dfn-paneled idl-code" data-dfn-for="PublicKeyCredentialDescriptor" data-dfn-type="dict-member" data-export="" id="dom-publickeycredentialdescriptor-transports"><code>transports</code></dfn>, <span> of type sequence&lt;<a data-link-type="idl-name" href="#enumdef-authenticatortransport" id="ref-for-enumdef-authenticatortransport①">AuthenticatorTransport</a>></span>
     <dd data-md="">
      <p>This OPTIONAL member contains a hint as to how the <a data-link-type="dfn" href="#client" id="ref-for-client①②">client</a> might communicate with the <a data-link-type="dfn" href="#public-key-credential-source-managing-authenticator" id="ref-for-public-key-credential-source-managing-authenticator①">managing authenticator</a> of the <a data-link-type="dfn" href="#public-key-credential" id="ref-for-public-key-credential③⑤">public key credential</a> the caller is referring to.</p>
    </dl>
   </div>
   <h4 class="heading settled" data-level="5.10.4" id="transport"><span class="secno">5.10.4. </span><span class="content">Authenticator Transport enumeration (enum <dfn class="dfn-paneled idl-code" data-dfn-type="enum" data-export="" id="enumdef-authenticatortransport"><code>AuthenticatorTransport</code></dfn>)</span><a class="self-link" href="#transport"></a></h4>
<pre class="idl highlight def"><span class="kt">enum</span> <a class="nv idl-code" data-link-type="enum" href="#enumdef-authenticatortransport" id="ref-for-enumdef-authenticatortransport②">AuthenticatorTransport</a> {
    <a class="s idl-code" data-link-type="enum-value" href="#dom-authenticatortransport-usb" id="ref-for-dom-authenticatortransport-usb">"usb"</a>,
    <a class="s idl-code" data-link-type="enum-value" href="#dom-authenticatortransport-nfc" id="ref-for-dom-authenticatortransport-nfc">"nfc"</a>,
    <a class="s idl-code" data-link-type="enum-value" href="#dom-authenticatortransport-ble" id="ref-for-dom-authenticatortransport-ble">"ble"</a>,
    <a class="s idl-code" data-link-type="enum-value" href="#dom-authenticatortransport-internal" id="ref-for-dom-authenticatortransport-internal">"internal"</a>
};
</pre>
   <div>
     <a data-link-type="dfn" href="#authenticator" id="ref-for-authenticator⑥③">Authenticators</a> may implement various <a href="#transport">transports</a> for communicating with <a data-link-type="dfn" href="#client" id="ref-for-client①③">clients</a>. This enumeration
    defines hints as to how clients might communicate with a particular authenticator in order to obtain an assertion for a
    specific credential. Note that these hints represent the <a data-link-type="dfn" href="#relying-party" id="ref-for-relying-party①⓪③">Relying Party</a>'s best belief as to how an authenticator may be reached. A <a data-link-type="dfn" href="#relying-party" id="ref-for-relying-party①⓪④">Relying Party</a> may obtain a list of transports hints from some <a data-link-type="dfn" href="#attestation-statement-format" id="ref-for-attestation-statement-format①">attestation statement formats</a> or via some out-of-band mechanism;
    it is outside the scope of this specification to define that mechanism. 
    <dl>
     <dt data-md=""><dfn class="dfn-paneled idl-code" data-dfn-for="AuthenticatorTransport" data-dfn-type="enum-value" data-export="" id="dom-authenticatortransport-usb"><code>usb</code></dfn>
     <dd data-md="">
      <p>Indicates the respective <a data-link-type="dfn" href="#authenticator" id="ref-for-authenticator⑥④">authenticator</a> can be contacted over removable USB.</p>
     <dt data-md=""><dfn class="dfn-paneled idl-code" data-dfn-for="AuthenticatorTransport" data-dfn-type="enum-value" data-export="" id="dom-authenticatortransport-nfc"><code>nfc</code></dfn>
     <dd data-md="">
      <p>Indicates the respective <a data-link-type="dfn" href="#authenticator" id="ref-for-authenticator⑥⑤">authenticator</a> can be contacted over Near Field Communication (NFC).</p>
     <dt data-md=""><dfn class="dfn-paneled idl-code" data-dfn-for="AuthenticatorTransport" data-dfn-type="enum-value" data-export="" id="dom-authenticatortransport-ble"><code>ble</code></dfn>
     <dd data-md="">
      <p>Indicates the respective <a data-link-type="dfn" href="#authenticator" id="ref-for-authenticator⑥⑥">authenticator</a> can be contacted over Bluetooth Smart (Bluetooth Low Energy / BLE).</p>
     <dt data-md=""><dfn class="dfn-paneled idl-code" data-dfn-for="AuthenticatorTransport" data-dfn-type="enum-value" data-export="" id="dom-authenticatortransport-internal"><code>internal</code></dfn>
     <dd data-md="">
      <p>Indicates the respective <a data-link-type="dfn" href="#authenticator" id="ref-for-authenticator⑥⑦">authenticator</a> is contacted using a platform-specific transport. These authenticators are not
removable from the platform.</p>
    </dl>
   </div>
   <h4 class="heading settled" data-level="5.10.5" id="alg-identifier"><span class="secno">5.10.5. </span><span class="content">Cryptographic Algorithm Identifier (typedef <code class="idl"><a data-link-type="idl" href="#typedefdef-cosealgorithmidentifier" id="ref-for-typedefdef-cosealgorithmidentifier③">COSEAlgorithmIdentifier</a></code>)</span><a class="self-link" href="#alg-identifier"></a></h4>
<pre class="idl highlight def"><span class="kt">typedef</span> <a class="n idl-code" data-link-type="interface" href="https://heycam.github.io/webidl/#idl-long" id="ref-for-idl-long"><span class="kt">long</span></a> <dfn class="nv dfn-paneled idl-code" data-dfn-type="typedef" data-export="" id="typedefdef-cosealgorithmidentifier"><code>COSEAlgorithmIdentifier</code></dfn>;
</pre>
   <div> A <code class="idl"><a data-link-type="idl" href="#typedefdef-cosealgorithmidentifier" id="ref-for-typedefdef-cosealgorithmidentifier④">COSEAlgorithmIdentifier</a></code>'s value is a number identifying a cryptographic algorithm.
    The algorithm identifiers SHOULD be values registered in the IANA COSE Algorithms registry <a data-link-type="biblio" href="#biblio-iana-cose-algs-reg">[IANA-COSE-ALGS-REG]</a>,
    for instance, <code>-7</code> for "ES256" and <code>-257</code> for "RS256". </div>
   <h4 class="heading settled" data-level="5.10.6" id="userVerificationRequirement"><span class="secno">5.10.6. </span><span class="content">User Verification Requirement enumeration (enum <dfn class="dfn-paneled idl-code" data-dfn-type="enum" data-export="" id="enumdef-userverificationrequirement"><code>UserVerificationRequirement</code></dfn>)</span><a class="self-link" href="#userVerificationRequirement"></a></h4>
<pre class="idl highlight def"><span class="kt">enum</span> <a class="nv idl-code" data-link-type="enum" href="#enumdef-userverificationrequirement" id="ref-for-enumdef-userverificationrequirement④">UserVerificationRequirement</a> {
    <a class="s idl-code" data-link-type="enum-value" href="#dom-userverificationrequirement-required" id="ref-for-dom-userverificationrequirement-required④">"required"</a>,
    <a class="s idl-code" data-link-type="enum-value" href="#dom-userverificationrequirement-preferred" id="ref-for-dom-userverificationrequirement-preferred②">"preferred"</a>,
    <a class="s idl-code" data-link-type="enum-value" href="#dom-userverificationrequirement-discouraged" id="ref-for-dom-userverificationrequirement-discouraged②">"discouraged"</a>
};
</pre>
   <p>A <a data-link-type="dfn" href="#relying-party" id="ref-for-relying-party①⓪⑤">Relying Party</a> may require <a data-link-type="dfn" href="#user-verification" id="ref-for-user-verification②③">user verification</a> for some of its operations but not for others, and may use this type to express its
needs.</p>
   <div>
    <dl>
     <dt data-md=""><dfn class="dfn-paneled idl-code" data-dfn-for="UserVerificationRequirement" data-dfn-type="enum-value" data-export="" id="dom-userverificationrequirement-required"><code>required</code></dfn>
     <dd data-md="">
      <p>This value indicates that the <a data-link-type="dfn" href="#relying-party" id="ref-for-relying-party①⓪⑥">Relying Party</a> requires <a data-link-type="dfn" href="#user-verification" id="ref-for-user-verification②④">user verification</a> for the operation and will fail the operation if the
response does not have the <a data-link-type="dfn" href="#uv" id="ref-for-uv">UV</a> <a data-link-type="dfn" href="#flags" id="ref-for-flags">flag</a> set.</p>
     <dt data-md=""><dfn class="dfn-paneled idl-code" data-dfn-for="UserVerificationRequirement" data-dfn-type="enum-value" data-export="" id="dom-userverificationrequirement-preferred"><code>preferred</code></dfn>
     <dd data-md="">
      <p>This value indicates that the <a data-link-type="dfn" href="#relying-party" id="ref-for-relying-party①⓪⑦">Relying Party</a> prefers <a data-link-type="dfn" href="#user-verification" id="ref-for-user-verification②⑤">user verification</a> for the operation if possible, but will not fail the
operation if the response does not have the <a data-link-type="dfn" href="#uv" id="ref-for-uv①">UV</a> <a data-link-type="dfn" href="#flags" id="ref-for-flags①">flag</a> set.</p>
     <dt data-md=""><dfn class="dfn-paneled idl-code" data-dfn-for="UserVerificationRequirement" data-dfn-type="enum-value" data-export="" id="dom-userverificationrequirement-discouraged"><code>discouraged</code></dfn>
     <dd data-md="">
      <p>This value indicates that the <a data-link-type="dfn" href="#relying-party" id="ref-for-relying-party①⓪⑧">Relying Party</a> does not want <a data-link-type="dfn" href="#user-verification" id="ref-for-user-verification②⑥">user verification</a> employed during the operation (e.g., in the
interest of minimizing disruption to the user interaction flow).</p>
    </dl>
   </div>
   <h2 class="heading settled" data-level="6" id="sctn-authenticator-model"><span class="secno">6. </span><span class="content">WebAuthn <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport="" id="authenticator-model">Authenticator Model</dfn></span><a class="self-link" href="#sctn-authenticator-model"></a></h2>
   <p><a href="#api">The Web Authentication API</a> implies a specific abstract functional model for an <a data-link-type="dfn" href="#authenticator" id="ref-for-authenticator⑥⑧">authenticator</a>. This section
describes that <a data-link-type="dfn" href="#authenticator-model" id="ref-for-authenticator-model">authenticator model</a>.</p>
   <p>Client platforms MAY implement and expose this abstract model in any way desired. However, the behavior of the client’s Web
Authentication API implementation, when operating on the authenticators supported by that platform, MUST be indistinguishable
from the behavior specified in <a href="#api">§5 Web Authentication API</a>.</p>
   <p>For authenticators, this model defines the logical operations that they MUST support, and the data formats that they expose to
the client and the <a data-link-type="dfn" href="#relying-party" id="ref-for-relying-party①⓪⑨">Relying Party</a>. However, it does not define the details of how authenticators communicate with the client platform,
unless they are necessary for interoperability with <a data-link-type="dfn" href="#relying-party" id="ref-for-relying-party①①⓪">Relying Parties</a>. For instance, this abstract model does not define protocols for
connecting authenticators to clients over transports such as USB or NFC. Similarly, this abstract model does not define specific
error codes or methods of returning them; however, it does define error behavior in terms of the needs of the client. Therefore,
specific error codes are mentioned as a means of showing which error conditions must be distinguishable (or not) from each other
in order to enable a compliant and secure client implementation.</p>
   <p><a data-link-type="dfn" href="#relying-party" id="ref-for-relying-party①①①">Relying Parties</a> may influence authenticator selection, if they deem necessary, by stipulating various authenticator characteristics
when <a href="#createCredential">creating credentials</a> and/or when <a href="#getAssertion">generating assertions</a>, through use of <a href="#dictionary-makecredentialoptions">credential creation options</a> or <a href="#assertion-options">assertion generation options</a>,
respectively. The algorithms underlying the <a href="#api">WebAuthn API</a> marshal these options and pass them to the applicable <a href="#authenticator-ops">authenticator operations</a> defined below.</p>
   <p>In this abstract model, the authenticator provides key management and cryptographic signatures. It can be embedded in the
WebAuthn client or housed in a separate device entirely. The authenticator itself can contain a cryptographic module which
operates at a higher security level than the rest of the authenticator. This is particularly important for authenticators that
are embedded in the WebAuthn client, as in those cases this cryptographic module (which may, for example, be a TPM) could be
considered more trustworthy than the rest of the authenticator.</p>
   <p>Each authenticator stores a <dfn class="dfn-paneled" data-dfn-for="authenticator" data-dfn-type="dfn" data-noexport="" id="authenticator-credentials-map">credentials map</dfn>, a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#ordered-map" id="ref-for-ordered-map⑥">map</a> from (<a data-link-type="dfn" href="#public-key-credential-source-rpid" id="ref-for-public-key-credential-source-rpid">rpId</a>, [<a data-link-type="dfn" href="#public-key-credential-source-userhandle" id="ref-for-public-key-credential-source-userhandle">userHandle</a>]) to <a data-link-type="dfn" href="#public-key-credential-source" id="ref-for-public-key-credential-source①②">public key credential source</a>.</p>
   <p>Additionally, each authenticator has an AAGUID, which is a 128-bit identifier indicating the type (e.g. make and model) of the
authenticator. The AAGUID MUST be chosen by the manufacturer to be identical across all substantially identical authenticators
made by that manufacturer, and different (with high probability) from the AAGUIDs of all other types of authenticators.
The AAGUID for a given type of authenticator SHOULD be randomly generated to ensure this. The RP MAY use the AAGUID to infer certain
properties of the authenticator, such as certification level and strength of key protection, using information from other sources.</p>
   <p>The primary function of the authenticator is to provide WebAuthn signatures, which are bound to various contextual data. These
data are observed and added at different levels of the stack as a signature request passes from the server to the
authenticator. In verifying a signature, the server checks these bindings against expected values. These contextual bindings
are divided in two: Those added by the RP or the client, referred to as <a data-link-type="dfn" href="#client-data" id="ref-for-client-data①">client data</a>; and those added by the authenticator,
referred to as the <a data-link-type="dfn" href="#authenticator-data" id="ref-for-authenticator-data④">authenticator data</a>. The authenticator signs over the <a data-link-type="dfn" href="#client-data" id="ref-for-client-data②">client data</a>, but is otherwise not interested in
its contents. To save bandwidth and processing requirements on the authenticator, the client hashes the <a data-link-type="dfn" href="#client-data" id="ref-for-client-data③">client data</a> and
sends only the result to the authenticator. The authenticator signs over the combination of the <a data-link-type="dfn" href="#collectedclientdata-hash-of-the-serialized-client-data" id="ref-for-collectedclientdata-hash-of-the-serialized-client-data④">hash of the serialized client data</a>, and its own <a data-link-type="dfn" href="#authenticator-data" id="ref-for-authenticator-data⑤">authenticator data</a>.</p>
   <p>The goals of this design can be summarized as follows.</p>
   <ul>
    <li data-md="">
     <p>The scheme for generating signatures should accommodate cases where the link between the client platform and authenticator
is very limited, in bandwidth and/or latency. Examples include Bluetooth Low Energy and Near-Field Communication.</p>
    <li data-md="">
     <p>The data processed by the authenticator should be small and easy to interpret in low-level code. In particular, authenticators
should not have to parse high-level encodings such as JSON.</p>
    <li data-md="">
     <p>Both the client platform and the authenticator should have the flexibility to add contextual bindings as needed.</p>
    <li data-md="">
     <p>The design aims to reuse as much as possible of existing encoding formats in order to aid adoption and implementation.</p>
   </ul>
   <p>Authenticators produce cryptographic signatures for two distinct purposes:</p>
   <ol>
    <li data-md="">
     <p>An <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport="" id="attestation-signature">attestation signature</dfn> is produced when a new <a data-link-type="dfn" href="#public-key-credential" id="ref-for-public-key-credential③⑥">public key credential</a> is created via an <a data-link-type="dfn" href="#authenticatormakecredential" id="ref-for-authenticatormakecredential⑥">authenticatorMakeCredential</a> operation. An <a data-link-type="dfn" href="#attestation-signature" id="ref-for-attestation-signature①">attestation signature</a> provides cryptographic
proof of certain properties of the <a data-link-type="dfn" href="#authenticator" id="ref-for-authenticator⑥⑨">authenticator</a> and the credential. For instance, an <a data-link-type="dfn" href="#attestation-signature" id="ref-for-attestation-signature②">attestation signature</a> asserts the <a data-link-type="dfn" href="#authenticator" id="ref-for-authenticator⑦⓪">authenticator</a> type (as denoted by its AAGUID) and the <a data-link-type="dfn" href="#credential-public-key" id="ref-for-credential-public-key⑨">credential public key</a>. The <a data-link-type="dfn" href="#attestation-signature" id="ref-for-attestation-signature③">attestation
signature</a> is signed by an <a data-link-type="dfn" href="#attestation-private-key" id="ref-for-attestation-private-key">attestation private key</a>, which is chosen depending on the type of <a data-link-type="dfn" href="#attestation" id="ref-for-attestation⑥">attestation</a> desired.
For more details on <a data-link-type="dfn" href="#attestation" id="ref-for-attestation⑦">attestation</a>, see <a href="#sctn-attestation">§6.3 Attestation</a>.</p>
    <li data-md="">
     <p>An <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport="" id="assertion-signature">assertion signature</dfn> is produced when the <a data-link-type="dfn" href="#authenticatorgetassertion" id="ref-for-authenticatorgetassertion⑦">authenticatorGetAssertion</a> method is invoked. It represents an
assertion by the <a data-link-type="dfn" href="#authenticator" id="ref-for-authenticator⑦①">authenticator</a> that the user has <a data-link-type="dfn" href="#user-consent" id="ref-for-user-consent①③">consented</a> to a specific transaction, such as logging
in, or completing a purchase. Thus, an <a data-link-type="dfn" href="#assertion-signature" id="ref-for-assertion-signature">assertion signature</a> asserts that the <a data-link-type="dfn" href="#authenticator" id="ref-for-authenticator⑦②">authenticator</a> possessing a particular <a data-link-type="dfn" href="#credential-private-key" id="ref-for-credential-private-key⑧">credential private key</a> has established, to the best of its ability, that the user requesting this transaction is the
same user who <a data-link-type="dfn" href="#user-consent" id="ref-for-user-consent①④">consented</a> to creating that particular <a data-link-type="dfn" href="#public-key-credential" id="ref-for-public-key-credential③⑦">public key credential</a>. It also asserts additional
information, termed <a data-link-type="dfn" href="#client-data" id="ref-for-client-data④">client data</a>, that may be useful to the caller, such as the means by which <a data-link-type="dfn" href="#user-consent" id="ref-for-user-consent①⑤">user consent</a> was
provided, and the prompt shown to the user by the <a data-link-type="dfn" href="#authenticator" id="ref-for-authenticator⑦③">authenticator</a>. The <a data-link-type="dfn" href="#assertion-signature" id="ref-for-assertion-signature①">assertion signature</a> format is illustrated in <a href="#fig-signature">Figure 2, below</a>.</p>
   </ol>
   <p>The formats of these signatures, as well as the procedures for generating them, are specified below.</p>
   <h3 class="heading settled" data-level="6.1" id="sec-authenticator-data"><span class="secno">6.1. </span><span class="content">Authenticator data</span><a class="self-link" href="#sec-authenticator-data"></a></h3>
   <p>The <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport="" id="authenticator-data">authenticator data</dfn> structure encodes contextual bindings made by the <a data-link-type="dfn" href="#authenticator" id="ref-for-authenticator⑦④">authenticator</a>. These bindings are
controlled by the authenticator itself, and derive their trust from the <a data-link-type="dfn" href="#relying-party" id="ref-for-relying-party①①②">Relying Party</a>'s assessment of the security properties of the
authenticator. In one extreme case, the authenticator may be embedded in the client, and its bindings may be no more trustworthy
than the <a data-link-type="dfn" href="#client-data" id="ref-for-client-data⑤">client data</a>. At the other extreme, the authenticator may be a discrete entity with high-security hardware and
software, connected to the client over a secure channel. In both cases, the <a data-link-type="dfn" href="#relying-party" id="ref-for-relying-party①①③">Relying Party</a> receives the <a data-link-type="dfn" href="#authenticator-data" id="ref-for-authenticator-data⑥">authenticator data</a> in the same
format, and uses its knowledge of the authenticator to make trust decisions.</p>
   <p>The <a data-link-type="dfn" href="#authenticator-data" id="ref-for-authenticator-data⑦">authenticator data</a> has a compact but extensible encoding. This is desired since authenticators can be devices with
limited capabilities and low power requirements, with much simpler software stacks than the client platform components.</p>
   <p>The <a data-link-type="dfn" href="#authenticator-data" id="ref-for-authenticator-data⑧">authenticator data</a> structure is a byte array of 37 bytes or more, as follows.</p>
   <table class="complex data longlastcol">
    <tbody>
     <tr>
      <th>Name
      <th>Length (in bytes)
      <th>Description
     <tr>
      <td><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport="" id="rpidhash">rpIdHash</dfn>
      <td>32
      <td> SHA-256 hash of the <a data-link-type="dfn" href="#rp-id" id="ref-for-rp-id①⑤">RP ID</a> associated with the credential. 
     <tr>
      <td><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport="" id="flags">flags</dfn>
      <td>1
      <td>
        Flags (bit 0 is the least significant bit): 
       <ul>
        <li data-md="">
         <p>Bit 0: <a data-link-type="dfn" href="#concept-user-present" id="ref-for-concept-user-present①">User Present</a> (<a data-link-type="dfn" href="#up" id="ref-for-up">UP</a>) result.</p>
         <ul>
          <li data-md="">
           <p><code>1</code> means the user is <a data-link-type="dfn" href="#concept-user-present" id="ref-for-concept-user-present②">present</a>.</p>
          <li data-md="">
           <p><code>0</code> means the user is not <a data-link-type="dfn" href="#concept-user-present" id="ref-for-concept-user-present③">present</a>.</p>
         </ul>
        <li data-md="">
         <p>Bit 1: Reserved for future use (<code>RFU1</code>).</p>
        <li data-md="">
         <p>Bit 2: <a data-link-type="dfn" href="#concept-user-verified" id="ref-for-concept-user-verified①">User Verified</a> (<a data-link-type="dfn" href="#uv" id="ref-for-uv②">UV</a>) result.</p>
         <ul>
          <li data-md="">
           <p><code>1</code> means the user is <a data-link-type="dfn" href="#concept-user-verified" id="ref-for-concept-user-verified②">verified</a>.</p>
          <li data-md="">
           <p><code>0</code> means the user is not <a data-link-type="dfn" href="#concept-user-verified" id="ref-for-concept-user-verified③">verified</a>.</p>
         </ul>
        <li data-md="">
         <p>Bits 3-5: Reserved for future use (<code>RFU2</code>).</p>
        <li data-md="">
         <p>Bit 6: <a data-link-type="dfn" href="#attested-credential-data" id="ref-for-attested-credential-data②">Attested credential data</a> included (<code>AT</code>).</p>
         <ul>
          <li data-md="">
           <p>Indicates whether the authenticator added <a data-link-type="dfn" href="#attested-credential-data" id="ref-for-attested-credential-data③">attested credential data</a>.</p>
         </ul>
        <li data-md="">
         <p>Bit 7: Extension data included (<code>ED</code>).</p>
         <ul>
          <li data-md="">
           <p>Indicates if the <a data-link-type="dfn" href="#authenticator-data" id="ref-for-authenticator-data⑨">authenticator data</a> has <a data-link-type="dfn" href="#authdataextensions" id="ref-for-authdataextensions">extensions</a>.</p>
         </ul>
       </ul>
     <tr>
      <td><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport="" id="signcount">signCount</dfn>
      <td>4
      <td><a data-link-type="dfn" href="#signature-counter" id="ref-for-signature-counter">Signature counter</a>, 32-bit unsigned big-endian integer.
     <tr>
      <td><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport="" id="attestedcredentialdata">attestedCredentialData</dfn>
      <td>variable (if present)
      <td> <a data-link-type="dfn" href="#attested-credential-data" id="ref-for-attested-credential-data④">attested credential data</a> (if present). See <a href="#sec-attested-credential-data">§6.3.1 Attested credential data</a> for details. Its length depends on
            the <a data-link-type="dfn" href="#credentialidlength" id="ref-for-credentialidlength">length</a> of the <a data-link-type="dfn" href="#credentialid" id="ref-for-credentialid①">credential ID</a> and <a data-link-type="dfn" href="#credentialpublickey" id="ref-for-credentialpublickey">credential public
            key</a> being attested. 
     <tr>
      <td><dfn class="dfn-paneled" data-dfn-type="dfn" data-lt="authDataExtensions" data-noexport="" id="authdataextensions">extensions</dfn>
      <td>variable (if present)
      <td> Extension-defined <a data-link-type="dfn" href="#authenticator-data" id="ref-for-authenticator-data①⓪">authenticator data</a>. This is a <a data-link-type="dfn" href="#cbor" id="ref-for-cbor⑤">CBOR</a> <a data-link-type="biblio" href="#biblio-rfc7049">[RFC7049]</a> map with <a data-link-type="dfn" href="#extension-identifier" id="ref-for-extension-identifier③">extension identifiers</a> as keys,
            and <a data-link-type="dfn" href="#authenticator-extension-output" id="ref-for-authenticator-extension-output">authenticator extension outputs</a> as values. See <a href="#extensions">§9 WebAuthn Extensions</a> for details. 
   </table>
   <p class="note" role="note"><span>NOTE:</span> The names in the Name column in the above table are only for reference within this document, and are not present in the
  actual representation of the <a data-link-type="dfn" href="#authenticator-data" id="ref-for-authenticator-data①①">authenticator data</a>.</p>
   <p>The <a data-link-type="dfn" href="#rp-id" id="ref-for-rp-id①⑥">RP ID</a> is originally received from the client when the credential is created, and again when an assertion is generated.
However, it differs from other <a data-link-type="dfn" href="#client-data" id="ref-for-client-data⑥">client data</a> in some important ways. First, unlike the client data, the <a data-link-type="dfn" href="#rp-id" id="ref-for-rp-id①⑦">RP ID</a> of a
credential does not change between operations but instead remains the same for the lifetime of that credential. Secondly, it is
validated by the authenticator during the <a data-link-type="dfn" href="#authenticatorgetassertion" id="ref-for-authenticatorgetassertion⑧">authenticatorGetAssertion</a> operation, by verifying that the <a data-link-type="dfn" href="#rp-id" id="ref-for-rp-id①⑧">RP ID</a> associated
with the requested credential exactly matches the <a data-link-type="dfn" href="#rp-id" id="ref-for-rp-id①⑨">RP ID</a> supplied by the client, and that the <a data-link-type="dfn" href="#rp-id" id="ref-for-rp-id②⓪">RP ID</a> <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/origin.html#is-a-registrable-domain-suffix-of-or-is-equal-to" id="ref-for-is-a-registrable-domain-suffix-of-or-is-equal-to④">is a registrable
domain suffix of or is equal to</a> the <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/origin.html#concept-origin-effective-domain" id="ref-for-concept-origin-effective-domain①④">effective domain</a> of the RP’s <a data-link-type="dfn" href="https://w3c.github.io/html/browsers.html#concept-cross-origin" id="ref-for-concept-cross-origin①③">origin</a>'s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/origin.html#concept-origin-effective-domain" id="ref-for-concept-origin-effective-domain①⑤">effective domain</a>.</p>
   <p>The <code>UP</code> flag SHALL be set if and only if the authenticator detected a user through an authenticator specific gesture. The <code>RFU</code> bits SHALL be set to zero.</p>
   <p>For attestation signatures, the authenticator MUST set the AT flag and include the <code><a data-link-type="dfn" href="#attestedcredentialdata" id="ref-for-attestedcredentialdata①">attestedCredentialData</a></code>. For
authentication signatures, the AT flag MUST NOT be set and the <code><a data-link-type="dfn" href="#attestedcredentialdata" id="ref-for-attestedcredentialdata②">attestedCredentialData</a></code> MUST NOT be included.</p>
   <p>If the authenticator does not include any extension data, it MUST set the <code>ED</code> flag to zero, and to one if
extension data is included.</p>
   <p>The <a href="#fig-authData">figure below</a> shows a visual representation of the <a data-link-type="dfn" href="#authenticator-data" id="ref-for-authenticator-data①②">authenticator data</a> structure.</p>
   <figure id="fig-authData">
     <img src="images/fido-signature-formats-figure1.svg"> 
    <figcaption><a data-link-type="dfn" href="#authenticator-data" id="ref-for-authenticator-data①③">Authenticator data</a> layout.</figcaption>
   </figure>
   <p>Note that the <a data-link-type="dfn" href="#authenticator-data" id="ref-for-authenticator-data①④">authenticator data</a> describes its own length: If the AT and ED <a data-link-type="dfn" href="#flags" id="ref-for-flags②">flags</a> are not set, it is always 37 bytes long.
The <a data-link-type="dfn" href="#attested-credential-data" id="ref-for-attested-credential-data⑤">attested credential data</a> (which is only present if the AT flag is set) describes its own length. If the ED flag is set,
then the total length is 37 bytes plus the length of the <a data-link-type="dfn" href="#attested-credential-data" id="ref-for-attested-credential-data⑥">attested credential data</a>, plus the length of the <a data-link-type="dfn" href="#cbor" id="ref-for-cbor⑥">CBOR</a> map that
follows.</p>
   <h4 class="heading settled" data-level="6.1.1" id="sign-counter"><span class="secno">6.1.1. </span><span class="content"><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport="" id="signature-counter">Signature Counter</dfn> Considerations</span><a class="self-link" href="#sign-counter"></a></h4>
   <p>Authenticators SHOULD implement a <a data-link-type="dfn" href="#signature-counter" id="ref-for-signature-counter①">signature counter</a> feature. The <a data-link-type="dfn" href="#signature-counter" id="ref-for-signature-counter②">signature counter</a> is incremented for each successful <a data-link-type="dfn" href="#authenticatorgetassertion" id="ref-for-authenticatorgetassertion⑨">authenticatorGetAssertion</a> operation by some positive value, and its value is returned to the <a data-link-type="dfn" href="#relying-party" id="ref-for-relying-party①①④">Relying Party</a> within the <a data-link-type="dfn" href="#authenticator-data" id="ref-for-authenticator-data①⑤">authenticator data</a>. The <a data-link-type="dfn" href="#signature-counter" id="ref-for-signature-counter③">signature counter</a>'s purpose is to aid <a data-link-type="dfn" href="#relying-party" id="ref-for-relying-party①①⑤">Relying Parties</a> in detecting cloned authenticators. Clone
detection is more important for authenticators with limited protection measures.</p>
   <p>An <a data-link-type="dfn" href="#relying-party" id="ref-for-relying-party①①⑥">Relying Party</a> stores the <a data-link-type="dfn" href="#signature-counter" id="ref-for-signature-counter④">signature counter</a> of the most recent <a data-link-type="dfn" href="#authenticatorgetassertion" id="ref-for-authenticatorgetassertion①⓪">authenticatorGetAssertion</a> operation. Upon a new <a data-link-type="dfn" href="#authenticatorgetassertion" id="ref-for-authenticatorgetassertion①①">authenticatorGetAssertion</a> operation, the <a data-link-type="dfn" href="#relying-party" id="ref-for-relying-party①①⑦">Relying Party</a> compares the stored <a data-link-type="dfn" href="#signature-counter" id="ref-for-signature-counter⑤">signature counter</a> value with the new <code><a data-link-type="dfn" href="#signcount" id="ref-for-signcount">signCount</a></code> value returned in the assertion’s <a data-link-type="dfn" href="#authenticator-data" id="ref-for-authenticator-data①⑥">authenticator data</a>.  If this new <code><a data-link-type="dfn" href="#signcount" id="ref-for-signcount①">signCount</a></code> value is less than or equal to the stored value, a cloned authenticator may exist, or the authenticator may be malfunctioning.</p>
   <p>Detecting a <a data-link-type="dfn" href="#signature-counter" id="ref-for-signature-counter⑥">signature counter</a> mismatch does not indicate whether the current operation was performed by a cloned authenticator or the original authenticator. <a data-link-type="dfn" href="#relying-party" id="ref-for-relying-party①①⑧">Relying Parties</a> should address this situation appropriately relative to their individual situations, i.e., their risk tolerance.</p>
   <p>Authenticators:</p>
   <ul>
    <li data-md="">
     <p>SHOULD implement per credential <a data-link-type="dfn" href="#signature-counter" id="ref-for-signature-counter⑦">signature counters</a>.  This prevents the <a data-link-type="dfn" href="#signature-counter" id="ref-for-signature-counter⑧">signature counter</a> value from being shared between <a data-link-type="dfn" href="#relying-party" id="ref-for-relying-party①①⑨">Relying Parties</a> and being possibly employed 
as a correlation handle for the user. Authenticators may implement a global <a data-link-type="dfn" href="#signature-counter" id="ref-for-signature-counter⑨">signature counter</a>, 
i.e., on a per-authenticator basis, but this is less privacy-friendly for users.</p>
    <li data-md="">
     <p>SHOULD ensure that the <a data-link-type="dfn" href="#signature-counter" id="ref-for-signature-counter①⓪">signature counter</a> value does not
accidentally decrease  (e.g., due to hardware failures).</p>
   </ul>
   <h4 class="heading settled" data-level="6.1.2" id="sctn-fido-u2f-sig-format-compat"><span class="secno">6.1.2. </span><span class="content">FIDO U2F signature format compatibility</span><a class="self-link" href="#sctn-fido-u2f-sig-format-compat"></a></h4>
   <p>The format for <a data-link-type="dfn" href="#assertion-signature" id="ref-for-assertion-signature②">assertion signatures</a>, which sign over the concatenation of an <a data-link-type="dfn" href="#authenticator-data" id="ref-for-authenticator-data①⑦">authenticator data</a> structure and the <a data-link-type="dfn" href="#collectedclientdata-hash-of-the-serialized-client-data" id="ref-for-collectedclientdata-hash-of-the-serialized-client-data⑤">hash
of the serialized client data</a>, are compatible with the FIDO U2F authentication signature format (see <a data-link-type="dfn" href="https://fidoalliance.org/specs/fido-u2f-v1.1-id-20160915/fido-u2f-raw-message-formats-v1.1-id-20160915.html#authentication-response-message-success" id="ref-for-authentication-response-message-success">Section 5.4</a> of <a data-link-type="biblio" href="#biblio-fido-u2f-message-formats">[FIDO-U2F-Message-Formats]</a>).</p>
   <p>This is because the first 37 bytes of the signed data in a FIDO U2F authentication response message constitute a valid <a data-link-type="dfn" href="#authenticator-data" id="ref-for-authenticator-data①⑧">authenticator data</a> structure, and the remaining 32 bytes are the <a data-link-type="dfn" href="#collectedclientdata-hash-of-the-serialized-client-data" id="ref-for-collectedclientdata-hash-of-the-serialized-client-data⑥">hash of the serialized client data</a>. In this <a data-link-type="dfn" href="#authenticator-data" id="ref-for-authenticator-data①⑨">authenticator data</a> structure, the <code><a data-link-type="dfn" href="#rpidhash" id="ref-for-rpidhash">rpIdHash</a></code> is the FIDO U2F <a data-link-type="dfn" href="https://fidoalliance.org/specs/fido-u2f-v1.1-id-20160915/fido-u2f-raw-message-formats-v1.1-id-20160915.html#authentication-request-message---u2f_authenticate" id="ref-for-authentication-request-message---u2f_authenticate">application parameter</a>, all <code><a data-link-type="dfn" href="#flags" id="ref-for-flags③">flags</a></code> except <code><a data-link-type="dfn" href="#up" id="ref-for-up①">UP</a></code> are always zero, and the <code><a data-link-type="dfn" href="#attestedcredentialdata" id="ref-for-attestedcredentialdata③">attestedCredentialData</a></code> and <code><a data-link-type="dfn" href="#authdataextensions" id="ref-for-authdataextensions①">extensions</a></code> are never present. FIDO U2F authentication signatures can therefore be verified by
the same procedure as other <a data-link-type="dfn" href="#assertion-signature" id="ref-for-assertion-signature③">assertion signatures</a> generated by the <a data-link-type="dfn" href="#authenticatormakecredential" id="ref-for-authenticatormakecredential⑦">authenticatorMakeCredential</a> operation.</p>
   <h3 class="heading settled" data-level="6.2" id="authenticator-ops"><span class="secno">6.2. </span><span class="content"><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport="" id="authenticator-operations">Authenticator operations</dfn></span><a class="self-link" href="#authenticator-ops"></a></h3>
   <p>A <a data-link-type="dfn" href="#webauthn-client" id="ref-for-webauthn-client④">WebAuthn Client</a> MUST connect to an authenticator in order to invoke any of the operations of that authenticator. This connection
defines an <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport="" id="authenticator-session">authenticator session</dfn>. An authenticator must maintain isolation between sessions. It may do this by only allowing one
session to exist at any particular time, or by providing more complicated session management.</p>
   <p>The following operations can be invoked by the client in an authenticator session.</p>
   <h4 class="heading settled algorithm" data-algorithm="Lookup Credential Source by Credential ID algorithm" data-level="6.2.1" id="op-lookup-credsource-by-credid"><span class="secno">6.2.1. </span><span class="content">Lookup Credential Source by Credential ID algorithm</span><a class="self-link" href="#op-lookup-credsource-by-credid"></a></h4>
   <p>The result of <dfn class="dfn-paneled" data-dfn-for="credential id" data-dfn-type="dfn" data-noexport="" id="credential-id-looking-up">looking up</dfn> a <a data-link-type="dfn" href="#credential-id" id="ref-for-credential-id⑨">credential id</a> <var>credentialId</var> in an <a data-link-type="dfn" href="#authenticator" id="ref-for-authenticator⑦⑤">authenticator</a> <var>authenticator</var> is the result of the following algorithm:</p>
   <ol>
    <li data-md="">
     <p>If <var>authenticator</var> can decrypt <var>credentialId</var> into a <a data-link-type="dfn" href="#public-key-credential-source" id="ref-for-public-key-credential-source①③">public key credential source</a> <var>credSource</var>:</p>
     <ol>
      <li data-md="">
       <p>Set <var>credSource</var>.<a data-link-type="dfn" href="#public-key-credential-source-id" id="ref-for-public-key-credential-source-id">id</a> to <var>credentialId</var>.</p>
      <li data-md="">
       <p>Return <var>credSource</var>.</p>
     </ol>
    <li data-md="">
     <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-iterate" id="ref-for-map-iterate②">For each</a> <a data-link-type="dfn" href="#public-key-credential-source" id="ref-for-public-key-credential-source①④">public key credential source</a> <var>credSource</var> of <var>authenticator</var>’s <a data-link-type="dfn" href="#authenticator-credentials-map" id="ref-for-authenticator-credentials-map">credentials map</a>:</p>
     <ol>
      <li data-md="">
       <p>If <var>credSource</var>.<a data-link-type="dfn" href="#public-key-credential-source-id" id="ref-for-public-key-credential-source-id①">id</a> is <var>credentialId</var>, return <var>credSource</var>.</p>
     </ol>
    <li data-md="">
     <p>Return <code>null</code>.</p>
   </ol>
   <h4 class="heading settled algorithm" data-algorithm="The authenticatorMakeCredential operation" data-level="6.2.2" id="op-make-cred"><span class="secno">6.2.2. </span><span class="content">The <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport="" id="authenticatormakecredential">authenticatorMakeCredential</dfn> operation</span><a class="self-link" href="#op-make-cred"></a></h4>
   <p>It takes the following input parameters:</p>
   <dl>
    <dt data-md=""><var>hash</var>
    <dd data-md="">
     <p>The <a data-link-type="dfn" href="#collectedclientdata-hash-of-the-serialized-client-data" id="ref-for-collectedclientdata-hash-of-the-serialized-client-data⑦">hash of the serialized client data</a>, provided by the client.</p>
    <dt data-md=""><var>rpEntity</var>
    <dd data-md="">
     <p>The <a data-link-type="dfn" href="#relying-party" id="ref-for-relying-party①②⓪">Relying Party</a>'s <code class="idl"><a data-link-type="idl" href="#dictdef-publickeycredentialrpentity" id="ref-for-dictdef-publickeycredentialrpentity⑤">PublicKeyCredentialRpEntity</a></code>.</p>
    <dt data-md=""><var>userEntity</var>
    <dd data-md="">
     <p>The user account’s <code class="idl"><a data-link-type="idl" href="#dictdef-publickeycredentialuserentity" id="ref-for-dictdef-publickeycredentialuserentity⑥">PublicKeyCredentialUserEntity</a></code>, containing the <a data-link-type="dfn" href="#user-handle" id="ref-for-user-handle⑦">user handle</a> given by the <a data-link-type="dfn" href="#relying-party" id="ref-for-relying-party①②①">Relying Party</a>.</p>
    <dt data-md=""><var>requireResidentKey</var>
    <dd data-md="">
     <p>The <code class="idl"><a data-link-type="idl" href="#dom-publickeycredentialcreationoptions-authenticatorselection" id="ref-for-dom-publickeycredentialcreationoptions-authenticatorselection⑦">authenticatorSelection</a></code>.<code class="idl"><a data-link-type="idl" href="#dom-authenticatorselectioncriteria-requireresidentkey" id="ref-for-dom-authenticatorselectioncriteria-requireresidentkey③">requireResidentKey</a></code> value given by the <a data-link-type="dfn" href="#relying-party" id="ref-for-relying-party①②②">Relying Party</a>.</p>
    <dt data-md=""><var>requireUserPresence</var>
    <dd data-md="">
     <p>A Boolean value provided by the client, which in invocations from a <a data-link-type="dfn" href="#webauthn-client" id="ref-for-webauthn-client⑤">WebAuthn Client</a>'s <code class="idl"><a data-link-type="idl" href="#dom-publickeycredential-create-slot" id="ref-for-dom-publickeycredential-create-slot⑧">[[Create]](origin, options, sameOriginWithAncestors)</a></code> method is always set to the inverse of <var>requireUserVerification</var>.</p>
    <dt data-md=""><var>requireUserVerification</var>
    <dd data-md="">
     <p>The <a data-link-type="dfn" href="#effective-user-verification-requirement-for-credential-creation" id="ref-for-effective-user-verification-requirement-for-credential-creation">effective user verification requirement for credential creation</a>, a Boolean value provided by the client.</p>
    <dt data-md=""><var>credTypesAndPubKeyAlgs</var>
    <dd data-md="">
     <p>A sequence of pairs of <code class="idl"><a data-link-type="idl" href="#enumdef-publickeycredentialtype" id="ref-for-enumdef-publickeycredentialtype⑧">PublicKeyCredentialType</a></code> and public key algorithms (<code class="idl"><a data-link-type="idl" href="#typedefdef-cosealgorithmidentifier" id="ref-for-typedefdef-cosealgorithmidentifier⑤">COSEAlgorithmIdentifier</a></code>) requested by the <a data-link-type="dfn" href="#relying-party" id="ref-for-relying-party①②③">Relying Party</a>. This sequence is ordered from most preferred to least preferred. The platform makes a best-effort to create the most
preferred credential that it can.</p>
    <dt data-md=""><var>excludeCredentialDescriptorList</var>
    <dd data-md="">
     <p>An optional list of <code class="idl"><a data-link-type="idl" href="#dictdef-publickeycredentialdescriptor" id="ref-for-dictdef-publickeycredentialdescriptor⑥">PublicKeyCredentialDescriptor</a></code> objects provided by the <a data-link-type="dfn" href="#relying-party" id="ref-for-relying-party①②④">Relying Party</a> with the intention that, if any of
these are known to the authenticator, it should not create a new credential. <var>excludeCredentialDescriptorList</var> contains a 
list of known credentials.</p>
    <dt data-md=""><var>extensions</var>
    <dd data-md="">
     <p>A <a data-link-type="dfn" href="#cbor" id="ref-for-cbor⑦">CBOR</a> <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#ordered-map" id="ref-for-ordered-map⑦">map</a> from <a data-link-type="dfn" href="#extension-identifier" id="ref-for-extension-identifier④">extension identifiers</a> to their <a data-link-type="dfn" href="#authenticator-extension-input" id="ref-for-authenticator-extension-input①">authenticator extension inputs</a>, created by the client based on
the extensions requested by the <a data-link-type="dfn" href="#relying-party" id="ref-for-relying-party①②⑤">Relying Party</a>, if any.</p>
   </dl>
   <p class="note" role="note"><span>Note:</span> Before performing this operation, all other operations in progress in the <a data-link-type="dfn" href="#authenticator-session" id="ref-for-authenticator-session②">authenticator session</a> MUST be aborted by
running the <a data-link-type="dfn" href="#authenticatorcancel" id="ref-for-authenticatorcancel⑨">authenticatorCancel</a> operation.</p>
   <p>When this operation is invoked, the <a data-link-type="dfn" href="#authenticator" id="ref-for-authenticator⑦⑥">authenticator</a> MUST perform the following procedure:</p>
   <ol>
    <li data-md="">
     <p>Check if all the supplied parameters are syntactically well-formed and of the correct length. If not, return an error code
equivalent to "<code class="idl"><a data-link-type="idl" href="https://heycam.github.io/webidl/#unknownerror" id="ref-for-unknownerror">UnknownError</a></code>" and terminate the operation.</p>
    <li data-md="">
     <p>Check if at least one of the specified combinations of <code class="idl"><a data-link-type="idl" href="#enumdef-publickeycredentialtype" id="ref-for-enumdef-publickeycredentialtype⑨">PublicKeyCredentialType</a></code> and cryptographic parameters in <var>credTypesAndPubKeyAlgs</var> is supported.
If not, return an error code equivalent to "<code class="idl"><a data-link-type="idl" href="https://heycam.github.io/webidl/#notsupportederror" id="ref-for-notsupportederror②">NotSupportedError</a></code>" and terminate the operation.</p>
    <li data-md="">
     <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-iterate" id="ref-for-list-iterate①④">For each</a> <var>descriptor</var> of <var>excludeCredentialDescriptorList</var>:</p>
     <ol>
      <li data-md="">
       <p>If <a data-link-type="dfn" href="#credential-id-looking-up" id="ref-for-credential-id-looking-up">looking up</a> <code><var>descriptor</var>.<code class="idl"><a data-link-type="idl" href="#dom-publickeycredentialdescriptor-id" id="ref-for-dom-publickeycredentialdescriptor-id②">id</a></code></code> in this authenticator
returns non-null, and the returned <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-item" id="ref-for-list-item③">item</a>'s <a data-link-type="dfn" href="#rp-id" id="ref-for-rp-id②①">RP ID</a> and <a data-link-type="dfn" href="#public-key-credential-source-type" id="ref-for-public-key-credential-source-type">type</a> match <code><var>rpEntity</var>.<code class="idl"><a data-link-type="idl" href="#dom-publickeycredentialrpentity-id" id="ref-for-dom-publickeycredentialrpentity-id⑦">id</a></code></code> and <code><var>excludeCredentialDescriptorList</var>.<code class="idl"><a data-link-type="idl" href="#dom-publickeycredentialdescriptor-type" id="ref-for-dom-publickeycredentialdescriptor-type②">type</a></code></code> respectively, then obtain <a data-link-type="dfn" href="#user-consent" id="ref-for-user-consent①⑥">user
consent</a> for creating a new credential. The method of obtaining <a data-link-type="dfn" href="#user-consent" id="ref-for-user-consent①⑦">user consent</a> MUST include a <a data-link-type="dfn" href="#test-of-user-presence" id="ref-for-test-of-user-presence⑥">test
of user presence</a>. If the user</p>
       <dl class="switch">
        <dt data-md="">confirms consent to create a new credential
        <dd data-md="">
         <p>return an error code equivalent to "<code class="idl"><a data-link-type="idl" href="https://heycam.github.io/webidl/#invalidstateerror" id="ref-for-invalidstateerror③">InvalidStateError</a></code>" and terminate the operation.</p>
        <dt data-md="">does not consent to create a new credential
        <dd data-md="">
         <p>return an error code equivalent to "<code class="idl"><a data-link-type="idl" href="https://heycam.github.io/webidl/#notallowederror" id="ref-for-notallowederror⑥">NotAllowedError</a></code>" and terminate the operation.</p>
       </dl>
     </ol>
    <li data-md="">
     <p>If <var>requireResidentKey</var> is <code>true</code> and the authenticator cannot store a <a data-link-type="dfn" href="#client-side-resident-credential-private-key" id="ref-for-client-side-resident-credential-private-key⑤">Client-side-resident Credential
Private Key</a>, return an error code equivalent to "<code class="idl"><a data-link-type="idl" href="https://heycam.github.io/webidl/#constrainterror" id="ref-for-constrainterror">ConstraintError</a></code>" and terminate the operation.</p>
    <li data-md="">
     <p>If <var>requireUserVerification</var> is <code>true</code> and the authenticator cannot perform <a data-link-type="dfn" href="#user-verification" id="ref-for-user-verification②⑦">user verification</a>, return an error code
equivalent to "<code class="idl"><a data-link-type="idl" href="https://heycam.github.io/webidl/#constrainterror" id="ref-for-constrainterror①">ConstraintError</a></code>" and terminate the operation.</p>
    <li data-md="">
     <p>Obtain <a data-link-type="dfn" href="#user-consent" id="ref-for-user-consent①⑧">user consent</a> for creating a new credential. The prompt for obtaining this <a data-link-type="dfn" href="#user-consent" id="ref-for-user-consent①⑨">consent</a> is shown by the
authenticator if it has its own output capability, or by the user agent otherwise. The prompt SHOULD display <code><var>rpEntity</var>.<code class="idl"><a data-link-type="idl" href="#dom-publickeycredentialrpentity-id" id="ref-for-dom-publickeycredentialrpentity-id⑧">id</a></code></code>, <code><var>rpEntity</var>.<code class="idl"><a data-link-type="idl" href="#dom-publickeycredentialentity-name" id="ref-for-dom-publickeycredentialentity-name⑥">name</a></code></code>, <code><var>userEntity</var>.<code class="idl"><a data-link-type="idl" href="#dom-publickeycredentialentity-name" id="ref-for-dom-publickeycredentialentity-name⑦">name</a></code></code> and <code><var>userEntity</var>.<code class="idl"><a data-link-type="idl" href="#dom-publickeycredentialuserentity-displayname" id="ref-for-dom-publickeycredentialuserentity-displayname⑥">displayName</a></code></code>, if possible.</p>
     <p>If <var>requireUserVerification</var> is <code>true</code>, the method of obtaining <a data-link-type="dfn" href="#user-consent" id="ref-for-user-consent②⓪">user consent</a> MUST include <a data-link-type="dfn" href="#user-verification" id="ref-for-user-verification②⑧">user verification</a>.</p>
     <p>If <var>requireUserPresence</var> is <code>true</code>, the method of obtaining <a data-link-type="dfn" href="#user-consent" id="ref-for-user-consent②①">user consent</a> MUST include a <a data-link-type="dfn" href="#test-of-user-presence" id="ref-for-test-of-user-presence⑦">test of user presence</a>.</p>
     <p>If the user does not <a data-link-type="dfn" href="#user-consent" id="ref-for-user-consent②②">consent</a> or if <a data-link-type="dfn" href="#user-verification" id="ref-for-user-verification②⑨">user verification</a> fails, return an error code equivalent to
"<code class="idl"><a data-link-type="idl" href="https://heycam.github.io/webidl/#notallowederror" id="ref-for-notallowederror⑦">NotAllowedError</a></code>" and terminate the operation.</p>
    <li data-md="">
     <p>Once <a data-link-type="dfn" href="#user-consent" id="ref-for-user-consent②③">user consent</a> has been obtained, generate a new credential object:</p>
     <ol>
      <li data-md="">
       <p>Let (<var>publicKey</var>, <var>privateKey</var>) be a new pair of cryptographic keys using the combination of <code class="idl"><a data-link-type="idl" href="#enumdef-publickeycredentialtype" id="ref-for-enumdef-publickeycredentialtype①⓪">PublicKeyCredentialType</a></code> and cryptographic parameters represented by the first <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-item" id="ref-for-list-item④">item</a> in <var>credTypesAndPubKeyAlgs</var> that is supported by
this authenticator.</p>
      <li data-md="">
       <p>Let <var>userHandle</var> be <code><var>userEntity</var>.<code class="idl"><a data-link-type="idl" href="#dom-publickeycredentialuserentity-id" id="ref-for-dom-publickeycredentialuserentity-id②">id</a></code></code>.</p>
      <li data-md="">
       <p>Let <var>credentialSource</var> be a new <a data-link-type="dfn" href="#public-key-credential-source" id="ref-for-public-key-credential-source①⑤">public key credential source</a> with the fields:</p>
       <dl>
        <dt data-md=""><a data-link-type="dfn" href="#public-key-credential-source-type" id="ref-for-public-key-credential-source-type①">type</a>
        <dd data-md="">
         <p><code class="idl"><a data-link-type="idl" href="#dom-publickeycredentialtype-public-key" id="ref-for-dom-publickeycredentialtype-public-key②">public-key</a></code>.</p>
        <dt data-md=""><a data-link-type="dfn" href="#public-key-credential-source-privatekey" id="ref-for-public-key-credential-source-privatekey">privateKey</a>
        <dd data-md="">
         <p><var>privateKey</var></p>
        <dt data-md=""><a data-link-type="dfn" href="#public-key-credential-source-rpid" id="ref-for-public-key-credential-source-rpid①">rpId</a>
        <dd data-md="">
         <p><code><var>rpEntity</var>.<code class="idl"><a data-link-type="idl" href="#dom-publickeycredentialrpentity-id" id="ref-for-dom-publickeycredentialrpentity-id⑨">id</a></code></code></p>
        <dt data-md=""><a data-link-type="dfn" href="#public-key-credential-source-userhandle" id="ref-for-public-key-credential-source-userhandle①">userHandle</a>
        <dd data-md="">
         <p><var>userHandle</var></p>
        <dt data-md=""><a data-link-type="dfn" href="#public-key-credential-source-otherui" id="ref-for-public-key-credential-source-otherui">otherUI</a>
        <dd data-md="">
         <p>Any other information the authenticator chooses to include.</p>
       </dl>
      <li data-md="">
       <p>If <var>requireResidentKey</var> is <code>true</code> or the authenticator chooses to create a <a data-link-type="dfn" href="#client-side-resident-credential-private-key" id="ref-for-client-side-resident-credential-private-key⑥">Client-side-resident Credential Private Key</a>:</p>
       <ol>
        <li data-md="">
         <p>Let <var>credentialId</var> be a new <a data-link-type="dfn" href="#credential-id" id="ref-for-credential-id①⓪">credential id</a>.</p>
        <li data-md="">
         <p>Set <var>credentialSource</var>.<a data-link-type="dfn" href="#public-key-credential-source-id" id="ref-for-public-key-credential-source-id②">id</a> to <var>credentialId</var>.</p>
        <li data-md="">
         <p>Let <var>credentials</var> be this authenticator’s <a data-link-type="dfn" href="#authenticator-credentials-map" id="ref-for-authenticator-credentials-map①">credentials map</a>.</p>
        <li data-md="">
         <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-set" id="ref-for-map-set④">Set</a> <var>credentials</var>[(<code><var>rpEntity</var>.<code class="idl"><a data-link-type="idl" href="#dom-publickeycredentialrpentity-id" id="ref-for-dom-publickeycredentialrpentity-id①⓪">id</a></code></code>, <var>userHandle</var>)] to <var>credentialSource</var>.</p>
       </ol>
      <li data-md="">
       <p>Otherwise:</p>
       <ol>
        <li data-md="">
         <p>Let <var>credentialId</var> be the result of serializing and encrypting <var>credentialSource</var> so that only this authenticator can
decrypt it.</p>
       </ol>
     </ol>
    <li data-md="">
     <p>If any error occurred while creating the new credential object, return an error code equivalent to "<code class="idl"><a data-link-type="idl" href="https://heycam.github.io/webidl/#unknownerror" id="ref-for-unknownerror①">UnknownError</a></code>" and
terminate the operation.</p>
    <li data-md="">
     <p>Let <var>processedExtensions</var> be the result of <a data-link-type="dfn" href="#authenticator-extension-processing" id="ref-for-authenticator-extension-processing">authenticator extension processing</a> <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-iterate" id="ref-for-map-iterate③">for each</a> supported <a data-link-type="dfn" href="#extension-identifier" id="ref-for-extension-identifier⑤">extension
identifier</a> → <a data-link-type="dfn" href="#authenticator-extension-input" id="ref-for-authenticator-extension-input②">authenticator extension input</a> in <var>extensions</var>.</p>
    <li data-md="">
     <p>If the <a data-link-type="dfn" href="#authenticator" id="ref-for-authenticator⑦⑦">authenticator</a> supports:</p>
     <dl class="switch">
      <dt data-md="">a global <a data-link-type="dfn" href="#signature-counter" id="ref-for-signature-counter①①">signature counter</a>
      <dd data-md="">
       <p>Use the global <a data-link-type="dfn" href="#signature-counter" id="ref-for-signature-counter①②">signature counter</a>'s actual value when generating <a data-link-type="dfn" href="#authenticator-data" id="ref-for-authenticator-data②⓪">authenticator data</a>.</p>
      <dt data-md="">a per credential <a data-link-type="dfn" href="#signature-counter" id="ref-for-signature-counter①③">signature counter</a>
      <dd data-md="">
       <p>allocate the counter, associate it with the new credential, and initialize the counter value as zero.</p>
     </dl>
    <li data-md="">
     <p>Let <var>attestedCredentialData</var> be the <a data-link-type="dfn" href="#attested-credential-data" id="ref-for-attested-credential-data⑦">attested credential data</a> byte array including the <var>credentialId</var> and <var>publicKey</var>.</p>
    <li data-md="">
     <p>Let <var>authenticatorData</var> be the byte array specified in <a href="#sec-authenticator-data">§6.1 Authenticator data</a>, including <var>attestedCredentialData</var> as the <code><a data-link-type="dfn" href="#attestedcredentialdata" id="ref-for-attestedcredentialdata④">attestedCredentialData</a></code> and <var>processedExtensions</var>, if any, as the <code><a data-link-type="dfn" href="#authdataextensions" id="ref-for-authdataextensions②">extensions</a></code>.</p>
    <li data-md="">
     <p>Return the <a data-link-type="dfn" href="#attestation-object" id="ref-for-attestation-object⑧">attestation object</a> for the new credential created by the procedure specified in <a href="#generating-an-attestation-object">§6.3.4 Generating an Attestation Object</a> using an authenticator-chosen <a data-link-type="dfn" href="#attestation-statement-format" id="ref-for-attestation-statement-format②">attestation statement format</a>, <var>authenticatorData</var>,
and <var>hash</var>. For more details on attestation, see <a href="#sctn-attestation">§6.3 Attestation</a>.</p>
   </ol>
   <p>On successful completion of this operation, the authenticator returns the <a data-link-type="dfn" href="#attestation-object" id="ref-for-attestation-object⑨">attestation object</a> to the client.</p>
   <h4 class="heading settled algorithm" data-algorithm="The authenticatorGetAssertion operation" data-level="6.2.3" id="op-get-assertion"><span class="secno">6.2.3. </span><span class="content"> The <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport="" id="authenticatorgetassertion">authenticatorGetAssertion</dfn> operation</span><a class="self-link" href="#op-get-assertion"></a></h4>
   <p>It takes the following input parameters:</p>
   <dl>
    <dt data-md=""><var>rpId</var>
    <dd data-md="">
     <p>The caller’s <a data-link-type="dfn" href="#rp-id" id="ref-for-rp-id②②">RP ID</a>, as <a href="#GetAssn-DetermineRpId">determined</a> by the user agent and the client.</p>
    <dt data-md=""><var>hash</var>
    <dd data-md="">
     <p>The <a data-link-type="dfn" href="#collectedclientdata-hash-of-the-serialized-client-data" id="ref-for-collectedclientdata-hash-of-the-serialized-client-data⑧">hash of the serialized client data</a>, provided by the client.</p>
    <dt data-md=""><var>allowCredentialDescriptorList</var>
    <dd data-md="">
     <p>An optional <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list" id="ref-for-list③">list</a> of <code class="idl"><a data-link-type="idl" href="#dictdef-publickeycredentialdescriptor" id="ref-for-dictdef-publickeycredentialdescriptor⑦">PublicKeyCredentialDescriptor</a></code>s describing credentials acceptable to the <a data-link-type="dfn" href="#relying-party" id="ref-for-relying-party①②⑥">Relying Party</a> (possibly filtered
by the client), if any.</p>
    <dt data-md=""><var>requireUserPresence</var>
    <dd data-md="">
     <p>A Boolean value provided by the client, which in invocations from a <a data-link-type="dfn" href="#webauthn-client" id="ref-for-webauthn-client⑥">WebAuthn Client</a>'s <code class="idl"><a data-link-type="idl" href="#dom-publickeycredential-discoverfromexternalsource-slot" id="ref-for-dom-publickeycredential-discoverfromexternalsource-slot⑨">[[DiscoverFromExternalSource]](origin, options, sameOriginWithAncestors)</a></code> method is always set to the inverse of <var>requireUserVerification</var>.</p>
    <dt data-md=""><var>requireUserVerification</var>
    <dd data-md="">
     <p>The <a data-link-type="dfn" href="#effective-user-verification-requirement-for-assertion" id="ref-for-effective-user-verification-requirement-for-assertion">effective user verification requirement for assertion</a>, a Boolean value provided by the client.</p>
    <dt data-md=""><var>extensions</var>
    <dd data-md="">
     <p>A <a data-link-type="dfn" href="#cbor" id="ref-for-cbor⑧">CBOR</a> <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#ordered-map" id="ref-for-ordered-map⑧">map</a> from <a data-link-type="dfn" href="#extension-identifier" id="ref-for-extension-identifier⑥">extension identifiers</a> to their <a data-link-type="dfn" href="#authenticator-extension-input" id="ref-for-authenticator-extension-input③">authenticator extension inputs</a>, created by the client based on
the extensions requested by the <a data-link-type="dfn" href="#relying-party" id="ref-for-relying-party①②⑦">Relying Party</a>, if any.</p>
   </dl>
   <p class="note" role="note"><span>Note:</span> Before performing this operation, all other operations in progress in the <a data-link-type="dfn" href="#authenticator-session" id="ref-for-authenticator-session③">authenticator session</a> must be aborted by running the <a data-link-type="dfn" href="#authenticatorcancel" id="ref-for-authenticatorcancel①⓪">authenticatorCancel</a> operation.</p>
   <p>When this method is invoked, the <a data-link-type="dfn" href="#authenticator" id="ref-for-authenticator⑦⑧">authenticator</a> MUST perform the following procedure:</p>
   <ol>
    <li data-md="">
     <p>Check if all the supplied parameters are syntactically well-formed and of the correct length. If not, return an error code
equivalent to "<code class="idl"><a data-link-type="idl" href="https://heycam.github.io/webidl/#unknownerror" id="ref-for-unknownerror②">UnknownError</a></code>" and terminate the operation.</p>
    <li data-md="">
     <p>Let <var>credentialOptions</var> be a new empty <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#ordered-set" id="ref-for-ordered-set⑥">set</a> of <a data-link-type="dfn" href="#public-key-credential-source" id="ref-for-public-key-credential-source①⑥">public key credential sources</a>.</p>
    <li data-md="">
     <p>If <var>allowCredentialDescriptorList</var> was supplied, then <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-iterate" id="ref-for-list-iterate①⑤">for each</a> <var>descriptor</var> of <var>allowCredentialDescriptorList</var>:</p>
     <ol>
      <li data-md="">
       <p>Let <var>credSource</var> be the result of <a data-link-type="dfn" href="#credential-id-looking-up" id="ref-for-credential-id-looking-up①">looking up</a> <code><var>descriptor</var>.<code class="idl"><a data-link-type="idl" href="#dom-publickeycredentialdescriptor-id" id="ref-for-dom-publickeycredentialdescriptor-id③">id</a></code></code> in this
authenticator.</p>
      <li data-md="">
       <p>If <var>credSource</var> is not <code>null</code>, <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#set-append" id="ref-for-set-append③">append</a> it to <var>credentialOptions</var>.</p>
     </ol>
    <li data-md="">
     <p>Otherwise (<var>allowCredentialDescriptorList</var> was not supplied), <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-iterate" id="ref-for-map-iterate④">for each</a> <var>key</var> → <var>credSource</var> of this
authenticator’s <a data-link-type="dfn" href="#authenticator-credentials-map" id="ref-for-authenticator-credentials-map②">credentials map</a>, <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#set-append" id="ref-for-set-append④">append</a> <var>credSource</var> to <var>credentialOptions</var>.</p>
    <li data-md="">
     <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-remove" id="ref-for-list-remove①⑧">Remove</a> any items from <var>credentialOptions</var> whose <a data-link-type="dfn" href="#public-key-credential-source-rpid" id="ref-for-public-key-credential-source-rpid②">rpId</a> is not equal to <var>rpId</var>.</p>
    <li data-md="">
     <p>If <var>credentialOptions</var> is now empty, return an error code equivalent to "<code class="idl"><a data-link-type="idl" href="https://heycam.github.io/webidl/#notallowederror" id="ref-for-notallowederror⑧">NotAllowedError</a></code>" and terminate the operation.</p>
    <li data-md="">
     <p>Prompt the user to select a <a data-link-type="dfn" href="#public-key-credential-source" id="ref-for-public-key-credential-source①⑦">public key credential source</a> <var>selectedCredential</var> from <var>credentialOptions</var>.
Obtain <a data-link-type="dfn" href="#user-consent" id="ref-for-user-consent②④">user consent</a> for using <var>selectedCredential</var>. The prompt for obtaining this <a data-link-type="dfn" href="#user-consent" id="ref-for-user-consent②⑤">consent</a> may be shown
by the <a data-link-type="dfn" href="#authenticator" id="ref-for-authenticator⑦⑨">authenticator</a> if it has its own output capability, or by the user agent otherwise.</p>
     <p>If <var>requireUserVerification</var> is <code>true</code>, the method of obtaining <a data-link-type="dfn" href="#user-consent" id="ref-for-user-consent②⑥">user consent</a> MUST include <a data-link-type="dfn" href="#user-verification" id="ref-for-user-verification③⓪">user verification</a>.</p>
     <p>If <var>requireUserPresence</var> is <code>true</code>, the method of obtaining <a data-link-type="dfn" href="#user-consent" id="ref-for-user-consent②⑦">user consent</a> MUST include a <a data-link-type="dfn" href="#test-of-user-presence" id="ref-for-test-of-user-presence⑧">test of user presence</a>.</p>
     <p>If the user does not <a data-link-type="dfn" href="#user-consent" id="ref-for-user-consent②⑧">consent</a>, return an error code equivalent to
"<code class="idl"><a data-link-type="idl" href="https://heycam.github.io/webidl/#notallowederror" id="ref-for-notallowederror⑨">NotAllowedError</a></code>" and terminate the operation.</p>
    <li data-md="">
     <p>Let <var>processedExtensions</var> be the result of <a data-link-type="dfn" href="#authenticator-extension-processing" id="ref-for-authenticator-extension-processing①">authenticator extension processing</a> <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-iterate" id="ref-for-map-iterate⑤">for each</a> supported <a data-link-type="dfn" href="#extension-identifier" id="ref-for-extension-identifier⑦">extension
identifier</a> → <a data-link-type="dfn" href="#authenticator-extension-input" id="ref-for-authenticator-extension-input④">authenticator extension input</a> in <var>extensions</var>.</p>
    <li data-md="">
     <p>Increment the credential associated <a data-link-type="dfn" href="#signature-counter" id="ref-for-signature-counter①④">signature counter</a> or the global <a data-link-type="dfn" href="#signature-counter" id="ref-for-signature-counter①⑤">signature counter</a> value, depending on 
which approach is implemented by the <a data-link-type="dfn" href="#authenticator" id="ref-for-authenticator⑧⓪">authenticator</a>, by some positive value.</p>
    <li data-md="">
     <p>Let <var>authenticatorData</var> be the byte array specified in <a href="#sec-authenticator-data">§6.1 Authenticator data</a> including <var>processedExtensions</var>, if any, as
the <code><a data-link-type="dfn" href="#authdataextensions" id="ref-for-authdataextensions③">extensions</a></code> and excluding <code><a data-link-type="dfn" href="#attestedcredentialdata" id="ref-for-attestedcredentialdata⑤">attestedCredentialData</a></code>.</p>
    <li data-md="">
     <p>Let <var>signature</var> be the <a data-link-type="dfn" href="#assertion-signature" id="ref-for-assertion-signature④">assertion signature</a> of the concatenation <code><var>authenticatorData</var> || <var>hash</var></code> using the <a data-link-type="dfn" href="#public-key-credential-source-privatekey" id="ref-for-public-key-credential-source-privatekey①">privateKey</a> of <var>selectedCredential</var> as shown in <a href="#fig-signature">Figure 2</a>, below. A simple,
undelimited
concatenation is safe to use here because the <a data-link-type="dfn" href="#authenticator-data" id="ref-for-authenticator-data②①">authenticator data</a> describes its own length. The <a data-link-type="dfn" href="#collectedclientdata-hash-of-the-serialized-client-data" id="ref-for-collectedclientdata-hash-of-the-serialized-client-data⑨">hash of the serialized
client data</a> (which potentially has a variable length) is always the last element.</p>
     <figure id="fig-signature">
       <img src="images/fido-signature-formats-figure2.svg"> 
      <figcaption>Generating an <a data-link-type="dfn" href="#assertion-signature" id="ref-for-assertion-signature⑤">assertion signature</a>.</figcaption>
     </figure>
    <li data-md="">
     <p>If any error occurred while generating the <a data-link-type="dfn" href="#assertion-signature" id="ref-for-assertion-signature⑥">assertion signature</a>, return an error code equivalent to "<code class="idl"><a data-link-type="idl" href="https://heycam.github.io/webidl/#unknownerror" id="ref-for-unknownerror③">UnknownError</a></code>" and
terminate the operation.</p>
    <li id="authenticatorGetAssertion-return-values">
     <a class="self-link" href="#authenticatorGetAssertion-return-values"></a> Return to the user agent: 
     <ul>
      <li data-md="">
       <p><var>selectedCredential</var>.<a data-link-type="dfn" href="#public-key-credential-source-id" id="ref-for-public-key-credential-source-id③">id</a>, if either a list of credentials
(i.e., <var>allowCredentialDescriptorList</var>) of length 2 or greater was
supplied by the client, or no such list was supplied.</p>
       <p class="note" role="note"><span>Note:</span> If, within <var>allowCredentialDescriptorList</var>, the client supplied exactly one credential and it was successfully employed, then its <a data-link-type="dfn" href="#credential-id" id="ref-for-credential-id①①">credential ID</a> is not returned since the client already knows it. This saves transmitting these bytes over
        what may be a constrained connection in what is likely a common case.</p>
      <li data-md="">
       <p><var>authenticatorData</var></p>
      <li data-md="">
       <p><var>signature</var></p>
      <li data-md="">
       <p><var>selectedCredential</var>.<a data-link-type="dfn" href="#public-key-credential-source-userhandle" id="ref-for-public-key-credential-source-userhandle②">userHandle</a></p>
       <p class="note" role="note"><span>Note:</span> the returned <a data-link-type="dfn" href="#public-key-credential-source-userhandle" id="ref-for-public-key-credential-source-userhandle③">userHandle</a> value may be <code>null</code>, see: <a data-link-type="dfn" href="#assertioncreationdata-userhandleresult" id="ref-for-assertioncreationdata-userhandleresult④">userHandleResult</a>.</p>
     </ul>
   </ol>
   <p>If the <a data-link-type="dfn" href="#authenticator" id="ref-for-authenticator⑧①">authenticator</a> cannot find any <a data-link-type="dfn" href="#public-key-credential" id="ref-for-public-key-credential③⑧">credential</a> corresponding to the specified <a data-link-type="dfn" href="#relying-party" id="ref-for-relying-party①②⑧">Relying Party</a> that
matches the specified criteria, it terminates the operation and returns an error.</p>
   <h4 class="heading settled" data-level="6.2.4" id="op-cancel"><span class="secno">6.2.4. </span><span class="content">The <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport="" id="authenticatorcancel">authenticatorCancel</dfn> operation</span><a class="self-link" href="#op-cancel"></a></h4>
   <p>This operation takes no input parameters and returns no result.</p>
   <p>When this operation is invoked by the client in an <a data-link-type="dfn" href="#authenticator-session" id="ref-for-authenticator-session④">authenticator session</a>, it has the effect of terminating any <a data-link-type="dfn" href="#authenticatormakecredential" id="ref-for-authenticatormakecredential⑧">authenticatorMakeCredential</a> or <a data-link-type="dfn" href="#authenticatorgetassertion" id="ref-for-authenticatorgetassertion①②">authenticatorGetAssertion</a> operation currently in progress in that authenticator
session. The authenticator stops prompting for, or accepting, any user input related to authorizing the canceled operation. The
client ignores any further responses from the authenticator for the canceled operation.</p>
   <p>This operation is ignored if it is invoked in an <a data-link-type="dfn" href="#authenticator-session" id="ref-for-authenticator-session⑤">authenticator session</a> which does not have an <a data-link-type="dfn" href="#authenticatormakecredential" id="ref-for-authenticatormakecredential⑨">authenticatorMakeCredential</a> or <a data-link-type="dfn" href="#authenticatorgetassertion" id="ref-for-authenticatorgetassertion①③">authenticatorGetAssertion</a> operation currently in progress.</p>
   <h3 class="heading settled" data-level="6.3" id="sctn-attestation"><span class="secno">6.3. </span><span class="content">Attestation</span><a class="self-link" href="#sctn-attestation"></a></h3>
   <p><a data-link-type="dfn" href="#authenticator" id="ref-for-authenticator⑧②">Authenticators</a> MUST also provide some form of <a data-link-type="dfn" href="#attestation" id="ref-for-attestation⑧">attestation</a>. The basic requirement is that the <a data-link-type="dfn" href="#authenticator" id="ref-for-authenticator⑧③">authenticator</a> can
produce, for each <a data-link-type="dfn" href="#credential-public-key" id="ref-for-credential-public-key①⓪">credential public key</a>, an <a data-link-type="dfn" href="#attestation-statement" id="ref-for-attestation-statement①③">attestation statement</a> verifiable by the <a data-link-type="dfn" href="#relying-party" id="ref-for-relying-party①②⑨">Relying Party</a>. Typically, this <a data-link-type="dfn" href="#attestation-statement" id="ref-for-attestation-statement①④">attestation statement</a> contains a signature by an <a data-link-type="dfn" href="#attestation-private-key" id="ref-for-attestation-private-key①">attestation private key</a> over the attested <a data-link-type="dfn" href="#credential-public-key" id="ref-for-credential-public-key①①">credential public key</a> and
a challenge, as well as a certificate or similar data providing provenance information for the <a data-link-type="dfn" href="#attestation-public-key" id="ref-for-attestation-public-key">attestation public key</a>,
enabling the <a data-link-type="dfn" href="#relying-party" id="ref-for-relying-party①③⓪">Relying Party</a> to make a trust decision. However, if an <a data-link-type="dfn" href="#attestation-key-pair" id="ref-for-attestation-key-pair②">attestation key pair</a> is not available, then the authenticator
MUST perform <a data-link-type="dfn" href="#self-attestation" id="ref-for-self-attestation⑥">self attestation</a> of the <a data-link-type="dfn" href="#credential-public-key" id="ref-for-credential-public-key①②">credential public key</a> with the corresponding <a data-link-type="dfn" href="#credential-private-key" id="ref-for-credential-private-key⑨">credential private key</a>. All this
information is returned by <a data-link-type="dfn" href="#authenticator" id="ref-for-authenticator⑧④">authenticators</a> any time a new <a data-link-type="dfn" href="#public-key-credential" id="ref-for-public-key-credential③⑨">public key credential</a> is generated, in the overall form of an <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport="" id="attestation-object">attestation object</dfn>. The relationship of the <a data-link-type="dfn" href="#attestation-object" id="ref-for-attestation-object①⓪">attestation object</a> with <a data-link-type="dfn" href="#authenticator-data" id="ref-for-authenticator-data②②">authenticator data</a> (containing <a data-link-type="dfn" href="#attested-credential-data" id="ref-for-attested-credential-data⑧">attested credential data</a>) and the <a data-link-type="dfn" href="#attestation-statement" id="ref-for-attestation-statement①⑤">attestation statement</a> is illustrated in <a href="#fig-attStructs">figure 3</a>, below.</p>
   <figure id="fig-attStructs">
     <img src="images/fido-attestation-structures.svg"> 
    <figcaption><a data-link-type="dfn" href="#attestation-object" id="ref-for-attestation-object①①">Attestation object</a> layout illustrating the included <a data-link-type="dfn" href="#authenticator-data" id="ref-for-authenticator-data②③">authenticator data</a> (containing <a data-link-type="dfn" href="#attested-credential-data" id="ref-for-attested-credential-data⑨">attested credential
    data</a>) and the <a data-link-type="dfn" href="#attestation-statement" id="ref-for-attestation-statement①⑥">attestation statement</a>.</figcaption>
    <div class="note" role="note"> This figure illustrates only the <code>packed</code> <a data-link-type="dfn" href="#attestation-statement-format" id="ref-for-attestation-statement-format③">attestation statement format</a>. Several additional <a data-link-type="dfn" href="#attestation-statement-format" id="ref-for-attestation-statement-format④">attestation statement
        formats</a> are defined in <a href="#defined-attestation-formats">§8 Defined Attestation Statement Formats</a>. </div>
   </figure>
   <p>An important component of the <a data-link-type="dfn" href="#attestation-object" id="ref-for-attestation-object①②">attestation object</a> is the <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport="" id="attestation-statement">attestation statement</dfn>. This is a specific type of signed
data object, containing statements about a <a data-link-type="dfn" href="#public-key-credential" id="ref-for-public-key-credential④⓪">public key credential</a> itself and the <a data-link-type="dfn" href="#authenticator" id="ref-for-authenticator⑧⑤">authenticator</a> that created it. It
contains an <a data-link-type="dfn" href="#attestation-signature" id="ref-for-attestation-signature④">attestation signature</a> created using the key of the attesting authority (except for the case of <a data-link-type="dfn" href="#self-attestation" id="ref-for-self-attestation⑦">self
attestation</a>, when it is created using the <a data-link-type="dfn" href="#credential-private-key" id="ref-for-credential-private-key①⓪">credential private key</a>). In order to correctly interpret an <a data-link-type="dfn" href="#attestation-statement" id="ref-for-attestation-statement①⑦">attestation
statement</a>, a <a data-link-type="dfn" href="#relying-party" id="ref-for-relying-party①③①">Relying Party</a> needs to understand these two aspects of <a data-link-type="dfn" href="#attestation" id="ref-for-attestation⑨">attestation</a>:</p>
   <ol>
    <li data-md="">
     <p>The <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport="" id="attestation-statement-format">attestation statement format</dfn> is the manner in which the signature is represented and the various contextual
bindings are incorporated into the attestation statement by the <a data-link-type="dfn" href="#authenticator" id="ref-for-authenticator⑧⑥">authenticator</a>. In other words, this defines the
syntax of the statement. Various existing devices and platforms (such as TPMs and the Android OS) have previously defined <a data-link-type="dfn" href="#attestation-statement-format" id="ref-for-attestation-statement-format⑤">attestation statement formats</a>. This specification supports a variety of such formats in an extensible way, as defined in <a href="#attestation-formats">§6.3.2 Attestation Statement Formats</a>.</p>
    <li data-md="">
     <p>The <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport="" id="attestation-type">attestation type</dfn> defines the semantics of <a data-link-type="dfn" href="#attestation-statement" id="ref-for-attestation-statement①⑧">attestation statements</a> and their underlying trust models.
Specifically, it defines how a <a data-link-type="dfn" href="#relying-party" id="ref-for-relying-party①③②">Relying Party</a> establishes trust in a particular <a data-link-type="dfn" href="#attestation-statement" id="ref-for-attestation-statement①⑨">attestation statement</a>, after verifying that it
is cryptographically valid. This specification supports a number of <a data-link-type="dfn" href="#attestation-type" id="ref-for-attestation-type">attestation types</a>, as described in <a href="#sctn-attestation-types">§6.3.3 Attestation Types</a>.</p>
   </ol>
   <p>In general, there is no simple mapping between <a data-link-type="dfn" href="#attestation-statement-format" id="ref-for-attestation-statement-format⑥">attestation statement formats</a> and <a data-link-type="dfn" href="#attestation-type" id="ref-for-attestation-type①">attestation types</a>. For example, the
"packed" <a data-link-type="dfn" href="#attestation-statement-format" id="ref-for-attestation-statement-format⑦">attestation statement format</a> defined in <a href="#packed-attestation">§8.2 Packed Attestation Statement Format</a> can be used in conjunction with all <a data-link-type="dfn" href="#attestation-type" id="ref-for-attestation-type②">attestation
types</a>, while other formats and types have more limited applicability.</p>
   <p>The privacy, security and operational characteristics of <a data-link-type="dfn" href="#attestation" id="ref-for-attestation①⓪">attestation</a> depend on:</p>
   <ul>
    <li data-md="">
     <p>The <a data-link-type="dfn" href="#attestation-type" id="ref-for-attestation-type③">attestation type</a>, which determines the trust model,</p>
    <li data-md="">
     <p>The <a data-link-type="dfn" href="#attestation-statement-format" id="ref-for-attestation-statement-format⑧">attestation statement format</a>, which MAY constrain the strength of the <a data-link-type="dfn" href="#attestation" id="ref-for-attestation①①">attestation</a> by limiting what can be
expressed in an <a data-link-type="dfn" href="#attestation-statement" id="ref-for-attestation-statement②⓪">attestation statement</a>, and</p>
    <li data-md="">
     <p>The characteristics of the individual <a data-link-type="dfn" href="#authenticator" id="ref-for-authenticator⑧⑦">authenticator</a>, such as its construction, whether part or all of it runs in a secure
operating environment, and so on.</p>
   </ul>
   <p>It is expected that most <a data-link-type="dfn" href="#authenticator" id="ref-for-authenticator⑧⑧">authenticators</a> will support a small number of <a data-link-type="dfn" href="#attestation-type" id="ref-for-attestation-type④">attestation types</a> and <a data-link-type="dfn" href="#attestation-statement-format" id="ref-for-attestation-statement-format⑨">attestation statement
formats</a>, while <a data-link-type="dfn" href="#relying-party" id="ref-for-relying-party①③③">Relying Parties</a> will decide what <a data-link-type="dfn" href="#attestation-type" id="ref-for-attestation-type⑤">attestation types</a> are acceptable to them by policy. <a data-link-type="dfn" href="#relying-party" id="ref-for-relying-party①③④">Relying Parties</a> will also need to
understand the characteristics of the <a data-link-type="dfn" href="#authenticator" id="ref-for-authenticator⑧⑨">authenticators</a> that they trust, based on information they have about these <a data-link-type="dfn" href="#authenticator" id="ref-for-authenticator⑨⓪">authenticators</a>. For example, the FIDO Metadata Service <a data-link-type="biblio" href="#biblio-fidometadataservice">[FIDOMetadataService]</a> provides one way to access such information.</p>
   <h4 class="heading settled" data-level="6.3.1" id="sec-attested-credential-data"><span class="secno">6.3.1. </span><span class="content">Attested credential data</span><a class="self-link" href="#sec-attested-credential-data"></a></h4>
   <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport="" id="attested-credential-data">Attested credential data</dfn> is a variable-length byte array added to the <a data-link-type="dfn" href="#authenticator-data" id="ref-for-authenticator-data②④">authenticator data</a> when generating an <a data-link-type="dfn" href="#attestation-object" id="ref-for-attestation-object①③">attestation
object</a> for a given credential. It has the following format:</p>
   <table class="complex data longlastcol">
    <tbody>
     <tr>
      <th>Name
      <th>Length (in bytes)
      <th>Description
     <tr>
      <td><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport="" id="aaguid">aaguid</dfn>
      <td>16
      <td>The AAGUID of the authenticator.
     <tr>
      <td><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport="" id="credentialidlength">credentialIdLength</dfn>
      <td>2
      <td>Byte length <strong>L</strong> of Credential ID, 16-bit unsigned big-endian integer.
     <tr>
      <td><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport="" id="credentialid">credentialId</dfn>
      <td>L
      <td><a data-link-type="dfn" href="#credential-id" id="ref-for-credential-id①②">Credential ID</a>
     <tr>
      <td><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport="" id="credentialpublickey">credentialPublicKey</dfn>
      <td>variable
      <td> The <a data-link-type="dfn" href="#credential-public-key" id="ref-for-credential-public-key①③">credential public key</a> encoded in COSE_Key format,
            as defined in <a data-link-type="dfn" href="https://tools.ietf.org/html/rfc8152#section-7" id="ref-for-section-7">Section 7</a> of <a data-link-type="biblio" href="#biblio-rfc8152">[RFC8152]</a>, using the <a data-link-type="dfn" href="https://fidoalliance.org/specs/fido-v2.0-id-20180227/fido-client-to-authenticator-protocol-v2.0-id-20180227.html#ctap2-canonical-cbor-encoding-form" id="ref-for-ctap2-canonical-cbor-encoding-form③">CTAP2 canonical CBOR encoding form</a>.
            The COSE_Key-encoded <a data-link-type="dfn" href="#credential-public-key" id="ref-for-credential-public-key①④">credential public key</a> MUST contain the optional "alg" parameter and MUST NOT
            contain any other optional parameters. The "alg" parameter MUST contain a <code class="idl"><a data-link-type="idl" href="#typedefdef-cosealgorithmidentifier" id="ref-for-typedefdef-cosealgorithmidentifier⑥">COSEAlgorithmIdentifier</a></code> value.
            The encoded <a data-link-type="dfn" href="#credential-public-key" id="ref-for-credential-public-key①⑤">credential public key</a> MUST also contain any additional required parameters stipulated by the
            relevant key type specification, i.e., required for the key type "kty" and algorithm "alg" (see Section 8 of <a data-link-type="biblio" href="#biblio-rfc8152">[RFC8152]</a>). 
   </table>
   <p class="note" role="note"><span>NOTE:</span> The names in the Name column in the above table are only for reference within this document, and are not present in the
  actual representation of the <a data-link-type="dfn" href="#attested-credential-data" id="ref-for-attested-credential-data①⓪">attested credential data</a>.</p>
   <h5 class="heading settled" data-level="6.3.1.1" id="sctn-encoded-credPubKey-examples"><span class="secno">6.3.1.1. </span><span class="content">Examples of <code>credentialPublicKey</code> Values encoded in COSE_Key format</span><a class="self-link" href="#sctn-encoded-credPubKey-examples"></a></h5>
   <p>This section provides examples of COSE_Key-encoded Elliptic Curve and RSA public keys for the ES256, PS256, and RS256
signature algorithms. These examples adhere to the rules defined above for the <a data-link-type="dfn" href="#credentialpublickey" id="ref-for-credentialpublickey①">credentialPublicKey</a> value, and are presented in <a data-link-type="biblio" href="#biblio-cddl">[CDDL]</a> for clarity.</p>
   <p><a data-link-type="biblio" href="#biblio-rfc8152">[RFC8152]</a> <a data-link-type="dfn" href="https://tools.ietf.org/html/rfc8152#section-7" id="ref-for-section-7①">Section 7</a> defines the general framework for all COSE_Key-encoded keys.
Specific key types for specific algorithms are defined in other sections of <a data-link-type="biblio" href="#biblio-rfc8152">[RFC8152]</a> as well as in other specifications,
as noted below.</p>
   <p>Below is an example of a COSE_Key-encoded Elliptic Curve public key in EC2 format (see <a data-link-type="biblio" href="#biblio-rfc8152">[RFC8152]</a> <a href="https://tools.ietf.org/html/rfc8152#section-13.1">Section 13.1</a>), on the P-256 curve, to be used with the ES256 signature
algorithm (ECDSA w/ SHA-256, see <a data-link-type="biblio" href="#biblio-rfc8152">[RFC8152]</a> <a href="https://tools.ietf.org/html/rfc8152#section-8.1">Section 8.1</a>):</p>
<pre class="example highlight" id="example-bdbd14cc"><a class="self-link" href="#example-bdbd14cc"></a><span class="p">{</span>
  1:   2,  ; kty: EC2 key type
  3:  -7,  ; alg: ES256 signature algorithm
 -1:   1,  ; crv: P-256 curve
 -2:   x,  ; x-coordinate as byte string 32 bytes in length
           ; e.g., in hex: 65eda5a12577c2bae829437fe338701a10aaa375e1bb5b5de108de439c08551d
 -3:   y   ; y-coordinate as byte string 32 bytes in length
           ; e.g., in hex: 1e52ed75701163f7f9e40ddf9f341b3dc9ba860af7e0ca7ca7e9eecd0084d19c
<span class="p">}</span>
</pre>
   <p>Below is the above Elliptic Curve public key encoded in the <a data-link-type="dfn" href="https://fidoalliance.org/specs/fido-v2.0-id-20180227/fido-client-to-authenticator-protocol-v2.0-id-20180227.html#ctap2-canonical-cbor-encoding-form" id="ref-for-ctap2-canonical-cbor-encoding-form④">CTAP2 canonical CBOR encoding form</a>, whitespace and line breaks
are included here for clarity and to match the <a data-link-type="biblio" href="#biblio-cddl">[CDDL]</a> presentation above:</p>
<pre class="example highlight" id="example-08d0b440"><a class="self-link" href="#example-08d0b440"></a>A<span class="mi">5</span>
   <span class="mi">01</span>  <span class="mi">02</span>

   <span class="mi">03</span>  <span class="mi">26</span>

   <span class="mi">20</span>  <span class="mi">01</span>

   <span class="mi">21</span>  <span class="mi">58</span> <span class="mi">20</span>   <span class="mi">65</span>eda<span class="mi">5</span>a<span class="mi">12577</span>c<span class="mi">2</span>bae<span class="mi">829437</span>fe<span class="mi">338701</span>a<span class="mi">10</span>aaa<span class="mf">375e1</span>bb<span class="mi">5</span>b<span class="mi">5</span>de<span class="mi">108</span>de<span class="mi">439</span>c<span class="mi">08551</span>d

   <span class="mi">22</span>  <span class="mi">58</span> <span class="mi">20</span>   <span class="mf">1e52</span>ed<span class="mi">75701163</span>f<span class="mi">7</span>f<span class="mf">9e40</span>ddf<span class="mi">9</span>f<span class="mi">341</span>b<span class="mi">3</span>dc<span class="mi">9</span>ba<span class="mi">860</span>af<span class="mf">7e0</span>ca<span class="mi">7</span>ca<span class="mf">7e9</span>eecd<span class="mi">0084</span>d<span class="mi">19</span>c
</pre>
   <p>Below is an example of a COSE_Key-encoded 2048-bit RSA public key (see <a data-link-type="biblio" href="#biblio-rfc8230">[RFC8230]</a> <a href="https://tools.ietf.org/html/rfc8230#section-4">Section 4</a>),
to be used with the PS256 signature algorithm
(RSASSA-PSS with SHA-256, see <a data-link-type="biblio" href="#biblio-rfc8230">[RFC8230]</a> <a href="https://tools.ietf.org/html/rfc8230#section-2">Section 2</a>):</p>
<pre class="example highlight" id="example-fb934e19"><a class="self-link" href="#example-fb934e19"></a><span class="p">{</span>
  1:   3,  ; kty: RSA key type
  3: -37,  ; alg: PS256
 -1:   n,  ; n:   RSA modulus n byte string 256 bytes in length
           ;      e.g., in hex (middle bytes elided for brevity): DB5F651550...6DC6548ACC3
 -2:   e   ; e:   RSA public exponent e byte string 3 bytes in length
           ;      e.g., in hex: 010001
<span class="p">}</span>
</pre>
   <p>Below is an example of the same COSE_Key-encoded RSA public key as above,
to be used with the RS256 signature algorithm (RSASSA-PKCS1-v1_5 with SHA-256, see <a href="#sctn-cose-alg-reg">§11.3 COSE Algorithm Registrations</a>):</p>
<pre class="example highlight" id="example-8dfabc00"><a class="self-link" href="#example-8dfabc00"></a><span class="p">{</span>
  1:   3,  ; kty: RSA key type
  3:-257,  ; alg: RS256
 -1:   n,  ; n:   RSA modulus n byte string 256 bytes in length
           ;      e.g., in hex (middle bytes elided for brevity): DB5F651550...6DC6548ACC3
 -2:   e   ; e:   RSA public exponent e byte string 3 bytes in length
           ;      e.g., in hex: 010001
<span class="p">}</span>
</pre>
   <h4 class="heading settled" data-level="6.3.2" id="attestation-formats"><span class="secno">6.3.2. </span><span class="content">Attestation Statement Formats</span><a class="self-link" href="#attestation-formats"></a></h4>
   <p>As described above, an <a data-link-type="dfn" href="#attestation-statement-format" id="ref-for-attestation-statement-format①⓪">attestation statement format</a> is a data format which represents a cryptographic signature by an <a data-link-type="dfn" href="#authenticator" id="ref-for-authenticator⑨①">authenticator</a> over a set of contextual bindings. Each <a data-link-type="dfn" href="#attestation-statement-format" id="ref-for-attestation-statement-format①①">attestation statement format</a> MUST be defined using the following
template:</p>
   <ul>
    <li data-md="">
     <p><strong><a data-link-type="dfn" href="#attestation-statement-format-identifier" id="ref-for-attestation-statement-format-identifier">Attestation statement format identifier</a>:</strong></p>
    <li data-md="">
     <p><strong>Supported <a data-link-type="dfn" href="#attestation-type" id="ref-for-attestation-type⑥">attestation types</a>:</strong></p>
    <li data-md="">
     <p><strong>Syntax:</strong> The syntax of an <a data-link-type="dfn" href="#attestation-statement" id="ref-for-attestation-statement②①">attestation statement</a> produced in this format, defined using <a data-link-type="biblio" href="#biblio-cddl">[CDDL]</a> for the extension point <code>$attStmtFormat</code> defined in <a href="#generating-an-attestation-object">§6.3.4 Generating an Attestation Object</a>.</p>
    <li data-md="">
     <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport="" id="signing-procedure">Signing procedure</dfn>:
The <a data-link-type="dfn" href="#signing-procedure" id="ref-for-signing-procedure">signing procedure</a> for computing an <a data-link-type="dfn" href="#attestation-statement" id="ref-for-attestation-statement②②">attestation statement</a> in this <a data-link-type="dfn" href="#attestation-statement-format" id="ref-for-attestation-statement-format①②">format</a> given
the <a data-link-type="dfn" href="#public-key-credential" id="ref-for-public-key-credential④①">public key credential</a> to be attested, the <a data-link-type="dfn" href="#authenticator-data" id="ref-for-authenticator-data②⑤">authenticator data</a> structure containing the <dfn class="dfn-paneled" data-dfn-type="dfn" data-lt="authenticator data for the attestation" data-noexport="" id="authenticator-data-for-the-attestation">authenticator data
for the attestation</dfn>, and the <a data-link-type="dfn" href="#collectedclientdata-hash-of-the-serialized-client-data" id="ref-for-collectedclientdata-hash-of-the-serialized-client-data①⓪">hash of the serialized client data</a>.</p>
    <li data-md="">
     <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport="" id="verification-procedure">Verification procedure</dfn>:
The procedure for verifying an <a data-link-type="dfn" href="#attestation-statement" id="ref-for-attestation-statement②③">attestation statement</a>, which takes the following <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport="" id="verification-procedure-inputs">verification procedure inputs</dfn>:</p>
     <ul>
      <li data-md="">
       <p><var>attStmt</var>: The <a data-link-type="dfn" href="#attestation-statement" id="ref-for-attestation-statement②④">attestation statement</a> structure</p>
      <li data-md="">
       <p><var>authenticatorData</var>: The <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport="" id="authenticator-data-claimed-to-have-been-used-for-the-attestation"><a data-link-type="dfn" href="#authenticator-data" id="ref-for-authenticator-data②⑥">authenticator data</a> claimed to have been used for the attestation</dfn></p>
      <li data-md="">
       <p><var>clientDataHash</var>: The <a data-link-type="dfn" href="#collectedclientdata-hash-of-the-serialized-client-data" id="ref-for-collectedclientdata-hash-of-the-serialized-client-data①①">hash of the serialized client data</a></p>
     </ul>
     <p>The procedure returns either:</p>
     <ul>
      <li data-md="">
       <p>An error indicating that the attestation is invalid, or</p>
      <li data-md="">
       <p>The <a data-link-type="dfn" href="#attestation-type" id="ref-for-attestation-type⑦">attestation type</a>, and the <a data-link-type="dfn" href="#attestation-trust-path" id="ref-for-attestation-trust-path">trust path</a>. This <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport="" id="attestation-trust-path">attestation trust path</dfn> is either
empty (in case of <a data-link-type="dfn" href="#self-attestation" id="ref-for-self-attestation⑧">self attestation</a>), an identifier of an <a data-link-type="dfn" href="#ecdaa-issuer-public-key" id="ref-for-ecdaa-issuer-public-key">ECDAA-Issuer public key</a> (in the case of <a data-link-type="dfn" href="#ecdaa" id="ref-for-ecdaa">ECDAA</a>), or a
set of X.509 certificates.</p>
     </ul>
   </ul>
   <p>The initial list of specified <a data-link-type="dfn" href="#attestation-statement-format" id="ref-for-attestation-statement-format①③">attestation statement formats</a> is in <a href="#defined-attestation-formats">§8 Defined Attestation Statement Formats</a>.</p>
   <h4 class="heading settled" data-level="6.3.3" id="sctn-attestation-types"><span class="secno">6.3.3. </span><span class="content">Attestation Types</span><a class="self-link" href="#sctn-attestation-types"></a></h4>
   <p>WebAuthn supports multiple attestation types:</p>
   <dl>
    <dt data-md=""><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport="" id="basic-attestation">Basic Attestation</dfn> (<dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport="" id="basic">Basic</dfn>)
    <dd data-md="">
     <p>In the case of basic attestation <a data-link-type="biblio" href="#biblio-uafprotocol">[UAFProtocol]</a>, the authenticator’s <a data-link-type="dfn" href="#attestation-key-pair" id="ref-for-attestation-key-pair③">attestation key pair</a> is specific to an
authenticator model.  Thus, authenticators of the same model often share the same attestation key pair. See <a href="#sec-attestation-privacy">§14.1 Attestation Privacy</a> for further information.</p>
    <dt data-md=""><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport="" id="self-attestation">Self Attestation</dfn> (<dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport="" id="self">Self</dfn>)
    <dd data-md="">
     <p>In the case of <a data-link-type="dfn" href="#self-attestation" id="ref-for-self-attestation⑨">self attestation</a>, also known as surrogate basic attestation <a data-link-type="biblio" href="#biblio-uafprotocol">[UAFProtocol]</a>, the Authenticator does not have
any specific attestation key. Instead it uses the credential private key to create the attestation signature.
Authenticators without meaningful protection measures for an attestation private key typically use this attestation type.</p>
    <dt data-md=""><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport="" id="attestation-ca">Attestation CA</dfn> (<dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport="" id="attca">AttCA</dfn>)
    <dd data-md="">
     <p>In this case, an <a data-link-type="dfn" href="#authenticator" id="ref-for-authenticator⑨②">authenticator</a> is based on a Trusted Platform Module (TPM) and holds an authenticator-specific
"endorsement key" (EK). This key is used to securely communicate with a trusted third party, the <a data-link-type="dfn" href="#attestation-ca" id="ref-for-attestation-ca①">Attestation CA</a> <a data-link-type="biblio" href="#biblio-tcg-cmcprofile-aikcertenroll">[TCG-CMCProfile-AIKCertEnroll]</a> (formerly known as a "Privacy CA"). The <a data-link-type="dfn" href="#authenticator" id="ref-for-authenticator⑨③">authenticator</a> can generate multiple
attestation identity key pairs (AIK) and requests an <a data-link-type="dfn" href="#attestation-ca" id="ref-for-attestation-ca②">Attestation CA</a> to issue an AIK certificate
for each. Using this approach, such an <a data-link-type="dfn" href="#authenticator" id="ref-for-authenticator⑨④">authenticator</a> can limit the exposure of the EK (which is a global correlation
handle) to Attestation CA(s). AIKs can be requested for each <a data-link-type="dfn" href="#authenticator" id="ref-for-authenticator⑨⑤">authenticator</a>-generated <a data-link-type="dfn" href="#public-key-credential" id="ref-for-public-key-credential④②">public key credential</a> individually, and conveyed to <a data-link-type="dfn" href="#relying-party" id="ref-for-relying-party①③⑤">Relying Parties</a> as <a data-link-type="dfn" href="#attestation-certificate" id="ref-for-attestation-certificate②">attestation certificates</a>.</p>
     <p class="note" role="note"><span>Note:</span> This concept typically leads to multiple attestation certificates. The attestation certificate requested most recently
    is called "active".</p>
    <dt data-md=""><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport="" id="elliptic-curve-based-direct-anonymous-attestation">Elliptic Curve based Direct Anonymous Attestation</dfn> (<dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport="" id="ecdaa">ECDAA</dfn>)
    <dd data-md="">
     <p>In this case, the Authenticator receives direct anonymous attestation (DAA) credentials from a single DAA-Issuer.
These DAA credentials are used along with blinding to sign the <a data-link-type="dfn" href="#attested-credential-data" id="ref-for-attested-credential-data①①">attested credential data</a>. The concept of blinding avoids
the DAA credentials being misused as global correlation handle. WebAuthn supports DAA using elliptic curve cryptography and
bilinear pairings, called <a data-link-type="dfn" href="#ecdaa" id="ref-for-ecdaa①">ECDAA</a> (see <a data-link-type="biblio" href="#biblio-fidoecdaaalgorithm">[FIDOEcdaaAlgorithm]</a>) in this specification. Consequently we denote the DAA-Issuer
as ECDAA-Issuer (see <a data-link-type="biblio" href="#biblio-fidoecdaaalgorithm">[FIDOEcdaaAlgorithm]</a>).</p>
    <dt data-md="">No attestation statement (<dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport="" id="none">None</dfn>)
    <dd data-md="">
     <p>In this case, no attestation information is available. See also <a href="#none-attestation">§8.7 None Attestation Statement Format</a>.</p>
   </dl>
   <h4 class="heading settled algorithm" data-algorithm="Generating an Attestation Object" data-level="6.3.4" id="generating-an-attestation-object"><span class="secno">6.3.4. </span><span class="content">Generating an Attestation Object</span><a class="self-link" href="#generating-an-attestation-object"></a></h4>
   <p>To generate an <a data-link-type="dfn" href="#attestation-object" id="ref-for-attestation-object①④">attestation object</a> (see: <a href="#fig-attStructs">Figure 3</a>) given:</p>
   <dl>
    <dt data-md=""><var>attestationFormat</var>
    <dd data-md="">
     <p>An <a data-link-type="dfn" href="#attestation-statement-format" id="ref-for-attestation-statement-format①④">attestation statement format</a>.</p>
    <dt data-md=""><var>authData</var>
    <dd data-md="">
     <p>A byte array containing <a data-link-type="dfn" href="#authenticator-data" id="ref-for-authenticator-data②⑦">authenticator data</a>.</p>
    <dt data-md=""><var>hash</var>
    <dd data-md="">
     <p>The <a data-link-type="dfn" href="#collectedclientdata-hash-of-the-serialized-client-data" id="ref-for-collectedclientdata-hash-of-the-serialized-client-data①②">hash of the serialized client data</a>.</p>
   </dl>
   <p>the <a data-link-type="dfn" href="#authenticator" id="ref-for-authenticator⑨⑥">authenticator</a> MUST:</p>
   <ol>
    <li data-md="">
     <p>Let <var>attStmt</var> be the result of running <var>attestationFormat</var>’s <a data-link-type="dfn" href="#signing-procedure" id="ref-for-signing-procedure①">signing procedure</a> given <var>authData</var> and <var>hash</var>.</p>
    <li data-md="">
     <p>Let <var>fmt</var> be <var>attestationFormat</var>’s <a data-link-type="dfn" href="#attestation-statement-format-identifier" id="ref-for-attestation-statement-format-identifier①">attestation statement format identifier</a></p>
    <li data-md="">
     <p>Return the <a data-link-type="dfn" href="#attestation-object" id="ref-for-attestation-object①⑤">attestation object</a> as a CBOR map with the following syntax, filled in with variables initialized by this
algorithm:</p>
<pre>    attObj = {
                authData: bytes,
                $$attStmtType
             }

    attStmtTemplate = (
                          fmt: text,
                          attStmt: { * tstr => any } ; Map is filled in by each concrete attStmtType
                      )

    ; Every attestation statement format must have the above fields
    attStmtTemplate .within $$attStmtType
</pre>
   </ol>
   <h4 class="heading settled" data-level="6.3.5" id="signature-attestation-types"><span class="secno">6.3.5. </span><span class="content">Signature Formats for Packed Attestation, FIDO U2F Attestation, and Assertion Signatures</span><a class="self-link" href="#signature-attestation-types"></a></h4>
   <ul>
    <li data-md="">
     <p>For COSEAlgorithmIdentifier -7 (ES256),  and other ECDSA-based algorithms,
a signature value is encoded as an ASN.1 DER Ecdsa-Sig-Value, as defined in <a data-link-type="biblio" href="#biblio-rfc3279">[RFC3279]</a> section 2.2.3.</p>
<pre>        Example:
        30 44                                ; SEQUENCE (68 Bytes)
            02 20                            ; INTEGER (32 Bytes)
            |  3d 46 28 7b 8c 6e 8c 8c  26 1c 1b 88 f2 73 b0 9a
            |  32 a6 cf 28 09 fd 6e 30  d5 a7 9f 26 37 00 8f 54
            02 20                            ; INTEGER (32 Bytes)
            |  4e 72 23 6e a3 90 a9 a1  7b cf 5f 7a 09 d6 3a b2
            |  17 6c 92 bb 8e 36 c0 41  98 a2 7b 90 9b 6e 8f 13
</pre>
     <p class="note" role="note"><span>Note:</span> As CTAP1/U2F devices are already producing signatures values in this format, CTAP2
devices will also produce signatures values in the same format, for consistency reasons.
It is recommended that any new attestation formats defined not use ASN.1 encodings,
but instead represent signatures as equivalent fixed-length byte arrays without internal structure,
using the same representations as used by COSE signatures as defined in <a data-link-type="biblio" href="#biblio-rfc8152">[RFC8152]</a> and <a data-link-type="biblio" href="#biblio-rfc8230">[RFC8230]</a>.</p>
    <li data-md="">
     <p>For COSEAlgorithmIdentifier -257 (RS256), <code>sig</code> contains the signature generated using the
RSASSA-PKCS1-v1_5 signature scheme defined in section 8.2.1 in <a data-link-type="biblio" href="#biblio-rfc8017">[RFC8017]</a> with SHA-256 as the hash function.
The signature is not ASN.1 wrapped.</p>
    <li data-md="">
     <p>For COSEAlgorithmIdentifier -37 (PS256), <code>sig</code> contains the signature generated using the
RSASSA-PSS signature scheme defined in section 8.1.1 in <a data-link-type="biblio" href="#biblio-rfc8017">[RFC8017]</a> with SHA-256 as the hash function.
The signature is not ASN.1 wrapped.</p>
   </ul>
   <h2 class="heading settled" data-level="7" id="rp-operations"><span class="secno">7. </span><span class="content"><a data-link-type="dfn" href="#relying-party" id="ref-for-relying-party①③⑥">Relying Party</a> Operations</span><a class="self-link" href="#rp-operations"></a></h2>
   <p>Upon successful execution of <code class="idl"><a data-link-type="idl" href="https://w3c.github.io/webappsec-credential-management/#dom-credentialscontainer-create" id="ref-for-dom-credentialscontainer-create①③">create()</a></code> or <code class="idl"><a data-link-type="idl" href="https://w3c.github.io/webappsec-credential-management/#dom-credentialscontainer-get" id="ref-for-dom-credentialscontainer-get①④">get()</a></code>, the <a data-link-type="dfn" href="#relying-party" id="ref-for-relying-party①③⑦">Relying Party</a>'s script receives
a <code class="idl"><a data-link-type="idl" href="#publickeycredential" id="ref-for-publickeycredential①⑥">PublicKeyCredential</a></code> containing an <code class="idl"><a data-link-type="idl" href="#authenticatorattestationresponse" id="ref-for-authenticatorattestationresponse④">AuthenticatorAttestationResponse</a></code> or <code class="idl"><a data-link-type="idl" href="#authenticatorassertionresponse" id="ref-for-authenticatorassertionresponse⑤">AuthenticatorAssertionResponse</a></code> structure,
respectively, from the client. It must then deliver the contents of this structure to the <a data-link-type="dfn" href="#relying-party" id="ref-for-relying-party①③⑧">Relying Party</a> server, using methods outside
the scope of this specification. This section describes the operations that the <a data-link-type="dfn" href="#relying-party" id="ref-for-relying-party①③⑨">Relying Party</a> must perform upon receipt of these
structures.</p>
   <h3 class="heading settled" data-level="7.1" id="registering-a-new-credential"><span class="secno">7.1. </span><span class="content">Registering a new credential</span><a class="self-link" href="#registering-a-new-credential"></a></h3>
   <p>When registering a new credential, represented by an <code class="idl"><a data-link-type="idl" href="#authenticatorattestationresponse" id="ref-for-authenticatorattestationresponse⑤">AuthenticatorAttestationResponse</a></code> structure <var>response</var> and an <code class="idl"><a data-link-type="idl" href="#dictdef-authenticationextensionsclientoutputs" id="ref-for-dictdef-authenticationextensionsclientoutputs④">AuthenticationExtensionsClientOutputs</a></code> structure <var>clientExtensionResults</var>, as part of a <a data-link-type="dfn" href="#registration" id="ref-for-registration①①">registration</a> <a data-link-type="dfn" href="#ceremony" id="ref-for-ceremony⑧">ceremony</a>, a <a data-link-type="dfn" href="#relying-party" id="ref-for-relying-party①④⓪">Relying Party</a> MUST proceed as follows:</p>
   <ol>
    <li data-md="">
     <p>Let <var>JSONtext</var> be the result of
running <a data-link-type="dfn" href="https://encoding.spec.whatwg.org/#utf-8-decode" id="ref-for-utf-8-decode">UTF-8 decode</a> on the value of <code><var>response</var>.<code class="idl"><a data-link-type="idl" href="#dom-authenticatorresponse-clientdatajson" id="ref-for-dom-authenticatorresponse-clientdatajson⑦">clientDataJSON</a></code></code>.</p>
     <p class="note" role="note"><span>Note:</span> Using any implementation of <a data-link-type="dfn" href="https://encoding.spec.whatwg.org/#utf-8-decode" id="ref-for-utf-8-decode①">UTF-8 decode</a> is acceptable as long as it yields the same result as that yielded by
the <a data-link-type="dfn" href="https://encoding.spec.whatwg.org/#utf-8-decode" id="ref-for-utf-8-decode②">UTF-8 decode</a> algorithm. In particular, any leading byte order mark (BOM) MUST be stripped.</p>
    <li data-md="">
     <p>Let <var>C</var>, the <a data-link-type="dfn" href="#client-data" id="ref-for-client-data⑦">client data</a> claimed as collected during the credential creation, be the result of running an
implementation-specific JSON parser on <var>JSONtext</var>.</p>
     <p class="note" role="note"><span>Note:</span> <var>C</var> may be any implementation-specific data structure representation, as long as <var>C</var>’s components are referenceable, as
required by this algorithm.</p>
    <li data-md="">
     <p>Verify that the value of <code><var>C</var>.<code class="idl"><a data-link-type="idl" href="#dom-collectedclientdata-type" id="ref-for-dom-collectedclientdata-type③">type</a></code></code> is <code>webauthn.create</code>.</p>
    <li data-md="">
     <p>Verify that the value of <code><var>C</var>.<code class="idl"><a data-link-type="idl" href="#dom-collectedclientdata-challenge" id="ref-for-dom-collectedclientdata-challenge③">challenge</a></code></code> matches the challenge that was sent to the
authenticator in the <code class="idl"><a data-link-type="idl" href="https://w3c.github.io/webappsec-credential-management/#dom-credentialscontainer-create" id="ref-for-dom-credentialscontainer-create①④">create()</a></code> call.</p>
    <li data-md="">
     <p>Verify that the value of <code><var>C</var>.<code class="idl"><a data-link-type="idl" href="#dom-collectedclientdata-origin" id="ref-for-dom-collectedclientdata-origin③">origin</a></code></code> matches the <a data-link-type="dfn" href="#relying-party" id="ref-for-relying-party①④①">Relying Party</a>'s <a data-link-type="dfn" href="https://w3c.github.io/html/browsers.html#concept-cross-origin" id="ref-for-concept-cross-origin①④">origin</a>.</p>
    <li data-md="">
     <p>Verify that the value of <code><var>C</var>.<code class="idl"><a data-link-type="idl" href="#dom-collectedclientdata-tokenbinding" id="ref-for-dom-collectedclientdata-tokenbinding③">tokenBinding</a></code>.<code class="idl"><a data-link-type="idl" href="#dom-tokenbinding-status" id="ref-for-dom-tokenbinding-status②">status</a></code></code> matches the state of <a data-link-type="dfn" href="https://tools.ietf.org/html/draft-ietf-tokbind-protocol#token-binding" id="ref-for-token-binding③">Token Binding</a> for the TLS connection over which the <a data-link-type="dfn" href="#assertion" id="ref-for-assertion">assertion</a> was obtained. If <a data-link-type="dfn" href="https://tools.ietf.org/html/draft-ietf-tokbind-protocol#token-binding" id="ref-for-token-binding④">Token Binding</a> was used on that TLS connection, also verify that <code><var>C</var>.<code class="idl"><a data-link-type="idl" href="#dom-collectedclientdata-tokenbinding" id="ref-for-dom-collectedclientdata-tokenbinding④">tokenBinding</a></code>.<code class="idl"><a data-link-type="idl" href="#dom-tokenbinding-id" id="ref-for-dom-tokenbinding-id②">id</a></code></code> matches the <a data-link-type="dfn" href="#base64url-encoding" id="ref-for-base64url-encoding⑥">base64url encoding</a> of the <a data-link-type="dfn" href="https://tools.ietf.org/html/draft-ietf-tokbind-protocol#section-3.2" id="ref-for-section-3.2③">Token Binding ID</a> for the connection.</p>
    <li data-md="">
     <p>Compute the hash of <code><var>response</var>.<code class="idl"><a data-link-type="idl" href="#dom-authenticatorresponse-clientdatajson" id="ref-for-dom-authenticatorresponse-clientdatajson⑧">clientDataJSON</a></code></code> using SHA-256.</p>
    <li data-md="">
     <p>Perform CBOR decoding on the <code class="idl"><a data-link-type="idl" href="#dom-authenticatorattestationresponse-attestationobject" id="ref-for-dom-authenticatorattestationresponse-attestationobject②">attestationObject</a></code> field of the <code class="idl"><a data-link-type="idl" href="#authenticatorattestationresponse" id="ref-for-authenticatorattestationresponse⑥">AuthenticatorAttestationResponse</a></code> structure to obtain the attestation statement format <var>fmt</var>, the <a data-link-type="dfn" href="#authenticator-data" id="ref-for-authenticator-data②⑧">authenticator data</a> <var>authData</var>, and the attestation statement <var>attStmt</var>.</p>
    <li data-md="">
     <p>Verify that the <a data-link-type="dfn" href="#rp-id" id="ref-for-rp-id②③">RP ID</a> hash in <var>authData</var> is indeed the SHA-256 hash of the <a data-link-type="dfn" href="#rp-id" id="ref-for-rp-id②④">RP ID</a> expected by the RP.</p>
    <li data-md="">
     <p>Verify that the <a data-link-type="dfn" href="#concept-user-present" id="ref-for-concept-user-present④">User Present</a> bit of the <code><a data-link-type="dfn" href="#flags" id="ref-for-flags④">flags</a></code> in <var>authData</var> is set.</p>
    <li data-md="">
     <p>If <a data-link-type="dfn" href="#user-verification" id="ref-for-user-verification③①">user verification</a> is required for this registration, verify that the <a data-link-type="dfn" href="#concept-user-verified" id="ref-for-concept-user-verified④">User Verified</a> bit of the <code><a data-link-type="dfn" href="#flags" id="ref-for-flags⑤">flags</a></code> in <var>authData</var> is set.</p>
    <li data-md="">
     <p>Verify that the values of the <a data-link-type="dfn" href="#client-extension-output" id="ref-for-client-extension-output⑥">client extension outputs</a> in <var>clientExtensionResults</var> and the <a data-link-type="dfn" href="#authenticator-extension-output" id="ref-for-authenticator-extension-output①">authenticator extension
outputs</a> in the <code><a data-link-type="dfn" href="#authdataextensions" id="ref-for-authdataextensions④">extensions</a></code> in <var>authData</var> are as expected, considering the <a data-link-type="dfn" href="#client-extension-input" id="ref-for-client-extension-input①">client
extension input</a> values that were given as the <code class="idl"><a data-link-type="idl" href="#dom-publickeycredentialcreationoptions-extensions" id="ref-for-dom-publickeycredentialcreationoptions-extensions③">extensions</a></code> option in the <code class="idl"><a data-link-type="idl" href="https://w3c.github.io/webappsec-credential-management/#dom-credentialscontainer-create" id="ref-for-dom-credentialscontainer-create①⑤">create()</a></code> call.
In particular, any <a data-link-type="dfn" href="#extension-identifier" id="ref-for-extension-identifier⑧">extension identifier</a> values in the <var>clientExtensionResults</var> and
the <code><a data-link-type="dfn" href="#authdataextensions" id="ref-for-authdataextensions⑤">extensions</a></code> in <var>authData</var> MUST be also be present as <a data-link-type="dfn" href="#extension-identifier" id="ref-for-extension-identifier⑨">extension identifier</a> values in
the <code class="idl"><a data-link-type="idl" href="#dom-publickeycredentialcreationoptions-extensions" id="ref-for-dom-publickeycredentialcreationoptions-extensions④">extensions</a></code> member of <var>options</var>,
i.e., no extensions are present that were not requested.
In the general case, the meaning of "are as expected" is specific to the <a data-link-type="dfn" href="#relying-party" id="ref-for-relying-party①④②">Relying Party</a> and which extensions are in use.</p>
     <p class="note" role="note"><span>Note:</span> Since all extensions are OPTIONAL for both the <a data-link-type="dfn" href="#client" id="ref-for-client①④">client</a> and the <a data-link-type="dfn" href="#authenticator" id="ref-for-authenticator⑨⑦">authenticator</a>, the <a data-link-type="dfn" href="#relying-party" id="ref-for-relying-party①④③">Relying Party</a> MUST be prepared to
handle cases where none or not all of the requested extensions were acted upon.</p>
    <li data-md="">
     <p>Determine the attestation statement format by performing a USASCII case-sensitive match on <var>fmt</var> against the set of
supported WebAuthn Attestation Statement Format Identifier values.
The up-to-date list of registered WebAuthn Attestation Statement Format Identifier values
is maintained in the in the IANA registry of the same name <a data-link-type="biblio" href="#biblio-webauthn-registries">[WebAuthn-Registries]</a>.</p>
    <li data-md="">
     <p>Verify that <var>attStmt</var> is a correct <a data-link-type="dfn" href="#attestation-statement" id="ref-for-attestation-statement②⑤">attestation statement</a>, conveying a valid <a data-link-type="dfn" href="#attestation-signature" id="ref-for-attestation-signature⑤">attestation signature</a>, by using the <a data-link-type="dfn" href="#attestation-statement-format" id="ref-for-attestation-statement-format①⑤">attestation statement format</a> <var>fmt</var>’s <a data-link-type="dfn" href="#verification-procedure" id="ref-for-verification-procedure">verification procedure</a> given <var>attStmt</var>, <var>authData</var> and the <a data-link-type="dfn" href="#collectedclientdata-hash-of-the-serialized-client-data" id="ref-for-collectedclientdata-hash-of-the-serialized-client-data①③">hash of the serialized
client data</a> computed in step 7.</p>
     <p class="note" role="note"><span>Note:</span> Each <a data-link-type="dfn" href="#attestation-statement-format" id="ref-for-attestation-statement-format①⑥">attestation statement format</a> specifies its own <a data-link-type="dfn" href="#verification-procedure" id="ref-for-verification-procedure①">verification procedure</a>. See <a href="#defined-attestation-formats">§8 Defined Attestation Statement Formats</a> for
the initially-defined formats, and <a data-link-type="biblio" href="#biblio-webauthn-registries">[WebAuthn-Registries]</a> for the up-to-date list.</p>
    <li data-md="">
     <p>If validation is successful, obtain a list of acceptable trust anchors (attestation root certificates or <a data-link-type="dfn" href="#ecdaa-issuer-public-key" id="ref-for-ecdaa-issuer-public-key①">ECDAA-Issuer
public key</a>s) for that attestation type and attestation statement format <var>fmt</var>, from a trusted source or from policy. For
example, the FIDO Metadata Service <a data-link-type="biblio" href="#biblio-fidometadataservice">[FIDOMetadataService]</a> provides one way to obtain such information, using the <code><a data-link-type="dfn" href="#aaguid" id="ref-for-aaguid⑤">aaguid</a></code> in the <code><a data-link-type="dfn" href="#attestedcredentialdata" id="ref-for-attestedcredentialdata⑥">attestedCredentialData</a></code> in <var>authData</var>.</p>
    <li data-md="">
     <p>Assess the attestation trustworthiness using the outputs of the <a data-link-type="dfn" href="#verification-procedure" id="ref-for-verification-procedure②">verification procedure</a> in step 14, as follows:</p>
     <ul>
      <li data-md="">
       <p>If <a data-link-type="dfn" href="#self-attestation" id="ref-for-self-attestation①⓪">self attestation</a> was used, check if <a data-link-type="dfn" href="#self-attestation" id="ref-for-self-attestation①①">self attestation</a> is acceptable under <a data-link-type="dfn" href="#relying-party" id="ref-for-relying-party①④④">Relying Party</a> policy.</p>
      <li data-md="">
       <p>If <a data-link-type="dfn" href="#ecdaa" id="ref-for-ecdaa②">ECDAA</a> was used, verify that the <a data-link-type="dfn" href="#identifier-of-the-ecdaa-issuer-public-key" id="ref-for-identifier-of-the-ecdaa-issuer-public-key">identifier of the ECDAA-Issuer public key</a> used is included in the set of
acceptable trust anchors obtained in step 15.</p>
      <li data-md="">
       <p>Otherwise, use the X.509 certificates returned by the <a data-link-type="dfn" href="#verification-procedure" id="ref-for-verification-procedure③">verification procedure</a> to verify that the attestation public key
correctly chains up to an acceptable root certificate.</p>
     </ul>
    <li data-md="">
     <p>Check that the <code><a data-link-type="dfn" href="#credentialid" id="ref-for-credentialid②">credentialId</a></code> is not yet registered to any other user. If registration
is requested for a credential that is already registered to a different user, the <a data-link-type="dfn" href="#relying-party" id="ref-for-relying-party①④⑤">Relying Party</a> SHOULD 
fail this <a data-link-type="dfn" href="#registration" id="ref-for-registration①②">registration</a> ceremony, or it MAY decide to accept the registration, e.g. while deleting the older registration.</p>
    <li data-md="">
     <p>If the attestation statement <var>attStmt</var> verified successfully and is found to be trustworthy, then register the new
credential with the account that was denoted in the <code class="idl"><a data-link-type="idl" href="#dom-publickeycredential-create-origin-options-sameoriginwithancestors-options" id="ref-for-dom-publickeycredential-create-origin-options-sameoriginwithancestors-options">options</a></code>.<code class="idl"><a data-link-type="idl" href="#dom-publickeycredentialcreationoptions-user" id="ref-for-dom-publickeycredentialcreationoptions-user②">user</a></code> passed to <code class="idl"><a data-link-type="idl" href="https://w3c.github.io/webappsec-credential-management/#dom-credentialscontainer-create" id="ref-for-dom-credentialscontainer-create①⑥">create()</a></code>, by associating it with the <code><a data-link-type="dfn" href="#credentialid" id="ref-for-credentialid③">credentialId</a></code> and <code><a data-link-type="dfn" href="#credentialpublickey" id="ref-for-credentialpublickey②">credentialPublicKey</a></code> in the <code><a data-link-type="dfn" href="#attestedcredentialdata" id="ref-for-attestedcredentialdata⑦">attestedCredentialData</a></code> in <var>authData</var>, as appropriate for the <a data-link-type="dfn" href="#relying-party" id="ref-for-relying-party①④⑥">Relying Party</a>'s system.</p>
    <li data-md="">
     <p>If the attestation statement <var>attStmt</var> successfully verified but is not trustworthy per step 16 above, the <a data-link-type="dfn" href="#relying-party" id="ref-for-relying-party①④⑦">Relying Party</a> SHOULD fail
the <a data-link-type="dfn" href="#registration" id="ref-for-registration①③">registration</a> <a data-link-type="dfn" href="#ceremony" id="ref-for-ceremony⑨">ceremony</a>.</p>
     <p class="note" role="note"><span>NOTE:</span> However, if permitted by policy, the <a data-link-type="dfn" href="#relying-party" id="ref-for-relying-party①④⑧">Relying Party</a> MAY register the <a data-link-type="dfn" href="#credential-id" id="ref-for-credential-id①③">credential ID</a> and credential public key but treat the
    credential as one with <a data-link-type="dfn" href="#self-attestation" id="ref-for-self-attestation①②">self attestation</a> (see <a href="#sctn-attestation-types">§6.3.3 Attestation Types</a>). If doing so, the <a data-link-type="dfn" href="#relying-party" id="ref-for-relying-party①④⑨">Relying Party</a> is asserting there
    is no cryptographic proof that the <a data-link-type="dfn" href="#public-key-credential" id="ref-for-public-key-credential④③">public key credential</a> has been generated by a particular <a data-link-type="dfn" href="#authenticator" id="ref-for-authenticator⑨⑧">authenticator</a> model.
    See <a data-link-type="biblio" href="#biblio-fidosecref">[FIDOSecRef]</a> and <a data-link-type="biblio" href="#biblio-uafprotocol">[UAFProtocol]</a> for a more detailed discussion.</p>
   </ol>
   <p>Verification of <a data-link-type="dfn" href="#attestation-object" id="ref-for-attestation-object①⑥">attestation objects</a> requires that the <a data-link-type="dfn" href="#relying-party" id="ref-for-relying-party①⑤⓪">Relying Party</a> has a trusted method of determining acceptable trust anchors
in step 15 above. Also, if certificates are being used, the <a data-link-type="dfn" href="#relying-party" id="ref-for-relying-party①⑤①">Relying Party</a> MUST have access to certificate status information for the
intermediate CA certificates. The <a data-link-type="dfn" href="#relying-party" id="ref-for-relying-party①⑤②">Relying Party</a> MUST also be able to build the attestation certificate chain if the client did not
provide this chain in the attestation information.</p>
   <h3 class="heading settled" data-level="7.2" id="verifying-assertion"><span class="secno">7.2. </span><span class="content">Verifying an authentication assertion</span><a class="self-link" href="#verifying-assertion"></a></h3>
   <p>When verifying a given <code class="idl"><a data-link-type="idl" href="#publickeycredential" id="ref-for-publickeycredential①⑦">PublicKeyCredential</a></code> structure (<var>credential</var>) and an <code class="idl"><a data-link-type="idl" href="#dictdef-authenticationextensionsclientoutputs" id="ref-for-dictdef-authenticationextensionsclientoutputs⑤">AuthenticationExtensionsClientOutputs</a></code> structure <var>clientExtensionResults</var>, as part of an <a data-link-type="dfn" href="#authentication" id="ref-for-authentication⑨">authentication</a> <a data-link-type="dfn" href="#ceremony" id="ref-for-ceremony①⓪">ceremony</a>, the <a data-link-type="dfn" href="#relying-party" id="ref-for-relying-party①⑤③">Relying Party</a> MUST proceed as follows:</p>
   <ol>
    <li data-md="">
     <p>If the <code class="idl"><a data-link-type="idl" href="#dom-publickeycredentialrequestoptions-allowcredentials" id="ref-for-dom-publickeycredentialrequestoptions-allowcredentials⑤">allowCredentials</a></code> option was given when this <a data-link-type="dfn" href="#authentication" id="ref-for-authentication①⓪">authentication</a> <a data-link-type="dfn" href="#ceremony" id="ref-for-ceremony①①">ceremony</a> was
initiated, verify that <code><var>credential</var>.<code class="idl"><a data-link-type="idl" href="https://w3c.github.io/webappsec-credential-management/#dom-credential-id" id="ref-for-dom-credential-id①">id</a></code></code> identifies one of the <a data-link-type="dfn" href="#public-key-credential" id="ref-for-public-key-credential④④">public key credentials</a> that were
listed in <code class="idl"><a data-link-type="idl" href="#dom-publickeycredentialrequestoptions-allowcredentials" id="ref-for-dom-publickeycredentialrequestoptions-allowcredentials⑥">allowCredentials</a></code>.</p>
    <li data-md="">
     <p>If <code><var>credential</var>.<code class="idl"><a data-link-type="idl" href="#dom-publickeycredential-response" id="ref-for-dom-publickeycredential-response③">response</a></code>.<code class="idl"><a data-link-type="idl" href="#dom-authenticatorassertionresponse-userhandle" id="ref-for-dom-authenticatorassertionresponse-userhandle③">userHandle</a></code></code> is present, verify
that the user identified by this value is the owner of the <a data-link-type="dfn" href="#public-key-credential" id="ref-for-public-key-credential④⑤">public key credential</a> identified by <code><var>credential</var>.<code class="idl"><a data-link-type="idl" href="https://w3c.github.io/webappsec-credential-management/#dom-credential-id" id="ref-for-dom-credential-id②">id</a></code></code>.</p>
    <li data-md="">
     <p>Using <var>credential</var>’s <code class="idl"><a data-link-type="idl" href="https://w3c.github.io/webappsec-credential-management/#dom-credential-id" id="ref-for-dom-credential-id③">id</a></code> attribute (or the corresponding <code class="idl"><a data-link-type="idl" href="#dom-publickeycredential-rawid" id="ref-for-dom-publickeycredential-rawid①">rawId</a></code>, if <a data-link-type="dfn" href="#base64url-encoding" id="ref-for-base64url-encoding⑦">base64url encoding</a> is inappropriate for your use case), look up the corresponding credential public key.</p>
    <li data-md="">
     <p>Let <var>cData</var>, <var>authData</var> and <var>sig</var> denote the value of <var>credential</var>’s <code class="idl"><a data-link-type="idl" href="#dom-publickeycredential-response" id="ref-for-dom-publickeycredential-response④">response</a></code>'s <code class="idl"><a data-link-type="idl" href="#dom-authenticatorresponse-clientdatajson" id="ref-for-dom-authenticatorresponse-clientdatajson⑨">clientDataJSON</a></code>, <code class="idl"><a data-link-type="idl" href="#dom-authenticatorassertionresponse-authenticatordata" id="ref-for-dom-authenticatorassertionresponse-authenticatordata②">authenticatorData</a></code>, and <code class="idl"><a data-link-type="idl" href="#dom-authenticatorassertionresponse-signature" id="ref-for-dom-authenticatorassertionresponse-signature②">signature</a></code> respectively.</p>
    <li data-md="">
     <p>Let <var>JSONtext</var> be the result of running <a data-link-type="dfn" href="https://encoding.spec.whatwg.org/#utf-8-decode" id="ref-for-utf-8-decode③">UTF-8 decode</a> on the value of <var>cData</var>.</p>
     <p class="note" role="note"><span>Note:</span> Using any implementation of <a data-link-type="dfn" href="https://encoding.spec.whatwg.org/#utf-8-decode" id="ref-for-utf-8-decode④">UTF-8 decode</a> is acceptable as long as it yields the same result as that yielded by
the <a data-link-type="dfn" href="https://encoding.spec.whatwg.org/#utf-8-decode" id="ref-for-utf-8-decode⑤">UTF-8 decode</a> algorithm. In particular, any leading byte order mark (BOM) MUST be stripped.</p>
    <li data-md="">
     <p>Let <var>C</var>, the <a data-link-type="dfn" href="#client-data" id="ref-for-client-data⑧">client data</a> claimed as used for the signature, be the result of running an implementation-specific
JSON parser on <var>JSONtext</var>.</p>
     <p class="note" role="note"><span>Note:</span> <var>C</var> may be any implementation-specific data structure representation, as long as <var>C</var>’s components are referenceable, as
required by this algorithm.</p>
    <li data-md="">
     <p>Verify that the value of <code><var>C</var>.<code class="idl"><a data-link-type="idl" href="#dom-collectedclientdata-type" id="ref-for-dom-collectedclientdata-type④">type</a></code></code> is the string <code>webauthn.get</code>.</p>
    <li data-md="">
     <p>Verify that the value of <code><var>C</var>.<code class="idl"><a data-link-type="idl" href="#dom-collectedclientdata-challenge" id="ref-for-dom-collectedclientdata-challenge④">challenge</a></code></code> matches the challenge that was sent to the
authenticator in the <code class="idl"><a data-link-type="idl" href="#dictdef-publickeycredentialrequestoptions" id="ref-for-dictdef-publickeycredentialrequestoptions④">PublicKeyCredentialRequestOptions</a></code> passed to the <code class="idl"><a data-link-type="idl" href="https://w3c.github.io/webappsec-credential-management/#dom-credentialscontainer-get" id="ref-for-dom-credentialscontainer-get①⑤">get()</a></code> call.</p>
    <li data-md="">
     <p>Verify that the value of <code><var>C</var>.<code class="idl"><a data-link-type="idl" href="#dom-collectedclientdata-origin" id="ref-for-dom-collectedclientdata-origin④">origin</a></code></code> matches the <a data-link-type="dfn" href="#relying-party" id="ref-for-relying-party①⑤④">Relying Party</a>'s <a data-link-type="dfn" href="https://w3c.github.io/html/browsers.html#concept-cross-origin" id="ref-for-concept-cross-origin①⑤">origin</a>.</p>
    <li data-md="">
     <p>Verify that the value of <code><var>C</var>.<code class="idl"><a data-link-type="idl" href="#dom-collectedclientdata-tokenbinding" id="ref-for-dom-collectedclientdata-tokenbinding⑤">tokenBinding</a></code>.<code class="idl"><a data-link-type="idl" href="#dom-tokenbinding-status" id="ref-for-dom-tokenbinding-status③">status</a></code></code> matches the state of <a data-link-type="dfn" href="https://tools.ietf.org/html/draft-ietf-tokbind-protocol#token-binding" id="ref-for-token-binding⑤">Token Binding</a> for the TLS connection over which the attestation was obtained. If <a data-link-type="dfn" href="https://tools.ietf.org/html/draft-ietf-tokbind-protocol#token-binding" id="ref-for-token-binding⑥">Token Binding</a> was used on that TLS connection, also verify that <code><var>C</var>.<code class="idl"><a data-link-type="idl" href="#dom-collectedclientdata-tokenbinding" id="ref-for-dom-collectedclientdata-tokenbinding⑥">tokenBinding</a></code>.<code class="idl"><a data-link-type="idl" href="#dom-tokenbinding-id" id="ref-for-dom-tokenbinding-id③">id</a></code></code> matches the <a data-link-type="dfn" href="#base64url-encoding" id="ref-for-base64url-encoding⑧">base64url encoding</a> of the <a data-link-type="dfn" href="https://tools.ietf.org/html/draft-ietf-tokbind-protocol#section-3.2" id="ref-for-section-3.2④">Token Binding ID</a> for the connection.</p>
    <li data-md="">
     <p>Verify that the <code><a data-link-type="dfn" href="#rpidhash" id="ref-for-rpidhash①">rpIdHash</a></code> in <var>authData</var> is the SHA-256 hash of the <a data-link-type="dfn" href="#rp-id" id="ref-for-rp-id②⑤">RP ID</a> expected by the <a data-link-type="dfn" href="#relying-party" id="ref-for-relying-party①⑤⑤">Relying Party</a>.</p>
    <li data-md="">
     <p>Verify that the <a data-link-type="dfn" href="#concept-user-present" id="ref-for-concept-user-present⑤">User Present</a> bit of the <code><a data-link-type="dfn" href="#flags" id="ref-for-flags⑥">flags</a></code> in <var>authData</var> is set.</p>
    <li data-md="">
     <p>If <a data-link-type="dfn" href="#user-verification" id="ref-for-user-verification③②">user verification</a> is required for this assertion, verify that the <a data-link-type="dfn" href="#concept-user-verified" id="ref-for-concept-user-verified⑤">User Verified</a> bit of the <code><a data-link-type="dfn" href="#flags" id="ref-for-flags⑦">flags</a></code> in <var>authData</var> is set.</p>
    <li data-md="">
     <p>Verify that the values of the <a data-link-type="dfn" href="#client-extension-output" id="ref-for-client-extension-output⑦">client extension outputs</a> in <var>clientExtensionResults</var> and the <a data-link-type="dfn" href="#authenticator-extension-output" id="ref-for-authenticator-extension-output②">authenticator extension
outputs</a> in the <code><a data-link-type="dfn" href="#authdataextensions" id="ref-for-authdataextensions⑥">extensions</a></code> in <var>authData</var> are as expected, considering the <a data-link-type="dfn" href="#client-extension-input" id="ref-for-client-extension-input②">client
extension input</a> values that were given as the <code class="idl"><a data-link-type="idl" href="#dom-publickeycredentialrequestoptions-extensions" id="ref-for-dom-publickeycredentialrequestoptions-extensions③">extensions</a></code> option in the <code class="idl"><a data-link-type="idl" href="https://w3c.github.io/webappsec-credential-management/#dom-credentialscontainer-get" id="ref-for-dom-credentialscontainer-get①⑥">get()</a></code> call.
In particular, any <a data-link-type="dfn" href="#extension-identifier" id="ref-for-extension-identifier①⓪">extension identifier</a> values in the <var>clientExtensionResults</var> and
the <code><a data-link-type="dfn" href="#authdataextensions" id="ref-for-authdataextensions⑦">extensions</a></code> in <var>authData</var> MUST be also be present as <a data-link-type="dfn" href="#extension-identifier" id="ref-for-extension-identifier①①">extension identifier</a> values in
the <code class="idl"><a data-link-type="idl" href="#dom-publickeycredentialcreationoptions-extensions" id="ref-for-dom-publickeycredentialcreationoptions-extensions⑤">extensions</a></code> member of <var>options</var>,
i.e., no extensions are present that were not requested.
In the general case, the meaning of "are as expected" is specific to the <a data-link-type="dfn" href="#relying-party" id="ref-for-relying-party①⑤⑥">Relying Party</a> and which extensions are in use.</p>
     <p class="note" role="note"><span>Note:</span> Since all extensions are OPTIONAL for both the <a data-link-type="dfn" href="#client" id="ref-for-client①⑤">client</a> and the <a data-link-type="dfn" href="#authenticator" id="ref-for-authenticator⑨⑨">authenticator</a>, the <a data-link-type="dfn" href="#relying-party" id="ref-for-relying-party①⑤⑦">Relying Party</a> MUST be prepared to
handle cases where none or not all of the requested extensions were acted upon.</p>
    <li data-md="">
     <p>Let <var>hash</var> be the result of computing a hash over the <var>cData</var> using SHA-256.</p>
    <li data-md="">
     <p>Using the credential public key looked up in step 3, verify that <var>sig</var> is a valid signature over the binary concatenation of <var>authData</var> and <var>hash</var>.</p>
     <p class="note" role="note"><span>Note:</span> This verification step is compatible with signatures generated by FIDO U2F authenticators. See <a href="#sctn-fido-u2f-sig-format-compat">§6.1.2 FIDO U2F signature format compatibility</a>.</p>
    <li data-md="">
     <p>If the <a data-link-type="dfn" href="#signature-counter" id="ref-for-signature-counter①⑥">signature counter</a> value <var>authData</var>.<code><a data-link-type="dfn" href="#signcount" id="ref-for-signcount②">signCount</a></code> is nonzero or the value stored
in conjunction with <var>credential</var>’s <code class="idl"><a data-link-type="idl" href="https://w3c.github.io/webappsec-credential-management/#dom-credential-id" id="ref-for-dom-credential-id④">id</a></code> attribute
is nonzero, then run the following sub-step:</p>
     <ul>
      <li data-md="">
       <p>If the <a data-link-type="dfn" href="#signature-counter" id="ref-for-signature-counter①⑦">signature counter</a> value <var>authData</var>.<code><a data-link-type="dfn" href="#signcount" id="ref-for-signcount③">signCount</a></code> is</p>
       <dl class="switch">
        <dt>greater than the <a data-link-type="dfn" href="#signature-counter" id="ref-for-signature-counter①⑧">signature counter</a> value stored in conjunction 
          with <var>credential</var>’s <code class="idl"><a data-link-type="idl" href="https://w3c.github.io/webappsec-credential-management/#dom-credential-id" id="ref-for-dom-credential-id⑤">id</a></code> attribute.
        <dd>Update the stored <a data-link-type="dfn" href="#signature-counter" id="ref-for-signature-counter①⑨">signature counter</a> value, associated with <var>credential</var>’s <code class="idl"><a data-link-type="idl" href="https://w3c.github.io/webappsec-credential-management/#dom-credential-id" id="ref-for-dom-credential-id⑥">id</a></code> attribute, to be the value of <var>authData</var>.<code><a data-link-type="dfn" href="#signcount" id="ref-for-signcount④">signCount</a></code>.
        <dt>less than or equal to the <a data-link-type="dfn" href="#signature-counter" id="ref-for-signature-counter②⓪">signature counter</a> value stored in conjunction
          with <var>credential</var>’s <code class="idl"><a data-link-type="idl" href="https://w3c.github.io/webappsec-credential-management/#dom-credential-id" id="ref-for-dom-credential-id⑦">id</a></code> attribute.
        <dd>This is a signal that
          the authenticator may be cloned, i.e. at least 
          two copies of the <a data-link-type="dfn" href="#credential-private-key" id="ref-for-credential-private-key①①">credential private key</a> may exist and are  
          being used in parallel. <a data-link-type="dfn" href="#relying-party" id="ref-for-relying-party①⑤⑧">Relying Parties</a> should incorporate this information  
          into their risk scoring.  Whether the <a data-link-type="dfn" href="#relying-party" id="ref-for-relying-party①⑤⑨">Relying Party</a> updates the 
          stored <a data-link-type="dfn" href="#signature-counter" id="ref-for-signature-counter②①">signature counter</a> value in this case, or not, or fails the <a data-link-type="dfn" href="#authentication" id="ref-for-authentication①①">authentication ceremony</a> or not, is <a data-link-type="dfn" href="#relying-party" id="ref-for-relying-party①⑥⓪">Relying Party</a>-specific. 
       </dl>
     </ul>
    <li data-md="">
     <p>If all the above steps are successful, continue with the authentication ceremony as appropriate. Otherwise, fail the <a data-link-type="dfn" href="#authentication" id="ref-for-authentication①②">authentication ceremony</a>.</p>
   </ol>
   <h2 class="heading settled" data-level="8" id="defined-attestation-formats"><span class="secno">8. </span><span class="content">Defined Attestation Statement Formats</span><a class="self-link" href="#defined-attestation-formats"></a></h2>
   <p>WebAuthn supports pluggable attestation statement formats. This section defines an initial set of such formats.</p>
   <h3 class="heading settled" data-level="8.1" id="sctn-attstn-fmt-ids"><span class="secno">8.1. </span><span class="content">Attestation Statement Format Identifiers</span><a class="self-link" href="#sctn-attstn-fmt-ids"></a></h3>
   <p>Attestation statement formats are identified by a string, called an <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport="" id="attestation-statement-format-identifier">attestation statement format identifier</dfn>, chosen by
the author of the attestation statement format.</p>
   <p>Attestation statement format identifiers SHOULD be registered per <a data-link-type="biblio" href="#biblio-webauthn-registries">[WebAuthn-Registries]</a> "Registries for Web Authentication
(WebAuthn)". All registered attestation statement format identifiers are unique amongst themselves as a matter of course.</p>
   <p>Unregistered attestation statement format identifiers SHOULD use lowercase reverse domain-name naming, using a domain name
registered by the developer, in order to assure uniqueness of the identifier. All attestation statement format identifiers MUST
be a maximum of 32 octets in length and MUST consist only of printable USASCII characters, excluding backslash and doublequote,
i.e., VCHAR as defined in <a data-link-type="biblio" href="#biblio-rfc5234">[RFC5234]</a> but without %x22 and %x5c.</p>
   <p class="note" role="note"><span>Note:</span> This means attestation statement format identifiers based on domain names MUST incorporate only LDH Labels <a data-link-type="biblio" href="#biblio-rfc5890">[RFC5890]</a>.</p>
   <p>Implementations MUST match WebAuthn attestation statement format identifiers in a case-sensitive fashion.</p>
   <p>Attestation statement formats that may exist in multiple versions SHOULD include a version in their identifier. In effect,
different versions are thus treated as different formats, e.g., <code>packed2</code> as a new version of the <code>packed</code> attestation statement
format.</p>
   <p>The following sections present a set of currently-defined and registered attestation statement formats and their identifiers.
The up-to-date list of registered WebAuthn Extensions is maintained in the IANA "WebAuthn Attestation Statement Format
Identifier" registry established by <a data-link-type="biblio" href="#biblio-webauthn-registries">[WebAuthn-Registries]</a>.</p>
   <h3 class="heading settled" data-level="8.2" id="packed-attestation"><span class="secno">8.2. </span><span class="content">Packed Attestation Statement Format</span><a class="self-link" href="#packed-attestation"></a></h3>
   <p>This is a WebAuthn optimized attestation statement format. It uses a very compact but still extensible encoding method. It is
implementable by <a data-link-type="dfn" href="#authenticator" id="ref-for-authenticator①⓪⓪">authenticators</a> with limited resources (e.g., secure elements).</p>
   <dl>
    <dt data-md="">Attestation statement format identifier
    <dd data-md="">
     <p>packed</p>
    <dt data-md="">Attestation types supported
    <dd data-md="">
     <p>All</p>
    <dt data-md="">Syntax
    <dd data-md="">
     <p>The syntax of a Packed Attestation statement is defined by the following CDDL:</p>
<pre>    $$attStmtType //= (
                          fmt: "packed",
                          attStmt: packedStmtFormat
                      )

    packedStmtFormat = {
                           alg: COSEAlgorithmIdentifier,
                           sig: bytes,
                           x5c: [ attestnCert: bytes, * (caCert: bytes) ]
                       } //
                       {
                           alg: COSEAlgorithmIdentifier, (-260 for ED256 / -261 for ED512)
                           sig: bytes,
                           ecdaaKeyId: bytes
                       } //
                       {
                           alg: COSEAlgorithmIdentifier
                           sig: bytes,
                       }
</pre>
     <p>The semantics of the fields are as follows:</p>
     <dl>
      <dt data-md="">alg
      <dd data-md="">
       <p>A <code class="idl"><a data-link-type="idl" href="#typedefdef-cosealgorithmidentifier" id="ref-for-typedefdef-cosealgorithmidentifier⑦">COSEAlgorithmIdentifier</a></code> containing the identifier of the algorithm used to generate the attestation signature.</p>
      <dt data-md="">sig
      <dd data-md="">
       <p>A byte string containing the attestation signature.</p>
      <dt data-md="">x5c
      <dd data-md="">
       <p>The elements of this array contain the attestation certificate and its certificate chain, each encoded in X.509 format.
The attestation certificate MUST be the first element in the array.</p>
      <dt data-md="">ecdaaKeyId
      <dd data-md="">
       <p>The <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport="" id="identifier-of-the-ecdaa-issuer-public-key">identifier of the ECDAA-Issuer public key</dfn>.  This is the
BigNumberToB encoding of the component "c" of the <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport="" id="ecdaa-issuer-public-key">ECDAA-Issuer public key</dfn> as defined section 3.3, step 3.5 in <a data-link-type="biblio" href="#biblio-fidoecdaaalgorithm">[FIDOEcdaaAlgorithm]</a>.</p>
     </dl>
    <dt data-md="">Signing procedure
    <dd data-md="">
     <p>The signing procedure for this attestation statement format is
similar to <a href="#fig-signature">the procedure for generating assertion signatures</a>.</p>
     <ol>
      <li data-md="">
       <p>Let <var>authenticatorData</var> denote the <a data-link-type="dfn" href="#authenticator-data-for-the-attestation" id="ref-for-authenticator-data-for-the-attestation">authenticator data for the attestation</a>,
and let <var>clientDataHash</var> denote the <a data-link-type="dfn" href="#collectedclientdata-hash-of-the-serialized-client-data" id="ref-for-collectedclientdata-hash-of-the-serialized-client-data①④">hash of the serialized client data</a>.</p>
      <li data-md="">
       <p>If <a data-link-type="dfn" href="#basic" id="ref-for-basic">Basic</a> or <a data-link-type="dfn" href="#attca" id="ref-for-attca">AttCA</a> <a data-link-type="dfn" href="#attestation" id="ref-for-attestation①②">attestation</a> is in use, the authenticator produces the <var>sig</var> by concatenating <var>authenticatorData</var> and <var>clientDataHash</var>, and signing the result using an <a data-link-type="dfn" href="#attestation-private-key" id="ref-for-attestation-private-key②">attestation private key</a> selected through an authenticator-specific
mechanism. It sets <var>x5c</var> to the certificate chain of the <a data-link-type="dfn" href="#attestation-public-key" id="ref-for-attestation-public-key①">attestation public key</a> and <var>alg</var> to the algorithm of the
attestation private key.</p>
      <li data-md="">
       <p>If <a data-link-type="dfn" href="#ecdaa" id="ref-for-ecdaa③">ECDAA</a> is in use, the authenticator produces <var>sig</var> by concatenating <var>authenticatorData</var> and <var>clientDataHash</var>, and
signing the result using ECDAA-Sign (see section 3.5 of <a data-link-type="biblio" href="#biblio-fidoecdaaalgorithm">[FIDOEcdaaAlgorithm]</a>) after selecting an <a data-link-type="dfn" href="#ecdaa-issuer-public-key" id="ref-for-ecdaa-issuer-public-key②">ECDAA-Issuer public key</a> related to the ECDAA signature private key through an 
authenticator-specific mechanism (see <a data-link-type="biblio" href="#biblio-fidoecdaaalgorithm">[FIDOEcdaaAlgorithm]</a>). It sets <var>alg</var> to the algorithm of the selected <a data-link-type="dfn" href="#ecdaa-issuer-public-key" id="ref-for-ecdaa-issuer-public-key③">ECDAA-Issuer public key</a> and <var>ecdaaKeyId</var> to the <a data-link-type="dfn" href="#identifier-of-the-ecdaa-issuer-public-key" id="ref-for-identifier-of-the-ecdaa-issuer-public-key①">identifier of the ECDAA-Issuer public key</a> (see above).</p>
      <li data-md="">
       <p>If <a data-link-type="dfn" href="#self-attestation" id="ref-for-self-attestation①③">self attestation</a> is in use, the authenticator produces <var>sig</var> by concatenating <var>authenticatorData</var> and <var>clientDataHash</var>,
and signing the result using the credential private key. It sets <var>alg</var> to the algorithm of the credential private key and
omits the other fields.</p>
     </ol>
    <dt data-md="">Verification procedure
    <dd data-md="">
     <p>Given the <a data-link-type="dfn" href="#verification-procedure-inputs" id="ref-for-verification-procedure-inputs">verification procedure inputs</a> <var>attStmt</var>, <var>authenticatorData</var> and <var>clientDataHash</var>, the <a data-link-type="dfn" href="#verification-procedure" id="ref-for-verification-procedure④">verification procedure</a> is
as follows:</p>
     <ol>
      <li data-md="">
       <p>Verify that <var>attStmt</var> is valid CBOR conforming to the syntax defined above and perform CBOR decoding on it to extract
the contained fields.</p>
      <li data-md="">
       <p>If <var>x5c</var> is present, this indicates that the attestation type is not <a data-link-type="dfn" href="#ecdaa" id="ref-for-ecdaa④">ECDAA</a>. In this case:</p>
       <ul>
        <li data-md="">
         <p>Verify that <var>sig</var> is a valid signature over the concatenation of <var>authenticatorData</var> and <var>clientDataHash</var> using the
attestation public key in <var>x5c</var> with the algorithm specified in <var>alg</var>.</p>
        <li data-md="">
         <p>Verify that <var>x5c</var> meets the requirements in <a href="#packed-attestation-cert-requirements">§8.2.1 Packed attestation statement certificate requirements</a>.</p>
        <li data-md="">
         <p>If <var>x5c</var> contains an extension with OID 1.3.6.1.4.1.45724.1.1.4 (<code>id-fido-gen-ce-aaguid</code>) verify that the value of this
extension matches the <code><a data-link-type="dfn" href="#aaguid" id="ref-for-aaguid⑥">aaguid</a></code> in <var>authenticatorData</var>.</p>
        <li data-md="">
         <p>If successful, return attestation type <a data-link-type="dfn" href="#basic" id="ref-for-basic①">Basic</a> and <a data-link-type="dfn" href="#attestation-trust-path" id="ref-for-attestation-trust-path①">attestation trust path</a> <var>x5c</var>.</p>
       </ul>
      <li data-md="">
       <p>If <var>ecdaaKeyId</var> is present, then the attestation type is <a data-link-type="dfn" href="#ecdaa" id="ref-for-ecdaa⑤">ECDAA</a>. In this case:</p>
       <ul>
        <li data-md="">
         <p>Verify that <var>sig</var> is a valid signature over the concatenation of <var>authenticatorData</var> and <var>clientDataHash</var> using
ECDAA-Verify with <a data-link-type="dfn" href="#ecdaa-issuer-public-key" id="ref-for-ecdaa-issuer-public-key④">ECDAA-Issuer public key</a> identified by <var>ecdaaKeyId</var> (see <a data-link-type="biblio" href="#biblio-fidoecdaaalgorithm">[FIDOEcdaaAlgorithm]</a>).</p>
        <li data-md="">
         <p>If successful, return attestation type <a data-link-type="dfn" href="#ecdaa" id="ref-for-ecdaa⑥">ECDAA</a> and <a data-link-type="dfn" href="#attestation-trust-path" id="ref-for-attestation-trust-path②">attestation trust path</a> <var>ecdaaKeyId</var>.</p>
       </ul>
      <li data-md="">
       <p>If neither <var>x5c</var> nor <var>ecdaaKeyId</var> is present, <a data-link-type="dfn" href="#self-attestation" id="ref-for-self-attestation①④">self attestation</a> is in use.</p>
       <ul>
        <li data-md="">
         <p>Validate that <var>alg</var> matches the algorithm of the <code><a data-link-type="dfn" href="#credentialpublickey" id="ref-for-credentialpublickey③">credentialPublicKey</a></code> in <var>authenticatorData</var>.</p>
        <li data-md="">
         <p>Verify that <var>sig</var> is a valid signature over the concatenation of <var>authenticatorData</var> and <var>clientDataHash</var> using the
credential public key with <var>alg</var>.</p>
        <li data-md="">
         <p>If successful, return attestation type <a data-link-type="dfn" href="#self" id="ref-for-self">Self</a> and empty <a data-link-type="dfn" href="#attestation-trust-path" id="ref-for-attestation-trust-path③">attestation trust path</a>.</p>
       </ul>
     </ol>
   </dl>
   <h4 class="heading settled" data-level="8.2.1" id="packed-attestation-cert-requirements"><span class="secno">8.2.1. </span><span class="content">Packed attestation statement certificate requirements</span><a class="self-link" href="#packed-attestation-cert-requirements"></a></h4>
   <p>The attestation certificate MUST have the following fields/extensions:</p>
   <ul>
    <li data-md="">
     <p>Version MUST be set to 3 (which is indicated by an ASN.1 INTEGER with value 2).</p>
    <li data-md="">
     <p>Subject field MUST be set to:</p>
     <dl>
      <dt data-md="">Subject-C
      <dd data-md="">
       <p>ISO 3166 code specifying the country where the Authenticator vendor is incorporated (PrintableString)</p>
      <dt data-md="">Subject-O
      <dd data-md="">
       <p>Legal name of the Authenticator vendor (UTF8String)</p>
      <dt data-md="">Subject-OU
      <dd data-md="">
       <p>Literal string “Authenticator Attestation” (UTF8String)</p>
      <dt data-md="">Subject-CN
      <dd data-md="">
       <p>A UTF8String of the vendor’s choosing</p>
     </dl>
    <li data-md="">
     <p>If the related attestation root certificate is used for multiple authenticator models, the Extension OID
1.3.6.1.4.1.45724.1.1.4 (<code>id-fido-gen-ce-aaguid</code>) MUST be present, containing the AAGUID as a 16-byte OCTET STRING.
The extension MUST NOT be marked as critical.</p>
     <p>Note that an X.509 Extension encodes the DER-encoding of the value in an OCTET STRING.
Thus, the AAGUID must be wrapped in <i>two</i> OCTET STRINGS to be valid. Here is a sample, encoded Extension structure:</p>
<pre>30 21                                     -- SEQUENCE
  06 0b 2b 06 01 04 01 82 e5 1c 01 01 04  -- 1.3.6.1.4.1.45724.1.1.4
  04 12                                   -- OCTET STRING
    04 10                                 -- OCTET STRING
      cd 8c 39 5c 26 ed ee de             -- AAGUID
      65 3b 00 79 7d 03 ca 3c
</pre>
    <li data-md="">
     <p>The Basic Constraints extension MUST have the CA component set to <code>false</code>.</p>
    <li data-md="">
     <p>An Authority Information Access (AIA) extension with entry <code>id-ad-ocsp</code> and a CRL Distribution Point extension <a data-link-type="biblio" href="#biblio-rfc5280">[RFC5280]</a> are both OPTIONAL as the status of many attestation certificates is available through authenticator metadata services.
See, for example, the FIDO Metadata Service <a data-link-type="biblio" href="#biblio-fidometadataservice">[FIDOMetadataService]</a>.</p>
   </ul>
   <h3 class="heading settled" data-level="8.3" id="tpm-attestation"><span class="secno">8.3. </span><span class="content">TPM Attestation Statement Format</span><a class="self-link" href="#tpm-attestation"></a></h3>
   <p>This attestation statement format is generally used by authenticators that use a Trusted Platform Module as their cryptographic
engine.</p>
   <dl>
    <dt data-md="">Attestation statement format identifier
    <dd data-md="">
     <p>tpm</p>
    <dt data-md="">Attestation types supported
    <dd data-md="">
     <p><a data-link-type="dfn" href="#attca" id="ref-for-attca①">AttCA</a>, <a data-link-type="dfn" href="#ecdaa" id="ref-for-ecdaa⑦">ECDAA</a></p>
    <dt data-md="">Syntax
    <dd data-md="">
     <p>The syntax of a TPM Attestation statement is as follows:</p>
<pre>    $$attStmtType // = (
                           fmt: "tpm",
                           attStmt: tpmStmtFormat
                       )

    tpmStmtFormat = {
                        ver: "2.0",
                        (
                            alg: COSEAlgorithmIdentifier,
                            x5c: [ aikCert: bytes, * (caCert: bytes) ]
                        ) //
                        (
                            alg:  COSEAlgorithmIdentifier, (-260 for ED256 / -261 for ED512)
                            ecdaaKeyId: bytes
                        ),
                        sig: bytes,
                        certInfo: bytes,
                        pubArea: bytes
                    }
</pre>
     <p>The semantics of the above fields are as follows:</p>
     <dl>
      <dt data-md="">ver
      <dd data-md="">
       <p>The version of the TPM specification to which the signature conforms.</p>
      <dt data-md="">alg
      <dd data-md="">
       <p>A <code class="idl"><a data-link-type="idl" href="#typedefdef-cosealgorithmidentifier" id="ref-for-typedefdef-cosealgorithmidentifier⑧">COSEAlgorithmIdentifier</a></code> containing the identifier of the algorithm used to generate the attestation signature.</p>
      <dt data-md="">x5c
      <dd data-md="">
       <p>The AIK certificate used for the attestation and its certificate chain, in X.509 encoding.</p>
      <dt data-md="">ecdaaKeyId
      <dd data-md="">
       <p>The <a data-link-type="dfn" href="#identifier-of-the-ecdaa-issuer-public-key" id="ref-for-identifier-of-the-ecdaa-issuer-public-key②">identifier of the ECDAA-Issuer public key</a>. This is the
BigNumberToB encoding of the component "c" as defined section 3.3,
step 3.5 in <a data-link-type="biblio" href="#biblio-fidoecdaaalgorithm">[FIDOEcdaaAlgorithm]</a>.</p>
      <dt data-md="">sig
      <dd data-md="">
       <p>The attestation signature, in the form of a TPMT_SIGNATURE structure as specified in <a data-link-type="biblio" href="#biblio-tpmv2-part2">[TPMv2-Part2]</a> section 11.3.4.</p>
      <dt data-md="">certInfo
      <dd data-md="">
       <p>The TPMS_ATTEST structure over which the above signature was computed, as specified in <a data-link-type="biblio" href="#biblio-tpmv2-part2">[TPMv2-Part2]</a> section 10.12.8.</p>
      <dt data-md="">pubArea
      <dd data-md="">
       <p>The TPMT_PUBLIC structure (see <a data-link-type="biblio" href="#biblio-tpmv2-part2">[TPMv2-Part2]</a> section 12.2.4) used by the TPM to represent the credential public key.</p>
     </dl>
    <dt data-md="">Signing procedure
    <dd data-md="">
     <p>Let <var>authenticatorData</var> denote the <a data-link-type="dfn" href="#authenticator-data-for-the-attestation" id="ref-for-authenticator-data-for-the-attestation①">authenticator data for the attestation</a>, and let <var>clientDataHash</var> denote the <a data-link-type="dfn" href="#collectedclientdata-hash-of-the-serialized-client-data" id="ref-for-collectedclientdata-hash-of-the-serialized-client-data①⑤">hash of the serialized client data</a>.</p>
     <p>Concatenate <var>authenticatorData</var> and <var>clientDataHash</var> to form <var>attToBeSigned</var>.</p>
     <p>Generate a signature using the procedure specified in <a data-link-type="biblio" href="#biblio-tpmv2-part3">[TPMv2-Part3]</a> Section 18.2, using the attestation private key and
setting the <code>extraData</code> parameter to the digest of <var>attToBeSigned</var> using the hash algorithm corresponding to the "alg" signature algorithm.
(For the "RS256" algorithm, this would be a SHA-256 digest.)</p>
     <p>Set the <var>pubArea</var> field to the public area of the credential public key, the <var>certInfo</var> field to the output parameter of the
same name, and the <var>sig</var> field to the signature obtained from the above procedure.</p>
    <dt data-md="">Verification procedure
    <dd data-md="">
     <p>Given the <a data-link-type="dfn" href="#verification-procedure-inputs" id="ref-for-verification-procedure-inputs①">verification procedure inputs</a> <var>attStmt</var>, <var>authenticatorData</var> and <var>clientDataHash</var>, the <a data-link-type="dfn" href="#verification-procedure" id="ref-for-verification-procedure⑤">verification procedure</a> is
as follows:</p>
     <p>Verify that <var>attStmt</var> is valid CBOR conforming to the syntax defined above and perform CBOR decoding on it to extract the
contained fields.</p>
     <p>Verify that the public key specified by the <code>parameters</code> and <code>unique</code> fields of <var>pubArea</var> is identical to the <code><a data-link-type="dfn" href="#credentialpublickey" id="ref-for-credentialpublickey④">credentialPublicKey</a></code> in the <code><a data-link-type="dfn" href="#attestedcredentialdata" id="ref-for-attestedcredentialdata⑧">attestedCredentialData</a></code> in <var>authenticatorData</var>.</p>
     <p>Concatenate <var>authenticatorData</var> and <var>clientDataHash</var> to form <var>attToBeSigned</var>.</p>
     <p>Validate that <var>certInfo</var> is valid:</p>
     <ul>
      <li data-md="">
       <p>Verify that <code>magic</code> is set to <code>TPM_GENERATED_VALUE</code>.</p>
      <li data-md="">
       <p>Verify that <code>type</code> is set to <code>TPM_ST_ATTEST_CERTIFY</code>.</p>
      <li data-md="">
       <p>Verify that <code>extraData</code> is set to the hash of <var>attToBeSigned</var> using the hash algorithm employed in "alg".</p>
      <li data-md="">
       <p>Verify that <code>attested</code> contains a <code>TPMS_CERTIFY_INFO</code> structure as specified in <a data-link-type="biblio" href="#biblio-tpmv2-part2">[TPMv2-Part2]</a> section 10.12.3,
whose <code>name</code> field contains a valid Name for <var>pubArea</var>,
as computed using the algorithm in the <code>nameAlg</code> field of <var>pubArea</var> using the procedure specified in <a data-link-type="biblio" href="#biblio-tpmv2-part1">[TPMv2-Part1]</a> section 16.</p>
      <li data-md="">
       <p>Note that the remaining fields in the "Standard Attestation Structure" <a data-link-type="biblio" href="#biblio-tpmv2-part1">[TPMv2-Part1]</a> section 31.2, i.e., <code>qualifiedSigner</code>, <code>clockInfo</code> and <code>firmwareVersion</code> are ignored.
These fields MAY be used as an input to risk engines.</p>
     </ul>
     <p>If <var>x5c</var> is present, this indicates that the attestation type is not <a data-link-type="dfn" href="#ecdaa" id="ref-for-ecdaa⑧">ECDAA</a>. In this case:</p>
     <ul>
      <li data-md="">
       <p>Verify the <var>sig</var> is a valid signature over <var>certInfo</var> using the attestation public key in <var>x5c</var> with the
algorithm specified in <var>alg</var>.</p>
      <li data-md="">
       <p>Verify that <var>x5c</var> meets the requirements in <a href="#tpm-cert-requirements">§8.3.1 TPM attestation statement certificate requirements</a>.</p>
      <li data-md="">
       <p>If <var>x5c</var> contains an extension with OID <code>1 3 6 1 4 1 45724 1 1 4</code> (id-fido-gen-ce-aaguid) verify that the value of this
extension matches the <code><a data-link-type="dfn" href="#aaguid" id="ref-for-aaguid⑦">aaguid</a></code> in <var>authenticatorData</var>.</p>
      <li data-md="">
       <p>If successful, return attestation type <a data-link-type="dfn" href="#attca" id="ref-for-attca②">AttCA</a> and <a data-link-type="dfn" href="#attestation-trust-path" id="ref-for-attestation-trust-path④">attestation trust path</a> <var>x5c</var>.</p>
     </ul>
     <p>If <var>ecdaaKeyId</var> is present, then the attestation type is <a data-link-type="dfn" href="#ecdaa" id="ref-for-ecdaa⑨">ECDAA</a>.</p>
     <ul>
      <li data-md="">
       <p>Perform ECDAA-Verify on <var>sig</var> to verify that it is a valid signature over <var>certInfo</var> (see <a data-link-type="biblio" href="#biblio-fidoecdaaalgorithm">[FIDOEcdaaAlgorithm]</a>).</p>
      <li data-md="">
       <p>If successful, return attestation type <a data-link-type="dfn" href="#ecdaa" id="ref-for-ecdaa①⓪">ECDAA</a> and the <a data-link-type="dfn" href="#identifier-of-the-ecdaa-issuer-public-key" id="ref-for-identifier-of-the-ecdaa-issuer-public-key③">identifier of the ECDAA-Issuer public key</a> <var>ecdaaKeyId</var>.</p>
     </ul>
   </dl>
   <h4 class="heading settled" data-level="8.3.1" id="tpm-cert-requirements"><span class="secno">8.3.1. </span><span class="content">TPM attestation statement certificate requirements</span><a class="self-link" href="#tpm-cert-requirements"></a></h4>
   <p>TPM <a data-link-type="dfn" href="#attestation-certificate" id="ref-for-attestation-certificate③">attestation certificate</a> MUST have the following fields/extensions:</p>
   <ul>
    <li data-md="">
     <p>Version MUST be set to 3.</p>
    <li data-md="">
     <p>Subject field MUST be set to empty.</p>
    <li data-md="">
     <p>The Subject Alternative Name extension MUST be set as defined in <a data-link-type="biblio" href="#biblio-tpmv2-ek-profile">[TPMv2-EK-Profile]</a> section 3.2.9.</p>
    <li data-md="">
     <p>The Extended Key Usage extension MUST contain the
"joint-iso-itu-t(2) internationalorganizations(23) 133 tcg-kp(8) tcg-kp-AIKCertificate(3)" OID.</p>
    <li data-md="">
     <p>The Basic Constraints extension MUST have the CA component set to <code>false</code>.</p>
    <li data-md="">
     <p>An Authority Information Access (AIA) extension with entry <code>id-ad-ocsp</code> and a CRL Distribution Point extension <a data-link-type="biblio" href="#biblio-rfc5280">[RFC5280]</a> are
both OPTIONAL as the status of many attestation certificates is available through metadata services.
See, for example, the FIDO Metadata Service <a data-link-type="biblio" href="#biblio-fidometadataservice">[FIDOMetadataService]</a>.</p>
   </ul>
   <h3 class="heading settled" data-level="8.4" id="android-key-attestation"><span class="secno">8.4. </span><span class="content">Android Key Attestation Statement Format</span><a class="self-link" href="#android-key-attestation"></a></h3>
   <p>When the <a data-link-type="dfn" href="#authenticator" id="ref-for-authenticator①⓪①">authenticator</a> in question is a platform-provided Authenticator on the Android "N" or later platform, the
attestation statement is based on the <a href="https://developer.android.com/preview/api-overview.html#key_attestation">Android key
attestation</a>. In these cases, the attestation statement
is produced by a component running in a secure operating environment, but the <a data-link-type="dfn" href="#authenticator-data-for-the-attestation" id="ref-for-authenticator-data-for-the-attestation②">authenticator data for the attestation</a> is
produced outside this environment. The <a data-link-type="dfn" href="#relying-party" id="ref-for-relying-party①⑥①">Relying Party</a> is expected to check that the <a data-link-type="dfn" href="#authenticator-data-claimed-to-have-been-used-for-the-attestation" id="ref-for-authenticator-data-claimed-to-have-been-used-for-the-attestation">authenticator data claimed to have been used for
the attestation</a> is consistent with the fields of the attestation certificate’s extension data.</p>
   <dl>
    <dt data-md="">Attestation statement format identifier
    <dd data-md="">
     <p>android-key</p>
    <dt data-md="">Attestation types supported
    <dd data-md="">
     <p><a data-link-type="dfn" href="#basic" id="ref-for-basic②">Basic</a></p>
    <dt data-md="">Syntax
    <dd data-md="">
     <p>An Android key attestation statement consists simply of the Android attestation statement, which is a series of
DER encoded X.509 certificates. See <a href="https://developer.android.com/training/articles/security-key-attestation.html">the Android developer documentation</a>. Its
syntax is defined as follows:</p>
<pre>    $$attStmtType //= (
                          fmt: "android-key",
                          attStmt: androidStmtFormat
                      )

    androidStmtFormat = {
                          alg: COSEAlgorithmIdentifier,
                          sig: bytes,
                          x5c: [ credCert: bytes, * (caCert: bytes) ]
                        }

</pre>
    <dt data-md="">Signing procedure
    <dd data-md="">
     <p>Let <var>authenticatorData</var> denote the <a data-link-type="dfn" href="#authenticator-data-for-the-attestation" id="ref-for-authenticator-data-for-the-attestation③">authenticator data for the attestation</a>, and let <var>clientDataHash</var> denote the <a data-link-type="dfn" href="#collectedclientdata-hash-of-the-serialized-client-data" id="ref-for-collectedclientdata-hash-of-the-serialized-client-data①⑥">hash of the serialized client data</a>.</p>
     <p>Request an Android Key Attestation by calling <code>keyStore.getCertificateChain(myKeyUUID)</code> providing <var>clientDataHash</var> as the
challenge value (e.g., by using <a href="https://developer.android.com/reference/android/security/keystore/KeyGenParameterSpec.Builder.html#setAttestationChallenge(byte%5B%5D)"> setAttestationChallenge</a>). Set <var>x5c</var> to the returned value.</p>
     <p>The authenticator produces <var>sig</var> by concatenating <var>authenticatorData</var> and <var>clientDataHash</var>,
and signing the result using the credential private key. It sets <var>alg</var> to the algorithm of the signature format.</p>
    <dt data-md="">Verification procedure
    <dd data-md="">
     <p>Given the <a data-link-type="dfn" href="#verification-procedure-inputs" id="ref-for-verification-procedure-inputs②">verification procedure inputs</a> <var>attStmt</var>, <var>authenticatorData</var> and <var>clientDataHash</var>, the <a data-link-type="dfn" href="#verification-procedure" id="ref-for-verification-procedure⑥">verification procedure</a> is
as follows:</p>
     <ul>
      <li data-md="">
       <p>Verify that <var>attStmt</var> is valid CBOR conforming to the syntax defined above and perform CBOR decoding on it to extract the
contained fields.</p>
      <li data-md="">
       <p>Verify that <var>sig</var> is a valid signature over the concatenation of <var>authenticatorData</var> and <var>clientDataHash</var> using the
public key in the first certificate in <var>x5c</var> with the algorithm specified in <var>alg</var>.</p>
      <li data-md="">
       <p>Verify that the public key in the first certificate in in <var>x5c</var> matches the <code><a data-link-type="dfn" href="#credentialpublickey" id="ref-for-credentialpublickey⑤">credentialPublicKey</a></code> in the <code><a data-link-type="dfn" href="#attestedcredentialdata" id="ref-for-attestedcredentialdata⑨">attestedCredentialData</a></code> in <var>authenticatorData</var>.</p>
      <li data-md="">
       <p>Verify that in the attestation certificate extension data:</p>
       <ul>
        <li data-md="">
         <p>The value of the <code>attestationChallenge</code> field is identical to <var>clientDataHash</var>.</p>
        <li data-md="">
         <p>The <code>AuthorizationList.allApplications</code> field is <em>not</em> present, since PublicKeyCredential must be bound to the <a data-link-type="dfn" href="#rp-id" id="ref-for-rp-id②⑥">RP ID</a>.</p>
        <li data-md="">
         <p>The value in the <code>AuthorizationList.origin</code> field is equal to <code>KM_TAG_GENERATED</code>.</p>
        <li data-md="">
         <p>The value in the <code>AuthorizationList.purpose</code> field is equal to <code>KM_PURPOSE_SIGN</code>.</p>
       </ul>
      <li data-md="">
       <p>If successful, return attestation type <a data-link-type="dfn" href="#basic" id="ref-for-basic③">Basic</a> with the <a data-link-type="dfn" href="#attestation-trust-path" id="ref-for-attestation-trust-path⑤">attestation trust path</a> set to <var>x5c</var>.</p>
     </ul>
   </dl>
   <h3 class="heading settled" data-level="8.5" id="android-safetynet-attestation"><span class="secno">8.5. </span><span class="content">Android SafetyNet Attestation Statement Format</span><a class="self-link" href="#android-safetynet-attestation"></a></h3>
   <p>When the <a data-link-type="dfn" href="#authenticator" id="ref-for-authenticator①⓪②">authenticator</a> in question is a platform-provided Authenticator on certain Android platforms, the attestation
statement is based on the <a href="https://developer.android.com/training/safetynet/index.html#compat-check-response">SafetyNet API</a>. In
this case the <a data-link-type="dfn" href="#authenticator-data" id="ref-for-authenticator-data②⑨">authenticator data</a> is completely controlled by the caller of the SafetyNet API (typically an application
running on the Android platform) and the attestation statement only provides some statements about the health of the platform
and the identity of the calling application.  This attestation does not provide information regarding provenance of the authenticator
and its associated data.  Therefore platform-provided authenticators should make use of the Android Key Attestation when available,
even if the SafetyNet API is also present.</p>
   <dl>
    <dt data-md="">Attestation statement format identifier
    <dd data-md="">
     <p>android-safetynet</p>
    <dt data-md="">Attestation types supported
    <dd data-md="">
     <p><a data-link-type="dfn" href="#basic" id="ref-for-basic④">Basic</a></p>
    <dt data-md="">Syntax
    <dd data-md="">
     <p>The syntax of an Android Attestation statement is defined as follows:</p>
<pre>    $$attStmtType //= (
                          fmt: "android-safetynet",
                          attStmt: safetynetStmtFormat
                      )

    safetynetStmtFormat = {
                              ver: text,
                              response: bytes
                          }
</pre>
     <p>The semantics of the above fields are as follows:</p>
     <dl>
      <dt data-md="">ver
      <dd data-md="">
       <p>The version number of Google Play Services responsible for providing the SafetyNet API.</p>
      <dt data-md="">response
      <dd data-md="">
       <p>The <a data-link-type="dfn" href="https://encoding.spec.whatwg.org/#utf-8-encode" id="ref-for-utf-8-encode①">UTF-8 encoded</a> result of the getJwsResult() call of the SafetyNet API. This value is a JWS <a data-link-type="biblio" href="#biblio-rfc7515">[RFC7515]</a> object (see <a href="https://developer.android.com/training/safetynet/index.html#compat-check-response">SafetyNet online documentation</a>)
in Compact Serialization.</p>
     </dl>
    <dt data-md="">Signing procedure
    <dd data-md="">
     <p>Let <var>authenticatorData</var> denote the <a data-link-type="dfn" href="#authenticator-data-for-the-attestation" id="ref-for-authenticator-data-for-the-attestation④">authenticator data for the attestation</a>, and let <var>clientDataHash</var> denote the <a data-link-type="dfn" href="#collectedclientdata-hash-of-the-serialized-client-data" id="ref-for-collectedclientdata-hash-of-the-serialized-client-data①⑦">hash of the serialized client data</a>.</p>
     <p>Concatenate <var>authenticatorData</var> and <var>clientDataHash</var>, perform SHA-256 hash of the concatenated string, and
let the result of the hash form <var>attToBeSigned</var>.</p>
     <p>Request a SafetyNet attestation, providing <var>attToBeSigned</var> as the nonce value. Set <var>response</var> to the result, and <var>ver</var> to
the version of Google Play Services running in the authenticator.</p>
    <dt data-md="">Verification procedure
    <dd data-md="">
     <p>Given the <a data-link-type="dfn" href="#verification-procedure-inputs" id="ref-for-verification-procedure-inputs③">verification procedure inputs</a> <var>attStmt</var>, <var>authenticatorData</var> and <var>clientDataHash</var>, the <a data-link-type="dfn" href="#verification-procedure" id="ref-for-verification-procedure⑦">verification procedure</a> is
as follows:</p>
     <ul>
      <li data-md="">
       <p>Verify that <var>attStmt</var> is valid CBOR conforming to the syntax defined above and perform CBOR decoding on it to extract the
contained fields.</p>
      <li data-md="">
       <p>Verify that <var>response</var> is a valid SafetyNet response of version <var>ver</var>.</p>
      <li data-md="">
       <p>Verify that the nonce in the <var>response</var> is identical to the SHA-256 hash of the concatenation of <var>authenticatorData</var> and <var>clientDataHash</var>.</p>
      <li data-md="">
       <p>Verify that the attestation certificate is issued to the hostname "attest.android.com" (see <a href="https://developer.android.com/training/safetynet/index.html#compat-check-response">SafetyNet online documentation</a>).</p>
      <li data-md="">
       <p>Verify that the <code>ctsProfileMatch</code> attribute in the payload of <var>response</var> is <code>true</code>.</p>
      <li data-md="">
       <p>If successful, return attestation type <a data-link-type="dfn" href="#basic" id="ref-for-basic⑤">Basic</a> with the <a data-link-type="dfn" href="#attestation-trust-path" id="ref-for-attestation-trust-path⑥">attestation trust path</a> set to the above attestation certificate.</p>
     </ul>
   </dl>
   <h3 class="heading settled" data-level="8.6" id="fido-u2f-attestation"><span class="secno">8.6. </span><span class="content">FIDO U2F Attestation Statement Format</span><a class="self-link" href="#fido-u2f-attestation"></a></h3>
   <p>This attestation statement format is used with FIDO U2F authenticators using the formats defined in <a data-link-type="biblio" href="#biblio-fido-u2f-message-formats">[FIDO-U2F-Message-Formats]</a>.</p>
   <dl>
    <dt data-md="">Attestation statement format identifier
    <dd data-md="">
     <p>fido-u2f</p>
    <dt data-md="">Attestation types supported
    <dd data-md="">
     <p><a data-link-type="dfn" href="#basic" id="ref-for-basic⑥">Basic</a>, <a data-link-type="dfn" href="#attca" id="ref-for-attca③">AttCA</a></p>
    <dt data-md="">Syntax
    <dd data-md="">
     <p>The syntax of a FIDO U2F attestation statement is defined as follows:</p>
<pre>    $$attStmtType //= (
                          fmt: "fido-u2f",
                          attStmt: u2fStmtFormat
                      )

    u2fStmtFormat = {
                        x5c: [ attestnCert: bytes ],
                        sig: bytes
                    }
</pre>
     <p>The semantics of the above fields are as follows:</p>
     <dl>
      <dt data-md="">x5c
      <dd data-md="">
       <p>A single element array containing the attestation certificate in X.509 format.</p>
      <dt data-md="">sig
      <dd data-md="">
       <p>The <a data-link-type="dfn" href="#attestation-signature" id="ref-for-attestation-signature⑥">attestation signature</a>.
The signature was calculated over the (raw) U2F registration response message <a data-link-type="biblio" href="#biblio-fido-u2f-message-formats">[FIDO-U2F-Message-Formats]</a> received by the platform from the authenticator.</p>
     </dl>
    <dt data-md="">Signing procedure
    <dd data-md="">
     <p>If the credential public key of the given credential is not of algorithm -7 ("ES256"), stop and return an error.
Otherwise, let <var>authenticatorData</var> denote the <a data-link-type="dfn" href="#authenticator-data-for-the-attestation" id="ref-for-authenticator-data-for-the-attestation⑤">authenticator data for the attestation</a>,
and let <var>clientDataHash</var> denote the <a data-link-type="dfn" href="#collectedclientdata-hash-of-the-serialized-client-data" id="ref-for-collectedclientdata-hash-of-the-serialized-client-data①⑧">hash of the serialized client data</a>. (Since SHA-256 is used to hash the
serialized client data, <var>clientDataHash</var> will be 32 bytes long.)</p>
     <p>Generate a Registration Response Message as specified in <a data-link-type="biblio" href="#biblio-fido-u2f-message-formats">[FIDO-U2F-Message-Formats]</a> <a data-link-type="dfn" href="https://fidoalliance.org/specs/fido-u2f-v1.1-id-20160915/fido-u2f-raw-message-formats-v1.1-id-20160915.html#registration-response-message-success" id="ref-for-registration-response-message-success">Section 4.3</a>, with the application parameter set to the
SHA-256 hash of the <a data-link-type="dfn" href="#rp-id" id="ref-for-rp-id②⑦">RP ID</a> associated with the given credential, the challenge parameter set to <var>clientDataHash</var>, and the key handle
parameter set to the <a data-link-type="dfn" href="#credential-id" id="ref-for-credential-id①④">credential ID</a> of the given credential. Set the raw signature part of this Registration Response Message (i.e., without the <a data-link-type="dfn" href="#user-public-key" id="ref-for-user-public-key①">user public key</a>,
key handle, and attestation certificates) as <var>sig</var> and set the attestation certificates of
the attestation public key as <var>x5c</var>.</p>
    <dt data-md="">Verification procedure
    <dd data-md="">
     <p>Given the <a data-link-type="dfn" href="#verification-procedure-inputs" id="ref-for-verification-procedure-inputs④">verification procedure inputs</a> <var>attStmt</var>, <var>authenticatorData</var> and <var>clientDataHash</var>, the <a data-link-type="dfn" href="#verification-procedure" id="ref-for-verification-procedure⑧">verification procedure</a> is
as follows:</p>
     <ol>
      <li data-md="">
       <p>Verify that <var>attStmt</var> is valid CBOR conforming to the syntax defined above and perform CBOR decoding on it to extract the
contained fields.</p>
      <li data-md="">
       <p>Check that <var>x5c</var> has exactly one element and let <var>attCert</var> be that element. Let <var>certificate public key</var> be the public key
conveyed by <var>attCert</var>. If <var>certificate public key</var> is not an Elliptic Curve (EC) public 
key over the P-256 curve, terminate this algorithm and return an appropriate error.</p>
      <li data-md="">
       <p>Extract the claimed <var>rpIdHash</var> from <var>authenticatorData</var>, and the claimed <var>credentialId</var> and <var>credentialPublicKey</var> from <var>authenticatorData</var>.<code><a data-link-type="dfn" href="#attestedcredentialdata" id="ref-for-attestedcredentialdata①⓪">attestedCredentialData</a></code>.</p>
      <li data-md="">
       <p>Convert the COSE_KEY formatted <var>credentialPublicKey</var> (see <a data-link-type="dfn" href="https://tools.ietf.org/html/rfc8152#section-7" id="ref-for-section-7②">Section 7</a> of <a data-link-type="biblio" href="#biblio-rfc8152">[RFC8152]</a>) to Raw ANSI X9.62 public key
format (see ALG_KEY_ECC_X962_RAW in <a data-link-type="dfn" href="https://fidoalliance.org/specs/fido-v2.0-id-20180227/fido-registry-v2.0-id-20180227.html#public-key-representation-formats" id="ref-for-public-key-representation-formats">Section 3.6.2 Public Key Representation Formats</a> of <a data-link-type="biblio" href="#biblio-fido-registry">[FIDO-Registry]</a>).</p>
       <ul>
        <li data-md="">
         <p>Let <var>x</var> be the value corresponding to the "-2" key (representing x coordinate) in <var>credentialPublicKey</var>, and confirm its
size to be of 32 bytes.
If size differs or "-2" key is not found, terminate this algorithm and return an appropriate error.</p>
        <li data-md="">
         <p>Let <var>y</var> be the value corresponding to the "-3" key (representing y coordinate) in <var>credentialPublicKey</var>, and confirm its
size to be of 32 bytes.
If size differs or "-3" key is not found, terminate this algorithm and return an appropriate error.</p>
        <li data-md="">
         <p>Let <var>publicKeyU2F</var> be the concatenation <code>0x04 || <var>x</var> || <var>y</var></code>.</p>
         <p class="note" role="note"><span>Note:</span> This signifies uncompressed ECC key format.</p>
       </ul>
      <li data-md="">
       <p>Let <var>verificationData</var> be the concatenation of (0x00 || <var>rpIdHash</var> || <var>clientDataHash</var> || <var>credentialId</var> || <var>publicKeyU2F</var>) (see <a data-link-type="dfn" href="https://fidoalliance.org/specs/fido-u2f-v1.1-id-20160915/fido-u2f-raw-message-formats-v1.1-id-20160915.html#registration-response-message-success" id="ref-for-registration-response-message-success①">Section 4.3</a> of <a data-link-type="biblio" href="#biblio-fido-u2f-message-formats">[FIDO-U2F-Message-Formats]</a>).</p>
      <li data-md="">
       <p>Verify the <var>sig</var> using <var>verificationData</var> and <var>certificate public key</var> per <a data-link-type="biblio" href="#biblio-sec1">[SEC1]</a>.</p>
      <li data-md="">
       <p>If successful, return attestation type <a data-link-type="dfn" href="#basic" id="ref-for-basic⑦">Basic</a> with the <a data-link-type="dfn" href="#attestation-trust-path" id="ref-for-attestation-trust-path⑦">attestation trust path</a> set to <var>x5c</var>.</p>
     </ol>
   </dl>
   <h3 class="heading settled" data-level="8.7" id="none-attestation"><span class="secno">8.7. </span><span class="content">None Attestation Statement Format</span><a class="self-link" href="#none-attestation"></a></h3>
   <p>The none attestation statement format is used to replace any <a data-link-type="dfn" href="#authenticator" id="ref-for-authenticator①⓪③">authenticator</a>-provided <a data-link-type="dfn" href="#attestation-statement" id="ref-for-attestation-statement②⑥">attestation statement</a> when a <a data-link-type="dfn" href="#relying-party" id="ref-for-relying-party①⑥②">Relying Party</a> indicates it does not wish to receive attestation information, see <a href="#attestation-convey">§5.4.6 Attestation Conveyance Preference enumeration (enum AttestationConveyancePreference)</a>.</p>
   <dl>
    <dt data-md="">Attestation statement format identifier
    <dd data-md="">
     <p>none</p>
    <dt data-md="">Attestation types supported
    <dd data-md="">
     <p><a data-link-type="dfn" href="#none" id="ref-for-none">None</a></p>
    <dt data-md="">Syntax
    <dd data-md="">
     <p>The syntax of a none attestation statement is defined as follows:</p>
<pre>    $$attStmtType //= (
                          fmt: "none",
                          attStmt: emptyMap
                      )

    emptyMap = {}
</pre>
    <dt data-md="">Signing procedure
    <dd data-md="">
     <p>Return the fixed attestation statement defined above.</p>
    <dt data-md="">Verification procedure
    <dd data-md="">
     <p>Return attestation type <a data-link-type="dfn" href="#none" id="ref-for-none①">None</a> with an empty trust path.</p>
   </dl>
   <h2 class="heading settled" data-level="9" id="extensions"><span class="secno">9. </span><span class="content">WebAuthn Extensions</span><a class="self-link" href="#extensions"></a></h2>
   <p>The mechanism for generating <a data-link-type="dfn" href="#public-key-credential" id="ref-for-public-key-credential④⑥">public key credentials</a>, as well as requesting and generating Authentication assertions, as
defined in <a href="#api">§5 Web Authentication API</a>, can be extended to suit particular use cases. Each case is addressed by defining a <dfn class="dfn-paneled" data-dfn-type="dfn" data-lt="registration extension" data-noexport="" id="registration-extension">registration
extension</dfn> and/or an <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport="" id="authentication-extension">authentication extension</dfn>.</p>
   <p>Every extension is a <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport="" id="client-extension">client extension</dfn>, meaning that the extension involves communication with and processing by the
client. <a data-link-type="dfn" href="#client-extension" id="ref-for-client-extension②">Client extensions</a> define the following steps and data:</p>
   <ul>
    <li data-md="">
     <p><code class="idl"><a data-link-type="idl" href="https://w3c.github.io/webappsec-credential-management/#dom-credentialscontainer-create" id="ref-for-dom-credentialscontainer-create①⑦">navigator.credentials.create()</a></code> extension request parameters and response values for <a data-link-type="dfn" href="#registration-extension" id="ref-for-registration-extension①">registration extensions</a>.</p>
    <li data-md="">
     <p><code class="idl"><a data-link-type="idl" href="https://w3c.github.io/webappsec-credential-management/#dom-credentialscontainer-get" id="ref-for-dom-credentialscontainer-get①⑦">navigator.credentials.get()</a></code> extension request parameters and response values for <a data-link-type="dfn" href="#authentication-extension" id="ref-for-authentication-extension①">authentication extensions</a>.</p>
    <li data-md="">
     <p><a data-link-type="dfn" href="#client-extension-processing" id="ref-for-client-extension-processing⑤">Client extension processing</a> for <a data-link-type="dfn" href="#registration-extension" id="ref-for-registration-extension②">registration extensions</a> and <a data-link-type="dfn" href="#authentication-extension" id="ref-for-authentication-extension②">authentication extensions</a>.</p>
   </ul>
   <p>When creating a <a data-link-type="dfn" href="#public-key-credential" id="ref-for-public-key-credential④⑦">public key credential</a> or requesting an <a data-link-type="dfn" href="#authentication-assertion" id="ref-for-authentication-assertion①②">authentication assertion</a>, a <a data-link-type="dfn" href="#relying-party" id="ref-for-relying-party①⑥③">Relying Party</a> can request the use of a set
of extensions. These extensions will be invoked during the requested operation if they are supported by the client and/or the
authenticator. The <a data-link-type="dfn" href="#relying-party" id="ref-for-relying-party①⑥④">Relying Party</a> sends the <a data-link-type="dfn" href="#client-extension-input" id="ref-for-client-extension-input③">client extension input</a> for each extension in the <code class="idl"><a data-link-type="idl" href="https://w3c.github.io/webappsec-credential-management/#dom-credentialscontainer-get" id="ref-for-dom-credentialscontainer-get①⑧">get()</a></code> call
(for <a data-link-type="dfn" href="#authentication-extension" id="ref-for-authentication-extension③">authentication extensions</a>) or <code class="idl"><a data-link-type="idl" href="https://w3c.github.io/webappsec-credential-management/#dom-credentialscontainer-create" id="ref-for-dom-credentialscontainer-create①⑧">create()</a></code> call (for <a data-link-type="dfn" href="#registration-extension" id="ref-for-registration-extension③">registration extensions</a>) to the client
platform. The client platform performs <a data-link-type="dfn" href="#client-extension-processing" id="ref-for-client-extension-processing⑥">client extension processing</a> for each extension that it supports, and augments the <a data-link-type="dfn" href="#client-data" id="ref-for-client-data⑨">client data</a> as specified by each extension, by including the <a data-link-type="dfn" href="#extension-identifier" id="ref-for-extension-identifier①②">extension identifier</a> and <a data-link-type="dfn" href="#client-extension-output" id="ref-for-client-extension-output⑧">client extension output</a> values.</p>
   <p>An extension can also be an <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport="" id="authenticator-extension">authenticator extension</dfn>, meaning that the extension involves communication with and
processing by the authenticator. <a data-link-type="dfn" href="#authenticator-extension" id="ref-for-authenticator-extension②">Authenticator extensions</a> define the following steps and data:</p>
   <ul>
    <li data-md="">
     <p><a data-link-type="dfn" href="#authenticatormakecredential" id="ref-for-authenticatormakecredential①⓪">authenticatorMakeCredential</a> extension request parameters and response values for <a data-link-type="dfn" href="#registration-extension" id="ref-for-registration-extension④">registration extensions</a>.</p>
    <li data-md="">
     <p><a data-link-type="dfn" href="#authenticatorgetassertion" id="ref-for-authenticatorgetassertion①④">authenticatorGetAssertion</a> extension request parameters and response values for <a data-link-type="dfn" href="#authentication-extension" id="ref-for-authentication-extension④">authentication extensions</a>.</p>
    <li data-md="">
     <p><a data-link-type="dfn" href="#authenticator-extension-processing" id="ref-for-authenticator-extension-processing②">Authenticator extension processing</a> for <a data-link-type="dfn" href="#registration-extension" id="ref-for-registration-extension⑤">registration extensions</a> and <a data-link-type="dfn" href="#authentication-extension" id="ref-for-authentication-extension⑤">authentication extensions</a>.</p>
   </ul>
   <p>For <a data-link-type="dfn" href="#authenticator-extension" id="ref-for-authenticator-extension③">authenticator extensions</a>, as part of the <a data-link-type="dfn" href="#client-extension-processing" id="ref-for-client-extension-processing⑦">client extension processing</a>, the client also creates the <a data-link-type="dfn" href="#cbor" id="ref-for-cbor⑨">CBOR</a> <a data-link-type="dfn" href="#authenticator-extension-input" id="ref-for-authenticator-extension-input⑤">authenticator extension input</a> value for each extension (often based on the corresponding <a data-link-type="dfn" href="#client-extension-input" id="ref-for-client-extension-input④">client extension input</a> value),
and passes them to the authenticator in the <code class="idl"><a data-link-type="idl" href="https://w3c.github.io/webappsec-credential-management/#dom-credentialscontainer-create" id="ref-for-dom-credentialscontainer-create①⑨">create()</a></code> call (for <a data-link-type="dfn" href="#registration-extension" id="ref-for-registration-extension⑥">registration extensions</a>) or the <code class="idl"><a data-link-type="idl" href="https://w3c.github.io/webappsec-credential-management/#dom-credentialscontainer-get" id="ref-for-dom-credentialscontainer-get①⑨">get()</a></code> call (for <a data-link-type="dfn" href="#authentication-extension" id="ref-for-authentication-extension⑥">authentication extensions</a>). These <a data-link-type="dfn" href="#authenticator-extension-input" id="ref-for-authenticator-extension-input⑥">authenticator extension input</a> values are
represented in <a data-link-type="dfn" href="#cbor" id="ref-for-cbor①⓪">CBOR</a> and passed as name-value pairs, with the <a data-link-type="dfn" href="#extension-identifier" id="ref-for-extension-identifier①③">extension identifier</a> as the name, and the corresponding <a data-link-type="dfn" href="#authenticator-extension-input" id="ref-for-authenticator-extension-input⑦">authenticator extension input</a> as the value. The authenticator, in turn, performs additional processing for the extensions
that it supports, and returns the <a data-link-type="dfn" href="#cbor" id="ref-for-cbor①①">CBOR</a> <a data-link-type="dfn" href="#authenticator-extension-output" id="ref-for-authenticator-extension-output③">authenticator extension output</a> for each as specified by the extension. Part of
the <a data-link-type="dfn" href="#client-extension-processing" id="ref-for-client-extension-processing⑧">client extension processing</a> for <a data-link-type="dfn" href="#authenticator-extension" id="ref-for-authenticator-extension④">authenticator extensions</a> is to use the <a data-link-type="dfn" href="#authenticator-extension-output" id="ref-for-authenticator-extension-output④">authenticator extension output</a> as an
input to creating the <a data-link-type="dfn" href="#client-extension-output" id="ref-for-client-extension-output⑨">client extension output</a>.</p>
   <p>All WebAuthn extensions are OPTIONAL for both clients and authenticators. Thus, any extensions requested by a <a data-link-type="dfn" href="#relying-party" id="ref-for-relying-party①⑥⑤">Relying Party</a> MAY be
ignored by the client browser or OS and not passed to the authenticator at all, or they MAY be ignored by the authenticator.
Ignoring an extension is never considered a failure in WebAuthn API processing, so when <a data-link-type="dfn" href="#relying-party" id="ref-for-relying-party①⑥⑥">Relying Parties</a> include extensions with any
API calls, they MUST be prepared to handle cases where some or all of those extensions are ignored.</p>
   <p>Clients wishing to support the widest possible range of extensions MAY choose to pass through any extensions that they do not
recognize to authenticators, generating the <a data-link-type="dfn" href="#authenticator-extension-input" id="ref-for-authenticator-extension-input⑧">authenticator extension input</a> by simply encoding the <a data-link-type="dfn" href="#client-extension-input" id="ref-for-client-extension-input⑤">client extension input</a> in CBOR. All WebAuthn extensions MUST be defined in such a way that this implementation choice does not endanger the user’s
security or privacy. For instance, if an extension requires client processing, it could be defined in a manner that ensures such
a naïve pass-through will produce a semantically invalid <a data-link-type="dfn" href="#authenticator-extension-input" id="ref-for-authenticator-extension-input⑨">authenticator extension input</a> value, resulting in the extension
being ignored by the authenticator. Since all extensions are OPTIONAL, this will not cause a functional failure in the API
operation. Likewise, clients can choose to produce a <a data-link-type="dfn" href="#client-extension-output" id="ref-for-client-extension-output①⓪">client extension output</a> value for an extension that it does not
understand by encoding the <a data-link-type="dfn" href="#authenticator-extension-output" id="ref-for-authenticator-extension-output⑤">authenticator extension output</a> value into JSON, provided that the CBOR output uses only types
present in JSON.</p>
   <p>When clients choose to pass through extensions they do not recognize,
the JavaScript values in the <a data-link-type="dfn" href="#client-extension-input" id="ref-for-client-extension-input⑥">client extension inputs</a> are converted to <a data-link-type="dfn" href="#cbor" id="ref-for-cbor①②">CBOR</a> values in the <a data-link-type="dfn" href="#authenticator-extension-input" id="ref-for-authenticator-extension-input①⓪">authenticator extension inputs</a>.
When the JavaScript value is an <a data-link-type="dfn" href="https://tc39.github.io/ecma262/#sec-arraybuffer-constructor" id="ref-for-sec-arraybuffer-constructor①⓪">%ArrayBuffer%</a>, it is converted to a <a data-link-type="dfn" href="#cbor" id="ref-for-cbor①③">CBOR</a> byte array.
When the JavaScript value is a non-integer number, it is converted to a 64-bit CBOR floating point number.
Otherwise, when the JavaScript type corresponds to a JSON type, the conversion is done
using the rules defined in Section 4.2 of <a data-link-type="biblio" href="#biblio-rfc7049">[RFC7049]</a> (Converting from JSON to CBOR),
but operating on inputs of JavaScript type values rather than inputs of JSON type values.
Once these conversions are done,
canonicalization of the resulting <a data-link-type="dfn" href="#cbor" id="ref-for-cbor①④">CBOR</a> MUST be performed using the <a data-link-type="dfn" href="https://fidoalliance.org/specs/fido-v2.0-id-20180227/fido-client-to-authenticator-protocol-v2.0-id-20180227.html#ctap2-canonical-cbor-encoding-form" id="ref-for-ctap2-canonical-cbor-encoding-form⑤">CTAP2 canonical CBOR encoding form</a>.</p>
   <p>Likewise, when clients receive outputs from extensions they have passed through that they do not recognize,
the <a data-link-type="dfn" href="#cbor" id="ref-for-cbor①⑤">CBOR</a> values in the <a data-link-type="dfn" href="#authenticator-extension-output" id="ref-for-authenticator-extension-output⑥">authenticator extension outputs</a> are converted to JavaScript values in the <a data-link-type="dfn" href="#client-extension-output" id="ref-for-client-extension-output①①">client extension outputs</a>.
When the CBOR value is a byte string, it is converted to a JavaScript <a data-link-type="dfn" href="https://tc39.github.io/ecma262/#sec-arraybuffer-constructor" id="ref-for-sec-arraybuffer-constructor①①">%ArrayBuffer%</a> (rather than a base64url-encoded string).
Otherwise, when the CBOR type corresponds to a JSON type, the conversion is done
using the rules defined in Section 4.1 of <a data-link-type="biblio" href="#biblio-rfc7049">[RFC7049]</a> (Converting from CBOR to JSON),
but producing outputs of JavaScript type values rather than outputs of JSON type values.</p>
   <p>Note that some clients may choose to implement this pass-through capability under a feature flag.
Supporting this capability can facilitate innovation, allowing authenticators to experiment with new extensions
and <a data-link-type="dfn" href="#relying-party" id="ref-for-relying-party①⑥⑦">Relying Parties</a> to use them before there is explicit support for them in clients.</p>
   <p>The IANA "WebAuthn Extension Identifier" registry established by <a data-link-type="biblio" href="#biblio-webauthn-registries">[WebAuthn-Registries]</a> can be consulted
for an up-to-date list of registered WebAuthn Extensions.</p>
   <h3 class="heading settled" data-level="9.1" id="sctn-extension-id"><span class="secno">9.1. </span><span class="content">Extension Identifiers</span><a class="self-link" href="#sctn-extension-id"></a></h3>
   <p>Extensions are identified by a string, called an <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport="" id="extension-identifier">extension identifier</dfn>, chosen by the extension author.</p>
   <p>Extension identifiers SHOULD be registered per <a data-link-type="biblio" href="#biblio-webauthn-registries">[WebAuthn-Registries]</a> "Registries for Web Authentication (WebAuthn)".
All registered extension identifiers are unique amongst themselves as a matter of course.</p>
   <p>Unregistered extension identifiers SHOULD aim to be globally unique, e.g., by including the defining entity such as <code>myCompany_extension</code>.</p>
   <p>All extension identifiers MUST be a maximum of 32 octets in length and MUST consist only of printable USASCII characters,
excluding backslash and doublequote, i.e., VCHAR as defined in <a data-link-type="biblio" href="#biblio-rfc5234">[RFC5234]</a> but without %x22 and %x5c. Implementations MUST
match WebAuthn extension identifiers in a case-sensitive fashion.</p>
   <p>Extensions that may exist in multiple versions should take care to include a version in their identifier. In effect, different
versions are thus treated as different extensions, e.g., <code>myCompany_extension_01</code></p>
   <p><a href="#sctn-defined-extensions">§10 Defined Extensions</a> defines an initial set of extensions and their identifiers.
See the IANA "WebAuthn Extension Identifier" registry established by <a data-link-type="biblio" href="#biblio-webauthn-registries">[WebAuthn-Registries]</a> for an up-to-date list of registered WebAuthn Extension Identifiers.</p>
   <h3 class="heading settled" data-level="9.2" id="sctn-extension-specification"><span class="secno">9.2. </span><span class="content">Defining extensions</span><a class="self-link" href="#sctn-extension-specification"></a></h3>
   <p>A definition of an extension MUST specify an <a data-link-type="dfn" href="#extension-identifier" id="ref-for-extension-identifier①④">extension identifier</a>, a <a data-link-type="dfn" href="#client-extension-input" id="ref-for-client-extension-input⑦">client extension input</a> argument
to be sent via the <code class="idl"><a data-link-type="idl" href="https://w3c.github.io/webappsec-credential-management/#dom-credentialscontainer-get" id="ref-for-dom-credentialscontainer-get②⓪">get()</a></code> or <code class="idl"><a data-link-type="idl" href="https://w3c.github.io/webappsec-credential-management/#dom-credentialscontainer-create" id="ref-for-dom-credentialscontainer-create②⓪">create()</a></code> call,
the <a data-link-type="dfn" href="#client-extension-processing" id="ref-for-client-extension-processing⑨">client extension processing</a> rules, and a <a data-link-type="dfn" href="#client-extension-output" id="ref-for-client-extension-output①②">client extension output</a> value.
If the extension communicates with the authenticator (meaning it is an <a data-link-type="dfn" href="#authenticator-extension" id="ref-for-authenticator-extension⑤">authenticator extension</a>),
it MUST also specify the <a data-link-type="dfn" href="#cbor" id="ref-for-cbor①⑥">CBOR</a> <a data-link-type="dfn" href="#authenticator-extension-input" id="ref-for-authenticator-extension-input①①">authenticator extension input</a> argument
sent via the <a data-link-type="dfn" href="#authenticatorgetassertion" id="ref-for-authenticatorgetassertion①⑤">authenticatorGetAssertion</a> or <a data-link-type="dfn" href="#authenticatormakecredential" id="ref-for-authenticatormakecredential①①">authenticatorMakeCredential</a> call,
the <a data-link-type="dfn" href="#authenticator-extension-processing" id="ref-for-authenticator-extension-processing③">authenticator extension processing</a> rules, and the <a data-link-type="dfn" href="#cbor" id="ref-for-cbor①⑦">CBOR</a> <a data-link-type="dfn" href="#authenticator-extension-output" id="ref-for-authenticator-extension-output⑦">authenticator extension output</a> value.</p>
   <p>Any <a data-link-type="dfn" href="#client-extension" id="ref-for-client-extension③">client extension</a> that is processed by the client MUST return a <a data-link-type="dfn" href="#client-extension-output" id="ref-for-client-extension-output①③">client extension output</a> value so that the <a data-link-type="dfn" href="#relying-party" id="ref-for-relying-party①⑥⑧">Relying Party</a> knows that the extension was honored by the client. Similarly, any extension that requires authenticator processing MUST return
an <a data-link-type="dfn" href="#authenticator-extension-output" id="ref-for-authenticator-extension-output⑧">authenticator extension output</a> to let the <a data-link-type="dfn" href="#relying-party" id="ref-for-relying-party①⑥⑨">Relying Party</a> know that the extension was honored by the authenticator. If an
extension does not otherwise require any result values, it SHOULD be defined as returning a JSON Boolean <a data-link-type="dfn" href="#client-extension-output" id="ref-for-client-extension-output①④">client extension
output</a> result, set to <code>true</code> to signify that the extension was understood and processed. Likewise, any <a data-link-type="dfn" href="#authenticator-extension" id="ref-for-authenticator-extension⑥">authenticator
extension</a> that does not otherwise require any result values MUST return a value and SHOULD return a CBOR Boolean <a data-link-type="dfn" href="#authenticator-extension-output" id="ref-for-authenticator-extension-output⑨">authenticator extension output</a> result, set to <code>true</code> to signify that the extension was understood and processed.</p>
   <h3 class="heading settled" data-level="9.3" id="sctn-extension-request-parameters"><span class="secno">9.3. </span><span class="content">Extending request parameters</span><a class="self-link" href="#sctn-extension-request-parameters"></a></h3>
   <p>An extension defines one or two request arguments. The <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport="" id="client-extension-input">client extension input</dfn>,
which is a value that can be encoded in JSON, is passed from the <a data-link-type="dfn" href="#relying-party" id="ref-for-relying-party①⑦⓪">Relying Party</a> to the client
in the <code class="idl"><a data-link-type="idl" href="https://w3c.github.io/webappsec-credential-management/#dom-credentialscontainer-get" id="ref-for-dom-credentialscontainer-get②①">get()</a></code> or <code class="idl"><a data-link-type="idl" href="https://w3c.github.io/webappsec-credential-management/#dom-credentialscontainer-create" id="ref-for-dom-credentialscontainer-create②①">create()</a></code> call,
while the <a data-link-type="dfn" href="#cbor" id="ref-for-cbor①⑧">CBOR</a> <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport="" id="authenticator-extension-input">authenticator extension input</dfn> is
passed from the client to the authenticator for <a data-link-type="dfn" href="#authenticator-extension" id="ref-for-authenticator-extension⑦">authenticator extensions</a> during the processing of these calls.</p>
   <p>A <a data-link-type="dfn" href="#relying-party" id="ref-for-relying-party①⑦①">Relying Party</a> simultaneously requests the use of an extension and sets its <a data-link-type="dfn" href="#client-extension-input" id="ref-for-client-extension-input⑧">client extension input</a> by including an entry in the <code class="idl"><a data-link-type="idl" href="#dom-publickeycredentialcreationoptions-extensions" id="ref-for-dom-publickeycredentialcreationoptions-extensions⑥">extensions</a></code> option to the <code class="idl"><a data-link-type="idl" href="https://w3c.github.io/webappsec-credential-management/#dom-credentialscontainer-create" id="ref-for-dom-credentialscontainer-create②②">create()</a></code> or <code class="idl"><a data-link-type="idl" href="https://w3c.github.io/webappsec-credential-management/#dom-credentialscontainer-get" id="ref-for-dom-credentialscontainer-get②②">get()</a></code> call.
The entry key is the <a data-link-type="dfn" href="#extension-identifier" id="ref-for-extension-identifier①⑤">extension identifier</a> and the value is the <a data-link-type="dfn" href="#client-extension-input" id="ref-for-client-extension-input⑨">client extension input</a>.</p>
<pre class="example highlight" id="example-7e062be4"><a class="self-link" href="#example-7e062be4"></a><span class="kd">var</span> assertionPromise <span class="o">=</span> navigator<span class="p">.</span>credentials<span class="p">.</span>get<span class="p">({</span>
    publicKey<span class="o">:</span> <span class="p">{</span>
        <span class="c1">// The challenge must be produced by the server; see the Security Considerations</span>
<span class="c1"></span>        challenge<span class="o">:</span> <span class="k">new</span> Uint8Array<span class="p">([</span><span class="mi">4</span><span class="p">,</span><span class="mi">99</span><span class="p">,</span><span class="mi">22</span> <span class="cm">/* 29 more random bytes generated by the server */</span><span class="p">]),</span>
        extensions<span class="o">:</span> <span class="p">{</span>
            <span class="s2">"webauthnExample_foobar"</span><span class="o">:</span> <span class="mi">42</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">});</span>
</pre>
   <p>Extension definitions MUST specify the valid values for their <a data-link-type="dfn" href="#client-extension-input" id="ref-for-client-extension-input①⓪">client extension input</a>. Clients SHOULD ignore extensions with
an invalid <a data-link-type="dfn" href="#client-extension-input" id="ref-for-client-extension-input①①">client extension input</a>. If an extension does not require any parameters from the <a data-link-type="dfn" href="#relying-party" id="ref-for-relying-party①⑦②">Relying Party</a>, it SHOULD be defined
as taking a Boolean client argument, set to <code>true</code> to signify that the extension is requested by the <a data-link-type="dfn" href="#relying-party" id="ref-for-relying-party①⑦③">Relying Party</a>.</p>
   <p>Extensions that only affect client processing need not specify <a data-link-type="dfn" href="#authenticator-extension-input" id="ref-for-authenticator-extension-input①②">authenticator extension input</a>. Extensions that have
authenticator processing MUST specify the method of computing the <a data-link-type="dfn" href="#authenticator-extension-input" id="ref-for-authenticator-extension-input①③">authenticator extension input</a> from the <a data-link-type="dfn" href="#client-extension-input" id="ref-for-client-extension-input①②">client extension
input</a>. For extensions that do not require input parameters and are defined as taking a Boolean <a data-link-type="dfn" href="#client-extension-input" id="ref-for-client-extension-input①③">client extension input</a> value set to <code>true</code>, this method SHOULD consist of passing an <a data-link-type="dfn" href="#authenticator-extension-input" id="ref-for-authenticator-extension-input①④">authenticator extension input</a> value of <code>true</code> (CBOR major type
7, value 21).</p>
   <p class="note" role="note"><span>Note:</span> Extensions should aim to define authenticator arguments that are as small as possible. Some authenticators communicate
    over low-bandwidth links such as Bluetooth Low-Energy or NFC.</p>
   <h3 class="heading settled" data-level="9.4" id="sctn-client-extension-processing"><span class="secno">9.4. </span><span class="content"><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport="" id="client-extension-processing">Client extension processing</dfn></span><a class="self-link" href="#sctn-client-extension-processing"></a></h3>
   <p>Extensions MAY define additional processing requirements on the client platform during the creation of credentials or the
generation of an assertion. The <a data-link-type="dfn" href="#client-extension-input" id="ref-for-client-extension-input①④">client extension input</a> for the extension is used as an input to this client processing.
For each supported <a data-link-type="dfn" href="#client-extension" id="ref-for-client-extension④">client extension</a>, the client adds an entry to the <var>clientExtensions</var> <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#ordered-map" id="ref-for-ordered-map⑨">map</a> with the <a data-link-type="dfn" href="#extension-identifier" id="ref-for-extension-identifier①⑥">extension identifier</a> as the key, and the extension’s <a data-link-type="dfn" href="#client-extension-input" id="ref-for-client-extension-input①⑤">client extension input</a> as the value.</p>
   <p>Likewise, the <a data-link-type="dfn" href="#client-extension-output" id="ref-for-client-extension-output①⑤">client extension outputs</a> are represented as a dictionary in the result of <code class="idl"><a data-link-type="idl" href="#dom-publickeycredential-getclientextensionresults" id="ref-for-dom-publickeycredential-getclientextensionresults①">getClientExtensionResults()</a></code> with <a data-link-type="dfn" href="#extension-identifier" id="ref-for-extension-identifier①⑦">extension identifiers</a> as keys, and the <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport="" id="client-extension-output">client extension output</dfn> value of each extension as the value.
Like the <a data-link-type="dfn" href="#client-extension-input" id="ref-for-client-extension-input①⑥">client extension input</a>, the <a data-link-type="dfn" href="#client-extension-output" id="ref-for-client-extension-output①⑥">client extension output</a> is a value that can be encoded in JSON.</p>
   <p>Extensions that require authenticator processing MUST define
the process by which the <a data-link-type="dfn" href="#client-extension-input" id="ref-for-client-extension-input①⑦">client extension input</a> can be used to determine the <a data-link-type="dfn" href="#cbor" id="ref-for-cbor①⑨">CBOR</a> <a data-link-type="dfn" href="#authenticator-extension-input" id="ref-for-authenticator-extension-input①⑤">authenticator extension input</a> and
the process by which the <a data-link-type="dfn" href="#cbor" id="ref-for-cbor②⓪">CBOR</a> <a data-link-type="dfn" href="#authenticator-extension-output" id="ref-for-authenticator-extension-output①⓪">authenticator extension output</a> can be used to determine the <a data-link-type="dfn" href="#client-extension-output" id="ref-for-client-extension-output①⑦">client extension output</a>.</p>
   <h3 class="heading settled" data-level="9.5" id="sctn-authenticator-extension-processing"><span class="secno">9.5. </span><span class="content"><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport="" id="authenticator-extension-processing">Authenticator extension processing</dfn></span><a class="self-link" href="#sctn-authenticator-extension-processing"></a></h3>
   <p>The <a data-link-type="dfn" href="#cbor" id="ref-for-cbor②①">CBOR</a> <a data-link-type="dfn" href="#authenticator-extension-input" id="ref-for-authenticator-extension-input①⑥">authenticator extension input</a> value of each processed <a data-link-type="dfn" href="#authenticator-extension" id="ref-for-authenticator-extension⑧">authenticator extension</a> is included in the <var>extensions</var> parameter of the <a data-link-type="dfn" href="#authenticatormakecredential" id="ref-for-authenticatormakecredential①②">authenticatorMakeCredential</a> and <a data-link-type="dfn" href="#authenticatorgetassertion" id="ref-for-authenticatorgetassertion①⑥">authenticatorGetAssertion</a> operations. The <var>extensions</var> parameter is a <a data-link-type="dfn" href="#cbor" id="ref-for-cbor②②">CBOR</a> map where each key is an <a data-link-type="dfn" href="#extension-identifier" id="ref-for-extension-identifier①⑧">extension identifier</a> and the corresponding value is the <a data-link-type="dfn" href="#authenticator-extension-input" id="ref-for-authenticator-extension-input①⑦">authenticator extension input</a> for that extension.</p>
   <p>Likewise, the extension output is represented in the <a data-link-type="dfn" href="#authdataextensions" id="ref-for-authdataextensions⑧">extensions</a> part of the <a data-link-type="dfn" href="#authenticator-data" id="ref-for-authenticator-data③⓪">authenticator data</a>. The <a data-link-type="dfn" href="#authdataextensions" id="ref-for-authdataextensions⑨">extensions</a> part of the <a data-link-type="dfn" href="#authenticator-data" id="ref-for-authenticator-data③①">authenticator data</a> is a CBOR map where each key is an <a data-link-type="dfn" href="#extension-identifier" id="ref-for-extension-identifier①⑨">extension identifier</a> and the corresponding value is the <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport="" id="authenticator-extension-output">authenticator extension output</dfn> for that extension.</p>
   <p>For each supported extension, the <a data-link-type="dfn" href="#authenticator-extension-processing" id="ref-for-authenticator-extension-processing④">authenticator extension processing</a> rule for that extension is used create the <a data-link-type="dfn" href="#authenticator-extension-output" id="ref-for-authenticator-extension-output①①">authenticator extension output</a> from the <a data-link-type="dfn" href="#authenticator-extension-input" id="ref-for-authenticator-extension-input①⑧">authenticator extension input</a> and possibly also other inputs.</p>
   <h2 class="heading settled" data-level="10" id="sctn-defined-extensions"><span class="secno">10. </span><span class="content">Defined Extensions</span><a class="self-link" href="#sctn-defined-extensions"></a></h2>
   <p>This section defines the initial set of extensions to be registered in the
IANA "WebAuthn Extension Identifier" registry established by <a data-link-type="biblio" href="#biblio-webauthn-registries">[WebAuthn-Registries]</a>.
These are RECOMMENDED for implementation by user agents targeting broad interoperability.</p>
   <h3 class="heading settled" data-level="10.1" id="sctn-appid-extension"><span class="secno">10.1. </span><span class="content">FIDO <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport="" id="appid">AppID</dfn> Extension (appid)</span><a class="self-link" href="#sctn-appid-extension"></a></h3>
   <p>This <a data-link-type="dfn" href="#client-extension" id="ref-for-client-extension⑤">client extension</a> allows <a data-link-type="dfn" href="#relying-party" id="ref-for-relying-party①⑦④">Relying Parties</a> that have previously registered a
credential using the legacy FIDO JavaScript APIs to request an <a data-link-type="dfn" href="#assertion" id="ref-for-assertion①">assertion</a>. The
FIDO APIs use an alternative identifier for <a data-link-type="dfn" href="#relying-party" id="ref-for-relying-party①⑦⑤">relying parties</a> called an <var>AppID</var> <a data-link-type="biblio" href="#biblio-fido-appid">[FIDO-APPID]</a>, and any credentials created using those APIs will be bound to
that identifier. Without this extension, they would need to be re-registered in
order to be bound to an <a data-link-type="dfn" href="#rp-id" id="ref-for-rp-id②⑧">RP ID</a>.</p>
   <p>This extension does not allow FIDO-compatible credentials to be created. Thus,
credentials created with WebAuthn are not backwards compatible with the FIDO
JavaScript APIs.</p>
   <dl>
    <dt data-md="">Extension identifier
    <dd data-md="">
     <p><code>appid</code></p>
    <dt data-md="">Client extension input
    <dd data-md="">
     <p>A single USVString specifying a FIDO <var>AppID</var>.</p>
<pre class="idl highlight def"><span class="kt">partial</span> <span class="kt">dictionary</span> <a class="nv idl-code" data-link-type="dictionary" href="#dictdef-authenticationextensionsclientinputs" id="ref-for-dictdef-authenticationextensionsclientinputs⑤">AuthenticationExtensionsClientInputs</a> {
  <a class="n idl-code" data-link-type="interface" href="https://heycam.github.io/webidl/#idl-USVString" id="ref-for-idl-USVString④"><span class="kt">USVString</span></a> <dfn class="nv idl-code" data-dfn-for="AuthenticationExtensionsClientInputs" data-dfn-type="dict-member" data-export="" data-type="USVString " id="dom-authenticationextensionsclientinputs-appid"><code>appid</code><a class="self-link" href="#dom-authenticationextensionsclientinputs-appid"></a></dfn>;
};
</pre>
    <dt data-md="">Client extension processing
    <dd data-md="">
     <ol>
      <li data-md="">
       <p>Let <var>facetId</var> be the result of passing the caller’s <a data-link-type="dfn" href="https://w3c.github.io/html/browsers.html#concept-cross-origin" id="ref-for-concept-cross-origin①⑥">origin</a> to the
FIDO algorithm for <a data-link-type="dfn" href="https://fidoalliance.org/specs/fido-v2.0-id-20180227/fido-appid-and-facets-v2.0-id-20180227.html#determining-the-facetid-of-a-calling-application" id="ref-for-determining-the-facetid-of-a-calling-application①">determining the FacetID of a calling application</a>.</p>
      <li data-md="">
       <p>Let <var>appId</var> be the extension input.</p>
      <li data-md="">
       <p>Pass <var>facetId</var> and <var>appId</var> to the FIDO algorithm for <a data-link-type="dfn" href="https://fidoalliance.org/specs/fido-v2.0-id-20180227/fido-appid-and-facets-v2.0-id-20180227.html#determining-if-a-caller-s-facetid-is-authorized-for-an-appid" id="ref-for-determining-if-a-caller-s-facetid-is-authorized-for-an-appid①">determining if a
caller’s FacetID is authorized for an AppID</a>. If that algorithm rejects <var>appId</var> then return a "<code class="idl"><a data-link-type="idl" href="https://heycam.github.io/webidl/#securityerror" id="ref-for-securityerror④">SecurityError</a></code>" <code class="idl"><a data-link-type="idl" href="https://heycam.github.io/webidl/#idl-DOMException" id="ref-for-idl-DOMException①⑧">DOMException</a></code>.</p>
      <li data-md="">
       <p>When <a href="#allowCredentialDescriptorListCreation">building allowCredentialDescriptorList</a>,
if a U2F authenticator indicates that a credential is inapplicable (i.e. by
returning <code>SW_WRONG_DATA</code>) then the client MUST retry with the U2F application
parameter set to the SHA-256 hash of <var>appId</var>. If this results in an applicable
credential, the client MUST include the credential in <var>allowCredentialDescriptorList</var>. The value of <var>appId</var> then replaces the <code>rpId</code> parameter of <a data-link-type="dfn" href="#authenticatorgetassertion" id="ref-for-authenticatorgetassertion①⑦">authenticatorGetAssertion</a>.</p>
     </ol>
    <dt data-md="">Client extension output
    <dd data-md="">
     <p>Returns the value <code>true</code> to indicate to the RP that the extension was acted upon.</p>
<pre class="idl highlight def"><span class="kt">partial</span> <span class="kt">dictionary</span> <a class="nv idl-code" data-link-type="dictionary" href="#dictdef-authenticationextensionsclientoutputs" id="ref-for-dictdef-authenticationextensionsclientoutputs⑥">AuthenticationExtensionsClientOutputs</a> {
  <a class="n idl-code" data-link-type="interface" href="https://heycam.github.io/webidl/#idl-boolean" id="ref-for-idl-boolean③"><span class="kt">boolean</span></a> <dfn class="nv idl-code" data-dfn-for="AuthenticationExtensionsClientOutputs" data-dfn-type="dict-member" data-export="" data-type="boolean " id="dom-authenticationextensionsclientoutputs-appid"><code>appid</code><a class="self-link" href="#dom-authenticationextensionsclientoutputs-appid"></a></dfn>;
};
</pre>
    <dt data-md="">Authenticator extension input
    <dd data-md="">
     <p>None.</p>
    <dt data-md="">Authenticator extension processing
    <dd data-md="">
     <p>None.</p>
    <dt data-md="">Authenticator extension output
    <dd data-md="">
     <p>None.</p>
   </dl>
   <h3 class="heading settled" data-level="10.2" id="sctn-simple-txauth-extension"><span class="secno">10.2. </span><span class="content">Simple Transaction Authorization Extension (txAuthSimple)</span><a class="self-link" href="#sctn-simple-txauth-extension"></a></h3>
   <p>This <a data-link-type="dfn" href="#registration-extension" id="ref-for-registration-extension⑦">registration extension</a> and <a data-link-type="dfn" href="#authentication-extension" id="ref-for-authentication-extension⑦">authentication extension</a> allows for a simple form of transaction authorization. A <a data-link-type="dfn" href="#relying-party" id="ref-for-relying-party①⑦⑥">Relying Party</a> can specify a prompt string, intended for display on a trusted device on the authenticator.</p>
   <dl>
    <dt data-md="">Extension identifier
    <dd data-md="">
     <p><code>txAuthSimple</code></p>
    <dt data-md="">Client extension input
    <dd data-md="">
     <p>A single USVString prompt.</p>
<pre class="idl highlight def"><span class="kt">partial</span> <span class="kt">dictionary</span> <a class="nv idl-code" data-link-type="dictionary" href="#dictdef-authenticationextensionsclientinputs" id="ref-for-dictdef-authenticationextensionsclientinputs⑥">AuthenticationExtensionsClientInputs</a> {
  <a class="n idl-code" data-link-type="interface" href="https://heycam.github.io/webidl/#idl-USVString" id="ref-for-idl-USVString⑤"><span class="kt">USVString</span></a> <dfn class="nv idl-code" data-dfn-for="AuthenticationExtensionsClientInputs" data-dfn-type="dict-member" data-export="" data-type="USVString " id="dom-authenticationextensionsclientinputs-txauthsimple"><code>txAuthSimple</code><a class="self-link" href="#dom-authenticationextensionsclientinputs-txauthsimple"></a></dfn>;
};
</pre>
    <dt data-md="">Client extension processing
    <dd data-md="">
     <p>None, except creating the authenticator extension input from the client extension input.</p>
    <dt data-md="">Client extension output
    <dd data-md="">
     <p>Returns the authenticator extension output string UTF-8 decoded into a USVString.</p>
<pre class="idl highlight def"><span class="kt">partial</span> <span class="kt">dictionary</span> <a class="nv idl-code" data-link-type="dictionary" href="#dictdef-authenticationextensionsclientoutputs" id="ref-for-dictdef-authenticationextensionsclientoutputs⑦">AuthenticationExtensionsClientOutputs</a> {
  <a class="n idl-code" data-link-type="interface" href="https://heycam.github.io/webidl/#idl-USVString" id="ref-for-idl-USVString⑥"><span class="kt">USVString</span></a> <dfn class="nv idl-code" data-dfn-for="AuthenticationExtensionsClientOutputs" data-dfn-type="dict-member" data-export="" data-type="USVString " id="dom-authenticationextensionsclientoutputs-txauthsimple"><code>txAuthSimple</code><a class="self-link" href="#dom-authenticationextensionsclientoutputs-txauthsimple"></a></dfn>;
};
</pre>
    <dt data-md="">Authenticator extension input
    <dd data-md="">
     <p>The client extension input encoded as a CBOR text string (major type 3).</p>
   </dl>
<pre>CDDL:
txAuthSimpleInput = (tstr)
</pre>
   <dl>
    <dt data-md="">Authenticator extension processing
    <dd data-md="">
     <p>The authenticator MUST display the prompt to the user before performing either <a data-link-type="dfn" href="#user-verification" id="ref-for-user-verification③③">user verification</a> or <a data-link-type="dfn" href="#test-of-user-presence" id="ref-for-test-of-user-presence⑨">test of user
presence</a>. The authenticator MAY insert line breaks if needed.</p>
    <dt data-md="">Authenticator extension output
    <dd data-md="">
     <p>A single CBOR string, representing the prompt as displayed (including any eventual line breaks).</p>
   </dl>
<pre>CDDL:
txAuthSimpleOutput = (tstr)
</pre>
   <h3 class="heading settled" data-level="10.3" id="sctn-generic-txauth-extension"><span class="secno">10.3. </span><span class="content">Generic Transaction Authorization Extension (txAuthGeneric)</span><a class="self-link" href="#sctn-generic-txauth-extension"></a></h3>
   <p>This <a data-link-type="dfn" href="#registration-extension" id="ref-for-registration-extension⑧">registration extension</a> and <a data-link-type="dfn" href="#authentication-extension" id="ref-for-authentication-extension⑧">authentication extension</a> allows images to be used as transaction authorization prompts
as well. This allows authenticators without a font rendering engine to be used and also supports a richer visual appearance.</p>
   <dl>
    <dt data-md="">Extension identifier
    <dd data-md="">
     <p><code>txAuthGeneric</code></p>
    <dt data-md="">Client extension input
    <dd data-md="">
     <p>A JavaScript object defined as follows:</p>
<pre class="idl highlight def"><span class="kt">dictionary</span> <dfn class="nv dfn-paneled idl-code" data-dfn-type="dictionary" data-export="" id="dictdef-txauthgenericarg"><code>txAuthGenericArg</code></dfn> {
    <span class="kt">required</span> <a class="n idl-code" data-link-type="interface" href="https://heycam.github.io/webidl/#idl-USVString" id="ref-for-idl-USVString⑦"><span class="kt">USVString</span></a> <dfn class="nv idl-code" data-dfn-for="txAuthGenericArg" data-dfn-type="dict-member" data-export="" data-type="USVString " id="dom-txauthgenericarg-contenttype"><code>contentType</code><a class="self-link" href="#dom-txauthgenericarg-contenttype"></a></dfn>;    // MIME-Type of the content, e.g., "image/png"
    <span class="kt">required</span> <a class="n idl-code" data-link-type="interface" href="https://heycam.github.io/webidl/#idl-ArrayBuffer" id="ref-for-idl-ArrayBuffer②①"><span class="kt">ArrayBuffer</span></a> <dfn class="nv idl-code" data-dfn-for="txAuthGenericArg" data-dfn-type="dict-member" data-export="" data-type="ArrayBuffer " id="dom-txauthgenericarg-content"><code>content</code><a class="self-link" href="#dom-txauthgenericarg-content"></a></dfn>;
};

<span class="kt">partial</span> <span class="kt">dictionary</span> <a class="nv idl-code" data-link-type="dictionary" href="#dictdef-authenticationextensionsclientinputs" id="ref-for-dictdef-authenticationextensionsclientinputs⑦">AuthenticationExtensionsClientInputs</a> {
  <a class="n" data-link-type="idl-name" href="#dictdef-txauthgenericarg" id="ref-for-dictdef-txauthgenericarg">txAuthGenericArg</a> <dfn class="nv idl-code" data-dfn-for="AuthenticationExtensionsClientInputs" data-dfn-type="dict-member" data-export="" data-type="txAuthGenericArg " id="dom-authenticationextensionsclientinputs-txauthgeneric"><code>txAuthGeneric</code><a class="self-link" href="#dom-authenticationextensionsclientinputs-txauthgeneric"></a></dfn>;
};
</pre>
    <dt data-md="">Client extension processing
    <dd data-md="">
     <p>None, except creating the authenticator extension input from the client extension input.</p>
    <dt data-md="">Client extension output
    <dd data-md="">
     <p>Returns the authenticator extension output value as an ArrayBuffer.</p>
<pre class="idl highlight def"><span class="kt">partial</span> <span class="kt">dictionary</span> <a class="nv idl-code" data-link-type="dictionary" href="#dictdef-authenticationextensionsclientoutputs" id="ref-for-dictdef-authenticationextensionsclientoutputs⑧">AuthenticationExtensionsClientOutputs</a> {
  <a class="n idl-code" data-link-type="interface" href="https://heycam.github.io/webidl/#idl-ArrayBuffer" id="ref-for-idl-ArrayBuffer②②"><span class="kt">ArrayBuffer</span></a> <dfn class="nv idl-code" data-dfn-for="AuthenticationExtensionsClientOutputs" data-dfn-type="dict-member" data-export="" data-type="ArrayBuffer " id="dom-authenticationextensionsclientoutputs-txauthgeneric"><code>txAuthGeneric</code><a class="self-link" href="#dom-authenticationextensionsclientoutputs-txauthgeneric"></a></dfn>;
};
</pre>
    <dt data-md="">Authenticator extension input
    <dd data-md="">
     <p>The client extension input encoded as a CBOR map.</p>
    <dt data-md="">Authenticator extension processing
    <dd data-md="">
     <p>The authenticator MUST display the <code>content</code> to the user before performing either <a data-link-type="dfn" href="#user-verification" id="ref-for-user-verification③④">user verification</a> or <a data-link-type="dfn" href="#test-of-user-presence" id="ref-for-test-of-user-presence①⓪">test of
user presence</a>. The authenticator MAY add other information below the <code>content</code>. No changes are allowed to the <code>content</code> itself, i.e., inside <code>content</code> boundary box.</p>
    <dt data-md="">Authenticator extension output
    <dd data-md="">
     <p>The hash value of the <code>content</code> which was displayed. The authenticator MUST use the same hash algorithm as it uses for the
signature itself.</p>
   </dl>
   <h3 class="heading settled" data-level="10.4" id="sctn-authenticator-selection-extension"><span class="secno">10.4. </span><span class="content">Authenticator Selection Extension (authnSel)</span><a class="self-link" href="#sctn-authenticator-selection-extension"></a></h3>
   <p>This <a data-link-type="dfn" href="#registration-extension" id="ref-for-registration-extension⑨">registration extension</a> allows a <a data-link-type="dfn" href="#relying-party" id="ref-for-relying-party①⑦⑦">Relying Party</a> to guide the selection of the authenticator that will be leveraged when
creating the credential. It is intended primarily for <a data-link-type="dfn" href="#relying-party" id="ref-for-relying-party①⑦⑧">Relying Parties</a> that wish to tightly control the experience around credential
creation.</p>
   <dl>
    <dt data-md="">Extension identifier
    <dd data-md="">
     <p><code>authnSel</code></p>
    <dt data-md="">Client extension input
    <dd data-md="">
     <p>A sequence of AAGUIDs:</p>
<pre class="idl highlight def"><span class="kt">typedef</span> <span class="kt">sequence</span>&lt;<a class="n" data-link-type="idl-name" href="#typedefdef-aaguid" id="ref-for-typedefdef-aaguid">AAGUID</a>> <dfn class="nv dfn-paneled idl-code" data-dfn-type="typedef" data-export="" id="typedefdef-authenticatorselectionlist"><code>AuthenticatorSelectionList</code></dfn>;

<span class="kt">partial</span> <span class="kt">dictionary</span> <a class="nv idl-code" data-link-type="dictionary" href="#dictdef-authenticationextensionsclientinputs" id="ref-for-dictdef-authenticationextensionsclientinputs⑧">AuthenticationExtensionsClientInputs</a> {
  <a class="n" data-link-type="idl-name" href="#typedefdef-authenticatorselectionlist" id="ref-for-typedefdef-authenticatorselectionlist">AuthenticatorSelectionList</a> <dfn class="nv idl-code" data-dfn-for="AuthenticationExtensionsClientInputs" data-dfn-type="dict-member" data-export="" data-type="AuthenticatorSelectionList " id="dom-authenticationextensionsclientinputs-authnsel"><code>authnSel</code><a class="self-link" href="#dom-authenticationextensionsclientinputs-authnsel"></a></dfn>;
};
</pre>
     <p>Each AAGUID corresponds to an authenticator model that is acceptable to the <a data-link-type="dfn" href="#relying-party" id="ref-for-relying-party①⑦⑨">Relying Party</a> for this credential creation. The
list is ordered by decreasing preference.</p>
     <p>An AAGUID is defined as an array containing the globally unique identifier of the authenticator model being sought.</p>
<pre class="idl highlight def"><span class="kt">typedef</span> <a class="n" data-link-type="idl-name" href="https://heycam.github.io/webidl/#BufferSource" id="ref-for-BufferSource⑧">BufferSource</a>      <dfn class="nv dfn-paneled idl-code" data-dfn-type="typedef" data-export="" id="typedefdef-aaguid"><code>AAGUID</code></dfn>;
</pre>
    <dt data-md="">Client extension processing
    <dd data-md="">
     <p>If the client supports the Authenticator Selection Extension, it MUST use the first available authenticator whose AAGUID is
present in the <code class="idl"><a data-link-type="idl" href="#typedefdef-authenticatorselectionlist" id="ref-for-typedefdef-authenticatorselectionlist①">AuthenticatorSelectionList</a></code>. If none of the available authenticators match a provided AAGUID, the client
MUST select an authenticator from among the available authenticators to generate the credential.</p>
    <dt data-md="">Client extension output
    <dd data-md="">
     <p>Returns the value <code>true</code> to indicate to the RP that the extension was acted upon.</p>
<pre class="idl highlight def"><span class="kt">partial</span> <span class="kt">dictionary</span> <a class="nv idl-code" data-link-type="dictionary" href="#dictdef-authenticationextensionsclientoutputs" id="ref-for-dictdef-authenticationextensionsclientoutputs⑨">AuthenticationExtensionsClientOutputs</a> {
  <a class="n idl-code" data-link-type="interface" href="https://heycam.github.io/webidl/#idl-boolean" id="ref-for-idl-boolean④"><span class="kt">boolean</span></a> <dfn class="nv idl-code" data-dfn-for="AuthenticationExtensionsClientOutputs" data-dfn-type="dict-member" data-export="" data-type="boolean " id="dom-authenticationextensionsclientoutputs-authnsel"><code>authnSel</code><a class="self-link" href="#dom-authenticationextensionsclientoutputs-authnsel"></a></dfn>;
};
</pre>
    <dt data-md="">Authenticator extension input
    <dd data-md="">
     <p>None.</p>
    <dt data-md="">Authenticator extension processing
    <dd data-md="">
     <p>None.</p>
    <dt data-md="">Authenticator extension output
    <dd data-md="">
     <p>None.</p>
   </dl>
   <h3 class="heading settled" data-level="10.5" id="sctn-supported-extensions-extension"><span class="secno">10.5. </span><span class="content">Supported Extensions Extension (exts)</span><a class="self-link" href="#sctn-supported-extensions-extension"></a></h3>
   <p>This <a data-link-type="dfn" href="#registration-extension" id="ref-for-registration-extension①⓪">registration extension</a> enables the <a data-link-type="dfn" href="#relying-party" id="ref-for-relying-party①⑧⓪">Relying Party</a> to determine which extensions the authenticator supports.</p>
   <dl>
    <dt data-md="">Extension identifier
    <dd data-md="">
     <p><code>exts</code></p>
    <dt data-md="">Client extension input
    <dd data-md="">
     <p>The Boolean value <code>true</code> to indicate that this extension is requested by the <a data-link-type="dfn" href="#relying-party" id="ref-for-relying-party①⑧①">Relying Party</a>.</p>
<pre class="idl highlight def"><span class="kt">partial</span> <span class="kt">dictionary</span> <a class="nv idl-code" data-link-type="dictionary" href="#dictdef-authenticationextensionsclientinputs" id="ref-for-dictdef-authenticationextensionsclientinputs⑨">AuthenticationExtensionsClientInputs</a> {
  <a class="n idl-code" data-link-type="interface" href="https://heycam.github.io/webidl/#idl-boolean" id="ref-for-idl-boolean⑤"><span class="kt">boolean</span></a> <dfn class="nv idl-code" data-dfn-for="AuthenticationExtensionsClientInputs" data-dfn-type="dict-member" data-export="" data-type="boolean " id="dom-authenticationextensionsclientinputs-exts"><code>exts</code><a class="self-link" href="#dom-authenticationextensionsclientinputs-exts"></a></dfn>;
};
</pre>
    <dt data-md="">Client extension processing
    <dd data-md="">
     <p>None, except creating the authenticator extension input from the client extension input.</p>
    <dt data-md="">Client extension output
    <dd data-md="">
     <p>Returns the list of supported extensions as an array of <a data-link-type="dfn" href="#extension-identifier" id="ref-for-extension-identifier②⓪">extension identifier</a> strings.</p>
<pre class="idl highlight def"><span class="kt">typedef</span> <span class="kt">sequence</span>&lt;<a class="n idl-code" data-link-type="interface" href="https://heycam.github.io/webidl/#idl-USVString" id="ref-for-idl-USVString⑧"><span class="kt">USVString</span></a>> <dfn class="nv dfn-paneled idl-code" data-dfn-type="typedef" data-export="" id="typedefdef-authenticationextensionssupported"><code>AuthenticationExtensionsSupported</code></dfn>;

<span class="kt">partial</span> <span class="kt">dictionary</span> <a class="nv idl-code" data-link-type="dictionary" href="#dictdef-authenticationextensionsclientoutputs" id="ref-for-dictdef-authenticationextensionsclientoutputs①⓪">AuthenticationExtensionsClientOutputs</a> {
  <a class="n" data-link-type="idl-name" href="#typedefdef-authenticationextensionssupported" id="ref-for-typedefdef-authenticationextensionssupported">AuthenticationExtensionsSupported</a> <dfn class="nv idl-code" data-dfn-for="AuthenticationExtensionsClientOutputs" data-dfn-type="dict-member" data-export="" data-type="AuthenticationExtensionsSupported " id="dom-authenticationextensionsclientoutputs-exts"><code>exts</code><a class="self-link" href="#dom-authenticationextensionsclientoutputs-exts"></a></dfn>;
};
</pre>
    <dt data-md="">Authenticator extension input
    <dd data-md="">
     <p>The Boolean value <code>true</code>, encoded in CBOR (major type 7, value 21).</p>
    <dt data-md="">Authenticator extension processing
    <dd data-md="">
     <p>The <a data-link-type="dfn" href="#authenticator" id="ref-for-authenticator①⓪④">authenticator</a> sets the <a data-link-type="dfn" href="#authenticator-extension-output" id="ref-for-authenticator-extension-output①②">authenticator extension output</a> to be a list of extensions that the authenticator supports, as
defined below. This extension can be added to attestation objects.</p>
    <dt data-md="">Authenticator extension output
    <dd data-md="">
     <p>The SupportedExtensions extension is a list (CBOR array) of <a data-link-type="dfn" href="#extension-identifier" id="ref-for-extension-identifier②①">extension identifier</a> (<a data-link-type="dfn" href="https://encoding.spec.whatwg.org/#utf-8-encode" id="ref-for-utf-8-encode②">UTF-8 encoded</a>) strings.</p>
   </dl>
   <h3 class="heading settled" data-level="10.6" id="sctn-uvi-extension"><span class="secno">10.6. </span><span class="content">User Verification Index Extension (uvi)</span><a class="self-link" href="#sctn-uvi-extension"></a></h3>
   <p>This <a data-link-type="dfn" href="#registration-extension" id="ref-for-registration-extension①①">registration extension</a> and <a data-link-type="dfn" href="#authentication-extension" id="ref-for-authentication-extension⑨">authentication extension</a> enables use of a user verification index.</p>
   <dl>
    <dt data-md="">Extension identifier
    <dd data-md="">
     <p><code>uvi</code></p>
    <dt data-md="">Client extension input
    <dd data-md="">
     <p>The Boolean value <code>true</code> to indicate that this extension is requested by the <a data-link-type="dfn" href="#relying-party" id="ref-for-relying-party①⑧②">Relying Party</a>.</p>
<pre class="idl highlight def"><span class="kt">partial</span> <span class="kt">dictionary</span> <a class="nv idl-code" data-link-type="dictionary" href="#dictdef-authenticationextensionsclientinputs" id="ref-for-dictdef-authenticationextensionsclientinputs①⓪">AuthenticationExtensionsClientInputs</a> {
  <a class="n idl-code" data-link-type="interface" href="https://heycam.github.io/webidl/#idl-boolean" id="ref-for-idl-boolean⑥"><span class="kt">boolean</span></a> <dfn class="nv idl-code" data-dfn-for="AuthenticationExtensionsClientInputs" data-dfn-type="dict-member" data-export="" data-type="boolean " id="dom-authenticationextensionsclientinputs-uvi"><code>uvi</code><a class="self-link" href="#dom-authenticationextensionsclientinputs-uvi"></a></dfn>;
};
</pre>
    <dt data-md="">Client extension processing
    <dd data-md="">
     <p>None, except creating the authenticator extension input from the client extension input.</p>
    <dt data-md="">Client extension output
    <dd data-md="">
     <p>Returns the authenticator extension output as an ArrayBuffer.</p>
<pre class="idl highlight def"><span class="kt">partial</span> <span class="kt">dictionary</span> <a class="nv idl-code" data-link-type="dictionary" href="#dictdef-authenticationextensionsclientoutputs" id="ref-for-dictdef-authenticationextensionsclientoutputs①①">AuthenticationExtensionsClientOutputs</a> {
  <a class="n idl-code" data-link-type="interface" href="https://heycam.github.io/webidl/#idl-ArrayBuffer" id="ref-for-idl-ArrayBuffer②③"><span class="kt">ArrayBuffer</span></a> <dfn class="nv idl-code" data-dfn-for="AuthenticationExtensionsClientOutputs" data-dfn-type="dict-member" data-export="" data-type="ArrayBuffer " id="dom-authenticationextensionsclientoutputs-uvi"><code>uvi</code><a class="self-link" href="#dom-authenticationextensionsclientoutputs-uvi"></a></dfn>;
};
</pre>
    <dt data-md="">Authenticator extension input
    <dd data-md="">
     <p>The Boolean value <code>true</code>, encoded in CBOR (major type 7, value 21).</p>
    <dt data-md="">Authenticator extension processing
    <dd data-md="">
     <p>The <a data-link-type="dfn" href="#authenticator" id="ref-for-authenticator①⓪⑤">authenticator</a> sets the <a data-link-type="dfn" href="#authenticator-extension-output" id="ref-for-authenticator-extension-output①③">authenticator extension output</a> to be a user verification index indicating the method used
by the user to authorize the operation, as defined below. This extension can be added to attestation objects and assertions.</p>
    <dt data-md="">Authenticator extension output
    <dd data-md="">
     <p>The user verification index (UVI) is a value uniquely identifying a user verification data record. The UVI is encoded as CBOR
byte string (type 0x58). Each UVI value MUST be specific to the related key (in order to provide unlinkability). It also
MUST contain sufficient entropy that makes guessing impractical. UVI values MUST NOT be reused by the Authenticator (for
other biometric data or users).</p>
     <p>The UVI data can be used by servers to understand whether an authentication was authorized by the exact same biometric data
as the initial key generation. This allows the detection and prevention of "friendly fraud".</p>
     <p>As an example, the UVI could be computed as SHA256(KeyID || SHA256(rawUVI)), where <code>||</code> represents concatenation, and the
rawUVI reflects (a) the biometric reference data, (b) the related OS level user ID and (c) an identifier which changes
whenever a factory reset is performed for the device, e.g. rawUVI = biometricReferenceData || OSLevelUserID ||
FactoryResetCounter.</p>
     <p>Example of <a data-link-type="dfn" href="#authenticator-data" id="ref-for-authenticator-data③②">authenticator data</a> containing one UVI extension</p>
<pre>...                                         -- [=RP ID=] hash (32 bytes)
81                                          -- UP and ED set
00 00 00 01                                 -- (initial) signature counter
...                                         -- all public key alg etc.
A1                                          -- extension: CBOR map of one element
    63                                      -- Key 1: CBOR text string of 3 bytes
        75 76 69                            -- "uvi" [=UTF-8 encoded=] string
    58 20                                   -- Value 1: CBOR byte string with 0x20 bytes
        43 B8 E3 BE 27 95 8C 28             -- the UVI value itself
        D5 74 BF 46 8A 85 CF 46
        9A 14 F0 E5 16 69 31 DA
        4B CF FF C1 BB 11 32 82
</pre>
   </dl>
   <h3 class="heading settled" data-level="10.7" id="sctn-location-extension"><span class="secno">10.7. </span><span class="content">Location Extension (loc)</span><a class="self-link" href="#sctn-location-extension"></a></h3>
   <p>The location <a data-link-type="dfn" href="#registration-extension" id="ref-for-registration-extension①②">registration extension</a> and <a data-link-type="dfn" href="#authentication-extension" id="ref-for-authentication-extension①⓪">authentication extension</a> provides the authenticator’s current location to the
WebAuthn <a data-link-type="dfn" href="#relying-party" id="ref-for-relying-party①⑧③">Relying Party</a>.</p>
   <dl>
    <dt data-md="">Extension identifier
    <dd data-md="">
     <p><code>loc</code></p>
    <dt data-md="">Client extension input
    <dd data-md="">
     <p>The Boolean value <code>true</code> to indicate that this extension is requested by the <a data-link-type="dfn" href="#relying-party" id="ref-for-relying-party①⑧④">Relying Party</a>.</p>
<pre class="idl highlight def"><span class="kt">partial</span> <span class="kt">dictionary</span> <a class="nv idl-code" data-link-type="dictionary" href="#dictdef-authenticationextensionsclientinputs" id="ref-for-dictdef-authenticationextensionsclientinputs①①">AuthenticationExtensionsClientInputs</a> {
  <a class="n idl-code" data-link-type="interface" href="https://heycam.github.io/webidl/#idl-boolean" id="ref-for-idl-boolean⑦"><span class="kt">boolean</span></a> <dfn class="nv idl-code" data-dfn-for="AuthenticationExtensionsClientInputs" data-dfn-type="dict-member" data-export="" data-type="boolean " id="dom-authenticationextensionsclientinputs-loc"><code>loc</code><a class="self-link" href="#dom-authenticationextensionsclientinputs-loc"></a></dfn>;
};
</pre>
    <dt data-md="">Client extension processing
    <dd data-md="">
     <p>None, except creating the authenticator extension input from the client extension input.</p>
    <dt data-md="">Client extension output
    <dd data-md="">
     <p>Returns a JavaScript object that encodes the location information in the authenticator extension output as a <code class="idl"><a data-link-type="idl" href="https://dev.w3.org/geo/api/spec-source.html#coordinates_interface" id="ref-for-coordinates_interface">Coordinates</a></code> value,
as defined by <a data-link-type="biblio" href="#biblio-geolocation-api">[Geolocation-API]</a>.</p>
<pre class="idl highlight def"><span class="kt">partial</span> <span class="kt">dictionary</span> <a class="nv idl-code" data-link-type="dictionary" href="#dictdef-authenticationextensionsclientoutputs" id="ref-for-dictdef-authenticationextensionsclientoutputs①②">AuthenticationExtensionsClientOutputs</a> {
  <a class="n" data-link-type="idl-name" href="https://dev.w3.org/geo/api/spec-source.html#coordinates_interface" id="ref-for-coordinates_interface①">Coordinates</a> <dfn class="nv idl-code" data-dfn-for="AuthenticationExtensionsClientOutputs" data-dfn-type="dict-member" data-export="" data-type="Coordinates " id="dom-authenticationextensionsclientoutputs-loc"><code>loc</code><a class="self-link" href="#dom-authenticationextensionsclientoutputs-loc"></a></dfn>;
};
</pre>
    <dt data-md="">Authenticator extension input
    <dd data-md="">
     <p>The Boolean value <code>true</code>, encoded in CBOR (major type 7, value 21).</p>
    <dt data-md="">Authenticator extension processing
    <dd data-md="">
     <p>Determine the Geolocation value.</p>
    <dt data-md="">Authenticator extension output
    <dd data-md="">
     <p>A <a data-link-type="biblio" href="#biblio-geolocation-api">[Geolocation-API]</a> <code class="idl"><a data-link-type="idl" href="https://dev.w3.org/geo/api/spec-source.html#coordinates_interface" id="ref-for-coordinates_interface②">Coordinates</a></code> record encoded as a CBOR map.
Values represented by the "double" type in JavaScript are represented as 64-bit CBOR floating point numbers.
Per the Geolocation specification, the "latitude", "longitude", and "accuracy" values are required
and other values such as "altitude" are optional.</p>
   </dl>
   <h3 class="heading settled" data-level="10.8" id="sctn-uvm-extension"><span class="secno">10.8. </span><span class="content">User Verification Method Extension (uvm)</span><a class="self-link" href="#sctn-uvm-extension"></a></h3>
   <p>This <a data-link-type="dfn" href="#registration-extension" id="ref-for-registration-extension①③">registration extension</a> and <a data-link-type="dfn" href="#authentication-extension" id="ref-for-authentication-extension①①">authentication extension</a> enables use of a user verification method.</p>
   <dl>
    <dt data-md="">Extension identifier
    <dd data-md="">
     <p><code>uvm</code></p>
    <dt data-md="">Client extension input
    <dd data-md="">
     <p>The Boolean value <code>true</code> to indicate that this extension is requested by the <a data-link-type="dfn" href="#relying-party" id="ref-for-relying-party①⑧⑤">Relying Party</a>.</p>
<pre class="idl highlight def"><span class="kt">partial</span> <span class="kt">dictionary</span> <a class="nv idl-code" data-link-type="dictionary" href="#dictdef-authenticationextensionsclientinputs" id="ref-for-dictdef-authenticationextensionsclientinputs①②">AuthenticationExtensionsClientInputs</a> {
  <a class="n idl-code" data-link-type="interface" href="https://heycam.github.io/webidl/#idl-boolean" id="ref-for-idl-boolean⑧"><span class="kt">boolean</span></a> <dfn class="nv idl-code" data-dfn-for="AuthenticationExtensionsClientInputs" data-dfn-type="dict-member" data-export="" data-type="boolean " id="dom-authenticationextensionsclientinputs-uvm"><code>uvm</code><a class="self-link" href="#dom-authenticationextensionsclientinputs-uvm"></a></dfn>;
};
</pre>
    <dt data-md="">Client extension processing
    <dd data-md="">
     <p>None, except creating the authenticator extension input from the client extension input.</p>
    <dt data-md="">Client extension output
    <dd data-md="">
     <p>Returns a JSON array of 3-element arrays of numbers that encodes the factors in the authenticator extension output.</p>
<pre class="idl highlight def"><span class="kt">typedef</span> <span class="kt">sequence</span>&lt;<a class="n idl-code" data-link-type="interface" href="https://heycam.github.io/webidl/#idl-unsigned-long" id="ref-for-idl-unsigned-long④"><span class="kt">unsigned</span> <span class="kt">long</span></a>> <dfn class="nv dfn-paneled idl-code" data-dfn-type="typedef" data-export="" id="typedefdef-uvmentry"><code>UvmEntry</code></dfn>;
<span class="kt">typedef</span> <span class="kt">sequence</span>&lt;<a class="n" data-link-type="idl-name" href="#typedefdef-uvmentry" id="ref-for-typedefdef-uvmentry">UvmEntry</a>> <dfn class="nv dfn-paneled idl-code" data-dfn-type="typedef" data-export="" id="typedefdef-uvmentries"><code>UvmEntries</code></dfn>;

<span class="kt">partial</span> <span class="kt">dictionary</span> <a class="nv idl-code" data-link-type="dictionary" href="#dictdef-authenticationextensionsclientoutputs" id="ref-for-dictdef-authenticationextensionsclientoutputs①③">AuthenticationExtensionsClientOutputs</a> {
  <a class="n" data-link-type="idl-name" href="#typedefdef-uvmentries" id="ref-for-typedefdef-uvmentries">UvmEntries</a> <dfn class="nv idl-code" data-dfn-for="AuthenticationExtensionsClientOutputs" data-dfn-type="dict-member" data-export="" data-type="UvmEntries " id="dom-authenticationextensionsclientoutputs-uvm"><code>uvm</code><a class="self-link" href="#dom-authenticationextensionsclientoutputs-uvm"></a></dfn>;
};
</pre>
    <dt data-md="">Authenticator extension input
    <dd data-md="">
     <p>The Boolean value <code>true</code>, encoded in CBOR (major type 7, value 21).</p>
    <dt data-md="">Authenticator extension processing
    <dd data-md="">
     <p>The <a data-link-type="dfn" href="#authenticator" id="ref-for-authenticator①⓪⑥">authenticator</a> sets the <a data-link-type="dfn" href="#authenticator-extension-output" id="ref-for-authenticator-extension-output①④">authenticator extension output</a> to be one or more user verification methods indicating the method(s) used
by the user to authorize the operation, as defined below. This extension can be added to attestation objects and assertions.</p>
    <dt data-md="">Authenticator extension output
    <dd data-md="">
     <p>Authenticators can report up to 3 different user verification methods (factors) used in a single authentication instance,
using the CBOR syntax defined below:</p>
<pre>    uvmFormat = [ 1*3 uvmEntry ]
    uvmEntry = [
                   userVerificationMethod: uint .size 4,
                   keyProtectionType: uint .size 2,
                   matcherProtectionType: uint .size 2
               ]
</pre>
     <p>The semantics of the fields in each <code>uvmEntry</code> are as follows:</p>
     <dl>
      <dt data-md="">userVerificationMethod
      <dd data-md="">
       <p>The authentication method/factor used by the authenticator to verify the user. Available values are defined in <a data-link-type="dfn" href="https://fidoalliance.org/specs/fido-v2.0-id-20180227/fido-registry-v2.0-id-20180227.html#user-verification-methods" id="ref-for-user-verification-methods">Section 3.1 User Verification Methods</a> of <a data-link-type="biblio" href="#biblio-fido-registry">[FIDO-Registry]</a>.</p>
      <dt data-md="">keyProtectionType
      <dd data-md="">
       <p>The method used by the authenticator to protect the FIDO registration private key material. Available values are defined
in <a data-link-type="dfn" href="https://fidoalliance.org/specs/fido-v2.0-id-20180227/fido-registry-v2.0-id-20180227.html#key-protection-types" id="ref-for-key-protection-types">Section 3.2 Key Protection Types</a> of <a data-link-type="biblio" href="#biblio-fido-registry">[FIDO-Registry]</a>.</p>
      <dt data-md="">matcherProtectionType
      <dd data-md="">
       <p>The method used by the authenticator to protect the matcher that performs user verification. Available values are defined
in <a data-link-type="dfn" href="https://fidoalliance.org/specs/fido-v2.0-id-20180227/fido-registry-v2.0-id-20180227.html#matcher-protection-types" id="ref-for-matcher-protection-types">Section 3.3 Matcher Protection Types</a> of <a data-link-type="biblio" href="#biblio-fido-registry">[FIDO-Registry]</a>.</p>
     </dl>
     <p>If >3 factors can be used in an authentication instance the authenticator vendor MUST select the 3 factors it believes
will be most relevant to the Server to include in the UVM.</p>
     <p>Example for <a data-link-type="dfn" href="#authenticator-data" id="ref-for-authenticator-data③③">authenticator data</a> containing one UVM extension for a multi-factor authentication instance where 2 factors
were used:</p>
<pre>...                    -- [=RP ID=] hash (32 bytes)
81                     -- UP and ED set
00 00 00 01            -- (initial) signature counter
...                    -- all public key alg etc.
A1                     -- extension: CBOR map of one element
    63                 -- Key 1: CBOR text string of 3 bytes
        75 76 6d       -- "uvm" [=UTF-8 encoded=] string
    82                 -- Value 1: CBOR array of length 2 indicating two factor usage
        83              -- Item 1: CBOR array of length 3
            02           -- Subitem 1: CBOR integer for User Verification Method Fingerprint
            04           -- Subitem 2: CBOR short for Key Protection Type TEE
            02           -- Subitem 3: CBOR short for Matcher Protection Type TEE
        83              -- Item 2: CBOR array of length 3
            04           -- Subitem 1: CBOR integer for User Verification Method Passcode
            01           -- Subitem 2: CBOR short for Key Protection Type Software
            01           -- Subitem 3: CBOR short for Matcher Protection Type Software
</pre>
   </dl>
   <h3 class="heading settled" data-level="10.9" id="sctn-authenticator-biometric-criteria-extension"><span class="secno">10.9. </span><span class="content">Biometric Authenticator Performance Bounds Extension (biometricPerfBounds)</span><a class="self-link" href="#sctn-authenticator-biometric-criteria-extension"></a></h3>
   <p>This <a data-link-type="dfn" href="#registration-extension" id="ref-for-registration-extension①④">registration extension</a> allows <a data-link-type="dfn" href="#relying-party" id="ref-for-relying-party①⑧⑥">Relying Parties</a> to specify the desired performance bounds for selecting <a data-link-type="dfn" href="#biometric-authenticator" id="ref-for-biometric-authenticator">biometric authenticators</a> as candidates to be employed in a <a data-link-type="dfn" href="#registration" id="ref-for-registration①④">registration</a> ceremony.</p>
   <dl>
    <dt data-md="">Extension identifier
    <dd data-md="">
     <p><code>biometricPerfBounds</code></p>
    <dt data-md="">Client extension input
    <dd data-md="">
     <p>Biometric performance bounds:</p>
<pre class="idl highlight def"><span class="kt">dictionary</span> <dfn class="nv idl-code" data-dfn-type="dictionary" data-export="" id="dictdef-authenticatorbiometricperfbounds"><code>authenticatorBiometricPerfBounds</code><a class="self-link" href="#dictdef-authenticatorbiometricperfbounds"></a></dfn>{
    <a class="n idl-code" data-link-type="interface" href="https://heycam.github.io/webidl/#idl-float" id="ref-for-idl-float"><span class="kt">float</span></a> <dfn class="nv idl-code" data-dfn-for="authenticatorBiometricPerfBounds" data-dfn-type="dict-member" data-export="" data-type="float " id="dom-authenticatorbiometricperfbounds-far"><code>FAR</code><a class="self-link" href="#dom-authenticatorbiometricperfbounds-far"></a></dfn>;
    <a class="n idl-code" data-link-type="interface" href="https://heycam.github.io/webidl/#idl-float" id="ref-for-idl-float①"><span class="kt">float</span></a> <dfn class="nv idl-code" data-dfn-for="authenticatorBiometricPerfBounds" data-dfn-type="dict-member" data-export="" data-type="float " id="dom-authenticatorbiometricperfbounds-frr"><code>FRR</code><a class="self-link" href="#dom-authenticatorbiometricperfbounds-frr"></a></dfn>;
    };
</pre>
     <p>The FAR is the maximum false acceptance rate for a biometric authenticator allowed by the <a data-link-type="dfn" href="#relying-party" id="ref-for-relying-party①⑧⑦">Relying Party</a>.</p>
     <p>The FAR is the maximum false rejection rate for a biometric authenticator allowed by the <a data-link-type="dfn" href="#relying-party" id="ref-for-relying-party①⑧⑧">Relying Party</a>.</p>
    <dt data-md="">Client extension processing
    <dd data-md="">
     <p>If the client supports this extension, it MUST NOT use a biometric authenticator whose FAR or FRR does not match the
bounds as provided.  The client can obtain information about the biometric authenticator’s performance from authoritative
sources such as the FIDO Metadata Service <a data-link-type="biblio" href="#biblio-fidometadataservice">[FIDOMetadataService]</a> (see Sec. 3.2 of <a data-link-type="biblio" href="#biblio-fidouafauthenticatormetadatastatements">[FIDOUAFAuthenticatorMetadataStatements]</a>).</p>
    <dt data-md="">Client extension output
    <dd data-md="">
     <p>Returns the JSON value <code>true</code> to indicate to the RP that the extension was acted upon</p>
    <dt data-md="">Authenticator extension input
    <dd data-md="">
     <p>None.</p>
    <dt data-md="">Authenticator extension processing
    <dd data-md="">
     <p>None.</p>
    <dt data-md="">Authenticator extension output
    <dd data-md="">
     <p>None.</p>
   </dl>
   <h2 class="heading settled" data-level="11" id="sctn-IANA"><span class="secno">11. </span><span class="content">IANA Considerations</span><a class="self-link" href="#sctn-IANA"></a></h2>
   <h3 class="heading settled" data-level="11.1" id="sctn-att-fmt-reg"><span class="secno">11.1. </span><span class="content">WebAuthn Attestation Statement Format Identifier Registrations</span><a class="self-link" href="#sctn-att-fmt-reg"></a></h3>
   <p>This section registers the attestation statement formats defined in Section <a href="#defined-attestation-formats">§8 Defined Attestation Statement Formats</a> in the
IANA "WebAuthn Attestation Statement Format Identifier" registry established by <a data-link-type="biblio" href="#biblio-webauthn-registries">[WebAuthn-Registries]</a>.</p>
   <ul>
    <li data-md="">
     <p>WebAuthn Attestation Statement Format Identifier: packed</p>
    <li data-md="">
     <p>Description: The "packed" attestation statement format is a WebAuthn-optimized format for <a data-link-type="dfn" href="#attestation" id="ref-for-attestation①③">attestation</a>. It uses a very
compact but still extensible encoding method. This format is implementable by authenticators with limited resources (e.g.,
secure elements).</p>
    <li data-md="">
     <p>Specification Document: Section <a href="#packed-attestation">§8.2 Packed Attestation Statement Format</a> of this specification <br><br></p>
    <li data-md="">
     <p>WebAuthn Attestation Statement Format Identifier: tpm</p>
    <li data-md="">
     <p>Description: The TPM attestation statement format returns an attestation statement in the same format as the packed
attestation statement format, although the rawData and signature fields are computed differently.</p>
    <li data-md="">
     <p>Specification Document: Section <a href="#tpm-attestation">§8.3 TPM Attestation Statement Format</a> of this specification <br><br></p>
    <li data-md="">
     <p>WebAuthn Attestation Statement Format Identifier: android-key</p>
    <li data-md="">
     <p>Description: Platform-provided authenticators based on versions "N", and later, may provide this proprietary "hardware
attestation" statement.</p>
    <li data-md="">
     <p>Specification Document: Section <a href="#android-key-attestation">§8.4 Android Key Attestation Statement Format</a> of this specification <br><br></p>
    <li data-md="">
     <p>WebAuthn Attestation Statement Format Identifier: android-safetynet</p>
    <li data-md="">
     <p>Description: Android-based, platform-provided authenticators MAY produce an attestation statement based on the Android
SafetyNet API.</p>
    <li data-md="">
     <p>Specification Document: Section <a href="#android-safetynet-attestation">§8.5 Android SafetyNet Attestation Statement Format</a> of this specification <br><br></p>
    <li data-md="">
     <p>WebAuthn Attestation Statement Format Identifier: fido-u2f</p>
    <li data-md="">
     <p>Description: Used with FIDO U2F authenticators</p>
    <li data-md="">
     <p>Specification Document: Section <a href="#fido-u2f-attestation">§8.6 FIDO U2F Attestation Statement Format</a> of this specification</p>
   </ul>
   <h3 class="heading settled" data-level="11.2" id="sctn-extensions-reg"><span class="secno">11.2. </span><span class="content">WebAuthn Extension Identifier Registrations</span><a class="self-link" href="#sctn-extensions-reg"></a></h3>
   <p>This section registers the <a data-link-type="dfn" href="#extension-identifier" id="ref-for-extension-identifier②②">extension identifier</a> values defined in Section <a href="#extensions">§9 WebAuthn Extensions</a> in the
IANA "WebAuthn Extension Identifier" registry established by <a data-link-type="biblio" href="#biblio-webauthn-registries">[WebAuthn-Registries]</a>.</p>
   <ul>
    <li data-md="">
     <p>WebAuthn Extension Identifier: appid</p>
    <li data-md="">
     <p>Description: This <a data-link-type="dfn" href="#authentication-extension" id="ref-for-authentication-extension①②">authentication extension</a> allows <a data-link-type="dfn" href="#relying-party" id="ref-for-relying-party①⑧⑨">Relying Parties</a> that have previously registered a credential using the legacy
FIDO JavaScript APIs to request an assertion.</p>
    <li data-md="">
     <p>Specification Document: Section <a href="#sctn-appid-extension">§10.1 FIDO AppID Extension (appid)</a> of this specification <br><br></p>
    <li data-md="">
     <p>WebAuthn Extension Identifier: txAuthSimple</p>
    <li data-md="">
     <p>Description: This <a data-link-type="dfn" href="#registration-extension" id="ref-for-registration-extension①⑤">registration extension</a> and <a data-link-type="dfn" href="#authentication-extension" id="ref-for-authentication-extension①③">authentication extension</a> allows for a simple form of transaction
authorization. A WebAuthn Relying Party can specify a prompt string, intended for display on a trusted device on the
authenticator</p>
    <li data-md="">
     <p>Specification Document: Section <a href="#sctn-simple-txauth-extension">§10.2 Simple Transaction Authorization Extension (txAuthSimple)</a> of this specification <br><br></p>
    <li data-md="">
     <p>WebAuthn Extension Identifier: txAuthGeneric</p>
    <li data-md="">
     <p>Description: This <a data-link-type="dfn" href="#registration-extension" id="ref-for-registration-extension①⑥">registration extension</a> and <a data-link-type="dfn" href="#authentication-extension" id="ref-for-authentication-extension①④">authentication extension</a> allows images to be used as transaction
authorization prompts as well. This allows authenticators without a font rendering engine to be used and also supports a
richer visual appearance than accomplished with the webauthn.txauth.simple extension.</p>
    <li data-md="">
     <p>Specification Document: Section <a href="#sctn-generic-txauth-extension">§10.3 Generic Transaction Authorization Extension (txAuthGeneric)</a> of this specification <br><br></p>
    <li data-md="">
     <p>WebAuthn Extension Identifier: authnSel</p>
    <li data-md="">
     <p>Description: This <a data-link-type="dfn" href="#registration-extension" id="ref-for-registration-extension①⑦">registration extension</a> allows a WebAuthn Relying Party to guide the selection of the authenticator that
will be leveraged when creating the credential. It is intended primarily for WebAuthn Relying Parties that wish to tightly
control the experience around credential creation.</p>
    <li data-md="">
     <p>Specification Document: Section <a href="#sctn-authenticator-selection-extension">§10.4 Authenticator Selection Extension (authnSel)</a> of this specification <br><br></p>
    <li data-md="">
     <p>WebAuthn Extension Identifier: exts</p>
    <li data-md="">
     <p>Description: This <a data-link-type="dfn" href="#registration-extension" id="ref-for-registration-extension①⑧">registration extension</a> enables the <a data-link-type="dfn" href="#relying-party" id="ref-for-relying-party①⑨⓪">Relying Party</a> to determine which extensions the authenticator supports. The
extension data is a list (CBOR array) of extension identifiers encoded as UTF-8 Strings. This extension is added
automatically by the authenticator. This extension can be added to attestation statements.</p>
    <li data-md="">
     <p>Specification Document: Section <a href="#sctn-supported-extensions-extension">§10.5 Supported Extensions Extension (exts)</a> of this specification <br><br></p>
    <li data-md="">
     <p>WebAuthn Extension Identifier: uvi</p>
    <li data-md="">
     <p>Description: This <a data-link-type="dfn" href="#registration-extension" id="ref-for-registration-extension①⑨">registration extension</a> and <a data-link-type="dfn" href="#authentication-extension" id="ref-for-authentication-extension①⑤">authentication extension</a> enables use of a user verification index. The
user verification index is a value uniquely identifying a user verification data record. The UVI data can be used by servers
to understand whether an authentication was authorized by the exact same biometric data as the initial key generation. This
allows the detection and prevention of "friendly fraud".</p>
    <li data-md="">
     <p>Specification Document: Section <a href="#sctn-uvi-extension">§10.6 User Verification Index Extension (uvi)</a> of this specification <br><br></p>
    <li data-md="">
     <p>WebAuthn Extension Identifier: loc</p>
    <li data-md="">
     <p>Description: The location <a data-link-type="dfn" href="#registration-extension" id="ref-for-registration-extension②⓪">registration extension</a> and <a data-link-type="dfn" href="#authentication-extension" id="ref-for-authentication-extension①⑥">authentication extension</a> provides the client device’s current
location to the WebAuthn relying party, if supported by the client device and subject to <a data-link-type="dfn" href="#user-consent" id="ref-for-user-consent②⑨">user consent</a>.</p>
    <li data-md="">
     <p>Specification Document: Section <a href="#sctn-location-extension">§10.7 Location Extension (loc)</a> of this specification <br><br></p>
    <li data-md="">
     <p>WebAuthn Extension Identifier: uvm</p>
    <li data-md="">
     <p>Description: This <a data-link-type="dfn" href="#registration-extension" id="ref-for-registration-extension②①">registration extension</a> and <a data-link-type="dfn" href="#authentication-extension" id="ref-for-authentication-extension①⑦">authentication extension</a> enables use of a user verification method.
The user verification method extension returns to the Webauthn relying party which user verification methods (factors) were
used for the WebAuthn operation.</p>
    <li data-md="">
     <p>Specification Document: Section <a href="#sctn-uvm-extension">§10.8 User Verification Method Extension (uvm)</a> of this specification</p>
   </ul>
   <h3 class="heading settled" data-level="11.3" id="sctn-cose-alg-reg"><span class="secno">11.3. </span><span class="content">COSE Algorithm Registrations</span><a class="self-link" href="#sctn-cose-alg-reg"></a></h3>
   <p>This section registers identifiers for the following ECDAA algorithms in the
IANA COSE Algorithms registry <a data-link-type="biblio" href="#biblio-iana-cose-algs-reg">[IANA-COSE-ALGS-REG]</a>.
Note that <a data-link-type="biblio" href="#biblio-webauthn-cose-algs">[WebAuthn-COSE-Algs]</a> also registers
RSASSA-PKCS1-v1_5 <a data-link-type="biblio" href="#biblio-rfc8017">[RFC8017]</a> algorithms using SHA-2 and SHA-1 hash functions in the
IANA COSE Algorithms registry <a data-link-type="biblio" href="#biblio-iana-cose-algs-reg">[IANA-COSE-ALGS-REG]</a>,
such as registering -257 for "RS256".</p>
   <ul>
    <li data-md="">
     <p>Name: ED256</p>
    <li data-md="">
     <p>Value: TBD (requested assignment -260)</p>
    <li data-md="">
     <p>Description: TPM_ECC_BN_P256 curve w/ SHA-256</p>
    <li data-md="">
     <p>Reference: Section 4.2 of <a data-link-type="biblio" href="#biblio-fidoecdaaalgorithm">[FIDOEcdaaAlgorithm]</a></p>
    <li data-md="">
     <p>Recommended: Yes <br><br></p>
    <li data-md="">
     <p>Name: ED512</p>
    <li data-md="">
     <p>Value: TBD (requested assignment -261)</p>
    <li data-md="">
     <p>Description: ECC_BN_ISOP512 curve w/ SHA-512</p>
    <li data-md="">
     <p>Reference: Section 4.2 of <a data-link-type="biblio" href="#biblio-fidoecdaaalgorithm">[FIDOEcdaaAlgorithm]</a></p>
    <li data-md="">
     <p>Recommended: Yes</p>
   </ul>
   <h2 class="heading settled" data-level="12" id="sample-scenarios"><span class="secno">12. </span><span class="content">Sample scenarios</span><a class="self-link" href="#sample-scenarios"></a></h2>
   <p><em>This section is not normative.</em></p>
   <p>In this section, we walk through some events in the lifecycle of a <a data-link-type="dfn" href="#public-key-credential" id="ref-for-public-key-credential④⑧">public key credential</a>, along with the corresponding
sample code for using this API. Note that this is an example flow and does not limit the scope of how the API can be used.</p>
   <p>As was the case in earlier sections, this flow focuses on a use case involving an external first-factor <a data-link-type="dfn" href="#authenticator" id="ref-for-authenticator①⓪⑦">authenticator</a> with its own display. One example of such an authenticator would be a smart phone. Other authenticator types are also supported
by this API, subject to implementation by the platform. For instance, this flow also works without modification for the case of
an authenticator that is embedded in the client platform. The flow also works for the case of an authenticator without
its own display (similar to a smart card) subject to specific implementation considerations. Specifically, the client platform
needs to display any prompts that would otherwise be shown by the authenticator, and the authenticator needs to allow the client
platform to enumerate all the authenticator’s credentials so that the client can have information to show appropriate prompts.</p>
   <h3 class="heading settled" data-level="12.1" id="sample-registration"><span class="secno">12.1. </span><span class="content">Registration</span><a class="self-link" href="#sample-registration"></a></h3>
   <p>This is the first-time flow, in which a new credential is created and registered with the server.
In this flow, the <a data-link-type="dfn" href="#relying-party" id="ref-for-relying-party①⑨①">Relying Party</a> does not have a preference for <a data-link-type="dfn" href="#platform-authenticators" id="ref-for-platform-authenticators⑦">platform authenticator</a> or <a data-link-type="dfn" href="#roaming-authenticators" id="ref-for-roaming-authenticators④">roaming authenticators</a>.</p>
   <ol>
    <li data-md="">
     <p>The user visits example.com, which serves up a script. At this point, the user may already be logged in using a legacy
username and password, or additional authenticator, or other means acceptable to the <a data-link-type="dfn" href="#relying-party" id="ref-for-relying-party①⑨②">Relying Party</a>.
Or the user may be in the process of creating a new account.</p>
    <li data-md="">
     <p>The <a data-link-type="dfn" href="#relying-party" id="ref-for-relying-party①⑨③">Relying Party</a> script runs the code snippet below.</p>
    <li data-md="">
     <p>The client platform searches for and locates the authenticator.</p>
    <li data-md="">
     <p>The client platform connects to the authenticator, performing any pairing actions if necessary.</p>
    <li data-md="">
     <p>The authenticator shows appropriate UI for the user to select the authenticator on which the new credential will be
created, and obtains a biometric or other authorization gesture from the user.</p>
    <li data-md="">
     <p>The authenticator returns a response to the client platform, which in turn returns a response to the <a data-link-type="dfn" href="#relying-party" id="ref-for-relying-party①⑨④">Relying Party</a> script. If
the user declined to select an authenticator or provide authorization, an appropriate error is returned.</p>
    <li data-md="">
     <p>If a new credential was created,</p>
     <ul>
      <li data-md="">
       <p>The <a data-link-type="dfn" href="#relying-party" id="ref-for-relying-party①⑨⑤">Relying Party</a> script sends the newly generated <a data-link-type="dfn" href="#credential-public-key" id="ref-for-credential-public-key①⑥">credential public key</a> to the server, along with additional information
such as attestation regarding the provenance and characteristics of the authenticator.</p>
      <li data-md="">
       <p>The server stores the <a data-link-type="dfn" href="#credential-public-key" id="ref-for-credential-public-key①⑦">credential public key</a> in its database and associates it with the user as well as with the
characteristics of authentication indicated by attestation, also storing a friendly name for later use.</p>
      <li data-md="">
       <p>The script may store data such as the <a data-link-type="dfn" href="#credential-id" id="ref-for-credential-id①⑤">credential ID</a> in local storage, to improve future UX by narrowing the choice of
credential for the user.</p>
     </ul>
   </ol>
   <p>The sample code for generating and registering a new key follows:</p>
<pre class="example highlight" id="example-e0bcf260"><a class="self-link" href="#example-e0bcf260"></a><span class="k">if</span> <span class="p">(</span><span class="o">!</span>window<span class="p">.</span>PublicKeyCredential<span class="p">)</span> <span class="p">{</span> <span class="cm">/* Platform not capable. Handle error. */</span> <span class="p">}</span>

<span class="kd">var</span> publicKey <span class="o">=</span> <span class="p">{</span>
  <span class="c1">// The challenge must be produced by the server; see the Security Considerations</span>
<span class="c1"></span>  challenge<span class="o">:</span> <span class="k">new</span> Uint8Array<span class="p">([</span><span class="mi">21</span><span class="p">,</span><span class="mi">31</span><span class="p">,</span><span class="mi">105</span> <span class="cm">/* 29 more random bytes generated by the server */</span><span class="p">]),</span>

  <span class="c1">// Relying Party:</span>
<span class="c1"></span>  rp<span class="o">:</span> <span class="p">{</span>
    name<span class="o">:</span> <span class="s2">"ACME Corporation"</span>
  <span class="p">},</span>

  <span class="c1">// User:</span>
<span class="c1"></span>  user<span class="o">:</span> <span class="p">{</span>
    id<span class="o">:</span> Uint8Array<span class="p">.</span>from<span class="p">(</span>window<span class="p">.</span>atob<span class="p">(</span><span class="s2">"MIIBkzCCATigAwIBAjCCAZMwggE4oAMCAQIwggGTMII="</span><span class="p">),</span> c<span class="p">=></span>c<span class="p">.</span>charCodeAt<span class="p">(</span><span class="mi">0</span><span class="p">)),</span>
    name<span class="o">:</span> <span class="s2">"alex.p.mueller@example.com"</span><span class="p">,</span>
    displayName<span class="o">:</span> <span class="s2">"Alex P. Müller"</span><span class="p">,</span>
    icon<span class="o">:</span> <span class="s2">"https://pics.example.com/00/p/aBjjjpqPb.png"</span>
  <span class="p">},</span>

  <span class="c1">// This Relying Party will accept either an ES256 or RS256 credential, but</span>
<span class="c1"></span>  <span class="c1">// prefers an ES256 credential.</span>
<span class="c1"></span>  pubKeyCredParams<span class="o">:</span> <span class="p">[</span>
    <span class="p">{</span>
      type<span class="o">:</span> <span class="s2">"public-key"</span><span class="p">,</span>
      alg<span class="o">:</span> <span class="o">-</span><span class="mi">7</span> <span class="c1">// "ES256" as registered in the IANA COSE Algorithms registry</span>
<span class="c1"></span>    <span class="p">},</span>
    <span class="p">{</span>
      type<span class="o">:</span> <span class="s2">"public-key"</span><span class="p">,</span>
      alg<span class="o">:</span> <span class="o">-</span><span class="mi">257</span> <span class="c1">// Value registered by this specification for "RS256"</span>
<span class="c1"></span>    <span class="p">}</span>
  <span class="p">],</span>

  timeout<span class="o">:</span> <span class="mi">60000</span><span class="p">,</span>  <span class="c1">// 1 minute</span>
<span class="c1"></span>  excludeCredentials<span class="o">:</span> <span class="p">[],</span> <span class="c1">// No exclude list of PKCredDescriptors</span>
<span class="c1"></span>  extensions<span class="o">:</span> <span class="p">{</span><span class="s2">"loc"</span><span class="o">:</span> <span class="kc">true</span><span class="p">}</span>  <span class="c1">// Include location information</span>
<span class="c1"></span>                                           <span class="c1">// in attestation</span>
<span class="c1"></span><span class="p">};</span>

<span class="c1">// Note: The following call will cause the authenticator to display UI.</span>
<span class="c1"></span>navigator<span class="p">.</span>credentials<span class="p">.</span>create<span class="p">({</span> publicKey <span class="p">})</span>
  <span class="p">.</span>then<span class="p">(</span><span class="kd">function</span> <span class="p">(</span>newCredentialInfo<span class="p">)</span> <span class="p">{</span>
    <span class="c1">// Send new credential info to server for verification and registration.</span>
<span class="c1"></span>  <span class="p">}).</span><span class="k">catch</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span>err<span class="p">)</span> <span class="p">{</span>
    <span class="c1">// No acceptable authenticator or user refused consent. Handle appropriately.</span>
<span class="c1"></span>  <span class="p">});</span>
</pre>
   <h3 class="heading settled" data-level="12.2" id="sample-registration-with-platform-authenticator"><span class="secno">12.2. </span><span class="content">Registration Specifically with User Verifying Platform Authenticator</span><a class="self-link" href="#sample-registration-with-platform-authenticator"></a></h3>
   <p>This is flow for when the <a data-link-type="dfn" href="#relying-party" id="ref-for-relying-party①⑨⑥">Relying Party</a> is specifically interested in creating a public key credential with
a <a data-link-type="dfn" href="#user-verification" id="ref-for-user-verification③⑤">user-verifying</a> <a data-link-type="dfn" href="#platform-authenticators" id="ref-for-platform-authenticators⑧">platform authenticator</a>.</p>
   <ol>
    <li data-md="">
     <p>The user visits example.com and clicks on the login button, which redirects the user to login.example.com.</p>
    <li data-md="">
     <p>The user enters a username and password to log in. After successful login, the user is redirected back to example.com.</p>
    <li data-md="">
     <p>The <a data-link-type="dfn" href="#relying-party" id="ref-for-relying-party①⑨⑦">Relying Party</a> script runs the code snippet below.</p>
    <li data-md="">
     <p>The user agent asks the user whether they are willing to register with the <a data-link-type="dfn" href="#relying-party" id="ref-for-relying-party①⑨⑧">Relying Party</a> using an available <a data-link-type="dfn" href="#platform-authenticators" id="ref-for-platform-authenticators⑨">platform authenticator</a>.</p>
    <li data-md="">
     <p>If the user is not willing, terminate this flow.</p>
    <li data-md="">
     <p>The user is shown appropriate UI and guided in creating a credential using one of the available platform authenticators.
Upon successful credential creation, the RP script conveys the new credential to the server.</p>
   </ol>
<pre class="example highlight" id="example-f0bfff13"><a class="self-link" href="#example-f0bfff13"></a><span class="k">if</span> <span class="p">(</span><span class="o">!</span>window<span class="p">.</span>PublicKeyCredential<span class="p">)</span> <span class="p">{</span> <span class="cm">/* Platform not capable of the API. Handle error. */</span> <span class="p">}</span>

PublicKeyCredential<span class="p">.</span>isUserVerifyingPlatformAuthenticatorAvailable<span class="p">()</span>
    <span class="p">.</span>then<span class="p">(</span><span class="kd">function</span> <span class="p">(</span>userIntent<span class="p">)</span> <span class="p">{</span>

        <span class="c1">// If the user has affirmed willingness to register with RP using an available platform authenticator</span>
<span class="c1"></span>        <span class="k">if</span> <span class="p">(</span>userIntent<span class="p">)</span> <span class="p">{</span>
            <span class="kd">var</span> publicKeyOptions <span class="o">=</span> <span class="p">{</span> <span class="cm">/* Public key credential creation options. */</span><span class="p">};</span>

            <span class="c1">// Create and register credentials.</span>
<span class="c1"></span>            <span class="k">return</span> navigator<span class="p">.</span>credentials<span class="p">.</span>create<span class="p">({</span> <span class="s2">"publicKey"</span><span class="o">:</span> publicKeyOptions <span class="p">});</span>
        <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>

            <span class="c1">// Record that the user does not intend to use a platform authenticator</span>
<span class="c1"></span>            <span class="c1">// and default the user to a password-based flow in the future.</span>
<span class="c1"></span>        <span class="p">}</span>

    <span class="p">}).</span>then<span class="p">(</span><span class="kd">function</span> <span class="p">(</span>newCredentialInfo<span class="p">)</span> <span class="p">{</span>
        <span class="c1">// Send new credential info to server for verification and registration.</span>
<span class="c1"></span>    <span class="p">}).</span><span class="k">catch</span><span class="p">(</span> <span class="kd">function</span><span class="p">(</span>err<span class="p">)</span> <span class="p">{</span>
        <span class="c1">// Something went wrong. Handle appropriately.</span>
<span class="c1"></span>    <span class="p">});</span>
</pre>
   <h3 class="heading settled" data-level="12.3" id="sample-authentication"><span class="secno">12.3. </span><span class="content">Authentication</span><a class="self-link" href="#sample-authentication"></a></h3>
   <p>This is the flow when a user with an already registered credential visits a website and wants to authenticate using the
credential.</p>
   <ol>
    <li data-md="">
     <p>The user visits example.com, which serves up a script.</p>
    <li data-md="">
     <p>The script asks the client platform for an Authentication Assertion, providing as much information as possible to narrow
the choice of acceptable credentials for the user. This can be obtained from the data that was stored locally after
registration, or by other means such as prompting the user for a username.</p>
    <li data-md="">
     <p>The <a data-link-type="dfn" href="#relying-party" id="ref-for-relying-party①⑨⑨">Relying Party</a> script runs one of the code snippets below.</p>
    <li data-md="">
     <p>The client platform searches for and locates the authenticator.</p>
    <li data-md="">
     <p>The client platform connects to the authenticator, performing any pairing actions if necessary.</p>
    <li data-md="">
     <p>The authenticator presents the user with a notification that their attention is needed. On opening the
notification, the user is shown a friendly selection menu of acceptable credentials using the account information provided
when creating the credentials, along with some information on the <a data-link-type="dfn" href="https://w3c.github.io/html/browsers.html#concept-cross-origin" id="ref-for-concept-cross-origin①⑦">origin</a> that is requesting these keys.</p>
    <li data-md="">
     <p>The authenticator obtains a biometric or other authorization gesture from the user.</p>
    <li data-md="">
     <p>The authenticator returns a response to the client platform, which in turn returns a response to the <a data-link-type="dfn" href="#relying-party" id="ref-for-relying-party②⓪⓪">Relying Party</a> script.
If the user declined to select a credential or provide an authorization, an appropriate error is returned.</p>
    <li data-md="">
     <p>If an assertion was successfully generated and returned,</p>
     <ul>
      <li data-md="">
       <p>The script sends the assertion to the server.</p>
      <li data-md="">
       <p>The server examines the assertion, extracts the <a data-link-type="dfn" href="#credential-id" id="ref-for-credential-id①⑥">credential ID</a>, looks up the registered
credential public key it is database, and verifies the assertion’s authentication signature.
If valid, it looks up the identity associated with the assertion’s <a data-link-type="dfn" href="#credential-id" id="ref-for-credential-id①⑦">credential ID</a>; that
identity is now authenticated. If the <a data-link-type="dfn" href="#credential-id" id="ref-for-credential-id①⑧">credential ID</a> is not recognized by the server (e.g.,
it has been deregistered due to inactivity) then the authentication has failed; each <a data-link-type="dfn" href="#relying-party" id="ref-for-relying-party②⓪①">Relying Party</a> will handle this in its own way.</p>
      <li data-md="">
       <p>The server now does whatever it would otherwise do upon successful authentication -- return a success page, set
authentication cookies, etc.</p>
     </ul>
   </ol>
   <p>If the <a data-link-type="dfn" href="#relying-party" id="ref-for-relying-party②⓪②">Relying Party</a> script does not have any hints available (e.g., from locally stored data) to help it narrow the list of
credentials, then the sample code for performing such an authentication might look like this:</p>
<pre class="example highlight" id="example-7c0fd529"><a class="self-link" href="#example-7c0fd529"></a><span class="k">if</span> <span class="p">(</span><span class="o">!</span>window<span class="p">.</span>PublicKeyCredential<span class="p">)</span> <span class="p">{</span> <span class="cm">/* Platform not capable. Handle error. */</span> <span class="p">}</span>

<span class="c1">// credentialId is generated by the authenticator and should be an opaque random byte array</span>
<span class="c1"></span><span class="kd">var</span> credentialId <span class="o">=</span> <span class="k">new</span> Uint8Array<span class="p">([</span><span class="mi">183</span><span class="p">,</span> <span class="mi">148</span><span class="p">,</span> <span class="mi">245</span> <span class="cm">/* more random bytes previously generated by the authenticator */</span><span class="p">]);</span>
<span class="kd">var</span> options <span class="o">=</span> <span class="p">{</span>
  <span class="c1">// The challenge must be produced by the server; see the Security Considerations</span>
<span class="c1"></span>  challenge<span class="o">:</span> <span class="k">new</span> Uint8Array<span class="p">([</span><span class="mi">4</span><span class="p">,</span><span class="mi">101</span><span class="p">,</span><span class="mi">15</span> <span class="cm">/* 29 more random bytes generated by the server */</span><span class="p">]),</span>
  timeout<span class="o">:</span> <span class="mi">60000</span><span class="p">,</span>  <span class="c1">// 1 minute</span>
<span class="c1"></span>  allowCredentials<span class="o">:</span> <span class="p">[{</span> type<span class="o">:</span> <span class="s2">"public-key"</span><span class="p">,</span> id<span class="o">:</span> credentialId <span class="p">}]</span>
<span class="p">};</span>

navigator<span class="p">.</span>credentials<span class="p">.</span>get<span class="p">({</span> <span class="s2">"publicKey"</span><span class="o">:</span> options <span class="p">})</span>
    <span class="p">.</span>then<span class="p">(</span><span class="kd">function</span> <span class="p">(</span>assertion<span class="p">)</span> <span class="p">{</span>
    <span class="c1">// Send assertion to server for verification</span>
<span class="c1"></span><span class="p">}).</span><span class="k">catch</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span>err<span class="p">)</span> <span class="p">{</span>
    <span class="c1">// No acceptable credential or user refused consent. Handle appropriately.</span>
<span class="c1"></span><span class="p">});</span>
</pre>
   <p>On the other hand, if the <a data-link-type="dfn" href="#relying-party" id="ref-for-relying-party②⓪③">Relying Party</a> script has some hints to help it narrow the list of credentials, then the sample code for
performing such an authentication might look like the following. Note that this sample also demonstrates how to use the
extension for transaction authorization.</p>
<pre class="example highlight" id="example-a268933c"><a class="self-link" href="#example-a268933c"></a><span class="k">if</span> <span class="p">(</span><span class="o">!</span>window<span class="p">.</span>PublicKeyCredential<span class="p">)</span> <span class="p">{</span> <span class="cm">/* Platform not capable. Handle error. */</span> <span class="p">}</span>

<span class="kd">var</span> encoder <span class="o">=</span> <span class="k">new</span> TextEncoder<span class="p">();</span>
<span class="kd">var</span> acceptableCredential1 <span class="o">=</span> <span class="p">{</span>
    type<span class="o">:</span> <span class="s2">"public-key"</span><span class="p">,</span>
    id<span class="o">:</span> encoder<span class="p">.</span>encode<span class="p">(</span><span class="s2">"BA44712732CE"</span><span class="p">)</span>
<span class="p">};</span>
<span class="kd">var</span> acceptableCredential2 <span class="o">=</span> <span class="p">{</span>
    type<span class="o">:</span> <span class="s2">"public-key"</span><span class="p">,</span>
    id<span class="o">:</span> encoder<span class="p">.</span>encode<span class="p">(</span><span class="s2">"BG35122345NF"</span><span class="p">)</span>
<span class="p">};</span>

<span class="kd">var</span> options <span class="o">=</span> <span class="p">{</span>
  <span class="c1">// The challenge must be produced by the server; see the Security Considerations</span>
<span class="c1"></span>  challenge<span class="o">:</span> <span class="k">new</span> Uint8Array<span class="p">([</span><span class="mi">8</span><span class="p">,</span><span class="mi">18</span><span class="p">,</span><span class="mi">33</span> <span class="cm">/* 29 more random bytes generated by the server */</span><span class="p">]),</span>
  timeout<span class="o">:</span> <span class="mi">60000</span><span class="p">,</span>  <span class="c1">// 1 minute</span>
<span class="c1"></span>  allowCredentials<span class="o">:</span> <span class="p">[</span>acceptableCredential1<span class="p">,</span> acceptableCredential2<span class="p">],</span>
  extensions<span class="o">:</span> <span class="p">{</span> <span class="s1">'txAuthSimple'</span><span class="o">:</span>
     <span class="s2">"Wave your hands in the air like you just don’t care"</span> <span class="p">}</span>
<span class="p">};</span>

navigator<span class="p">.</span>credentials<span class="p">.</span>get<span class="p">({</span> <span class="s2">"publicKey"</span><span class="o">:</span> options <span class="p">})</span>
    <span class="p">.</span>then<span class="p">(</span><span class="kd">function</span> <span class="p">(</span>assertion<span class="p">)</span> <span class="p">{</span>
    <span class="c1">// Send assertion to server for verification</span>
<span class="c1"></span><span class="p">}).</span><span class="k">catch</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span>err<span class="p">)</span> <span class="p">{</span>
    <span class="c1">// No acceptable credential or user refused consent. Handle appropriately.</span>
<span class="c1"></span><span class="p">});</span>
</pre>
   <h3 class="heading settled" data-level="12.4" id="sample-aborting"><span class="secno">12.4. </span><span class="content">Aborting Authentication Operations</span><a class="self-link" href="#sample-aborting"></a></h3>
   <p>The below example shows how a developer may use the AbortSignal parameter to abort a
credential registration operation. A similar procedure applies to an authentication operation.</p>
<pre class="example highlight" id="example-4c7ad12d"><a class="self-link" href="#example-4c7ad12d"></a><span class="kr">const</span> authAbortController <span class="o">=</span> <span class="k">new</span> AbortController<span class="p">();</span> 
<span class="kr">const</span> authAbortSignal <span class="o">=</span> authAbortController<span class="p">.</span>signal<span class="p">;</span>

authAbortSignal<span class="p">.</span>onabort <span class="o">=</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
    <span class="c1">// Once the page knows the abort started, inform user it is attempting to abort.  </span>
<span class="c1"></span><span class="p">}</span>

<span class="kd">var</span> options <span class="o">=</span> <span class="p">{</span>
    <span class="c1">// A list of options. </span>
<span class="c1"></span><span class="p">}</span>

navigator<span class="p">.</span>credentials<span class="p">.</span>create<span class="p">({</span>
    publicKey<span class="o">:</span> options<span class="p">,</span> 
    signal<span class="o">:</span> authAbortSignal<span class="p">})</span>
    <span class="p">.</span>then<span class="p">(</span><span class="kd">function</span> <span class="p">(</span>attestation<span class="p">)</span> <span class="p">{</span>
        <span class="c1">// Register the user. </span>
<span class="c1"></span>    <span class="p">}).</span><span class="k">catch</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span>error<span class="p">)</span> <span class="p">{</span>
        <span class="k">if</span> <span class="p">(</span>error <span class="o">==</span> <span class="s2">"AbortError"</span><span class="p">)</span> <span class="p">{</span>
            <span class="c1">// Inform user the credential hasn’t been created. </span>
<span class="c1"></span>            <span class="c1">// Let the server know a key hasn’t been created. </span>
<span class="c1"></span>        <span class="p">}</span>
    <span class="p">});</span>

<span class="c1">// Assume widget shows up whenever authentication occurs.</span>
<span class="c1"></span><span class="k">if</span> <span class="p">(</span>widget <span class="o">==</span> <span class="s2">"disappear"</span><span class="p">)</span> <span class="p">{</span>
    authAbortController<span class="p">.</span>abort<span class="p">();</span> 
<span class="p">}</span>
</pre>
   <h3 class="heading settled" data-level="12.5" id="sample-decommissioning"><span class="secno">12.5. </span><span class="content">Decommissioning</span><a class="self-link" href="#sample-decommissioning"></a></h3>
   <p>The following are possible situations in which decommissioning a credential might be desired. Note that all of these are
handled on the server side and do not need support from the API specified here.</p>
   <ul>
    <li data-md="">
     <p>Possibility #1 -- user reports the credential as lost.</p>
     <ul>
      <li data-md="">
       <p>User goes to server.example.net, authenticates and follows a link to report a lost/stolen device.</p>
      <li data-md="">
       <p>Server returns a page showing the list of registered credentials with friendly names as configured during registration.</p>
      <li data-md="">
       <p>User selects a credential and the server deletes it from its database.</p>
      <li data-md="">
       <p>In future, the <a data-link-type="dfn" href="#relying-party" id="ref-for-relying-party②⓪④">Relying Party</a> script does not specify this credential in any list of acceptable credentials, and assertions
signed by this credential are rejected.</p>
     </ul>
    <li data-md="">
     <p>Possibility #2 -- server deregisters the credential due to inactivity.</p>
     <ul>
      <li data-md="">
       <p>Server deletes credential from its database during maintenance activity.</p>
      <li data-md="">
       <p>In the future, the <a data-link-type="dfn" href="#relying-party" id="ref-for-relying-party②⓪⑤">Relying Party</a> script does not specify this credential in any list of acceptable credentials, and assertions
signed by this credential are rejected.</p>
     </ul>
    <li data-md="">
     <p>Possibility #3 -- user deletes the credential from the device.</p>
     <ul>
      <li data-md="">
       <p>User employs a device-specific method (e.g., device settings UI) to delete a credential from their device.</p>
      <li data-md="">
       <p>From this point on, this credential will not appear in any selection prompts, and no assertions can be generated with it.</p>
      <li data-md="">
       <p>Sometime later, the server deregisters this credential due to inactivity.</p>
     </ul>
   </ul>
   <h2 class="heading settled" data-level="13" id="security-considerations"><span class="secno">13. </span><span class="content">Security Considerations</span><a class="self-link" href="#security-considerations"></a></h2>
   <p>This specification defines a Web API and a cryptographic peer-entity authentication protocol.
The <a data-link-type="dfn" href="#web-authentication-api" id="ref-for-web-authentication-api⑦">Web Authentication API</a> allows Web developers (i.e., "authors") to utilize the Web Authentication protocol in their <a data-link-type="dfn" href="#registration" id="ref-for-registration①⑤">registration</a> and <a data-link-type="dfn" href="#authentication" id="ref-for-authentication①③">authentication</a> <a data-link-type="dfn" href="#ceremony" id="ref-for-ceremony①②">ceremonies</a>.
The entities comprising the Web Authentication protocol endpoints are user-controlled <a data-link-type="dfn" href="#authenticator" id="ref-for-authenticator①⓪⑧">authenticators</a> and a <a data-link-type="dfn" href="#relying-party" id="ref-for-relying-party②⓪⑥">Relying Party</a>'s
computing environment hosting the <a data-link-type="dfn" href="#relying-party" id="ref-for-relying-party②⓪⑦">Relying Party</a>'s web application.
In this model, the user agent, together with the <a data-link-type="dfn" href="#webauthn-client" id="ref-for-webauthn-client⑦">WebAuthn Client</a>, comprise an intermediary between <a data-link-type="dfn" href="#authenticator" id="ref-for-authenticator①⓪⑨">authenticators</a> and <a data-link-type="dfn" href="#relying-party" id="ref-for-relying-party②⓪⑧">Relying Parties</a>.
Additionally, <a data-link-type="dfn" href="#authenticator" id="ref-for-authenticator①①⓪">authenticators</a> can <a data-link-type="dfn" href="#attestation" id="ref-for-attestation①④">attest</a> to <a data-link-type="dfn" href="#relying-party" id="ref-for-relying-party②⓪⑨">Relying Parties</a> as to their provenance.</p>
   <p>At this time, this specification does not feature detailed security considerations. However, the <a data-link-type="biblio" href="#biblio-fidosecref">[FIDOSecRef]</a> document provides a security analysis which is overall applicable to this specification.
Also, the <a data-link-type="biblio" href="#biblio-fidoauthnrsecreqs">[FIDOAuthnrSecReqs]</a> document suite defines <a data-link-type="dfn" href="#authenticator" id="ref-for-authenticator①①①">authenticator</a> security characteristics which are overall applicable for WebAuthn <a data-link-type="dfn" href="#authenticator" id="ref-for-authenticator①①②">authenticators</a>.</p>
   <p>The below subsections comprise the current Web Authentication-specific security considerations.</p>
   <h3 class="heading settled" data-level="13.1" id="cryptographic-challenges"><span class="secno">13.1. </span><span class="content">Cryptographic Challenges</span><a class="self-link" href="#cryptographic-challenges"></a></h3>
   <p>As a cryptographic protocol, Web Authentication is dependent upon randomized challenges
to avoid replay attacks. Therefore, both <code class="idl"><a data-link-type="idl" href="#dom-publickeycredentialcreationoptions-challenge" id="ref-for-dom-publickeycredentialcreationoptions-challenge②">challenge</a></code>'s
and <code class="idl"><a data-link-type="idl" href="#dom-publickeycredentialrequestoptions-challenge" id="ref-for-dom-publickeycredentialrequestoptions-challenge③">challenge</a></code>'s value MUST be randomly generated
by <a data-link-type="dfn" href="#relying-party" id="ref-for-relying-party②①⓪">Relying Parties</a> in an environment they trust (e.g., on the server-side), and the
returned challenge value in the client’s
response MUST match what was generated. This SHOULD be done in a fashion that does not rely
upon a client’s behavior, e.g., the Relying Party SHOULD store the challenge temporarily
until the operation is complete. Tolerating a mismatch will compromise the security
of the protocol.</p>
   <p>In order to prevent replay attacks, the challenges MUST contain enough entropy to make guessing them infeasible. Challenges SHOULD
therefore be at least 16 bytes long.</p>
   <h3 class="heading settled" data-level="13.2" id="sec-attestation-security-considerations"><span class="secno">13.2. </span><span class="content">Attestation Security Considerations</span><a class="self-link" href="#sec-attestation-security-considerations"></a></h3>
   <h4 class="heading settled" data-level="13.2.1" id="cert-hierarchy"><span class="secno">13.2.1. </span><span class="content">Attestation Certificate Hierarchy</span><a class="self-link" href="#cert-hierarchy"></a></h4>
   <p>A 3-tier hierarchy for attestation certificates is RECOMMENDED (i.e., Attestation Root, Attestation Issuing CA, Attestation
Certificate). It is also RECOMMENDED that for each WebAuthn Authenticator device line (i.e., model), a separate issuing CA is
used to help facilitate isolating problems with a specific version of a device.</p>
   <p>If the attestation root certificate is not dedicated to a single WebAuthn Authenticator device line (i.e., AAGUID), the AAGUID
SHOULD be specified in the attestation certificate itself, so that it can be verified against the <a data-link-type="dfn" href="#authenticator-data" id="ref-for-authenticator-data③④">authenticator data</a>.</p>
   <h4 class="heading settled" data-level="13.2.2" id="ca-compromise"><span class="secno">13.2.2. </span><span class="content">Attestation Certificate and Attestation Certificate CA Compromise</span><a class="self-link" href="#ca-compromise"></a></h4>
   <p>When an intermediate CA or a root CA used for issuing attestation certificates is compromised, WebAuthn <a data-link-type="dfn" href="#authenticator" id="ref-for-authenticator①①③">authenticator</a> attestation keys are still safe although their certificates can no longer be trusted. A WebAuthn Authenticator manufacturer that
has recorded the public attestation keys for their devices can issue new attestation certificates for these keys from a new
intermediate CA or from a new root CA. If the root CA changes, the <a data-link-type="dfn" href="#relying-party" id="ref-for-relying-party②①①">Relying Parties</a> MUST update their trusted root certificates
accordingly.</p>
   <p>A WebAuthn Authenticator attestation certificate MUST be revoked by the issuing CA if its key has been compromised. A WebAuthn
Authenticator manufacturer may need to ship a firmware update and inject new attestation keys and certificates into already
manufactured WebAuthn Authenticators, if the exposure was due to a firmware flaw. (The process by which this happens is out of
scope for this specification.) If the WebAuthn Authenticator manufacturer does not have this capability, then it may not be
possible for <a data-link-type="dfn" href="#relying-party" id="ref-for-relying-party②①②">Relying Parties</a> to trust any further attestation statements from the affected WebAuthn Authenticators.</p>
   <p>If attestation certificate validation fails due to a revoked intermediate attestation CA certificate, and the <a data-link-type="dfn" href="#relying-party" id="ref-for-relying-party②①③">Relying Party</a>'s policy
requires rejecting the registration/authentication request in these situations, then it is RECOMMENDED that the <a data-link-type="dfn" href="#relying-party" id="ref-for-relying-party②①④">Relying Party</a> also
un-registers (or marks with a trust level equivalent to "<a data-link-type="dfn" href="#self-attestation" id="ref-for-self-attestation①⑤">self attestation</a>") <a data-link-type="dfn" href="#public-key-credential" id="ref-for-public-key-credential④⑨">public key credentials</a> that were registered
after the CA compromise date using an attestation certificate chaining up to the same intermediate CA. It is thus RECOMMENDED
that <a data-link-type="dfn" href="#relying-party" id="ref-for-relying-party②①⑤">Relying Parties</a> remember intermediate attestation CA certificates during Authenticator registration in order to un-register
related <a data-link-type="dfn" href="#public-key-credential" id="ref-for-public-key-credential⑤⓪">public key credentials</a> if the registration was performed after revocation of such certificates.</p>
   <p>If an <a data-link-type="dfn" href="#ecdaa" id="ref-for-ecdaa①①">ECDAA</a> attestation key has been compromised, it can be added to the RogueList (i.e., the list of revoked
authenticators) maintained by the related ECDAA-Issuer. The <a data-link-type="dfn" href="#relying-party" id="ref-for-relying-party②①⑥">Relying Party</a> SHOULD verify whether an authenticator belongs to the
RogueList when performing ECDAA-Verify (see section 3.6 in <a data-link-type="biblio" href="#biblio-fidoecdaaalgorithm">[FIDOEcdaaAlgorithm]</a>). For example, the FIDO Metadata Service <a data-link-type="biblio" href="#biblio-fidometadataservice">[FIDOMetadataService]</a> provides one way to access such information.</p>
   <h3 class="heading settled" data-level="13.3" id="sctn-rp-benefits"><span class="secno">13.3. </span><span class="content">Security Benefits for Relying Parties</span><a class="self-link" href="#sctn-rp-benefits"></a></h3>
   <p>The main benefits offered to <a data-link-type="dfn" href="#relying-party" id="ref-for-relying-party②①⑦">Relying Parties</a> by this specification include:</p>
   <ol>
    <li data-md="">
     <p>Users and accounts can be secured using widely compatible, easy-to-use multi-factor authentication.</p>
    <li data-md="">
     <p>The <a data-link-type="dfn" href="#relying-party" id="ref-for-relying-party②①⑧">Relying Party</a> does not need to provision <a data-link-type="dfn" href="#authenticator" id="ref-for-authenticator①①④">authenticator</a> hardware to its users. Instead, each user can independently obtain
any conforming <a data-link-type="dfn" href="#authenticator" id="ref-for-authenticator①①⑤">authenticator</a> and use that same <a data-link-type="dfn" href="#authenticator" id="ref-for-authenticator①①⑥">authenticator</a> with any number of <a data-link-type="dfn" href="#relying-party" id="ref-for-relying-party②①⑨">Relying Parties</a>. The <a data-link-type="dfn" href="#relying-party" id="ref-for-relying-party②②⓪">Relying Party</a> can optionally
enforce requirements on <a data-link-type="dfn" href="#authenticator" id="ref-for-authenticator①①⑦">authenticators</a>' security properties by inspecting the <a data-link-type="dfn" href="#attestation-statement" id="ref-for-attestation-statement②⑦">attestation statements</a> returned from the <a data-link-type="dfn" href="#authenticator" id="ref-for-authenticator①①⑧">authenticators</a>.</p>
    <li data-md="">
     <p><a data-link-type="dfn" href="#registration" id="ref-for-registration①⑥">Registration</a> and <a data-link-type="dfn" href="#authentication" id="ref-for-authentication①④">authentication</a> <a data-link-type="dfn" href="#ceremony" id="ref-for-ceremony①③">ceremonies</a> are resistant to <a data-link-type="dfn" href="https://tools.ietf.org/html/rfc4949#page-186" id="ref-for-page-186">man-in-the-middle attacks</a>.</p>
    <li data-md="">
     <p>The <a data-link-type="dfn" href="#relying-party" id="ref-for-relying-party②②①">Relying Party</a> can automatically support multiple types of <a data-link-type="dfn" href="#user-verification" id="ref-for-user-verification③⑥">user verification</a> - for example PIN, biometrics and/or future
methods - with little or no code change, and can let each user decide which they prefer to use via their choice of <a data-link-type="dfn" href="#authenticator" id="ref-for-authenticator①①⑨">authenticator</a>.</p>
    <li data-md="">
     <p>The <a data-link-type="dfn" href="#relying-party" id="ref-for-relying-party②②②">Relying Party</a> does not need to store additional secrets in order to gain the above benefits.</p>
   </ol>
   <p>As stated in the <a href="#conforming-relying-parties">Conformance</a> section, the <a data-link-type="dfn" href="#relying-party" id="ref-for-relying-party②②③">Relying Party</a> MUST behave as described in <a href="#rp-operations">§7 Relying Party Operations</a> to obtain all of the above security benefits. However, one notable use case that departs slightly from this is described in the
next section.</p>
   <h4 class="heading settled" data-level="13.3.1" id="sctn-no-attestation-security-attestation"><span class="secno">13.3.1. </span><span class="content">Considerations for Self and None Attestation Types and Ignoring Attestation</span><a class="self-link" href="#sctn-no-attestation-security-attestation"></a></h4>
   <p>When <a href="#registering-a-new-credential">registering a new credential</a>, the <a data-link-type="dfn" href="#relying-party" id="ref-for-relying-party②②④">Relying Party</a> MAY choose to accept an <a data-link-type="dfn" href="#attestation-statement" id="ref-for-attestation-statement②⑧">attestation
statement</a> of <a href="#sctn-attestation-types">type</a> <a data-link-type="dfn" href="#self-attestation" id="ref-for-self-attestation①⑥">Self</a> or <a data-link-type="dfn" href="#none" id="ref-for-none②">None</a>, or to not verify
the <a data-link-type="dfn" href="#attestation-statement" id="ref-for-attestation-statement②⑨">attestation statement</a>. In all of these cases the <a data-link-type="dfn" href="#relying-party" id="ref-for-relying-party②②⑤">Relying Party</a> loses much of benefit (3) listed above, but retains the other
benefits.</p>
   <p>In these cases it is possible for a <a data-link-type="dfn" href="https://tools.ietf.org/html/rfc4949#page-186" id="ref-for-page-186①">man-in-the-middle attacker</a> - for example, a malicious <a data-link-type="dfn" href="#client" id="ref-for-client①⑥">client</a> or script - to replace the <a data-link-type="dfn" href="#credential-public-key" id="ref-for-credential-public-key①⑧">credential public key</a> to be registered, and subsequently tamper with future <a data-link-type="dfn" href="#authentication-assertion" id="ref-for-authentication-assertion①③">authentication
assertions</a> bound for the same <a data-link-type="dfn" href="#relying-party" id="ref-for-relying-party②②⑥">Relying Party</a> and passing through the same attacker. Accepting these <a href="#sctn-attestation-types">types</a> of <a data-link-type="dfn" href="#attestation-statement" id="ref-for-attestation-statement③⓪">attestation statements</a> therefore constitutes a <a data-link-type="dfn" href="https://tools.ietf.org/html/rfc4949#page-182" id="ref-for-page-182">leap of faith</a>. In cases where <a data-link-type="dfn" href="#registration" id="ref-for-registration①⑦">registration</a> was accomplished
securely, subsequent <a data-link-type="dfn" href="#authentication" id="ref-for-authentication①⑤">authentication</a> <a data-link-type="dfn" href="#ceremony" id="ref-for-ceremony①④">ceremonies</a> remain resistant to <a data-link-type="dfn" href="https://tools.ietf.org/html/rfc4949#page-186" id="ref-for-page-186②">man-in-the-middle attacks</a>, i.e., benefit (3) is
retained. Note, however, that such an attack would be easy to detect and very difficult to maintain, since any <a data-link-type="dfn" href="#authentication" id="ref-for-authentication①⑥">authentication</a> <a data-link-type="dfn" href="#ceremony" id="ref-for-ceremony①⑤">ceremony</a> that the same attacker does not or cannot tamper with would always fail.</p>
   <p>The <a data-link-type="dfn" href="#relying-party" id="ref-for-relying-party②②⑦">Relying Party</a> SHOULD consider the above in its threat model when deciding its policy on what <a href="#sctn-attestation-types">attestation
types</a> to accept or whether to ignore <a data-link-type="dfn" href="#attestation" id="ref-for-attestation①⑤">attestation</a>.</p>
   <p class="note" role="note"><span>Note:</span> The default <a href="#sctn-attestation-types">attestation type</a> is <a data-link-type="dfn" href="#none" id="ref-for-none③">None</a>, since the above issues will likely not be a major
concern in most <a data-link-type="dfn" href="#relying-party" id="ref-for-relying-party②②⑧">Relying Parties</a>' threat models. For example, the <a data-link-type="dfn" href="https://tools.ietf.org/html/rfc4949#page-186" id="ref-for-page-186③">man-in-the-middle attack</a> described above is more difficult than a <a data-link-type="dfn" href="https://tools.ietf.org/html/rfc4949#page-186" id="ref-for-page-186④">man-in-the-middle attack</a> against a <a data-link-type="dfn" href="#relying-party" id="ref-for-relying-party②②⑨">Relying Party</a> that only uses conventional password authentication.</p>
   <h3 class="heading settled" data-level="13.4" id="credentialIdSecurity"><span class="secno">13.4. </span><span class="content">credentialId Unsigned</span><a class="self-link" href="#credentialIdSecurity"></a></h3>
   <p>The <a data-link-type="dfn" href="#credential-id" id="ref-for-credential-id①⑨">credential ID</a> is not signed.
This is not a problem because all that would happen if an <a data-link-type="dfn" href="#authenticator" id="ref-for-authenticator①②⓪">authenticator</a> returns
the wrong <a data-link-type="dfn" href="#credential-id" id="ref-for-credential-id②⓪">credential ID</a>, or if an attacker intercepts and manipulates the <a data-link-type="dfn" href="#credential-id" id="ref-for-credential-id②①">credential ID</a>, is that the <a data-link-type="dfn" href="#relying-party" id="ref-for-relying-party②③⓪">Relying Party</a> would not look up the correct <a data-link-type="dfn" href="#credential-public-key" id="ref-for-credential-public-key①⑨">credential public key</a> with which to verify the returned signed <a data-link-type="dfn" href="#authenticator-data" id="ref-for-authenticator-data③⑤">authenticator data</a> (a.k.a., <a data-link-type="dfn" href="#assertion" id="ref-for-assertion②">assertion</a>), and thus the interaction would end in an error.</p>
   <h3 class="heading settled" data-level="13.5" id="browser-permissions-framework-extensions"><span class="secno">13.5. </span><span class="content">Browser Permissions Framework and Extensions</span><a class="self-link" href="#browser-permissions-framework-extensions"></a></h3>
   <p>Web Authentication API implementations should leverage the browser permissions framework as much as possible when obtaining user
permissions for certain extensions. An example is the location extension (see <a href="#sctn-location-extension">§10.7 Location Extension (loc)</a>), implementations of
which should make use of the existing browser permissions framework for the Geolocation API.</p>
   <h2 class="heading settled" data-level="14" id="sctn-privacy-considerations"><span class="secno">14. </span><span class="content">Privacy Considerations</span><a class="self-link" href="#sctn-privacy-considerations"></a></h2>
   <p>The privacy principles in <a data-link-type="biblio" href="#biblio-fido-privacy-principles">[FIDO-Privacy-Principles]</a> also apply to this specification.</p>
   <h3 class="heading settled" data-level="14.1" id="sec-attestation-privacy"><span class="secno">14.1. </span><span class="content">Attestation Privacy</span><a class="self-link" href="#sec-attestation-privacy"></a></h3>
   <p>Attestation keys can be used to track users or link various online identities of the same user together. This can be mitigated
in several ways, including:</p>
   <ul>
    <li data-md="">
     <p>A WebAuthn <a data-link-type="dfn" href="#authenticator" id="ref-for-authenticator①②①">authenticator</a> manufacturer may choose to ship all of their devices with the same (or a fixed number of)
attestation key(s) (called <a data-link-type="dfn" href="#basic-attestation" id="ref-for-basic-attestation">Basic Attestation</a>). This will anonymize the user at the risk of not being able to revoke a
particular attestation key if its private key is compromised.</p>
     <p><a data-link-type="biblio" href="#biblio-uafprotocol">[UAFProtocol]</a> requires that at least 100,000 devices share the same attestation certificate in order to produce
sufficiently large groups. This may serve as guidance about suitable batch sizes.</p>
    <li data-md="">
     <p>A WebAuthn <a data-link-type="dfn" href="#authenticator" id="ref-for-authenticator①②②">authenticator</a> may be capable of dynamically generating different attestation keys (and requesting related
certificates) per-<a data-link-type="dfn" href="https://w3c.github.io/html/browsers.html#concept-cross-origin" id="ref-for-concept-cross-origin①⑧">origin</a> (similar to the <a data-link-type="dfn" href="#attestation-ca" id="ref-for-attestation-ca③">Attestation CA</a> approach). For example, an <a data-link-type="dfn" href="#authenticator" id="ref-for-authenticator①②③">authenticator</a> can ship with a
master attestation key (and certificate), and combined with a cloud-operated <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport="" id="anonymization-ca">Anonymization CA</dfn>, can dynamically generate per-<a data-link-type="dfn" href="https://w3c.github.io/html/browsers.html#concept-cross-origin" id="ref-for-concept-cross-origin①⑨">origin</a> attestation keys and attestation certificates.</p>
     <p class="note" role="note"><span>Note:</span> In various places outside this specification, the term "Privacy CA" is used to refer to what is termed here
    as an <a data-link-type="dfn" href="#anonymization-ca" id="ref-for-anonymization-ca②">Anonymization CA</a>. Because the Trusted Computing Group (TCG) also used the term "Privacy CA" to refer to what
    the TCG now refers to as an <a data-link-type="dfn" href="#attestation-ca" id="ref-for-attestation-ca④">Attestation CA</a> (ACA) <a data-link-type="biblio" href="#biblio-tcg-cmcprofile-aikcertenroll">[TCG-CMCProfile-AIKCertEnroll]</a>, and the envisioned functionality
    of an <a data-link-type="dfn" href="#anonymization-ca" id="ref-for-anonymization-ca③">Anonymization CA</a> is not firmly established, we are using the term <a data-link-type="dfn" href="#anonymization-ca" id="ref-for-anonymization-ca④">Anonymization CA</a> here to try to mitigate
    confusion in the specific context of this specification.</p>
    <li data-md="">
     <p>A WebAuthn Authenticator can implement <a data-link-type="dfn" href="#elliptic-curve-based-direct-anonymous-attestation" id="ref-for-elliptic-curve-based-direct-anonymous-attestation">Elliptic Curve based direct anonymous attestation</a> (see <a data-link-type="biblio" href="#biblio-fidoecdaaalgorithm">[FIDOEcdaaAlgorithm]</a>).
Using this scheme, the authenticator generates a blinded attestation signature. This allows the <a data-link-type="dfn" href="#relying-party" id="ref-for-relying-party②③①">Relying Party</a> to verify the
signature using the <a data-link-type="dfn" href="#ecdaa-issuer-public-key" id="ref-for-ecdaa-issuer-public-key⑤">ECDAA-Issuer public key</a>, but the attestation signature does not serve as a global correlation handle.</p>
   </ul>
   <h3 class="heading settled" data-level="14.2" id="sec-make-credential-privacy"><span class="secno">14.2. </span><span class="content">Registration Ceremony Privacy</span><a class="self-link" href="#sec-make-credential-privacy"></a></h3>
   <p>In order to protect users from being identified without <a data-link-type="dfn" href="#user-consent" id="ref-for-user-consent③⓪">consent</a>, implementations of the <code class="idl"><a data-link-type="idl" href="#dom-publickeycredential-create-slot" id="ref-for-dom-publickeycredential-create-slot⑨">[[Create]](origin, options, sameOriginWithAncestors)</a></code> method need to take care to not leak information that
could enable a malicious <a data-link-type="dfn" href="#relying-party" id="ref-for-relying-party②③②">Relying Party</a> to distinguish between these cases, where "excluded" means that at least one of the <a data-link-type="dfn" href="#public-key-credential" id="ref-for-public-key-credential⑤①">credentials</a> listed by the <a data-link-type="dfn" href="#relying-party" id="ref-for-relying-party②③③">Relying Party</a> in <code class="idl"><a data-link-type="idl" href="#dom-publickeycredentialcreationoptions-excludecredentials" id="ref-for-dom-publickeycredentialcreationoptions-excludecredentials②">excludeCredentials</a></code> is bound to the <a data-link-type="dfn" href="#authenticator" id="ref-for-authenticator①②④">authenticator</a>:</p>
   <ul>
    <li data-md="">
     <p>No <a data-link-type="dfn" href="#authenticator" id="ref-for-authenticator①②⑤">authenticators</a> are present.</p>
    <li data-md="">
     <p>At least one <a data-link-type="dfn" href="#authenticator" id="ref-for-authenticator①②⑥">authenticator</a> is present, and at least one present <a data-link-type="dfn" href="#authenticator" id="ref-for-authenticator①②⑦">authenticator</a> is excluded.</p>
   </ul>
   <p>If the above cases are distinguishable, information is leaked by which a malicious <a data-link-type="dfn" href="#relying-party" id="ref-for-relying-party②③④">Relying Party</a> could identify the user by probing for
which <a data-link-type="dfn" href="#public-key-credential" id="ref-for-public-key-credential⑤②">credentials</a> are available. For example, one such information leak is if the client returns a
failure response as soon as an excluded <a data-link-type="dfn" href="#authenticator" id="ref-for-authenticator①②⑧">authenticator</a> becomes available. In this case - especially if the excluded <a data-link-type="dfn" href="#authenticator" id="ref-for-authenticator①②⑨">authenticator</a> is a <a data-link-type="dfn" href="#platform-authenticators" id="ref-for-platform-authenticators①⓪">platform authenticator</a> - the <a data-link-type="dfn" href="#relying-party" id="ref-for-relying-party②③⑤">Relying Party</a> could detect that the <a data-link-type="dfn" href="#ceremony" id="ref-for-ceremony①⑥">ceremony</a> was canceled before the
timeout and before the user could feasibly have canceled it manually, and thus conclude that at least one of the <a data-link-type="dfn" href="#public-key-credential" id="ref-for-public-key-credential⑤③">credentials</a> listed in the <code class="idl"><a data-link-type="idl" href="#dom-publickeycredentialcreationoptions-excludecredentials" id="ref-for-dom-publickeycredentialcreationoptions-excludecredentials③">excludeCredentials</a></code> parameter is available to the user.</p>
   <p>The above is not a concern, however, if the user has <a data-link-type="dfn" href="#user-consent" id="ref-for-user-consent③①">consented</a> to create a new credential before a
distinguishable error is returned, because in this case the user has confirmed intent to share the information that would be
leaked.</p>
   <h3 class="heading settled" data-level="14.3" id="sec-assertion-privacy"><span class="secno">14.3. </span><span class="content">Authentication Ceremony Privacy</span><a class="self-link" href="#sec-assertion-privacy"></a></h3>
   <p>In order to protect users from being identified without <a data-link-type="dfn" href="#user-consent" id="ref-for-user-consent③②">consent</a>, implementations of the <code class="idl"><a data-link-type="idl" href="#dom-publickeycredential-discoverfromexternalsource-slot" id="ref-for-dom-publickeycredential-discoverfromexternalsource-slot①⓪">[[DiscoverFromExternalSource]](origin, options, sameOriginWithAncestors)</a></code> method need to take care to not
leak information that could enable a malicious <a data-link-type="dfn" href="#relying-party" id="ref-for-relying-party②③⑥">Relying Party</a> to distinguish between these cases, where "named" means that the <a data-link-type="dfn" href="#public-key-credential" id="ref-for-public-key-credential⑤④">credential</a> is listed by the <a data-link-type="dfn" href="#relying-party" id="ref-for-relying-party②③⑦">Relying Party</a> in <code class="idl"><a data-link-type="idl" href="#dom-publickeycredentialrequestoptions-allowcredentials" id="ref-for-dom-publickeycredentialrequestoptions-allowcredentials⑦">allowCredentials</a></code>:</p>
   <ul>
    <li data-md="">
     <p>A named <a data-link-type="dfn" href="#public-key-credential" id="ref-for-public-key-credential⑤⑤">credential</a> is not available.</p>
    <li data-md="">
     <p>A named <a data-link-type="dfn" href="#public-key-credential" id="ref-for-public-key-credential⑤⑥">credential</a> is available, but the user does not <a data-link-type="dfn" href="#user-consent" id="ref-for-user-consent③③">consent</a> to use it.</p>
   </ul>
   <p>If the above cases are distinguishable, information is leaked by which a malicious <a data-link-type="dfn" href="#relying-party" id="ref-for-relying-party②③⑧">Relying Party</a> could identify the user by probing
for which <a data-link-type="dfn" href="#public-key-credential" id="ref-for-public-key-credential⑤⑦">credentials</a> are available. For example, one such information leak is if the client returns a
failure response as soon as the user denies <a data-link-type="dfn" href="#user-consent" id="ref-for-user-consent③④">consent</a> to proceed with an <a data-link-type="dfn" href="#authentication" id="ref-for-authentication①⑦">authentication</a> <a data-link-type="dfn" href="#ceremony" id="ref-for-ceremony①⑦">ceremony</a>. In this
case the <a data-link-type="dfn" href="#relying-party" id="ref-for-relying-party②③⑨">Relying Party</a> could detect that the <a data-link-type="dfn" href="#ceremony" id="ref-for-ceremony①⑧">ceremony</a> was canceled by the user and not the timeout, and thus conclude that at least
one of the <a data-link-type="dfn" href="#public-key-credential" id="ref-for-public-key-credential⑤⑧">credentials</a> listed in the <code class="idl"><a data-link-type="idl" href="#dom-publickeycredentialrequestoptions-allowcredentials" id="ref-for-dom-publickeycredentialrequestoptions-allowcredentials⑧">allowCredentials</a></code> parameter is
available to the user.</p>
   <h2 class="heading settled" data-level="15" id="acknowledgements"><span class="secno">15. </span><span class="content">Acknowledgements</span><a class="self-link" href="#acknowledgements"></a></h2>
    We thank the following people for their reviews of, and contributions to, this specification:
Yuriy Ackermann,
James Barclay,
Richard Barnes,
Dominic Battré,
John Bradley,
Domenic Denicola,
Rahul Ghosh,
Brad Hill,
Jing Jin,
Wally Jones,
Ian Kilpatrick,
Axel Nennker,
Yoshikazu Nojima,
Kimberly Paulhamus,
Adam Powers,
Yaron Sheffer,
Anne van Kesteren,
Johan Verrept,
and
Boris Zbarsky. 
   <p>We thank
Anthony Nadalin,
John Fontana,
and
Richard Barnes
for their contributions as co-chairs of the <a href="https://www.w3.org/Webauthn/">Web Authentication Working Group</a>.</p>
   <p>We also thank
Wendy Seltzer,
Samuel Weiler,
and
Harry Halpin
for their contributions as our W3C Team Contacts.</p>
  </main>
<script src="https://www.w3.org/scripts/TR/2016/fixup.js"></script>
  <h2 class="no-num no-ref heading settled" id="index"><span class="content">Index</span><a class="self-link" href="#index"></a></h2>
  <h3 class="no-num no-ref heading settled" id="index-defined-here"><span class="content">Terms defined by this specification</span><a class="self-link" href="#index-defined-here"></a></h3>
  <ul class="index">
   <li><a href="#typedefdef-aaguid">AAGUID</a><span>, in §10.4</span>
   <li><a href="#aaguid">aaguid</a><span>, in §6.3.1</span>
   <li><a href="#dom-publickeycredentialparameters-alg">alg</a><span>, in §5.3</span>
   <li><a href="#dom-publickeycredentialrequestoptions-allowcredentials">allowCredentials</a><span>, in §5.5</span>
   <li><a href="#anonymization-ca">Anonymization CA</a><span>, in §14.1</span>
   <li>
    appid
    <ul>
     <li><a href="#dom-authenticationextensionsclientinputs-appid">dict-member for AuthenticationExtensionsClientInputs</a><span>, in §10.1</span>
     <li><a href="#dom-authenticationextensionsclientoutputs-appid">dict-member for AuthenticationExtensionsClientOutputs</a><span>, in §10.1</span>
    </ul>
   <li><a href="#appid">AppID</a><span>, in §10.1</span>
   <li><a href="#assertion">Assertion</a><span>, in §4</span>
   <li><a href="#assertion-signature">assertion signature</a><span>, in §6</span>
   <li><a href="#attachment-modality">attachment modality</a><span>, in §5.4.5</span>
   <li><a href="#attca">AttCA</a><span>, in §6.3.3</span>
   <li><a href="#attestation">Attestation</a><span>, in §4</span>
   <li><a href="#dom-publickeycredentialcreationoptions-attestation">attestation</a><span>, in §5.4</span>
   <li><a href="#attestation-ca">Attestation CA</a><span>, in §6.3.3</span>
   <li><a href="#attestation-certificate">Attestation Certificate</a><span>, in §4</span>
   <li><a href="#attestation-conveyance">Attestation Conveyance</a><span>, in §5.4.6</span>
   <li><a href="#enumdef-attestationconveyancepreference">AttestationConveyancePreference</a><span>, in §5.4.6</span>
   <li><a href="#credentialcreationdata-attestationconveyancepreferenceoption">attestationConveyancePreferenceOption</a><span>, in §5.1.3</span>
   <li><a href="#attestation-key-pair">attestation key pair</a><span>, in §4</span>
   <li><a href="#dom-authenticatorattestationresponse-attestationobject">attestationObject</a><span>, in §5.2.1</span>
   <li><a href="#attestation-object">attestation object</a><span>, in §6.3</span>
   <li><a href="#credentialcreationdata-attestationobjectresult">attestationObjectResult</a><span>, in §5.1.3</span>
   <li><a href="#attestation-private-key">attestation private key</a><span>, in §4</span>
   <li><a href="#attestation-public-key">attestation public key</a><span>, in §4</span>
   <li><a href="#attestation-signature">attestation signature</a><span>, in §6</span>
   <li><a href="#attestation-statement">attestation statement</a><span>, in §6.3</span>
   <li><a href="#attestation-statement-format">attestation statement format</a><span>, in §6.3</span>
   <li><a href="#attestation-statement-format-identifier">attestation statement format identifier</a><span>, in §8.1</span>
   <li><a href="#attestation-trust-path">attestation trust path</a><span>, in §6.3.2</span>
   <li><a href="#attestation-type">attestation type</a><span>, in §6.3</span>
   <li><a href="#attested-credential-data">Attested credential data</a><span>, in §6.3.1</span>
   <li><a href="#attestedcredentialdata">attestedCredentialData</a><span>, in §6.1</span>
   <li><a href="#authdataextensions">authDataExtensions</a><span>, in §6.1</span>
   <li><a href="#authentication">Authentication</a><span>, in §4</span>
   <li><a href="#authentication-assertion">Authentication Assertion</a><span>, in §4</span>
   <li><a href="#authentication-extension">authentication extension</a><span>, in §9</span>
   <li><a href="#typedefdef-authenticationextensionsauthenticatorinputs">AuthenticationExtensionsAuthenticatorInputs</a><span>, in §5.9</span>
   <li><a href="#dictdef-authenticationextensionsclientinputs">AuthenticationExtensionsClientInputs</a><span>, in §5.7</span>
   <li><a href="#dictdef-authenticationextensionsclientoutputs">AuthenticationExtensionsClientOutputs</a><span>, in §5.8</span>
   <li><a href="#typedefdef-authenticationextensionssupported">AuthenticationExtensionsSupported</a><span>, in §10.5</span>
   <li><a href="#authenticator">Authenticator</a><span>, in §4</span>
   <li><a href="#authenticatorassertionresponse">AuthenticatorAssertionResponse</a><span>, in §5.2.2</span>
   <li><a href="#enumdef-authenticatorattachment">AuthenticatorAttachment</a><span>, in §5.4.5</span>
   <li><a href="#dom-authenticatorselectioncriteria-authenticatorattachment">authenticatorAttachment</a><span>, in §5.4.4</span>
   <li><a href="#authenticatorattestationresponse">AuthenticatorAttestationResponse</a><span>, in §5.2.1</span>
   <li><a href="#dictdef-authenticatorbiometricperfbounds">authenticatorBiometricPerfBounds</a><span>, in §10.9</span>
   <li><a href="#authenticatorcancel">authenticatorCancel</a><span>, in §6.2.4</span>
   <li><a href="#authenticator-data">authenticator data</a><span>, in §6.1</span>
   <li><a href="#dom-authenticatorassertionresponse-authenticatordata">authenticatorData</a><span>, in §5.2.2</span>
   <li><a href="#authenticator-data-claimed-to-have-been-used-for-the-attestation">authenticator data claimed to have been used for the attestation</a><span>, in §6.3.2</span>
   <li><a href="#authenticator-data-for-the-attestation">authenticator data for the attestation</a><span>, in §6.3.2</span>
   <li><a href="#assertioncreationdata-authenticatordataresult">authenticatorDataResult</a><span>, in §5.1.4.1</span>
   <li><a href="#authenticator-extension">authenticator extension</a><span>, in §9</span>
   <li><a href="#authenticator-extension-input">authenticator extension input</a><span>, in §9.3</span>
   <li><a href="#authenticator-extension-output">authenticator extension output</a><span>, in §9.5</span>
   <li><a href="#authenticator-extension-processing">Authenticator extension processing</a><span>, in §9.5</span>
   <li><a href="#authenticatorgetassertion">authenticatorGetAssertion</a><span>, in §6.2.3</span>
   <li><a href="#authenticatormakecredential">authenticatorMakeCredential</a><span>, in §6.2.2</span>
   <li><a href="#authenticator-model">Authenticator Model</a><span>, in §6</span>
   <li><a href="#authenticator-operations">Authenticator operations</a><span>, in §6.2</span>
   <li><a href="#authenticatorresponse">AuthenticatorResponse</a><span>, in §5.2</span>
   <li><a href="#dom-publickeycredentialcreationoptions-authenticatorselection">authenticatorSelection</a><span>, in §5.4</span>
   <li><a href="#dictdef-authenticatorselectioncriteria">AuthenticatorSelectionCriteria</a><span>, in §5.4.4</span>
   <li><a href="#typedefdef-authenticatorselectionlist">AuthenticatorSelectionList</a><span>, in §10.4</span>
   <li><a href="#authenticator-session">authenticator session</a><span>, in §6.2</span>
   <li><a href="#enumdef-authenticatortransport">AuthenticatorTransport</a><span>, in §5.10.4</span>
   <li>
    authnSel
    <ul>
     <li><a href="#dom-authenticationextensionsclientinputs-authnsel">dict-member for AuthenticationExtensionsClientInputs</a><span>, in §10.4</span>
     <li><a href="#dom-authenticationextensionsclientoutputs-authnsel">dict-member for AuthenticationExtensionsClientOutputs</a><span>, in §10.4</span>
    </ul>
   <li><a href="#authorization-gesture">Authorization Gesture</a><span>, in §4</span>
   <li><a href="#base64url-encoding">Base64url Encoding</a><span>, in §3</span>
   <li><a href="#basic">Basic</a><span>, in §6.3.3</span>
   <li><a href="#basic-attestation">Basic Attestation</a><span>, in §6.3.3</span>
   <li><a href="#biometric-authenticator">Biometric Authenticator</a><span>, in §4</span>
   <li><a href="#biometric-recognition">Biometric Recognition</a><span>, in §4</span>
   <li><a href="#dom-authenticatortransport-ble">ble</a><span>, in §5.10.4</span>
   <li><a href="#cbor">CBOR</a><span>, in §3</span>
   <li><a href="#ceremony">Ceremony</a><span>, in §4</span>
   <li>
    challenge
    <ul>
     <li><a href="#dom-collectedclientdata-challenge">dict-member for CollectedClientData</a><span>, in §5.10.1</span>
     <li><a href="#dom-publickeycredentialcreationoptions-challenge">dict-member for PublicKeyCredentialCreationOptions</a><span>, in §5.4</span>
     <li><a href="#dom-publickeycredentialrequestoptions-challenge">dict-member for PublicKeyCredentialRequestOptions</a><span>, in §5.5</span>
    </ul>
   <li><a href="#client">Client</a><span>, in §4</span>
   <li><a href="#client-data">client data</a><span>, in §5.10.1</span>
   <li><a href="#dom-authenticatorresponse-clientdatajson">clientDataJSON</a><span>, in §5.2</span>
   <li>
    clientDataJSONResult
    <ul>
     <li><a href="#assertioncreationdata-clientdatajsonresult">dfn for assertionCreationData</a><span>, in §5.1.4.1</span>
     <li><a href="#credentialcreationdata-clientdatajsonresult">dfn for credentialCreationData</a><span>, in §5.1.3</span>
    </ul>
   <li><a href="#client-extension">client extension</a><span>, in §9</span>
   <li><a href="#client-extension-input">client extension input</a><span>, in §9.3</span>
   <li><a href="#client-extension-output">client extension output</a><span>, in §9.4</span>
   <li><a href="#client-extension-processing">Client extension processing</a><span>, in §9.4</span>
   <li>
    clientExtensionResults
    <ul>
     <li><a href="#assertioncreationdata-clientextensionresults">dfn for assertionCreationData</a><span>, in §5.1.4.1</span>
     <li><a href="#credentialcreationdata-clientextensionresults">dfn for credentialCreationData</a><span>, in §5.1.3</span>
    </ul>
   <li><a href="#dom-publickeycredential-clientextensionsresults-slot">[[clientExtensionsResults]]</a><span>, in §5.1</span>
   <li><a href="#client-side">Client-Side</a><span>, in §4</span>
   <li><a href="#client-side-credential-private-key-storage">client-side credential private key storage</a><span>, in §4</span>
   <li><a href="#client-side-resident-credential-private-key">Client-side-resident Credential Private Key</a><span>, in §4</span>
   <li><a href="#dictdef-collectedclientdata">CollectedClientData</a><span>, in §5.10.1</span>
   <li><a href="#dom-publickeycredential-collectfromcredentialstore-slot">[[CollectFromCredentialStore]](origin, options, sameOriginWithAncestors)</a><span>, in §5.1.4</span>
   <li><a href="#conforming-user-agent">Conforming User Agent</a><span>, in §4</span>
   <li><a href="#dom-txauthgenericarg-content">content</a><span>, in §10.3</span>
   <li><a href="#dom-txauthgenericarg-contenttype">contentType</a><span>, in §10.3</span>
   <li><a href="#typedefdef-cosealgorithmidentifier">COSEAlgorithmIdentifier</a><span>, in §5.10.5</span>
   <li><a href="#dom-publickeycredential-create-slot">[[Create]](origin, options, sameOriginWithAncestors)</a><span>, in §5.1.3</span>
   <li><a href="#credential-id">Credential ID</a><span>, in §4</span>
   <li><a href="#credentialid">credentialId</a><span>, in §6.3.1</span>
   <li><a href="#credentialidlength">credentialIdLength</a><span>, in §6.3.1</span>
   <li><a href="#assertioncreationdata-credentialidresult">credentialIdResult</a><span>, in §5.1.4.1</span>
   <li><a href="#credential-key-pair">credential key pair</a><span>, in §4</span>
   <li><a href="#credential-private-key">credential private key</a><span>, in §4</span>
   <li><a href="#credential-public-key">Credential Public Key</a><span>, in §4</span>
   <li><a href="#credentialpublickey">credentialPublicKey</a><span>, in §6.3.1</span>
   <li><a href="#authenticator-credentials-map">credentials map</a><span>, in §6</span>
   <li><a href="#dom-authenticatorattachment-cross-platform">cross-platform</a><span>, in §5.4.5</span>
   <li><a href="#cross-platform-attachment">cross-platform attachment</a><span>, in §5.4.5</span>
   <li><a href="#dom-attestationconveyancepreference-direct">direct</a><span>, in §5.4.6</span>
   <li><a href="#dom-userverificationrequirement-discouraged">discouraged</a><span>, in §5.10.6</span>
   <li><a href="#dom-publickeycredential-discoverfromexternalsource-slot">[[DiscoverFromExternalSource]](origin, options, sameOriginWithAncestors)</a><span>, in §5.1.4.1</span>
   <li><a href="#dom-publickeycredential-discovery-slot">[[discovery]]</a><span>, in §5.1</span>
   <li><a href="#dom-publickeycredentialuserentity-displayname">displayName</a><span>, in §5.4.3</span>
   <li><a href="#ecdaa">ECDAA</a><span>, in §6.3.3</span>
   <li><a href="#ecdaa-issuer-public-key">ECDAA-Issuer public key</a><span>, in §8.2</span>
   <li><a href="#effective-user-verification-requirement-for-assertion">effective user verification requirement for assertion</a><span>, in §5.1.4.1</span>
   <li><a href="#effective-user-verification-requirement-for-credential-creation">effective user verification requirement for credential creation</a><span>, in §5.1.3</span>
   <li><a href="#elliptic-curve-based-direct-anonymous-attestation">Elliptic Curve based Direct Anonymous Attestation</a><span>, in §6.3.3</span>
   <li><a href="#dom-publickeycredentialcreationoptions-excludecredentials">excludeCredentials</a><span>, in §5.4</span>
   <li><a href="#extension-identifier">extension identifier</a><span>, in §9.1</span>
   <li>
    extensions
    <ul>
     <li><a href="#dom-publickeycredentialcreationoptions-extensions">dict-member for PublicKeyCredentialCreationOptions</a><span>, in §5.4</span>
     <li><a href="#dom-publickeycredentialrequestoptions-extensions">dict-member for PublicKeyCredentialRequestOptions</a><span>, in §5.5</span>
    </ul>
   <li>
    exts
    <ul>
     <li><a href="#dom-authenticationextensionsclientinputs-exts">dict-member for AuthenticationExtensionsClientInputs</a><span>, in §10.5</span>
     <li><a href="#dom-authenticationextensionsclientoutputs-exts">dict-member for AuthenticationExtensionsClientOutputs</a><span>, in §10.5</span>
    </ul>
   <li><a href="#dom-authenticatorbiometricperfbounds-far">FAR</a><span>, in §10.9</span>
   <li><a href="#flags">flags</a><span>, in §6.1</span>
   <li><a href="#dom-authenticatorbiometricperfbounds-frr">FRR</a><span>, in §10.9</span>
   <li><a href="#dom-publickeycredential-getclientextensionresults">getClientExtensionResults()</a><span>, in §5.1</span>
   <li><a href="#collectedclientdata-hash-of-the-serialized-client-data">Hash of the serialized client data</a><span>, in §5.10.1</span>
   <li><a href="#human-palatability">Human Palatability</a><span>, in §4</span>
   <li><a href="#dom-publickeycredentialentity-icon">icon</a><span>, in §5.4.1</span>
   <li>
    id
    <ul>
     <li><a href="#public-key-credential-source-id">dfn for public key credential source</a><span>, in §4</span>
     <li><a href="#dom-publickeycredentialdescriptor-id">dict-member for PublicKeyCredentialDescriptor</a><span>, in §5.10.3</span>
     <li><a href="#dom-publickeycredentialrpentity-id">dict-member for PublicKeyCredentialRpEntity</a><span>, in §5.4.2</span>
     <li><a href="#dom-publickeycredentialuserentity-id">dict-member for PublicKeyCredentialUserEntity</a><span>, in §5.4.3</span>
     <li><a href="#dom-tokenbinding-id">dict-member for TokenBinding</a><span>, in §5.10.1</span>
    </ul>
   <li><a href="#dom-publickeycredential-identifier-slot">[[identifier]]</a><span>, in §5.1</span>
   <li><a href="#identifier-of-the-ecdaa-issuer-public-key">identifier of the ECDAA-Issuer public key</a><span>, in §8.2</span>
   <li><a href="#dom-attestationconveyancepreference-indirect">indirect</a><span>, in §5.4.6</span>
   <li><a href="#dom-authenticatortransport-internal">internal</a><span>, in §5.10.4</span>
   <li><a href="#dom-publickeycredential-isuserverifyingplatformauthenticatoravailable">isUserVerifyingPlatformAuthenticatorAvailable()</a><span>, in §5.1.7</span>
   <li><a href="#collectedclientdata-json-serialized-client-data">JSON-serialized client data</a><span>, in §5.10.1</span>
   <li>
    loc
    <ul>
     <li><a href="#dom-authenticationextensionsclientinputs-loc">dict-member for AuthenticationExtensionsClientInputs</a><span>, in §10.7</span>
     <li><a href="#dom-authenticationextensionsclientoutputs-loc">dict-member for AuthenticationExtensionsClientOutputs</a><span>, in §10.7</span>
    </ul>
   <li><a href="#credential-id-looking-up">looking up</a><span>, in §6.2.1</span>
   <li><a href="#public-key-credential-source-managing-authenticator">managing authenticator</a><span>, in §4</span>
   <li><a href="#dom-publickeycredentialentity-name">name</a><span>, in §5.4.1</span>
   <li><a href="#dom-authenticatortransport-nfc">nfc</a><span>, in §5.10.4</span>
   <li><a href="#none">None</a><span>, in §6.3.3</span>
   <li><a href="#dom-attestationconveyancepreference-none">none</a><span>, in §5.4.6</span>
   <li><a href="#dom-tokenbindingstatus-not-supported">not-supported</a><span>, in §5.10.1</span>
   <li><a href="#dom-collectedclientdata-origin">origin</a><span>, in §5.10.1</span>
   <li><a href="#public-key-credential-source-otherui">otherUI</a><span>, in §4</span>
   <li><a href="#dom-authenticatorattachment-platform">platform</a><span>, in §5.4.5</span>
   <li><a href="#platform-attachment">platform attachment</a><span>, in §5.4.5</span>
   <li><a href="#platform-authenticators">platform authenticators</a><span>, in §5.4.5</span>
   <li><a href="#platform-credential">platform credential</a><span>, in §5.4.5</span>
   <li><a href="#dom-userverificationrequirement-preferred">preferred</a><span>, in §5.10.6</span>
   <li><a href="#dom-tokenbindingstatus-present">present</a><span>, in §5.10.1</span>
   <li><a href="#dom-publickeycredential-preventsilentaccess-slot">[[preventSilentAccess]](credential, sameOriginWithAncestors)</a><span>, in §5.1.6</span>
   <li><a href="#public-key-credential-source-privatekey">privateKey</a><span>, in §4</span>
   <li><a href="#dom-publickeycredentialcreationoptions-pubkeycredparams">pubKeyCredParams</a><span>, in §5.4</span>
   <li>
    publicKey
    <ul>
     <li><a href="#dom-credentialcreationoptions-publickey">dict-member for CredentialCreationOptions</a><span>, in §5.1.1</span>
     <li><a href="#dom-credentialrequestoptions-publickey">dict-member for CredentialRequestOptions</a><span>, in §5.1.2</span>
    </ul>
   <li><a href="#dom-publickeycredentialtype-public-key">public-key</a><span>, in §5.10.2</span>
   <li><a href="#public-key-credential">Public Key Credential</a><span>, in §4</span>
   <li><a href="#publickeycredential">PublicKeyCredential</a><span>, in §5.1</span>
   <li><a href="#dictdef-publickeycredentialcreationoptions">PublicKeyCredentialCreationOptions</a><span>, in §5.4</span>
   <li><a href="#dictdef-publickeycredentialdescriptor">PublicKeyCredentialDescriptor</a><span>, in §5.10.3</span>
   <li><a href="#dictdef-publickeycredentialentity">PublicKeyCredentialEntity</a><span>, in §5.4.1</span>
   <li><a href="#dictdef-publickeycredentialparameters">PublicKeyCredentialParameters</a><span>, in §5.3</span>
   <li><a href="#dictdef-publickeycredentialrequestoptions">PublicKeyCredentialRequestOptions</a><span>, in §5.5</span>
   <li><a href="#dictdef-publickeycredentialrpentity">PublicKeyCredentialRpEntity</a><span>, in §5.4.2</span>
   <li><a href="#public-key-credential-source">Public Key Credential Source</a><span>, in §4</span>
   <li><a href="#enumdef-publickeycredentialtype">PublicKeyCredentialType</a><span>, in §5.10.2</span>
   <li><a href="#dictdef-publickeycredentialuserentity">PublicKeyCredentialUserEntity</a><span>, in §5.4.3</span>
   <li><a href="#rate-limiting">Rate Limiting</a><span>, in §4</span>
   <li><a href="#dom-publickeycredential-rawid">rawId</a><span>, in §5.1</span>
   <li><a href="#registration">Registration</a><span>, in §4</span>
   <li><a href="#registration-extension">registration extension</a><span>, in §9</span>
   <li><a href="#relying-party">Relying Party</a><span>, in §4</span>
   <li><a href="#relying-party-identifier">Relying Party Identifier</a><span>, in §4</span>
   <li><a href="#dom-userverificationrequirement-required">required</a><span>, in §5.10.6</span>
   <li><a href="#dom-authenticatorselectioncriteria-requireresidentkey">requireResidentKey</a><span>, in §5.4.4</span>
   <li><a href="#dom-publickeycredential-response">response</a><span>, in §5.1</span>
   <li><a href="#roaming-authenticators">roaming authenticators</a><span>, in §5.4.5</span>
   <li><a href="#roaming-credential">roaming credential</a><span>, in §5.4.5</span>
   <li><a href="#dom-publickeycredentialcreationoptions-rp">rp</a><span>, in §5.4</span>
   <li>
    rpId
    <ul>
     <li><a href="#public-key-credential-source-rpid">dfn for public key credential source</a><span>, in §4</span>
     <li><a href="#dom-publickeycredentialrequestoptions-rpid">dict-member for PublicKeyCredentialRequestOptions</a><span>, in §5.5</span>
    </ul>
   <li><a href="#rp-id">RP ID</a><span>, in §4</span>
   <li><a href="#rpidhash">rpIdHash</a><span>, in §6.1</span>
   <li><a href="#self">Self</a><span>, in §6.3.3</span>
   <li><a href="#self-attestation">Self Attestation</a><span>, in §6.3.3</span>
   <li><a href="#dom-authenticatorassertionresponse-signature">signature</a><span>, in §5.2.2</span>
   <li><a href="#signature-counter">Signature Counter</a><span>, in §6.1.1</span>
   <li><a href="#assertioncreationdata-signatureresult">signatureResult</a><span>, in §5.1.4.1</span>
   <li><a href="#signcount">signCount</a><span>, in §6.1</span>
   <li><a href="#signing-procedure">Signing procedure</a><span>, in §6.3.2</span>
   <li><a href="#dom-tokenbinding-status">status</a><span>, in §5.10.1</span>
   <li><a href="#dom-publickeycredential-store-slot">[[Store]](credential, sameOriginWithAncestors)</a><span>, in §5.1.5</span>
   <li><a href="#dom-tokenbindingstatus-supported">supported</a><span>, in §5.10.1</span>
   <li><a href="#test-of-user-presence">Test of User Presence</a><span>, in §4</span>
   <li>
    timeout
    <ul>
     <li><a href="#dom-publickeycredentialcreationoptions-timeout">dict-member for PublicKeyCredentialCreationOptions</a><span>, in §5.4</span>
     <li><a href="#dom-publickeycredentialrequestoptions-timeout">dict-member for PublicKeyCredentialRequestOptions</a><span>, in §5.5</span>
    </ul>
   <li><a href="#dom-collectedclientdata-tokenbinding">tokenBinding</a><span>, in §5.10.1</span>
   <li><a href="#dictdef-tokenbinding">TokenBinding</a><span>, in §5.10.1</span>
   <li><a href="#enumdef-tokenbindingstatus">TokenBindingStatus</a><span>, in §5.10.1</span>
   <li><a href="#dom-publickeycredentialdescriptor-transports">transports</a><span>, in §5.10.3</span>
   <li>
    txAuthGeneric
    <ul>
     <li><a href="#dom-authenticationextensionsclientinputs-txauthgeneric">dict-member for AuthenticationExtensionsClientInputs</a><span>, in §10.3</span>
     <li><a href="#dom-authenticationextensionsclientoutputs-txauthgeneric">dict-member for AuthenticationExtensionsClientOutputs</a><span>, in §10.3</span>
    </ul>
   <li><a href="#dictdef-txauthgenericarg">txAuthGenericArg</a><span>, in §10.3</span>
   <li>
    txAuthSimple
    <ul>
     <li><a href="#dom-authenticationextensionsclientinputs-txauthsimple">dict-member for AuthenticationExtensionsClientInputs</a><span>, in §10.2</span>
     <li><a href="#dom-authenticationextensionsclientoutputs-txauthsimple">dict-member for AuthenticationExtensionsClientOutputs</a><span>, in §10.2</span>
    </ul>
   <li><a href="#dom-publickeycredential-type-slot">[[type]]</a><span>, in §5.1</span>
   <li>
    type
    <ul>
     <li><a href="#public-key-credential-source-type">dfn for public key credential source</a><span>, in §4</span>
     <li><a href="#dom-collectedclientdata-type">dict-member for CollectedClientData</a><span>, in §5.10.1</span>
     <li><a href="#dom-publickeycredentialdescriptor-type">dict-member for PublicKeyCredentialDescriptor</a><span>, in §5.10.3</span>
     <li><a href="#dom-publickeycredentialparameters-type">dict-member for PublicKeyCredentialParameters</a><span>, in §5.3</span>
    </ul>
   <li><a href="#up">UP</a><span>, in §4</span>
   <li><a href="#dom-authenticatortransport-usb">usb</a><span>, in §5.10.4</span>
   <li><a href="#dom-publickeycredentialcreationoptions-user">user</a><span>, in §5.4</span>
   <li><a href="#user-consent">User Consent</a><span>, in §4</span>
   <li>
    userHandle
    <ul>
     <li><a href="#dom-authenticatorassertionresponse-userhandle">attribute for AuthenticatorAssertionResponse</a><span>, in §5.2.2</span>
     <li><a href="#public-key-credential-source-userhandle">dfn for public key credential source</a><span>, in §4</span>
    </ul>
   <li><a href="#user-handle">User Handle</a><span>, in §4</span>
   <li><a href="#assertioncreationdata-userhandleresult">userHandleResult</a><span>, in §5.1.4.1</span>
   <li><a href="#concept-user-present">User Present</a><span>, in §4</span>
   <li><a href="#user-public-key">User Public Key</a><span>, in §4</span>
   <li>
    userVerification
    <ul>
     <li><a href="#dom-authenticatorselectioncriteria-userverification">dict-member for AuthenticatorSelectionCriteria</a><span>, in §5.4.4</span>
     <li><a href="#dom-publickeycredentialrequestoptions-userverification">dict-member for PublicKeyCredentialRequestOptions</a><span>, in §5.5</span>
    </ul>
   <li><a href="#user-verification">User Verification</a><span>, in §4</span>
   <li><a href="#enumdef-userverificationrequirement">UserVerificationRequirement</a><span>, in §5.10.6</span>
   <li><a href="#concept-user-verified">User Verified</a><span>, in §4</span>
   <li><a href="#uv">UV</a><span>, in §4</span>
   <li>
    uvi
    <ul>
     <li><a href="#dom-authenticationextensionsclientinputs-uvi">dict-member for AuthenticationExtensionsClientInputs</a><span>, in §10.6</span>
     <li><a href="#dom-authenticationextensionsclientoutputs-uvi">dict-member for AuthenticationExtensionsClientOutputs</a><span>, in §10.6</span>
    </ul>
   <li>
    uvm
    <ul>
     <li><a href="#dom-authenticationextensionsclientinputs-uvm">dict-member for AuthenticationExtensionsClientInputs</a><span>, in §10.8</span>
     <li><a href="#dom-authenticationextensionsclientoutputs-uvm">dict-member for AuthenticationExtensionsClientOutputs</a><span>, in §10.8</span>
    </ul>
   <li><a href="#typedefdef-uvmentries">UvmEntries</a><span>, in §10.8</span>
   <li><a href="#typedefdef-uvmentry">UvmEntry</a><span>, in §10.8</span>
   <li><a href="#verification-procedure">Verification procedure</a><span>, in §6.3.2</span>
   <li><a href="#verification-procedure-inputs">verification procedure inputs</a><span>, in §6.3.2</span>
   <li><a href="#web-authentication-api">Web Authentication API</a><span>, in §5</span>
   <li><a href="#webauthn-client">WebAuthn Client</a><span>, in §4</span>
  </ul>
  <aside class="dfn-panel" data-for="term-for-credential">
   <a href="https://w3c.github.io/webappsec-credential-management/#credential">https://w3c.github.io/webappsec-credential-management/#credential</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-credential">3. Dependencies</a>
    <li><a href="#ref-for-credential①">5.1. PublicKeyCredential Interface</a> <a href="#ref-for-credential②">(2)</a> <a href="#ref-for-credential③">(3)</a> <a href="#ref-for-credential④">(4)</a> <a href="#ref-for-credential⑤">(5)</a> <a href="#ref-for-credential⑥">(6)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="term-for-dictdef-credentialcreationoptions">
   <a href="https://w3c.github.io/webappsec-credential-management/#dictdef-credentialcreationoptions">https://w3c.github.io/webappsec-credential-management/#dictdef-credentialcreationoptions</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dictdef-credentialcreationoptions">5.1.1. CredentialCreationOptions Dictionary Extension</a> <a href="#ref-for-dictdef-credentialcreationoptions①">(2)</a>
    <li><a href="#ref-for-dictdef-credentialcreationoptions②">5.1.3. Create a new credential - PublicKeyCredential’s [[Create]](origin, options, sameOriginWithAncestors) method</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="term-for-dictdef-credentialrequestoptions">
   <a href="https://w3c.github.io/webappsec-credential-management/#dictdef-credentialrequestoptions">https://w3c.github.io/webappsec-credential-management/#dictdef-credentialrequestoptions</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dictdef-credentialrequestoptions">5.1.2. CredentialRequestOptions Dictionary Extension</a> <a href="#ref-for-dictdef-credentialrequestoptions①">(2)</a>
    <li><a href="#ref-for-dictdef-credentialrequestoptions②">5.1.4.1. PublicKeyCredential’s [[DiscoverFromExternalSource]](origin, options, sameOriginWithAncestors) method</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="term-for-credentialscontainer">
   <a href="https://w3c.github.io/webappsec-credential-management/#credentialscontainer">https://w3c.github.io/webappsec-credential-management/#credentialscontainer</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-credentialscontainer">5.1.4.1. PublicKeyCredential’s [[DiscoverFromExternalSource]](origin, options, sameOriginWithAncestors) method</a>
    <li><a href="#ref-for-credentialscontainer①">5.4. Options for Credential Creation (dictionary PublicKeyCredentialCreationOptions)</a>
    <li><a href="#ref-for-credentialscontainer②">5.5. Options for Assertion Generation (dictionary PublicKeyCredentialRequestOptions)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="term-for-abstract-opdef-request-a-credential">
   <a href="https://w3c.github.io/webappsec-credential-management/#abstract-opdef-request-a-credential">https://w3c.github.io/webappsec-credential-management/#abstract-opdef-request-a-credential</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-abstract-opdef-request-a-credential">5.1.4.1. PublicKeyCredential’s [[DiscoverFromExternalSource]](origin, options, sameOriginWithAncestors) method</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="term-for-collectfromcredentialstore-origin-options-sameoriginwithancestors">
   <a href="https://w3c.github.io/webappsec-credential-management/#collectfromcredentialstore-origin-options-sameoriginwithancestors">https://w3c.github.io/webappsec-credential-management/#collectfromcredentialstore-origin-options-sameoriginwithancestors</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-collectfromcredentialstore-origin-options-sameoriginwithancestors">5.1. PublicKeyCredential Interface</a>
    <li><a href="#ref-for-collectfromcredentialstore-origin-options-sameoriginwithancestors①">5.1.4. Use an existing credential to make an assertion - PublicKeyCredential’s [[Get]](options) method</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="term-for-create-origin-options-sameoriginwithancestors">
   <a href="https://w3c.github.io/webappsec-credential-management/#create-origin-options-sameoriginwithancestors">https://w3c.github.io/webappsec-credential-management/#create-origin-options-sameoriginwithancestors</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-create-origin-options-sameoriginwithancestors">5.6. Abort operations with AbortSignal</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="term-for-store-credential-sameoriginwithancestors">
   <a href="https://w3c.github.io/webappsec-credential-management/#store-credential-sameoriginwithancestors">https://w3c.github.io/webappsec-credential-management/#store-credential-sameoriginwithancestors</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-store-credential-sameoriginwithancestors">5.1. PublicKeyCredential Interface</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="term-for-dom-credential-discovery-slot">
   <a href="https://w3c.github.io/webappsec-credential-management/#dom-credential-discovery-slot">https://w3c.github.io/webappsec-credential-management/#dom-credential-discovery-slot</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-credential-discovery-slot">5.1. PublicKeyCredential Interface</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="term-for-dom-credential-type-slot">
   <a href="https://w3c.github.io/webappsec-credential-management/#dom-credential-type-slot">https://w3c.github.io/webappsec-credential-management/#dom-credential-type-slot</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-credential-type-slot">5.1. PublicKeyCredential Interface</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="term-for-dom-credentialscontainer-create">
   <a href="https://w3c.github.io/webappsec-credential-management/#dom-credentialscontainer-create">https://w3c.github.io/webappsec-credential-management/#dom-credentialscontainer-create</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-credentialscontainer-create">1. Introduction</a>
    <li><a href="#ref-for-dom-credentialscontainer-create①">5.1. PublicKeyCredential Interface</a> <a href="#ref-for-dom-credentialscontainer-create②">(2)</a>
    <li><a href="#ref-for-dom-credentialscontainer-create③">5.1.1. CredentialCreationOptions Dictionary Extension</a>
    <li><a href="#ref-for-dom-credentialscontainer-create④">5.1.3. Create a new credential - PublicKeyCredential’s [[Create]](origin, options, sameOriginWithAncestors) method</a> <a href="#ref-for-dom-credentialscontainer-create⑤">(2)</a> <a href="#ref-for-dom-credentialscontainer-create⑥">(3)</a> <a href="#ref-for-dom-credentialscontainer-create⑦">(4)</a> <a href="#ref-for-dom-credentialscontainer-create⑧">(5)</a>
    <li><a href="#ref-for-dom-credentialscontainer-create⑨">5.2. Authenticator Responses (interface AuthenticatorResponse)</a>
    <li><a href="#ref-for-dom-credentialscontainer-create①⓪">5.4. Options for Credential Creation (dictionary PublicKeyCredentialCreationOptions)</a>
    <li><a href="#ref-for-dom-credentialscontainer-create①①">5.4.4. Authenticator Selection Criteria (dictionary AuthenticatorSelectionCriteria)</a>
    <li><a href="#ref-for-dom-credentialscontainer-create①②">5.10.3. Credential Descriptor (dictionary PublicKeyCredentialDescriptor)</a>
    <li><a href="#ref-for-dom-credentialscontainer-create①③">7. Relying Party Operations</a>
    <li><a href="#ref-for-dom-credentialscontainer-create①④">7.1. Registering a new credential</a> <a href="#ref-for-dom-credentialscontainer-create①⑤">(2)</a> <a href="#ref-for-dom-credentialscontainer-create①⑥">(3)</a>
    <li><a href="#ref-for-dom-credentialscontainer-create①⑦">9. WebAuthn Extensions</a> <a href="#ref-for-dom-credentialscontainer-create①⑧">(2)</a> <a href="#ref-for-dom-credentialscontainer-create①⑨">(3)</a>
    <li><a href="#ref-for-dom-credentialscontainer-create②⓪">9.2. Defining extensions</a>
    <li><a href="#ref-for-dom-credentialscontainer-create②①">9.3. Extending request parameters</a> <a href="#ref-for-dom-credentialscontainer-create②②">(2)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="term-for-concept-credential">
   <a href="https://w3c.github.io/webappsec-credential-management/#concept-credential">https://w3c.github.io/webappsec-credential-management/#concept-credential</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-concept-credential">4. Terminology</a>
    <li><a href="#ref-for-concept-credential①">5.1.4. Use an existing credential to make an assertion - PublicKeyCredential’s [[Get]](options) method</a> <a href="#ref-for-concept-credential②">(2)</a> <a href="#ref-for-concept-credential③">(3)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="term-for-credential-source">
   <a href="https://w3c.github.io/webappsec-credential-management/#credential-source">https://w3c.github.io/webappsec-credential-management/#credential-source</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-credential-source">4. Terminology</a>
    <li><a href="#ref-for-credential-source①">5.1.4. Use an existing credential to make an assertion - PublicKeyCredential’s [[Get]](options) method</a> <a href="#ref-for-credential-source②">(2)</a> <a href="#ref-for-credential-source③">(3)</a> <a href="#ref-for-credential-source④">(4)</a> <a href="#ref-for-credential-source⑤">(5)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="term-for-dom-credentialscontainer-get">
   <a href="https://w3c.github.io/webappsec-credential-management/#dom-credentialscontainer-get">https://w3c.github.io/webappsec-credential-management/#dom-credentialscontainer-get</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-credentialscontainer-get">1. Introduction</a>
    <li><a href="#ref-for-dom-credentialscontainer-get①">4. Terminology</a>
    <li><a href="#ref-for-dom-credentialscontainer-get②">5.1. PublicKeyCredential Interface</a> <a href="#ref-for-dom-credentialscontainer-get③">(2)</a>
    <li><a href="#ref-for-dom-credentialscontainer-get④">5.1.2. CredentialRequestOptions Dictionary Extension</a>
    <li><a href="#ref-for-dom-credentialscontainer-get⑤">5.1.4. Use an existing credential to make an assertion - PublicKeyCredential’s [[Get]](options) method</a> <a href="#ref-for-dom-credentialscontainer-get⑥">(2)</a>
    <li><a href="#ref-for-dom-credentialscontainer-get⑦">5.1.4.1. PublicKeyCredential’s [[DiscoverFromExternalSource]](origin, options, sameOriginWithAncestors) method</a> <a href="#ref-for-dom-credentialscontainer-get⑧">(2)</a> <a href="#ref-for-dom-credentialscontainer-get⑨">(3)</a>
    <li><a href="#ref-for-dom-credentialscontainer-get①⓪">5.2. Authenticator Responses (interface AuthenticatorResponse)</a>
    <li><a href="#ref-for-dom-credentialscontainer-get①①">5.5. Options for Assertion Generation (dictionary PublicKeyCredentialRequestOptions)</a> <a href="#ref-for-dom-credentialscontainer-get①②">(2)</a>
    <li><a href="#ref-for-dom-credentialscontainer-get①③">5.10.3. Credential Descriptor (dictionary PublicKeyCredentialDescriptor)</a>
    <li><a href="#ref-for-dom-credentialscontainer-get①④">7. Relying Party Operations</a>
    <li><a href="#ref-for-dom-credentialscontainer-get①⑤">7.2. Verifying an authentication assertion</a> <a href="#ref-for-dom-credentialscontainer-get①⑥">(2)</a>
    <li><a href="#ref-for-dom-credentialscontainer-get①⑦">9. WebAuthn Extensions</a> <a href="#ref-for-dom-credentialscontainer-get①⑧">(2)</a> <a href="#ref-for-dom-credentialscontainer-get①⑨">(3)</a>
    <li><a href="#ref-for-dom-credentialscontainer-get②⓪">9.2. Defining extensions</a>
    <li><a href="#ref-for-dom-credentialscontainer-get②①">9.3. Extending request parameters</a> <a href="#ref-for-dom-credentialscontainer-get②②">(2)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="term-for-dom-credential-id">
   <a href="https://w3c.github.io/webappsec-credential-management/#dom-credential-id">https://w3c.github.io/webappsec-credential-management/#dom-credential-id</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-credential-id">5.1. PublicKeyCredential Interface</a>
    <li><a href="#ref-for-dom-credential-id①">7.2. Verifying an authentication assertion</a> <a href="#ref-for-dom-credential-id②">(2)</a> <a href="#ref-for-dom-credential-id③">(3)</a> <a href="#ref-for-dom-credential-id④">(4)</a> <a href="#ref-for-dom-credential-id⑤">(5)</a> <a href="#ref-for-dom-credential-id⑥">(6)</a> <a href="#ref-for-dom-credential-id⑦">(7)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="term-for-dom-credential-discovery-remote">
   <a href="https://w3c.github.io/webappsec-credential-management/#dom-credential-discovery-remote">https://w3c.github.io/webappsec-credential-management/#dom-credential-discovery-remote</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-credential-discovery-remote">5.1. PublicKeyCredential Interface</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="term-for-same-origin-with-its-ancestors">
   <a href="https://w3c.github.io/webappsec-credential-management/#same-origin-with-its-ancestors">https://w3c.github.io/webappsec-credential-management/#same-origin-with-its-ancestors</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-same-origin-with-its-ancestors">5.1.3. Create a new credential - PublicKeyCredential’s [[Create]](origin, options, sameOriginWithAncestors) method</a> <a href="#ref-for-same-origin-with-its-ancestors①">(2)</a>
    <li><a href="#ref-for-same-origin-with-its-ancestors②">5.1.4.1. PublicKeyCredential’s [[DiscoverFromExternalSource]](origin, options, sameOriginWithAncestors) method</a> <a href="#ref-for-same-origin-with-its-ancestors③">(2)</a>
    <li><a href="#ref-for-same-origin-with-its-ancestors④">5.1.5. Store an existing credential - PublicKeyCredential’s [[Store]](credential, sameOriginWithAncestors) method</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="term-for-dom-credentialrequestoptions-signal">
   <a href="https://w3c.github.io/webappsec-credential-management/#dom-credentialrequestoptions-signal">https://w3c.github.io/webappsec-credential-management/#dom-credentialrequestoptions-signal</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-credentialrequestoptions-signal">5.1.4.1. PublicKeyCredential’s [[DiscoverFromExternalSource]](origin, options, sameOriginWithAncestors) method</a> <a href="#ref-for-dom-credentialrequestoptions-signal①">(2)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="term-for-dom-credentialscontainer-store">
   <a href="https://w3c.github.io/webappsec-credential-management/#dom-credentialscontainer-store">https://w3c.github.io/webappsec-credential-management/#dom-credentialscontainer-store</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-credentialscontainer-store">5.1.5. Store an existing credential - PublicKeyCredential’s [[Store]](credential, sameOriginWithAncestors) method</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="term-for-dom-credential-type">
   <a href="https://w3c.github.io/webappsec-credential-management/#dom-credential-type">https://w3c.github.io/webappsec-credential-management/#dom-credential-type</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-credential-type">5.1. PublicKeyCredential Interface</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="term-for-user-mediated">
   <a href="https://w3c.github.io/webappsec-credential-management/#user-mediated">https://w3c.github.io/webappsec-credential-management/#user-mediated</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-user-mediated">5.1.4. Use an existing credential to make an assertion - PublicKeyCredential’s [[Get]](options) method</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="term-for-abortcontroller">
   <a href="https://dom.spec.whatwg.org/#abortcontroller">https://dom.spec.whatwg.org/#abortcontroller</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-abortcontroller">5.1.3. Create a new credential - PublicKeyCredential’s [[Create]](origin, options, sameOriginWithAncestors) method</a>
    <li><a href="#ref-for-abortcontroller①">5.6. Abort operations with AbortSignal</a> <a href="#ref-for-abortcontroller②">(2)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="term-for-abortsignal-aborted-flag">
   <a href="https://dom.spec.whatwg.org/#abortsignal-aborted-flag">https://dom.spec.whatwg.org/#abortsignal-aborted-flag</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-abortsignal-aborted-flag">5.1.3. Create a new credential - PublicKeyCredential’s [[Create]](origin, options, sameOriginWithAncestors) method</a> <a href="#ref-for-abortsignal-aborted-flag①">(2)</a>
    <li><a href="#ref-for-abortsignal-aborted-flag②">5.1.4.1. PublicKeyCredential’s [[DiscoverFromExternalSource]](origin, options, sameOriginWithAncestors) method</a> <a href="#ref-for-abortsignal-aborted-flag③">(2)</a>
    <li><a href="#ref-for-abortsignal-aborted-flag④">5.6. Abort operations with AbortSignal</a> <a href="#ref-for-abortsignal-aborted-flag⑤">(2)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="term-for-concept-document">
   <a href="https://dom.spec.whatwg.org/#concept-document">https://dom.spec.whatwg.org/#concept-document</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-concept-document">5.6. Abort operations with AbortSignal</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="term-for-sec-arraybuffer-constructor">
   <a href="https://tc39.github.io/ecma262/#sec-arraybuffer-constructor">https://tc39.github.io/ecma262/#sec-arraybuffer-constructor</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-sec-arraybuffer-constructor">3. Dependencies</a>
    <li><a href="#ref-for-sec-arraybuffer-constructor①">5.1.3. Create a new credential - PublicKeyCredential’s [[Create]](origin, options, sameOriginWithAncestors) method</a> <a href="#ref-for-sec-arraybuffer-constructor②">(2)</a> <a href="#ref-for-sec-arraybuffer-constructor③">(3)</a>
    <li><a href="#ref-for-sec-arraybuffer-constructor④">5.1.4.1. PublicKeyCredential’s [[DiscoverFromExternalSource]](origin, options, sameOriginWithAncestors) method</a> <a href="#ref-for-sec-arraybuffer-constructor⑤">(2)</a> <a href="#ref-for-sec-arraybuffer-constructor⑥">(3)</a> <a href="#ref-for-sec-arraybuffer-constructor⑦">(4)</a> <a href="#ref-for-sec-arraybuffer-constructor⑧">(5)</a> <a href="#ref-for-sec-arraybuffer-constructor⑨">(6)</a>
    <li><a href="#ref-for-sec-arraybuffer-constructor①⓪">9. WebAuthn Extensions</a> <a href="#ref-for-sec-arraybuffer-constructor①①">(2)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="term-for-sec-object-internal-methods-and-internal-slots">
   <a href="https://tc39.github.io/ecma262/#sec-object-internal-methods-and-internal-slots">https://tc39.github.io/ecma262/#sec-object-internal-methods-and-internal-slots</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-sec-object-internal-methods-and-internal-slots">4. Terminology</a>
    <li><a href="#ref-for-sec-object-internal-methods-and-internal-slots①">5.1. PublicKeyCredential Interface</a> <a href="#ref-for-sec-object-internal-methods-and-internal-slots②">(2)</a> <a href="#ref-for-sec-object-internal-methods-and-internal-slots③">(3)</a> <a href="#ref-for-sec-object-internal-methods-and-internal-slots④">(4)</a> <a href="#ref-for-sec-object-internal-methods-and-internal-slots⑤">(5)</a>
    <li><a href="#ref-for-sec-object-internal-methods-and-internal-slots⑥">5.1.3. Create a new credential - PublicKeyCredential’s [[Create]](origin, options, sameOriginWithAncestors) method</a> <a href="#ref-for-sec-object-internal-methods-and-internal-slots⑦">(2)</a>
    <li><a href="#ref-for-sec-object-internal-methods-and-internal-slots⑧">5.1.4. Use an existing credential to make an assertion - PublicKeyCredential’s [[Get]](options) method</a>
    <li><a href="#ref-for-sec-object-internal-methods-and-internal-slots⑨">5.1.4.1. PublicKeyCredential’s [[DiscoverFromExternalSource]](origin, options, sameOriginWithAncestors) method</a>
    <li><a href="#ref-for-sec-object-internal-methods-and-internal-slots①⓪">5.1.5. Store an existing credential - PublicKeyCredential’s [[Store]](credential, sameOriginWithAncestors) method</a>
    <li><a href="#ref-for-sec-object-internal-methods-and-internal-slots①①">5.1.6. Preventing silent access to an existing credential - PublicKeyCredential’s [[preventSilentAccess]](credential, sameOriginWithAncestors) method</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="term-for-sec-object-internal-methods-and-internal-slots">
   <a href="https://tc39.github.io/ecma262/#sec-object-internal-methods-and-internal-slots">https://tc39.github.io/ecma262/#sec-object-internal-methods-and-internal-slots</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-sec-object-internal-methods-and-internal-slots">4. Terminology</a>
    <li><a href="#ref-for-sec-object-internal-methods-and-internal-slots①">5.1. PublicKeyCredential Interface</a> <a href="#ref-for-sec-object-internal-methods-and-internal-slots②">(2)</a> <a href="#ref-for-sec-object-internal-methods-and-internal-slots③">(3)</a> <a href="#ref-for-sec-object-internal-methods-and-internal-slots④">(4)</a> <a href="#ref-for-sec-object-internal-methods-and-internal-slots⑤">(5)</a>
    <li><a href="#ref-for-sec-object-internal-methods-and-internal-slots⑥">5.1.3. Create a new credential - PublicKeyCredential’s [[Create]](origin, options, sameOriginWithAncestors) method</a> <a href="#ref-for-sec-object-internal-methods-and-internal-slots⑦">(2)</a>
    <li><a href="#ref-for-sec-object-internal-methods-and-internal-slots⑧">5.1.4. Use an existing credential to make an assertion - PublicKeyCredential’s [[Get]](options) method</a>
    <li><a href="#ref-for-sec-object-internal-methods-and-internal-slots⑨">5.1.4.1. PublicKeyCredential’s [[DiscoverFromExternalSource]](origin, options, sameOriginWithAncestors) method</a>
    <li><a href="#ref-for-sec-object-internal-methods-and-internal-slots①⓪">5.1.5. Store an existing credential - PublicKeyCredential’s [[Store]](credential, sameOriginWithAncestors) method</a>
    <li><a href="#ref-for-sec-object-internal-methods-and-internal-slots①①">5.1.6. Preventing silent access to an existing credential - PublicKeyCredential’s [[preventSilentAccess]](credential, sameOriginWithAncestors) method</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="term-for-sec-json.stringify">
   <a href="https://tc39.github.io/ecma262/#sec-json.stringify">https://tc39.github.io/ecma262/#sec-json.stringify</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-sec-json.stringify">5.10.1. Client data used in WebAuthn signatures (dictionary CollectedClientData)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="term-for-utf-8-decode">
   <a href="https://encoding.spec.whatwg.org/#utf-8-decode">https://encoding.spec.whatwg.org/#utf-8-decode</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-utf-8-decode">7.1. Registering a new credential</a> <a href="#ref-for-utf-8-decode①">(2)</a> <a href="#ref-for-utf-8-decode②">(3)</a>
    <li><a href="#ref-for-utf-8-decode③">7.2. Verifying an authentication assertion</a> <a href="#ref-for-utf-8-decode④">(2)</a> <a href="#ref-for-utf-8-decode⑤">(3)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="term-for-utf-8-encode">
   <a href="https://encoding.spec.whatwg.org/#utf-8-encode">https://encoding.spec.whatwg.org/#utf-8-encode</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-utf-8-encode">5.10.1. Client data used in WebAuthn signatures (dictionary CollectedClientData)</a>
    <li><a href="#ref-for-utf-8-encode①">8.5. Android SafetyNet Attestation Statement Format</a>
    <li><a href="#ref-for-utf-8-encode②">10.5. Supported Extensions Extension (exts)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="term-for-concept-request-window">
   <a href="https://fetch.spec.whatwg.org/#concept-request-window">https://fetch.spec.whatwg.org/#concept-request-window</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-concept-request-window">5.6. Abort operations with AbortSignal</a> <a href="#ref-for-concept-request-window①">(2)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="term-for-determining-if-a-caller-s-facetid-is-authorized-for-an-appid">
   <a href="https://fidoalliance.org/specs/fido-v2.0-id-20180227/fido-appid-and-facets-v2.0-id-20180227.html#determining-if-a-caller-s-facetid-is-authorized-for-an-appid">https://fidoalliance.org/specs/fido-v2.0-id-20180227/fido-appid-and-facets-v2.0-id-20180227.html#determining-if-a-caller-s-facetid-is-authorized-for-an-appid</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-determining-if-a-caller-s-facetid-is-authorized-for-an-appid">3. Dependencies</a>
    <li><a href="#ref-for-determining-if-a-caller-s-facetid-is-authorized-for-an-appid①">10.1. FIDO AppID Extension (appid)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="term-for-determining-the-facetid-of-a-calling-application">
   <a href="https://fidoalliance.org/specs/fido-v2.0-id-20180227/fido-appid-and-facets-v2.0-id-20180227.html#determining-the-facetid-of-a-calling-application">https://fidoalliance.org/specs/fido-v2.0-id-20180227/fido-appid-and-facets-v2.0-id-20180227.html#determining-the-facetid-of-a-calling-application</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-determining-the-facetid-of-a-calling-application">3. Dependencies</a>
    <li><a href="#ref-for-determining-the-facetid-of-a-calling-application①">10.1. FIDO AppID Extension (appid)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="term-for-ctap2-canonical-cbor-encoding-form">
   <a href="https://fidoalliance.org/specs/fido-v2.0-id-20180227/fido-client-to-authenticator-protocol-v2.0-id-20180227.html#ctap2-canonical-cbor-encoding-form">https://fidoalliance.org/specs/fido-v2.0-id-20180227/fido-client-to-authenticator-protocol-v2.0-id-20180227.html#ctap2-canonical-cbor-encoding-form</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-ctap2-canonical-cbor-encoding-form">2.4. All Conformance Classes</a> <a href="#ref-for-ctap2-canonical-cbor-encoding-form①">(2)</a>
    <li><a href="#ref-for-ctap2-canonical-cbor-encoding-form②">3. Dependencies</a>
    <li><a href="#ref-for-ctap2-canonical-cbor-encoding-form③">6.3.1. Attested credential data</a>
    <li><a href="#ref-for-ctap2-canonical-cbor-encoding-form④">6.3.1.1. Examples of credentialPublicKey Values encoded in COSE_Key format</a>
    <li><a href="#ref-for-ctap2-canonical-cbor-encoding-form⑤">9. WebAuthn Extensions</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="term-for-user-verification-methods">
   <a href="https://fidoalliance.org/specs/fido-v2.0-id-20180227/fido-registry-v2.0-id-20180227.html#user-verification-methods">https://fidoalliance.org/specs/fido-v2.0-id-20180227/fido-registry-v2.0-id-20180227.html#user-verification-methods</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-user-verification-methods">10.8. User Verification Method Extension (uvm)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="term-for-key-protection-types">
   <a href="https://fidoalliance.org/specs/fido-v2.0-id-20180227/fido-registry-v2.0-id-20180227.html#key-protection-types">https://fidoalliance.org/specs/fido-v2.0-id-20180227/fido-registry-v2.0-id-20180227.html#key-protection-types</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-key-protection-types">10.8. User Verification Method Extension (uvm)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="term-for-matcher-protection-types">
   <a href="https://fidoalliance.org/specs/fido-v2.0-id-20180227/fido-registry-v2.0-id-20180227.html#matcher-protection-types">https://fidoalliance.org/specs/fido-v2.0-id-20180227/fido-registry-v2.0-id-20180227.html#matcher-protection-types</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-matcher-protection-types">10.8. User Verification Method Extension (uvm)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="term-for-public-key-representation-formats">
   <a href="https://fidoalliance.org/specs/fido-v2.0-id-20180227/fido-registry-v2.0-id-20180227.html#public-key-representation-formats">https://fidoalliance.org/specs/fido-v2.0-id-20180227/fido-registry-v2.0-id-20180227.html#public-key-representation-formats</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-public-key-representation-formats">8.6. FIDO U2F Attestation Statement Format</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="term-for-authentication-request-message---u2f_authenticate">
   <a href="https://fidoalliance.org/specs/fido-u2f-v1.1-id-20160915/fido-u2f-raw-message-formats-v1.1-id-20160915.html#authentication-request-message---u2f_authenticate">https://fidoalliance.org/specs/fido-u2f-v1.1-id-20160915/fido-u2f-raw-message-formats-v1.1-id-20160915.html#authentication-request-message---u2f_authenticate</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-authentication-request-message---u2f_authenticate">6.1.2. FIDO U2F signature format compatibility</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="term-for-registration-response-message-success">
   <a href="https://fidoalliance.org/specs/fido-u2f-v1.1-id-20160915/fido-u2f-raw-message-formats-v1.1-id-20160915.html#registration-response-message-success">https://fidoalliance.org/specs/fido-u2f-v1.1-id-20160915/fido-u2f-raw-message-formats-v1.1-id-20160915.html#registration-response-message-success</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-registration-response-message-success">8.6. FIDO U2F Attestation Statement Format</a> <a href="#ref-for-registration-response-message-success①">(2)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="term-for-authentication-response-message-success">
   <a href="https://fidoalliance.org/specs/fido-u2f-v1.1-id-20160915/fido-u2f-raw-message-formats-v1.1-id-20160915.html#authentication-response-message-success">https://fidoalliance.org/specs/fido-u2f-v1.1-id-20160915/fido-u2f-raw-message-formats-v1.1-id-20160915.html#authentication-response-message-success</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-authentication-response-message-success">6.1.2. FIDO U2F signature format compatibility</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="term-for-coordinates_interface">
   <a href="https://dev.w3.org/geo/api/spec-source.html#coordinates_interface">https://dev.w3.org/geo/api/spec-source.html#coordinates_interface</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-coordinates_interface">10.7. Location Extension (loc)</a> <a href="#ref-for-coordinates_interface①">(2)</a> <a href="#ref-for-coordinates_interface②">(3)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="term-for-ascii-serialisation-of-an-origin">
   <a href="https://html.spec.whatwg.org/multipage/origin.html#ascii-serialisation-of-an-origin">https://html.spec.whatwg.org/multipage/origin.html#ascii-serialisation-of-an-origin</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-ascii-serialisation-of-an-origin">5.1.3. Create a new credential - PublicKeyCredential’s [[Create]](origin, options, sameOriginWithAncestors) method</a>
    <li><a href="#ref-for-ascii-serialisation-of-an-origin①">5.1.4.1. PublicKeyCredential’s [[DiscoverFromExternalSource]](origin, options, sameOriginWithAncestors) method</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="term-for-concept-origin-effective-domain">
   <a href="https://html.spec.whatwg.org/multipage/origin.html#concept-origin-effective-domain">https://html.spec.whatwg.org/multipage/origin.html#concept-origin-effective-domain</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-concept-origin-effective-domain">4. Terminology</a> <a href="#ref-for-concept-origin-effective-domain①">(2)</a> <a href="#ref-for-concept-origin-effective-domain②">(3)</a> <a href="#ref-for-concept-origin-effective-domain③">(4)</a>
    <li><a href="#ref-for-concept-origin-effective-domain④">5.1.3. Create a new credential - PublicKeyCredential’s [[Create]](origin, options, sameOriginWithAncestors) method</a> <a href="#ref-for-concept-origin-effective-domain⑤">(2)</a> <a href="#ref-for-concept-origin-effective-domain⑥">(3)</a> <a href="#ref-for-concept-origin-effective-domain⑦">(4)</a>
    <li><a href="#ref-for-concept-origin-effective-domain⑧">5.1.4.1. PublicKeyCredential’s [[DiscoverFromExternalSource]](origin, options, sameOriginWithAncestors) method</a> <a href="#ref-for-concept-origin-effective-domain⑨">(2)</a> <a href="#ref-for-concept-origin-effective-domain①⓪">(3)</a> <a href="#ref-for-concept-origin-effective-domain①①">(4)</a>
    <li><a href="#ref-for-concept-origin-effective-domain①②">5.4. Options for Credential Creation (dictionary PublicKeyCredentialCreationOptions)</a>
    <li><a href="#ref-for-concept-origin-effective-domain①③">5.5. Options for Assertion Generation (dictionary PublicKeyCredentialRequestOptions)</a>
    <li><a href="#ref-for-concept-origin-effective-domain①④">6.1. Authenticator data</a> <a href="#ref-for-concept-origin-effective-domain①⑤">(2)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="term-for-environment-settings-object">
   <a href="https://html.spec.whatwg.org/multipage/webappapis.html#environment-settings-object">https://html.spec.whatwg.org/multipage/webappapis.html#environment-settings-object</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-environment-settings-object">5.1.3. Create a new credential - PublicKeyCredential’s [[Create]](origin, options, sameOriginWithAncestors) method</a>
    <li><a href="#ref-for-environment-settings-object①">5.1.4.1. PublicKeyCredential’s [[DiscoverFromExternalSource]](origin, options, sameOriginWithAncestors) method</a>
    <li><a href="#ref-for-environment-settings-object②">5.1.5. Store an existing credential - PublicKeyCredential’s [[Store]](credential, sameOriginWithAncestors) method</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="term-for-concept-settings-object-global">
   <a href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-settings-object-global">https://html.spec.whatwg.org/multipage/webappapis.html#concept-settings-object-global</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-concept-settings-object-global">5.1.3. Create a new credential - PublicKeyCredential’s [[Create]](origin, options, sameOriginWithAncestors) method</a>
    <li><a href="#ref-for-concept-settings-object-global①">5.1.4.1. PublicKeyCredential’s [[DiscoverFromExternalSource]](origin, options, sameOriginWithAncestors) method</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="term-for-is-a-registrable-domain-suffix-of-or-is-equal-to">
   <a href="https://html.spec.whatwg.org/multipage/origin.html#is-a-registrable-domain-suffix-of-or-is-equal-to">https://html.spec.whatwg.org/multipage/origin.html#is-a-registrable-domain-suffix-of-or-is-equal-to</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-is-a-registrable-domain-suffix-of-or-is-equal-to">3. Dependencies</a>
    <li><a href="#ref-for-is-a-registrable-domain-suffix-of-or-is-equal-to①">4. Terminology</a>
    <li><a href="#ref-for-is-a-registrable-domain-suffix-of-or-is-equal-to②">5.1.3. Create a new credential - PublicKeyCredential’s [[Create]](origin, options, sameOriginWithAncestors) method</a>
    <li><a href="#ref-for-is-a-registrable-domain-suffix-of-or-is-equal-to③">5.1.4.1. PublicKeyCredential’s [[DiscoverFromExternalSource]](origin, options, sameOriginWithAncestors) method</a>
    <li><a href="#ref-for-is-a-registrable-domain-suffix-of-or-is-equal-to④">6.1. Authenticator data</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="term-for-is-a-registrable-domain-suffix-of-or-is-equal-to">
   <a href="https://html.spec.whatwg.org/multipage/origin.html#is-a-registrable-domain-suffix-of-or-is-equal-to">https://html.spec.whatwg.org/multipage/origin.html#is-a-registrable-domain-suffix-of-or-is-equal-to</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-is-a-registrable-domain-suffix-of-or-is-equal-to">3. Dependencies</a>
    <li><a href="#ref-for-is-a-registrable-domain-suffix-of-or-is-equal-to①">4. Terminology</a>
    <li><a href="#ref-for-is-a-registrable-domain-suffix-of-or-is-equal-to②">5.1.3. Create a new credential - PublicKeyCredential’s [[Create]](origin, options, sameOriginWithAncestors) method</a>
    <li><a href="#ref-for-is-a-registrable-domain-suffix-of-or-is-equal-to③">5.1.4.1. PublicKeyCredential’s [[DiscoverFromExternalSource]](origin, options, sameOriginWithAncestors) method</a>
    <li><a href="#ref-for-is-a-registrable-domain-suffix-of-or-is-equal-to④">6.1. Authenticator data</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="term-for-concept-settings-object-origin">
   <a href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-settings-object-origin">https://html.spec.whatwg.org/multipage/webappapis.html#concept-settings-object-origin</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-concept-settings-object-origin">4. Terminology</a> <a href="#ref-for-concept-settings-object-origin①">(2)</a>
    <li><a href="#ref-for-concept-settings-object-origin②">5.1.3. Create a new credential - PublicKeyCredential’s [[Create]](origin, options, sameOriginWithAncestors) method</a> <a href="#ref-for-concept-settings-object-origin③">(2)</a>
    <li><a href="#ref-for-concept-settings-object-origin④">5.1.4.1. PublicKeyCredential’s [[DiscoverFromExternalSource]](origin, options, sameOriginWithAncestors) method</a> <a href="#ref-for-concept-settings-object-origin⑤">(2)</a>
    <li><a href="#ref-for-concept-settings-object-origin⑥">5.4. Options for Credential Creation (dictionary PublicKeyCredentialCreationOptions)</a>
    <li><a href="#ref-for-concept-settings-object-origin⑦">5.5. Options for Assertion Generation (dictionary PublicKeyCredentialRequestOptions)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="term-for-relevant-settings-object">
   <a href="https://html.spec.whatwg.org/multipage/webappapis.html#relevant-settings-object">https://html.spec.whatwg.org/multipage/webappapis.html#relevant-settings-object</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-relevant-settings-object">3. Dependencies</a>
    <li><a href="#ref-for-relevant-settings-object①">5.1.3. Create a new credential - PublicKeyCredential’s [[Create]](origin, options, sameOriginWithAncestors) method</a>
    <li><a href="#ref-for-relevant-settings-object②">5.1.4.1. PublicKeyCredential’s [[DiscoverFromExternalSource]](origin, options, sameOriginWithAncestors) method</a>
    <li><a href="#ref-for-relevant-settings-object③">5.4. Options for Credential Creation (dictionary PublicKeyCredentialCreationOptions)</a>
    <li><a href="#ref-for-relevant-settings-object④">5.5. Options for Assertion Generation (dictionary PublicKeyCredentialRequestOptions)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="term-for-dom-document-domain">
   <a href="https://w3c.github.io/html/browsers.html#dom-document-domain">https://w3c.github.io/html/browsers.html#dom-document-domain</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-document-domain">4. Terminology</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="term-for-opaque-origin">
   <a href="https://w3c.github.io/html/browsers.html#opaque-origin">https://w3c.github.io/html/browsers.html#opaque-origin</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-opaque-origin">3. Dependencies</a>
    <li><a href="#ref-for-opaque-origin①">5.1.3. Create a new credential - PublicKeyCredential’s [[Create]](origin, options, sameOriginWithAncestors) method</a>
    <li><a href="#ref-for-opaque-origin②">5.1.4.1. PublicKeyCredential’s [[DiscoverFromExternalSource]](origin, options, sameOriginWithAncestors) method</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="term-for-concept-cross-origin">
   <a href="https://w3c.github.io/html/browsers.html#concept-cross-origin">https://w3c.github.io/html/browsers.html#concept-cross-origin</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-concept-cross-origin">1. Introduction</a>
    <li><a href="#ref-for-concept-cross-origin①">3. Dependencies</a>
    <li><a href="#ref-for-concept-cross-origin②">4. Terminology</a> <a href="#ref-for-concept-cross-origin③">(2)</a> <a href="#ref-for-concept-cross-origin④">(3)</a>
    <li><a href="#ref-for-concept-cross-origin⑤">5. Web Authentication API</a> <a href="#ref-for-concept-cross-origin⑥">(2)</a> <a href="#ref-for-concept-cross-origin⑦">(3)</a> <a href="#ref-for-concept-cross-origin⑧">(4)</a> <a href="#ref-for-concept-cross-origin⑨">(5)</a> <a href="#ref-for-concept-cross-origin①⓪">(6)</a> <a href="#ref-for-concept-cross-origin①①">(7)</a>
    <li><a href="#ref-for-concept-cross-origin①②">5.10.1. Client data used in WebAuthn signatures (dictionary CollectedClientData)</a>
    <li><a href="#ref-for-concept-cross-origin①③">6.1. Authenticator data</a>
    <li><a href="#ref-for-concept-cross-origin①④">7.1. Registering a new credential</a>
    <li><a href="#ref-for-concept-cross-origin①⑤">7.2. Verifying an authentication assertion</a>
    <li><a href="#ref-for-concept-cross-origin①⑥">10.1. FIDO AppID Extension (appid)</a>
    <li><a href="#ref-for-concept-cross-origin①⑦">12.3. Authentication</a>
    <li><a href="#ref-for-concept-cross-origin①⑧">14.1. Attestation Privacy</a> <a href="#ref-for-concept-cross-origin①⑨">(2)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="term-for-set-append">
   <a href="https://infra.spec.whatwg.org/#set-append">https://infra.spec.whatwg.org/#set-append</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-set-append">5.1.3. Create a new credential - PublicKeyCredential’s [[Create]](origin, options, sameOriginWithAncestors) method</a>
    <li><a href="#ref-for-set-append①">5.1.4.1. PublicKeyCredential’s [[DiscoverFromExternalSource]](origin, options, sameOriginWithAncestors) method</a> <a href="#ref-for-set-append②">(2)</a>
    <li><a href="#ref-for-set-append③">6.2.3.  The authenticatorGetAssertion operation</a> <a href="#ref-for-set-append④">(2)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="term-for-byte-sequence">
   <a href="https://infra.spec.whatwg.org/#byte-sequence">https://infra.spec.whatwg.org/#byte-sequence</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-byte-sequence">4. Terminology</a> <a href="#ref-for-byte-sequence①">(2)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="term-for-iteration-continue">
   <a href="https://infra.spec.whatwg.org/#iteration-continue">https://infra.spec.whatwg.org/#iteration-continue</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-iteration-continue">5.1.3. Create a new credential - PublicKeyCredential’s [[Create]](origin, options, sameOriginWithAncestors) method</a> <a href="#ref-for-iteration-continue①">(2)</a> <a href="#ref-for-iteration-continue②">(3)</a> <a href="#ref-for-iteration-continue③">(4)</a> <a href="#ref-for-iteration-continue④">(5)</a> <a href="#ref-for-iteration-continue⑤">(6)</a> <a href="#ref-for-iteration-continue⑥">(7)</a> <a href="#ref-for-iteration-continue⑦">(8)</a>
    <li><a href="#ref-for-iteration-continue⑧">5.1.4.1. PublicKeyCredential’s [[DiscoverFromExternalSource]](origin, options, sameOriginWithAncestors) method</a> <a href="#ref-for-iteration-continue⑨">(2)</a> <a href="#ref-for-iteration-continue①⓪">(3)</a> <a href="#ref-for-iteration-continue①①">(4)</a> <a href="#ref-for-iteration-continue①②">(5)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="term-for-map-iterate">
   <a href="https://infra.spec.whatwg.org/#map-iterate">https://infra.spec.whatwg.org/#map-iterate</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-map-iterate">5.1.3. Create a new credential - PublicKeyCredential’s [[Create]](origin, options, sameOriginWithAncestors) method</a>
    <li><a href="#ref-for-map-iterate①">5.1.4.1. PublicKeyCredential’s [[DiscoverFromExternalSource]](origin, options, sameOriginWithAncestors) method</a>
    <li><a href="#ref-for-map-iterate②">6.2.1. Lookup Credential Source by Credential ID algorithm</a>
    <li><a href="#ref-for-map-iterate③">6.2.2. The authenticatorMakeCredential operation</a>
    <li><a href="#ref-for-map-iterate④">6.2.3.  The authenticatorGetAssertion operation</a> <a href="#ref-for-map-iterate⑤">(2)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="term-for-list-is-empty">
   <a href="https://infra.spec.whatwg.org/#list-is-empty">https://infra.spec.whatwg.org/#list-is-empty</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-list-is-empty">5.1.3. Create a new credential - PublicKeyCredential’s [[Create]](origin, options, sameOriginWithAncestors) method</a> <a href="#ref-for-list-is-empty①">(2)</a> <a href="#ref-for-list-is-empty②">(3)</a>
    <li><a href="#ref-for-list-is-empty③">5.1.4.1. PublicKeyCredential’s [[DiscoverFromExternalSource]](origin, options, sameOriginWithAncestors) method</a> <a href="#ref-for-list-is-empty④">(2)</a> <a href="#ref-for-list-is-empty⑤">(3)</a> <a href="#ref-for-list-is-empty⑥">(4)</a> <a href="#ref-for-list-is-empty⑦">(5)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="term-for-list-is-empty">
   <a href="https://infra.spec.whatwg.org/#list-is-empty">https://infra.spec.whatwg.org/#list-is-empty</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-list-is-empty">5.1.3. Create a new credential - PublicKeyCredential’s [[Create]](origin, options, sameOriginWithAncestors) method</a> <a href="#ref-for-list-is-empty①">(2)</a> <a href="#ref-for-list-is-empty②">(3)</a>
    <li><a href="#ref-for-list-is-empty③">5.1.4.1. PublicKeyCredential’s [[DiscoverFromExternalSource]](origin, options, sameOriginWithAncestors) method</a> <a href="#ref-for-list-is-empty④">(2)</a> <a href="#ref-for-list-is-empty⑤">(3)</a> <a href="#ref-for-list-is-empty⑥">(4)</a> <a href="#ref-for-list-is-empty⑦">(5)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="term-for-struct-item">
   <a href="https://infra.spec.whatwg.org/#struct-item">https://infra.spec.whatwg.org/#struct-item</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-struct-item">4. Terminology</a> <a href="#ref-for-struct-item①">(2)</a>
    <li><a href="#ref-for-struct-item②">5.1.3. Create a new credential - PublicKeyCredential’s [[Create]](origin, options, sameOriginWithAncestors) method</a>
    <li><a href="#ref-for-struct-item③">5.1.4.1. PublicKeyCredential’s [[DiscoverFromExternalSource]](origin, options, sameOriginWithAncestors) method</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="term-for-list">
   <a href="https://infra.spec.whatwg.org/#list">https://infra.spec.whatwg.org/#list</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-list">5.1.3. Create a new credential - PublicKeyCredential’s [[Create]](origin, options, sameOriginWithAncestors) method</a> <a href="#ref-for-list①">(2)</a>
    <li><a href="#ref-for-list②">5.1.4.1. PublicKeyCredential’s [[DiscoverFromExternalSource]](origin, options, sameOriginWithAncestors) method</a>
    <li><a href="#ref-for-list③">6.2.3.  The authenticatorGetAssertion operation</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="term-for-ordered-map">
   <a href="https://infra.spec.whatwg.org/#ordered-map">https://infra.spec.whatwg.org/#ordered-map</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-ordered-map">5.1. PublicKeyCredential Interface</a>
    <li><a href="#ref-for-ordered-map①">5.1.3. Create a new credential - PublicKeyCredential’s [[Create]](origin, options, sameOriginWithAncestors) method</a> <a href="#ref-for-ordered-map②">(2)</a>
    <li><a href="#ref-for-ordered-map③">5.1.4.1. PublicKeyCredential’s [[DiscoverFromExternalSource]](origin, options, sameOriginWithAncestors) method</a> <a href="#ref-for-ordered-map④">(2)</a> <a href="#ref-for-ordered-map⑤">(3)</a>
    <li><a href="#ref-for-ordered-map⑥">6. WebAuthn Authenticator Model</a>
    <li><a href="#ref-for-ordered-map⑦">6.2.2. The authenticatorMakeCredential operation</a>
    <li><a href="#ref-for-ordered-map⑧">6.2.3.  The authenticatorGetAssertion operation</a>
    <li><a href="#ref-for-ordered-map⑨">9.4. Client extension processing</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="term-for-ordered-set">
   <a href="https://infra.spec.whatwg.org/#ordered-set">https://infra.spec.whatwg.org/#ordered-set</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-ordered-set">5.1.3. Create a new credential - PublicKeyCredential’s [[Create]](origin, options, sameOriginWithAncestors) method</a> <a href="#ref-for-ordered-set①">(2)</a>
    <li><a href="#ref-for-ordered-set②">5.1.4.1. PublicKeyCredential’s [[DiscoverFromExternalSource]](origin, options, sameOriginWithAncestors) method</a> <a href="#ref-for-ordered-set③">(2)</a> <a href="#ref-for-ordered-set④">(3)</a> <a href="#ref-for-ordered-set⑤">(4)</a>
    <li><a href="#ref-for-ordered-set⑥">6.2.3.  The authenticatorGetAssertion operation</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="term-for-list-remove">
   <a href="https://infra.spec.whatwg.org/#list-remove">https://infra.spec.whatwg.org/#list-remove</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-list-remove">5.1.3. Create a new credential - PublicKeyCredential’s [[Create]](origin, options, sameOriginWithAncestors) method</a> <a href="#ref-for-list-remove①">(2)</a> <a href="#ref-for-list-remove②">(3)</a> <a href="#ref-for-list-remove③">(4)</a> <a href="#ref-for-list-remove④">(5)</a> <a href="#ref-for-list-remove⑤">(6)</a> <a href="#ref-for-list-remove⑥">(7)</a> <a href="#ref-for-list-remove⑦">(8)</a> <a href="#ref-for-list-remove⑧">(9)</a> <a href="#ref-for-list-remove⑨">(10)</a>
    <li><a href="#ref-for-list-remove①⓪">5.1.4.1. PublicKeyCredential’s [[DiscoverFromExternalSource]](origin, options, sameOriginWithAncestors) method</a> <a href="#ref-for-list-remove①①">(2)</a> <a href="#ref-for-list-remove①②">(3)</a> <a href="#ref-for-list-remove①③">(4)</a> <a href="#ref-for-list-remove①④">(5)</a> <a href="#ref-for-list-remove①⑤">(6)</a> <a href="#ref-for-list-remove①⑥">(7)</a> <a href="#ref-for-list-remove①⑦">(8)</a>
    <li><a href="#ref-for-list-remove①⑧">6.2.3.  The authenticatorGetAssertion operation</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="term-for-map-set">
   <a href="https://infra.spec.whatwg.org/#map-set">https://infra.spec.whatwg.org/#map-set</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-map-set">5.1.3. Create a new credential - PublicKeyCredential’s [[Create]](origin, options, sameOriginWithAncestors) method</a> <a href="#ref-for-map-set①">(2)</a>
    <li><a href="#ref-for-map-set②">5.1.4.1. PublicKeyCredential’s [[DiscoverFromExternalSource]](origin, options, sameOriginWithAncestors) method</a> <a href="#ref-for-map-set③">(2)</a>
    <li><a href="#ref-for-map-set④">6.2.2. The authenticatorMakeCredential operation</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="term-for-struct">
   <a href="https://infra.spec.whatwg.org/#struct">https://infra.spec.whatwg.org/#struct</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-struct">4. Terminology</a>
    <li><a href="#ref-for-struct①">5.1.3. Create a new credential - PublicKeyCredential’s [[Create]](origin, options, sameOriginWithAncestors) method</a>
    <li><a href="#ref-for-struct②">5.1.4.1. PublicKeyCredential’s [[DiscoverFromExternalSource]](origin, options, sameOriginWithAncestors) method</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="term-for-iteration-while">
   <a href="https://infra.spec.whatwg.org/#iteration-while">https://infra.spec.whatwg.org/#iteration-while</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-iteration-while">5.1.3. Create a new credential - PublicKeyCredential’s [[Create]](origin, options, sameOriginWithAncestors) method</a>
    <li><a href="#ref-for-iteration-while①">5.1.4.1. PublicKeyCredential’s [[DiscoverFromExternalSource]](origin, options, sameOriginWithAncestors) method</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="term-for-willful-violation">
   <a href="https://infra.spec.whatwg.org/#willful-violation">https://infra.spec.whatwg.org/#willful-violation</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-willful-violation">4. Terminology</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="term-for-a-priori-authenticated-url">
   <a href="https://w3c.github.io/webappsec-mixed-content/#a-priori-authenticated-url">https://w3c.github.io/webappsec-mixed-content/#a-priori-authenticated-url</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-a-priori-authenticated-url">5.4.1. Public Key Entity Description (dictionary PublicKeyCredentialEntity)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="term-for-visibility-states">
   <a href="https://www.w3.org/TR/page-visibility/#visibility-states">https://www.w3.org/TR/page-visibility/#visibility-states</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-visibility-states">5.6. Abort operations with AbortSignal</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="term-for-page-182">
   <a href="https://tools.ietf.org/html/rfc4949#page-182">https://tools.ietf.org/html/rfc4949#page-182</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-page-182">13.3.1. Considerations for Self and None Attestation Types and Ignoring Attestation</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="term-for-page-186">
   <a href="https://tools.ietf.org/html/rfc4949#page-186">https://tools.ietf.org/html/rfc4949#page-186</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-page-186">13.3. Security Benefits for Relying Parties</a>
    <li><a href="#ref-for-page-186①">13.3.1. Considerations for Self and None Attestation Types and Ignoring Attestation</a> <a href="#ref-for-page-186②">(2)</a> <a href="#ref-for-page-186③">(3)</a> <a href="#ref-for-page-186④">(4)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="term-for-section-7">
   <a href="https://tools.ietf.org/html/rfc8152#section-7">https://tools.ietf.org/html/rfc8152#section-7</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-section-7">6.3.1. Attested credential data</a>
    <li><a href="#ref-for-section-7①">6.3.1.1. Examples of credentialPublicKey Values encoded in COSE_Key format</a>
    <li><a href="#ref-for-section-7②">8.6. FIDO U2F Attestation Statement Format</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="term-for-secure-contexts">
   <a href="https://w3c.github.io/webappsec-secure-contexts/#secure-contexts">https://w3c.github.io/webappsec-secure-contexts/#secure-contexts</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-secure-contexts">5. Web Authentication API</a>
    <li><a href="#ref-for-secure-contexts①">5.1.3. Create a new credential - PublicKeyCredential’s [[Create]](origin, options, sameOriginWithAncestors) method</a>
    <li><a href="#ref-for-secure-contexts②">5.1.4.1. PublicKeyCredential’s [[DiscoverFromExternalSource]](origin, options, sameOriginWithAncestors) method</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="term-for-token-binding">
   <a href="https://tools.ietf.org/html/draft-ietf-tokbind-protocol#token-binding">https://tools.ietf.org/html/draft-ietf-tokbind-protocol#token-binding</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-token-binding">5.1.3. Create a new credential - PublicKeyCredential’s [[Create]](origin, options, sameOriginWithAncestors) method</a>
    <li><a href="#ref-for-token-binding①">5.1.4.1. PublicKeyCredential’s [[DiscoverFromExternalSource]](origin, options, sameOriginWithAncestors) method</a>
    <li><a href="#ref-for-token-binding②">5.10.1. Client data used in WebAuthn signatures (dictionary CollectedClientData)</a>
    <li><a href="#ref-for-token-binding③">7.1. Registering a new credential</a> <a href="#ref-for-token-binding④">(2)</a>
    <li><a href="#ref-for-token-binding⑤">7.2. Verifying an authentication assertion</a> <a href="#ref-for-token-binding⑥">(2)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="term-for-section-3.2">
   <a href="https://tools.ietf.org/html/draft-ietf-tokbind-protocol#section-3.2">https://tools.ietf.org/html/draft-ietf-tokbind-protocol#section-3.2</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-section-3.2">5.1.3. Create a new credential - PublicKeyCredential’s [[Create]](origin, options, sameOriginWithAncestors) method</a>
    <li><a href="#ref-for-section-3.2①">5.1.4.1. PublicKeyCredential’s [[DiscoverFromExternalSource]](origin, options, sameOriginWithAncestors) method</a>
    <li><a href="#ref-for-section-3.2②">5.10.1. Client data used in WebAuthn signatures (dictionary CollectedClientData)</a>
    <li><a href="#ref-for-section-3.2③">7.1. Registering a new credential</a>
    <li><a href="#ref-for-section-3.2④">7.2. Verifying an authentication assertion</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="term-for-concept-domain">
   <a href="https://url.spec.whatwg.org/#concept-domain">https://url.spec.whatwg.org/#concept-domain</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-concept-domain">5.1.3. Create a new credential - PublicKeyCredential’s [[Create]](origin, options, sameOriginWithAncestors) method</a> <a href="#ref-for-concept-domain①">(2)</a>
    <li><a href="#ref-for-concept-domain②">5.1.4.1. PublicKeyCredential’s [[DiscoverFromExternalSource]](origin, options, sameOriginWithAncestors) method</a> <a href="#ref-for-concept-domain③">(2)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="term-for-empty-host">
   <a href="https://url.spec.whatwg.org/#empty-host">https://url.spec.whatwg.org/#empty-host</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-empty-host">5.1.3. Create a new credential - PublicKeyCredential’s [[Create]](origin, options, sameOriginWithAncestors) method</a>
    <li><a href="#ref-for-empty-host①">5.1.4.1. PublicKeyCredential’s [[DiscoverFromExternalSource]](origin, options, sameOriginWithAncestors) method</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="term-for-concept-url-host">
   <a href="https://url.spec.whatwg.org/#concept-url-host">https://url.spec.whatwg.org/#concept-url-host</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-concept-url-host">5.1.3. Create a new credential - PublicKeyCredential’s [[Create]](origin, options, sameOriginWithAncestors) method</a> <a href="#ref-for-concept-url-host①">(2)</a>
    <li><a href="#ref-for-concept-url-host②">5.1.4.1. PublicKeyCredential’s [[DiscoverFromExternalSource]](origin, options, sameOriginWithAncestors) method</a> <a href="#ref-for-concept-url-host③">(2)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="term-for-concept-ipv4">
   <a href="https://url.spec.whatwg.org/#concept-ipv4">https://url.spec.whatwg.org/#concept-ipv4</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-concept-ipv4">5.1.3. Create a new credential - PublicKeyCredential’s [[Create]](origin, options, sameOriginWithAncestors) method</a>
    <li><a href="#ref-for-concept-ipv4①">5.1.4.1. PublicKeyCredential’s [[DiscoverFromExternalSource]](origin, options, sameOriginWithAncestors) method</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="term-for-concept-ipv6">
   <a href="https://url.spec.whatwg.org/#concept-ipv6">https://url.spec.whatwg.org/#concept-ipv6</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-concept-ipv6">5.1.3. Create a new credential - PublicKeyCredential’s [[Create]](origin, options, sameOriginWithAncestors) method</a>
    <li><a href="#ref-for-concept-ipv6①">5.1.4.1. PublicKeyCredential’s [[DiscoverFromExternalSource]](origin, options, sameOriginWithAncestors) method</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="term-for-opaque-host">
   <a href="https://url.spec.whatwg.org/#opaque-host">https://url.spec.whatwg.org/#opaque-host</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-opaque-host">5.1.3. Create a new credential - PublicKeyCredential’s [[Create]](origin, options, sameOriginWithAncestors) method</a>
    <li><a href="#ref-for-opaque-host①">5.1.4.1. PublicKeyCredential’s [[DiscoverFromExternalSource]](origin, options, sameOriginWithAncestors) method</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="term-for-concept-url-serializer">
   <a href="https://url.spec.whatwg.org/#concept-url-serializer">https://url.spec.whatwg.org/#concept-url-serializer</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-concept-url-serializer">5.4.1. Public Key Entity Description (dictionary PublicKeyCredentialEntity)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="term-for-valid-domain">
   <a href="https://url.spec.whatwg.org/#valid-domain">https://url.spec.whatwg.org/#valid-domain</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-valid-domain">5.1.3. Create a new credential - PublicKeyCredential’s [[Create]](origin, options, sameOriginWithAncestors) method</a>
    <li><a href="#ref-for-valid-domain①">5.1.4.1. PublicKeyCredential’s [[DiscoverFromExternalSource]](origin, options, sameOriginWithAncestors) method</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="term-for-valid-domain-string">
   <a href="https://url.spec.whatwg.org/#valid-domain-string">https://url.spec.whatwg.org/#valid-domain-string</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-valid-domain-string">4. Terminology</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="term-for-aborterror">
   <a href="https://heycam.github.io/webidl/#aborterror">https://heycam.github.io/webidl/#aborterror</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-aborterror">5.1.3. Create a new credential - PublicKeyCredential’s [[Create]](origin, options, sameOriginWithAncestors) method</a> <a href="#ref-for-aborterror①">(2)</a>
    <li><a href="#ref-for-aborterror②">5.1.4.1. PublicKeyCredential’s [[DiscoverFromExternalSource]](origin, options, sameOriginWithAncestors) method</a> <a href="#ref-for-aborterror③">(2)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="term-for-idl-ArrayBuffer">
   <a href="https://heycam.github.io/webidl/#idl-ArrayBuffer">https://heycam.github.io/webidl/#idl-ArrayBuffer</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-idl-ArrayBuffer">5.1. PublicKeyCredential Interface</a> <a href="#ref-for-idl-ArrayBuffer①">(2)</a>
    <li><a href="#ref-for-idl-ArrayBuffer②">5.1.3. Create a new credential - PublicKeyCredential’s [[Create]](origin, options, sameOriginWithAncestors) method</a> <a href="#ref-for-idl-ArrayBuffer③">(2)</a> <a href="#ref-for-idl-ArrayBuffer④">(3)</a>
    <li><a href="#ref-for-idl-ArrayBuffer⑤">5.1.4.1. PublicKeyCredential’s [[DiscoverFromExternalSource]](origin, options, sameOriginWithAncestors) method</a> <a href="#ref-for-idl-ArrayBuffer⑥">(2)</a> <a href="#ref-for-idl-ArrayBuffer⑦">(3)</a> <a href="#ref-for-idl-ArrayBuffer⑧">(4)</a> <a href="#ref-for-idl-ArrayBuffer⑨">(5)</a> <a href="#ref-for-idl-ArrayBuffer①⓪">(6)</a>
    <li><a href="#ref-for-idl-ArrayBuffer①①">5.2. Authenticator Responses (interface AuthenticatorResponse)</a> <a href="#ref-for-idl-ArrayBuffer①②">(2)</a>
    <li><a href="#ref-for-idl-ArrayBuffer①③">5.2.1. Information about Public Key Credential (interface AuthenticatorAttestationResponse)</a> <a href="#ref-for-idl-ArrayBuffer①④">(2)</a>
    <li><a href="#ref-for-idl-ArrayBuffer①⑤">5.2.2. Web Authentication Assertion (interface AuthenticatorAssertionResponse)</a> <a href="#ref-for-idl-ArrayBuffer①⑥">(2)</a> <a href="#ref-for-idl-ArrayBuffer①⑦">(3)</a> <a href="#ref-for-idl-ArrayBuffer①⑧">(4)</a> <a href="#ref-for-idl-ArrayBuffer①⑨">(5)</a> <a href="#ref-for-idl-ArrayBuffer②⓪">(6)</a>
    <li><a href="#ref-for-idl-ArrayBuffer②①">10.3. Generic Transaction Authorization Extension (txAuthGeneric)</a> <a href="#ref-for-idl-ArrayBuffer②②">(2)</a>
    <li><a href="#ref-for-idl-ArrayBuffer②③">10.6. User Verification Index Extension (uvi)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="term-for-BufferSource">
   <a href="https://heycam.github.io/webidl/#BufferSource">https://heycam.github.io/webidl/#BufferSource</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-BufferSource">5.4. Options for Credential Creation (dictionary PublicKeyCredentialCreationOptions)</a> <a href="#ref-for-BufferSource①">(2)</a>
    <li><a href="#ref-for-BufferSource②">5.4.3. User Account Parameters for Credential Generation (dictionary PublicKeyCredentialUserEntity)</a> <a href="#ref-for-BufferSource③">(2)</a>
    <li><a href="#ref-for-BufferSource④">5.5. Options for Assertion Generation (dictionary PublicKeyCredentialRequestOptions)</a> <a href="#ref-for-BufferSource⑤">(2)</a>
    <li><a href="#ref-for-BufferSource⑥">5.10.3. Credential Descriptor (dictionary PublicKeyCredentialDescriptor)</a> <a href="#ref-for-BufferSource⑦">(2)</a>
    <li><a href="#ref-for-BufferSource⑧">10.4. Authenticator Selection Extension (authnSel)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="term-for-constrainterror">
   <a href="https://heycam.github.io/webidl/#constrainterror">https://heycam.github.io/webidl/#constrainterror</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-constrainterror">6.2.2. The authenticatorMakeCredential operation</a> <a href="#ref-for-constrainterror①">(2)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="term-for-idl-DOMException">
   <a href="https://heycam.github.io/webidl/#idl-DOMException">https://heycam.github.io/webidl/#idl-DOMException</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-idl-DOMException">3. Dependencies</a>
    <li><a href="#ref-for-idl-DOMException①">5.1.3. Create a new credential - PublicKeyCredential’s [[Create]](origin, options, sameOriginWithAncestors) method</a> <a href="#ref-for-idl-DOMException②">(2)</a> <a href="#ref-for-idl-DOMException③">(3)</a> <a href="#ref-for-idl-DOMException④">(4)</a> <a href="#ref-for-idl-DOMException⑤">(5)</a> <a href="#ref-for-idl-DOMException⑥">(6)</a> <a href="#ref-for-idl-DOMException⑦">(7)</a> <a href="#ref-for-idl-DOMException⑧">(8)</a> <a href="#ref-for-idl-DOMException⑨">(9)</a>
    <li><a href="#ref-for-idl-DOMException①⓪">5.1.4.1. PublicKeyCredential’s [[DiscoverFromExternalSource]](origin, options, sameOriginWithAncestors) method</a> <a href="#ref-for-idl-DOMException①①">(2)</a> <a href="#ref-for-idl-DOMException①②">(3)</a> <a href="#ref-for-idl-DOMException①③">(4)</a> <a href="#ref-for-idl-DOMException①④">(5)</a> <a href="#ref-for-idl-DOMException①⑤">(6)</a> <a href="#ref-for-idl-DOMException①⑥">(7)</a>
    <li><a href="#ref-for-idl-DOMException①⑦">5.1.5. Store an existing credential - PublicKeyCredential’s [[Store]](credential, sameOriginWithAncestors) method</a>
    <li><a href="#ref-for-idl-DOMException①⑧">10.1. FIDO AppID Extension (appid)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="term-for-idl-DOMString">
   <a href="https://heycam.github.io/webidl/#idl-DOMString">https://heycam.github.io/webidl/#idl-DOMString</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-idl-DOMString">5.4.1. Public Key Entity Description (dictionary PublicKeyCredentialEntity)</a> <a href="#ref-for-idl-DOMString①">(2)</a>
    <li><a href="#ref-for-idl-DOMString②">5.4.2. RP Parameters for Credential Generation (dictionary PublicKeyCredentialRpEntity)</a> <a href="#ref-for-idl-DOMString③">(2)</a>
    <li><a href="#ref-for-idl-DOMString④">5.4.3. User Account Parameters for Credential Generation (dictionary PublicKeyCredentialUserEntity)</a> <a href="#ref-for-idl-DOMString⑤">(2)</a>
    <li><a href="#ref-for-idl-DOMString⑥">5.9. Authentication Extensions Authenticator Inputs (typedef AuthenticationExtensionsAuthenticatorInputs)</a> <a href="#ref-for-idl-DOMString⑦">(2)</a>
    <li><a href="#ref-for-idl-DOMString⑧">5.10.1. Client data used in WebAuthn signatures (dictionary CollectedClientData)</a> <a href="#ref-for-idl-DOMString⑨">(2)</a> <a href="#ref-for-idl-DOMString①⓪">(3)</a> <a href="#ref-for-idl-DOMString①①">(4)</a> <a href="#ref-for-idl-DOMString①②">(5)</a> <a href="#ref-for-idl-DOMString①③">(6)</a> <a href="#ref-for-idl-DOMString①④">(7)</a> <a href="#ref-for-idl-DOMString①⑤">(8)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="term-for-Exposed">
   <a href="https://heycam.github.io/webidl/#Exposed">https://heycam.github.io/webidl/#Exposed</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-Exposed">5.1. PublicKeyCredential Interface</a>
    <li><a href="#ref-for-Exposed①">5.2. Authenticator Responses (interface AuthenticatorResponse)</a>
    <li><a href="#ref-for-Exposed②">5.2.1. Information about Public Key Credential (interface AuthenticatorAttestationResponse)</a>
    <li><a href="#ref-for-Exposed③">5.2.2. Web Authentication Assertion (interface AuthenticatorAssertionResponse)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="term-for-invalidstateerror">
   <a href="https://heycam.github.io/webidl/#invalidstateerror">https://heycam.github.io/webidl/#invalidstateerror</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-invalidstateerror">5.1.3. Create a new credential - PublicKeyCredential’s [[Create]](origin, options, sameOriginWithAncestors) method</a> <a href="#ref-for-invalidstateerror①">(2)</a> <a href="#ref-for-invalidstateerror②">(3)</a>
    <li><a href="#ref-for-invalidstateerror③">6.2.2. The authenticatorMakeCredential operation</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="term-for-notallowederror">
   <a href="https://heycam.github.io/webidl/#notallowederror">https://heycam.github.io/webidl/#notallowederror</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-notallowederror">5.1.3. Create a new credential - PublicKeyCredential’s [[Create]](origin, options, sameOriginWithAncestors) method</a> <a href="#ref-for-notallowederror①">(2)</a> <a href="#ref-for-notallowederror②">(3)</a>
    <li><a href="#ref-for-notallowederror③">5.1.4.1. PublicKeyCredential’s [[DiscoverFromExternalSource]](origin, options, sameOriginWithAncestors) method</a> <a href="#ref-for-notallowederror④">(2)</a> <a href="#ref-for-notallowederror⑤">(3)</a>
    <li><a href="#ref-for-notallowederror⑥">6.2.2. The authenticatorMakeCredential operation</a> <a href="#ref-for-notallowederror⑦">(2)</a>
    <li><a href="#ref-for-notallowederror⑧">6.2.3.  The authenticatorGetAssertion operation</a> <a href="#ref-for-notallowederror⑨">(2)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="term-for-notsupportederror">
   <a href="https://heycam.github.io/webidl/#notsupportederror">https://heycam.github.io/webidl/#notsupportederror</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-notsupportederror">5.1.3. Create a new credential - PublicKeyCredential’s [[Create]](origin, options, sameOriginWithAncestors) method</a>
    <li><a href="#ref-for-notsupportederror①">5.1.5. Store an existing credential - PublicKeyCredential’s [[Store]](credential, sameOriginWithAncestors) method</a>
    <li><a href="#ref-for-notsupportederror②">6.2.2. The authenticatorMakeCredential operation</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="term-for-idl-promise">
   <a href="https://heycam.github.io/webidl/#idl-promise">https://heycam.github.io/webidl/#idl-promise</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-idl-promise">3. Dependencies</a>
    <li><a href="#ref-for-idl-promise①">5.1.3. Create a new credential - PublicKeyCredential’s [[Create]](origin, options, sameOriginWithAncestors) method</a>
    <li><a href="#ref-for-idl-promise②">5.1.4.1. PublicKeyCredential’s [[DiscoverFromExternalSource]](origin, options, sameOriginWithAncestors) method</a>
    <li><a href="#ref-for-idl-promise③">5.1.5. Store an existing credential - PublicKeyCredential’s [[Store]](credential, sameOriginWithAncestors) method</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="term-for-SameObject">
   <a href="https://heycam.github.io/webidl/#SameObject">https://heycam.github.io/webidl/#SameObject</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-SameObject">5.1. PublicKeyCredential Interface</a> <a href="#ref-for-SameObject①">(2)</a>
    <li><a href="#ref-for-SameObject②">5.2. Authenticator Responses (interface AuthenticatorResponse)</a>
    <li><a href="#ref-for-SameObject③">5.2.1. Information about Public Key Credential (interface AuthenticatorAttestationResponse)</a>
    <li><a href="#ref-for-SameObject④">5.2.2. Web Authentication Assertion (interface AuthenticatorAssertionResponse)</a> <a href="#ref-for-SameObject⑤">(2)</a> <a href="#ref-for-SameObject⑥">(3)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="term-for-SecureContext">
   <a href="https://heycam.github.io/webidl/#SecureContext">https://heycam.github.io/webidl/#SecureContext</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-SecureContext">5.1. PublicKeyCredential Interface</a>
    <li><a href="#ref-for-SecureContext①">5.2. Authenticator Responses (interface AuthenticatorResponse)</a>
    <li><a href="#ref-for-SecureContext②">5.2.1. Information about Public Key Credential (interface AuthenticatorAttestationResponse)</a>
    <li><a href="#ref-for-SecureContext③">5.2.2. Web Authentication Assertion (interface AuthenticatorAssertionResponse)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="term-for-securityerror">
   <a href="https://heycam.github.io/webidl/#securityerror">https://heycam.github.io/webidl/#securityerror</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-securityerror">5.1.3. Create a new credential - PublicKeyCredential’s [[Create]](origin, options, sameOriginWithAncestors) method</a> <a href="#ref-for-securityerror①">(2)</a>
    <li><a href="#ref-for-securityerror②">5.1.4.1. PublicKeyCredential’s [[DiscoverFromExternalSource]](origin, options, sameOriginWithAncestors) method</a> <a href="#ref-for-securityerror③">(2)</a>
    <li><a href="#ref-for-securityerror④">10.1. FIDO AppID Extension (appid)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="term-for-idl-USVString">
   <a href="https://heycam.github.io/webidl/#idl-USVString">https://heycam.github.io/webidl/#idl-USVString</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-idl-USVString">5.4.1. Public Key Entity Description (dictionary PublicKeyCredentialEntity)</a> <a href="#ref-for-idl-USVString①">(2)</a>
    <li><a href="#ref-for-idl-USVString②">5.5. Options for Assertion Generation (dictionary PublicKeyCredentialRequestOptions)</a> <a href="#ref-for-idl-USVString③">(2)</a>
    <li><a href="#ref-for-idl-USVString④">10.1. FIDO AppID Extension (appid)</a>
    <li><a href="#ref-for-idl-USVString⑤">10.2. Simple Transaction Authorization Extension (txAuthSimple)</a> <a href="#ref-for-idl-USVString⑥">(2)</a>
    <li><a href="#ref-for-idl-USVString⑦">10.3. Generic Transaction Authorization Extension (txAuthGeneric)</a>
    <li><a href="#ref-for-idl-USVString⑧">10.5. Supported Extensions Extension (exts)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="term-for-unknownerror">
   <a href="https://heycam.github.io/webidl/#unknownerror">https://heycam.github.io/webidl/#unknownerror</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-unknownerror">6.2.2. The authenticatorMakeCredential operation</a> <a href="#ref-for-unknownerror①">(2)</a>
    <li><a href="#ref-for-unknownerror②">6.2.3.  The authenticatorGetAssertion operation</a> <a href="#ref-for-unknownerror③">(2)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="term-for-idl-boolean">
   <a href="https://heycam.github.io/webidl/#idl-boolean">https://heycam.github.io/webidl/#idl-boolean</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-idl-boolean">5.1.7. Availability of User-Verifying Platform Authenticator - PublicKeyCredential’s isUserVerifyingPlatformAuthenticatorAvailable() method</a>
    <li><a href="#ref-for-idl-boolean①">5.4.4. Authenticator Selection Criteria (dictionary AuthenticatorSelectionCriteria)</a> <a href="#ref-for-idl-boolean②">(2)</a>
    <li><a href="#ref-for-idl-boolean③">10.1. FIDO AppID Extension (appid)</a>
    <li><a href="#ref-for-idl-boolean④">10.4. Authenticator Selection Extension (authnSel)</a>
    <li><a href="#ref-for-idl-boolean⑤">10.5. Supported Extensions Extension (exts)</a>
    <li><a href="#ref-for-idl-boolean⑥">10.6. User Verification Index Extension (uvi)</a>
    <li><a href="#ref-for-idl-boolean⑦">10.7. Location Extension (loc)</a>
    <li><a href="#ref-for-idl-boolean⑧">10.8. User Verification Method Extension (uvm)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="term-for-idl-float">
   <a href="https://heycam.github.io/webidl/#idl-float">https://heycam.github.io/webidl/#idl-float</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-idl-float">10.9. Biometric Authenticator Performance Bounds Extension (biometricPerfBounds)</a> <a href="#ref-for-idl-float①">(2)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="term-for-dfn-interface-object">
   <a href="https://heycam.github.io/webidl/#dfn-interface-object">https://heycam.github.io/webidl/#dfn-interface-object</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dfn-interface-object">5.1. PublicKeyCredential Interface</a> <a href="#ref-for-dfn-interface-object①">(2)</a> <a href="#ref-for-dfn-interface-object②">(3)</a>
    <li><a href="#ref-for-dfn-interface-object③">5.1.3. Create a new credential - PublicKeyCredential’s [[Create]](origin, options, sameOriginWithAncestors) method</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="term-for-idl-long">
   <a href="https://heycam.github.io/webidl/#idl-long">https://heycam.github.io/webidl/#idl-long</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-idl-long">5.10.5. Cryptographic Algorithm Identifier (typedef COSEAlgorithmIdentifier)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="term-for-dfn-present">
   <a href="https://heycam.github.io/webidl/#dfn-present">https://heycam.github.io/webidl/#dfn-present</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dfn-present">5.1.3. Create a new credential - PublicKeyCredential’s [[Create]](origin, options, sameOriginWithAncestors) method</a> <a href="#ref-for-dfn-present①">(2)</a> <a href="#ref-for-dfn-present②">(3)</a> <a href="#ref-for-dfn-present③">(4)</a> <a href="#ref-for-dfn-present④">(5)</a> <a href="#ref-for-dfn-present⑤">(6)</a> <a href="#ref-for-dfn-present⑥">(7)</a> <a href="#ref-for-dfn-present⑦">(8)</a> <a href="#ref-for-dfn-present⑧">(9)</a> <a href="#ref-for-dfn-present⑨">(10)</a>
    <li><a href="#ref-for-dfn-present①⓪">5.1.4.1. PublicKeyCredential’s [[DiscoverFromExternalSource]](origin, options, sameOriginWithAncestors) method</a> <a href="#ref-for-dfn-present①①">(2)</a> <a href="#ref-for-dfn-present①②">(3)</a> <a href="#ref-for-dfn-present①③">(4)</a> <a href="#ref-for-dfn-present①④">(5)</a> <a href="#ref-for-dfn-present①⑤">(6)</a> <a href="#ref-for-dfn-present①⑥">(7)</a>
    <li><a href="#ref-for-dfn-present①⑦">5.4.4. Authenticator Selection Criteria (dictionary AuthenticatorSelectionCriteria)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="term-for-idl-unsigned-long">
   <a href="https://heycam.github.io/webidl/#idl-unsigned-long">https://heycam.github.io/webidl/#idl-unsigned-long</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-idl-unsigned-long">5.4. Options for Credential Creation (dictionary PublicKeyCredentialCreationOptions)</a> <a href="#ref-for-idl-unsigned-long①">(2)</a>
    <li><a href="#ref-for-idl-unsigned-long②">5.5. Options for Assertion Generation (dictionary PublicKeyCredentialRequestOptions)</a> <a href="#ref-for-idl-unsigned-long③">(2)</a>
    <li><a href="#ref-for-idl-unsigned-long④">10.8. User Verification Method Extension (uvm)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="term-for-focus">
   <a href="https://html.spec.whatwg.org/#focus">https://html.spec.whatwg.org/#focus</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-focus">5.6. Abort operations with AbortSignal</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="term-for-attr-fe-autocomplete-username">
   <a href="https://html.spec.whatwg.org/#attr-fe-autocomplete-username">https://html.spec.whatwg.org/#attr-fe-autocomplete-username</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-attr-fe-autocomplete-username">5.4.1. Public Key Entity Description (dictionary PublicKeyCredentialEntity)</a>
   </ul>
  </aside>
  <h3 class="no-num no-ref heading settled" id="index-defined-elsewhere"><span class="content">Terms defined by reference</span><a class="self-link" href="#index-defined-elsewhere"></a></h3>
  <ul class="index">
   <li>
    <a data-link-type="biblio">[CREDENTIAL-MANAGEMENT-1]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="term-for-credential" style="color:initial">Credential</span>
     <li><span class="dfn-paneled" id="term-for-dictdef-credentialcreationoptions" style="color:initial">CredentialCreationOptions</span>
     <li><span class="dfn-paneled" id="term-for-dictdef-credentialrequestoptions" style="color:initial">CredentialRequestOptions</span>
     <li><span class="dfn-paneled" id="term-for-credentialscontainer" style="color:initial">CredentialsContainer</span>
     <li><span class="dfn-paneled" id="term-for-abstract-opdef-request-a-credential" style="color:initial">Request a Credential</span>
     <li><span class="dfn-paneled" id="term-for-collectfromcredentialstore-origin-options-sameoriginwithancestors" style="color:initial">[[CollectFromCredentialStore]](origin, options, sameOriginWithAncestors)</span>
     <li><span class="dfn-paneled" id="term-for-create-origin-options-sameoriginwithancestors" style="color:initial">[[Create]](origin, options, sameOriginWithAncestors)</span>
     <li><span class="dfn-paneled" id="term-for-store-credential-sameoriginwithancestors" style="color:initial">[[Store]](credential, sameOriginWithAncestors)</span>
     <li><span class="dfn-paneled" id="term-for-dom-credential-discovery-slot" style="color:initial">[[discovery]]</span>
     <li><span class="dfn-paneled" id="term-for-dom-credential-type-slot" style="color:initial">[[type]]</span>
     <li><span class="dfn-paneled" id="term-for-dom-credentialscontainer-create" style="color:initial">create()</span>
     <li><span class="dfn-paneled" id="term-for-concept-credential" style="color:initial">credential</span>
     <li><span class="dfn-paneled" id="term-for-credential-source" style="color:initial">credential source</span>
     <li><span class="dfn-paneled" id="term-for-dom-credentialscontainer-get" style="color:initial">get()</span>
     <li><span class="dfn-paneled" id="term-for-dom-credential-id" style="color:initial">id</span>
     <li><span class="dfn-paneled" id="term-for-dom-credential-discovery-remote" style="color:initial">remote</span>
     <li><span class="dfn-paneled" id="term-for-same-origin-with-its-ancestors" style="color:initial">same-origin with its ancestors</span>
     <li><span class="dfn-paneled" id="term-for-dom-credentialrequestoptions-signal" style="color:initial">signal <small>(for CredentialRequestOptions)</small></span>
     <li><span class="dfn-paneled" id="term-for-dom-credentialscontainer-store" style="color:initial">store()</span>
     <li><span class="dfn-paneled" id="term-for-dom-credential-type" style="color:initial">type</span>
     <li><span class="dfn-paneled" id="term-for-user-mediated" style="color:initial">user mediation</span>
    </ul>
   <li>
    <a data-link-type="biblio">[DOM4]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="term-for-abortcontroller" style="color:initial">AbortController</span>
     <li><span class="dfn-paneled" id="term-for-abortsignal-aborted-flag" style="color:initial">aborted flag</span>
     <li><span class="dfn-paneled" id="term-for-concept-document" style="color:initial">document</span>
    </ul>
   <li>
    <a data-link-type="biblio">[ECMAScript]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="term-for-sec-arraybuffer-constructor" style="color:initial">%arraybuffer%</span>
     <li><span class="dfn-paneled" id="term-for-sec-object-internal-methods-and-internal-slots" style="color:initial">internal method</span>
     <li><span class="dfn-paneled" id="term-for-sec-object-internal-methods-and-internal-slots①" style="color:initial">internal slot</span>
     <li><span class="dfn-paneled" id="term-for-sec-json.stringify" style="color:initial">stringify</span>
    </ul>
   <li>
    <a data-link-type="biblio">[ENCODING]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="term-for-utf-8-decode" style="color:initial">utf-8 decode</span>
     <li><span class="dfn-paneled" id="term-for-utf-8-encode" style="color:initial">utf-8 encode</span>
    </ul>
   <li>
    <a data-link-type="biblio">[FETCH]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="term-for-concept-request-window" style="color:initial">window</span>
    </ul>
   <li>
    <a data-link-type="biblio">[FIDO-APPID]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="term-for-determining-if-a-caller-s-facetid-is-authorized-for-an-appid" style="color:initial">determining if a caller's facetid is authorized for an appid</span>
     <li><span class="dfn-paneled" id="term-for-determining-the-facetid-of-a-calling-application" style="color:initial">determining the facetid of a calling application</span>
    </ul>
   <li>
    <a data-link-type="biblio">[FIDO-CTAP]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="term-for-ctap2-canonical-cbor-encoding-form" style="color:initial">ctap2 canonical cbor encoding form</span>
    </ul>
   <li>
    <a data-link-type="biblio">[FIDO-Registry]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="term-for-user-verification-methods" style="color:initial">section 3.1 user verification methods</span>
     <li><span class="dfn-paneled" id="term-for-key-protection-types" style="color:initial">section 3.2 key protection types</span>
     <li><span class="dfn-paneled" id="term-for-matcher-protection-types" style="color:initial">section 3.3 matcher protection types</span>
     <li><span class="dfn-paneled" id="term-for-public-key-representation-formats" style="color:initial">section 3.6.2 public key representation formats</span>
    </ul>
   <li>
    <a data-link-type="biblio">[FIDO-U2F-Message-Formats]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="term-for-authentication-request-message---u2f_authenticate" style="color:initial">application parameter</span>
     <li><span class="dfn-paneled" id="term-for-registration-response-message-success" style="color:initial">section 4.3</span>
     <li><span class="dfn-paneled" id="term-for-authentication-response-message-success" style="color:initial">section 5.4</span>
    </ul>
   <li>
    <a data-link-type="biblio">[Geolocation-API]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="term-for-coordinates_interface" style="color:initial">Coordinates</span>
    </ul>
   <li>
    <a data-link-type="biblio">[HTML]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="term-for-ascii-serialisation-of-an-origin" style="color:initial">ascii serialization of an origin</span>
     <li><span class="dfn-paneled" id="term-for-concept-origin-effective-domain" style="color:initial">effective domain</span>
     <li><span class="dfn-paneled" id="term-for-environment-settings-object" style="color:initial">environment settings object</span>
     <li><span class="dfn-paneled" id="term-for-concept-settings-object-global" style="color:initial">global object</span>
     <li><span class="dfn-paneled" id="term-for-is-a-registrable-domain-suffix-of-or-is-equal-to" style="color:initial">is a registrable domain suffix of or is equal to</span>
     <li><span class="dfn-paneled" id="term-for-is-a-registrable-domain-suffix-of-or-is-equal-to①" style="color:initial">is not a registrable domain suffix of and is not equal to</span>
     <li><span class="dfn-paneled" id="term-for-concept-settings-object-origin" style="color:initial">origin</span>
     <li><span class="dfn-paneled" id="term-for-relevant-settings-object" style="color:initial">relevant settings object</span>
    </ul>
   <li>
    <a data-link-type="biblio">[HTML52]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="term-for-dom-document-domain" style="color:initial">document.domain</span>
     <li><span class="dfn-paneled" id="term-for-opaque-origin" style="color:initial">opaque origin</span>
     <li><span class="dfn-paneled" id="term-for-concept-cross-origin" style="color:initial">origin</span>
    </ul>
   <li>
    <a data-link-type="biblio">[INFRA]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="term-for-set-append" style="color:initial">append <small>(for set)</small></span>
     <li><span class="dfn-paneled" id="term-for-byte-sequence" style="color:initial">byte sequence</span>
     <li><span class="dfn-paneled" id="term-for-iteration-continue" style="color:initial">continue</span>
     <li><span class="dfn-paneled" id="term-for-map-iterate" style="color:initial">for each <small>(for map)</small></span>
     <li><span class="dfn-paneled" id="term-for-list-is-empty" style="color:initial">is empty</span>
     <li><span class="dfn-paneled" id="term-for-list-is-empty①" style="color:initial">is not empty</span>
     <li><span class="dfn-paneled" id="term-for-struct-item" style="color:initial">item <small>(for struct)</small></span>
     <li><span class="dfn-paneled" id="term-for-list" style="color:initial">list</span>
     <li><span class="dfn-paneled" id="term-for-ordered-map" style="color:initial">map</span>
     <li><span class="dfn-paneled" id="term-for-ordered-set" style="color:initial">ordered set</span>
     <li><span class="dfn-paneled" id="term-for-list-remove" style="color:initial">remove</span>
     <li><span class="dfn-paneled" id="term-for-map-set" style="color:initial">set <small>(for map)</small></span>
     <li><span class="dfn-paneled" id="term-for-struct" style="color:initial">struct</span>
     <li><span class="dfn-paneled" id="term-for-iteration-while" style="color:initial">while</span>
     <li><span class="dfn-paneled" id="term-for-willful-violation" style="color:initial">willful violation</span>
    </ul>
   <li>
    <a data-link-type="biblio">[mixed-content]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="term-for-a-priori-authenticated-url" style="color:initial">a priori authenticated url</span>
    </ul>
   <li>
    <a data-link-type="biblio">[page-visibility]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="term-for-visibility-states" style="color:initial">visibility states</span>
    </ul>
   <li>
    <a data-link-type="biblio">[RFC4949]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="term-for-page-182" style="color:initial">leap of faith</span>
     <li><span class="dfn-paneled" id="term-for-page-186" style="color:initial">man-in-the-middle attack</span>
    </ul>
   <li>
    <a data-link-type="biblio">[RFC8152]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="term-for-section-7" style="color:initial">section 7</span>
    </ul>
   <li>
    <a data-link-type="biblio">[secure-contexts]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="term-for-secure-contexts" style="color:initial">secure contexts</span>
    </ul>
   <li>
    <a data-link-type="biblio">[TokenBinding]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="term-for-token-binding" style="color:initial">token binding</span>
     <li><span class="dfn-paneled" id="term-for-section-3.2" style="color:initial">token binding id</span>
    </ul>
   <li>
    <a data-link-type="biblio">[URL]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="term-for-concept-domain" style="color:initial">domain</span>
     <li><span class="dfn-paneled" id="term-for-empty-host" style="color:initial">empty host</span>
     <li><span class="dfn-paneled" id="term-for-concept-url-host" style="color:initial">host</span>
     <li><span class="dfn-paneled" id="term-for-concept-ipv4" style="color:initial">ipv4 address</span>
     <li><span class="dfn-paneled" id="term-for-concept-ipv6" style="color:initial">ipv6 address</span>
     <li><span class="dfn-paneled" id="term-for-opaque-host" style="color:initial">opaque host</span>
     <li><span class="dfn-paneled" id="term-for-concept-url-serializer" style="color:initial">url serializer</span>
     <li><span class="dfn-paneled" id="term-for-valid-domain" style="color:initial">valid domain</span>
     <li><span class="dfn-paneled" id="term-for-valid-domain-string" style="color:initial">valid domain string</span>
    </ul>
   <li>
    <a data-link-type="biblio">[WebIDL]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="term-for-aborterror" style="color:initial">AbortError</span>
     <li><span class="dfn-paneled" id="term-for-idl-ArrayBuffer" style="color:initial">ArrayBuffer</span>
     <li><span class="dfn-paneled" id="term-for-BufferSource" style="color:initial">BufferSource</span>
     <li><span class="dfn-paneled" id="term-for-constrainterror" style="color:initial">ConstraintError</span>
     <li><span class="dfn-paneled" id="term-for-idl-DOMException" style="color:initial">DOMException</span>
     <li><span class="dfn-paneled" id="term-for-idl-DOMString" style="color:initial">DOMString</span>
     <li><span class="dfn-paneled" id="term-for-Exposed" style="color:initial">Exposed</span>
     <li><span class="dfn-paneled" id="term-for-invalidstateerror" style="color:initial">InvalidStateError</span>
     <li><span class="dfn-paneled" id="term-for-notallowederror" style="color:initial">NotAllowedError</span>
     <li><span class="dfn-paneled" id="term-for-notsupportederror" style="color:initial">NotSupportedError</span>
     <li><span class="dfn-paneled" id="term-for-idl-promise" style="color:initial">Promise</span>
     <li><span class="dfn-paneled" id="term-for-SameObject" style="color:initial">SameObject</span>
     <li><span class="dfn-paneled" id="term-for-SecureContext" style="color:initial">SecureContext</span>
     <li><span class="dfn-paneled" id="term-for-securityerror" style="color:initial">SecurityError</span>
     <li><span class="dfn-paneled" id="term-for-idl-USVString" style="color:initial">USVString</span>
     <li><span class="dfn-paneled" id="term-for-unknownerror" style="color:initial">UnknownError</span>
     <li><span class="dfn-paneled" id="term-for-idl-boolean" style="color:initial">boolean</span>
     <li><span class="dfn-paneled" id="term-for-idl-float" style="color:initial">float</span>
     <li><span class="dfn-paneled" id="term-for-dfn-interface-object" style="color:initial">interface object</span>
     <li><span class="dfn-paneled" id="term-for-idl-long" style="color:initial">long</span>
     <li><span class="dfn-paneled" id="term-for-dfn-present" style="color:initial">present</span>
     <li><span class="dfn-paneled" id="term-for-idl-unsigned-long" style="color:initial">unsigned long</span>
    </ul>
   <li>
    <a data-link-type="biblio">[whatwg html]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="term-for-focus" style="color:initial">focus</span>
     <li><span class="dfn-paneled" id="term-for-attr-fe-autocomplete-username" style="color:initial">username</span>
    </ul>
  </ul>
  <h2 class="no-num no-ref heading settled" id="references"><span class="content">References</span><a class="self-link" href="#references"></a></h2>
  <h3 class="no-num no-ref heading settled" id="normative"><span class="content">Normative References</span><a class="self-link" href="#normative"></a></h3>
  <dl>
   <dt id="biblio-cddl">[CDDL]
   <dd>C. Vigano; H. Birkholz. <a href="https://tools.ietf.org/html/draft-greevenbosch-appsawg-cbor-cddl">CBOR data definition language (CDDL): a notational convention to express CBOR data structures</a>. 21 September 2016. Internet Draft (work in progress). URL: <a href="https://tools.ietf.org/html/draft-greevenbosch-appsawg-cbor-cddl">https://tools.ietf.org/html/draft-greevenbosch-appsawg-cbor-cddl</a>
   <dt id="biblio-credential-management-1">[CREDENTIAL-MANAGEMENT-1]
   <dd>Mike West. <a href="https://www.w3.org/TR/credential-management-1/">Credential Management Level 1</a>. 4 August 2017. WD. URL: <a href="https://www.w3.org/TR/credential-management-1/">https://www.w3.org/TR/credential-management-1/</a>
   <dt id="biblio-dom4">[DOM4]
   <dd>Anne van Kesteren. <a href="https://dom.spec.whatwg.org/">DOM Standard</a>. Living Standard. URL: <a href="https://dom.spec.whatwg.org/">https://dom.spec.whatwg.org/</a>
   <dt id="biblio-ecmascript">[ECMAScript]
   <dd><a href="https://tc39.github.io/ecma262/">ECMAScript Language Specification</a>. URL: <a href="https://tc39.github.io/ecma262/">https://tc39.github.io/ecma262/</a>
   <dt id="biblio-encoding">[ENCODING]
   <dd>Anne van Kesteren. <a href="https://encoding.spec.whatwg.org/">Encoding Standard</a>. Living Standard. URL: <a href="https://encoding.spec.whatwg.org/">https://encoding.spec.whatwg.org/</a>
   <dt id="biblio-fetch">[FETCH]
   <dd>Anne van Kesteren. <a href="https://fetch.spec.whatwg.org/">Fetch Standard</a>. Living Standard. URL: <a href="https://fetch.spec.whatwg.org/">https://fetch.spec.whatwg.org/</a>
   <dt id="biblio-fido-appid">[FIDO-APPID]
   <dd>D. Balfanz; et al. <a href="https://fidoalliance.org/specs/fido-v2.0-id-20180227/fido-appid-and-facets-v2.0-id-20180227.html">FIDO AppID and Facet Specification</a>. 27 February 2018. FIDO Alliance Implementation Draft. URL: <a href="https://fidoalliance.org/specs/fido-v2.0-id-20180227/fido-appid-and-facets-v2.0-id-20180227.html">https://fidoalliance.org/specs/fido-v2.0-id-20180227/fido-appid-and-facets-v2.0-id-20180227.html</a>
   <dt id="biblio-fido-ctap">[FIDO-CTAP]
   <dd>M. Antoine; et al. <a href="https://fidoalliance.org/specs/fido-v2.0-id-20180227/fido-client-to-authenticator-protocol-v2.0-id-20180227.html">Client to Authenticator Protocol</a>. 27 February 2018. FIDO Alliance Implementation Draft. URL: <a href="https://fidoalliance.org/specs/fido-v2.0-id-20180227/fido-client-to-authenticator-protocol-v2.0-id-20180227.html">https://fidoalliance.org/specs/fido-v2.0-id-20180227/fido-client-to-authenticator-protocol-v2.0-id-20180227.html</a>
   <dt id="biblio-fido-privacy-principles">[FIDO-Privacy-Principles]
   <dd>FIDO Alliance. <a href="https://fidoalliance.org/wp-content/uploads/2014/12/FIDO_Alliance_Whitepaper_Privacy_Principles.pdf">FIDO Privacy Principles</a>. FIDO Alliance Whitepaper. URL: <a href="https://fidoalliance.org/wp-content/uploads/2014/12/FIDO_Alliance_Whitepaper_Privacy_Principles.pdf">https://fidoalliance.org/wp-content/uploads/2014/12/FIDO_Alliance_Whitepaper_Privacy_Principles.pdf</a>
   <dt id="biblio-fido-registry">[FIDO-Registry]
   <dd>R. Lindemann; D. Baghdasaryan; B. Hill. <a href="https://fidoalliance.org/specs/fido-v2.0-id-20180227/fido-registry-v2.0-id-20180227.html">FIDO Registry of Predefined Values</a>. 27 February 2018. FIDO Alliance Implementation Draft. URL: <a href="https://fidoalliance.org/specs/fido-v2.0-id-20180227/fido-registry-v2.0-id-20180227.html">https://fidoalliance.org/specs/fido-v2.0-id-20180227/fido-registry-v2.0-id-20180227.html</a>
   <dt id="biblio-fido-u2f-message-formats">[FIDO-U2F-Message-Formats]
   <dd>D. Balfanz; J. Ehrensvard; J. Lang. <a href="https://fidoalliance.org/specs/fido-u2f-v1.1-id-20160915/fido-u2f-raw-message-formats-v1.1-id-20160915.html">FIDO U2F Raw Message Formats</a>. FIDO Alliance Implementation Draft. URL: <a href="https://fidoalliance.org/specs/fido-u2f-v1.1-id-20160915/fido-u2f-raw-message-formats-v1.1-id-20160915.html">https://fidoalliance.org/specs/fido-u2f-v1.1-id-20160915/fido-u2f-raw-message-formats-v1.1-id-20160915.html</a>
   <dt id="biblio-fidoecdaaalgorithm">[FIDOEcdaaAlgorithm]
   <dd>R. Lindemann; et al. <a href="https://fidoalliance.org/specs/fido-v2.0-id-20180227/fido-ecdaa-algorithm-v2.0-id-20180227.html">FIDO ECDAA Algorithm</a>. 27 February 2018. FIDO Alliance Implementation Draft. URL: <a href="https://fidoalliance.org/specs/fido-v2.0-id-20180227/fido-ecdaa-algorithm-v2.0-id-20180227.html">https://fidoalliance.org/specs/fido-v2.0-id-20180227/fido-ecdaa-algorithm-v2.0-id-20180227.html</a>
   <dt id="biblio-geolocation-api">[Geolocation-API]
   <dd>Andrei Popescu. <a href="https://www.w3.org/TR/geolocation-API/">Geolocation API Specification 2nd Edition</a>. 8 November 2016. REC. URL: <a href="https://www.w3.org/TR/geolocation-API/">https://www.w3.org/TR/geolocation-API/</a>
   <dt id="biblio-html">[HTML]
   <dd>Anne van Kesteren; et al. <a href="https://html.spec.whatwg.org/multipage/">HTML Standard</a>. Living Standard. URL: <a href="https://html.spec.whatwg.org/multipage/">https://html.spec.whatwg.org/multipage/</a>
   <dt id="biblio-html52">[HTML52]
   <dd>Steve Faulkner; et al. <a href="https://www.w3.org/TR/html52/">HTML 5.2</a>. 14 December 2017. REC. URL: <a href="https://www.w3.org/TR/html52/">https://www.w3.org/TR/html52/</a>
   <dt id="biblio-iana-cose-algs-reg">[IANA-COSE-ALGS-REG]
   <dd><a href="https://www.iana.org/assignments/cose/cose.xhtml#algorithms">IANA CBOR Object Signing and Encryption (COSE) Algorithms Registry</a>. URL: <a href="https://www.iana.org/assignments/cose/cose.xhtml#algorithms">https://www.iana.org/assignments/cose/cose.xhtml#algorithms</a>
   <dt id="biblio-infra">[INFRA]
   <dd>Anne van Kesteren; Domenic Denicola. <a href="https://infra.spec.whatwg.org/">Infra Standard</a>. Living Standard. URL: <a href="https://infra.spec.whatwg.org/">https://infra.spec.whatwg.org/</a>
   <dt id="biblio-mixed-content">[MIXED-CONTENT]
   <dd>Mike West. <a href="https://www.w3.org/TR/mixed-content/">Mixed Content</a>. 2 August 2016. CR. URL: <a href="https://www.w3.org/TR/mixed-content/">https://www.w3.org/TR/mixed-content/</a>
   <dt id="biblio-page-visibility">[PAGE-VISIBILITY]
   <dd>Jatinder Mann; Arvind Jain. <a href="https://www.w3.org/TR/page-visibility/">Page Visibility (Second Edition)</a>. 29 October 2013. REC. URL: <a href="https://www.w3.org/TR/page-visibility/">https://www.w3.org/TR/page-visibility/</a>
   <dt id="biblio-rfc2119">[RFC2119]
   <dd>S. Bradner. <a href="https://tools.ietf.org/html/rfc2119">Key words for use in RFCs to Indicate Requirement Levels</a>. March 1997. Best Current Practice. URL: <a href="https://tools.ietf.org/html/rfc2119">https://tools.ietf.org/html/rfc2119</a>
   <dt id="biblio-rfc4648">[RFC4648]
   <dd>S. Josefsson. <a href="https://tools.ietf.org/html/rfc4648">The Base16, Base32, and Base64 Data Encodings</a>. October 2006. Proposed Standard. URL: <a href="https://tools.ietf.org/html/rfc4648">https://tools.ietf.org/html/rfc4648</a>
   <dt id="biblio-rfc4949">[RFC4949]
   <dd>R. Shirey. <a href="https://tools.ietf.org/html/rfc4949">Internet Security Glossary, Version 2</a>. August 2007. Informational. URL: <a href="https://tools.ietf.org/html/rfc4949">https://tools.ietf.org/html/rfc4949</a>
   <dt id="biblio-rfc5234">[RFC5234]
   <dd>D. Crocker, Ed.; P. Overell. <a href="https://tools.ietf.org/html/rfc5234">Augmented BNF for Syntax Specifications: ABNF</a>. January 2008. Internet Standard. URL: <a href="https://tools.ietf.org/html/rfc5234">https://tools.ietf.org/html/rfc5234</a>
   <dt id="biblio-rfc5890">[RFC5890]
   <dd>J. Klensin. <a href="https://tools.ietf.org/html/rfc5890">Internationalized Domain Names for Applications (IDNA): Definitions and Document Framework</a>. August 2010. Proposed Standard. URL: <a href="https://tools.ietf.org/html/rfc5890">https://tools.ietf.org/html/rfc5890</a>
   <dt id="biblio-rfc7049">[RFC7049]
   <dd>C. Bormann; P. Hoffman. <a href="https://tools.ietf.org/html/rfc7049">Concise Binary Object Representation (CBOR)</a>. October 2013. Proposed Standard. URL: <a href="https://tools.ietf.org/html/rfc7049">https://tools.ietf.org/html/rfc7049</a>
   <dt id="biblio-rfc8152">[RFC8152]
   <dd>J. Schaad. <a href="https://tools.ietf.org/html/rfc8152">CBOR Object Signing and Encryption (COSE)</a>. July 2017. Proposed Standard. URL: <a href="https://tools.ietf.org/html/rfc8152">https://tools.ietf.org/html/rfc8152</a>
   <dt id="biblio-rfc8230">[RFC8230]
   <dd>M. Jones. <a href="https://tools.ietf.org/html/rfc8230">Using RSA Algorithms with CBOR Object Signing and Encryption (COSE) Messages</a>. September 2017. Proposed Standard. URL: <a href="https://tools.ietf.org/html/rfc8230">https://tools.ietf.org/html/rfc8230</a>
   <dt id="biblio-sec1">[SEC1]
   <dd><a href="http://www.secg.org/sec1-v2.pdf">SEC1: Elliptic Curve Cryptography, Version 2.0</a>. URL: <a href="http://www.secg.org/sec1-v2.pdf">http://www.secg.org/sec1-v2.pdf</a>
   <dt id="biblio-secure-contexts">[SECURE-CONTEXTS]
   <dd>Mike West. <a href="https://www.w3.org/TR/secure-contexts/">Secure Contexts</a>. 15 September 2016. CR. URL: <a href="https://www.w3.org/TR/secure-contexts/">https://www.w3.org/TR/secure-contexts/</a>
   <dt id="biblio-tcg-cmcprofile-aikcertenroll">[TCG-CMCProfile-AIKCertEnroll]
   <dd>Scott Kelly; et al. <a href="https://trustedcomputinggroup.org/wp-content/uploads/IWG_CMC_Profile_Cert_Enrollment_v1_r7.pdf">TCG Infrastructure Working Group: A CMC Profile for AIK Certificate Enrollment</a>. 24 March 2011. Published. URL: <a href="https://trustedcomputinggroup.org/wp-content/uploads/IWG_CMC_Profile_Cert_Enrollment_v1_r7.pdf">https://trustedcomputinggroup.org/wp-content/uploads/IWG_CMC_Profile_Cert_Enrollment_v1_r7.pdf</a>
   <dt id="biblio-tokenbinding">[TokenBinding]
   <dd>A. Popov; et al. <a href="https://tools.ietf.org/html/draft-ietf-tokbind-protocol">The Token Binding Protocol Version 1.0</a>. February 16, 2017. Internet-Draft. URL: <a href="https://tools.ietf.org/html/draft-ietf-tokbind-protocol">https://tools.ietf.org/html/draft-ietf-tokbind-protocol</a>
   <dt id="biblio-url">[URL]
   <dd>Anne van Kesteren. <a href="https://url.spec.whatwg.org/">URL Standard</a>. Living Standard. URL: <a href="https://url.spec.whatwg.org/">https://url.spec.whatwg.org/</a>
   <dt id="biblio-webauthn-cose-algs">[WebAuthn-COSE-Algs]
   <dd>Michael B. Jones. <a href="https://tools.ietf.org/html/draft-jones-webauthn-cose-algorithms">COSE Algorithms for Web Authentication (WebAuthn)</a>. May 2018. Active Internet-Draft. URL: <a href="https://tools.ietf.org/html/draft-jones-webauthn-cose-algorithms">https://tools.ietf.org/html/draft-jones-webauthn-cose-algorithms</a>
   <dt id="biblio-webauthn-registries">[WebAuthn-Registries]
   <dd>Jeff Hodges; Giridhar Mandyam; Michael B. Jones. <a href="https://tools.ietf.org/html/draft-hodges-webauthn-registries">Registries for Web Authentication (WebAuthn)</a>. February 2018. Active Internet-Draft. URL: <a href="https://tools.ietf.org/html/draft-hodges-webauthn-registries">https://tools.ietf.org/html/draft-hodges-webauthn-registries</a>
   <dt id="biblio-webidl">[WebIDL]
   <dd>Cameron McCormack; Boris Zbarsky; Tobie Langel. <a href="https://heycam.github.io/webidl/">Web IDL</a>. 15 December 2016. ED. URL: <a href="https://heycam.github.io/webidl/">https://heycam.github.io/webidl/</a>
   <dt id="biblio-webidl-1">[WebIDL-1]
   <dd>Cameron McCormack. <a href="https://www.w3.org/TR/2016/REC-WebIDL-1-20161215/">WebIDL Level 1</a>. 15 December 2016. REC. URL: <a href="https://www.w3.org/TR/2016/REC-WebIDL-1-20161215/">https://www.w3.org/TR/2016/REC-WebIDL-1-20161215/</a>
  </dl>
  <h3 class="no-num no-ref heading settled" id="informative"><span class="content">Informative References</span><a class="self-link" href="#informative"></a></h3>
  <dl>
   <dt id="biblio-ceremony">[Ceremony]
   <dd>Carl Ellison. <a href="https://eprint.iacr.org/2007/399.pdf">Ceremony Design and Analysis</a>. 2007. URL: <a href="https://eprint.iacr.org/2007/399.pdf">https://eprint.iacr.org/2007/399.pdf</a>
   <dt id="biblio-edupersonobjectclassspec">[EduPersonObjectClassSpec]
   <dd><a href="https://www.internet2.edu/media/medialibrary/2013/09/04/internet2-mace-dir-eduperson-200604.html">EduPerson Object Class Specification (200604a)</a>. May 15, 2007. URL: <a href="https://www.internet2.edu/media/medialibrary/2013/09/04/internet2-mace-dir-eduperson-200604.html">https://www.internet2.edu/media/medialibrary/2013/09/04/internet2-mace-dir-eduperson-200604.html</a>
   <dt id="biblio-feature-policy">[Feature-Policy]
   <dd><a href="https://wicg.github.io/feature-policy/">Feature Policy</a>. Draft Community Group Report. URL: <a href="https://wicg.github.io/feature-policy/">https://wicg.github.io/feature-policy/</a>
   <dt id="biblio-fido-uaf-authnr-cmds">[FIDO-UAF-AUTHNR-CMDS]
   <dd>R. Lindemann; J. Kemp. <a href="https://fidoalliance.org/specs/fido-uaf-v1.1-id-20170202/fido-uaf-authnr-cmds-v1.1-id-20170202.html">FIDO UAF Authenticator Commands</a>. FIDO Alliance Implementation Draft. URL: <a href="https://fidoalliance.org/specs/fido-uaf-v1.1-id-20170202/fido-uaf-authnr-cmds-v1.1-id-20170202.html">https://fidoalliance.org/specs/fido-uaf-v1.1-id-20170202/fido-uaf-authnr-cmds-v1.1-id-20170202.html</a>
   <dt id="biblio-fidoauthnrsecreqs">[FIDOAuthnrSecReqs]
   <dd>D. Biggs; et al. <a href="https://fidoalliance.org/specs/fido-security-requirements-v1.0-fd-20170524/">FIDO Authenticator Security Requirements</a>. FIDO Alliance Final Documents. URL: <a href="https://fidoalliance.org/specs/fido-security-requirements-v1.0-fd-20170524/">https://fidoalliance.org/specs/fido-security-requirements-v1.0-fd-20170524/</a>
   <dt id="biblio-fidometadataservice">[FIDOMetadataService]
   <dd>R. Lindemann; B. Hill; D. Baghdasaryan. <a href="https://fidoalliance.org/specs/fido-v2.0-id-20180227/fido-metadata-service-v2.0-id-20180227.html">FIDO Metadata Service</a>. 27 February 2018. FIDO Alliance Implementation Draft. URL: <a href="https://fidoalliance.org/specs/fido-v2.0-id-20180227/fido-metadata-service-v2.0-id-20180227.html">https://fidoalliance.org/specs/fido-v2.0-id-20180227/fido-metadata-service-v2.0-id-20180227.html</a>
   <dt id="biblio-fidosecref">[FIDOSecRef]
   <dd>R. Lindemann; et al. <a href="https://fidoalliance.org/specs/fido-v2.0-id-20180227/fido-security-ref-v2.0-id-20180227.html">FIDO Security Reference</a>. 27 February 2018. FIDO Alliance Implementation Draft. URL: <a href="https://fidoalliance.org/specs/fido-v2.0-id-20180227/fido-security-ref-v2.0-id-20180227.html">https://fidoalliance.org/specs/fido-v2.0-id-20180227/fido-security-ref-v2.0-id-20180227.html</a>
   <dt id="biblio-fidouafauthenticatormetadatastatements">[FIDOUAFAuthenticatorMetadataStatements]
   <dd>B. Hill; D. Baghdasaryan; J. Kemp. <a href="https://fidoalliance.org/specs/fido-uaf-v1.0-ps-20141208/fido-uaf-authnr-metadata-v1.0-ps-20141208.html">FIDO UAF Authenticator Metadata Statements v1.0</a>. FIDO Alliance Proposed Standard. URL: <a href="https://fidoalliance.org/specs/fido-uaf-v1.0-ps-20141208/fido-uaf-authnr-metadata-v1.0-ps-20141208.html">https://fidoalliance.org/specs/fido-uaf-v1.0-ps-20141208/fido-uaf-authnr-metadata-v1.0-ps-20141208.html</a>
   <dt id="biblio-isobiometricvocabulary">[ISOBiometricVocabulary]
   <dd>ISO/IEC JTC1/SC37. <a href="http://standards.iso.org/ittf/PubliclyAvailableStandards/c055194_ISOIEC_2382-37_2012.zip">Information technology — Vocabulary — Biometrics</a>. 15 December 2012. International Standard: ISO/IEC 2382-37:2012(E) First Edition. URL: <a href="http://standards.iso.org/ittf/PubliclyAvailableStandards/c055194_ISOIEC_2382-37_2012.zip">http://standards.iso.org/ittf/PubliclyAvailableStandards/c055194_ISOIEC_2382-37_2012.zip</a>
   <dt id="biblio-rfc3279">[RFC3279]
   <dd>L. Bassham; W. Polk; R. Housley. <a href="https://tools.ietf.org/html/rfc3279">Algorithms and Identifiers for the Internet X.509 Public Key Infrastructure Certificate and Certificate Revocation List (CRL) Profile</a>. April 2002. Proposed Standard. URL: <a href="https://tools.ietf.org/html/rfc3279">https://tools.ietf.org/html/rfc3279</a>
   <dt id="biblio-rfc5280">[RFC5280]
   <dd>D. Cooper; et al. <a href="https://tools.ietf.org/html/rfc5280">Internet X.509 Public Key Infrastructure Certificate and Certificate Revocation List (CRL) Profile</a>. May 2008. Proposed Standard. URL: <a href="https://tools.ietf.org/html/rfc5280">https://tools.ietf.org/html/rfc5280</a>
   <dt id="biblio-rfc6265">[RFC6265]
   <dd>A. Barth. <a href="https://tools.ietf.org/html/rfc6265">HTTP State Management Mechanism</a>. April 2011. Proposed Standard. URL: <a href="https://tools.ietf.org/html/rfc6265">https://tools.ietf.org/html/rfc6265</a>
   <dt id="biblio-rfc6454">[RFC6454]
   <dd>A. Barth. <a href="https://tools.ietf.org/html/rfc6454">The Web Origin Concept</a>. December 2011. Proposed Standard. URL: <a href="https://tools.ietf.org/html/rfc6454">https://tools.ietf.org/html/rfc6454</a>
   <dt id="biblio-rfc7515">[RFC7515]
   <dd>M. Jones; J. Bradley; N. Sakimura. <a href="https://tools.ietf.org/html/rfc7515">JSON Web Signature (JWS)</a>. May 2015. Proposed Standard. URL: <a href="https://tools.ietf.org/html/rfc7515">https://tools.ietf.org/html/rfc7515</a>
   <dt id="biblio-rfc8017">[RFC8017]
   <dd>K. Moriarty, Ed.; et al. <a href="https://tools.ietf.org/html/rfc8017">PKCS #1: RSA Cryptography Specifications Version 2.2</a>. November 2016. Informational. URL: <a href="https://tools.ietf.org/html/rfc8017">https://tools.ietf.org/html/rfc8017</a>
   <dt id="biblio-tpmv2-ek-profile">[TPMv2-EK-Profile]
   <dd><a href="http://www.trustedcomputinggroup.org/wp-content/uploads/Credential_Profile_EK_V2.0_R14_published.pdf">TCG EK Credential Profile for TPM Family 2.0</a>. URL: <a href="http://www.trustedcomputinggroup.org/wp-content/uploads/Credential_Profile_EK_V2.0_R14_published.pdf">http://www.trustedcomputinggroup.org/wp-content/uploads/Credential_Profile_EK_V2.0_R14_published.pdf</a>
   <dt id="biblio-tpmv2-part1">[TPMv2-Part1]
   <dd><a href="http://www.trustedcomputinggroup.org/wp-content/uploads/TPM-Rev-2.0-Part-1-Architecture-01.38.pdf">Trusted Platform Module Library, Part 1: Architecture</a>. URL: <a href="http://www.trustedcomputinggroup.org/wp-content/uploads/TPM-Rev-2.0-Part-1-Architecture-01.38.pdf">http://www.trustedcomputinggroup.org/wp-content/uploads/TPM-Rev-2.0-Part-1-Architecture-01.38.pdf</a>
   <dt id="biblio-tpmv2-part2">[TPMv2-Part2]
   <dd><a href="http://www.trustedcomputinggroup.org/wp-content/uploads/TPM-Rev-2.0-Part-2-Structures-01.38.pdf">Trusted Platform Module Library, Part 2: Structures</a>. URL: <a href="http://www.trustedcomputinggroup.org/wp-content/uploads/TPM-Rev-2.0-Part-2-Structures-01.38.pdf">http://www.trustedcomputinggroup.org/wp-content/uploads/TPM-Rev-2.0-Part-2-Structures-01.38.pdf</a>
   <dt id="biblio-tpmv2-part3">[TPMv2-Part3]
   <dd><a href="http://www.trustedcomputinggroup.org/wp-content/uploads/TPM-Rev-2.0-Part-3-Commands-01.38.pdf">Trusted Platform Module Library, Part 3: Commands</a>. URL: <a href="http://www.trustedcomputinggroup.org/wp-content/uploads/TPM-Rev-2.0-Part-3-Commands-01.38.pdf">http://www.trustedcomputinggroup.org/wp-content/uploads/TPM-Rev-2.0-Part-3-Commands-01.38.pdf</a>
   <dt id="biblio-uafprotocol">[UAFProtocol]
   <dd>R. Lindemann; et al. <a href="https://fidoalliance.org/specs/fido-uaf-v1.0-ps-20141208/fido-uaf-protocol-v1.0-ps-20141208.html">FIDO UAF Protocol Specification v1.0</a>. FIDO Alliance Proposed Standard. URL: <a href="https://fidoalliance.org/specs/fido-uaf-v1.0-ps-20141208/fido-uaf-protocol-v1.0-ps-20141208.html">https://fidoalliance.org/specs/fido-uaf-v1.0-ps-20141208/fido-uaf-protocol-v1.0-ps-20141208.html</a>
  </dl>
  <h2 class="no-num no-ref heading settled" id="idl-index"><span class="content">IDL Index</span><a class="self-link" href="#idl-index"></a></h2>
<pre class="idl highlight def">[<a class="nv idl-code" data-link-type="extended-attribute" href="https://heycam.github.io/webidl/#SecureContext" id="ref-for-SecureContext④">SecureContext</a>, <a class="nv idl-code" data-link-type="extended-attribute" href="https://heycam.github.io/webidl/#Exposed" id="ref-for-Exposed④">Exposed</a>=<span class="n">Window</span>]
<span class="kt">interface</span> <a class="nv idl-code" data-link-type="interface" href="#publickeycredential" id="ref-for-publickeycredential②①">PublicKeyCredential</a> : <a class="n" data-link-type="idl-name" href="https://w3c.github.io/webappsec-credential-management/#credential" id="ref-for-credential②①">Credential</a> {
    [<a class="nv idl-code" data-link-type="extended-attribute" href="https://heycam.github.io/webidl/#SameObject" id="ref-for-SameObject⑦">SameObject</a>] <span class="kt">readonly</span> <span class="kt">attribute</span> <a class="n idl-code" data-link-type="interface" href="https://heycam.github.io/webidl/#idl-ArrayBuffer" id="ref-for-idl-ArrayBuffer②④"><span class="kt">ArrayBuffer</span></a>              <a class="nv" data-readonly="" data-type="ArrayBuffer" href="#dom-publickeycredential-rawid"><code>rawId</code></a>;
    [<a class="nv idl-code" data-link-type="extended-attribute" href="https://heycam.github.io/webidl/#SameObject" id="ref-for-SameObject①①">SameObject</a>] <span class="kt">readonly</span> <span class="kt">attribute</span> <a class="n" data-link-type="idl-name" href="#authenticatorresponse" id="ref-for-authenticatorresponse⑧">AuthenticatorResponse</a>    <a class="nv idl-code" data-link-type="attribute" data-readonly="" data-type="AuthenticatorResponse" href="#dom-publickeycredential-response" id="ref-for-dom-publickeycredential-response⑤">response</a>;
    <a class="n" data-link-type="idl-name" href="#dictdef-authenticationextensionsclientoutputs" id="ref-for-dictdef-authenticationextensionsclientoutputs①④">AuthenticationExtensionsClientOutputs</a> <a class="nv" href="#dom-publickeycredential-getclientextensionresults"><code>getClientExtensionResults</code></a>();
};

<span class="kt">partial</span> <span class="kt">dictionary</span> <a class="nv idl-code" data-link-type="dictionary" href="https://w3c.github.io/webappsec-credential-management/#dictdef-credentialcreationoptions" id="ref-for-dictdef-credentialcreationoptions①①">CredentialCreationOptions</a> {
    <a class="n" data-link-type="idl-name" href="#dictdef-publickeycredentialcreationoptions" id="ref-for-dictdef-publickeycredentialcreationoptions③">PublicKeyCredentialCreationOptions</a>      <a class="nv" data-type="PublicKeyCredentialCreationOptions      " href="#dom-credentialcreationoptions-publickey"><code>publicKey</code></a>;
};

<span class="kt">partial</span> <span class="kt">dictionary</span> <a class="nv idl-code" data-link-type="dictionary" href="https://w3c.github.io/webappsec-credential-management/#dictdef-credentialrequestoptions" id="ref-for-dictdef-credentialrequestoptions①①">CredentialRequestOptions</a> {
    <a class="n" data-link-type="idl-name" href="#dictdef-publickeycredentialrequestoptions" id="ref-for-dictdef-publickeycredentialrequestoptions⑤">PublicKeyCredentialRequestOptions</a>      <a class="nv" data-type="PublicKeyCredentialRequestOptions      " href="#dom-credentialrequestoptions-publickey"><code>publicKey</code></a>;
};

<span class="kt">partial</span> <span class="kt">interface</span> <a class="nv idl-code" data-link-type="interface" href="#publickeycredential" id="ref-for-publickeycredential①④①">PublicKeyCredential</a> {
    <span class="kt">static</span> <span class="kt">Promise</span> &lt; <a class="n idl-code" data-link-type="interface" href="https://heycam.github.io/webidl/#idl-boolean" id="ref-for-idl-boolean⑨"><span class="kt">boolean</span></a> > <a class="nv" href="#dom-publickeycredential-isuserverifyingplatformauthenticatoravailable"><code>isUserVerifyingPlatformAuthenticatorAvailable</code></a>();
};

[<a class="nv idl-code" data-link-type="extended-attribute" href="https://heycam.github.io/webidl/#SecureContext" id="ref-for-SecureContext①①">SecureContext</a>, <a class="nv idl-code" data-link-type="extended-attribute" href="https://heycam.github.io/webidl/#Exposed" id="ref-for-Exposed①①">Exposed</a>=<span class="n">Window</span>]
<span class="kt">interface</span> <a class="nv idl-code" data-link-type="interface" href="#authenticatorresponse" id="ref-for-authenticatorresponse③①">AuthenticatorResponse</a> {
    [<a class="nv idl-code" data-link-type="extended-attribute" href="https://heycam.github.io/webidl/#SameObject" id="ref-for-SameObject②①">SameObject</a>] <span class="kt">readonly</span> <span class="kt">attribute</span> <a class="n idl-code" data-link-type="interface" href="https://heycam.github.io/webidl/#idl-ArrayBuffer" id="ref-for-idl-ArrayBuffer①①①"><span class="kt">ArrayBuffer</span></a>      <a class="nv idl-code" data-link-type="attribute" data-readonly="" data-type="ArrayBuffer" href="#dom-authenticatorresponse-clientdatajson" id="ref-for-dom-authenticatorresponse-clientdatajson④①">clientDataJSON</a>;
};

[<a class="nv idl-code" data-link-type="extended-attribute" href="https://heycam.github.io/webidl/#SecureContext" id="ref-for-SecureContext②①">SecureContext</a>, <a class="nv idl-code" data-link-type="extended-attribute" href="https://heycam.github.io/webidl/#Exposed" id="ref-for-Exposed②①">Exposed</a>=<span class="n">Window</span>]
<span class="kt">interface</span> <a class="nv idl-code" data-link-type="interface" href="#authenticatorattestationresponse" id="ref-for-authenticatorattestationresponse③①">AuthenticatorAttestationResponse</a> : <a class="n" data-link-type="idl-name" href="#authenticatorresponse" id="ref-for-authenticatorresponse④①">AuthenticatorResponse</a> {
    [<a class="nv idl-code" data-link-type="extended-attribute" href="https://heycam.github.io/webidl/#SameObject" id="ref-for-SameObject③①">SameObject</a>] <span class="kt">readonly</span> <span class="kt">attribute</span> <a class="n idl-code" data-link-type="interface" href="https://heycam.github.io/webidl/#idl-ArrayBuffer" id="ref-for-idl-ArrayBuffer①③①"><span class="kt">ArrayBuffer</span></a>      <a class="nv idl-code" data-link-type="attribute" data-readonly="" data-type="ArrayBuffer" href="#dom-authenticatorattestationresponse-attestationobject" id="ref-for-dom-authenticatorattestationresponse-attestationobject①①">attestationObject</a>;
};

[<a class="nv idl-code" data-link-type="extended-attribute" href="https://heycam.github.io/webidl/#SecureContext" id="ref-for-SecureContext③①">SecureContext</a>, <a class="nv idl-code" data-link-type="extended-attribute" href="https://heycam.github.io/webidl/#Exposed" id="ref-for-Exposed③①">Exposed</a>=<span class="n">Window</span>]
<span class="kt">interface</span> <a class="nv idl-code" data-link-type="interface" href="#authenticatorassertionresponse" id="ref-for-authenticatorassertionresponse④①">AuthenticatorAssertionResponse</a> : <a class="n" data-link-type="idl-name" href="#authenticatorresponse" id="ref-for-authenticatorresponse⑥①">AuthenticatorResponse</a> {
    [<a class="nv idl-code" data-link-type="extended-attribute" href="https://heycam.github.io/webidl/#SameObject" id="ref-for-SameObject④①">SameObject</a>] <span class="kt">readonly</span> <span class="kt">attribute</span> <a class="n idl-code" data-link-type="interface" href="https://heycam.github.io/webidl/#idl-ArrayBuffer" id="ref-for-idl-ArrayBuffer①⑤①"><span class="kt">ArrayBuffer</span></a>      <a class="nv idl-code" data-link-type="attribute" data-readonly="" data-type="ArrayBuffer" href="#dom-authenticatorassertionresponse-authenticatordata" id="ref-for-dom-authenticatorassertionresponse-authenticatordata①①">authenticatorData</a>;
    [<a class="nv idl-code" data-link-type="extended-attribute" href="https://heycam.github.io/webidl/#SameObject" id="ref-for-SameObject⑤①">SameObject</a>] <span class="kt">readonly</span> <span class="kt">attribute</span> <a class="n idl-code" data-link-type="interface" href="https://heycam.github.io/webidl/#idl-ArrayBuffer" id="ref-for-idl-ArrayBuffer①⑥①"><span class="kt">ArrayBuffer</span></a>      <a class="nv idl-code" data-link-type="attribute" data-readonly="" data-type="ArrayBuffer" href="#dom-authenticatorassertionresponse-signature" id="ref-for-dom-authenticatorassertionresponse-signature①①">signature</a>;
    [<a class="nv idl-code" data-link-type="extended-attribute" href="https://heycam.github.io/webidl/#SameObject" id="ref-for-SameObject⑥①">SameObject</a>] <span class="kt">readonly</span> <span class="kt">attribute</span> <a class="n idl-code" data-link-type="interface" href="https://heycam.github.io/webidl/#idl-ArrayBuffer" id="ref-for-idl-ArrayBuffer①⑦①"><span class="kt">ArrayBuffer</span></a>?     <a class="nv idl-code" data-link-type="attribute" data-readonly="" data-type="ArrayBuffer?" href="#dom-authenticatorassertionresponse-userhandle" id="ref-for-dom-authenticatorassertionresponse-userhandle②①">userHandle</a>;
};

<span class="kt">dictionary</span> <a class="nv idl-code" data-link-type="dictionary" href="#dictdef-publickeycredentialparameters" id="ref-for-dictdef-publickeycredentialparameters③">PublicKeyCredentialParameters</a> {
    <span class="kt">required</span> <a class="n" data-link-type="idl-name" href="#enumdef-publickeycredentialtype" id="ref-for-enumdef-publickeycredentialtype③①">PublicKeyCredentialType</a>      <a class="nv idl-code" data-link-type="dict-member" data-type="PublicKeyCredentialType      " href="#dom-publickeycredentialparameters-type" id="ref-for-dom-publickeycredentialparameters-type②①">type</a>;
    <span class="kt">required</span> <a class="n" data-link-type="idl-name" href="#typedefdef-cosealgorithmidentifier" id="ref-for-typedefdef-cosealgorithmidentifier①①">COSEAlgorithmIdentifier</a>      <a class="nv idl-code" data-link-type="dict-member" data-type="COSEAlgorithmIdentifier      " href="#dom-publickeycredentialparameters-alg" id="ref-for-dom-publickeycredentialparameters-alg①①">alg</a>;
};

<span class="kt">dictionary</span> <a class="nv idl-code" data-link-type="dictionary" href="#dictdef-publickeycredentialcreationoptions" id="ref-for-dictdef-publickeycredentialcreationoptions②①">PublicKeyCredentialCreationOptions</a> {
    <span class="kt">required</span> <a class="n" data-link-type="idl-name" href="#dictdef-publickeycredentialrpentity" id="ref-for-dictdef-publickeycredentialrpentity⑥">PublicKeyCredentialRpEntity</a>         <a class="nv idl-code" data-link-type="dict-member" data-type="PublicKeyCredentialRpEntity         " href="#dom-publickeycredentialcreationoptions-rp" id="ref-for-dom-publickeycredentialcreationoptions-rp⑥①">rp</a>;
    <span class="kt">required</span> <a class="n" data-link-type="idl-name" href="#dictdef-publickeycredentialuserentity" id="ref-for-dictdef-publickeycredentialuserentity⑦">PublicKeyCredentialUserEntity</a>       <a class="nv idl-code" data-link-type="dict-member" data-type="PublicKeyCredentialUserEntity       " href="#dom-publickeycredentialcreationoptions-user" id="ref-for-dom-publickeycredentialcreationoptions-user①①">user</a>;

    <span class="kt">required</span> <a class="n" data-link-type="idl-name" href="https://heycam.github.io/webidl/#BufferSource" id="ref-for-BufferSource⑨">BufferSource</a>                             <a class="nv idl-code" data-link-type="dict-member" data-type="BufferSource                             " href="#dom-publickeycredentialcreationoptions-challenge" id="ref-for-dom-publickeycredentialcreationoptions-challenge①①">challenge</a>;
    <span class="kt">required</span> <span class="kt">sequence</span>&lt;<a class="n" data-link-type="idl-name" href="#dictdef-publickeycredentialparameters" id="ref-for-dictdef-publickeycredentialparameters①①">PublicKeyCredentialParameters</a>>  <a class="nv idl-code" data-link-type="dict-member" data-type="sequence<PublicKeyCredentialParameters>  " href="#dom-publickeycredentialcreationoptions-pubkeycredparams" id="ref-for-dom-publickeycredentialcreationoptions-pubkeycredparams②①">pubKeyCredParams</a>;

    <a class="n idl-code" data-link-type="interface" href="https://heycam.github.io/webidl/#idl-unsigned-long" id="ref-for-idl-unsigned-long⑤"><span class="kt">unsigned</span> <span class="kt">long</span></a>                                <a class="nv idl-code" data-link-type="dict-member" data-type="unsigned long                                " href="#dom-publickeycredentialcreationoptions-timeout" id="ref-for-dom-publickeycredentialcreationoptions-timeout②①">timeout</a>;
    <span class="kt">sequence</span>&lt;<a class="n" data-link-type="idl-name" href="#dictdef-publickeycredentialdescriptor" id="ref-for-dictdef-publickeycredentialdescriptor⑧">PublicKeyCredentialDescriptor</a>>      <a class="nv idl-code" data-default="None" data-link-type="dict-member" data-type="sequence<PublicKeyCredentialDescriptor>      " href="#dom-publickeycredentialcreationoptions-excludecredentials" id="ref-for-dom-publickeycredentialcreationoptions-excludecredentials①①">excludeCredentials</a> = [];
    <a class="n" data-link-type="idl-name" href="#dictdef-authenticatorselectioncriteria" id="ref-for-dictdef-authenticatorselectioncriteria④">AuthenticatorSelectionCriteria</a>               <a class="nv idl-code" data-link-type="dict-member" data-type="AuthenticatorSelectionCriteria               " href="#dom-publickeycredentialcreationoptions-authenticatorselection" id="ref-for-dom-publickeycredentialcreationoptions-authenticatorselection⑥①">authenticatorSelection</a>;
    <a class="n" data-link-type="idl-name" href="#enumdef-attestationconveyancepreference" id="ref-for-enumdef-attestationconveyancepreference④">AttestationConveyancePreference</a>              <a class="nv idl-code" data-default="&quot;none&quot;" data-link-type="dict-member" data-type="AttestationConveyancePreference              " href="#dom-publickeycredentialcreationoptions-attestation" id="ref-for-dom-publickeycredentialcreationoptions-attestation①①">attestation</a> = "none";
    <a class="n" data-link-type="idl-name" href="#dictdef-authenticationextensionsclientinputs" id="ref-for-dictdef-authenticationextensionsclientinputs①③">AuthenticationExtensionsClientInputs</a>         <a class="nv idl-code" data-link-type="dict-member" data-type="AuthenticationExtensionsClientInputs         " href="#dom-publickeycredentialcreationoptions-extensions" id="ref-for-dom-publickeycredentialcreationoptions-extensions②①">extensions</a>;
};

<span class="kt">dictionary</span> <a class="nv idl-code" data-link-type="dictionary" href="#dictdef-publickeycredentialentity" id="ref-for-dictdef-publickeycredentialentity①①">PublicKeyCredentialEntity</a> {
    <span class="kt">required</span> <a class="n idl-code" data-link-type="interface" href="https://heycam.github.io/webidl/#idl-DOMString" id="ref-for-idl-DOMString①⑥"><span class="kt">DOMString</span></a>    <a class="nv idl-code" data-link-type="dict-member" data-type="DOMString    " href="#dom-publickeycredentialentity-name" id="ref-for-dom-publickeycredentialentity-name②①">name</a>;
    <a class="n idl-code" data-link-type="interface" href="https://heycam.github.io/webidl/#idl-USVString" id="ref-for-idl-USVString⑨"><span class="kt">USVString</span></a>             <a class="nv idl-code" data-link-type="dict-member" data-type="USVString             " href="#dom-publickeycredentialentity-icon" id="ref-for-dom-publickeycredentialentity-icon①">icon</a>;
};

<span class="kt">dictionary</span> <a class="nv idl-code" data-link-type="dictionary" href="#dictdef-publickeycredentialrpentity" id="ref-for-dictdef-publickeycredentialrpentity④①">PublicKeyCredentialRpEntity</a> : <a class="n" data-link-type="idl-name" href="#dictdef-publickeycredentialentity" id="ref-for-dictdef-publickeycredentialentity③①">PublicKeyCredentialEntity</a> {
    <a class="n idl-code" data-link-type="interface" href="https://heycam.github.io/webidl/#idl-DOMString" id="ref-for-idl-DOMString②①"><span class="kt">DOMString</span></a>      <a class="nv idl-code" data-link-type="dict-member" data-type="DOMString      " href="#dom-publickeycredentialrpentity-id" id="ref-for-dom-publickeycredentialrpentity-id⑥①">id</a>;
};

<span class="kt">dictionary</span> <a class="nv idl-code" data-link-type="dictionary" href="#dictdef-publickeycredentialuserentity" id="ref-for-dictdef-publickeycredentialuserentity⑤①">PublicKeyCredentialUserEntity</a> : <a class="n" data-link-type="idl-name" href="#dictdef-publickeycredentialentity" id="ref-for-dictdef-publickeycredentialentity④①">PublicKeyCredentialEntity</a> {
    <span class="kt">required</span> <a class="n" data-link-type="idl-name" href="https://heycam.github.io/webidl/#BufferSource" id="ref-for-BufferSource②①">BufferSource</a>   <a class="nv idl-code" data-link-type="dict-member" data-type="BufferSource   " href="#dom-publickeycredentialuserentity-id" id="ref-for-dom-publickeycredentialuserentity-id①①">id</a>;
    <span class="kt">required</span> <a class="n idl-code" data-link-type="interface" href="https://heycam.github.io/webidl/#idl-DOMString" id="ref-for-idl-DOMString④①"><span class="kt">DOMString</span></a>      <a class="nv idl-code" data-link-type="dict-member" data-type="DOMString      " href="#dom-publickeycredentialuserentity-displayname" id="ref-for-dom-publickeycredentialuserentity-displayname③①">displayName</a>;
};

<span class="kt">dictionary</span> <a class="nv idl-code" data-link-type="dictionary" href="#dictdef-authenticatorselectioncriteria" id="ref-for-dictdef-authenticatorselectioncriteria③①">AuthenticatorSelectionCriteria</a> {
    <a class="n" data-link-type="idl-name" href="#enumdef-authenticatorattachment" id="ref-for-enumdef-authenticatorattachment④">AuthenticatorAttachment</a>      <a class="nv idl-code" data-link-type="dict-member" data-type="AuthenticatorAttachment      " href="#dom-authenticatorselectioncriteria-authenticatorattachment" id="ref-for-dom-authenticatorselectioncriteria-authenticatorattachment①①">authenticatorAttachment</a>;
    <a class="n idl-code" data-link-type="interface" href="https://heycam.github.io/webidl/#idl-boolean" id="ref-for-idl-boolean①①"><span class="kt">boolean</span></a>                      <a class="nv idl-code" data-default="false" data-link-type="dict-member" data-type="boolean                      " href="#dom-authenticatorselectioncriteria-requireresidentkey" id="ref-for-dom-authenticatorselectioncriteria-requireresidentkey②①">requireResidentKey</a> = <span class="kt">false</span>;
    <a class="n" data-link-type="idl-name" href="#enumdef-userverificationrequirement" id="ref-for-enumdef-userverificationrequirement⑤">UserVerificationRequirement</a>  <a class="nv idl-code" data-default="&quot;preferred&quot;" data-link-type="dict-member" data-type="UserVerificationRequirement  " href="#dom-authenticatorselectioncriteria-userverification" id="ref-for-dom-authenticatorselectioncriteria-userverification②①">userVerification</a> = "preferred";
};

<span class="kt">enum</span> <a class="nv idl-code" data-link-type="enum" href="#enumdef-authenticatorattachment" id="ref-for-enumdef-authenticatorattachment②①">AuthenticatorAttachment</a> {
    <a class="s idl-code" data-link-type="enum-value" href="#dom-authenticatorattachment-platform" id="ref-for-dom-authenticatorattachment-platform①">"platform"</a>,
    <a class="s idl-code" data-link-type="enum-value" href="#dom-authenticatorattachment-cross-platform" id="ref-for-dom-authenticatorattachment-cross-platform①">"cross-platform"</a>
};

<span class="kt">enum</span> <a class="nv idl-code" data-link-type="enum" href="#enumdef-attestationconveyancepreference" id="ref-for-enumdef-attestationconveyancepreference③①">AttestationConveyancePreference</a> {
    <a class="s idl-code" data-link-type="enum-value" href="#dom-attestationconveyancepreference-none" id="ref-for-dom-attestationconveyancepreference-none①①">"none"</a>,
    <a class="s idl-code" data-link-type="enum-value" href="#dom-attestationconveyancepreference-indirect" id="ref-for-dom-attestationconveyancepreference-indirect①">"indirect"</a>,
    <a class="s idl-code" data-link-type="enum-value" href="#dom-attestationconveyancepreference-direct" id="ref-for-dom-attestationconveyancepreference-direct①">"direct"</a>
};

<span class="kt">dictionary</span> <a class="nv idl-code" data-link-type="dictionary" href="#dictdef-publickeycredentialrequestoptions" id="ref-for-dictdef-publickeycredentialrequestoptions③①">PublicKeyCredentialRequestOptions</a> {
    <span class="kt">required</span> <a class="n" data-link-type="idl-name" href="https://heycam.github.io/webidl/#BufferSource" id="ref-for-BufferSource④①">BufferSource</a>                <a class="nv idl-code" data-link-type="dict-member" data-type="BufferSource                " href="#dom-publickeycredentialrequestoptions-challenge" id="ref-for-dom-publickeycredentialrequestoptions-challenge②①">challenge</a>;
    <a class="n idl-code" data-link-type="interface" href="https://heycam.github.io/webidl/#idl-unsigned-long" id="ref-for-idl-unsigned-long②①"><span class="kt">unsigned</span> <span class="kt">long</span></a>                        <a class="nv idl-code" data-link-type="dict-member" data-type="unsigned long                        " href="#dom-publickeycredentialrequestoptions-timeout" id="ref-for-dom-publickeycredentialrequestoptions-timeout②①">timeout</a>;
    <a class="n idl-code" data-link-type="interface" href="https://heycam.github.io/webidl/#idl-USVString" id="ref-for-idl-USVString②①"><span class="kt">USVString</span></a>                            <a class="nv idl-code" data-link-type="dict-member" data-type="USVString                            " href="#dom-publickeycredentialrequestoptions-rpid" id="ref-for-dom-publickeycredentialrequestoptions-rpid④①">rpId</a>;
    <span class="kt">sequence</span>&lt;<a class="n" data-link-type="idl-name" href="#dictdef-publickeycredentialdescriptor" id="ref-for-dictdef-publickeycredentialdescriptor②①">PublicKeyCredentialDescriptor</a>> <a class="nv idl-code" data-default="None" data-link-type="dict-member" data-type="sequence<PublicKeyCredentialDescriptor> " href="#dom-publickeycredentialrequestoptions-allowcredentials" id="ref-for-dom-publickeycredentialrequestoptions-allowcredentials④①">allowCredentials</a> = [];
    <a class="n" data-link-type="idl-name" href="#enumdef-userverificationrequirement" id="ref-for-enumdef-userverificationrequirement②①">UserVerificationRequirement</a>          <a class="nv idl-code" data-default="&quot;preferred&quot;" data-link-type="dict-member" data-type="UserVerificationRequirement          " href="#dom-publickeycredentialrequestoptions-userverification" id="ref-for-dom-publickeycredentialrequestoptions-userverification②①">userVerification</a> = "preferred";
    <a class="n" data-link-type="idl-name" href="#dictdef-authenticationextensionsclientinputs" id="ref-for-dictdef-authenticationextensionsclientinputs②①">AuthenticationExtensionsClientInputs</a> <a class="nv idl-code" data-link-type="dict-member" data-type="AuthenticationExtensionsClientInputs " href="#dom-publickeycredentialrequestoptions-extensions" id="ref-for-dom-publickeycredentialrequestoptions-extensions②①">extensions</a>;
};

<span class="kt">dictionary</span> <a class="nv" href="#dictdef-authenticationextensionsclientinputs"><code>AuthenticationExtensionsClientInputs</code></a> {
};

<span class="kt">dictionary</span> <a class="nv" href="#dictdef-authenticationextensionsclientoutputs"><code>AuthenticationExtensionsClientOutputs</code></a> {
};

<span class="kt">typedef</span> <span class="kt">record</span>&lt;<a class="n idl-code" data-link-type="interface" href="https://heycam.github.io/webidl/#idl-DOMString" id="ref-for-idl-DOMString⑥①"><span class="kt">DOMString</span></a>, <a class="n idl-code" data-link-type="interface" href="https://heycam.github.io/webidl/#idl-DOMString" id="ref-for-idl-DOMString⑦①"><span class="kt">DOMString</span></a>> <a class="nv" href="#typedefdef-authenticationextensionsauthenticatorinputs"><code>AuthenticationExtensionsAuthenticatorInputs</code></a>;

<span class="kt">dictionary</span> <a class="nv idl-code" data-link-type="dictionary" href="#dictdef-collectedclientdata" id="ref-for-dictdef-collectedclientdata③①">CollectedClientData</a> {
    <span class="kt">required</span> <a class="n idl-code" data-link-type="interface" href="https://heycam.github.io/webidl/#idl-DOMString" id="ref-for-idl-DOMString⑧①"><span class="kt">DOMString</span></a>           <a class="nv idl-code" data-link-type="dict-member" data-type="DOMString           " href="#dom-collectedclientdata-type" id="ref-for-dom-collectedclientdata-type②①">type</a>;
    <span class="kt">required</span> <a class="n idl-code" data-link-type="interface" href="https://heycam.github.io/webidl/#idl-DOMString" id="ref-for-idl-DOMString⑨①"><span class="kt">DOMString</span></a>           <a class="nv idl-code" data-link-type="dict-member" data-type="DOMString           " href="#dom-collectedclientdata-challenge" id="ref-for-dom-collectedclientdata-challenge②①">challenge</a>;
    <span class="kt">required</span> <a class="n idl-code" data-link-type="interface" href="https://heycam.github.io/webidl/#idl-DOMString" id="ref-for-idl-DOMString①⓪①"><span class="kt">DOMString</span></a>           <a class="nv idl-code" data-link-type="dict-member" data-type="DOMString           " href="#dom-collectedclientdata-origin" id="ref-for-dom-collectedclientdata-origin②①">origin</a>;
    <a class="n" data-link-type="idl-name" href="#dictdef-tokenbinding" id="ref-for-dictdef-tokenbinding②">TokenBinding</a>                 <a class="nv idl-code" data-link-type="dict-member" data-type="TokenBinding                 " href="#dom-collectedclientdata-tokenbinding" id="ref-for-dom-collectedclientdata-tokenbinding②①">tokenBinding</a>;
};

<span class="kt">dictionary</span> <a class="nv" href="#dictdef-tokenbinding"><code>TokenBinding</code></a> {
    <span class="kt">required</span> <a class="n" data-link-type="idl-name" href="#enumdef-tokenbindingstatus" id="ref-for-enumdef-tokenbindingstatus②">TokenBindingStatus</a> <a class="nv idl-code" data-link-type="dict-member" data-type="TokenBindingStatus " href="#dom-tokenbinding-status" id="ref-for-dom-tokenbinding-status④">status</a>;
    <a class="n idl-code" data-link-type="interface" href="https://heycam.github.io/webidl/#idl-DOMString" id="ref-for-idl-DOMString①①①"><span class="kt">DOMString</span></a> <a class="nv idl-code" data-link-type="dict-member" data-type="DOMString " href="#dom-tokenbinding-id" id="ref-for-dom-tokenbinding-id④">id</a>;
};

<span class="kt">enum</span> <a class="nv" href="#enumdef-tokenbindingstatus"><code>TokenBindingStatus</code></a> { <a class="s idl-code" data-link-type="enum-value" href="#dom-tokenbindingstatus-present" id="ref-for-dom-tokenbindingstatus-present②">"present"</a>, <a class="s idl-code" data-link-type="enum-value" href="#dom-tokenbindingstatus-supported" id="ref-for-dom-tokenbindingstatus-supported①">"supported"</a>, <a class="s idl-code" data-link-type="enum-value" href="#dom-tokenbindingstatus-not-supported" id="ref-for-dom-tokenbindingstatus-not-supported①">"not-supported"</a> };

<span class="kt">enum</span> <a class="nv idl-code" data-link-type="enum" href="#enumdef-publickeycredentialtype" id="ref-for-enumdef-publickeycredentialtype⑤①">PublicKeyCredentialType</a> {
    <a class="s idl-code" data-link-type="enum-value" href="#dom-publickeycredentialtype-public-key" id="ref-for-dom-publickeycredentialtype-public-key①①">"public-key"</a>
};

<span class="kt">dictionary</span> <a class="nv idl-code" data-link-type="dictionary" href="#dictdef-publickeycredentialdescriptor" id="ref-for-dictdef-publickeycredentialdescriptor⑤①">PublicKeyCredentialDescriptor</a> {
    <span class="kt">required</span> <a class="n" data-link-type="idl-name" href="#enumdef-publickeycredentialtype" id="ref-for-enumdef-publickeycredentialtype⑥①">PublicKeyCredentialType</a>      <a class="nv idl-code" data-link-type="dict-member" data-type="PublicKeyCredentialType      " href="#dom-publickeycredentialdescriptor-type" id="ref-for-dom-publickeycredentialdescriptor-type①①">type</a>;
    <span class="kt">required</span> <a class="n" data-link-type="idl-name" href="https://heycam.github.io/webidl/#BufferSource" id="ref-for-BufferSource⑥①">BufferSource</a>                 <a class="nv idl-code" data-link-type="dict-member" data-type="BufferSource                 " href="#dom-publickeycredentialdescriptor-id" id="ref-for-dom-publickeycredentialdescriptor-id①①">id</a>;
    <span class="kt">sequence</span>&lt;<a class="n" data-link-type="idl-name" href="#enumdef-authenticatortransport" id="ref-for-enumdef-authenticatortransport③">AuthenticatorTransport</a>>      <a class="nv idl-code" data-link-type="dict-member" data-type="sequence<AuthenticatorTransport>      " href="#dom-publickeycredentialdescriptor-transports" id="ref-for-dom-publickeycredentialdescriptor-transports④①">transports</a>;
};

<span class="kt">enum</span> <a class="nv idl-code" data-link-type="enum" href="#enumdef-authenticatortransport" id="ref-for-enumdef-authenticatortransport②①">AuthenticatorTransport</a> {
    <a class="s idl-code" data-link-type="enum-value" href="#dom-authenticatortransport-usb" id="ref-for-dom-authenticatortransport-usb①">"usb"</a>,
    <a class="s idl-code" data-link-type="enum-value" href="#dom-authenticatortransport-nfc" id="ref-for-dom-authenticatortransport-nfc①">"nfc"</a>,
    <a class="s idl-code" data-link-type="enum-value" href="#dom-authenticatortransport-ble" id="ref-for-dom-authenticatortransport-ble①">"ble"</a>,
    <a class="s idl-code" data-link-type="enum-value" href="#dom-authenticatortransport-internal" id="ref-for-dom-authenticatortransport-internal①">"internal"</a>
};

<span class="kt">typedef</span> <a class="n idl-code" data-link-type="interface" href="https://heycam.github.io/webidl/#idl-long" id="ref-for-idl-long①"><span class="kt">long</span></a> <a class="nv" href="#typedefdef-cosealgorithmidentifier"><code>COSEAlgorithmIdentifier</code></a>;

<span class="kt">enum</span> <a class="nv idl-code" data-link-type="enum" href="#enumdef-userverificationrequirement" id="ref-for-enumdef-userverificationrequirement④①">UserVerificationRequirement</a> {
    <a class="s idl-code" data-link-type="enum-value" href="#dom-userverificationrequirement-required" id="ref-for-dom-userverificationrequirement-required④①">"required"</a>,
    <a class="s idl-code" data-link-type="enum-value" href="#dom-userverificationrequirement-preferred" id="ref-for-dom-userverificationrequirement-preferred②①">"preferred"</a>,
    <a class="s idl-code" data-link-type="enum-value" href="#dom-userverificationrequirement-discouraged" id="ref-for-dom-userverificationrequirement-discouraged②①">"discouraged"</a>
};

<span class="kt">partial</span> <span class="kt">dictionary</span> <a class="nv idl-code" data-link-type="dictionary" href="#dictdef-authenticationextensionsclientinputs" id="ref-for-dictdef-authenticationextensionsclientinputs⑤①">AuthenticationExtensionsClientInputs</a> {
  <a class="n idl-code" data-link-type="interface" href="https://heycam.github.io/webidl/#idl-USVString" id="ref-for-idl-USVString④①"><span class="kt">USVString</span></a> <a class="nv" data-type="USVString " href="#dom-authenticationextensionsclientinputs-appid"><code>appid</code></a>;
};

<span class="kt">partial</span> <span class="kt">dictionary</span> <a class="nv idl-code" data-link-type="dictionary" href="#dictdef-authenticationextensionsclientoutputs" id="ref-for-dictdef-authenticationextensionsclientoutputs⑥①">AuthenticationExtensionsClientOutputs</a> {
  <a class="n idl-code" data-link-type="interface" href="https://heycam.github.io/webidl/#idl-boolean" id="ref-for-idl-boolean③①"><span class="kt">boolean</span></a> <a class="nv" data-type="boolean " href="#dom-authenticationextensionsclientoutputs-appid"><code>appid</code></a>;
};

<span class="kt">partial</span> <span class="kt">dictionary</span> <a class="nv idl-code" data-link-type="dictionary" href="#dictdef-authenticationextensionsclientinputs" id="ref-for-dictdef-authenticationextensionsclientinputs⑥①">AuthenticationExtensionsClientInputs</a> {
  <a class="n idl-code" data-link-type="interface" href="https://heycam.github.io/webidl/#idl-USVString" id="ref-for-idl-USVString⑤①"><span class="kt">USVString</span></a> <a class="nv" data-type="USVString " href="#dom-authenticationextensionsclientinputs-txauthsimple"><code>txAuthSimple</code></a>;
};

<span class="kt">partial</span> <span class="kt">dictionary</span> <a class="nv idl-code" data-link-type="dictionary" href="#dictdef-authenticationextensionsclientoutputs" id="ref-for-dictdef-authenticationextensionsclientoutputs⑦①">AuthenticationExtensionsClientOutputs</a> {
  <a class="n idl-code" data-link-type="interface" href="https://heycam.github.io/webidl/#idl-USVString" id="ref-for-idl-USVString⑥①"><span class="kt">USVString</span></a> <a class="nv" data-type="USVString " href="#dom-authenticationextensionsclientoutputs-txauthsimple"><code>txAuthSimple</code></a>;
};

<span class="kt">dictionary</span> <a class="nv" href="#dictdef-txauthgenericarg"><code>txAuthGenericArg</code></a> {
    <span class="kt">required</span> <a class="n idl-code" data-link-type="interface" href="https://heycam.github.io/webidl/#idl-USVString" id="ref-for-idl-USVString⑦①"><span class="kt">USVString</span></a> <a class="nv" data-type="USVString " href="#dom-txauthgenericarg-contenttype"><code>contentType</code></a>;    // MIME-Type of the content, e.g., "image/png"
    <span class="kt">required</span> <a class="n idl-code" data-link-type="interface" href="https://heycam.github.io/webidl/#idl-ArrayBuffer" id="ref-for-idl-ArrayBuffer②①①"><span class="kt">ArrayBuffer</span></a> <a class="nv" data-type="ArrayBuffer " href="#dom-txauthgenericarg-content"><code>content</code></a>;
};

<span class="kt">partial</span> <span class="kt">dictionary</span> <a class="nv idl-code" data-link-type="dictionary" href="#dictdef-authenticationextensionsclientinputs" id="ref-for-dictdef-authenticationextensionsclientinputs⑦①">AuthenticationExtensionsClientInputs</a> {
  <a class="n" data-link-type="idl-name" href="#dictdef-txauthgenericarg" id="ref-for-dictdef-txauthgenericarg①">txAuthGenericArg</a> <a class="nv" data-type="txAuthGenericArg " href="#dom-authenticationextensionsclientinputs-txauthgeneric"><code>txAuthGeneric</code></a>;
};

<span class="kt">partial</span> <span class="kt">dictionary</span> <a class="nv idl-code" data-link-type="dictionary" href="#dictdef-authenticationextensionsclientoutputs" id="ref-for-dictdef-authenticationextensionsclientoutputs⑧①">AuthenticationExtensionsClientOutputs</a> {
  <a class="n idl-code" data-link-type="interface" href="https://heycam.github.io/webidl/#idl-ArrayBuffer" id="ref-for-idl-ArrayBuffer②②①"><span class="kt">ArrayBuffer</span></a> <a class="nv" data-type="ArrayBuffer " href="#dom-authenticationextensionsclientoutputs-txauthgeneric"><code>txAuthGeneric</code></a>;
};

<span class="kt">typedef</span> <span class="kt">sequence</span>&lt;<a class="n" data-link-type="idl-name" href="#typedefdef-aaguid" id="ref-for-typedefdef-aaguid①">AAGUID</a>> <a class="nv" href="#typedefdef-authenticatorselectionlist"><code>AuthenticatorSelectionList</code></a>;

<span class="kt">partial</span> <span class="kt">dictionary</span> <a class="nv idl-code" data-link-type="dictionary" href="#dictdef-authenticationextensionsclientinputs" id="ref-for-dictdef-authenticationextensionsclientinputs⑧①">AuthenticationExtensionsClientInputs</a> {
  <a class="n" data-link-type="idl-name" href="#typedefdef-authenticatorselectionlist" id="ref-for-typedefdef-authenticatorselectionlist②">AuthenticatorSelectionList</a> <a class="nv" data-type="AuthenticatorSelectionList " href="#dom-authenticationextensionsclientinputs-authnsel"><code>authnSel</code></a>;
};

<span class="kt">typedef</span> <a class="n" data-link-type="idl-name" href="https://heycam.github.io/webidl/#BufferSource" id="ref-for-BufferSource⑧①">BufferSource</a>      <a class="nv" href="#typedefdef-aaguid"><code>AAGUID</code></a>;

<span class="kt">partial</span> <span class="kt">dictionary</span> <a class="nv idl-code" data-link-type="dictionary" href="#dictdef-authenticationextensionsclientoutputs" id="ref-for-dictdef-authenticationextensionsclientoutputs⑨①">AuthenticationExtensionsClientOutputs</a> {
  <a class="n idl-code" data-link-type="interface" href="https://heycam.github.io/webidl/#idl-boolean" id="ref-for-idl-boolean④①"><span class="kt">boolean</span></a> <a class="nv" data-type="boolean " href="#dom-authenticationextensionsclientoutputs-authnsel"><code>authnSel</code></a>;
};

<span class="kt">partial</span> <span class="kt">dictionary</span> <a class="nv idl-code" data-link-type="dictionary" href="#dictdef-authenticationextensionsclientinputs" id="ref-for-dictdef-authenticationextensionsclientinputs⑨①">AuthenticationExtensionsClientInputs</a> {
  <a class="n idl-code" data-link-type="interface" href="https://heycam.github.io/webidl/#idl-boolean" id="ref-for-idl-boolean⑤①"><span class="kt">boolean</span></a> <a class="nv" data-type="boolean " href="#dom-authenticationextensionsclientinputs-exts"><code>exts</code></a>;
};

<span class="kt">typedef</span> <span class="kt">sequence</span>&lt;<a class="n idl-code" data-link-type="interface" href="https://heycam.github.io/webidl/#idl-USVString" id="ref-for-idl-USVString⑧①"><span class="kt">USVString</span></a>> <a class="nv" href="#typedefdef-authenticationextensionssupported"><code>AuthenticationExtensionsSupported</code></a>;

<span class="kt">partial</span> <span class="kt">dictionary</span> <a class="nv idl-code" data-link-type="dictionary" href="#dictdef-authenticationextensionsclientoutputs" id="ref-for-dictdef-authenticationextensionsclientoutputs①⓪①">AuthenticationExtensionsClientOutputs</a> {
  <a class="n" data-link-type="idl-name" href="#typedefdef-authenticationextensionssupported" id="ref-for-typedefdef-authenticationextensionssupported①">AuthenticationExtensionsSupported</a> <a class="nv" data-type="AuthenticationExtensionsSupported " href="#dom-authenticationextensionsclientoutputs-exts"><code>exts</code></a>;
};

<span class="kt">partial</span> <span class="kt">dictionary</span> <a class="nv idl-code" data-link-type="dictionary" href="#dictdef-authenticationextensionsclientinputs" id="ref-for-dictdef-authenticationextensionsclientinputs①⓪①">AuthenticationExtensionsClientInputs</a> {
  <a class="n idl-code" data-link-type="interface" href="https://heycam.github.io/webidl/#idl-boolean" id="ref-for-idl-boolean⑥①"><span class="kt">boolean</span></a> <a class="nv" data-type="boolean " href="#dom-authenticationextensionsclientinputs-uvi"><code>uvi</code></a>;
};

<span class="kt">partial</span> <span class="kt">dictionary</span> <a class="nv idl-code" data-link-type="dictionary" href="#dictdef-authenticationextensionsclientoutputs" id="ref-for-dictdef-authenticationextensionsclientoutputs①①①">AuthenticationExtensionsClientOutputs</a> {
  <a class="n idl-code" data-link-type="interface" href="https://heycam.github.io/webidl/#idl-ArrayBuffer" id="ref-for-idl-ArrayBuffer②③①"><span class="kt">ArrayBuffer</span></a> <a class="nv" data-type="ArrayBuffer " href="#dom-authenticationextensionsclientoutputs-uvi"><code>uvi</code></a>;
};

<span class="kt">partial</span> <span class="kt">dictionary</span> <a class="nv idl-code" data-link-type="dictionary" href="#dictdef-authenticationextensionsclientinputs" id="ref-for-dictdef-authenticationextensionsclientinputs①①①">AuthenticationExtensionsClientInputs</a> {
  <a class="n idl-code" data-link-type="interface" href="https://heycam.github.io/webidl/#idl-boolean" id="ref-for-idl-boolean⑦①"><span class="kt">boolean</span></a> <a class="nv" data-type="boolean " href="#dom-authenticationextensionsclientinputs-loc"><code>loc</code></a>;
};

<span class="kt">partial</span> <span class="kt">dictionary</span> <a class="nv idl-code" data-link-type="dictionary" href="#dictdef-authenticationextensionsclientoutputs" id="ref-for-dictdef-authenticationextensionsclientoutputs①②①">AuthenticationExtensionsClientOutputs</a> {
  <a class="n" data-link-type="idl-name" href="https://dev.w3.org/geo/api/spec-source.html#coordinates_interface" id="ref-for-coordinates_interface①①">Coordinates</a> <a class="nv" data-type="Coordinates " href="#dom-authenticationextensionsclientoutputs-loc"><code>loc</code></a>;
};

<span class="kt">partial</span> <span class="kt">dictionary</span> <a class="nv idl-code" data-link-type="dictionary" href="#dictdef-authenticationextensionsclientinputs" id="ref-for-dictdef-authenticationextensionsclientinputs①②①">AuthenticationExtensionsClientInputs</a> {
  <a class="n idl-code" data-link-type="interface" href="https://heycam.github.io/webidl/#idl-boolean" id="ref-for-idl-boolean⑧①"><span class="kt">boolean</span></a> <a class="nv" data-type="boolean " href="#dom-authenticationextensionsclientinputs-uvm"><code>uvm</code></a>;
};

<span class="kt">typedef</span> <span class="kt">sequence</span>&lt;<a class="n idl-code" data-link-type="interface" href="https://heycam.github.io/webidl/#idl-unsigned-long" id="ref-for-idl-unsigned-long④①"><span class="kt">unsigned</span> <span class="kt">long</span></a>> <a class="nv" href="#typedefdef-uvmentry"><code>UvmEntry</code></a>;
<span class="kt">typedef</span> <span class="kt">sequence</span>&lt;<a class="n" data-link-type="idl-name" href="#typedefdef-uvmentry" id="ref-for-typedefdef-uvmentry①">UvmEntry</a>> <a class="nv" href="#typedefdef-uvmentries"><code>UvmEntries</code></a>;

<span class="kt">partial</span> <span class="kt">dictionary</span> <a class="nv idl-code" data-link-type="dictionary" href="#dictdef-authenticationextensionsclientoutputs" id="ref-for-dictdef-authenticationextensionsclientoutputs①③①">AuthenticationExtensionsClientOutputs</a> {
  <a class="n" data-link-type="idl-name" href="#typedefdef-uvmentries" id="ref-for-typedefdef-uvmentries①">UvmEntries</a> <a class="nv" data-type="UvmEntries " href="#dom-authenticationextensionsclientoutputs-uvm"><code>uvm</code></a>;
};

<span class="kt">dictionary</span> <a class="nv" href="#dictdef-authenticatorbiometricperfbounds"><code>authenticatorBiometricPerfBounds</code></a>{
    <a class="n idl-code" data-link-type="interface" href="https://heycam.github.io/webidl/#idl-float" id="ref-for-idl-float②"><span class="kt">float</span></a> <a class="nv" data-type="float " href="#dom-authenticatorbiometricperfbounds-far"><code>FAR</code></a>;
    <a class="n idl-code" data-link-type="interface" href="https://heycam.github.io/webidl/#idl-float" id="ref-for-idl-float①①"><span class="kt">float</span></a> <a class="nv" data-type="float " href="#dom-authenticatorbiometricperfbounds-frr"><code>FRR</code></a>;
    };

</pre>
  <h2 class="no-num no-ref heading settled" id="issues-index"><span class="content">Issues Index</span><a class="self-link" href="#issues-index"></a></h2>
  <div style="counter-reset:issue">
   <div class="issue"> The WHATWG HTML WG is discussing whether to provide a hook when a browsing context gains or
    loses focuses. If a hook is provided, the above paragraph will be updated to include the hook.
    See <a href="https://github.com/whatwg/html/issues/2711">WHATWG HTML WG Issue #2711</a> for more details.<a href="#issue-c0359d2a"> ↵ </a></div>
  </div>
  <aside class="dfn-panel" data-for="base64url-encoding">
   <b><a href="#base64url-encoding">#base64url-encoding</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-base64url-encoding">5.1. PublicKeyCredential Interface</a>
    <li><a href="#ref-for-base64url-encoding①">5.1.3. Create a new credential - PublicKeyCredential’s [[Create]](origin, options, sameOriginWithAncestors) method</a> <a href="#ref-for-base64url-encoding②">(2)</a>
    <li><a href="#ref-for-base64url-encoding③">5.1.4.1. PublicKeyCredential’s [[DiscoverFromExternalSource]](origin, options, sameOriginWithAncestors) method</a> <a href="#ref-for-base64url-encoding④">(2)</a>
    <li><a href="#ref-for-base64url-encoding⑤">5.10.1. Client data used in WebAuthn signatures (dictionary CollectedClientData)</a>
    <li><a href="#ref-for-base64url-encoding⑥">7.1. Registering a new credential</a>
    <li><a href="#ref-for-base64url-encoding⑦">7.2. Verifying an authentication assertion</a> <a href="#ref-for-base64url-encoding⑧">(2)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="cbor">
   <b><a href="#cbor">#cbor</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-cbor">2.4. All Conformance Classes</a>
    <li><a href="#ref-for-cbor①">3. Dependencies</a>
    <li><a href="#ref-for-cbor②">5.1.3. Create a new credential - PublicKeyCredential’s [[Create]](origin, options, sameOriginWithAncestors) method</a> <a href="#ref-for-cbor③">(2)</a>
    <li><a href="#ref-for-cbor④">5.1.4.1. PublicKeyCredential’s [[DiscoverFromExternalSource]](origin, options, sameOriginWithAncestors) method</a>
    <li><a href="#ref-for-cbor⑤">6.1. Authenticator data</a> <a href="#ref-for-cbor⑥">(2)</a>
    <li><a href="#ref-for-cbor⑦">6.2.2. The authenticatorMakeCredential operation</a>
    <li><a href="#ref-for-cbor⑧">6.2.3.  The authenticatorGetAssertion operation</a>
    <li><a href="#ref-for-cbor⑨">9. WebAuthn Extensions</a> <a href="#ref-for-cbor①⓪">(2)</a> <a href="#ref-for-cbor①①">(3)</a> <a href="#ref-for-cbor①②">(4)</a> <a href="#ref-for-cbor①③">(5)</a> <a href="#ref-for-cbor①④">(6)</a> <a href="#ref-for-cbor①⑤">(7)</a>
    <li><a href="#ref-for-cbor①⑥">9.2. Defining extensions</a> <a href="#ref-for-cbor①⑦">(2)</a>
    <li><a href="#ref-for-cbor①⑧">9.3. Extending request parameters</a>
    <li><a href="#ref-for-cbor①⑨">9.4. Client extension processing</a> <a href="#ref-for-cbor②⓪">(2)</a>
    <li><a href="#ref-for-cbor②①">9.5. Authenticator extension processing</a> <a href="#ref-for-cbor②②">(2)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="assertion">
   <b><a href="#assertion">#assertion</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-assertion">7.1. Registering a new credential</a>
    <li><a href="#ref-for-assertion①">10.1. FIDO AppID Extension (appid)</a>
    <li><a href="#ref-for-assertion②">13.4. credentialId Unsigned</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="attestation">
   <b><a href="#attestation">#attestation</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-attestation②">4. Terminology</a> <a href="#ref-for-attestation③">(2)</a>
    <li><a href="#ref-for-attestation④">5.4.6. Attestation Conveyance Preference enumeration (enum AttestationConveyancePreference)</a> <a href="#ref-for-attestation⑤">(2)</a>
    <li><a href="#ref-for-attestation⑥">6. WebAuthn Authenticator Model</a> <a href="#ref-for-attestation⑦">(2)</a>
    <li><a href="#ref-for-attestation⑧">6.3. Attestation</a> <a href="#ref-for-attestation⑨">(2)</a> <a href="#ref-for-attestation①⓪">(3)</a> <a href="#ref-for-attestation①①">(4)</a>
    <li><a href="#ref-for-attestation①②">8.2. Packed Attestation Statement Format</a>
    <li><a href="#ref-for-attestation①③">11.1. WebAuthn Attestation Statement Format Identifier Registrations</a>
    <li><a href="#ref-for-attestation①④">13. Security Considerations</a>
    <li><a href="#ref-for-attestation①⑤">13.3.1. Considerations for Self and None Attestation Types and Ignoring Attestation</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="attestation-certificate">
   <b><a href="#attestation-certificate">#attestation-certificate</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-attestation-certificate">4. Terminology</a> <a href="#ref-for-attestation-certificate①">(2)</a>
    <li><a href="#ref-for-attestation-certificate②">6.3.3. Attestation Types</a>
    <li><a href="#ref-for-attestation-certificate③">8.3.1. TPM attestation statement certificate requirements</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="attestation-key-pair">
   <b><a href="#attestation-key-pair">#attestation-key-pair</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-attestation-key-pair">4. Terminology</a> <a href="#ref-for-attestation-key-pair①">(2)</a>
    <li><a href="#ref-for-attestation-key-pair②">6.3. Attestation</a>
    <li><a href="#ref-for-attestation-key-pair③">6.3.3. Attestation Types</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="attestation-private-key">
   <b><a href="#attestation-private-key">#attestation-private-key</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-attestation-private-key">6. WebAuthn Authenticator Model</a>
    <li><a href="#ref-for-attestation-private-key①">6.3. Attestation</a>
    <li><a href="#ref-for-attestation-private-key②">8.2. Packed Attestation Statement Format</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="attestation-public-key">
   <b><a href="#attestation-public-key">#attestation-public-key</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-attestation-public-key">6.3. Attestation</a>
    <li><a href="#ref-for-attestation-public-key①">8.2. Packed Attestation Statement Format</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="authentication">
   <b><a href="#authentication">#authentication</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-authentication">1. Introduction</a> <a href="#ref-for-authentication①">(2)</a>
    <li><a href="#ref-for-authentication②">4. Terminology</a> <a href="#ref-for-authentication③">(2)</a> <a href="#ref-for-authentication④">(3)</a> <a href="#ref-for-authentication⑤">(4)</a> <a href="#ref-for-authentication⑥">(5)</a> <a href="#ref-for-authentication⑦">(6)</a> <a href="#ref-for-authentication⑧">(7)</a>
    <li><a href="#ref-for-authentication⑨">7.2. Verifying an authentication assertion</a> <a href="#ref-for-authentication①⓪">(2)</a> <a href="#ref-for-authentication①①">(3)</a> <a href="#ref-for-authentication①②">(4)</a>
    <li><a href="#ref-for-authentication①③">13. Security Considerations</a>
    <li><a href="#ref-for-authentication①④">13.3. Security Benefits for Relying Parties</a>
    <li><a href="#ref-for-authentication①⑤">13.3.1. Considerations for Self and None Attestation Types and Ignoring Attestation</a> <a href="#ref-for-authentication①⑥">(2)</a>
    <li><a href="#ref-for-authentication①⑦">14.3. Authentication Ceremony Privacy</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="authentication-assertion">
   <b><a href="#authentication-assertion">#authentication-assertion</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-authentication-assertion">1. Introduction</a>
    <li><a href="#ref-for-authentication-assertion①">4. Terminology</a> <a href="#ref-for-authentication-assertion②">(2)</a> <a href="#ref-for-authentication-assertion③">(3)</a> <a href="#ref-for-authentication-assertion④">(4)</a> <a href="#ref-for-authentication-assertion⑤">(5)</a> <a href="#ref-for-authentication-assertion⑥">(6)</a> <a href="#ref-for-authentication-assertion⑦">(7)</a> <a href="#ref-for-authentication-assertion⑧">(8)</a>
    <li><a href="#ref-for-authentication-assertion⑨">5.1. PublicKeyCredential Interface</a>
    <li><a href="#ref-for-authentication-assertion①⓪">5.2.2. Web Authentication Assertion (interface AuthenticatorAssertionResponse)</a>
    <li><a href="#ref-for-authentication-assertion①①">5.5. Options for Assertion Generation (dictionary PublicKeyCredentialRequestOptions)</a>
    <li><a href="#ref-for-authentication-assertion①②">9. WebAuthn Extensions</a>
    <li><a href="#ref-for-authentication-assertion①③">13.3.1. Considerations for Self and None Attestation Types and Ignoring Attestation</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="authenticator">
   <b><a href="#authenticator">#authenticator</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-authenticator④">1. Introduction</a> <a href="#ref-for-authenticator⑤">(2)</a> <a href="#ref-for-authenticator⑥">(3)</a> <a href="#ref-for-authenticator⑦">(4)</a>
    <li><a href="#ref-for-authenticator⑧">1.1. Use Cases</a>
    <li><a href="#ref-for-authenticator⑨">2.2. Authenticators</a>
    <li><a href="#ref-for-authenticator①⓪">2.2.1. Backwards Compatibility with FIDO U2F</a>
    <li><a href="#ref-for-authenticator①①">4. Terminology</a> <a href="#ref-for-authenticator①②">(2)</a> <a href="#ref-for-authenticator①③">(3)</a> <a href="#ref-for-authenticator①④">(4)</a> <a href="#ref-for-authenticator①⑤">(5)</a> <a href="#ref-for-authenticator①⑥">(6)</a> <a href="#ref-for-authenticator①⑦">(7)</a> <a href="#ref-for-authenticator①⑧">(8)</a> <a href="#ref-for-authenticator①⑨">(9)</a> <a href="#ref-for-authenticator②⓪">(10)</a> <a href="#ref-for-authenticator②①">(11)</a> <a href="#ref-for-authenticator②②">(12)</a> <a href="#ref-for-authenticator②③">(13)</a> <a href="#ref-for-authenticator②④">(14)</a> <a href="#ref-for-authenticator②⑤">(15)</a> <a href="#ref-for-authenticator②⑥">(16)</a> <a href="#ref-for-authenticator②⑦">(17)</a> <a href="#ref-for-authenticator②⑧">(18)</a> <a href="#ref-for-authenticator②⑨">(19)</a> <a href="#ref-for-authenticator③⓪">(20)</a> <a href="#ref-for-authenticator③①">(21)</a>
    <li><a href="#ref-for-authenticator③②">5. Web Authentication API</a> <a href="#ref-for-authenticator③③">(2)</a> <a href="#ref-for-authenticator③④">(3)</a>
    <li><a href="#ref-for-authenticator③⑤">5.1. PublicKeyCredential Interface</a>
    <li><a href="#ref-for-authenticator③⑥">5.1.3. Create a new credential - PublicKeyCredential’s [[Create]](origin, options, sameOriginWithAncestors) method</a> <a href="#ref-for-authenticator③⑦">(2)</a> <a href="#ref-for-authenticator③⑧">(3)</a> <a href="#ref-for-authenticator③⑨">(4)</a> <a href="#ref-for-authenticator④⓪">(5)</a> <a href="#ref-for-authenticator④①">(6)</a>
    <li><a href="#ref-for-authenticator④②">5.1.4.1. PublicKeyCredential’s [[DiscoverFromExternalSource]](origin, options, sameOriginWithAncestors) method</a> <a href="#ref-for-authenticator④③">(2)</a> <a href="#ref-for-authenticator④④">(3)</a> <a href="#ref-for-authenticator④⑤">(4)</a> <a href="#ref-for-authenticator④⑥">(5)</a> <a href="#ref-for-authenticator④⑦">(6)</a> <a href="#ref-for-authenticator④⑧">(7)</a> <a href="#ref-for-authenticator④⑨">(8)</a>
    <li><a href="#ref-for-authenticator⑤⓪">5.2. Authenticator Responses (interface AuthenticatorResponse)</a>
    <li><a href="#ref-for-authenticator⑤①">5.2.1. Information about Public Key Credential (interface AuthenticatorAttestationResponse)</a> <a href="#ref-for-authenticator⑤②">(2)</a>
    <li><a href="#ref-for-authenticator⑤③">5.2.2. Web Authentication Assertion (interface AuthenticatorAssertionResponse)</a>
    <li><a href="#ref-for-authenticator⑤④">5.4.1. Public Key Entity Description (dictionary PublicKeyCredentialEntity)</a> <a href="#ref-for-authenticator⑤⑤">(2)</a>
    <li><a href="#ref-for-authenticator⑤⑥">5.4.3. User Account Parameters for Credential Generation (dictionary PublicKeyCredentialUserEntity)</a>
    <li><a href="#ref-for-authenticator⑤⑦">5.4.5. Authenticator Attachment enumeration (enum AuthenticatorAttachment)</a> <a href="#ref-for-authenticator⑤⑧">(2)</a> <a href="#ref-for-authenticator⑤⑨">(3)</a>
    <li><a href="#ref-for-authenticator⑥⓪">5.4.6. Attestation Conveyance Preference enumeration (enum AttestationConveyancePreference)</a> <a href="#ref-for-authenticator⑥①">(2)</a>
    <li><a href="#ref-for-authenticator⑥②">5.5. Options for Assertion Generation (dictionary PublicKeyCredentialRequestOptions)</a>
    <li><a href="#ref-for-authenticator⑥③">5.10.4. Authenticator Transport enumeration (enum AuthenticatorTransport)</a> <a href="#ref-for-authenticator⑥④">(2)</a> <a href="#ref-for-authenticator⑥⑤">(3)</a> <a href="#ref-for-authenticator⑥⑥">(4)</a> <a href="#ref-for-authenticator⑥⑦">(5)</a>
    <li><a href="#ref-for-authenticator⑥⑧">6. WebAuthn Authenticator Model</a> <a href="#ref-for-authenticator⑥⑨">(2)</a> <a href="#ref-for-authenticator⑦⓪">(3)</a> <a href="#ref-for-authenticator⑦①">(4)</a> <a href="#ref-for-authenticator⑦②">(5)</a> <a href="#ref-for-authenticator⑦③">(6)</a>
    <li><a href="#ref-for-authenticator⑦④">6.1. Authenticator data</a>
    <li><a href="#ref-for-authenticator⑦⑤">6.2.1. Lookup Credential Source by Credential ID algorithm</a>
    <li><a href="#ref-for-authenticator⑦⑥">6.2.2. The authenticatorMakeCredential operation</a> <a href="#ref-for-authenticator⑦⑦">(2)</a>
    <li><a href="#ref-for-authenticator⑦⑧">6.2.3.  The authenticatorGetAssertion operation</a> <a href="#ref-for-authenticator⑦⑨">(2)</a> <a href="#ref-for-authenticator⑧⓪">(3)</a> <a href="#ref-for-authenticator⑧①">(4)</a>
    <li><a href="#ref-for-authenticator⑧②">6.3. Attestation</a> <a href="#ref-for-authenticator⑧③">(2)</a> <a href="#ref-for-authenticator⑧④">(3)</a> <a href="#ref-for-authenticator⑧⑤">(4)</a> <a href="#ref-for-authenticator⑧⑥">(5)</a> <a href="#ref-for-authenticator⑧⑦">(6)</a> <a href="#ref-for-authenticator⑧⑧">(7)</a> <a href="#ref-for-authenticator⑧⑨">(8)</a> <a href="#ref-for-authenticator⑨⓪">(9)</a>
    <li><a href="#ref-for-authenticator⑨①">6.3.2. Attestation Statement Formats</a>
    <li><a href="#ref-for-authenticator⑨②">6.3.3. Attestation Types</a> <a href="#ref-for-authenticator⑨③">(2)</a> <a href="#ref-for-authenticator⑨④">(3)</a> <a href="#ref-for-authenticator⑨⑤">(4)</a>
    <li><a href="#ref-for-authenticator⑨⑥">6.3.4. Generating an Attestation Object</a>
    <li><a href="#ref-for-authenticator⑨⑦">7.1. Registering a new credential</a> <a href="#ref-for-authenticator⑨⑧">(2)</a>
    <li><a href="#ref-for-authenticator⑨⑨">7.2. Verifying an authentication assertion</a>
    <li><a href="#ref-for-authenticator①⓪⓪">8.2. Packed Attestation Statement Format</a>
    <li><a href="#ref-for-authenticator①⓪①">8.4. Android Key Attestation Statement Format</a>
    <li><a href="#ref-for-authenticator①⓪②">8.5. Android SafetyNet Attestation Statement Format</a>
    <li><a href="#ref-for-authenticator①⓪③">8.7. None Attestation Statement Format</a>
    <li><a href="#ref-for-authenticator①⓪④">10.5. Supported Extensions Extension (exts)</a>
    <li><a href="#ref-for-authenticator①⓪⑤">10.6. User Verification Index Extension (uvi)</a>
    <li><a href="#ref-for-authenticator①⓪⑥">10.8. User Verification Method Extension (uvm)</a>
    <li><a href="#ref-for-authenticator①⓪⑦">12. Sample scenarios</a>
    <li><a href="#ref-for-authenticator①⓪⑧">13. Security Considerations</a> <a href="#ref-for-authenticator①⓪⑨">(2)</a> <a href="#ref-for-authenticator①①⓪">(3)</a> <a href="#ref-for-authenticator①①①">(4)</a> <a href="#ref-for-authenticator①①②">(5)</a>
    <li><a href="#ref-for-authenticator①①③">13.2.2. Attestation Certificate and Attestation Certificate CA Compromise</a>
    <li><a href="#ref-for-authenticator①①④">13.3. Security Benefits for Relying Parties</a> <a href="#ref-for-authenticator①①⑤">(2)</a> <a href="#ref-for-authenticator①①⑥">(3)</a> <a href="#ref-for-authenticator①①⑦">(4)</a> <a href="#ref-for-authenticator①①⑧">(5)</a> <a href="#ref-for-authenticator①①⑨">(6)</a>
    <li><a href="#ref-for-authenticator①②⓪">13.4. credentialId Unsigned</a>
    <li><a href="#ref-for-authenticator①②①">14.1. Attestation Privacy</a> <a href="#ref-for-authenticator①②②">(2)</a> <a href="#ref-for-authenticator①②③">(3)</a>
    <li><a href="#ref-for-authenticator①②④">14.2. Registration Ceremony Privacy</a> <a href="#ref-for-authenticator①②⑤">(2)</a> <a href="#ref-for-authenticator①②⑥">(3)</a> <a href="#ref-for-authenticator①②⑦">(4)</a> <a href="#ref-for-authenticator①②⑧">(5)</a> <a href="#ref-for-authenticator①②⑨">(6)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="authorization-gesture">
   <b><a href="#authorization-gesture">#authorization-gesture</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-authorization-gesture">1.1.1. Registration</a>
    <li><a href="#ref-for-authorization-gesture①">1.1.2. Authentication</a>
    <li><a href="#ref-for-authorization-gesture②">1.1.3. Other use cases and configurations</a>
    <li><a href="#ref-for-authorization-gesture③">4. Terminology</a> <a href="#ref-for-authorization-gesture④">(2)</a> <a href="#ref-for-authorization-gesture⑤">(3)</a> <a href="#ref-for-authorization-gesture⑥">(4)</a> <a href="#ref-for-authorization-gesture⑦">(5)</a> <a href="#ref-for-authorization-gesture⑧">(6)</a>
    <li><a href="#ref-for-authorization-gesture⑨">5.1.4. Use an existing credential to make an assertion - PublicKeyCredential’s [[Get]](options) method</a> <a href="#ref-for-authorization-gesture①⓪">(2)</a>
    <li><a href="#ref-for-authorization-gesture①①">5.1.6. Preventing silent access to an existing credential - PublicKeyCredential’s [[preventSilentAccess]](credential, sameOriginWithAncestors) method</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="biometric-recognition">
   <b><a href="#biometric-recognition">#biometric-recognition</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-biometric-recognition">4. Terminology</a> <a href="#ref-for-biometric-recognition①">(2)</a> <a href="#ref-for-biometric-recognition②">(3)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="biometric-authenticator">
   <b><a href="#biometric-authenticator">#biometric-authenticator</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-biometric-authenticator">10.9. Biometric Authenticator Performance Bounds Extension (biometricPerfBounds)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="ceremony">
   <b><a href="#ceremony">#ceremony</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-ceremony">1. Introduction</a>
    <li><a href="#ref-for-ceremony①">4. Terminology</a> <a href="#ref-for-ceremony②">(2)</a> <a href="#ref-for-ceremony③">(3)</a> <a href="#ref-for-ceremony④">(4)</a> <a href="#ref-for-ceremony⑤">(5)</a> <a href="#ref-for-ceremony⑥">(6)</a> <a href="#ref-for-ceremony⑦">(7)</a>
    <li><a href="#ref-for-ceremony⑧">7.1. Registering a new credential</a> <a href="#ref-for-ceremony⑨">(2)</a>
    <li><a href="#ref-for-ceremony①⓪">7.2. Verifying an authentication assertion</a> <a href="#ref-for-ceremony①①">(2)</a>
    <li><a href="#ref-for-ceremony①②">13. Security Considerations</a>
    <li><a href="#ref-for-ceremony①③">13.3. Security Benefits for Relying Parties</a>
    <li><a href="#ref-for-ceremony①④">13.3.1. Considerations for Self and None Attestation Types and Ignoring Attestation</a> <a href="#ref-for-ceremony①⑤">(2)</a>
    <li><a href="#ref-for-ceremony①⑥">14.2. Registration Ceremony Privacy</a>
    <li><a href="#ref-for-ceremony①⑦">14.3. Authentication Ceremony Privacy</a> <a href="#ref-for-ceremony①⑧">(2)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="client">
   <b><a href="#client">#client</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-client">4. Terminology</a>
    <li><a href="#ref-for-client①">5.1.3. Create a new credential - PublicKeyCredential’s [[Create]](origin, options, sameOriginWithAncestors) method</a> <a href="#ref-for-client②">(2)</a>
    <li><a href="#ref-for-client③">5.1.4.1. PublicKeyCredential’s [[DiscoverFromExternalSource]](origin, options, sameOriginWithAncestors) method</a> <a href="#ref-for-client④">(2)</a>
    <li><a href="#ref-for-client⑤">5.1.7. Availability of User-Verifying Platform Authenticator - PublicKeyCredential’s isUserVerifyingPlatformAuthenticatorAvailable() method</a> <a href="#ref-for-client⑥">(2)</a> <a href="#ref-for-client⑦">(3)</a> <a href="#ref-for-client⑧">(4)</a>
    <li><a href="#ref-for-client⑨">5.4.5. Authenticator Attachment enumeration (enum AuthenticatorAttachment)</a> <a href="#ref-for-client①⓪">(2)</a> <a href="#ref-for-client①①">(3)</a>
    <li><a href="#ref-for-client①②">5.10.3. Credential Descriptor (dictionary PublicKeyCredentialDescriptor)</a>
    <li><a href="#ref-for-client①③">5.10.4. Authenticator Transport enumeration (enum AuthenticatorTransport)</a>
    <li><a href="#ref-for-client①④">7.1. Registering a new credential</a>
    <li><a href="#ref-for-client①⑤">7.2. Verifying an authentication assertion</a>
    <li><a href="#ref-for-client①⑥">13.3.1. Considerations for Self and None Attestation Types and Ignoring Attestation</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="client-side-resident-credential-private-key">
   <b><a href="#client-side-resident-credential-private-key">#client-side-resident-credential-private-key</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-client-side-resident-credential-private-key">4. Terminology</a> <a href="#ref-for-client-side-resident-credential-private-key①">(2)</a>
    <li><a href="#ref-for-client-side-resident-credential-private-key②">5.1.3. Create a new credential - PublicKeyCredential’s [[Create]](origin, options, sameOriginWithAncestors) method</a>
    <li><a href="#ref-for-client-side-resident-credential-private-key③">5.4.4. Authenticator Selection Criteria (dictionary AuthenticatorSelectionCriteria)</a> <a href="#ref-for-client-side-resident-credential-private-key④">(2)</a>
    <li><a href="#ref-for-client-side-resident-credential-private-key⑤">6.2.2. The authenticatorMakeCredential operation</a> <a href="#ref-for-client-side-resident-credential-private-key⑥">(2)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="conforming-user-agent">
   <b><a href="#conforming-user-agent">#conforming-user-agent</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-conforming-user-agent">1. Introduction</a>
    <li><a href="#ref-for-conforming-user-agent①">2.1. User Agents</a>
    <li><a href="#ref-for-conforming-user-agent②">2.2. Authenticators</a>
    <li><a href="#ref-for-conforming-user-agent③">4. Terminology</a> <a href="#ref-for-conforming-user-agent④">(2)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="credential-id">
   <b><a href="#credential-id">#credential-id</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-credential-id">4. Terminology</a> <a href="#ref-for-credential-id①">(2)</a> <a href="#ref-for-credential-id②">(3)</a> <a href="#ref-for-credential-id③">(4)</a>
    <li><a href="#ref-for-credential-id④">5.1. PublicKeyCredential Interface</a> <a href="#ref-for-credential-id⑤">(2)</a>
    <li><a href="#ref-for-credential-id⑥">5.1.4.1. PublicKeyCredential’s [[DiscoverFromExternalSource]](origin, options, sameOriginWithAncestors) method</a>
    <li><a href="#ref-for-credential-id⑦">5.2.1. Information about Public Key Credential (interface AuthenticatorAttestationResponse)</a>
    <li><a href="#ref-for-credential-id⑧">5.10.3. Credential Descriptor (dictionary PublicKeyCredentialDescriptor)</a>
    <li><a href="#ref-for-credential-id⑨">6.2.1. Lookup Credential Source by Credential ID algorithm</a>
    <li><a href="#ref-for-credential-id①⓪">6.2.2. The authenticatorMakeCredential operation</a>
    <li><a href="#ref-for-credential-id①①">6.2.3.  The authenticatorGetAssertion operation</a>
    <li><a href="#ref-for-credential-id①②">6.3.1. Attested credential data</a>
    <li><a href="#ref-for-credential-id①③">7.1. Registering a new credential</a>
    <li><a href="#ref-for-credential-id①④">8.6. FIDO U2F Attestation Statement Format</a>
    <li><a href="#ref-for-credential-id①⑤">12.1. Registration</a>
    <li><a href="#ref-for-credential-id①⑥">12.3. Authentication</a> <a href="#ref-for-credential-id①⑦">(2)</a> <a href="#ref-for-credential-id①⑧">(3)</a>
    <li><a href="#ref-for-credential-id①⑨">13.4. credentialId Unsigned</a> <a href="#ref-for-credential-id②⓪">(2)</a> <a href="#ref-for-credential-id②①">(3)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="credential-public-key">
   <b><a href="#credential-public-key">#credential-public-key</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-credential-public-key">4. Terminology</a> <a href="#ref-for-credential-public-key①">(2)</a> <a href="#ref-for-credential-public-key②">(3)</a> <a href="#ref-for-credential-public-key③">(4)</a> <a href="#ref-for-credential-public-key④">(5)</a> <a href="#ref-for-credential-public-key⑤">(6)</a> <a href="#ref-for-credential-public-key⑥">(7)</a> <a href="#ref-for-credential-public-key⑦">(8)</a>
    <li><a href="#ref-for-credential-public-key⑧">5.2.1. Information about Public Key Credential (interface AuthenticatorAttestationResponse)</a>
    <li><a href="#ref-for-credential-public-key⑨">6. WebAuthn Authenticator Model</a>
    <li><a href="#ref-for-credential-public-key①⓪">6.3. Attestation</a> <a href="#ref-for-credential-public-key①①">(2)</a> <a href="#ref-for-credential-public-key①②">(3)</a>
    <li><a href="#ref-for-credential-public-key①③">6.3.1. Attested credential data</a> <a href="#ref-for-credential-public-key①④">(2)</a> <a href="#ref-for-credential-public-key①⑤">(3)</a>
    <li><a href="#ref-for-credential-public-key①⑥">12.1. Registration</a> <a href="#ref-for-credential-public-key①⑦">(2)</a>
    <li><a href="#ref-for-credential-public-key①⑧">13.3.1. Considerations for Self and None Attestation Types and Ignoring Attestation</a>
    <li><a href="#ref-for-credential-public-key①⑨">13.4. credentialId Unsigned</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="user-public-key">
   <b><a href="#user-public-key">#user-public-key</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-user-public-key">4. Terminology</a>
    <li><a href="#ref-for-user-public-key①">8.6. FIDO U2F Attestation Statement Format</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="credential-key-pair">
   <b><a href="#credential-key-pair">#credential-key-pair</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-credential-key-pair">4. Terminology</a> <a href="#ref-for-credential-key-pair①">(2)</a> <a href="#ref-for-credential-key-pair②">(3)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="credential-private-key">
   <b><a href="#credential-private-key">#credential-private-key</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-credential-private-key">4. Terminology</a> <a href="#ref-for-credential-private-key①">(2)</a> <a href="#ref-for-credential-private-key②">(3)</a> <a href="#ref-for-credential-private-key③">(4)</a> <a href="#ref-for-credential-private-key④">(5)</a> <a href="#ref-for-credential-private-key⑤">(6)</a>
    <li><a href="#ref-for-credential-private-key⑥">5.1. PublicKeyCredential Interface</a>
    <li><a href="#ref-for-credential-private-key⑦">5.2.2. Web Authentication Assertion (interface AuthenticatorAssertionResponse)</a>
    <li><a href="#ref-for-credential-private-key⑧">6. WebAuthn Authenticator Model</a>
    <li><a href="#ref-for-credential-private-key⑨">6.3. Attestation</a> <a href="#ref-for-credential-private-key①⓪">(2)</a>
    <li><a href="#ref-for-credential-private-key①①">7.2. Verifying an authentication assertion</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="human-palatability">
   <b><a href="#human-palatability">#human-palatability</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-human-palatability">4. Terminology</a>
    <li><a href="#ref-for-human-palatability①">5.4.1. Public Key Entity Description (dictionary PublicKeyCredentialEntity)</a> <a href="#ref-for-human-palatability②">(2)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="public-key-credential-source">
   <b><a href="#public-key-credential-source">#public-key-credential-source</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-public-key-credential-source">4. Terminology</a> <a href="#ref-for-public-key-credential-source①">(2)</a> <a href="#ref-for-public-key-credential-source②">(3)</a> <a href="#ref-for-public-key-credential-source③">(4)</a> <a href="#ref-for-public-key-credential-source④">(5)</a> <a href="#ref-for-public-key-credential-source⑤">(6)</a> <a href="#ref-for-public-key-credential-source⑥">(7)</a> <a href="#ref-for-public-key-credential-source⑦">(8)</a> <a href="#ref-for-public-key-credential-source⑧">(9)</a> <a href="#ref-for-public-key-credential-source⑨">(10)</a> <a href="#ref-for-public-key-credential-source①⓪">(11)</a>
    <li><a href="#ref-for-public-key-credential-source①①">5.1.3. Create a new credential - PublicKeyCredential’s [[Create]](origin, options, sameOriginWithAncestors) method</a>
    <li><a href="#ref-for-public-key-credential-source①②">6. WebAuthn Authenticator Model</a>
    <li><a href="#ref-for-public-key-credential-source①③">6.2.1. Lookup Credential Source by Credential ID algorithm</a> <a href="#ref-for-public-key-credential-source①④">(2)</a>
    <li><a href="#ref-for-public-key-credential-source①⑤">6.2.2. The authenticatorMakeCredential operation</a>
    <li><a href="#ref-for-public-key-credential-source①⑥">6.2.3.  The authenticatorGetAssertion operation</a> <a href="#ref-for-public-key-credential-source①⑦">(2)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="public-key-credential-source-type">
   <b><a href="#public-key-credential-source-type">#public-key-credential-source-type</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-public-key-credential-source-type">6.2.2. The authenticatorMakeCredential operation</a> <a href="#ref-for-public-key-credential-source-type①">(2)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="public-key-credential-source-id">
   <b><a href="#public-key-credential-source-id">#public-key-credential-source-id</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-public-key-credential-source-id">6.2.1. Lookup Credential Source by Credential ID algorithm</a> <a href="#ref-for-public-key-credential-source-id①">(2)</a>
    <li><a href="#ref-for-public-key-credential-source-id②">6.2.2. The authenticatorMakeCredential operation</a>
    <li><a href="#ref-for-public-key-credential-source-id③">6.2.3.  The authenticatorGetAssertion operation</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="public-key-credential-source-privatekey">
   <b><a href="#public-key-credential-source-privatekey">#public-key-credential-source-privatekey</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-public-key-credential-source-privatekey">6.2.2. The authenticatorMakeCredential operation</a>
    <li><a href="#ref-for-public-key-credential-source-privatekey①">6.2.3.  The authenticatorGetAssertion operation</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="public-key-credential-source-rpid">
   <b><a href="#public-key-credential-source-rpid">#public-key-credential-source-rpid</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-public-key-credential-source-rpid">6. WebAuthn Authenticator Model</a>
    <li><a href="#ref-for-public-key-credential-source-rpid①">6.2.2. The authenticatorMakeCredential operation</a>
    <li><a href="#ref-for-public-key-credential-source-rpid②">6.2.3.  The authenticatorGetAssertion operation</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="public-key-credential-source-userhandle">
   <b><a href="#public-key-credential-source-userhandle">#public-key-credential-source-userhandle</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-public-key-credential-source-userhandle">6. WebAuthn Authenticator Model</a>
    <li><a href="#ref-for-public-key-credential-source-userhandle①">6.2.2. The authenticatorMakeCredential operation</a>
    <li><a href="#ref-for-public-key-credential-source-userhandle②">6.2.3.  The authenticatorGetAssertion operation</a> <a href="#ref-for-public-key-credential-source-userhandle③">(2)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="public-key-credential-source-otherui">
   <b><a href="#public-key-credential-source-otherui">#public-key-credential-source-otherui</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-public-key-credential-source-otherui">6.2.2. The authenticatorMakeCredential operation</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="public-key-credential-source-managing-authenticator">
   <b><a href="#public-key-credential-source-managing-authenticator">#public-key-credential-source-managing-authenticator</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-public-key-credential-source-managing-authenticator">4. Terminology</a>
    <li><a href="#ref-for-public-key-credential-source-managing-authenticator①">5.10.3. Credential Descriptor (dictionary PublicKeyCredentialDescriptor)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="public-key-credential">
   <b><a href="#public-key-credential">#public-key-credential</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-public-key-credential②">1. Introduction</a> <a href="#ref-for-public-key-credential③">(2)</a> <a href="#ref-for-public-key-credential④">(3)</a> <a href="#ref-for-public-key-credential⑤">(4)</a> <a href="#ref-for-public-key-credential⑥">(5)</a>
    <li><a href="#ref-for-public-key-credential⑦">4. Terminology</a> <a href="#ref-for-public-key-credential⑧">(2)</a> <a href="#ref-for-public-key-credential⑨">(3)</a> <a href="#ref-for-public-key-credential①⓪">(4)</a> <a href="#ref-for-public-key-credential①①">(5)</a> <a href="#ref-for-public-key-credential①②">(6)</a> <a href="#ref-for-public-key-credential①③">(7)</a> <a href="#ref-for-public-key-credential①④">(8)</a>
    <li><a href="#ref-for-public-key-credential①⑤">5. Web Authentication API</a> <a href="#ref-for-public-key-credential①⑥">(2)</a> <a href="#ref-for-public-key-credential①⑦">(3)</a> <a href="#ref-for-public-key-credential①⑧">(4)</a>
    <li><a href="#ref-for-public-key-credential①⑨">5.1. PublicKeyCredential Interface</a>
    <li><a href="#ref-for-public-key-credential②⓪">5.1.3. Create a new credential - PublicKeyCredential’s [[Create]](origin, options, sameOriginWithAncestors) method</a>
    <li><a href="#ref-for-public-key-credential②①">5.1.4. Use an existing credential to make an assertion - PublicKeyCredential’s [[Get]](options) method</a>
    <li><a href="#ref-for-public-key-credential②②">5.1.4.1. PublicKeyCredential’s [[DiscoverFromExternalSource]](origin, options, sameOriginWithAncestors) method</a> <a href="#ref-for-public-key-credential②③">(2)</a>
    <li><a href="#ref-for-public-key-credential②④">5.2.1. Information about Public Key Credential (interface AuthenticatorAttestationResponse)</a>
    <li><a href="#ref-for-public-key-credential②⑤">5.4.1. Public Key Entity Description (dictionary PublicKeyCredentialEntity)</a>
    <li><a href="#ref-for-public-key-credential②⑥">5.4.4. Authenticator Selection Criteria (dictionary AuthenticatorSelectionCriteria)</a>
    <li><a href="#ref-for-public-key-credential②⑦">5.4.5. Authenticator Attachment enumeration (enum AuthenticatorAttachment)</a> <a href="#ref-for-public-key-credential②⑧">(2)</a> <a href="#ref-for-public-key-credential②⑨">(3)</a>
    <li><a href="#ref-for-public-key-credential③⓪">5.5. Options for Assertion Generation (dictionary PublicKeyCredentialRequestOptions)</a>
    <li><a href="#ref-for-public-key-credential③①">5.10. Supporting Data Structures</a>
    <li><a href="#ref-for-public-key-credential③②">5.10.3. Credential Descriptor (dictionary PublicKeyCredentialDescriptor)</a> <a href="#ref-for-public-key-credential③③">(2)</a> <a href="#ref-for-public-key-credential③④">(3)</a> <a href="#ref-for-public-key-credential③⑤">(4)</a>
    <li><a href="#ref-for-public-key-credential③⑥">6. WebAuthn Authenticator Model</a> <a href="#ref-for-public-key-credential③⑦">(2)</a>
    <li><a href="#ref-for-public-key-credential③⑧">6.2.3.  The authenticatorGetAssertion operation</a>
    <li><a href="#ref-for-public-key-credential③⑨">6.3. Attestation</a> <a href="#ref-for-public-key-credential④⓪">(2)</a>
    <li><a href="#ref-for-public-key-credential④①">6.3.2. Attestation Statement Formats</a>
    <li><a href="#ref-for-public-key-credential④②">6.3.3. Attestation Types</a>
    <li><a href="#ref-for-public-key-credential④③">7.1. Registering a new credential</a>
    <li><a href="#ref-for-public-key-credential④④">7.2. Verifying an authentication assertion</a> <a href="#ref-for-public-key-credential④⑤">(2)</a>
    <li><a href="#ref-for-public-key-credential④⑥">9. WebAuthn Extensions</a> <a href="#ref-for-public-key-credential④⑦">(2)</a>
    <li><a href="#ref-for-public-key-credential④⑧">12. Sample scenarios</a>
    <li><a href="#ref-for-public-key-credential④⑨">13.2.2. Attestation Certificate and Attestation Certificate CA Compromise</a> <a href="#ref-for-public-key-credential⑤⓪">(2)</a>
    <li><a href="#ref-for-public-key-credential⑤①">14.2. Registration Ceremony Privacy</a> <a href="#ref-for-public-key-credential⑤②">(2)</a> <a href="#ref-for-public-key-credential⑤③">(3)</a>
    <li><a href="#ref-for-public-key-credential⑤④">14.3. Authentication Ceremony Privacy</a> <a href="#ref-for-public-key-credential⑤⑤">(2)</a> <a href="#ref-for-public-key-credential⑤⑥">(3)</a> <a href="#ref-for-public-key-credential⑤⑦">(4)</a> <a href="#ref-for-public-key-credential⑤⑧">(5)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="registration">
   <b><a href="#registration">#registration</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-registration">1. Introduction</a> <a href="#ref-for-registration①">(2)</a>
    <li><a href="#ref-for-registration②">4. Terminology</a> <a href="#ref-for-registration③">(2)</a> <a href="#ref-for-registration④">(3)</a> <a href="#ref-for-registration⑤">(4)</a> <a href="#ref-for-registration⑥">(5)</a> <a href="#ref-for-registration⑦">(6)</a> <a href="#ref-for-registration⑧">(7)</a> <a href="#ref-for-registration⑨">(8)</a> <a href="#ref-for-registration①⓪">(9)</a>
    <li><a href="#ref-for-registration①①">7.1. Registering a new credential</a> <a href="#ref-for-registration①②">(2)</a> <a href="#ref-for-registration①③">(3)</a>
    <li><a href="#ref-for-registration①④">10.9. Biometric Authenticator Performance Bounds Extension (biometricPerfBounds)</a>
    <li><a href="#ref-for-registration①⑤">13. Security Considerations</a>
    <li><a href="#ref-for-registration①⑥">13.3. Security Benefits for Relying Parties</a>
    <li><a href="#ref-for-registration①⑦">13.3.1. Considerations for Self and None Attestation Types and Ignoring Attestation</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="relying-party">
   <b><a href="#relying-party">#relying-party</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-relying-party②">1. Introduction</a> <a href="#ref-for-relying-party③">(2)</a> <a href="#ref-for-relying-party④">(3)</a> <a href="#ref-for-relying-party⑤">(4)</a> <a href="#ref-for-relying-party⑥">(5)</a> <a href="#ref-for-relying-party⑦">(6)</a> <a href="#ref-for-relying-party⑧">(7)</a>
    <li><a href="#ref-for-relying-party⑨">1.1.3. Other use cases and configurations</a>
    <li><a href="#ref-for-relying-party①⓪">2.3. Relying Parties</a>
    <li><a href="#ref-for-relying-party①①">4. Terminology</a> <a href="#ref-for-relying-party①②">(2)</a> <a href="#ref-for-relying-party①③">(3)</a> <a href="#ref-for-relying-party①④">(4)</a> <a href="#ref-for-relying-party①⑤">(5)</a> <a href="#ref-for-relying-party①⑥">(6)</a> <a href="#ref-for-relying-party①⑦">(7)</a> <a href="#ref-for-relying-party①⑧">(8)</a> <a href="#ref-for-relying-party①⑨">(9)</a> <a href="#ref-for-relying-party②⓪">(10)</a> <a href="#ref-for-relying-party②①">(11)</a> <a href="#ref-for-relying-party②②">(12)</a> <a href="#ref-for-relying-party②③">(13)</a> <a href="#ref-for-relying-party②④">(14)</a> <a href="#ref-for-relying-party②⑤">(15)</a> <a href="#ref-for-relying-party②⑥">(16)</a> <a href="#ref-for-relying-party②⑦">(17)</a> <a href="#ref-for-relying-party②⑧">(18)</a> <a href="#ref-for-relying-party②⑨">(19)</a> <a href="#ref-for-relying-party③⓪">(20)</a> <a href="#ref-for-relying-party③①">(21)</a> <a href="#ref-for-relying-party③②">(22)</a> <a href="#ref-for-relying-party③③">(23)</a> <a href="#ref-for-relying-party③④">(24)</a> <a href="#ref-for-relying-party③⑤">(25)</a> <a href="#ref-for-relying-party③⑥">(26)</a> <a href="#ref-for-relying-party③⑦">(27)</a> <a href="#ref-for-relying-party③⑧">(28)</a> <a href="#ref-for-relying-party③⑨">(29)</a> <a href="#ref-for-relying-party④⓪">(30)</a>
    <li><a href="#ref-for-relying-party④①">5. Web Authentication API</a> <a href="#ref-for-relying-party④②">(2)</a> <a href="#ref-for-relying-party④③">(3)</a> <a href="#ref-for-relying-party④④">(4)</a> <a href="#ref-for-relying-party④⑤">(5)</a> <a href="#ref-for-relying-party④⑥">(6)</a> <a href="#ref-for-relying-party④⑦">(7)</a>
    <li><a href="#ref-for-relying-party④⑧">5.1. PublicKeyCredential Interface</a> <a href="#ref-for-relying-party④⑨">(2)</a>
    <li><a href="#ref-for-relying-party⑤⓪">5.1.3. Create a new credential - PublicKeyCredential’s [[Create]](origin, options, sameOriginWithAncestors) method</a> <a href="#ref-for-relying-party⑤①">(2)</a> <a href="#ref-for-relying-party⑤②">(3)</a> <a href="#ref-for-relying-party⑤③">(4)</a> <a href="#ref-for-relying-party⑤④">(5)</a>
    <li><a href="#ref-for-relying-party⑤⑤">5.1.4. Use an existing credential to make an assertion - PublicKeyCredential’s [[Get]](options) method</a> <a href="#ref-for-relying-party⑤⑥">(2)</a>
    <li><a href="#ref-for-relying-party⑤⑦">5.1.4.1. PublicKeyCredential’s [[DiscoverFromExternalSource]](origin, options, sameOriginWithAncestors) method</a> <a href="#ref-for-relying-party⑤⑧">(2)</a> <a href="#ref-for-relying-party⑤⑨">(3)</a> <a href="#ref-for-relying-party⑥⓪">(4)</a>
    <li><a href="#ref-for-relying-party⑥①">5.1.7. Availability of User-Verifying Platform Authenticator - PublicKeyCredential’s isUserVerifyingPlatformAuthenticatorAvailable() method</a> <a href="#ref-for-relying-party⑥②">(2)</a> <a href="#ref-for-relying-party⑥③">(3)</a>
    <li><a href="#ref-for-relying-party⑥④">5.2. Authenticator Responses (interface AuthenticatorResponse)</a>
    <li><a href="#ref-for-relying-party⑥⑤">5.2.1. Information about Public Key Credential (interface AuthenticatorAttestationResponse)</a> <a href="#ref-for-relying-party⑥⑥">(2)</a>
    <li><a href="#ref-for-relying-party⑥⑦">5.2.2. Web Authentication Assertion (interface AuthenticatorAssertionResponse)</a>
    <li><a href="#ref-for-relying-party⑥⑧">5.4. Options for Credential Creation (dictionary PublicKeyCredentialCreationOptions)</a> <a href="#ref-for-relying-party⑥⑨">(2)</a> <a href="#ref-for-relying-party⑦⓪">(3)</a> <a href="#ref-for-relying-party⑦①">(4)</a> <a href="#ref-for-relying-party⑦②">(5)</a>
    <li><a href="#ref-for-relying-party⑦③">5.4.1. Public Key Entity Description (dictionary PublicKeyCredentialEntity)</a> <a href="#ref-for-relying-party⑦④">(2)</a> <a href="#ref-for-relying-party⑦⑤">(3)</a> <a href="#ref-for-relying-party⑦⑥">(4)</a> <a href="#ref-for-relying-party⑦⑦">(5)</a>
    <li><a href="#ref-for-relying-party⑦⑧">5.4.2. RP Parameters for Credential Generation (dictionary PublicKeyCredentialRpEntity)</a> <a href="#ref-for-relying-party⑦⑨">(2)</a>
    <li><a href="#ref-for-relying-party⑧⓪">5.4.3. User Account Parameters for Credential Generation (dictionary PublicKeyCredentialUserEntity)</a>
    <li><a href="#ref-for-relying-party⑧①">5.4.4. Authenticator Selection Criteria (dictionary AuthenticatorSelectionCriteria)</a> <a href="#ref-for-relying-party⑧②">(2)</a> <a href="#ref-for-relying-party⑧③">(3)</a>
    <li><a href="#ref-for-relying-party⑧④">5.4.5. Authenticator Attachment enumeration (enum AuthenticatorAttachment)</a> <a href="#ref-for-relying-party⑧⑤">(2)</a> <a href="#ref-for-relying-party⑧⑥">(3)</a> <a href="#ref-for-relying-party⑧⑦">(4)</a> <a href="#ref-for-relying-party⑧⑧">(5)</a> <a href="#ref-for-relying-party⑧⑨">(6)</a>
    <li><a href="#ref-for-relying-party⑨⓪">5.4.6. Attestation Conveyance Preference enumeration (enum AttestationConveyancePreference)</a> <a href="#ref-for-relying-party⑨①">(2)</a> <a href="#ref-for-relying-party⑨②">(3)</a> <a href="#ref-for-relying-party⑨③">(4)</a> <a href="#ref-for-relying-party⑨④">(5)</a> <a href="#ref-for-relying-party⑨⑤">(6)</a> <a href="#ref-for-relying-party⑨⑥">(7)</a>
    <li><a href="#ref-for-relying-party⑨⑦">5.5. Options for Assertion Generation (dictionary PublicKeyCredentialRequestOptions)</a>
    <li><a href="#ref-for-relying-party⑨⑧">5.10.1. Client data used in WebAuthn signatures (dictionary CollectedClientData)</a> <a href="#ref-for-relying-party⑨⑨">(2)</a> <a href="#ref-for-relying-party①⓪⓪">(3)</a> <a href="#ref-for-relying-party①⓪①">(4)</a> <a href="#ref-for-relying-party①⓪②">(5)</a>
    <li><a href="#ref-for-relying-party①⓪③">5.10.4. Authenticator Transport enumeration (enum AuthenticatorTransport)</a> <a href="#ref-for-relying-party①⓪④">(2)</a>
    <li><a href="#ref-for-relying-party①⓪⑤">5.10.6. User Verification Requirement enumeration (enum UserVerificationRequirement)</a> <a href="#ref-for-relying-party①⓪⑥">(2)</a> <a href="#ref-for-relying-party①⓪⑦">(3)</a> <a href="#ref-for-relying-party①⓪⑧">(4)</a>
    <li><a href="#ref-for-relying-party①⓪⑨">6. WebAuthn Authenticator Model</a> <a href="#ref-for-relying-party①①⓪">(2)</a> <a href="#ref-for-relying-party①①①">(3)</a>
    <li><a href="#ref-for-relying-party①①②">6.1. Authenticator data</a> <a href="#ref-for-relying-party①①③">(2)</a>
    <li><a href="#ref-for-relying-party①①④">6.1.1. Signature Counter Considerations</a> <a href="#ref-for-relying-party①①⑤">(2)</a> <a href="#ref-for-relying-party①①⑥">(3)</a> <a href="#ref-for-relying-party①①⑦">(4)</a> <a href="#ref-for-relying-party①①⑧">(5)</a> <a href="#ref-for-relying-party①①⑨">(6)</a>
    <li><a href="#ref-for-relying-party①②⓪">6.2.2. The authenticatorMakeCredential operation</a> <a href="#ref-for-relying-party①②①">(2)</a> <a href="#ref-for-relying-party①②②">(3)</a> <a href="#ref-for-relying-party①②③">(4)</a> <a href="#ref-for-relying-party①②④">(5)</a> <a href="#ref-for-relying-party①②⑤">(6)</a>
    <li><a href="#ref-for-relying-party①②⑥">6.2.3.  The authenticatorGetAssertion operation</a> <a href="#ref-for-relying-party①②⑦">(2)</a> <a href="#ref-for-relying-party①②⑧">(3)</a>
    <li><a href="#ref-for-relying-party①②⑨">6.3. Attestation</a> <a href="#ref-for-relying-party①③⓪">(2)</a> <a href="#ref-for-relying-party①③①">(3)</a> <a href="#ref-for-relying-party①③②">(4)</a> <a href="#ref-for-relying-party①③③">(5)</a> <a href="#ref-for-relying-party①③④">(6)</a>
    <li><a href="#ref-for-relying-party①③⑤">6.3.3. Attestation Types</a>
    <li><a href="#ref-for-relying-party①③⑥">7. Relying Party Operations</a> <a href="#ref-for-relying-party①③⑦">(2)</a> <a href="#ref-for-relying-party①③⑧">(3)</a> <a href="#ref-for-relying-party①③⑨">(4)</a>
    <li><a href="#ref-for-relying-party①④⓪">7.1. Registering a new credential</a> <a href="#ref-for-relying-party①④①">(2)</a> <a href="#ref-for-relying-party①④②">(3)</a> <a href="#ref-for-relying-party①④③">(4)</a> <a href="#ref-for-relying-party①④④">(5)</a> <a href="#ref-for-relying-party①④⑤">(6)</a> <a href="#ref-for-relying-party①④⑥">(7)</a> <a href="#ref-for-relying-party①④⑦">(8)</a> <a href="#ref-for-relying-party①④⑧">(9)</a> <a href="#ref-for-relying-party①④⑨">(10)</a> <a href="#ref-for-relying-party①⑤⓪">(11)</a> <a href="#ref-for-relying-party①⑤①">(12)</a> <a href="#ref-for-relying-party①⑤②">(13)</a>
    <li><a href="#ref-for-relying-party①⑤③">7.2. Verifying an authentication assertion</a> <a href="#ref-for-relying-party①⑤④">(2)</a> <a href="#ref-for-relying-party①⑤⑤">(3)</a> <a href="#ref-for-relying-party①⑤⑥">(4)</a> <a href="#ref-for-relying-party①⑤⑦">(5)</a> <a href="#ref-for-relying-party①⑤⑧">(6)</a> <a href="#ref-for-relying-party①⑤⑨">(7)</a> <a href="#ref-for-relying-party①⑥⓪">(8)</a>
    <li><a href="#ref-for-relying-party①⑥①">8.4. Android Key Attestation Statement Format</a>
    <li><a href="#ref-for-relying-party①⑥②">8.7. None Attestation Statement Format</a>
    <li><a href="#ref-for-relying-party①⑥③">9. WebAuthn Extensions</a> <a href="#ref-for-relying-party①⑥④">(2)</a> <a href="#ref-for-relying-party①⑥⑤">(3)</a> <a href="#ref-for-relying-party①⑥⑥">(4)</a> <a href="#ref-for-relying-party①⑥⑦">(5)</a>
    <li><a href="#ref-for-relying-party①⑥⑧">9.2. Defining extensions</a> <a href="#ref-for-relying-party①⑥⑨">(2)</a>
    <li><a href="#ref-for-relying-party①⑦⓪">9.3. Extending request parameters</a> <a href="#ref-for-relying-party①⑦①">(2)</a> <a href="#ref-for-relying-party①⑦②">(3)</a> <a href="#ref-for-relying-party①⑦③">(4)</a>
    <li><a href="#ref-for-relying-party①⑦④">10.1. FIDO AppID Extension (appid)</a> <a href="#ref-for-relying-party①⑦⑤">(2)</a>
    <li><a href="#ref-for-relying-party①⑦⑥">10.2. Simple Transaction Authorization Extension (txAuthSimple)</a>
    <li><a href="#ref-for-relying-party①⑦⑦">10.4. Authenticator Selection Extension (authnSel)</a> <a href="#ref-for-relying-party①⑦⑧">(2)</a> <a href="#ref-for-relying-party①⑦⑨">(3)</a>
    <li><a href="#ref-for-relying-party①⑧⓪">10.5. Supported Extensions Extension (exts)</a> <a href="#ref-for-relying-party①⑧①">(2)</a>
    <li><a href="#ref-for-relying-party①⑧②">10.6. User Verification Index Extension (uvi)</a>
    <li><a href="#ref-for-relying-party①⑧③">10.7. Location Extension (loc)</a> <a href="#ref-for-relying-party①⑧④">(2)</a>
    <li><a href="#ref-for-relying-party①⑧⑤">10.8. User Verification Method Extension (uvm)</a>
    <li><a href="#ref-for-relying-party①⑧⑥">10.9. Biometric Authenticator Performance Bounds Extension (biometricPerfBounds)</a> <a href="#ref-for-relying-party①⑧⑦">(2)</a> <a href="#ref-for-relying-party①⑧⑧">(3)</a>
    <li><a href="#ref-for-relying-party①⑧⑨">11.2. WebAuthn Extension Identifier Registrations</a> <a href="#ref-for-relying-party①⑨⓪">(2)</a>
    <li><a href="#ref-for-relying-party①⑨①">12.1. Registration</a> <a href="#ref-for-relying-party①⑨②">(2)</a> <a href="#ref-for-relying-party①⑨③">(3)</a> <a href="#ref-for-relying-party①⑨④">(4)</a> <a href="#ref-for-relying-party①⑨⑤">(5)</a>
    <li><a href="#ref-for-relying-party①⑨⑥">12.2. Registration Specifically with User Verifying Platform Authenticator</a> <a href="#ref-for-relying-party①⑨⑦">(2)</a> <a href="#ref-for-relying-party①⑨⑧">(3)</a>
    <li><a href="#ref-for-relying-party①⑨⑨">12.3. Authentication</a> <a href="#ref-for-relying-party②⓪⓪">(2)</a> <a href="#ref-for-relying-party②⓪①">(3)</a> <a href="#ref-for-relying-party②⓪②">(4)</a> <a href="#ref-for-relying-party②⓪③">(5)</a>
    <li><a href="#ref-for-relying-party②⓪④">12.5. Decommissioning</a> <a href="#ref-for-relying-party②⓪⑤">(2)</a>
    <li><a href="#ref-for-relying-party②⓪⑥">13. Security Considerations</a> <a href="#ref-for-relying-party②⓪⑦">(2)</a> <a href="#ref-for-relying-party②⓪⑧">(3)</a> <a href="#ref-for-relying-party②⓪⑨">(4)</a>
    <li><a href="#ref-for-relying-party②①⓪">13.1. Cryptographic Challenges</a>
    <li><a href="#ref-for-relying-party②①①">13.2.2. Attestation Certificate and Attestation Certificate CA Compromise</a> <a href="#ref-for-relying-party②①②">(2)</a> <a href="#ref-for-relying-party②①③">(3)</a> <a href="#ref-for-relying-party②①④">(4)</a> <a href="#ref-for-relying-party②①⑤">(5)</a> <a href="#ref-for-relying-party②①⑥">(6)</a>
    <li><a href="#ref-for-relying-party②①⑦">13.3. Security Benefits for Relying Parties</a> <a href="#ref-for-relying-party②①⑧">(2)</a> <a href="#ref-for-relying-party②①⑨">(3)</a> <a href="#ref-for-relying-party②②⓪">(4)</a> <a href="#ref-for-relying-party②②①">(5)</a> <a href="#ref-for-relying-party②②②">(6)</a> <a href="#ref-for-relying-party②②③">(7)</a>
    <li><a href="#ref-for-relying-party②②④">13.3.1. Considerations for Self and None Attestation Types and Ignoring Attestation</a> <a href="#ref-for-relying-party②②⑤">(2)</a> <a href="#ref-for-relying-party②②⑥">(3)</a> <a href="#ref-for-relying-party②②⑦">(4)</a> <a href="#ref-for-relying-party②②⑧">(5)</a> <a href="#ref-for-relying-party②②⑨">(6)</a>
    <li><a href="#ref-for-relying-party②③⓪">13.4. credentialId Unsigned</a>
    <li><a href="#ref-for-relying-party②③①">14.1. Attestation Privacy</a>
    <li><a href="#ref-for-relying-party②③②">14.2. Registration Ceremony Privacy</a> <a href="#ref-for-relying-party②③③">(2)</a> <a href="#ref-for-relying-party②③④">(3)</a> <a href="#ref-for-relying-party②③⑤">(4)</a>
    <li><a href="#ref-for-relying-party②③⑥">14.3. Authentication Ceremony Privacy</a> <a href="#ref-for-relying-party②③⑦">(2)</a> <a href="#ref-for-relying-party②③⑧">(3)</a> <a href="#ref-for-relying-party②③⑨">(4)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="relying-party-identifier">
   <b><a href="#relying-party-identifier">#relying-party-identifier</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-relying-party-identifier">4. Terminology</a>
    <li><a href="#ref-for-relying-party-identifier①">5. Web Authentication API</a>
    <li><a href="#ref-for-relying-party-identifier②">5.4. Options for Credential Creation (dictionary PublicKeyCredentialCreationOptions)</a>
    <li><a href="#ref-for-relying-party-identifier③">5.5. Options for Assertion Generation (dictionary PublicKeyCredentialRequestOptions)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="rp-id">
   <b><a href="#rp-id">#rp-id</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-rp-id">4. Terminology</a> <a href="#ref-for-rp-id①">(2)</a> <a href="#ref-for-rp-id②">(3)</a> <a href="#ref-for-rp-id③">(4)</a> <a href="#ref-for-rp-id④">(5)</a>
    <li><a href="#ref-for-rp-id⑤">5. Web Authentication API</a> <a href="#ref-for-rp-id⑥">(2)</a> <a href="#ref-for-rp-id⑦">(3)</a> <a href="#ref-for-rp-id⑧">(4)</a> <a href="#ref-for-rp-id⑨">(5)</a>
    <li><a href="#ref-for-rp-id①⓪">5.1.3. Create a new credential - PublicKeyCredential’s [[Create]](origin, options, sameOriginWithAncestors) method</a> <a href="#ref-for-rp-id①①">(2)</a>
    <li><a href="#ref-for-rp-id①②">5.1.4.1. PublicKeyCredential’s [[DiscoverFromExternalSource]](origin, options, sameOriginWithAncestors) method</a> <a href="#ref-for-rp-id①③">(2)</a>
    <li><a href="#ref-for-rp-id①④">5.4.2. RP Parameters for Credential Generation (dictionary PublicKeyCredentialRpEntity)</a>
    <li><a href="#ref-for-rp-id①⑤">6.1. Authenticator data</a> <a href="#ref-for-rp-id①⑥">(2)</a> <a href="#ref-for-rp-id①⑦">(3)</a> <a href="#ref-for-rp-id①⑧">(4)</a> <a href="#ref-for-rp-id①⑨">(5)</a> <a href="#ref-for-rp-id②⓪">(6)</a>
    <li><a href="#ref-for-rp-id②①">6.2.2. The authenticatorMakeCredential operation</a>
    <li><a href="#ref-for-rp-id②②">6.2.3.  The authenticatorGetAssertion operation</a>
    <li><a href="#ref-for-rp-id②③">7.1. Registering a new credential</a> <a href="#ref-for-rp-id②④">(2)</a>
    <li><a href="#ref-for-rp-id②⑤">7.2. Verifying an authentication assertion</a>
    <li><a href="#ref-for-rp-id②⑥">8.4. Android Key Attestation Statement Format</a>
    <li><a href="#ref-for-rp-id②⑦">8.6. FIDO U2F Attestation Statement Format</a>
    <li><a href="#ref-for-rp-id②⑧">10.1. FIDO AppID Extension (appid)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="test-of-user-presence">
   <b><a href="#test-of-user-presence">#test-of-user-presence</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-test-of-user-presence">4. Terminology</a> <a href="#ref-for-test-of-user-presence①">(2)</a> <a href="#ref-for-test-of-user-presence②">(3)</a> <a href="#ref-for-test-of-user-presence③">(4)</a> <a href="#ref-for-test-of-user-presence④">(5)</a> <a href="#ref-for-test-of-user-presence⑤">(6)</a>
    <li><a href="#ref-for-test-of-user-presence⑥">6.2.2. The authenticatorMakeCredential operation</a> <a href="#ref-for-test-of-user-presence⑦">(2)</a>
    <li><a href="#ref-for-test-of-user-presence⑧">6.2.3.  The authenticatorGetAssertion operation</a>
    <li><a href="#ref-for-test-of-user-presence⑨">10.2. Simple Transaction Authorization Extension (txAuthSimple)</a>
    <li><a href="#ref-for-test-of-user-presence①⓪">10.3. Generic Transaction Authorization Extension (txAuthGeneric)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="user-consent">
   <b><a href="#user-consent">#user-consent</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-user-consent①">1. Introduction</a> <a href="#ref-for-user-consent②">(2)</a>
    <li><a href="#ref-for-user-consent③">4. Terminology</a> <a href="#ref-for-user-consent④">(2)</a>
    <li><a href="#ref-for-user-consent⑤">5. Web Authentication API</a>
    <li><a href="#ref-for-user-consent⑥">5.1.3. Create a new credential - PublicKeyCredential’s [[Create]](origin, options, sameOriginWithAncestors) method</a> <a href="#ref-for-user-consent⑦">(2)</a> <a href="#ref-for-user-consent⑧">(3)</a>
    <li><a href="#ref-for-user-consent⑨">5.1.4. Use an existing credential to make an assertion - PublicKeyCredential’s [[Get]](options) method</a>
    <li><a href="#ref-for-user-consent①⓪">5.1.4.1. PublicKeyCredential’s [[DiscoverFromExternalSource]](origin, options, sameOriginWithAncestors) method</a>
    <li><a href="#ref-for-user-consent①①">5.2.2. Web Authentication Assertion (interface AuthenticatorAssertionResponse)</a>
    <li><a href="#ref-for-user-consent①②">5.4.6. Attestation Conveyance Preference enumeration (enum AttestationConveyancePreference)</a>
    <li><a href="#ref-for-user-consent①③">6. WebAuthn Authenticator Model</a> <a href="#ref-for-user-consent①④">(2)</a> <a href="#ref-for-user-consent①⑤">(3)</a>
    <li><a href="#ref-for-user-consent①⑥">6.2.2. The authenticatorMakeCredential operation</a> <a href="#ref-for-user-consent①⑦">(2)</a> <a href="#ref-for-user-consent①⑧">(3)</a> <a href="#ref-for-user-consent①⑨">(4)</a> <a href="#ref-for-user-consent②⓪">(5)</a> <a href="#ref-for-user-consent②①">(6)</a> <a href="#ref-for-user-consent②②">(7)</a> <a href="#ref-for-user-consent②③">(8)</a>
    <li><a href="#ref-for-user-consent②④">6.2.3.  The authenticatorGetAssertion operation</a> <a href="#ref-for-user-consent②⑤">(2)</a> <a href="#ref-for-user-consent②⑥">(3)</a> <a href="#ref-for-user-consent②⑦">(4)</a> <a href="#ref-for-user-consent②⑧">(5)</a>
    <li><a href="#ref-for-user-consent②⑨">11.2. WebAuthn Extension Identifier Registrations</a>
    <li><a href="#ref-for-user-consent③⓪">14.2. Registration Ceremony Privacy</a> <a href="#ref-for-user-consent③①">(2)</a>
    <li><a href="#ref-for-user-consent③②">14.3. Authentication Ceremony Privacy</a> <a href="#ref-for-user-consent③③">(2)</a> <a href="#ref-for-user-consent③④">(3)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="user-handle">
   <b><a href="#user-handle">#user-handle</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-user-handle">2.2.1. Backwards Compatibility with FIDO U2F</a>
    <li><a href="#ref-for-user-handle①">4. Terminology</a>
    <li><a href="#ref-for-user-handle②">5.1.4.1. PublicKeyCredential’s [[DiscoverFromExternalSource]](origin, options, sameOriginWithAncestors) method</a> <a href="#ref-for-user-handle③">(2)</a>
    <li><a href="#ref-for-user-handle④">5.2.2. Web Authentication Assertion (interface AuthenticatorAssertionResponse)</a> <a href="#ref-for-user-handle⑤">(2)</a>
    <li><a href="#ref-for-user-handle⑥">5.4.3. User Account Parameters for Credential Generation (dictionary PublicKeyCredentialUserEntity)</a>
    <li><a href="#ref-for-user-handle⑦">6.2.2. The authenticatorMakeCredential operation</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="user-verification">
   <b><a href="#user-verification">#user-verification</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-user-verification">1. Introduction</a>
    <li><a href="#ref-for-user-verification①">4. Terminology</a> <a href="#ref-for-user-verification②">(2)</a> <a href="#ref-for-user-verification③">(3)</a> <a href="#ref-for-user-verification④">(4)</a> <a href="#ref-for-user-verification⑤">(5)</a> <a href="#ref-for-user-verification⑥">(6)</a> <a href="#ref-for-user-verification⑦">(7)</a> <a href="#ref-for-user-verification⑧">(8)</a> <a href="#ref-for-user-verification⑨">(9)</a>
    <li><a href="#ref-for-user-verification①⓪">5.1.3. Create a new credential - PublicKeyCredential’s [[Create]](origin, options, sameOriginWithAncestors) method</a> <a href="#ref-for-user-verification①①">(2)</a> <a href="#ref-for-user-verification①②">(3)</a>
    <li><a href="#ref-for-user-verification①③">5.1.4.1. PublicKeyCredential’s [[DiscoverFromExternalSource]](origin, options, sameOriginWithAncestors) method</a> <a href="#ref-for-user-verification①④">(2)</a> <a href="#ref-for-user-verification①⑤">(3)</a>
    <li><a href="#ref-for-user-verification①⑥">5.1.7. Availability of User-Verifying Platform Authenticator - PublicKeyCredential’s isUserVerifyingPlatformAuthenticatorAvailable() method</a> <a href="#ref-for-user-verification①⑦">(2)</a> <a href="#ref-for-user-verification①⑧">(3)</a> <a href="#ref-for-user-verification①⑨">(4)</a> <a href="#ref-for-user-verification②⓪">(5)</a>
    <li><a href="#ref-for-user-verification②①">5.4.4. Authenticator Selection Criteria (dictionary AuthenticatorSelectionCriteria)</a>
    <li><a href="#ref-for-user-verification②②">5.5. Options for Assertion Generation (dictionary PublicKeyCredentialRequestOptions)</a>
    <li><a href="#ref-for-user-verification②③">5.10.6. User Verification Requirement enumeration (enum UserVerificationRequirement)</a> <a href="#ref-for-user-verification②④">(2)</a> <a href="#ref-for-user-verification②⑤">(3)</a> <a href="#ref-for-user-verification②⑥">(4)</a>
    <li><a href="#ref-for-user-verification②⑦">6.2.2. The authenticatorMakeCredential operation</a> <a href="#ref-for-user-verification②⑧">(2)</a> <a href="#ref-for-user-verification②⑨">(3)</a>
    <li><a href="#ref-for-user-verification③⓪">6.2.3.  The authenticatorGetAssertion operation</a>
    <li><a href="#ref-for-user-verification③①">7.1. Registering a new credential</a>
    <li><a href="#ref-for-user-verification③②">7.2. Verifying an authentication assertion</a>
    <li><a href="#ref-for-user-verification③③">10.2. Simple Transaction Authorization Extension (txAuthSimple)</a>
    <li><a href="#ref-for-user-verification③④">10.3. Generic Transaction Authorization Extension (txAuthGeneric)</a>
    <li><a href="#ref-for-user-verification③⑤">12.2. Registration Specifically with User Verifying Platform Authenticator</a>
    <li><a href="#ref-for-user-verification③⑥">13.3. Security Benefits for Relying Parties</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="concept-user-present">
   <b><a href="#concept-user-present">#concept-user-present</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-concept-user-present">4. Terminology</a>
    <li><a href="#ref-for-concept-user-present①">6.1. Authenticator data</a> <a href="#ref-for-concept-user-present②">(2)</a> <a href="#ref-for-concept-user-present③">(3)</a>
    <li><a href="#ref-for-concept-user-present④">7.1. Registering a new credential</a>
    <li><a href="#ref-for-concept-user-present⑤">7.2. Verifying an authentication assertion</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="up">
   <b><a href="#up">#up</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-up">6.1. Authenticator data</a>
    <li><a href="#ref-for-up①">6.1.2. FIDO U2F signature format compatibility</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="concept-user-verified">
   <b><a href="#concept-user-verified">#concept-user-verified</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-concept-user-verified">4. Terminology</a>
    <li><a href="#ref-for-concept-user-verified①">6.1. Authenticator data</a> <a href="#ref-for-concept-user-verified②">(2)</a> <a href="#ref-for-concept-user-verified③">(3)</a>
    <li><a href="#ref-for-concept-user-verified④">7.1. Registering a new credential</a>
    <li><a href="#ref-for-concept-user-verified⑤">7.2. Verifying an authentication assertion</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="uv">
   <b><a href="#uv">#uv</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-uv">5.10.6. User Verification Requirement enumeration (enum UserVerificationRequirement)</a> <a href="#ref-for-uv①">(2)</a>
    <li><a href="#ref-for-uv②">6.1. Authenticator data</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="webauthn-client">
   <b><a href="#webauthn-client">#webauthn-client</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-webauthn-client">4. Terminology</a> <a href="#ref-for-webauthn-client①">(2)</a> <a href="#ref-for-webauthn-client②">(3)</a> <a href="#ref-for-webauthn-client③">(4)</a>
    <li><a href="#ref-for-webauthn-client④">6.2. Authenticator operations</a>
    <li><a href="#ref-for-webauthn-client⑤">6.2.2. The authenticatorMakeCredential operation</a>
    <li><a href="#ref-for-webauthn-client⑥">6.2.3.  The authenticatorGetAssertion operation</a>
    <li><a href="#ref-for-webauthn-client⑦">13. Security Considerations</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="web-authentication-api">
   <b><a href="#web-authentication-api">#web-authentication-api</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-web-authentication-api">1. Introduction</a> <a href="#ref-for-web-authentication-api①">(2)</a> <a href="#ref-for-web-authentication-api②">(3)</a>
    <li><a href="#ref-for-web-authentication-api③">4. Terminology</a> <a href="#ref-for-web-authentication-api④">(2)</a> <a href="#ref-for-web-authentication-api⑤">(3)</a> <a href="#ref-for-web-authentication-api⑥">(4)</a>
    <li><a href="#ref-for-web-authentication-api⑦">13. Security Considerations</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="publickeycredential">
   <b><a href="#publickeycredential">#publickeycredential</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-publickeycredential">1. Introduction</a>
    <li><a href="#ref-for-publickeycredential①">5.1. PublicKeyCredential Interface</a> <a href="#ref-for-publickeycredential②">(2)</a> <a href="#ref-for-publickeycredential③">(3)</a> <a href="#ref-for-publickeycredential④">(4)</a> <a href="#ref-for-publickeycredential⑤">(5)</a> <a href="#ref-for-publickeycredential⑥">(6)</a> <a href="#ref-for-publickeycredential⑦">(7)</a> <a href="#ref-for-publickeycredential⑧">(8)</a>
    <li><a href="#ref-for-publickeycredential⑨">5.1.3. Create a new credential - PublicKeyCredential’s [[Create]](origin, options, sameOriginWithAncestors) method</a> <a href="#ref-for-publickeycredential①⓪">(2)</a>
    <li><a href="#ref-for-publickeycredential①①">5.1.4.1. PublicKeyCredential’s [[DiscoverFromExternalSource]](origin, options, sameOriginWithAncestors) method</a>
    <li><a href="#ref-for-publickeycredential①②">5.1.5. Store an existing credential - PublicKeyCredential’s [[Store]](credential, sameOriginWithAncestors) method</a> <a href="#ref-for-publickeycredential①③">(2)</a>
    <li><a href="#ref-for-publickeycredential①④">5.1.7. Availability of User-Verifying Platform Authenticator - PublicKeyCredential’s isUserVerifyingPlatformAuthenticatorAvailable() method</a>
    <li><a href="#ref-for-publickeycredential①⑤">5.10.3. Credential Descriptor (dictionary PublicKeyCredentialDescriptor)</a>
    <li><a href="#ref-for-publickeycredential①⑥">7. Relying Party Operations</a>
    <li><a href="#ref-for-publickeycredential①⑦">7.2. Verifying an authentication assertion</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dom-publickeycredential-rawid">
   <b><a href="#dom-publickeycredential-rawid">#dom-publickeycredential-rawid</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-publickeycredential-rawid">5.1. PublicKeyCredential Interface</a>
    <li><a href="#ref-for-dom-publickeycredential-rawid①">7.2. Verifying an authentication assertion</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dom-publickeycredential-getclientextensionresults">
   <b><a href="#dom-publickeycredential-getclientextensionresults">#dom-publickeycredential-getclientextensionresults</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-publickeycredential-getclientextensionresults">5.1. PublicKeyCredential Interface</a>
    <li><a href="#ref-for-dom-publickeycredential-getclientextensionresults①">9.4. Client extension processing</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dom-publickeycredential-response">
   <b><a href="#dom-publickeycredential-response">#dom-publickeycredential-response</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-publickeycredential-response">5.1. PublicKeyCredential Interface</a>
    <li><a href="#ref-for-dom-publickeycredential-response①">5.1.3. Create a new credential - PublicKeyCredential’s [[Create]](origin, options, sameOriginWithAncestors) method</a>
    <li><a href="#ref-for-dom-publickeycredential-response②">5.1.4.1. PublicKeyCredential’s [[DiscoverFromExternalSource]](origin, options, sameOriginWithAncestors) method</a>
    <li><a href="#ref-for-dom-publickeycredential-response③">7.2. Verifying an authentication assertion</a> <a href="#ref-for-dom-publickeycredential-response④">(2)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dom-publickeycredential-identifier-slot">
   <b><a href="#dom-publickeycredential-identifier-slot">#dom-publickeycredential-identifier-slot</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-publickeycredential-identifier-slot">5.1. PublicKeyCredential Interface</a> <a href="#ref-for-dom-publickeycredential-identifier-slot①">(2)</a>
    <li><a href="#ref-for-dom-publickeycredential-identifier-slot②">5.1.3. Create a new credential - PublicKeyCredential’s [[Create]](origin, options, sameOriginWithAncestors) method</a>
    <li><a href="#ref-for-dom-publickeycredential-identifier-slot③">5.1.4.1. PublicKeyCredential’s [[DiscoverFromExternalSource]](origin, options, sameOriginWithAncestors) method</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dom-publickeycredential-clientextensionsresults-slot">
   <b><a href="#dom-publickeycredential-clientextensionsresults-slot">#dom-publickeycredential-clientextensionsresults-slot</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-publickeycredential-clientextensionsresults-slot">5.1. PublicKeyCredential Interface</a>
    <li><a href="#ref-for-dom-publickeycredential-clientextensionsresults-slot①">5.1.3. Create a new credential - PublicKeyCredential’s [[Create]](origin, options, sameOriginWithAncestors) method</a>
    <li><a href="#ref-for-dom-publickeycredential-clientextensionsresults-slot②">5.1.4.1. PublicKeyCredential’s [[DiscoverFromExternalSource]](origin, options, sameOriginWithAncestors) method</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dom-credentialcreationoptions-publickey">
   <b><a href="#dom-credentialcreationoptions-publickey">#dom-credentialcreationoptions-publickey</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-credentialcreationoptions-publickey">5.1.3. Create a new credential - PublicKeyCredential’s [[Create]](origin, options, sameOriginWithAncestors) method</a> <a href="#ref-for-dom-credentialcreationoptions-publickey①">(2)</a> <a href="#ref-for-dom-credentialcreationoptions-publickey②">(3)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dom-credentialrequestoptions-publickey">
   <b><a href="#dom-credentialrequestoptions-publickey">#dom-credentialrequestoptions-publickey</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-credentialrequestoptions-publickey">5.1.4.1. PublicKeyCredential’s [[DiscoverFromExternalSource]](origin, options, sameOriginWithAncestors) method</a> <a href="#ref-for-dom-credentialrequestoptions-publickey①">(2)</a> <a href="#ref-for-dom-credentialrequestoptions-publickey②">(3)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dom-publickeycredential-create-slot">
   <b><a href="#dom-publickeycredential-create-slot">#dom-publickeycredential-create-slot</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-publickeycredential-create-slot">4. Terminology</a>
    <li><a href="#ref-for-dom-publickeycredential-create-slot①">5.1. PublicKeyCredential Interface</a>
    <li><a href="#ref-for-dom-publickeycredential-create-slot②">5.4.5. Authenticator Attachment enumeration (enum AuthenticatorAttachment)</a>
    <li><a href="#ref-for-dom-publickeycredential-create-slot③">5.6. Abort operations with AbortSignal</a> <a href="#ref-for-dom-publickeycredential-create-slot④">(2)</a> <a href="#ref-for-dom-publickeycredential-create-slot⑤">(3)</a> <a href="#ref-for-dom-publickeycredential-create-slot⑥">(4)</a> <a href="#ref-for-dom-publickeycredential-create-slot⑦">(5)</a>
    <li><a href="#ref-for-dom-publickeycredential-create-slot⑧">6.2.2. The authenticatorMakeCredential operation</a>
    <li><a href="#ref-for-dom-publickeycredential-create-slot⑨">14.2. Registration Ceremony Privacy</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dom-publickeycredential-create-origin-options-sameoriginwithancestors-origin">
   <b><a href="#dom-publickeycredential-create-origin-options-sameoriginwithancestors-origin">#dom-publickeycredential-create-origin-options-sameoriginwithancestors-origin</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-publickeycredential-create-origin-options-sameoriginwithancestors-origin">5.1.3. Create a new credential - PublicKeyCredential’s [[Create]](origin, options, sameOriginWithAncestors) method</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dom-publickeycredential-create-origin-options-sameoriginwithancestors-options">
   <b><a href="#dom-publickeycredential-create-origin-options-sameoriginwithancestors-options">#dom-publickeycredential-create-origin-options-sameoriginwithancestors-options</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-publickeycredential-create-origin-options-sameoriginwithancestors-options">7.1. Registering a new credential</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="effective-user-verification-requirement-for-credential-creation">
   <b><a href="#effective-user-verification-requirement-for-credential-creation">#effective-user-verification-requirement-for-credential-creation</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-effective-user-verification-requirement-for-credential-creation">6.2.2. The authenticatorMakeCredential operation</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="credentialcreationdata-attestationobjectresult">
   <b><a href="#credentialcreationdata-attestationobjectresult">#credentialcreationdata-attestationobjectresult</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-credentialcreationdata-attestationobjectresult">5.1.3. Create a new credential - PublicKeyCredential’s [[Create]](origin, options, sameOriginWithAncestors) method</a> <a href="#ref-for-credentialcreationdata-attestationobjectresult①">(2)</a> <a href="#ref-for-credentialcreationdata-attestationobjectresult②">(3)</a> <a href="#ref-for-credentialcreationdata-attestationobjectresult③">(4)</a> <a href="#ref-for-credentialcreationdata-attestationobjectresult④">(5)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="credentialcreationdata-clientdatajsonresult">
   <b><a href="#credentialcreationdata-clientdatajsonresult">#credentialcreationdata-clientdatajsonresult</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-credentialcreationdata-clientdatajsonresult">5.1.3. Create a new credential - PublicKeyCredential’s [[Create]](origin, options, sameOriginWithAncestors) method</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="credentialcreationdata-attestationconveyancepreferenceoption">
   <b><a href="#credentialcreationdata-attestationconveyancepreferenceoption">#credentialcreationdata-attestationconveyancepreferenceoption</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-credentialcreationdata-attestationconveyancepreferenceoption">5.1.3. Create a new credential - PublicKeyCredential’s [[Create]](origin, options, sameOriginWithAncestors) method</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="credentialcreationdata-clientextensionresults">
   <b><a href="#credentialcreationdata-clientextensionresults">#credentialcreationdata-clientextensionresults</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-credentialcreationdata-clientextensionresults">5.1.3. Create a new credential - PublicKeyCredential’s [[Create]](origin, options, sameOriginWithAncestors) method</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dom-publickeycredential-collectfromcredentialstore-slot">
   <b><a href="#dom-publickeycredential-collectfromcredentialstore-slot">#dom-publickeycredential-collectfromcredentialstore-slot</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-publickeycredential-collectfromcredentialstore-slot">5.1.4. Use an existing credential to make an assertion - PublicKeyCredential’s [[Get]](options) method</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dom-publickeycredential-discoverfromexternalsource-slot">
   <b><a href="#dom-publickeycredential-discoverfromexternalsource-slot">#dom-publickeycredential-discoverfromexternalsource-slot</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-publickeycredential-discoverfromexternalsource-slot">4. Terminology</a>
    <li><a href="#ref-for-dom-publickeycredential-discoverfromexternalsource-slot①">5.1. PublicKeyCredential Interface</a>
    <li><a href="#ref-for-dom-publickeycredential-discoverfromexternalsource-slot②">5.1.4. Use an existing credential to make an assertion - PublicKeyCredential’s [[Get]](options) method</a>
    <li><a href="#ref-for-dom-publickeycredential-discoverfromexternalsource-slot③">5.4.5. Authenticator Attachment enumeration (enum AuthenticatorAttachment)</a>
    <li><a href="#ref-for-dom-publickeycredential-discoverfromexternalsource-slot④">5.6. Abort operations with AbortSignal</a> <a href="#ref-for-dom-publickeycredential-discoverfromexternalsource-slot⑤">(2)</a> <a href="#ref-for-dom-publickeycredential-discoverfromexternalsource-slot⑥">(3)</a> <a href="#ref-for-dom-publickeycredential-discoverfromexternalsource-slot⑦">(4)</a> <a href="#ref-for-dom-publickeycredential-discoverfromexternalsource-slot⑧">(5)</a>
    <li><a href="#ref-for-dom-publickeycredential-discoverfromexternalsource-slot⑨">6.2.3.  The authenticatorGetAssertion operation</a>
    <li><a href="#ref-for-dom-publickeycredential-discoverfromexternalsource-slot①⓪">14.3. Authentication Ceremony Privacy</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dom-publickeycredential-discoverfromexternalsource-origin-options-sameoriginwithancestors-origin">
   <b><a href="#dom-publickeycredential-discoverfromexternalsource-origin-options-sameoriginwithancestors-origin">#dom-publickeycredential-discoverfromexternalsource-origin-options-sameoriginwithancestors-origin</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-publickeycredential-discoverfromexternalsource-origin-options-sameoriginwithancestors-origin">5.1.4.1. PublicKeyCredential’s [[DiscoverFromExternalSource]](origin, options, sameOriginWithAncestors) method</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="effective-user-verification-requirement-for-assertion">
   <b><a href="#effective-user-verification-requirement-for-assertion">#effective-user-verification-requirement-for-assertion</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-effective-user-verification-requirement-for-assertion">6.2.3.  The authenticatorGetAssertion operation</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="assertioncreationdata-credentialidresult">
   <b><a href="#assertioncreationdata-credentialidresult">#assertioncreationdata-credentialidresult</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-assertioncreationdata-credentialidresult">5.1.4.1. PublicKeyCredential’s [[DiscoverFromExternalSource]](origin, options, sameOriginWithAncestors) method</a> <a href="#ref-for-assertioncreationdata-credentialidresult①">(2)</a> <a href="#ref-for-assertioncreationdata-credentialidresult②">(3)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="assertioncreationdata-clientdatajsonresult">
   <b><a href="#assertioncreationdata-clientdatajsonresult">#assertioncreationdata-clientdatajsonresult</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-assertioncreationdata-clientdatajsonresult">5.1.4.1. PublicKeyCredential’s [[DiscoverFromExternalSource]](origin, options, sameOriginWithAncestors) method</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="assertioncreationdata-authenticatordataresult">
   <b><a href="#assertioncreationdata-authenticatordataresult">#assertioncreationdata-authenticatordataresult</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-assertioncreationdata-authenticatordataresult">5.1.4.1. PublicKeyCredential’s [[DiscoverFromExternalSource]](origin, options, sameOriginWithAncestors) method</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="assertioncreationdata-signatureresult">
   <b><a href="#assertioncreationdata-signatureresult">#assertioncreationdata-signatureresult</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-assertioncreationdata-signatureresult">5.1.4.1. PublicKeyCredential’s [[DiscoverFromExternalSource]](origin, options, sameOriginWithAncestors) method</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="assertioncreationdata-userhandleresult">
   <b><a href="#assertioncreationdata-userhandleresult">#assertioncreationdata-userhandleresult</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-assertioncreationdata-userhandleresult">5.1.4.1. PublicKeyCredential’s [[DiscoverFromExternalSource]](origin, options, sameOriginWithAncestors) method</a> <a href="#ref-for-assertioncreationdata-userhandleresult①">(2)</a> <a href="#ref-for-assertioncreationdata-userhandleresult②">(3)</a> <a href="#ref-for-assertioncreationdata-userhandleresult③">(4)</a>
    <li><a href="#ref-for-assertioncreationdata-userhandleresult④">6.2.3.  The authenticatorGetAssertion operation</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="assertioncreationdata-clientextensionresults">
   <b><a href="#assertioncreationdata-clientextensionresults">#assertioncreationdata-clientextensionresults</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-assertioncreationdata-clientextensionresults">5.1.4.1. PublicKeyCredential’s [[DiscoverFromExternalSource]](origin, options, sameOriginWithAncestors) method</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="authenticatorresponse">
   <b><a href="#authenticatorresponse">#authenticatorresponse</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-authenticatorresponse">5.1. PublicKeyCredential Interface</a> <a href="#ref-for-authenticatorresponse①">(2)</a>
    <li><a href="#ref-for-authenticatorresponse②">5.2. Authenticator Responses (interface AuthenticatorResponse)</a> <a href="#ref-for-authenticatorresponse③">(2)</a>
    <li><a href="#ref-for-authenticatorresponse④">5.2.1. Information about Public Key Credential (interface AuthenticatorAttestationResponse)</a> <a href="#ref-for-authenticatorresponse⑤">(2)</a>
    <li><a href="#ref-for-authenticatorresponse⑥">5.2.2. Web Authentication Assertion (interface AuthenticatorAssertionResponse)</a> <a href="#ref-for-authenticatorresponse⑦">(2)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dom-authenticatorresponse-clientdatajson">
   <b><a href="#dom-authenticatorresponse-clientdatajson">#dom-authenticatorresponse-clientdatajson</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-authenticatorresponse-clientdatajson">5.1.3. Create a new credential - PublicKeyCredential’s [[Create]](origin, options, sameOriginWithAncestors) method</a> <a href="#ref-for-dom-authenticatorresponse-clientdatajson①">(2)</a>
    <li><a href="#ref-for-dom-authenticatorresponse-clientdatajson②">5.1.4.1. PublicKeyCredential’s [[DiscoverFromExternalSource]](origin, options, sameOriginWithAncestors) method</a> <a href="#ref-for-dom-authenticatorresponse-clientdatajson③">(2)</a>
    <li><a href="#ref-for-dom-authenticatorresponse-clientdatajson④">5.2. Authenticator Responses (interface AuthenticatorResponse)</a>
    <li><a href="#ref-for-dom-authenticatorresponse-clientdatajson⑤">5.2.1. Information about Public Key Credential (interface AuthenticatorAttestationResponse)</a>
    <li><a href="#ref-for-dom-authenticatorresponse-clientdatajson⑥">5.2.2. Web Authentication Assertion (interface AuthenticatorAssertionResponse)</a>
    <li><a href="#ref-for-dom-authenticatorresponse-clientdatajson⑦">7.1. Registering a new credential</a> <a href="#ref-for-dom-authenticatorresponse-clientdatajson⑧">(2)</a>
    <li><a href="#ref-for-dom-authenticatorresponse-clientdatajson⑨">7.2. Verifying an authentication assertion</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="authenticatorattestationresponse">
   <b><a href="#authenticatorattestationresponse">#authenticatorattestationresponse</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-authenticatorattestationresponse">5.1. PublicKeyCredential Interface</a>
    <li><a href="#ref-for-authenticatorattestationresponse①">5.1.3. Create a new credential - PublicKeyCredential’s [[Create]](origin, options, sameOriginWithAncestors) method</a>
    <li><a href="#ref-for-authenticatorattestationresponse②">5.2.1. Information about Public Key Credential (interface AuthenticatorAttestationResponse)</a> <a href="#ref-for-authenticatorattestationresponse③">(2)</a>
    <li><a href="#ref-for-authenticatorattestationresponse④">7. Relying Party Operations</a>
    <li><a href="#ref-for-authenticatorattestationresponse⑤">7.1. Registering a new credential</a> <a href="#ref-for-authenticatorattestationresponse⑥">(2)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dom-authenticatorattestationresponse-attestationobject">
   <b><a href="#dom-authenticatorattestationresponse-attestationobject">#dom-authenticatorattestationresponse-attestationobject</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-authenticatorattestationresponse-attestationobject">5.1.3. Create a new credential - PublicKeyCredential’s [[Create]](origin, options, sameOriginWithAncestors) method</a>
    <li><a href="#ref-for-dom-authenticatorattestationresponse-attestationobject①">5.2.1. Information about Public Key Credential (interface AuthenticatorAttestationResponse)</a>
    <li><a href="#ref-for-dom-authenticatorattestationresponse-attestationobject②">7.1. Registering a new credential</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="authenticatorassertionresponse">
   <b><a href="#authenticatorassertionresponse">#authenticatorassertionresponse</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-authenticatorassertionresponse">4. Terminology</a>
    <li><a href="#ref-for-authenticatorassertionresponse①">5.1. PublicKeyCredential Interface</a>
    <li><a href="#ref-for-authenticatorassertionresponse②">5.1.4.1. PublicKeyCredential’s [[DiscoverFromExternalSource]](origin, options, sameOriginWithAncestors) method</a>
    <li><a href="#ref-for-authenticatorassertionresponse③">5.2.2. Web Authentication Assertion (interface AuthenticatorAssertionResponse)</a> <a href="#ref-for-authenticatorassertionresponse④">(2)</a>
    <li><a href="#ref-for-authenticatorassertionresponse⑤">7. Relying Party Operations</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dom-authenticatorassertionresponse-authenticatordata">
   <b><a href="#dom-authenticatorassertionresponse-authenticatordata">#dom-authenticatorassertionresponse-authenticatordata</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-authenticatorassertionresponse-authenticatordata">5.1.4.1. PublicKeyCredential’s [[DiscoverFromExternalSource]](origin, options, sameOriginWithAncestors) method</a>
    <li><a href="#ref-for-dom-authenticatorassertionresponse-authenticatordata①">5.2.2. Web Authentication Assertion (interface AuthenticatorAssertionResponse)</a>
    <li><a href="#ref-for-dom-authenticatorassertionresponse-authenticatordata②">7.2. Verifying an authentication assertion</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dom-authenticatorassertionresponse-signature">
   <b><a href="#dom-authenticatorassertionresponse-signature">#dom-authenticatorassertionresponse-signature</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-authenticatorassertionresponse-signature">5.1.4.1. PublicKeyCredential’s [[DiscoverFromExternalSource]](origin, options, sameOriginWithAncestors) method</a>
    <li><a href="#ref-for-dom-authenticatorassertionresponse-signature①">5.2.2. Web Authentication Assertion (interface AuthenticatorAssertionResponse)</a>
    <li><a href="#ref-for-dom-authenticatorassertionresponse-signature②">7.2. Verifying an authentication assertion</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dom-authenticatorassertionresponse-userhandle">
   <b><a href="#dom-authenticatorassertionresponse-userhandle">#dom-authenticatorassertionresponse-userhandle</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-authenticatorassertionresponse-userhandle">2.2.1. Backwards Compatibility with FIDO U2F</a>
    <li><a href="#ref-for-dom-authenticatorassertionresponse-userhandle①">5.1.4.1. PublicKeyCredential’s [[DiscoverFromExternalSource]](origin, options, sameOriginWithAncestors) method</a>
    <li><a href="#ref-for-dom-authenticatorassertionresponse-userhandle②">5.2.2. Web Authentication Assertion (interface AuthenticatorAssertionResponse)</a>
    <li><a href="#ref-for-dom-authenticatorassertionresponse-userhandle③">7.2. Verifying an authentication assertion</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dictdef-publickeycredentialparameters">
   <b><a href="#dictdef-publickeycredentialparameters">#dictdef-publickeycredentialparameters</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dictdef-publickeycredentialparameters">5.3. Parameters for Credential Generation (dictionary PublicKeyCredentialParameters)</a>
    <li><a href="#ref-for-dictdef-publickeycredentialparameters①">5.4. Options for Credential Creation (dictionary PublicKeyCredentialCreationOptions)</a> <a href="#ref-for-dictdef-publickeycredentialparameters②">(2)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dom-publickeycredentialparameters-type">
   <b><a href="#dom-publickeycredentialparameters-type">#dom-publickeycredentialparameters-type</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-publickeycredentialparameters-type">5.1.3. Create a new credential - PublicKeyCredential’s [[Create]](origin, options, sameOriginWithAncestors) method</a> <a href="#ref-for-dom-publickeycredentialparameters-type①">(2)</a>
    <li><a href="#ref-for-dom-publickeycredentialparameters-type②">5.3. Parameters for Credential Generation (dictionary PublicKeyCredentialParameters)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dom-publickeycredentialparameters-alg">
   <b><a href="#dom-publickeycredentialparameters-alg">#dom-publickeycredentialparameters-alg</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-publickeycredentialparameters-alg">5.1.3. Create a new credential - PublicKeyCredential’s [[Create]](origin, options, sameOriginWithAncestors) method</a>
    <li><a href="#ref-for-dom-publickeycredentialparameters-alg①">5.3. Parameters for Credential Generation (dictionary PublicKeyCredentialParameters)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dictdef-publickeycredentialcreationoptions">
   <b><a href="#dictdef-publickeycredentialcreationoptions">#dictdef-publickeycredentialcreationoptions</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dictdef-publickeycredentialcreationoptions">5.1.1. CredentialCreationOptions Dictionary Extension</a>
    <li><a href="#ref-for-dictdef-publickeycredentialcreationoptions①">5.1.3. Create a new credential - PublicKeyCredential’s [[Create]](origin, options, sameOriginWithAncestors) method</a>
    <li><a href="#ref-for-dictdef-publickeycredentialcreationoptions②">5.4. Options for Credential Creation (dictionary PublicKeyCredentialCreationOptions)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dom-publickeycredentialcreationoptions-rp">
   <b><a href="#dom-publickeycredentialcreationoptions-rp">#dom-publickeycredentialcreationoptions-rp</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-publickeycredentialcreationoptions-rp">5.1.3. Create a new credential - PublicKeyCredential’s [[Create]](origin, options, sameOriginWithAncestors) method</a> <a href="#ref-for-dom-publickeycredentialcreationoptions-rp①">(2)</a> <a href="#ref-for-dom-publickeycredentialcreationoptions-rp②">(3)</a> <a href="#ref-for-dom-publickeycredentialcreationoptions-rp③">(4)</a> <a href="#ref-for-dom-publickeycredentialcreationoptions-rp④">(5)</a> <a href="#ref-for-dom-publickeycredentialcreationoptions-rp⑤">(6)</a>
    <li><a href="#ref-for-dom-publickeycredentialcreationoptions-rp⑥">5.4. Options for Credential Creation (dictionary PublicKeyCredentialCreationOptions)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dom-publickeycredentialcreationoptions-user">
   <b><a href="#dom-publickeycredentialcreationoptions-user">#dom-publickeycredentialcreationoptions-user</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-publickeycredentialcreationoptions-user">5.1.3. Create a new credential - PublicKeyCredential’s [[Create]](origin, options, sameOriginWithAncestors) method</a>
    <li><a href="#ref-for-dom-publickeycredentialcreationoptions-user①">5.4. Options for Credential Creation (dictionary PublicKeyCredentialCreationOptions)</a>
    <li><a href="#ref-for-dom-publickeycredentialcreationoptions-user②">7.1. Registering a new credential</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dom-publickeycredentialcreationoptions-challenge">
   <b><a href="#dom-publickeycredentialcreationoptions-challenge">#dom-publickeycredentialcreationoptions-challenge</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-publickeycredentialcreationoptions-challenge">5.1.3. Create a new credential - PublicKeyCredential’s [[Create]](origin, options, sameOriginWithAncestors) method</a>
    <li><a href="#ref-for-dom-publickeycredentialcreationoptions-challenge①">5.4. Options for Credential Creation (dictionary PublicKeyCredentialCreationOptions)</a>
    <li><a href="#ref-for-dom-publickeycredentialcreationoptions-challenge②">13.1. Cryptographic Challenges</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dom-publickeycredentialcreationoptions-pubkeycredparams">
   <b><a href="#dom-publickeycredentialcreationoptions-pubkeycredparams">#dom-publickeycredentialcreationoptions-pubkeycredparams</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-publickeycredentialcreationoptions-pubkeycredparams">5.1.3. Create a new credential - PublicKeyCredential’s [[Create]](origin, options, sameOriginWithAncestors) method</a> <a href="#ref-for-dom-publickeycredentialcreationoptions-pubkeycredparams①">(2)</a>
    <li><a href="#ref-for-dom-publickeycredentialcreationoptions-pubkeycredparams②">5.4. Options for Credential Creation (dictionary PublicKeyCredentialCreationOptions)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dom-publickeycredentialcreationoptions-timeout">
   <b><a href="#dom-publickeycredentialcreationoptions-timeout">#dom-publickeycredentialcreationoptions-timeout</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-publickeycredentialcreationoptions-timeout">5.1.3. Create a new credential - PublicKeyCredential’s [[Create]](origin, options, sameOriginWithAncestors) method</a> <a href="#ref-for-dom-publickeycredentialcreationoptions-timeout①">(2)</a>
    <li><a href="#ref-for-dom-publickeycredentialcreationoptions-timeout②">5.4. Options for Credential Creation (dictionary PublicKeyCredentialCreationOptions)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dom-publickeycredentialcreationoptions-excludecredentials">
   <b><a href="#dom-publickeycredentialcreationoptions-excludecredentials">#dom-publickeycredentialcreationoptions-excludecredentials</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-publickeycredentialcreationoptions-excludecredentials">5.1.3. Create a new credential - PublicKeyCredential’s [[Create]](origin, options, sameOriginWithAncestors) method</a>
    <li><a href="#ref-for-dom-publickeycredentialcreationoptions-excludecredentials①">5.4. Options for Credential Creation (dictionary PublicKeyCredentialCreationOptions)</a>
    <li><a href="#ref-for-dom-publickeycredentialcreationoptions-excludecredentials②">14.2. Registration Ceremony Privacy</a> <a href="#ref-for-dom-publickeycredentialcreationoptions-excludecredentials③">(2)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dom-publickeycredentialcreationoptions-authenticatorselection">
   <b><a href="#dom-publickeycredentialcreationoptions-authenticatorselection">#dom-publickeycredentialcreationoptions-authenticatorselection</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-publickeycredentialcreationoptions-authenticatorselection">5.1.3. Create a new credential - PublicKeyCredential’s [[Create]](origin, options, sameOriginWithAncestors) method</a> <a href="#ref-for-dom-publickeycredentialcreationoptions-authenticatorselection①">(2)</a> <a href="#ref-for-dom-publickeycredentialcreationoptions-authenticatorselection②">(3)</a> <a href="#ref-for-dom-publickeycredentialcreationoptions-authenticatorselection③">(4)</a> <a href="#ref-for-dom-publickeycredentialcreationoptions-authenticatorselection④">(5)</a> <a href="#ref-for-dom-publickeycredentialcreationoptions-authenticatorselection⑤">(6)</a>
    <li><a href="#ref-for-dom-publickeycredentialcreationoptions-authenticatorselection⑥">5.4. Options for Credential Creation (dictionary PublicKeyCredentialCreationOptions)</a>
    <li><a href="#ref-for-dom-publickeycredentialcreationoptions-authenticatorselection⑦">6.2.2. The authenticatorMakeCredential operation</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dom-publickeycredentialcreationoptions-attestation">
   <b><a href="#dom-publickeycredentialcreationoptions-attestation">#dom-publickeycredentialcreationoptions-attestation</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-publickeycredentialcreationoptions-attestation">5.1.3. Create a new credential - PublicKeyCredential’s [[Create]](origin, options, sameOriginWithAncestors) method</a>
    <li><a href="#ref-for-dom-publickeycredentialcreationoptions-attestation①">5.4. Options for Credential Creation (dictionary PublicKeyCredentialCreationOptions)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dom-publickeycredentialcreationoptions-extensions">
   <b><a href="#dom-publickeycredentialcreationoptions-extensions">#dom-publickeycredentialcreationoptions-extensions</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-publickeycredentialcreationoptions-extensions">5.1.3. Create a new credential - PublicKeyCredential’s [[Create]](origin, options, sameOriginWithAncestors) method</a> <a href="#ref-for-dom-publickeycredentialcreationoptions-extensions①">(2)</a>
    <li><a href="#ref-for-dom-publickeycredentialcreationoptions-extensions②">5.4. Options for Credential Creation (dictionary PublicKeyCredentialCreationOptions)</a>
    <li><a href="#ref-for-dom-publickeycredentialcreationoptions-extensions③">7.1. Registering a new credential</a> <a href="#ref-for-dom-publickeycredentialcreationoptions-extensions④">(2)</a>
    <li><a href="#ref-for-dom-publickeycredentialcreationoptions-extensions⑤">7.2. Verifying an authentication assertion</a>
    <li><a href="#ref-for-dom-publickeycredentialcreationoptions-extensions⑥">9.3. Extending request parameters</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dictdef-publickeycredentialentity">
   <b><a href="#dictdef-publickeycredentialentity">#dictdef-publickeycredentialentity</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dictdef-publickeycredentialentity">5.4.1. Public Key Entity Description (dictionary PublicKeyCredentialEntity)</a> <a href="#ref-for-dictdef-publickeycredentialentity①">(2)</a> <a href="#ref-for-dictdef-publickeycredentialentity②">(3)</a>
    <li><a href="#ref-for-dictdef-publickeycredentialentity③">5.4.2. RP Parameters for Credential Generation (dictionary PublicKeyCredentialRpEntity)</a>
    <li><a href="#ref-for-dictdef-publickeycredentialentity④">5.4.3. User Account Parameters for Credential Generation (dictionary PublicKeyCredentialUserEntity)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dom-publickeycredentialentity-name">
   <b><a href="#dom-publickeycredentialentity-name">#dom-publickeycredentialentity-name</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-publickeycredentialentity-name">5.4. Options for Credential Creation (dictionary PublicKeyCredentialCreationOptions)</a> <a href="#ref-for-dom-publickeycredentialentity-name①">(2)</a>
    <li><a href="#ref-for-dom-publickeycredentialentity-name②">5.4.1. Public Key Entity Description (dictionary PublicKeyCredentialEntity)</a> <a href="#ref-for-dom-publickeycredentialentity-name③">(2)</a> <a href="#ref-for-dom-publickeycredentialentity-name④">(3)</a> <a href="#ref-for-dom-publickeycredentialentity-name⑤">(4)</a>
    <li><a href="#ref-for-dom-publickeycredentialentity-name⑥">6.2.2. The authenticatorMakeCredential operation</a> <a href="#ref-for-dom-publickeycredentialentity-name⑦">(2)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dom-publickeycredentialentity-icon">
   <b><a href="#dom-publickeycredentialentity-icon">#dom-publickeycredentialentity-icon</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-publickeycredentialentity-icon">5.4.1. Public Key Entity Description (dictionary PublicKeyCredentialEntity)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dictdef-publickeycredentialrpentity">
   <b><a href="#dictdef-publickeycredentialrpentity">#dictdef-publickeycredentialrpentity</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dictdef-publickeycredentialrpentity">5.4. Options for Credential Creation (dictionary PublicKeyCredentialCreationOptions)</a> <a href="#ref-for-dictdef-publickeycredentialrpentity①">(2)</a>
    <li><a href="#ref-for-dictdef-publickeycredentialrpentity②">5.4.1. Public Key Entity Description (dictionary PublicKeyCredentialEntity)</a>
    <li><a href="#ref-for-dictdef-publickeycredentialrpentity③">5.4.2. RP Parameters for Credential Generation (dictionary PublicKeyCredentialRpEntity)</a> <a href="#ref-for-dictdef-publickeycredentialrpentity④">(2)</a>
    <li><a href="#ref-for-dictdef-publickeycredentialrpentity⑤">6.2.2. The authenticatorMakeCredential operation</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dom-publickeycredentialrpentity-id">
   <b><a href="#dom-publickeycredentialrpentity-id">#dom-publickeycredentialrpentity-id</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-publickeycredentialrpentity-id">5.1.3. Create a new credential - PublicKeyCredential’s [[Create]](origin, options, sameOriginWithAncestors) method</a> <a href="#ref-for-dom-publickeycredentialrpentity-id①">(2)</a> <a href="#ref-for-dom-publickeycredentialrpentity-id②">(3)</a> <a href="#ref-for-dom-publickeycredentialrpentity-id③">(4)</a> <a href="#ref-for-dom-publickeycredentialrpentity-id④">(5)</a>
    <li><a href="#ref-for-dom-publickeycredentialrpentity-id⑤">5.4. Options for Credential Creation (dictionary PublicKeyCredentialCreationOptions)</a>
    <li><a href="#ref-for-dom-publickeycredentialrpentity-id⑥">5.4.2. RP Parameters for Credential Generation (dictionary PublicKeyCredentialRpEntity)</a>
    <li><a href="#ref-for-dom-publickeycredentialrpentity-id⑦">6.2.2. The authenticatorMakeCredential operation</a> <a href="#ref-for-dom-publickeycredentialrpentity-id⑧">(2)</a> <a href="#ref-for-dom-publickeycredentialrpentity-id⑨">(3)</a> <a href="#ref-for-dom-publickeycredentialrpentity-id①⓪">(4)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dictdef-publickeycredentialuserentity">
   <b><a href="#dictdef-publickeycredentialuserentity">#dictdef-publickeycredentialuserentity</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dictdef-publickeycredentialuserentity">5.4. Options for Credential Creation (dictionary PublicKeyCredentialCreationOptions)</a> <a href="#ref-for-dictdef-publickeycredentialuserentity①">(2)</a>
    <li><a href="#ref-for-dictdef-publickeycredentialuserentity②">5.4.1. Public Key Entity Description (dictionary PublicKeyCredentialEntity)</a> <a href="#ref-for-dictdef-publickeycredentialuserentity③">(2)</a>
    <li><a href="#ref-for-dictdef-publickeycredentialuserentity④">5.4.3. User Account Parameters for Credential Generation (dictionary PublicKeyCredentialUserEntity)</a> <a href="#ref-for-dictdef-publickeycredentialuserentity⑤">(2)</a>
    <li><a href="#ref-for-dictdef-publickeycredentialuserentity⑥">6.2.2. The authenticatorMakeCredential operation</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dom-publickeycredentialuserentity-id">
   <b><a href="#dom-publickeycredentialuserentity-id">#dom-publickeycredentialuserentity-id</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-publickeycredentialuserentity-id">5.4. Options for Credential Creation (dictionary PublicKeyCredentialCreationOptions)</a>
    <li><a href="#ref-for-dom-publickeycredentialuserentity-id①">5.4.3. User Account Parameters for Credential Generation (dictionary PublicKeyCredentialUserEntity)</a>
    <li><a href="#ref-for-dom-publickeycredentialuserentity-id②">6.2.2. The authenticatorMakeCredential operation</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dom-publickeycredentialuserentity-displayname">
   <b><a href="#dom-publickeycredentialuserentity-displayname">#dom-publickeycredentialuserentity-displayname</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-publickeycredentialuserentity-displayname">4. Terminology</a>
    <li><a href="#ref-for-dom-publickeycredentialuserentity-displayname①">5.4. Options for Credential Creation (dictionary PublicKeyCredentialCreationOptions)</a>
    <li><a href="#ref-for-dom-publickeycredentialuserentity-displayname②">5.4.1. Public Key Entity Description (dictionary PublicKeyCredentialEntity)</a>
    <li><a href="#ref-for-dom-publickeycredentialuserentity-displayname③">5.4.3. User Account Parameters for Credential Generation (dictionary PublicKeyCredentialUserEntity)</a> <a href="#ref-for-dom-publickeycredentialuserentity-displayname④">(2)</a> <a href="#ref-for-dom-publickeycredentialuserentity-displayname⑤">(3)</a>
    <li><a href="#ref-for-dom-publickeycredentialuserentity-displayname⑥">6.2.2. The authenticatorMakeCredential operation</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dictdef-authenticatorselectioncriteria">
   <b><a href="#dictdef-authenticatorselectioncriteria">#dictdef-authenticatorselectioncriteria</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dictdef-authenticatorselectioncriteria">5.4. Options for Credential Creation (dictionary PublicKeyCredentialCreationOptions)</a> <a href="#ref-for-dictdef-authenticatorselectioncriteria①">(2)</a>
    <li><a href="#ref-for-dictdef-authenticatorselectioncriteria②">5.4.4. Authenticator Selection Criteria (dictionary AuthenticatorSelectionCriteria)</a> <a href="#ref-for-dictdef-authenticatorselectioncriteria③">(2)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dom-authenticatorselectioncriteria-authenticatorattachment">
   <b><a href="#dom-authenticatorselectioncriteria-authenticatorattachment">#dom-authenticatorselectioncriteria-authenticatorattachment</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-authenticatorselectioncriteria-authenticatorattachment">5.1.3. Create a new credential - PublicKeyCredential’s [[Create]](origin, options, sameOriginWithAncestors) method</a>
    <li><a href="#ref-for-dom-authenticatorselectioncriteria-authenticatorattachment①">5.4.4. Authenticator Selection Criteria (dictionary AuthenticatorSelectionCriteria)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dom-authenticatorselectioncriteria-requireresidentkey">
   <b><a href="#dom-authenticatorselectioncriteria-requireresidentkey">#dom-authenticatorselectioncriteria-requireresidentkey</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-authenticatorselectioncriteria-requireresidentkey">5.1.3. Create a new credential - PublicKeyCredential’s [[Create]](origin, options, sameOriginWithAncestors) method</a> <a href="#ref-for-dom-authenticatorselectioncriteria-requireresidentkey①">(2)</a>
    <li><a href="#ref-for-dom-authenticatorselectioncriteria-requireresidentkey②">5.4.4. Authenticator Selection Criteria (dictionary AuthenticatorSelectionCriteria)</a>
    <li><a href="#ref-for-dom-authenticatorselectioncriteria-requireresidentkey③">6.2.2. The authenticatorMakeCredential operation</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dom-authenticatorselectioncriteria-userverification">
   <b><a href="#dom-authenticatorselectioncriteria-userverification">#dom-authenticatorselectioncriteria-userverification</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-authenticatorselectioncriteria-userverification">5.1.3. Create a new credential - PublicKeyCredential’s [[Create]](origin, options, sameOriginWithAncestors) method</a> <a href="#ref-for-dom-authenticatorselectioncriteria-userverification①">(2)</a>
    <li><a href="#ref-for-dom-authenticatorselectioncriteria-userverification②">5.4.4. Authenticator Selection Criteria (dictionary AuthenticatorSelectionCriteria)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="enumdef-authenticatorattachment">
   <b><a href="#enumdef-authenticatorattachment">#enumdef-authenticatorattachment</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-enumdef-authenticatorattachment">5.4.4. Authenticator Selection Criteria (dictionary AuthenticatorSelectionCriteria)</a> <a href="#ref-for-enumdef-authenticatorattachment①">(2)</a>
    <li><a href="#ref-for-enumdef-authenticatorattachment②">5.4.5. Authenticator Attachment enumeration (enum AuthenticatorAttachment)</a> <a href="#ref-for-enumdef-authenticatorattachment③">(2)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dom-authenticatorattachment-platform">
   <b><a href="#dom-authenticatorattachment-platform">#dom-authenticatorattachment-platform</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-authenticatorattachment-platform">5.4.5. Authenticator Attachment enumeration (enum AuthenticatorAttachment)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dom-authenticatorattachment-cross-platform">
   <b><a href="#dom-authenticatorattachment-cross-platform">#dom-authenticatorattachment-cross-platform</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-authenticatorattachment-cross-platform">5.4.5. Authenticator Attachment enumeration (enum AuthenticatorAttachment)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="attachment-modality">
   <b><a href="#attachment-modality">#attachment-modality</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-attachment-modality">5.4.5. Authenticator Attachment enumeration (enum AuthenticatorAttachment)</a> <a href="#ref-for-attachment-modality①">(2)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="platform-authenticators">
   <b><a href="#platform-authenticators">#platform-authenticators</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-platform-authenticators">5.1.7. Availability of User-Verifying Platform Authenticator - PublicKeyCredential’s isUserVerifyingPlatformAuthenticatorAvailable() method</a> <a href="#ref-for-platform-authenticators①">(2)</a> <a href="#ref-for-platform-authenticators②">(3)</a> <a href="#ref-for-platform-authenticators③">(4)</a> <a href="#ref-for-platform-authenticators④">(5)</a>
    <li><a href="#ref-for-platform-authenticators⑤">5.4.5. Authenticator Attachment enumeration (enum AuthenticatorAttachment)</a> <a href="#ref-for-platform-authenticators⑥">(2)</a>
    <li><a href="#ref-for-platform-authenticators⑦">12.1. Registration</a>
    <li><a href="#ref-for-platform-authenticators⑧">12.2. Registration Specifically with User Verifying Platform Authenticator</a> <a href="#ref-for-platform-authenticators⑨">(2)</a>
    <li><a href="#ref-for-platform-authenticators①⓪">14.2. Registration Ceremony Privacy</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="roaming-authenticators">
   <b><a href="#roaming-authenticators">#roaming-authenticators</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-roaming-authenticators">1.1.3. Other use cases and configurations</a>
    <li><a href="#ref-for-roaming-authenticators①">4. Terminology</a>
    <li><a href="#ref-for-roaming-authenticators②">5.4.5. Authenticator Attachment enumeration (enum AuthenticatorAttachment)</a> <a href="#ref-for-roaming-authenticators③">(2)</a>
    <li><a href="#ref-for-roaming-authenticators④">12.1. Registration</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="platform-attachment">
   <b><a href="#platform-attachment">#platform-attachment</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-platform-attachment">5.4.5. Authenticator Attachment enumeration (enum AuthenticatorAttachment)</a> <a href="#ref-for-platform-attachment①">(2)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="platform-credential">
   <b><a href="#platform-credential">#platform-credential</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-platform-credential">5.4.5. Authenticator Attachment enumeration (enum AuthenticatorAttachment)</a> <a href="#ref-for-platform-credential①">(2)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="cross-platform-attachment">
   <b><a href="#cross-platform-attachment">#cross-platform-attachment</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-cross-platform-attachment">5.4.5. Authenticator Attachment enumeration (enum AuthenticatorAttachment)</a> <a href="#ref-for-cross-platform-attachment①">(2)</a> <a href="#ref-for-cross-platform-attachment②">(3)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="roaming-credential">
   <b><a href="#roaming-credential">#roaming-credential</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-roaming-credential">5.4.5. Authenticator Attachment enumeration (enum AuthenticatorAttachment)</a> <a href="#ref-for-roaming-credential①">(2)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="attestation-conveyance">
   <b><a href="#attestation-conveyance">#attestation-conveyance</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-attestation-conveyance">4. Terminology</a>
    <li><a href="#ref-for-attestation-conveyance①">5.4. Options for Credential Creation (dictionary PublicKeyCredentialCreationOptions)</a>
    <li><a href="#ref-for-attestation-conveyance②">5.4.6. Attestation Conveyance Preference enumeration (enum AttestationConveyancePreference)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="enumdef-attestationconveyancepreference">
   <b><a href="#enumdef-attestationconveyancepreference">#enumdef-attestationconveyancepreference</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-enumdef-attestationconveyancepreference">5.4. Options for Credential Creation (dictionary PublicKeyCredentialCreationOptions)</a> <a href="#ref-for-enumdef-attestationconveyancepreference①">(2)</a>
    <li><a href="#ref-for-enumdef-attestationconveyancepreference②">5.4.6. Attestation Conveyance Preference enumeration (enum AttestationConveyancePreference)</a> <a href="#ref-for-enumdef-attestationconveyancepreference③">(2)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dom-attestationconveyancepreference-none">
   <b><a href="#dom-attestationconveyancepreference-none">#dom-attestationconveyancepreference-none</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-attestationconveyancepreference-none">5.4. Options for Credential Creation (dictionary PublicKeyCredentialCreationOptions)</a>
    <li><a href="#ref-for-dom-attestationconveyancepreference-none①">5.4.6. Attestation Conveyance Preference enumeration (enum AttestationConveyancePreference)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dom-attestationconveyancepreference-indirect">
   <b><a href="#dom-attestationconveyancepreference-indirect">#dom-attestationconveyancepreference-indirect</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-attestationconveyancepreference-indirect">5.4.6. Attestation Conveyance Preference enumeration (enum AttestationConveyancePreference)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dom-attestationconveyancepreference-direct">
   <b><a href="#dom-attestationconveyancepreference-direct">#dom-attestationconveyancepreference-direct</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-attestationconveyancepreference-direct">5.4.6. Attestation Conveyance Preference enumeration (enum AttestationConveyancePreference)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dictdef-publickeycredentialrequestoptions">
   <b><a href="#dictdef-publickeycredentialrequestoptions">#dictdef-publickeycredentialrequestoptions</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dictdef-publickeycredentialrequestoptions">5.1.2. CredentialRequestOptions Dictionary Extension</a>
    <li><a href="#ref-for-dictdef-publickeycredentialrequestoptions①">5.1.4.1. PublicKeyCredential’s [[DiscoverFromExternalSource]](origin, options, sameOriginWithAncestors) method</a>
    <li><a href="#ref-for-dictdef-publickeycredentialrequestoptions②">5.5. Options for Assertion Generation (dictionary PublicKeyCredentialRequestOptions)</a> <a href="#ref-for-dictdef-publickeycredentialrequestoptions③">(2)</a>
    <li><a href="#ref-for-dictdef-publickeycredentialrequestoptions④">7.2. Verifying an authentication assertion</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dom-publickeycredentialrequestoptions-challenge">
   <b><a href="#dom-publickeycredentialrequestoptions-challenge">#dom-publickeycredentialrequestoptions-challenge</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-publickeycredentialrequestoptions-challenge">5.1.4.1. PublicKeyCredential’s [[DiscoverFromExternalSource]](origin, options, sameOriginWithAncestors) method</a>
    <li><a href="#ref-for-dom-publickeycredentialrequestoptions-challenge①">5.5. Options for Assertion Generation (dictionary PublicKeyCredentialRequestOptions)</a> <a href="#ref-for-dom-publickeycredentialrequestoptions-challenge②">(2)</a>
    <li><a href="#ref-for-dom-publickeycredentialrequestoptions-challenge③">13.1. Cryptographic Challenges</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dom-publickeycredentialrequestoptions-timeout">
   <b><a href="#dom-publickeycredentialrequestoptions-timeout">#dom-publickeycredentialrequestoptions-timeout</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-publickeycredentialrequestoptions-timeout">5.1.4.1. PublicKeyCredential’s [[DiscoverFromExternalSource]](origin, options, sameOriginWithAncestors) method</a> <a href="#ref-for-dom-publickeycredentialrequestoptions-timeout①">(2)</a>
    <li><a href="#ref-for-dom-publickeycredentialrequestoptions-timeout②">5.5. Options for Assertion Generation (dictionary PublicKeyCredentialRequestOptions)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dom-publickeycredentialrequestoptions-rpid">
   <b><a href="#dom-publickeycredentialrequestoptions-rpid">#dom-publickeycredentialrequestoptions-rpid</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-publickeycredentialrequestoptions-rpid">5.1.4.1. PublicKeyCredential’s [[DiscoverFromExternalSource]](origin, options, sameOriginWithAncestors) method</a> <a href="#ref-for-dom-publickeycredentialrequestoptions-rpid①">(2)</a> <a href="#ref-for-dom-publickeycredentialrequestoptions-rpid②">(3)</a> <a href="#ref-for-dom-publickeycredentialrequestoptions-rpid③">(4)</a>
    <li><a href="#ref-for-dom-publickeycredentialrequestoptions-rpid④">5.5. Options for Assertion Generation (dictionary PublicKeyCredentialRequestOptions)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dom-publickeycredentialrequestoptions-allowcredentials">
   <b><a href="#dom-publickeycredentialrequestoptions-allowcredentials">#dom-publickeycredentialrequestoptions-allowcredentials</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-publickeycredentialrequestoptions-allowcredentials">5.1.4.1. PublicKeyCredential’s [[DiscoverFromExternalSource]](origin, options, sameOriginWithAncestors) method</a> <a href="#ref-for-dom-publickeycredentialrequestoptions-allowcredentials①">(2)</a> <a href="#ref-for-dom-publickeycredentialrequestoptions-allowcredentials②">(3)</a> <a href="#ref-for-dom-publickeycredentialrequestoptions-allowcredentials③">(4)</a>
    <li><a href="#ref-for-dom-publickeycredentialrequestoptions-allowcredentials④">5.5. Options for Assertion Generation (dictionary PublicKeyCredentialRequestOptions)</a>
    <li><a href="#ref-for-dom-publickeycredentialrequestoptions-allowcredentials⑤">7.2. Verifying an authentication assertion</a> <a href="#ref-for-dom-publickeycredentialrequestoptions-allowcredentials⑥">(2)</a>
    <li><a href="#ref-for-dom-publickeycredentialrequestoptions-allowcredentials⑦">14.3. Authentication Ceremony Privacy</a> <a href="#ref-for-dom-publickeycredentialrequestoptions-allowcredentials⑧">(2)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dom-publickeycredentialrequestoptions-userverification">
   <b><a href="#dom-publickeycredentialrequestoptions-userverification">#dom-publickeycredentialrequestoptions-userverification</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-publickeycredentialrequestoptions-userverification">5.1.4.1. PublicKeyCredential’s [[DiscoverFromExternalSource]](origin, options, sameOriginWithAncestors) method</a> <a href="#ref-for-dom-publickeycredentialrequestoptions-userverification①">(2)</a>
    <li><a href="#ref-for-dom-publickeycredentialrequestoptions-userverification②">5.5. Options for Assertion Generation (dictionary PublicKeyCredentialRequestOptions)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dom-publickeycredentialrequestoptions-extensions">
   <b><a href="#dom-publickeycredentialrequestoptions-extensions">#dom-publickeycredentialrequestoptions-extensions</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-publickeycredentialrequestoptions-extensions">5.1.4.1. PublicKeyCredential’s [[DiscoverFromExternalSource]](origin, options, sameOriginWithAncestors) method</a> <a href="#ref-for-dom-publickeycredentialrequestoptions-extensions①">(2)</a>
    <li><a href="#ref-for-dom-publickeycredentialrequestoptions-extensions②">5.5. Options for Assertion Generation (dictionary PublicKeyCredentialRequestOptions)</a>
    <li><a href="#ref-for-dom-publickeycredentialrequestoptions-extensions③">7.2. Verifying an authentication assertion</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dictdef-authenticationextensionsclientinputs">
   <b><a href="#dictdef-authenticationextensionsclientinputs">#dictdef-authenticationextensionsclientinputs</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dictdef-authenticationextensionsclientinputs">5.4. Options for Credential Creation (dictionary PublicKeyCredentialCreationOptions)</a> <a href="#ref-for-dictdef-authenticationextensionsclientinputs①">(2)</a>
    <li><a href="#ref-for-dictdef-authenticationextensionsclientinputs②">5.5. Options for Assertion Generation (dictionary PublicKeyCredentialRequestOptions)</a> <a href="#ref-for-dictdef-authenticationextensionsclientinputs③">(2)</a>
    <li><a href="#ref-for-dictdef-authenticationextensionsclientinputs④">5.7. Authentication Extensions Client Inputs (typedef AuthenticationExtensionsClientInputs)</a>
    <li><a href="#ref-for-dictdef-authenticationextensionsclientinputs⑤">10.1. FIDO AppID Extension (appid)</a>
    <li><a href="#ref-for-dictdef-authenticationextensionsclientinputs⑥">10.2. Simple Transaction Authorization Extension (txAuthSimple)</a>
    <li><a href="#ref-for-dictdef-authenticationextensionsclientinputs⑦">10.3. Generic Transaction Authorization Extension (txAuthGeneric)</a>
    <li><a href="#ref-for-dictdef-authenticationextensionsclientinputs⑧">10.4. Authenticator Selection Extension (authnSel)</a>
    <li><a href="#ref-for-dictdef-authenticationextensionsclientinputs⑨">10.5. Supported Extensions Extension (exts)</a>
    <li><a href="#ref-for-dictdef-authenticationextensionsclientinputs①⓪">10.6. User Verification Index Extension (uvi)</a>
    <li><a href="#ref-for-dictdef-authenticationextensionsclientinputs①①">10.7. Location Extension (loc)</a>
    <li><a href="#ref-for-dictdef-authenticationextensionsclientinputs①②">10.8. User Verification Method Extension (uvm)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dictdef-authenticationextensionsclientoutputs">
   <b><a href="#dictdef-authenticationextensionsclientoutputs">#dictdef-authenticationextensionsclientoutputs</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dictdef-authenticationextensionsclientoutputs">5.1. PublicKeyCredential Interface</a>
    <li><a href="#ref-for-dictdef-authenticationextensionsclientoutputs①">5.1.3. Create a new credential - PublicKeyCredential’s [[Create]](origin, options, sameOriginWithAncestors) method</a>
    <li><a href="#ref-for-dictdef-authenticationextensionsclientoutputs②">5.1.4.1. PublicKeyCredential’s [[DiscoverFromExternalSource]](origin, options, sameOriginWithAncestors) method</a>
    <li><a href="#ref-for-dictdef-authenticationextensionsclientoutputs③">5.8. Authentication Extensions Client Outputs (typedef AuthenticationExtensionsClientOutputs)</a>
    <li><a href="#ref-for-dictdef-authenticationextensionsclientoutputs④">7.1. Registering a new credential</a>
    <li><a href="#ref-for-dictdef-authenticationextensionsclientoutputs⑤">7.2. Verifying an authentication assertion</a>
    <li><a href="#ref-for-dictdef-authenticationextensionsclientoutputs⑥">10.1. FIDO AppID Extension (appid)</a>
    <li><a href="#ref-for-dictdef-authenticationextensionsclientoutputs⑦">10.2. Simple Transaction Authorization Extension (txAuthSimple)</a>
    <li><a href="#ref-for-dictdef-authenticationextensionsclientoutputs⑧">10.3. Generic Transaction Authorization Extension (txAuthGeneric)</a>
    <li><a href="#ref-for-dictdef-authenticationextensionsclientoutputs⑨">10.4. Authenticator Selection Extension (authnSel)</a>
    <li><a href="#ref-for-dictdef-authenticationextensionsclientoutputs①⓪">10.5. Supported Extensions Extension (exts)</a>
    <li><a href="#ref-for-dictdef-authenticationextensionsclientoutputs①①">10.6. User Verification Index Extension (uvi)</a>
    <li><a href="#ref-for-dictdef-authenticationextensionsclientoutputs①②">10.7. Location Extension (loc)</a>
    <li><a href="#ref-for-dictdef-authenticationextensionsclientoutputs①③">10.8. User Verification Method Extension (uvm)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="typedefdef-authenticationextensionsauthenticatorinputs">
   <b><a href="#typedefdef-authenticationextensionsauthenticatorinputs">#typedefdef-authenticationextensionsauthenticatorinputs</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-typedefdef-authenticationextensionsauthenticatorinputs">5.9. Authentication Extensions Authenticator Inputs (typedef AuthenticationExtensionsAuthenticatorInputs)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dictdef-collectedclientdata">
   <b><a href="#dictdef-collectedclientdata">#dictdef-collectedclientdata</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dictdef-collectedclientdata">5.1.3. Create a new credential - PublicKeyCredential’s [[Create]](origin, options, sameOriginWithAncestors) method</a>
    <li><a href="#ref-for-dictdef-collectedclientdata①">5.1.4.1. PublicKeyCredential’s [[DiscoverFromExternalSource]](origin, options, sameOriginWithAncestors) method</a>
    <li><a href="#ref-for-dictdef-collectedclientdata②">5.10.1. Client data used in WebAuthn signatures (dictionary CollectedClientData)</a> <a href="#ref-for-dictdef-collectedclientdata③">(2)</a> <a href="#ref-for-dictdef-collectedclientdata④">(3)</a> <a href="#ref-for-dictdef-collectedclientdata⑤">(4)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="client-data">
   <b><a href="#client-data">#client-data</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-client-data">5.2. Authenticator Responses (interface AuthenticatorResponse)</a>
    <li><a href="#ref-for-client-data①">6. WebAuthn Authenticator Model</a> <a href="#ref-for-client-data②">(2)</a> <a href="#ref-for-client-data③">(3)</a> <a href="#ref-for-client-data④">(4)</a>
    <li><a href="#ref-for-client-data⑤">6.1. Authenticator data</a> <a href="#ref-for-client-data⑥">(2)</a>
    <li><a href="#ref-for-client-data⑦">7.1. Registering a new credential</a>
    <li><a href="#ref-for-client-data⑧">7.2. Verifying an authentication assertion</a>
    <li><a href="#ref-for-client-data⑨">9. WebAuthn Extensions</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dictdef-tokenbinding">
   <b><a href="#dictdef-tokenbinding">#dictdef-tokenbinding</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dictdef-tokenbinding">5.10.1. Client data used in WebAuthn signatures (dictionary CollectedClientData)</a> <a href="#ref-for-dictdef-tokenbinding①">(2)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="enumdef-tokenbindingstatus">
   <b><a href="#enumdef-tokenbindingstatus">#enumdef-tokenbindingstatus</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-enumdef-tokenbindingstatus">5.10.1. Client data used in WebAuthn signatures (dictionary CollectedClientData)</a> <a href="#ref-for-enumdef-tokenbindingstatus①">(2)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dom-collectedclientdata-type">
   <b><a href="#dom-collectedclientdata-type">#dom-collectedclientdata-type</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-collectedclientdata-type">5.1.3. Create a new credential - PublicKeyCredential’s [[Create]](origin, options, sameOriginWithAncestors) method</a>
    <li><a href="#ref-for-dom-collectedclientdata-type①">5.1.4.1. PublicKeyCredential’s [[DiscoverFromExternalSource]](origin, options, sameOriginWithAncestors) method</a>
    <li><a href="#ref-for-dom-collectedclientdata-type②">5.10.1. Client data used in WebAuthn signatures (dictionary CollectedClientData)</a>
    <li><a href="#ref-for-dom-collectedclientdata-type③">7.1. Registering a new credential</a>
    <li><a href="#ref-for-dom-collectedclientdata-type④">7.2. Verifying an authentication assertion</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dom-collectedclientdata-challenge">
   <b><a href="#dom-collectedclientdata-challenge">#dom-collectedclientdata-challenge</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-collectedclientdata-challenge">5.1.3. Create a new credential - PublicKeyCredential’s [[Create]](origin, options, sameOriginWithAncestors) method</a>
    <li><a href="#ref-for-dom-collectedclientdata-challenge①">5.1.4.1. PublicKeyCredential’s [[DiscoverFromExternalSource]](origin, options, sameOriginWithAncestors) method</a>
    <li><a href="#ref-for-dom-collectedclientdata-challenge②">5.10.1. Client data used in WebAuthn signatures (dictionary CollectedClientData)</a>
    <li><a href="#ref-for-dom-collectedclientdata-challenge③">7.1. Registering a new credential</a>
    <li><a href="#ref-for-dom-collectedclientdata-challenge④">7.2. Verifying an authentication assertion</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dom-collectedclientdata-origin">
   <b><a href="#dom-collectedclientdata-origin">#dom-collectedclientdata-origin</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-collectedclientdata-origin">5.1.3. Create a new credential - PublicKeyCredential’s [[Create]](origin, options, sameOriginWithAncestors) method</a>
    <li><a href="#ref-for-dom-collectedclientdata-origin①">5.1.4.1. PublicKeyCredential’s [[DiscoverFromExternalSource]](origin, options, sameOriginWithAncestors) method</a>
    <li><a href="#ref-for-dom-collectedclientdata-origin②">5.10.1. Client data used in WebAuthn signatures (dictionary CollectedClientData)</a>
    <li><a href="#ref-for-dom-collectedclientdata-origin③">7.1. Registering a new credential</a>
    <li><a href="#ref-for-dom-collectedclientdata-origin④">7.2. Verifying an authentication assertion</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dom-collectedclientdata-tokenbinding">
   <b><a href="#dom-collectedclientdata-tokenbinding">#dom-collectedclientdata-tokenbinding</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-collectedclientdata-tokenbinding">5.1.3. Create a new credential - PublicKeyCredential’s [[Create]](origin, options, sameOriginWithAncestors) method</a>
    <li><a href="#ref-for-dom-collectedclientdata-tokenbinding①">5.1.4.1. PublicKeyCredential’s [[DiscoverFromExternalSource]](origin, options, sameOriginWithAncestors) method</a>
    <li><a href="#ref-for-dom-collectedclientdata-tokenbinding②">5.10.1. Client data used in WebAuthn signatures (dictionary CollectedClientData)</a>
    <li><a href="#ref-for-dom-collectedclientdata-tokenbinding③">7.1. Registering a new credential</a> <a href="#ref-for-dom-collectedclientdata-tokenbinding④">(2)</a>
    <li><a href="#ref-for-dom-collectedclientdata-tokenbinding⑤">7.2. Verifying an authentication assertion</a> <a href="#ref-for-dom-collectedclientdata-tokenbinding⑥">(2)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dom-tokenbinding-status">
   <b><a href="#dom-tokenbinding-status">#dom-tokenbinding-status</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-tokenbinding-status">5.10.1. Client data used in WebAuthn signatures (dictionary CollectedClientData)</a> <a href="#ref-for-dom-tokenbinding-status①">(2)</a>
    <li><a href="#ref-for-dom-tokenbinding-status②">7.1. Registering a new credential</a>
    <li><a href="#ref-for-dom-tokenbinding-status③">7.2. Verifying an authentication assertion</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dom-tokenbindingstatus-not-supported">
   <b><a href="#dom-tokenbindingstatus-not-supported">#dom-tokenbindingstatus-not-supported</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-tokenbindingstatus-not-supported">5.10.1. Client data used in WebAuthn signatures (dictionary CollectedClientData)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dom-tokenbindingstatus-supported">
   <b><a href="#dom-tokenbindingstatus-supported">#dom-tokenbindingstatus-supported</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-tokenbindingstatus-supported">5.10.1. Client data used in WebAuthn signatures (dictionary CollectedClientData)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dom-tokenbindingstatus-present">
   <b><a href="#dom-tokenbindingstatus-present">#dom-tokenbindingstatus-present</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-tokenbindingstatus-present">5.10.1. Client data used in WebAuthn signatures (dictionary CollectedClientData)</a> <a href="#ref-for-dom-tokenbindingstatus-present①">(2)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dom-tokenbinding-id">
   <b><a href="#dom-tokenbinding-id">#dom-tokenbinding-id</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-tokenbinding-id">5.10.1. Client data used in WebAuthn signatures (dictionary CollectedClientData)</a> <a href="#ref-for-dom-tokenbinding-id①">(2)</a>
    <li><a href="#ref-for-dom-tokenbinding-id②">7.1. Registering a new credential</a>
    <li><a href="#ref-for-dom-tokenbinding-id③">7.2. Verifying an authentication assertion</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="collectedclientdata-json-serialized-client-data">
   <b><a href="#collectedclientdata-json-serialized-client-data">#collectedclientdata-json-serialized-client-data</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-collectedclientdata-json-serialized-client-data">5.1.3. Create a new credential - PublicKeyCredential’s [[Create]](origin, options, sameOriginWithAncestors) method</a>
    <li><a href="#ref-for-collectedclientdata-json-serialized-client-data①">5.1.4.1. PublicKeyCredential’s [[DiscoverFromExternalSource]](origin, options, sameOriginWithAncestors) method</a>
    <li><a href="#ref-for-collectedclientdata-json-serialized-client-data②">5.2. Authenticator Responses (interface AuthenticatorResponse)</a>
    <li><a href="#ref-for-collectedclientdata-json-serialized-client-data③">5.2.1. Information about Public Key Credential (interface AuthenticatorAttestationResponse)</a> <a href="#ref-for-collectedclientdata-json-serialized-client-data④">(2)</a>
    <li><a href="#ref-for-collectedclientdata-json-serialized-client-data⑤">5.2.2. Web Authentication Assertion (interface AuthenticatorAssertionResponse)</a>
    <li><a href="#ref-for-collectedclientdata-json-serialized-client-data⑥">5.10.1. Client data used in WebAuthn signatures (dictionary CollectedClientData)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="collectedclientdata-hash-of-the-serialized-client-data">
   <b><a href="#collectedclientdata-hash-of-the-serialized-client-data">#collectedclientdata-hash-of-the-serialized-client-data</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-collectedclientdata-hash-of-the-serialized-client-data">5.1.3. Create a new credential - PublicKeyCredential’s [[Create]](origin, options, sameOriginWithAncestors) method</a>
    <li><a href="#ref-for-collectedclientdata-hash-of-the-serialized-client-data①">5.1.4.1. PublicKeyCredential’s [[DiscoverFromExternalSource]](origin, options, sameOriginWithAncestors) method</a>
    <li><a href="#ref-for-collectedclientdata-hash-of-the-serialized-client-data②">5.2.1. Information about Public Key Credential (interface AuthenticatorAttestationResponse)</a>
    <li><a href="#ref-for-collectedclientdata-hash-of-the-serialized-client-data③">5.2.2. Web Authentication Assertion (interface AuthenticatorAssertionResponse)</a>
    <li><a href="#ref-for-collectedclientdata-hash-of-the-serialized-client-data④">6. WebAuthn Authenticator Model</a>
    <li><a href="#ref-for-collectedclientdata-hash-of-the-serialized-client-data⑤">6.1.2. FIDO U2F signature format compatibility</a> <a href="#ref-for-collectedclientdata-hash-of-the-serialized-client-data⑥">(2)</a>
    <li><a href="#ref-for-collectedclientdata-hash-of-the-serialized-client-data⑦">6.2.2. The authenticatorMakeCredential operation</a>
    <li><a href="#ref-for-collectedclientdata-hash-of-the-serialized-client-data⑧">6.2.3.  The authenticatorGetAssertion operation</a> <a href="#ref-for-collectedclientdata-hash-of-the-serialized-client-data⑨">(2)</a>
    <li><a href="#ref-for-collectedclientdata-hash-of-the-serialized-client-data①⓪">6.3.2. Attestation Statement Formats</a> <a href="#ref-for-collectedclientdata-hash-of-the-serialized-client-data①①">(2)</a>
    <li><a href="#ref-for-collectedclientdata-hash-of-the-serialized-client-data①②">6.3.4. Generating an Attestation Object</a>
    <li><a href="#ref-for-collectedclientdata-hash-of-the-serialized-client-data①③">7.1. Registering a new credential</a>
    <li><a href="#ref-for-collectedclientdata-hash-of-the-serialized-client-data①④">8.2. Packed Attestation Statement Format</a>
    <li><a href="#ref-for-collectedclientdata-hash-of-the-serialized-client-data①⑤">8.3. TPM Attestation Statement Format</a>
    <li><a href="#ref-for-collectedclientdata-hash-of-the-serialized-client-data①⑥">8.4. Android Key Attestation Statement Format</a>
    <li><a href="#ref-for-collectedclientdata-hash-of-the-serialized-client-data①⑦">8.5. Android SafetyNet Attestation Statement Format</a>
    <li><a href="#ref-for-collectedclientdata-hash-of-the-serialized-client-data①⑧">8.6. FIDO U2F Attestation Statement Format</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="enumdef-publickeycredentialtype">
   <b><a href="#enumdef-publickeycredentialtype">#enumdef-publickeycredentialtype</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-enumdef-publickeycredentialtype">4. Terminology</a>
    <li><a href="#ref-for-enumdef-publickeycredentialtype①">5.1.3. Create a new credential - PublicKeyCredential’s [[Create]](origin, options, sameOriginWithAncestors) method</a> <a href="#ref-for-enumdef-publickeycredentialtype②">(2)</a>
    <li><a href="#ref-for-enumdef-publickeycredentialtype③">5.3. Parameters for Credential Generation (dictionary PublicKeyCredentialParameters)</a> <a href="#ref-for-enumdef-publickeycredentialtype④">(2)</a>
    <li><a href="#ref-for-enumdef-publickeycredentialtype⑤">5.10.2. Credential Type enumeration (enum PublicKeyCredentialType)</a>
    <li><a href="#ref-for-enumdef-publickeycredentialtype⑥">5.10.3. Credential Descriptor (dictionary PublicKeyCredentialDescriptor)</a> <a href="#ref-for-enumdef-publickeycredentialtype⑦">(2)</a>
    <li><a href="#ref-for-enumdef-publickeycredentialtype⑧">6.2.2. The authenticatorMakeCredential operation</a> <a href="#ref-for-enumdef-publickeycredentialtype⑨">(2)</a> <a href="#ref-for-enumdef-publickeycredentialtype①⓪">(3)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dom-publickeycredentialtype-public-key">
   <b><a href="#dom-publickeycredentialtype-public-key">#dom-publickeycredentialtype-public-key</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-publickeycredentialtype-public-key">4. Terminology</a>
    <li><a href="#ref-for-dom-publickeycredentialtype-public-key①">5.10.2. Credential Type enumeration (enum PublicKeyCredentialType)</a>
    <li><a href="#ref-for-dom-publickeycredentialtype-public-key②">6.2.2. The authenticatorMakeCredential operation</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dictdef-publickeycredentialdescriptor">
   <b><a href="#dictdef-publickeycredentialdescriptor">#dictdef-publickeycredentialdescriptor</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dictdef-publickeycredentialdescriptor">5.4. Options for Credential Creation (dictionary PublicKeyCredentialCreationOptions)</a> <a href="#ref-for-dictdef-publickeycredentialdescriptor①">(2)</a>
    <li><a href="#ref-for-dictdef-publickeycredentialdescriptor②">5.5. Options for Assertion Generation (dictionary PublicKeyCredentialRequestOptions)</a> <a href="#ref-for-dictdef-publickeycredentialdescriptor③">(2)</a> <a href="#ref-for-dictdef-publickeycredentialdescriptor④">(3)</a>
    <li><a href="#ref-for-dictdef-publickeycredentialdescriptor⑤">5.10.3. Credential Descriptor (dictionary PublicKeyCredentialDescriptor)</a>
    <li><a href="#ref-for-dictdef-publickeycredentialdescriptor⑥">6.2.2. The authenticatorMakeCredential operation</a>
    <li><a href="#ref-for-dictdef-publickeycredentialdescriptor⑦">6.2.3.  The authenticatorGetAssertion operation</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dom-publickeycredentialdescriptor-type">
   <b><a href="#dom-publickeycredentialdescriptor-type">#dom-publickeycredentialdescriptor-type</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-publickeycredentialdescriptor-type">5.1.4.1. PublicKeyCredential’s [[DiscoverFromExternalSource]](origin, options, sameOriginWithAncestors) method</a>
    <li><a href="#ref-for-dom-publickeycredentialdescriptor-type①">5.10.3. Credential Descriptor (dictionary PublicKeyCredentialDescriptor)</a>
    <li><a href="#ref-for-dom-publickeycredentialdescriptor-type②">6.2.2. The authenticatorMakeCredential operation</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dom-publickeycredentialdescriptor-id">
   <b><a href="#dom-publickeycredentialdescriptor-id">#dom-publickeycredentialdescriptor-id</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-publickeycredentialdescriptor-id">5.1.4.1. PublicKeyCredential’s [[DiscoverFromExternalSource]](origin, options, sameOriginWithAncestors) method</a>
    <li><a href="#ref-for-dom-publickeycredentialdescriptor-id①">5.10.3. Credential Descriptor (dictionary PublicKeyCredentialDescriptor)</a>
    <li><a href="#ref-for-dom-publickeycredentialdescriptor-id②">6.2.2. The authenticatorMakeCredential operation</a>
    <li><a href="#ref-for-dom-publickeycredentialdescriptor-id③">6.2.3.  The authenticatorGetAssertion operation</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dom-publickeycredentialdescriptor-transports">
   <b><a href="#dom-publickeycredentialdescriptor-transports">#dom-publickeycredentialdescriptor-transports</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-publickeycredentialdescriptor-transports">5.1.3. Create a new credential - PublicKeyCredential’s [[Create]](origin, options, sameOriginWithAncestors) method</a> <a href="#ref-for-dom-publickeycredentialdescriptor-transports①">(2)</a>
    <li><a href="#ref-for-dom-publickeycredentialdescriptor-transports②">5.1.4.1. PublicKeyCredential’s [[DiscoverFromExternalSource]](origin, options, sameOriginWithAncestors) method</a> <a href="#ref-for-dom-publickeycredentialdescriptor-transports③">(2)</a>
    <li><a href="#ref-for-dom-publickeycredentialdescriptor-transports④">5.10.3. Credential Descriptor (dictionary PublicKeyCredentialDescriptor)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="enumdef-authenticatortransport">
   <b><a href="#enumdef-authenticatortransport">#enumdef-authenticatortransport</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-enumdef-authenticatortransport">5.10.3. Credential Descriptor (dictionary PublicKeyCredentialDescriptor)</a> <a href="#ref-for-enumdef-authenticatortransport①">(2)</a>
    <li><a href="#ref-for-enumdef-authenticatortransport②">5.10.4. Authenticator Transport enumeration (enum AuthenticatorTransport)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dom-authenticatortransport-usb">
   <b><a href="#dom-authenticatortransport-usb">#dom-authenticatortransport-usb</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-authenticatortransport-usb">5.10.4. Authenticator Transport enumeration (enum AuthenticatorTransport)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dom-authenticatortransport-nfc">
   <b><a href="#dom-authenticatortransport-nfc">#dom-authenticatortransport-nfc</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-authenticatortransport-nfc">5.10.4. Authenticator Transport enumeration (enum AuthenticatorTransport)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dom-authenticatortransport-ble">
   <b><a href="#dom-authenticatortransport-ble">#dom-authenticatortransport-ble</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-authenticatortransport-ble">5.10.4. Authenticator Transport enumeration (enum AuthenticatorTransport)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dom-authenticatortransport-internal">
   <b><a href="#dom-authenticatortransport-internal">#dom-authenticatortransport-internal</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-authenticatortransport-internal">5.10.4. Authenticator Transport enumeration (enum AuthenticatorTransport)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="typedefdef-cosealgorithmidentifier">
   <b><a href="#typedefdef-cosealgorithmidentifier">#typedefdef-cosealgorithmidentifier</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-typedefdef-cosealgorithmidentifier">5.1.3. Create a new credential - PublicKeyCredential’s [[Create]](origin, options, sameOriginWithAncestors) method</a>
    <li><a href="#ref-for-typedefdef-cosealgorithmidentifier①">5.3. Parameters for Credential Generation (dictionary PublicKeyCredentialParameters)</a> <a href="#ref-for-typedefdef-cosealgorithmidentifier②">(2)</a>
    <li><a href="#ref-for-typedefdef-cosealgorithmidentifier③">5.10.5. Cryptographic Algorithm Identifier (typedef COSEAlgorithmIdentifier)</a> <a href="#ref-for-typedefdef-cosealgorithmidentifier④">(2)</a>
    <li><a href="#ref-for-typedefdef-cosealgorithmidentifier⑤">6.2.2. The authenticatorMakeCredential operation</a>
    <li><a href="#ref-for-typedefdef-cosealgorithmidentifier⑥">6.3.1. Attested credential data</a>
    <li><a href="#ref-for-typedefdef-cosealgorithmidentifier⑦">8.2. Packed Attestation Statement Format</a>
    <li><a href="#ref-for-typedefdef-cosealgorithmidentifier⑧">8.3. TPM Attestation Statement Format</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="enumdef-userverificationrequirement">
   <b><a href="#enumdef-userverificationrequirement">#enumdef-userverificationrequirement</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-enumdef-userverificationrequirement">5.4.4. Authenticator Selection Criteria (dictionary AuthenticatorSelectionCriteria)</a> <a href="#ref-for-enumdef-userverificationrequirement①">(2)</a>
    <li><a href="#ref-for-enumdef-userverificationrequirement②">5.5. Options for Assertion Generation (dictionary PublicKeyCredentialRequestOptions)</a> <a href="#ref-for-enumdef-userverificationrequirement③">(2)</a>
    <li><a href="#ref-for-enumdef-userverificationrequirement④">5.10.6. User Verification Requirement enumeration (enum UserVerificationRequirement)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dom-userverificationrequirement-required">
   <b><a href="#dom-userverificationrequirement-required">#dom-userverificationrequirement-required</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-userverificationrequirement-required">5.1.3. Create a new credential - PublicKeyCredential’s [[Create]](origin, options, sameOriginWithAncestors) method</a> <a href="#ref-for-dom-userverificationrequirement-required①">(2)</a>
    <li><a href="#ref-for-dom-userverificationrequirement-required②">5.1.4.1. PublicKeyCredential’s [[DiscoverFromExternalSource]](origin, options, sameOriginWithAncestors) method</a> <a href="#ref-for-dom-userverificationrequirement-required③">(2)</a>
    <li><a href="#ref-for-dom-userverificationrequirement-required④">5.10.6. User Verification Requirement enumeration (enum UserVerificationRequirement)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dom-userverificationrequirement-preferred">
   <b><a href="#dom-userverificationrequirement-preferred">#dom-userverificationrequirement-preferred</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-userverificationrequirement-preferred">5.1.3. Create a new credential - PublicKeyCredential’s [[Create]](origin, options, sameOriginWithAncestors) method</a>
    <li><a href="#ref-for-dom-userverificationrequirement-preferred①">5.1.4.1. PublicKeyCredential’s [[DiscoverFromExternalSource]](origin, options, sameOriginWithAncestors) method</a>
    <li><a href="#ref-for-dom-userverificationrequirement-preferred②">5.10.6. User Verification Requirement enumeration (enum UserVerificationRequirement)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dom-userverificationrequirement-discouraged">
   <b><a href="#dom-userverificationrequirement-discouraged">#dom-userverificationrequirement-discouraged</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-userverificationrequirement-discouraged">5.1.3. Create a new credential - PublicKeyCredential’s [[Create]](origin, options, sameOriginWithAncestors) method</a>
    <li><a href="#ref-for-dom-userverificationrequirement-discouraged①">5.1.4.1. PublicKeyCredential’s [[DiscoverFromExternalSource]](origin, options, sameOriginWithAncestors) method</a>
    <li><a href="#ref-for-dom-userverificationrequirement-discouraged②">5.10.6. User Verification Requirement enumeration (enum UserVerificationRequirement)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="authenticator-model">
   <b><a href="#authenticator-model">#authenticator-model</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-authenticator-model">6. WebAuthn Authenticator Model</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="authenticator-credentials-map">
   <b><a href="#authenticator-credentials-map">#authenticator-credentials-map</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-authenticator-credentials-map">6.2.1. Lookup Credential Source by Credential ID algorithm</a>
    <li><a href="#ref-for-authenticator-credentials-map①">6.2.2. The authenticatorMakeCredential operation</a>
    <li><a href="#ref-for-authenticator-credentials-map②">6.2.3.  The authenticatorGetAssertion operation</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="attestation-signature">
   <b><a href="#attestation-signature">#attestation-signature</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-attestation-signature">4. Terminology</a>
    <li><a href="#ref-for-attestation-signature①">6. WebAuthn Authenticator Model</a> <a href="#ref-for-attestation-signature②">(2)</a> <a href="#ref-for-attestation-signature③">(3)</a>
    <li><a href="#ref-for-attestation-signature④">6.3. Attestation</a>
    <li><a href="#ref-for-attestation-signature⑤">7.1. Registering a new credential</a>
    <li><a href="#ref-for-attestation-signature⑥">8.6. FIDO U2F Attestation Statement Format</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="assertion-signature">
   <b><a href="#assertion-signature">#assertion-signature</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-assertion-signature">6. WebAuthn Authenticator Model</a> <a href="#ref-for-assertion-signature①">(2)</a>
    <li><a href="#ref-for-assertion-signature②">6.1.2. FIDO U2F signature format compatibility</a> <a href="#ref-for-assertion-signature③">(2)</a>
    <li><a href="#ref-for-assertion-signature④">6.2.3.  The authenticatorGetAssertion operation</a> <a href="#ref-for-assertion-signature⑤">(2)</a> <a href="#ref-for-assertion-signature⑥">(3)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="authenticator-data">
   <b><a href="#authenticator-data">#authenticator-data</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-authenticator-data">5.1.4.1. PublicKeyCredential’s [[DiscoverFromExternalSource]](origin, options, sameOriginWithAncestors) method</a>
    <li><a href="#ref-for-authenticator-data①">5.2.1. Information about Public Key Credential (interface AuthenticatorAttestationResponse)</a> <a href="#ref-for-authenticator-data②">(2)</a>
    <li><a href="#ref-for-authenticator-data③">5.2.2. Web Authentication Assertion (interface AuthenticatorAssertionResponse)</a>
    <li><a href="#ref-for-authenticator-data④">6. WebAuthn Authenticator Model</a> <a href="#ref-for-authenticator-data⑤">(2)</a>
    <li><a href="#ref-for-authenticator-data⑥">6.1. Authenticator data</a> <a href="#ref-for-authenticator-data⑦">(2)</a> <a href="#ref-for-authenticator-data⑧">(3)</a> <a href="#ref-for-authenticator-data⑨">(4)</a> <a href="#ref-for-authenticator-data①⓪">(5)</a> <a href="#ref-for-authenticator-data①①">(6)</a> <a href="#ref-for-authenticator-data①②">(7)</a> <a href="#ref-for-authenticator-data①③">(8)</a> <a href="#ref-for-authenticator-data①④">(9)</a>
    <li><a href="#ref-for-authenticator-data①⑤">6.1.1. Signature Counter Considerations</a> <a href="#ref-for-authenticator-data①⑥">(2)</a>
    <li><a href="#ref-for-authenticator-data①⑦">6.1.2. FIDO U2F signature format compatibility</a> <a href="#ref-for-authenticator-data①⑧">(2)</a> <a href="#ref-for-authenticator-data①⑨">(3)</a>
    <li><a href="#ref-for-authenticator-data②⓪">6.2.2. The authenticatorMakeCredential operation</a>
    <li><a href="#ref-for-authenticator-data②①">6.2.3.  The authenticatorGetAssertion operation</a>
    <li><a href="#ref-for-authenticator-data②②">6.3. Attestation</a> <a href="#ref-for-authenticator-data②③">(2)</a>
    <li><a href="#ref-for-authenticator-data②④">6.3.1. Attested credential data</a>
    <li><a href="#ref-for-authenticator-data②⑤">6.3.2. Attestation Statement Formats</a> <a href="#ref-for-authenticator-data②⑥">(2)</a>
    <li><a href="#ref-for-authenticator-data②⑦">6.3.4. Generating an Attestation Object</a>
    <li><a href="#ref-for-authenticator-data②⑧">7.1. Registering a new credential</a>
    <li><a href="#ref-for-authenticator-data②⑨">8.5. Android SafetyNet Attestation Statement Format</a>
    <li><a href="#ref-for-authenticator-data③⓪">9.5. Authenticator extension processing</a> <a href="#ref-for-authenticator-data③①">(2)</a>
    <li><a href="#ref-for-authenticator-data③②">10.6. User Verification Index Extension (uvi)</a>
    <li><a href="#ref-for-authenticator-data③③">10.8. User Verification Method Extension (uvm)</a>
    <li><a href="#ref-for-authenticator-data③④">13.2.1. Attestation Certificate Hierarchy</a>
    <li><a href="#ref-for-authenticator-data③⑤">13.4. credentialId Unsigned</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="rpidhash">
   <b><a href="#rpidhash">#rpidhash</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-rpidhash">6.1.2. FIDO U2F signature format compatibility</a>
    <li><a href="#ref-for-rpidhash①">7.2. Verifying an authentication assertion</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="flags">
   <b><a href="#flags">#flags</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-flags">5.10.6. User Verification Requirement enumeration (enum UserVerificationRequirement)</a> <a href="#ref-for-flags①">(2)</a>
    <li><a href="#ref-for-flags②">6.1. Authenticator data</a>
    <li><a href="#ref-for-flags③">6.1.2. FIDO U2F signature format compatibility</a>
    <li><a href="#ref-for-flags④">7.1. Registering a new credential</a> <a href="#ref-for-flags⑤">(2)</a>
    <li><a href="#ref-for-flags⑥">7.2. Verifying an authentication assertion</a> <a href="#ref-for-flags⑦">(2)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="signcount">
   <b><a href="#signcount">#signcount</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-signcount">6.1.1. Signature Counter Considerations</a> <a href="#ref-for-signcount①">(2)</a>
    <li><a href="#ref-for-signcount②">7.2. Verifying an authentication assertion</a> <a href="#ref-for-signcount③">(2)</a> <a href="#ref-for-signcount④">(3)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="attestedcredentialdata">
   <b><a href="#attestedcredentialdata">#attestedcredentialdata</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-attestedcredentialdata">5.1.3. Create a new credential - PublicKeyCredential’s [[Create]](origin, options, sameOriginWithAncestors) method</a>
    <li><a href="#ref-for-attestedcredentialdata①">6.1. Authenticator data</a> <a href="#ref-for-attestedcredentialdata②">(2)</a>
    <li><a href="#ref-for-attestedcredentialdata③">6.1.2. FIDO U2F signature format compatibility</a>
    <li><a href="#ref-for-attestedcredentialdata④">6.2.2. The authenticatorMakeCredential operation</a>
    <li><a href="#ref-for-attestedcredentialdata⑤">6.2.3.  The authenticatorGetAssertion operation</a>
    <li><a href="#ref-for-attestedcredentialdata⑥">7.1. Registering a new credential</a> <a href="#ref-for-attestedcredentialdata⑦">(2)</a>
    <li><a href="#ref-for-attestedcredentialdata⑧">8.3. TPM Attestation Statement Format</a>
    <li><a href="#ref-for-attestedcredentialdata⑨">8.4. Android Key Attestation Statement Format</a>
    <li><a href="#ref-for-attestedcredentialdata①⓪">8.6. FIDO U2F Attestation Statement Format</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="authdataextensions">
   <b><a href="#authdataextensions">#authdataextensions</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-authdataextensions">6.1. Authenticator data</a>
    <li><a href="#ref-for-authdataextensions①">6.1.2. FIDO U2F signature format compatibility</a>
    <li><a href="#ref-for-authdataextensions②">6.2.2. The authenticatorMakeCredential operation</a>
    <li><a href="#ref-for-authdataextensions③">6.2.3.  The authenticatorGetAssertion operation</a>
    <li><a href="#ref-for-authdataextensions④">7.1. Registering a new credential</a> <a href="#ref-for-authdataextensions⑤">(2)</a>
    <li><a href="#ref-for-authdataextensions⑥">7.2. Verifying an authentication assertion</a> <a href="#ref-for-authdataextensions⑦">(2)</a>
    <li><a href="#ref-for-authdataextensions⑧">9.5. Authenticator extension processing</a> <a href="#ref-for-authdataextensions⑨">(2)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="signature-counter">
   <b><a href="#signature-counter">#signature-counter</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-signature-counter">6.1. Authenticator data</a>
    <li><a href="#ref-for-signature-counter①">6.1.1. Signature Counter Considerations</a> <a href="#ref-for-signature-counter②">(2)</a> <a href="#ref-for-signature-counter③">(3)</a> <a href="#ref-for-signature-counter④">(4)</a> <a href="#ref-for-signature-counter⑤">(5)</a> <a href="#ref-for-signature-counter⑥">(6)</a> <a href="#ref-for-signature-counter⑦">(7)</a> <a href="#ref-for-signature-counter⑧">(8)</a> <a href="#ref-for-signature-counter⑨">(9)</a> <a href="#ref-for-signature-counter①⓪">(10)</a>
    <li><a href="#ref-for-signature-counter①①">6.2.2. The authenticatorMakeCredential operation</a> <a href="#ref-for-signature-counter①②">(2)</a> <a href="#ref-for-signature-counter①③">(3)</a>
    <li><a href="#ref-for-signature-counter①④">6.2.3.  The authenticatorGetAssertion operation</a> <a href="#ref-for-signature-counter①⑤">(2)</a>
    <li><a href="#ref-for-signature-counter①⑥">7.2. Verifying an authentication assertion</a> <a href="#ref-for-signature-counter①⑦">(2)</a> <a href="#ref-for-signature-counter①⑧">(3)</a> <a href="#ref-for-signature-counter①⑨">(4)</a> <a href="#ref-for-signature-counter②⓪">(5)</a> <a href="#ref-for-signature-counter②①">(6)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="authenticator-operations">
   <b><a href="#authenticator-operations">#authenticator-operations</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-authenticator-operations">4. Terminology</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="authenticator-session">
   <b><a href="#authenticator-session">#authenticator-session</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-authenticator-session">5.6. Abort operations with AbortSignal</a> <a href="#ref-for-authenticator-session①">(2)</a>
    <li><a href="#ref-for-authenticator-session②">6.2.2. The authenticatorMakeCredential operation</a>
    <li><a href="#ref-for-authenticator-session③">6.2.3.  The authenticatorGetAssertion operation</a>
    <li><a href="#ref-for-authenticator-session④">6.2.4. The authenticatorCancel operation</a> <a href="#ref-for-authenticator-session⑤">(2)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="credential-id-looking-up">
   <b><a href="#credential-id-looking-up">#credential-id-looking-up</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-credential-id-looking-up">6.2.2. The authenticatorMakeCredential operation</a>
    <li><a href="#ref-for-credential-id-looking-up①">6.2.3.  The authenticatorGetAssertion operation</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="authenticatormakecredential">
   <b><a href="#authenticatormakecredential">#authenticatormakecredential</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-authenticatormakecredential">4. Terminology</a> <a href="#ref-for-authenticatormakecredential①">(2)</a> <a href="#ref-for-authenticatormakecredential②">(3)</a> <a href="#ref-for-authenticatormakecredential③">(4)</a>
    <li><a href="#ref-for-authenticatormakecredential④">5.1.3. Create a new credential - PublicKeyCredential’s [[Create]](origin, options, sameOriginWithAncestors) method</a> <a href="#ref-for-authenticatormakecredential⑤">(2)</a>
    <li><a href="#ref-for-authenticatormakecredential⑥">6. WebAuthn Authenticator Model</a>
    <li><a href="#ref-for-authenticatormakecredential⑦">6.1.2. FIDO U2F signature format compatibility</a>
    <li><a href="#ref-for-authenticatormakecredential⑧">6.2.4. The authenticatorCancel operation</a> <a href="#ref-for-authenticatormakecredential⑨">(2)</a>
    <li><a href="#ref-for-authenticatormakecredential①⓪">9. WebAuthn Extensions</a>
    <li><a href="#ref-for-authenticatormakecredential①①">9.2. Defining extensions</a>
    <li><a href="#ref-for-authenticatormakecredential①②">9.5. Authenticator extension processing</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="authenticatorgetassertion">
   <b><a href="#authenticatorgetassertion">#authenticatorgetassertion</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-authenticatorgetassertion">4. Terminology</a> <a href="#ref-for-authenticatorgetassertion①">(2)</a> <a href="#ref-for-authenticatorgetassertion②">(3)</a>
    <li><a href="#ref-for-authenticatorgetassertion③">5.1.4.1. PublicKeyCredential’s [[DiscoverFromExternalSource]](origin, options, sameOriginWithAncestors) method</a> <a href="#ref-for-authenticatorgetassertion④">(2)</a> <a href="#ref-for-authenticatorgetassertion⑤">(3)</a> <a href="#ref-for-authenticatorgetassertion⑥">(4)</a>
    <li><a href="#ref-for-authenticatorgetassertion⑦">6. WebAuthn Authenticator Model</a>
    <li><a href="#ref-for-authenticatorgetassertion⑧">6.1. Authenticator data</a>
    <li><a href="#ref-for-authenticatorgetassertion⑨">6.1.1. Signature Counter Considerations</a> <a href="#ref-for-authenticatorgetassertion①⓪">(2)</a> <a href="#ref-for-authenticatorgetassertion①①">(3)</a>
    <li><a href="#ref-for-authenticatorgetassertion①②">6.2.4. The authenticatorCancel operation</a> <a href="#ref-for-authenticatorgetassertion①③">(2)</a>
    <li><a href="#ref-for-authenticatorgetassertion①④">9. WebAuthn Extensions</a>
    <li><a href="#ref-for-authenticatorgetassertion①⑤">9.2. Defining extensions</a>
    <li><a href="#ref-for-authenticatorgetassertion①⑥">9.5. Authenticator extension processing</a>
    <li><a href="#ref-for-authenticatorgetassertion①⑦">10.1. FIDO AppID Extension (appid)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="authenticatorcancel">
   <b><a href="#authenticatorcancel">#authenticatorcancel</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-authenticatorcancel">5.1.3. Create a new credential - PublicKeyCredential’s [[Create]](origin, options, sameOriginWithAncestors) method</a> <a href="#ref-for-authenticatorcancel①">(2)</a> <a href="#ref-for-authenticatorcancel②">(3)</a> <a href="#ref-for-authenticatorcancel③">(4)</a> <a href="#ref-for-authenticatorcancel④">(5)</a>
    <li><a href="#ref-for-authenticatorcancel⑤">5.1.4.1. PublicKeyCredential’s [[DiscoverFromExternalSource]](origin, options, sameOriginWithAncestors) method</a> <a href="#ref-for-authenticatorcancel⑥">(2)</a> <a href="#ref-for-authenticatorcancel⑦">(3)</a> <a href="#ref-for-authenticatorcancel⑧">(4)</a>
    <li><a href="#ref-for-authenticatorcancel⑨">6.2.2. The authenticatorMakeCredential operation</a>
    <li><a href="#ref-for-authenticatorcancel①⓪">6.2.3.  The authenticatorGetAssertion operation</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="attestation-object">
   <b><a href="#attestation-object">#attestation-object</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-attestation-object">4. Terminology</a> <a href="#ref-for-attestation-object①">(2)</a> <a href="#ref-for-attestation-object②">(3)</a>
    <li><a href="#ref-for-attestation-object③">5. Web Authentication API</a>
    <li><a href="#ref-for-attestation-object④">5.2.1. Information about Public Key Credential (interface AuthenticatorAttestationResponse)</a> <a href="#ref-for-attestation-object⑤">(2)</a>
    <li><a href="#ref-for-attestation-object⑥">5.4. Options for Credential Creation (dictionary PublicKeyCredentialCreationOptions)</a> <a href="#ref-for-attestation-object⑦">(2)</a>
    <li><a href="#ref-for-attestation-object⑧">6.2.2. The authenticatorMakeCredential operation</a> <a href="#ref-for-attestation-object⑨">(2)</a>
    <li><a href="#ref-for-attestation-object①⓪">6.3. Attestation</a> <a href="#ref-for-attestation-object①①">(2)</a> <a href="#ref-for-attestation-object①②">(3)</a>
    <li><a href="#ref-for-attestation-object①③">6.3.1. Attested credential data</a>
    <li><a href="#ref-for-attestation-object①④">6.3.4. Generating an Attestation Object</a> <a href="#ref-for-attestation-object①⑤">(2)</a>
    <li><a href="#ref-for-attestation-object①⑥">7.1. Registering a new credential</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="attestation-statement">
   <b><a href="#attestation-statement">#attestation-statement</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-attestation-statement">4. Terminology</a> <a href="#ref-for-attestation-statement①">(2)</a>
    <li><a href="#ref-for-attestation-statement②">5.1.3. Create a new credential - PublicKeyCredential’s [[Create]](origin, options, sameOriginWithAncestors) method</a> <a href="#ref-for-attestation-statement③">(2)</a>
    <li><a href="#ref-for-attestation-statement④">5.2.1. Information about Public Key Credential (interface AuthenticatorAttestationResponse)</a> <a href="#ref-for-attestation-statement⑤">(2)</a> <a href="#ref-for-attestation-statement⑥">(3)</a>
    <li><a href="#ref-for-attestation-statement⑦">5.4.6. Attestation Conveyance Preference enumeration (enum AttestationConveyancePreference)</a> <a href="#ref-for-attestation-statement⑧">(2)</a> <a href="#ref-for-attestation-statement⑨">(3)</a> <a href="#ref-for-attestation-statement①⓪">(4)</a> <a href="#ref-for-attestation-statement①①">(5)</a> <a href="#ref-for-attestation-statement①②">(6)</a>
    <li><a href="#ref-for-attestation-statement①③">6.3. Attestation</a> <a href="#ref-for-attestation-statement①④">(2)</a> <a href="#ref-for-attestation-statement①⑤">(3)</a> <a href="#ref-for-attestation-statement①⑥">(4)</a> <a href="#ref-for-attestation-statement①⑦">(5)</a> <a href="#ref-for-attestation-statement①⑧">(6)</a> <a href="#ref-for-attestation-statement①⑨">(7)</a> <a href="#ref-for-attestation-statement②⓪">(8)</a>
    <li><a href="#ref-for-attestation-statement②①">6.3.2. Attestation Statement Formats</a> <a href="#ref-for-attestation-statement②②">(2)</a> <a href="#ref-for-attestation-statement②③">(3)</a> <a href="#ref-for-attestation-statement②④">(4)</a>
    <li><a href="#ref-for-attestation-statement②⑤">7.1. Registering a new credential</a>
    <li><a href="#ref-for-attestation-statement②⑥">8.7. None Attestation Statement Format</a>
    <li><a href="#ref-for-attestation-statement②⑦">13.3. Security Benefits for Relying Parties</a>
    <li><a href="#ref-for-attestation-statement②⑧">13.3.1. Considerations for Self and None Attestation Types and Ignoring Attestation</a> <a href="#ref-for-attestation-statement②⑨">(2)</a> <a href="#ref-for-attestation-statement③⓪">(3)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="attestation-statement-format">
   <b><a href="#attestation-statement-format">#attestation-statement-format</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-attestation-statement-format">5.2.1. Information about Public Key Credential (interface AuthenticatorAttestationResponse)</a>
    <li><a href="#ref-for-attestation-statement-format①">5.10.4. Authenticator Transport enumeration (enum AuthenticatorTransport)</a>
    <li><a href="#ref-for-attestation-statement-format②">6.2.2. The authenticatorMakeCredential operation</a>
    <li><a href="#ref-for-attestation-statement-format③">6.3. Attestation</a> <a href="#ref-for-attestation-statement-format④">(2)</a> <a href="#ref-for-attestation-statement-format⑤">(3)</a> <a href="#ref-for-attestation-statement-format⑥">(4)</a> <a href="#ref-for-attestation-statement-format⑦">(5)</a> <a href="#ref-for-attestation-statement-format⑧">(6)</a> <a href="#ref-for-attestation-statement-format⑨">(7)</a>
    <li><a href="#ref-for-attestation-statement-format①⓪">6.3.2. Attestation Statement Formats</a> <a href="#ref-for-attestation-statement-format①①">(2)</a> <a href="#ref-for-attestation-statement-format①②">(3)</a> <a href="#ref-for-attestation-statement-format①③">(4)</a>
    <li><a href="#ref-for-attestation-statement-format①④">6.3.4. Generating an Attestation Object</a>
    <li><a href="#ref-for-attestation-statement-format①⑤">7.1. Registering a new credential</a> <a href="#ref-for-attestation-statement-format①⑥">(2)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="attestation-type">
   <b><a href="#attestation-type">#attestation-type</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-attestation-type">6.3. Attestation</a> <a href="#ref-for-attestation-type①">(2)</a> <a href="#ref-for-attestation-type②">(3)</a> <a href="#ref-for-attestation-type③">(4)</a> <a href="#ref-for-attestation-type④">(5)</a> <a href="#ref-for-attestation-type⑤">(6)</a>
    <li><a href="#ref-for-attestation-type⑥">6.3.2. Attestation Statement Formats</a> <a href="#ref-for-attestation-type⑦">(2)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="attested-credential-data">
   <b><a href="#attested-credential-data">#attested-credential-data</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-attested-credential-data">5.1.3. Create a new credential - PublicKeyCredential’s [[Create]](origin, options, sameOriginWithAncestors) method</a> <a href="#ref-for-attested-credential-data①">(2)</a>
    <li><a href="#ref-for-attested-credential-data②">6.1. Authenticator data</a> <a href="#ref-for-attested-credential-data③">(2)</a> <a href="#ref-for-attested-credential-data④">(3)</a> <a href="#ref-for-attested-credential-data⑤">(4)</a> <a href="#ref-for-attested-credential-data⑥">(5)</a>
    <li><a href="#ref-for-attested-credential-data⑦">6.2.2. The authenticatorMakeCredential operation</a>
    <li><a href="#ref-for-attested-credential-data⑧">6.3. Attestation</a> <a href="#ref-for-attested-credential-data⑨">(2)</a>
    <li><a href="#ref-for-attested-credential-data①⓪">6.3.1. Attested credential data</a>
    <li><a href="#ref-for-attested-credential-data①①">6.3.3. Attestation Types</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="aaguid">
   <b><a href="#aaguid">#aaguid</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-aaguid">4. Terminology</a>
    <li><a href="#ref-for-aaguid①">5.1.3. Create a new credential - PublicKeyCredential’s [[Create]](origin, options, sameOriginWithAncestors) method</a> <a href="#ref-for-aaguid②">(2)</a> <a href="#ref-for-aaguid③">(3)</a> <a href="#ref-for-aaguid④">(4)</a>
    <li><a href="#ref-for-aaguid⑤">7.1. Registering a new credential</a>
    <li><a href="#ref-for-aaguid⑥">8.2. Packed Attestation Statement Format</a>
    <li><a href="#ref-for-aaguid⑦">8.3. TPM Attestation Statement Format</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="credentialidlength">
   <b><a href="#credentialidlength">#credentialidlength</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-credentialidlength">6.1. Authenticator data</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="credentialid">
   <b><a href="#credentialid">#credentialid</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-credentialid">5.1.3. Create a new credential - PublicKeyCredential’s [[Create]](origin, options, sameOriginWithAncestors) method</a>
    <li><a href="#ref-for-credentialid①">6.1. Authenticator data</a>
    <li><a href="#ref-for-credentialid②">7.1. Registering a new credential</a> <a href="#ref-for-credentialid③">(2)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="credentialpublickey">
   <b><a href="#credentialpublickey">#credentialpublickey</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-credentialpublickey">6.1. Authenticator data</a>
    <li><a href="#ref-for-credentialpublickey①">6.3.1.1. Examples of credentialPublicKey Values encoded in COSE_Key format</a>
    <li><a href="#ref-for-credentialpublickey②">7.1. Registering a new credential</a>
    <li><a href="#ref-for-credentialpublickey③">8.2. Packed Attestation Statement Format</a>
    <li><a href="#ref-for-credentialpublickey④">8.3. TPM Attestation Statement Format</a>
    <li><a href="#ref-for-credentialpublickey⑤">8.4. Android Key Attestation Statement Format</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="signing-procedure">
   <b><a href="#signing-procedure">#signing-procedure</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-signing-procedure">6.3.2. Attestation Statement Formats</a>
    <li><a href="#ref-for-signing-procedure①">6.3.4. Generating an Attestation Object</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="authenticator-data-for-the-attestation">
   <b><a href="#authenticator-data-for-the-attestation">#authenticator-data-for-the-attestation</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-authenticator-data-for-the-attestation">8.2. Packed Attestation Statement Format</a>
    <li><a href="#ref-for-authenticator-data-for-the-attestation①">8.3. TPM Attestation Statement Format</a>
    <li><a href="#ref-for-authenticator-data-for-the-attestation②">8.4. Android Key Attestation Statement Format</a> <a href="#ref-for-authenticator-data-for-the-attestation③">(2)</a>
    <li><a href="#ref-for-authenticator-data-for-the-attestation④">8.5. Android SafetyNet Attestation Statement Format</a>
    <li><a href="#ref-for-authenticator-data-for-the-attestation⑤">8.6. FIDO U2F Attestation Statement Format</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="verification-procedure">
   <b><a href="#verification-procedure">#verification-procedure</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-verification-procedure">7.1. Registering a new credential</a> <a href="#ref-for-verification-procedure①">(2)</a> <a href="#ref-for-verification-procedure②">(3)</a> <a href="#ref-for-verification-procedure③">(4)</a>
    <li><a href="#ref-for-verification-procedure④">8.2. Packed Attestation Statement Format</a>
    <li><a href="#ref-for-verification-procedure⑤">8.3. TPM Attestation Statement Format</a>
    <li><a href="#ref-for-verification-procedure⑥">8.4. Android Key Attestation Statement Format</a>
    <li><a href="#ref-for-verification-procedure⑦">8.5. Android SafetyNet Attestation Statement Format</a>
    <li><a href="#ref-for-verification-procedure⑧">8.6. FIDO U2F Attestation Statement Format</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="verification-procedure-inputs">
   <b><a href="#verification-procedure-inputs">#verification-procedure-inputs</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-verification-procedure-inputs">8.2. Packed Attestation Statement Format</a>
    <li><a href="#ref-for-verification-procedure-inputs①">8.3. TPM Attestation Statement Format</a>
    <li><a href="#ref-for-verification-procedure-inputs②">8.4. Android Key Attestation Statement Format</a>
    <li><a href="#ref-for-verification-procedure-inputs③">8.5. Android SafetyNet Attestation Statement Format</a>
    <li><a href="#ref-for-verification-procedure-inputs④">8.6. FIDO U2F Attestation Statement Format</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="authenticator-data-claimed-to-have-been-used-for-the-attestation">
   <b><a href="#authenticator-data-claimed-to-have-been-used-for-the-attestation">#authenticator-data-claimed-to-have-been-used-for-the-attestation</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-authenticator-data-claimed-to-have-been-used-for-the-attestation">8.4. Android Key Attestation Statement Format</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="attestation-trust-path">
   <b><a href="#attestation-trust-path">#attestation-trust-path</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-attestation-trust-path">6.3.2. Attestation Statement Formats</a>
    <li><a href="#ref-for-attestation-trust-path①">8.2. Packed Attestation Statement Format</a> <a href="#ref-for-attestation-trust-path②">(2)</a> <a href="#ref-for-attestation-trust-path③">(3)</a>
    <li><a href="#ref-for-attestation-trust-path④">8.3. TPM Attestation Statement Format</a>
    <li><a href="#ref-for-attestation-trust-path⑤">8.4. Android Key Attestation Statement Format</a>
    <li><a href="#ref-for-attestation-trust-path⑥">8.5. Android SafetyNet Attestation Statement Format</a>
    <li><a href="#ref-for-attestation-trust-path⑦">8.6. FIDO U2F Attestation Statement Format</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="basic-attestation">
   <b><a href="#basic-attestation">#basic-attestation</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-basic-attestation">14.1. Attestation Privacy</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="basic">
   <b><a href="#basic">#basic</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-basic">8.2. Packed Attestation Statement Format</a> <a href="#ref-for-basic①">(2)</a>
    <li><a href="#ref-for-basic②">8.4. Android Key Attestation Statement Format</a> <a href="#ref-for-basic③">(2)</a>
    <li><a href="#ref-for-basic④">8.5. Android SafetyNet Attestation Statement Format</a> <a href="#ref-for-basic⑤">(2)</a>
    <li><a href="#ref-for-basic⑥">8.6. FIDO U2F Attestation Statement Format</a> <a href="#ref-for-basic⑦">(2)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="self-attestation">
   <b><a href="#self-attestation">#self-attestation</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-self-attestation">4. Terminology</a> <a href="#ref-for-self-attestation①">(2)</a> <a href="#ref-for-self-attestation②">(3)</a> <a href="#ref-for-self-attestation③">(4)</a>
    <li><a href="#ref-for-self-attestation④">5.1.3. Create a new credential - PublicKeyCredential’s [[Create]](origin, options, sameOriginWithAncestors) method</a>
    <li><a href="#ref-for-self-attestation⑤">5.4.6. Attestation Conveyance Preference enumeration (enum AttestationConveyancePreference)</a>
    <li><a href="#ref-for-self-attestation⑥">6.3. Attestation</a> <a href="#ref-for-self-attestation⑦">(2)</a>
    <li><a href="#ref-for-self-attestation⑧">6.3.2. Attestation Statement Formats</a>
    <li><a href="#ref-for-self-attestation⑨">6.3.3. Attestation Types</a>
    <li><a href="#ref-for-self-attestation①⓪">7.1. Registering a new credential</a> <a href="#ref-for-self-attestation①①">(2)</a> <a href="#ref-for-self-attestation①②">(3)</a>
    <li><a href="#ref-for-self-attestation①③">8.2. Packed Attestation Statement Format</a> <a href="#ref-for-self-attestation①④">(2)</a>
    <li><a href="#ref-for-self-attestation①⑤">13.2.2. Attestation Certificate and Attestation Certificate CA Compromise</a>
    <li><a href="#ref-for-self-attestation①⑥">13.3.1. Considerations for Self and None Attestation Types and Ignoring Attestation</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="self">
   <b><a href="#self">#self</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-self">8.2. Packed Attestation Statement Format</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="attestation-ca">
   <b><a href="#attestation-ca">#attestation-ca</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-attestation-ca">5.4.6. Attestation Conveyance Preference enumeration (enum AttestationConveyancePreference)</a>
    <li><a href="#ref-for-attestation-ca①">6.3.3. Attestation Types</a> <a href="#ref-for-attestation-ca②">(2)</a>
    <li><a href="#ref-for-attestation-ca③">14.1. Attestation Privacy</a> <a href="#ref-for-attestation-ca④">(2)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="attca">
   <b><a href="#attca">#attca</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-attca">8.2. Packed Attestation Statement Format</a>
    <li><a href="#ref-for-attca①">8.3. TPM Attestation Statement Format</a> <a href="#ref-for-attca②">(2)</a>
    <li><a href="#ref-for-attca③">8.6. FIDO U2F Attestation Statement Format</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="elliptic-curve-based-direct-anonymous-attestation">
   <b><a href="#elliptic-curve-based-direct-anonymous-attestation">#elliptic-curve-based-direct-anonymous-attestation</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-elliptic-curve-based-direct-anonymous-attestation">14.1. Attestation Privacy</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="ecdaa">
   <b><a href="#ecdaa">#ecdaa</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-ecdaa">6.3.2. Attestation Statement Formats</a>
    <li><a href="#ref-for-ecdaa①">6.3.3. Attestation Types</a>
    <li><a href="#ref-for-ecdaa②">7.1. Registering a new credential</a>
    <li><a href="#ref-for-ecdaa③">8.2. Packed Attestation Statement Format</a> <a href="#ref-for-ecdaa④">(2)</a> <a href="#ref-for-ecdaa⑤">(3)</a> <a href="#ref-for-ecdaa⑥">(4)</a>
    <li><a href="#ref-for-ecdaa⑦">8.3. TPM Attestation Statement Format</a> <a href="#ref-for-ecdaa⑧">(2)</a> <a href="#ref-for-ecdaa⑨">(3)</a> <a href="#ref-for-ecdaa①⓪">(4)</a>
    <li><a href="#ref-for-ecdaa①①">13.2.2. Attestation Certificate and Attestation Certificate CA Compromise</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="none">
   <b><a href="#none">#none</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-none">8.7. None Attestation Statement Format</a> <a href="#ref-for-none①">(2)</a>
    <li><a href="#ref-for-none②">13.3.1. Considerations for Self and None Attestation Types and Ignoring Attestation</a> <a href="#ref-for-none③">(2)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="attestation-statement-format-identifier">
   <b><a href="#attestation-statement-format-identifier">#attestation-statement-format-identifier</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-attestation-statement-format-identifier">6.3.2. Attestation Statement Formats</a>
    <li><a href="#ref-for-attestation-statement-format-identifier①">6.3.4. Generating an Attestation Object</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="identifier-of-the-ecdaa-issuer-public-key">
   <b><a href="#identifier-of-the-ecdaa-issuer-public-key">#identifier-of-the-ecdaa-issuer-public-key</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-identifier-of-the-ecdaa-issuer-public-key">7.1. Registering a new credential</a>
    <li><a href="#ref-for-identifier-of-the-ecdaa-issuer-public-key①">8.2. Packed Attestation Statement Format</a>
    <li><a href="#ref-for-identifier-of-the-ecdaa-issuer-public-key②">8.3. TPM Attestation Statement Format</a> <a href="#ref-for-identifier-of-the-ecdaa-issuer-public-key③">(2)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="ecdaa-issuer-public-key">
   <b><a href="#ecdaa-issuer-public-key">#ecdaa-issuer-public-key</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-ecdaa-issuer-public-key">6.3.2. Attestation Statement Formats</a>
    <li><a href="#ref-for-ecdaa-issuer-public-key①">7.1. Registering a new credential</a>
    <li><a href="#ref-for-ecdaa-issuer-public-key②">8.2. Packed Attestation Statement Format</a> <a href="#ref-for-ecdaa-issuer-public-key③">(2)</a> <a href="#ref-for-ecdaa-issuer-public-key④">(3)</a>
    <li><a href="#ref-for-ecdaa-issuer-public-key⑤">14.1. Attestation Privacy</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="registration-extension">
   <b><a href="#registration-extension">#registration-extension</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-registration-extension">5.1.3. Create a new credential - PublicKeyCredential’s [[Create]](origin, options, sameOriginWithAncestors) method</a>
    <li><a href="#ref-for-registration-extension①">9. WebAuthn Extensions</a> <a href="#ref-for-registration-extension②">(2)</a> <a href="#ref-for-registration-extension③">(3)</a> <a href="#ref-for-registration-extension④">(4)</a> <a href="#ref-for-registration-extension⑤">(5)</a> <a href="#ref-for-registration-extension⑥">(6)</a>
    <li><a href="#ref-for-registration-extension⑦">10.2. Simple Transaction Authorization Extension (txAuthSimple)</a>
    <li><a href="#ref-for-registration-extension⑧">10.3. Generic Transaction Authorization Extension (txAuthGeneric)</a>
    <li><a href="#ref-for-registration-extension⑨">10.4. Authenticator Selection Extension (authnSel)</a>
    <li><a href="#ref-for-registration-extension①⓪">10.5. Supported Extensions Extension (exts)</a>
    <li><a href="#ref-for-registration-extension①①">10.6. User Verification Index Extension (uvi)</a>
    <li><a href="#ref-for-registration-extension①②">10.7. Location Extension (loc)</a>
    <li><a href="#ref-for-registration-extension①③">10.8. User Verification Method Extension (uvm)</a>
    <li><a href="#ref-for-registration-extension①④">10.9. Biometric Authenticator Performance Bounds Extension (biometricPerfBounds)</a>
    <li><a href="#ref-for-registration-extension①⑤">11.2. WebAuthn Extension Identifier Registrations</a> <a href="#ref-for-registration-extension①⑥">(2)</a> <a href="#ref-for-registration-extension①⑦">(3)</a> <a href="#ref-for-registration-extension①⑧">(4)</a> <a href="#ref-for-registration-extension①⑨">(5)</a> <a href="#ref-for-registration-extension②⓪">(6)</a> <a href="#ref-for-registration-extension②①">(7)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="authentication-extension">
   <b><a href="#authentication-extension">#authentication-extension</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-authentication-extension">5.1.4.1. PublicKeyCredential’s [[DiscoverFromExternalSource]](origin, options, sameOriginWithAncestors) method</a>
    <li><a href="#ref-for-authentication-extension①">9. WebAuthn Extensions</a> <a href="#ref-for-authentication-extension②">(2)</a> <a href="#ref-for-authentication-extension③">(3)</a> <a href="#ref-for-authentication-extension④">(4)</a> <a href="#ref-for-authentication-extension⑤">(5)</a> <a href="#ref-for-authentication-extension⑥">(6)</a>
    <li><a href="#ref-for-authentication-extension⑦">10.2. Simple Transaction Authorization Extension (txAuthSimple)</a>
    <li><a href="#ref-for-authentication-extension⑧">10.3. Generic Transaction Authorization Extension (txAuthGeneric)</a>
    <li><a href="#ref-for-authentication-extension⑨">10.6. User Verification Index Extension (uvi)</a>
    <li><a href="#ref-for-authentication-extension①⓪">10.7. Location Extension (loc)</a>
    <li><a href="#ref-for-authentication-extension①①">10.8. User Verification Method Extension (uvm)</a>
    <li><a href="#ref-for-authentication-extension①②">11.2. WebAuthn Extension Identifier Registrations</a> <a href="#ref-for-authentication-extension①③">(2)</a> <a href="#ref-for-authentication-extension①④">(3)</a> <a href="#ref-for-authentication-extension①⑤">(4)</a> <a href="#ref-for-authentication-extension①⑥">(5)</a> <a href="#ref-for-authentication-extension①⑦">(6)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="client-extension">
   <b><a href="#client-extension">#client-extension</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-client-extension">5.1.3. Create a new credential - PublicKeyCredential’s [[Create]](origin, options, sameOriginWithAncestors) method</a>
    <li><a href="#ref-for-client-extension①">5.1.4.1. PublicKeyCredential’s [[DiscoverFromExternalSource]](origin, options, sameOriginWithAncestors) method</a>
    <li><a href="#ref-for-client-extension②">9. WebAuthn Extensions</a>
    <li><a href="#ref-for-client-extension③">9.2. Defining extensions</a>
    <li><a href="#ref-for-client-extension④">9.4. Client extension processing</a>
    <li><a href="#ref-for-client-extension⑤">10.1. FIDO AppID Extension (appid)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="authenticator-extension">
   <b><a href="#authenticator-extension">#authenticator-extension</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-authenticator-extension">5.1.3. Create a new credential - PublicKeyCredential’s [[Create]](origin, options, sameOriginWithAncestors) method</a>
    <li><a href="#ref-for-authenticator-extension①">5.1.4.1. PublicKeyCredential’s [[DiscoverFromExternalSource]](origin, options, sameOriginWithAncestors) method</a>
    <li><a href="#ref-for-authenticator-extension②">9. WebAuthn Extensions</a> <a href="#ref-for-authenticator-extension③">(2)</a> <a href="#ref-for-authenticator-extension④">(3)</a>
    <li><a href="#ref-for-authenticator-extension⑤">9.2. Defining extensions</a> <a href="#ref-for-authenticator-extension⑥">(2)</a>
    <li><a href="#ref-for-authenticator-extension⑦">9.3. Extending request parameters</a>
    <li><a href="#ref-for-authenticator-extension⑧">9.5. Authenticator extension processing</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="extension-identifier">
   <b><a href="#extension-identifier">#extension-identifier</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-extension-identifier">5.1. PublicKeyCredential Interface</a>
    <li><a href="#ref-for-extension-identifier①">5.1.3. Create a new credential - PublicKeyCredential’s [[Create]](origin, options, sameOriginWithAncestors) method</a>
    <li><a href="#ref-for-extension-identifier②">5.1.4.1. PublicKeyCredential’s [[DiscoverFromExternalSource]](origin, options, sameOriginWithAncestors) method</a>
    <li><a href="#ref-for-extension-identifier③">6.1. Authenticator data</a>
    <li><a href="#ref-for-extension-identifier④">6.2.2. The authenticatorMakeCredential operation</a> <a href="#ref-for-extension-identifier⑤">(2)</a>
    <li><a href="#ref-for-extension-identifier⑥">6.2.3.  The authenticatorGetAssertion operation</a> <a href="#ref-for-extension-identifier⑦">(2)</a>
    <li><a href="#ref-for-extension-identifier⑧">7.1. Registering a new credential</a> <a href="#ref-for-extension-identifier⑨">(2)</a>
    <li><a href="#ref-for-extension-identifier①⓪">7.2. Verifying an authentication assertion</a> <a href="#ref-for-extension-identifier①①">(2)</a>
    <li><a href="#ref-for-extension-identifier①②">9. WebAuthn Extensions</a> <a href="#ref-for-extension-identifier①③">(2)</a>
    <li><a href="#ref-for-extension-identifier①④">9.2. Defining extensions</a>
    <li><a href="#ref-for-extension-identifier①⑤">9.3. Extending request parameters</a>
    <li><a href="#ref-for-extension-identifier①⑥">9.4. Client extension processing</a> <a href="#ref-for-extension-identifier①⑦">(2)</a>
    <li><a href="#ref-for-extension-identifier①⑧">9.5. Authenticator extension processing</a> <a href="#ref-for-extension-identifier①⑨">(2)</a>
    <li><a href="#ref-for-extension-identifier②⓪">10.5. Supported Extensions Extension (exts)</a> <a href="#ref-for-extension-identifier②①">(2)</a>
    <li><a href="#ref-for-extension-identifier②②">11.2. WebAuthn Extension Identifier Registrations</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="client-extension-input">
   <b><a href="#client-extension-input">#client-extension-input</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-client-extension-input">5.7. Authentication Extensions Client Inputs (typedef AuthenticationExtensionsClientInputs)</a>
    <li><a href="#ref-for-client-extension-input①">7.1. Registering a new credential</a>
    <li><a href="#ref-for-client-extension-input②">7.2. Verifying an authentication assertion</a>
    <li><a href="#ref-for-client-extension-input③">9. WebAuthn Extensions</a> <a href="#ref-for-client-extension-input④">(2)</a> <a href="#ref-for-client-extension-input⑤">(3)</a> <a href="#ref-for-client-extension-input⑥">(4)</a>
    <li><a href="#ref-for-client-extension-input⑦">9.2. Defining extensions</a>
    <li><a href="#ref-for-client-extension-input⑧">9.3. Extending request parameters</a> <a href="#ref-for-client-extension-input⑨">(2)</a> <a href="#ref-for-client-extension-input①⓪">(3)</a> <a href="#ref-for-client-extension-input①①">(4)</a> <a href="#ref-for-client-extension-input①②">(5)</a> <a href="#ref-for-client-extension-input①③">(6)</a>
    <li><a href="#ref-for-client-extension-input①④">9.4. Client extension processing</a> <a href="#ref-for-client-extension-input①⑤">(2)</a> <a href="#ref-for-client-extension-input①⑥">(3)</a> <a href="#ref-for-client-extension-input①⑦">(4)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="authenticator-extension-input">
   <b><a href="#authenticator-extension-input">#authenticator-extension-input</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-authenticator-extension-input">5.9. Authentication Extensions Authenticator Inputs (typedef AuthenticationExtensionsAuthenticatorInputs)</a>
    <li><a href="#ref-for-authenticator-extension-input①">6.2.2. The authenticatorMakeCredential operation</a> <a href="#ref-for-authenticator-extension-input②">(2)</a>
    <li><a href="#ref-for-authenticator-extension-input③">6.2.3.  The authenticatorGetAssertion operation</a> <a href="#ref-for-authenticator-extension-input④">(2)</a>
    <li><a href="#ref-for-authenticator-extension-input⑤">9. WebAuthn Extensions</a> <a href="#ref-for-authenticator-extension-input⑥">(2)</a> <a href="#ref-for-authenticator-extension-input⑦">(3)</a> <a href="#ref-for-authenticator-extension-input⑧">(4)</a> <a href="#ref-for-authenticator-extension-input⑨">(5)</a> <a href="#ref-for-authenticator-extension-input①⓪">(6)</a>
    <li><a href="#ref-for-authenticator-extension-input①①">9.2. Defining extensions</a>
    <li><a href="#ref-for-authenticator-extension-input①②">9.3. Extending request parameters</a> <a href="#ref-for-authenticator-extension-input①③">(2)</a> <a href="#ref-for-authenticator-extension-input①④">(3)</a>
    <li><a href="#ref-for-authenticator-extension-input①⑤">9.4. Client extension processing</a>
    <li><a href="#ref-for-authenticator-extension-input①⑥">9.5. Authenticator extension processing</a> <a href="#ref-for-authenticator-extension-input①⑦">(2)</a> <a href="#ref-for-authenticator-extension-input①⑧">(3)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="client-extension-processing">
   <b><a href="#client-extension-processing">#client-extension-processing</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-client-extension-processing">5.1. PublicKeyCredential Interface</a>
    <li><a href="#ref-for-client-extension-processing①">5.1.3. Create a new credential - PublicKeyCredential’s [[Create]](origin, options, sameOriginWithAncestors) method</a> <a href="#ref-for-client-extension-processing②">(2)</a>
    <li><a href="#ref-for-client-extension-processing③">5.1.4.1. PublicKeyCredential’s [[DiscoverFromExternalSource]](origin, options, sameOriginWithAncestors) method</a> <a href="#ref-for-client-extension-processing④">(2)</a>
    <li><a href="#ref-for-client-extension-processing⑤">9. WebAuthn Extensions</a> <a href="#ref-for-client-extension-processing⑥">(2)</a> <a href="#ref-for-client-extension-processing⑦">(3)</a> <a href="#ref-for-client-extension-processing⑧">(4)</a>
    <li><a href="#ref-for-client-extension-processing⑨">9.2. Defining extensions</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="client-extension-output">
   <b><a href="#client-extension-output">#client-extension-output</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-client-extension-output">5.1. PublicKeyCredential Interface</a>
    <li><a href="#ref-for-client-extension-output①">5.1.3. Create a new credential - PublicKeyCredential’s [[Create]](origin, options, sameOriginWithAncestors) method</a> <a href="#ref-for-client-extension-output②">(2)</a>
    <li><a href="#ref-for-client-extension-output③">5.1.4.1. PublicKeyCredential’s [[DiscoverFromExternalSource]](origin, options, sameOriginWithAncestors) method</a> <a href="#ref-for-client-extension-output④">(2)</a>
    <li><a href="#ref-for-client-extension-output⑤">5.8. Authentication Extensions Client Outputs (typedef AuthenticationExtensionsClientOutputs)</a>
    <li><a href="#ref-for-client-extension-output⑥">7.1. Registering a new credential</a>
    <li><a href="#ref-for-client-extension-output⑦">7.2. Verifying an authentication assertion</a>
    <li><a href="#ref-for-client-extension-output⑧">9. WebAuthn Extensions</a> <a href="#ref-for-client-extension-output⑨">(2)</a> <a href="#ref-for-client-extension-output①⓪">(3)</a> <a href="#ref-for-client-extension-output①①">(4)</a>
    <li><a href="#ref-for-client-extension-output①②">9.2. Defining extensions</a> <a href="#ref-for-client-extension-output①③">(2)</a> <a href="#ref-for-client-extension-output①④">(3)</a>
    <li><a href="#ref-for-client-extension-output①⑤">9.4. Client extension processing</a> <a href="#ref-for-client-extension-output①⑥">(2)</a> <a href="#ref-for-client-extension-output①⑦">(3)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="authenticator-extension-processing">
   <b><a href="#authenticator-extension-processing">#authenticator-extension-processing</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-authenticator-extension-processing">6.2.2. The authenticatorMakeCredential operation</a>
    <li><a href="#ref-for-authenticator-extension-processing①">6.2.3.  The authenticatorGetAssertion operation</a>
    <li><a href="#ref-for-authenticator-extension-processing②">9. WebAuthn Extensions</a>
    <li><a href="#ref-for-authenticator-extension-processing③">9.2. Defining extensions</a>
    <li><a href="#ref-for-authenticator-extension-processing④">9.5. Authenticator extension processing</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="authenticator-extension-output">
   <b><a href="#authenticator-extension-output">#authenticator-extension-output</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-authenticator-extension-output">6.1. Authenticator data</a>
    <li><a href="#ref-for-authenticator-extension-output①">7.1. Registering a new credential</a>
    <li><a href="#ref-for-authenticator-extension-output②">7.2. Verifying an authentication assertion</a>
    <li><a href="#ref-for-authenticator-extension-output③">9. WebAuthn Extensions</a> <a href="#ref-for-authenticator-extension-output④">(2)</a> <a href="#ref-for-authenticator-extension-output⑤">(3)</a> <a href="#ref-for-authenticator-extension-output⑥">(4)</a>
    <li><a href="#ref-for-authenticator-extension-output⑦">9.2. Defining extensions</a> <a href="#ref-for-authenticator-extension-output⑧">(2)</a> <a href="#ref-for-authenticator-extension-output⑨">(3)</a>
    <li><a href="#ref-for-authenticator-extension-output①⓪">9.4. Client extension processing</a>
    <li><a href="#ref-for-authenticator-extension-output①①">9.5. Authenticator extension processing</a>
    <li><a href="#ref-for-authenticator-extension-output①②">10.5. Supported Extensions Extension (exts)</a>
    <li><a href="#ref-for-authenticator-extension-output①③">10.6. User Verification Index Extension (uvi)</a>
    <li><a href="#ref-for-authenticator-extension-output①④">10.8. User Verification Method Extension (uvm)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="appid">
   <b><a href="#appid">#appid</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-appid">3. Dependencies</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dictdef-txauthgenericarg">
   <b><a href="#dictdef-txauthgenericarg">#dictdef-txauthgenericarg</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dictdef-txauthgenericarg">10.3. Generic Transaction Authorization Extension (txAuthGeneric)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="typedefdef-authenticatorselectionlist">
   <b><a href="#typedefdef-authenticatorselectionlist">#typedefdef-authenticatorselectionlist</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-typedefdef-authenticatorselectionlist">10.4. Authenticator Selection Extension (authnSel)</a> <a href="#ref-for-typedefdef-authenticatorselectionlist①">(2)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="typedefdef-aaguid">
   <b><a href="#typedefdef-aaguid">#typedefdef-aaguid</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-typedefdef-aaguid">10.4. Authenticator Selection Extension (authnSel)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="typedefdef-authenticationextensionssupported">
   <b><a href="#typedefdef-authenticationextensionssupported">#typedefdef-authenticationextensionssupported</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-typedefdef-authenticationextensionssupported">10.5. Supported Extensions Extension (exts)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="typedefdef-uvmentry">
   <b><a href="#typedefdef-uvmentry">#typedefdef-uvmentry</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-typedefdef-uvmentry">10.8. User Verification Method Extension (uvm)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="typedefdef-uvmentries">
   <b><a href="#typedefdef-uvmentries">#typedefdef-uvmentries</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-typedefdef-uvmentries">10.8. User Verification Method Extension (uvm)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="anonymization-ca">
   <b><a href="#anonymization-ca">#anonymization-ca</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-anonymization-ca">5.1.3. Create a new credential - PublicKeyCredential’s [[Create]](origin, options, sameOriginWithAncestors) method</a>
    <li><a href="#ref-for-anonymization-ca①">5.4.6. Attestation Conveyance Preference enumeration (enum AttestationConveyancePreference)</a>
    <li><a href="#ref-for-anonymization-ca②">14.1. Attestation Privacy</a> <a href="#ref-for-anonymization-ca③">(2)</a> <a href="#ref-for-anonymization-ca④">(3)</a>
   </ul>
  </aside>
<script>/* script-var-click-highlighting */

    document.addEventListener("click", e=>{
        if(e.target.nodeName == "VAR") {
            highlightSameAlgoVars(e.target);
        }
    });
    {
        const indexCounts = new Map();
        const indexNames = new Map();
        function highlightSameAlgoVars(v) {
            // Find the algorithm container.
            let algoContainer = null;
            let searchEl = v;
            while(algoContainer == null && searchEl != document.body) {
                searchEl = searchEl.parentNode;
                if(searchEl.hasAttribute("data-algorithm")) {
                    algoContainer = searchEl;
                }
            }

            // Not highlighting document-global vars,
            // too likely to be unrelated.
            if(algoContainer == null) return;

            const algoName = algoContainer.getAttribute("data-algorithm");
            const varName = getVarName(v);
            const addClass = !v.classList.contains("selected");
            let highlightClass = null;
            if(addClass) {
                const index = chooseHighlightIndex(algoName, varName);
                indexCounts.get(algoName)[index] += 1;
                indexNames.set(algoName+"///"+varName, index);
                highlightClass = nameFromIndex(index);
            } else {
                const index = previousHighlightIndex(algoName, varName);
                indexCounts.get(algoName)[index] -= 1;
                highlightClass = nameFromIndex(index);
            }

            // Find all same-name vars, and toggle their class appropriately.
            for(const el of algoContainer.querySelectorAll("var")) {
                if(getVarName(el) == varName) {
                    el.classList.toggle("selected", addClass);
                    el.classList.toggle(highlightClass, addClass);
                }
            }
        }
        function getVarName(el) {
            return el.textContent.replace(/(\s| )+/, " ").trim();
        }
        function chooseHighlightIndex(algoName, varName) {
            let indexes = null;
            if(indexCounts.has(algoName)) {
                indexes = indexCounts.get(algoName);
            } else {
                // 7 classes right now
                indexes = [0,0,0,0,0,0,0];
                indexCounts.set(algoName, indexes);
            }

            // If the element was recently unclicked,
            // *and* that color is still unclaimed,
            // give it back the same color.
            const lastIndex = previousHighlightIndex(algoName, varName);
            if(indexes[lastIndex] === 0) return lastIndex;

            // Find the earliest index with the lowest count.
            const minCount = Math.min.apply(null, indexes);
            let index = null;
            for(var i = 0; i < indexes.length; i++) {
                if(indexes[i] == minCount) {
                    return i;
                }
            }
        }
        function previousHighlightIndex(algoName, varName) {
            return indexNames.get(algoName+"///"+varName);
        }
        function nameFromIndex(index) {
            return "selected" + index;
        }
    }
    </script>
<script>/* script-dfn-panel */

document.body.addEventListener("click", function(e) {
    var queryAll = function(sel) { return [].slice.call(document.querySelectorAll(sel)); }
    // Find the dfn element or panel, if any, that was clicked on.
    var el = e.target;
    var target;
    var hitALink = false;
    while(el.parentElement) {
        if(el.tagName == "A") {
            // Clicking on a link in a <dfn> shouldn't summon the panel
            hitALink = true;
        }
        if(el.classList.contains("dfn-paneled")) {
            target = "dfn";
            break;
        }
        if(el.classList.contains("dfn-panel")) {
            target = "dfn-panel";
            break;
        }
        el = el.parentElement;
    }
    if(target != "dfn-panel") {
        // Turn off any currently "on" or "activated" panels.
        queryAll(".dfn-panel.on, .dfn-panel.activated").forEach(function(el){
            el.classList.remove("on");
            el.classList.remove("activated");
        });
    }
    if(target == "dfn" && !hitALink) {
        // open the panel
        var dfnPanel = document.querySelector(".dfn-panel[data-for='" + el.id + "']");
        if(dfnPanel) {
            dfnPanel.classList.add("on");
            var rect = el.getBoundingClientRect();
            dfnPanel.style.left = window.scrollX + rect.right + 5 + "px";
            dfnPanel.style.top = window.scrollY + rect.top + "px";
            var panelRect = dfnPanel.getBoundingClientRect();
            var panelWidth = panelRect.right - panelRect.left;
            if(panelRect.right > document.body.scrollWidth && (rect.left - (panelWidth + 5)) > 0) {
                // Reposition, because the panel is overflowing
                dfnPanel.style.left = window.scrollX + rect.left - (panelWidth + 5) + "px";
            }
        } else {
            console.log("Couldn't find .dfn-panel[data-for='" + el.id + "']");
        }
    } else if(target == "dfn-panel") {
        // Switch it to "activated" state, which pins it.
        el.classList.add("activated");
        el.style.left = null;
        el.style.top = null;
    }

});
</script>