<!doctype html><html lang="en">
 <head>
  <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
  <meta content="width=device-width, initial-scale=1, shrink-to-fit=no" name="viewport">
  <title>CSS Table Module Level 3</title>
  <meta content="ED" name="w3c-status">
  <link href="https://www.w3.org/StyleSheets/TR/2021/W3C-ED" rel="stylesheet">
  <link href="https://www.w3.org/TR/css-tables-3/" rel="canonical">
  <link href="https://drafts.csswg.org/csslogo.ico" rel="icon">
  <meta content="dark light" name="color-scheme">
  <link href="https://www.w3.org/StyleSheets/TR/2021/dark.css" media="(prefers-color-scheme: dark)" rel="stylesheet" type="text/css">
<style>
		ul.compact { margin-top: -1em !important; list-style-type: disc; }
		ul.compact li { margin-top: 0 !important; margin-bottom: 0 !important; list-style-type: disc; }
	</style>
<style>
				#width-distribution-principles-r0,
				#width-distribution-principles-r1,
				#width-distribution-principles-r2,
				#width-distribution-principles-r3 {
					display: flex;
				}

				#width-distribution-principles-r0 > :first-child,
				#width-distribution-principles-r1 > :first-child,
				#width-distribution-principles-r2 > :first-child,
				#width-distribution-principles-r3 > :first-child {
					flex-shrink: 0; flex-basis: 5em;
				}

				#width-distribution-principles-r0 > *,
				#width-distribution-principles-r1 > *,
				#width-distribution-principles-r2 > *,
				#width-distribution-principles-r3 > * {
					display: inline-block;
				}
			</style>
<style>
						ul.inline { display: inline; margin: 0; padding: 0; }
						ul.inline > li { display: inline; margin: 0; padding: 0; }
						ul.inline > li::after { content:", "; display: inline; }
						ul.inline > li:last-of-type::after { content:""; display: none; }
					</style>
<style>
					.border-1 td, .border-1 th { border: 1px solid black; }
					.rules-all { border-collapse: collapse; }
				</style>
<style>

	ul.bug-list {
		list-style-type: none;
		padding: 0;
		font-size: 80%;
	}
	ul.bug-list > li {
		margin: 0; margin-bottom: 10px;
	}
	ul.bug-list > li > details {
		background: #efefef;
		padding: 10px;
	}
	ul.bug-list > li > details > aside {
		background: #f7f7f7;
		padding: 10px; font-weight: normal;
	}
	ul.bug-list > li > details > summary > a {
		border-bottom-color: transparent;
	}

</style>
<style>

	.hint { opacity: 0.5; transition: opacity 0.25s; }
	.hint:hover { opacity: 1; }

	.highlight { background: yellow; }

	/* fallback for summary/details */
	details { display: block; font-weight: normal !important; }
	details:not([open]) > aside { display: none; }
	details:not([open]) > summary { display: block; }
	details:not([open]) > summary:focus + aside { display: block; }
	#if-css-supports ::-webkit-details-marker, details:not([open]) > aside { display: block; }
	#if-css-supports ::-moz-details-marker,    details:not([open]) > aside { display: block; }
	#if-css-supports ::-ms-details-marker,     details:not([open]) > aside { display: block; }
	/* THIS IS COMMENTED BECAUSE IT FAILS VALIDATION * /
	#if-css-supports ::details-marker,         details:not([open]) > aside { display: block; }
	/* END OF COMMENT */

</style>
<style>/* Boilerplate: style-autolinks */
.css.css, .property.property, .descriptor.descriptor {
    color: var(--a-normal-text);
    font-size: inherit;
    font-family: inherit;
}
.css::before, .property::before, .descriptor::before {
    content: "‘";
}
.css::after, .property::after, .descriptor::after {
    content: "’";
}
.property, .descriptor {
    /* Don't wrap property and descriptor names */
    white-space: nowrap;
}
.type { /* CSS value <type> */
    font-style: italic;
}
pre .property::before, pre .property::after {
    content: "";
}
[data-link-type="property"]::before,
[data-link-type="propdesc"]::before,
[data-link-type="descriptor"]::before,
[data-link-type="value"]::before,
[data-link-type="function"]::before,
[data-link-type="at-rule"]::before,
[data-link-type="selector"]::before,
[data-link-type="maybe"]::before {
    content: "‘";
}
[data-link-type="property"]::after,
[data-link-type="propdesc"]::after,
[data-link-type="descriptor"]::after,
[data-link-type="value"]::after,
[data-link-type="function"]::after,
[data-link-type="at-rule"]::after,
[data-link-type="selector"]::after,
[data-link-type="maybe"]::after {
    content: "’";
}

[data-link-type].production::before,
[data-link-type].production::after,
.prod [data-link-type]::before,
.prod [data-link-type]::after {
    content: "";
}

[data-link-type=element],
[data-link-type=element-attr] {
    font-family: Menlo, Consolas, "DejaVu Sans Mono", monospace;
    font-size: .9em;
}
[data-link-type=element]::before { content: "<" }
[data-link-type=element]::after  { content: ">" }

[data-link-type=biblio] {
    white-space: pre;
}

@media (prefers-color-scheme: dark) {
    :root {
        --selflink-text: black;
        --selflink-bg: silver;
        --selflink-hover-text: white;
    }
}
</style>
<style>/* Boilerplate: style-colors */
/* Any --*-text not paired with a --*-bg is assumed to have a transparent bg */
:root {
    color-scheme: light dark;

    --text: black;
    --bg: white;

    --unofficial-watermark: url(https://www.w3.org/StyleSheets/TR/2016/logos/UD-watermark);

    --logo-bg: #1a5e9a;
    --logo-active-bg: #c00;
    --logo-text: white;

    --tocnav-normal-text: #707070;
    --tocnav-normal-bg: var(--bg);
    --tocnav-hover-text: var(--tocnav-normal-text);
    --tocnav-hover-bg: #f8f8f8;
    --tocnav-active-text: #c00;
    --tocnav-active-bg: var(--tocnav-normal-bg);

    --tocsidebar-text: var(--text);
    --tocsidebar-bg: #f7f8f9;
    --tocsidebar-shadow: rgba(0,0,0,.1);
    --tocsidebar-heading-text: hsla(203,20%,40%,.7);

    --toclink-text: var(--text);
    --toclink-underline: #3980b5;
    --toclink-visited-text: var(--toclink-text);
    --toclink-visited-underline: #054572;

    --heading-text: #005a9c;

    --hr-text: var(--text);

    --algo-border: #def;

    --del-text: red;
    --del-bg: transparent;
    --ins-text: #080;
    --ins-bg: transparent;

    --a-normal-text: #034575;
    --a-normal-underline: #bbb;
    --a-visited-text: var(--a-normal-text);
    --a-visited-underline: #707070;
    --a-hover-bg: rgba(75%, 75%, 75%, .25);
    --a-active-text: #c00;
    --a-active-underline: #c00;

    --blockquote-border: silver;
    --blockquote-bg: transparent;
    --blockquote-text: currentcolor;

    --issue-border: #e05252;
    --issue-bg: #fbe9e9;
    --issue-text: var(--text);
    --issueheading-text: #831616;

    --example-border: #e0cb52;
    --example-bg: #fcfaee;
    --example-text: var(--text);
    --exampleheading-text: #574b0f;

    --note-border: #52e052;
    --note-bg: #e9fbe9;
    --note-text: var(--text);
    --noteheading-text: hsl(120, 70%, 30%);
    --notesummary-underline: silver;

    --assertion-border: #aaa;
    --assertion-bg: #eee;
    --assertion-text: black;

    --advisement-border: orange;
    --advisement-bg: #fec;
    --advisement-text: var(--text);
    --advisementheading-text: #b35f00;

    --warning-border: red;
    --warning-bg: hsla(40,100%,50%,0.95);
    --warning-text: var(--text);

    --amendment-border: #330099;
    --amendment-bg: #F5F0FF;
    --amendment-text: var(--text);
    --amendmentheading-text: #220066;

    --def-border: #8ccbf2;
    --def-bg: #def;
    --def-text: var(--text);
    --defrow-border: #bbd7e9;

    --datacell-border: silver;

    --indexinfo-text: #707070;

    --indextable-hover-text: black;
    --indextable-hover-bg: #f7f8f9;

    --outdatedspec-bg: rgba(0, 0, 0, .5);
    --outdatedspec-text: black;
    --outdated-bg: maroon;
    --outdated-text: white;
    --outdated-shadow: red;

    --editedrec-bg: darkorange;
}

@media (prefers-color-scheme: dark) {
    :root {
        --text: #ddd;
        --bg: black;

        --unofficial-watermark: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='400' height='400'%3E%3Cg fill='%23100808' transform='translate(200 200) rotate(-45) translate(-200 -200)' stroke='%23100808' stroke-width='3'%3E%3Ctext x='50%25' y='220' style='font: bold 70px sans-serif; text-anchor: middle; letter-spacing: 6px;'%3EUNOFFICIAL%3C/text%3E%3Ctext x='50%25' y='305' style='font: bold 70px sans-serif; text-anchor: middle; letter-spacing: 6px;'%3EDRAFT%3C/text%3E%3C/g%3E%3C/svg%3E");

        --logo-bg: #1a5e9a;
        --logo-active-bg: #c00;
        --logo-text: white;

        --tocnav-normal-text: #999;
        --tocnav-normal-bg: var(--bg);
        --tocnav-hover-text: var(--tocnav-normal-text);
        --tocnav-hover-bg: #080808;
        --tocnav-active-text: #f44;
        --tocnav-active-bg: var(--tocnav-normal-bg);

        --tocsidebar-text: var(--text);
        --tocsidebar-bg: #080808;
        --tocsidebar-shadow: rgba(255,255,255,.1);
        --tocsidebar-heading-text: hsla(203,20%,40%,.7);

        --toclink-text: var(--text);
        --toclink-underline: #6af;
        --toclink-visited-text: var(--toclink-text);
        --toclink-visited-underline: #054572;

        --heading-text: #8af;

        --hr-text: var(--text);

        --algo-border: #456;

        --del-text: #f44;
        --del-bg: transparent;
        --ins-text: #4a4;
        --ins-bg: transparent;

        --a-normal-text: #6af;
        --a-normal-underline: #555;
        --a-visited-text: var(--a-normal-text);
        --a-visited-underline: var(--a-normal-underline);
        --a-hover-bg: rgba(25%, 25%, 25%, .2);
        --a-active-text: #f44;
        --a-active-underline: var(--a-active-text);

        --borderedblock-bg: rgba(255, 255, 255, .05);

        --blockquote-border: silver;
        --blockquote-bg: var(--borderedblock-bg);
        --blockquote-text: currentcolor;

        --issue-border: #e05252;
        --issue-bg: var(--borderedblock-bg);
        --issue-text: var(--text);
        --issueheading-text: hsl(0deg, 70%, 70%);

        --example-border: hsl(50deg, 90%, 60%);
        --example-bg: var(--borderedblock-bg);
        --example-text: var(--text);
        --exampleheading-text: hsl(50deg, 70%, 70%);

        --note-border: hsl(120deg, 100%, 35%);
        --note-bg: var(--borderedblock-bg);
        --note-text: var(--text);
        --noteheading-text: hsl(120, 70%, 70%);
        --notesummary-underline: silver;

        --assertion-border: #444;
        --assertion-bg: var(--borderedblock-bg);
        --assertion-text: var(--text);

        --advisement-border: orange;
        --advisement-bg: #222218;
        --advisement-text: var(--text);
        --advisementheading-text: #f84;

        --warning-border: red;
        --warning-bg: hsla(40,100%,20%,0.95);
        --warning-text: var(--text);

        --amendment-border: #330099;
        --amendment-bg: #080010;
        --amendment-text: var(--text);
        --amendmentheading-text: #cc00ff;

        --def-border: #8ccbf2;
        --def-bg: #080818;
        --def-text: var(--text);
        --defrow-border: #136;

        --datacell-border: silver;

        --indexinfo-text: #aaa;

        --indextable-hover-text: var(--text);
        --indextable-hover-bg: #181818;

        --outdatedspec-bg: rgba(255, 255, 255, .5);
        --outdatedspec-text: black;
        --outdated-bg: maroon;
        --outdated-text: white;
        --outdated-shadow: red;

        --editedrec-bg: darkorange;
    }
    /* In case a transparent-bg image doesn't expect to be on a dark bg,
       which is quite common in practice... */
    img { background: white; }
}
</style>
<style>/* Boilerplate: style-counters */
body {
    counter-reset: example figure issue;
}
.issue {
    counter-increment: issue;
}
.issue:not(.no-marker)::before {
    content: "Issue " counter(issue);
}

.example {
    counter-increment: example;
}
.example:not(.no-marker)::before {
    content: "Example " counter(example);
}
.invalid.example:not(.no-marker)::before,
.illegal.example:not(.no-marker)::before {
    content: "Invalid Example" counter(example);
}

figcaption {
    counter-increment: figure;
}
figcaption:not(.no-marker)::before {
    content: "Figure " counter(figure) " ";
}
</style>
<style>/* Boilerplate: style-dfn-panel */
:root {
    --dfnpanel-bg: #ddd;
    --dfnpanel-text: var(--text);
    --dfnpanel-target-bg: #ffc;
    --dfnpanel-target-outline: orange;
}
@media (prefers-color-scheme: dark) {
    :root {
        --dfnpanel-bg: #222;
        --dfnpanel-text: var(--text);
        --dfnpanel-target-bg: #333;
        --dfnpanel-target-outline: silver;
    }
}
.dfn-panel {
    position: absolute;
    z-index: 35;
    width: 20em;
    width: 300px;
    height: auto;
    max-height: 500px;
    overflow: auto;
    padding: 0.5em 0.75em;
    font: small Helvetica Neue, sans-serif, Droid Sans Fallback;
    background: var(--dfnpanel-bg);
    color: var(--dfnpanel-text);
    border: outset 0.2em;
    white-space: normal; /* in case it's moved into a pre */
}
.dfn-panel:not(.on) { display: none; }
.dfn-panel * { margin: 0; padding: 0; text-indent: 0; }
.dfn-panel > b { display: block; }
.dfn-panel a { color: var(--dfnpanel-text); }
.dfn-panel a:not(:hover) { text-decoration: none !important; border-bottom: none !important; }
.dfn-panel a:focus {
    outline: 5px auto Highlight;
    outline: 5px auto -webkit-focus-ring-color;
}
.dfn-panel > b + b { margin-top: 0.25em; }
.dfn-panel ul { padding: 0 0 0 1em; list-style: none; }
.dfn-panel li a {
    max-width: calc(300px - 1.5em - 1em);
    overflow: hidden;
    text-overflow: ellipsis;
}

.dfn-panel.activated {
    display: inline-block;
    position: fixed;
    left: 8px;
    bottom: 2em;
    margin: 0 auto;
    max-width: calc(100vw - 1.5em - .4em - .5em);
    max-height: 30vh;
    transition: left 1s ease-out, bottom 1s ease-out;
}

.dfn-panel .link-item:hover {
    text-decoration: underline;
}
.dfn-panel .link-item .copy-icon {
    opacity: 0;
}
.dfn-panel .link-item:hover .copy-icon,
.dfn-panel .link-item .copy-icon:focus {
    opacity: 1;
}

.dfn-panel .copy-icon {
    display: inline-block;
    margin-right: 0.5em;
    width: 0.85em;
    height: 1em;
    border-radius: 3px;
    background-color: #ccc;
    cursor: pointer;
}

.dfn-panel .copy-icon .icon {
    width: 100%;
    height: 100%;
    background-color: #fff;
    display: flex;
    justify-content: center;
    align-items: center;
    position: relative;
}

.dfn-panel .copy-icon .icon::before {
    content: "";
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    border: 1px solid black;
    background-color: #ccc;
    opacity: 0.25;
    transform: translate(3px, -3px);
}

.dfn-panel .copy-icon:active .icon::before {
    opacity: 1;
}

.dfn-paneled[role="button"] { cursor: help; }

.highlighted {
    animation: target-fade 3s;
}

@keyframes target-fade {
    from {
        background-color: var(--dfnpanel-target-bg);
        outline: 5px solid var(--dfnpanel-target-outline);
    }
    to {
        color: var(--a-normal-text);
        background-color: transparent;
        outline: transparent;
    }
}
</style>
<style>/* Boilerplate: style-issues */
a[href].issue-return {
    float: right;
    float: inline-end;
    color: var(--issueheading-text);
    font-weight: bold;
    text-decoration: none;
}
</style>
<style>/* Boilerplate: style-md-lists */
/* This is a weird hack for me not yet following the commonmark spec
   regarding paragraph and lists. */
[data-md] > :first-child {
    margin-top: 0;
}
[data-md] > :last-child {
    margin-bottom: 0;
}
</style>
<style>/* Boilerplate: style-ref-hints */
:root {
    --ref-hint-bg: #ddd;
    --ref-hint-text: var(--text);
}
@media (prefers-color-scheme: dark) {
    :root {
        --ref-hint-bg: #222;
        --ref-hint-text: var(--text);
    }
}

.ref-hint {
    display: inline-block;
    position: absolute;
    z-index: 35;
    width: 20em;
    width: 300px;
    height: auto;
    max-height: 500px;
    overflow: auto;
    padding: 0.5em 0.5em;
    font: small Helvetica Neue, sans-serif, Droid Sans Fallback;
    background: var(--ref-hint-bg);
    color: var(--ref-hint-text);
    border: outset 0.2em;
    white-space: normal; /* in case it's moved into a pre */
}

.ref-hint * { margin: 0; padding: 0; text-indent: 0; }

.ref-hint ul { padding: 0 0 0 1em; list-style: none; }
</style>
<style>/* Boilerplate: style-selflinks */
:root {
    --selflink-text: white;
    --selflink-bg: gray;
    --selflink-hover-text: black;
}
.heading, .issue, .note, .example, li, dt {
    position: relative;
}
a.self-link {
    position: absolute;
    top: 0;
    left: calc(-1 * (3.5rem - 26px));
    width: calc(3.5rem - 26px);
    height: 2em;
    text-align: center;
    border: none;
    transition: opacity .2s;
    opacity: .5;
}
a.self-link:hover {
    opacity: 1;
}
.heading > a.self-link {
    font-size: 83%;
}
.example > a.self-link,
.note > a.self-link,
.issue > a.self-link {
    /* These blocks are overflow:auto, so positioning outside
       doesn't work. */
    left: auto;
    right: 0;
}
li > a.self-link {
    left: calc(-1 * (3.5rem - 26px) - 2em);
}
dfn > a.self-link {
    top: auto;
    left: auto;
    opacity: 0;
    width: 1.5em;
    height: 1.5em;
    background: var(--selflink-bg);
    color: var(--selflink-text);
    font-style: normal;
    transition: opacity .2s, background-color .2s, color .2s;
}
dfn:hover > a.self-link {
    opacity: 1;
}
dfn > a.self-link:hover {
    color: var(--selflink-hover-text);
}

a.self-link::before            { content: "¶"; }
.heading > a.self-link::before { content: "§"; }
dfn > a.self-link::before      { content: "#"; }
</style>
<style>/* Boilerplate: style-syntax-highlighting */
code.highlight { padding: .1em; border-radius: .3em; }
pre.highlight, pre > code.highlight { display: block; padding: 1em; margin: .5em 0; overflow: auto; border-radius: 0; }

.highlight:not(.idl) { background: rgba(0, 0, 0, .03); }
c-[a] { color: #990055 } /* Keyword.Declaration */
c-[b] { color: #990055 } /* Keyword.Type */
c-[c] { color: #708090 } /* Comment */
c-[d] { color: #708090 } /* Comment.Multiline */
c-[e] { color: #0077aa } /* Name.Attribute */
c-[f] { color: #669900 } /* Name.Tag */
c-[g] { color: #222222 } /* Name.Variable */
c-[k] { color: #990055 } /* Keyword */
c-[l] { color: #000000 } /* Literal */
c-[m] { color: #000000 } /* Literal.Number */
c-[n] { color: #0077aa } /* Name */
c-[o] { color: #999999 } /* Operator */
c-[p] { color: #999999 } /* Punctuation */
c-[s] { color: #a67f59 } /* Literal.String */
c-[t] { color: #a67f59 } /* Literal.String.Single */
c-[u] { color: #a67f59 } /* Literal.String.Double */
c-[cp] { color: #708090 } /* Comment.Preproc */
c-[c1] { color: #708090 } /* Comment.Single */
c-[cs] { color: #708090 } /* Comment.Special */
c-[kc] { color: #990055 } /* Keyword.Constant */
c-[kn] { color: #990055 } /* Keyword.Namespace */
c-[kp] { color: #990055 } /* Keyword.Pseudo */
c-[kr] { color: #990055 } /* Keyword.Reserved */
c-[ld] { color: #000000 } /* Literal.Date */
c-[nc] { color: #0077aa } /* Name.Class */
c-[no] { color: #0077aa } /* Name.Constant */
c-[nd] { color: #0077aa } /* Name.Decorator */
c-[ni] { color: #0077aa } /* Name.Entity */
c-[ne] { color: #0077aa } /* Name.Exception */
c-[nf] { color: #0077aa } /* Name.Function */
c-[nl] { color: #0077aa } /* Name.Label */
c-[nn] { color: #0077aa } /* Name.Namespace */
c-[py] { color: #0077aa } /* Name.Property */
c-[ow] { color: #999999 } /* Operator.Word */
c-[mb] { color: #000000 } /* Literal.Number.Bin */
c-[mf] { color: #000000 } /* Literal.Number.Float */
c-[mh] { color: #000000 } /* Literal.Number.Hex */
c-[mi] { color: #000000 } /* Literal.Number.Integer */
c-[mo] { color: #000000 } /* Literal.Number.Oct */
c-[sb] { color: #a67f59 } /* Literal.String.Backtick */
c-[sc] { color: #a67f59 } /* Literal.String.Char */
c-[sd] { color: #a67f59 } /* Literal.String.Doc */
c-[se] { color: #a67f59 } /* Literal.String.Escape */
c-[sh] { color: #a67f59 } /* Literal.String.Heredoc */
c-[si] { color: #a67f59 } /* Literal.String.Interpol */
c-[sx] { color: #a67f59 } /* Literal.String.Other */
c-[sr] { color: #a67f59 } /* Literal.String.Regex */
c-[ss] { color: #a67f59 } /* Literal.String.Symbol */
c-[vc] { color: #0077aa } /* Name.Variable.Class */
c-[vg] { color: #0077aa } /* Name.Variable.Global */
c-[vi] { color: #0077aa } /* Name.Variable.Instance */
c-[il] { color: #000000 } /* Literal.Number.Integer.Long */

@media (prefers-color-scheme: dark) {
    .highlight:not(.idl) { background: rgba(255, 255, 255, .05); }

    c-[a] { color: #d33682 } /* Keyword.Declaration */
    c-[b] { color: #d33682 } /* Keyword.Type */
    c-[c] { color: #2aa198 } /* Comment */
    c-[d] { color: #2aa198 } /* Comment.Multiline */
    c-[e] { color: #268bd2 } /* Name.Attribute */
    c-[f] { color: #b58900 } /* Name.Tag */
    c-[g] { color: #cb4b16 } /* Name.Variable */
    c-[k] { color: #d33682 } /* Keyword */
    c-[l] { color: #657b83 } /* Literal */
    c-[m] { color: #657b83 } /* Literal.Number */
    c-[n] { color: #268bd2 } /* Name */
    c-[o] { color: #657b83 } /* Operator */
    c-[p] { color: #657b83 } /* Punctuation */
    c-[s] { color: #6c71c4 } /* Literal.String */
    c-[t] { color: #6c71c4 } /* Literal.String.Single */
    c-[u] { color: #6c71c4 } /* Literal.String.Double */
    c-[ch] { color: #2aa198 } /* Comment.Hashbang */
    c-[cp] { color: #2aa198 } /* Comment.Preproc */
    c-[cpf] { color: #2aa198 } /* Comment.PreprocFile */
    c-[c1] { color: #2aa198 } /* Comment.Single */
    c-[cs] { color: #2aa198 } /* Comment.Special */
    c-[kc] { color: #d33682 } /* Keyword.Constant */
    c-[kn] { color: #d33682 } /* Keyword.Namespace */
    c-[kp] { color: #d33682 } /* Keyword.Pseudo */
    c-[kr] { color: #d33682 } /* Keyword.Reserved */
    c-[ld] { color: #657b83 } /* Literal.Date */
    c-[nc] { color: #268bd2 } /* Name.Class */
    c-[no] { color: #268bd2 } /* Name.Constant */
    c-[nd] { color: #268bd2 } /* Name.Decorator */
    c-[ni] { color: #268bd2 } /* Name.Entity */
    c-[ne] { color: #268bd2 } /* Name.Exception */
    c-[nf] { color: #268bd2 } /* Name.Function */
    c-[nl] { color: #268bd2 } /* Name.Label */
    c-[nn] { color: #268bd2 } /* Name.Namespace */
    c-[py] { color: #268bd2 } /* Name.Property */
    c-[ow] { color: #657b83 } /* Operator.Word */
    c-[mb] { color: #657b83 } /* Literal.Number.Bin */
    c-[mf] { color: #657b83 } /* Literal.Number.Float */
    c-[mh] { color: #657b83 } /* Literal.Number.Hex */
    c-[mi] { color: #657b83 } /* Literal.Number.Integer */
    c-[mo] { color: #657b83 } /* Literal.Number.Oct */
    c-[sa] { color: #6c71c4 } /* Literal.String.Affix */
    c-[sb] { color: #6c71c4 } /* Literal.String.Backtick */
    c-[sc] { color: #6c71c4 } /* Literal.String.Char */
    c-[dl] { color: #6c71c4 } /* Literal.String.Delimiter */
    c-[sd] { color: #6c71c4 } /* Literal.String.Doc */
    c-[se] { color: #6c71c4 } /* Literal.String.Escape */
    c-[sh] { color: #6c71c4 } /* Literal.String.Heredoc */
    c-[si] { color: #6c71c4 } /* Literal.String.Interpol */
    c-[sx] { color: #6c71c4 } /* Literal.String.Other */
    c-[sr] { color: #6c71c4 } /* Literal.String.Regex */
    c-[ss] { color: #6c71c4 } /* Literal.String.Symbol */
    c-[fm] { color: #268bd2 } /* Name.Function.Magic */
    c-[vc] { color: #cb4b16 } /* Name.Variable.Class */
    c-[vg] { color: #cb4b16 } /* Name.Variable.Global */
    c-[vi] { color: #cb4b16 } /* Name.Variable.Instance */
    c-[vm] { color: #cb4b16 } /* Name.Variable.Magic */
    c-[il] { color: #657b83 } /* Literal.Number.Integer.Long */
}
</style>
<style>/* Boilerplate: style-wpt */
:root {
    --wpt-border: hsl(0, 0%, 60%);
    --wpt-bg: hsl(0, 0%, 95%);
    --wpt-text: var(--text);
    --wptheading-text: hsl(0, 0%, 30%);
}
@media (prefers-color-scheme: dark) {
    :root {
        --wpt-border: hsl(0, 0%, 30%);
        --wpt-bg: var(--borderedblock-bg);
        --wpt-text: var(--text);
        --wptheading-text: hsl(0, 0%, 60%);
    }
}
.wpt-tests-block {
    list-style: none;
    border-left: .5em solid var(--wpt-border);
    background: var(--wpt-bg);
    color: var(--wpt-text);
    margin: 1em auto;
    padding: .5em;
}
.wpt-tests-block summary {
    color: var(--wptheading-text);
    font-weight: normal;
    text-transform: uppercase;
}
.wpt-tests-block summary::marker{
    color: var(--wpt-border);
}
.wpt-tests-block summary:hover::marker{
    color: var(--wpt-text);
}
/*
   The only content  of a wpt test block in its closed state is the <summary>,
   which contains the word TESTS,
   and that is absolutely positioned.
   In that closed state, wpt test blocks are styled
   to have a top margin whose height is exactly equal
   to the height of the absolutely positioned <summary>,
   and no other background/padding/margin/border.
   The wpt test block elements will therefore allow the maring
   of the previous/next block elements
   to collapse through them;
   if this combined margin would be larger than its own top margin,
   it stays as is,
   and therefore the pre-existing vertical rhythm of the document is undisturbed.
   If that combined margin would be smaller, it is grown to that size.
   This means that the wpt test block ensures
   that there's always enough vertical space to insert the summary,
   without adding more than is needed.
*/
.wpt-tests-block:not([open]){
    padding: 0;
    border: none;
    background: none;
    font-size: 0.75em;
    line-height: 1;
    position: relative;
    margin: 1em 0 0;
}
.wpt-tests-block:not([open]) summary {
    position: absolute;
    right: 0;
    bottom: 0;
}
/*
   It is possible that both the last child of a block element
   and the block element itself
   would be annotated with a <wpt> block each.
   If the block element has a padding or a border,
   that's fine, but otherwise
   the bottom margin of the block and of its last child would collapse
   and both <wpt> elements would overlap, being both placed there.
   To avoid that, add 1px of padding to the <wpt> element annotating the last child
   to prevent the bottom margin of the block and of its last child from collapsing
   (and as much negative margin,
   as wel only want to prevent margin collapsing,
   but are not trying to actually take more space).
*/
.wpt-tests-block:not([open]):last-child {
    padding-bottom: 1px;
    margin-bottom: -1px;
}
/*
   Exception to the previous rule:
   don't do that in non-last list items,
   because it's not necessary,
   and would therefore consume more space than strictly needed.
   Lists must have list items as children, not <wpt> elements,
   so a <wpt> element cannot be a sibling of a list item,
   and the collision that the previous rule avoids cannot happen.
*/
li:not(:last-child) > .wpt-tests-block:not([open]):last-child,
dd:not(:last-child) > .wpt-tests-block:not([open]):last-child {
    padding-bottom: 0;
    margin-bottom: 0;
}
.wpt-tests-block:not([open]):not(:hover){
    opacity: 0.5;
}
.wpt-tests-list {
    list-style: none;
    display: grid;
    margin: 0;
    padding: 0;
    grid-template-columns: 1fr max-content auto auto;
    grid-column-gap: .5em;
}
.wpt-tests-block hr:last-child {
    display: none;
}
.wpt-test {
    display: contents;
}
.wpt-test > a {
    text-decoration: underline;
    border: none;
}
.wpt-test > .wpt-name { grid-column: 1; }
.wpt-test > .wpt-results { grid-column: 2; }
.wpt-test > .wpt-live { grid-column: 3; }
.wpt-test > .wpt-source { grid-column: 4; }

.wpt-test > .wpt-results {
    display: flex;
    gap: .1em;
}
.wpt-test .wpt-result {
    display: inline-block;
    height: 1em;
    width: 1em;
    border-radius: 50%;
    position: relative;
}
</style>
 <body class="h-entry">
  <div class="head">
   <p data-fill-with="logo"><a class="logo" href="https://www.w3.org/"> <img alt="W3C" height="48" src="https://www.w3.org/StyleSheets/TR/2021/logos/W3C" width="72"> </a> </p>
   <h1 class="p-name no-ref" id="title">CSS Table Module Level 3</h1>
   <p id="w3c-state"><a href="https://www.w3.org/standards/types#ED">Editor’s Draft</a>, <time class="dt-updated" datetime="1970-01-01">1 January 1970</time></p>
   <details open>
    <summary>More details about this document</summary>
    <div data-fill-with="spec-metadata">
     <dl>
      <dt>This version:
      <dd><a class="u-url" href="https://drafts.csswg.org/css-tables-3/">https://drafts.csswg.org/css-tables-3/</a>
      <dt>Latest published version:
      <dd><a href="https://www.w3.org/TR/css-tables-3/">https://www.w3.org/TR/css-tables-3/</a>
      <dt>Previous Versions:
      <dd><a href="https://www.w3.org/TR/2019/WD-css-tables-3-20190727/" rel="prev">https://www.w3.org/TR/2019/WD-css-tables-3-20190727/</a>
      <dd><a href="https://www.w3.org/TR/CSS2/tables.html" rel="prev">https://www.w3.org/TR/CSS2/tables.html</a>
      <dt>Feedback:
      <dd><a href="https://github.com/w3c/csswg-drafts/labels/css-tables-3">CSSWG Issues Repository</a>
      <dt class="editor">Editors:
      <dd class="editor p-author h-card vcard" data-editor-id="53348"><span class="p-name fn">Francois Remy</span> (<span class="p-org org">Invited Expert</span>)
      <dd class="editor p-author h-card vcard" data-editor-id="69511"><span class="p-name fn">Greg Whitworth</span> (<span class="p-org org">Microsoft</span>)
      <dt class="editor">Former Editors:
      <dd class="editor p-author h-card vcard"><span class="p-name fn">Bert Bos</span> (<span class="p-org org">W3C</span>)
      <dd class="editor p-author h-card vcard" data-editor-id="15393"><a class="p-name fn u-url url" href="https://dbaron.org/">L. David Baron</a> (<a class="p-org org" href="https://www.mozilla.org/">Mozilla</a>)
      <dd class="editor p-author h-card vcard"><span class="p-name fn">Markus Mielke</span> (<span class="p-org org">Microsoft</span>)
      <dd class="editor p-author h-card vcard"><span class="p-name fn">Saloni Mira Rai</span> (<span class="p-org org">Microsoft</span>)
      <dt>Suggest an Edit for this Spec:
      <dd><a href="https://github.com/w3c/csswg-drafts/blob/main/css-tables-3/Overview.bs">GitHub Editor</a>
     </dl>
    </div>
   </details>
   <div data-fill-with="warning">
    <details class="annoying-warning" open>
     <summary>Not Ready For Implementation</summary>
     <p> This spec is not yet ready for implementation.
		It exists in this repository to record the ideas and promote discussion. </p>
     <p> Before attempting to implement this spec,
		please contact the CSSWG at www-style@w3.org. </p>
    </details>
   </div>
   <p class="copyright" data-fill-with="copyright"><a href="https://www.w3.org/policies/#copyright">Copyright</a> © 1970 <a href="https://www.w3.org/">World Wide Web Consortium</a>. <abbr title="World Wide Web Consortium">W3C</abbr><sup>®</sup> <a href="https://www.w3.org/policies/#Legal_Disclaimer">liability</a>, <a href="https://www.w3.org/policies/#W3C_Trademarks">trademark</a> and <a href="https://www.w3.org/copyright/software-license/" rel="license" title="W3C Software and Document License">permissive document license</a> rules apply. </p>
   <hr title="Separator for header">
  </div>
  <div class="p-summary" data-fill-with="abstract">
   <h2 class="no-num no-toc no-ref heading settled" id="abstract"><span class="content">Abstract</span></h2>
   <p>This CSS module defines a two-dimensional grid-based layout system, optimized for tabular data rendering. In the table layout model, each display node is assigned to an intersection between a set of consecutive rows and a set of consecutive columns, themselves generated from the table structure and sized according to their content.</p>
    <a href="https://www.w3.org/TR/CSS/">CSS</a> is a language for describing the rendering of structured documents
(such as HTML and XML)
on screen, on paper, etc. 
  </div>
  <h2 class="no-num no-toc no-ref heading settled" id="sotd"><span class="content">Status of this document</span></h2>
  <div data-fill-with="status">
   <p> This is a public copy of the editors’ draft.
	It is provided for discussion only and may change at any moment.
	Its publication here does not imply endorsement of its contents by W3C.
	Don’t cite this document other than as work in progress. </p>
   <p>Please send feedback
	by <a href="https://github.com/w3c/csswg-drafts/issues">filing issues in GitHub</a> (preferred),
	including the spec code “css-tables” in the title, like this:
	“[css-tables] <i>…summary of comment…</i>”.
	All issues and comments are <a href="https://lists.w3.org/Archives/Public/public-css-archive/">archived</a>.
	Alternately, feedback can be sent to the (<a href="https://lists.w3.org/Archives/Public/www-style/">archived</a>) public mailing list <a href="mailto:www-style@w3.org?Subject=%5Bcss-tables%5D%20PUT%20SUBJECT%20HERE">www-style@w3.org</a>. </p>
   <p>This document is governed by the <a href="https://www.w3.org/policies/process/20231103/" id="w3c_process_revision">03 November 2023 W3C Process Document</a>. </p>
   <p></p>
  </div>
  <div data-fill-with="at-risk"></div>
  <nav data-fill-with="table-of-contents" id="toc">
   <h2 class="no-num no-toc no-ref" id="contents">Table of Contents</h2>
   <ol class="toc" role="directory">
    <li>
     <a href="#intro"><span class="secno">1</span> <span class="content">Introduction</span></a>
     <ol class="toc">
      <li><a href="#values"><span class="secno">1.1</span> <span class="content">Value Definitions</span></a>
     </ol>
    <li>
     <a href="#content-model"><span class="secno">2</span> <span class="content">Content Model</span></a>
     <ol class="toc">
      <li>
       <a href="#table-structure"><span class="secno">2.1</span> <span class="content">Table Structure</span></a>
       <ol class="toc">
        <li><a href="#terminology"><span class="secno">2.1.1</span> <span class="content">Terminology</span></a>
       </ol>
      <li>
       <a href="#fixup"><span class="secno">2.2</span> <span class="content">Fixup</span></a>
       <ol class="toc">
        <li><a href="#fixup-algorithm"><span class="secno">2.2.1</span> <span class="content">Fixup Algorithm</span></a>
        <li><a href="#fixup-boxes"><span class="secno">2.2.2</span> <span class="content">Characteristics of fixup boxes</span></a>
        <li><a href="#fixup-examples"><span class="secno">2.2.3</span> <span class="content">Examples</span></a>
       </ol>
     </ol>
    <li>
     <a href="#layout"><span class="secno">3</span> <span class="content">Layout</span></a>
     <ol class="toc">
      <li><a href="#layout-principles"><span class="secno">3.1</span> <span class="content">Core layout principles</span></a>
      <li><a href="#table-layout-algorithm"><span class="secno">3.2</span> <span class="content">Table layout algorithm</span></a>
      <li>
       <a href="#dimensioning-the-row-column-grid"><span class="secno">3.3</span> <span class="content">Dimensioning the row/column grid</span></a>
       <ol class="toc">
        <li><a href="#dimensioning-the-row-column-grid--step1"><span class="secno">3.3.1</span> <span class="content">HTML Algorithm</span></a>
        <li><a href="#dimensioning-the-row-column-grid--step2"><span class="secno">3.3.2</span> <span class="content">Track merging</span></a>
       </ol>
      <li><a href="#missing-cells-fixup"><span class="secno">3.4</span> <span class="content">Missing cells fixup</span></a>
      <li>
       <a href="#layout-modes"><span class="secno">3.5</span> <span class="content">Table layout modes</span></a>
       <ol class="toc">
        <li><a href="#table-layout-property"><span class="secno">3.5.1</span> <span class="content">The Table-Layout property</span></a>
        <li>
         <a href="#border-collapse-property"><span class="secno">3.5.2</span> <span class="content">The Border-Collapse property</span></a>
         <ol class="toc">
          <li><a href="#border-spacing-property"><span class="secno">3.5.2.1</span> <span class="content">The Border-Spacing property</span></a>
         </ol>
        <li><a href="#caption-side-property"><span class="secno">3.5.3</span> <span class="content">The Caption-Side property</span></a>
       </ol>
      <li>
       <a href="#style-overrides"><span class="secno">3.6</span> <span class="content">Style overrides</span></a>
       <ol class="toc">
        <li><a href="#global-style-overrides"><span class="secno">3.6.1</span> <span class="content">Overrides applying in all modes</span></a>
        <li><a href="#collapsed-style-overrides"><span class="secno">3.6.2</span> <span class="content">Overrides applying in collapsed-borders mode</span></a>
       </ol>
      <li>
       <a href="#border-collapsing"><span class="secno">3.7</span> <span class="content">Border-collapsing</span></a>
       <ol class="toc">
        <li>
         <a href="#conflict-resolution-for-collapsed-borders"><span class="secno">3.7.1</span> <span class="content">Conflict Resolution for Collapsed Borders</span></a>
         <ol class="toc">
          <li><a href="#border-conflict-resolution-algorithm"><span class="secno">3.7.1.1</span> <span class="content">Conflict Resolution Algorithm for Collapsed Borders</span></a>
          <li><a href="#border-style-harmonization-algorithm"><span class="secno">3.7.1.2</span> <span class="content">Harmonization Algorithm for Collapsed Borders</span></a>
          <li><a href="#border-specificity"><span class="secno">3.7.1.3</span> <span class="content">Specificity of a border style</span></a>
         </ol>
       </ol>
      <li>
       <a href="#content-measure"><span class="secno">3.8</span> <span class="content">Computing table measures</span></a>
       <ol class="toc">
        <li><a href="#computing-undistributable-space"><span class="secno">3.8.1</span> <span class="content">Computing Undistributable Space</span></a>
        <li><a href="#computing-cell-measures"><span class="secno">3.8.2</span> <span class="content">Computing Cell Measures</span></a>
        <li><a href="#computing-column-measures"><span class="secno">3.8.3</span> <span class="content">Computing Column Measures</span></a>
       </ol>
      <li>
       <a href="#width-distribution"><span class="secno">3.9</span> <span class="content">Available Width Distribution</span></a>
       <ol class="toc">
        <li><a href="#computing-the-table-width"><span class="secno">3.9.1</span> <span class="content">Computing the table width</span></a>
        <li>
         <a href="#width-distribution-principles"><span class="secno">3.9.2</span> <span class="content">Core distribution principles</span></a>
         <ol class="toc">
          <li><a href="#width-distribution-principles-rN"><span class="secno">3.9.2.1</span> <span class="content">Rules</span></a>
          <li><a href="#width-distribution-principles-rR"><span class="secno">3.9.2.2</span> <span class="content">Available sizings</span></a>
         </ol>
        <li>
         <a href="#width-distribution-algorithm"><span class="secno">3.9.3</span> <span class="content">Distribution algorithm</span></a>
         <ol class="toc">
          <li><a href="#width-distribution-in-fixed-mode"><span class="secno">3.9.3.1</span> <span class="content">Changes to width distribution in fixed mode</span></a>
          <li><a href="#distributing-width-to-columns"><span class="secno">3.9.3.2</span> <span class="content">Distributing excess width to columns</span></a>
         </ol>
       </ol>
      <li>
       <a href="#height-distribution"><span class="secno">3.10</span> <span class="content">Available Height Distribution</span></a>
       <ol class="toc">
        <li><a href="#computing-the-table-height"><span class="secno">3.10.1</span> <span class="content">Computing the table height</span></a>
        <li><a href="#row-layout"><span class="secno">3.10.2</span> <span class="content">Row layout (first pass)</span></a>
        <li><a href="#row-relayout"><span class="secno">3.10.3</span> <span class="content">Row layout (second pass)</span></a>
        <li><a href="#height-distribution-principles"><span class="secno">3.10.4</span> <span class="content">Core distribution principles</span></a>
        <li><a href="#height-distribution-algorithm"><span class="secno">3.10.5</span> <span class="content">Distribution algorithm</span></a>
        <li><a href="#table-cell-content-relayout"><span class="secno">3.10.6</span> <span class="content">Table-cell content layout (second pass)</span></a>
       </ol>
      <li><a href="#bounding-box-assignment"><span class="secno">3.11</span> <span class="content">Positioning of cells, captions and other internal table boxes</span></a>
     </ol>
    <li>
     <a href="#abspos"><span class="secno">4</span> <span class="content"> Absolute Positioning</span></a>
     <ol class="toc">
      <li><a href="#abspos-boxes-in-table-root"><span class="secno">4.1</span> <span class="content"> With a table-root as containing block</span></a>
      <li><a href="#abspos-boxes-in-table-internal"><span class="secno">4.2</span> <span class="content"> With a table-internal as containing block</span></a>
      <li><a href="#static-position"><span class="secno">4.3</span> <span class="content"> With a table-internal box as non-containing block parent</span></a>
     </ol>
    <li>
     <a href="#rendering"><span class="secno">5</span> <span class="content">Rendering</span></a>
     <ol class="toc">
      <li><a href="#paint-order"><span class="secno">5.1</span> <span class="content">Paint order of cells</span></a>
      <li><a href="#empty-cell-rendering"><span class="secno">5.2</span> <span class="content">Empty cell rendering (separated-borders mode)</span></a>
      <li>
       <a href="#drawing-backgrounds-and-borders"><span class="secno">5.3</span> <span class="content">Drawing backgrounds and borders</span></a>
       <ol class="toc">
        <li>
         <a href="#drawing-table-backgrounds-and-borders"><span class="secno">5.3.1</span> <span class="content">Drawing table backgrounds and borders</span></a>
         <ol class="toc">
          <li><a href="#drawing-collapsed-borders-1"><span class="secno">5.3.1.1</span> <span class="content">Changes in collapsed-borders mode</span></a>
         </ol>
        <li><a href="#drawing-cell-backgrounds"><span class="secno">5.3.2</span> <span class="content">Drawing cell backgrounds</span></a>
        <li>
         <a href="#drawing-cell-borders"><span class="secno">5.3.3</span> <span class="content">Drawing cell borders</span></a>
         <ol class="toc">
          <li><a href="#drawing-collapsed-borders-2"><span class="secno">5.3.3.1</span> <span class="content">Changes in collapsed-borders mode</span></a>
         </ol>
        <li><a href="#border-style-overrides"><span class="secno">5.3.4</span> <span class="content">Border styles (collapsed-borders mode)</span></a>
       </ol>
      <li>
       <a href="#visibility-collapse-rendering"><span class="secno">5.4</span> <span class="content">Rendering for visibility: collapse</span></a>
       <ol class="toc">
        <li><a href="#visibility-collapse-cell-rendering"><span class="secno">5.4.1</span> <span class="content">Rendering a visibility: collapse table cell</span></a>
        <li><a href="#visibility-collapse-track-rendering"><span class="secno">5.4.2</span> <span class="content">Rendering a visibility: collapse table-track or table-track-group</span></a>
       </ol>
     </ol>
    <li>
     <a href="#fragmentation"><span class="secno">6</span> <span class="content">Fragmentation</span></a>
     <ol class="toc">
      <li><a href="#breaking-rules"><span class="secno">6.1</span> <span class="content">Breaking across fragmentainers</span></a>
      <li><a href="#repeated-headers"><span class="secno">6.2</span> <span class="content">Repeating headers across pages</span></a>
     </ol>
    <li><a href="#security"><span class="secno">7</span> <span class="content">Security Considerations</span></a>
    <li><a href="#privacy"><span class="secno">8</span> <span class="content">Privacy Considerations</span></a>
    <li><a href="#bug-list"><span class="secno">9</span> <span class="content">List of bugs being tracked</span></a>
    <li>
     <a href="#appendices"><span class="secno">10</span> <span class="content">Appendices</span></a>
     <ol class="toc">
      <li><a href="#mapping"><span class="secno">10.1</span> <span class="content">Mapping between CSS &amp; HTML attributes</span></a>
     </ol>
    <li><a href="#TODO"><span class="secno">11</span> <span class="content">(link here for missing sections)</span></a>
    <li>
     <a href="#w3c-conformance"><span class="secno"></span> <span class="content"> Conformance</span></a>
     <ol class="toc">
      <li><a href="#w3c-conventions"><span class="secno"></span> <span class="content"> Document conventions</span></a>
      <li><a href="#w3c-conformance-classes"><span class="secno"></span> <span class="content"> Conformance classes</span></a>
      <li>
       <a href="#w3c-partial"><span class="secno"></span> <span class="content"> Partial implementations</span></a>
       <ol class="toc">
        <li><a href="#w3c-conform-future-proofing"><span class="secno"></span> <span class="content"> Implementations of Unstable and Proprietary Features</span></a>
       </ol>
      <li><a href="#w3c-testing"><span class="secno"></span> <span class="content"> Non-experimental implementations</span></a>
     </ol>
    <li>
     <a href="#index"><span class="secno"></span> <span class="content">Index</span></a>
     <ol class="toc">
      <li><a href="#index-defined-here"><span class="secno"></span> <span class="content">Terms defined by this specification</span></a>
      <li><a href="#index-defined-elsewhere"><span class="secno"></span> <span class="content">Terms defined by reference</span></a>
     </ol>
    <li>
     <a href="#references"><span class="secno"></span> <span class="content">References</span></a>
     <ol class="toc">
      <li><a href="#normative"><span class="secno"></span> <span class="content">Normative References</span></a>
      <li><a href="#informative"><span class="secno"></span> <span class="content">Informative References</span></a>
     </ol>
    <li><a href="#property-index"><span class="secno"></span> <span class="content">Property Index</span></a>
    <li><a href="#issues-index"><span class="secno"></span> <span class="content">Issues Index</span></a>
   </ol>
  </nav>
  <main>
   <h2 class="heading settled" data-level="1" id="intro"><span class="secno">1. </span><span class="content">Introduction</span><a class="self-link" href="#intro"></a></h2>
   <p><em>This section is not normative</em></p>
   <p>Many types of information (ex: weather readings collected over the past year)
		are best visually represented in a two-axis grid
		where rows represent one item of the list
			(ex: a date, and the various weather properties measured during that day),
		and where columns represent the successive values of an item’s property
			(ex: the temperatures measured over the past year).</p>
   <p>Sometimes, to make the representation easier to understand,
		some cells of the grid are used to represent a description or summary of their parent row/column,
		instead of actual data.
	This happens more frequently for
		the cells found on the first row and/or column (called headers)
		or the cells found on the last row and/or column (called footers).</p>
   <p>This kind of tabular data representation is usually known as tables.
	Tables layout can be abused to render other grid-like representations like calendars or timelines,
		though authors should prefer other layout modes
		when the information being represented does not make sense as a data table.</p>
   <p>The rendering of tables in HTML has been defined for a long time in the HTML specification.
	However, its interactions with features defined in CSS remained for a long time undefined.
	The goal of this specification is to define
		the expected behavior of user agents supporting both HTML tables and CSS.</p>
   <p>Please be aware that some behaviors defined in this document
		will not be the most logical or useful way of solving the problem they aim to solve,
		but such behaviors are often the result of compatibility requirements and not a deliberate choice
		of the editors of this specification.
	Authors wishing to use more complex layouts
		are encouraged to rely on more modern CSS modules such as CSS Grid.</p>
   <h3 class="heading settled" data-level="1.1" id="values"><span class="secno">1.1. </span><span class="content">Value Definitions</span><a class="self-link" href="#values"></a></h3>
   <p>This specification follows the <a href="https://www.w3.org/TR/CSS2/about.html#property-defs">CSS property definition conventions</a> from <a data-link-type="biblio" href="#biblio-css2" title="Cascading Style Sheets Level 2 Revision 1 (CSS 2.1) Specification">[CSS2]</a> using the <a href="https://www.w3.org/TR/css-values-3/#value-defs">value definition syntax</a> from <a data-link-type="biblio" href="#biblio-css-values-3" title="CSS Values and Units Module Level 3">[CSS-VALUES-3]</a>.
	Value types not defined in this specification are defined in CSS Values &amp; Units <span title="CSS Values and Units Module Level 3">[CSS-VALUES-3]</span>.
	Combination with other CSS modules may expand the definitions of these value types.</p>
   <p>In addition to the property-specific values listed in their definitions,
	all properties defined in this specification
	also accept the <a data-link-type="dfn" href="https://drafts.csswg.org/css-values-4/#css-wide-keywords" id="ref-for-css-wide-keywords">CSS-wide keywords</a> as their property value.
	For readability they have not been repeated explicitly.</p>
   <h2 class="heading settled" data-level="2" id="content-model"><span class="secno">2. </span><span class="content">Content Model</span><a class="self-link" href="#content-model"></a></h2>
   <h3 class="heading settled" data-level="2.1" id="table-structure"><span class="secno">2.1. </span><span class="content">Table Structure</span><a class="self-link" href="#table-structure"></a></h3>
   <p>The CSS table model is based on the HTML4 table model,
		in which the structure of a table closely parallels the visual layout of the table.
	In this model, a table consists of an optional caption and any number of rows of cells.</p>
   <p>In addition, adjacent rows and columns may be grouped structurally and
	this grouping can be reflected in presentation (e.g., a border may be drawn around a group of rows).</p>
   <p>The table model is said to be "row primary" since
		authors specify rows, not columns, explicitly in the document language.
	Columns are derived once all the rows have been specified:
		the first cell of the first row belongs to the first column
			and as many other columns as spanning requires (and it creates them if needed),
		and the following cells of that row each belong to the next available column
			and as many other columns as spanning requires (creating those if needed);
		the cells of the following rows each belong to the next available column for that row (taking rowspan into account)
			and as many other columns as spanning requires (creating those if needed). <span class="hint">(see <a href="#dimensioning-the-row-column-grid">§ 3.3 Dimensioning the row/column grid</a>)</span>.</p>
   <p>To summarize, an instance of the table model consists of:</p>
   <ul class="compact">
    <li>
     Its <a href="#table-root-element" id="ref-for-table-root-element">table-root</a> containing: 
     <ul>
      <li>
       Zero, one or more <a href="#table-row" id="ref-for-table-row">table rows</a>, optionally in <a href="#table-row-group" id="ref-for-table-row-group">row groups</a>, 
       <ul>
        <li>Each of them containing one or more <a href="#table-cell" id="ref-for-table-cell">table cells</a>
       </ul>
      <li>Optionally: one or more <a href="#table-column" id="ref-for-table-column">table columns</a>,
				optionally in <a href="#table-column-group" id="ref-for-table-column-group">column groups</a> 
      <li>Optionally: one or more <a href="#table-caption" id="ref-for-table-caption">table caption</a>. 
     </ul>
   </ul>
   <figure>
     <img alt="[see-caption-below]" src="images/table-structure.png" width="493"> 
    <figcaption>Two representations of the structure of a table (tree vs layout)</figcaption>
   </figure>
   <p>The CSS model does not require that the document language include elements that correspond to each of these components.
	For document languages (such as XML applications) that do not have pre-defined table elements,
		authors must map document language elements to table elements.
	This is done with the <a class="property css" data-link-type="property" href="https://drafts.csswg.org/css-display-4/#propdef-display" id="ref-for-propdef-display">display</a> property.</p>
   <p>The following <a class="property css" data-link-type="property" href="https://drafts.csswg.org/css-display-4/#propdef-display" id="ref-for-propdef-display①">display</a> values assign table formatting rules to an arbitrary element:</p>
   <dl id="display-types">
    <dt><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="table">table</dfn> (equivalent to HTML: &lt;table>) 
    <dd>Specifies that an element defines a table
			that is <a data-link-type="dfn" href="https://drafts.csswg.org/css-display-4/#block-level" id="ref-for-block-level">block-level</a> when placed in <a data-link-type="dfn" href="https://drafts.csswg.org/css-display-4/#flow-layout" id="ref-for-flow-layout">flow layout</a>. 
    <dt><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="inline-table">inline-table</dfn> (equivalent to HTML: &lt;table>) 
    <dd>Specifies that an element defines a table
			that is <a data-link-type="dfn" href="https://drafts.csswg.org/css-display-4/#inline-level" id="ref-for-inline-level">inline-level</a> when placed in <a data-link-type="dfn" href="https://drafts.csswg.org/css-display-4/#flow-layout" id="ref-for-flow-layout①">flow layout</a>. 
    <dt><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="table-row">table-row</dfn> (equivalent to HTML: &lt;tr>) 
    <dd>Specifies that an element is a row of cells. 
    <dt><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="table-row-group">table-row-group</dfn> (equivalent to HTML: &lt;tbody>) 
    <dd>
     Specifies that an element groups some amount of rows. 
     <p>Unless explicitly mentioned otherwise, mentions of <a data-link-type="dfn" href="#table-row-group" id="ref-for-table-row-group⑨">table-row-groups</a> in this spec also encompass the specialized <a data-link-type="dfn" href="#table-header-group" id="ref-for-table-header-group">table-header-groups</a> and <a data-link-type="dfn" href="#table-footer-group" id="ref-for-table-footer-group">table-footer-groups</a>.</p>
    <dt><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="table-header-group">table-header-group</dfn> (equivalent to HTML: &lt;thead>) 
    <dd>
     Like <a data-link-type="dfn" href="#table-row-group" id="ref-for-table-row-group①">table-row-group</a> but, for layout purposes,
			the first such row group is always displayed before all other rows and row groups. 
     <div class="advisement"> If a table owns multiple <code>display: table-header-group</code> boxes,
					only the first is treated as a header;
					the others are treated as if they had <code>display: table-row-group</code>. </div>
    <dt><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="table-footer-group">table-footer-group</dfn> (equivalent to HTML: &lt;tfoot>) 
    <dd>
     Like <a data-link-type="dfn" href="#table-row-group" id="ref-for-table-row-group②">table-row-group</a> but, for layout purposes,
			the fist such row group is always displayed after all other rows and row groups. 
     <div class="advisement"> If a table owns multiple <code>display: table-footer-group</code> boxes,
					only the first is treated as a footer;
					the others are treated as if they had <code>display: table-row-group</code>. </div>
    <dt><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="table-column">table-column</dfn> (equivalent to HTML: &lt;col>) 
    <dd>Specifies that an element describes a column of cells. 
    <dt><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="table-column-group">table-column-group</dfn> (equivalent to HTML: &lt;colgroup>) 
    <dd>Specifies that an element groups one or more columns. 
    <dt><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="table-cell">table-cell</dfn> (equivalent to HTML: &lt;td> or &lt;th>) 
    <dd>Specifies that an element represents a table cell. 
    <dt><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="table-caption">table-caption</dfn> (equivalent to HTML: &lt;caption>) 
    <dd>Specifies a caption for the table.
			Table captions are positioned between the table margins and its borders. 
   </dl>
   <p class="advisement"> Authors should not assign a display type from the previous list to replaced elements (eg: input fields or images).
		When the <a class="property css" data-link-type="property" href="https://drafts.csswg.org/css-display-4/#propdef-display" id="ref-for-propdef-display②">display</a> property of a replaced element computes to one of these values,
			it is handled instead as though the author had declared either <code>block</code> (for <a data-link-type="dfn" href="#table" id="ref-for-table">table</a> display) or <code>inline</code> (for all other values).
		Whitespace collapsing and box generation must happen around those replaced elements
			like if they never had any table-internal display value applied to them,
			and had always been block or inline. <br> </p>
   <p class="issue" id="issue-7bb0488b"><a class="self-link" href="#issue-7bb0488b"></a> This is a breaking change from css 2.1 but matches implementations <a href="https://github.com/w3c/csswg-drafts/issues/508">[Issue #508]</a></p>
   <h4 class="heading settled" data-level="2.1.1" id="terminology"><span class="secno">2.1.1. </span><span class="content">Terminology</span><a class="self-link" href="#terminology"></a></h4>
   <p>In addition to the table structure display types,
			the following wording is also being used in this spec:</p>
   <dl>
    <dt><dfn class="dfn-paneled" data-dfn-type="dfn" data-export data-local-lt="table-wrapper" data-lt="table wrapper box | table-wrapper box" id="table-wrapper-box">table wrapper box</dfn> 
    <dd> A block container box <a href="#fixup-algorithm">generated around table grid boxes</a> to account for any space occupied by each <a data-link-type="dfn" href="#table-caption" id="ref-for-table-caption④">table-caption</a> it owns. 
    <dt><dfn class="dfn-paneled" data-dfn-type="dfn" data-export data-local-lt="table-grid" data-lt="table grid box | table-grid box" id="table-grid-box">table grid box</dfn> 
    <dd> A block-level box containing the table-internal boxes, excluding its captions. 
    <dt><dfn class="dfn-paneled" data-dfn-type="dfn" data-export id="table-root-element">table-root</dfn> element 
    <dd> An element whose <a data-link-type="dfn" href="https://drafts.csswg.org/css-display-4/#inner-display-type" id="ref-for-inner-display-type">inner display type</a> is <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-display-4/#valdef-display-table" id="ref-for-valdef-display-table">table</a>. 
    <dt><dfn class="dfn-paneled" data-dfn-type="dfn" data-export id="table-non-root-element">table-non-root</dfn> box or element 
    <dd> A <a data-link-type="dfn" href="#proper-table-child-element" id="ref-for-proper-table-child-element">proper table child</a>, or a <a data-link-type="dfn" href="#table-cell" id="ref-for-table-cell②⑥">table-cell</a> box. 
    <dt><dfn class="dfn-paneled" data-dfn-type="dfn" data-export id="table-track">table-track</dfn> box or element 
    <dd> A <a data-link-type="dfn" href="#table-row" id="ref-for-table-row①③">table-row</a>, or <a data-link-type="dfn" href="#table-column" id="ref-for-table-column⑥">table-column</a> box. 
    <dt><dfn class="dfn-paneled" data-dfn-type="dfn" data-export id="table-track-group-element">table-track-group</dfn> box or element 
    <dd> A <a data-link-type="dfn" href="#table-row-group" id="ref-for-table-row-group③">table-row-group</a>, or <a data-link-type="dfn" href="#table-column-group" id="ref-for-table-column-group⑤">table-column-group</a> box. 
    <dt><dfn class="dfn-paneled" data-dfn-type="dfn" data-export id="proper-table-child-element">proper table child</dfn> box or element 
    <dd> A <a data-link-type="dfn" href="#table-track-group-element" id="ref-for-table-track-group-element">table-track-group</a>, <a data-link-type="dfn" href="#table-track" id="ref-for-table-track">table-track</a>, or <a data-link-type="dfn" href="#table-caption" id="ref-for-table-caption①">table-caption</a> box. 
    <dt><dfn class="dfn-paneled" data-dfn-type="dfn" data-export id="proper-table-row-parent-element">proper table-row parent</dfn> box or element 
    <dd> A <a data-link-type="dfn" href="#table-root-element" id="ref-for-table-root-element②⑦">table-root</a> or a <a data-link-type="dfn" href="#table-row-group" id="ref-for-table-row-group④">table-row-group</a> box. 
    <dt><dfn class="dfn-paneled" data-dfn-type="dfn" data-export id="table-internal-element">table-internal</dfn> box or element 
    <dd> A <a data-link-type="dfn" href="#table-cell" id="ref-for-table-cell①">table-cell</a>, <a data-link-type="dfn" href="#table-track" id="ref-for-table-track①">table-track</a> or <a data-link-type="dfn" href="#table-track-group-element" id="ref-for-table-track-group-element①">table-track-group</a> box. 
    <dt><dfn class="dfn-paneled" data-dfn-type="dfn" data-export id="tabular-container">tabular container</dfn> 
    <dd> A <a data-link-type="dfn" href="#table-row" id="ref-for-table-row①">table-row</a> or <a data-link-type="dfn" href="#proper-table-row-parent-element" id="ref-for-proper-table-row-parent-element">proper table-row parent</a> box. 
    <dt><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="consecutive-boxes">consecutive</dfn> boxes 
    <dd> Two sibling boxes are consecutive
					if they have no intervening siblings
					other than, optionally, an anonymous inline containing only white spaces.
				A sequence of sibling boxes is consecutive
					if each box in the sequence is consecutive to the one before it in the sequence. 
    <dt><dfn class="dfn-paneled" data-dfn-type="dfn" data-export id="table-grid">table grid</dfn> 
    <dd>
      A matrix 
					containing as many <dfn class="dfn-paneled" data-dfn-type="dfn" data-export id="row">rows</dfn> and <dfn class="dfn-paneled" data-dfn-type="dfn" data-export id="column">columns</dfn> as needed to describe the position of all the <a data-link-type="dfn" href="#table-row" id="ref-for-table-row②">table-rows</a> and <a data-link-type="dfn" href="#table-cell" id="ref-for-table-cell②">table-cells</a> of a <a data-link-type="dfn" href="#table-root-element" id="ref-for-table-root-element①">table-root</a>,
					as determined by the <a href="#dimensioning-the-row-column-grid">grid-dimensioning algorithm</a>. 
     <p>Each row of the grid might correspond to a <a data-link-type="dfn" href="#table-row" id="ref-for-table-row③">table-row</a>, and each column to a <a data-link-type="dfn" href="#table-column" id="ref-for-table-column①">table-column</a>.</p>
    <dt><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="slot">slot</dfn> of the table grid 
    <dd>
      A <a data-link-type="dfn" href="#slot" id="ref-for-slot">slot</a> <code>(r,c)</code> is an available space created
					by the intersection of a row <code>r</code> and a column <code>c</code> in the <a data-link-type="dfn" href="#table-grid" id="ref-for-table-grid">table grid</a>. 
     <p>Each slot of the table grid is covered by at least one <a data-link-type="dfn" href="#table-cell" id="ref-for-table-cell③">table-cell</a> (<a href="#missing-cells-fixup">some of them anonymous</a>), and at most two.
				Each table-cell of a table-root covers at least one slot.</p>
     <p>Table-cells which cover more than one slot do so densely,
					meaning the set of slots they cover can always be described as a set of four strictly-positive integers <code>(rowStart, colStart, rowSpan, colSpan)</code> such that a slot <code>(r,c)</code> is covered by the table-cell 
						if and only if <code>r</code> lies in the interval between <code>rowStart</code> (included) and <code>rowStart+rowSpan</code> (excluded), 
						and <code>c</code> lies in the interval between <code>colStart</code> (included) and <code>colStart+colSpan</code> (excluded);</p>
     <p>Such table-cell is said to <dfn class="dfn-paneled" data-dfn-type="dfn" data-export id="originate">originate</dfn> from row <code>rowStart</code> and column <code>colStart</code>.
				Also:</p>
     <ul>
      <li>A table-cell is said to originate a table-row <i>(resp. table-column)</i> if it originates its corresponding row <i>(resp. column)</i> 
      <li>A table-cell is said to originate a table-row-group <i>(resp. table-column-group)</i> if the group contains the cell’s originating row <i>(resp. column)</i> 
     </ul>
     <p>Such table-cell is said to <dfn class="dfn-paneled" data-dfn-type="dfn" data-export id="span">span</dfn> all rows <code>r</code> and columns <code>c</code> matching the above condition.
				Also:</p>
     <ul>
      <li>A table-cell is said to span a table-row <i>(resp. table-column)</i> if it spans its corresponding row <i>(resp. column)</i> 
      <li>A table-row <i>(resp. table-column)</i> corresponding to a row <i>(resp. column)</i> is said to span this row <i>(resp. column)</i> 
      <li>A table-row <i>(resp. table-column)</i> is said to span all columns of the grid <i>(resp. row)</i> 
      <li>A table-row-group <i>(resp. table-column)</i> containing a row <i>(resp. column)</i> is said to span the row <i>(resp. column)</i> 
      <li>A table-row-group <i>(resp. table-column)</i> is said to span all columns of the grid <i>(resp. row)</i> 
     </ul>
   </dl>
   <h3 class="heading settled" data-level="2.2" id="fixup"><span class="secno">2.2. </span><span class="content">Fixup</span><a class="self-link" href="#fixup"></a></h3>
   <p>Document languages other than HTML may not contain all the elements in the CSS 2.1 table model.
		In these cases, the "missing" elements must be assumed in order for the table model to work.</p>
   <p>Any <a data-link-type="dfn" href="#table-internal-element" id="ref-for-table-internal-element">table-internal</a> element will automatically generate necessary anonymous table objects around itself, if necessary.
		Any descendant of a <a data-link-type="dfn" href="#table-root-element" id="ref-for-table-root-element②">table-root</a> that is not table-internal
			must have a set of ancestors in the table consisting of
			at least three nested objects corresponding to
			a <a data-link-type="dfn" href="#table" id="ref-for-table①">table</a>/<a data-link-type="dfn" href="#inline-table" id="ref-for-inline-table">inline-table</a>,
			a <a data-link-type="dfn" href="#table-row" id="ref-for-table-row④">table-row</a>, and
			a <a data-link-type="dfn" href="#table-cell" id="ref-for-table-cell④">table-cell</a>.
		Missing boxes cause the generation of <a href="#fixup-boxes">anonymous boxes</a> according to the following rules:</p>
   <h4 class="heading settled" data-level="2.2.1" id="fixup-algorithm"><span class="secno">2.2.1. </span><span class="content">Fixup Algorithm</span><a class="self-link" href="#fixup-algorithm"></a></h4>
   <p>For the purposes of these rules, out-of-flow elements are represented as inline elements of zero width and height.
			Their containing blocks are chosen accordingly.</p>
   <p>The following steps are performed in three stages:</p>
   <ol>
    <li>
     <b>Remove irrelevant boxes:</b><br> The following boxes are discarded as if they were <code>display:none</code>: 
     <ol>
      <li>Children of a <a data-link-type="dfn" href="#table-column" id="ref-for-table-column②">table-column</a>. 
      <li>Children of a <a data-link-type="dfn" href="#table-column-group" id="ref-for-table-column-group①">table-column-group</a> which are not a <a data-link-type="dfn" href="#table-column" id="ref-for-table-column③">table-column</a>. 
      <li>Anonymous inline boxes which contain only white space and
							are between two immediate siblings each of which is a <a data-link-type="dfn" href="#table-non-root-element" id="ref-for-table-non-root-element">table-non-root</a> box. 
      <li>
       Anonymous inline boxes which meet all of the following criteria: 
       <ul>
        <li>they contain only white space 
        <li>they are the first and/or last child of a <a data-link-type="dfn" href="#tabular-container" id="ref-for-tabular-container">tabular container</a> 
        <li>whose immediate sibling, if any, is a <a data-link-type="dfn" href="#table-non-root-element" id="ref-for-table-non-root-element①">table-non-root</a> box 
       </ul>
     </ol>
    <li>
     <b>Generate missing child wrappers:</b> 
     <ol>
      <li>An anonymous <a data-link-type="dfn" href="#table-row" id="ref-for-table-row⑤">table-row</a> box must be generated
							around each sequence of consecutive children of a <a data-link-type="dfn" href="#table-root-element" id="ref-for-table-root-element③">table-root</a> box
							which are not <a data-link-type="dfn" href="#proper-table-child-element" id="ref-for-proper-table-child-element①">proper table child</a> boxes. <a class="hint" href="https://jsfiddle.net/hj2w7wwa/2/">!!Testcase</a> 
      <li>An anonymous <a data-link-type="dfn" href="#table-row" id="ref-for-table-row⑥">table-row</a> box must be generated
							around each sequence of consecutive children of a <a data-link-type="dfn" href="#table-row-group" id="ref-for-table-row-group⑤">table-row-group</a> box
							which are not <span id="ref-for-table-row⑦">table-row</span> boxes. <a class="hint" href="https://jsfiddle.net/hj2w7wwa/3/">!Testcase</a> 
      <li>An anonymous <a data-link-type="dfn" href="#table-cell" id="ref-for-table-cell⑤">table-cell</a> box must be generated
							around each sequence of consecutive children of a <a data-link-type="dfn" href="#table-row" id="ref-for-table-row⑧">table-row</a> box
							which are not <span id="ref-for-table-cell⑥">table-cell</span> boxes. <a class="hint" href="https://jsfiddle.net/hj2w7wwa/4/">!Testcase</a> 
     </ol>
    <li>
     <b>Generate missing parents:</b> 
     <ol>
      <li>An anonymous <a data-link-type="dfn" href="#table-row" id="ref-for-table-row⑨">table-row</a> box must be generated
							around each sequence of consecutive <a data-link-type="dfn" href="#table-cell" id="ref-for-table-cell⑦">table-cell</a> boxes
							whose parent is not a <span id="ref-for-table-row①⓪">table-row</span>. <a class="hint" href="https://jsfiddle.net/hj2w7wwa/5/">Testcase</a> 
      <li>
       An anonymous <a data-link-type="dfn" href="#table" id="ref-for-table②">table</a> or <a data-link-type="dfn" href="#inline-table" id="ref-for-inline-table①">inline-table</a> box must be generated
							around each sequence of consecutive <a data-link-type="dfn" href="#proper-table-child-element" id="ref-for-proper-table-child-element②">proper table child</a> boxes
							which are misparented.
							If the box’s parent is an inline, run-in, or ruby box (or any box that would perform inlinification of its children),
								then an <span id="ref-for-inline-table②">inline-table</span> box must be generated;
								otherwise it must be a <span id="ref-for-table③">table</span> box. 
       <ul>
        <li>A <a data-link-type="dfn" href="#table-row" id="ref-for-table-row①①">table-row</a> is misparented
									if its parent is neither a <a data-link-type="dfn" href="#table-row-group" id="ref-for-table-row-group⑥">table-row-group</a> nor a <a data-link-type="dfn" href="#table-root-element" id="ref-for-table-root-element④">table-root</a> box. 
        <li>A <a data-link-type="dfn" href="#table-column" id="ref-for-table-column④">table-column</a> box is misparented
									if its parent is neither a <a data-link-type="dfn" href="#table-column-group" id="ref-for-table-column-group②">table-column-group</a> box nor a <a data-link-type="dfn" href="#table-root-element" id="ref-for-table-root-element⑤">table-root</a> box. 
        <li>A <a data-link-type="dfn" href="#table-row-group" id="ref-for-table-row-group⑦">table-row-group</a>, <a data-link-type="dfn" href="#table-column-group" id="ref-for-table-column-group③">table-column-group</a>, or <a data-link-type="dfn" href="#table-caption" id="ref-for-table-caption②">table-caption</a> box is misparented
									if its parent is not a <a data-link-type="dfn" href="#table-root-element" id="ref-for-table-root-element⑥">table-root</a> box. 
       </ul>
        <a class="hint" href="https://jsfiddle.net/hj2w7wwa/7/">Testcase</a> <a class="hint" href="https://jsfiddle.net/hj2w7wwa/8/">Testcase</a> <a class="hint" href="https://jsfiddle.net/hj2w7wwa/9/">!Testcase</a> 
      <li>An anonymous <a data-link-type="dfn" href="#table-wrapper-box" id="ref-for-table-wrapper-box">table-wrapper</a> box must be generated around each <a data-link-type="dfn" href="#table-root-element" id="ref-for-table-root-element⑦">table-root</a>.
							Its display type is <code>inline-block</code> for <a data-link-type="dfn" href="#inline-table" id="ref-for-inline-table③">inline-table</a> boxes and block for <a data-link-type="dfn" href="#table" id="ref-for-table④">table</a> boxes.
							The table wrapper box establishes a block formatting context.
							The table-root box (not the table-wrapper box) is used when doing baseline vertical alignment for an <span id="ref-for-inline-table④">inline-table</span>.
							The width of the table-wrapper box is the border-edge width of the table grid box inside it.
							Percentages which would depend on the <a class="property css" data-link-type="property" href="https://drafts.csswg.org/css-sizing-3/#propdef-width" id="ref-for-propdef-width">width</a> and <a class="property css" data-link-type="property" href="https://drafts.csswg.org/css-sizing-3/#propdef-height" id="ref-for-propdef-height">height</a> on the table-wrapper box’s size are relative to the table-wrapper box’s containing block instead, not the table-wrapper box itself. 
     </ol>
   </ol>
   <div class="note" role="note"> Please note that some layout modes such as flexbox and grid <a href="http://www.w3.org/TR/css-display-3/#blockify">override the display type</a> of their children.
				These transformations happen before the table fixup. </div>
   <div class="note" role="note"> Please note that the <a class="property css" data-link-type="property" href="https://drafts.csswg.org/css2/#propdef-float" id="ref-for-propdef-float">float</a> and <a class="property css" data-link-type="property" href="https://drafts.csswg.org/css-position-3/#propdef-position" id="ref-for-propdef-position">position</a> properties sometimes <a href="http://www.w3.org/TR/CSS22/visuren.html#dis-pos-flo">affect the computed value</a> of <a class="property css" data-link-type="property" href="https://drafts.csswg.org/css-display-4/#propdef-display" id="ref-for-propdef-display③">display</a>.
				When those properties are used on what should have been table internal boxes, they switch to <code>block</code> instead.
				This transformation happen before the table fixup. </div>
   <div class="note" role="note"> We have modified the text of this section from CSS 2.2 to make it easier to read.
				If you find any mistakes due to these changes please file an issue </div>
   <h4 class="heading settled" data-level="2.2.2" id="fixup-boxes"><span class="secno">2.2.2. </span><span class="content">Characteristics of fixup boxes</span><a class="self-link" href="#fixup-boxes"></a></h4>
   <p>Beside their display type, the anonymous boxes created for fixup purposes
				do not receive any specific or default styling,
				except where otherwise mentioned by this specification.</p>
   <div class="note" role="note">
    <p>This means in particular that
					their computed background is “transparent”,
					their computed padding is “0px”,
					their computed border-style is “none”.</p>
    <p>It is also worth reminding that an <a data-link-type="dfn" href="https://drafts.csswg.org/css-display-4/#anonymous" id="ref-for-anonymous">anonymous box</a> inherits property values through the box tree.</p>
   </div>
   <h4 class="heading settled" data-level="2.2.3" id="fixup-examples"><span class="secno">2.2.3. </span><span class="content">Examples</span><a class="self-link" href="#fixup-examples"></a></h4>
   <div class="example" id="example-6896a3aa">
    <a class="self-link" href="#example-6896a3aa"></a> 
<pre class="lang-markup highlight"><c- p>&lt;</c-><c- f>div</c-> <c- e>class</c-><c- o>=</c-><c- s>"row"</c-><c- p>></c->
  <c- p>&lt;</c-><c- f>div</c-> <c- e>class</c-><c- o>=</c-><c- s>"cell"</c-><c- p>></c->George<c- p>&lt;/</c-><c- f>div</c-><c- p>></c->
  <c- p>&lt;</c-><c- f>div</c-> <c- e>class</c-><c- o>=</c-><c- s>"cell"</c-><c- p>></c->4287<c- p>&lt;/</c-><c- f>div</c-><c- p>></c->
  <c- p>&lt;</c-><c- f>div</c-> <c- e>class</c-><c- o>=</c-><c- s>"cell"</c-><c- p>></c->1998<c- p>&lt;/</c-><c- f>div</c-><c- p>></c->
<c- p>&lt;/</c-><c- f>div</c-><c- p>></c->
</pre>
    <p>Here is the associated styles:</p>
<pre class="lang-css highlight">.row <c- p>{</c-> <c- k>display</c-><c- p>:</c-> table-row <c- p>}</c->
.cell <c- p>{</c-> <c- k>display</c-><c- p>:</c-> table-cell <c- p>}</c->
</pre>
    <p>After fixup, this will produce layout boxes as though this was the initial HTML:</p>
<pre class="lang-markup highlight"><c- p>&lt;</c-><c- f>table</c-><c- p>></c->
  <c- p>&lt;</c-><c- f>tr</c-><c- p>></c->
    <c- p>&lt;</c-><c- f>td</c-><c- p>></c->George<c- p>&lt;/</c-><c- f>td</c-><c- p>></c->
    <c- p>&lt;</c-><c- f>td</c-><c- p>></c->4287<c- p>&lt;/</c-><c- f>td</c-><c- p>></c->
    <c- p>&lt;</c-><c- f>td</c-><c- p>></c->1998<c- p>&lt;/</c-><c- f>td</c-><c- p>></c->
  <c- p>&lt;/</c-><c- f>tr</c-><c- p>></c->
<c- p>&lt;/</c-><c- f>table</c-><c- p>></c->
</pre>
   </div>
   <div class="example" id="example-62453c98">
    <a class="self-link" href="#example-62453c98"></a> 
    <p>In this example, three <a data-link-type="dfn" href="#table-cell" id="ref-for-table-cell⑧">table-cell</a> anonymous boxes are assumed to contain the text in the rows. The text inside
				of the divs with a <code>display: table-row</code> are encapsulated in anonymous inline boxes, as explained in <a href="https://www.w3.org/TR/CSS21/visuren.html#anonymous" target="_blank">visual formatting model</a>:</p>
<pre class="lang-markup highlight"><c- p>&lt;</c-><c- f>div</c-> <c- e>class</c-><c- o>=</c-><c- s>"inline-table"</c-><c- p>></c->
  <c- p>&lt;</c-><c- f>div</c-> <c- e>class</c-><c- o>=</c-><c- s>"row"</c-><c- p>></c->This is the top row.<c- p>&lt;/</c-><c- f>div</c-><c- p>></c->
  <c- p>&lt;</c-><c- f>div</c-> <c- e>class</c-><c- o>=</c-><c- s>"row"</c-><c- p>></c->This is the middle row.<c- p>&lt;/</c-><c- f>div</c-><c- p>></c->
  <c- p>&lt;</c-><c- f>div</c-> <c- e>class</c-><c- o>=</c-><c- s>"row"</c-><c- p>></c->This is the bottom row.<c- p>&lt;/</c-><c- f>div</c-><c- p>></c->
<c- p>&lt;/</c-><c- f>div</c-><c- p>></c->
</pre>
<pre class="lang-css highlight">.inline-table <c- p>{</c-> <c- k>display</c-><c- p>:</c-> inline-table<c- p>;</c-> <c- p>}</c->
.row <c- p>{</c-> <c- k>display</c-><c- p>:</c-> table-row<c- p>;</c-> <c- p>}</c->
</pre>
    <p>This will produce layout boxes as though this was the initial HTML:</p>
<pre class="lang-markup highlight"><c- p>&lt;</c-><c- f>table</c-><c- p>></c->
  <c- p>&lt;</c-><c- f>tr</c-><c- p>></c->
    <c- p>&lt;</c-><c- f>td</c-><c- p>></c->This is the top row.<c- p>&lt;/</c-><c- f>td</c-><c- p>></c->
  <c- p>&lt;/</c-><c- f>tr</c-><c- p>></c->
  <c- p>&lt;</c-><c- f>tr</c-><c- p>></c->
    <c- p>&lt;</c-><c- f>td</c-><c- p>></c->This is the middle row.<c- p>&lt;/</c-><c- f>td</c-><c- p>></c->
  <c- p>&lt;/</c-><c- f>tr</c-><c- p>></c->
  <c- p>&lt;</c-><c- f>tr</c-><c- p>></c->
    <c- p>&lt;</c-><c- f>td</c-><c- p>></c->This is the bottom row.<c- p>&lt;/</c-><c- f>td</c-><c- p>></c->
  <c- p>&lt;/</c-><c- f>tr</c-><c- p>></c->
<c- p>&lt;/</c-><c- f>table</c-><c- p>></c->
</pre>
   </div>
   <h2 class="heading settled" data-level="3" id="layout"><span class="secno">3. </span><span class="content">Layout</span><a class="self-link" href="#layout"></a></h2>
   <h3 class="heading settled" data-level="3.1" id="layout-principles"><span class="secno">3.1. </span><span class="content">Core layout principles</span><a class="self-link" href="#layout-principles"></a></h3>
   <p>Unlike other block-level boxes, tables do not fill their containing block by default.
		When their <a class="property css" data-link-type="property" href="https://drafts.csswg.org/css-sizing-3/#propdef-width" id="ref-for-propdef-width①">width</a> computes to <code>auto</code>, they behave as if they had <code>fit-content</code> specified instead.
		This is different from most block-level boxes, which behave as if they had <code>stretch</code> instead.</p>
   <p>The <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="min-content-width-of-a-table">min-content width of a table</dfn> is
			the width required to fit all of its columns min-content widths and its undistributable spaces.</p>
   <p>The <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="max-content-width-of-a-table">max-content width of a table</dfn> is
			the width required to fit all of its columns max-content widths and its undistributable spaces.</p>
   <p>If the width assigned to a table is larger than its <a href="#min-content-width-of-a-table" id="ref-for-min-content-width-of-a-table">min-content width</a>,
			the <a href="#width-distribution">Available Width Distribution</a> algorithm
			will adjust column widths in consequence.</p>
   <p>This section overrides the general-purpose rules that apply to calculating widths described in other specifications.
		In particular, if the margins of a table are set to <code>0</code> and the width to <code>auto</code>,
			the table will not automatically size to fill its containing block.
		However, once the used value of <code>width</code> for the table is found (using the algorithms given below)
			then the other parts of those rules do apply.
		Therefore, a table can be centered using left and right <code>auto</code> margins, for instance.</p>
   <h3 class="heading settled" data-level="3.2" id="table-layout-algorithm"><span class="secno">3.2. </span><span class="content">Table layout algorithm</span><a class="self-link" href="#table-layout-algorithm"></a></h3>
   <p>To layout a table, user agents must apply the following actions:</p>
   <ol>
    <li><b>Determine the number of rows/columns the table requires.</b><br> This is done by executing the steps described in <a href="#dimensioning-the-row-column-grid">§ 3.3 Dimensioning the row/column grid</a>. 
    <li>
     <b>[A] If the row/column grid has at least one <a data-link-type="dfn" href="#slot" id="ref-for-slot①">slot</a>:</b> 
     <ol>
      <li><b>Ensure each cell <a data-link-type="dfn" href="#slot" id="ref-for-slot②">slot</a> is occupied by at least one cell.</b><br> This is done by executing the steps described in <a href="#missing-cells-fixup">§ 3.4 Missing cells fixup</a>. 
      <li><b>Compute the minimum width of each column.</b><br> This is done by executing the steps described in <a href="#content-measure">§ 3.8 Computing table measures</a>. 
      <li><b>Compute the width of the table.</b><br> This is done by executing the steps described in <a href="#computing-the-table-width">§ 3.9.1 Computing the table width</a>. 
      <li><b>Distribute the width of the table among columns.</b><br> This is done by executing the steps described in <a href="#width-distribution-algorithm">§ 3.9.3 Distribution algorithm</a>. 
      <li><b>Compute the height of the table.</b><br> This is done by executing the steps described in <a href="#computing-the-table-height">§ 3.10.1 Computing the table height</a>. 
      <li><b>Distribute the height of the table among rows.</b><br> This is done by executing the steps described in <a href="#height-distribution-algorithm">§ 3.10.5 Distribution algorithm</a>. 
     </ol>
     <p><b>[B] Else, an <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="empty-table">empty table</dfn> is laid out:</b></p>
     <ol>
      <li><b>Compute the width of the table.</b><br> This is done by returning the largest value of <a href="#capmin" id="ref-for-capmin">CAPMIN</a> and the computed width of the table grid box (including borders and paddings)
								if it is definite (use zero otherwise). 
      <li><b>Compute the height of the table.</b><br> This is done by returning the sum of all table-caption heights
								(their width being set to the table width,
								with margins taken into consideration appropriately)
							and the computed height of the table grid box (including borders and paddings)
								if it is definite (use zero otherwise). 
     </ol>
    <li><b>Assign to each table-caption and table-cell their position and size.</b><br> This is done by running the steps of <a href="#bounding-box-assignment">§ 3.11 Positioning of cells, captions and other internal table boxes</a>. 
   </ol>
   <figure>
    <p class="note" role="note"> The following schema describes the algorithm in a different way,
					to make it easier to understand. </p>
     <img alt="[see-caption-below]" src="images/CSS-Tables-Layout-Merged.svg" style="width: 100%"> 
    <figcaption>Overview of the table layout algorithm. Not normative.</figcaption>
   </figure>
   <h3 class="heading settled" data-level="3.3" id="dimensioning-the-row-column-grid"><span class="secno">3.3. </span><span class="content">Dimensioning the row/column grid</span><a class="self-link" href="#dimensioning-the-row-column-grid"></a></h3>
   <p>Like mentioned in the <a href="#table-structure">Table structure</a> section,
			how many rows and columns a table has
			can be determined from the table structure.
		Both dimensioning the row/column <a data-link-type="dfn" href="https://drafts.csswg.org/css-grid-2/#grid" id="ref-for-grid">grid</a> and assigning table-cells their <span style=";white-space:nowrap"><a data-link-type="dfn" href="#slot" id="ref-for-slot③">slot</a>(s)</span> in that grid
			do require running the HTML Algorithms for tables.</p>
   <h4 class="heading settled" data-level="3.3.1" id="dimensioning-the-row-column-grid--step1"><span class="secno">3.3.1. </span><span class="content">HTML Algorithm</span><a class="self-link" href="#dimensioning-the-row-column-grid--step1"></a></h4>
   <p class="note" role="note"> CSS Boxes that do not originate from an HTML table element equivalent to their display type
				need to be converted to their HTML equivalent before we can apply this algorithm, see below.
			There is no way to specify the <a data-link-type="dfn" href="#span" id="ref-for-span">span</a> of a cell in css only in this level of the spec,
				the use of an HTML td element is required to do so. </p>
   <p>Apply the <a href="https://www.w3.org/TR/html5/tabular-data.html#forming-a-table">HTML5 Table Formatting algorithm</a>,
			where boxes act like <a href="#display-types">the HTML element equivalent to their display type</a>,
			and use the attributes of their originating element if and only if it is an HTML element of the same type
			(otherwise, they act like if they didn’t have any attribute).</p>
   <div class="example" id="example-f35b62a4">
    <a class="self-link" href="#example-f35b62a4"></a> 
<pre class="lang-markup highlight"><c- p>&lt;</c-><c- f>ul</c-> <c- e>class</c-><c- o>=</c-><c- s>"table"</c-><c- p>></c->
  <c- p>&lt;</c-><c- f>li</c-><c- p>>&lt;</c-><c- f>b</c-><c- p>></c->One<c- p>&lt;/</c-><c- f>b</c-><c- p>>&lt;</c-><c- f>i</c-><c- p>></c->1<c- p>&lt;/</c-><c- f>i</c-><c- p>>&lt;/</c-><c- f>li</c-><c- p>></c->
  <c- p>&lt;</c-><c- f>li</c-><c- p>>&lt;</c-><c- f>b</c-><c- p>></c->Two<c- p>&lt;/</c-><c- f>b</c-><c- p>>&lt;</c-><c- f>i</c-><c- p>></c->2<c- p>&lt;/</c-><c- f>i</c-><c- p>>&lt;/</c-><c- f>li</c-><c- p>></c->
  <c- p>&lt;</c-><c- f>li</c-><c- p>>&lt;</c-><c- f>b</c-><c- p>></c->Three<c- p>&lt;/</c-><c- f>b</c-><c- p>>&lt;</c-><c- f>i</c-><c- p>></c->3<c- p>&lt;/</c-><c- f>i</c-><c- p>>&lt;/</c-><c- f>li</c-><c- p>></c->
<c- p>&lt;/</c-><c- f>ul</c-><c- p>></c->
<c- p>&lt;</c-><c- f>style</c-><c- p>></c->
  <c- f>ul</c-><c- p>.</c-><c- nc>table</c-> <c- p>{</c-> <c- k>display</c-><c- p>:</c-> <c- kc>table</c-><c- p>;</c-> <c- p>}</c->
  <c- f>ul</c-><c- p>.</c-><c- nc>table</c-> <c- o>></c-> <c- f>li</c-> <c- p>{</c-> <c- k>display</c-><c- p>:</c-> <c- kc>table-row</c-><c- p>;</c-> <c- p>}</c->
  <c- f>ul</c-><c- p>.</c-><c- nc>table</c-> <c- o>></c-> <c- f>li</c-> <c- o>></c-> <c- o>*</c-> <c- p>{</c-> <c- k>display</c-><c- p>:</c-> <c- kc>table-cell</c-><c- p>;</c-> <c- p>}</c->
<c- p>&lt;/</c-><c- f>style</c-><c- p>></c->
</pre>
    <p>produces the same row/column grid as</p>
<pre class="lang-markup highlight"><c- p>&lt;</c-><c- f>table</c-><c- p>>&lt;</c-><c- f>tbody</c-><c- p>></c->
  <c- p>&lt;</c-><c- f>tr</c-><c- p>></c->
    <c- p>&lt;</c-><c- f>td</c-><c- p>>&lt;/</c-><c- f>td</c-><c- p>></c->
    <c- p>&lt;</c-><c- f>td</c-><c- p>>&lt;/</c-><c- f>td</c-><c- p>></c->
  <c- p>&lt;/</c-><c- f>tr</c-><c- p>></c->
  <c- p>&lt;</c-><c- f>tr</c-><c- p>></c->
    <c- p>&lt;</c-><c- f>td</c-><c- p>>&lt;/</c-><c- f>td</c-><c- p>></c->
    <c- p>&lt;</c-><c- f>td</c-><c- p>>&lt;/</c-><c- f>td</c-><c- p>></c->
  <c- p>&lt;/</c-><c- f>tr</c-><c- p>></c->
  <c- p>&lt;</c-><c- f>tr</c-><c- p>></c->
    <c- p>&lt;</c-><c- f>td</c-><c- p>>&lt;/</c-><c- f>td</c-><c- p>></c->
    <c- p>&lt;</c-><c- f>td</c-><c- p>>&lt;/</c-><c- f>td</c-><c- p>></c->
  <c- p>&lt;/</c-><c- f>tr</c-><c- p>></c->
<c- p>&lt;/</c-><c- f>tbody</c-><c- p>>&lt;/</c-><c- f>table</c-><c- p>></c->
</pre>
   </div>
   <div class="example" id="example-e71aef50">
    <a class="self-link" href="#example-e71aef50"></a> 
<pre class="lang-markup highlight" style="margin-bottom:0;padding-bottom:0;"><c- d>&lt;!-- built using dom api, as this would be fixed by the html parser --></c->
</pre>
<pre class="lang-markup highlight" style="margin-top:0;padding-top:0;"><c- p>&lt;</c-><c- f>grid</c-> <c- e>style</c-><c- o>=</c-><c- s>"display: table"</c-><c- p>></c->
  <c- p>&lt;</c-><c- f>row</c-> <c- e>style</c-><c- o>=</c-><c- s>"display: table-row"</c-><c- p>></c->
    <c- p>&lt;</c-><c- f>th</c-> <c- e>rowspan</c-><c- o>=</c-><c- s>"2"</c-><c- p>></c->1<c- p>&lt;/</c-><c- f>th</c-><c- p>></c->
    <c- p>&lt;</c-><c- f>colgroup</c-> <c- e>style</c-><c- o>=</c-><c- s>"display: table-cell"</c-> <c- e>span</c-><c- o>=</c-><c- s>"2"</c-> <c- e>colspan</c-><c- o>=</c-><c- s>"2"</c-><c- p>></c->2<c- p>&lt;/</c-><c- f>colgroup</c-><c- p>></c->
  <c- p>&lt;/</c-><c- f>row</c-><c- p>></c->
  <c- p>&lt;</c-><c- f>tr</c-><c- p>></c->
    <c- p>&lt;</c-><c- f>td</c-><c- p>></c->A<c- p>&lt;/</c-><c- f>td</c-><c- p>></c->
    <c- p>&lt;</c-><c- f>td</c-><c- p>></c->B<c- p>&lt;/</c-><c- f>td</c-><c- p>></c->
    <c- p>&lt;</c-><c- f>td</c-><c- p>></c->C<c- p>&lt;/</c-><c- f>td</c-><c- p>></c->
  <c- p>&lt;/</c-><c- f>tr</c-><c- p>></c->
<c- p>&lt;/</c-><c- f>grid</c-><c- p>></c->
</pre>
    <p>produces the same row/column grid as</p>
<pre class="lang-markup highlight"><c- p>&lt;</c-><c- f>table</c-><c- p>></c->
  <c- p>&lt;</c-><c- f>tr</c-><c- p>></c->
    <c- p>&lt;</c-><c- f>th</c-> <c- e>rowspan</c-><c- o>=</c-><c- s>"2"</c-><c- p>></c->1<c- p>&lt;/</c-><c- f>th</c-><c- p>></c->
    <c- p>&lt;</c-><c- f>td</c-><c- p>></c->2<c- p>&lt;/</c-><c- f>td</c-><c- p>></c->
  <c- p>&lt;/</c-><c- f>tr</c-><c- p>></c->
  <c- p>&lt;</c-><c- f>tr</c-><c- p>></c->
    <c- p>&lt;</c-><c- f>td</c-><c- p>></c->A<c- p>&lt;/</c-><c- f>td</c-><c- p>></c->
    <c- p>&lt;</c-><c- f>td</c-><c- p>></c->B<c- p>&lt;/</c-><c- f>td</c-><c- p>></c->
    <c- p>&lt;</c-><c- f>td</c-><c- p>></c->C<c- p>&lt;/</c-><c- f>td</c-><c- p>></c->
  <c- p>&lt;/</c-><c- f>tr</c-><c- p>></c->
<c- p>&lt;/</c-><c- f>table</c-><c- p>></c->
</pre>
    <p>Note how the second cell of the first row doesn’t have ```colspan=2``` applied, because its originating element is not an HTML TD element.</p>
    <p><a class="hint" href="https://jsfiddle.net/eqrwaLyc/">Testcase</a>. <a class="hint" href="https://jsfiddle.net/eqrwaLyc/1/">!!Testcase</a>. <a class="hint" href="https://jsfiddle.net/sckxeLmh/2/">!Test case</a>. <a class="hint" href="https://jsfiddle.net/sckxeLmh/4/">!!Test case</a>. <a class="hint" href="https://jsfiddle.net/sckxeLmh/5/">!!Test case</a>.</p>
   </div>
   <h4 class="heading settled" data-level="3.3.2" id="dimensioning-the-row-column-grid--step2"><span class="secno">3.3.2. </span><span class="content">Track merging</span><a class="self-link" href="#dimensioning-the-row-column-grid--step2"></a></h4>
   <p class="note" role="note"> The HTML Table Formatting algorithm sometimes generates more tracks than necessary to layout the table properly.
			Those tracks have historically been ignored by user agents,
			so the next step just gets rid of them entirely to avoid dealing with them as exceptions later in the spec.
			We have tried to maintain the functionality with this change, but if you happen to find any issues
			due to this change please file an issue. </p>
   <p>Modify iteratively the obtained grid by merging consecutive tracks as follows:
		As long as there exists an <a data-link-type="dfn" href="#eligible-track" id="ref-for-eligible-track">eligible track</a> in the obtained row/column grid such that
			there is no table-column/table-row box defining the said track explicitly, and
			both the said track and the previous one are spanned by the exact same set of cells,
			those two tracks must be merged into one single track for the purpose of computing the layout of the table.
		Reduce the <a data-link-type="dfn" href="#span" id="ref-for-span①">span</a> of the cells that spanned the deleted track by one to compensate,
			and shift similarly the tracks from which cells <a data-link-type="dfn" href="#originate" id="ref-for-originate">originate</a> when needed. <span class="hint">(see <a href="#spanning-ghost-rows">spanning-ghost-rows test cases</a>)</span></p>
   <p>For tables <a data-link-type="dfn" href="#in-auto-mode" id="ref-for-in-auto-mode">in auto mode</a>, every track is an <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="eligible-track">eligible track</dfn> for the purpose of the track-merging algorithm.
		For tables <a data-link-type="dfn" href="#in-fixed-mode" id="ref-for-in-fixed-mode">in fixed mode</a>, only rows are eligible to be merged that way; which means that every column is preserved.</p>
   <p>Finally, assign to the <a data-link-type="dfn" href="#table-root-element" id="ref-for-table-root-element⑧">table-root</a> grid its correct number of rows and columns (from its mapped element),
			and to each <a data-link-type="dfn" href="#table-cell" id="ref-for-table-cell⑨">table-cell</a> its accurate <a href="#slot" id="ref-for-slot④">rowStart/colStart/rowSpan/colSpan</a> (from its mapped element).</p>
   <h3 class="heading settled" data-level="3.4" id="missing-cells-fixup"><span class="secno">3.4. </span><span class="content">Missing cells fixup</span><a class="self-link" href="#missing-cells-fixup"></a></h3>
   <p class="note" role="note"> The following section clarifies and extends the CSS 2.1 statement saying that
				missing cells are rendered as if an anonymous table-cell box occupied their position in the grid
				(a "missing cell" is a slot in the row/column grid that is not covered yet by any table-cell box). </p>
   <p>Once the amount of columns in a table is known, any table-row box must be modified such that
			it owns enough cells to fill all the columns of the table, when taking <a data-link-type="dfn" href="#span" id="ref-for-span②">spans</a> into account.
		New table-cell <a href="#fixup-boxes">anonymous boxes</a> must be appended to its rows content until this condition is met.</p>
   <h3 class="heading settled" data-level="3.5" id="layout-modes"><span class="secno">3.5. </span><span class="content">Table layout modes</span><a class="self-link" href="#layout-modes"></a></h3>
   <p>This section covers the flags which modify the way tables are being laid out.
		There are three major flags for table layout: <a class="property css" data-link-type="property" href="#propdef-table-layout" id="ref-for-propdef-table-layout">table-layout</a>, <a class="property css" data-link-type="property" href="#propdef-border-collapse" id="ref-for-propdef-border-collapse">border-collapse</a>, and <a class="property css" data-link-type="property" href="#propdef-caption-side" id="ref-for-propdef-caption-side">caption-side</a>.
		The <span class="property" id="ref-for-propdef-border-collapse①">border-collapse</span> flag has an optional <a class="property css" data-link-type="property" href="#propdef-border-spacing" id="ref-for-propdef-border-spacing">border-spacing</a> parameter.</p>
   <h4 class="heading settled" data-level="3.5.1" id="table-layout-property"><span class="secno">3.5.1. </span><span class="content">The Table-Layout property</span><a class="self-link" href="#table-layout-property"></a></h4>
   <table class="def propdef" data-link-for-hint="table-layout">
    <tbody>
     <tr>
      <th>Name:
      <td><dfn class="dfn-paneled css" data-dfn-type="property" data-export id="propdef-table-layout">table-layout</dfn>
     <tr class="value">
      <th><a href="https://www.w3.org/TR/css-values/#value-defs">Value:</a>
      <td class="prod">auto <a data-link-type="grammar" href="https://drafts.csswg.org/css-values-4/#comb-one" id="ref-for-comb-one">|</a> fixed 
     <tr>
      <th><a href="https://www.w3.org/TR/css-cascade/#initial-values">Initial:</a>
      <td>auto 
     <tr>
      <th><a href="https://www.w3.org/TR/css-cascade/#applies-to">Applies to:</a>
      <td><a data-link-type="dfn" href="#table-grid-box" id="ref-for-table-grid-box">table grid boxes</a> 
     <tr>
      <th><a href="https://www.w3.org/TR/css-cascade/#inherited-property">Inherited:</a>
      <td>no 
     <tr>
      <th><a href="https://www.w3.org/TR/css-values/#percentages">Percentages:</a>
      <td>n/a 
     <tr>
      <th><a href="https://www.w3.org/TR/css-cascade/#computed">Computed value:</a>
      <td>specified keyword 
     <tr>
      <th><a href="https://www.w3.org/TR/cssom/#serializing-css-values">Canonical order:</a>
      <td>per grammar 
     <tr>
      <th><a href="https://www.w3.org/TR/web-animations/#animation-type">Animation type:</a>
      <td>discrete 
   </table>
   <p>A table-root is said to be laid out <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="in-fixed-mode">in fixed mode</dfn> whenever the computed value of the <a class="property css" data-link-type="property" href="#propdef-table-layout" id="ref-for-propdef-table-layout①">table-layout</a> property is equal to <code>fixed</code>,
				and the specified width of the table root is either
					a <code>&lt;length-percentage></code>, <code>min-content</code> or <code>fit-content</code>.
			When the specified width is not one of those values,
				or if the computed value of the <span class="property" id="ref-for-propdef-table-layout②">table-layout</span> property is <code>auto</code>,
				then the table-root is said to be laid out <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="in-auto-mode">in auto mode</dfn>.</p>
   <p>When a table-root is laid out <a data-link-type="dfn" href="#in-fixed-mode" id="ref-for-in-fixed-mode①">in fixed mode</a>,
			the content of its table-cells is ignored for the purpose of width computation,
			the aggregation algorithm for column sizing considers only table-cells belonging to the first row track,
			such that layout only depends on the values explicitly specified for the table-columns or cells of the first row of the table;
			columns with indefinite widths are attributed their fair share of the remaining space
			after the columns with a definite width have been considered, or 0px if there is no remaining space
			(see <a href="#computing-column-measures">§ 3.8.3 Computing Column Measures</a>).</p>
   <h4 class="heading settled" data-level="3.5.2" id="border-collapse-property"><span class="secno">3.5.2. </span><span class="content">The Border-Collapse property</span><a class="self-link" href="#border-collapse-property"></a></h4>
   <table class="def propdef" data-link-for-hint="border-collapse">
    <tbody>
     <tr>
      <th>Name:
      <td><dfn class="dfn-paneled css" data-dfn-type="property" data-export id="propdef-border-collapse">border-collapse</dfn>
     <tr class="value">
      <th><a href="https://www.w3.org/TR/css-values/#value-defs">Value:</a>
      <td class="prod">separate <a data-link-type="grammar" href="https://drafts.csswg.org/css-values-4/#comb-one" id="ref-for-comb-one①">|</a> collapse 
     <tr>
      <th><a href="https://www.w3.org/TR/css-cascade/#initial-values">Initial:</a>
      <td>separate 
     <tr>
      <th><a href="https://www.w3.org/TR/css-cascade/#applies-to">Applies to:</a>
      <td><a data-link-type="dfn" href="#table-grid-box" id="ref-for-table-grid-box①">table grid boxes</a> 
     <tr>
      <th><a href="https://www.w3.org/TR/css-cascade/#inherited-property">Inherited:</a>
      <td>yes 
     <tr>
      <th><a href="https://www.w3.org/TR/css-values/#percentages">Percentages:</a>
      <td>n/a 
     <tr>
      <th><a href="https://www.w3.org/TR/css-cascade/#computed">Computed value:</a>
      <td>specified keyword 
     <tr>
      <th><a href="https://www.w3.org/TR/cssom/#serializing-css-values">Canonical order:</a>
      <td>per grammar 
     <tr>
      <th><a href="https://www.w3.org/TR/web-animations/#animation-type">Animation type:</a>
      <td>discrete 
   </table>
   <p>When the <a class="property css" data-link-type="property" href="#propdef-border-collapse" id="ref-for-propdef-border-collapse②">border-collapse</a> property has <code>collapse</code> as its value,
			the borders of adjacent cells are merged together such that each cell draws only half of the shared border.
			As a result, some other properties like <a class="property css" data-link-type="property" href="#propdef-border-spacing" id="ref-for-propdef-border-spacing①">border-spacing</a> will not applied in this case (see <a href="#collapsed-style-overrides">§ 3.6.2 Overrides applying in collapsed-borders mode</a>),
			(see <a href="#border-collapsing">§ 3.7 Border-collapsing</a>).</p>
   <p>A <a data-link-type="dfn" href="#table-root-element" id="ref-for-table-root-element⑨">table-root</a> is said to be laid out <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="in-collapsed-borders-mode">in collapsed-borders mode</dfn> in this case.
			Otherwise, the <span id="ref-for-table-root-element①⓪">table-root</span> is said to be laid out <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="in-separated-borders-mode">in separated-borders mode</dfn>.</p>
   <h5 class="heading settled" data-level="3.5.2.1" id="border-spacing-property"><span class="secno">3.5.2.1. </span><span class="content">The Border-Spacing property</span><a class="self-link" href="#border-spacing-property"></a></h5>
   <table class="def propdef" data-link-for-hint="border-spacing">
    <tbody>
     <tr>
      <th>Name:
      <td><dfn class="dfn-paneled css" data-dfn-type="property" data-export id="propdef-border-spacing">border-spacing</dfn>
     <tr class="value">
      <th><a href="https://www.w3.org/TR/css-values/#value-defs">Value:</a>
      <td class="prod"><a class="production css" data-link-type="type" href="https://drafts.csswg.org/css-values-4/#length-value" id="ref-for-length-value">&lt;length></a><a data-link-type="grammar" href="https://drafts.csswg.org/css-values-4/#mult-num-range" id="ref-for-mult-num-range">{1,2}</a> 
     <tr>
      <th><a href="https://www.w3.org/TR/css-cascade/#initial-values">Initial:</a>
      <td>0px 0px 
     <tr>
      <th><a href="https://www.w3.org/TR/css-cascade/#applies-to">Applies to:</a>
      <td><a data-link-type="dfn" href="#table-grid-box" id="ref-for-table-grid-box②">table grid boxes</a> when <a class="property css" data-link-type="property" href="#propdef-border-collapse" id="ref-for-propdef-border-collapse③">border-collapse</a> is <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css2/#valdef-border-collapse-separate" id="ref-for-valdef-border-collapse-separate">separate</a> 
     <tr>
      <th><a href="https://www.w3.org/TR/css-cascade/#inherited-property">Inherited:</a>
      <td>yes 
     <tr>
      <th><a href="https://www.w3.org/TR/css-values/#percentages">Percentages:</a>
      <td>n/a 
     <tr>
      <th><a href="https://www.w3.org/TR/css-cascade/#computed">Computed value:</a>
      <td>two absolute lengths 
     <tr>
      <th><a href="https://www.w3.org/TR/cssom/#serializing-css-values">Canonical order:</a>
      <td>per grammar 
     <tr>
      <th><a href="https://www.w3.org/TR/web-animations/#animation-type">Animation type:</a>
      <td>by computed value 
   </table>
   <p>The lengths specify the distance that separates adjoining cell borders <a data-link-type="dfn" href="#in-separated-borders-mode" id="ref-for-in-separated-borders-mode">in separated-borders mode</a>,
				and must not be strictly negative.</p>
   <p>If one length is specified, it gives both the horizontal and vertical spacing.
			If two are specified, the first gives the horizontal spacing and the second the vertical spacing.</p>
   <p>See <a href="#computing-undistributable-space">§ 3.8.1 Computing Undistributable Space</a> for details on how this affects the table layout.</p>
   <h4 class="heading settled" data-level="3.5.3" id="caption-side-property"><span class="secno">3.5.3. </span><span class="content">The Caption-Side property</span><a class="self-link" href="#caption-side-property"></a></h4>
   <table class="def propdef" data-link-for-hint="caption-side">
    <tbody>
     <tr>
      <th>Name:
      <td><dfn class="dfn-paneled css" data-dfn-type="property" data-export id="propdef-caption-side">caption-side</dfn>
     <tr class="value">
      <th><a href="https://www.w3.org/TR/css-values/#value-defs">Value:</a>
      <td class="prod">top <a data-link-type="grammar" href="https://drafts.csswg.org/css-values-4/#comb-one" id="ref-for-comb-one②">|</a> bottom 
     <tr>
      <th><a href="https://www.w3.org/TR/css-cascade/#initial-values">Initial:</a>
      <td>top 
     <tr>
      <th><a href="https://www.w3.org/TR/css-cascade/#applies-to">Applies to:</a>
      <td><a data-link-type="dfn" href="#table-caption" id="ref-for-table-caption③">table-caption</a> boxes 
     <tr>
      <th><a href="https://www.w3.org/TR/css-cascade/#inherited-property">Inherited:</a>
      <td>yes 
     <tr>
      <th><a href="https://www.w3.org/TR/css-values/#percentages">Percentages:</a>
      <td>n/a 
     <tr>
      <th><a href="https://www.w3.org/TR/css-cascade/#computed">Computed value:</a>
      <td>specified keyword 
     <tr>
      <th><a href="https://www.w3.org/TR/cssom/#serializing-css-values">Canonical order:</a>
      <td>per grammar 
     <tr>
      <th><a href="https://www.w3.org/TR/web-animations/#animation-type">Animation type:</a>
      <td>discrete 
   </table>
   <p>This property specifies the position of the caption box with respect to the table grid box.
			Values have the following meanings:</p>
   <dl>
    <dt><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="caption-side-top">top</dfn> 
    <dd> Positions the caption box above the table grid box. 
    <dt><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="caption-side-bottom">bottom</dfn> 
    <dd> Positions the caption box below the table grid box. 
   </dl>
   <div class="note" role="note"> CSS2 described a different width and horizontal alignment behavior.
				That behavior was supposed to be introduced in CSS3
					using the values <code>top-outside</code> and <code>bottom-outside</code>. <a href="http://fantasai.inkedblade.net/style/discuss/captions/">#REF</a> </div>
   <div class="note" role="note"> Gecko also supports the "left" and "right" values, but currently this specification
				is not attempting to define their implementation of said values. </div>
   <div class="note" role="note"> Gecko has a bug when dealing with multiple captions. <a class="hint" href="http://codepen.io/FremyCompany/pen/WrJxwP">!Testcase</a> </div>
   <div class="example" id="example-51a1f9db">
    <a class="self-link" href="#example-51a1f9db"></a> 
    <p>To align caption content horizontally within the caption box, use the <a class="property css" data-link-type="property" href="https://drafts.csswg.org/css-text-3/#propdef-text-align" id="ref-for-propdef-text-align">text-align</a> property.</p>
    <p>In this example, the <a class="property css" data-link-type="property" href="#propdef-caption-side" id="ref-for-propdef-caption-side①">caption-side</a> property places captions below tables.
				The caption will be as wide as the parent of the table, and caption text will be left-justified.</p>
<pre>caption {
  caption-side: bottom;
    width: auto;
    text-align: left
}
</pre>
   </div>
   <h3 class="heading settled" data-level="3.6" id="style-overrides"><span class="secno">3.6. </span><span class="content">Style overrides</span><a class="self-link" href="#style-overrides"></a></h3>
   <p>Some css properties behave differently inside css tables.
		The following sections list the exceptions and their effects.</p>
   <h4 class="heading settled" data-level="3.6.1" id="global-style-overrides"><span class="secno">3.6.1. </span><span class="content">Overrides applying in all modes</span><a class="self-link" href="#global-style-overrides"></a></h4>
   <p>The following rules apply to all tables, irrespective of the layout mode in use.</p>
   <ul>
    <li>The computed values of properties <a class="property css" data-link-type="property" href="https://drafts.csswg.org/css-position-3/#propdef-position" id="ref-for-propdef-position①">position</a>, <a class="property css" data-link-type="property" href="https://drafts.csswg.org/css2/#propdef-float" id="ref-for-propdef-float①">float</a>, <a class="property css" data-link-type="property" href="https://drafts.csswg.org/css-box-4/#propdef-margin" id="ref-for-propdef-margin">margin</a>-*, <a class="property css" data-link-type="property" href="https://www.w3.org/TR/CSS21/visuren.html#propdef-top" id="ref-for-propdef-top">top</a>, <a class="property css" data-link-type="property" href="https://www.w3.org/TR/CSS21/visuren.html#propdef-right" id="ref-for-propdef-right">right</a>, <a class="property css" data-link-type="property" href="https://www.w3.org/TR/CSS21/visuren.html#propdef-bottom" id="ref-for-propdef-bottom">bottom</a>, and <a class="property css" data-link-type="property" href="https://drafts.csswg.org/css-position-3/#propdef-left" id="ref-for-propdef-left">left</a> on the table
					are used on the table-wrapper box and not the table grid box;
					the same holds true for the properties whose use could force the used value of <a class="property css" data-link-type="property" href="https://drafts.csswg.org/css-transforms-2/#propdef-transform-style" id="ref-for-propdef-transform-style">transform-style</a> to <code>flat</code> (see <a href="https://drafts.csswg.org/css-transforms/#grouping-property-values">list</a>) and their shorthands/longhands relatives:
						this list currently includes <a class="property css" data-link-type="property" href="https://drafts.csswg.org/css-overflow-3/#propdef-overflow" id="ref-for-propdef-overflow">overflow</a>, <a class="property css" data-link-type="property" href="https://drafts.csswg.org/css-color-4/#propdef-opacity" id="ref-for-propdef-opacity">opacity</a>, <a class="property css" data-link-type="property" href="https://drafts.fxtf.org/filter-effects-1/#propdef-filter" id="ref-for-propdef-filter">filter</a>, <a class="property css" data-link-type="property" href="https://drafts.fxtf.org/css-masking-1/#propdef-clip" id="ref-for-propdef-clip">clip</a>, <a class="property css" data-link-type="property" href="https://drafts.fxtf.org/css-masking-1/#propdef-clip-path" id="ref-for-propdef-clip-path">clip-path</a>, <a class="property css" data-link-type="property" href="https://drafts.fxtf.org/compositing-2/#propdef-isolation" id="ref-for-propdef-isolation">isolation</a>, <a class="property css" data-link-type="property" href="https://drafts.fxtf.org/css-masking-1/#propdef-mask" id="ref-for-propdef-mask">mask</a>-*, <a class="property css" data-link-type="property" href="https://drafts.fxtf.org/compositing-2/#propdef-mix-blend-mode" id="ref-for-propdef-mix-blend-mode">mix-blend-mode</a>, <a class="property css" data-link-type="property" href="https://drafts.csswg.org/css-transforms-1/#propdef-transform" id="ref-for-propdef-transform">transform</a>-* and <a class="property css" data-link-type="property" href="https://drafts.csswg.org/css-transforms-2/#propdef-perspective" id="ref-for-propdef-perspective">perspective</a>. <br> Where the specified values are not applied on the table grid and/or wrapper boxes,
						the unset values are used instead for that box (inherit or initial, depending on the property). 
    <li>The <a class="property css" data-link-type="property" href="https://drafts.csswg.org/css-overflow-3/#propdef-overflow" id="ref-for-propdef-overflow①">overflow</a> property on the <a data-link-type="dfn" href="#table-root-element" id="ref-for-table-root-element①①">table-root</a> and <a data-link-type="dfn" href="#table-wrapper-box" id="ref-for-table-wrapper-box①">table-wrapper</a> box, when its value is not either <code>visible</code> or <code>hidden</code>,
					is ignored and treated as if its value was <code>visible</code>. 
    <li>All css properties of <a data-link-type="dfn" href="#table-column" id="ref-for-table-column⑤">table-column</a> and <a data-link-type="dfn" href="#table-column-group" id="ref-for-table-column-group④">table-column-group</a> boxes are ignored,
					except when explicitly specified by this specification. 
    <li>The <a class="property css" data-link-type="property" href="https://drafts.csswg.org/css-box-4/#propdef-margin" id="ref-for-propdef-margin①">margin</a>, <a class="property css" data-link-type="property" href="https://drafts.csswg.org/css-box-4/#propdef-padding" id="ref-for-propdef-padding">padding</a>, <a class="property css" data-link-type="property" href="https://drafts.csswg.org/css-overflow-3/#propdef-overflow" id="ref-for-propdef-overflow②">overflow</a> and <a class="property css" data-link-type="property" href="https://www.w3.org/TR/CSS21/visuren.html#propdef-z-index" id="ref-for-propdef-z-index">z-index</a> of <a data-link-type="dfn" href="#table-track" id="ref-for-table-track②">table-track</a> and <a data-link-type="dfn" href="#table-track-group-element" id="ref-for-table-track-group-element②">table-track-group</a> are ignored. 
    <li>The <a class="property css" data-link-type="property" href="https://drafts.csswg.org/css-box-4/#propdef-margin" id="ref-for-propdef-margin②">margin</a> of <a data-link-type="dfn" href="#table-cell" id="ref-for-table-cell①⓪">table-cell</a> boxes is ignored (as if it was set to 0px). 
    <li>The <a class="property css" data-link-type="property" href="https://drafts.csswg.org/css-backgrounds-3/#propdef-background" id="ref-for-propdef-background">background</a> of <a data-link-type="dfn" href="#table-cell" id="ref-for-table-cell①①">table-cell</a> boxes
					are painted using a special background painting algorithm described in <a href="#drawing-cell-backgrounds">§ 5.3.2 Drawing cell backgrounds</a>. 
   </ul>
   <h4 class="heading settled" data-level="3.6.2" id="collapsed-style-overrides"><span class="secno">3.6.2. </span><span class="content">Overrides applying in collapsed-borders mode</span><a class="self-link" href="#collapsed-style-overrides"></a></h4>
   <p>When a table is laid out <a data-link-type="dfn" href="#in-collapsed-borders-mode" id="ref-for-in-collapsed-borders-mode">in collapsed-borders mode</a>, the following rules apply:</p>
   <ul>
    <li>The <a class="property css" data-link-type="property" href="https://drafts.csswg.org/css-box-4/#propdef-padding" id="ref-for-propdef-padding①">padding</a> of the <a data-link-type="dfn" href="#table-root-element" id="ref-for-table-root-element①②">table-root</a> is ignored (as if it was set to 0px). 
    <li>The <a class="property css" data-link-type="property" href="#propdef-border-spacing" id="ref-for-propdef-border-spacing②">border-spacing</a> of the <a data-link-type="dfn" href="#table-root-element" id="ref-for-table-root-element①③">table-root</a> is ignored (as if it was set to 0px). 
    <li>The <a class="property css" data-link-type="property" href="https://drafts.csswg.org/css-backgrounds-3/#propdef-border-radius" id="ref-for-propdef-border-radius">border-radius</a> of both <a data-link-type="dfn" href="#table-root-element" id="ref-for-table-root-element①④">table-root</a> and <a data-link-type="dfn" href="#table-non-root-element" id="ref-for-table-non-root-element②">table-non-root</a> boxes
					is ignored (as if it was set to 0px). 
    <li>The values used for the layout and rendering of the borders of the <a data-link-type="dfn" href="#table-root-element" id="ref-for-table-root-element①⑤">table-root</a> and the <a data-link-type="dfn" href="#table-cell" id="ref-for-table-cell①②">table-cell</a> boxes it owns are
						determined using a special conflict resolution algorithm described in <a href="#border-collapsing">§ 3.7 Border-collapsing</a>. 
   </ul>
   <h3 class="heading settled" data-level="3.7" id="border-collapsing"><span class="secno">3.7. </span><span class="content">Border-collapsing</span><a class="self-link" href="#border-collapsing"></a></h3>
   <div class="note" role="note">
    <p>This entire section is a proposal to make the rendering of collapsed borders sane.
			As implementations diverge very visibly, it is expected to require more discussion than some other parts.
			Since browsers handle this so differently, convergence cannot happen without reimplementation.
			A major concern for this proposal was to support as many cases as possible, and yet
				keep the effort required for a new implementation of tables as low as possible.</p>
    <p><b>Background:</b> CSS+HTML allow unprecedented combinations of border modes for table junctions,
				and it makes it difficult to support all cases properly;
				in fact some combinations are not <a href="https://en.wikipedia.org/wiki/Well-posed_problem">well-posed problems</a>,
				so no rendering algorithm could be optimal.</p>
    <p>Because they grew from something simple (HTML) to something very complex (HTML+CSS),
				the current table rendering models (backgrounds and borders) used by web browsers are insane
				(in the sense they are buggy, not interoperable and not CSSish at all).
			Many usual CSS assumptions are broken, and renderings diverge widely.</p>
    <p>This proposal aims at fixing this situation.</p>
   </div>
   <p class="issue" id="issue-15f20158"><a class="self-link" href="#issue-15f20158"></a> border-collapsing breaking change from 2.1 <a href="https://github.com/w3c/csswg-drafts/issues/604">[Issue #604]</a></p>
   <h4 class="heading settled" data-level="3.7.1" id="conflict-resolution-for-collapsed-borders"><span class="secno">3.7.1. </span><span class="content">Conflict Resolution for Collapsed Borders</span><a class="self-link" href="#conflict-resolution-for-collapsed-borders"></a></h4>
   <p>When they are laid out <a data-link-type="dfn" href="#in-collapsed-borders-mode" id="ref-for-in-collapsed-borders-mode①">in collapsed-borders mode</a>, <a data-link-type="dfn" href="#table-root-element" id="ref-for-table-root-element①⑥">table-root</a> and <a data-link-type="dfn" href="#table-cell" id="ref-for-table-cell①③">table-cell</a> boxes sharing a border attempt to unify their borders
				so that they render using the same style, width, and color (whenever this is possible).
			This is accomplished by running the following algorithm.</p>
   <h5 class="heading settled" data-level="3.7.1.1" id="border-conflict-resolution-algorithm"><span class="secno">3.7.1.1. </span><span class="content">Conflict Resolution Algorithm for Collapsed Borders</span><a class="self-link" href="#border-conflict-resolution-algorithm"></a></h5>
   <div class="note" role="note"> For the purpose of this algorithm, “harmonizing” a set of borders means
				applying the <a href="#border-style-harmonization-algorithm">“Harmonization Algorithm for Collapsed Borders”</a> on the given set of borders, and
				set those borders' used values to the value resulting from the algorithm,
				except for cells having a <a class="property css" data-link-type="property" href="https://drafts.csswg.org/css-backgrounds-3/#propdef-border-image-source" id="ref-for-propdef-border-image-source">border-image-source</a> different from none:
				those keep their initial values. </div>
   <p><b>For any <a data-link-type="dfn" href="#table-cell" id="ref-for-table-cell①④">table-cell</a> C° of a <a data-link-type="dfn" href="#table-root-element" id="ref-for-table-root-element①⑦">table-root</a>:</b></p>
   <ul>
    <li>
     Resolve conflicts with border-right: 
     <ol start="0">
      <li>Let S be an ordered set of <a data-link-type="dfn" href="#table-cell" id="ref-for-table-cell①⑤">table-cell</a> border styles, sorted by cell in RowStart/ColumnStart order;
					initially, let S contain only C°’s border-right style 
      <li>Add to the set S the border-left style of all cells
					sharing a section of their left border with C°’s right border 
      <li>
       Repeat the following two instructions, until no new border style is added to S: 
       <ul>
        <li>For all newly-added left borders from cell C<sub>i</sub> having a <a href="#slot" id="ref-for-slot⑤">rowspan</a> greater than one,
						add to the set S the border-right style of all cells
						sharing a section of their border-right with C<sub>i</sub>’s border-left 
        <li>For all newly-added right borders from cell C<sub>i</sub> having a <a href="#slot" id="ref-for-slot⑥">rowspan</a> greater than one,
						add to the set S the border-left style of all cells
						sharing a section of their border-left with C<sub>i</sub>’s border-right 
       </ul>
      <li>Harmonize the conflicting borders of S 
     </ol>
    <li>
     Resolve conflicts with border-bottom: 
     <ol start="0">
      <li>Let S be an ordered set of <a data-link-type="dfn" href="#table-cell" id="ref-for-table-cell①⑥">table-cell</a> border styles, sorted by cell in RowStart/ColumnStart order;
					initially, let S contain only C°’s border-bottom style 
      <li>Add to the set S the border-top style of all cells
					sharing a section of their top border with C°’s bottom border 
      <li>
       Repeat the following two instructions, until no new border style is added to S: 
       <ul>
        <li>For all newly-added top borders from cell C<sub>i</sub> having a <a href="#slot" id="ref-for-slot⑦">rowspan</a> greater than one,
						add to the set S the border-bottom style of all cells
						sharing a section of their bottom border with C<sub>i</sub>’s top border 
        <li>For all newly-added bottom borders from cell C<sub>i</sub> having a <a href="#slot" id="ref-for-slot⑧">rowspan</a> greater than one,
						add to the set S the border-top style of all cells
						sharing a section of their top border with C<sub>i</sub>’s bottom border 
       </ul>
      <li>Harmonize the conflicting borders of S 
     </ol>
    <li>
     Divide the used width of all borders by two.<br> 
     <div class="note" role="note"> This effect will be compensated at rendering time wherever needed,
					but is required for layout correctness. <span class="hint">(see <a href="#drawing-collapsed-borders-2">§ 5.3.3.1 Changes in collapsed-borders mode</a>)</span> </div>
     <p><b>Then, for that <a data-link-type="dfn" href="#table-root-element" id="ref-for-table-root-element①⑧">table-root</a>:</b></p>
     <ul>
      <li>Harmonize the <a data-link-type="dfn" href="#table-root-element" id="ref-for-table-root-element①⑨">table-root</a> border-{top,bottom,left,right}
					with the corresponding border of all cells forming the border of the table (independently),
					without actually modifying the border properties of the <span id="ref-for-table-root-element②⓪">table-root</span>.<br> <br> If the table and the cell border styles have the same specificity,
					keep the cell border style. <br> Once this is done, set the <span id="ref-for-table-root-element②①">table-root</span> border-{…}-width
					to half the maximum width found during the harmonization processes for that border,
					then set border-{…}-style to solid, and border-{…}-color to transparent. 
     </ul>
     <div class="note" role="note"> Implementations may of course choose to skip some of the steps of the previous algorithm,
			provided they can prove those have no visible impact on the final results;
			certain borders are harmonized more than once using the previous steps,
			but preventing this would make the spec harder to read. </div>
     <div class="example" id="example-e3306df1"><a class="self-link" href="#example-e3306df1"></a> To help the reader get a better idea of what this algorithm is doing,
			the main steps of applying the previous algorithm over a sample table have been outlined here: <br> <br> <a href="https://jsfiddle.net/bn3d1sm4/">https://jsfiddle.net/bn3d1sm4/</a><br> <a href="https://jsfiddle.net/bn3d1sm4/1/">https://jsfiddle.net/bn3d1sm4/1/</a><br> <a href="https://jsfiddle.net/bn3d1sm4/2/">https://jsfiddle.net/bn3d1sm4/2/</a><br> …<br> <a href="https://jsfiddle.net/bn3d1sm4/15/">https://jsfiddle.net/bn3d1sm4/15/</a><br> </div>
     <h5 class="heading settled" data-level="3.7.1.2" id="border-style-harmonization-algorithm"><span class="secno">3.7.1.2. </span><span class="content">Harmonization Algorithm for Collapsed Borders</span><a class="self-link" href="#border-style-harmonization-algorithm"></a></h5>
     <div class="note" role="note"> For the purpose of this algorithm, “considering” a border’s properties means
			that “if its properties are <a href="border-specificity">more specific</a> than CurrentlyWinningBorderProperties,
			set CurrentlyWinningBorderProperties to its properties”. </div>
     <p class="issue" id="issue-c8ca7f00"><a class="self-link" href="#issue-c8ca7f00"></a> Change specificity in harmonization of collapsed borders? <a href="https://github.com/w3c/csswg-drafts/issues/606">[Issue #606]</a></p>
     <p>Given an ordered set of border styles (BC<sub>1,</sub> BC<sub>2</sub>, … located in cells C<sub>1,</sub> C<sub>2</sub>, …)
		execute the following algorithm to determine the used value of the border properties for those conflicting borders.</p>
     <ul>
      <li> Set CurrentlyWinningBorderProperties to “border: 0px none transparent” 
      <li>
        For each border BC<sub>i</sub>: 
       <ul>
        <li>Consider the BC<sub>i</sub> border’s properties 
       </ul>
      <li>
        If the border separates two columns: 
       <ul>
        <li>For each border BC<sub>i</sub>:
						For each table-column spanned by the C<sub>i</sub> cell, if any.
						Consider the border’s properties of any border of the table-column that would be drawn contiguously to BC<sub>i</sub>. 
        <li>For each border BC<sub>i</sub>:
						For each table-column-group containing a column spanned by the C<sub>i</sub> cell, if any.
						Consider the border’s properties of any border of the table-column-group that would be drawn contiguously to BC<sub>i</sub>. 
       </ul>
      <li>
        If the border separates two rows: 
       <ul>
        <li>For each border BC<sub>i</sub>:
						For each table-row spanned by the C<sub>i</sub> cell, if any.
						Consider the border’s properties of any border of the table-column that would be drawn contiguously to BC<sub>i</sub>. 
        <li>For each border BC<sub>i</sub>:
						For each table-row-group containing a column spanned by the C<sub>i</sub> cell, if any.
						Consider the border’s properties of any border of the table-row-group that would be drawn contiguously to BC<sub>i</sub>. 
       </ul>
      <li> Return CurrentlyWinningBorderProperties 
     </ul>
     <h5 class="heading settled" data-level="3.7.1.3" id="border-specificity"><span class="secno">3.7.1.3. </span><span class="content">Specificity of a border style</span><a class="self-link" href="#border-specificity"></a></h5>
     <p>Given two borders styles, the border style having the most specificity is the border style which…</p>
     <ol>
      <li>… has the value "hidden" as <a class="property css" data-link-type="property" href="https://drafts.csswg.org/css-backgrounds-3/#propdef-border-style" id="ref-for-propdef-border-style">border-style</a>, if only one does 
      <li>… has the biggest <a class="property css" data-link-type="property" href="https://drafts.csswg.org/css-backgrounds-3/#propdef-border-width" id="ref-for-propdef-border-width">border-width</a>, once converted into css pixels 
      <li>
       … has the <a class="property css" data-link-type="property" href="https://drafts.csswg.org/css-backgrounds-3/#propdef-border-style" id="ref-for-propdef-border-style①">border-style</a> which comes first in the following list: 
<pre>double, solid, dashed, dotted, ridge, outset, groove, inset, none</pre>
     </ol>
     <p>If none of these criterion matches, then both borders share the same specificity.</p>
     <h3 class="heading settled" data-level="3.8" id="content-measure"><span class="secno">3.8. </span><span class="content">Computing table measures</span><a class="self-link" href="#content-measure"></a></h3>
     <h4 class="heading settled" data-level="3.8.1" id="computing-undistributable-space"><span class="secno">3.8.1. </span><span class="content">Computing Undistributable Space</span><a class="self-link" href="#computing-undistributable-space"></a></h4>
     <p>The <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="undistributable-space">undistributable space</dfn> of the table is the sum of
				the distances between the borders of consecutive table-cells
				(and between the border of the table-root and the table-cells).</p>
     <p>The distance between the borders of two consecutive table-cells is the <a class="property css" data-link-type="property" href="#propdef-border-spacing" id="ref-for-propdef-border-spacing③">border-spacing</a>, if any.</p>
     <p>The distance between
				the table border and
				the borders of the cells on the edge of the table
			is
				the table’s padding for that side,
				plus the relevant border spacing distance (if any).</p>
     <div class="example" id="example-cd69817f"><a class="self-link" href="#example-cd69817f"></a> For example, on the right hand side, the distance is padding-right + horizontal border-spacing. </div>
     <h4 class="heading settled" data-level="3.8.2" id="computing-cell-measures"><span class="secno">3.8.2. </span><span class="content">Computing Cell Measures</span><a class="self-link" href="#computing-cell-measures"></a></h4>
     <p>The following terms are parameters of tables or table cells.
			These parameters encapsulate the differences
				between tables with different values of <a class="property css" data-link-type="property" href="#propdef-border-collapse" id="ref-for-propdef-border-collapse④">border-collapse</a> (separate or collapse)
				so that the remaining subsections of this section do not need to refer to them differently.</p>
     <dl>
      <dt><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="cell-intrinsic-offsets">cell intrinsic offsets</dfn>
      <dd>
       The cell intrinsic offsets is a term to capture the parts of padding and border of a table cell
						that are relevant to intrinsic width calculation.
					It is a set of computed values for border-left-width, padding-left, padding-right, and border-right-width
						(along with zero values for margin-left and margin-right)
						defined as follows: 
       <ul>
        <li><a data-link-type="dfn" href="#in-separated-borders-mode" id="ref-for-in-separated-borders-mode①">In separated-borders mode</a>: the computed horizontal padding and border of the table-cell 
        <li><a data-link-type="dfn" href="#in-collapsed-borders-mode" id="ref-for-in-collapsed-borders-mode②">In collapsed-borders mode</a>: the computed horizontal padding of the cell and, for border values,
							the used border-width values of the cell (half the winning border-width) 
       </ul>
      <dt><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="table-intrinsic-offsets">table intrinsic offsets</dfn>
      <dd>
       The table intrinsic offsets capture the parts of the padding and border of a table
						that are relevant to intrinsic width calculation.
					It is a set of computed values for border-left-width, padding-left, padding-right, and border-right-width
						(along with zero values for margin-left and margin-right)
						defined as follows: 
       <ul>
        <li><a data-link-type="dfn" href="#in-separated-borders-mode" id="ref-for-in-separated-borders-mode②">In separated-borders mode</a>: the computed horizontal padding and border of the table-root 
        <li><a data-link-type="dfn" href="#in-collapsed-borders-mode" id="ref-for-in-collapsed-borders-mode③">In collapsed-borders mode</a>: the used border-width values of the cell (half the winning border-width) 
       </ul>
       <p class="note" role="note"> The margins are not included in the table intrinsic offsets
							because handling of margins depends on the <a class="property css" data-link-type="property" href="#propdef-caption-side" id="ref-for-propdef-caption-side②">caption-side</a> property. </p>
       <p class="issue" id="issue-941e2d76"><a class="self-link" href="#issue-941e2d76"></a> Handling of intrinsic offsets when in border collapsing mode <a href="https://github.com/w3c/csswg-drafts/issues/608">[Issue #608]</a></p>
      <dt><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="total-horizontal-border-spacing">total horizontal border spacing</dfn>
      <dd>
       The total horizontal border spacing is defined for each table: 
       <ul>
        <li>For tables laid out <a data-link-type="dfn" href="#in-separated-borders-mode" id="ref-for-in-separated-borders-mode③">in separated-borders mode</a> containing at least one column,
							the horizontal component of the computed value of the border-spacing property times one plus
							the number of columns in the table 
        <li>Otherwise, 0 
       </ul>
      <dt><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="offsets-adjusted-width">offsets-adjusted min-width, width, and max-width</dfn>
      <dd>
       <ul>
        <li>For <a data-link-type="dfn" href="#table-track" id="ref-for-table-track③">table-track</a> and <a data-link-type="dfn" href="#table-track-group-element" id="ref-for-table-track-group-element③">table-track-group</a> boxes, 
							the offsets-adjusted value of width properties is their computed value, 
							irrespective of the value of <a class="property css" data-link-type="property" href="https://drafts.csswg.org/css-sizing-3/#propdef-box-sizing" id="ref-for-propdef-box-sizing">box-sizing</a> applied on the element. 
        <li>
         For <a data-link-type="dfn" href="#table-cell" id="ref-for-table-cell①⑦">table-cell</a> boxes,
							the offsets-adjusted value of width properties is their computed value
							from which the cell’s border-{left|right}-width and/or padding-{left|right} have eventually been deduced,
							depending on the value of <a class="property css" data-link-type="property" href="https://drafts.csswg.org/css-sizing-3/#propdef-box-sizing" id="ref-for-propdef-box-sizing①">box-sizing</a>. 
         <div class="note" role="note"> When the table is laid out <a data-link-type="dfn" href="#in-collapsed-borders-mode" id="ref-for-in-collapsed-borders-mode④">in collapsed-borders mode</a>, 
								the border value to deduce is half the value of the winning border value on each side
								(see <a href="#border-conflict-resolution-algorithm">conflict resolution explanation note</a>) </div>
       </ul>
       <p><a class="hint" href="https://wptest.center/#/hmmbt3">Testcase.</a> <a class="hint" href="https://wptest.center/#/rnfac4">Testcase.</a> <a class="hint" href="https://wptest.center/#/3lao88">Testcase.</a></p>
      <dt><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="outer-min-content">outer min-content</dfn> and <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="outer-max-content">outer max-content</dfn> widths
      <dd>
       The outer min-content and max-content widths are defined for table cells, columns, and column groups.
					The <a class="property css" data-link-type="property" href="https://drafts.csswg.org/css-sizing-3/#propdef-width" id="ref-for-propdef-width②">width</a>, <a class="property css" data-link-type="property" href="https://drafts.csswg.org/css-sizing-3/#propdef-min-width" id="ref-for-propdef-min-width">min-width</a>, and <a class="property css" data-link-type="property" href="https://drafts.csswg.org/css-sizing-3/#propdef-max-width" id="ref-for-propdef-max-width">max-width</a> values used in these definitions are the offsets-adjusted values defined <a href="#offsets-adjusted-width" id="ref-for-offsets-adjusted-width">above</a>: 
       <ul>
        <li>The <b>outer min-content width</b> of a table-cell is <code>max(<a class="property css" data-link-type="property" href="https://drafts.csswg.org/css-sizing-3/#propdef-min-width" id="ref-for-propdef-min-width①">min-width</a>, min-content width)</code> adjusted by the cell intrinsic offsets. 
        <li>The <b>outer min-content width</b> of a table-column or table-column-group is <code>max(<a class="property css" data-link-type="property" href="https://drafts.csswg.org/css-sizing-3/#propdef-min-width" id="ref-for-propdef-min-width②">min-width</a>, <a class="property css" data-link-type="property" href="https://drafts.csswg.org/css-sizing-3/#propdef-width" id="ref-for-propdef-width③">width</a>)</code>. 
        <li>The <b>outer max-content width</b> of a table-cell in a <a data-link-type="dfn" href="#constrainedness" id="ref-for-constrainedness">non-constrained column</a> is <code>max(<a class="property css" data-link-type="property" href="https://drafts.csswg.org/css-sizing-3/#propdef-min-width" id="ref-for-propdef-min-width③">min-width</a>, <a class="property css" data-link-type="property" href="https://drafts.csswg.org/css-sizing-3/#propdef-width" id="ref-for-propdef-width④">width</a>, min-content width, min(<a class="property css" data-link-type="property" href="https://drafts.csswg.org/css-sizing-3/#propdef-max-width" id="ref-for-propdef-max-width①">max-width</a>, max-content width))</code> adjusted by the cell intrinsic offsets. 
        <li>The <b>outer max-content width</b> of a table-cell in a <a data-link-type="dfn" href="#constrainedness" id="ref-for-constrainedness①">constrained column</a> is <code>max(<a class="property css" data-link-type="property" href="https://drafts.csswg.org/css-sizing-3/#propdef-min-width" id="ref-for-propdef-min-width④">min-width</a>, <a class="property css" data-link-type="property" href="https://drafts.csswg.org/css-sizing-3/#propdef-width" id="ref-for-propdef-width⑤">width</a>, min-content width, min(<a class="property css" data-link-type="property" href="https://drafts.csswg.org/css-sizing-3/#propdef-max-width" id="ref-for-propdef-max-width②">max-width</a>, <span class="property" id="ref-for-propdef-width⑥">width</span>))</code> adjusted by the cell intrinsic offsets. 
        <li>The <b>outer max-content width</b> of a table-column or table-column-group is <code>max(<a class="property css" data-link-type="property" href="https://drafts.csswg.org/css-sizing-3/#propdef-min-width" id="ref-for-propdef-min-width⑤">min-width</a>, min(<a class="property css" data-link-type="property" href="https://drafts.csswg.org/css-sizing-3/#propdef-max-width" id="ref-for-propdef-max-width③">max-width</a>, <a class="property css" data-link-type="property" href="https://drafts.csswg.org/css-sizing-3/#propdef-width" id="ref-for-propdef-width⑦">width</a>))</code>. 
       </ul>
      <dt><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="percentage-contribution">percentage contribution</dfn>s
      <dd>
       The percentage contribution of a table cell, column, or column group
						is defined in terms of the computed values of <a class="property css" data-link-type="property" href="https://drafts.csswg.org/css-sizing-3/#propdef-width" id="ref-for-propdef-width⑧">width</a> and <a class="property css" data-link-type="property" href="https://drafts.csswg.org/css-sizing-3/#propdef-max-width" id="ref-for-propdef-max-width④">max-width</a> that have computed values that are percentages:<br> <br> <code>min(percentage <a class="property css" data-link-type="property" href="https://drafts.csswg.org/css-sizing-3/#propdef-width" id="ref-for-propdef-width⑨">width</a>, percentage <a class="property css" data-link-type="property" href="https://drafts.csswg.org/css-sizing-3/#propdef-max-width" id="ref-for-propdef-max-width⑤">max-width</a>)</code>.<br> <br> If the computed values are not percentages,
						then <code>0%</code> is used for <span class="property" id="ref-for-propdef-width①⓪">width</span>, and
						an <code>infinite</code> percentage is used for <span class="property" id="ref-for-propdef-max-width⑥">max-width</span>. 
       <div class="note" role="note"> Please note that <a class="property css" data-link-type="property" href="https://drafts.csswg.org/css-sizing-3/#propdef-min-width" id="ref-for-propdef-min-width⑥">min-width</a> is not included in this computation.
							As a result, a percentage <span class="property" id="ref-for-propdef-min-width⑦">min-width</span> is ignored.
						Since <a class="property css" data-link-type="property" href="https://drafts.csswg.org/css-sizing-3/#propdef-width" id="ref-for-propdef-width①①">width</a> functions like a <span class="property" id="ref-for-propdef-min-width⑧">min-width</span> in table layout
							and column sizing cannot be both length-based and percent-based,
							authors should not use <span class="property" id="ref-for-propdef-min-width⑨">min-width</span> on table-internal boxes
							and prefer to rely on <span class="property" id="ref-for-propdef-width①②">width</span> only instead. </div>
     </dl>
     <h4 class="heading settled" data-level="3.8.3" id="computing-column-measures"><span class="secno">3.8.3. </span><span class="content">Computing Column Measures</span><a class="self-link" href="#computing-column-measures"></a></h4>
     <p>This subsection defines three important values associated with each column of a table:
				their <a href="#min-content-width-of-a-column" id="ref-for-min-content-width-of-a-column">min-content width</a> (the smallest possible width attributed to this column),
				their <a href="#max-content-width-of-a-column" id="ref-for-max-content-width-of-a-column">max-content width</a> (the width that would be attributed to the column if no other constraint applied),
				their <a href="#intrinsic-percentage-width-of-a-column" id="ref-for-intrinsic-percentage-width-of-a-column">intrinsic percentage width</a> (the percentage of the table width the column desires to get, and could end up overriding its max-content width).</p>
     <p class="note" role="note"> To compute these values, an iterative algorithm is used. 
				First, these values are computed ignoring any cell spanning more than one column.
				Then, these values are updated by taking into account cells spanning incrementally more columns.
				When cells that spanned all columns of the table have been considered, this algorithm ends and the values are then finalized. </p>
     <p class="advisement"> For the purpose of measuring a column when laid out <a data-link-type="dfn" href="#in-fixed-mode" id="ref-for-in-fixed-mode②">in fixed mode</a>,
					only cells which <a data-link-type="dfn" href="#originate" id="ref-for-originate①">originate</a> in the first row of the table
					(after reordering the header and footer)
					will be considered, if any.
				In addition, the min-content and max-content width of cells
					is considered zero unless they are directly specified
					as a length-percentage, in which case they are resolved
					based on the table width (if it is definite, otherwise use 0). </p>
     <p>For the purpose of calculating the outer min-content width of cells,
					descendants of table cells whose width depends on percentages of their parent cell' width
					are considered to have an auto width. <a href="https://jsfiddle.net/0e12ve9b/1/">Testcase</a> <a href="https://jsfiddle.net/0e12ve9b/3/">Testcase</a></p>
     <dl>
      <dt><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="min-content-width-of-a-column-based-on-cells-of-span-up-to-1">min-content width of a column based on cells of span up to 1</dfn>
      <dd>
       The largest of: 
       <ul>
        <li>
         the width specified for the column:
         <ul>
          <li>the <a data-link-type="dfn" href="#outer-min-content" id="ref-for-outer-min-content">outer min-content</a> width of its corresponding table-column, if any (and not auto) 
          <li>the <a data-link-type="dfn" href="#outer-min-content" id="ref-for-outer-min-content①">outer min-content</a> width of its corresponding table-column-group, if any 
          <li>or 0, if there is none 
         </ul>
        <li>the <a data-link-type="dfn" href="#outer-min-content" id="ref-for-outer-min-content②">outer min-content</a> width of each cell that <a data-link-type="dfn" href="#span" id="ref-for-span③">spans</a> the column whose <a href="#slot" id="ref-for-slot⑨">colSpan</a> is 1
							(or just the one in the first row <a data-link-type="dfn" href="#in-fixed-mode" id="ref-for-in-fixed-mode③">in fixed mode</a>)
							or 0 if there is none 
       </ul>
      <dt><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="max-content-width-of-a-column-based-on-cells-of-span-up-to-1">max-content width of a column based on cells of span up to 1</dfn>
      <dd>
       The largest of: 
       <ul>
        <li>the <a data-link-type="dfn" href="#outer-max-content" id="ref-for-outer-max-content">outer max-content</a> width of its corresponding table-column-group, if any 
        <li>the <a data-link-type="dfn" href="#outer-max-content" id="ref-for-outer-max-content①">outer max-content</a> width of its corresponding table-column, if any 
        <li>the <a data-link-type="dfn" href="#outer-max-content" id="ref-for-outer-max-content②">outer max-content</a> width of each cell that <a data-link-type="dfn" href="#span" id="ref-for-span④">spans</a> the column whose <a href="#slot" id="ref-for-slot①⓪">colSpan</a> is 1
							(or just the one in the first row if <a data-link-type="dfn" href="#in-fixed-mode" id="ref-for-in-fixed-mode④">in fixed mode</a>)
							or 0 if there is no such cell 
       </ul>
      <dt><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="intrinsic-percentage-width-of-a-column-based-on-cells-of-span-up-to-1">intrinsic percentage width of a column based on cells of span up to 1</dfn>
      <dd>The largest of the percentage contributions of
						each cell that <a data-link-type="dfn" href="#span" id="ref-for-span⑤">spans</a> the column whose <a href="#slot" id="ref-for-slot①①">colSpan</a> is 1,
						of its corresponding table-column (if any), and
						of its corresponding table-column-group (if any) 
      <dt><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="min-content-width-of-a-column-based-on-cells-of-span-up-to-n-n--1">min-content width of a column based on cells of span up to N (N > 1)</dfn>
      <dd>
       the largest of the min-content width of the column based on cells of span up to N-1 and the contributions
						of the cells in the column whose <a href="#slot" id="ref-for-slot①②">colSpan</a> is N,
						where the contribution of a cell is the result of taking the following steps: 
       <ol>
        <li>Define the baseline min-content width
							as the sum of the max-content widths based on cells of span up to N-1 
							of all columns that the cell spans. 
        <li>Define the baseline border spacing as the sum of the horizontal
							border-spacing for any columns spanned by the cell,
							other than the one in which the cell originates. 
        <li>
         The contribution of the cell is the sum of: 
         <ul>
          <li>the min-content width of the column based on cells of span up to N-1 
          <li>
           the product of: 
           <ul>
            <li>
             the ratio of: 
             <ul>
              <li>the max-content width of the column based on cells of span up to N-1 of the column
													minus the min-content width of the column based on cells of span up to N-1 of the column, to 
              <li>the baseline max-content width minus the baseline min-content width 
             </ul>
              or zero if this ratio is undefined, and 
            <li>the outer min-content width of the cell
											minus the baseline min-content width and the baseline border spacing,
											clamped to be at least 0 and at most the difference
											between the baseline max-content width and the baseline min-content width 
           </ul>
          <li>
           the product of: 
           <ul>
            <li>the ratio of the max-content width
											based on cells of span up to N-1 of the column to the baseline max-content width 
            <li>the outer min-content width of the cell
											minus the baseline max-content width and baseline border spacing,
											or 0 if this is negative 
           </ul>
         </ul>
       </ol>
      <dt><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="max-content-width-of-a-column-based-on-cells-of-span-up-to-n-n--1">max-content width of a column based on cells of span up to N (N > 1)</dfn>
      <dd>
       The largest of the max-content width
					based on cells of span up to N-1 and the contributions of the cells in the column whose <a href="#slot" id="ref-for-slot①③">colSpan</a> is N,
					where the contribution of a cell is the result of taking the following steps: 
       <ol>
        <li>Define the baseline max-content width as
							the sum of the max-content widths based on cells of span up to N-1
							of all columns that the cell spans. 
        <li>Define the baseline border spacing as
							the sum of the horizontal border-spacing
							for any columns spanned by the cell,
							other than the one in which the cell originates. 
        <li>
         The contribution of the cell is the sum of: 
         <ul>
          <li>the max-content width of the column based on cells of span up to N-1 
          <li>
           the product of: 
           <ul>
            <li>the ratio of the max-content width
											based on cells of span up to N-1 of the column to the baseline max-content width 
            <li>the outer max-content width of the cell
											minus the baseline max-content width and the baseline border spacing,
											or 0 if this is negative 
           </ul>
         </ul>
       </ol>
      <dt><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="intrinsic-percentage-width-of-a-column-based-on-cells-of-span-up-to-n-n--1">intrinsic percentage width of a column based on cells of span up to N (N > 1)</dfn>
      <dd>
       If the intrinsic percentage width of a column based on cells of span up to N-1 is greater than 0%,
					then the intrinsic percentage width of the column based on cells of span up to N is
					the same as the intrinsic percentage width of the column based on cells of span up to N-1.<br> <br> Otherwise, it is the largest of the contributions of the cells in the column
					whose <a href="#slot" id="ref-for-slot①④">colSpan</a> is N,
					where the contribution of a cell is the result of taking the following steps: 
       <ol>
        <li>Start with the percentage contribution of the cell. 
        <li>Subtract the intrinsic percentage width of the column based on cells of span up to N-1 of all columns that the cell spans.
							If this gives a negative result, change it to 0%. 
        <li>
         Multiply by the ratio of 
         <ul>
          <li>the column’s non-spanning max-content width to 
          <li>the sum of the non-spanning max-content widths of all columns spanned by the cell
									that have an intrinsic percentage width of the column based on cells of span up to N-1 equal to 0%. 
         </ul>
          However, if this ratio is undefined because the denominator is zero,
							instead use the 1 divided by the number of columns spanned by the cell
							that have an intrinsic percentage width of the column based on cells of span up to N-1 equal to zero. 
       </ol>
      <dt><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="min-content-width-of-a-column">min-content width of a column</dfn>
      <dd>the min-content width of the column based on cells of span up to N, where N is the number of columns in the table 
      <dt><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="max-content-width-of-a-column">max-content width of a column</dfn>
      <dd>the max-content width of the column based on cells of span up to N, where N is the number of columns in the table 
      <dt><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="intrinsic-percentage-width-of-a-column">intrinsic percentage width of a column</dfn>
      <dd>
       the smaller of: 
       <ul>
        <li>the intrinsic percentage width of the column based on cells of span up to N,
							where N is the number of columns in the table 
        <li>100% minus the sum of the intrinsic percentage width of all prior columns in the table
							(further left when direction is "ltr" (right for "rtl")) <a class="hint" href="https://wptest.center/#/45xdf3">Testcase</a> 
       </ul>
       <p class="note" role="note"> The clamping of the total of the intrinsic percentage widths of columns to a maximum of 100%
						means that the table layout algorithm is not invariant under switching of columns. </p>
      <dt><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="constrainedness">constrainedness</dfn>
      <dd>A column is constrained if
						its corresponding table-column-group (if any),
						its corresponding table-column (if any),
						or any of the cells spanning only that column
					has a computed <a class="property css" data-link-type="property" href="https://drafts.csswg.org/css-sizing-3/#propdef-width" id="ref-for-propdef-width①③">width</a> that is not "auto",
						and is not a percentage. 
     </dl>
     <div class="note" role="note"> In a future revision of this specification, this algorithm will need to account
					for character-alignment of cells ('<a class="production css" data-link-type="type" href="https://drafts.csswg.org/css-values-4/#string-value" id="ref-for-string-value">&lt;string></a>' values of the <a class="property css" data-link-type="property" href="https://drafts.csswg.org/css-text-3/#propdef-text-align" id="ref-for-propdef-text-align①">text-align</a> property).
				This requires (based on the 9 March 2011 editor’s draft of css3-text) separately tracking max-content widths
					for the part of the column before the center of the alignment string and
					the part of the column after the center of the alignment string.
				For tracking min-content widths, there are two options:
					either not track them, or track three values:
					two values as for max-content widths for any cells that do not have break points in them,
					and a fourth value for any cells that do have break points in them
					(and to which character alignment is therefore not mandatory). </div>
     <div class="issue" id="issue-96c17185"><a class="self-link" href="#issue-96c17185"></a> EDITORIAL.
				The way this describes distribution of widths from colspanning cells is wrong.
				For min-content and max-content widths it should refer to the rules
					for distributing excess width to columns for intrinsic width calculation. </div>
     <h3 class="heading settled" data-level="3.9" id="width-distribution"><span class="secno">3.9. </span><span class="content">Available Width Distribution</span><a class="self-link" href="#width-distribution"></a></h3>
     <h4 class="heading settled" data-level="3.9.1" id="computing-the-table-width"><span class="secno">3.9.1. </span><span class="content">Computing the table width</span><a class="self-link" href="#computing-the-table-width"></a></h4>
     <p>Before deciding on the final width of all columns,
				it is necessary to compute the width of the table itself.</p>
     <p class="note" role="note"> As noted before, this would usually be the sum of preferred width of all columns, plus any extra.
				In this case, the width distribution will result in giving each column its preferred width.
				There are however a few cases where the author asks for some other width explicitly,
					as well as a few cases where the table cannot be given the width it requires. </p>
     <p>The <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="capmin">caption width minimum (CAPMIN)</dfn> is
				the largest of the <a href="#table-caption" id="ref-for-table-caption⑤">table captions</a> <a data-link-type="dfn" href="https://drafts.csswg.org/css-sizing-3/#min-content-contribution" id="ref-for-min-content-contribution">min-content contribution</a>.</p>
     <p>The <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="gridmin">row/column-grid width minimum (GRIDMIN)</dfn> width is
				the sum of the <a href="#min-content-width-of-a-column" id="ref-for-min-content-width-of-a-column①">min-content width</a> of all the columns
				plus cell spacing or borders.</p>
     <p>The <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="gridmax">row/column-grid width maximum (GRIDMAX)</dfn> width is
				the sum of the <a href="#max-content-width-of-a-column" id="ref-for-max-content-width-of-a-column①">max-content width</a> of all the columns
				plus cell spacing or borders.</p>
     <p>The <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="used-min-width-of-table">used min-width of a table</dfn> is
				the greater of
					the resolved <a class="property css" data-link-type="property" href="https://drafts.csswg.org/css-sizing-3/#propdef-min-width" id="ref-for-propdef-min-width①⓪">min-width</a>, <a href="#capmin" id="ref-for-capmin①">CAPMIN</a>, and <a href="#gridmin" id="ref-for-gridmin">GRIDMIN</a>.</p>
     <p>The <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="used-width-of-table">used width of a table</dfn> depends on the columns and captions widths as follows:</p>
     <ul>
      <li>
       If the <a data-link-type="dfn" href="#table-root-element" id="ref-for-table-root-element②②">table-root</a>’s <a class="property css" data-link-type="property" href="https://drafts.csswg.org/css-sizing-3/#propdef-width" id="ref-for-propdef-width①④">width</a> property has a computed value (resolving to <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="resolved-table-width">resolved-table-width</dfn>)
					other than <code>auto</code>,
						the <a href="#used-width-of-table" id="ref-for-used-width-of-table">used width</a> is the greater of <a data-link-type="dfn" href="#resolved-table-width" id="ref-for-resolved-table-width">resolved-table-width</a>, and
							the <a href="#used-min-width-of-table" id="ref-for-used-min-width-of-table">used min-width of the table</a>. 
       <div class="note" role="note"> If the used width is greater than <a href="#gridmin" id="ref-for-gridmin①">GRIDMIN</a>,
						the extra width should be distributed over the columns. <span class="hint">See <a href="#width-distribution">§ 3.9 Available Width Distribution</a>.</span> </div>
      <li>If the <a data-link-type="dfn" href="#table-root-element" id="ref-for-table-root-element②③">table-root</a> has 'width: auto',
						the <a href="#used-width-of-table" id="ref-for-used-width-of-table①">used width</a> is the greater of
							min(<a href="#gridmax" id="ref-for-gridmax">GRIDMAX</a>, the table’s containing block width),
							the <a href="#used-min-width-of-table" id="ref-for-used-min-width-of-table①">used min-width of the table</a>. 
     </ul>
     <p>The <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="assignable-table-width">assignable table width</dfn> is
				the used width of the table
				minus the total horizontal border spacing (if any).
			This is the width that we will be able to allocate to the columns.</p>
     <div class="note" role="note"> In this algorithm, rows (and row groups) and columns (and column groups) both constrain
				and are constrained by the dimensions of the cells they contain.
				Setting the width of a column might indirectly influence the height of a row, and vice versa. </div>
     <h4 class="heading settled" data-level="3.9.2" id="width-distribution-principles"><span class="secno">3.9.2. </span><span class="content">Core distribution principles</span><a class="self-link" href="#width-distribution-principles"></a></h4>
     <p style="font-style: italic"> This section is not normative. </p>
     <h5 class="heading settled" data-level="3.9.2.1" id="width-distribution-principles-rN"><span class="secno">3.9.2.1. </span><span class="content">Rules</span><a class="self-link" href="#width-distribution-principles-rN"></a></h5>
     <p>Ideally, each column should get its preferred width (usually its <a href="#max-content-width-of-a-column" id="ref-for-max-content-width-of-a-column②">max-content width</a>).
			However, the <a data-link-type="dfn" href="#assignable-table-width" id="ref-for-assignable-table-width">assignable table width</a> calculated before
				could be either too big or too small to achieve this result,
				in which case the user agent must assign adhoc widths to columns
				as described in the width distribution algorithm.</p>
     <p>This algorithm follows three rules when determining a column’s used width:</p>
     <p id="width-distribution-principles-r0"> <b>Rule 0: </b> <span> <a data-link-type="dfn" href="#in-fixed-mode" id="ref-for-in-fixed-mode⑤">In fixed mode</a>,
					auto and percentages columns are assigned a minimum width of zero pixels, and
					percentage resolution follows a different set of rules,
					whose goal is to ensure pixel columns always get assigned their preferred width. </span> </p>
     <p id="width-distribution-principles-r1"> <b>Rule 1: </b> <span> When assigning preferred widths,
					specified percent columns have a higher priority
					than specified unit value columns, which have a higher priority
					than auto columns. </span> </p>
     <p id="width-distribution-principles-r2"> <b>Rule 2: </b> <span> Columns using the same <a data-link-type="dfn" href="#sizing-type" id="ref-for-sizing-type">sizing type</a> (percent columns, pixel columns, or auto columns) follow the same distribution method.
					For example, they all get their <a href="#min-content-width-of-a-column" id="ref-for-min-content-width-of-a-column②">min-content width</a> or they all get their <a href="#max-content-width-of-a-column" id="ref-for-max-content-width-of-a-column③">max-content width</a>. <br> <span class="note" style="display: block; margin-top: 0.5em"> There is one exception to this rule.
						When giving its preferred percent width to a percent-column,
							if that would result in a size smaller than its <a href="#min-content-width-of-a-column" id="ref-for-min-content-width-of-a-column③">min-content width</a>,
							the column will be assigned its <a href="#min-content-width-of-a-column" id="ref-for-min-content-width-of-a-column④">min-content width</a> instead
							though the percent-columns group as a whole is still regarded
							as being assigned the preferred percent widths. </span> </span> </p>
     <p id="width-distribution-principles-r3"> <b>Rule 3: </b> <span> The sum of width assigned to all columns should be equal to the <a data-link-type="dfn" href="#assignable-table-width" id="ref-for-assignable-table-width①">assignable table width</a>. </span> </p>
     <h5 class="heading settled" data-level="3.9.2.2" id="width-distribution-principles-rR"><span class="secno">3.9.2.2. </span><span class="content">Available sizings</span><a class="self-link" href="#width-distribution-principles-rR"></a></h5>
     <p>All three types of columns have the following possible used widths.</p>
     <ol>
      <li>min-content width: <br> <span class="hint">The size required to fit the content of the column</span> 
      <li>min-content width + delta: <br> <span class="hint">A value between the min-content and preferred widths</span> 
      <li>preferred width: <br> <span class="hint">The size specified for the column,
							or the size required to fit the content of the column without breaking</span> 
      <li>preferred width + delta<br> <span class="hint">A value larger than the preferred width</span>
     </ol>
     <p>The distribution algorithm defines those values and explains when to use them.</p>
     <h4 class="heading settled" data-level="3.9.3" id="width-distribution-algorithm"><span class="secno">3.9.3. </span><span class="content">Distribution algorithm</span><a class="self-link" href="#width-distribution-algorithm"></a></h4>
     <p>When a table is laid out at a given used width,
				the used width of each column must be determined as follows,
				eventually after considering <a href="#width-distribution-in-fixed-mode">the changes to this algorithm</a> applied <a data-link-type="dfn" href="#in-fixed-mode" id="ref-for-in-fixed-mode⑥">in fixed mode</a>.</p>
     <p>First, each column of the table is assigned a <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="sizing-type">sizing type</dfn>:</p>
     <ul>
      <li data-md>
       <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="percent-column">percent-column</dfn>:<br> a column whose any constraint is defined to use a percentage only (with a value different from 0%)</p>
      <li data-md>
       <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="pixel-column">pixel-column</dfn>:<br> column whose any constraint is defined to use a defined length only (and is not a percent-column)</p>
      <li data-md>
       <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="auto-column">auto-column</dfn>:<br> any other column</p>
     </ul>
     <p>Then, valid sizing methods are to be assigned to the columns by sizing type, yielding the following sizing-guesses:</p>
     <ol>
      <li>The <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="min-content-sizing-guess">min-content sizing-guess</dfn> is the set of column width assignments where
					each column is assigned its min-content width. 
      <li>
       The <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="min-content-percentage-sizing-guess">min-content-percentage sizing-guess</dfn> is the set of column width assignments where: 
       <ul>
        <li>
         each <a data-link-type="dfn" href="#percent-column" id="ref-for-percent-column">percent-column</a> is assigned the larger of: 
         <ul>
          <li>its intrinsic percentage width times the assignable width and 
          <li>its min-content width. 
         </ul>
        <li>all other columns are assigned their min-content width. 
       </ul>
      <li>
       The <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="min-content-specified-sizing-guess">min-content-specified sizing-guess</dfn> is the set of column width assignments where: 
       <ul>
        <li>
         each <a data-link-type="dfn" href="#percent-column" id="ref-for-percent-column①">percent-column</a> is assigned the larger of: 
         <ul>
          <li>its intrinsic percentage width times the assignable width and 
          <li>its min-content width 
         </ul>
        <li>any other column that is <a data-link-type="dfn" href="#constrainedness" id="ref-for-constrainedness②">constrained</a> is assigned its max-content width 
        <li>all other columns are assigned their min-content width. 
       </ul>
      <li>
       The <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="max-content-sizing-guess">max-content sizing-guess</dfn> is the set of column width assignments where: 
       <ul>
        <li>
         each <a data-link-type="dfn" href="#percent-column" id="ref-for-percent-column②">percent-column</a> is assigned the larger of: 
         <ul>
          <li>its intrinsic percentage width times the assignable width and 
          <li>its min-content width 
         </ul>
        <li>all other columns are assigned their max-content width. 
       </ul>
     </ol>
     <div class="note" role="note">
       Note that: 
      <ul>
       <li data-md>
        <p>The <a data-link-type="dfn" href="#assignable-table-width" id="ref-for-assignable-table-width②">assignable table width</a> is always greater than or equal
to the table width resulting from the min-content sizing-guess.</p>
       <li data-md>
        <p>The widths for each column in the four sizing-guesses
(min-content, min-content-percentage, min-content-specified, and max-content)
are in nondecreasing order.</p>
      </ul>
     </div>
     <p>If the <a data-link-type="dfn" href="#assignable-table-width" id="ref-for-assignable-table-width③">assignable table width</a> is less than or equal to the <a data-link-type="dfn" href="#max-content-sizing-guess" id="ref-for-max-content-sizing-guess">max-content sizing-guess</a>,
				the used widths of the columns must be the linear combination (with weights adding to 1)
				of the two consecutive sizing-guesses whose width sums bound the available width.</p>
     <p>Otherwise, the used widths of the columns are the result of starting from the <a data-link-type="dfn" href="#max-content-sizing-guess" id="ref-for-max-content-sizing-guess①">max-content sizing-guess</a> and distributing the excess width to the columns of the table
				according to the rules for <a data-link-type="dfn" href="#distributing-excess-width-to-columns" id="ref-for-distributing-excess-width-to-columns">distributing excess width to columns</a> (for used width).</p>
     <figure>
      <p class="note" role="note"> The following schema describes the algorithm in a different way,
					to make it easier to understand. </p>
      <details style="border: 3px solid silver; text-align: left;">
       <summary style="background: silver; padding: 0 7px; outline: 3px solid silver;">Legend</summary>
       <div style="padding: 0 1em;">
        <p><b>Sizing algorithms: </b> Each drawing of the table represents a way of sizing the columns.
					The four cases on the left are the sizing-guesses described above in the spec: <a href="#min-content-sizing-guess" id="ref-for-min-content-sizing-guess">min-content</a>, <a href="#min-content-percentage-sizing-guess" id="ref-for-min-content-percentage-sizing-guess">min-content-percentage</a>, <a href="#min-content-specified-sizing-guess" id="ref-for-min-content-specified-sizing-guess">min-content-specified</a>, and <a href="#max-content-sizing-guess" id="ref-for-max-content-sizing-guess②">max-content</a>.
					The cases on the right are interpolations required for available sizes that do not match exactly one of the four sizing-guesses.</p>
        <p><b>Choice of sizing method: </b> The sizing method selection always starts at the min-content sizing-guess (top left), 
						and then proceeds by comparing the available width and the width consumed by the method currently in use.
					Green arrows indicate the direction you should follow 
						if you have extra space to distribute after applying the current method.
					Red arrows indicate the direction you should follow 
						if you have distributed too much space by applying the current method and need to backtrack.</p>
        <p><b>Columns types: </b> Each type of column (auto, px, %) has its own color in the schema (yellow, blue, orange).
					In an interpolation: 
						columns that get shrinked down from their size in previous sizing-guess are repainted red, and 
						columns that get expanded from their size in previous sizing-guess are repainted green.</p>
       </div>
      </details>
       <img alt="[see-caption-below]" src="images/CSS-Tables-Column-Width-Assignment.svg" style="width: 100%"> 
      <figcaption>Overview of the width distribution algorithm. Not normative.</figcaption>
     </figure>
     <h5 class="heading settled" data-level="3.9.3.1" id="width-distribution-in-fixed-mode"><span class="secno">3.9.3.1. </span><span class="content">Changes to width distribution in fixed mode</span><a class="self-link" href="#width-distribution-in-fixed-mode"></a></h5>
     <p>The following changes to previous algorithm apply <a data-link-type="dfn" href="#in-fixed-mode" id="ref-for-in-fixed-mode⑦">in fixed mode</a>:</p>
     <ul>
      <li data-md>
       <p>The <a href="#min-content-width-of-a-column" id="ref-for-min-content-width-of-a-column⑤">min-content width</a> of percent-columns and auto-columns is considered to be zero</p>
      <li data-md>
       <p>Cells ignore their border and padding size if their width is a percentage (<a class="property css" data-link-type="property" href="https://drafts.csswg.org/css-sizing-3/#propdef-box-sizing" id="ref-for-propdef-box-sizing②">box-sizing</a> is ignored)</p>
      <li data-md>
       <p>If, when percentages are resolved based on the <a data-link-type="dfn" href="#assignable-table-width" id="ref-for-assignable-table-width④">assignable table width</a>,
the sum of columns widths based on this resolution would exceed the assignable table width,
they are instead to be resolved relative to their percentage value such that
the sum of columns width meets the assignable table width exactly.</p>
      <li data-md>
       <p>Columns whose size is computed as a sum of a percentage and a pixel length must be sized as if they counted as two columns,
one with the pixel value, the other with the percentage value. This is different from resolving the percentage away,
because of how width distribution works for percentage-based columns.</p>
     </ul>
     <h5 class="heading settled" data-level="3.9.3.2" id="distributing-width-to-columns"><span class="secno">3.9.3.2. </span><span class="content">Distributing excess width to columns</span><a class="self-link" href="#distributing-width-to-columns"></a></h5>
     <p>The rules for <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="distributing-excess-width-to-columns">distributing excess width to columns</dfn> can be invoked in two ways:</p>
     <ul>
      <li>for distributing the excess width of a table to its columns
				during the computation of the used widths of those columns (for used width calculation), or 
      <li>for distributing the excess max-content or min-content width of a cell spanning more than one column
				to the max-content or min-content widths of the columns it spans (for intrinsic width calculation). 
     </ul>
     <p>The rules for these two cases are largely the same, but there are slight differences.</p>
     <p>The remainder of this section uses the term <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="distributed-width">distributed width</dfn> to refer to the one of these widths that is being distributed,
		and the <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="excess-width">excess width</dfn> is used to refer to the amount by which the width being distributed
		exceeds the sum of the distributed widths of the columns it is being distributed to.</p>
     <ol>
      <li>If there are <a data-link-type="dfn" href="#constrainedness" id="ref-for-constrainedness③">non-constrained columns</a> that have originating cells
					with intrinsic percentage width of 0% and
					with nonzero max-content width <i class="hint">(aka the columns allowed to grow by this rule)</i>,
				the distributed widths of the columns allowed to grow by this rule
					are increased in proportion to max-content width
					so the total increase adds to the excess width. 
      <li>Otherwise, if there are <a data-link-type="dfn" href="#constrainedness" id="ref-for-constrainedness④">non-constrained columns</a> that have originating cells
					with intrinsic percentage width of 0% <i class="hint">(aka the columns allowed to grow by this rule,
					which thanks to the previous rule must have zero max-content width)</i>,
				the distributed widths of the columns allowed to grow by this rule
					are increased by equal amounts
					so the total increase adds to the excess width. 
      <li>Otherwise, if there are <a data-link-type="dfn" href="#constrainedness" id="ref-for-constrainedness⑤">constrained columns</a> with intrinsic percentage width of 0% and
					with nonzero max-content width <i class="hint">(aka the columns allowed to grow by this rule, which, due to other rules, must have originating cells)</i>,
				the distributed widths of the columns allowed to grow by this rule
					are increased in proportion to max-content width
					so the total increase adds to the excess width. 
      <li>Otherwise, if there are columns
					with intrinsic percentage width greater than 0% <i class="hint">(aka the columns allowed to grow by this rule, which, due to other rules, must have originating cells)</i>,
				the distributed widths of the columns allowed to grow by this rule
					are increased in proportion to intrinsic percentage width
					so the total increase adds to the excess width. 
      <li>Otherwise, if there is any such column,
					the distributed widths of all columns that have originating cells
					are increased by equal amounts
					so the total increase adds to the excess width. 
      <li>Otherwise,
					the distributed widths of all columns
					are increased by equal amounts
					so the total increase adds to the excess width. 
     </ol>
     <div class="advisement">
       These rules do not apply when the table is laid out <a data-link-type="dfn" href="#in-fixed-mode" id="ref-for-in-fixed-mode⑧">in fixed mode</a>.
			In this case, the simpler rules that follow apply instead: 
      <ul>
       <li>If there are any columns with no width specified, the excess width is distributed in equally to such columns 
       <li>otherwise, if there are columns with non-zero length widths from the base assignment, the excess width is distributed proportionally to width among those columns 
       <li>otherwise, if there are columns with non-zero percentage widths from the base assignment, the excess width is distributed proportionally to percentage width among those columns 
       <li>otherwise, the excess width is distributed equally to the zero-sized columns
      </ul>
     </div>
     <h3 class="heading settled" data-level="3.10" id="height-distribution"><span class="secno">3.10. </span><span class="content">Available Height Distribution</span><a class="self-link" href="#height-distribution"></a></h3>
     <h4 class="heading settled" data-level="3.10.1" id="computing-the-table-height"><span class="secno">3.10.1. </span><span class="content">Computing the table height</span><a class="self-link" href="#computing-the-table-height"></a></h4>
     <p class="note" role="note"> <a class="hint" href="https://jsfiddle.net/bsgt4wbx/">?Testcase</a> <a class="hint" href="https://jsfiddle.net/bsgt4wbx/1/">?Testcase</a> <a class="hint" href="https://jsfiddle.net/bsgt4wbx/3/">?Testcase</a> </p>
     <p>The <strong>height of a table</strong> is the sum of the row heights plus any cell spacing or borders.
			If the table has a <a class="property css" data-link-type="property" href="https://drafts.csswg.org/css-sizing-3/#propdef-height" id="ref-for-propdef-height①">height</a> property with a value other than auto, it is treated as a minimum height for the table grid,
				and will eventually be distributed to the height of the rows if their collective <a href="#">minimum height</a> ends up smaller than this number.
				If their collective size ends up being greater than the specified <span class="property" id="ref-for-propdef-height②">height</span>, the specified <span class="property" id="ref-for-propdef-height③">height</span> will have no effect.</p>
     <p>The <strong>minimum height of a row</strong> is the maximum of:</p>
     <ul>
      <li>the computed <a class="property css" data-link-type="property" href="https://drafts.csswg.org/css-sizing-3/#propdef-height" id="ref-for-propdef-height④">height</a> (if definite, percentages being considered 0px) of its corresponding table-row (if nay) 
      <li>the computed <a class="property css" data-link-type="property" href="https://drafts.csswg.org/css-sizing-3/#propdef-height" id="ref-for-propdef-height⑤">height</a> of each cell spanning the current row exclusively (if definite, percentages being treated as 0px), and 
      <li>the minimum height (<a data-link-type="dfn" href="#ROWMIN" id="ref-for-ROWMIN">ROWMIN</a>) required by the cells spanning the row.
     </ul>
     <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="ROWMIN">ROWMIN</dfn> is defined as
				the sum of the <a href="#row-layout">minimum height of the rows</a> after a first row layout pass.</p>
     <p>To compute the <strong>height of a table</strong>, it is therefore necessary to
				perform a first-pass layout on all its rows,
				compute the sum of all minimum row heights plus spacings/borders,
				and return the greater of either that value or the table-root specified <a class="property css" data-link-type="property" href="https://drafts.csswg.org/css-sizing-3/#propdef-height" id="ref-for-propdef-height⑥">height</a> (min-height).</p>
     <p>Once the table height has been determined,
				rows will usually get a <a href="#row-relayout">second layout pass</a> (where their cells' heights are no longer considered auto),
				then <a href="#height-distribution-algorithm">height distribution</a> will happen to adjust their heights to collectively meet the table height,
				then table-cell descendants might get a <a href="#table-cell-content-relayout">second layout</a> (where their percentage heights are resolved).</p>
     <h4 class="heading settled" data-level="3.10.2" id="row-layout"><span class="secno">3.10.2. </span><span class="content">Row layout (first pass)</span><a class="self-link" href="#row-layout"></a></h4>
     <p>The <strong>minimum height of a row</strong> (without spanning-related height distribution)
				is defined as the height of
				an hypothetical linebox containing the cells originating in the row
				and where cells spanning multiple rows are considered having a height of 0px
				(but their correct baseline).
			In this hypothetical linebox, cell heights are considered auto,
				their width (including borders and paddings) is forced to the widths and inner spacings of the columns they span,
				but their other properties are conserved.</p>
     <p>For the purpose of calculating this height,
				descendants of table cells whose height depends on percentages of their parent cell' height <a href="#appropriateness-of-child-percentage-resolution" id="ref-for-appropriateness-of-child-percentage-resolution">(see section below)</a> are considered to have an auto height
					if they have <a class="property css" data-link-type="property" href="https://drafts.csswg.org/css-overflow-3/#propdef-overflow" id="ref-for-propdef-overflow③">overflow</a> set to <code>visible</code> or <code>hidden</code> or if they are replaced elements,
				and a 0px height if they have not. <a href="https://jsfiddle.net/0e12ve9b/">Testcase</a> <a href="https://jsfiddle.net/0e12ve9b/3/">!!Testcase</a></p>
     <div class="note" role="note"> For table-cell descendants whose percentage height was ignored as a result of the above, 
					a second layout pass of the table-cell content will happen once height distribution has concluded
					to attempt to properly take this sizing into account <a href="#resolving-percentages-heights-in-table-cell-content" id="ref-for-resolving-percentages-heights-in-table-cell-content">(see section below)</a> </div>
     <p>The <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="table-cell-baseline">baseline of a cell</dfn> is defined as
				the baseline of the first in-flow line box in the cell, or
				the first in-flow table-row in the cell,
				whichever comes first.
			If there is no such line box or table-row,
				the baseline is the bottom of content edge of the cell box.</p>
     <div class="example" id="example-f7921343">
      <a class="self-link" href="#example-f7921343"></a> 
      <p>Here is how this works out in practice:</p>
<pre>td { vertical-align: baseline; outline: 3px solid silver; }
img { float: left; clear: left; width: 32px; height: 32px; }
img[title] { float: none; }

&lt;table>&lt;tr>
  &lt;td>Baseline&lt;/td>
  &lt;td>Baseline&lt;table>&lt;tr>&lt;td>After&lt;/td>&lt;/tr>&lt;/table>&lt;/td>
  &lt;td>&lt;table>&lt;tr>&lt;td>Baseline&lt;/td>&lt;/tr>&lt;/table>After&lt;/td>
  &lt;td>&lt;table align=right>&lt;tr>&lt;td>Before&lt;/td>&lt;/tr>&lt;/table>&lt;p>Baseline&lt;/p>&lt;/td>
  &lt;td>&lt;img src="http://w3.org/favicon.ico" />&lt;p>Baseline&lt;/p>&lt;/td>
  &lt;td>&lt;img src="http://w3.org/favicon.ico" title="Baseline"/>&lt;br/>&lt;img src="http://w3.org/favicon.ico" title="After"/>&lt;/td>
  &lt;td>&lt;img src="http://w3.org/favicon.ico" />&lt;img src="http://w3.org/favicon.ico" />&lt;!--Baseline-->&lt;/td>
&lt;/tr>&lt;/table>
</pre>
      <figure>
        <img alt="[see-caption-below]" height="185" src="images/td-baseline-example-rendering.png" width="585"> 
       <figcaption>Rendering of <a href="https://jsfiddle.net/x8sh0f60/3/">this example</a> in a compliant browser</figcaption>
      </figure>
     </div>
     <p class="advisement"> For the purposes of finding a baseline,
					in-flow boxes with a scrolling mechanisms (see the <a class="property css" data-link-type="property" href="https://drafts.csswg.org/css-overflow-3/#propdef-overflow" id="ref-for-propdef-overflow④">overflow</a> property)
					must be considered as if scrolled to their origin position. </p>
     <p class="note" role="note"> The baseline of a cell may end up below its bottom border,
					see the example below. </p>
     <div class="example" id="example-f858e943">
      <a class="self-link" href="#example-f858e943"></a> 
      <p>The cell in this example has a baseline below its bottom border:</p>
<pre>div { height: 0; overflow: hidden; }

&lt;table>
&lt;tr>
&lt;td>
&lt;div> Test &lt;/div>
&lt;/td>
&lt;/tr>
&lt;/table>
</pre>
     </div>
     <p>The <a class="property css" data-link-type="property" href="https://drafts.csswg.org/css-inline-3/#propdef-vertical-align" id="ref-for-propdef-vertical-align">vertical-align</a> property of each table cell determines its alignment within the row.
			Each cell’s content has a baseline, a top, a middle, and a bottom, as does the row itself.</p>
     <p>In the context of table cells, values for <a class="property css" data-link-type="property" href="https://drafts.csswg.org/css-inline-3/#propdef-vertical-align" id="ref-for-propdef-vertical-align①">vertical-align</a> have the following meanings:</p>
     <table class="def">
      <tbody>
       <tr>
        <th style="vertical-align:top">baseline
        <td>The baseline of the cell is aligned with the baseline of the other cells of the first row it spans (see the definition of baselines of <a href="#table-cell-baseline" id="ref-for-table-cell-baseline">cells</a> and <a href="#table-row-baseline" id="ref-for-table-row-baseline">rows</a>).
       <tr>
        <th style="vertical-align:top">top
        <td>The top of the cell box is aligned with the top of the first row it spans.
       <tr>
        <th style="vertical-align:top">bottom
        <td>The bottom of the cell box is aligned with the bottom of the last row it spans.
       <tr>
        <th style="vertical-align:top">middle
        <td>The center of the cell is aligned with the center of the rows it spans.
       <tr>
        <th style="vertical-align:top" title="sub, super, text-top, text-bottom, <length>, <percentage>">...
        <td>Other values do not apply to cells; the cell is aligned at the baseline instead.
     </table>
     <p>The maximum distance between
				the top of the cell box
				and the baseline over all cells that have 'vertical-align: baseline'
				is used to set the <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="table-row-baseline">baseline of the row</dfn>.
			If a row doesn’t have any cell that has 'vertical-align: baseline',
				the baseline of that row is the bottom content edge of the lowest cell in the row.</p>
     <p>The <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="table-root-baseline">baseline of a table-root</dfn> is the baseline of its first row, if any.
				Otherwise, it is the bottom content edge of the table-root.</p>
     <p><a class="hint" href="https://wptest.center/#/mz09g6">Testcase</a> <a class="hint" href="https://wptest.center/#/x80356">!!Testcase</a></p>
     <div class="advisement">
      <p>To avoid ambiguous situations,
				the alignment of cells proceeds in the following order:</p>
      <ul>
       <li>First the cells that are aligned on their baseline are positioned.
						This will establish the baseline of the row. 
       <li>Next the cells with 'vertical-align: top' are positioned.
						The row now has a top, possibly a baseline, and a provisional height,
							which is the distance from the top to the lowest bottom of the cells positioned so far. 
       <li>If any of the remaining cells, those aligned at the bottom or the middle,
							have a height that is larger than the current height of the row,
							the height of the row will be increased to the maximum of those cells,
							by lowering the bottom. 
       <li>Finally, assign their position to the remaining cells. 
      </ul>
     </div>
     <div class="example" id="example-7b23a3cb">
      <a class="self-link" href="#example-7b23a3cb"></a> 
      <p>Example showing how the previous algorithm creates the various alignment lines of a row.</p>
      <figure>
        <a href="http://www.w3.org/TR/CSS2/images/longdesc/cell-align-desc.html"><img alt="[see-caption-below]" height="241" src="images/cell-align-explainer.png" width="375"></a> 
       <figcaption> Diagram showing the effect of various values of <a class="property css" data-link-type="property" href="https://drafts.csswg.org/css-inline-3/#propdef-vertical-align" id="ref-for-propdef-vertical-align②">vertical-align</a> on table cells.
						Cell boxes 1 and 2 are aligned at their baselines. Cell box 2 has the largest height above the baseline, so that determines the baseline of the row. </figcaption>
      </figure>
     </div>
     <p>Since during row layout the specified heights of cells in the row were ignored
				and cells that were spanning more than one rows have not been sized correctly,
				their height will need to be eventually distributed to the set of rows they spanned.
			This is done by running the same algorithm as the <a href="#computing-column-measures">column measurement</a>,
				with the span=1 value being initialized (for min-content) with the largest of
				the resulting height of the previous row layout,
				the height specified on the corresponding table-row (if any),
				and the largest height specified on cells that span this row only
				(the algorithm starts by considering cells of span 2 on top of that assignment).</p>
     <div class="issue" id="issue-58165e24"><a class="self-link" href="#issue-58165e24"></a> EDITORIAL. Import the relevant section of <a href="#computing-column-measures">§ 3.8.3 Computing Column Measures</a> here. </div>
     <p>Rows that see their size increase as a result of applying these steps
				adjust by lowering their bottom.</p>
     <div class="advisement">
      <p>The cells whose position depended on the bottom of any updated row
					must be positioned correctly again in their respective rows.</p>
      <p>At this point, cell boxes that are smaller than the collective height of the rows they span
					receive extra top and/or bottom padding
					such that their content does not move vertically
					but their top/bottom edges meet the ones of the first/last row they span.</p>
     </div>
     <div class="note" role="note"> Please note that heights being defined on row groups are being ignored by this algorithm </div>
     <h4 class="heading settled" data-level="3.10.3" id="row-relayout"><span class="secno">3.10.3. </span><span class="content">Row layout (second pass)</span><a class="self-link" href="#row-relayout"></a></h4>
     <p>Once the table height has been determined, a second row layout pass will be performed, if necessary,
				to assign the correct minimum height to table rows, by taking percentages used in rows/cells specified <a class="property css" data-link-type="property" href="https://drafts.csswg.org/css-sizing-3/#propdef-height" id="ref-for-propdef-height⑦">height</a> into account.
				Other than that, all instructions for the first-pass row layout apply <a href="#row-layout">(see above)</a>.</p>
     <div class="note" role="note"> Please note that this second-pass minimum height therefore still treats percentage heights of table-cell descendants as advised for the first pass <a href="#row-layout">(see above)</a>. 
				For this reason, it is not required to relayout the content of table-cells to compute the new row minimum height.
				If necessary, table-cell content will undergo a relayout later,
					after table height distribution has concluded <a href="#table-cell-content-relayout">(see below)</a>. </div>
     <p>Then, if the sum of the new heights of the table rows after this second pass
			is different from what is needed to fill the table height previously determined,
				the height distribution algorithm defined <a href="#height-distribution-algorithm">below</a> is applied
				(either to shrink rows by sizing them intermediately between their first-pass minimum height and their second-pass one,
				or to increase the heights of all rows beyond their second-pass minimum height to fill the available space;
				in neither case, this will have an impact on the baseline of the rows).</p>
     <h4 class="heading settled" data-level="3.10.4" id="height-distribution-principles"><span class="secno">3.10.4. </span><span class="content">Core distribution principles</span><a class="self-link" href="#height-distribution-principles"></a></h4>
     <div class="issue" id="issue-b62068df"><a class="self-link" href="#issue-b62068df"></a> EDITORIAL. TODO. For current proposal, skip to <a href="#height-distribution-algorithm">§ 3.10.5 Distribution algorithm</a>. </div>
     <details class="note">
      <summary style="font-weight: bold; font-size: 120%;" tabindex="0"> Investigations on height distribution </summary>
      <aside>
       <p>Initial analysis shows that there are indeed similarities between width and height distribution.
					There are also differences which I described here below:</p>
       <p>In many case, all browsers apply a distribution algorithm that favors percentages over pixels over auto. <span class="hint"><a href="https://jsfiddle.net/xg2ss965/2/">Case 6</a></span>.</p>
       <p>A difference with the width distribution algorithm is that
						if the sum of all rows' heights is higher than 100%,
						then all browsers enter a completely different mode. <a href="https://jsfiddle.net/6ec0hxgx/">Case 7</a>. <span class="hint"> NOTE: The sum counts as well percentage heights and pixels heights,
							since at this point you can safely resolve percentages. </span> <br></p>
       <p>In this case, pixel-tracks are sized properly first.
					Then, percentage tracks get the remaining space proportionally to their height percentage up to their height percentage.
					Finally, auto tracks get to fill the remaining space, if there is any auto track.
					If there is none, percentage tracks continue growing above their height percentage until all the space is filled. <a href="https://jsfiddle.net/xg2ss965/1/">Case 9</a>.</p>
       <p>The height distribution algorithm also caps the sum of percentage heights to 100% in all browsers but Edge.
					That means that some rows get an arbitrary 0% height. <a href="https://jsfiddle.net/xg2ss965/">Case 8</a>.</p>
       <p>In Edge and Firefox, empty tracks do not get an increased size by this distribution if there are filled auto tracks.
					In Chrome, empty tracks count as distributable tracks as well even if there are other auto tracks.</p>
       <ul class="inline hint">
        <li>Case 1: <a href="https://jsfiddle.net/Lh9shm8p/">height</a> vs <a href="https://jsfiddle.net/wza8huh7/">width</a> 
        <li>Case 2: <a href="https://jsfiddle.net/Lh9shm8p/1/">height</a> vs <a href="https://jsfiddle.net/wza8huh7/1/">width</a> 
        <li>Case 3: <a href="https://jsfiddle.net/Lh9shm8p/2/">height</a> vs <a href="https://jsfiddle.net/wza8huh7/2/">width</a> 
        <li>Case 4: <a href="https://jsfiddle.net/Lh9shm8p/3/">height</a> vs <a href="https://jsfiddle.net/wza8huh7/3/">width</a> 
        <li>Case 5: <a href="https://jsfiddle.net/Lh9shm8p/4/">height</a> vs <a href="https://jsfiddle.net/wza8huh7/4/">width</a> 
       </ul>
       <p id="min-content-and-percentages"> Interesting test cases about min-content and content using percentage sizes: </p>
       <ul class="compact">
        <li><a href="https://jsfiddle.net/gzapbyeg/1/">Case 10</a>. 
        <li><a href="https://jsfiddle.net/gzapbyeg/2/">Case 11</a>. 
       </ul>
        <br> Chrome and Edge apply percentages on the final layout.
						All browsers work around them during the first pass
							by considering them 0% (Chrome) or
							by ignoring the declaration (Edge, Firefox).
						The difference of choice is visible in <a href="https://jsfiddle.net/vmfrLzke/1/">Case 12</a>. <a href="http://codepen.io/FremyCompany/pen/obdYjv?editors=1100">Case 13</a>. 
      </aside>
     </details>
     <h4 class="heading settled" data-level="3.10.5" id="height-distribution-algorithm"><span class="secno">3.10.5. </span><span class="content">Distribution algorithm</span><a class="self-link" href="#height-distribution-algorithm"></a></h4>
     <p>The first step is to attribute to each row its base size and its reference size.</p>
     <p>Its <strong>base size</strong> is the size it would have got
				if the table didn’t have a specified height
				(the one it was assigned when ROWMIN was evaluated).</p>
     <p>Its <strong>reference size</strong> is the largest of</p>
     <ul>
      <li>its initial base height and 
      <li>its new base height
					(the one evaluated during the second layout pass,
					where percentages used in rowgroups/rows/cells' specified heights
					were resolved according to the table height,
					instead of being ignored as 0px).
     </ul>
     <p>The second step is to compute the final height of each row based on those sizes.</p>
     <p>If the table height is equal or smaller than sum of reference sizes,
				the final height assigned to each row will be
				the weighted mean of the base and the reference size
				that yields the correct total height.</p>
     <p>Else, if the table owns any “auto-height” row
				(a row whose size is only determined by its content size and none of the specified heights),
				each non-auto-height row receives its reference height
				and auto-height rows receive their reference size plus some increment
				which is equal to the height missing to amount to the specified table height
				divided by the amount of such rows.</p>
     <p>Else, all rows receive their reference size plus some increment
				which is equal to the height missing to amount to the specified table height
				divided by the amount of rows.</p>
     <div class="advisement">
      <p>The cells whose position depended on the bottom of any updated row
					must be positioned correctly again in their respective rows.</p>
      <p>At this point, cell boxes that are smaller than the collective height of the rows they span
					receive extra top and/or bottom padding
					such that their content does not move vertically
					but their top/bottom edges meet the ones of the first/last row they span.</p>
     </div>
     <h4 class="heading settled" data-level="3.10.6" id="table-cell-content-relayout"><span class="secno">3.10.6. </span><span class="content">Table-cell content layout (second pass)</span><a class="self-link" href="#table-cell-content-relayout"></a></h4>
     <p>Once table-height distribution has concluded, and the sum of row heights plus spacing/border is equal to the table height,
				the content of table-cells which contained descendants whose percentage heights were ignored 
				or treated as 0px by the first-pass row layout rules <a href="#row-layout">(see above)</a> must undergo a second layout pass, as defined below.</p>
     <div class="note" role="note"> Note that this means UAs are either required to keep track of the usage of percentages
				in the properties of any direct child of the table-cell including (but not limited to)
				the <a class="property css" data-link-type="property" href="https://drafts.csswg.org/css-sizing-3/#propdef-height" id="ref-for-propdef-height⑧">height</a> and <a class="property css" data-link-type="property" href="https://drafts.csswg.org/css-sizing-3/#propdef-min-height" id="ref-for-propdef-min-height">min-height</a> properties for horizontal flows and 
				the <a class="property css" data-link-type="property" href="https://drafts.csswg.org/css-sizing-3/#propdef-width" id="ref-for-propdef-width①⑤">width</a> and <a class="property css" data-link-type="property" href="https://drafts.csswg.org/css-sizing-3/#propdef-min-width" id="ref-for-propdef-min-width①①">min-width</a> properties for vertical flows, 
				or else required to perform this second layout pass on table-cell content in all cases. </div>
     <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-lt="Resolve percentage heights in table-cell content:" data-noexport id="resolving-percentages-heights-in-table-cell-content"> Resolve percentage heights in table-cell content:</dfn> Once the final size of the table and the rows has been determined,
				after height distribution has concluded,
				the content of the table-cells must also go through a second layout pass,
				where, if <a href="#appropriateness-of-child-percentage-resolution" id="ref-for-appropriateness-of-child-percentage-resolution①">appropriate</a>, percentage-based heights are this time resolved
				against their parent cell used height.</p>
     <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-lt="It is appropriate to resolve percentage heights on direct children of a table-cell" data-noexport id="appropriateness-of-child-percentage-resolution"> It is appropriate to resolve percentage heights on direct children of a table-cell</dfn> if the cell is considered to have its height specified explicitly
				or the child is absolutely positioned, see <a href="http://www.w3.org/TR/CSS2/visudet.html#the-height-property">CSS 2</a>.</p>
     <p>For compat reasons, it is further clarified that
				a cell is considered to have its height specified explicitly
				if the computed height of the cell is a length, or 
				if the computed height of its table-root ancestor is a length or percentage,
				regardless of whether that percentage does <a data-link-type="dfn" href="https://drafts.csswg.org/css-sizing-3/#behave-as-auto" id="ref-for-behave-as-auto">behave as auto</a> or not.</p>
     <div class="example" id="example-a3b7459d">
      <a class="self-link" href="#example-a3b7459d"></a> To clarify the preceding statements, here is a table of the resulting "A" div height based on the value being used: 
<pre>&lt;section style="height: var(--wrapper-height)">
  &lt;table style="height: var(--table-height)">
    &lt;tr>
      &lt;td style="height: var(--table-cell-height)">

        &lt;div style="height:100%; background:yellow">A&lt;/div>

      &lt;/td>
      &lt;td style="height: var(--other-table-cell-height)">

        B&lt;br>C

      &lt;/td>
    &lt;/tr>
  &lt;/table>
&lt;/section>
</pre>
      <table class="border-1 rules-all" style="margin: auto; font-family: &apos;Consolas&apos;, monospace">
       <thead>
        <tr>
         <th>--table-cell-height  
         <th>--table-height  
         <th>result  
       <tbody>
        <tr>
         <td>&lt;length>
         <td><i style="opacity:0.5">&lt;any></i>
         <td><img alt="100%" height="29" src="images/percentage-heights-hundred-percent.png" style="vertical-align: middle" title="Percentage honored during second layout pass" width="23">
        <tr>
         <td><i style="opacity:0.5">&lt;any></i>
         <td>&lt;length>
         <td><img alt="100%" height="29" src="images/percentage-heights-hundred-percent.png" style="vertical-align: middle" title="Percentage honored during second layout pass" width="23">
        <tr>
         <td><i style="opacity:0.5">&lt;any></i>
         <td>&lt;percentage>
         <td><img alt="100%" height="29" src="images/percentage-heights-hundred-percent.png" style="vertical-align: middle" title="Percentage honored during second layout pass" width="23">
        <tr>
         <td>auto
         <td>auto
         <td><img alt="auto" height="29" src="images/percentage-heights-auto.png" style="vertical-align: middle" title="Percentage ignored; no second layout pass" width="23">
        <tr>
         <td>&lt;percentage>
         <td>auto
         <td><img alt="auto" height="29" src="images/percentage-heights-auto.png" style="vertical-align: middle" title="Percentage ignored; no second layout pass" width="23">
      </table>
      <p>Note that neither <code>--other-table-cell-height</code> nor <code>--wrapper-height</code> do influence the algorithm’s outcome.</p>
      <p>A previous version of this specification incorrectly stated that <code>--wrapper-height</code> was taken into account when the table had a percentage height,
				but compat issues appeared when an implementation landed, and the behavior was then special-cased.</p>
     </div>
     <div class="note" role="note"> It is possible that this second layout pass (where height percentages are being resolved)
					will make some cell contents overflow their parent cell, 
					for instance if the sum of all percentages used is superior to 100%. 
				This is by design. </div>
     <h3 class="heading settled" data-level="3.11" id="bounding-box-assignment"><span class="secno">3.11. </span><span class="content">Positioning of cells, captions and other internal table boxes</span><a class="self-link" href="#bounding-box-assignment"></a></h3>
     <p class="issue" id="issue-4891a998"><a class="self-link" href="#issue-4891a998"></a> We need a resolution on what visibility:collapse does. <a href="https://github.com/w3c/csswg-drafts/issues/478">[Issue #478]</a></p>
     <p>Once the width of each column and the height of each row of the table grid has been determined,
			the final step of algorithm is to assign to each table-internal box its final position.</p>
     <p>The width/height/left/top calculated below define the dimensions of the CSS Layout Box,
			which means that they are accessible via the <a href="https://drafts.csswg.org/cssom-view/#extensions-to-the-htmlelement-interface">offset* properties</a> defined in CSSOM-VIEW,
			(currently limited to css boxes for which you can obtain a corresponding HTMLElement reference).</p>
     <p>The <a data-link-type="dfn" href="#table-wrapper-box" id="ref-for-table-wrapper-box②">table-wrapper</a> box is then sized such that
			it contains the margin box of all <a data-link-type="dfn" href="#table-non-root-element" id="ref-for-table-non-root-element③">table-non-root</a> boxes
			as well as the <a data-link-type="dfn" href="#table-root-element" id="ref-for-table-root-element②④">table-root</a> border-box.</p>
     <div class="note" role="note"> The position defined here is the position of the children
			inside the space reserved for the table-wrapper, which excludes only its margins.
			This is because the captions of the table are located outside the border-box area of the table-root. </div>
     <p>The <b>position of any table-caption having "top" as <a class="property css" data-link-type="property" href="#propdef-caption-side" id="ref-for-propdef-caption-side③">caption-side</a></b> within the table is defined as the rectangle whose:</p>
     <ul class="compact">
      <li>
       width/height is: 
       <ul>
        <li>the width/height assigned to the caption during layout
       </ul>
      <li>
       top location is the sum of: 
       <ul>
        <li>the height reserved for previous top captions (including margins), if any 
        <li>any necessary extra top margin remaining after collapsing margins with the previous caption, if any.
       </ul>
      <li>
       left location is the sum of: 
       <ul>
        <li>the margin left of the caption 
        <li>half of (the table width minus the width of caption and its total horizontal margin).
       </ul>
     </ul>
     <p>The <b>position of any table-cell, table-track, or table-track-group box</b> within the table is defined as the rectangle whose:</p>
     <ul class="compact">
      <li>
       width/height is the sum of: 
       <ul>
        <li>the widths/heights of all <a href="#span" id="ref-for-span⑥">spanned</a> <a href="#visible-track" id="ref-for-visible-track">visible</a> columns/rows 
        <li>the horizontal/vertical <a class="property css" data-link-type="property" href="#propdef-border-spacing" id="ref-for-propdef-border-spacing④">border-spacing</a> times the amount of <a href="#span" id="ref-for-span⑦">spanned</a> <a href="#visible-track" id="ref-for-visible-track①">visible</a> columns/rows minus one 
       </ul>
      <li>
       left/top location is the sum of: 
       <ul>
        <li>for top: the height reserved for top captions (including margins), if any 
        <li>the padding-left/padding-top and border-left-width/border-top-width of the table 
        <li>the widths/heights of all previous <a href="#visible-track" id="ref-for-visible-track②">visible</a> columns/rows 
        <li>the horizontal/vertical <a class="property css" data-link-type="property" href="#propdef-border-spacing" id="ref-for-propdef-border-spacing⑤">border-spacing</a> times the amount of previous <a href="#visible-track" id="ref-for-visible-track③">visible</a> columns/rows plus one 
       </ul>
     </ul>
     <div class="note" role="note"> <b>Reminder:</b> For table-track and table-track-group boxes,
				all tracks of the opposite direction to the grouping are considered spanned.
			For instance, a table-header-group is considered to span all the columns,
				and a table-column-group is considered to span all the rows. </div>
     <div class="note" role="note">
       The above formula take in account <a class="property css" data-link-type="property" href="#propdef-border-spacing" id="ref-for-propdef-border-spacing⑥">border-spacing</a>, and it might not be directly obvious what the effect of these mean, so here are a couple of properties of those formula: 
      <ul>
       <li> the border-spacing before the first track or after the last track in a direction is not included in any track’s or track-group’s breadth. 
       <li> the border-spacing between tracks is not included in any track’s breadth, but is included in the breadth of track-groups spanning both tracks. 
      </ul>
     </div>
     <p>The <b>position of any table-caption having "bottom" as <a class="property css" data-link-type="property" href="#propdef-caption-side" id="ref-for-propdef-caption-side④">caption-side</a></b> within the table is defined as the rectangle whose:</p>
     <ul class="compact">
      <li>
       width/height is: 
       <ul>
        <li>the width/height assigned to the caption during layout
       </ul>
      <li>
       top location is the sum of: 
       <ul>
        <li>the height reserved for top captions (including margins), if any 
        <li>padding-top and border-top-width of the table 
        <li>the height of all <a href="#visible-track" id="ref-for-visible-track④">visible</a> rows 
        <li>padding-bottom and border-bottom-width of the table 
        <li>the height reserved for previous bottom captions (including margins), if any 
        <li>any necessary extra top margin remaining after collapsing margins with the previous bottom caption, if any.
       </ul>
      <li>
       left location is the sum of: 
       <ul>
        <li>the margin left of the caption 
        <li>half of (the table width minus the width of caption and its total horizontal margin).
       </ul>
     </ul>
     <div class="advisement"> <strong>Cell overflow: </strong> If the table is laid out <a data-link-type="dfn" href="#in-fixed-mode" id="ref-for-in-fixed-mode⑨">in fixed mode</a>,
			if the content of some cell has grown more than the cell during its second layout pass
			or if some tracks spanned by visible cells are deemed not <a href="#visible-track" id="ref-for-visible-track⑤">visible</a>,
				the content of some cells may exceed the available space,
				and cause an overflow.
			Such overflow should behave exactly
				like if the cell was an absolutely positioned display:block box
				with the appropriate alignment in place to keep its content in place relative to its inline-start block-start corner (usually top left). <a class="hint" href="https://jsfiddle.net/24bz3Lp1/">!Testcase</a> <a class="hint" href="https://jsfiddle.net/24bz3Lp1/1/">!Testcase</a> <a class="hint" href="https://jsfiddle.net/24bz3Lp1/3/">Testcase</a> </div>
     <div class="advisement"> <strong>Visible tracks: </strong> For the purpose of this algorithm, a column or row
			is considered a <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="visible-track">visible track</dfn> if neither its corresponding table-track nor its table-track-group parent (if any) have <a class="property css" data-link-type="property" href="https://drafts.csswg.org/css-display-4/#propdef-visibility" id="ref-for-propdef-visibility">visibility</a> set to <code>collapse</code>.</div>
     <div class="example" id="example-c06d1eca">
      <a class="self-link" href="#example-c06d1eca"></a> 
      <figure>
        <img alt="A table with a caption above it, showing how the caption margins are totally nested inside the table margins, but are outside the border-box of the table nonetheless." height="483" src="images/table_container.png" width="533"> 
       <figcaption>Diagram of a table with a caption above it.</figcaption>
      </figure>
     </div>
     <div class="note" role="note"> <a class="hint" href="https://jsfiddle.net/3pox7b4f/" id="spanning-ghost-rows">~Testcase</a> <a class="hint" href="https://jsfiddle.net/3pox7b4f/1/">!!Testcase</a> <a class="hint" href="https://jsfiddle.net/3pox7b4f/3/">!!Testcase</a> <a class="hint" href="https://jsfiddle.net/3pox7b4f/4/">!!Testcase</a> <a class="hint" href="https://jsfiddle.net/3pox7b4f/5/">Testcase</a> </div>
     <h2 class="heading settled" data-level="4" id="abspos"><span class="secno">4. </span><span class="content"> Absolute Positioning</span><a class="self-link" href="#abspos"></a></h2>
     <h3 class="heading settled" data-level="4.1" id="abspos-boxes-in-table-root"><span class="secno">4.1. </span><span class="content"> With a table-root as containing block</span><a class="self-link" href="#abspos-boxes-in-table-root"></a></h3>
     <p>If an absolutely positioned element’s <a data-link-type="dfn" href="https://drafts.csswg.org/css-display-4/#containing-block" id="ref-for-containing-block">containing block</a> is generated by a <a data-link-type="dfn" href="#table-wrapper-box" id="ref-for-table-wrapper-box③">table-wrapper</a> box,
	the containing block corresponds to the area around which the table margins are applied,
	including the area where the table border is drawn and the margin area of any table-caption.
	The offset properties (<a class="property css" data-link-type="property" href="https://www.w3.org/TR/CSS21/visuren.html#propdef-top" id="ref-for-propdef-top①">top</a>/<a class="property css" data-link-type="property" href="https://www.w3.org/TR/CSS21/visuren.html#propdef-right" id="ref-for-propdef-right①">right</a>/<a class="property css" data-link-type="property" href="https://www.w3.org/TR/CSS21/visuren.html#propdef-bottom" id="ref-for-propdef-bottom①">bottom</a>/<a class="property css" data-link-type="property" href="https://drafts.csswg.org/css-position-3/#propdef-left" id="ref-for-propdef-left①">left</a>)
	then indicate offsets inwards from the corresponding edges
	of this <span id="ref-for-containing-block①">containing block</span>, as normal.</p>
     <p>Absolute positioning occurs after layout of the <a data-link-type="dfn" href="#table" id="ref-for-table⑤">table</a> and its in-flow contents,
	and does not contribute to the sizing of any table grid tracks
	or affect the size/configuration of the table grid in any way.</p>
     <div class="example" id="example-fc15b82f">
      <a class="self-link" href="#example-fc15b82f"></a> 
      <figure style="margin: 0">
       <figcaption style="text-align: left; font-style: normal;"> The figure below shows how a box absolutely-positioned relative to a table should be rendered. <br><br> The <b>yellow</b> area is the table content edge, yellow arrows the table margins. <br> The <b>green</b> area is the table caption, green arrows the caption margins. <br> The <b>blue</b> area is the table background area, and the darker blue area where the table border area. <br> The <b>black</b> area is the descendant positioned relative to the table, the arrows represent the top/left/bottom/right displacements. </figcaption>
        <img alt="[see-caption-above]" height="402" src="images/css-tables-abspos.svg" width="702"> 
      </figure>
     </div>
     <h3 class="heading settled" data-level="4.2" id="abspos-boxes-in-table-internal"><span class="secno">4.2. </span><span class="content"> With a table-internal as containing block</span><a class="self-link" href="#abspos-boxes-in-table-internal"></a></h3>
     <p>If an absolutely positioned element’s <a data-link-type="dfn" href="https://drafts.csswg.org/css-display-4/#containing-block" id="ref-for-containing-block②">containing block</a> is generated by a <a data-link-type="dfn" href="#table-internal-element" id="ref-for-table-internal-element①">table-internal</a>,
	the containing block corresponds to the area starting at the top left corner of the <a href="#bounding-box-assignment">the area that would be assigned to the box during layout</a> but whose size is computed to be  the one of <a href="#bounding-box-assignment">the area that would be assigned to the box during layout</a> if all tracks were considered visible (irrespective of <a class="property css" data-link-type="property" href="https://drafts.csswg.org/css-display-4/#propdef-visibility" id="ref-for-propdef-visibility①">visibility</a> being set co collapse on some boxes),
	not including borders and paddings as appropriate.</p>
     <div class="note" role="note"> This is done so that hiding column does not trigger a layout in the absolutely-positioned boxes, and the content being clipped doesn’t seem to be moving. <a class="hint" href="https://wptest.center/#/uxin57">!!Testcase</a> <a class="hint" href="https://wptest.center/#/vcmy48">!!Testcase</a> </div>
     <p>The offset properties (<a class="property css" data-link-type="property" href="https://www.w3.org/TR/CSS21/visuren.html#propdef-top" id="ref-for-propdef-top②">top</a>/<a class="property css" data-link-type="property" href="https://www.w3.org/TR/CSS21/visuren.html#propdef-right" id="ref-for-propdef-right②">right</a>/<a class="property css" data-link-type="property" href="https://www.w3.org/TR/CSS21/visuren.html#propdef-bottom" id="ref-for-propdef-bottom②">bottom</a>/<a class="property css" data-link-type="property" href="https://drafts.csswg.org/css-position-3/#propdef-left" id="ref-for-propdef-left②">left</a>)
	then indicate offsets inwards from the corresponding edges
	of this <a data-link-type="dfn" href="https://drafts.csswg.org/css-display-4/#containing-block" id="ref-for-containing-block③">containing block</a>, as normal.</p>
     <p class="issue" id="issue-b01ba738"><a class="self-link" href="#issue-b01ba738"></a> This only works in Firefox. It would make it easier to implement position:sticky in the future, though. <a href="https://bugs.chromium.org/p/chromium/issues/detail?id=417223">[Chrome bug]</a> <a href="https://bugzilla.mozilla.org/show_bug.cgi?id=1289682">[Interop risk: Firefox bug]</a> <a href="https://github.com/w3c/csswg-drafts/issues/858">[Issue #858]</a></p>
     <h3 class="heading settled" data-level="4.3" id="static-position"><span class="secno">4.3. </span><span class="content"> With a table-internal box as non-containing block parent</span><a class="self-link" href="#static-position"></a></h3>
     <p>The only influence of non-containing block parent of an absolutely-positioned box is to define its static position,
	in case both top+bottom and/or left+right end up being auto.</p>
     <p>For table-cells, the absolutely-positioned content is positioned follows the rules for block layout as usual.</p>
     <p>Due to <a href="#fixup">table fixup</a>,
	it is not possible to create an absolutely-positioned box 
	that is the child of a table-internal box that is not a table-cell 
	(see note about float and position for more details).</p>
     <h2 class="heading settled" data-level="5" id="rendering"><span class="secno">5. </span><span class="content">Rendering</span><a class="self-link" href="#rendering"></a></h2>
     <h3 class="heading settled" data-level="5.1" id="paint-order"><span class="secno">5.1. </span><span class="content">Paint order of cells</span><a class="self-link" href="#paint-order"></a></h3>
     <p>Table cells are painted in a table-root in DOM order as usual,
		independently of where cells end up actually being drawn.</p>
     <h3 class="heading settled" data-level="5.2" id="empty-cell-rendering"><span class="secno">5.2. </span><span class="content">Empty cell rendering (separated-borders mode)</span><a class="self-link" href="#empty-cell-rendering"></a></h3>
     <table class="def propdef" data-link-for-hint="empty-cells">
      <tbody>
       <tr>
        <th>Name:
        <td><dfn class="dfn-paneled css" data-dfn-type="property" data-export id="propdef-empty-cells">empty-cells</dfn>
       <tr class="value">
        <th><a href="https://www.w3.org/TR/css-values/#value-defs">Value:</a>
        <td class="prod">show <a data-link-type="grammar" href="https://drafts.csswg.org/css-values-4/#comb-one" id="ref-for-comb-one③">|</a> hide 
       <tr>
        <th><a href="https://www.w3.org/TR/css-cascade/#initial-values">Initial:</a>
        <td>show 
       <tr>
        <th><a href="https://www.w3.org/TR/css-cascade/#applies-to">Applies to:</a>
        <td><a data-link-type="dfn" href="#table-cell" id="ref-for-table-cell①⑧">table-cell</a> boxes 
       <tr>
        <th><a href="https://www.w3.org/TR/css-cascade/#inherited-property">Inherited:</a>
        <td>yes 
       <tr>
        <th><a href="https://www.w3.org/TR/css-values/#percentages">Percentages:</a>
        <td>n/a 
       <tr>
        <th><a href="https://www.w3.org/TR/css-cascade/#computed">Computed value:</a>
        <td>specified keyword 
       <tr>
        <th><a href="https://www.w3.org/TR/cssom/#serializing-css-values">Canonical order:</a>
        <td>per grammar 
       <tr>
        <th><a href="https://www.w3.org/TR/web-animations/#animation-type">Animation type:</a>
        <td>discrete 
     </table>
     <p><a data-link-type="dfn" href="#in-collapsed-borders-mode" id="ref-for-in-collapsed-borders-mode⑤">In collapsed-borders mode</a>,
			this property has no effect.</p>
     <p><a data-link-type="dfn" href="#in-separated-borders-mode" id="ref-for-in-separated-borders-mode④">In separated-borders mode</a>,
			when this property has the value <code>hide</code>,
			no borders or backgrounds are drawn around/behind <a data-link-type="dfn" href="#empty-cell" id="ref-for-empty-cell">empty cells</a>.</p>
     <p>An <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="empty-cell">empty cell</dfn> is a table-cell containing neither:</p>
     <ul>
      <li>floating content, nor 
      <li>in-flow content (other than white space that has been collapsed away by the <a class="property css" data-link-type="property" href="https://drafts.csswg.org/css-text-4/#propdef-white-space" id="ref-for-propdef-white-space">white-space</a> property handling).
     </ul>
     <p class="issue" id="issue-b8b01e42"><a class="self-link" href="#issue-b8b01e42"></a> Can we simplify empty-cells:hide? <a href="https://github.com/w3c/csswg-drafts/issues/605">[Issue #605]</a></p>
     <div class="example" id="example-4dff6f91">
      <a class="self-link" href="#example-4dff6f91"></a> 
      <p>For example, take the following markup and css:</p>
<pre class="lang-markup highlight"><c- p>&lt;</c-><c- f>table</c-><c- p>></c->
  <c- p>&lt;</c-><c- f>td</c-><c- p>>&lt;</c-><c- f>span</c-><c- p>>&lt;/</c-><c- f>span</c-><c- p>>&lt;/</c-><c- f>td</c-><c- p>></c->
  <c- p>&lt;</c-><c- f>td</c-><c- p>>&lt;/</c-><c- f>td</c-><c- p>></c->
  <c- p>&lt;</c-><c- f>td</c-><c- p>>&lt;</c-><c- f>span</c-><c- p>>&lt;/</c-><c- f>span</c-><c- p>>&lt;/</c-><c- f>td</c-><c- p>></c->
<c- p>&lt;/</c-><c- f>table</c-><c- p>></c->
</pre>
<pre class="lang-css highlight">table <c- p>{</c->
  <c- k>width</c-><c- p>:</c-> <c- m>500</c-><c- k>px</c-><c- p>;</c-> <c- k>height</c-><c- p>:</c-> <c- m>300</c-><c- k>px</c-><c- p>;</c->
  <c- k>empty-cells</c-><c- p>:</c-> hide<c- p>;</c->
<c- p>}</c->

table <c- p>{</c-> <c- k>background</c-><c- p>:</c-> black<c- p>;</c-> <c- k>border</c-><c- p>:</c-> <c- m>10</c-><c- k>px</c-> solid black<c- p>;</c-> <c- p>}</c->
td <c- p>{</c-> <c- k>background</c-><c- p>:</c-> white<c- p>;</c-> <c- p>}</c->

table <c- p>{</c-> <c- k>border-spacing</c-><c- p>:</c-> <c- m>0</c-><c- k>px</c-><c- p>;</c-> <c- p>}</c->
td <c- p>{</c-> <c- k>padding</c-><c- p>:</c-> <c- m>0</c-><c- p>;</c-> <c- p>}</c->
</pre>
      <p>The correct rendering of this code snippet is depicted here:</p>
      <figure>
        <img alt="[see-caption-below]" height="300" src="images/empty-cells-example.gif" width="500"> 
       <figcaption>Rendering of three columns whose middle one is hidden by empty-cells:hide</figcaption>
      </figure>
     </div>
     <h3 class="heading settled" data-level="5.3" id="drawing-backgrounds-and-borders"><span class="secno">5.3. </span><span class="content">Drawing backgrounds and borders</span><a class="self-link" href="#drawing-backgrounds-and-borders"></a></h3>
     <h4 class="heading settled" data-level="5.3.1" id="drawing-table-backgrounds-and-borders"><span class="secno">5.3.1. </span><span class="content">Drawing table backgrounds and borders</span><a class="self-link" href="#drawing-table-backgrounds-and-borders"></a></h4>
     <p>Unlike other boxes types, table and inline-table boxes
				do not paint their background and borders around their entire client rect.
			Indeed, the table captions are to be visually positioned between the table margins and its borders,
				which means the drawing areas of various effects applied to the table-root need to be modified.</p>
     <p><b>Painting areas:</b></p>
     <ul>
      <li>Backgrounds, borders and outlines painted relative to the content-box of a table-root are painted relative to the rectangular area occupied by the table grid and its border spacings. 
      <li>Backgrounds, borders and outlines painted relative to the padding-box of a table-root are painted relative to the rectangular area occupied by the table grid and its border spacings, extended on each side by the table-root padding. 
      <li>Backgrounds, borders and outlines painted relative to the border-box of a table-root are painted relative to the rectangular area occupied by the table grid and its border spacings, extended on each side by the table-root padding and border-width. 
     </ul>
     <div class="note" role="note"> This does not affect other uses of these concepts, like <a href="#TODO">absolute positioning</a>. </div>
     <p><a class="hint" href="https://wptest.center/#/6xd2b3">!Testcase</a></p>
     <h5 class="heading settled" data-level="5.3.1.1" id="drawing-collapsed-borders-1"><span class="secno">5.3.1.1. </span><span class="content">Changes in collapsed-borders mode</span><a class="self-link" href="#drawing-collapsed-borders-1"></a></h5>
     <p>When a table is laid out <a data-link-type="dfn" href="#in-collapsed-borders-mode" id="ref-for-in-collapsed-borders-mode⑥">in collapsed-borders mode</a>,
				the rendering of its borders on and those of its table-cells is modified.
			The following rules describe in which way.</p>
     <p class="note" role="note"> The rules for background and borders painting defined in <a href="#drawing-backgrounds-and-borders">§ 5.3 Drawing backgrounds and borders</a> still apply if they are not overridden. </p>
     <p>Borders of a non-<a href="#empty-table" id="ref-for-empty-table">empty</a> <a data-link-type="dfn" href="#table-root-element" id="ref-for-table-root-element②⑤">table-root</a> are not painted <a data-link-type="dfn" href="#in-collapsed-borders-mode" id="ref-for-in-collapsed-borders-mode⑦">in collapsed-borders mode</a>,
				except if the <a class="property css" data-link-type="property" href="https://drafts.csswg.org/css-backgrounds-3/#propdef-border-image" id="ref-for-propdef-border-image">border-image</a> property is set.</p>
     <p>In this latter case, the border is drawn as if the table border was twice as big as its used value specify,
				and as if that excess was rendered inside the padding area of the <a data-link-type="dfn" href="#table-root-element" id="ref-for-table-root-element②⑥">table-root</a>.</p>
     <p class="note" role="note"> Even if they are not drawn by the table, the table borders still occupy their space in the layout.
					Cells will <a href="#drawing-cell-borders">render those shared borders</a>. </p>
     <h4 class="heading settled" data-level="5.3.2" id="drawing-cell-backgrounds"><span class="secno">5.3.2. </span><span class="content">Drawing cell backgrounds</span><a class="self-link" href="#drawing-cell-backgrounds"></a></h4>
     <p class="advisement"> Anonymous table-cells added by the <a href="#missing-cells-fixup">missing cells fixup</a> step
					do not render any of their backgrounds. </p>
     <p>In addition to its own <a class="property css" data-link-type="property" href="https://drafts.csswg.org/css-backgrounds-3/#propdef-background" id="ref-for-propdef-background①">background</a>, <a data-link-type="dfn" href="#table-cell" id="ref-for-table-cell①⑨">table-cell</a> boxes also
				render the backgrounds of the <a data-link-type="dfn" href="#table-track" id="ref-for-table-track④">table-track</a> and <a data-link-type="dfn" href="#table-track-group-element" id="ref-for-table-track-group-element④">table-track-group</a> boxes in which they belong.
			This is actually different from simply inheriting their background
				because the <a class="property css" data-link-type="property" href="https://drafts.csswg.org/css-backgrounds-3/#propdef-background-origin" id="ref-for-propdef-background-origin">background-origin</a> and <a class="property css" data-link-type="property" href="https://drafts.csswg.org/css-backgrounds-3/#propdef-background-size" id="ref-for-propdef-background-size">background-size</a> computations will actually be done
				on the bounds of the grouping boxes, and not on those of the cell.</p>
     <p>For the purposes of finding the background of each table cell,
				the different table boxes may be thought of as being on six superimposed layers.
			The background set in one of the layers will only be visible
				if the layers above it have a transparent background.</p>
     <figure>
       <img alt="[see-caption-below]" src="https://www.w3.org/TR/CSS2/images/tbl-layers.png"> 
      <figcaption>Schema of table layers.</figcaption>
     </figure>
     <p></p>
     <ol start="0">
      <li>The table background is being rendered by the table,
					and does not affect the cell background. 
      <li>The first background drawn by a cell is the background of its originating table-column-group (if any).
					For the purpose of background-positioning,
						it is expected that a column group occupies
						the largest possible area a single cell could occupy in the row/column grid
						while originating in the column group and not entering any column not part of the column group. 
      <li>The second background drawn by a cell is the background of its originating table-column (if any).
					For the purpose of background-positioning,
						it is expected that a column occupies
						the largest possible area a single cell could occupy in the row/column grid
						while originating in the column and not entering any other column. 
      <li>The third background drawn by a cell is the background of its originating table-row-group (if any).
					For the purpose of background-positioning,
						it is expected that a row group occupies
						the largest possible area a single cell could occupy in the row/column grid
						while originating in the row group and not entering any row not part of the row group. 
      <li>The fourth background drawn by a cell is the background of its originating table-row (if any).
					For the purpose of background-positioning,
						it is expected that a row occupies
						the largest possible area a single cell could occupy in the row/column grid
						while originating in the row and not entering any other row. 
      <li>The fifth background drawn by a cell is its own background.
					This is the one that appears on top once all backgrounds have been rendered. 
     </ol>
     <p>As the figure above shows, although all rows contain the same number of cells,
				not every cell may have specified content. <a data-link-type="dfn" href="#in-separated-borders-mode" id="ref-for-in-separated-borders-mode⑤">In separated-borders mode</a>, if the value of their <a class="property css" data-link-type="property" href="#propdef-empty-cells" id="ref-for-propdef-empty-cells">empty-cells</a> property is <code>hide</code>,
				these <a data-link-type="dfn" href="#empty-cell" id="ref-for-empty-cell①">empty cells</a> are not rendered at all,
				as if <code>visibility: hidden</code> was specified on them,
				letting the table background show through.</p>
     <h4 class="heading settled" data-level="5.3.3" id="drawing-cell-borders"><span class="secno">5.3.3. </span><span class="content">Drawing cell borders</span><a class="self-link" href="#drawing-cell-borders"></a></h4>
     <p>In separated-borders mode, borders of table cells are rendered as usual.</p>
     <h5 class="heading settled" data-level="5.3.3.1" id="drawing-collapsed-borders-2"><span class="secno">5.3.3.1. </span><span class="content">Changes in collapsed-borders mode</span><a class="self-link" href="#drawing-collapsed-borders-2"></a></h5>
     <p>Borders of a <a data-link-type="dfn" href="#table-cell" id="ref-for-table-cell②⓪">table-cell</a> are rendered <a data-link-type="dfn" href="#in-collapsed-borders-mode" id="ref-for-in-collapsed-borders-mode⑧">in collapsed-borders mode</a> as if the cell border was twice as big as its used value specify,
				and as if that excess was rendered in the margin area of the cell,
				with the added constraint that
					for each side of the border which isn’t located at one of the table edges,
					the border is actually clipped to the border-box drawing area as its real used value define
					except if the <a class="property css" data-link-type="property" href="https://drafts.csswg.org/css-backgrounds-3/#propdef-border-image" id="ref-for-propdef-border-image①">border-image</a> property is set.</p>
     <p>If applying the previously-mentioned clipping behavior results in clipping a border over a non-integer amount of device pixels,
				browsers may decide to snap the clipping area to a device pixel instead by ceiling the x- and y-values of the clipping area.
			Ceiling the values ensures that in a normal writing mode,
				the cell which gets the contested pixels between multiple cells is actually the most top left one,
				which has a greater specificity than the other ones according to this spec. <span class="hint">See <a href="#paint-order">§ 5.1 Paint order of cells</a> and <a href="#border-conflict-resolution-algorithm">§ 3.7.1.1 Conflict Resolution Algorithm for Collapsed Borders</a>.</span></p>
     <h4 class="heading settled" data-level="5.3.4" id="border-style-overrides"><span class="secno">5.3.4. </span><span class="content">Border styles (collapsed-borders mode)</span><a class="self-link" href="#border-style-overrides"></a></h4>
     <p>Some of the values of the <a class="property css" data-link-type="property" href="https://drafts.csswg.org/css-backgrounds-3/#propdef-border-style" id="ref-for-propdef-border-style②">border-style</a> have different meanings for tables <a data-link-type="dfn" href="#in-collapsed-borders-mode" id="ref-for-in-collapsed-borders-mode⑨">in collapsed-borders mode</a> than usual.
			Those definitions override the default behavior for <span class="property" id="ref-for-propdef-border-style③">border-style</span> values.</p>
     <dl>
      <dt data-md>hidden
      <dd data-md>
       <p>Same as <code>none</code>, but also inhibits any other border (see <a href="#border-specificity">§ 3.7.1.3 Specificity of a border style</a>).</p>
      <dt data-md>inset
      <dd data-md>
       <p>Same as <code>ridge</code>.</p>
      <dt data-md>outset
      <dd data-md>
       <p>Same as <code>groove</code>.</p>
     </dl>
     <h3 class="heading settled" data-level="5.4" id="visibility-collapse-rendering"><span class="secno">5.4. </span><span class="content">Rendering for visibility: collapse</span><a class="self-link" href="#visibility-collapse-rendering"></a></h3>
     <p>When a table part has <a href="http://www.w3.org/TR/CSS22/visufx.html#visibility">visibility: collapse</a> set, the rendering is handled
	differently depending if it is on a <a data-link-type="dfn" href="#table-cell" id="ref-for-table-cell②①">table-cell</a>, spanning <span id="ref-for-table-cell②②">table-cell</span>, or a <a data-link-type="dfn" href="#table-track" id="ref-for-table-track⑤">table-track</a>/<a data-link-type="dfn" href="#table-track-group-element" id="ref-for-table-track-group-element⑤">table-track-group</a>.</p>
     <h4 class="heading settled" data-level="5.4.1" id="visibility-collapse-cell-rendering"><span class="secno">5.4.1. </span><span class="content">Rendering a visibility: collapse table cell</span><a class="self-link" href="#visibility-collapse-cell-rendering"></a></h4>
      As stated in CSS 2.2, if a <a data-link-type="dfn" href="#table-cell" id="ref-for-table-cell②③">table-cell</a> has its visibility set to that of collapse, it is rendered the same as
		if it had <a href="http://www.w3.org/TR/CSS22/visufx.html#visibility">visibility: hidden</a> set. 
     <div class="note" role="note">
      <p>This happens when you set visibility:collapse on a table-row that contains a table-cell.
			If you want to hide a row but continue to display its cells that span other rows, 
			set visibility:visible on those cells to prevent them from inheriting their value.</p>
     </div>
     <p>If the <a data-link-type="dfn" href="#table-cell" id="ref-for-table-cell②④">table-cell</a> is spanning more than one <a data-link-type="dfn" href="#table-track" id="ref-for-table-track⑥">table-track</a>, and at least one of those <span id="ref-for-table-track⑦">table-track</span> is set to <a href="http://www.w3.org/TR/CSS22/visufx.html#visibility">visibility: collapse</a> then clip the content
		to the <span id="ref-for-table-cell②⑤">table-cell</span>’s border-box. This means that the top left (top right in rtl) content of the cell will continue to show,
		regardless of which of the tracks the cell spans has been collapsed.</p>
     <h4 class="heading settled" data-level="5.4.2" id="visibility-collapse-track-rendering"><span class="secno">5.4.2. </span><span class="content">Rendering a visibility: collapse table-track or table-track-group</span><a class="self-link" href="#visibility-collapse-track-rendering"></a></h4>
      When a <a data-link-type="dfn" href="#table-track" id="ref-for-table-track⑧">table-track</a> or <a data-link-type="dfn" href="#table-track-group-element" id="ref-for-table-track-group-element⑥">table-track-group</a> has <a href="http://www.w3.org/TR/CSS22/visufx.html#visibility">visibility: collapse</a>, 
		all the backgrounds, borders or outlines that are contributed by the cells within the given <span id="ref-for-table-track⑨">table-track</span> or <span id="ref-for-table-track-group-element⑦">table-track-group</span> will continue to be painted on cells that have not been fully collapsed
		(because they spanned multiple tracks). 
     <h2 class="heading settled" data-level="6" id="fragmentation"><span class="secno">6. </span><span class="content">Fragmentation</span><a class="self-link" href="#fragmentation"></a></h2>
     <h3 class="heading settled" data-level="6.1" id="breaking-rules"><span class="secno">6.1. </span><span class="content">Breaking across fragmentainers</span><a class="self-link" href="#breaking-rules"></a></h3>
     <p>When fragmenting a table, user agents must attempt
			to preserve the table rows unfragmented
			if the cells spanning the row do not span any subsequent row, and
			their height is at least twice smaller than both the fragmentainer height and width.
		Other rows are said <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="freely-fragmentable">freely fragmentable</dfn>.</p>
     <p>When a table doesn’t fit entirely in a fragmentainer,
			at least one row did fit entirely in the fragmentainer,
			and the first row that does not fit in the fragmentainer is not <a data-link-type="dfn" href="#freely-fragmentable" id="ref-for-freely-fragmentable">freely fragmentable</a>.
			the user agent has to insert some vertical gap
			between the rows located before and at the overflow point
			such that the two rows end up separated in sibling fragmentainers.
		If the fragmentation requires repeating headers and footers, and the footer is repeated,
			then the footer must come directly after the last row in the fragmentainer
			and the vertical gap must be inserted after the repeated footer.</p>
     <figure>
       <img alt="[see-caption-below]" src="./images/CSS-Tables-Fragmentation-1.svg" style="width:100%; max-width: 500px;"> 
      <figcaption>Expected rendering of table fragmented across two pages</figcaption>
     </figure>
     <p>When there is no row fitting entirely in the current fragmentainer
		or when the first row that does not fit in the fragmentainer is <a data-link-type="dfn" href="#freely-fragmentable" id="ref-for-freely-fragmentable①">freely fragmentable</a>,
			user agents must attribute all the remaining height in the fragmentainer to the cells
			of that row, and fit as much content as it can in each of the cells independently,
			then break to the next fragment and start the content of each cell where it was stopped
			in its previous fragment (top borders must not be repainted in continuation fragments).</p>
     <figure>
       <img alt="[see-caption-below]" src="./images/CSS-Tables-Fragmentation-2.svg" style="width:100%; max-width: 500px;"> 
      <figcaption>Expected rendering of table containing a tall row fragmented across two pages</figcaption>
     </figure>
     <p>When <a class="property css" data-link-type="property" href="https://drafts.csswg.org/css-break-3/#propdef-break-before" id="ref-for-propdef-break-before">break-before</a> or <a class="property css" data-link-type="property" href="https://drafts.csswg.org/css-break-3/#propdef-break-after" id="ref-for-propdef-break-after">break-after</a> is applied
		to a <a data-link-type="dfn" href="#table-row-group" id="ref-for-table-row-group⑧">table-row-group</a> or a <a data-link-type="dfn" href="#table-row" id="ref-for-table-row①②">table-row</a> box,
			the user agent has to insert some vertical gap
			between the rows located before and after the breaking point
			such that the two rows end up separated in sibling fragmentainers
			as required by the property value.
		If the fragmentation requires repeating headers and footers, and the footer is repeated,
			then the footer must come directly after the last row in the fragmentainer
			and the vertical gap must be inserted after the repeated footer.</p>
     <h3 class="heading settled" data-level="6.2" id="repeated-headers"><span class="secno">6.2. </span><span class="content">Repeating headers across pages</span><a class="self-link" href="#repeated-headers"></a></h3>
     <p>When rendering the document into a <a data-link-type="dfn" href="https://drafts.csswg.org/mediaqueries-5/#paged-media" id="ref-for-paged-media">paged media</a>,
			user agents must repeat <a href="#table-header-group" id="ref-for-table-header-group①">header rows</a> and <a href="#table-footer-group" id="ref-for-table-footer-group①">footer rows</a> on each page spanned by a table
			if the page is the table’s fragmentainer,
			if the header/footer has avoid <a class="property css" data-link-type="property" href="https://drafts.csswg.org/css-break-3/#propdef-break-inside" id="ref-for-propdef-break-inside">break-inside</a> applied to it,
			if the height required to do so is inferior to
				two quarters of the page height
				(up to one quarter for header rows, and
				up to one quarter for footer rows), and
			if that doesn’t cause a row to be displayed twice
				on that page.</p>
     <p>When the header rows are being repeated, user agents must
			leave room and if needed render the table top border.
		The same applies for footer rows and the table bottom border.</p>
     <figure>
       <img alt="[see-caption-below]" src="./images/CSS-Tables-Repeating-Headers.svg" style="width:100%; max-width: 500px;"> 
      <figcaption>Expected rendering of table with headers and footers fragmented across two pages</figcaption>
     </figure>
     <p class="advisement"> User agents may decide to extend this behavior to more fragmentation contexts,
				for instance repeat headers/rows across columns in addition to pages.
			User-agents that are rendering static documents are more likely to adopt this behavior,
				though this is not required per spec. </p>
     <h2 class="heading settled" data-level="7" id="security"><span class="secno">7. </span><span class="content">Security Considerations</span><a class="self-link" href="#security"></a></h2>
     <p>Using CSS Tables does not incur any security risk to mitigate.</p>
     <h2 class="heading settled" data-level="8" id="privacy"><span class="secno">8. </span><span class="content">Privacy Considerations</span><a class="self-link" href="#privacy"></a></h2>
     <p>Using CSS Tables does not incur any privacy risk to mitigate.</p>
     <h2 class="heading settled" data-level="9" id="bug-list"><span class="secno">9. </span><span class="content">List of bugs being tracked</span><a class="self-link" href="#bug-list"></a></h2>
     <p style="font-style: italic"> This section is not normative. </p>
     <ul class="bug-list">
      <li>
       <details>
        <summary tabindex="0"> <a href="http://codepen.io/FremyCompany/pen/jWzpjq?editors=1100"> Align=center attribute overrides css margins in Edge </a> </summary>
        <aside> Chrome and Firefox let CSS win.<br> Edge hides every border + table/row-group/row background.<br> <br> This specification says that Chrome and Firefox are right.<br> <a href="#mapping">§ 10.1 Mapping between CSS &amp; HTML attributes</a> </aside>
       </details>
      <li>
       <details>
        <summary tabindex="0"> <a href="http://codepen.io/FremyCompany/pen/ZQxVMo?editors=1100"> Chrome applies nowrap quirks mode fix in DOCTYPE documents too </a> </summary>
        <aside> Edge and Firefox do not apply the fix in normal mode.<br> Chrome also applies it for css widths, which is not what the spec says to do.<br> <br> The WHATWG spec says that Chrome is wrong.<br> This spec is aiming to state the same thing.<br> <a href="#mapping">§ 10.1 Mapping between CSS &amp; HTML attributes</a> </aside>
       </details>
      <li>
       <details>
        <summary tabindex="0"> <a href="http://codepen.io/FremyCompany/pen/RrMvPR?editors=1100"> Edge does not account for widths of spanned cells </a> </summary>
        <aside> Chrome and Firefox merge the two columns so are not affected.<br> Edge does not then is confused about what to do.<br> <br> The specs says that Edge is wrong.<br> <a href="#dimensioning-the-row-column-grid">§ 3.3 Dimensioning the row/column grid</a> </aside>
       </details>
      <li>
       <details>
        <summary tabindex="0"> <a href="https://jsfiddle.net/6L94pxgn/1/#6188753"> Chrome and Gecko do not apply display:table-cell on &lt;button> </a> </summary>
        <aside> Also <a href="https://jsfiddle.net/6L94pxgn/3/">@lt;fieldset></a>.
			This specification says that Chrome and Firefox are wrong.<br> <a href="#style-overrides">§ 3.6 Style overrides</a> </aside>
       </details>
      <li>
       <details>
        <summary tabindex="0"> <a href="http://codepen.io/FremyCompany/pen/xZWmXy?editors=1100"> Edge’s table-cell width unexplainably low due to percentage-max-width on content and colspan </a> </summary>
        <aside> Edge has issues with percentage widths.<br> <br> This specification should say that Chrome and Firefox are right, I guess.<br> <a href="#computing-cell-measures">§ 3.8.2 Computing Cell Measures</a> </aside>
       </details>
      <li>
       <details>
        <summary tabindex="0"> <a href="http://codepen.io/FremyCompany/pen/PZRdzo?editors=1100"> Table wrapper boxes should be wide enough to contain the caption </a> </summary>
        <aside> Chrome uses the CSS21 algorithm that fulfill this.<br> Firefox and Edge use David Baron’s algorithm that doesn’t.<br> <br> This specification has no opinion yet on the matter.<br> Chrome behavior is simpler to spec but not intuitive.<br> <a href="#computing-the-table-width">§ 3.9.1 Computing the table width</a> <br> <br> This may be solved by <a href="https://lists.w3.org/Archives/Public/www-style/2010Sep/0186.html"> www-list</a> on the width of the table boxes in relation to their table captions </aside>
       </details>
      <li>
       <details>
        <summary tabindex="0"> <a href="http://codepen.io/FremyCompany/pen/VeXVwz?editors=1100"> Tables containing no row cannot have height in Chrome, but can in Edge/Firefox </a> </summary>
        <aside> Chrome has table height = 0px.<br> Firefox and Edge have table height = specified height.<br> <br> This specification has no opinion yet on the matter.<br> Firefox and Edge match author intentions better.<br> <a href="#computing-the-table-height">§ 3.10.1 Computing the table height</a> </aside>
       </details>
      <li>
       <details>
        <summary tabindex="0"> <a href="http://codepen.io/FremyCompany/pen/yeKRGW?editors=1100"> Table-layout:fixed causes different width distribution in Chrome </a> </summary>
        <aside> Chrome starts to value px then percentages.<br> Others continue to value percentage then px.<br> <br> This specification has no opinion yet on the matter.<br> It is intended to specify the Edge/Firefox behavior.<br> <a href="#width-distribution">§ 3.9 Available Width Distribution</a> </aside>
       </details>
      <li>
       <details>
        <summary tabindex="0"> <a href="http://codepen.io/FremyCompany/pen/XXEoWe?editors=1100"> Chrome distributes the height to each row differently then IE and firefox </a> </summary>
        <aside> Chrome distributes rather equally.<br> Edge and Firefox work more similarly to width distribution.<br> <br> This specification has no opinion yet on the matter.<br> I think it makes sense to behave similarly for width and height, though.<br> <a href="#height-distribution">§ 3.10 Available Height Distribution</a> </aside>
       </details>
      <li>
       <details>
        <summary tabindex="0"> <a href="http://codepen.io/FremyCompany/pen/PZRdOP?editors=1100"> Height of rows which can overflow varies in Chrome vs Edge
				(percentage heights during min-height computation) </a> </summary>
        <aside> Chrome chooses table constraints over the no-scroll constraint.<br> Edge and Firefox do the opposite.<br> <br> This specification has no opinion yet on the matter.<br> Edge’s behavior is right by default due to CSS Sizing, though.<br> It would make sense to do what Chrome is doing when elements have non-visible overflow-y.<br> <a href="#height-distribution">§ 3.10 Available Height Distribution</a> <a href="#min-content-and-percentages">#REF</a> </aside>
       </details>
      <li>
       <details>
        <summary tabindex="0"> <a href="http://codepen.io/FremyCompany/pen/MKVPGR?editors=1100"> Height specified on row groups is not interoperable </a> </summary>
        <aside> Chrome ignores the height.<br> Firefox respects the height.<br> IE applies the height to each cell.<br> <br> This specification has no opinion yet on the matter.<br> An author would expect the Firefox behavior.<br> <a href="#height-distribution">§ 3.10 Available Height Distribution</a> </aside>
       </details>
      <li>
       <details>
        <summary tabindex="0"> <a href="http://codepen.io/FremyCompany/pen/MKVPGR?editors=1100"> Min-Height specified on rows is not interoperable </a> </summary>
        <aside> Chrome and Firefox ignore the height.<br> Edge applies the height.<br> <br> The working group resolved on Edge behavior.<br> An author would expect the Edge behavior.<br> <a href="#height-distribution">§ 3.10 Available Height Distribution</a> </aside>
       </details>
      <li>
       <details>
        <summary tabindex="0"> <a href="http://jsfiddle.net/ArtyomShegeda/Ffjhn/1/"> Table with interleaved td[rowspan] rendered wrong in IE (145069) </a> </summary>
        <aside> Edge height-sizing has issues with this crossed-rowspan table.<br> <br> There is no doubt this is a bug, but it is a good test case for the algorithm.<br><br> <a href="#height-distribution">§ 3.10 Available Height Distribution</a> </aside>
       </details>
      <li>
       <details>
        <summary tabindex="0"> <a href="http://codepen.io/FremyCompany/pen/MKVqXQ?editors=1100"> Row with explicit 'visibility:visible' lose background color
				when parent table has 'visibility: hidden' </a> </summary>
        <aside>
          Chrome only hides table background + border.<br> Firefox hides table background + border, and row-group background.<br> Edge hides every border + table/row-group/row background.<br> <br> This specification currently says that Chrome is right.<br> <a href="#drawing-cell-backgrounds">§ 5.3.2 Drawing cell backgrounds</a><br> 
         <div class="issue" id="issue-2d70544e"><a class="self-link" href="#issue-2d70544e"></a> Should we hide the row-group background
					by saying cells only draw the backgrounds
					of visibility:visible grouping elements? </div>
        </aside>
       </details>
     </ul>
     <h2 class="heading settled" data-level="10" id="appendices"><span class="secno">10. </span><span class="content">Appendices</span><a class="self-link" href="#appendices"></a></h2>
     <h3 class="heading settled" data-level="10.1" id="mapping"><span class="secno">10.1. </span><span class="content">Mapping between CSS &amp; HTML attributes</span><a class="self-link" href="#mapping"></a></h3>
     <p>The default style sheet for HTML4 illustrates how its model maps to css properties and values:</p>
     <div class="note" role="note"> Some extensions to CSS have been used for constraints not mappable to current CSS constructs </div>
<pre class="lang-css highlight">table    <c- p>{</c-> <c- k>display</c-><c- p>:</c-> table <c- p>}</c->
thead    <c- p>{</c-> <c- k>display</c-><c- p>:</c-> table-header-group <c- p>}</c->
tbody    <c- p>{</c-> <c- k>display</c-><c- p>:</c-> table-row-group <c- p>}</c->
tfoot    <c- p>{</c-> <c- k>display</c-><c- p>:</c-> table-footer-group <c- p>}</c->
tr       <c- p>{</c-> <c- k>display</c-><c- p>:</c-> table-row <c- p>}</c->
td<c- p>,</c-> th   <c- p>{</c-> <c- k>display</c-><c- p>:</c-> table-cell <c- p>}</c->
colgroup <c- p>{</c-> <c- k>display</c-><c- p>:</c-> table-column-group <c- p>}</c->
col      <c- p>{</c-> <c- k>display</c-><c- p>:</c-> table-column <c- p>}</c->
caption  <c- p>{</c-> <c- k>display</c-><c- p>:</c-> table-caption <c- p>}</c->
table<c- p>,</c-> thead<c- p>,</c-> tbody<c- p>,</c-> tfoot<c- p>,</c-> tr<c- p>,</c-> td<c- p>,</c-> th<c- p>,</c-> colgroup<c- p>,</c-> col<c- p>,</c-> caption <c- p>{</c-> <c- k>box-sizing</c-><c- p>:</c-> border-box<c- p>;</c-> <c- p>}</c->
thead<c- p>,</c-> tfoot <c- p>{</c-> <c- k>break-inside</c-><c- p>:</c-> avoid <c- p>}</c->

table <c- p>{</c->
  <c- k>box-sizing</c-><c- p>:</c-> border-box<c- p>;</c->
  <c- k>border-spacing</c-><c- p>:</c-> <c- m>2</c-><c- k>px</c-><c- p>;</c->
  <c- k>border-collapse</c-><c- p>:</c-> separate<c- p>;</c->
  <c- k>text-indent</c-><c- p>:</c-> initial<c- p>;</c->
<c- p>}</c->

thead<c- p>,</c-> tbody<c- p>,</c-> tfoot<c- p>,</c-> table > tr <c- p>{</c-> <c- k>vertical-align</c-><c- p>:</c-> middle<c- p>;</c-> <c- p>}</c->
tr<c- p>,</c-> td<c- p>,</c-> th <c- p>{</c-> <c- k>vertical-align</c-><c- p>:</c-> inherit<c- p>;</c-> <c- p>}</c->

td<c- p>,</c-> th <c- p>{</c-> <c- k>padding</c-><c- p>:</c-> <c- m>1</c-><c- k>px</c-><c- p>;</c-> <c- p>}</c->
th <c- p>{</c-> <c- k>font-weight</c-><c- p>:</c-> bold<c- p>;</c->  <c- p>}</c->

table<c- p>,</c-> td<c- p>,</c-> th <c- p>{</c-> <c- k>border-color</c-><c- p>:</c-> gray<c- p>;</c-> <c- p>}</c->
thead<c- p>,</c-> tbody<c- p>,</c-> tfoot<c- p>,</c-> tr <c- p>{</c-> <c- k>border-color</c-><c- p>:</c-> inherit<c- p>;</c-> <c- p>}</c->



table<c- p>[</c->frame=box i<c- p>],</c-> table<c- p>[</c->frame=border i<c- p>],</c-> table<c- p>[</c->frame=hsides i<c- p>],</c-> table<c- p>[</c->frame=above i<c- p>],</c-> table<c- p>[</c->frame=below i<c- p>],</c-> table<c- p>[</c->frame=vsides i<c- p>],</c-> table<c- p>[</c->frame=lhs i<c- p>],</c-> table<c- p>[</c->frame=rhs i<c- p>]</c-> <c- p>{</c->
  <c- k>border</c-><c- p>:</c-> <c- m>1</c-><c- k>px</c-> solid inset<c- p>;</c->
<c- p>}</c->


table<c- nf>:is</c-><c- p>([</c->rules=all i<c- p>],</c-> <c- p>[</c->rules=rows i<c- p>],</c-> <c- p>[</c->rules=cols i<c- p>],</c-> <c- p>[</c->rules=groups i<c- p>],</c-> <c- p>[</c->rules=none i<c- p>])</c-> <c- p>{</c->
  <c- k>border-collapse</c-><c- p>:</c-> collapse<c- p>;</c->
  <c- k>border-style</c-><c- p>:</c-> hidden<c- p>;</c->
<c- p>}</c->

table<c- nf>:is</c-><c- p>([</c->rules=all i<c- p>],</c-> <c- p>[</c->rules=rows i<c- p>],</c-> <c- p>[</c->rules=cols i<c- p>],</c-> <c- p>[</c->rules=groups i<c- p>],</c-> <c- p>[</c->rules=none i<c- p>]),</c->
table<c- nf>:is</c-><c- p>([</c->rules=all i<c- p>],</c-> <c- p>[</c->rules=rows i<c- p>],</c-> <c- p>[</c->rules=cols i<c- p>],</c-> <c- p>[</c->rules=groups i<c- p>],</c-> <c- p>[</c->rules=none i<c- p>])</c-> > <c- nf>:is</c-><c- p>(</c->thead<c- p>,</c->tbody<c- p>,</c->tfoot<c- p>)</c-> > tr > <c- nf>:is</c-><c- p>(</c->th<c- p>,</c->td<c- p>)</c-> <c- p>{</c->
  <c- k>border-color</c-><c- p>:</c-> black<c- p>;</c->
<c- p>}</c->

table<c- p>[</c->border=$border<c- p>]</c-> <c- c>/* if(parseInt($border) > 0) */</c-> <c- p>{</c->
  <c- k>border</c-><c- p>:</c-> <c- c>/*(parseInt($border) * 1px)*/</c-> outset <c- nf>rgb</c-><c- p>(</c-><c- m>128</c-><c- p>,</c-> <c- m>128</c-><c- p>,</c-> <c- m>128</c-><c- p>);</c->
<c- p>}</c->
table<c- p>[</c->border=$border<c- p>]</c-> > <c- nf>:is</c-><c- p>(</c->thead<c- p>,</c->tbody<c- p>,</c->tfoot<c- p>)</c-> > tr > <c- nf>:is</c-><c- p>(</c->th<c- p>,</c->td<c- p>)</c-> <c- c>/* if(parseInt($border) > 0) */</c-> <c- p>{</c->
  <c- k>border</c-><c- p>:</c-> <c- m>1</c-><c- k>px</c-> inset <c- nf>rgb</c-><c- p>(</c-><c- m>128</c-><c- p>,</c-> <c- m>128</c-><c- p>,</c-> <c- m>128</c-><c- p>);</c->
<c- p>}</c->

table<c- p>[</c->rules=all i<c- p>]</c-> > <c- nf>:is</c-><c- p>(</c->thead<c- p>,</c->tbody<c- p>,</c->tfoot<c- p>)</c-> > tr > <c- nf>:is</c-><c- p>(</c->th<c- p>,</c->td<c- p>)</c-> <c- p>{</c->
  <c- k>border</c-><c- p>:</c-> <c- m>1</c-><c- k>px</c-> solid grey<c- p>;</c->
<c- p>}</c->
table<c- p>[</c->rules=rows i<c- p>]</c-> > <c- nf>:is</c-><c- p>(</c->thead<c- p>,</c->tbody<c- p>,</c->tfoot<c- p>)</c-> > tr > <c- nf>:is</c-><c- p>(</c->th<c- p>,</c->td<c- p>)</c-> <c- p>{</c->
  <c- k>border</c-><c- p>:</c-> <c- m>1</c-><c- k>px</c-> solid grey<c- p>;</c->
  <c- k>border-left</c-><c- p>:</c-> none<c- p>;</c->
  <c- k>border-right</c-><c- p>:</c-> none<c- p>;</c->
<c- p>}</c->
table<c- p>[</c->rules=cols i<c- p>]</c-> > <c- nf>:is</c-><c- p>(</c->thead<c- p>,</c->tbody<c- p>,</c->tfoot<c- p>)</c-> > tr > <c- nf>:is</c-><c- p>(</c->th<c- p>,</c->td<c- p>)</c-> <c- p>{</c->
  <c- k>border</c-><c- p>:</c-> <c- m>1</c-><c- k>px</c-> solid grey<c- p>;</c->
  <c- k>border-top</c-><c- p>:</c-> none<c- p>;</c->
  <c- k>border-bottom</c-><c- p>:</c-> none<c- p>;</c->
<c- p>}</c->
table<c- p>[</c->rules=none i<c- p>]</c-> > <c- nf>:is</c-><c- p>(</c->thead<c- p>,</c->tbody<c- p>,</c->tfoot<c- p>)</c-> > tr > <c- nf>:is</c-><c- p>(</c->th<c- p>,</c->td<c- p>)</c-> <c- p>{</c->
  <c- k>border</c-><c- p>:</c-> none<c- p>;</c->
<c- p>}</c->

table<c- p>[</c->rules=groups i<c- p>]</c-> > <c- nf>:is</c-><c- p>(</c->thead<c- p>,</c->tbody<c- p>,</c->tfoot<c- p>)</c-> <c- p>{</c->
  <c- k>border-top-width</c-><c- p>:</c-> <c- m>1</c-><c- k>px</c-><c- p>;</c-> <c- k>border-top-style</c-><c- p>:</c-> solid<c- p>;</c->
  <c- k>border-bottom-width</c-><c- p>:</c-> <c- m>1</c-><c- k>px</c-><c- p>;</c-> <c- k>border-bottom-style</c-><c- p>:</c-> solid<c- p>;</c->
<c- p>}</c->
table<c- p>[</c->rules=groups i<c- p>]</c-> > colgroup <c- p>{</c->
  <c- k>border-left-width</c-><c- p>:</c-> <c- m>1</c-><c- k>px</c-><c- p>;</c-> <c- k>border-left-style</c-><c- p>:</c-> solid<c- p>;</c->
  <c- k>border-right-width</c-><c- p>:</c-> <c- m>1</c-><c- k>px</c-><c- p>;</c-> <c- k>border-right-style</c-><c- p>:</c-> solid<c- p>;</c->
<c- p>}</c->

table<c- p>[</c->frame=box i<c- p>],</c-> table<c- p>[</c->frame=border i<c- p>],</c-> table<c- p>[</c->frame=hsides i<c- p>],</c-> table<c- p>[</c->frame=above i<c- p>],</c-> table<c- p>[</c->frame=below i<c- p>],</c-> table<c- p>[</c->frame=vsides i<c- p>],</c-> table<c- p>[</c->frame=lhs i<c- p>],</c-> table<c- p>[</c->frame=rhs i<c- p>]</c-> <c- p>{</c->
  <c- k>border-style</c-><c- p>:</c-> outset<c- p>;</c->
<c- p>}</c->
table<c- p>[</c->frame=below i<c- p>],</c-> table<c- p>[</c->frame=vsides i<c- p>],</c-> table<c- p>[</c->frame=lhs i<c- p>],</c-> table<c- p>[</c->frame=rhs i<c- p>]</c-> <c- p>{</c->
  <c- k>border-top-style</c-><c- p>:</c-> hidden<c- p>;</c->
<c- p>}</c->
table<c- p>[</c->frame=above i<c- p>],</c-> table<c- p>[</c->frame=vsides i<c- p>],</c-> table<c- p>[</c->frame=lhs i<c- p>],</c-> table<c- p>[</c->frame=rhs i<c- p>]</c-> <c- p>{</c->
  <c- k>border-bottom-style</c-><c- p>:</c-> hidden<c- p>;</c->
<c- p>}</c->
table<c- p>[</c->frame=hsides i<c- p>],</c-> table<c- p>[</c->frame=above i<c- p>],</c-> table<c- p>[</c->frame=below i<c- p>],</c-> table<c- p>[</c->frame=rhs i<c- p>]</c-> <c- p>{</c->
  <c- k>border-left-style</c-><c- p>:</c-> hidden<c- p>;</c->
<c- p>}</c->
table<c- p>[</c->frame=hsides i<c- p>],</c-> table<c- p>[</c->frame=above i<c- p>],</c-> table<c- p>[</c->frame=below i<c- p>],</c-> table<c- p>[</c->frame=rhs i<c- p>]</c-> <c- p>{</c->
  <c- k>border-right-style</c-><c- p>:</c-> hidden<c- p>;</c->
<c- p>}</c->

table<c- p>[</c->cellpadding=$x<c- p>]</c-> > <c- nf>:is</c-><c- p>(</c->thead<c- p>,</c->tbody<c- p>,</c->tfoot<c- p>)</c-> > tr > <c- nf>:is</c-><c- p>(</c->th<c- p>,</c->td<c- p>)</c-> <c- c>/* if(parseInt($x)>0) */</c-> <c- p>{</c->
  <c- k>padding</c-><c- p>:</c-> <c- c>/*(parseInt($x) * 1px)*/</c-><c- p>;</c->
<c- p>}</c->
table<c- p>[</c->cellspacing=$x<c- p>]</c-> <c- c>/* if(parseInt($x)>0) */</c-> <c- p>{</c->
  <c- k>border-spacing</c-><c- p>:</c-> <c- c>/*(parseInt($x) * 1px)*/</c-><c- p>;</c->
<c- p>}</c->


table<c- p>[</c->width=$w<c- p>]</c-> <c- c>/* if(parseInt($w) > 0) */</c-> <c- p>{</c->
  <c- k>width</c-><c- p>:</c-> <c- c>/*(parseInt($w) * 1px)*/</c-><c- p>;</c->
<c- p>}</c->
table<c- p>[</c->width=$w<c- p>]</c-> <c- c>/* if($w matches /(+|-|)([0-9]+([.][0-9]+|)|([.][0-9]+))[%]/) */</c-> <c- p>{</c->
  <c- k>width</c-><c- p>:</c-> <c- c>/*(parseInt($w) * 1px)*/</c-><c- p>;</c->
<c- p>}</c->
table<c- p>[</c->height=$h<c- p>]</c-> <c- c>/* if(parseInt($h) > 0) {</c->
<c- c>  height: /*(parseInt($h) * 1px)*/</c-><c- p>;</c->
<c- p>}</c->
table<c- p>[</c->height=$h<c- p>]</c-> <c- c>/* if($h matches /(+|-|)([0-9]+([.][0-9]+|)|([.][0-9]+))[%]/) */</c-> <c- p>{</c->
  <c- k>height</c-><c- p>:</c-> <c- c>/*(parseInt($h) * 1px)*/</c-><c- p>;</c->
<c- p>}</c->


table<c- p>[</c->bordercolor=$color<c- p>]</c-> <c- p>{</c->
  <c- k>border-color</c-><c- p>:</c-> <c- c>/*parseHTMLColor($color)*/</c-><c- p>;</c->
<c- p>}</c->
table<c- p>[</c->bordercolor<c- p>]</c-> > <c- nf>:is</c-><c- p>(</c->tbody<c- p>,</c-> thead<c- p>,</c-> tfoot<c- p>,</c-> tr<c- p>,</c-> colgroup<c- p>,</c-> col<c- p>),</c->
table<c- p>[</c->bordercolor<c- p>]</c-> > <c- nf>:is</c-><c- p>(</c->tbody<c- p>,</c-> thead<c- p>,</c-> tfoot<c- p>)</c-> > tr<c- p>,</c->
table<c- p>[</c->bordercolor<c- p>]</c-> > <c- nf>:is</c-><c- p>(</c->tbody<c- p>,</c-> thead<c- p>,</c-> tfoot<c- p>)</c-> > tr > <c- nf>:is</c-><c- p>(</c->td<c- p>,</c-> th<c- p>),</c->
table<c- p>[</c->bordercolor<c- p>]</c-> > tr > <c- nf>:is</c-><c- p>(</c->td<c- p>,</c-> th<c- p>)</c->
table<c- p>[</c->bordercolor<c- p>]</c-> > colgroup > col
<c- p>)</c-> <c- p>{</c->
  <c- k>border-color</c-><c- p>:</c-> inherit<c- p>;</c->
<c- p>}</c->
table<c- p>[</c->bgcolor=$color<c- p>]</c-> <c- p>{</c->
  <c- k>background-color</c-><c- p>:</c-> <c- c>/*parseHTMLColor($color)*/</c-><c- p>;</c->
<c- p>}</c->
table<c- p>[</c->align=left i<c- p>]</c-> <c- p>{</c->
  <c- k>float</c-><c- p>:</c-> left<c- p>;</c->
<c- p>}</c->
table<c- p>[</c->align=right i<c- p>]</c-> <c- p>{</c->
  <c- k>float</c-><c- p>:</c-> right<c- p>;</c->
<c- p>}</c->
table<c- p>[</c->align=center i<c- p>]</c-> <c- p>{</c->
  <c- k>margin-left</c-><c- p>:</c-> auto<c- p>;</c->
  <c- k>margin-right</c-><c- p>:</c-> auto<c- p>;</c->
<c- p>}</c->

caption<c- p>[</c->align=bottom i<c- p>]</c-> <c- p>{</c-> <c- k>caption-side</c-><c- p>:</c-> bottom<c- p>;</c-> <c- p>}</c->
<c- nf>:is</c-><c- p>(</c->thead<c- p>,</c->tbody<c- p>,</c->tfoot<c- p>,</c->tr<c- p>,</c->td<c- p>,</c->th<c- p>)[</c->valign=top i<c- p>]</c-> <c- p>{</c->
  <c- k>vertical-align</c-><c- p>:</c-> top<c- p>;</c->
<c- p>}</c->
<c- nf>:is</c-><c- p>(</c->thead<c- p>,</c->tbody<c- p>,</c->tfoot<c- p>,</c->tr<c- p>,</c->td<c- p>,</c->th<c- p>)[</c->valign=middle i<c- p>]</c-> <c- p>{</c->
  <c- k>vertical-align</c-><c- p>:</c-> middle<c- p>;</c->
<c- p>}</c->
<c- nf>:is</c-><c- p>(</c->thead<c- p>,</c->tbody<c- p>,</c->tfoot<c- p>,</c->tr<c- p>,</c->td<c- p>,</c->th<c- p>)[</c->valign=bottom i<c- p>]</c-> <c- p>{</c->
  <c- k>vertical-align</c-><c- p>:</c-> bottom<c- p>;</c->
<c- p>}</c->
<c- nf>:is</c-><c- p>(</c->thead<c- p>,</c->tbody<c- p>,</c->tfoot<c- p>,</c->tr<c- p>,</c->td<c- p>,</c->th<c- p>)[</c->valign=baseline i<c- p>]</c-> <c- p>{</c->
  <c- k>vertical-align</c-><c- p>:</c-> baseline<c- p>;</c->
<c- p>}</c->

<c- nf>:is</c-><c- p>(</c->thead<c- p>,</c->tbody<c- p>,</c->tfoot<c- p>,</c->tr<c- p>,</c->td<c- p>,</c->th<c- p>)[</c->align=absmiddle i<c- p>]</c-> <c- p>{</c->
  <c- k>text-align</c-><c- p>:</c-> center<c- p>;</c->
<c- p>}</c->

<c- nf>:is</c-><c- p>(</c->colgroup<c- p>,</c->col<c- p>,</c->thead<c- p>,</c->tbody<c- p>,</c->tfoot<c- p>,</c->tr<c- p>,</c->td<c- p>,</c->th<c- p>)[</c->hidden<c- p>]</c-> <c- p>{</c->
  <c- k>visibility</c-><c- p>:</c-> collapse<c- p>;</c->
<c- p>}</c->

<c- nf>:is</c-><c- p>(</c->td<c- p>,</c->th<c- p>)[</c->nowrap<c- p>]</c-> <c- p>{</c-> <c- k>white-space</c-><c- p>:</c-> nowrap<c- p>;</c-> <c- p>}</c->
<c- nf>:is</c-><c- p>(</c->td<c- p>,</c->th<c- p>)[</c->nowrap<c- p>][</c->width=$w<c- p>]</c-> <c- c>/* if(quirksMode &amp;&amp; parseInt($w) > 0) */</c-> <c- p>{</c->
  <c- k>white-space</c-><c- p>:</c-> normal<c- p>;</c->
<c- p>}</c->
</pre>
     <div class="note" role="note"> Some of the content here came from the WHATWG spec on the <a href="https://html.spec.whatwg.org/#tables-2">HTML to CSS mapping of tables</a>.
		However, since they include <a href="https://jsfiddle.net/8t78exf1/">things which are not true</a> in most browsers, this is not a simple copy.
		Investigations are therefore required for each and any merge being made from one source to another! </div>
     <h2 class="heading settled" data-level="11" id="TODO"><span class="secno">11. </span><span class="content">(link here for missing sections)</span><a class="self-link" href="#TODO"></a></h2>
   </ul>
  </main>
  <h2 class="no-ref no-num heading settled" id="w3c-conformance"><span class="content"> Conformance</span><a class="self-link" href="#w3c-conformance"></a></h2>
  <h3 class="no-ref heading settled" id="w3c-conventions"><span class="content"> Document conventions</span><a class="self-link" href="#w3c-conventions"></a></h3>
  <p>Conformance requirements are expressed with a combination of
    descriptive assertions and RFC 2119 terminology. The key words “MUST”,
    “MUST NOT”, “REQUIRED”, “SHALL”, “SHALL NOT”, “SHOULD”, “SHOULD NOT”,
    “RECOMMENDED”, “MAY”, and “OPTIONAL” in the normative parts of this
    document are to be interpreted as described in RFC 2119.
    However, for readability, these words do not appear in all uppercase
    letters in this specification. </p>
  <p>All of the text of this specification is normative except sections
    explicitly marked as non-normative, examples, and notes. <a data-link-type="biblio" href="#biblio-rfc2119" title="Key words for use in RFCs to Indicate Requirement Levels">[RFC2119]</a></p>
  <p>Examples in this specification are introduced with the words “for example”
    or are set apart from the normative text with <code>class="example"</code>,
    like this: </p>
  <div class="example" id="w3c-example">
   <a class="self-link" href="#w3c-example"></a> 
   <p>This is an example of an informative example.</p>
  </div>
  <p>Informative notes begin with the word “Note” and are set apart from the
    normative text with <code>class="note"</code>, like this: </p>
  <p class="note" role="note">Note, this is an informative note.</p>
  <p>Advisements are normative sections styled to evoke special attention and are
    set apart from other normative text with <code>&lt;strong class="advisement"></code>, like
    this: <strong class="advisement"> UAs MUST provide an accessible alternative. </strong></p>
  <details class="wpt-tests-block" dir="ltr" lang="en" open>
   <summary>Tests</summary>
   <p>Tests relating to the content of this specification
                     may be documented in “Tests” blocks like this one.
                     Any such block is non-normative.</p>
   <ul class="wpt-tests-list"></ul>
   <hr>
  </details>
  <h3 class="no-ref heading settled" id="w3c-conformance-classes"><span class="content"> Conformance classes</span><a class="self-link" href="#w3c-conformance-classes"></a></h3>
  <p>Conformance to this specification
    is defined for three conformance classes: </p>
  <dl>
   <dt>style sheet 
   <dd>A <a href="http://www.w3.org/TR/CSS21/conform.html#style-sheet">CSS
            style sheet</a>. 
   <dt>renderer 
   <dd>A <a href="http://www.w3.org/TR/CSS21/conform.html#user-agent">UA</a> that interprets the semantics of a style sheet and renders
            documents that use them. 
   <dt>authoring tool 
   <dd>A <a href="http://www.w3.org/TR/CSS21/conform.html#user-agent">UA</a> that writes a style sheet. 
  </dl>
  <p>A style sheet is conformant to this specification
    if all of its statements that use syntax defined in this module are valid
    according to the generic CSS grammar and the individual grammars of each
    feature defined in this module. </p>
  <p>A renderer is conformant to this specification
    if, in addition to interpreting the style sheet as defined by the
    appropriate specifications, it supports all the features defined
    by this specification by parsing them correctly
    and rendering the document accordingly. However, the inability of a
    UA to correctly render a document due to limitations of the device
    does not make the UA non-conformant. (For example, a UA is not
    required to render color on a monochrome monitor.) </p>
  <p>An authoring tool is conformant to this specification
    if it writes style sheets that are syntactically correct according to the
    generic CSS grammar and the individual grammars of each feature in
    this module, and meet all other conformance requirements of style sheets
    as described in this module. </p>
  <h3 class="no-ref heading settled" id="w3c-partial"><span class="content"> Partial implementations</span><a class="self-link" href="#w3c-partial"></a></h3>
  <p>So that authors can exploit the forward-compatible parsing rules to
    assign fallback values, CSS renderers <strong>must</strong> treat as invalid (and <a href="http://www.w3.org/TR/CSS21/conform.html#ignore">ignore
    as appropriate</a>) any at-rules, properties, property values, keywords,
    and other syntactic constructs for which they have no usable level of
    support. In particular, user agents <strong>must not</strong> selectively
    ignore unsupported component values and honor supported values in a single
    multi-value property declaration: if any value is considered invalid
    (as unsupported values must be), CSS requires that the entire declaration
    be ignored.</p>
  <h4 class="heading settled" id="w3c-conform-future-proofing"><span class="content"> Implementations of Unstable and Proprietary Features</span><a class="self-link" href="#w3c-conform-future-proofing"></a></h4>
  <p>To avoid clashes with future stable CSS features,
        the CSSWG recommends <a href="http://www.w3.org/TR/CSS/#future-proofing">following best practices</a> for the implementation of <a href="http://www.w3.org/TR/CSS/#unstable">unstable</a> features and <a href="http://www.w3.org/TR/CSS/#proprietary-extension">proprietary extensions</a> to CSS. </p>
  <h3 class="no-ref heading settled" id="w3c-testing"><span class="content"> Non-experimental implementations</span><a class="self-link" href="#w3c-testing"></a></h3>
  <p>Once a specification reaches the Candidate Recommendation stage,
    non-experimental implementations are possible, and implementors should
    release an unprefixed implementation of any CR-level feature they
    can demonstrate to be correctly implemented according to spec. </p>
  <p>To establish and maintain the interoperability of CSS across
    implementations, the CSS Working Group requests that non-experimental
    CSS renderers submit an implementation report (and, if necessary, the
    testcases used for that implementation report) to the W3C before
    releasing an unprefixed implementation of any CSS features. Testcases
    submitted to W3C are subject to review and correction by the CSS
    Working Group. </p>
  <p>Further information on submitting testcases and implementation reports
    can be found from on the CSS Working Group’s website at <a href="http://www.w3.org/Style/CSS/Test/">http://www.w3.org/Style/CSS/Test/</a>.
    Questions should be directed to the <a href="http://lists.w3.org/Archives/Public/public-css-testsuite">public-css-testsuite@w3.org</a> mailing list.</p>
  <script src="https://www.w3.org/scripts/TR/2021/fixup.js"></script>
  <h2 class="no-num no-ref heading settled" id="index"><span class="content">Index</span><a class="self-link" href="#index"></a></h2>
  <h3 class="no-num no-ref heading settled" id="index-defined-here"><span class="content">Terms defined by this specification</span><a class="self-link" href="#index-defined-here"></a></h3>
  <ul class="index">
   <li><a href="#assignable-table-width">assignable table width</a><span>, in § 3.9.1</span>
   <li><a href="#auto-column">auto-column</a><span>, in § 3.9.3</span>
   <li><a href="#table-cell-baseline">baseline of a cell</a><span>, in § 3.10.2</span>
   <li><a href="#table-root-baseline">baseline of a table-root</a><span>, in § 3.10.2</span>
   <li><a href="#table-row-baseline">baseline of the row</a><span>, in § 3.10.2</span>
   <li><a href="#propdef-border-collapse">border-collapse</a><span>, in § 3.5.2</span>
   <li><a href="#propdef-border-spacing">border-spacing</a><span>, in § 3.5.2.1</span>
   <li><a href="#caption-side-bottom">bottom</a><span>, in § 3.5.3</span>
   <li><a href="#propdef-caption-side">caption-side</a><span>, in § 3.5.3</span>
   <li><a href="#capmin">caption width minimum (CAPMIN)</a><span>, in § 3.9.1</span>
   <li><a href="#cell-intrinsic-offsets">cell intrinsic offsets</a><span>, in § 3.8.2</span>
   <li><a href="#column">columns</a><span>, in § 2.1.1</span>
   <li><a href="#consecutive-boxes">consecutive</a><span>, in § 2.1.1</span>
   <li><a href="#constrainedness">constrainedness</a><span>, in § 3.8.3</span>
   <li><a href="#distributed-width">distributed width</a><span>, in § 3.9.3.2</span>
   <li><a href="#distributing-excess-width-to-columns">distributing excess width to columns</a><span>, in § 3.9.3.2</span>
   <li><a href="#eligible-track">eligible track</a><span>, in § 3.3.2</span>
   <li><a href="#empty-cell">empty cell</a><span>, in § 5.2</span>
   <li><a href="#propdef-empty-cells">empty-cells</a><span>, in § 5.2</span>
   <li><a href="#empty-table">empty table</a><span>, in § 3.2</span>
   <li><a href="#excess-width">excess width</a><span>, in § 3.9.3.2</span>
   <li><a href="#freely-fragmentable">freely fragmentable</a><span>, in § 6.1</span>
   <li><a href="#in-auto-mode">in auto mode</a><span>, in § 3.5.1</span>
   <li><a href="#in-collapsed-borders-mode">in collapsed-borders mode</a><span>, in § 3.5.2</span>
   <li><a href="#in-fixed-mode">in fixed mode</a><span>, in § 3.5.1</span>
   <li><a href="#inline-table">inline-table</a><span>, in § 2.1</span>
   <li><a href="#in-separated-borders-mode">in separated-borders mode</a><span>, in § 3.5.2</span>
   <li><a href="#intrinsic-percentage-width-of-a-column">intrinsic percentage width of a column</a><span>, in § 3.8.3</span>
   <li><a href="#intrinsic-percentage-width-of-a-column-based-on-cells-of-span-up-to-1">intrinsic percentage width of a column based on cells of span up to 1</a><span>, in § 3.8.3</span>
   <li><a href="#intrinsic-percentage-width-of-a-column-based-on-cells-of-span-up-to-n-n--1">intrinsic percentage width of a column based on cells of span up to N (N > 1)</a><span>, in § 3.8.3</span>
   <li><a href="#appropriateness-of-child-percentage-resolution">It is appropriate to resolve percentage heights on direct children of a table-cell</a><span>, in § 3.10.6</span>
   <li><a href="#max-content-sizing-guess">max-content sizing-guess</a><span>, in § 3.9.3</span>
   <li><a href="#max-content-width-of-a-column">max-content width of a column</a><span>, in § 3.8.3</span>
   <li><a href="#max-content-width-of-a-column-based-on-cells-of-span-up-to-1">max-content width of a column based on cells of span up to 1</a><span>, in § 3.8.3</span>
   <li><a href="#max-content-width-of-a-column-based-on-cells-of-span-up-to-n-n--1">max-content width of a column based on cells of span up to N (N > 1)</a><span>, in § 3.8.3</span>
   <li><a href="#max-content-width-of-a-table">max-content width of a table</a><span>, in § 3.1</span>
   <li><a href="#min-content-percentage-sizing-guess">min-content-percentage sizing-guess</a><span>, in § 3.9.3</span>
   <li><a href="#min-content-sizing-guess">min-content sizing-guess</a><span>, in § 3.9.3</span>
   <li><a href="#min-content-specified-sizing-guess">min-content-specified sizing-guess</a><span>, in § 3.9.3</span>
   <li><a href="#min-content-width-of-a-column">min-content width of a column</a><span>, in § 3.8.3</span>
   <li><a href="#min-content-width-of-a-column-based-on-cells-of-span-up-to-1">min-content width of a column based on cells of span up to 1</a><span>, in § 3.8.3</span>
   <li><a href="#min-content-width-of-a-column-based-on-cells-of-span-up-to-n-n--1">min-content width of a column based on cells of span up to N (N > 1)</a><span>, in § 3.8.3</span>
   <li><a href="#min-content-width-of-a-table">min-content width of a table</a><span>, in § 3.1</span>
   <li><a href="#offsets-adjusted-width">offsets-adjusted min-width, width, and max-width</a><span>, in § 3.8.2</span>
   <li><a href="#originate">originate</a><span>, in § 2.1.1</span>
   <li><a href="#outer-max-content">outer max-content</a><span>, in § 3.8.2</span>
   <li><a href="#outer-min-content">outer min-content</a><span>, in § 3.8.2</span>
   <li><a href="#percentage-contribution">percentage contribution</a><span>, in § 3.8.2</span>
   <li><a href="#percent-column">percent-column</a><span>, in § 3.9.3</span>
   <li><a href="#pixel-column">pixel-column</a><span>, in § 3.9.3</span>
   <li><a href="#proper-table-child-element">proper table child</a><span>, in § 2.1.1</span>
   <li><a href="#proper-table-row-parent-element">proper table-row parent</a><span>, in § 2.1.1</span>
   <li><a href="#resolved-table-width">resolved-table-width</a><span>, in § 3.9.1</span>
   <li><a href="#resolving-percentages-heights-in-table-cell-content">Resolve percentage heights in table-cell content:</a><span>, in § 3.10.6</span>
   <li><a href="#gridmax">row/column-grid width maximum (GRIDMAX)</a><span>, in § 3.9.1</span>
   <li><a href="#gridmin">row/column-grid width minimum (GRIDMIN)</a><span>, in § 3.9.1</span>
   <li><a href="#ROWMIN">ROWMIN</a><span>, in § 3.10.1</span>
   <li><a href="#row">rows</a><span>, in § 2.1.1</span>
   <li><a href="#sizing-type">sizing type</a><span>, in § 3.9.3</span>
   <li><a href="#slot">slot</a><span>, in § 2.1.1</span>
   <li><a href="#span">span</a><span>, in § 2.1.1</span>
   <li><a href="#table">table</a><span>, in § 2.1</span>
   <li><a href="#table-caption">table-caption</a><span>, in § 2.1</span>
   <li><a href="#table-cell">table-cell</a><span>, in § 2.1</span>
   <li><a href="#table-column">table-column</a><span>, in § 2.1</span>
   <li><a href="#table-column-group">table-column-group</a><span>, in § 2.1</span>
   <li><a href="#table-footer-group">table-footer-group</a><span>, in § 2.1</span>
   <li><a href="#table-grid">table grid</a><span>, in § 2.1.1</span>
   <li><a href="#table-grid-box">table-grid</a><span>, in § 2.1.1</span>
   <li><a href="#table-grid-box">table grid box</a><span>, in § 2.1.1</span>
   <li><a href="#table-grid-box">table-grid box</a><span>, in § 2.1.1</span>
   <li><a href="#table-header-group">table-header-group</a><span>, in § 2.1</span>
   <li><a href="#table-internal-element">table-internal</a><span>, in § 2.1.1</span>
   <li><a href="#table-intrinsic-offsets">table intrinsic offsets</a><span>, in § 3.8.2</span>
   <li><a href="#propdef-table-layout">table-layout</a><span>, in § 3.5.1</span>
   <li><a href="#table-non-root-element">table-non-root</a><span>, in § 2.1.1</span>
   <li><a href="#table-root-element">table-root</a><span>, in § 2.1.1</span>
   <li><a href="#table-row">table-row</a><span>, in § 2.1</span>
   <li><a href="#table-row-group">table-row-group</a><span>, in § 2.1</span>
   <li><a href="#table-track">table-track</a><span>, in § 2.1.1</span>
   <li><a href="#table-track-group-element">table-track-group</a><span>, in § 2.1.1</span>
   <li><a href="#table-wrapper-box">table-wrapper</a><span>, in § 2.1.1</span>
   <li><a href="#table-wrapper-box">table wrapper box</a><span>, in § 2.1.1</span>
   <li><a href="#table-wrapper-box">table-wrapper box</a><span>, in § 2.1.1</span>
   <li><a href="#tabular-container">tabular container</a><span>, in § 2.1.1</span>
   <li><a href="#caption-side-top">top</a><span>, in § 3.5.3</span>
   <li><a href="#total-horizontal-border-spacing">total horizontal border spacing</a><span>, in § 3.8.2</span>
   <li><a href="#undistributable-space">undistributable space</a><span>, in § 3.8.1</span>
   <li><a href="#used-min-width-of-table">used min-width of a table</a><span>, in § 3.9.1</span>
   <li><a href="#used-width-of-table">used width of a table</a><span>, in § 3.9.1</span>
   <li><a href="#visible-track">visible track</a><span>, in § 3.11</span>
  </ul>
  <h3 class="no-num no-ref heading settled" id="index-defined-elsewhere"><span class="content">Terms defined by reference</span><a class="self-link" href="#index-defined-elsewhere"></a></h3>
  <ul class="index">
   <li>
    <a data-link-type="biblio">[COMPOSITING-2]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="559a1521">isolation</span>
     <li><span class="dfn-paneled" id="e8163b52">mix-blend-mode</span>
    </ul>
   <li>
    <a data-link-type="biblio">[CSS-BACKGROUNDS-3]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="f5eca8c9">background</span>
     <li><span class="dfn-paneled" id="3b1682d5">background-origin</span>
     <li><span class="dfn-paneled" id="711c7d81">background-size</span>
     <li><span class="dfn-paneled" id="a4cd8a8d">border-image</span>
     <li><span class="dfn-paneled" id="3680847b">border-image-source</span>
     <li><span class="dfn-paneled" id="5f1a81e7">border-radius</span>
     <li><span class="dfn-paneled" id="42871fa3">border-style</span>
     <li><span class="dfn-paneled" id="c9ecad15">border-width</span>
    </ul>
   <li>
    <a data-link-type="biblio">[CSS-BOX-4]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="cecbe9cd">margin</span>
     <li><span class="dfn-paneled" id="b5418f3e">padding</span>
    </ul>
   <li>
    <a data-link-type="biblio">[CSS-BREAK-3]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="0a52b385">break-after</span>
     <li><span class="dfn-paneled" id="c1654d36">break-before</span>
     <li><span class="dfn-paneled" id="9522389e">break-inside</span>
    </ul>
   <li>
    <a data-link-type="biblio">[CSS-COLOR-4]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="91bfbe18">opacity</span>
    </ul>
   <li>
    <a data-link-type="biblio">[CSS-DISPLAY-4]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="43b15e47">anonymous box</span>
     <li><span class="dfn-paneled" id="8379845e">block-level</span>
     <li><span class="dfn-paneled" id="ea663a43">containing block</span>
     <li><span class="dfn-paneled" id="e7f0dd6c">display</span>
     <li><span class="dfn-paneled" id="f271d0a1">flow layout</span>
     <li><span class="dfn-paneled" id="d7fa3e1c">inline-level</span>
     <li><span class="dfn-paneled" id="5e3e8101">inner display type</span>
     <li><span class="dfn-paneled" id="abb2bed7">table</span>
     <li><span class="dfn-paneled" id="12f8fb07">visibility</span>
    </ul>
   <li>
    <a data-link-type="biblio">[CSS-GRID-2]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="07cbb8ff">grid</span>
    </ul>
   <li>
    <a data-link-type="biblio">[CSS-INLINE-3]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="e0b6ed58">vertical-align</span>
    </ul>
   <li>
    <a data-link-type="biblio">[CSS-MASKING-1]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="6b14b18a">clip</span>
     <li><span class="dfn-paneled" id="77f17203">clip-path</span>
     <li><span class="dfn-paneled" id="bd765d87">mask</span>
    </ul>
   <li>
    <a data-link-type="biblio">[CSS-OVERFLOW-3]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="86928bde">overflow</span>
    </ul>
   <li>
    <a data-link-type="biblio">[CSS-POSITION-3]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="dde41168">left</span>
     <li><span class="dfn-paneled" id="b8a0ba74">position</span>
    </ul>
   <li>
    <a data-link-type="biblio">[CSS-SIZING-3]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="9f13b712">behave as auto</span>
     <li><span class="dfn-paneled" id="75e46141">box-sizing</span>
     <li><span class="dfn-paneled" id="68019d7a">height</span>
     <li><span class="dfn-paneled" id="f08b32ef">max-width</span>
     <li><span class="dfn-paneled" id="0b918417">min-content contribution</span>
     <li><span class="dfn-paneled" id="4c9599fa">min-height</span>
     <li><span class="dfn-paneled" id="88def535">min-width</span>
     <li><span class="dfn-paneled" id="88643fe0">width</span>
    </ul>
   <li>
    <a data-link-type="biblio">[CSS-TEXT-3]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="4356bfe3">text-align</span>
    </ul>
   <li>
    <a data-link-type="biblio">[CSS-TEXT-4]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="6501e5b3">white-space</span>
    </ul>
   <li>
    <a data-link-type="biblio">[CSS-TRANSFORMS-1]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="e2e08d07">transform</span>
    </ul>
   <li>
    <a data-link-type="biblio">[CSS-TRANSFORMS-2]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="f73b681a">perspective</span>
     <li><span class="dfn-paneled" id="61fd84c3">transform-style</span>
    </ul>
   <li>
    <a data-link-type="biblio">[CSS-VALUES-4]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="fb030e6c">&lt;length></span>
     <li><span class="dfn-paneled" id="977d3003">&lt;string></span>
     <li><span class="dfn-paneled" id="358fd6ff">css-wide keywords</span>
     <li><span class="dfn-paneled" id="938ba280">{a,b}</span>
     <li><span class="dfn-paneled" id="6ec67710">|</span>
    </ul>
   <li>
    <a data-link-type="biblio">[CSS2]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="1ebe67be">bottom</span>
     <li><span class="dfn-paneled" id="0475c554">right</span>
     <li><span class="dfn-paneled" id="4726eb39">top</span>
     <li><span class="dfn-paneled" id="5455396f">z-index</span>
    </ul>
   <li>
    <a data-link-type="biblio">[CSS22]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="0570259e">float</span>
     <li><span class="dfn-paneled" id="6ee514e7">separate</span>
    </ul>
   <li>
    <a data-link-type="biblio">[FILTER-EFFECTS-1]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="9f184b64">filter</span>
    </ul>
   <li>
    <a data-link-type="biblio">[MEDIAQUERIES-5]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="758665a5">paged media</span>
    </ul>
  </ul>
  <h2 class="no-num no-ref heading settled" id="references"><span class="content">References</span><a class="self-link" href="#references"></a></h2>
  <h3 class="no-num no-ref heading settled" id="normative"><span class="content">Normative References</span><a class="self-link" href="#normative"></a></h3>
  <dl>
   <dt id="biblio-compositing-2">[COMPOSITING-2]
   <dd><a href="https://drafts.fxtf.org/compositing-2/"><cite>Compositing and Blending Level 2</cite></a>. Editor's Draft. URL: <a href="https://drafts.fxtf.org/compositing-2/">https://drafts.fxtf.org/compositing-2/</a>
   <dt id="biblio-css-backgrounds-3">[CSS-BACKGROUNDS-3]
   <dd>Elika Etemad; Brad Kemper. <a href="https://drafts.csswg.org/css-backgrounds/"><cite>CSS Backgrounds and Borders Module Level 3</cite></a>. URL: <a href="https://drafts.csswg.org/css-backgrounds/">https://drafts.csswg.org/css-backgrounds/</a>
   <dt id="biblio-css-box-4">[CSS-BOX-4]
   <dd>Elika Etemad. <a href="https://drafts.csswg.org/css-box-4/"><cite>CSS Box Model Module Level 4</cite></a>. URL: <a href="https://drafts.csswg.org/css-box-4/">https://drafts.csswg.org/css-box-4/</a>
   <dt id="biblio-css-break-3">[CSS-BREAK-3]
   <dd>Rossen Atanassov; Elika Etemad. <a href="https://drafts.csswg.org/css-break/"><cite>CSS Fragmentation Module Level 3</cite></a>. URL: <a href="https://drafts.csswg.org/css-break/">https://drafts.csswg.org/css-break/</a>
   <dt id="biblio-css-color-4">[CSS-COLOR-4]
   <dd>Chris Lilley; Tab Atkins Jr.; Lea Verou. <a href="https://drafts.csswg.org/css-color-4/"><cite>CSS Color Module Level 4</cite></a>. URL: <a href="https://drafts.csswg.org/css-color-4/">https://drafts.csswg.org/css-color-4/</a>
   <dt id="biblio-css-display-4">[CSS-DISPLAY-4]
   <dd><a href="https://drafts.csswg.org/css-display-4/"><cite>CSS Display Module Level 4</cite></a>. Editor's Draft. URL: <a href="https://drafts.csswg.org/css-display-4/">https://drafts.csswg.org/css-display-4/</a>
   <dt id="biblio-css-grid-2">[CSS-GRID-2]
   <dd>Tab Atkins Jr.; Elika Etemad; Rossen Atanassov. <a href="https://drafts.csswg.org/css-grid-2/"><cite>CSS Grid Layout Module Level 2</cite></a>. URL: <a href="https://drafts.csswg.org/css-grid-2/">https://drafts.csswg.org/css-grid-2/</a>
   <dt id="biblio-css-inline-3">[CSS-INLINE-3]
   <dd>Elika Etemad. <a href="https://drafts.csswg.org/css-inline-3/"><cite>CSS Inline Layout Module Level 3</cite></a>. URL: <a href="https://drafts.csswg.org/css-inline-3/">https://drafts.csswg.org/css-inline-3/</a>
   <dt id="biblio-css-masking-1">[CSS-MASKING-1]
   <dd>Dirk Schulze; Brian Birtles; Tab Atkins Jr.. <a href="https://drafts.fxtf.org/css-masking-1/"><cite>CSS Masking Module Level 1</cite></a>. URL: <a href="https://drafts.fxtf.org/css-masking-1/">https://drafts.fxtf.org/css-masking-1/</a>
   <dt id="biblio-css-overflow-3">[CSS-OVERFLOW-3]
   <dd>Elika Etemad; Florian Rivoal. <a href="https://drafts.csswg.org/css-overflow-3/"><cite>CSS Overflow Module Level 3</cite></a>. URL: <a href="https://drafts.csswg.org/css-overflow-3/">https://drafts.csswg.org/css-overflow-3/</a>
   <dt id="biblio-css-position-3">[CSS-POSITION-3]
   <dd>Elika Etemad; Tab Atkins Jr.. <a href="https://drafts.csswg.org/css-position-3/"><cite>CSS Positioned Layout Module Level 3</cite></a>. URL: <a href="https://drafts.csswg.org/css-position-3/">https://drafts.csswg.org/css-position-3/</a>
   <dt id="biblio-css-sizing-3">[CSS-SIZING-3]
   <dd>Tab Atkins Jr.; Elika Etemad. <a href="https://drafts.csswg.org/css-sizing-3/"><cite>CSS Box Sizing Module Level 3</cite></a>. URL: <a href="https://drafts.csswg.org/css-sizing-3/">https://drafts.csswg.org/css-sizing-3/</a>
   <dt id="biblio-css-text-4">[CSS-TEXT-4]
   <dd>Elika Etemad; et al. <a href="https://drafts.csswg.org/css-text-4/"><cite>CSS Text Module Level 4</cite></a>. URL: <a href="https://drafts.csswg.org/css-text-4/">https://drafts.csswg.org/css-text-4/</a>
   <dt id="biblio-css-transforms-1">[CSS-TRANSFORMS-1]
   <dd>Simon Fraser; et al. <a href="https://drafts.csswg.org/css-transforms/"><cite>CSS Transforms Module Level 1</cite></a>. URL: <a href="https://drafts.csswg.org/css-transforms/">https://drafts.csswg.org/css-transforms/</a>
   <dt id="biblio-css-transforms-2">[CSS-TRANSFORMS-2]
   <dd>Tab Atkins Jr.; et al. <a href="https://drafts.csswg.org/css-transforms-2/"><cite>CSS Transforms Module Level 2</cite></a>. URL: <a href="https://drafts.csswg.org/css-transforms-2/">https://drafts.csswg.org/css-transforms-2/</a>
   <dt id="biblio-css-values-3">[CSS-VALUES-3]
   <dd>Tab Atkins Jr.; Elika Etemad. <a href="https://drafts.csswg.org/css-values-3/"><cite>CSS Values and Units Module Level 3</cite></a>. URL: <a href="https://drafts.csswg.org/css-values-3/">https://drafts.csswg.org/css-values-3/</a>
   <dt id="biblio-css-values-4">[CSS-VALUES-4]
   <dd>Tab Atkins Jr.; Elika Etemad. <a href="https://drafts.csswg.org/css-values-4/"><cite>CSS Values and Units Module Level 4</cite></a>. URL: <a href="https://drafts.csswg.org/css-values-4/">https://drafts.csswg.org/css-values-4/</a>
   <dt id="biblio-css2">[CSS2]
   <dd>Bert Bos; et al. <a href="https://drafts.csswg.org/css2/"><cite>Cascading Style Sheets Level 2 Revision 1 (CSS 2.1) Specification</cite></a>. URL: <a href="https://drafts.csswg.org/css2/">https://drafts.csswg.org/css2/</a>
   <dt id="biblio-css22">[CSS22]
   <dd>Bert Bos. <a href="https://drafts.csswg.org/css2/"><cite>Cascading Style Sheets Level 2 Revision 2 (CSS 2.2) Specification</cite></a>. URL: <a href="https://drafts.csswg.org/css2/">https://drafts.csswg.org/css2/</a>
   <dt id="biblio-filter-effects-1">[FILTER-EFFECTS-1]
   <dd>Dirk Schulze; Dean Jackson. <a href="https://drafts.fxtf.org/filter-effects-1/"><cite>Filter Effects Module Level 1</cite></a>. URL: <a href="https://drafts.fxtf.org/filter-effects-1/">https://drafts.fxtf.org/filter-effects-1/</a>
   <dt id="biblio-mediaqueries-5">[MEDIAQUERIES-5]
   <dd>Dean Jackson; et al. <a href="https://drafts.csswg.org/mediaqueries-5/"><cite>Media Queries Level 5</cite></a>. URL: <a href="https://drafts.csswg.org/mediaqueries-5/">https://drafts.csswg.org/mediaqueries-5/</a>
   <dt id="biblio-rfc2119">[RFC2119]
   <dd>S. Bradner. <a href="https://datatracker.ietf.org/doc/html/rfc2119"><cite>Key words for use in RFCs to Indicate Requirement Levels</cite></a>. March 1997. Best Current Practice. URL: <a href="https://datatracker.ietf.org/doc/html/rfc2119">https://datatracker.ietf.org/doc/html/rfc2119</a>
  </dl>
  <h3 class="no-num no-ref heading settled" id="informative"><span class="content">Informative References</span><a class="self-link" href="#informative"></a></h3>
  <dl>
   <dt id="biblio-css-text-3">[CSS-TEXT-3]
   <dd>Elika Etemad; Koji Ishii; Florian Rivoal. <a href="https://drafts.csswg.org/css-text-3/"><cite>CSS Text Module Level 3</cite></a>. URL: <a href="https://drafts.csswg.org/css-text-3/">https://drafts.csswg.org/css-text-3/</a>
  </dl>
  <h2 class="no-num no-ref heading settled" id="property-index"><span class="content">Property Index</span><a class="self-link" href="#property-index"></a></h2>
  <div class="big-element-wrapper">
   <table class="index">
    <thead>
     <tr>
      <th scope="col">Name
      <th scope="col">Value
      <th scope="col">Initial
      <th scope="col">Applies to
      <th scope="col">Inh.
      <th scope="col">%ages
      <th scope="col">Anim­ation type
      <th scope="col">Canonical order
      <th scope="col">Com­puted value
    <tbody>
     <tr>
      <th scope="row"><a class="css" data-link-type="property" href="#propdef-border-collapse" id="ref-for-propdef-border-collapse⑤">border-collapse</a>
      <td>separate | collapse
      <td>separate
      <td>table grid boxes
      <td>yes
      <td>n/a
      <td>discrete
      <td>per grammar
      <td>specified keyword
     <tr>
      <th scope="row"><a class="css" data-link-type="property" href="#propdef-border-spacing" id="ref-for-propdef-border-spacing⑦">border-spacing</a>
      <td>&lt;length>{1,2}
      <td>0px 0px
      <td>table grid boxes when border-collapse is separate
      <td>yes
      <td>n/a
      <td>by computed value
      <td>per grammar
      <td>two absolute lengths
     <tr>
      <th scope="row"><a class="css" data-link-type="property" href="#propdef-caption-side" id="ref-for-propdef-caption-side⑤">caption-side</a>
      <td>top | bottom
      <td>top
      <td>table-caption boxes
      <td>yes
      <td>n/a
      <td>discrete
      <td>per grammar
      <td>specified keyword
     <tr>
      <th scope="row"><a class="css" data-link-type="property" href="#propdef-empty-cells" id="ref-for-propdef-empty-cells①">empty-cells</a>
      <td>show | hide
      <td>show
      <td>table-cell boxes
      <td>yes
      <td>n/a
      <td>discrete
      <td>per grammar
      <td>specified keyword
     <tr>
      <th scope="row"><a class="css" data-link-type="property" href="#propdef-table-layout" id="ref-for-propdef-table-layout③">table-layout</a>
      <td>auto | fixed
      <td>auto
      <td>table grid boxes
      <td>no
      <td>n/a
      <td>discrete
      <td>per grammar
      <td>specified keyword
   </table>
  </div>
  <h2 class="no-num no-ref heading settled" id="issues-index"><span class="content">Issues Index</span><a class="self-link" href="#issues-index"></a></h2>
  <div style="counter-reset:issue">
   <div class="issue"> This is a breaking change from css 2.1 but matches implementations <a href="https://github.com/w3c/csswg-drafts/issues/508">[Issue #508]</a> <a class="issue-return" href="#issue-7bb0488b" title="Jump to section">↵</a></div>
   <div class="issue"> border-collapsing breaking change from 2.1 <a href="https://github.com/w3c/csswg-drafts/issues/604">[Issue #604]</a> <a class="issue-return" href="#issue-15f20158" title="Jump to section">↵</a></div>
   <div class="issue"> Change specificity in harmonization of collapsed borders? <a href="https://github.com/w3c/csswg-drafts/issues/606">[Issue #606]</a> <a class="issue-return" href="#issue-c8ca7f00" title="Jump to section">↵</a></div>
   <div class="issue"> Handling of intrinsic offsets when in border collapsing mode <a href="https://github.com/w3c/csswg-drafts/issues/608">[Issue #608]</a> <a class="issue-return" href="#issue-941e2d76" title="Jump to section">↵</a></div>
   <div class="issue"> EDITORIAL.
				The way this describes distribution of widths from colspanning cells is wrong.
				For min-content and max-content widths it should refer to the rules
					for distributing excess width to columns for intrinsic width calculation. <a class="issue-return" href="#issue-96c17185" title="Jump to section">↵</a></div>
   <div class="issue"> EDITORIAL. Import the relevant section of <a href="#computing-column-measures">§ 3.8.3 Computing Column Measures</a> here. <a class="issue-return" href="#issue-58165e24" title="Jump to section">↵</a></div>
   <div class="issue"> EDITORIAL. TODO. For current proposal, skip to <a href="#height-distribution-algorithm">§ 3.10.5 Distribution algorithm</a>. <a class="issue-return" href="#issue-b62068df" title="Jump to section">↵</a></div>
   <div class="issue"> We need a resolution on what visibility:collapse does. <a href="https://github.com/w3c/csswg-drafts/issues/478">[Issue #478]</a> <a class="issue-return" href="#issue-4891a998" title="Jump to section">↵</a></div>
   <div class="issue"> This only works in Firefox. It would make it easier to implement position:sticky in the future, though. <a href="https://bugs.chromium.org/p/chromium/issues/detail?id=417223">[Chrome bug]</a> <a href="https://bugzilla.mozilla.org/show_bug.cgi?id=1289682">[Interop risk: Firefox bug]</a> <a href="https://github.com/w3c/csswg-drafts/issues/858">[Issue #858]</a> <a class="issue-return" href="#issue-b01ba738" title="Jump to section">↵</a></div>
   <div class="issue"> Can we simplify empty-cells:hide? <a href="https://github.com/w3c/csswg-drafts/issues/605">[Issue #605]</a> <a class="issue-return" href="#issue-b8b01e42" title="Jump to section">↵</a></div>
   <div class="issue"> Should we hide the row-group background
					by saying cells only draw the backgrounds
					of visibility:visible grouping elements? <a class="issue-return" href="#issue-2d70544e" title="Jump to section">↵</a></div>
  </div>
<script>/* Boilerplate: script-dom-helper */
"use strict";
function query(sel) { return document.querySelector(sel); }

function queryAll(sel) { return [...document.querySelectorAll(sel)]; }

function iter(obj) {
	if(!obj) return [];
	var it = obj[Symbol.iterator];
	if(it) return it;
	return Object.entries(obj);
}

function mk(tagname, attrs, ...children) {
	const el = document.createElement(tagname);
	for(const [k,v] of iter(attrs)) {
		if(k.slice(0,3) == "_on") {
			const eventName = k.slice(3);
			el.addEventListener(eventName, v);
		} else if(k[0] == "_") {
			// property, not attribute
			el[k.slice(1)] = v;
		} else {
			if(v === false || v == null) {
        continue;
      } else if(v === true) {
        el.setAttribute(k, "");
        continue;
      } else {
  			el.setAttribute(k, v);
      }
		}
	}
	append(el, children);
	return el;
}

/* Create shortcuts for every known HTML element */
[
  "a",
  "abbr",
  "acronym",
  "address",
  "applet",
  "area",
  "article",
  "aside",
  "audio",
  "b",
  "base",
  "basefont",
  "bdo",
  "big",
  "blockquote",
  "body",
  "br",
  "button",
  "canvas",
  "caption",
  "center",
  "cite",
  "code",
  "col",
  "colgroup",
  "datalist",
  "dd",
  "del",
  "details",
  "dfn",
  "dialog",
  "div",
  "dl",
  "dt",
  "em",
  "embed",
  "fieldset",
  "figcaption",
  "figure",
  "font",
  "footer",
  "form",
  "frame",
  "frameset",
  "head",
  "header",
  "h1",
  "h2",
  "h3",
  "h4",
  "h5",
  "h6",
  "hr",
  "html",
  "i",
  "iframe",
  "img",
  "input",
  "ins",
  "kbd",
  "label",
  "legend",
  "li",
  "link",
  "main",
  "map",
  "mark",
  "meta",
  "meter",
  "nav",
  "nobr",
  "noscript",
  "object",
  "ol",
  "optgroup",
  "option",
  "output",
  "p",
  "param",
  "pre",
  "progress",
  "q",
  "s",
  "samp",
  "script",
  "section",
  "select",
  "small",
  "source",
  "span",
  "strike",
  "strong",
  "style",
  "sub",
  "summary",
  "sup",
  "table",
  "tbody",
  "td",
  "template",
  "textarea",
  "tfoot",
  "th",
  "thead",
  "time",
  "title",
  "tr",
  "u",
  "ul",
  "var",
  "video",
  "wbr",
  "xmp",
].forEach(tagname=>{
	mk[tagname] = (...args) => mk(tagname, ...args);
});

function* nodesFromChildList(children) {
	for(const child of children.flat(Infinity)) {
		if(child instanceof Node) {
			yield child;
		} else {
			yield new Text(child);
		}
	}
}
function append(el, ...children) {
	for(const child of nodesFromChildList(children)) {
		if(el instanceof Node) el.appendChild(child);
		else el.push(child);
	}
	return el;
}

function insertAfter(el, ...children) {
	for(const child of nodesFromChildList(children)) {
		el.parentNode.insertBefore(child, el.nextSibling);
	}
	return el;
}

function clearContents(el) {
	el.innerHTML = "";
	return el;
}

function parseHTML(markup) {
	if(markup.toLowerCase().trim().indexOf('<!doctype') === 0) {
		const doc = document.implementation.createHTMLDocument("");
		doc.documentElement.innerHTML = markup;
		return doc;
	} else {
		const el = mk.template({});
		el.innerHTML = markup;
		return el.content;
	}
}</script>
<script>/* Boilerplate: script-dfn-panel */
"use strict";
{
let dfnPanelData = {
"0475c554": {"dfnID":"0475c554","dfnText":"right","external":true,"refSections":[{"refs":[{"id":"ref-for-propdef-right"}],"title":"3.6.1. Overrides applying in all modes"},{"refs":[{"id":"ref-for-propdef-right\u2460"}],"title":"4.1. \nWith a table-root as containing block"},{"refs":[{"id":"ref-for-propdef-right\u2461"}],"title":"4.2. \nWith a table-internal as containing block"}],"url":"https://www.w3.org/TR/CSS21/visuren.html#propdef-right"},
"0570259e": {"dfnID":"0570259e","dfnText":"float","external":true,"refSections":[{"refs":[{"id":"ref-for-propdef-float"}],"title":"2.2.1. Fixup Algorithm"},{"refs":[{"id":"ref-for-propdef-float\u2460"}],"title":"3.6.1. Overrides applying in all modes"}],"url":"https://drafts.csswg.org/css2/#propdef-float"},
"07cbb8ff": {"dfnID":"07cbb8ff","dfnText":"grid","external":true,"refSections":[{"refs":[{"id":"ref-for-grid"}],"title":"3.3. Dimensioning the row/column grid"}],"url":"https://drafts.csswg.org/css-grid-2/#grid"},
"0a52b385": {"dfnID":"0a52b385","dfnText":"break-after","external":true,"refSections":[{"refs":[{"id":"ref-for-propdef-break-after"}],"title":"6.1. Breaking across fragmentainers"}],"url":"https://drafts.csswg.org/css-break-3/#propdef-break-after"},
"0b918417": {"dfnID":"0b918417","dfnText":"min-content contribution","external":true,"refSections":[{"refs":[{"id":"ref-for-min-content-contribution"}],"title":"3.9.1. Computing the table width"}],"url":"https://drafts.csswg.org/css-sizing-3/#min-content-contribution"},
"12f8fb07": {"dfnID":"12f8fb07","dfnText":"visibility","external":true,"refSections":[{"refs":[{"id":"ref-for-propdef-visibility"}],"title":"3.11. Positioning of cells, captions and other internal table boxes"},{"refs":[{"id":"ref-for-propdef-visibility\u2460"}],"title":"4.2. \nWith a table-internal as containing block"}],"url":"https://drafts.csswg.org/css-display-4/#propdef-visibility"},
"1ebe67be": {"dfnID":"1ebe67be","dfnText":"bottom","external":true,"refSections":[{"refs":[{"id":"ref-for-propdef-bottom"}],"title":"3.6.1. Overrides applying in all modes"},{"refs":[{"id":"ref-for-propdef-bottom\u2460"}],"title":"4.1. \nWith a table-root as containing block"},{"refs":[{"id":"ref-for-propdef-bottom\u2461"}],"title":"4.2. \nWith a table-internal as containing block"}],"url":"https://www.w3.org/TR/CSS21/visuren.html#propdef-bottom"},
"358fd6ff": {"dfnID":"358fd6ff","dfnText":"css-wide keywords","external":true,"refSections":[{"refs":[{"id":"ref-for-css-wide-keywords"}],"title":"1.1. Value Definitions"}],"url":"https://drafts.csswg.org/css-values-4/#css-wide-keywords"},
"3680847b": {"dfnID":"3680847b","dfnText":"border-image-source","external":true,"refSections":[{"refs":[{"id":"ref-for-propdef-border-image-source"}],"title":"3.7.1.1. Conflict Resolution Algorithm for Collapsed Borders"}],"url":"https://drafts.csswg.org/css-backgrounds-3/#propdef-border-image-source"},
"3b1682d5": {"dfnID":"3b1682d5","dfnText":"background-origin","external":true,"refSections":[{"refs":[{"id":"ref-for-propdef-background-origin"}],"title":"5.3.2. Drawing cell backgrounds"}],"url":"https://drafts.csswg.org/css-backgrounds-3/#propdef-background-origin"},
"42871fa3": {"dfnID":"42871fa3","dfnText":"border-style","external":true,"refSections":[{"refs":[{"id":"ref-for-propdef-border-style"},{"id":"ref-for-propdef-border-style\u2460"}],"title":"3.7.1.3. Specificity of a border style"},{"refs":[{"id":"ref-for-propdef-border-style\u2461"},{"id":"ref-for-propdef-border-style\u2462"}],"title":"5.3.4. Border styles (collapsed-borders mode)"}],"url":"https://drafts.csswg.org/css-backgrounds-3/#propdef-border-style"},
"4356bfe3": {"dfnID":"4356bfe3","dfnText":"text-align","external":true,"refSections":[{"refs":[{"id":"ref-for-propdef-text-align"}],"title":"3.5.3. The Caption-Side property"},{"refs":[{"id":"ref-for-propdef-text-align\u2460"}],"title":"3.8.3. Computing Column Measures"}],"url":"https://drafts.csswg.org/css-text-3/#propdef-text-align"},
"43b15e47": {"dfnID":"43b15e47","dfnText":"anonymous box","external":true,"refSections":[{"refs":[{"id":"ref-for-anonymous"}],"title":"2.2.2. Characteristics of fixup boxes"}],"url":"https://drafts.csswg.org/css-display-4/#anonymous"},
"4726eb39": {"dfnID":"4726eb39","dfnText":"top","external":true,"refSections":[{"refs":[{"id":"ref-for-propdef-top"}],"title":"3.6.1. Overrides applying in all modes"},{"refs":[{"id":"ref-for-propdef-top\u2460"}],"title":"4.1. \nWith a table-root as containing block"},{"refs":[{"id":"ref-for-propdef-top\u2461"}],"title":"4.2. \nWith a table-internal as containing block"}],"url":"https://www.w3.org/TR/CSS21/visuren.html#propdef-top"},
"4c9599fa": {"dfnID":"4c9599fa","dfnText":"min-height","external":true,"refSections":[{"refs":[{"id":"ref-for-propdef-min-height"}],"title":"3.10.6. Table-cell content layout (second pass)"}],"url":"https://drafts.csswg.org/css-sizing-3/#propdef-min-height"},
"5455396f": {"dfnID":"5455396f","dfnText":"z-index","external":true,"refSections":[{"refs":[{"id":"ref-for-propdef-z-index"}],"title":"3.6.1. Overrides applying in all modes"}],"url":"https://www.w3.org/TR/CSS21/visuren.html#propdef-z-index"},
"559a1521": {"dfnID":"559a1521","dfnText":"isolation","external":true,"refSections":[{"refs":[{"id":"ref-for-propdef-isolation"}],"title":"3.6.1. Overrides applying in all modes"}],"url":"https://drafts.fxtf.org/compositing-2/#propdef-isolation"},
"5e3e8101": {"dfnID":"5e3e8101","dfnText":"inner display type","external":true,"refSections":[{"refs":[{"id":"ref-for-inner-display-type"}],"title":"2.1.1. Terminology"}],"url":"https://drafts.csswg.org/css-display-4/#inner-display-type"},
"5f1a81e7": {"dfnID":"5f1a81e7","dfnText":"border-radius","external":true,"refSections":[{"refs":[{"id":"ref-for-propdef-border-radius"}],"title":"3.6.2. Overrides applying in collapsed-borders mode"}],"url":"https://drafts.csswg.org/css-backgrounds-3/#propdef-border-radius"},
"61fd84c3": {"dfnID":"61fd84c3","dfnText":"transform-style","external":true,"refSections":[{"refs":[{"id":"ref-for-propdef-transform-style"}],"title":"3.6.1. Overrides applying in all modes"}],"url":"https://drafts.csswg.org/css-transforms-2/#propdef-transform-style"},
"6501e5b3": {"dfnID":"6501e5b3","dfnText":"white-space","external":true,"refSections":[{"refs":[{"id":"ref-for-propdef-white-space"}],"title":"5.2. Empty cell rendering (separated-borders mode)"}],"url":"https://drafts.csswg.org/css-text-4/#propdef-white-space"},
"68019d7a": {"dfnID":"68019d7a","dfnText":"height","external":true,"refSections":[{"refs":[{"id":"ref-for-propdef-height"}],"title":"2.2.1. Fixup Algorithm"},{"refs":[{"id":"ref-for-propdef-height\u2460"},{"id":"ref-for-propdef-height\u2461"},{"id":"ref-for-propdef-height\u2462"},{"id":"ref-for-propdef-height\u2463"},{"id":"ref-for-propdef-height\u2464"},{"id":"ref-for-propdef-height\u2465"}],"title":"3.10.1. Computing the table height"},{"refs":[{"id":"ref-for-propdef-height\u2466"}],"title":"3.10.3. Row layout (second pass)"},{"refs":[{"id":"ref-for-propdef-height\u2467"}],"title":"3.10.6. Table-cell content layout (second pass)"}],"url":"https://drafts.csswg.org/css-sizing-3/#propdef-height"},
"6b14b18a": {"dfnID":"6b14b18a","dfnText":"clip","external":true,"refSections":[{"refs":[{"id":"ref-for-propdef-clip"}],"title":"3.6.1. Overrides applying in all modes"}],"url":"https://drafts.fxtf.org/css-masking-1/#propdef-clip"},
"6ec67710": {"dfnID":"6ec67710","dfnText":"|","external":true,"refSections":[{"refs":[{"id":"ref-for-comb-one"}],"title":"3.5.1. The Table-Layout property"},{"refs":[{"id":"ref-for-comb-one\u2460"}],"title":"3.5.2. The Border-Collapse property"},{"refs":[{"id":"ref-for-comb-one\u2461"}],"title":"3.5.3. The Caption-Side property"},{"refs":[{"id":"ref-for-comb-one\u2462"}],"title":"5.2. Empty cell rendering (separated-borders mode)"}],"url":"https://drafts.csswg.org/css-values-4/#comb-one"},
"6ee514e7": {"dfnID":"6ee514e7","dfnText":"separate","external":true,"refSections":[{"refs":[{"id":"ref-for-valdef-border-collapse-separate"}],"title":"3.5.2.1. The Border-Spacing property"}],"url":"https://drafts.csswg.org/css2/#valdef-border-collapse-separate"},
"711c7d81": {"dfnID":"711c7d81","dfnText":"background-size","external":true,"refSections":[{"refs":[{"id":"ref-for-propdef-background-size"}],"title":"5.3.2. Drawing cell backgrounds"}],"url":"https://drafts.csswg.org/css-backgrounds-3/#propdef-background-size"},
"758665a5": {"dfnID":"758665a5","dfnText":"paged media","external":true,"refSections":[{"refs":[{"id":"ref-for-paged-media"}],"title":"6.2. Repeating headers across pages"}],"url":"https://drafts.csswg.org/mediaqueries-5/#paged-media"},
"75e46141": {"dfnID":"75e46141","dfnText":"box-sizing","external":true,"refSections":[{"refs":[{"id":"ref-for-propdef-box-sizing"},{"id":"ref-for-propdef-box-sizing\u2460"}],"title":"3.8.2. Computing Cell Measures"},{"refs":[{"id":"ref-for-propdef-box-sizing\u2461"}],"title":"3.9.3.1. Changes to width distribution in fixed mode"}],"url":"https://drafts.csswg.org/css-sizing-3/#propdef-box-sizing"},
"77f17203": {"dfnID":"77f17203","dfnText":"clip-path","external":true,"refSections":[{"refs":[{"id":"ref-for-propdef-clip-path"}],"title":"3.6.1. Overrides applying in all modes"}],"url":"https://drafts.fxtf.org/css-masking-1/#propdef-clip-path"},
"8379845e": {"dfnID":"8379845e","dfnText":"block-level","external":true,"refSections":[{"refs":[{"id":"ref-for-block-level"}],"title":"2.1. Table Structure"}],"url":"https://drafts.csswg.org/css-display-4/#block-level"},
"86928bde": {"dfnID":"86928bde","dfnText":"overflow","external":true,"refSections":[{"refs":[{"id":"ref-for-propdef-overflow"},{"id":"ref-for-propdef-overflow\u2460"},{"id":"ref-for-propdef-overflow\u2461"}],"title":"3.6.1. Overrides applying in all modes"},{"refs":[{"id":"ref-for-propdef-overflow\u2462"},{"id":"ref-for-propdef-overflow\u2463"}],"title":"3.10.2. Row layout (first pass)"}],"url":"https://drafts.csswg.org/css-overflow-3/#propdef-overflow"},
"88643fe0": {"dfnID":"88643fe0","dfnText":"width","external":true,"refSections":[{"refs":[{"id":"ref-for-propdef-width"}],"title":"2.2.1. Fixup Algorithm"},{"refs":[{"id":"ref-for-propdef-width\u2460"}],"title":"3.1. Core layout principles"},{"refs":[{"id":"ref-for-propdef-width\u2461"},{"id":"ref-for-propdef-width\u2462"},{"id":"ref-for-propdef-width\u2463"},{"id":"ref-for-propdef-width\u2464"},{"id":"ref-for-propdef-width\u2465"},{"id":"ref-for-propdef-width\u2466"},{"id":"ref-for-propdef-width\u2467"},{"id":"ref-for-propdef-width\u2468"},{"id":"ref-for-propdef-width\u2460\u24ea"},{"id":"ref-for-propdef-width\u2460\u2460"},{"id":"ref-for-propdef-width\u2460\u2461"}],"title":"3.8.2. Computing Cell Measures"},{"refs":[{"id":"ref-for-propdef-width\u2460\u2462"}],"title":"3.8.3. Computing Column Measures"},{"refs":[{"id":"ref-for-propdef-width\u2460\u2463"}],"title":"3.9.1. Computing the table width"},{"refs":[{"id":"ref-for-propdef-width\u2460\u2464"}],"title":"3.10.6. Table-cell content layout (second pass)"}],"url":"https://drafts.csswg.org/css-sizing-3/#propdef-width"},
"88def535": {"dfnID":"88def535","dfnText":"min-width","external":true,"refSections":[{"refs":[{"id":"ref-for-propdef-min-width"},{"id":"ref-for-propdef-min-width\u2460"},{"id":"ref-for-propdef-min-width\u2461"},{"id":"ref-for-propdef-min-width\u2462"},{"id":"ref-for-propdef-min-width\u2463"},{"id":"ref-for-propdef-min-width\u2464"},{"id":"ref-for-propdef-min-width\u2465"},{"id":"ref-for-propdef-min-width\u2466"},{"id":"ref-for-propdef-min-width\u2467"},{"id":"ref-for-propdef-min-width\u2468"}],"title":"3.8.2. Computing Cell Measures"},{"refs":[{"id":"ref-for-propdef-min-width\u2460\u24ea"}],"title":"3.9.1. Computing the table width"},{"refs":[{"id":"ref-for-propdef-min-width\u2460\u2460"}],"title":"3.10.6. Table-cell content layout (second pass)"}],"url":"https://drafts.csswg.org/css-sizing-3/#propdef-min-width"},
"91bfbe18": {"dfnID":"91bfbe18","dfnText":"opacity","external":true,"refSections":[{"refs":[{"id":"ref-for-propdef-opacity"}],"title":"3.6.1. Overrides applying in all modes"}],"url":"https://drafts.csswg.org/css-color-4/#propdef-opacity"},
"938ba280": {"dfnID":"938ba280","dfnText":"{a,b}","external":true,"refSections":[{"refs":[{"id":"ref-for-mult-num-range"}],"title":"3.5.2.1. The Border-Spacing property"}],"url":"https://drafts.csswg.org/css-values-4/#mult-num-range"},
"9522389e": {"dfnID":"9522389e","dfnText":"break-inside","external":true,"refSections":[{"refs":[{"id":"ref-for-propdef-break-inside"}],"title":"6.2. Repeating headers across pages"}],"url":"https://drafts.csswg.org/css-break-3/#propdef-break-inside"},
"977d3003": {"dfnID":"977d3003","dfnText":"<string>","external":true,"refSections":[{"refs":[{"id":"ref-for-string-value"}],"title":"3.8.3. Computing Column Measures"}],"url":"https://drafts.csswg.org/css-values-4/#string-value"},
"9f13b712": {"dfnID":"9f13b712","dfnText":"behave as auto","external":true,"refSections":[{"refs":[{"id":"ref-for-behave-as-auto"}],"title":"3.10.6. Table-cell content layout (second pass)"}],"url":"https://drafts.csswg.org/css-sizing-3/#behave-as-auto"},
"9f184b64": {"dfnID":"9f184b64","dfnText":"filter","external":true,"refSections":[{"refs":[{"id":"ref-for-propdef-filter"}],"title":"3.6.1. Overrides applying in all modes"}],"url":"https://drafts.fxtf.org/filter-effects-1/#propdef-filter"},
"ROWMIN": {"dfnID":"ROWMIN","dfnText":"ROWMIN","external":false,"refSections":[{"refs":[{"id":"ref-for-ROWMIN"}],"title":"3.10.1. Computing the table height"}],"url":"#ROWMIN"},
"a4cd8a8d": {"dfnID":"a4cd8a8d","dfnText":"border-image","external":true,"refSections":[{"refs":[{"id":"ref-for-propdef-border-image"}],"title":"5.3.1.1. Changes in collapsed-borders mode"},{"refs":[{"id":"ref-for-propdef-border-image\u2460"}],"title":"5.3.3.1. Changes in collapsed-borders mode"}],"url":"https://drafts.csswg.org/css-backgrounds-3/#propdef-border-image"},
"abb2bed7": {"dfnID":"abb2bed7","dfnText":"table","external":true,"refSections":[{"refs":[{"id":"ref-for-valdef-display-table"}],"title":"2.1.1. Terminology"}],"url":"https://drafts.csswg.org/css-display-4/#valdef-display-table"},
"appropriateness-of-child-percentage-resolution": {"dfnID":"appropriateness-of-child-percentage-resolution","dfnText":"\n\t\t\tIt is appropriate to resolve percentage heights on direct children of a table-cell","external":false,"refSections":[{"refs":[{"id":"ref-for-appropriateness-of-child-percentage-resolution"}],"title":"3.10.2. Row layout (first pass)"},{"refs":[{"id":"ref-for-appropriateness-of-child-percentage-resolution"}],"title":"3.10.6. Table-cell content layout (second pass)"}],"url":"#appropriateness-of-child-percentage-resolution"},
"assignable-table-width": {"dfnID":"assignable-table-width","dfnText":"assignable table width","external":false,"refSections":[{"refs":[{"id":"ref-for-assignable-table-width"},{"id":"ref-for-assignable-table-width\u2460"}],"title":"3.9.2.1. Rules"},{"refs":[{"id":"ref-for-assignable-table-width\u2461"},{"id":"ref-for-assignable-table-width\u2462"}],"title":"3.9.3. Distribution algorithm"},{"refs":[{"id":"ref-for-assignable-table-width\u2463"}],"title":"3.9.3.1. Changes to width distribution in fixed mode"}],"url":"#assignable-table-width"},
"auto-column": {"dfnID":"auto-column","dfnText":"auto-column","external":false,"refSections":[],"url":"#auto-column"},
"b5418f3e": {"dfnID":"b5418f3e","dfnText":"padding","external":true,"refSections":[{"refs":[{"id":"ref-for-propdef-padding"}],"title":"3.6.1. Overrides applying in all modes"},{"refs":[{"id":"ref-for-propdef-padding\u2460"}],"title":"3.6.2. Overrides applying in collapsed-borders mode"}],"url":"https://drafts.csswg.org/css-box-4/#propdef-padding"},
"b8a0ba74": {"dfnID":"b8a0ba74","dfnText":"position","external":true,"refSections":[{"refs":[{"id":"ref-for-propdef-position"}],"title":"2.2.1. Fixup Algorithm"},{"refs":[{"id":"ref-for-propdef-position\u2460"}],"title":"3.6.1. Overrides applying in all modes"}],"url":"https://drafts.csswg.org/css-position-3/#propdef-position"},
"bd765d87": {"dfnID":"bd765d87","dfnText":"mask","external":true,"refSections":[{"refs":[{"id":"ref-for-propdef-mask"}],"title":"3.6.1. Overrides applying in all modes"}],"url":"https://drafts.fxtf.org/css-masking-1/#propdef-mask"},
"c1654d36": {"dfnID":"c1654d36","dfnText":"break-before","external":true,"refSections":[{"refs":[{"id":"ref-for-propdef-break-before"}],"title":"6.1. Breaking across fragmentainers"}],"url":"https://drafts.csswg.org/css-break-3/#propdef-break-before"},
"c9ecad15": {"dfnID":"c9ecad15","dfnText":"border-width","external":true,"refSections":[{"refs":[{"id":"ref-for-propdef-border-width"}],"title":"3.7.1.3. Specificity of a border style"}],"url":"https://drafts.csswg.org/css-backgrounds-3/#propdef-border-width"},
"capmin": {"dfnID":"capmin","dfnText":"caption width minimum (CAPMIN)","external":false,"refSections":[{"refs":[{"id":"ref-for-capmin"}],"title":"3.2. Table layout algorithm"},{"refs":[{"id":"ref-for-capmin"}],"title":"3.9.1. Computing the table width"}],"url":"#capmin"},
"caption-side-bottom": {"dfnID":"caption-side-bottom","dfnText":"bottom","external":false,"refSections":[],"url":"#caption-side-bottom"},
"caption-side-top": {"dfnID":"caption-side-top","dfnText":"top","external":false,"refSections":[],"url":"#caption-side-top"},
"cecbe9cd": {"dfnID":"cecbe9cd","dfnText":"margin","external":true,"refSections":[{"refs":[{"id":"ref-for-propdef-margin"},{"id":"ref-for-propdef-margin\u2460"},{"id":"ref-for-propdef-margin\u2461"}],"title":"3.6.1. Overrides applying in all modes"}],"url":"https://drafts.csswg.org/css-box-4/#propdef-margin"},
"cell-intrinsic-offsets": {"dfnID":"cell-intrinsic-offsets","dfnText":"cell intrinsic offsets","external":false,"refSections":[],"url":"#cell-intrinsic-offsets"},
"column": {"dfnID":"column","dfnText":"columns","external":false,"refSections":[],"url":"#column"},
"consecutive-boxes": {"dfnID":"consecutive-boxes","dfnText":"consecutive","external":false,"refSections":[],"url":"#consecutive-boxes"},
"constrainedness": {"dfnID":"constrainedness","dfnText":"constrainedness","external":false,"refSections":[{"refs":[{"id":"ref-for-constrainedness"},{"id":"ref-for-constrainedness\u2460"}],"title":"3.8.2. Computing Cell Measures"},{"refs":[{"id":"ref-for-constrainedness\u2461"}],"title":"3.9.3. Distribution algorithm"},{"refs":[{"id":"ref-for-constrainedness\u2462"},{"id":"ref-for-constrainedness\u2463"},{"id":"ref-for-constrainedness\u2464"}],"title":"3.9.3.2. Distributing excess width to columns"}],"url":"#constrainedness"},
"d7fa3e1c": {"dfnID":"d7fa3e1c","dfnText":"inline-level","external":true,"refSections":[{"refs":[{"id":"ref-for-inline-level"}],"title":"2.1. Table Structure"}],"url":"https://drafts.csswg.org/css-display-4/#inline-level"},
"dde41168": {"dfnID":"dde41168","dfnText":"left","external":true,"refSections":[{"refs":[{"id":"ref-for-propdef-left"}],"title":"3.6.1. Overrides applying in all modes"},{"refs":[{"id":"ref-for-propdef-left\u2460"}],"title":"4.1. \nWith a table-root as containing block"},{"refs":[{"id":"ref-for-propdef-left\u2461"}],"title":"4.2. \nWith a table-internal as containing block"}],"url":"https://drafts.csswg.org/css-position-3/#propdef-left"},
"distributed-width": {"dfnID":"distributed-width","dfnText":"distributed width","external":false,"refSections":[],"url":"#distributed-width"},
"distributing-excess-width-to-columns": {"dfnID":"distributing-excess-width-to-columns","dfnText":"distributing excess width to columns","external":false,"refSections":[{"refs":[{"id":"ref-for-distributing-excess-width-to-columns"}],"title":"3.9.3. Distribution algorithm"}],"url":"#distributing-excess-width-to-columns"},
"e0b6ed58": {"dfnID":"e0b6ed58","dfnText":"vertical-align","external":true,"refSections":[{"refs":[{"id":"ref-for-propdef-vertical-align"},{"id":"ref-for-propdef-vertical-align\u2460"},{"id":"ref-for-propdef-vertical-align\u2461"}],"title":"3.10.2. Row layout (first pass)"}],"url":"https://drafts.csswg.org/css-inline-3/#propdef-vertical-align"},
"e2e08d07": {"dfnID":"e2e08d07","dfnText":"transform","external":true,"refSections":[{"refs":[{"id":"ref-for-propdef-transform"}],"title":"3.6.1. Overrides applying in all modes"}],"url":"https://drafts.csswg.org/css-transforms-1/#propdef-transform"},
"e7f0dd6c": {"dfnID":"e7f0dd6c","dfnText":"display","external":true,"refSections":[{"refs":[{"id":"ref-for-propdef-display"},{"id":"ref-for-propdef-display\u2460"},{"id":"ref-for-propdef-display\u2461"}],"title":"2.1. Table Structure"},{"refs":[{"id":"ref-for-propdef-display\u2462"}],"title":"2.2.1. Fixup Algorithm"}],"url":"https://drafts.csswg.org/css-display-4/#propdef-display"},
"e8163b52": {"dfnID":"e8163b52","dfnText":"mix-blend-mode","external":true,"refSections":[{"refs":[{"id":"ref-for-propdef-mix-blend-mode"}],"title":"3.6.1. Overrides applying in all modes"}],"url":"https://drafts.fxtf.org/compositing-2/#propdef-mix-blend-mode"},
"ea663a43": {"dfnID":"ea663a43","dfnText":"containing block","external":true,"refSections":[{"refs":[{"id":"ref-for-containing-block"},{"id":"ref-for-containing-block\u2460"}],"title":"4.1. \nWith a table-root as containing block"},{"refs":[{"id":"ref-for-containing-block\u2461"},{"id":"ref-for-containing-block\u2462"}],"title":"4.2. \nWith a table-internal as containing block"}],"url":"https://drafts.csswg.org/css-display-4/#containing-block"},
"eligible-track": {"dfnID":"eligible-track","dfnText":"eligible track","external":false,"refSections":[{"refs":[{"id":"ref-for-eligible-track"}],"title":"3.3.2. Track merging"}],"url":"#eligible-track"},
"empty-cell": {"dfnID":"empty-cell","dfnText":"empty cell","external":false,"refSections":[{"refs":[{"id":"ref-for-empty-cell"}],"title":"5.2. Empty cell rendering (separated-borders mode)"},{"refs":[{"id":"ref-for-empty-cell\u2460"}],"title":"5.3.2. Drawing cell backgrounds"}],"url":"#empty-cell"},
"empty-table": {"dfnID":"empty-table","dfnText":"empty table","external":false,"refSections":[{"refs":[{"id":"ref-for-empty-table"}],"title":"5.3.1.1. Changes in collapsed-borders mode"}],"url":"#empty-table"},
"excess-width": {"dfnID":"excess-width","dfnText":"excess width","external":false,"refSections":[],"url":"#excess-width"},
"f08b32ef": {"dfnID":"f08b32ef","dfnText":"max-width","external":true,"refSections":[{"refs":[{"id":"ref-for-propdef-max-width"},{"id":"ref-for-propdef-max-width\u2460"},{"id":"ref-for-propdef-max-width\u2461"},{"id":"ref-for-propdef-max-width\u2462"},{"id":"ref-for-propdef-max-width\u2463"},{"id":"ref-for-propdef-max-width\u2464"},{"id":"ref-for-propdef-max-width\u2465"}],"title":"3.8.2. Computing Cell Measures"}],"url":"https://drafts.csswg.org/css-sizing-3/#propdef-max-width"},
"f271d0a1": {"dfnID":"f271d0a1","dfnText":"flow layout","external":true,"refSections":[{"refs":[{"id":"ref-for-flow-layout"},{"id":"ref-for-flow-layout\u2460"}],"title":"2.1. Table Structure"}],"url":"https://drafts.csswg.org/css-display-4/#flow-layout"},
"f5eca8c9": {"dfnID":"f5eca8c9","dfnText":"background","external":true,"refSections":[{"refs":[{"id":"ref-for-propdef-background"}],"title":"3.6.1. Overrides applying in all modes"},{"refs":[{"id":"ref-for-propdef-background\u2460"}],"title":"5.3.2. Drawing cell backgrounds"}],"url":"https://drafts.csswg.org/css-backgrounds-3/#propdef-background"},
"f73b681a": {"dfnID":"f73b681a","dfnText":"perspective","external":true,"refSections":[{"refs":[{"id":"ref-for-propdef-perspective"}],"title":"3.6.1. Overrides applying in all modes"}],"url":"https://drafts.csswg.org/css-transforms-2/#propdef-perspective"},
"fb030e6c": {"dfnID":"fb030e6c","dfnText":"<length>","external":true,"refSections":[{"refs":[{"id":"ref-for-length-value"}],"title":"3.5.2.1. The Border-Spacing property"}],"url":"https://drafts.csswg.org/css-values-4/#length-value"},
"freely-fragmentable": {"dfnID":"freely-fragmentable","dfnText":"freely fragmentable","external":false,"refSections":[{"refs":[{"id":"ref-for-freely-fragmentable"},{"id":"ref-for-freely-fragmentable\u2460"}],"title":"6.1. Breaking across fragmentainers"}],"url":"#freely-fragmentable"},
"gridmax": {"dfnID":"gridmax","dfnText":"row/column-grid width maximum (GRIDMAX)","external":false,"refSections":[{"refs":[{"id":"ref-for-gridmax"}],"title":"3.9.1. Computing the table width"}],"url":"#gridmax"},
"gridmin": {"dfnID":"gridmin","dfnText":"row/column-grid width minimum (GRIDMIN)","external":false,"refSections":[{"refs":[{"id":"ref-for-gridmin"},{"id":"ref-for-gridmin"}],"title":"3.9.1. Computing the table width"}],"url":"#gridmin"},
"in-auto-mode": {"dfnID":"in-auto-mode","dfnText":"in auto mode","external":false,"refSections":[{"refs":[{"id":"ref-for-in-auto-mode"}],"title":"3.3.2. Track merging"}],"url":"#in-auto-mode"},
"in-collapsed-borders-mode": {"dfnID":"in-collapsed-borders-mode","dfnText":"in collapsed-borders mode","external":false,"refSections":[{"refs":[{"id":"ref-for-in-collapsed-borders-mode"}],"title":"3.6.2. Overrides applying in collapsed-borders mode"},{"refs":[{"id":"ref-for-in-collapsed-borders-mode\u2460"}],"title":"3.7.1. Conflict Resolution for Collapsed Borders"},{"refs":[{"id":"ref-for-in-collapsed-borders-mode\u2461"},{"id":"ref-for-in-collapsed-borders-mode\u2462"},{"id":"ref-for-in-collapsed-borders-mode\u2463"}],"title":"3.8.2. Computing Cell Measures"},{"refs":[{"id":"ref-for-in-collapsed-borders-mode\u2464"}],"title":"5.2. Empty cell rendering (separated-borders mode)"},{"refs":[{"id":"ref-for-in-collapsed-borders-mode\u2465"},{"id":"ref-for-in-collapsed-borders-mode\u2466"}],"title":"5.3.1.1. Changes in collapsed-borders mode"},{"refs":[{"id":"ref-for-in-collapsed-borders-mode\u2467"}],"title":"5.3.3.1. Changes in collapsed-borders mode"},{"refs":[{"id":"ref-for-in-collapsed-borders-mode\u2468"}],"title":"5.3.4. Border styles (collapsed-borders mode)"}],"url":"#in-collapsed-borders-mode"},
"in-fixed-mode": {"dfnID":"in-fixed-mode","dfnText":"in fixed mode","external":false,"refSections":[{"refs":[{"id":"ref-for-in-fixed-mode"}],"title":"3.3.2. Track merging"},{"refs":[{"id":"ref-for-in-fixed-mode\u2460"}],"title":"3.5.1. The Table-Layout property"},{"refs":[{"id":"ref-for-in-fixed-mode\u2461"},{"id":"ref-for-in-fixed-mode\u2462"},{"id":"ref-for-in-fixed-mode\u2463"}],"title":"3.8.3. Computing Column Measures"},{"refs":[{"id":"ref-for-in-fixed-mode\u2464"}],"title":"3.9.2.1. Rules"},{"refs":[{"id":"ref-for-in-fixed-mode\u2465"}],"title":"3.9.3. Distribution algorithm"},{"refs":[{"id":"ref-for-in-fixed-mode\u2466"}],"title":"3.9.3.1. Changes to width distribution in fixed mode"},{"refs":[{"id":"ref-for-in-fixed-mode\u2467"}],"title":"3.9.3.2. Distributing excess width to columns"},{"refs":[{"id":"ref-for-in-fixed-mode\u2468"}],"title":"3.11. Positioning of cells, captions and other internal table boxes"}],"url":"#in-fixed-mode"},
"in-separated-borders-mode": {"dfnID":"in-separated-borders-mode","dfnText":"in separated-borders mode","external":false,"refSections":[{"refs":[{"id":"ref-for-in-separated-borders-mode"}],"title":"3.5.2.1. The Border-Spacing property"},{"refs":[{"id":"ref-for-in-separated-borders-mode\u2460"},{"id":"ref-for-in-separated-borders-mode\u2461"},{"id":"ref-for-in-separated-borders-mode\u2462"}],"title":"3.8.2. Computing Cell Measures"},{"refs":[{"id":"ref-for-in-separated-borders-mode\u2463"}],"title":"5.2. Empty cell rendering (separated-borders mode)"},{"refs":[{"id":"ref-for-in-separated-borders-mode\u2464"}],"title":"5.3.2. Drawing cell backgrounds"}],"url":"#in-separated-borders-mode"},
"inline-table": {"dfnID":"inline-table","dfnText":"inline-table","external":false,"refSections":[{"refs":[{"id":"ref-for-inline-table"}],"title":"2.2. Fixup"},{"refs":[{"id":"ref-for-inline-table\u2460"},{"id":"ref-for-inline-table\u2461"},{"id":"ref-for-inline-table\u2462"},{"id":"ref-for-inline-table\u2463"}],"title":"2.2.1. Fixup Algorithm"}],"url":"#inline-table"},
"intrinsic-percentage-width-of-a-column": {"dfnID":"intrinsic-percentage-width-of-a-column","dfnText":"intrinsic percentage width of a column","external":false,"refSections":[{"refs":[{"id":"ref-for-intrinsic-percentage-width-of-a-column"}],"title":"3.8.3. Computing Column Measures"}],"url":"#intrinsic-percentage-width-of-a-column"},
"intrinsic-percentage-width-of-a-column-based-on-cells-of-span-up-to-1": {"dfnID":"intrinsic-percentage-width-of-a-column-based-on-cells-of-span-up-to-1","dfnText":"intrinsic percentage width of a column based on cells of span up to 1","external":false,"refSections":[],"url":"#intrinsic-percentage-width-of-a-column-based-on-cells-of-span-up-to-1"},
"intrinsic-percentage-width-of-a-column-based-on-cells-of-span-up-to-n-n--1": {"dfnID":"intrinsic-percentage-width-of-a-column-based-on-cells-of-span-up-to-n-n--1","dfnText":"intrinsic percentage width of a column based on cells of span up to N (N > 1)","external":false,"refSections":[],"url":"#intrinsic-percentage-width-of-a-column-based-on-cells-of-span-up-to-n-n--1"},
"max-content-sizing-guess": {"dfnID":"max-content-sizing-guess","dfnText":"max-content sizing-guess","external":false,"refSections":[{"refs":[{"id":"ref-for-max-content-sizing-guess"},{"id":"ref-for-max-content-sizing-guess\u2460"},{"id":"ref-for-max-content-sizing-guess"}],"title":"3.9.3. Distribution algorithm"}],"url":"#max-content-sizing-guess"},
"max-content-width-of-a-column": {"dfnID":"max-content-width-of-a-column","dfnText":"max-content width of a column","external":false,"refSections":[{"refs":[{"id":"ref-for-max-content-width-of-a-column"}],"title":"3.8.3. Computing Column Measures"},{"refs":[{"id":"ref-for-max-content-width-of-a-column"}],"title":"3.9.1. Computing the table width"},{"refs":[{"id":"ref-for-max-content-width-of-a-column"},{"id":"ref-for-max-content-width-of-a-column"}],"title":"3.9.2.1. Rules"}],"url":"#max-content-width-of-a-column"},
"max-content-width-of-a-column-based-on-cells-of-span-up-to-1": {"dfnID":"max-content-width-of-a-column-based-on-cells-of-span-up-to-1","dfnText":"max-content width of a column based on cells of span up to 1","external":false,"refSections":[],"url":"#max-content-width-of-a-column-based-on-cells-of-span-up-to-1"},
"max-content-width-of-a-column-based-on-cells-of-span-up-to-n-n--1": {"dfnID":"max-content-width-of-a-column-based-on-cells-of-span-up-to-n-n--1","dfnText":"max-content width of a column based on cells of span up to N (N > 1)","external":false,"refSections":[],"url":"#max-content-width-of-a-column-based-on-cells-of-span-up-to-n-n--1"},
"max-content-width-of-a-table": {"dfnID":"max-content-width-of-a-table","dfnText":"max-content width of a table","external":false,"refSections":[],"url":"#max-content-width-of-a-table"},
"min-content-percentage-sizing-guess": {"dfnID":"min-content-percentage-sizing-guess","dfnText":"min-content-percentage sizing-guess","external":false,"refSections":[{"refs":[{"id":"ref-for-min-content-percentage-sizing-guess"}],"title":"3.9.3. Distribution algorithm"}],"url":"#min-content-percentage-sizing-guess"},
"min-content-sizing-guess": {"dfnID":"min-content-sizing-guess","dfnText":"min-content sizing-guess","external":false,"refSections":[{"refs":[{"id":"ref-for-min-content-sizing-guess"}],"title":"3.9.3. Distribution algorithm"}],"url":"#min-content-sizing-guess"},
"min-content-specified-sizing-guess": {"dfnID":"min-content-specified-sizing-guess","dfnText":"min-content-specified sizing-guess","external":false,"refSections":[{"refs":[{"id":"ref-for-min-content-specified-sizing-guess"}],"title":"3.9.3. Distribution algorithm"}],"url":"#min-content-specified-sizing-guess"},
"min-content-width-of-a-column": {"dfnID":"min-content-width-of-a-column","dfnText":"min-content width of a column","external":false,"refSections":[{"refs":[{"id":"ref-for-min-content-width-of-a-column"}],"title":"3.8.3. Computing Column Measures"},{"refs":[{"id":"ref-for-min-content-width-of-a-column"}],"title":"3.9.1. Computing the table width"},{"refs":[{"id":"ref-for-min-content-width-of-a-column"},{"id":"ref-for-min-content-width-of-a-column"},{"id":"ref-for-min-content-width-of-a-column"}],"title":"3.9.2.1. Rules"},{"refs":[{"id":"ref-for-min-content-width-of-a-column"}],"title":"3.9.3.1. Changes to width distribution in fixed mode"}],"url":"#min-content-width-of-a-column"},
"min-content-width-of-a-column-based-on-cells-of-span-up-to-1": {"dfnID":"min-content-width-of-a-column-based-on-cells-of-span-up-to-1","dfnText":"min-content width of a column based on cells of span up to 1","external":false,"refSections":[],"url":"#min-content-width-of-a-column-based-on-cells-of-span-up-to-1"},
"min-content-width-of-a-column-based-on-cells-of-span-up-to-n-n--1": {"dfnID":"min-content-width-of-a-column-based-on-cells-of-span-up-to-n-n--1","dfnText":"min-content width of a column based on cells of span up to N (N > 1)","external":false,"refSections":[],"url":"#min-content-width-of-a-column-based-on-cells-of-span-up-to-n-n--1"},
"min-content-width-of-a-table": {"dfnID":"min-content-width-of-a-table","dfnText":"min-content width of a table","external":false,"refSections":[{"refs":[{"id":"ref-for-min-content-width-of-a-table"}],"title":"3.1. Core layout principles"}],"url":"#min-content-width-of-a-table"},
"offsets-adjusted-width": {"dfnID":"offsets-adjusted-width","dfnText":"offsets-adjusted min-width, width, and max-width","external":false,"refSections":[{"refs":[{"id":"ref-for-offsets-adjusted-width"}],"title":"3.8.2. Computing Cell Measures"}],"url":"#offsets-adjusted-width"},
"originate": {"dfnID":"originate","dfnText":"originate","external":false,"refSections":[{"refs":[{"id":"ref-for-originate"}],"title":"3.3.2. Track merging"},{"refs":[{"id":"ref-for-originate\u2460"}],"title":"3.8.3. Computing Column Measures"}],"url":"#originate"},
"outer-max-content": {"dfnID":"outer-max-content","dfnText":"outer max-content","external":false,"refSections":[{"refs":[{"id":"ref-for-outer-max-content"},{"id":"ref-for-outer-max-content\u2460"},{"id":"ref-for-outer-max-content\u2461"}],"title":"3.8.3. Computing Column Measures"}],"url":"#outer-max-content"},
"outer-min-content": {"dfnID":"outer-min-content","dfnText":"outer min-content","external":false,"refSections":[{"refs":[{"id":"ref-for-outer-min-content"},{"id":"ref-for-outer-min-content\u2460"},{"id":"ref-for-outer-min-content\u2461"}],"title":"3.8.3. Computing Column Measures"}],"url":"#outer-min-content"},
"percent-column": {"dfnID":"percent-column","dfnText":"percent-column","external":false,"refSections":[{"refs":[{"id":"ref-for-percent-column"},{"id":"ref-for-percent-column\u2460"},{"id":"ref-for-percent-column\u2461"}],"title":"3.9.3. Distribution algorithm"}],"url":"#percent-column"},
"percentage-contribution": {"dfnID":"percentage-contribution","dfnText":"percentage contribution","external":false,"refSections":[],"url":"#percentage-contribution"},
"pixel-column": {"dfnID":"pixel-column","dfnText":"pixel-column","external":false,"refSections":[],"url":"#pixel-column"},
"propdef-border-collapse": {"dfnID":"propdef-border-collapse","dfnText":"border-collapse","external":false,"refSections":[{"refs":[{"id":"ref-for-propdef-border-collapse"},{"id":"ref-for-propdef-border-collapse\u2460"}],"title":"3.5. Table layout modes"},{"refs":[{"id":"ref-for-propdef-border-collapse\u2461"}],"title":"3.5.2. The Border-Collapse property"},{"refs":[{"id":"ref-for-propdef-border-collapse\u2462"}],"title":"3.5.2.1. The Border-Spacing property"},{"refs":[{"id":"ref-for-propdef-border-collapse\u2463"}],"title":"3.8.2. Computing Cell Measures"}],"url":"#propdef-border-collapse"},
"propdef-border-spacing": {"dfnID":"propdef-border-spacing","dfnText":"border-spacing","external":false,"refSections":[{"refs":[{"id":"ref-for-propdef-border-spacing"}],"title":"3.5. Table layout modes"},{"refs":[{"id":"ref-for-propdef-border-spacing\u2460"}],"title":"3.5.2. The Border-Collapse property"},{"refs":[{"id":"ref-for-propdef-border-spacing\u2461"}],"title":"3.6.2. Overrides applying in collapsed-borders mode"},{"refs":[{"id":"ref-for-propdef-border-spacing\u2462"}],"title":"3.8.1. Computing Undistributable Space"},{"refs":[{"id":"ref-for-propdef-border-spacing\u2463"},{"id":"ref-for-propdef-border-spacing\u2464"},{"id":"ref-for-propdef-border-spacing\u2465"}],"title":"3.11. Positioning of cells, captions and other internal table boxes"}],"url":"#propdef-border-spacing"},
"propdef-caption-side": {"dfnID":"propdef-caption-side","dfnText":"caption-side","external":false,"refSections":[{"refs":[{"id":"ref-for-propdef-caption-side"}],"title":"3.5. Table layout modes"},{"refs":[{"id":"ref-for-propdef-caption-side\u2460"}],"title":"3.5.3. The Caption-Side property"},{"refs":[{"id":"ref-for-propdef-caption-side\u2461"}],"title":"3.8.2. Computing Cell Measures"},{"refs":[{"id":"ref-for-propdef-caption-side\u2462"},{"id":"ref-for-propdef-caption-side\u2463"}],"title":"3.11. Positioning of cells, captions and other internal table boxes"}],"url":"#propdef-caption-side"},
"propdef-empty-cells": {"dfnID":"propdef-empty-cells","dfnText":"empty-cells","external":false,"refSections":[{"refs":[{"id":"ref-for-propdef-empty-cells"}],"title":"5.3.2. Drawing cell backgrounds"}],"url":"#propdef-empty-cells"},
"propdef-table-layout": {"dfnID":"propdef-table-layout","dfnText":"table-layout","external":false,"refSections":[{"refs":[{"id":"ref-for-propdef-table-layout"}],"title":"3.5. Table layout modes"},{"refs":[{"id":"ref-for-propdef-table-layout\u2460"},{"id":"ref-for-propdef-table-layout\u2461"}],"title":"3.5.1. The Table-Layout property"}],"url":"#propdef-table-layout"},
"proper-table-child-element": {"dfnID":"proper-table-child-element","dfnText":"proper table child","external":false,"refSections":[{"refs":[{"id":"ref-for-proper-table-child-element"}],"title":"2.1.1. Terminology"},{"refs":[{"id":"ref-for-proper-table-child-element\u2460"},{"id":"ref-for-proper-table-child-element\u2461"}],"title":"2.2.1. Fixup Algorithm"}],"url":"#proper-table-child-element"},
"proper-table-row-parent-element": {"dfnID":"proper-table-row-parent-element","dfnText":"proper table-row parent","external":false,"refSections":[{"refs":[{"id":"ref-for-proper-table-row-parent-element"}],"title":"2.1.1. Terminology"}],"url":"#proper-table-row-parent-element"},
"resolved-table-width": {"dfnID":"resolved-table-width","dfnText":"resolved-table-width","external":false,"refSections":[{"refs":[{"id":"ref-for-resolved-table-width"}],"title":"3.9.1. Computing the table width"}],"url":"#resolved-table-width"},
"resolving-percentages-heights-in-table-cell-content": {"dfnID":"resolving-percentages-heights-in-table-cell-content","dfnText":"\n\t\t\tResolve percentage heights in table-cell content:","external":false,"refSections":[{"refs":[{"id":"ref-for-resolving-percentages-heights-in-table-cell-content"}],"title":"3.10.2. Row layout (first pass)"}],"url":"#resolving-percentages-heights-in-table-cell-content"},
"row": {"dfnID":"row","dfnText":"rows","external":false,"refSections":[],"url":"#row"},
"sizing-type": {"dfnID":"sizing-type","dfnText":"sizing type","external":false,"refSections":[{"refs":[{"id":"ref-for-sizing-type"}],"title":"3.9.2.1. Rules"}],"url":"#sizing-type"},
"slot": {"dfnID":"slot","dfnText":"slot","external":false,"refSections":[{"refs":[{"id":"ref-for-slot"}],"title":"2.1.1. Terminology"},{"refs":[{"id":"ref-for-slot\u2460"},{"id":"ref-for-slot\u2461"}],"title":"3.2. Table layout algorithm"},{"refs":[{"id":"ref-for-slot\u2462"}],"title":"3.3. Dimensioning the row/column grid"},{"refs":[{"id":"ref-for-slot"}],"title":"3.3.2. Track merging"},{"refs":[{"id":"ref-for-slot"},{"id":"ref-for-slot"},{"id":"ref-for-slot"},{"id":"ref-for-slot"}],"title":"3.7.1.1. Conflict Resolution Algorithm for Collapsed Borders"},{"refs":[{"id":"ref-for-slot"},{"id":"ref-for-slot"},{"id":"ref-for-slot"},{"id":"ref-for-slot"},{"id":"ref-for-slot"},{"id":"ref-for-slot"}],"title":"3.8.3. Computing Column Measures"}],"url":"#slot"},
"span": {"dfnID":"span","dfnText":"span","external":false,"refSections":[{"refs":[{"id":"ref-for-span"}],"title":"3.3.1. HTML Algorithm"},{"refs":[{"id":"ref-for-span\u2460"}],"title":"3.3.2. Track merging"},{"refs":[{"id":"ref-for-span\u2461"}],"title":"3.4. Missing cells fixup"},{"refs":[{"id":"ref-for-span\u2462"},{"id":"ref-for-span\u2463"},{"id":"ref-for-span\u2464"}],"title":"3.8.3. Computing Column Measures"},{"refs":[{"id":"ref-for-span"},{"id":"ref-for-span"}],"title":"3.11. Positioning of cells, captions and other internal table boxes"}],"url":"#span"},
"table": {"dfnID":"table","dfnText":"table","external":false,"refSections":[{"refs":[{"id":"ref-for-table"}],"title":"2.1. Table Structure"},{"refs":[{"id":"ref-for-table\u2460"}],"title":"2.2. Fixup"},{"refs":[{"id":"ref-for-table\u2461"},{"id":"ref-for-table\u2462"},{"id":"ref-for-table\u2463"}],"title":"2.2.1. Fixup Algorithm"},{"refs":[{"id":"ref-for-table\u2464"}],"title":"4.1. \nWith a table-root as containing block"}],"url":"#table"},
"table-caption": {"dfnID":"table-caption","dfnText":"table-caption","external":false,"refSections":[{"refs":[{"id":"ref-for-table-caption"}],"title":"2.1. Table Structure"},{"refs":[{"id":"ref-for-table-caption"},{"id":"ref-for-table-caption\u2460"}],"title":"2.1.1. Terminology"},{"refs":[{"id":"ref-for-table-caption\u2461"}],"title":"2.2.1. Fixup Algorithm"},{"refs":[{"id":"ref-for-table-caption\u2462"}],"title":"3.5.3. The Caption-Side property"},{"refs":[{"id":"ref-for-table-caption"}],"title":"3.9.1. Computing the table width"}],"url":"#table-caption"},
"table-cell": {"dfnID":"table-cell","dfnText":"table-cell","external":false,"refSections":[{"refs":[{"id":"ref-for-table-cell"}],"title":"2.1. Table Structure"},{"refs":[{"id":"ref-for-table-cell"},{"id":"ref-for-table-cell\u2460"},{"id":"ref-for-table-cell\u2461"},{"id":"ref-for-table-cell\u2462"}],"title":"2.1.1. Terminology"},{"refs":[{"id":"ref-for-table-cell\u2463"}],"title":"2.2. Fixup"},{"refs":[{"id":"ref-for-table-cell\u2464"},{"id":"ref-for-table-cell\u2465"},{"id":"ref-for-table-cell\u2466"}],"title":"2.2.1. Fixup Algorithm"},{"refs":[{"id":"ref-for-table-cell\u2467"}],"title":"2.2.3. Examples"},{"refs":[{"id":"ref-for-table-cell\u2468"}],"title":"3.3.2. Track merging"},{"refs":[{"id":"ref-for-table-cell\u2460\u24ea"},{"id":"ref-for-table-cell\u2460\u2460"}],"title":"3.6.1. Overrides applying in all modes"},{"refs":[{"id":"ref-for-table-cell\u2460\u2461"}],"title":"3.6.2. Overrides applying in collapsed-borders mode"},{"refs":[{"id":"ref-for-table-cell\u2460\u2462"}],"title":"3.7.1. Conflict Resolution for Collapsed Borders"},{"refs":[{"id":"ref-for-table-cell\u2460\u2463"},{"id":"ref-for-table-cell\u2460\u2464"},{"id":"ref-for-table-cell\u2460\u2465"}],"title":"3.7.1.1. Conflict Resolution Algorithm for Collapsed Borders"},{"refs":[{"id":"ref-for-table-cell\u2460\u2466"}],"title":"3.8.2. Computing Cell Measures"},{"refs":[{"id":"ref-for-table-cell\u2460\u2467"}],"title":"5.2. Empty cell rendering (separated-borders mode)"},{"refs":[{"id":"ref-for-table-cell\u2460\u2468"}],"title":"5.3.2. Drawing cell backgrounds"},{"refs":[{"id":"ref-for-table-cell\u2461\u24ea"}],"title":"5.3.3.1. Changes in collapsed-borders mode"},{"refs":[{"id":"ref-for-table-cell\u2461\u2460"},{"id":"ref-for-table-cell\u2461\u2461"}],"title":"5.4. Rendering for visibility: collapse"},{"refs":[{"id":"ref-for-table-cell\u2461\u2462"},{"id":"ref-for-table-cell\u2461\u2463"},{"id":"ref-for-table-cell\u2461\u2464"}],"title":"5.4.1. Rendering a visibility: collapse table cell"}],"url":"#table-cell"},
"table-cell-baseline": {"dfnID":"table-cell-baseline","dfnText":"baseline of a cell","external":false,"refSections":[{"refs":[{"id":"ref-for-table-cell-baseline"}],"title":"3.10.2. Row layout (first pass)"}],"url":"#table-cell-baseline"},
"table-column": {"dfnID":"table-column","dfnText":"table-column","external":false,"refSections":[{"refs":[{"id":"ref-for-table-column"}],"title":"2.1. Table Structure"},{"refs":[{"id":"ref-for-table-column"},{"id":"ref-for-table-column\u2460"}],"title":"2.1.1. Terminology"},{"refs":[{"id":"ref-for-table-column\u2461"},{"id":"ref-for-table-column\u2462"},{"id":"ref-for-table-column\u2463"}],"title":"2.2.1. Fixup Algorithm"},{"refs":[{"id":"ref-for-table-column\u2464"}],"title":"3.6.1. Overrides applying in all modes"}],"url":"#table-column"},
"table-column-group": {"dfnID":"table-column-group","dfnText":"table-column-group","external":false,"refSections":[{"refs":[{"id":"ref-for-table-column-group"}],"title":"2.1. Table Structure"},{"refs":[{"id":"ref-for-table-column-group"}],"title":"2.1.1. Terminology"},{"refs":[{"id":"ref-for-table-column-group\u2460"},{"id":"ref-for-table-column-group\u2461"},{"id":"ref-for-table-column-group\u2462"}],"title":"2.2.1. Fixup Algorithm"},{"refs":[{"id":"ref-for-table-column-group\u2463"}],"title":"3.6.1. Overrides applying in all modes"}],"url":"#table-column-group"},
"table-footer-group": {"dfnID":"table-footer-group","dfnText":"table-footer-group","external":false,"refSections":[{"refs":[{"id":"ref-for-table-footer-group"}],"title":"2.1. Table Structure"},{"refs":[{"id":"ref-for-table-footer-group"}],"title":"6.2. Repeating headers across pages"}],"url":"#table-footer-group"},
"table-grid": {"dfnID":"table-grid","dfnText":"table grid","external":false,"refSections":[{"refs":[{"id":"ref-for-table-grid"}],"title":"2.1.1. Terminology"}],"url":"#table-grid"},
"table-grid-box": {"dfnID":"table-grid-box","dfnText":"table grid box","external":false,"refSections":[{"refs":[{"id":"ref-for-table-grid-box"}],"title":"3.5.1. The Table-Layout property"},{"refs":[{"id":"ref-for-table-grid-box\u2460"}],"title":"3.5.2. The Border-Collapse property"},{"refs":[{"id":"ref-for-table-grid-box\u2461"}],"title":"3.5.2.1. The Border-Spacing property"}],"url":"#table-grid-box"},
"table-header-group": {"dfnID":"table-header-group","dfnText":"table-header-group","external":false,"refSections":[{"refs":[{"id":"ref-for-table-header-group"}],"title":"2.1. Table Structure"},{"refs":[{"id":"ref-for-table-header-group"}],"title":"6.2. Repeating headers across pages"}],"url":"#table-header-group"},
"table-internal-element": {"dfnID":"table-internal-element","dfnText":"table-internal","external":false,"refSections":[{"refs":[{"id":"ref-for-table-internal-element"}],"title":"2.2. Fixup"},{"refs":[{"id":"ref-for-table-internal-element\u2460"}],"title":"4.2. \nWith a table-internal as containing block"}],"url":"#table-internal-element"},
"table-intrinsic-offsets": {"dfnID":"table-intrinsic-offsets","dfnText":"table intrinsic offsets","external":false,"refSections":[],"url":"#table-intrinsic-offsets"},
"table-non-root-element": {"dfnID":"table-non-root-element","dfnText":"table-non-root","external":false,"refSections":[{"refs":[{"id":"ref-for-table-non-root-element"},{"id":"ref-for-table-non-root-element\u2460"}],"title":"2.2.1. Fixup Algorithm"},{"refs":[{"id":"ref-for-table-non-root-element\u2461"}],"title":"3.6.2. Overrides applying in collapsed-borders mode"},{"refs":[{"id":"ref-for-table-non-root-element\u2462"}],"title":"3.11. Positioning of cells, captions and other internal table boxes"}],"url":"#table-non-root-element"},
"table-root-baseline": {"dfnID":"table-root-baseline","dfnText":"baseline of a table-root","external":false,"refSections":[],"url":"#table-root-baseline"},
"table-root-element": {"dfnID":"table-root-element","dfnText":"table-root","external":false,"refSections":[{"refs":[{"id":"ref-for-table-root-element"}],"title":"2.1. Table Structure"},{"refs":[{"id":"ref-for-table-root-element"},{"id":"ref-for-table-root-element\u2460"}],"title":"2.1.1. Terminology"},{"refs":[{"id":"ref-for-table-root-element\u2461"}],"title":"2.2. Fixup"},{"refs":[{"id":"ref-for-table-root-element\u2462"},{"id":"ref-for-table-root-element\u2463"},{"id":"ref-for-table-root-element\u2464"},{"id":"ref-for-table-root-element\u2465"},{"id":"ref-for-table-root-element\u2466"}],"title":"2.2.1. Fixup Algorithm"},{"refs":[{"id":"ref-for-table-root-element\u2467"}],"title":"3.3.2. Track merging"},{"refs":[{"id":"ref-for-table-root-element\u2468"},{"id":"ref-for-table-root-element\u2460\u24ea"}],"title":"3.5.2. The Border-Collapse property"},{"refs":[{"id":"ref-for-table-root-element\u2460\u2460"}],"title":"3.6.1. Overrides applying in all modes"},{"refs":[{"id":"ref-for-table-root-element\u2460\u2461"},{"id":"ref-for-table-root-element\u2460\u2462"},{"id":"ref-for-table-root-element\u2460\u2463"},{"id":"ref-for-table-root-element\u2460\u2464"}],"title":"3.6.2. Overrides applying in collapsed-borders mode"},{"refs":[{"id":"ref-for-table-root-element\u2460\u2465"}],"title":"3.7.1. Conflict Resolution for Collapsed Borders"},{"refs":[{"id":"ref-for-table-root-element\u2460\u2466"},{"id":"ref-for-table-root-element\u2460\u2467"},{"id":"ref-for-table-root-element\u2460\u2468"},{"id":"ref-for-table-root-element\u2461\u24ea"},{"id":"ref-for-table-root-element\u2461\u2460"}],"title":"3.7.1.1. Conflict Resolution Algorithm for Collapsed Borders"},{"refs":[{"id":"ref-for-table-root-element\u2461\u2461"},{"id":"ref-for-table-root-element\u2461\u2462"}],"title":"3.9.1. Computing the table width"},{"refs":[{"id":"ref-for-table-root-element\u2461\u2463"}],"title":"3.11. Positioning of cells, captions and other internal table boxes"},{"refs":[{"id":"ref-for-table-root-element\u2461\u2464"},{"id":"ref-for-table-root-element\u2461\u2465"}],"title":"5.3.1.1. Changes in collapsed-borders mode"}],"url":"#table-root-element"},
"table-row": {"dfnID":"table-row","dfnText":"table-row","external":false,"refSections":[{"refs":[{"id":"ref-for-table-row"}],"title":"2.1. Table Structure"},{"refs":[{"id":"ref-for-table-row"},{"id":"ref-for-table-row\u2460"},{"id":"ref-for-table-row\u2461"},{"id":"ref-for-table-row\u2462"}],"title":"2.1.1. Terminology"},{"refs":[{"id":"ref-for-table-row\u2463"}],"title":"2.2. Fixup"},{"refs":[{"id":"ref-for-table-row\u2464"},{"id":"ref-for-table-row\u2465"},{"id":"ref-for-table-row\u2466"},{"id":"ref-for-table-row\u2467"},{"id":"ref-for-table-row\u2468"},{"id":"ref-for-table-row\u2460\u24ea"},{"id":"ref-for-table-row\u2460\u2460"}],"title":"2.2.1. Fixup Algorithm"},{"refs":[{"id":"ref-for-table-row\u2460\u2461"}],"title":"6.1. Breaking across fragmentainers"}],"url":"#table-row"},
"table-row-baseline": {"dfnID":"table-row-baseline","dfnText":"baseline of the row","external":false,"refSections":[{"refs":[{"id":"ref-for-table-row-baseline"}],"title":"3.10.2. Row layout (first pass)"}],"url":"#table-row-baseline"},
"table-row-group": {"dfnID":"table-row-group","dfnText":"table-row-group","external":false,"refSections":[{"refs":[{"id":"ref-for-table-row-group"},{"id":"ref-for-table-row-group"},{"id":"ref-for-table-row-group\u2460"},{"id":"ref-for-table-row-group\u2461"}],"title":"2.1. Table Structure"},{"refs":[{"id":"ref-for-table-row-group\u2462"},{"id":"ref-for-table-row-group\u2463"}],"title":"2.1.1. Terminology"},{"refs":[{"id":"ref-for-table-row-group\u2464"},{"id":"ref-for-table-row-group\u2465"},{"id":"ref-for-table-row-group\u2466"}],"title":"2.2.1. Fixup Algorithm"},{"refs":[{"id":"ref-for-table-row-group\u2467"}],"title":"6.1. Breaking across fragmentainers"}],"url":"#table-row-group"},
"table-track": {"dfnID":"table-track","dfnText":"table-track","external":false,"refSections":[{"refs":[{"id":"ref-for-table-track"},{"id":"ref-for-table-track\u2460"}],"title":"2.1.1. Terminology"},{"refs":[{"id":"ref-for-table-track\u2461"}],"title":"3.6.1. Overrides applying in all modes"},{"refs":[{"id":"ref-for-table-track\u2462"}],"title":"3.8.2. Computing Cell Measures"},{"refs":[{"id":"ref-for-table-track\u2463"}],"title":"5.3.2. Drawing cell backgrounds"},{"refs":[{"id":"ref-for-table-track\u2464"}],"title":"5.4. Rendering for visibility: collapse"},{"refs":[{"id":"ref-for-table-track\u2465"},{"id":"ref-for-table-track\u2466"}],"title":"5.4.1. Rendering a visibility: collapse table cell"},{"refs":[{"id":"ref-for-table-track\u2467"},{"id":"ref-for-table-track\u2468"}],"title":"5.4.2. Rendering a visibility: collapse table-track or table-track-group"}],"url":"#table-track"},
"table-track-group-element": {"dfnID":"table-track-group-element","dfnText":"table-track-group","external":false,"refSections":[{"refs":[{"id":"ref-for-table-track-group-element"},{"id":"ref-for-table-track-group-element\u2460"}],"title":"2.1.1. Terminology"},{"refs":[{"id":"ref-for-table-track-group-element\u2461"}],"title":"3.6.1. Overrides applying in all modes"},{"refs":[{"id":"ref-for-table-track-group-element\u2462"}],"title":"3.8.2. Computing Cell Measures"},{"refs":[{"id":"ref-for-table-track-group-element\u2463"}],"title":"5.3.2. Drawing cell backgrounds"},{"refs":[{"id":"ref-for-table-track-group-element\u2464"}],"title":"5.4. Rendering for visibility: collapse"},{"refs":[{"id":"ref-for-table-track-group-element\u2465"},{"id":"ref-for-table-track-group-element\u2466"}],"title":"5.4.2. Rendering a visibility: collapse table-track or table-track-group"}],"url":"#table-track-group-element"},
"table-wrapper-box": {"dfnID":"table-wrapper-box","dfnText":"table wrapper box","external":false,"refSections":[{"refs":[{"id":"ref-for-table-wrapper-box"}],"title":"2.2.1. Fixup Algorithm"},{"refs":[{"id":"ref-for-table-wrapper-box\u2460"}],"title":"3.6.1. Overrides applying in all modes"},{"refs":[{"id":"ref-for-table-wrapper-box\u2461"}],"title":"3.11. Positioning of cells, captions and other internal table boxes"},{"refs":[{"id":"ref-for-table-wrapper-box\u2462"}],"title":"4.1. \nWith a table-root as containing block"}],"url":"#table-wrapper-box"},
"tabular-container": {"dfnID":"tabular-container","dfnText":"tabular container","external":false,"refSections":[{"refs":[{"id":"ref-for-tabular-container"}],"title":"2.2.1. Fixup Algorithm"}],"url":"#tabular-container"},
"total-horizontal-border-spacing": {"dfnID":"total-horizontal-border-spacing","dfnText":"total horizontal border spacing","external":false,"refSections":[],"url":"#total-horizontal-border-spacing"},
"undistributable-space": {"dfnID":"undistributable-space","dfnText":"undistributable space","external":false,"refSections":[],"url":"#undistributable-space"},
"used-min-width-of-table": {"dfnID":"used-min-width-of-table","dfnText":"used min-width of a table","external":false,"refSections":[{"refs":[{"id":"ref-for-used-min-width-of-table"},{"id":"ref-for-used-min-width-of-table"}],"title":"3.9.1. Computing the table width"}],"url":"#used-min-width-of-table"},
"used-width-of-table": {"dfnID":"used-width-of-table","dfnText":"used width of a table","external":false,"refSections":[{"refs":[{"id":"ref-for-used-width-of-table"},{"id":"ref-for-used-width-of-table"}],"title":"3.9.1. Computing the table width"}],"url":"#used-width-of-table"},
"visible-track": {"dfnID":"visible-track","dfnText":"visible track","external":false,"refSections":[{"refs":[{"id":"ref-for-visible-track"},{"id":"ref-for-visible-track"},{"id":"ref-for-visible-track"},{"id":"ref-for-visible-track"},{"id":"ref-for-visible-track"},{"id":"ref-for-visible-track"}],"title":"3.11. Positioning of cells, captions and other internal table boxes"}],"url":"#visible-track"},
};

document.addEventListener("DOMContentLoaded", ()=>{
    genAllDfnPanels();

    document.body.addEventListener("click", (e) => {
        // If not handled already, just hide all dfn panels.
        hideAllDfnPanels();
    });
});

window.addEventListener("resize", () => {
    // Pin any visible dfn panel
    queryAll(".dfn-panel.on, .dfn-panel.activated").forEach(el=>positionDfnPanel(el));
});

function genAllDfnPanels() {
    for(const panelData of Object.values(dfnPanelData)) {
        const dfnID = panelData.dfnID;
        const dfn = document.getElementById(dfnID);
        if(!dfn) {
            console.log(`Can't find dfn#${dfnID}.`, panelData);
            continue;
        }
        dfn.panelData = panelData;
        insertDfnPopupAction(dfn);
    }
}

function genDfnPanel(dfn, { dfnID, url, dfnText, refSections, external }) {
    const dfnPanel = mk.aside({
        class: "dfn-panel on",
        id: `infopanel-for-${dfnID}`,
        "data-for": dfnID,
        "aria-labelled-by":`infopaneltitle-for-${dfnID}`,
        },
        mk.span({id:`infopaneltitle-for-${dfnID}`, style:"display:none"},
            `Info about the '${dfnText}' ${external?"external":""} reference.`),
        mk.a({href:url, class:"dfn-link"}, url),
        refSections.length == 0 ? [] :
            mk.b({}, "Referenced in:"),
            mk.ul({},
                ...refSections.map(section=>
                    mk.li({},
                        ...section.refs.map((ref, refI)=>
                            [
                                mk.a({ href: `#${ref.id}` },
                                    (refI == 0) ? section.title : `(${refI + 1})`
                                ),
                                " ",
                            ]
                        ),
                    ),
                ),
            ),
        genLinkingSyntaxes(dfn),
    );

    dfnPanel.addEventListener('click', (event) => {
        if (event.target.nodeName == 'A') {
            scrollToTargetAndHighlight(event);
            pinDfnPanel(dfnPanel);
        }
        event.stopPropagation();
        refocusOnTarget(event);
    });
    dfnPanel.addEventListener('keydown', (event) => {
        if(event.keyCode == 27) { // Escape key
            hideDfnPanel({dfnPanel});
            event.stopPropagation();
            event.preventDefault();
        }
    });

    dfnPanel.dfn = dfn;
    dfn.dfnPanel = dfnPanel;
    return dfnPanel;
}



function hideAllDfnPanels() {
    // Delete the currently-active dfn panel.
    queryAll(".dfn-panel").forEach(dfnPanel=>hideDfnPanel({dfnPanel}));
}

function showDfnPanel(dfn) {
    hideAllDfnPanels(); // Only display one at a time.

    dfn.setAttribute("aria-expanded", "true");

    const dfnPanel = genDfnPanel(dfn, dfn.panelData);

    // Give the dfn a unique tabindex, and then
    // give all the tabbable panel bits successive indexes.
    let tabIndex = 100;
    dfn.tabIndex = tabIndex++;
    const tabbable = dfnPanel.querySelectorAll(":is(a, button)");
    for (const el of tabbable) {
        el.tabIndex = tabIndex++;
    }

    append(document.body, dfnPanel);
    positionDfnPanel(dfnPanel);
}

function positionDfnPanel(dfnPanel) {
    const dfn = dfnPanel.dfn;
    const dfnPos = getBounds(dfn);
    dfnPanel.style.top = dfnPos.bottom + "px";
    dfnPanel.style.left = dfnPos.left + "px";

    const panelPos = dfnPanel.getBoundingClientRect();
    const panelMargin = 8;
    const maxRight = document.body.parentNode.clientWidth - panelMargin;
    if (panelPos.right > maxRight) {
        const overflowAmount = panelPos.right - maxRight;
        const newLeft = Math.max(panelMargin, dfnPos.left - overflowAmount);
        dfnPanel.style.left = newLeft + "px";
    }
}

function pinDfnPanel(dfnPanel) {
    // Switch it to "activated" state, which pins it.
    dfnPanel.classList.add("activated");
    dfnPanel.style.position = "fixed";
    dfnPanel.style.left = null;
    dfnPanel.style.top = null;
}

function hideDfnPanel({dfn, dfnPanel}) {
    if(!dfnPanel) dfnPanel = dfn.dfnPanel;
    if(!dfn) dfn = dfnPanel.dfn;
    dfn.dfnPanel = undefined;
    dfnPanel.dfn = undefined;
    dfn.setAttribute("aria-expanded", "false");
    dfn.tabIndex = undefined;
    dfnPanel.remove()
}

function toggleDfnPanel(dfn) {
    if(dfn.dfnPanel) {
        hideDfnPanel(dfn);
    } else {
        showDfnPanel(dfn);
    }
}

function insertDfnPopupAction(dfn) {
    dfn.setAttribute('role', 'button');
    dfn.setAttribute('aria-expanded', 'false')
    dfn.tabIndex = 0;
    dfn.classList.add('has-dfn-panel');
    dfn.addEventListener('click', (event) => {
        toggleDfnPanel(dfn);
        event.stopPropagation();
    });
    dfn.addEventListener('keypress', (event) => {
        const kc = event.keyCode;
        // 32->Space, 13->Enter
        if(kc == 32 || kc == 13) {
            toggleDfnPanel(dfn);
            event.stopPropagation();
            event.preventDefault();
        }
    });
}

function refocusOnTarget(event) {
    const target = event.target;
    setTimeout(() => {
        // Refocus on the event.target element.
        // This is needed after browser scrolls to the destination.
        target.focus();
    });
}

// TODO: shared util
// Returns the root-level absolute position {left and top} of element.
function getBounds(el, relativeTo=document.body) {
    const relativeRect = relativeTo.getBoundingClientRect();
    const elRect = el.getBoundingClientRect();
    const top = elRect.top - relativeRect.top;
    const left = elRect.left - relativeRect.left;
    return {
        top,
        left,
        bottom: top + elRect.height,
        right: left + elRect.width,
    }
}

function scrollToTargetAndHighlight(event) {
    let hash = event.target.hash;
    if (hash) {
        hash = decodeURIComponent(hash.substring(1));
        const dest = document.getElementById(hash);
        if (dest) {
            dest.classList.add('highlighted');
            setTimeout(() => dest.classList.remove('highlighted'), 1000);
        }
    }
}

// Functions, divided by link type, that wrap an autolink's
// contents with the appropriate outer syntax.
// Alternately, a string naming another type they format
// the same as.
function needsFor(type) {
    switch(type) {
        case "descriptor":
        case "value":
        case "element-attr":
        case "attr-value":
        case "element-state":
        case "method":
        case "constructor":
        case "argument":
        case "attribute":
        case "const":
        case "dict-member":
        case "event":
        case "enum-value":
        case "stringifier":
        case "serializer":
        case "iterator":
        case "maplike":
        case "setlike":
        case "state":
        case "mode":
        case "context":
        case "facet": return true;

        default: return false;
    }
}
function refusesFor(type) {
    switch(type) {
        case "property":
        case "element":
        case "interface":
        case "namespace":
        case "callback":
        case "dictionary":
        case "enum":
        case "exception":
        case "typedef":
        case "http-header":
        case "permission": return true;

        default: return false;
    }
}
function linkFormatterFromType(type) {
    switch(type) {
        case 'scheme':
        case 'permission':
        case 'dfn': return (text) => `[=${text}=]`;

        case 'abstract-op': return (text) => `[\$${text}\$]`;

        case 'function':
        case 'at-rule':
        case 'selector':
        case 'value': return (text) => `''${text}''`;

        case 'http-header': return (text) => `[:${text}:]`;

        case 'interface':
        case 'constructor':
        case 'method':
        case 'argument':
        case 'attribute':
        case 'callback':
        case 'dictionary':
        case 'dict-member':
        case 'enum':
        case 'enum-value':
        case 'exception':
        case 'const':
        case 'typedef':
        case 'stringifier':
        case 'serializer':
        case 'iterator':
        case 'maplike':
        case 'setlike':
        case 'extended-attribute':
        case 'event':
        case 'idl': return (text) => `{{${text}}}`;

        case 'element-state':
        case 'element-attr':
        case 'attr-value':
        case 'element': return (element) => `<{${element}}>`;

        case 'grammar': return (text) => `${text} (within a <pre class=prod>)`;

        case 'type': return (text)=> `<<${text}>>`;

        case 'descriptor':
        case 'property': return (text) => `'${text}'`;

        default: return;
    };
};

function genLinkingSyntaxes(dfn) {
    if(dfn.tagName != "DFN") return;

    const type = dfn.getAttribute('data-dfn-type');
    if(!type) {
        console.log(`<dfn> doesn't have a data-dfn-type:`, dfn);
        return [];
    }

    // Return a function that wraps link text based on the type
    const linkFormatter = linkFormatterFromType(type);
    if(!linkFormatter) {
        console.log(`<dfn> has an unknown data-dfn-type:`, dfn);
        return [];
    }

    let ltAlts;
    if(dfn.hasAttribute('data-lt')) {
        ltAlts = dfn.getAttribute('data-lt')
            .split("|")
            .map(x=>x.trim());
    } else {
        ltAlts = [dfn.textContent.trim()];
    }
    if(type == "type") {
        // lt of "<foo>", but "foo" is the interior;
        // <<foo/bar>> is how you write it with a for,
        // not <foo/<bar>> or whatever.
        for(var i = 0; i < ltAlts.length; i++) {
            const lt = ltAlts[i];
            const match = /<(.*)>/.exec(lt);
            if(match) { ltAlts[i] = match[1]; }
        }
    }

    let forAlts;
    if(dfn.hasAttribute('data-dfn-for')) {
        forAlts = dfn.getAttribute('data-dfn-for')
            .split(",")
            .map(x=>x.trim());
    } else {
        forAlts = [''];
    }

    let linkingSyntaxes = [];
    if(!needsFor(type)) {
        for(const lt of ltAlts) {
            linkingSyntaxes.push(linkFormatter(lt));
        }
    }
    if(!refusesFor(type)) {
        for(const f of forAlts) {
            linkingSyntaxes.push(linkFormatter(`${f}/${ltAlts[0]}`))
        }
    }
    return [
        mk.b({}, 'Possible linking syntaxes:'),
        mk.ul({},
            ...linkingSyntaxes.map(link => {
                const copyLink = async () =>
                    await navigator.clipboard.writeText(link);
                return mk.li({},
                    mk.div({ class: 'link-item' },
                        mk.button({
                            class: 'copy-icon', title: 'Copy',
                            type: 'button',
                            _onclick: copyLink,
                            tabindex: 0,
                        }, mk.span({ class: 'icon' }) ),
                        mk.span({}, link)
                    )
                );
            })
        )
    ];
}
}
</script>
<script>/* Boilerplate: script-link-titles */
"use strict";
{
let linkTitleData = {
"https://drafts.csswg.org/css-values-4/#length-value": "Expands to: advance measure | cap | ch | cm | dvb | dvh | dvi | dvmax | dvmin | dvw | em | ex | ic | in | lh | lvb | lvh | lvi | lvmax | lvmin | lvw | mm | pc | pt | px | q | rcap | rch | rem | rex | ric | rlh | svb | svh | svi | svmax | svmin | svw | vb | vh | vi | vmax | vmin | vw",
};

function setTypeTitles() {
	for(let el of document.querySelectorAll("a[href]")) {
		if(el.href in linkTitleData && !el.hasAttribute("title")) {
			el.setAttribute("title", linkTitleData[el.href]);
		}
	}
}

document.addEventListener("DOMContentLoaded", setTypeTitles);
}
</script>
<script>/* Boilerplate: script-ref-hints */
"use strict";
{
let refsData = {
"#ROWMIN": {"export":true,"for_":[],"level":"3","normative":true,"shortname":"css-tables","spec":"css-tables-3","status":"local","text":"rowmin","type":"dfn","url":"#ROWMIN"},
"#assignable-table-width": {"export":true,"for_":[],"level":"3","normative":true,"shortname":"css-tables","spec":"css-tables-3","status":"local","text":"assignable table width","type":"dfn","url":"#assignable-table-width"},
"#constrainedness": {"export":true,"for_":[],"level":"3","normative":true,"shortname":"css-tables","spec":"css-tables-3","status":"local","text":"constrainedness","type":"dfn","url":"#constrainedness"},
"#distributing-excess-width-to-columns": {"export":true,"for_":[],"level":"3","normative":true,"shortname":"css-tables","spec":"css-tables-3","status":"local","text":"distributing excess width to columns","type":"dfn","url":"#distributing-excess-width-to-columns"},
"#eligible-track": {"export":true,"for_":[],"level":"3","normative":true,"shortname":"css-tables","spec":"css-tables-3","status":"local","text":"eligible track","type":"dfn","url":"#eligible-track"},
"#empty-cell": {"export":true,"for_":[],"level":"3","normative":true,"shortname":"css-tables","spec":"css-tables-3","status":"local","text":"empty cell","type":"dfn","url":"#empty-cell"},
"#freely-fragmentable": {"export":true,"for_":[],"level":"3","normative":true,"shortname":"css-tables","spec":"css-tables-3","status":"local","text":"freely fragmentable","type":"dfn","url":"#freely-fragmentable"},
"#in-auto-mode": {"export":true,"for_":[],"level":"3","normative":true,"shortname":"css-tables","spec":"css-tables-3","status":"local","text":"in auto mode","type":"dfn","url":"#in-auto-mode"},
"#in-collapsed-borders-mode": {"export":true,"for_":[],"level":"3","normative":true,"shortname":"css-tables","spec":"css-tables-3","status":"local","text":"in collapsed-borders mode","type":"dfn","url":"#in-collapsed-borders-mode"},
"#in-fixed-mode": {"export":true,"for_":[],"level":"3","normative":true,"shortname":"css-tables","spec":"css-tables-3","status":"local","text":"in fixed mode","type":"dfn","url":"#in-fixed-mode"},
"#in-separated-borders-mode": {"export":true,"for_":[],"level":"3","normative":true,"shortname":"css-tables","spec":"css-tables-3","status":"local","text":"in separated-borders mode","type":"dfn","url":"#in-separated-borders-mode"},
"#inline-table": {"export":true,"for_":[],"level":"3","normative":true,"shortname":"css-tables","spec":"css-tables-3","status":"local","text":"inline-table","type":"dfn","url":"#inline-table"},
"#max-content-sizing-guess": {"export":true,"for_":[],"level":"3","normative":true,"shortname":"css-tables","spec":"css-tables-3","status":"local","text":"max-content sizing-guess","type":"dfn","url":"#max-content-sizing-guess"},
"#originate": {"export":true,"for_":[],"level":"3","normative":true,"shortname":"css-tables","spec":"css-tables-3","status":"local","text":"originate","type":"dfn","url":"#originate"},
"#outer-max-content": {"export":true,"for_":[],"level":"3","normative":true,"shortname":"css-tables","spec":"css-tables-3","status":"local","text":"outer max-content","type":"dfn","url":"#outer-max-content"},
"#outer-min-content": {"export":true,"for_":[],"level":"3","normative":true,"shortname":"css-tables","spec":"css-tables-3","status":"local","text":"outer min-content","type":"dfn","url":"#outer-min-content"},
"#percent-column": {"export":true,"for_":[],"level":"3","normative":true,"shortname":"css-tables","spec":"css-tables-3","status":"local","text":"percent-column","type":"dfn","url":"#percent-column"},
"#propdef-border-collapse": {"export":true,"for_":[],"level":"3","normative":true,"shortname":"css-tables","spec":"css-tables-3","status":"local","text":"border-collapse","type":"property","url":"#propdef-border-collapse"},
"#propdef-border-spacing": {"export":true,"for_":[],"level":"3","normative":true,"shortname":"css-tables","spec":"css-tables-3","status":"local","text":"border-spacing","type":"property","url":"#propdef-border-spacing"},
"#propdef-caption-side": {"export":true,"for_":[],"level":"3","normative":true,"shortname":"css-tables","spec":"css-tables-3","status":"local","text":"caption-side","type":"property","url":"#propdef-caption-side"},
"#propdef-empty-cells": {"export":true,"for_":[],"level":"3","normative":true,"shortname":"css-tables","spec":"css-tables-3","status":"local","text":"empty-cells","type":"property","url":"#propdef-empty-cells"},
"#propdef-table-layout": {"export":true,"for_":[],"level":"3","normative":true,"shortname":"css-tables","spec":"css-tables-3","status":"local","text":"table-layout","type":"property","url":"#propdef-table-layout"},
"#proper-table-child-element": {"export":true,"for_":[],"level":"3","normative":true,"shortname":"css-tables","spec":"css-tables-3","status":"local","text":"proper table child","type":"dfn","url":"#proper-table-child-element"},
"#proper-table-row-parent-element": {"export":true,"for_":[],"level":"3","normative":true,"shortname":"css-tables","spec":"css-tables-3","status":"local","text":"proper table-row parent","type":"dfn","url":"#proper-table-row-parent-element"},
"#resolved-table-width": {"export":true,"for_":[],"level":"3","normative":true,"shortname":"css-tables","spec":"css-tables-3","status":"local","text":"resolved-table-width","type":"dfn","url":"#resolved-table-width"},
"#sizing-type": {"export":true,"for_":[],"level":"3","normative":true,"shortname":"css-tables","spec":"css-tables-3","status":"local","text":"sizing type","type":"dfn","url":"#sizing-type"},
"#slot": {"export":true,"for_":[],"level":"3","normative":true,"shortname":"css-tables","spec":"css-tables-3","status":"local","text":"slot","type":"dfn","url":"#slot"},
"#span": {"export":true,"for_":[],"level":"3","normative":true,"shortname":"css-tables","spec":"css-tables-3","status":"local","text":"span","type":"dfn","url":"#span"},
"#table": {"export":true,"for_":[],"level":"3","normative":true,"shortname":"css-tables","spec":"css-tables-3","status":"local","text":"table","type":"dfn","url":"#table"},
"#table-caption": {"export":true,"for_":[],"level":"3","normative":true,"shortname":"css-tables","spec":"css-tables-3","status":"local","text":"table-caption","type":"dfn","url":"#table-caption"},
"#table-cell": {"export":true,"for_":[],"level":"3","normative":true,"shortname":"css-tables","spec":"css-tables-3","status":"local","text":"table-cell","type":"dfn","url":"#table-cell"},
"#table-column": {"export":true,"for_":[],"level":"3","normative":true,"shortname":"css-tables","spec":"css-tables-3","status":"local","text":"table-column","type":"dfn","url":"#table-column"},
"#table-column-group": {"export":true,"for_":[],"level":"3","normative":true,"shortname":"css-tables","spec":"css-tables-3","status":"local","text":"table-column-group","type":"dfn","url":"#table-column-group"},
"#table-footer-group": {"export":true,"for_":[],"level":"3","normative":true,"shortname":"css-tables","spec":"css-tables-3","status":"local","text":"table-footer-group","type":"dfn","url":"#table-footer-group"},
"#table-grid": {"export":true,"for_":[],"level":"3","normative":true,"shortname":"css-tables","spec":"css-tables-3","status":"local","text":"table grid","type":"dfn","url":"#table-grid"},
"#table-grid-box": {"export":true,"for_":[],"level":"3","normative":true,"shortname":"css-tables","spec":"css-tables-3","status":"local","text":"table grid box","type":"dfn","url":"#table-grid-box"},
"#table-header-group": {"export":true,"for_":[],"level":"3","normative":true,"shortname":"css-tables","spec":"css-tables-3","status":"local","text":"table-header-group","type":"dfn","url":"#table-header-group"},
"#table-internal-element": {"export":true,"for_":[],"level":"3","normative":true,"shortname":"css-tables","spec":"css-tables-3","status":"local","text":"table-internal","type":"dfn","url":"#table-internal-element"},
"#table-non-root-element": {"export":true,"for_":[],"level":"3","normative":true,"shortname":"css-tables","spec":"css-tables-3","status":"local","text":"table-non-root","type":"dfn","url":"#table-non-root-element"},
"#table-root-element": {"export":true,"for_":[],"level":"3","normative":true,"shortname":"css-tables","spec":"css-tables-3","status":"local","text":"table-root","type":"dfn","url":"#table-root-element"},
"#table-row": {"export":true,"for_":[],"level":"3","normative":true,"shortname":"css-tables","spec":"css-tables-3","status":"local","text":"table-row","type":"dfn","url":"#table-row"},
"#table-row-group": {"export":true,"for_":[],"level":"3","normative":true,"shortname":"css-tables","spec":"css-tables-3","status":"local","text":"table-row-group","type":"dfn","url":"#table-row-group"},
"#table-track": {"export":true,"for_":[],"level":"3","normative":true,"shortname":"css-tables","spec":"css-tables-3","status":"local","text":"table-track","type":"dfn","url":"#table-track"},
"#table-track-group-element": {"export":true,"for_":[],"level":"3","normative":true,"shortname":"css-tables","spec":"css-tables-3","status":"local","text":"table-track-group","type":"dfn","url":"#table-track-group-element"},
"#table-wrapper-box": {"export":true,"for_":[],"level":"3","normative":true,"shortname":"css-tables","spec":"css-tables-3","status":"local","text":"table-wrapper","type":"dfn","url":"#table-wrapper-box"},
"#tabular-container": {"export":true,"for_":[],"level":"3","normative":true,"shortname":"css-tables","spec":"css-tables-3","status":"local","text":"tabular container","type":"dfn","url":"#tabular-container"},
"https://drafts.csswg.org/css-backgrounds-3/#propdef-background": {"export":true,"for_":[],"level":"3","normative":true,"shortname":"css-backgrounds","spec":"css-backgrounds-3","status":"current","text":"background","type":"property","url":"https://drafts.csswg.org/css-backgrounds-3/#propdef-background"},
"https://drafts.csswg.org/css-backgrounds-3/#propdef-background-origin": {"export":true,"for_":[],"level":"3","normative":true,"shortname":"css-backgrounds","spec":"css-backgrounds-3","status":"current","text":"background-origin","type":"property","url":"https://drafts.csswg.org/css-backgrounds-3/#propdef-background-origin"},
"https://drafts.csswg.org/css-backgrounds-3/#propdef-background-size": {"export":true,"for_":[],"level":"3","normative":true,"shortname":"css-backgrounds","spec":"css-backgrounds-3","status":"current","text":"background-size","type":"property","url":"https://drafts.csswg.org/css-backgrounds-3/#propdef-background-size"},
"https://drafts.csswg.org/css-backgrounds-3/#propdef-border-image": {"export":true,"for_":[],"level":"3","normative":true,"shortname":"css-backgrounds","spec":"css-backgrounds-3","status":"current","text":"border-image","type":"property","url":"https://drafts.csswg.org/css-backgrounds-3/#propdef-border-image"},
"https://drafts.csswg.org/css-backgrounds-3/#propdef-border-image-source": {"export":true,"for_":[],"level":"3","normative":true,"shortname":"css-backgrounds","spec":"css-backgrounds-3","status":"current","text":"border-image-source","type":"property","url":"https://drafts.csswg.org/css-backgrounds-3/#propdef-border-image-source"},
"https://drafts.csswg.org/css-backgrounds-3/#propdef-border-radius": {"export":true,"for_":[],"level":"3","normative":true,"shortname":"css-backgrounds","spec":"css-backgrounds-3","status":"current","text":"border-radius","type":"property","url":"https://drafts.csswg.org/css-backgrounds-3/#propdef-border-radius"},
"https://drafts.csswg.org/css-backgrounds-3/#propdef-border-style": {"export":true,"for_":[],"level":"3","normative":true,"shortname":"css-backgrounds","spec":"css-backgrounds-3","status":"current","text":"border-style","type":"property","url":"https://drafts.csswg.org/css-backgrounds-3/#propdef-border-style"},
"https://drafts.csswg.org/css-backgrounds-3/#propdef-border-width": {"export":true,"for_":[],"level":"3","normative":true,"shortname":"css-backgrounds","spec":"css-backgrounds-3","status":"current","text":"border-width","type":"property","url":"https://drafts.csswg.org/css-backgrounds-3/#propdef-border-width"},
"https://drafts.csswg.org/css-box-4/#propdef-margin": {"export":true,"for_":[],"level":"4","normative":true,"shortname":"css-box","spec":"css-box-4","status":"current","text":"margin","type":"property","url":"https://drafts.csswg.org/css-box-4/#propdef-margin"},
"https://drafts.csswg.org/css-box-4/#propdef-padding": {"export":true,"for_":[],"level":"4","normative":true,"shortname":"css-box","spec":"css-box-4","status":"current","text":"padding","type":"property","url":"https://drafts.csswg.org/css-box-4/#propdef-padding"},
"https://drafts.csswg.org/css-break-3/#propdef-break-after": {"export":true,"for_":[],"level":"3","normative":true,"shortname":"css-break","spec":"css-break-3","status":"current","text":"break-after","type":"property","url":"https://drafts.csswg.org/css-break-3/#propdef-break-after"},
"https://drafts.csswg.org/css-break-3/#propdef-break-before": {"export":true,"for_":[],"level":"3","normative":true,"shortname":"css-break","spec":"css-break-3","status":"current","text":"break-before","type":"property","url":"https://drafts.csswg.org/css-break-3/#propdef-break-before"},
"https://drafts.csswg.org/css-break-3/#propdef-break-inside": {"export":true,"for_":[],"level":"3","normative":true,"shortname":"css-break","spec":"css-break-3","status":"current","text":"break-inside","type":"property","url":"https://drafts.csswg.org/css-break-3/#propdef-break-inside"},
"https://drafts.csswg.org/css-color-4/#propdef-opacity": {"export":true,"for_":[],"level":"4","normative":true,"shortname":"css-color","spec":"css-color-4","status":"current","text":"opacity","type":"property","url":"https://drafts.csswg.org/css-color-4/#propdef-opacity"},
"https://drafts.csswg.org/css-display-4/#anonymous": {"export":true,"for_":["CSS"],"level":"4","normative":true,"shortname":"css-display","spec":"css-display-4","status":"current","text":"anonymous box","type":"dfn","url":"https://drafts.csswg.org/css-display-4/#anonymous"},
"https://drafts.csswg.org/css-display-4/#block-level": {"export":true,"for_":[],"level":"4","normative":true,"shortname":"css-display","spec":"css-display-4","status":"current","text":"block-level","type":"dfn","url":"https://drafts.csswg.org/css-display-4/#block-level"},
"https://drafts.csswg.org/css-display-4/#containing-block": {"export":true,"for_":[],"level":"4","normative":true,"shortname":"css-display","spec":"css-display-4","status":"current","text":"containing block","type":"dfn","url":"https://drafts.csswg.org/css-display-4/#containing-block"},
"https://drafts.csswg.org/css-display-4/#flow-layout": {"export":true,"for_":[],"level":"4","normative":true,"shortname":"css-display","spec":"css-display-4","status":"current","text":"flow layout","type":"dfn","url":"https://drafts.csswg.org/css-display-4/#flow-layout"},
"https://drafts.csswg.org/css-display-4/#inline-level": {"export":true,"for_":[],"level":"4","normative":true,"shortname":"css-display","spec":"css-display-4","status":"current","text":"inline-level","type":"dfn","url":"https://drafts.csswg.org/css-display-4/#inline-level"},
"https://drafts.csswg.org/css-display-4/#inner-display-type": {"export":true,"for_":[],"level":"4","normative":true,"shortname":"css-display","spec":"css-display-4","status":"current","text":"inner display type","type":"dfn","url":"https://drafts.csswg.org/css-display-4/#inner-display-type"},
"https://drafts.csswg.org/css-display-4/#propdef-display": {"export":true,"for_":[],"level":"4","normative":true,"shortname":"css-display","spec":"css-display-4","status":"current","text":"display","type":"property","url":"https://drafts.csswg.org/css-display-4/#propdef-display"},
"https://drafts.csswg.org/css-display-4/#propdef-visibility": {"export":true,"for_":[],"level":"4","normative":true,"shortname":"css-display","spec":"css-display-4","status":"current","text":"visibility","type":"property","url":"https://drafts.csswg.org/css-display-4/#propdef-visibility"},
"https://drafts.csswg.org/css-display-4/#valdef-display-table": {"export":true,"for_":["display","<display-inside>"],"level":"4","normative":true,"shortname":"css-display","spec":"css-display-4","status":"current","text":"table","type":"value","url":"https://drafts.csswg.org/css-display-4/#valdef-display-table"},
"https://drafts.csswg.org/css-grid-2/#grid": {"export":true,"for_":[],"level":"2","normative":true,"shortname":"css-grid","spec":"css-grid-2","status":"current","text":"grid","type":"dfn","url":"https://drafts.csswg.org/css-grid-2/#grid"},
"https://drafts.csswg.org/css-inline-3/#propdef-vertical-align": {"export":true,"for_":[],"level":"3","normative":true,"shortname":"css-inline","spec":"css-inline-3","status":"current","text":"vertical-align","type":"property","url":"https://drafts.csswg.org/css-inline-3/#propdef-vertical-align"},
"https://drafts.csswg.org/css-overflow-3/#propdef-overflow": {"export":true,"for_":[],"level":"3","normative":true,"shortname":"css-overflow","spec":"css-overflow-3","status":"current","text":"overflow","type":"property","url":"https://drafts.csswg.org/css-overflow-3/#propdef-overflow"},
"https://drafts.csswg.org/css-position-3/#propdef-left": {"export":true,"for_":[],"level":"3","normative":true,"shortname":"css-position","spec":"css-position-3","status":"current","text":"left","type":"property","url":"https://drafts.csswg.org/css-position-3/#propdef-left"},
"https://drafts.csswg.org/css-position-3/#propdef-position": {"export":true,"for_":[],"level":"3","normative":true,"shortname":"css-position","spec":"css-position-3","status":"current","text":"position","type":"property","url":"https://drafts.csswg.org/css-position-3/#propdef-position"},
"https://drafts.csswg.org/css-sizing-3/#behave-as-auto": {"export":true,"for_":[],"level":"3","normative":true,"shortname":"css-sizing","spec":"css-sizing-3","status":"current","text":"behave as auto","type":"dfn","url":"https://drafts.csswg.org/css-sizing-3/#behave-as-auto"},
"https://drafts.csswg.org/css-sizing-3/#min-content-contribution": {"export":true,"for_":[],"level":"3","normative":true,"shortname":"css-sizing","spec":"css-sizing-3","status":"current","text":"min-content contribution","type":"dfn","url":"https://drafts.csswg.org/css-sizing-3/#min-content-contribution"},
"https://drafts.csswg.org/css-sizing-3/#propdef-box-sizing": {"export":true,"for_":[],"level":"3","normative":true,"shortname":"css-sizing","spec":"css-sizing-3","status":"current","text":"box-sizing","type":"property","url":"https://drafts.csswg.org/css-sizing-3/#propdef-box-sizing"},
"https://drafts.csswg.org/css-sizing-3/#propdef-height": {"export":true,"for_":[],"level":"3","normative":true,"shortname":"css-sizing","spec":"css-sizing-3","status":"current","text":"height","type":"property","url":"https://drafts.csswg.org/css-sizing-3/#propdef-height"},
"https://drafts.csswg.org/css-sizing-3/#propdef-max-width": {"export":true,"for_":[],"level":"3","normative":true,"shortname":"css-sizing","spec":"css-sizing-3","status":"current","text":"max-width","type":"property","url":"https://drafts.csswg.org/css-sizing-3/#propdef-max-width"},
"https://drafts.csswg.org/css-sizing-3/#propdef-min-height": {"export":true,"for_":[],"level":"3","normative":true,"shortname":"css-sizing","spec":"css-sizing-3","status":"current","text":"min-height","type":"property","url":"https://drafts.csswg.org/css-sizing-3/#propdef-min-height"},
"https://drafts.csswg.org/css-sizing-3/#propdef-min-width": {"export":true,"for_":[],"level":"3","normative":true,"shortname":"css-sizing","spec":"css-sizing-3","status":"current","text":"min-width","type":"property","url":"https://drafts.csswg.org/css-sizing-3/#propdef-min-width"},
"https://drafts.csswg.org/css-sizing-3/#propdef-width": {"export":true,"for_":[],"level":"3","normative":true,"shortname":"css-sizing","spec":"css-sizing-3","status":"current","text":"width","type":"property","url":"https://drafts.csswg.org/css-sizing-3/#propdef-width"},
"https://drafts.csswg.org/css-text-3/#propdef-text-align": {"export":true,"for_":[],"level":"3","normative":true,"shortname":"css-text","spec":"css-text-3","status":"current","text":"text-align","type":"property","url":"https://drafts.csswg.org/css-text-3/#propdef-text-align"},
"https://drafts.csswg.org/css-text-4/#propdef-white-space": {"export":true,"for_":[],"level":"4","normative":true,"shortname":"css-text","spec":"css-text-4","status":"current","text":"white-space","type":"property","url":"https://drafts.csswg.org/css-text-4/#propdef-white-space"},
"https://drafts.csswg.org/css-transforms-1/#propdef-transform": {"export":true,"for_":[],"level":"1","normative":true,"shortname":"css-transforms","spec":"css-transforms-1","status":"current","text":"transform","type":"property","url":"https://drafts.csswg.org/css-transforms-1/#propdef-transform"},
"https://drafts.csswg.org/css-transforms-2/#propdef-perspective": {"export":true,"for_":[],"level":"2","normative":true,"shortname":"css-transforms","spec":"css-transforms-2","status":"current","text":"perspective","type":"property","url":"https://drafts.csswg.org/css-transforms-2/#propdef-perspective"},
"https://drafts.csswg.org/css-transforms-2/#propdef-transform-style": {"export":true,"for_":[],"level":"2","normative":true,"shortname":"css-transforms","spec":"css-transforms-2","status":"current","text":"transform-style","type":"property","url":"https://drafts.csswg.org/css-transforms-2/#propdef-transform-style"},
"https://drafts.csswg.org/css-values-4/#comb-one": {"export":true,"for_":[],"level":"4","normative":true,"shortname":"css-values","spec":"css-values-4","status":"current","text":"|","type":"grammar","url":"https://drafts.csswg.org/css-values-4/#comb-one"},
"https://drafts.csswg.org/css-values-4/#css-wide-keywords": {"export":true,"for_":[],"level":"4","normative":true,"shortname":"css-values","spec":"css-values-4","status":"current","text":"css-wide keywords","type":"dfn","url":"https://drafts.csswg.org/css-values-4/#css-wide-keywords"},
"https://drafts.csswg.org/css-values-4/#length-value": {"export":true,"for_":[],"level":"4","normative":true,"shortname":"css-values","spec":"css-values-4","status":"current","text":"<length>","type":"type","url":"https://drafts.csswg.org/css-values-4/#length-value"},
"https://drafts.csswg.org/css-values-4/#mult-num-range": {"export":true,"for_":[],"level":"4","normative":true,"shortname":"css-values","spec":"css-values-4","status":"current","text":"{a,b}","type":"grammar","url":"https://drafts.csswg.org/css-values-4/#mult-num-range"},
"https://drafts.csswg.org/css-values-4/#string-value": {"export":true,"for_":[],"level":"4","normative":true,"shortname":"css-values","spec":"css-values-4","status":"current","text":"<string>","type":"type","url":"https://drafts.csswg.org/css-values-4/#string-value"},
"https://drafts.csswg.org/css2/#propdef-float": {"export":true,"for_":[],"level":"1","normative":true,"shortname":"css","spec":"css22","status":"current","text":"float","type":"property","url":"https://drafts.csswg.org/css2/#propdef-float"},
"https://drafts.csswg.org/css2/#valdef-border-collapse-separate": {"export":true,"for_":["border-collapse"],"level":"1","normative":true,"shortname":"css","spec":"css22","status":"current","text":"separate","type":"value","url":"https://drafts.csswg.org/css2/#valdef-border-collapse-separate"},
"https://drafts.csswg.org/mediaqueries-5/#paged-media": {"export":true,"for_":[],"level":"5","normative":true,"shortname":"mediaqueries","spec":"mediaqueries-5","status":"current","text":"paged media","type":"dfn","url":"https://drafts.csswg.org/mediaqueries-5/#paged-media"},
"https://drafts.fxtf.org/compositing-2/#propdef-isolation": {"export":true,"for_":[],"level":"2","normative":true,"shortname":"compositing","spec":"compositing-2","status":"current","text":"isolation","type":"property","url":"https://drafts.fxtf.org/compositing-2/#propdef-isolation"},
"https://drafts.fxtf.org/compositing-2/#propdef-mix-blend-mode": {"export":true,"for_":[],"level":"2","normative":true,"shortname":"compositing","spec":"compositing-2","status":"current","text":"mix-blend-mode","type":"property","url":"https://drafts.fxtf.org/compositing-2/#propdef-mix-blend-mode"},
"https://drafts.fxtf.org/css-masking-1/#propdef-clip": {"export":true,"for_":[],"level":"1","normative":true,"shortname":"css-masking","spec":"css-masking-1","status":"current","text":"clip","type":"property","url":"https://drafts.fxtf.org/css-masking-1/#propdef-clip"},
"https://drafts.fxtf.org/css-masking-1/#propdef-clip-path": {"export":true,"for_":[],"level":"1","normative":true,"shortname":"css-masking","spec":"css-masking-1","status":"current","text":"clip-path","type":"property","url":"https://drafts.fxtf.org/css-masking-1/#propdef-clip-path"},
"https://drafts.fxtf.org/css-masking-1/#propdef-mask": {"export":true,"for_":[],"level":"1","normative":true,"shortname":"css-masking","spec":"css-masking-1","status":"current","text":"mask","type":"property","url":"https://drafts.fxtf.org/css-masking-1/#propdef-mask"},
"https://drafts.fxtf.org/filter-effects-1/#propdef-filter": {"export":true,"for_":[],"level":"1","normative":true,"shortname":"filter-effects","spec":"filter-effects-1","status":"current","text":"filter","type":"property","url":"https://drafts.fxtf.org/filter-effects-1/#propdef-filter"},
"https://www.w3.org/TR/CSS21/visuren.html#propdef-bottom": {"export":true,"for_":[],"level":"1","normative":true,"shortname":"css","spec":"css2","status":"current","text":"bottom","type":"property","url":"https://www.w3.org/TR/CSS21/visuren.html#propdef-bottom"},
"https://www.w3.org/TR/CSS21/visuren.html#propdef-right": {"export":true,"for_":[],"level":"1","normative":true,"shortname":"css","spec":"css2","status":"current","text":"right","type":"property","url":"https://www.w3.org/TR/CSS21/visuren.html#propdef-right"},
"https://www.w3.org/TR/CSS21/visuren.html#propdef-top": {"export":true,"for_":[],"level":"1","normative":true,"shortname":"css","spec":"css2","status":"current","text":"top","type":"property","url":"https://www.w3.org/TR/CSS21/visuren.html#propdef-top"},
"https://www.w3.org/TR/CSS21/visuren.html#propdef-z-index": {"export":true,"for_":[],"level":"1","normative":true,"shortname":"css","spec":"css2","status":"current","text":"z-index","type":"property","url":"https://www.w3.org/TR/CSS21/visuren.html#propdef-z-index"},
};

function mkRefHint(link, ref) {
    const linkText = link.textContent;
    let dfnTextElements = '';
    if (ref.text != linkText) {
        dfnTextElements =
            mk.li({},
                mk.b({}, "Term: "),
                mk.span({}, ref.text)
            );
    }
    const forList = ref.for_;
    let forListElements;
    if(forList.length == 0) {
        forListElements = [];
    } else if(forList.length == 1) {
        forListElements = mk.li({},
            mk.b({}, "For: "),
            mk.span({}, forList[0]),
        );
    } else {
        forListElements = mk.li({},
            mk.b({}, "For: "),
            mk.ul({},
                ...forList.map(forItem =>
                    mk.li({},
                        mk.span({}, forItem)
                    ),
                ),
            ),
        );
    }
    const url = ref.url;
    const safeUrl = encodeURIComponent(url);
    const hintPanel = mk.aside({
        class: "ref-hint",
        id: `ref-hint-for-${safeUrl}`,
        "data-for": url,
        "aria-labelled-by": `ref-hint-for-${safeUrl}`,
    },
        mk.ul({},
            dfnTextElements,
            mk.li({},
                mk.b({}, "URL: "),
                mk.a({ href: url, class: "ref" }, url),
            ),
            mk.li({},
                mk.b({}, "Type: "),
                mk.span({}, `${ref.type}`),
            ),
            mk.li({},
                mk.b({}, "Spec: "),
                mk.span({}, `${ref.spec ? ref.spec : ''}`),
            ),
            forListElements
        ),
    );
    hintPanel.forLink = link;
    setupRefHintEventListeners(link, hintPanel);
    return hintPanel;
}

function hideAllRefHints() {
    queryAll(".ref-hint").forEach(el=>hideRefHint(el));
}

function hideRefHint(refHint) {
    const link = refHint.forLink;
    link.setAttribute("aria-expanded", "false");
    if(refHint.teardownEventListeners) {
        refHint.teardownEventListeners();
    }
    refHint.remove();
}

function showRefHint(link) {
    if(link.classList.contains("dfn-link")) return;
    const url = link.getAttribute("href");
    const ref = refsData[url];
    if(!ref) return;

    hideAllRefHints(); // Only display one at this time.

    const refHint = mkRefHint(link, ref);
    append(document.body, refHint);
    link.setAttribute("aria-expanded", "true");
    positionRefHint(refHint);
}

function setupRefHintEventListeners(link, refHint) {
    if (refHint.teardownEventListeners) return;
    // Add event handlers to hide the refHint after the user moves away
    // from both the link and refHint, if not hovering either within one second.
    let timeout = null;
    const startHidingRefHint = (event) => {
        if (timeout) {
            clearTimeout(timeout);
        }
        timeout = setTimeout(() => {
            hideRefHint(refHint);
        }, 1000);
    }
    const resetHidingRefHint = (event) => {
        if (timeout) clearTimeout(timeout);
        timeout = null;
    };
    link.addEventListener("mouseleave", startHidingRefHint);
    link.addEventListener("mouseenter", resetHidingRefHint);
    link.addEventListener("blur", startHidingRefHint);
    link.addEventListener("focus", resetHidingRefHint);
    refHint.addEventListener("mouseleave", startHidingRefHint);
    refHint.addEventListener("mouseenter", resetHidingRefHint);
    refHint.addEventListener("blur", startHidingRefHint);
    refHint.addEventListener("focus", resetHidingRefHint);

    refHint.teardownEventListeners = () => {
        // remove event listeners
        resetHidingRefHint();
        link.removeEventListener("mouseleave", startHidingRefHint);
        link.removeEventListener("mouseenter", resetHidingRefHint);
        link.removeEventListener("blur", startHidingRefHint);
        link.removeEventListener("focus", resetHidingRefHint);
        refHint.removeEventListener("mouseleave", startHidingRefHint);
        refHint.removeEventListener("mouseenter", resetHidingRefHint);
        refHint.removeEventListener("blur", startHidingRefHint);
        refHint.removeEventListener("focus", resetHidingRefHint);
    };
}

function positionRefHint(refHint) {
    const link = refHint.forLink;
    const linkPos = getBounds(link);
    refHint.style.top = linkPos.bottom + "px";
    refHint.style.left = linkPos.left + "px";

    const panelPos = refHint.getBoundingClientRect();
    const panelMargin = 8;
    const maxRight = document.body.parentNode.clientWidth - panelMargin;
    if (panelPos.right > maxRight) {
        const overflowAmount = panelPos.right - maxRight;
        const newLeft = Math.max(panelMargin, linkPos.left - overflowAmount);
        refHint.style.left = newLeft + "px";
    }
}

// TODO: shared util
// Returns the root-level absolute position {left and top} of element.
function getBounds(el, relativeTo=document.body) {
    const relativeRect = relativeTo.getBoundingClientRect();
    const elRect = el.getBoundingClientRect();
    const top = elRect.top - relativeRect.top;
    const left = elRect.left - relativeRect.left;
    return {
        top,
        left,
        bottom: top + elRect.height,
        right: left + elRect.width,
    }
}

function showRefHintListener(e) {
    // If the target isn't in a link (or is a link),
    // just ignore it.
    let link = e.target.closest("a");
    if(!link) return;

    // If the target is in a ref-hint panel
    // (aka a link in the already-open one),
    // also just ignore it.
    if(link.closest(".ref-hint")) return;

    // Otherwise, show the panel for the link.
    showRefHint(link);
}

function hideAllHintsListener(e) {
    // If the click is inside a ref-hint panel, ignore it.
    if(e.target.closest(".ref-hint")) return;
    // Otherwise, close all the current panels.
    hideAllRefHints();
}

document.addEventListener("DOMContentLoaded", () => {
    document.body.addEventListener("mousedown", showRefHintListener);
    document.body.addEventListener("focus", showRefHintListener);

    document.body.addEventListener("click", hideAllHintsListener);
});

window.addEventListener("resize", () => {
    // Hide any open ref hint.
    hideAllRefHints();
});
}
</script>