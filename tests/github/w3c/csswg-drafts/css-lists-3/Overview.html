<!doctype html><html lang="en">
 <head>
  <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
  <title>CSS Lists Module Level 3</title>
  <meta content="width=device-width, initial-scale=1, shrink-to-fit=no" name="viewport">
  <meta content="exploring" name="csswg-work-status">
  <meta content="ED" name="w3c-status">
  <meta content="This draft contains the features of CSS level&amp;nbsp;3 relating to list styling. It includes and extends the functionality of CSS level&amp;nbsp;2 [[!CSS21]]. The main extensions compared to level&amp;nbsp;2 are a pseudo-element representing the list marker, and some new ways to position markers." name="abstract">
  <link href="../default.css" rel="stylesheet" type="text/css">
  <link href="../csslogo.ico" rel="shortcut icon" type="image/x-icon">
<style>
  body {
    background: url("https://www.w3.org/StyleSheets/TR/logo-ED") top left no-repeat;
  };
  </style>
  <meta content="Bikeshed version 67155cabad72a8ab669a7d4421c90e2999a29b68" name="generator">
  <link href="https://www.w3.org/TR/css-lists-3/" rel="canonical">
  <meta content="67155cabad72a8ab669a7d4421c90e2999a29b68" name="document-revision">
<style>
	#counter-inheritance-example b.foo { color: hsl(0, 80%, 40%); }
	#counter-inheritance-example b.bar { color: hsl(120, 80%, 30%); }
	#counter-inheritance-example b.baz { color: hsl(240, 80%, 50%); }
	</style>
<style>
		#counter-nesting-example .ol { background: rgba(0,0,0,.1); margin: .5em 0; padding: .2em .5em; }
		#counter-nesting-example .li > .ol { margin: 0 0 0 1em; }
		#counter-nesting-example .li { list-style: none; margin-left: 1em;}
		</style>
<style>/* style-md-lists */

/* This is a weird hack for me not yet following the commonmark spec
   regarding paragraph and lists. */
[data-md] > :first-child {
    margin-top: 0;
}
[data-md] > :last-child {
    margin-bottom: 0;
}</style>
<style>/* style-selflinks */

.heading, .issue, .note, .example, li, dt {
    position: relative;
}
a.self-link {
    position: absolute;
    top: 0;
    left: calc(-1 * (3.5rem - 26px));
    width: calc(3.5rem - 26px);
    height: 2em;
    text-align: center;
    border: none;
    transition: opacity .2s;
    opacity: .5;
}
a.self-link:hover {
    opacity: 1;
}
.heading > a.self-link {
    font-size: 83%;
}
li > a.self-link {
    left: calc(-1 * (3.5rem - 26px) - 2em);
}
dfn > a.self-link {
    top: auto;
    left: auto;
    opacity: 0;
    width: 1.5em;
    height: 1.5em;
    background: gray;
    color: white;
    font-style: normal;
    transition: opacity .2s, background-color .2s, color .2s;
}
dfn:hover > a.self-link {
    opacity: 1;
}
dfn > a.self-link:hover {
    color: black;
}

a.self-link::before            { content: "¶"; }
.heading > a.self-link::before { content: "§"; }
dfn > a.self-link::before      { content: "#"; }</style>
<style>/* style-counters */

body {
    counter-reset: example figure issue;
}
.issue {
    counter-increment: issue;
}
.issue:not(.no-marker)::before {
    content: "Issue " counter(issue);
}

.example {
    counter-increment: example;
}
.example:not(.no-marker)::before {
    content: "Example " counter(example);
}
.invalid.example:not(.no-marker)::before,
.illegal.example:not(.no-marker)::before {
    content: "Invalid Example" counter(example);
}

figcaption {
    counter-increment: figure;
}
figcaption:not(.no-marker)::before {
    content: "Figure " counter(figure) " ";
}</style>
<style>/* style-autolinks */

.css.css, .property.property, .descriptor.descriptor {
    color: #005a9c;
    font-size: inherit;
    font-family: inherit;
}
.css::before, .property::before, .descriptor::before {
    content: "‘";
}
.css::after, .property::after, .descriptor::after {
    content: "’";
}
.property, .descriptor {
    /* Don't wrap property and descriptor names */
    white-space: nowrap;
}
.type { /* CSS value <type> */
    font-style: italic;
}
pre .property::before, pre .property::after {
    content: "";
}
[data-link-type="property"]::before,
[data-link-type="propdesc"]::before,
[data-link-type="descriptor"]::before,
[data-link-type="value"]::before,
[data-link-type="function"]::before,
[data-link-type="at-rule"]::before,
[data-link-type="selector"]::before,
[data-link-type="maybe"]::before {
    content: "‘";
}
[data-link-type="property"]::after,
[data-link-type="propdesc"]::after,
[data-link-type="descriptor"]::after,
[data-link-type="value"]::after,
[data-link-type="function"]::after,
[data-link-type="at-rule"]::after,
[data-link-type="selector"]::after,
[data-link-type="maybe"]::after {
    content: "’";
}

[data-link-type].production::before,
[data-link-type].production::after,
.prod [data-link-type]::before,
.prod [data-link-type]::after {
    content: "";
}

[data-link-type=element],
[data-link-type=element-attr] {
    font-family: Menlo, Consolas, "DejaVu Sans Mono", monospace;
    font-size: .9em;
}
[data-link-type=element]::before { content: "<" }
[data-link-type=element]::after  { content: ">" }

[data-link-type=biblio] {
    white-space: pre;
}</style>
<style>/* style-dfn-panel */

        .dfn-panel {
            position: absolute;
            z-index: 35;
            height: auto;
            width: -webkit-fit-content;
            width: fit-content;
            max-width: 300px;
            max-height: 500px;
            overflow: auto;
            padding: 0.5em 0.75em;
            font: small Helvetica Neue, sans-serif, Droid Sans Fallback;
            background: #DDDDDD;
            color: black;
            border: outset 0.2em;
        }
        .dfn-panel:not(.on) { display: none; }
        .dfn-panel * { margin: 0; padding: 0; text-indent: 0; }
        .dfn-panel > b { display: block; }
        .dfn-panel a { color: black; }
        .dfn-panel a:not(:hover) { text-decoration: none !important; border-bottom: none !important; }
        .dfn-panel > b + b { margin-top: 0.25em; }
        .dfn-panel ul { padding: 0; }
        .dfn-panel li { list-style: inside; }
        .dfn-panel.activated {
            display: inline-block;
            position: fixed;
            left: .5em;
            bottom: 2em;
            margin: 0 auto;
            max-width: calc(100vw - 1.5em - .4em - .5em);
            max-height: 30vh;
        }

        .dfn-paneled { cursor: pointer; }
        </style>
<style>/* style-syntax-highlighting */

.highlight:not(.idl) { background: hsl(24, 20%, 95%); }
code.highlight { padding: .1em; border-radius: .3em; }
pre.highlight, pre > code.highlight { display: block; padding: 1em; margin: .5em 0; overflow: auto; border-radius: 0; }
.highlight .c { color: #708090 } /* Comment */
.highlight .k { color: #990055 } /* Keyword */
.highlight .l { color: #000000 } /* Literal */
.highlight .n { color: #0077aa } /* Name */
.highlight .o { color: #999999 } /* Operator */
.highlight .p { color: #999999 } /* Punctuation */
.highlight .cm { color: #708090 } /* Comment.Multiline */
.highlight .cp { color: #708090 } /* Comment.Preproc */
.highlight .c1 { color: #708090 } /* Comment.Single */
.highlight .cs { color: #708090 } /* Comment.Special */
.highlight .kc { color: #990055 } /* Keyword.Constant */
.highlight .kd { color: #990055 } /* Keyword.Declaration */
.highlight .kn { color: #990055 } /* Keyword.Namespace */
.highlight .kp { color: #990055 } /* Keyword.Pseudo */
.highlight .kr { color: #990055 } /* Keyword.Reserved */
.highlight .kt { color: #990055 } /* Keyword.Type */
.highlight .ld { color: #000000 } /* Literal.Date */
.highlight .m { color: #000000 } /* Literal.Number */
.highlight .s { color: #a67f59 } /* Literal.String */
.highlight .na { color: #0077aa } /* Name.Attribute */
.highlight .nc { color: #0077aa } /* Name.Class */
.highlight .no { color: #0077aa } /* Name.Constant */
.highlight .nd { color: #0077aa } /* Name.Decorator */
.highlight .ni { color: #0077aa } /* Name.Entity */
.highlight .ne { color: #0077aa } /* Name.Exception */
.highlight .nf { color: #0077aa } /* Name.Function */
.highlight .nl { color: #0077aa } /* Name.Label */
.highlight .nn { color: #0077aa } /* Name.Namespace */
.highlight .py { color: #0077aa } /* Name.Property */
.highlight .nt { color: #669900 } /* Name.Tag */
.highlight .nv { color: #222222 } /* Name.Variable */
.highlight .ow { color: #999999 } /* Operator.Word */
.highlight .mb { color: #000000 } /* Literal.Number.Bin */
.highlight .mf { color: #000000 } /* Literal.Number.Float */
.highlight .mh { color: #000000 } /* Literal.Number.Hex */
.highlight .mi { color: #000000 } /* Literal.Number.Integer */
.highlight .mo { color: #000000 } /* Literal.Number.Oct */
.highlight .sb { color: #a67f59 } /* Literal.String.Backtick */
.highlight .sc { color: #a67f59 } /* Literal.String.Char */
.highlight .sd { color: #a67f59 } /* Literal.String.Doc */
.highlight .s2 { color: #a67f59 } /* Literal.String.Double */
.highlight .se { color: #a67f59 } /* Literal.String.Escape */
.highlight .sh { color: #a67f59 } /* Literal.String.Heredoc */
.highlight .si { color: #a67f59 } /* Literal.String.Interpol */
.highlight .sx { color: #a67f59 } /* Literal.String.Other */
.highlight .sr { color: #a67f59 } /* Literal.String.Regex */
.highlight .s1 { color: #a67f59 } /* Literal.String.Single */
.highlight .ss { color: #a67f59 } /* Literal.String.Symbol */
.highlight .vc { color: #0077aa } /* Name.Variable.Class */
.highlight .vg { color: #0077aa } /* Name.Variable.Global */
.highlight .vi { color: #0077aa } /* Name.Variable.Instance */
.highlight .il { color: #000000 } /* Literal.Number.Integer.Long */
</style>
 <body class="h-entry">
  <div class="head">
   <p data-fill-with="logo"><a class="logo" href="https://www.w3.org/"> <img alt="W3C" height="48" src="https://www.w3.org/StyleSheets/TR/2016/logos/W3C" width="72"> </a> </p>
   <h1 class="p-name no-ref" id="title">CSS Lists Module Level 3</h1>
   <h2 class="no-num no-toc no-ref heading settled" id="subtitle"><span class="content">Editor’s Draft, <time class="dt-updated" datetime="2018-01-19">19 January 2018</time></span></h2>
   <details>
    <summary>Specification Metadata</summary>
    <div data-fill-with="spec-metadata">
     <dl>
      <dt>This version:
      <dd><a class="u-url" href="https://drafts.csswg.org/css-lists-3/">https://drafts.csswg.org/css-lists-3/</a>
      <dt>Latest published version:
      <dd><a href="https://www.w3.org/TR/css-lists-3/">https://www.w3.org/TR/css-lists-3/</a>
      <dt>Previous Versions:
      <dd><a href="https://www.w3.org/TR/2014/WD-css-lists-3-20140320/" rel="prev">https://www.w3.org/TR/2014/WD-css-lists-3-20140320/</a>
      <dd><a href="https://www.w3.org/TR/2011/WD-css3-lists-20110524/" rel="prev">https://www.w3.org/TR/2011/WD-css3-lists-20110524/</a>
      <dt>Issue Tracking:
      <dd><a href="#issues-index">Inline In Spec</a>
      <dd><a href="https://github.com/w3c/csswg-drafts/labels/css-lists-3">GitHub Issues</a>
      <dt class="editor">Editor:
      <dd class="editor p-author h-card vcard" data-editor-id="42199"><a class="p-name fn u-url url" href="http://xanthir.com/contact/">Tab Atkins</a> (<span class="p-org org">Google</span>)
      <dt class="editor">Former Editors:
      <dd class="editor p-author h-card vcard"><a class="p-name fn u-email email" href="mailto:ian@hixie.ch">Ian Hickson</a> (<span class="p-org org">Google</span>)
      <dd class="editor p-author h-card vcard"><a class="p-name fn u-email email" href="mailto:tantekc@microsoft.com">Tantek Çelı̇k</a> (<span class="p-org org">Formerly of Microsoft</span>)
      <dt>Contributors:
      <dd>Simon Montagu, AOL-TW/Netscape, <a href="mailto:smontagu@netscape.com">smontagu@netscape.com</a>
      <dd>Daniel Yacob, <a href="mailto:yacob@geez.org">yacob@geez.org</a>
      <dd>Christopher Hoess, <a href="mailto:choess@stwing.upenn.edu">choess@stwing.upenn.edu</a>
      <dd>Daniel Glazman, AOL-TW/Netscape, <a href="mailto:glazman@netscape.com">glazman@netscape.com</a>
     </dl>
    </div>
   </details>
   <div data-fill-with="warning">
    <details class="annoying-warning" open="">
     <summary>Not Ready For Implementation</summary>
     <p> This spec is not yet ready for implementation.
		It exists in this repository to record the ideas and promote discussion. </p>
     <p> Before attempting to implement this spec,
		please contact the CSSWG at www-style@w3.org. </p>
    </details>
   </div>
   <p class="copyright" data-fill-with="copyright"><a href="http://www.w3.org/Consortium/Legal/ipr-notice#Copyright">Copyright</a> © 2018 <a href="http://www.w3.org/"><abbr title="World Wide Web Consortium">W3C</abbr></a><sup>®</sup> (<a href="http://www.csail.mit.edu/"><abbr title="Massachusetts Institute of Technology">MIT</abbr></a>, <a href="http://www.ercim.eu/"><abbr title="European Research Consortium for Informatics and Mathematics">ERCIM</abbr></a>, <a href="http://www.keio.ac.jp/">Keio</a>, <a href="http://ev.buaa.edu.cn/">Beihang</a>). W3C <a href="http://www.w3.org/Consortium/Legal/ipr-notice#Legal_Disclaimer">liability</a>, <a href="http://www.w3.org/Consortium/Legal/ipr-notice#W3C_Trademarks">trademark</a> and <a href="http://www.w3.org/Consortium/Legal/2015/copyright-software-and-document">permissive document license</a> rules apply. </p>
   <hr title="Separator for header">
  </div>
  <div class="p-summary" data-fill-with="abstract">
   <h2 class="no-num no-toc no-ref heading settled" id="abstract"><span class="content">Abstract</span></h2>
   <p>This draft contains the features of CSS level 3 relating to list styling. It includes and extends the functionality of CSS level 2 <a data-link-type="biblio" href="#biblio-css21">[CSS21]</a>. The main extensions compared to level 2 are a pseudo-element representing the list marker, and some new ways to position markers.</p>
    <a href="http://www.w3.org/TR/CSS/">CSS</a> is a language for describing the rendering of structured documents
(such as HTML and XML)
on screen, on paper, in speech, etc. 
  </div>
  <h2 class="no-num no-toc no-ref heading settled" id="status"><span class="content">Status of this document</span></h2>
  <div data-fill-with="status">
   <p> This is a public copy of the editors’ draft.
	It is provided for discussion only and may change at any moment.
	Its publication here does not imply endorsement of its contents by W3C.
	Don’t cite this document other than as work in progress. </p>
   <p> <a href="https://github.com/w3c/csswg-drafts/issues">GitHub Issues</a> are preferred for discussion of this specification.
	When filing an issue, please put the text “css-lists” in the title,
	preferably like this:
	“[css-lists] <i>…summary of comment…</i>”.
	All issues and comments are <a href="https://lists.w3.org/Archives/Public/public-css-archive/">archived</a>,
	and there is also a <a href="https://lists.w3.org/Archives/Public/www-style/">historical archive</a>. </p>
   <p> This document was produced by the <a href="https://www.w3.org/Style/CSS/members">CSS Working Group</a> (part of the <a href="https://www.w3.org/Style/">Style Activity</a>). </p>
   <p> This document was produced by a group operating under
	the <a href="https://www.w3.org/Consortium/Patent-Policy-20040205/">5 February 2004 W3C Patent Policy</a>.
	W3C maintains a <a href="https://www.w3.org/2004/01/pp-impl/32061/status" rel="disclosure">public list of any patent disclosures</a> made in connection with the deliverables of the group;
	that page also includes instructions for disclosing a patent.
	An individual who has actual knowledge of a patent which the individual believes contains <a href="https://www.w3.org/Consortium/Patent-Policy-20040205/#def-essential">Essential Claim(s)</a> must disclose the information in accordance with <a href="https://www.w3.org/Consortium/Patent-Policy-20040205/#sec-Disclosure">section 6 of the W3C Patent Policy</a>. </p>
   <p> This document is governed by the <a href="https://www.w3.org/2017/Process-20170301/" id="w3c_process_revision">1 March 2017 W3C Process Document</a>. </p>
   <p></p>
  </div>
  <div data-fill-with="at-risk"></div>
  <nav data-fill-with="table-of-contents" id="toc">
   <h2 class="no-num no-toc no-ref" id="contents">Table of Contents</h2>
   <ol class="toc" role="directory">
    <li><a href="#intro"><span class="secno">1</span> <span class="content"> Introduction</span></a>
    <li><a href="#declaring-a-list-item"><span class="secno">2</span> <span class="content"> Declaring a List Item</span></a>
    <li>
     <a href="#markers"><span class="secno">3</span> <span class="content"> Markers</span></a>
     <ol class="toc">
      <li><a href="#marker-pseudo"><span class="secno">3.1</span> <span class="content"> The <span class="css">::marker</span> Pseudo-Element</span></a>
      <li><a href="#content-property"><span class="secno">3.2</span> <span class="content"> Generating The <span class="css">::marker</span> Boxes</span></a>
      <li><a href="#image-markers"><span class="secno">3.3</span> <span class="content"> Image Markers: the <span class="property">list-style-image</span> property</span></a>
      <li><a href="#text-markers"><span class="secno">3.4</span> <span class="content"> Text-based Markers: the <span class="property">list-style-type</span> property</span></a>
      <li><a href="#list-style-position-property"><span class="secno">3.5</span> <span class="content"> Positioning Markers: The <span class="property">list-style-position</span> property</span></a>
      <li><a href="#list-style-property"><span class="secno">3.6</span> <span class="content"> Styling Markers: the <span class="property">list-style</span> shorthand property</span></a>
     </ol>
    <li>
     <a href="#positioning"><span class="secno">4</span> <span class="content"> Marker Positioning</span></a>
     <ol class="toc">
      <li><a href="#position-marker"><span class="secno">4.1</span> <span class="content"> The <span class="css">marker</span> value for <span class="property">position</span></span></a>
      <li><a href="#marker-side"><span class="secno">4.2</span> <span class="content"> The <span class="property">marker-side</span> property</span></a>
     </ol>
    <li>
     <a href="#auto-numbering"><span class="secno">5</span> <span class="content"> Automatic Numbering With Counters</span></a>
     <ol class="toc">
      <li><a href="#counter-properties"><span class="secno">5.1</span> <span class="content"> Manipulating Counters: the <span class="property">counter-increment</span>, <span class="property">counter-set</span> and <span class="property">counter-reset</span> properties</span></a>
      <li><a href="#creating-counters"><span class="secno">5.2</span> <span class="content"> Creating and Inheriting Counters</span></a>
      <li><a href="#nested-counters"><span class="secno">5.3</span> <span class="content"> Nested Counters</span></a>
      <li><a href="#counters-without-boxes"><span class="secno">5.4</span> <span class="content"> Counters in elements that do not generate boxes</span></a>
      <li><a href="#counter-functions"><span class="secno">5.5</span> <span class="content"> Outputting Counters: the <span class="css">counter()</span> and <span class="css">counters()</span> functions</span></a>
     </ol>
    <li><a href="#ua-stylesheet"><span class="secno">6</span> <span class="content"> Appendix A: Sample Style Sheet For HTML</span></a>
    <li><a href="#acknowledgments"><span class="secno"></span> <span class="content"> Acknowledgments</span></a>
    <li><a href="#changes"><span class="secno"></span> <span class="content"> Changes From CSS2.1</span></a>
    <li>
     <a href="#conformance"><span class="secno"></span> <span class="content"> Conformance</span></a>
     <ol class="toc">
      <li><a href="#document-conventions"><span class="secno"></span> <span class="content"> Document conventions</span></a>
      <li><a href="#conform-classes"><span class="secno"></span> <span class="content"> Conformance classes</span></a>
      <li>
       <a href="#conform-responsible"><span class="secno"></span> <span class="content"> Requirements for Responsible Implementation of CSS</span></a>
       <ol class="toc">
        <li><a href="#conform-partial"><span class="secno"></span> <span class="content"> Partial Implementations</span></a>
        <li><a href="#conform-future-proofing"><span class="secno"></span> <span class="content"> Implementations of Unstable and Proprietary Features</span></a>
        <li><a href="#conform-testing"><span class="secno"></span> <span class="content"> Implementations of CR-level Features</span></a>
       </ol>
     </ol>
    <li>
     <a href="#index"><span class="secno"></span> <span class="content">Index</span></a>
     <ol class="toc">
      <li><a href="#index-defined-here"><span class="secno"></span> <span class="content">Terms defined by this specification</span></a>
      <li><a href="#index-defined-elsewhere"><span class="secno"></span> <span class="content">Terms defined by reference</span></a>
     </ol>
    <li>
     <a href="#references"><span class="secno"></span> <span class="content">References</span></a>
     <ol class="toc">
      <li><a href="#normative"><span class="secno"></span> <span class="content">Normative References</span></a>
      <li><a href="#informative"><span class="secno"></span> <span class="content">Informative References</span></a>
     </ol>
    <li><a href="#property-index"><span class="secno"></span> <span class="content">Property Index</span></a>
    <li><a href="#issues-index"><span class="secno"></span> <span class="content">Issues Index</span></a>
   </ol>
  </nav>
  <main>
   <h2 class="heading settled" data-level="1" id="intro"><span class="secno">1. </span><span class="content"> Introduction</span><a class="self-link" href="#intro"></a></h2>
   <p>This specification defines the <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-pseudo-4/#selectordef-marker" id="ref-for-selectordef-marker">::marker</a> pseudo-element,
	the <a class="css" data-link-type="maybe" href="#valdef-marker-side-list-item" id="ref-for-valdef-marker-side-list-item">list-item</a> <a class="property" data-link-type="propdesc" href="https://drafts.csswg.org/css-display-3/#propdef-display" id="ref-for-propdef-display">display</a> value that generates markers,
	and several properties controlling the placement and styling of markers.</p>
   <p>It also defines <a data-link-type="dfn" href="#counter" id="ref-for-counter">counters</a>,
	which are special numerical objects
	often used to generate the default contents of markers.</p>
   <div class="example" id="example-c0b82dc8">
    <a class="self-link" href="#example-c0b82dc8"></a> For instance, the following example illustrates
		how markers can be used to add parentheses around each numbered list item: 
<pre class="highlight"><span class="p">&lt;</span><span class="nt">style</span><span class="p">></span>
<span class="nt">li</span><span class="p">::</span><span class="nd">marker</span> <span class="p">{</span> <span class="k">content</span><span class="p">:</span> <span class="s2">"("</span> counter<span class="p">(</span><span class="kc">list-item</span><span class="p">,</span> <span class="kc">lower-roman</span><span class="p">)</span> <span class="s2">")"</span><span class="p">;</span> <span class="p">}</span>
<span class="nt">li</span> <span class="p">{</span> <span class="k">display</span><span class="p">:</span> <span class="kc">list-item</span><span class="p">;</span> <span class="p">}</span>
<span class="p">&lt;/</span><span class="nt">style</span><span class="p">></span>
<span class="p">&lt;</span><span class="nt">ol</span><span class="p">></span>
  <span class="p">&lt;</span><span class="nt">li</span><span class="p">></span>This is the first item.
  <span class="p">&lt;</span><span class="nt">li</span><span class="p">></span>This is the second item.
  <span class="p">&lt;</span><span class="nt">li</span><span class="p">></span>This is the third item.
<span class="p">&lt;/</span><span class="nt">ol</span><span class="p">></span>
</pre>
    <p>It should produce something like this:</p>
<pre>  (i) This is the first item.
 (ii) This is the second item.
(iii) This is the third item.
</pre>
    <p class="note" role="note"><span>Note:</span> Note that this example is far more verbose than is usually needed in HTML,
		as the UA default style sheet takes care of most of the necessary styling.</p>
   </div>
   <p>With descendant selectors and child selectors,
	it’s possible to specify different marker types depending on the depth of embedded lists.</p>
   <h2 class="heading settled" data-level="2" id="declaring-a-list-item"><span class="secno">2. </span><span class="content"> Declaring a List Item</span><a class="self-link" href="#declaring-a-list-item"></a></h2>
   <p>A <dfn class="dfn-paneled" data-dfn-type="dfn" data-export="" id="list-item">list item</dfn> is any element with its <a class="property" data-link-type="propdesc" href="https://drafts.csswg.org/css-display-3/#propdef-display" id="ref-for-propdef-display①">display</a> property set to <a class="css" data-link-type="maybe" href="#valdef-marker-side-list-item" id="ref-for-valdef-marker-side-list-item①">list-item</a>. <a data-link-type="dfn" href="#list-item" id="ref-for-list-item">List items</a> generate <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-pseudo-4/#selectordef-marker" id="ref-for-selectordef-marker①">::marker</a> pseudo-elements;
	no other elements do.</p>
   <p>Additionally, <a data-link-type="dfn" href="#list-item" id="ref-for-list-item①">list items</a> automatically increment the special <a class="css" data-link-type="maybe" href="#valdef-marker-side-list-item" id="ref-for-valdef-marker-side-list-item②">list-item</a> <a data-link-type="dfn" href="#counter" id="ref-for-counter①">counter</a>.
	Unless the <a class="property" data-link-type="propdesc" href="#propdef-counter-increment" id="ref-for-propdef-counter-increment">counter-increment</a> property manually specifies a different increment for the <a class="css" data-link-type="maybe" href="#valdef-marker-side-list-item" id="ref-for-valdef-marker-side-list-item③">list-item</a> <a data-link-type="dfn" href="#counter" id="ref-for-counter②">counter</a>,
	it must be incremented by 1 on every <a data-link-type="dfn" href="#list-item" id="ref-for-list-item②">list item</a>,
	at the same time that <a data-link-type="dfn" href="#counter" id="ref-for-counter③">counters</a> are normally incremented.
	(This has no effect on the values of the <a class="property" data-link-type="propdesc">counter-*</a> properties.)</p>
   <p>If a <a data-link-type="dfn" href="#list-item" id="ref-for-list-item③">list item</a> generates an <a data-link-type="dfn" href="https://drafts.csswg.org/css-display-3/#inline-box" id="ref-for-inline-box">inline box</a>,
	such as through <a class="css" data-link-type="propdesc" href="https://drafts.csswg.org/css-display-3/#propdef-display" id="ref-for-propdef-display②">display: inline list-item</a>,
	the <a class="css" data-link-type="maybe" href="#list-style-position-outside" id="ref-for-list-style-position-outside">outside</a> value of <a class="property" data-link-type="propdesc" href="#propdef-list-style-position" id="ref-for-propdef-list-style-position">list-style-position</a> must compute to <a class="css" data-link-type="maybe" href="#valdef-list-style-position-inside" id="ref-for-valdef-list-style-position-inside">inside</a> on the element.</p>
   <h2 class="heading settled" data-level="3" id="markers"><span class="secno">3. </span><span class="content"> Markers</span><a class="self-link" href="#markers"></a></h2>
   <p>The defining feature of a <a data-link-type="dfn" href="#list-item" id="ref-for-list-item④">list item</a> is its <dfn data-dfn-type="dfn" data-export="" id="marker">marker<a class="self-link" href="#marker"></a></dfn>,
	a symbol or ordinal that helps denote the beginning of each <a data-link-type="dfn" href="#list-item" id="ref-for-list-item⑤">list item</a> in a list.</p>
   <h3 class="heading settled" data-level="3.1" id="marker-pseudo"><span class="secno">3.1. </span><span class="content"> The <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-pseudo-4/#selectordef-marker" id="ref-for-selectordef-marker②">::marker</a> Pseudo-Element</span><a class="self-link" href="#marker-pseudo"></a></h3>
   <p>The <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-pseudo-4/#selectordef-marker" id="ref-for-selectordef-marker③">::marker</a> pseudo-element is automatically generated by a <a data-link-type="dfn" href="#list-item" id="ref-for-list-item⑥">list item</a>,
	and is automatically filled with content
	according to the <a data-link-type="dfn" href="#list-item" id="ref-for-list-item⑦">list item’s</a> <a class="property" data-link-type="propdesc" href="#propdef-list-style" id="ref-for-propdef-list-style">list-style</a> property
	(or its subproperties).</p>
   <p>The <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-pseudo-4/#selectordef-marker" id="ref-for-selectordef-marker④">::marker</a> pseudo-element is generated as the first child of the <a data-link-type="dfn" href="#list-item" id="ref-for-list-item⑧">list item</a>,
	before the <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-pseudo-4/#selectordef-before" id="ref-for-selectordef-before">::before</a> pseudo-element
	(if that exists on the element). <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-pseudo-4/#selectordef-marker" id="ref-for-selectordef-marker⑤">::marker</a>s are <a data-link-type="dfn" href="https://drafts.csswg.org/css-display-3/#inline" id="ref-for-inline">inline</a> by default,
	tho <a class="property" data-link-type="propdesc" href="#propdef-list-style-position" id="ref-for-propdef-list-style-position①">list-style-position</a> can cause them become <a data-link-type="dfn">absolutely positioned</a>.</p>
   <p>The <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-pseudo-4/#selectordef-marker" id="ref-for-selectordef-marker⑥">::marker</a> pseudo-element only exists on <a data-link-type="dfn" href="#list-item" id="ref-for-list-item⑨">list items</a>.
	On any other element,
	the <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-pseudo-4/#selectordef-marker" id="ref-for-selectordef-marker⑦">::marker</a> pseudo-element’s <a class="property" data-link-type="propdesc" href="https://drafts.csswg.org/css-content-3/#propdef-content" id="ref-for-propdef-content">content</a> property must compute to <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-content-3/#valdef-content-none" id="ref-for-valdef-content-none">none</a>,
	which suppresses its creation.</p>
   <p>Only a limited set of properties can be used on the <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-pseudo-4/#selectordef-marker" id="ref-for-selectordef-marker⑧">::marker</a> pseudo-element.
	This list is defined in <a href="https://www.w3.org/TR/css-pseudo-4/#marker-pseudo">CSS Pseudo-Elements 4 §4.2 List Markers: the ::marker pseudo-element</a>.</p>
   <div class="example" id="example-710b5ddd">
    <a class="self-link" href="#example-710b5ddd"></a> In this example, markers are used to number paragraphs that are designated as "notes": 
<pre class="highlight"><span class="p">&lt;</span><span class="nt">style</span><span class="p">></span>
<span class="nt">p</span> <span class="p">{</span> <span class="k">margin-left</span><span class="p">:</span> <span class="mi">12</span> <span class="n">em</span><span class="p">;</span> <span class="p">}</span>
<span class="nt">p</span><span class="p">.</span><span class="nc">note</span> <span class="p">{</span>
  <span class="k">display</span><span class="p">:</span> <span class="kc">list-item</span><span class="p">;</span>
  <span class="k">counter-increment</span><span class="p">:</span> <span class="n">note-counter</span><span class="p">;</span>
<span class="p">}</span>
<span class="nt">p</span><span class="p">.</span><span class="nc">note</span><span class="p">::</span><span class="nd">marker</span> <span class="p">{</span>
  <span class="k">content</span><span class="p">:</span> <span class="s2">"Note "</span> counter<span class="p">(</span><span class="n">note</span><span class="o">-</span><span class="n">counter</span><span class="p">)</span> <span class="s2">":"</span><span class="p">;</span>
  <span class="k">text-align</span><span class="p">:</span> <span class="kc">left</span><span class="p">;</span>
  <span class="k">width</span><span class="p">:</span> <span class="mi">10</span><span class="kt">em</span><span class="p">;</span>
<span class="p">}</span>
<span class="p">&lt;/</span><span class="nt">style</span><span class="p">></span>
<span class="p">&lt;</span><span class="nt">p</span><span class="p">></span>This is the first paragraph in this document.
<span class="p">&lt;</span><span class="nt">p</span> <span class="na">class</span><span class="o">=</span><span class="s">"note"</span><span class="p">></span>This is a very short document.
<span class="p">&lt;</span><span class="nt">p</span><span class="p">></span>This is the end.
</pre>
    <p>It should render something like this:</p>
<pre>          This is the first paragraph
          in this document.

Note 1:   This is a very short
          document.

          This is the end.
</pre>
   </div>
   <div class="example" id="example-f25b0915">
    <a class="self-link" href="#example-f25b0915"></a> By using the <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-pseudo-4/#selectordef-marker" id="ref-for-selectordef-marker⑨">::marker</a> pseudo-element,
		a list’s markers can be positioned much more flexibly,
		and even be styled independently from the text of the list item itself: 
<pre class="highlight"><span class="p">&lt;</span><span class="nt">style</span><span class="p">></span>
<span class="nt">p</span> <span class="p">{</span> <span class="k">margin-left</span><span class="p">:</span> <span class="mi">8</span><span class="kt">em</span> <span class="p">}</span> <span class="c">/* Make space for counters */</span>
<span class="nt">li</span> <span class="p">{</span> <span class="k">list-style-type</span><span class="p">:</span> <span class="kc">lower-roman</span><span class="p">;</span> <span class="p">}</span>
<span class="nt">li</span><span class="p">::</span><span class="nd">marker</span> <span class="p">{</span> <span class="k">color</span><span class="p">:</span> <span class="kc">blue</span><span class="p">;</span> <span class="k">font-weight</span><span class="p">:</span><span class="kc">bold</span><span class="p">;</span> <span class="p">}</span>
<span class="p">&lt;/</span><span class="nt">style</span><span class="p">></span>
<span class="p">&lt;</span><span class="nt">p</span><span class="p">></span>This is a long preceding paragraph ...
<span class="p">&lt;</span><span class="nt">ol</span><span class="p">></span>
  <span class="p">&lt;</span><span class="nt">li</span><span class="p">></span>This is the first item.
  <span class="p">&lt;</span><span class="nt">li</span><span class="p">></span>This is the second item.
  <span class="p">&lt;</span><span class="nt">li</span><span class="p">></span>This is the third item.
<span class="p">&lt;/</span><span class="nt">ol</span><span class="p">></span>
<span class="p">&lt;</span><span class="nt">p</span><span class="p">></span>This is a long following paragraph ...
</pre>
    <p>The preceding document should render something like this:</p>
<pre>       This is a long preceding
       paragraph ...

  <span style="color:blue;font-weight:bold;">i.</span>   This is the first item.
 <span style="color:blue;font-weight:bold;">ii.</span>   This is the second item.
<span style="color:blue;font-weight:bold;">iii.</span>   This is the third item.

       This is a long following
       paragraph ...
</pre>
    <p>Previously the only way to style a marker was through inheritance;
		one had to put the desired marker styling on the list item,
		and then revert that on a wrapper element around the list item’s actual contents.</p>
   </div>
   <h3 class="heading settled" data-level="3.2" id="content-property"><span class="secno">3.2. </span><span class="content"> Generating The <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-pseudo-4/#selectordef-marker" id="ref-for-selectordef-marker①⓪">::marker</a> Boxes</span><a class="self-link" href="#content-property"></a></h3>
   <p>The <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-pseudo-4/#selectordef-marker" id="ref-for-selectordef-marker①①">::marker</a> pseudo-element
	generates different contents
	(always <a data-link-type="dfn" href="https://drafts.csswg.org/css-display-3/#css-anonymous" id="ref-for-css-anonymous">anonymous</a>)
	according to the <a class="property" data-link-type="propdesc" href="#propdef-list-style-image" id="ref-for-propdef-list-style-image">list-style-image</a> and <a class="property" data-link-type="propdesc" href="#propdef-list-style-type" id="ref-for-propdef-list-style-type">list-style-type</a> properties
	on its <a data-link-type="dfn" href="https://drafts.csswg.org/selectors-4/#originating-element" id="ref-for-originating-element">originating element</a>,
	depending on the first of these conditions that is true:</p>
   <dl class="switch">
    <dt><a class="property" data-link-type="propdesc" href="#propdef-list-style-image" id="ref-for-propdef-list-style-image①">list-style-image</a> is a <a data-link-type="dfn" href="https://drafts.csswg.org/css-images-4/#invalid-image" id="ref-for-invalid-image">valid image</a> 
    <dd> The contents of the <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-pseudo-4/#selectordef-marker" id="ref-for-selectordef-marker①②">::marker</a> are an <a data-link-type="dfn" href="https://drafts.csswg.org/css-display-3/#css-anonymous" id="ref-for-css-anonymous①">anonymous</a> <a data-link-type="dfn" href="https://drafts.csswg.org/css-display-3/#inline" id="ref-for-inline①">inline</a> <a data-link-type="dfn" href="https://drafts.csswg.org/css-display-3/#replaced-element" id="ref-for-replaced-element">replaced element</a> representing the <a class="production css" data-link-type="type" href="https://drafts.csswg.org/css-images-3/#typedef-image" id="ref-for-typedef-image">&lt;image></a>,
			followed by a <a data-link-type="dfn" href="https://drafts.csswg.org/css-display-3/#css-text-run" id="ref-for-css-text-run">text run</a> containing a single space (U+0020 SPACE). 
    <dt><a class="property" data-link-type="propdesc" href="#propdef-list-style-type" id="ref-for-propdef-list-style-type①">list-style-type</a> is a <a class="production css" data-link-type="type" href="https://drafts.csswg.org/css-values-3/#string-value" id="ref-for-string-value">&lt;string></a> 
    <dd> The contents of the <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-pseudo-4/#selectordef-marker" id="ref-for-selectordef-marker①③">::marker</a> are a <a data-link-type="dfn" href="https://drafts.csswg.org/css-display-3/#css-text-run" id="ref-for-css-text-run①">text run</a> containing the <a class="production css" data-link-type="type" href="https://drafts.csswg.org/css-values-3/#string-value" id="ref-for-string-value①">&lt;string></a>. 
    <dt><a class="property" data-link-type="propdesc" href="#propdef-list-style-type" id="ref-for-propdef-list-style-type②">list-style-type</a> is a <a class="production css" data-link-type="type" href="https://drafts.csswg.org/css-counter-styles-3/#typedef-counter-style" id="ref-for-typedef-counter-style" title="Expands to: simp-chinese-formal | simp-chinese-informal | japanese-informal | trad-chinese-formal | cjk-ideographic | japanese-formal | trad-chinese-informal">&lt;counter-style></a> 
    <dd> The contents of the <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-pseudo-4/#selectordef-marker" id="ref-for-selectordef-marker①④">::marker</a> are a <a data-link-type="dfn" href="https://drafts.csswg.org/css-display-3/#css-text-run" id="ref-for-css-text-run②">text run</a> containing the <span class="css">prefix</span> of the <a class="production css" data-link-type="type" href="https://drafts.csswg.org/css-counter-styles-3/#typedef-counter-style" id="ref-for-typedef-counter-style①" title="Expands to: simp-chinese-formal | simp-chinese-informal | japanese-informal | trad-chinese-formal | cjk-ideographic | japanese-formal | trad-chinese-informal">&lt;counter-style></a>,
			followed by the result of <a data-link-type="dfn" href="https://drafts.csswg.org/css-counter-styles-3/#generate-a-counter" id="ref-for-generate-a-counter">generating a counter representation</a> for the <a class="production css" data-link-type="type" href="https://drafts.csswg.org/css-counter-styles-3/#typedef-counter-style" id="ref-for-typedef-counter-style②" title="Expands to: simp-chinese-formal | simp-chinese-informal | japanese-informal | trad-chinese-formal | cjk-ideographic | japanese-formal | trad-chinese-informal">&lt;counter-style></a> and the value of the <span class="css">list-item</span> counter on the <a data-link-type="dfn" href="https://drafts.csswg.org/selectors-4/#originating-element" id="ref-for-originating-element①">originating element</a>,
			followed by a <a data-link-type="dfn" href="https://drafts.csswg.org/css-display-3/#css-text-run" id="ref-for-css-text-run③">text run</a> containing the <span class="css">suffix</span> of the <a class="production css" data-link-type="type" href="https://drafts.csswg.org/css-counter-styles-3/#typedef-counter-style" id="ref-for-typedef-counter-style③" title="Expands to: simp-chinese-formal | simp-chinese-informal | japanese-informal | trad-chinese-formal | cjk-ideographic | japanese-formal | trad-chinese-informal">&lt;counter-style></a>. 
    <dt>otherwise 
    <dd> The <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-pseudo-4/#selectordef-marker" id="ref-for-selectordef-marker①⑤">::marker</a> has no contents. 
   </dl>
   <h3 class="heading settled" data-level="3.3" id="image-markers"><span class="secno">3.3. </span><span class="content"> Image Markers: the <a class="property" data-link-type="propdesc" href="#propdef-list-style-image" id="ref-for-propdef-list-style-image②">list-style-image</a> property</span><a class="self-link" href="#image-markers"></a></h3>
   <table class="def propdef" data-link-for-hint="list-style-image">
    <tbody>
     <tr>
      <th>Name:
      <td><dfn class="dfn-paneled css" data-dfn-type="property" data-export="" id="propdef-list-style-image">list-style-image</dfn>
     <tr class="value">
      <th><a href="https://drafts.csswg.org/css-values/#value-defs">Value:</a>
      <td class="prod"><a class="production css" data-link-type="type" href="https://drafts.csswg.org/css-images-3/#typedef-image" id="ref-for-typedef-image①">&lt;image></a> <a data-link-type="grammar" href="https://drafts.csswg.org/css-values-4/#comb-one" id="ref-for-comb-one">|</a> none
     <tr>
      <th><a href="https://drafts.csswg.org/css-cascade/#initial-values">Initial:</a>
      <td>none
     <tr>
      <th>Applies to:
      <td><a data-link-type="dfn" href="#list-item" id="ref-for-list-item①⓪">list items</a>
     <tr>
      <th><a href="https://drafts.csswg.org/css-cascade/#inherited-property">Inherited:</a>
      <td>yes
     <tr>
      <th><a href="https://drafts.csswg.org/css-values/#percentages">Percentages:</a>
      <td>n/a
     <tr>
      <th>Media:
      <td>visual
     <tr>
      <th><a href="https://drafts.csswg.org/css-cascade/#computed">Computed value:</a>
      <td>computed value of the <a class="production css" data-link-type="type" href="https://drafts.csswg.org/css-images-3/#typedef-image" id="ref-for-typedef-image②">&lt;image></a>, or <a class="css" data-link-type="maybe" href="#valdef-list-style-image-none" id="ref-for-valdef-list-style-image-none">none</a>
     <tr>
      <th>Canonical order:
      <td>per grammar
     <tr>
      <th><a href="https://drafts.csswg.org/css-transitions/#animatable-properties">Animation type:</a>
      <td>discrete
   </table>
   <p>The <a class="property" data-link-type="propdesc" href="#propdef-list-style-image" id="ref-for-propdef-list-style-image③">list-style-image</a> property specifies an image
	that will be used to fill the <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-pseudo-4/#selectordef-marker" id="ref-for-selectordef-marker①⑥">::marker</a> pseudo-element.
	The values are as follows:</p>
   <dl>
    <dt><dfn class="css" data-dfn-for="list-style-image" data-dfn-type="value" data-export="" id="valdef-list-style-image-image"><a class="production css" data-link-type="type" href="https://drafts.csswg.org/css-images-3/#typedef-image" id="ref-for-typedef-image③">&lt;image></a><a class="self-link" href="#valdef-list-style-image-image"></a></dfn> 
    <dd>
      Specifies that the <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-pseudo-4/#selectordef-marker" id="ref-for-selectordef-marker①⑦">::marker</a> for the <a data-link-type="dfn" href="#list-item" id="ref-for-list-item①①">list item</a> should show the specified <a class="production css" data-link-type="type" href="https://drafts.csswg.org/css-images-3/#typedef-image" id="ref-for-typedef-image④">&lt;image></a>. 
     <p>If the <a class="production css" data-link-type="type" href="https://drafts.csswg.org/css-images-3/#typedef-image" id="ref-for-typedef-image⑤">&lt;image></a> ends up being an <a data-link-type="dfn" href="https://drafts.csswg.org/css-images-4/#invalid-image" id="ref-for-invalid-image①">invalid image</a>,
			this value instead does nothing
			(like <a class="css" data-link-type="maybe" href="#valdef-list-style-image-none" id="ref-for-valdef-list-style-image-none①">none</a>).</p>
    <dt><dfn class="dfn-paneled css" data-dfn-for="list-style-image" data-dfn-type="value" data-export="" id="valdef-list-style-image-none">none</dfn> 
    <dd> Does nothing.
			Instead, <a class="property" data-link-type="propdesc" href="#propdef-list-style-type" id="ref-for-propdef-list-style-type③">list-style-type</a> will be consulted
			to determine how to fill the <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-pseudo-4/#selectordef-marker" id="ref-for-selectordef-marker①⑧">::marker</a>. 
   </dl>
   <div class="example" id="example-73be78e9">
    <a class="self-link" href="#example-73be78e9"></a> The following example sets the marker at the beginning of each list item to
		be the image "ellipse.png". 
<pre class="highlight"><span class="nt">li </span><span class="p">{</span> <span class="k">list-style-image</span><span class="p">:</span> <span class="nf">url</span><span class="p">(</span><span class="s">"http://www.example.com/ellipse.png"</span><span class="p">)</span> <span class="p">}</span></pre>
   </div>
   <h3 class="heading settled" data-level="3.4" id="text-markers"><span class="secno">3.4. </span><span class="content"> Text-based Markers: the <a class="property" data-link-type="propdesc" href="#propdef-list-style-type" id="ref-for-propdef-list-style-type④">list-style-type</a> property</span><a class="self-link" href="#text-markers"></a></h3>
   <table class="def propdef" data-link-for-hint="list-style-type">
    <tbody>
     <tr>
      <th>Name:
      <td><dfn class="dfn-paneled css" data-dfn-type="property" data-export="" id="propdef-list-style-type">list-style-type</dfn>
     <tr class="value">
      <th><a href="https://drafts.csswg.org/css-values/#value-defs">Value:</a>
      <td class="prod"><a class="production css" data-link-type="type" href="https://drafts.csswg.org/css-counter-styles-3/#typedef-counter-style" id="ref-for-typedef-counter-style④" title="Expands to: simp-chinese-formal | simp-chinese-informal | japanese-informal | trad-chinese-formal | cjk-ideographic | japanese-formal | trad-chinese-informal">&lt;counter-style></a> <a data-link-type="grammar" href="https://drafts.csswg.org/css-values-4/#comb-one" id="ref-for-comb-one①">|</a> <a class="production css" data-link-type="type" href="https://drafts.csswg.org/css-values-3/#string-value" id="ref-for-string-value②">&lt;string></a> <a data-link-type="grammar" href="https://drafts.csswg.org/css-values-4/#comb-one" id="ref-for-comb-one②">|</a> none
     <tr>
      <th><a href="https://drafts.csswg.org/css-cascade/#initial-values">Initial:</a>
      <td>disc
     <tr>
      <th>Applies to:
      <td><a data-link-type="dfn" href="#list-item" id="ref-for-list-item①②">list items</a>
     <tr>
      <th><a href="https://drafts.csswg.org/css-cascade/#inherited-property">Inherited:</a>
      <td>yes
     <tr>
      <th><a href="https://drafts.csswg.org/css-values/#percentages">Percentages:</a>
      <td>n/a
     <tr>
      <th>Media:
      <td>visual
     <tr>
      <th><a href="https://drafts.csswg.org/css-cascade/#computed">Computed value:</a>
      <td>specified value
     <tr>
      <th>Canonical order:
      <td>per grammar
     <tr>
      <th><a href="https://drafts.csswg.org/css-transitions/#animatable-properties">Animation type:</a>
      <td>discrete
   </table>
   <p>When the value of <a class="property" data-link-type="propdesc" href="#propdef-list-style-image" id="ref-for-propdef-list-style-image④">list-style-image</a> is <a class="css" data-link-type="maybe" href="#valdef-list-style-image-none" id="ref-for-valdef-list-style-image-none②">none</a> or an <a data-link-type="dfn" href="https://drafts.csswg.org/css-images-4/#invalid-image" id="ref-for-invalid-image②">invalid image</a>,
	the <a class="property" data-link-type="propdesc" href="#propdef-list-style-type" id="ref-for-propdef-list-style-type⑤">list-style-type</a> property instead specifies how to fill the <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-pseudo-4/#selectordef-marker" id="ref-for-selectordef-marker①⑨">::marker</a>.
	The values are as follows:</p>
   <dl>
    <dt><dfn class="css" data-dfn-for="list-style-type" data-dfn-type="value" data-export="" id="valdef-list-style-type-counter-style"><a class="production css" data-link-type="type" href="https://drafts.csswg.org/css-counter-styles-3/#typedef-counter-style" id="ref-for-typedef-counter-style⑤" title="Expands to: simp-chinese-formal | simp-chinese-informal | japanese-informal | trad-chinese-formal | cjk-ideographic | japanese-formal | trad-chinese-informal">&lt;counter-style></a><a class="self-link" href="#valdef-list-style-type-counter-style"></a></dfn> 
    <dd> The <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-pseudo-4/#selectordef-marker" id="ref-for-selectordef-marker②⓪">::marker</a>‘s contents will be generated
			according to the rules for that <a data-link-type="dfn" href="https://drafts.csswg.org/css-counter-styles-3/#counter-style" id="ref-for-counter-style">counter style</a>. <a data-link-type="biblio" href="#biblio-css-counter-styles-3">[CSS-COUNTER-STYLES-3]</a> 
    <dt><dfn class="css" data-dfn-for="list-style-type" data-dfn-type="value" data-export="" id="valdef-list-style-type-string"><a class="production css" data-link-type="type" href="https://drafts.csswg.org/css-values-3/#string-value" id="ref-for-string-value③">&lt;string></a><a class="self-link" href="#valdef-list-style-type-string"></a></dfn> 
    <dd> The <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-pseudo-4/#selectordef-marker" id="ref-for-selectordef-marker②①">::marker</a> will contain the <a class="production css" data-link-type="type" href="https://drafts.csswg.org/css-values-3/#string-value" id="ref-for-string-value④">&lt;string></a>. 
    <dt><dfn class="css" data-dfn-for="list-style-type" data-dfn-type="value" data-export="" id="valdef-list-style-type-none">none<a class="self-link" href="#valdef-list-style-type-none"></a></dfn> 
    <dd> The <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-pseudo-4/#selectordef-marker" id="ref-for-selectordef-marker②②">::marker</a> will not contain anything. 
   </dl>
   <div class="example" id="example-bc142f11">
    <a class="self-link" href="#example-bc142f11"></a> The following examples illustrate how to set markers to various values: 
<pre class="highlight"><span class="nt">ul </span><span class="p">{</span> <span class="k">list-style-type</span><span class="p">:</span> <span class="s">"★"</span><span class="p">;</span> <span class="p">}</span>
<span class="c">/* Sets the marker to a "star" character */</span>

<span class="nt">p.note </span><span class="p">{</span>
  <span class="k">display</span><span class="p">:</span> list-item<span class="p">;</span>
  <span class="k">list-style-type</span><span class="p">:</span> <span class="s">"Note: "</span><span class="p">;</span>
  <span class="k">list-style-position</span><span class="p">:</span> inside<span class="p">;</span>
<span class="p">}</span>
<span class="c">/* Gives note paragraphs a marker consisting of the string "Note: " */</span>

<span class="nt">ol </span><span class="p">{</span> <span class="k">list-style-type</span><span class="p">:</span> upper-roman<span class="p">;</span> <span class="p">}</span>
<span class="c">/* Sets all ordered lists to use the upper-roman counter-style</span>
<span class="c">   (defined in the Counter Styles specification [[CSS-COUNTER-STYLES]]) */</span>

<span class="nt">ul </span><span class="p">{</span> <span class="k">list-style-type</span><span class="p">:</span> <span class="nf">symbols</span><span class="p">(</span>repeating <span class="s">'○'</span> <span class="s">'●'</span><span class="p">);</span> <span class="p">}</span>
<span class="c">/* Sets all unordered list items to alternate between empty and</span>
<span class="c">   filled circles for their markers. */</span>

<span class="nt">ul </span><span class="p">{</span> <span class="k">list-style-type</span><span class="p">:</span> none<span class="p">;</span> <span class="p">}</span>
<span class="c">/* Suppresses the marker entirely, unless list-style-image is specified</span>
<span class="c">   with a valid image. */</span>
</pre>
   </div>
   <h3 class="heading settled" data-level="3.5" id="list-style-position-property"><span class="secno">3.5. </span><span class="content"> Positioning Markers: The <a class="property" data-link-type="propdesc" href="#propdef-list-style-position" id="ref-for-propdef-list-style-position②">list-style-position</a> property</span><a class="self-link" href="#list-style-position-property"></a></h3>
   <table class="def propdef" data-link-for-hint="list-style-position">
    <tbody>
     <tr>
      <th>Name:
      <td><dfn class="dfn-paneled css" data-dfn-type="property" data-export="" id="propdef-list-style-position">list-style-position</dfn>
     <tr class="value">
      <th><a href="https://drafts.csswg.org/css-values/#value-defs">Value:</a>
      <td class="prod">inside <a data-link-type="grammar" href="https://drafts.csswg.org/css-values-4/#comb-one" id="ref-for-comb-one③">|</a> outside
     <tr>
      <th><a href="https://drafts.csswg.org/css-cascade/#initial-values">Initial:</a>
      <td>outside
     <tr>
      <th>Applies to:
      <td><a data-link-type="dfn" href="#list-item" id="ref-for-list-item①③">list items</a>
     <tr>
      <th><a href="https://drafts.csswg.org/css-cascade/#inherited-property">Inherited:</a>
      <td>yes
     <tr>
      <th><a href="https://drafts.csswg.org/css-values/#percentages">Percentages:</a>
      <td>n/a
     <tr>
      <th>Media:
      <td>visual
     <tr>
      <th><a href="https://drafts.csswg.org/css-cascade/#computed">Computed value:</a>
      <td>specified value (but see prose)
     <tr>
      <th>Canonical order:
      <td>per grammar
     <tr>
      <th><a href="https://drafts.csswg.org/css-transitions/#animatable-properties">Animation type:</a>
      <td>discrete
   </table>
   <p>This property dictates whether the <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-pseudo-4/#selectordef-marker" id="ref-for-selectordef-marker②③">::marker</a> is rendered inline,
	or positioned just outside of the <a data-link-type="dfn" href="#list-item" id="ref-for-list-item①④">list item</a>.
	The values are as follows:</p>
   <dl>
    <dt><dfn class="dfn-paneled css" data-dfn-for="list-style-position" data-dfn-type="value" data-export="" id="valdef-list-style-position-inside">inside</dfn> 
    <dd> No special effect.
			(The <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-pseudo-4/#selectordef-marker" id="ref-for-selectordef-marker②④">::marker</a> is an inline element at the start of the <a data-link-type="dfn" href="#list-item" id="ref-for-list-item①⑤">list item’s</a> contents.) 
    <dt><dfn class="dfn-paneled css" data-dfn-for="list-style-position" data-dfn-type="value" data-export="" id="list-style-position-outside">outside</dfn> 
    <dd>
      The <a class="property" data-link-type="propdesc" href="https://drafts.csswg.org/css-position-3/#propdef-position" id="ref-for-propdef-position">position</a> property on the marker computes to <a class="css" data-link-type="maybe" href="#valdef-position-marker" id="ref-for-valdef-position-marker">marker</a>.
			Additionally, the base directionality of the marker
			(used as an input to the bidi resolution algorithm)
			must be taken from the marker’s <a data-link-type="dfn" href="#marker-positioning-reference-element" id="ref-for-marker-positioning-reference-element">marker positioning reference element</a>. 
     <p>If the <a data-link-type="dfn" href="#list-item" id="ref-for-list-item①⑥">list item</a> is <a data-link-type="dfn" href="https://drafts.csswg.org/css-display-3/#inline" id="ref-for-inline②">inline</a>,
			this value instead computes to <a class="css" data-link-type="maybe" href="#valdef-list-style-position-inside" id="ref-for-valdef-list-style-position-inside①">inside</a>.</p>
   </dl>
   <div class="example" id="example-81162cb9">
    <a class="self-link" href="#example-81162cb9"></a> For example: 
<pre>&lt;style>
  ul.compact { list-style: inside; }
  ul         { list-style: outside; }
&lt;/style>
&lt;ul class=compact>
  &lt;li>first "inside" list item comes first&lt;/li>
  &lt;li>second "inside" list item comes first&lt;/li>
&lt;/ul>
&lt;hr>
&lt;ul>
  &lt;li>first "outside" list item comes first&lt;/li>
  &lt;li>second "outside" list item comes first&lt;/li>
&lt;/ul>
</pre>
    <p>The above example may be formatted as:</p>
<pre>  * first "inside" list
  item comes first
  * second "inside" list
  item comes second

========================

* first "outside" list
  item comes first
* second "outside" list
  item comes second</pre>
   </div>
   <h3 class="heading settled" data-level="3.6" id="list-style-property"><span class="secno">3.6. </span><span class="content"> Styling Markers: the <a class="property" data-link-type="propdesc" href="#propdef-list-style" id="ref-for-propdef-list-style①">list-style</a> shorthand property</span><a class="self-link" href="#list-style-property"></a></h3>
   <table class="def propdef" data-link-for-hint="list-style">
    <tbody>
     <tr>
      <th>Name:
      <td><dfn class="dfn-paneled css" data-dfn-type="property" data-export="" id="propdef-list-style">list-style</dfn>
     <tr class="value">
      <th><a href="https://drafts.csswg.org/css-values/#value-defs">Value:</a>
      <td class="prod"><a class="production" data-link-type="propdesc" href="#propdef-list-style-type" id="ref-for-propdef-list-style-type⑥">&lt;‘list-style-type’></a> <a data-link-type="grammar" href="https://drafts.csswg.org/css-values-4/#comb-any" id="ref-for-comb-any">||</a> <a class="production" data-link-type="propdesc" href="#propdef-list-style-position" id="ref-for-propdef-list-style-position③">&lt;‘list-style-position’></a> <a data-link-type="grammar" href="https://drafts.csswg.org/css-values-4/#comb-any" id="ref-for-comb-any①">||</a> <a class="production" data-link-type="propdesc" href="#propdef-list-style-image" id="ref-for-propdef-list-style-image⑤">&lt;‘list-style-image’></a>
     <tr>
      <th><a href="https://drafts.csswg.org/css-cascade/#initial-values">Initial:</a>
      <td>see individual properties
     <tr>
      <th>Applies to:
      <td><a data-link-type="dfn" href="#list-item" id="ref-for-list-item①⑦">list items</a>
     <tr>
      <th><a href="https://drafts.csswg.org/css-cascade/#inherited-property">Inherited:</a>
      <td>see individual properties
     <tr>
      <th><a href="https://drafts.csswg.org/css-values/#percentages">Percentages:</a>
      <td>see individual properties
     <tr>
      <th>Media:
      <td>visual
     <tr>
      <th><a href="https://drafts.csswg.org/css-cascade/#computed">Computed value:</a>
      <td>see individual properties
     <tr>
      <th>Canonical order:
      <td>per grammar
     <tr>
      <th><a href="https://drafts.csswg.org/css-transitions/#animatable-properties">Animation type:</a>
      <td>discrete
   </table>
   <p>The <a class="property" data-link-type="propdesc" href="#propdef-list-style" id="ref-for-propdef-list-style②">list-style</a> property is a shorthand notation
	for setting the three properties <a class="property" data-link-type="propdesc" href="#propdef-list-style-type" id="ref-for-propdef-list-style-type⑦">list-style-type</a>, <a class="property" data-link-type="propdesc" href="#propdef-list-style-image" id="ref-for-propdef-list-style-image⑥">list-style-image</a>, and <a class="property" data-link-type="propdesc" href="#propdef-list-style-position" id="ref-for-propdef-list-style-position④">list-style-position</a> at the same place in the style sheet.</p>
   <div class="example" id="example-e7aae5b1">
    <a class="self-link" href="#example-e7aae5b1"></a> For example: 
<pre class="highlight"><span class="nt">ul </span><span class="p">{</span> <span class="k">list-style</span><span class="p">:</span> upper-roman inside <span class="p">}</span>  <span class="c">/* Any UL */</span>
<span class="nt">ul ul </span><span class="p">{</span> <span class="k">list-style</span><span class="p">:</span> circle outside <span class="p">}</span> <span class="c">/* Any UL child of a UL */</span>
</pre>
   </div>
   <p>Using a value of <span class="css">none</span> in the shorthand is potentially ambiguous,
	as <span class="css">none</span> is a valid value for both <a class="property" data-link-type="propdesc" href="#propdef-list-style-image" id="ref-for-propdef-list-style-image⑦">list-style-image</a> and <a class="property" data-link-type="propdesc" href="#propdef-list-style-type" id="ref-for-propdef-list-style-type⑧">list-style-type</a>.
	To resolve this ambiguity,
	a value of <span class="css">none</span> in the shorthand must be applied to whichever of the two properties aren’t otherwise set by the shorthand.</p>
   <div class="example" id="example-8d87a1c2">
    <a class="self-link" href="#example-8d87a1c2"></a> 
<pre class="highlight">list-style: none disc;
<span class="c">/* Sets the image to "none" and the type to "disc". */</span>

list-style: none url(bullet.png);
<span class="c">/* Sets the image to "url(bullet.png)" and the type to "none". */</span>

list-style: none;
<span class="c">/* Sets both image and type to "none". */</span>

list-style: none disc url(bullet.png);
<span class="c">/* Syntax error */</span>
</pre>
   </div>
   <div class="example" id="example-6063d103">
    <a class="self-link" href="#example-6063d103"></a> Although authors may specify <a class="property" data-link-type="propdesc" href="#propdef-list-style" id="ref-for-propdef-list-style③">list-style</a> information directly on list item elements
		(e.g., <code class="highlight"><a data-link-type="element" href="https://html.spec.whatwg.org/multipage/grouping-content.html#the-li-element" id="ref-for-the-li-element">li</a></code> in HTML),
		they should do so with care.
		Consider the following rules: 
<pre class="highlight"><span class="nt">ol.alpha li </span><span class="p">{</span> <span class="k">list-style</span><span class="p">:</span> lower-alpha<span class="p">;</span> <span class="p">}</span>
<span class="nt">ul li       </span><span class="p">{</span> <span class="k">list-style</span><span class="p">:</span> disc<span class="p">;</span> <span class="p">}</span>
</pre>
    <p>The above won’t work as expected.
		If you nest a <code class="highlight"><a data-link-type="element" href="https://html.spec.whatwg.org/multipage/grouping-content.html#the-ul-element" id="ref-for-the-ul-element">ul</a></code> into an <a data-link-type="element" href="https://html.spec.whatwg.org/multipage/grouping-content.html#the-ol-element" id="ref-for-the-ol-element">ol class=alpha</a>,
		the first rule’s specificity will make the <code class="highlight"><a data-link-type="element" href="https://html.spec.whatwg.org/multipage/grouping-content.html#the-ul-element" id="ref-for-the-ul-element①">ul</a></code>’s list items use the lower-alpha style.</p>
<pre class="highlight"><span class="nt">ol.alpha > li </span><span class="p">{</span> <span class="k">list-style</span><span class="p">:</span> lower-alpha<span class="p">;</span> <span class="p">}</span>
<span class="nt">ul > li       </span><span class="p">{</span> <span class="k">list-style</span><span class="p">:</span> disc<span class="p">;</span> <span class="p">}</span>
</pre>
    <p>These work as intended.</p>
<pre class="highlight"><span class="nt">ol.alpha </span><span class="p">{</span> <span class="k">list-style</span><span class="p">:</span> lower-alpha<span class="p">;</span> <span class="p">}</span>
<span class="nt">ul       </span><span class="p">{</span> <span class="k">list-style</span><span class="p">:</span> disc<span class="p">;</span> <span class="p">}</span>
</pre>
    <p>These are even better,
		since inheritance will transfer the <a class="property" data-link-type="propdesc" href="#propdef-list-style" id="ref-for-propdef-list-style④">list-style</a> value to the list items.</p>
   </div>
   <h2 class="heading settled" data-level="4" id="positioning"><span class="secno">4. </span><span class="content"> Marker Positioning</span><a class="self-link" href="#positioning"></a></h2>
   <p class="issue" id="issue-bb3d39c0"><a class="self-link" href="#issue-bb3d39c0"></a><strong> This section is not ready for implementation.
		It is an unreviewed rough draft that hasn’t even been properly checked for Web-compatibility.
		Feel free to send feedback, but DON’T USE THIS PART OF THE SPEC.</strong> </p>
   <h3 class="heading settled" data-level="4.1" id="position-marker"><span class="secno">4.1. </span><span class="content"> The <a class="css" data-link-type="maybe" href="#valdef-position-marker" id="ref-for-valdef-position-marker①">marker</a> value for <a class="property" data-link-type="propdesc" href="https://drafts.csswg.org/css-position-3/#propdef-position" id="ref-for-propdef-position①">position</a></span><a class="self-link" href="#position-marker"></a></h3>
   <p>This section introduces a new positioning scheme,
	designed to model the way in which <span class="css">list-style-position:outside</span> list markers were traditionally positioned in CSS 2.1.
	Outside list markers now have their positioning defined	in terms of this new value.</p>
   <p>The new positioning scheme defined in this section can be used on all elements,
	not just <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-pseudo-4/#selectordef-marker" id="ref-for-selectordef-marker②⑤">::marker</a> pseudo-elements.
	For example, this can be used to position explicit elements serving as markers in a legal document,
	so that the list item has a marker whose value is guaranteed to be correct regardless of whether the CSS is applied
	(often a requirement in legal documents),
	but which is positioned like a native CSS marker.</p>
   <table class="def propdef partial" data-link-for-hint="position">
    <tbody>
     <tr>
      <th>Name:
      <td><a class="css" data-link-type="property" href="https://drafts.csswg.org/css-position-3/#propdef-position" id="ref-for-propdef-position②">position</a>
     <tr class="value">
      <th><a href="https://drafts.csswg.org/css-values/#value-defs">New values:</a>
      <td class="prod">marker
     <tr>
      <th><a href="https://drafts.csswg.org/css-cascade/#computed">Computed value:</a>
      <td>see prose, otherwise same as normal
   </table>
   <p>The <dfn class="dfn-paneled css" data-dfn-for="position" data-dfn-type="value" data-export="" id="valdef-position-marker">marker</dfn> value for <a class="property" data-link-type="propdesc" href="https://drafts.csswg.org/css-position-3/#propdef-position" id="ref-for-propdef-position③">position</a> depends on the element it is set on having a <a data-link-type="dfn" href="#list-item" id="ref-for-list-item①⑧">list item</a> ancestor.
	If the specified value of <a class="property" data-link-type="propdesc" href="https://drafts.csswg.org/css-position-3/#propdef-position" id="ref-for-propdef-position④">position</a> is <a class="css" data-link-type="maybe" href="#valdef-position-marker" id="ref-for-valdef-position-marker②">marker</a> and the element does not have a <a data-link-type="dfn" href="#list-item" id="ref-for-list-item①⑨">list item</a> ancestor, <a class="property" data-link-type="propdesc" href="https://drafts.csswg.org/css-position-3/#propdef-position" id="ref-for-propdef-position⑤">position</a> must compute to <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-position-3/#valdef-position-relative" id="ref-for-valdef-position-relative">relative</a> on the element.
	An element with <span class="css">position:marker</span> counts as <a data-link-type="dfn">absolutely positioned</a>.</p>
   <p>To calculate the marker’s position, we must first define a few terms:</p>
   <dl>
    <dt><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport="" id="ancestor-list-item">ancestor list item</dfn> 
    <dd>The <a data-link-type="dfn" href="#ancestor-list-item" id="ref-for-ancestor-list-item">ancestor list item</a> is the marker’s nearest list item ancestor element. 
    <dt><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport="" id="marker-positioning-reference-element">marker positioning reference element</dfn> 
    <dd>
      If the <a data-link-type="dfn" href="#ancestor-list-item" id="ref-for-ancestor-list-item①">ancestor list item</a> has <span class="css">marker-side:list-item</span>,
			the <a data-link-type="dfn" href="#marker-positioning-reference-element" id="ref-for-marker-positioning-reference-element①">marker positioning reference element</a> is the <a data-link-type="dfn" href="#ancestor-list-item" id="ref-for-ancestor-list-item②">ancestor list item</a>. 
     <p>Otherwise, if the <a data-link-type="dfn" href="#ancestor-list-item" id="ref-for-ancestor-list-item③">ancestor list item</a> has <span class="css">marker-side:list-container</span> and has a parent element,
			the <a data-link-type="dfn" href="#marker-positioning-reference-element" id="ref-for-marker-positioning-reference-element②">marker positioning reference element</a> is that parent.</p>
     <p>Otherwise, the <a data-link-type="dfn" href="#marker-positioning-reference-element" id="ref-for-marker-positioning-reference-element③">marker positioning reference element</a> is the <a data-link-type="dfn" href="#ancestor-list-item" id="ref-for-ancestor-list-item④">ancestor list item</a>.</p>
    <dt><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport="" id="list-item-positioning-edge">list item positioning edge</dfn> 
    <dd> The border edge of the <a data-link-type="dfn" href="#ancestor-list-item" id="ref-for-ancestor-list-item⑤">ancestor list item</a> corresponding to the "inline-start" edge of the <a data-link-type="dfn" href="#marker-positioning-reference-element" id="ref-for-marker-positioning-reference-element④">marker positioning reference element</a>. 
    <dt><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport="" id="marker-positioning-edge">marker positioning edge</dfn> 
    <dd> The outer edge of the marker that’s on the opposite side from the <a data-link-type="dfn" href="#list-item-positioning-edge" id="ref-for-list-item-positioning-edge">list item positioning edge</a>.
			For example, if the <a data-link-type="dfn" href="#list-item-positioning-edge" id="ref-for-list-item-positioning-edge①">list item positioning edge</a> ended up being the left border edge of the <a data-link-type="dfn" href="#ancestor-list-item" id="ref-for-ancestor-list-item⑥">ancestor list item</a>,
			the <a data-link-type="dfn" href="#marker-positioning-edge" id="ref-for-marker-positioning-edge">marker positioning edge</a> would be the right margin edge of the marker. 
   </dl>
   <p>The marker’s position in the <a data-link-type="dfn" href="#ancestor-list-item" id="ref-for-ancestor-list-item⑦">ancestor list item</a>’s block axis
	is calculated according to the <a href="https://www.w3.org/TR/CSS21/visuren.html#normal-flow">normal flow</a>.</p>
   <p>The marker’s position in the <a data-link-type="dfn" href="#ancestor-list-item" id="ref-for-ancestor-list-item⑧">ancestor list item’s</a> inline axis must be set such that
	the <a data-link-type="dfn" href="#marker-positioning-edge" id="ref-for-marker-positioning-edge①">marker positioning edge</a> is flush with the <a data-link-type="dfn" href="#list-item-positioning-edge" id="ref-for-list-item-positioning-edge②">list item positioning edge</a>.</p>
   <p class="note" role="note"><span>Note:</span> The purpose of this somewhat convoluted definition is to position the marker flush against its list item,
	and then when "marker-side:list-container",
	keep all the markers for a given list on the same side of their list items even in mixed-direction text,
	so that authors can specify padding on only one side of the list container and still ensure their markers are visible.
	And on top of all that,
	do something reasonable in the face of potentially differing writing-modes
	on the marker, list item, and container.</p>
   <p>All elements or pseudo-elements with <span class="css">position:marker</span> that share a common <a data-link-type="dfn" href="#ancestor-list-item" id="ref-for-ancestor-list-item⑨">ancestor list item</a> are known as <dfn class="dfn-paneled" data-dfn-type="dfn" data-lt="associated marker" data-noexport="" id="associated-marker">markers associated with that list item</dfn>.</p>
   <p>The <a class="property" data-link-type="propdesc" href="https://drafts.csswg.org/css-position-3/#propdef-top" id="ref-for-propdef-top">top</a>, <a class="property" data-link-type="propdesc" href="https://drafts.csswg.org/css-position-3/#propdef-right" id="ref-for-propdef-right">right</a>, <a class="property" data-link-type="propdesc" href="https://drafts.csswg.org/css-position-3/#propdef-bottom" id="ref-for-propdef-bottom">bottom</a>, and <a class="property" data-link-type="propdesc" href="https://drafts.csswg.org/css-position-3/#propdef-left" id="ref-for-propdef-left">left</a> properties specify offsets
	relative to the top, right, bottom, and left edges (respectively) of the element itself,
	similar to how relative positioning works.</p>
   <div class="example" id="example-9d974177">
    <a class="self-link" href="#example-9d974177"></a> <span class="css">position:marker</span> can be used when the precise list marker is important for the content,
		not a stylistic choice,
		but the normal <em>appearance</em> of lists is still desired.
		For example, this trimmed snippet of the US Code of Laws may be marked up as the following in HTML: 
<pre class="highlight"><span class="p">&lt;</span><span class="nt">style</span><span class="p">></span>
<span class="nt">ol</span> <span class="p">{</span> <span class="k">list-style</span><span class="p">:</span> <span class="kc">none</span><span class="p">;</span> <span class="p">}</span>
<span class="p">.</span><span class="nc">marker</span> <span class="p">{</span> <span class="k">position</span><span class="p">:</span> <span class="n">marker</span><span class="p">;</span> <span class="p">}</span>
<span class="p">&lt;/</span><span class="nt">style</span><span class="p">></span>
<span class="p">&lt;</span><span class="nt">ol</span><span class="p">></span>
  <span class="p">&lt;</span><span class="nt">li</span><span class="p">></span>
    <span class="p">&lt;</span><span class="nt">span</span> <span class="na">class</span><span class="o">=</span><span class="s">'marker'</span><span class="p">></span>(a)<span class="p">&lt;/</span><span class="nt">span</span><span class="p">></span> Definitions.— For purposes of this section—    <wbr><span class="p">&lt;</span><span class="nt">ol</span><span class="p">></span>
      <span class="p">&lt;</span><span class="nt">li</span><span class="p">>&lt;</span><span class="nt">span</span> <span class="na">class</span><span class="o">=</span><span class="s">'marker'</span><span class="p">></span>(1)<span class="p">&lt;/</span><span class="nt">span</span><span class="p">></span> the term “agency” means agency as...
      <span class="p">&lt;</span><span class="nt">li</span><span class="p">>&lt;</span><span class="nt">span</span> <span class="na">class</span><span class="o">=</span><span class="s">'marker'</span><span class="p">></span>(2)<span class="p">&lt;/</span><span class="nt">span</span><span class="p">></span> the term “individual” means a citizen...
    <span class="p">&lt;/</span><span class="nt">ol</span><span class="p">></span>
  <span class="p">&lt;</span><span class="nt">li</span><span class="p">></span>
    <span class="p">&lt;</span><span class="nt">span</span> <span class="na">class</span><span class="o">=</span><span class="s">'marker'</span><span class="p">></span>(b)<span class="p">&lt;/</span><span class="nt">span</span><span class="p">></span> Conditions of Disclosure.— No agency shall disclose...
    <span class="p">&lt;</span><span class="nt">ol</span><span class="p">></span>
      <span class="p">&lt;</span><span class="nt">li</span><span class="p">>&lt;</span><span class="nt">span</span> <span class="na">class</span><span class="o">=</span><span class="s">'marker'</span><span class="p">></span>(1)<span class="p">&lt;/</span><span class="nt">span</span><span class="p">></span> to those officers and employees of the agency...
      <span class="p">&lt;</span><span class="nt">li</span><span class="p">>&lt;</span><span class="nt">span</span> <span class="na">class</span><span class="o">=</span><span class="s">'marker'</span><span class="p">></span>(2)<span class="p">&lt;/</span><span class="nt">span</span><span class="p">></span> required under section 552 of this title;
    <span class="p">&lt;/</span><span class="nt">ol</span><span class="p">></span>
<span class="p">&lt;/</span><span class="nt">ol</span><span class="p">></span>
</pre>
    <p>The preceding document should render something like this:</p>
<pre>(a) Definitions.— For purposes of this section—    <wbr>(1) the term “agency” means agency as...
    (2) the term “individual” means a citizen...
(b) Conditions of Disclosure.— No agency shall disclose...
    (1) to those officers and employees of the agency...
    (2) required under section 552 of this title;
</pre>
    <p>Importantly, even if the stylesheet is unavailable,
		the list markers will appear the same
		(though they will be positioned slightly differently),
		so other documents can refer to those list markers
		and be confident that the reference will always be resolvable.</p>
   </div>
   <h3 class="heading settled" data-level="4.2" id="marker-side"><span class="secno">4.2. </span><span class="content"> The <a class="property" data-link-type="propdesc" href="#propdef-marker-side" id="ref-for-propdef-marker-side">marker-side</a> property</span><a class="self-link" href="#marker-side"></a></h3>
   <p>By default, elements or <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-pseudo-4/#selectordef-marker" id="ref-for-selectordef-marker②⑥">::marker</a> pseudo-elements with <span class="css">position:marker</span> position themselves according to their list item’s directionality.
	However, if the list item is grouped with several other list items which may have different directionality
	(for example, multiple &lt;li>s with different "dir" attributes in an &lt;ol> in HTML),
	it is sometimes more useful to have all the markers line up on one side,
	so the author can specify a single "gutter" on that side
	and be assured that all the markers will lie in that gutter and be visible.
	The <a class="property" data-link-type="propdesc" href="#propdef-marker-side" id="ref-for-propdef-marker-side①">marker-side</a> property defined in this section allows an author to control this,
	switching list items to positioning their markers based off the list container’s directionality instead.</p>
   <table class="def propdef" data-link-for-hint="marker-side">
    <tbody>
     <tr>
      <th>Name:
      <td><dfn class="dfn-paneled css" data-dfn-type="property" data-export="" id="propdef-marker-side">marker-side</dfn>
     <tr class="value">
      <th><a href="https://drafts.csswg.org/css-values/#value-defs">Value:</a>
      <td class="prod">list-item <a data-link-type="grammar" href="https://drafts.csswg.org/css-values-4/#comb-one" id="ref-for-comb-one④">|</a> list-container
     <tr>
      <th><a href="https://drafts.csswg.org/css-cascade/#initial-values">Initial:</a>
      <td>list-item
     <tr>
      <th>Applies to:
      <td><a data-link-type="dfn" href="#list-item" id="ref-for-list-item②⓪">list items</a>
     <tr>
      <th><a href="https://drafts.csswg.org/css-cascade/#inherited-property">Inherited:</a>
      <td>yes
     <tr>
      <th><a href="https://drafts.csswg.org/css-values/#percentages">Percentages:</a>
      <td>n/a
     <tr>
      <th>Media:
      <td>visual
     <tr>
      <th><a href="https://drafts.csswg.org/css-cascade/#computed">Computed value:</a>
      <td>specified value
     <tr>
      <th>Canonical order:
      <td>per grammar
     <tr>
      <th><a href="https://drafts.csswg.org/css-transitions/#animatable-properties">Animation type:</a>
      <td>discrete
   </table>
   <dl>
    <dt><dfn class="dfn-paneled css" data-dfn-for="marker-side" data-dfn-type="value" data-export="" id="valdef-marker-side-list-item">list-item</dfn> 
    <dd> Any <a data-link-type="dfn" href="#associated-marker" id="ref-for-associated-marker">associated markers</a> base their positioning off of the directionality of the list item. 
    <dt><dfn class="css" data-dfn-for="marker-side" data-dfn-type="value" data-export="" id="valdef-marker-side-list-container">list-container<a class="self-link" href="#valdef-marker-side-list-container"></a></dfn> 
    <dd> The <a data-link-type="dfn" href="#associated-marker" id="ref-for-associated-marker①">associated markers</a> instead base their positioning off of the directionality of the list item’s parent element.
			The normative meaning of this is specified in the section defining <a href="#position-marker">position:marker</a>. 
   </dl>
   <div class="example" id="example-142328dd">
    <a class="self-link" href="#example-142328dd"></a> Here is an example of the effect that <a class="property" data-link-type="propdesc" href="#propdef-marker-side" id="ref-for-propdef-marker-side②">marker-side</a> can have on a list.
		Both of the following example renderings are generated from the following HTML,
		with the only difference being the value of <a class="property" data-link-type="propdesc" href="#propdef-marker-side" id="ref-for-propdef-marker-side③">marker-side</a> on the list: 
<pre class="highlight"><span class="p">&lt;</span><span class="nt">ul</span><span class="p">></span>
  <span class="p">&lt;</span><span class="nt">li</span><span class="p">></span>english one
  <span class="p">&lt;</span><span class="nt">li</span> <span class="na">dir</span><span class="o">=</span><span class="s">rtl</span><span class="p">></span>OWT WERBEH
  <span class="p">&lt;</span><span class="nt">li</span><span class="p">></span>english three
  <span class="p">&lt;</span><span class="nt">li</span> <span class="na">dir</span><span class="o">=</span><span class="s">rtl</span><span class="p">></span>RUOF WERBEH
<span class="p">&lt;/</span><span class="nt">ul</span><span class="p">></span>
</pre>
    <table class="data" style="width: 35em;">
     <thead>
      <tr>
       <th>list-item 
       <th>list-container 
     <tbody>
      <tr>
       <td style="border-right: thin solid">
<pre>* english one
     OWT WERBEH *
* english three
    RUOF WERBEH *</pre>
       <td>
<pre>* english one
*    OWT WERBEH
* english three
*   RUOF WERBEH</pre>
    </table>
   </div>
   <h2 class="heading settled" data-level="5" id="auto-numbering"><span class="secno">5. </span><span class="content"> Automatic Numbering With Counters</span><a class="self-link" href="#auto-numbering"></a></h2>
   <p>A <dfn class="dfn-paneled" data-dfn-type="dfn" data-export="" id="counter">counter</dfn> is a special concept
	used, among other things, to automatically number list items in CSS.
	Every element has a collection of zero or more counters,
	which are inherited through the document tree in a way similar to inherited property values.
	They are created and manipulated with the <a class="property" data-link-type="propdesc" href="#propdef-counter-increment" id="ref-for-propdef-counter-increment①">counter-increment</a>, <a class="property" data-link-type="propdesc" href="#propdef-counter-set" id="ref-for-propdef-counter-set">counter-set</a> and <a class="property" data-link-type="propdesc" href="#propdef-counter-reset" id="ref-for-propdef-counter-reset">counter-reset</a> properties,
	and used with the <a class="css" data-link-type="maybe" href="#funcdef-counter" id="ref-for-funcdef-counter">counter()</a> and <a class="css" data-link-type="maybe" href="#funcdef-counters" id="ref-for-funcdef-counters">counters()</a> functions.
	Counters have a name,
	an integer value,
	a creator element,
	and possibly another counter nested inside themselves.</p>
   <h3 class="heading settled" data-level="5.1" id="counter-properties"><span class="secno">5.1. </span><span class="content"> Manipulating Counters: the <a class="property" data-link-type="propdesc" href="#propdef-counter-increment" id="ref-for-propdef-counter-increment②">counter-increment</a>, <a class="property" data-link-type="propdesc" href="#propdef-counter-set" id="ref-for-propdef-counter-set①">counter-set</a> and <a class="property" data-link-type="propdesc" href="#propdef-counter-reset" id="ref-for-propdef-counter-reset①">counter-reset</a> properties</span><a class="self-link" href="#counter-properties"></a></h3>
   <table class="def propdef" data-link-for-hint="counter-reset">
    <tbody>
     <tr>
      <th>Name:
      <td><dfn class="dfn-paneled css" data-dfn-type="property" data-export="" id="propdef-counter-reset">counter-reset</dfn>
     <tr class="value">
      <th><a href="https://drafts.csswg.org/css-values/#value-defs">Value:</a>
      <td class="prod">[ <a class="production css" data-link-type="type" href="https://drafts.csswg.org/css-values-4/#identifier-value" id="ref-for-identifier-value">&lt;custom-ident></a> <a class="production css" data-link-type="type" href="https://drafts.csswg.org/css-values-3/#integer-value" id="ref-for-integer-value">&lt;integer></a><a data-link-type="grammar" href="https://drafts.csswg.org/css-values-4/#mult-opt" id="ref-for-mult-opt">?</a> ]<a data-link-type="grammar" href="https://drafts.csswg.org/css-values-4/#mult-one-plus" id="ref-for-mult-one-plus">+</a> <a data-link-type="grammar" href="https://drafts.csswg.org/css-values-4/#comb-one" id="ref-for-comb-one⑤">|</a> none
     <tr>
      <th><a href="https://drafts.csswg.org/css-cascade/#initial-values">Initial:</a>
      <td>none
     <tr>
      <th>Applies to:
      <td><a href="https://drafts.csswg.org/css-pseudo/#generated-content" title="Includes ::before and ::after pseudo-elements.">all elements</a>
     <tr>
      <th><a href="https://drafts.csswg.org/css-cascade/#inherited-property">Inherited:</a>
      <td>no
     <tr>
      <th><a href="https://drafts.csswg.org/css-values/#percentages">Percentages:</a>
      <td>n/a
     <tr>
      <th>Media:
      <td>all
     <tr>
      <th><a href="https://drafts.csswg.org/css-cascade/#computed">Computed value:</a>
      <td>specified value
     <tr>
      <th>Canonical order:
      <td>per grammar
     <tr>
      <th><a href="https://drafts.csswg.org/css-transitions/#animatable-properties">Animation type:</a>
      <td>discrete
   </table>
   <p>The <a class="property" data-link-type="propdesc" href="#propdef-counter-reset" id="ref-for-propdef-counter-reset②">counter-reset</a> property <a data-link-type="dfn" href="#create-a-new-counter" id="ref-for-create-a-new-counter">creates new counters</a> on an element.
	Its values are defined as follows:</p>
   <dl>
    <dt><dfn class="css" data-dfn-for="counter-reset" data-dfn-type="value" data-export="" id="valdef-counter-reset-none">none<a class="self-link" href="#valdef-counter-reset-none"></a></dfn> 
    <dd> This element does not create any new counters. 
    <dt><dfn class="css" data-dfn-for="counter-reset" data-dfn-type="value" data-export="" id="valdef-counter-reset-custom-ident-integer"><a class="production css" data-link-type="type" href="https://drafts.csswg.org/css-values-4/#identifier-value" id="ref-for-identifier-value①">&lt;custom-ident></a> <a class="production css" data-link-type="type" href="https://drafts.csswg.org/css-values-3/#integer-value" id="ref-for-integer-value①">&lt;integer></a>?<a class="self-link" href="#valdef-counter-reset-custom-ident-integer"></a></dfn> 
    <dd>
      The element <a data-link-type="dfn" href="#create-a-new-counter" id="ref-for-create-a-new-counter①">creates one or more new counters</a>.
			Each <a class="production css" data-link-type="type" href="https://drafts.csswg.org/css-values-4/#identifier-value" id="ref-for-identifier-value②">&lt;custom-ident></a> names a new counter to be created. 
     <p>If an <a class="production css" data-link-type="type" href="https://drafts.csswg.org/css-values-3/#integer-value" id="ref-for-integer-value②">&lt;integer></a> is provided after an <a class="production css" data-link-type="type" href="https://drafts.csswg.org/css-values-4/#identifier-value" id="ref-for-identifier-value③">&lt;custom-ident></a>,
			the starting value of the new counter is that integer.
			Otherwise, the starting value of the new counter is <span class="css">0</span>.</p>
     <p>Implementations may have implementation-specific limits
			on the maximum or minimum value of a counter.
			If an increment would push the counter’s value beyond these limits,
			the increment must be ignored,
			and the counter’s value remain unchanged.</p>
   </dl>
   <table class="def propdef" data-link-for-hint="counter-set">
    <tbody>
     <tr>
      <th>Name:
      <td><dfn class="dfn-paneled css" data-dfn-type="property" data-export="" id="propdef-counter-set">counter-set</dfn>
     <tr class="value">
      <th><a href="https://drafts.csswg.org/css-values/#value-defs">Value:</a>
      <td class="prod">[ <a class="production css" data-link-type="type" href="https://drafts.csswg.org/css-values-4/#identifier-value" id="ref-for-identifier-value④">&lt;custom-ident></a> <a class="production css" data-link-type="type" href="https://drafts.csswg.org/css-values-3/#integer-value" id="ref-for-integer-value③">&lt;integer></a><a data-link-type="grammar" href="https://drafts.csswg.org/css-values-4/#mult-opt" id="ref-for-mult-opt①">?</a> ]<a data-link-type="grammar" href="https://drafts.csswg.org/css-values-4/#mult-one-plus" id="ref-for-mult-one-plus①">+</a> <a data-link-type="grammar" href="https://drafts.csswg.org/css-values-4/#comb-one" id="ref-for-comb-one⑥">|</a> none
     <tr>
      <th><a href="https://drafts.csswg.org/css-cascade/#initial-values">Initial:</a>
      <td>none
     <tr>
      <th>Applies to:
      <td><a href="https://drafts.csswg.org/css-pseudo/#generated-content" title="Includes ::before and ::after pseudo-elements.">all elements</a>
     <tr>
      <th><a href="https://drafts.csswg.org/css-cascade/#inherited-property">Inherited:</a>
      <td>no
     <tr>
      <th><a href="https://drafts.csswg.org/css-values/#percentages">Percentages:</a>
      <td>n/a
     <tr>
      <th>Media:
      <td>all
     <tr>
      <th><a href="https://drafts.csswg.org/css-cascade/#computed">Computed value:</a>
      <td>specified value
     <tr>
      <th>Canonical order:
      <td>per grammar
     <tr>
      <th><a href="https://drafts.csswg.org/css-transitions/#animatable-properties">Animation type:</a>
      <td>discrete
   </table>
   <table class="def propdef" data-link-for-hint="counter-increment">
    <tbody>
     <tr>
      <th>Name:
      <td><dfn class="dfn-paneled css" data-dfn-type="property" data-export="" id="propdef-counter-increment">counter-increment</dfn>
     <tr class="value">
      <th><a href="https://drafts.csswg.org/css-values/#value-defs">Value:</a>
      <td class="prod">[ <a class="production css" data-link-type="type" href="https://drafts.csswg.org/css-values-4/#identifier-value" id="ref-for-identifier-value⑤">&lt;custom-ident></a> <a class="production css" data-link-type="type" href="https://drafts.csswg.org/css-values-3/#integer-value" id="ref-for-integer-value④">&lt;integer></a><a data-link-type="grammar" href="https://drafts.csswg.org/css-values-4/#mult-opt" id="ref-for-mult-opt②">?</a> ]<a data-link-type="grammar" href="https://drafts.csswg.org/css-values-4/#mult-one-plus" id="ref-for-mult-one-plus②">+</a> <a data-link-type="grammar" href="https://drafts.csswg.org/css-values-4/#comb-one" id="ref-for-comb-one⑦">|</a> none
     <tr>
      <th><a href="https://drafts.csswg.org/css-cascade/#initial-values">Initial:</a>
      <td>none
     <tr>
      <th>Applies to:
      <td><a href="https://drafts.csswg.org/css-pseudo/#generated-content" title="Includes ::before and ::after pseudo-elements.">all elements</a>
     <tr>
      <th><a href="https://drafts.csswg.org/css-cascade/#inherited-property">Inherited:</a>
      <td>no
     <tr>
      <th><a href="https://drafts.csswg.org/css-values/#percentages">Percentages:</a>
      <td>n/a
     <tr>
      <th>Media:
      <td>all
     <tr>
      <th><a href="https://drafts.csswg.org/css-cascade/#computed">Computed value:</a>
      <td>specified value
     <tr>
      <th>Canonical order:
      <td>per grammar
     <tr>
      <th><a href="https://drafts.csswg.org/css-transitions/#animatable-properties">Animation type:</a>
      <td>discrete
   </table>
   <p>The <a class="property" data-link-type="propdesc" href="#propdef-counter-set" id="ref-for-propdef-counter-set②">counter-set</a> and <a class="property" data-link-type="propdesc" href="#propdef-counter-increment" id="ref-for-propdef-counter-increment③">counter-increment</a> properties
	manipulate the value of existing counters.
	They only create new counters if there is no counter of the given name on the element yet.
	Their values are defined as follows:</p>
   <dl>
    <dt><dfn class="css" data-dfn-for="counter-set counter-increment" data-dfn-type="value" data-export="" id="valdef-counter-set-counter-increment-none">none<a class="self-link" href="#valdef-counter-set-counter-increment-none"></a></dfn> 
    <dd> This element does not alter the value of any counters. 
    <dt><dfn class="css" data-dfn-for="counter-set counter-increment" data-dfn-type="value" data-export="" id="valdef-counter-set-counter-increment-custom-ident-integer"><a class="production css" data-link-type="type" href="https://drafts.csswg.org/css-values-4/#identifier-value" id="ref-for-identifier-value⑥">&lt;custom-ident></a> <a class="production css" data-link-type="type" href="https://drafts.csswg.org/css-values-3/#integer-value" id="ref-for-integer-value⑤">&lt;integer></a>?<a class="self-link" href="#valdef-counter-set-counter-increment-custom-ident-integer"></a></dfn> 
    <dd>
      The element alters the value of one or more counters on it.
			If there is not currently a counter of the given name on the element,
			the element <a data-link-type="dfn" href="#create-a-new-counter" id="ref-for-create-a-new-counter②">creates a new counter</a> of the given name
			with a starting value of <span class="css">0</span> (though it may then immediately set or increment that value to something different). 
     <p>If an <a class="production css" data-link-type="type" href="https://drafts.csswg.org/css-values-3/#integer-value" id="ref-for-integer-value⑥">&lt;integer></a> is provided after an <a class="production css" data-link-type="type" href="https://drafts.csswg.org/css-values-4/#identifier-value" id="ref-for-identifier-value⑦">&lt;custom-ident></a>,
			it sets the innermost counter of the given name’s value to that integer (for <a class="property" data-link-type="propdesc" href="#propdef-counter-set" id="ref-for-propdef-counter-set③">counter-set</a>)
			or increments the value of the innermost counter of the given name by that integer (for <a class="property" data-link-type="propdesc" href="#propdef-counter-increment" id="ref-for-propdef-counter-increment④">counter-increment</a>).
			Otherwise,
			the innermost counter of the given name’s value is set to <span class="css">0</span> (for <a class="property" data-link-type="propdesc" href="#propdef-counter-set" id="ref-for-propdef-counter-set④">counter-set</a>)
			or incremented by <span class="css">1</span> (for <a class="property" data-link-type="propdesc" href="#propdef-counter-increment" id="ref-for-propdef-counter-increment⑤">counter-increment</a>).</p>
   </dl>
   <div class="example" id="example-53e21535">
    <a class="self-link" href="#example-53e21535"></a> 
    <p>This example shows a way to number chapters and sections with "Chapter 1", "1.1", "1.2", etc. </p>
<pre class="highlight"><span class="nt">h1::before </span><span class="p">{</span>
    <span class="k">content</span><span class="p">:</span> <span class="s">"Chapter "</span> <span class="nf">counter</span><span class="p">(</span>chapter<span class="p">)</span> <span class="s">". "</span><span class="p">;</span>
    <span class="k">counter-increment</span><span class="p">:</span> chapter<span class="p">;</span>  <span class="c">/* Add 1 to chapter */</span>
    <span class="k">counter-reset</span><span class="p">:</span> section<span class="p">;</span>      <span class="c">/* Set section to 0 */</span>
<span class="p">}</span>
<span class="nt">h2::before </span><span class="p">{</span>
    <span class="k">content</span><span class="p">:</span> <span class="nf">counter</span><span class="p">(</span>chapter<span class="p">)</span> <span class="s">"."</span> <span class="nf">counter</span><span class="p">(</span>section<span class="p">)</span> <span class="s">" "</span><span class="p">;</span>
    <span class="k">counter-increment</span><span class="p">:</span> section<span class="p">;</span>
<span class="p">}</span>
</pre>
   </div>
   <p>Inheriting counters must be done <em>before</em> resetting counters,
	which must be done <em>before</em> setting counters,
	which must be done <em>before</em> incrementing counters,
	which must be done <em>before</em> using counters
	(for example, in the <a class="property" data-link-type="propdesc" href="https://drafts.csswg.org/css-content-3/#propdef-content" id="ref-for-propdef-content①">content</a> property).</p>
   <div class="note" role="note">
     The counter properties follow the cascading rules as normal.
		Thus, due to cascading, the following style sheet: 
    <div class="example" id="example-d9b9d1e1">
     <a class="self-link" href="#example-d9b9d1e1"></a> 
<pre class="highlight"><span class="nt">h1 </span><span class="p">{</span> <span class="k">counter-reset</span><span class="p">:</span> section <span class="m">-1</span> <span class="p">}</span>
<span class="nt">h1 </span><span class="p">{</span> <span class="k">counter-reset</span><span class="p">:</span> imagenum <span class="m">99</span> <span class="p">}</span>
</pre>
    </div>
    <p>will only reset <span class="css">imagenum</span>.
		To reset both counters,
		they have to be specified together:</p>
    <div class="example" id="example-8e208b6b">
     <a class="self-link" href="#example-8e208b6b"></a> 
<pre class="highlight"><span class="nt">H1 </span><span class="p">{</span> <span class="k">counter-reset</span><span class="p">:</span> section <span class="m">-1</span> imagenum <span class="m">99</span> <span class="p">}</span></pre>
    </div>
    <p>The same principles apply to the <a class="property" data-link-type="propdesc" href="#propdef-counter-set" id="ref-for-propdef-counter-set⑤">counter-set</a> and <a class="property" data-link-type="propdesc" href="#propdef-counter-increment" id="ref-for-propdef-counter-increment⑥">counter-increment</a> properties.</p>
   </div>
   <h3 class="heading settled" data-level="5.2" id="creating-counters"><span class="secno">5.2. </span><span class="content"> Creating and Inheriting Counters</span><a class="self-link" href="#creating-counters"></a></h3>
   <p>Every element has a (possibly empty) set of counters.
	Like many other CSS values,
	an element can inherit counters from another element.
	However, unlike other CSS values,
	the method that counters are inherited is somewhat complex.
	A counter and its value are inherited <em>separately</em>,
	possibly from different elements.</p>
   <p>If an element has a previous sibling,
	it must inherit all of the sibling’s counters.
	Otherwise, if the element has a parent,
	it must inherit all of the parent’s counters.
	Otherwise, the element must have an empty set of counters.</p>
   <p>The element then inherits counter <em>values</em> from the immediately preceding element <strong>in document order</strong>.
	This must be done by examining the set of counters that the immediately preceding element has,
	and, for every counter that exists in both the element’s set and the preceding element’s set,
	giving the element’s counter the same value.
	(If an element is the first element in the document,
	and thus has no immediately preceding element,
	it also doesn’t have a parent or a previous sibling,
	and thus no counters to begin with.)</p>
   <div class="example" id="counter-inheritance-example">
    <a class="self-link" href="#counter-inheritance-example"></a> Take the following code as an example: 
<pre class="highlight"><span class="p">&lt;</span><span class="nt">ul</span> <span class="na">style</span><span class="o">=</span><span class="s">'counter-reset: example 0;'</span><span class="p">></span>
  <b class="foo"><span class="p">&lt;</span><span class="nt">li</span> <span class="na">id</span><span class="o">=</span><span class="s">'foo'</span> <span class="na">style</span><span class="o">=</span><span class="s">'counter-increment: example;'</span><span class="p">></span></b>
    foo
    <b class="bar"><span class="p">&lt;</span><span class="nt">div</span> <span class="na">id</span><span class="o">=</span><span class="s">'bar'</span> <span class="na">style</span><span class="o">=</span><span class="s">'counter-increment: example;'</span><span class="p">></span>bar<span class="p">&lt;/</span><span class="nt">div</span><span class="p">></span></b>
  <span class="p">&lt;/</span><span class="nt">li</span><span class="p">></span>
  <b class="baz"><span class="p">&lt;</span><span class="nt">li</span> <span class="na">id</span><span class="o">=</span><span class="s">'baz'</span><span class="p">></span></b>
    baz
  <span class="p">&lt;/</span><span class="nt">li</span><span class="p">></span>
<span class="p">&lt;/</span><span class="nt">ul</span><span class="p">></span>
</pre>
    <p>Recall that "in document order" turns a document tree into an ordered list,
		where an element comes before its children,
		and its children come before its next sibling.
		In other words,
		for a language like HTML,
		its the order in which the parser encounters start tags as it reads the document.</p>
    <p>In here, the <code>&lt;ul></code> element establishes a new counter named "example",
		and sets its value to 0.
		The <b class="foo">"foo"</b> element, being the first child of the <code>&lt;ul></code>,
		inherits this counter.
		Its parent is also its immediately preceding element in document order,
		so it inherits the value 0 with it,
		and then immediately increments the value to 1.</p>
    <p>The same happens with the <b class="bar">"bar"</b> element.
		It inherits the "example" counter from <b class="foo">"foo"</b>,
		and inherits the value 1 from it as well
		and increments it to 2.</p>
    <p>However, the <b class="baz">"baz"</b> element is a bit different.
		It inherits the "example" counter from the <b class="foo">"foo"</b> element,
		its previous sibling.
		However, rather than inheriting the value 1 from <b class="foo">"foo"</b> along with the counter,
		in inherits the value 2 from <b class="bar">"bar"</b>, the previous element in document order.</p>
    <p>This behavior allows a single counter to be used throughout a document,
		continuously incrementing,
		without the author having to worry about the nested structure of their document.</p>
   </div>
   <p>Elements can create additional counters on themselves,
	which can then be passed onto siblings or children.
	To <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport="" id="create-a-new-counter">create a new counter</dfn>,
	specify an element that’s creating it,
	a name,
	and a starting value.
	The effect depends on what other counters of that name exist on the element:</p>
   <ul>
    <li> If no counters of that name exist on the element,
			create a new counter with that name on the element. 
    <li> Otherwise, if a counter of that name exists on the element,
			and it was created by a preceding sibling,
			replace the innermost counter of that name on the element
			with a newly-created counter with that name. 
    <li> Otherwise, create a new counter with that name
			and nest it inside of the innermost counter with that name. 
   </ul>
   <p>Regardless, the value of the new counter is set to the provided starting value.</p>
   <h3 class="heading settled" data-level="5.3" id="nested-counters"><span class="secno">5.3. </span><span class="content"> Nested Counters</span><a class="self-link" href="#nested-counters"></a></h3>
   <p>Counters are "self-nesting"; <a data-link-type="dfn" href="#create-a-new-counter" id="ref-for-create-a-new-counter③">creating a new counter</a> in an element
	which already has a counter with the same name
	simply creates a new counter of the same name,
	nested inside the existing counter.
	This is important for situations like lists in HTML,
	where lists can be nested inside lists to arbitrary depth.
	It would be impossible to define uniquely named counters for each level.
	As explained in a later section,
	the <a class="css" data-link-type="maybe" href="#funcdef-counter" id="ref-for-funcdef-counter①">counter()</a> function only uses the innermost counter of a given name on the element,
	but the <a class="css" data-link-type="maybe" href="#funcdef-counters" id="ref-for-funcdef-counters①">counters()</a> function uses all counters of a given name that contain the element.</p>
   <div class="example" id="example-9242dc2d">
    <a class="self-link" href="#example-9242dc2d"></a> Thus, the following suffices to number nested list items.
		The result is very similar to that of setting <span class="css">display:list-item</span> and <a class="css" data-link-type="propdesc" href="#propdef-list-style" id="ref-for-propdef-list-style⑤">list-style: inside</a> on the LI element: 
<pre class="highlight"><span class="nt">ol </span><span class="p">{</span> <span class="k">counter-reset</span><span class="p">:</span> item <span class="p">}</span>
<span class="nt">li </span><span class="p">{</span> <span class="k">display</span><span class="p">:</span> block <span class="p">}</span>
<span class="nt">li::before </span><span class="p">{</span> <span class="k">content</span><span class="p">:</span> <span class="nf">counter</span><span class="p">(</span>item<span class="p">)</span> <span class="s">". "</span><span class="p">;</span> <span class="k">counter-increment</span><span class="p">:</span> item <span class="p">}</span>
</pre>
    <p>In this example,
		an <a data-link-type="element" href="https://html.spec.whatwg.org/multipage/grouping-content.html#the-ol-element" id="ref-for-the-ol-element①">ol</a> will create a counter,
		and all children of the <a data-link-type="element" href="https://html.spec.whatwg.org/multipage/grouping-content.html#the-ol-element" id="ref-for-the-ol-element②">ol</a> will refer to that counter.</p>
   </div>
   <div class="example" id="counter-nesting-example">
    <a class="self-link" href="#counter-nesting-example"></a> 
    <p>If we denote the <var>n</var><sup>th</sup> instance of the "item" counter by item[<var>n</var>],
		then the following HTML fragment will use the indicated counters.
		(We assume the style sheet as given in the example above).</p>
    <div class="ol">
     <div class="ol">
      <code>&lt;ol></code> item[0] is created, set to 0 
      <div class="li"><code>&lt;li></code> item[0] is incremented to 1</div>
      <div class="li">
       <code>&lt;li></code> item[0] is incremented to 2 
       <div class="ol">
        <code>&lt;ol></code> item[1] is created, set to 0, nested in item[0] 
        <div class="li"><code>&lt;li></code> item[1] is incremented to 1</div>
        <div class="li"><code>&lt;li></code> item[1] is incremented to 2</div>
        <div class="li">
         <code>&lt;li></code> item[1] is incremented to 3 
         <div class="ol">
          <code>&lt;ol></code> item[2] is created, set to 0, nested in item[1] 
          <div class="li"><code>&lt;li></code> item[2] is incremented to 1</div>
         </div>
        </div>
        <div class="li">
         <code>&lt;li></code> item[1] is incremented to 4 
         <div class="ol">
          <code>&lt;ol></code> item[3] is created, set to 0, nested in item[1] 
          <div class="li"><code>&lt;li></code> item[3] is incremented to 1</div>
         </div>
        </div>
        <div class="li"><code>&lt;li></code> item[1] is incremented to 5</div>
       </div>
      </div>
      <div class="li"><code>&lt;li></code> item[0] is incremented to 3</div>
      <div class="li"><code>&lt;li></code> item[0] is incremented to 4</div>
     </div>
     <div class="ol">
      <code>&lt;ol></code> item[4] is created, set to 0 
      <div class="li"><code>&lt;li></code> item[4] is incremented to 1</div>
      <div class="li"><code>&lt;li></code> item[4] is incremented to 2</div>
     </div>
    </div>
   </div>
   <h3 class="heading settled" data-level="5.4" id="counters-without-boxes"><span class="secno">5.4. </span><span class="content"> Counters in elements that do not generate boxes</span><a class="self-link" href="#counters-without-boxes"></a></h3>
   <p>An element that does not generate a box
	(for example, an element with <a class="property" data-link-type="propdesc" href="https://drafts.csswg.org/css-display-3/#propdef-display" id="ref-for-propdef-display③">display</a> set to <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-display-3/#valdef-display-none" id="ref-for-valdef-display-none">none</a>, or a pseudo-element with <a class="property" data-link-type="propdesc" href="https://drafts.csswg.org/css-content-3/#propdef-content" id="ref-for-propdef-content②">content</a> set to <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-content-3/#valdef-content-none" id="ref-for-valdef-content-none①">none</a>)
	cannot set, reset, or increment  a counter.
	The counter properties are still valid on such an element,
	but they must have no effect.</p>
   <div class="example" id="example-c5fac409">
    <a class="self-link" href="#example-c5fac409"></a> For example, with the following style sheet,
			H2s with class "secret" do not increment <span class="css">count2</span>. 
<pre class="highlight"><span class="nt">h2 </span><span class="p">{</span> <span class="k">counter-increment</span><span class="p">:</span> count2<span class="p">;</span> <span class="p">}</span>
<span class="nt">h2.secret </span><span class="p">{</span> <span class="k">display</span><span class="p">:</span> none<span class="p">;</span> <span class="p">}</span>
</pre>
   </div>
   <p>Other methods of "hiding" elements,
	such as setting <a class="property" data-link-type="propdesc" href="https://drafts.csswg.org/css2/visufx.html#propdef-visibility" id="ref-for-propdef-visibility">visibility</a> to <span class="css">hidden</span>,
	still cause the element to generate a box,
	and so do not apply here.</p>
   <h3 class="heading settled" data-level="5.5" id="counter-functions"><span class="secno">5.5. </span><span class="content"> Outputting Counters: the <a class="css" data-link-type="maybe" href="#funcdef-counter" id="ref-for-funcdef-counter②">counter()</a> and <a class="css" data-link-type="maybe" href="#funcdef-counters" id="ref-for-funcdef-counters②">counters()</a> functions</span><a class="self-link" href="#counter-functions"></a></h3>
   <p>Counters have no visible effect by themselves,
	but their values can be used with the <a class="css" data-link-type="maybe" href="#funcdef-counter" id="ref-for-funcdef-counter③">counter()</a> and <a class="css" data-link-type="maybe" href="#funcdef-counters" id="ref-for-funcdef-counters③">counters()</a> functions.
	This happens automatically in <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-pseudo-4/#selectordef-marker" id="ref-for-selectordef-marker②⑦">::marker</a> pseudo-elements,
	but can be used by an author anywhere that accepts a <a class="production css" data-link-type="type" href="https://drafts.csswg.org/css-values-3/#string-value" id="ref-for-string-value⑤">&lt;string></a>.  Their syntax is:</p>
<pre><dfn class="dfn-paneled" data-dfn-type="function" data-export="" id="funcdef-counter">counter()</dfn>  =  counter( <a class="production" data-link-type="type" href="https://drafts.csswg.org/css-values-4/#typedef-ident" id="ref-for-typedef-ident">&lt;ident></a>, [ <a class="production" data-link-type="type" href="https://drafts.csswg.org/css-counter-styles-3/#typedef-counter-style" id="ref-for-typedef-counter-style⑥" title="Expands to: simp-chinese-formal | simp-chinese-informal | japanese-informal | trad-chinese-formal | cjk-ideographic | japanese-formal | trad-chinese-informal">&lt;counter-style></a> | none ]? )
<dfn class="dfn-paneled" data-dfn-type="function" data-export="" id="funcdef-counters">counters()</dfn> = counters( <a class="production" data-link-type="type" href="https://drafts.csswg.org/css-values-4/#typedef-ident" id="ref-for-typedef-ident①">&lt;ident></a>, <a class="production" data-link-type="type" href="https://drafts.csswg.org/css-values-3/#string-value" id="ref-for-string-value⑥">&lt;string></a>, [ <a class="production" data-link-type="type" href="https://drafts.csswg.org/css-counter-styles-3/#typedef-counter-style" id="ref-for-typedef-counter-style⑦" title="Expands to: simp-chinese-formal | simp-chinese-informal | japanese-informal | trad-chinese-formal | cjk-ideographic | japanese-formal | trad-chinese-informal">&lt;counter-style></a> | none ]? )
</pre>
   <p>For both functions, the first argument represents the name of a counter,
	and if the last argument is omitted it defaults to <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-counter-styles-3/#decimal" id="ref-for-decimal">decimal</a>.</p>
   <p>A <a class="css" data-link-type="maybe" href="#funcdef-counter" id="ref-for-funcdef-counter④">counter()</a> represents a <a class="production css" data-link-type="type" href="https://drafts.csswg.org/css-values-3/#string-value" id="ref-for-string-value⑦">&lt;string></a>,
	obtained as follows:</p>
   <ul>
    <li> If the second argument to the function is <span class="css">none</span>,
			the function represents the empty string. 
    <li> Otherwise, the function represents the string returned when one <a data-link-type="dfn" href="https://drafts.csswg.org/css-counter-styles-3/#generate-a-counter" id="ref-for-generate-a-counter①">generates a counter representation</a> for the value of the innermost counter of that name on the element
			(or <span class="css">0</span> if the element has no counter of that name)
			using the <a class="production css" data-link-type="type" href="https://drafts.csswg.org/css-counter-styles-3/#typedef-counter-style" id="ref-for-typedef-counter-style⑧" title="Expands to: simp-chinese-formal | simp-chinese-informal | japanese-informal | trad-chinese-formal | cjk-ideographic | japanese-formal | trad-chinese-informal">&lt;counter-style></a> specified by the second argument. 
   </ul>
   <div class="example" id="example-ae4a3d87">
    <a class="self-link" href="#example-ae4a3d87"></a> 
<pre>H1::before        { content: counter(chno, upper-latin) ". " }
/* Generates headings like "A. A History of Discontent" */

H2::before        { content: counter(section, upper-roman) " - " }
/* Generates headings like "II - The Discontent Part" */

BLOCKQUOTE::after { content: " [" counter(bq, decimal) "]" }
/* Generates blockquotes that end like "... [3]" */

DIV.note::before  { content: counter(notecntr, disc) " " }
/* Simply generates a bullet before every div.note */

P::before         { content: counter(p, none) }
/* inserts nothing */
</pre>
   </div>
   <p>A <a class="css" data-link-type="maybe" href="#funcdef-counters" id="ref-for-funcdef-counters④">counters()</a> represents a <a class="production css" data-link-type="type" href="https://drafts.csswg.org/css-values-3/#string-value" id="ref-for-string-value⑧">&lt;string></a>,
	obtained as follows:</p>
   <ul>
    <li> If the third argument to the function is <span class="css">none</span>,
			the function represents the empty string. 
    <li> Otherwise, if the element has no counters of that name,
			the function represents the string returned when one <a data-link-type="dfn" href="https://drafts.csswg.org/css-counter-styles-3/#generate-a-counter" id="ref-for-generate-a-counter②">generates a counter representation</a> for <span class="css">0</span> using the <a class="production css" data-link-type="type" href="https://drafts.csswg.org/css-counter-styles-3/#typedef-counter-style" id="ref-for-typedef-counter-style⑨" title="Expands to: simp-chinese-formal | simp-chinese-informal | japanese-informal | trad-chinese-formal | cjk-ideographic | japanese-formal | trad-chinese-informal">&lt;counter-style></a> specified by the third argument. 
    <li> Otherwise, if the element has a single counter of that name,
			the function represents the string returned when one <a data-link-type="dfn" href="https://drafts.csswg.org/css-counter-styles-3/#generate-a-counter" id="ref-for-generate-a-counter③">generates a counter representation</a> for that counter’s value
			using the <a class="production css" data-link-type="type" href="https://drafts.csswg.org/css-counter-styles-3/#typedef-counter-style" id="ref-for-typedef-counter-style①⓪" title="Expands to: simp-chinese-formal | simp-chinese-informal | japanese-informal | trad-chinese-formal | cjk-ideographic | japanese-formal | trad-chinese-informal">&lt;counter-style></a> specified by the third argument. 
    <li> Otherwise, <a data-link-type="dfn" href="https://drafts.csswg.org/css-counter-styles-3/#generate-a-counter" id="ref-for-generate-a-counter④">generate a counter representation</a> for the values of all counters of the given name on the element
			using the <a class="production css" data-link-type="type" href="https://drafts.csswg.org/css-counter-styles-3/#typedef-counter-style" id="ref-for-typedef-counter-style①①" title="Expands to: simp-chinese-formal | simp-chinese-informal | japanese-informal | trad-chinese-formal | cjk-ideographic | japanese-formal | trad-chinese-informal">&lt;counter-style></a> specified by the third argument.
			Sort the resulting strings by the nesting depth of the counters they were generated from,
			with the outermost counter first and the innermost last.
			Join the list into a single string,
			inserting the <a class="production css" data-link-type="type" href="https://drafts.csswg.org/css-values-3/#string-value" id="ref-for-string-value⑨">&lt;string></a> specified by the second argument between each item in the list.
			The function represents the string thus produced. 
   </ul>
   <p class="issue" id="issue-cb178caa"><a class="self-link" href="#issue-cb178caa"></a> Counter representations don’t have to be strings,
	they can be images sometimes instead.
	What to do?</p>
   <div class="example" id="example-97bb6a76">
    <a class="self-link" href="#example-97bb6a76"></a> The following example shows a simple use of the <a class="css" data-link-type="maybe" href="#funcdef-counters" id="ref-for-funcdef-counters⑤">counters()</a> function: 
<pre class="highlight"><span class="p">&lt;</span><span class="nt">ul</span><span class="p">></span>
  <span class="p">&lt;</span><span class="nt">li</span><span class="p">></span>one<span class="p">&lt;/</span><span class="nt">li</span><span class="p">></span>
  <span class="p">&lt;</span><span class="nt">li</span><span class="p">></span>two
    <span class="p">&lt;</span><span class="nt">ul</span><span class="p">></span>
      <span class="p">&lt;</span><span class="nt">li</span><span class="p">></span>nested one<span class="p">&lt;/</span><span class="nt">li</span><span class="p">></span>
      <span class="p">&lt;</span><span class="nt">li</span><span class="p">></span>nested two<span class="p">&lt;/</span><span class="nt">li</span><span class="p">></span>
    <span class="p">&lt;/</span><span class="nt">ul</span><span class="p">></span>
  <span class="p">&lt;/</span><span class="nt">li</span><span class="p">></span>
  <span class="p">&lt;</span><span class="nt">li</span><span class="p">></span>three<span class="p">&lt;/</span><span class="nt">li</span><span class="p">></span>
<span class="p">&lt;/</span><span class="nt">ul</span><span class="p">></span>
<span class="p">&lt;</span><span class="nt">style</span><span class="p">></span>
<span class="nt">ul</span> <span class="p">{</span> <span class="k">counter-reset</span><span class="p">:</span> <span class="kc">list-item</span><span class="p">;</span> <span class="p">}</span>
<span class="nt">li</span> <span class="p">{</span> <span class="k">counter-increment</span><span class="p">:</span> <span class="kc">list-item</span><span class="p">;</span> <span class="p">}</span>
<span class="nt">li</span><span class="p">::</span><span class="nd">marker</span> <span class="p">{</span> <span class="k">content</span><span class="p">:</span> <span class="s1">'('</span> <span class="nf">counters</span><span class="p">(</span><span class="kc">list-item</span><span class="p">,</span><span class="s1">'.'</span><span class="p">)</span> <span class="s1">') '</span><span class="p">;</span> <span class="p">}</span>
<span class="p">&lt;/</span><span class="nt">style</span><span class="p">></span>
</pre>
    <p>The preceding document should render something like this:</p>
<pre>(1) one
(2) two
   (2.1) nested one
   (2.2) nested two
(3) three
</pre>
   </div>
   <div class="example" id="example-ef06c2fe">
    <a class="self-link" href="#example-ef06c2fe"></a> Because counters inherit to siblings as well,
		they can be used to number headings and subheadings,
		which aren’t nested within each other.
		Unfortunately,
		this prevents the use of <a class="css" data-link-type="maybe" href="#funcdef-counters" id="ref-for-funcdef-counters⑥">counters()</a> as counters from siblings don’t nest,
		but one can create multiple counters and manually concatenate them instead: 
<pre class="highlight"><span class="p">&lt;</span><span class="nt">h1</span><span class="p">></span>First H1<span class="p">&lt;/</span><span class="nt">h1</span><span class="p">></span>
...
<span class="p">&lt;</span><span class="nt">h2</span><span class="p">></span>First H2 in H1<span class="p">&lt;/</span><span class="nt">h2</span><span class="p">></span>
...
<span class="p">&lt;</span><span class="nt">h2</span><span class="p">></span>Second H2 in H1<span class="p">&lt;/</span><span class="nt">h2</span><span class="p">></span>
...
<span class="p">&lt;</span><span class="nt">h3</span><span class="p">></span>First H3 in H2<span class="p">&lt;/</span><span class="nt">h3</span><span class="p">></span>
...
<span class="p">&lt;</span><span class="nt">h1</span><span class="p">></span>Second H1<span class="p">&lt;/</span><span class="nt">h1</span><span class="p">></span>
...
<span class="p">&lt;</span><span class="nt">h2</span><span class="p">></span>First H2 in H1<span class="p">&lt;/</span><span class="nt">h2</span><span class="p">></span>
...
<span class="p">&lt;</span><span class="nt">style</span><span class="p">></span>
<span class="nt">body</span> <span class="p">{</span> <span class="k">counter-reset</span><span class="p">:</span> <span class="n">h1</span> <span class="n">h2</span> <span class="n">h3</span><span class="p">;</span> <span class="p">}</span>
<span class="nt">h1</span>   <span class="p">{</span> <span class="k">counter-increment</span><span class="p">:</span> <span class="n">h1</span><span class="p">;</span> <span class="k">counter-reset</span><span class="p">:</span> <span class="n">h2</span> <span class="n">h3</span><span class="p">;}</span>
<span class="nt">h2</span>   <span class="p">{</span> <span class="k">counter-increment</span><span class="p">:</span> <span class="n">h2</span><span class="p">;</span> <span class="k">counter-reset</span><span class="p">:</span>    <span class="n">h3</span><span class="p">;</span> <span class="p">}</span>
<span class="nt">h3</span>   <span class="p">{</span> <span class="k">counter-increment</span><span class="p">:</span> <span class="n">h3</span><span class="p">;</span> <span class="p">}</span>
<span class="nt">h1</span><span class="p">::</span><span class="nd">before</span> <span class="p">{</span> <span class="k">content</span><span class="p">:</span> counter<span class="p">(</span><span class="n">h1</span><span class="p">,</span><span class="kc">upper-alpha</span><span class="p">)</span> <span class="s1">' '</span><span class="p">;</span> <span class="p">}</span>
<span class="nt">h2</span><span class="p">::</span><span class="nd">before</span> <span class="p">{</span> <span class="k">content</span><span class="p">:</span> counter<span class="p">(</span><span class="n">h1</span><span class="p">,</span><span class="kc">upper-alpha</span><span class="p">)</span> <span class="s1">'.'</span>
                      counter<span class="p">(</span><span class="n">h2</span><span class="p">,</span><span class="kc">decimal</span><span class="p">)</span> <span class="s1">' '</span><span class="p">;</span> <span class="p">}</span>
<span class="nt">h3</span><span class="p">::</span><span class="nd">before</span> <span class="p">{</span> <span class="k">content</span><span class="p">:</span> counter<span class="p">(</span><span class="n">h1</span><span class="p">,</span><span class="kc">upper-alpha</span><span class="p">)</span> <span class="s1">'.'</span>
                      counter<span class="p">(</span><span class="n">h2</span><span class="p">,</span><span class="kc">decimal</span><span class="p">)</span> <span class="s1">'.'</span>
                      counter<span class="p">(</span><span class="n">h3</span><span class="p">,</span><span class="kc">lower-roman</span><span class="p">)</span> <span class="s1">' '</span><span class="p">;</span> <span class="p">}</span>
<span class="p">&lt;/</span><span class="nt">style</span><span class="p">></span>
</pre>
    <p>The preceding document should render something like this:</p>
<pre>A First H1
...
A.1 First H2 in H1
...
A.2 Second H2 in H1
...
A.2.i First H3 in H2
...
B Second H1
...
B.1 First H2 in H1
...
</pre>
   </div>
   <div class="issue" id="issue-ab42996c">
    <a class="self-link" href="#issue-ab42996c"></a> Counters are sometimes useful for things other than printing markers.
		In general, they provide the ability to number elements in sequence,
		which can be useful for other properties to reference.
		For example, using <a class="property" data-link-type="propdesc" href="https://drafts.csswg.org/css-flexbox-1/#propdef-order" id="ref-for-propdef-order">order</a> to put an element between two other specific elements
		currently requires you to explicitly put <a class="property" data-link-type="propdesc" href="https://drafts.csswg.org/css-flexbox-1/#propdef-order" id="ref-for-propdef-order①">order</a> on every element before and/or after the desired insertion point.
		If you can set the <a class="property" data-link-type="propdesc" href="https://drafts.csswg.org/css-flexbox-1/#propdef-order" id="ref-for-propdef-order②">order</a> value of everything to a counter, tho,
		you can more easily insert an element into an arbitrary spot between two others. 
    <p>Other use-cases involve nested or sibling elements with transforms that are meant to be slightly different from each other.
		Today you have to use a preprocessor to do this in a reasonable way,
		but a counter would make it work well in "plain" CSS.</p>
    <p>(You can built up successive values in the nested case today
		by using <a data-link-type="dfn" href="https://drafts.csswg.org/css-variables-1/#custom-property" id="ref-for-custom-property">custom properties</a> and stacking up nested <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-values-4/#funcdef-calc" id="ref-for-funcdef-calc">calc()</a>s,
		but this is a *little bit* clumsy,
		and doesn’t work for siblings.)</p>
    <p>Suggestion is to add a <span class="css">counter-value(<a class="production css" data-link-type="type" href="https://drafts.csswg.org/css-values-4/#typedef-ident" id="ref-for-typedef-ident②">&lt;ident></a>)</span> function,
		which returns the value of the named counter as an integer,
		rather than returning a string.</p>
   </div>
   <h2 class="heading settled" data-level="6" id="ua-stylesheet"><span class="secno">6. </span><span class="content"> Appendix A: Sample Style Sheet For HTML</span><a class="self-link" href="#ua-stylesheet"></a></h2>
   <p><em>This section is informative, not normative.
	HTML itself defines the actual default properties that apply to HTML lists.</em></p>
<pre>/* Set up list items */
li {
  display: list-item;
  /* counter-increment: list-item; (implied by display: list-item) */
}

/* Set up ol and ul so that they reset the list-item counter */
ol, ul {
  counter-reset: list-item;
}

/* Default list style types for ordered lists */
ol {
  list-style-type: decimal;
}

/* Default list style types for unordered lists up to 3 deep */
ul { list-style-type: disc; }
ul ul { list-style-type: square; }
ul ul ul { list-style-type: circle; }
/* Alternately, if Values &amp; Units Level 3 is supported, replace
   the above three lines with: */
ul { list-style-type: disc; }
ul ul { list-style-type: cycle(disc, square, circle); }

/* The type attribute on ol and ul elements */
ul[type="disc"] { list-style-type: disc; }
ul[type="circle"] { list-style-type: circle; }
ul[type="square"] { list-style-type: square; }
ol[type="1"] { list-style-type: decimal; }
ol[type="a"] { list-style-type: lower-alpha; }
ol[type="A"] { list-style-type: upper-alpha; }
ol[type="i"] { list-style-type: lower-roman; }
ol[type="I"] { list-style-type: upper-roman; }

/* The start attribute on ol elements */
ol[start] {
  counter-reset: list-item calc(attr(start integer, 1) - 1);
}

/* The value attribute on li elements */
li[value] {
  counter-set: list-item attr(value integer, 1);
  counter-increment: none; /* Turn off default increase */
}

/* Handling reversed lists */
ol[reversed] {
  counter-reset: list-item calc(attr(start integer, **magic**) + 1);
  /* Where **magic** is the number of child &lt;li> elements. */
}
ol[reversed] > li {
  counter-increment: list-item -1;
}

/* Box Model Rules */
ol, ul {
  display: block;
  margin: 1em 0;
  marker-side: list-container;
}

ol:dir(ltr), ul:dir(ltr) {
  padding-left: 40px;
}
ol:dir(rtl), ul:dir(rtl) {
  padding-right: 40px;
}

ol ol, ol ul, ul ul, ul ol {
  margin-top: 0;
  margin-bottom: 0;
}

li {
  text-align: match-parent;
}

li::marker {
  display: inline;
  text-align: end;
  unicode-bidi: isolate;
  /* 'position' computes to "static" or "marker" depending on list-style-position */
}
</pre>
   <h2 class="no-num heading settled" id="acknowledgments"><span class="content"> Acknowledgments</span><a class="self-link" href="#acknowledgments"></a></h2>
   <p>The following people and documentation they wrote were very useful
	for defining the numbering systems: 
	Alexander Savenkov,
	Arron Eicholz,
	Aryeh Gregor,
	Frank Tang,
	Jonathan Rosenne,
	Karl Ove Hufthammer,
	Musheg Arakelyan,
	Nariné Renard Karapetyan,
	Randall Bart,
	Richard Ishida,
	Simon Montagu (Mozilla, smontagu@smontagu.org) </p>
   <h2 class="no-num heading settled" id="changes"><span class="content"> Changes From CSS2.1</span><a class="self-link" href="#changes"></a></h2>
   <p>As described in the introduction section, there are significant changes in this module when
	compared to CSS2.1. </p>
   <ol>
    <li>The <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-pseudo-4/#selectordef-marker" id="ref-for-selectordef-marker②⑧">::marker</a> pseudo-element has been introduced to allow styling of the list marker directly. 
    <li>The <a class="css" data-link-type="maybe" href="#valdef-position-marker" id="ref-for-valdef-position-marker③">marker</a> value for <a class="property" data-link-type="propdesc" href="https://drafts.csswg.org/css-position-3/#propdef-position" id="ref-for-propdef-position⑥">position</a> has been added, to allow elements in the document to position themselves similarly to how markers do. 
    <li><a class="property" data-link-type="propdesc" href="#propdef-list-style-type" id="ref-for-propdef-list-style-type⑨">list-style-type</a> now accepts a <a class="production css" data-link-type="type" href="https://drafts.csswg.org/css-values-3/#string-value" id="ref-for-string-value①⓪">&lt;string></a>. 
    <li>The list-item predefined counter identifier has been introduced. 
   </ol>
  </main>
  <h2 class="no-ref no-num heading settled" id="conformance"><span class="content"> Conformance</span><a class="self-link" href="#conformance"></a></h2>
  <h3 class="heading settled" id="document-conventions"><span class="content"> Document conventions</span><a class="self-link" href="#document-conventions"></a></h3>
  <p>Conformance requirements are expressed with a combination of
	descriptive assertions and RFC 2119 terminology. The key words “MUST”,
	“MUST NOT”, “REQUIRED”, “SHALL”, “SHALL NOT”, “SHOULD”, “SHOULD NOT”,
	“RECOMMENDED”, “MAY”, and “OPTIONAL” in the normative parts of this
	document are to be interpreted as described in RFC 2119.
	However, for readability, these words do not appear in all uppercase
	letters in this specification. </p>
  <p>All of the text of this specification is normative except sections
	explicitly marked as non-normative, examples, and notes. <a data-link-type="biblio" href="#biblio-rfc2119">[RFC2119]</a> </p>
  <p>Examples in this specification are introduced with the words “for example”
	or are set apart from the normative text with <code>class="example"</code>,
	like this: </p>
  <div class="example" id="example-52448c84">
   <a class="self-link" href="#example-52448c84"></a> 
   <p>This is an example of an informative example. </p>
  </div>
  <p>Informative notes begin with the word “Note” and are set apart from the
	normative text with <code>class="note"</code>, like this: </p>
  <p class="note" role="note">Note, this is an informative note. </p>
  <p>Advisements are normative sections styled to evoke special attention and are
	set apart from other normative text with <code>&lt;strong class="advisement"></code>, like
	this: <strong class="advisement"> UAs MUST provide an accessible alternative. </strong> </p>
  <h3 class="heading settled" id="conform-classes"><span class="content"> Conformance classes</span><a class="self-link" href="#conform-classes"></a></h3>
  <p>Conformance to this specification
	is defined for three conformance classes: </p>
  <dl>
   <dt>style sheet 
   <dd>A <a href="http://www.w3.org/TR/CSS2/conform.html#style-sheet">CSS
			style sheet</a>. 
   <dt>renderer 
   <dd>A <a href="http://www.w3.org/TR/CSS2/conform.html#user-agent">UA</a> that interprets the semantics of a style sheet and renders
			documents that use them. 
   <dt>authoring tool 
   <dd>A <a href="http://www.w3.org/TR/CSS2/conform.html#user-agent">UA</a> that writes a style sheet. 
  </dl>
  <p>A style sheet is conformant to this specification
	if all of its statements that use syntax defined in this module are valid
	according to the generic CSS grammar and the individual grammars of each
	feature defined in this module. </p>
  <p>A renderer is conformant to this specification
	if, in addition to interpreting the style sheet as defined by the
	appropriate specifications, it supports all the features defined
	by this specification by parsing them correctly
	and rendering the document accordingly. However, the inability of a
	UA to correctly render a document due to limitations of the device
	does not make the UA non-conformant. (For example, a UA is not
	required to render color on a monochrome monitor.) </p>
  <p>An authoring tool is conformant to this specification
	if it writes style sheets that are syntactically correct according to the
	generic CSS grammar and the individual grammars of each feature in
	this module, and meet all other conformance requirements of style sheets
	as described in this module. </p>
  <h3 class="heading settled" id="conform-responsible"><span class="content"> Requirements for Responsible Implementation of CSS</span><a class="self-link" href="#conform-responsible"></a></h3>
  <p>The following sections define several conformance requirements
		for implementing CSS responsibly,
		in a way that promotes interoperability in the present and future. </p>
  <h4 class="heading settled" id="conform-partial"><span class="content"> Partial Implementations</span><a class="self-link" href="#conform-partial"></a></h4>
  <p>So that authors can exploit the forward-compatible parsing rules to assign fallback values, <strong>CSS renderers <em>must</em> treat as invalid
		(and <a href="http://www.w3.org/TR/CSS2/conform.html#ignore">ignore as appropriate</a>)
		any at-rules, properties, property values, keywords, and other syntactic constructs
		for which they have no usable level of support</strong>.
		In particular, user agents <em>must not</em> selectively ignore
		unsupported property values and honor supported values in a single multi-value property declaration:
		if any value is considered invalid (as unsupported values must be),
		CSS requires that the entire declaration be ignored. </p>
  <h4 class="heading settled" id="conform-future-proofing"><span class="content"> Implementations of Unstable and Proprietary Features</span><a class="self-link" href="#conform-future-proofing"></a></h4>
  <p>To avoid clashes with future stable CSS features,
		the CSSWG recommends <a href="http://www.w3.org/TR/CSS/#future-proofing">following best practices</a> for the implementation of <a href="http://www.w3.org/TR/CSS/#unstable">unstable</a> features and <a href="http://www.w3.org/TR/CSS/#proprietary-extension">proprietary extensions</a> to CSS. </p>
  <h4 class="heading settled" id="conform-testing"><span class="content"> Implementations of CR-level Features</span><a class="self-link" href="#conform-testing"></a></h4>
  <p>Once a specification reaches the Candidate Recommendation stage,
		implementers should release an <a data-link-type="dfn" href="http://www.w3.org/TR/CSS/#vendor-prefix">unprefixed</a> implementation
		of any CR-level feature they can demonstrate
		to be correctly implemented according to spec,
		and should avoid exposing a prefixed variant of that feature. </p>
  <p>To establish and maintain the interoperability of CSS across
		implementations, the CSS Working Group requests that non-experimental
		CSS renderers submit an implementation report (and, if necessary, the
		testcases used for that implementation report) to the W3C before
		releasing an unprefixed implementation of any CSS features. Testcases
		submitted to W3C are subject to review and correction by the CSS
		Working Group. </p>
  <p>
   Further information on submitting testcases and implementation reports
		can be found from on the CSS Working Group’s website at <a href="http://www.w3.org/Style/CSS/Test/">http://www.w3.org/Style/CSS/Test/</a>.
		Questions should be directed to the <a href="http://lists.w3.org/Archives/Public/public-css-testsuite">public-css-testsuite@w3.org</a> mailing list. 
<script src="https://www.w3.org/scripts/TR/2016/fixup.js"></script>
  </p>
  <h2 class="no-num no-ref heading settled" id="index"><span class="content">Index</span><a class="self-link" href="#index"></a></h2>
  <h3 class="no-num no-ref heading settled" id="index-defined-here"><span class="content">Terms defined by this specification</span><a class="self-link" href="#index-defined-here"></a></h3>
  <ul class="index">
   <li><a href="#ancestor-list-item">ancestor list item</a><span>, in §4.1</span>
   <li><a href="#associated-marker">associated marker</a><span>, in §4.1</span>
   <li><a href="#funcdef-counter">counter()</a><span>, in §5.5</span>
   <li><a href="#counter">counter</a><span>, in §5</span>
   <li><a href="#propdef-counter-increment">counter-increment</a><span>, in §5.1</span>
   <li><a href="#propdef-counter-reset">counter-reset</a><span>, in §5.1</span>
   <li><a href="#funcdef-counters">counters()</a><span>, in §5.5</span>
   <li><a href="#propdef-counter-set">counter-set</a><span>, in §5.1</span>
   <li><a href="#valdef-list-style-type-counter-style">&lt;counter-style></a><span>, in §3.4</span>
   <li><a href="#create-a-new-counter">create a new counter</a><span>, in §5.2</span>
   <li>
    &lt;custom-ident> &lt;integer>?
    <ul>
     <li><a href="#valdef-counter-reset-custom-ident-integer">value for counter-reset</a><span>, in §5.1</span>
     <li><a href="#valdef-counter-set-counter-increment-custom-ident-integer">value for counter-set counter-increment</a><span>, in §5.1</span>
    </ul>
   <li><a href="#valdef-list-style-image-image">&lt;image></a><span>, in §3.3</span>
   <li><a href="#valdef-list-style-position-inside">inside</a><span>, in §3.5</span>
   <li><a href="#valdef-marker-side-list-container">list-container</a><span>, in §4.2</span>
   <li><a href="#list-item">list item</a><span>, in §2</span>
   <li><a href="#valdef-marker-side-list-item">list-item</a><span>, in §4.2</span>
   <li><a href="#list-item-positioning-edge">list item positioning edge</a><span>, in §4.1</span>
   <li><a href="#propdef-list-style">list-style</a><span>, in §3.6</span>
   <li><a href="#propdef-list-style-image">list-style-image</a><span>, in §3.3</span>
   <li><a href="#propdef-list-style-position">list-style-position</a><span>, in §3.5</span>
   <li><a href="#propdef-list-style-type">list-style-type</a><span>, in §3.4</span>
   <li>
    marker
    <ul>
     <li><a href="#marker">definition of</a><span>, in §3</span>
     <li><a href="#valdef-position-marker">value for position</a><span>, in §4.1</span>
    </ul>
   <li><a href="#marker-positioning-edge">marker positioning edge</a><span>, in §4.1</span>
   <li><a href="#marker-positioning-reference-element">marker positioning reference element</a><span>, in §4.1</span>
   <li><a href="#propdef-marker-side">marker-side</a><span>, in §4.2</span>
   <li>
    none
    <ul>
     <li><a href="#valdef-list-style-image-none">value for list-style-image</a><span>, in §3.3</span>
     <li><a href="#valdef-list-style-type-none">value for list-style-type</a><span>, in §3.4</span>
     <li><a href="#valdef-counter-reset-none">value for counter-reset</a><span>, in §5.1</span>
     <li><a href="#valdef-counter-set-counter-increment-none">value for counter-set counter-increment</a><span>, in §5.1</span>
    </ul>
   <li><a href="#list-style-position-outside">outside</a><span>, in §3.5</span>
   <li><a href="#valdef-list-style-type-string">&lt;string></a><span>, in §3.4</span>
  </ul>
  <h3 class="no-num no-ref heading settled" id="index-defined-elsewhere"><span class="content">Terms defined by reference</span><a class="self-link" href="#index-defined-elsewhere"></a></h3>
  <ul class="index">
   <li>
    <a data-link-type="biblio">[css-content-3]</a> defines the following terms:
    <ul>
     <li><a href="https://drafts.csswg.org/css-content-3/#propdef-content">content</a>
     <li><a href="https://drafts.csswg.org/css-content-3/#valdef-content-none">none</a>
    </ul>
   <li>
    <a data-link-type="biblio">[CSS-COUNTER-STYLES-3]</a> defines the following terms:
    <ul>
     <li><a href="https://drafts.csswg.org/css-counter-styles-3/#typedef-counter-style">&lt;counter-style></a>
     <li><a href="https://drafts.csswg.org/css-counter-styles-3/#counter-style">counter style</a>
     <li><a href="https://drafts.csswg.org/css-counter-styles-3/#decimal">decimal</a>
     <li><a href="https://drafts.csswg.org/css-counter-styles-3/#generate-a-counter">generate a counter representation</a>
    </ul>
   <li>
    <a data-link-type="biblio">[css-display-3]</a> defines the following terms:
    <ul>
     <li><a href="https://drafts.csswg.org/css-display-3/#css-anonymous">anonymous</a>
     <li><a href="https://drafts.csswg.org/css-display-3/#propdef-display">display</a>
     <li><a href="https://drafts.csswg.org/css-display-3/#inline">inline</a>
     <li><a href="https://drafts.csswg.org/css-display-3/#inline-box">inline box</a>
     <li><a href="https://drafts.csswg.org/css-display-3/#valdef-display-none">none</a>
     <li><a href="https://drafts.csswg.org/css-display-3/#replaced-element">replaced element</a>
     <li><a href="https://drafts.csswg.org/css-display-3/#css-text-run">text run</a>
    </ul>
   <li>
    <a data-link-type="biblio">[css-flexbox-1]</a> defines the following terms:
    <ul>
     <li><a href="https://drafts.csswg.org/css-flexbox-1/#propdef-order">order</a>
    </ul>
   <li>
    <a data-link-type="biblio">[css-images-4]</a> defines the following terms:
    <ul>
     <li><a href="https://drafts.csswg.org/css-images-4/#invalid-image">invalid image</a>
     <li><a href="https://drafts.csswg.org/css-images-4/#invalid-image">valid image</a>
    </ul>
   <li>
    <a data-link-type="biblio">[css-position-3]</a> defines the following terms:
    <ul>
     <li><a href="https://drafts.csswg.org/css-position-3/#propdef-bottom">bottom</a>
     <li><a href="https://drafts.csswg.org/css-position-3/#propdef-left">left</a>
     <li><a href="https://drafts.csswg.org/css-position-3/#propdef-position">position</a>
     <li><a href="https://drafts.csswg.org/css-position-3/#valdef-position-relative">relative</a>
     <li><a href="https://drafts.csswg.org/css-position-3/#propdef-right">right</a>
     <li><a href="https://drafts.csswg.org/css-position-3/#propdef-top">top</a>
    </ul>
   <li>
    <a data-link-type="biblio">[css-pseudo-4]</a> defines the following terms:
    <ul>
     <li><a href="https://drafts.csswg.org/css-pseudo-4/#selectordef-before">::before</a>
     <li><a href="https://drafts.csswg.org/css-pseudo-4/#selectordef-marker">::marker</a>
    </ul>
   <li>
    <a data-link-type="biblio">[css-values-3]</a> defines the following terms:
    <ul>
     <li><a href="https://drafts.csswg.org/css-values-4/#mult-one-plus">+</a>
     <li><a href="https://drafts.csswg.org/css-values-4/#identifier-value">&lt;custom-ident></a>
     <li><a href="https://drafts.csswg.org/css-values-4/#typedef-ident">&lt;ident></a>
     <li><a href="https://drafts.csswg.org/css-values-3/#integer-value">&lt;integer></a>
     <li><a href="https://drafts.csswg.org/css-values-3/#string-value">&lt;string></a>
     <li><a href="https://drafts.csswg.org/css-values-4/#mult-opt">?</a>
     <li><a href="https://drafts.csswg.org/css-values-4/#funcdef-calc">calc()</a>
     <li><a href="https://drafts.csswg.org/css-values-4/#comb-one">|</a>
     <li><a href="https://drafts.csswg.org/css-values-4/#comb-any">||</a>
    </ul>
   <li>
    <a data-link-type="biblio">[css-variables-1]</a> defines the following terms:
    <ul>
     <li><a href="https://drafts.csswg.org/css-variables-1/#custom-property">custom property</a>
    </ul>
   <li>
    <a data-link-type="biblio">[CSS22]</a> defines the following terms:
    <ul>
     <li><a href="https://drafts.csswg.org/css2/visufx.html#propdef-visibility">visibility</a>
    </ul>
   <li>
    <a data-link-type="biblio">[css3-images]</a> defines the following terms:
    <ul>
     <li><a href="https://drafts.csswg.org/css-images-3/#typedef-image">&lt;image></a>
    </ul>
   <li>
    <a data-link-type="biblio">[HTML]</a> defines the following terms:
    <ul>
     <li><a href="https://html.spec.whatwg.org/multipage/grouping-content.html#the-li-element">li</a>
     <li><a href="https://html.spec.whatwg.org/multipage/grouping-content.html#the-ol-element">ol</a>
     <li><a href="https://html.spec.whatwg.org/multipage/grouping-content.html#the-ul-element">ul</a>
    </ul>
   <li>
    <a data-link-type="biblio">[selectors4]</a> defines the following terms:
    <ul>
     <li><a href="https://drafts.csswg.org/selectors-4/#originating-element">originating element</a>
    </ul>
  </ul>
  <h2 class="no-num no-ref heading settled" id="references"><span class="content">References</span><a class="self-link" href="#references"></a></h2>
  <h3 class="no-num no-ref heading settled" id="normative"><span class="content">Normative References</span><a class="self-link" href="#normative"></a></h3>
  <dl>
   <dt id="biblio-css-content-3">[CSS-CONTENT-3]
   <dd>Elika Etemad; Dave Cramer. <a href="https://www.w3.org/TR/css-content-3/">CSS Generated Content Module Level 3</a>. 2 June 2016. WD. URL: <a href="https://www.w3.org/TR/css-content-3/">https://www.w3.org/TR/css-content-3/</a>
   <dt id="biblio-css-counter-styles-3">[CSS-COUNTER-STYLES-3]
   <dd>Tab Atkins Jr.. <a href="https://www.w3.org/TR/css-counter-styles-3/">CSS Counter Styles Level 3</a>. 11 June 2015. CR. URL: <a href="https://www.w3.org/TR/css-counter-styles-3/">https://www.w3.org/TR/css-counter-styles-3/</a>
   <dt id="biblio-css-display-3">[CSS-DISPLAY-3]
   <dd>Elika Etemad. <a href="https://www.w3.org/TR/css-display-3/">CSS Display Module Level 3</a>. 20 July 2017. WD. URL: <a href="https://www.w3.org/TR/css-display-3/">https://www.w3.org/TR/css-display-3/</a>
   <dt id="biblio-css-flexbox-1">[CSS-FLEXBOX-1]
   <dd>Tab Atkins Jr.; Elika Etemad; Rossen Atanassov. <a href="https://www.w3.org/TR/css-flexbox-1/">CSS Flexible Box Layout Module Level 1</a>. 26 May 2016. CR. URL: <a href="https://www.w3.org/TR/css-flexbox-1/">https://www.w3.org/TR/css-flexbox-1/</a>
   <dt id="biblio-css-images-4">[CSS-IMAGES-4]
   <dd>Tab Atkins Jr.; Elika Etemad; Lea Verou. <a href="https://www.w3.org/TR/css-images-4/">CSS Image Values and Replaced Content Module Level 4</a>. 13 April 2017. WD. URL: <a href="https://www.w3.org/TR/css-images-4/">https://www.w3.org/TR/css-images-4/</a>
   <dt id="biblio-css-position-3">[CSS-POSITION-3]
   <dd>Rossen Atanassov; Arron Eicholz. <a href="https://www.w3.org/TR/css-position-3/">CSS Positioned Layout Module Level 3</a>. 17 May 2016. WD. URL: <a href="https://www.w3.org/TR/css-position-3/">https://www.w3.org/TR/css-position-3/</a>
   <dt id="biblio-css-pseudo-4">[CSS-PSEUDO-4]
   <dd>Daniel Glazman; Elika Etemad; Alan Stearns. <a href="https://www.w3.org/TR/css-pseudo-4/">CSS Pseudo-Elements Module Level 4</a>. 7 June 2016. WD. URL: <a href="https://www.w3.org/TR/css-pseudo-4/">https://www.w3.org/TR/css-pseudo-4/</a>
   <dt id="biblio-css-values-3">[CSS-VALUES-3]
   <dd>Tab Atkins Jr.; Elika Etemad. <a href="https://www.w3.org/TR/css-values-3/">CSS Values and Units Module Level 3</a>. 29 September 2016. CR. URL: <a href="https://www.w3.org/TR/css-values-3/">https://www.w3.org/TR/css-values-3/</a>
   <dt id="biblio-css-variables-1">[CSS-VARIABLES-1]
   <dd>Tab Atkins Jr.. <a href="https://www.w3.org/TR/css-variables-1/">CSS Custom Properties for Cascading Variables Module Level 1</a>. 3 December 2015. CR. URL: <a href="https://www.w3.org/TR/css-variables-1/">https://www.w3.org/TR/css-variables-1/</a>
   <dt id="biblio-css21">[CSS21]
   <dd>Bert Bos; et al. <a href="https://www.w3.org/TR/CSS2">Cascading Style Sheets Level 2 Revision 1 (CSS 2.1) Specification</a>. 7 June 2011. REC. URL: <a href="https://www.w3.org/TR/CSS2">https://www.w3.org/TR/CSS2</a>
   <dt id="biblio-css22">[CSS22]
   <dd>Bert Bos. <a href="https://www.w3.org/TR/CSS22/">Cascading Style Sheets Level 2 Revision 2 (CSS 2.2) Specification</a>. 12 April 2016. WD. URL: <a href="https://www.w3.org/TR/CSS22/">https://www.w3.org/TR/CSS22/</a>
   <dt id="biblio-css3-images">[CSS3-IMAGES]
   <dd>Elika Etemad; Tab Atkins Jr.. <a href="https://www.w3.org/TR/css3-images/">CSS Image Values and Replaced Content Module Level 3</a>. 17 April 2012. CR. URL: <a href="https://www.w3.org/TR/css3-images/">https://www.w3.org/TR/css3-images/</a>
   <dt id="biblio-rfc2119">[RFC2119]
   <dd>S. Bradner. <a href="https://tools.ietf.org/html/rfc2119">Key words for use in RFCs to Indicate Requirement Levels</a>. March 1997. Best Current Practice. URL: <a href="https://tools.ietf.org/html/rfc2119">https://tools.ietf.org/html/rfc2119</a>
   <dt id="biblio-selectors4">[SELECTORS4]
   <dd>Elika Etemad; Tab Atkins Jr.. <a href="https://www.w3.org/TR/selectors4/">Selectors Level 4</a>. 2 May 2013. WD. URL: <a href="https://www.w3.org/TR/selectors4/">https://www.w3.org/TR/selectors4/</a>
  </dl>
  <h3 class="no-num no-ref heading settled" id="informative"><span class="content">Informative References</span><a class="self-link" href="#informative"></a></h3>
  <dl>
   <dt id="biblio-html">[HTML]
   <dd>Anne van Kesteren; et al. <a href="https://html.spec.whatwg.org/multipage/">HTML Standard</a>. Living Standard. URL: <a href="https://html.spec.whatwg.org/multipage/">https://html.spec.whatwg.org/multipage/</a>
  </dl>
  <h2 class="no-num no-ref heading settled" id="property-index"><span class="content">Property Index</span><a class="self-link" href="#property-index"></a></h2>
  <div class="big-element-wrapper">
   <table class="index">
    <thead>
     <tr>
      <th scope="col">Name
      <th scope="col">Value
      <th scope="col">Initial
      <th scope="col">Applies to
      <th scope="col">Inh.
      <th scope="col">%ages
      <th scope="col">Media
      <th scope="col">Anim­ation type
      <th scope="col">Canonical order
      <th scope="col">Com­puted value
    <tbody>
     <tr>
      <th scope="row"><a class="css" data-link-type="property" href="#propdef-counter-increment" id="ref-for-propdef-counter-increment⑦">counter-increment</a>
      <td>[ &lt;custom-ident> &lt;integer>? ]+ | none
      <td>none
      <td>all elements
      <td>no
      <td>n/a
      <td>all
      <td>discrete
      <td>per grammar
      <td>specified value
     <tr>
      <th scope="row"><a class="css" data-link-type="property" href="#propdef-counter-reset" id="ref-for-propdef-counter-reset③">counter-reset</a>
      <td>[ &lt;custom-ident> &lt;integer>? ]+ | none
      <td>none
      <td>all elements
      <td>no
      <td>n/a
      <td>all
      <td>discrete
      <td>per grammar
      <td>specified value
     <tr>
      <th scope="row"><a class="css" data-link-type="property" href="#propdef-counter-set" id="ref-for-propdef-counter-set⑥">counter-set</a>
      <td>[ &lt;custom-ident> &lt;integer>? ]+ | none
      <td>none
      <td>all elements
      <td>no
      <td>n/a
      <td>all
      <td>discrete
      <td>per grammar
      <td>specified value
     <tr>
      <th scope="row"><a class="css" data-link-type="property" href="#propdef-list-style" id="ref-for-propdef-list-style⑥">list-style</a>
      <td>&lt;‘list-style-type’> || &lt;‘list-style-position’> || &lt;‘list-style-image’>
      <td>see individual properties
      <td>list items
      <td>see individual properties
      <td>see individual properties
      <td>visual
      <td>discrete
      <td>per grammar
      <td>see individual properties
     <tr>
      <th scope="row"><a class="css" data-link-type="property" href="#propdef-list-style-image" id="ref-for-propdef-list-style-image⑧">list-style-image</a>
      <td>&lt;image> | none
      <td>none
      <td>list items
      <td>yes
      <td>n/a
      <td>visual
      <td>discrete
      <td>per grammar
      <td>computed value of the &lt;image>, or none
     <tr>
      <th scope="row"><a class="css" data-link-type="property" href="#propdef-list-style-position" id="ref-for-propdef-list-style-position⑤">list-style-position</a>
      <td>inside | outside
      <td>outside
      <td>list items
      <td>yes
      <td>n/a
      <td>visual
      <td>discrete
      <td>per grammar
      <td>specified value (but see prose)
     <tr>
      <th scope="row"><a class="css" data-link-type="property" href="#propdef-list-style-type" id="ref-for-propdef-list-style-type①⓪">list-style-type</a>
      <td>&lt;counter-style> | &lt;string> | none
      <td>disc
      <td>list items
      <td>yes
      <td>n/a
      <td>visual
      <td>discrete
      <td>per grammar
      <td>specified value
     <tr>
      <th scope="row"><a class="css" data-link-type="property" href="#propdef-marker-side" id="ref-for-propdef-marker-side④">marker-side</a>
      <td>list-item | list-container
      <td>list-item
      <td>list items
      <td>yes
      <td>n/a
      <td>visual
      <td>discrete
      <td>per grammar
      <td>specified value
   </table>
  </div>
  <h2 class="no-num no-ref heading settled" id="issues-index"><span class="content">Issues Index</span><a class="self-link" href="#issues-index"></a></h2>
  <div style="counter-reset:issue">
   <div class="issue"><strong> This section is not ready for implementation.
		It is an unreviewed rough draft that hasn’t even been properly checked for Web-compatibility.
		Feel free to send feedback, but DON’T USE THIS PART OF THE SPEC.</strong> <a href="#issue-bb3d39c0"> ↵ </a></div>
   <div class="issue"> Counter representations don’t have to be strings,
	they can be images sometimes instead.
	What to do?<a href="#issue-cb178caa"> ↵ </a></div>
   <div class="issue">
     Counters are sometimes useful for things other than printing markers.
		In general, they provide the ability to number elements in sequence,
		which can be useful for other properties to reference.
		For example, using <a class="property" data-link-type="propdesc" href="https://drafts.csswg.org/css-flexbox-1/#propdef-order">order</a> to put an element between two other specific elements
		currently requires you to explicitly put <a class="property" data-link-type="propdesc" href="https://drafts.csswg.org/css-flexbox-1/#propdef-order">order</a> on every element before and/or after the desired insertion point.
		If you can set the <a class="property" data-link-type="propdesc" href="https://drafts.csswg.org/css-flexbox-1/#propdef-order">order</a> value of everything to a counter, tho,
		you can more easily insert an element into an arbitrary spot between two others. 
    <p>Other use-cases involve nested or sibling elements with transforms that are meant to be slightly different from each other.
		Today you have to use a preprocessor to do this in a reasonable way,
		but a counter would make it work well in "plain" CSS.</p>
    <p>(You can built up successive values in the nested case today
		by using <a data-link-type="dfn" href="https://drafts.csswg.org/css-variables-1/#custom-property">custom properties</a> and stacking up nested <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-values-4/#funcdef-calc">calc()</a>s,
		but this is a *little bit* clumsy,
		and doesn’t work for siblings.)</p>
    <p>Suggestion is to add a <span class="css">counter-value(<a class="production css" data-link-type="type" href="https://drafts.csswg.org/css-values-4/#typedef-ident">&lt;ident></a>)</span> function,
		which returns the value of the named counter as an integer,
		rather than returning a string.</p>
     <a href="#issue-ab42996c"> ↵ </a>
   </div>
  </div>
  <aside class="dfn-panel" data-for="list-item">
   <b><a href="#list-item">#list-item</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-list-item">2. 
Declaring a List Item</a> <a href="#ref-for-list-item①">(2)</a> <a href="#ref-for-list-item②">(3)</a> <a href="#ref-for-list-item③">(4)</a>
    <li><a href="#ref-for-list-item④">3. 
Markers</a> <a href="#ref-for-list-item⑤">(2)</a>
    <li><a href="#ref-for-list-item⑥">3.1. 
The ::marker Pseudo-Element</a> <a href="#ref-for-list-item⑦">(2)</a> <a href="#ref-for-list-item⑧">(3)</a> <a href="#ref-for-list-item⑨">(4)</a>
    <li><a href="#ref-for-list-item①⓪">3.3. 
Image Markers: the list-style-image property</a> <a href="#ref-for-list-item①①">(2)</a>
    <li><a href="#ref-for-list-item①②">3.4. 
Text-based Markers: the list-style-type property</a>
    <li><a href="#ref-for-list-item①③">3.5. 
Positioning Markers: The list-style-position property</a> <a href="#ref-for-list-item①④">(2)</a> <a href="#ref-for-list-item①⑤">(3)</a> <a href="#ref-for-list-item①⑥">(4)</a>
    <li><a href="#ref-for-list-item①⑦">3.6. 
Styling Markers: the list-style shorthand property</a>
    <li><a href="#ref-for-list-item①⑧">4.1. 
The marker value for position</a> <a href="#ref-for-list-item①⑨">(2)</a>
    <li><a href="#ref-for-list-item②⓪">4.2. 
The marker-side property</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="propdef-list-style-image">
   <b><a href="#propdef-list-style-image">#propdef-list-style-image</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-propdef-list-style-image">3.2. 
Generating The ::marker Boxes</a> <a href="#ref-for-propdef-list-style-image①">(2)</a>
    <li><a href="#ref-for-propdef-list-style-image②">3.3. 
Image Markers: the list-style-image property</a> <a href="#ref-for-propdef-list-style-image③">(2)</a>
    <li><a href="#ref-for-propdef-list-style-image④">3.4. 
Text-based Markers: the list-style-type property</a>
    <li><a href="#ref-for-propdef-list-style-image⑤">3.6. 
Styling Markers: the list-style shorthand property</a> <a href="#ref-for-propdef-list-style-image⑥">(2)</a> <a href="#ref-for-propdef-list-style-image⑦">(3)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="valdef-list-style-image-none">
   <b><a href="#valdef-list-style-image-none">#valdef-list-style-image-none</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-valdef-list-style-image-none">3.3. 
Image Markers: the list-style-image property</a> <a href="#ref-for-valdef-list-style-image-none①">(2)</a>
    <li><a href="#ref-for-valdef-list-style-image-none②">3.4. 
Text-based Markers: the list-style-type property</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="propdef-list-style-type">
   <b><a href="#propdef-list-style-type">#propdef-list-style-type</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-propdef-list-style-type">3.2. 
Generating The ::marker Boxes</a> <a href="#ref-for-propdef-list-style-type①">(2)</a> <a href="#ref-for-propdef-list-style-type②">(3)</a>
    <li><a href="#ref-for-propdef-list-style-type③">3.3. 
Image Markers: the list-style-image property</a>
    <li><a href="#ref-for-propdef-list-style-type④">3.4. 
Text-based Markers: the list-style-type property</a> <a href="#ref-for-propdef-list-style-type⑤">(2)</a>
    <li><a href="#ref-for-propdef-list-style-type⑥">3.6. 
Styling Markers: the list-style shorthand property</a> <a href="#ref-for-propdef-list-style-type⑦">(2)</a> <a href="#ref-for-propdef-list-style-type⑧">(3)</a>
    <li><a href="#ref-for-propdef-list-style-type⑨"> Changes From CSS2.1</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="propdef-list-style-position">
   <b><a href="#propdef-list-style-position">#propdef-list-style-position</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-propdef-list-style-position">2. 
Declaring a List Item</a>
    <li><a href="#ref-for-propdef-list-style-position①">3.1. 
The ::marker Pseudo-Element</a>
    <li><a href="#ref-for-propdef-list-style-position②">3.5. 
Positioning Markers: The list-style-position property</a>
    <li><a href="#ref-for-propdef-list-style-position③">3.6. 
Styling Markers: the list-style shorthand property</a> <a href="#ref-for-propdef-list-style-position④">(2)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="valdef-list-style-position-inside">
   <b><a href="#valdef-list-style-position-inside">#valdef-list-style-position-inside</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-valdef-list-style-position-inside">2. 
Declaring a List Item</a>
    <li><a href="#ref-for-valdef-list-style-position-inside①">3.5. 
Positioning Markers: The list-style-position property</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="list-style-position-outside">
   <b><a href="#list-style-position-outside">#list-style-position-outside</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-list-style-position-outside">2. 
Declaring a List Item</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="propdef-list-style">
   <b><a href="#propdef-list-style">#propdef-list-style</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-propdef-list-style">3.1. 
The ::marker Pseudo-Element</a>
    <li><a href="#ref-for-propdef-list-style①">3.6. 
Styling Markers: the list-style shorthand property</a> <a href="#ref-for-propdef-list-style②">(2)</a> <a href="#ref-for-propdef-list-style③">(3)</a> <a href="#ref-for-propdef-list-style④">(4)</a>
    <li><a href="#ref-for-propdef-list-style⑤">5.3. 
Nested Counters</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="valdef-position-marker">
   <b><a href="#valdef-position-marker">#valdef-position-marker</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-valdef-position-marker">3.5. 
Positioning Markers: The list-style-position property</a>
    <li><a href="#ref-for-valdef-position-marker①">4.1. 
The marker value for position</a> <a href="#ref-for-valdef-position-marker②">(2)</a>
    <li><a href="#ref-for-valdef-position-marker③"> Changes From CSS2.1</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="ancestor-list-item">
   <b><a href="#ancestor-list-item">#ancestor-list-item</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-ancestor-list-item">4.1. 
The marker value for position</a> <a href="#ref-for-ancestor-list-item①">(2)</a> <a href="#ref-for-ancestor-list-item②">(3)</a> <a href="#ref-for-ancestor-list-item③">(4)</a> <a href="#ref-for-ancestor-list-item④">(5)</a> <a href="#ref-for-ancestor-list-item⑤">(6)</a> <a href="#ref-for-ancestor-list-item⑥">(7)</a> <a href="#ref-for-ancestor-list-item⑦">(8)</a> <a href="#ref-for-ancestor-list-item⑧">(9)</a> <a href="#ref-for-ancestor-list-item⑨">(10)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="marker-positioning-reference-element">
   <b><a href="#marker-positioning-reference-element">#marker-positioning-reference-element</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-marker-positioning-reference-element">3.5. 
Positioning Markers: The list-style-position property</a>
    <li><a href="#ref-for-marker-positioning-reference-element①">4.1. 
The marker value for position</a> <a href="#ref-for-marker-positioning-reference-element②">(2)</a> <a href="#ref-for-marker-positioning-reference-element③">(3)</a> <a href="#ref-for-marker-positioning-reference-element④">(4)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="list-item-positioning-edge">
   <b><a href="#list-item-positioning-edge">#list-item-positioning-edge</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-list-item-positioning-edge">4.1. 
The marker value for position</a> <a href="#ref-for-list-item-positioning-edge①">(2)</a> <a href="#ref-for-list-item-positioning-edge②">(3)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="marker-positioning-edge">
   <b><a href="#marker-positioning-edge">#marker-positioning-edge</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-marker-positioning-edge">4.1. 
The marker value for position</a> <a href="#ref-for-marker-positioning-edge①">(2)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="associated-marker">
   <b><a href="#associated-marker">#associated-marker</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-associated-marker">4.2. 
The marker-side property</a> <a href="#ref-for-associated-marker①">(2)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="propdef-marker-side">
   <b><a href="#propdef-marker-side">#propdef-marker-side</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-propdef-marker-side">4.2. 
The marker-side property</a> <a href="#ref-for-propdef-marker-side①">(2)</a> <a href="#ref-for-propdef-marker-side②">(3)</a> <a href="#ref-for-propdef-marker-side③">(4)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="valdef-marker-side-list-item">
   <b><a href="#valdef-marker-side-list-item">#valdef-marker-side-list-item</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-valdef-marker-side-list-item">1. 
Introduction</a>
    <li><a href="#ref-for-valdef-marker-side-list-item①">2. 
Declaring a List Item</a> <a href="#ref-for-valdef-marker-side-list-item②">(2)</a> <a href="#ref-for-valdef-marker-side-list-item③">(3)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="counter">
   <b><a href="#counter">#counter</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-counter">1. 
Introduction</a>
    <li><a href="#ref-for-counter①">2. 
Declaring a List Item</a> <a href="#ref-for-counter②">(2)</a> <a href="#ref-for-counter③">(3)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="propdef-counter-reset">
   <b><a href="#propdef-counter-reset">#propdef-counter-reset</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-propdef-counter-reset">5. 
Automatic Numbering With Counters</a>
    <li><a href="#ref-for-propdef-counter-reset①">5.1. 
Manipulating Counters: the counter-increment, counter-set and counter-reset properties</a> <a href="#ref-for-propdef-counter-reset②">(2)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="propdef-counter-set">
   <b><a href="#propdef-counter-set">#propdef-counter-set</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-propdef-counter-set">5. 
Automatic Numbering With Counters</a>
    <li><a href="#ref-for-propdef-counter-set①">5.1. 
Manipulating Counters: the counter-increment, counter-set and counter-reset properties</a> <a href="#ref-for-propdef-counter-set②">(2)</a> <a href="#ref-for-propdef-counter-set③">(3)</a> <a href="#ref-for-propdef-counter-set④">(4)</a> <a href="#ref-for-propdef-counter-set⑤">(5)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="propdef-counter-increment">
   <b><a href="#propdef-counter-increment">#propdef-counter-increment</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-propdef-counter-increment">2. 
Declaring a List Item</a>
    <li><a href="#ref-for-propdef-counter-increment①">5. 
Automatic Numbering With Counters</a>
    <li><a href="#ref-for-propdef-counter-increment②">5.1. 
Manipulating Counters: the counter-increment, counter-set and counter-reset properties</a> <a href="#ref-for-propdef-counter-increment③">(2)</a> <a href="#ref-for-propdef-counter-increment④">(3)</a> <a href="#ref-for-propdef-counter-increment⑤">(4)</a> <a href="#ref-for-propdef-counter-increment⑥">(5)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="create-a-new-counter">
   <b><a href="#create-a-new-counter">#create-a-new-counter</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-create-a-new-counter">5.1. 
Manipulating Counters: the counter-increment, counter-set and counter-reset properties</a> <a href="#ref-for-create-a-new-counter①">(2)</a> <a href="#ref-for-create-a-new-counter②">(3)</a>
    <li><a href="#ref-for-create-a-new-counter③">5.3. 
Nested Counters</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="funcdef-counter">
   <b><a href="#funcdef-counter">#funcdef-counter</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-funcdef-counter">5. 
Automatic Numbering With Counters</a>
    <li><a href="#ref-for-funcdef-counter①">5.3. 
Nested Counters</a>
    <li><a href="#ref-for-funcdef-counter②">5.5. 
Outputting Counters: the counter() and counters() functions</a> <a href="#ref-for-funcdef-counter③">(2)</a> <a href="#ref-for-funcdef-counter④">(3)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="funcdef-counters">
   <b><a href="#funcdef-counters">#funcdef-counters</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-funcdef-counters">5. 
Automatic Numbering With Counters</a>
    <li><a href="#ref-for-funcdef-counters①">5.3. 
Nested Counters</a>
    <li><a href="#ref-for-funcdef-counters②">5.5. 
Outputting Counters: the counter() and counters() functions</a> <a href="#ref-for-funcdef-counters③">(2)</a> <a href="#ref-for-funcdef-counters④">(3)</a> <a href="#ref-for-funcdef-counters⑤">(4)</a> <a href="#ref-for-funcdef-counters⑥">(5)</a>
   </ul>
  </aside>
<script>/* script-dfn-panel */

        document.body.addEventListener("click", function(e) {
            var queryAll = function(sel) { return [].slice.call(document.querySelectorAll(sel)); }
            // Find the dfn element or panel, if any, that was clicked on.
            var el = e.target;
            var target;
            var hitALink = false;
            while(el.parentElement) {
                if(el.tagName == "A") {
                    // Clicking on a link in a <dfn> shouldn't summon the panel
                    hitALink = true;
                }
                if(el.classList.contains("dfn-paneled")) {
                    target = "dfn";
                    break;
                }
                if(el.classList.contains("dfn-panel")) {
                    target = "dfn-panel";
                    break;
                }
                el = el.parentElement;
            }
            if(target != "dfn-panel") {
                // Turn off any currently "on" or "activated" panels.
                queryAll(".dfn-panel.on, .dfn-panel.activated").forEach(function(el){
                    el.classList.remove("on");
                    el.classList.remove("activated");
                });
            }
            if(target == "dfn" && !hitALink) {
                // open the panel
                var dfnPanel = document.querySelector(".dfn-panel[data-for='" + el.id + "']");
                if(dfnPanel) {
                    console.log(dfnPanel);
                    dfnPanel.classList.add("on");
                    var rect = el.getBoundingClientRect();
                    dfnPanel.style.left = window.scrollX + rect.right + 5 + "px";
                    dfnPanel.style.top = window.scrollY + rect.top + "px";
                    var panelRect = dfnPanel.getBoundingClientRect();
                    var panelWidth = panelRect.right - panelRect.left;
                    if(panelRect.right > document.body.scrollWidth && (rect.left - (panelWidth + 5)) > 0) {
                        // Reposition, because the panel is overflowing
                        dfnPanel.style.left = window.scrollX + rect.left - (panelWidth + 5) + "px";
                    }
                } else {
                    console.log("Couldn't find .dfn-panel[data-for='" + el.id + "']");
                }
            } else if(target == "dfn-panel") {
                // Switch it to "activated" state, which pins it.
                el.classList.add("activated");
                el.style.left = null;
                el.style.top = null;
            }

        });
        </script>