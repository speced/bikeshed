<!doctype html><html lang="en">
 <head>
  <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
  <meta content="width=device-width, initial-scale=1, shrink-to-fit=no" name="viewport">
  <title>CSS Font Loading Module Level 3</title>
  <meta content="ED" name="w3c-status">
  <link href="https://www.w3.org/StyleSheets/TR/2021/W3C-ED" rel="stylesheet">
  <link href="https://www.w3.org/TR/css-font-loading/" rel="canonical">
  <link href="https://drafts.csswg.org/csslogo.ico" rel="icon">
  <meta content="dark light" name="color-scheme">
  <link href="https://www.w3.org/StyleSheets/TR/2021/dark.css" media="(prefers-color-scheme: dark)" rel="stylesheet" type="text/css">
<style>/* Boilerplate: style-autolinks */
.css.css, .property.property, .descriptor.descriptor {
    color: var(--a-normal-text);
    font-size: inherit;
    font-family: inherit;
}
.css::before, .property::before, .descriptor::before {
    content: "‘";
}
.css::after, .property::after, .descriptor::after {
    content: "’";
}
.property, .descriptor {
    /* Don't wrap property and descriptor names */
    white-space: nowrap;
}
.type { /* CSS value <type> */
    font-style: italic;
}
pre .property::before, pre .property::after {
    content: "";
}
[data-link-type="property"]::before,
[data-link-type="propdesc"]::before,
[data-link-type="descriptor"]::before,
[data-link-type="value"]::before,
[data-link-type="function"]::before,
[data-link-type="at-rule"]::before,
[data-link-type="selector"]::before,
[data-link-type="maybe"]::before {
    content: "‘";
}
[data-link-type="property"]::after,
[data-link-type="propdesc"]::after,
[data-link-type="descriptor"]::after,
[data-link-type="value"]::after,
[data-link-type="function"]::after,
[data-link-type="at-rule"]::after,
[data-link-type="selector"]::after,
[data-link-type="maybe"]::after {
    content: "’";
}

[data-link-type].production::before,
[data-link-type].production::after,
.prod [data-link-type]::before,
.prod [data-link-type]::after {
    content: "";
}

[data-link-type=element],
[data-link-type=element-attr] {
    font-family: Menlo, Consolas, "DejaVu Sans Mono", monospace;
    font-size: .9em;
}
[data-link-type=element]::before { content: "<" }
[data-link-type=element]::after  { content: ">" }

[data-link-type=biblio] {
    white-space: pre;
}

@media (prefers-color-scheme: dark) {
    :root {
        --selflink-text: black;
        --selflink-bg: silver;
        --selflink-hover-text: white;
    }
}
</style>
<style>/* Boilerplate: style-colors */
/* Any --*-text not paired with a --*-bg is assumed to have a transparent bg */
:root {
    color-scheme: light dark;

    --text: black;
    --bg: white;

    --unofficial-watermark: url(https://www.w3.org/StyleSheets/TR/2016/logos/UD-watermark);

    --logo-bg: #1a5e9a;
    --logo-active-bg: #c00;
    --logo-text: white;

    --tocnav-normal-text: #707070;
    --tocnav-normal-bg: var(--bg);
    --tocnav-hover-text: var(--tocnav-normal-text);
    --tocnav-hover-bg: #f8f8f8;
    --tocnav-active-text: #c00;
    --tocnav-active-bg: var(--tocnav-normal-bg);

    --tocsidebar-text: var(--text);
    --tocsidebar-bg: #f7f8f9;
    --tocsidebar-shadow: rgba(0,0,0,.1);
    --tocsidebar-heading-text: hsla(203,20%,40%,.7);

    --toclink-text: var(--text);
    --toclink-underline: #3980b5;
    --toclink-visited-text: var(--toclink-text);
    --toclink-visited-underline: #054572;

    --heading-text: #005a9c;

    --hr-text: var(--text);

    --algo-border: #def;

    --del-text: red;
    --del-bg: transparent;
    --ins-text: #080;
    --ins-bg: transparent;

    --a-normal-text: #034575;
    --a-normal-underline: #bbb;
    --a-visited-text: var(--a-normal-text);
    --a-visited-underline: #707070;
    --a-hover-bg: rgba(75%, 75%, 75%, .25);
    --a-active-text: #c00;
    --a-active-underline: #c00;

    --blockquote-border: silver;
    --blockquote-bg: transparent;
    --blockquote-text: currentcolor;

    --issue-border: #e05252;
    --issue-bg: #fbe9e9;
    --issue-text: var(--text);
    --issueheading-text: #831616;

    --example-border: #e0cb52;
    --example-bg: #fcfaee;
    --example-text: var(--text);
    --exampleheading-text: #574b0f;

    --note-border: #52e052;
    --note-bg: #e9fbe9;
    --note-text: var(--text);
    --noteheading-text: hsl(120, 70%, 30%);
    --notesummary-underline: silver;

    --assertion-border: #aaa;
    --assertion-bg: #eee;
    --assertion-text: black;

    --advisement-border: orange;
    --advisement-bg: #fec;
    --advisement-text: var(--text);
    --advisementheading-text: #b35f00;

    --warning-border: red;
    --warning-bg: hsla(40,100%,50%,0.95);
    --warning-text: var(--text);

    --amendment-border: #330099;
    --amendment-bg: #F5F0FF;
    --amendment-text: var(--text);
    --amendmentheading-text: #220066;

    --def-border: #8ccbf2;
    --def-bg: #def;
    --def-text: var(--text);
    --defrow-border: #bbd7e9;

    --datacell-border: silver;

    --indexinfo-text: #707070;

    --indextable-hover-text: black;
    --indextable-hover-bg: #f7f8f9;

    --outdatedspec-bg: rgba(0, 0, 0, .5);
    --outdatedspec-text: black;
    --outdated-bg: maroon;
    --outdated-text: white;
    --outdated-shadow: red;

    --editedrec-bg: darkorange;
}

@media (prefers-color-scheme: dark) {
    :root {
        --text: #ddd;
        --bg: black;

        --unofficial-watermark: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='400' height='400'%3E%3Cg fill='%23100808' transform='translate(200 200) rotate(-45) translate(-200 -200)' stroke='%23100808' stroke-width='3'%3E%3Ctext x='50%25' y='220' style='font: bold 70px sans-serif; text-anchor: middle; letter-spacing: 6px;'%3EUNOFFICIAL%3C/text%3E%3Ctext x='50%25' y='305' style='font: bold 70px sans-serif; text-anchor: middle; letter-spacing: 6px;'%3EDRAFT%3C/text%3E%3C/g%3E%3C/svg%3E");

        --logo-bg: #1a5e9a;
        --logo-active-bg: #c00;
        --logo-text: white;

        --tocnav-normal-text: #999;
        --tocnav-normal-bg: var(--bg);
        --tocnav-hover-text: var(--tocnav-normal-text);
        --tocnav-hover-bg: #080808;
        --tocnav-active-text: #f44;
        --tocnav-active-bg: var(--tocnav-normal-bg);

        --tocsidebar-text: var(--text);
        --tocsidebar-bg: #080808;
        --tocsidebar-shadow: rgba(255,255,255,.1);
        --tocsidebar-heading-text: hsla(203,20%,40%,.7);

        --toclink-text: var(--text);
        --toclink-underline: #6af;
        --toclink-visited-text: var(--toclink-text);
        --toclink-visited-underline: #054572;

        --heading-text: #8af;

        --hr-text: var(--text);

        --algo-border: #456;

        --del-text: #f44;
        --del-bg: transparent;
        --ins-text: #4a4;
        --ins-bg: transparent;

        --a-normal-text: #6af;
        --a-normal-underline: #555;
        --a-visited-text: var(--a-normal-text);
        --a-visited-underline: var(--a-normal-underline);
        --a-hover-bg: rgba(25%, 25%, 25%, .2);
        --a-active-text: #f44;
        --a-active-underline: var(--a-active-text);

        --borderedblock-bg: rgba(255, 255, 255, .05);

        --blockquote-border: silver;
        --blockquote-bg: var(--borderedblock-bg);
        --blockquote-text: currentcolor;

        --issue-border: #e05252;
        --issue-bg: var(--borderedblock-bg);
        --issue-text: var(--text);
        --issueheading-text: hsl(0deg, 70%, 70%);

        --example-border: hsl(50deg, 90%, 60%);
        --example-bg: var(--borderedblock-bg);
        --example-text: var(--text);
        --exampleheading-text: hsl(50deg, 70%, 70%);

        --note-border: hsl(120deg, 100%, 35%);
        --note-bg: var(--borderedblock-bg);
        --note-text: var(--text);
        --noteheading-text: hsl(120, 70%, 70%);
        --notesummary-underline: silver;

        --assertion-border: #444;
        --assertion-bg: var(--borderedblock-bg);
        --assertion-text: var(--text);

        --advisement-border: orange;
        --advisement-bg: #222218;
        --advisement-text: var(--text);
        --advisementheading-text: #f84;

        --warning-border: red;
        --warning-bg: hsla(40,100%,20%,0.95);
        --warning-text: var(--text);

        --amendment-border: #330099;
        --amendment-bg: #080010;
        --amendment-text: var(--text);
        --amendmentheading-text: #cc00ff;

        --def-border: #8ccbf2;
        --def-bg: #080818;
        --def-text: var(--text);
        --defrow-border: #136;

        --datacell-border: silver;

        --indexinfo-text: #aaa;

        --indextable-hover-text: var(--text);
        --indextable-hover-bg: #181818;

        --outdatedspec-bg: rgba(255, 255, 255, .5);
        --outdatedspec-text: black;
        --outdated-bg: maroon;
        --outdated-text: white;
        --outdated-shadow: red;

        --editedrec-bg: darkorange;
    }
    /* In case a transparent-bg image doesn't expect to be on a dark bg,
       which is quite common in practice... */
    img { background: white; }
}
</style>
<style>/* Boilerplate: style-counters */
body {
    counter-reset: example figure issue;
}
.issue {
    counter-increment: issue;
}
.issue:not(.no-marker)::before {
    content: "Issue " counter(issue);
}

.example {
    counter-increment: example;
}
.example:not(.no-marker)::before {
    content: "Example " counter(example);
}
.invalid.example:not(.no-marker)::before,
.illegal.example:not(.no-marker)::before {
    content: "Invalid Example" counter(example);
}

figcaption {
    counter-increment: figure;
}
figcaption:not(.no-marker)::before {
    content: "Figure " counter(figure) " ";
}
</style>
<style>/* Boilerplate: style-dfn-panel */
:root {
    --dfnpanel-bg: #ddd;
    --dfnpanel-text: var(--text);
    --dfnpanel-target-bg: #ffc;
    --dfnpanel-target-outline: orange;
}
@media (prefers-color-scheme: dark) {
    :root {
        --dfnpanel-bg: #222;
        --dfnpanel-text: var(--text);
        --dfnpanel-target-bg: #333;
        --dfnpanel-target-outline: silver;
    }
}
.dfn-panel {
    position: absolute;
    z-index: 35;
    width: 20em;
    width: 300px;
    height: auto;
    max-height: 500px;
    overflow: auto;
    padding: 0.5em 0.75em;
    font: small Helvetica Neue, sans-serif, Droid Sans Fallback;
    background: var(--dfnpanel-bg);
    color: var(--dfnpanel-text);
    border: outset 0.2em;
    white-space: normal; /* in case it's moved into a pre */
}
.dfn-panel:not(.on) { display: none; }
.dfn-panel * { margin: 0; padding: 0; text-indent: 0; }
.dfn-panel > b { display: block; }
.dfn-panel a { color: var(--dfnpanel-text); }
.dfn-panel a:not(:hover) { text-decoration: none !important; border-bottom: none !important; }
.dfn-panel a:focus {
    outline: 5px auto Highlight;
    outline: 5px auto -webkit-focus-ring-color;
}
.dfn-panel > b + b { margin-top: 0.25em; }
.dfn-panel ul { padding: 0 0 0 1em; list-style: none; }
.dfn-panel li a {
    max-width: calc(300px - 1.5em - 1em);
    overflow: hidden;
    text-overflow: ellipsis;
}

.dfn-panel.activated {
    display: inline-block;
    position: fixed;
    left: 8px;
    bottom: 2em;
    margin: 0 auto;
    max-width: calc(100vw - 1.5em - .4em - .5em);
    max-height: 30vh;
    transition: left 1s ease-out, bottom 1s ease-out;
}

.dfn-panel .link-item:hover {
    text-decoration: underline;
}
.dfn-panel .link-item .copy-icon {
    opacity: 0;
}
.dfn-panel .link-item:hover .copy-icon,
.dfn-panel .link-item .copy-icon:focus {
    opacity: 1;
}

.dfn-panel .copy-icon {
    display: inline-block;
    margin-right: 0.5em;
    width: 0.85em;
    height: 1em;
    border-radius: 3px;
    background-color: #ccc;
    cursor: pointer;
}

.dfn-panel .copy-icon .icon {
    width: 100%;
    height: 100%;
    background-color: #fff;
    display: flex;
    justify-content: center;
    align-items: center;
    position: relative;
}

.dfn-panel .copy-icon .icon::before {
    content: "";
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    border: 1px solid black;
    background-color: #ccc;
    opacity: 0.25;
    transform: translate(3px, -3px);
}

.dfn-panel .copy-icon:active .icon::before {
    opacity: 1;
}

.dfn-paneled[role="button"] { cursor: help; }

.highlighted {
    animation: target-fade 3s;
}

@keyframes target-fade {
    from {
        background-color: var(--dfnpanel-target-bg);
        outline: 5px solid var(--dfnpanel-target-outline);
    }
    to {
        color: var(--a-normal-text);
        background-color: transparent;
        outline: transparent;
    }
}
</style>
<style>/* Boilerplate: style-idl-highlighting */
pre.idl.highlight {
    background: var(--borderedblock-bg, var(--def-bg));
}
</style>
<style>/* Boilerplate: style-issues */
a[href].issue-return {
    float: right;
    float: inline-end;
    color: var(--issueheading-text);
    font-weight: bold;
    text-decoration: none;
}
</style>
<style>/* Boilerplate: style-md-lists */
/* This is a weird hack for me not yet following the commonmark spec
   regarding paragraph and lists. */
[data-md] > :first-child {
    margin-top: 0;
}
[data-md] > :last-child {
    margin-bottom: 0;
}
</style>
<style>/* Boilerplate: style-mdn-anno */
:root {
	--mdn-bg: #EEE;
	--mdn-shadow: #999;
	--mdn-nosupport-text: #ccc;
	--mdn-pass: green;
	--mdn-fail: red;
}
@media (prefers-color-scheme: dark) {
	:root {
		--mdn-bg: #222;
		--mdn-shadow: #444;
		--mdn-nosupport-text: #666;
		--mdn-pass: #690;
		--mdn-fail: #d22;
	}
}
.mdn-anno {
	background: var(--mdn-bg, #EEE);
	border-radius: .25em;
	box-shadow: 0 0 3px var(--mdn-shadow, #999);
	color: var(--text, black);
	font: 1em sans-serif;
	hyphens: none;
	max-width: min-content;
	overflow: hidden;
	padding: 0.2em;
	position: absolute;
	right: 0.3em;
	top: auto;
	white-space: nowrap;
	word-wrap: normal;
	z-index: 8;
}
.mdn-anno.unpositioned {
	display: none;
}
.mdn-anno.overlapping-main {
	opacity: .2;
	transition: opacity .1s;
}
.mdn-anno[open] {
	opacity: 1;
	z-index: 9;
	min-width: 9em;
}
.mdn-anno:hover {
	opacity: 1;
	outline: var(--text, black) 1px solid;
}
.mdn-anno > summary {
	font-weight: normal;
	text-align: right;
	cursor: pointer;
	display: block;
}
.mdn-anno > summary > .less-than-two-engines-flag {
	color: var(--mdn-fail);
	padding-right: 2px;
}
.mdn-anno > summary > .all-engines-flag {
	color: var(--mdn-pass);
	padding-right: 2px;
}
.mdn-anno > summary > span {
	color: #fff;
	background-color: #000;
	font-weight: normal;
	font-family: zillaslab, Palatino, "Palatino Linotype", serif;
	padding: 2px 3px 0px 3px;
	line-height: 1.3em;
	vertical-align: top;
}
.mdn-anno > .feature {
	margin-top: 20px;
}
.mdn-anno > .feature:not(:first-of-type) {
	border-top: 1px solid #999;
	margin-top: 6px;
	padding-top: 2px;
}
.mdn-anno > .feature > .less-than-two-engines-text {
	color: var(--mdn-fail);
}
.mdn-anno > .feature > .all-engines-text {
	color: var(--mdn-pass);
}
.mdn-anno > .feature > p {
	font-size: .75em;
	margin-top: 6px;
	margin-bottom: 0;
}
.mdn-anno > .feature > p + p {
	margin-top: 3px;
}
.mdn-anno > .feature > .support {
	display: block;
	font-size: 0.6em;
	margin: 0;
	padding: 0;
	margin-top: 2px;
}
.mdn-anno > .feature > .support + div {
	padding-top: 0.5em;
}
.mdn-anno > .feature > .support > hr {
	display: block;
	border: none;
	border-top: 1px dotted #999;
	padding: 3px 0px 0px 0px;
	margin: 2px 3px 0px 3px;
}
.mdn-anno > .feature > .support > hr::before {
	content: "";
}
.mdn-anno > .feature > .support > span {
	padding: 0.2em 0;
	display: block;
	display: table;
}
.mdn-anno > .feature > .support > span.no {
	color: var(--mdn-nosupport-text);
	filter: grayscale(100%);
}
.mdn-anno > .feature > .support > span.no::before {
	opacity: 0.5;
}
.mdn-anno > .feature > .support > span:first-of-type {
	padding-top: 0.5em;
}
.mdn-anno > .feature > .support > span > span {
	padding: 0 0.5em;
	display: table-cell;
}
.mdn-anno > .feature > .support > span > span:first-child {
	width: 100%;
}
.mdn-anno > .feature > .support > span > span:last-child {
	width: 100%;
	white-space: pre;
	padding: 0;
}
.mdn-anno > .feature > .support > span::before {
	content: ' ';
	display: table-cell;
	min-width: 1.5em;
	height: 1.5em;
	background: no-repeat center center;
	background-size: contain;
	text-align: right;
	font-size: 0.75em;
	font-weight: bold;
}
.mdn-anno > .feature > .support > .chrome_android::before {
	background-image: url(https://resources.whatwg.org/browser-logos/chrome.svg);
}
.mdn-anno > .feature > .support > .firefox_android::before {
	background-image: url(https://resources.whatwg.org/browser-logos/firefox.png);
}
.mdn-anno > .feature > .support > .chrome::before {
	background-image: url(https://resources.whatwg.org/browser-logos/chrome.svg);
}
.mdn-anno > .feature > .support > .edge_blink::before {
	background-image: url(https://resources.whatwg.org/browser-logos/edge.svg);
}
.mdn-anno > .feature > .support > .edge::before {
	background-image: url(https://resources.whatwg.org/browser-logos/edge_legacy.svg);
}
.mdn-anno > .feature > .support > .firefox::before {
	background-image: url(https://resources.whatwg.org/browser-logos/firefox.png);
}
.mdn-anno > .feature > .support > .ie::before {
	background-image: url(https://resources.whatwg.org/browser-logos/ie.png);
}
.mdn-anno > .feature > .support > .safari_ios::before {
	background-image: url(https://resources.whatwg.org/browser-logos/safari-ios.svg);
}
.mdn-anno > .feature > .support > .nodejs::before {
	background-image: url(https://nodejs.org/static/images/favicons/favicon.ico);
}
.mdn-anno > .feature > .support > .opera_android::before {
	background-image: url(https://resources.whatwg.org/browser-logos/opera.svg);
}
.mdn-anno > .feature > .support > .opera::before {
	background-image: url(https://resources.whatwg.org/browser-logos/opera.svg);
}
.mdn-anno > .feature > .support > .safari::before {
	background-image: url(https://resources.whatwg.org/browser-logos/safari.png);
}
.mdn-anno > .feature > .support > .samsunginternet_android::before {
	background-image: url(https://resources.whatwg.org/browser-logos/samsung.svg);
}
.mdn-anno > .feature > .support > .webview_android::before {
	background-image: url(https://resources.whatwg.org/browser-logos/android-webview.png);
}
.name-slug-mismatch {
	color: red;
}
.caniuse-status:hover {
	z-index: 9;
}
/* dt, li, .issue, .note, and .example are "position: relative", so to put annotation at right margin, must move to right of containing block */;
.h-entry:not(.status-LS) dt > .mdn-anno, .h-entry:not(.status-LS) li > .mdn-anno, .h-entry:not(.status-LS) .issue > .mdn-anno, .h-entry:not(.status-LS) .note > .mdn-anno, .h-entry:not(.status-LS) .example > .mdn-anno {
	right: -6.7em;
}
.h-entry p + .mdn-anno {
	margin-top: 0;
}
 h2 + .mdn-anno.after {
	margin: -48px 0 0 0;
}
 h3 + .mdn-anno.after {
	margin: -46px 0 0 0;
}
 h4 + .mdn-anno.after {
	margin: -42px 0 0 0;
}
 h5 + .mdn-anno.after {
	margin: -40px 0 0 0;
}
 h6 + .mdn-anno.after {
	margin: -40px 0 0 0;
}
</style>
<style>/* Boilerplate: style-ref-hints */
:root {
    --ref-hint-bg: #ddd;
    --ref-hint-text: var(--text);
}
@media (prefers-color-scheme: dark) {
    :root {
        --ref-hint-bg: #222;
        --ref-hint-text: var(--text);
    }
}

.ref-hint {
    display: inline-block;
    position: absolute;
    z-index: 35;
    width: 20em;
    width: 300px;
    height: auto;
    max-height: 500px;
    overflow: auto;
    padding: 0.5em 0.5em;
    font: small Helvetica Neue, sans-serif, Droid Sans Fallback;
    background: var(--ref-hint-bg);
    color: var(--ref-hint-text);
    border: outset 0.2em;
    white-space: normal; /* in case it's moved into a pre */
}

.ref-hint * { margin: 0; padding: 0; text-indent: 0; }

.ref-hint ul { padding: 0 0 0 1em; list-style: none; }
</style>
<style>/* Boilerplate: style-selflinks */
:root {
    --selflink-text: white;
    --selflink-bg: gray;
    --selflink-hover-text: black;
}
.heading, .issue, .note, .example, li, dt {
    position: relative;
}
a.self-link {
    position: absolute;
    top: 0;
    left: calc(-1 * (3.5rem - 26px));
    width: calc(3.5rem - 26px);
    height: 2em;
    text-align: center;
    border: none;
    transition: opacity .2s;
    opacity: .5;
}
a.self-link:hover {
    opacity: 1;
}
.heading > a.self-link {
    font-size: 83%;
}
.example > a.self-link,
.note > a.self-link,
.issue > a.self-link {
    /* These blocks are overflow:auto, so positioning outside
       doesn't work. */
    left: auto;
    right: 0;
}
li > a.self-link {
    left: calc(-1 * (3.5rem - 26px) - 2em);
}
dfn > a.self-link {
    top: auto;
    left: auto;
    opacity: 0;
    width: 1.5em;
    height: 1.5em;
    background: var(--selflink-bg);
    color: var(--selflink-text);
    font-style: normal;
    transition: opacity .2s, background-color .2s, color .2s;
}
dfn:hover > a.self-link {
    opacity: 1;
}
dfn > a.self-link:hover {
    color: var(--selflink-hover-text);
}

a.self-link::before            { content: "¶"; }
.heading > a.self-link::before { content: "§"; }
dfn > a.self-link::before      { content: "#"; }
</style>
<style>/* Boilerplate: style-syntax-highlighting */
code.highlight { padding: .1em; border-radius: .3em; }
pre.highlight, pre > code.highlight { display: block; padding: 1em; margin: .5em 0; overflow: auto; border-radius: 0; }

.highlight:not(.idl) { background: rgba(0, 0, 0, .03); }
c-[a] { color: #990055 } /* Keyword.Declaration */
c-[b] { color: #990055 } /* Keyword.Type */
c-[c] { color: #708090 } /* Comment */
c-[d] { color: #708090 } /* Comment.Multiline */
c-[e] { color: #0077aa } /* Name.Attribute */
c-[f] { color: #669900 } /* Name.Tag */
c-[g] { color: #222222 } /* Name.Variable */
c-[k] { color: #990055 } /* Keyword */
c-[l] { color: #000000 } /* Literal */
c-[m] { color: #000000 } /* Literal.Number */
c-[n] { color: #0077aa } /* Name */
c-[o] { color: #999999 } /* Operator */
c-[p] { color: #999999 } /* Punctuation */
c-[s] { color: #a67f59 } /* Literal.String */
c-[t] { color: #a67f59 } /* Literal.String.Single */
c-[u] { color: #a67f59 } /* Literal.String.Double */
c-[cp] { color: #708090 } /* Comment.Preproc */
c-[c1] { color: #708090 } /* Comment.Single */
c-[cs] { color: #708090 } /* Comment.Special */
c-[kc] { color: #990055 } /* Keyword.Constant */
c-[kn] { color: #990055 } /* Keyword.Namespace */
c-[kp] { color: #990055 } /* Keyword.Pseudo */
c-[kr] { color: #990055 } /* Keyword.Reserved */
c-[ld] { color: #000000 } /* Literal.Date */
c-[nc] { color: #0077aa } /* Name.Class */
c-[no] { color: #0077aa } /* Name.Constant */
c-[nd] { color: #0077aa } /* Name.Decorator */
c-[ni] { color: #0077aa } /* Name.Entity */
c-[ne] { color: #0077aa } /* Name.Exception */
c-[nf] { color: #0077aa } /* Name.Function */
c-[nl] { color: #0077aa } /* Name.Label */
c-[nn] { color: #0077aa } /* Name.Namespace */
c-[py] { color: #0077aa } /* Name.Property */
c-[ow] { color: #999999 } /* Operator.Word */
c-[mb] { color: #000000 } /* Literal.Number.Bin */
c-[mf] { color: #000000 } /* Literal.Number.Float */
c-[mh] { color: #000000 } /* Literal.Number.Hex */
c-[mi] { color: #000000 } /* Literal.Number.Integer */
c-[mo] { color: #000000 } /* Literal.Number.Oct */
c-[sb] { color: #a67f59 } /* Literal.String.Backtick */
c-[sc] { color: #a67f59 } /* Literal.String.Char */
c-[sd] { color: #a67f59 } /* Literal.String.Doc */
c-[se] { color: #a67f59 } /* Literal.String.Escape */
c-[sh] { color: #a67f59 } /* Literal.String.Heredoc */
c-[si] { color: #a67f59 } /* Literal.String.Interpol */
c-[sx] { color: #a67f59 } /* Literal.String.Other */
c-[sr] { color: #a67f59 } /* Literal.String.Regex */
c-[ss] { color: #a67f59 } /* Literal.String.Symbol */
c-[vc] { color: #0077aa } /* Name.Variable.Class */
c-[vg] { color: #0077aa } /* Name.Variable.Global */
c-[vi] { color: #0077aa } /* Name.Variable.Instance */
c-[il] { color: #000000 } /* Literal.Number.Integer.Long */

@media (prefers-color-scheme: dark) {
    .highlight:not(.idl) { background: rgba(255, 255, 255, .05); }

    c-[a] { color: #d33682 } /* Keyword.Declaration */
    c-[b] { color: #d33682 } /* Keyword.Type */
    c-[c] { color: #2aa198 } /* Comment */
    c-[d] { color: #2aa198 } /* Comment.Multiline */
    c-[e] { color: #268bd2 } /* Name.Attribute */
    c-[f] { color: #b58900 } /* Name.Tag */
    c-[g] { color: #cb4b16 } /* Name.Variable */
    c-[k] { color: #d33682 } /* Keyword */
    c-[l] { color: #657b83 } /* Literal */
    c-[m] { color: #657b83 } /* Literal.Number */
    c-[n] { color: #268bd2 } /* Name */
    c-[o] { color: #657b83 } /* Operator */
    c-[p] { color: #657b83 } /* Punctuation */
    c-[s] { color: #6c71c4 } /* Literal.String */
    c-[t] { color: #6c71c4 } /* Literal.String.Single */
    c-[u] { color: #6c71c4 } /* Literal.String.Double */
    c-[ch] { color: #2aa198 } /* Comment.Hashbang */
    c-[cp] { color: #2aa198 } /* Comment.Preproc */
    c-[cpf] { color: #2aa198 } /* Comment.PreprocFile */
    c-[c1] { color: #2aa198 } /* Comment.Single */
    c-[cs] { color: #2aa198 } /* Comment.Special */
    c-[kc] { color: #d33682 } /* Keyword.Constant */
    c-[kn] { color: #d33682 } /* Keyword.Namespace */
    c-[kp] { color: #d33682 } /* Keyword.Pseudo */
    c-[kr] { color: #d33682 } /* Keyword.Reserved */
    c-[ld] { color: #657b83 } /* Literal.Date */
    c-[nc] { color: #268bd2 } /* Name.Class */
    c-[no] { color: #268bd2 } /* Name.Constant */
    c-[nd] { color: #268bd2 } /* Name.Decorator */
    c-[ni] { color: #268bd2 } /* Name.Entity */
    c-[ne] { color: #268bd2 } /* Name.Exception */
    c-[nf] { color: #268bd2 } /* Name.Function */
    c-[nl] { color: #268bd2 } /* Name.Label */
    c-[nn] { color: #268bd2 } /* Name.Namespace */
    c-[py] { color: #268bd2 } /* Name.Property */
    c-[ow] { color: #657b83 } /* Operator.Word */
    c-[mb] { color: #657b83 } /* Literal.Number.Bin */
    c-[mf] { color: #657b83 } /* Literal.Number.Float */
    c-[mh] { color: #657b83 } /* Literal.Number.Hex */
    c-[mi] { color: #657b83 } /* Literal.Number.Integer */
    c-[mo] { color: #657b83 } /* Literal.Number.Oct */
    c-[sa] { color: #6c71c4 } /* Literal.String.Affix */
    c-[sb] { color: #6c71c4 } /* Literal.String.Backtick */
    c-[sc] { color: #6c71c4 } /* Literal.String.Char */
    c-[dl] { color: #6c71c4 } /* Literal.String.Delimiter */
    c-[sd] { color: #6c71c4 } /* Literal.String.Doc */
    c-[se] { color: #6c71c4 } /* Literal.String.Escape */
    c-[sh] { color: #6c71c4 } /* Literal.String.Heredoc */
    c-[si] { color: #6c71c4 } /* Literal.String.Interpol */
    c-[sx] { color: #6c71c4 } /* Literal.String.Other */
    c-[sr] { color: #6c71c4 } /* Literal.String.Regex */
    c-[ss] { color: #6c71c4 } /* Literal.String.Symbol */
    c-[fm] { color: #268bd2 } /* Name.Function.Magic */
    c-[vc] { color: #cb4b16 } /* Name.Variable.Class */
    c-[vg] { color: #cb4b16 } /* Name.Variable.Global */
    c-[vi] { color: #cb4b16 } /* Name.Variable.Instance */
    c-[vm] { color: #cb4b16 } /* Name.Variable.Magic */
    c-[il] { color: #657b83 } /* Literal.Number.Integer.Long */
}
</style>
<style>/* Boilerplate: style-wpt */
:root {
    --wpt-border: hsl(0, 0%, 60%);
    --wpt-bg: hsl(0, 0%, 95%);
    --wpt-text: var(--text);
    --wptheading-text: hsl(0, 0%, 30%);
}
@media (prefers-color-scheme: dark) {
    :root {
        --wpt-border: hsl(0, 0%, 30%);
        --wpt-bg: var(--borderedblock-bg);
        --wpt-text: var(--text);
        --wptheading-text: hsl(0, 0%, 60%);
    }
}
.wpt-tests-block {
    list-style: none;
    border-left: .5em solid var(--wpt-border);
    background: var(--wpt-bg);
    color: var(--wpt-text);
    margin: 1em auto;
    padding: .5em;
}
.wpt-tests-block summary {
    color: var(--wptheading-text);
    font-weight: normal;
    text-transform: uppercase;
}
.wpt-tests-block summary::marker{
    color: var(--wpt-border);
}
.wpt-tests-block summary:hover::marker{
    color: var(--wpt-text);
}
/*
   The only content  of a wpt test block in its closed state is the <summary>,
   which contains the word TESTS,
   and that is absolutely positioned.
   In that closed state, wpt test blocks are styled
   to have a top margin whose height is exactly equal
   to the height of the absolutely positioned <summary>,
   and no other background/padding/margin/border.
   The wpt test block elements will therefore allow the maring
   of the previous/next block elements
   to collapse through them;
   if this combined margin would be larger than its own top margin,
   it stays as is,
   and therefore the pre-existing vertical rhythm of the document is undisturbed.
   If that combined margin would be smaller, it is grown to that size.
   This means that the wpt test block ensures
   that there's always enough vertical space to insert the summary,
   without adding more than is needed.
*/
.wpt-tests-block:not([open]){
    padding: 0;
    border: none;
    background: none;
    font-size: 0.75em;
    line-height: 1;
    position: relative;
    margin: 1em 0 0;
}
.wpt-tests-block:not([open]) summary {
    position: absolute;
    right: 0;
    bottom: 0;
}
/*
   It is possible that both the last child of a block element
   and the block element itself
   would be annotated with a <wpt> block each.
   If the block element has a padding or a border,
   that's fine, but otherwise
   the bottom margin of the block and of its last child would collapse
   and both <wpt> elements would overlap, being both placed there.
   To avoid that, add 1px of padding to the <wpt> element annotating the last child
   to prevent the bottom margin of the block and of its last child from collapsing
   (and as much negative margin,
   as wel only want to prevent margin collapsing,
   but are not trying to actually take more space).
*/
.wpt-tests-block:not([open]):last-child {
    padding-bottom: 1px;
    margin-bottom: -1px;
}
/*
   Exception to the previous rule:
   don't do that in non-last list items,
   because it's not necessary,
   and would therefore consume more space than strictly needed.
   Lists must have list items as children, not <wpt> elements,
   so a <wpt> element cannot be a sibling of a list item,
   and the collision that the previous rule avoids cannot happen.
*/
li:not(:last-child) > .wpt-tests-block:not([open]):last-child,
dd:not(:last-child) > .wpt-tests-block:not([open]):last-child {
    padding-bottom: 0;
    margin-bottom: 0;
}
.wpt-tests-block:not([open]):not(:hover){
    opacity: 0.5;
}
.wpt-tests-list {
    list-style: none;
    display: grid;
    margin: 0;
    padding: 0;
    grid-template-columns: 1fr max-content auto auto;
    grid-column-gap: .5em;
}
.wpt-tests-block hr:last-child {
    display: none;
}
.wpt-test {
    display: contents;
}
.wpt-test > a {
    text-decoration: underline;
    border: none;
}
.wpt-test > .wpt-name { grid-column: 1; }
.wpt-test > .wpt-results { grid-column: 2; }
.wpt-test > .wpt-live { grid-column: 3; }
.wpt-test > .wpt-source { grid-column: 4; }

.wpt-test > .wpt-results {
    display: flex;
    gap: .1em;
}
.wpt-test .wpt-result {
    display: inline-block;
    height: 1em;
    width: 1em;
    border-radius: 50%;
    position: relative;
}
</style>
 <body class="h-entry">
  <div class="head">
   <p data-fill-with="logo"><a class="logo" href="https://www.w3.org/"> <img alt="W3C" height="48" src="https://www.w3.org/StyleSheets/TR/2021/logos/W3C" width="72"> </a> </p>
   <h1 class="p-name no-ref" id="title">CSS Font Loading Module Level 3</h1>
   <p id="w3c-state"><a href="https://www.w3.org/standards/types#ED">Editor’s Draft</a>, <time class="dt-updated" datetime="1970-01-01">1 January 1970</time></p>
   <details open>
    <summary>More details about this document</summary>
    <div data-fill-with="spec-metadata">
     <dl>
      <dt>This version:
      <dd><a class="u-url" href="https://drafts.csswg.org/css-font-loading/">https://drafts.csswg.org/css-font-loading/</a>
      <dt>Latest published version:
      <dd><a href="https://www.w3.org/TR/css-font-loading/">https://www.w3.org/TR/css-font-loading/</a>
      <dt>Previous Versions:
      <dd><a href="https://www.w3.org/TR/2014/WD-css-font-loading-3-20140522/" rel="prev">https://www.w3.org/TR/2014/WD-css-font-loading-3-20140522/</a>
      <dt>Feedback:
      <dd><a href="https://github.com/w3c/csswg-drafts/labels/css-font-loading-3">CSSWG Issues Repository</a>
      <dt class="editor">Editor:
      <dd class="editor p-author h-card vcard" data-editor-id="42199"><a class="p-name fn u-url url" href="http://xanthir.com/contact/">Tab Atkins Jr.</a> (<span class="p-org org">Google</span>)
      <dt class="editor">Former Editor:
      <dd class="editor p-author h-card vcard"><a class="p-name fn u-email email" href="mailto:jdaggett@mozilla.com">John Daggett</a> (<span class="p-org org">Mozilla</span>)
      <dt>Suggest an Edit for this Spec:
      <dd><a href="https://github.com/w3c/csswg-drafts/blob/main/css-font-loading-3/Overview.bs">GitHub Editor</a>
     </dl>
    </div>
   </details>
   <div data-fill-with="warning"></div>
   <p class="copyright" data-fill-with="copyright"><a href="https://www.w3.org/policies/#copyright">Copyright</a> © 1970 <a href="https://www.w3.org/">World Wide Web Consortium</a>. <abbr title="World Wide Web Consortium">W3C</abbr><sup>®</sup> <a href="https://www.w3.org/policies/#Legal_Disclaimer">liability</a>, <a href="https://www.w3.org/policies/#W3C_Trademarks">trademark</a> and <a href="https://www.w3.org/copyright/software-license/" rel="license" title="W3C Software and Document License">permissive document license</a> rules apply. </p>
   <hr title="Separator for header">
  </div>
  <div class="p-summary" data-fill-with="abstract">
   <h2 class="no-num no-toc no-ref heading settled" id="abstract"><span class="content">Abstract</span></h2>
   <p>This CSS module describes events and interfaces used for dynamically loading font resources.</p>
    <a href="https://www.w3.org/TR/CSS/">CSS</a> is a language for describing the rendering of structured documents
(such as HTML and XML)
on screen, on paper, etc. 
  </div>
  <h2 class="no-num no-toc no-ref heading settled" id="sotd"><span class="content">Status of this document</span></h2>
  <div data-fill-with="status">
   <p> This is a public copy of the editors’ draft.
	It is provided for discussion only and may change at any moment.
	Its publication here does not imply endorsement of its contents by W3C.
	Don’t cite this document other than as work in progress. </p>
   <p>Please send feedback
	by <a href="https://github.com/w3c/csswg-drafts/issues">filing issues in GitHub</a> (preferred),
	including the spec code “css-font-loading” in the title, like this:
	“[css-font-loading] <i>…summary of comment…</i>”.
	All issues and comments are <a href="https://lists.w3.org/Archives/Public/public-css-archive/">archived</a>.
	Alternately, feedback can be sent to the (<a href="https://lists.w3.org/Archives/Public/www-style/">archived</a>) public mailing list <a href="mailto:www-style@w3.org?Subject=%5Bcss-font-loading%5D%20PUT%20SUBJECT%20HERE">www-style@w3.org</a>. </p>
   <p>This document is governed by the <a href="https://www.w3.org/policies/process/20231103/" id="w3c_process_revision">03 November 2023 W3C Process Document</a>. </p>
   <p></p>
  </div>
  <div data-fill-with="at-risk"></div>
  <nav data-fill-with="table-of-contents" id="toc">
   <h2 class="no-num no-toc no-ref" id="contents">Table of Contents</h2>
   <ol class="toc" role="directory">
    <li>
     <a href="#introduction"><span class="secno">1</span> <span class="content"> Introduction</span></a>
     <ol class="toc">
      <li><a href="#values"><span class="secno">1.1</span> <span class="content"> Values</span></a>
      <li><a href="#task-source"><span class="secno">1.2</span> <span class="content"> Task Sources</span></a>
     </ol>
    <li>
     <a href="#fontface-interface"><span class="secno">2</span> <span class="content"> The <code>FontFace</code> Interface</span></a>
     <ol class="toc">
      <li><a href="#font-face-constructor"><span class="secno">2.1</span> <span class="content"> The Constructor</span></a>
      <li><a href="#font-face-load"><span class="secno">2.2</span> <span class="content"> The <code>load()</code> method</span></a>
      <li><a href="#font-face-css-connection"><span class="secno">2.3</span> <span class="content"> Interaction with CSS’s <span class="css">@font-face</span> Rule</span></a>
     </ol>
    <li>
     <a href="#FontFaceSet-interface"><span class="secno">3</span> <span class="content"> The <code>FontFaceSet</code> Interface</span></a>
     <ol class="toc">
      <li><a href="#FontFaceSet-events"><span class="secno">3.1</span> <span class="content"> Events</span></a>
      <li><a href="#font-face-set-load"><span class="secno">3.2</span> <span class="content"> The <code>load()</code> method</span></a>
      <li><a href="#font-face-set-check"><span class="secno">3.3</span> <span class="content"> The <code>check()</code> method</span></a>
      <li><a href="#font-face-set-ready"><span class="secno">3.4</span> <span class="content"> The <code>ready</code> attribute</span></a>
      <li><a href="#font-face-set-css"><span class="secno">3.5</span> <span class="content"> Interaction with CSS Font Loading and Matching</span></a>
     </ol>
    <li>
     <a href="#font-face-source"><span class="secno">4</span> <span class="content"> The <code>FontFaceSource</code> Mixin</span></a>
     <ol class="toc">
      <li><a href="#fontfacesource-workers"><span class="secno">4.1</span> <span class="content"> Worker FontFaceSources</span></a>
      <li><a href="#document-font-face-set"><span class="secno">4.2</span> <span class="content"> Interaction with CSS’s <span class="css">@font-face</span> Rule</span></a>
     </ol>
    <li><a href="#font-load-event-examples"><span class="secno">5</span> <span class="content"> API Examples</span></a>
    <li><a href="#changes"><span class="secno"></span> <span class="content">Changes</span></a>
    <li><a href="#acknowledgments"><span class="secno"></span> <span class="content"> Acknowledgments</span></a>
    <li><a href="#priv-sec"><span class="secno"></span> <span class="content"> Privacy &amp; Security Considerations</span></a>
    <li>
     <a href="#w3c-conformance"><span class="secno"></span> <span class="content"> Conformance</span></a>
     <ol class="toc">
      <li><a href="#w3c-conventions"><span class="secno"></span> <span class="content"> Document conventions</span></a>
      <li><a href="#w3c-conformance-classes"><span class="secno"></span> <span class="content"> Conformance classes</span></a>
      <li>
       <a href="#w3c-partial"><span class="secno"></span> <span class="content"> Partial implementations</span></a>
       <ol class="toc">
        <li><a href="#w3c-conform-future-proofing"><span class="secno"></span> <span class="content"> Implementations of Unstable and Proprietary Features</span></a>
       </ol>
      <li><a href="#w3c-testing"><span class="secno"></span> <span class="content"> Non-experimental implementations</span></a>
     </ol>
    <li>
     <a href="#index"><span class="secno"></span> <span class="content">Index</span></a>
     <ol class="toc">
      <li><a href="#index-defined-here"><span class="secno"></span> <span class="content">Terms defined by this specification</span></a>
      <li><a href="#index-defined-elsewhere"><span class="secno"></span> <span class="content">Terms defined by reference</span></a>
     </ol>
    <li>
     <a href="#references"><span class="secno"></span> <span class="content">References</span></a>
     <ol class="toc">
      <li><a href="#normative"><span class="secno"></span> <span class="content">Normative References</span></a>
     </ol>
    <li><a href="#idl-index"><span class="secno"></span> <span class="content">IDL Index</span></a>
    <li><a href="#issues-index"><span class="secno"></span> <span class="content">Issues Index</span></a>
   </ol>
  </nav>
  <main>
   <h2 class="heading settled" data-level="1" id="introduction"><span class="secno">1. </span><span class="content"> Introduction</span><a class="self-link" href="#introduction"></a></h2>
   <p>CSS allows authors to load custom fonts from the web via the <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-fonts-5/#at-font-face-rule" id="ref-for-at-font-face-rule">@font-face</a> rule.
	While this is easy to use when authoring a stylesheet,
	it’s much more difficult to use dynamically via scripting.</p>
   <p>Further, CSS allows the user agent to choose when to actually load a font;
	if a font face isn’t <em>currently</em> used by anything on a page,
	most user agents will not download its associated file.
	This means that later use of the font face will incur a delay
	as the user agent finally notices a usage and begins downloading and parsing the font file.</p>
   <p>This specification defines a scripting interface to font faces in CSS,
	allowing font faces to be easily created (via the <code class="idl"><a data-link-type="idl" href="#fontface" id="ref-for-fontface">FontFace</a></code> interface)
	and loaded from script (via <a href="#font-face-source">document.fonts</a>).
	It also provides methods to track the loading status of an individual font,
	or of all the fonts on an entire page.</p>
   <p class="issue" id="issue-9cdca628"><a class="self-link" href="#issue-9cdca628"></a> Several things in this spec use normal ES objects to define behavior,
	such as various things using Promises internally,
	and FontFaceSet using a Set internally.
	I believe the intention here is that these objects
	(and their prototype chains) are pristine,
	unaffected by anything the author has done.
	Is this a good intention?
	If so, how should I indicate this in the spec?</p>
   <h3 class="heading settled" data-level="1.1" id="values"><span class="secno">1.1. </span><span class="content"> Values</span><a class="self-link" href="#values"></a></h3>
   <p>This specification uses <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-promise" id="ref-for-idl-promise">Promise</a></code>s,
	which are defined in <a href="http://wiki.ecmascript.org/doku.php?id=harmony:specification_drafts">ECMAScript 6</a>.
	HTML5Rocks has some <a href="http://www.html5rocks.com/en/tutorials/es6/promises/">good tutorial material introducing Promises</a>.</p>
   <h3 class="heading settled" data-level="1.2" id="task-source"><span class="secno">1.2. </span><span class="content"> Task Sources</span><a class="self-link" href="#task-source"></a></h3>
   <p>Whenever this specification queues a task,
	it queues it onto the "font loading" task source.</p>
   <h2 class="heading settled" data-level="2" id="fontface-interface"><span class="secno">2. </span><span class="content"> The <code>FontFace</code> Interface</span><a class="self-link" href="#fontface-interface"></a></h2>
   <p>The <code class="idl"><a data-link-type="idl" href="#fontface" id="ref-for-fontface①">FontFace</a></code> interface represents a single usable font face.
	CSS <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-fonts-5/#at-font-face-rule" id="ref-for-at-font-face-rule①">@font-face</a> rules implicitly define FontFace objects,
	or they can be constructed manually from a url or binary data.</p>
<pre class="idl highlight def"><c- b>typedef</c-> (<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-ArrayBuffer" id="ref-for-idl-ArrayBuffer"><c- b>ArrayBuffer</c-></a> <c- b>or</c-> <a data-link-type="idl-name" href="https://webidl.spec.whatwg.org/#ArrayBufferView" id="ref-for-ArrayBufferView"><c- n>ArrayBufferView</c-></a>) <dfn class="dfn-paneled idl-code" data-dfn-type="typedef" data-export id="typedefdef-binarydata"><code><c- g>BinaryData</c-></code></dfn>;

<c- b>dictionary</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="dictionary" data-export id="dictdef-fontfacedescriptors"><code><c- g>FontFaceDescriptors</c-></code></dfn> {
  <a data-link-type="idl-name" href="https://drafts.csswg.org/cssom-1/#cssomstring" id="ref-for-cssomstring"><c- n>CSSOMString</c-></a> <dfn class="dfn-paneled idl-code" data-default="&quot;normal&quot;" data-dfn-for="FontFaceDescriptors" data-dfn-type="dict-member" data-export data-type="CSSOMString" id="dom-fontfacedescriptors-style"><code><c- g>style</c-></code></dfn> = "normal";
  <a data-link-type="idl-name" href="https://drafts.csswg.org/cssom-1/#cssomstring" id="ref-for-cssomstring①"><c- n>CSSOMString</c-></a> <dfn class="dfn-paneled idl-code" data-default="&quot;normal&quot;" data-dfn-for="FontFaceDescriptors" data-dfn-type="dict-member" data-export data-type="CSSOMString" id="dom-fontfacedescriptors-weight"><code><c- g>weight</c-></code></dfn> = "normal";
  <a data-link-type="idl-name" href="https://drafts.csswg.org/cssom-1/#cssomstring" id="ref-for-cssomstring②"><c- n>CSSOMString</c-></a> <dfn class="dfn-paneled idl-code" data-default="&quot;normal&quot;" data-dfn-for="FontFaceDescriptors" data-dfn-type="dict-member" data-export data-type="CSSOMString" id="dom-fontfacedescriptors-stretch"><code><c- g>stretch</c-></code></dfn> = "normal";
  <a data-link-type="idl-name" href="https://drafts.csswg.org/cssom-1/#cssomstring" id="ref-for-cssomstring③"><c- n>CSSOMString</c-></a> <dfn class="dfn-paneled idl-code" data-default="&quot;U+0-10FFFF&quot;" data-dfn-for="FontFaceDescriptors" data-dfn-type="dict-member" data-export data-type="CSSOMString" id="dom-fontfacedescriptors-unicoderange"><code><c- g>unicodeRange</c-></code></dfn> = "U+0-10FFFF";
  <a data-link-type="idl-name" href="https://drafts.csswg.org/cssom-1/#cssomstring" id="ref-for-cssomstring④"><c- n>CSSOMString</c-></a> <dfn class="dfn-paneled idl-code" data-default="&quot;normal&quot;" data-dfn-for="FontFaceDescriptors" data-dfn-type="dict-member" data-export data-type="CSSOMString" id="dom-fontfacedescriptors-variant"><code><c- g>variant</c-></code></dfn> = "normal";
  <a data-link-type="idl-name" href="https://drafts.csswg.org/cssom-1/#cssomstring" id="ref-for-cssomstring⑤"><c- n>CSSOMString</c-></a> <dfn class="dfn-paneled idl-code" data-default="&quot;normal&quot;" data-dfn-for="FontFaceDescriptors" data-dfn-type="dict-member" data-export data-type="CSSOMString" id="dom-fontfacedescriptors-featuresettings"><code><c- g>featureSettings</c-></code></dfn> = "normal";
  <a data-link-type="idl-name" href="https://drafts.csswg.org/cssom-1/#cssomstring" id="ref-for-cssomstring⑥"><c- n>CSSOMString</c-></a> <dfn class="dfn-paneled idl-code" data-default="&quot;normal&quot;" data-dfn-for="FontFaceDescriptors" data-dfn-type="dict-member" data-export data-type="CSSOMString" id="dom-fontfacedescriptors-variationsettings"><code><c- g>variationSettings</c-></code></dfn> = "normal";
  <a data-link-type="idl-name" href="https://drafts.csswg.org/cssom-1/#cssomstring" id="ref-for-cssomstring⑦"><c- n>CSSOMString</c-></a> <dfn class="dfn-paneled idl-code" data-default="&quot;auto&quot;" data-dfn-for="FontFaceDescriptors" data-dfn-type="dict-member" data-export data-type="CSSOMString" id="dom-fontfacedescriptors-display"><code><c- g>display</c-></code></dfn> = "auto";
  <a data-link-type="idl-name" href="https://drafts.csswg.org/cssom-1/#cssomstring" id="ref-for-cssomstring⑧"><c- n>CSSOMString</c-></a> <dfn class="dfn-paneled idl-code" data-default="&quot;normal&quot;" data-dfn-for="FontFaceDescriptors" data-dfn-type="dict-member" data-export data-type="CSSOMString" id="dom-fontfacedescriptors-ascentoverride"><code><c- g>ascentOverride</c-></code></dfn> = "normal";
  <a data-link-type="idl-name" href="https://drafts.csswg.org/cssom-1/#cssomstring" id="ref-for-cssomstring⑨"><c- n>CSSOMString</c-></a> <dfn class="dfn-paneled idl-code" data-default="&quot;normal&quot;" data-dfn-for="FontFaceDescriptors" data-dfn-type="dict-member" data-export data-type="CSSOMString" id="dom-fontfacedescriptors-descentoverride"><code><c- g>descentOverride</c-></code></dfn> = "normal";
  <a data-link-type="idl-name" href="https://drafts.csswg.org/cssom-1/#cssomstring" id="ref-for-cssomstring①⓪"><c- n>CSSOMString</c-></a> <dfn class="dfn-paneled idl-code" data-default="&quot;normal&quot;" data-dfn-for="FontFaceDescriptors" data-dfn-type="dict-member" data-export data-type="CSSOMString" id="dom-fontfacedescriptors-linegapoverride"><code><c- g>lineGapOverride</c-></code></dfn> = "normal";
};

<c- b>enum</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="enum" data-export id="enumdef-fontfaceloadstatus"><code><c- g>FontFaceLoadStatus</c-></code></dfn> { <dfn class="dfn-paneled idl-code" data-dfn-for="FontFaceLoadStatus" data-dfn-type="enum-value" data-export id="dom-fontfaceloadstatus-unloaded"><code><c- s>"unloaded"</c-></code></dfn>, <dfn class="dfn-paneled idl-code" data-dfn-for="FontFaceLoadStatus" data-dfn-type="enum-value" data-export id="dom-fontfaceloadstatus-loading"><code><c- s>"loading"</c-></code></dfn>, <dfn class="dfn-paneled idl-code" data-dfn-for="FontFaceLoadStatus" data-dfn-type="enum-value" data-export id="dom-fontfaceloadstatus-loaded"><code><c- s>"loaded"</c-></code></dfn>, <dfn class="dfn-paneled idl-code" data-dfn-for="FontFaceLoadStatus" data-dfn-type="enum-value" data-export id="dom-fontfaceloadstatus-error"><code><c- s>"error"</c-></code></dfn> };

[<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Exposed" id="ref-for-Exposed"><c- g>Exposed</c-></a>=(<c- n>Window</c->,<c- n>Worker</c->)]
<c- b>interface</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="interface" data-export id="fontface"><code><c- g>FontFace</c-></code></dfn> {
  <a class="idl-code" data-link-type="constructor" href="#dom-fontface-fontface" id="ref-for-dom-fontface-fontface"><c- g>constructor</c-></a>(<a data-link-type="idl-name" href="https://drafts.csswg.org/cssom-1/#cssomstring" id="ref-for-cssomstring①①"><c- n>CSSOMString</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="FontFace/FontFace(family, source, descriptors), FontFace/constructor(family, source, descriptors), FontFace/FontFace(family, source), FontFace/constructor(family, source)" data-dfn-type="argument" data-export id="dom-fontface-fontface-family-source-descriptors-family"><code><c- g>family</c-></code></dfn>, (<a data-link-type="idl-name" href="https://drafts.csswg.org/cssom-1/#cssomstring" id="ref-for-cssomstring①②"><c- n>CSSOMString</c-></a> <c- b>or</c-> <a data-link-type="idl-name" href="#typedefdef-binarydata" id="ref-for-typedefdef-binarydata"><c- n>BinaryData</c-></a>) <dfn class="dfn-paneled idl-code" data-dfn-for="FontFace/FontFace(family, source, descriptors), FontFace/constructor(family, source, descriptors), FontFace/FontFace(family, source), FontFace/constructor(family, source)" data-dfn-type="argument" data-export id="dom-fontface-fontface-family-source-descriptors-source"><code><c- g>source</c-></code></dfn>,
                <c- b>optional</c-> <a data-link-type="idl-name" href="#dictdef-fontfacedescriptors" id="ref-for-dictdef-fontfacedescriptors"><c- n>FontFaceDescriptors</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="FontFace/FontFace(family, source, descriptors), FontFace/constructor(family, source, descriptors), FontFace/FontFace(family, source), FontFace/constructor(family, source)" data-dfn-type="argument" data-export id="dom-fontface-fontface-family-source-descriptors-descriptors"><code><c- g>descriptors</c-></code></dfn> = {});
  <c- b>attribute</c-> <a data-link-type="idl-name" href="https://drafts.csswg.org/cssom-1/#cssomstring" id="ref-for-cssomstring①③"><c- n>CSSOMString</c-></a> <a class="idl-code" data-link-type="attribute" data-type="CSSOMString" href="#dom-fontface-family" id="ref-for-dom-fontface-family"><c- g>family</c-></a>;
  <c- b>attribute</c-> <a data-link-type="idl-name" href="https://drafts.csswg.org/cssom-1/#cssomstring" id="ref-for-cssomstring①④"><c- n>CSSOMString</c-></a> <a class="idl-code" data-link-type="attribute" data-type="CSSOMString" href="#dom-fontface-style" id="ref-for-dom-fontface-style"><c- g>style</c-></a>;
  <c- b>attribute</c-> <a data-link-type="idl-name" href="https://drafts.csswg.org/cssom-1/#cssomstring" id="ref-for-cssomstring①⑤"><c- n>CSSOMString</c-></a> <a class="idl-code" data-link-type="attribute" data-type="CSSOMString" href="#dom-fontface-weight" id="ref-for-dom-fontface-weight"><c- g>weight</c-></a>;
  <c- b>attribute</c-> <a data-link-type="idl-name" href="https://drafts.csswg.org/cssom-1/#cssomstring" id="ref-for-cssomstring①⑥"><c- n>CSSOMString</c-></a> <a class="idl-code" data-link-type="attribute" data-type="CSSOMString" href="#dom-fontface-stretch" id="ref-for-dom-fontface-stretch"><c- g>stretch</c-></a>;
  <c- b>attribute</c-> <a data-link-type="idl-name" href="https://drafts.csswg.org/cssom-1/#cssomstring" id="ref-for-cssomstring①⑦"><c- n>CSSOMString</c-></a> <a class="idl-code" data-link-type="attribute" data-type="CSSOMString" href="#dom-fontface-unicoderange" id="ref-for-dom-fontface-unicoderange"><c- g>unicodeRange</c-></a>;
  <c- b>attribute</c-> <a data-link-type="idl-name" href="https://drafts.csswg.org/cssom-1/#cssomstring" id="ref-for-cssomstring①⑧"><c- n>CSSOMString</c-></a> <a class="idl-code" data-link-type="attribute" data-type="CSSOMString" href="#dom-fontface-variant" id="ref-for-dom-fontface-variant"><c- g>variant</c-></a>;
  <c- b>attribute</c-> <a data-link-type="idl-name" href="https://drafts.csswg.org/cssom-1/#cssomstring" id="ref-for-cssomstring①⑨"><c- n>CSSOMString</c-></a> <a class="idl-code" data-link-type="attribute" data-type="CSSOMString" href="#dom-fontface-featuresettings" id="ref-for-dom-fontface-featuresettings"><c- g>featureSettings</c-></a>;
  <c- b>attribute</c-> <a data-link-type="idl-name" href="https://drafts.csswg.org/cssom-1/#cssomstring" id="ref-for-cssomstring②⓪"><c- n>CSSOMString</c-></a> <a class="idl-code" data-link-type="attribute" data-type="CSSOMString" href="#dom-fontface-variationsettings" id="ref-for-dom-fontface-variationsettings"><c- g>variationSettings</c-></a>;
  <c- b>attribute</c-> <a data-link-type="idl-name" href="https://drafts.csswg.org/cssom-1/#cssomstring" id="ref-for-cssomstring②①"><c- n>CSSOMString</c-></a> <a class="idl-code" data-link-type="attribute" data-type="CSSOMString" href="#dom-fontface-display" id="ref-for-dom-fontface-display"><c- g>display</c-></a>;
  <c- b>attribute</c-> <a data-link-type="idl-name" href="https://drafts.csswg.org/cssom-1/#cssomstring" id="ref-for-cssomstring②②"><c- n>CSSOMString</c-></a> <a class="idl-code" data-link-type="attribute" data-type="CSSOMString" href="#dom-fontface-ascentoverride" id="ref-for-dom-fontface-ascentoverride"><c- g>ascentOverride</c-></a>;
  <c- b>attribute</c-> <a data-link-type="idl-name" href="https://drafts.csswg.org/cssom-1/#cssomstring" id="ref-for-cssomstring②③"><c- n>CSSOMString</c-></a> <a class="idl-code" data-link-type="attribute" data-type="CSSOMString" href="#dom-fontface-descentoverride" id="ref-for-dom-fontface-descentoverride"><c- g>descentOverride</c-></a>;
  <c- b>attribute</c-> <a data-link-type="idl-name" href="https://drafts.csswg.org/cssom-1/#cssomstring" id="ref-for-cssomstring②④"><c- n>CSSOMString</c-></a> <a class="idl-code" data-link-type="attribute" data-type="CSSOMString" href="#dom-fontface-linegapoverride" id="ref-for-dom-fontface-linegapoverride"><c- g>lineGapOverride</c-></a>;

  <c- b>readonly</c-> <c- b>attribute</c-> <a data-link-type="idl-name" href="#enumdef-fontfaceloadstatus" id="ref-for-enumdef-fontfaceloadstatus"><c- n>FontFaceLoadStatus</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="FontFaceLoadStatus" href="#dom-fontface-status" id="ref-for-dom-fontface-status"><c- g>status</c-></a>;

  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise" id="ref-for-idl-promise①"><c- b>Promise</c-></a>&lt;<a data-link-type="idl-name" href="#fontface" id="ref-for-fontface②"><c- n>FontFace</c-></a>> <a class="idl-code" data-link-type="method" href="#dom-fontface-load" id="ref-for-dom-fontface-load"><c- g>load</c-></a>();
  <c- b>readonly</c-> <c- b>attribute</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise" id="ref-for-idl-promise②"><c- b>Promise</c-></a>&lt;<a data-link-type="idl-name" href="#fontface" id="ref-for-fontface③"><c- n>FontFace</c-></a>> <a class="idl-code" data-link-type="attribute" data-readonly data-type="Promise<FontFace>" href="#dom-fontface-loaded" id="ref-for-dom-fontface-loaded"><c- g>loaded</c-></a>;
};
</pre>
   <p class="issue" id="issue-9ae72be4"><a class="self-link" href="#issue-9ae72be4"></a> Clarify all mentions of "the document" to be clear about which document is being referenced,
	since objects can move between documents.</p>
   <div>
    <dl>
     <dt data-md><dfn class="dfn-paneled idl-code" data-dfn-for="FontFace" data-dfn-type="attribute" data-export id="dom-fontface-family"><code>family</code></dfn>, <span> of type <a data-link-type="idl-name" href="https://drafts.csswg.org/cssom-1/#cssomstring" id="ref-for-cssomstring②⑤">CSSOMString</a></span>
     <dt data-md><dfn class="dfn-paneled idl-code" data-dfn-for="FontFace" data-dfn-type="attribute" data-export id="dom-fontface-style"><code>style</code></dfn>, <span> of type <a data-link-type="idl-name" href="https://drafts.csswg.org/cssom-1/#cssomstring" id="ref-for-cssomstring②⑥">CSSOMString</a></span>
     <dt data-md><dfn class="dfn-paneled idl-code" data-dfn-for="FontFace" data-dfn-type="attribute" data-export id="dom-fontface-weight"><code>weight</code></dfn>, <span> of type <a data-link-type="idl-name" href="https://drafts.csswg.org/cssom-1/#cssomstring" id="ref-for-cssomstring②⑦">CSSOMString</a></span>
     <dt data-md><dfn class="dfn-paneled idl-code" data-dfn-for="FontFace" data-dfn-type="attribute" data-export id="dom-fontface-stretch"><code>stretch</code></dfn>, <span> of type <a data-link-type="idl-name" href="https://drafts.csswg.org/cssom-1/#cssomstring" id="ref-for-cssomstring②⑧">CSSOMString</a></span>
     <dt data-md><dfn class="dfn-paneled idl-code" data-dfn-for="FontFace" data-dfn-type="attribute" data-export id="dom-fontface-unicoderange"><code>unicodeRange</code></dfn>, <span> of type <a data-link-type="idl-name" href="https://drafts.csswg.org/cssom-1/#cssomstring" id="ref-for-cssomstring②⑨">CSSOMString</a></span>
     <dd data-md>
      <p>These attributes all represent the corresponding aspects of a font face,
as defined by the descriptors defined in the CSS <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-fonts-5/#at-font-face-rule" id="ref-for-at-font-face-rule②">@font-face</a> rule.
They are parsed the same as the corresponding <span class="css" id="ref-for-at-font-face-rule③">@font-face</span> descriptors.
They are used by the font matching algorithm,
but otherwise have no effect.</p>
      <p>For example, a <code class="idl"><a data-link-type="idl" href="#fontface" id="ref-for-fontface④">FontFace</a></code> with a <code class="idl"><a data-link-type="idl" href="#dom-fontface-style" id="ref-for-dom-fontface-style①">style</a></code> of <code>"italic"</code> <em>represents</em> an italic font face;
it does not <strong>make</strong> the font face italic.</p>
      <p>On getting, return the string associated with this attribute.</p>
      <p>On setting, <a data-link-type="dfn" href="https://drafts.csswg.org/css-syntax-3/#css-parse-something-according-to-a-css-grammar" id="ref-for-css-parse-something-according-to-a-css-grammar">parse</a> the string according to the grammar for the corresponding <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-fonts-5/#at-font-face-rule" id="ref-for-at-font-face-rule④">@font-face</a> descriptor.
If it does not match the grammar,
throw a <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#syntaxerror" id="ref-for-syntaxerror">SyntaxError</a></code>;
otherwise, set the attribute to the serialization of the parsed value.</p>
     <dt data-md><dfn class="dfn-paneled idl-code" data-dfn-for="FontFace" data-dfn-type="attribute" data-export id="dom-fontface-variant"><code>variant</code></dfn>, <span> of type <a data-link-type="idl-name" href="https://drafts.csswg.org/cssom-1/#cssomstring" id="ref-for-cssomstring③⓪">CSSOMString</a></span>
     <dt data-md><dfn class="dfn-paneled idl-code" data-dfn-for="FontFace" data-dfn-type="attribute" data-export id="dom-fontface-featuresettings"><code>featureSettings</code></dfn>, <span> of type <a data-link-type="idl-name" href="https://drafts.csswg.org/cssom-1/#cssomstring" id="ref-for-cssomstring③①">CSSOMString</a></span>
     <dt data-md><dfn class="dfn-paneled idl-code" data-dfn-for="FontFace" data-dfn-type="attribute" data-export id="dom-fontface-variationsettings"><code>variationSettings</code></dfn>, <span> of type <a data-link-type="idl-name" href="https://drafts.csswg.org/cssom-1/#cssomstring" id="ref-for-cssomstring③②">CSSOMString</a></span>
     <dt data-md><dfn class="dfn-paneled idl-code" data-dfn-for="FontFace" data-dfn-type="attribute" data-export id="dom-fontface-display"><code>display</code></dfn>, <span> of type <a data-link-type="idl-name" href="https://drafts.csswg.org/cssom-1/#cssomstring" id="ref-for-cssomstring③③">CSSOMString</a></span>
     <dt data-md><dfn class="dfn-paneled idl-code" data-dfn-for="FontFace" data-dfn-type="attribute" data-export id="dom-fontface-ascentoverride"><code>ascentOverride</code></dfn>, <span> of type <a data-link-type="idl-name" href="https://drafts.csswg.org/cssom-1/#cssomstring" id="ref-for-cssomstring③④">CSSOMString</a></span>
     <dt data-md><dfn class="dfn-paneled idl-code" data-dfn-for="FontFace" data-dfn-type="attribute" data-export id="dom-fontface-descentoverride"><code>descentOverride</code></dfn>, <span> of type <a data-link-type="idl-name" href="https://drafts.csswg.org/cssom-1/#cssomstring" id="ref-for-cssomstring③⑤">CSSOMString</a></span>
     <dt data-md><dfn class="dfn-paneled idl-code" data-dfn-for="FontFace" data-dfn-type="attribute" data-export id="dom-fontface-linegapoverride"><code>lineGapOverride</code></dfn>, <span> of type <a data-link-type="idl-name" href="https://drafts.csswg.org/cssom-1/#cssomstring" id="ref-for-cssomstring③⑥">CSSOMString</a></span>
     <dd data-md>
      <p>These attributes have the same meaning,
and are parsed the same as,
the corresponding descriptors in the CSS <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-fonts-5/#at-font-face-rule" id="ref-for-at-font-face-rule⑤">@font-face</a> rules.</p>
      <p>They turn on or off specific features in fonts that support them.
Unlike the previous attributes,
these attributes actually affect the font face.</p>
      <p>On getting, return the string associated with this attribute.</p>
      <p>On setting, <a data-link-type="dfn" href="https://drafts.csswg.org/css-syntax-3/#css-parse-something-according-to-a-css-grammar" id="ref-for-css-parse-something-according-to-a-css-grammar①">parse</a> the string according to the grammar for the corresponding <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-fonts-5/#at-font-face-rule" id="ref-for-at-font-face-rule⑥">@font-face</a> descriptor.
If it does not match the grammar,
throw a <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#syntaxerror" id="ref-for-syntaxerror①">SyntaxError</a></code>;
otherwise, set the attribute to the serialization of the parsed value.</p>
     <dt data-md><dfn class="dfn-paneled idl-code" data-dfn-for="FontFace" data-dfn-type="attribute" data-export id="dom-fontface-status"><code>status</code></dfn>, <span> of type <a data-link-type="idl-name" href="#enumdef-fontfaceloadstatus" id="ref-for-enumdef-fontfaceloadstatus①">FontFaceLoadStatus</a>, readonly</span>
     <dd data-md>
      <p>This attribute reflects the current status of the font face.
It must be "unloaded" for a newly-created <code class="idl"><a data-link-type="idl" href="#fontface" id="ref-for-fontface⑤">FontFace</a></code>.</p>
      <p>It can change due to an author explicitly requesting a font face to load,
such as through the <code class="idl"><a data-link-type="idl" href="#dom-fontface-load" id="ref-for-dom-fontface-load①">load()</a></code> method on <code class="idl"><a data-link-type="idl" href="#fontface" id="ref-for-fontface⑥">FontFace</a></code>,
or implicitly by the user agent,
due to it detecting that the font face is needed to draw some text on the screen.</p>
     <dt data-md><dfn class="dfn-paneled idl-code" data-dfn-for="FontFace" data-dfn-type="attribute" data-export id="dom-fontface-loaded"><code>loaded</code></dfn>, <span> of type Promise&lt;<a data-link-type="idl-name" href="#fontface" id="ref-for-fontface⑦">FontFace</a>>, readonly</span>
     <dd data-md>
      <p>This attribute reflects the <code class="idl"><a data-link-type="idl" href="#dom-fontface-fontstatuspromise-slot" id="ref-for-dom-fontface-fontstatuspromise-slot">[[FontStatusPromise]]</a></code> of the font face.</p>
    </dl>
   </div>
   <p>All <code class="idl"><a data-link-type="idl" href="#fontface" id="ref-for-fontface⑧">FontFace</a></code> objects contain an internal <dfn class="dfn-paneled idl-code" data-dfn-for="FontFace" data-dfn-type="attribute" data-export id="dom-fontface-fontstatuspromise-slot"><code>[[FontStatusPromise]]</code></dfn> slot,
	which tracks the status of the font.
	It starts out pending,
	and fulfills or rejects when the font is successfully loaded and parsed, or hits an error.</p>
   <p>All <code class="idl"><a data-link-type="idl" href="#fontface" id="ref-for-fontface⑨">FontFace</a></code> objects also contain
	internal <dfn class="dfn-paneled idl-code" data-dfn-for="FontFace" data-dfn-type="attribute" data-export id="dom-fontface-urls-slot"><code>[[Urls]]</code></dfn> and <dfn class="dfn-paneled idl-code" data-dfn-for="FontFace" data-dfn-type="attribute" data-export id="dom-fontface-data-slot"><code>[[Data]]</code></dfn> slots,
	of which one is <code>null</code> and the other is not <code>null</code> (the non-null one is set by the constructor,
		based on which data is passed in).</p>
   <h3 class="heading settled" data-level="2.1" id="font-face-constructor"><span class="secno">2.1. </span><span class="content"> The Constructor</span><a class="self-link" href="#font-face-constructor"></a></h3>
   <p>A <code class="idl"><a data-link-type="idl" href="#fontface" id="ref-for-fontface①⓪">FontFace</a></code> can be constructed either
	from a URL pointing to a font face file,
	or from an <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-ArrayBuffer" id="ref-for-idl-ArrayBuffer①">ArrayBuffer</a></code> (or <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#ArrayBufferView" id="ref-for-ArrayBufferView①">ArrayBufferView</a></code>) containing the binary representation of a font face.</p>
   <p>When the <dfn class="dfn-paneled idl-code" data-dfn-for="FontFace" data-dfn-type="constructor" data-export data-lt="FontFace(family, source, descriptors)|constructor(family, source, descriptors)|FontFace(family, source)|constructor(family, source)" id="dom-fontface-fontface"><code>FontFace(family, source, descriptors)</code></dfn> method is called,
	execute these steps:</p>
   <ol>
    <li data-md>
     <p>Let <var>font face</var> be a fresh <code class="idl"><a data-link-type="idl" href="#fontface" id="ref-for-fontface①①">FontFace</a></code> object.
Set <var>font face’s</var> <code class="idl"><a data-link-type="idl" href="#dom-fontface-status" id="ref-for-dom-fontface-status①">status</a></code> attribute to <code>"unloaded"</code>,
Set its internal <code class="idl"><a data-link-type="idl" href="#dom-fontface-fontstatuspromise-slot" id="ref-for-dom-fontface-fontstatuspromise-slot①">[[FontStatusPromise]]</a></code> slot to a fresh pending <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-promise" id="ref-for-idl-promise③">Promise</a></code> object.</p>
     <p><a data-link-type="dfn" href="https://drafts.csswg.org/css-syntax-3/#css-parse-something-according-to-a-css-grammar" id="ref-for-css-parse-something-according-to-a-css-grammar②">Parse</a> the <code class="idl"><a class="idl-code" data-link-type="argument" href="#dom-fontface-fontface-family-source-descriptors-family" id="ref-for-dom-fontface-fontface-family-source-descriptors-family">family</a></code> argument,
and the members of the <code class="idl"><a class="idl-code" data-link-type="argument" href="#dom-fontface-fontface-family-source-descriptors-descriptors" id="ref-for-dom-fontface-fontface-family-source-descriptors-descriptors">descriptors</a></code> argument,
according to the grammars of the corresponding descriptors of the CSS <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-fonts-5/#at-font-face-rule" id="ref-for-at-font-face-rule⑦">@font-face</a> rule.
If the <code class="idl"><a class="idl-code" data-link-type="argument" href="#dom-fontface-fontface-family-source-descriptors-source" id="ref-for-dom-fontface-fontface-family-source-descriptors-source">source</a></code> argument is a <code class="idl"><a data-link-type="idl" href="https://drafts.csswg.org/cssom-1/#cssomstring" id="ref-for-cssomstring③⑦">CSSOMString</a></code>,
parse it according to the grammar of the CSS <span class="css">src</span> descriptor of the <span class="css" id="ref-for-at-font-face-rule⑧">@font-face</span> rule.
If any of them fail to parse correctly,
reject <var>font face’s</var> <code class="idl"><a data-link-type="idl" href="#dom-fontface-fontstatuspromise-slot" id="ref-for-dom-fontface-fontstatuspromise-slot②">[[FontStatusPromise]]</a></code> with a DOMException named "SyntaxError",
set <var>font face’s</var> corresponding attributes to the empty string,
and set <var>font face’s</var> <code class="idl"><a data-link-type="idl" href="#dom-fontface-status" id="ref-for-dom-fontface-status②">status</a></code> attribute to "error".
Otherwise, set <var>font face’s</var> corresponding attributes to the serialization of the parsed values.</p>
     <p class="note" role="note"><span class="marker">Note:</span> Note that this means that passing a naked url as the source argument,
like <code>"http://example.com/myFont.woff"</code>,
won’t work - it needs to be at least wrapped in a <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-values-4/#funcdef-url" id="ref-for-funcdef-url">url()</a> function,
like <code>"url(http://example.com/myFont.woff)"</code>.
In return for this inconvenience,
you get to specify multiple fallbacks,
specify the type of font each fallback is,
and refer to local fonts easily.</p>
     <p class="issue" id="issue-65bdbf2d"><a class="self-link" href="#issue-65bdbf2d"></a> Need to define the base url,
so relative urls can resolve.
Should it be the url of the document?
Is that correct for workers too,
or should they use their worker url?
Is that always defined?</p>
     <p>Return <var>font face</var>.
If <var>font face’s</var> <code class="idl"><a data-link-type="idl" href="#dom-fontface-status" id="ref-for-dom-fontface-status③">status</a></code> is "error",
terminate this algorithm;
otherwise,
complete the rest of these steps asynchronously.</p>
    <li data-md>
     <p>If the <code class="idl"><a class="idl-code" data-link-type="argument" href="#dom-fontface-fontface-family-source-descriptors-source" id="ref-for-dom-fontface-fontface-family-source-descriptors-source①">source</a></code> argument was a <code class="idl"><a data-link-type="idl" href="https://drafts.csswg.org/cssom-1/#cssomstring" id="ref-for-cssomstring③⑧">CSSOMString</a></code>,
set <var>font face’s</var> internal <code class="idl"><a data-link-type="idl" href="#dom-fontface-urls-slot" id="ref-for-dom-fontface-urls-slot">[[Urls]]</a></code> slot to the string.</p>
     <p>If the <code class="idl"><a data-link-type="idl" href="#dom-fontface-fontface-family-source-descriptors-source" id="ref-for-dom-fontface-fontface-family-source-descriptors-source②">source</a></code> argument was a <code class="idl"><a data-link-type="idl" href="#typedefdef-binarydata" id="ref-for-typedefdef-binarydata①">BinaryData</a></code>,
set <var>font face’s</var> internal <code class="idl"><a data-link-type="idl" href="#dom-fontface-data-slot" id="ref-for-dom-fontface-data-slot">[[Data]]</a></code> slot to the passed argument.</p>
    <li data-md>
     <p>If <var>font face’s</var> <code class="idl"><a data-link-type="idl" href="#dom-fontface-data-slot" id="ref-for-dom-fontface-data-slot①">[[Data]]</a></code> slot is not <code>null</code>,
queue a task to run the following steps synchronously:</p>
     <ol>
      <li data-md>
       <p>Set <var>font face’s</var> <code class="idl"><a data-link-type="idl" href="#dom-fontface-status" id="ref-for-dom-fontface-status④">status</a></code> attribute to "loading".</p>
      <li data-md>
       <p>For each <code class="idl"><a data-link-type="idl" href="#fontfaceset" id="ref-for-fontfaceset">FontFaceSet</a></code> <var>font face</var> is in:</p>
       <ol>
        <li data-md>
         <p>If the <code class="idl"><a data-link-type="idl" href="#fontfaceset" id="ref-for-fontfaceset①">FontFaceSet</a></code>’s <code class="idl"><a data-link-type="idl" href="#dom-fontfaceset-loadingfonts-slot" id="ref-for-dom-fontfaceset-loadingfonts-slot">[[LoadingFonts]]</a></code> list is empty, <a data-link-type="dfn" href="#switch-the-fontfaceset-to-loading" id="ref-for-switch-the-fontfaceset-to-loading">switch the FontFaceSet to loading</a>.</p>
        <li data-md>
         <p>Append <var>font face</var> to the <code class="idl"><a data-link-type="idl" href="#fontfaceset" id="ref-for-fontfaceset②">FontFaceSet</a></code>’s <code class="idl"><a data-link-type="idl" href="#dom-fontfaceset-loadingfonts-slot" id="ref-for-dom-fontfaceset-loadingfonts-slot①">[[LoadingFonts]]</a></code> list.</p>
       </ol>
     </ol>
     <p>Asynchronously, attempt to parse the data in it as a font.
When this is completed,
successfully or not,
queue a task to run the following steps synchronously:</p>
     <ol>
      <li data-md>
       <p>If the load was successful, <var>font face</var> now represents the parsed font;
fulfill <var>font face’s</var> <code class="idl"><a data-link-type="idl" href="#dom-fontface-fontstatuspromise-slot" id="ref-for-dom-fontface-fontstatuspromise-slot③">[[FontStatusPromise]]</a></code> with <var>font face</var>,
and set its <code class="idl"><a data-link-type="idl" href="#dom-fontface-status" id="ref-for-dom-fontface-status⑤">status</a></code> attribute to "loaded".</p>
       <p>For each <code class="idl"><a data-link-type="idl" href="#fontfaceset" id="ref-for-fontfaceset③">FontFaceSet</a></code> <var>font face</var> is in:</p>
       <ol>
        <li data-md>
         <p>Add <var>font face</var> to the <code class="idl"><a data-link-type="idl" href="#fontfaceset" id="ref-for-fontfaceset④">FontFaceSet</a></code>’s <code class="idl"><a data-link-type="idl" href="#dom-fontfaceset-loadedfonts-slot" id="ref-for-dom-fontfaceset-loadedfonts-slot">[[LoadedFonts]]</a></code> list.</p>
        <li data-md>
         <p>Remove <var>font face</var> from the <code class="idl"><a data-link-type="idl" href="#fontfaceset" id="ref-for-fontfaceset⑤">FontFaceSet</a></code>’s <code class="idl"><a data-link-type="idl" href="#dom-fontfaceset-loadingfonts-slot" id="ref-for-dom-fontfaceset-loadingfonts-slot②">[[LoadingFonts]]</a></code> list.
If <var>font</var> was the last item in that list
(and so the list is now empty), <a data-link-type="dfn" href="#switch-the-fontfaceset-to-loaded" id="ref-for-switch-the-fontfaceset-to-loaded">switch the FontFaceSet to loaded</a>.</p>
       </ol>
      <li data-md>
       <p>Otherwise,
reject <var>font face’s</var> <code class="idl"><a data-link-type="idl" href="#dom-fontface-fontstatuspromise-slot" id="ref-for-dom-fontface-fontstatuspromise-slot④">[[FontStatusPromise]]</a></code> with a DOMException named "SyntaxError"
and set <var>font face’s</var> <code class="idl"><a data-link-type="idl" href="#dom-fontface-status" id="ref-for-dom-fontface-status⑥">status</a></code> attribute to "error".</p>
       <p>For each <code class="idl"><a data-link-type="idl" href="#fontfaceset" id="ref-for-fontfaceset⑥">FontFaceSet</a></code> <var>font face</var> is in:</p>
       <ol>
        <li data-md>
         <p>Add <var>font face</var> to the <code class="idl"><a data-link-type="idl" href="#fontfaceset" id="ref-for-fontfaceset⑦">FontFaceSet</a></code>’s <code class="idl"><a data-link-type="idl" href="#dom-fontfaceset-failedfonts-slot" id="ref-for-dom-fontfaceset-failedfonts-slot">[[FailedFonts]]</a></code> list.</p>
        <li data-md>
         <p>Remove <var>font face</var> from the <code class="idl"><a data-link-type="idl" href="#fontfaceset" id="ref-for-fontfaceset⑧">FontFaceSet</a></code>’s <code class="idl"><a data-link-type="idl" href="#dom-fontfaceset-loadingfonts-slot" id="ref-for-dom-fontfaceset-loadingfonts-slot③">[[LoadingFonts]]</a></code> list.
If <var>font</var> was the last item in that list
(and so the list is now empty), <a data-link-type="dfn" href="#switch-the-fontfaceset-to-loaded" id="ref-for-switch-the-fontfaceset-to-loaded①">switch the FontFaceSet to loaded</a>.</p>
       </ol>
     </ol>
   </ol>
   <p class="note" role="note"><span class="marker">Note:</span> Newly constructed FontFace objects are not automatically added
	to the FontFaceSet associated with a document
	or a context for a worker thread.
	This means that while newly constructed fonts can be preloaded,
	they cannot actually be used until they are explicitly added to a FontFaceSet.
	See the following section for a more complete description of FontFaceSet.</p>
   <h3 class="heading settled" data-level="2.2" id="font-face-load"><span class="secno">2.2. </span><span class="content"> The <code>load()</code> method</span><a class="self-link" href="#font-face-load"></a></h3>
   <p>The <code class="idl"><a data-link-type="idl" href="#dom-fontface-load" id="ref-for-dom-fontface-load②">load()</a></code> method of <code class="idl"><a data-link-type="idl" href="#fontface" id="ref-for-fontface①②">FontFace</a></code> forces a url-based font face to request its font data and load.
	For fonts constructed from binary data,
	or fonts that are already loading or loaded,
	it does nothing.</p>
   <p>When the <dfn class="dfn-paneled idl-code" data-dfn-for="FontFace" data-dfn-type="method" data-export id="dom-fontface-load"><code>load()</code></dfn> method is called,
	execute these steps:</p>
   <ol>
    <li> Let <var>font face</var> be the <code class="idl"><a data-link-type="idl" href="#fontface" id="ref-for-fontface①③">FontFace</a></code> object on which this method was called. 
    <li> If <var>font face’s</var> <code class="idl"><a data-link-type="idl" href="#dom-fontface-urls-slot" id="ref-for-dom-fontface-urls-slot①">[[Urls]]</a></code> slot is <code>null</code>,
			or its <code class="idl"><a data-link-type="idl" href="#dom-fontface-status" id="ref-for-dom-fontface-status⑦">status</a></code> attribute is anything other than <code>"unloaded"</code>,
			return <var>font face’s</var> <code class="idl"><a data-link-type="idl" href="#dom-fontface-fontstatuspromise-slot" id="ref-for-dom-fontface-fontstatuspromise-slot⑤">[[FontStatusPromise]]</a></code> and abort these steps. 
    <li> Otherwise,
			set <var>font face’s</var> <code class="idl"><a data-link-type="idl" href="#dom-fontface-status" id="ref-for-dom-fontface-status⑧">status</a></code> attribute to "loading",
			return <var>font face’s</var> <code class="idl"><a data-link-type="idl" href="#dom-fontface-fontstatuspromise-slot" id="ref-for-dom-fontface-fontstatuspromise-slot⑥">[[FontStatusPromise]]</a></code>,
			and continue executing the rest of this algorithm asynchronously. 
    <li> Using the value of <var>font face’s</var> <code class="idl"><a data-link-type="idl" href="#dom-fontface-urls-slot" id="ref-for-dom-fontface-urls-slot②">[[Urls]]</a></code> slot,
			attempt to load a font as defined in <a data-link-type="biblio" href="#biblio-css-fonts-3" title="CSS Fonts Module Level 3">[CSS-FONTS-3]</a>,
			as if it was the value of a <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-fonts-5/#at-font-face-rule" id="ref-for-at-font-face-rule⑨">@font-face</a> rule’s <a class="property css" data-link-type="property">src</a> descriptor. 
    <li>
      When the load operation completes,
			successfully or not,
			queue a task to run the following steps synchronously: 
     <ol>
      <li>
        If the attempt to load fails,
					reject <var>font face’s</var> <code class="idl"><a data-link-type="idl" href="#dom-fontface-fontstatuspromise-slot" id="ref-for-dom-fontface-fontstatuspromise-slot⑦">[[FontStatusPromise]]</a></code> with
					a DOMException whose name is "NetworkError"
					and set <var>font face’s</var> <code class="idl"><a data-link-type="idl" href="#dom-fontface-status" id="ref-for-dom-fontface-status⑨">status</a></code> attribute to "error". 
       <p>For each <code class="idl"><a data-link-type="idl" href="#fontfaceset" id="ref-for-fontfaceset⑨">FontFaceSet</a></code> <var>font face</var> is in:</p>
       <ol>
        <li data-md>
         <p>Add <var>font face</var> to the <code class="idl"><a data-link-type="idl" href="#fontfaceset" id="ref-for-fontfaceset①⓪">FontFaceSet</a></code>’s <code class="idl"><a data-link-type="idl" href="#dom-fontfaceset-failedfonts-slot" id="ref-for-dom-fontfaceset-failedfonts-slot①">[[FailedFonts]]</a></code> list.</p>
        <li data-md>
         <p>Remove <var>font face</var> from the <code class="idl"><a data-link-type="idl" href="#fontfaceset" id="ref-for-fontfaceset①①">FontFaceSet</a></code>’s <code class="idl"><a data-link-type="idl" href="#dom-fontfaceset-loadingfonts-slot" id="ref-for-dom-fontfaceset-loadingfonts-slot④">[[LoadingFonts]]</a></code> list.
If <var>font</var> was the last item in that list
(and so the list is now empty), <a data-link-type="dfn" href="#switch-the-fontfaceset-to-loaded" id="ref-for-switch-the-fontfaceset-to-loaded②">switch the FontFaceSet to loaded</a>.</p>
       </ol>
      <li>
        Otherwise, <var>font face</var> now represents the loaded font;
					fulfill <var>font face’s</var> <code class="idl"><a data-link-type="idl" href="#dom-fontface-fontstatuspromise-slot" id="ref-for-dom-fontface-fontstatuspromise-slot⑧">[[FontStatusPromise]]</a></code> with <var>font face</var> and set <var>font face’s</var> <code class="idl"><a data-link-type="idl" href="#dom-fontface-status" id="ref-for-dom-fontface-status①⓪">status</a></code> attribute to "loaded". 
       <p>For each <code class="idl"><a data-link-type="idl" href="#fontfaceset" id="ref-for-fontfaceset①②">FontFaceSet</a></code> <var>font face</var> is in:</p>
       <ol>
        <li data-md>
         <p>Add <var>font face</var> to the <code class="idl"><a data-link-type="idl" href="#fontfaceset" id="ref-for-fontfaceset①③">FontFaceSet</a></code>’s <code class="idl"><a data-link-type="idl" href="#dom-fontfaceset-loadedfonts-slot" id="ref-for-dom-fontfaceset-loadedfonts-slot①">[[LoadedFonts]]</a></code> list.</p>
        <li data-md>
         <p>Remove <var>font face</var> from the <code class="idl"><a data-link-type="idl" href="#fontfaceset" id="ref-for-fontfaceset①④">FontFaceSet</a></code>’s <code class="idl"><a data-link-type="idl" href="#dom-fontfaceset-loadingfonts-slot" id="ref-for-dom-fontfaceset-loadingfonts-slot⑤">[[LoadingFonts]]</a></code> list.
If <var>font</var> was the last item in that list
(and so the list is now empty), <a data-link-type="dfn" href="#switch-the-fontfaceset-to-loaded" id="ref-for-switch-the-fontfaceset-to-loaded③">switch the FontFaceSet to loaded</a>.</p>
       </ol>
     </ol>
   </ol>
   <p>User agents can initiate font loads on their own,
	whenever they determine that a given font face is necessary to render something on the page.
	When this happens,
	they must act as if they had called the corresponding <code class="idl"><a data-link-type="idl" href="#fontface" id="ref-for-fontface①④">FontFace</a></code>’s <code class="idl"><a data-link-type="idl" href="#dom-fontface-load" id="ref-for-dom-fontface-load③">load()</a></code> method described here.</p>
   <p class="note" role="note"><span class="marker">Note:</span> Some UAs utilize a "font cache"
	which avoids having to download the same font multiple times
	on a page or on multiple pages within the same origin.
	Multiple <code class="idl"><a data-link-type="idl" href="#fontface" id="ref-for-fontface①⑤">FontFace</a></code> objects can be mapped to the same entry in the font cache,
	which means that a <code class="idl"><a data-link-type="idl" href="#fontface" id="ref-for-fontface①⑥">FontFace</a></code> object might start loading unexpectedly,
	even if it’s not in a <code class="idl"><a data-link-type="idl" href="#fontfaceset" id="ref-for-fontfaceset①⑤">FontFaceSet</a></code>,
	because some other <code class="idl"><a data-link-type="idl" href="#fontface" id="ref-for-fontface①⑦">FontFace</a></code> object pointing to the same font data
	(perhaps on a different page entirely!)
	has been loaded.</p>
   <h3 class="heading settled" data-level="2.3" id="font-face-css-connection"><span class="secno">2.3. </span><span class="content"> Interaction with CSS’s <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-fonts-5/#at-font-face-rule" id="ref-for-at-font-face-rule①⓪">@font-face</a> Rule</span><a class="self-link" href="#font-face-css-connection"></a></h3>
   <p>A CSS <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-fonts-5/#at-font-face-rule" id="ref-for-at-font-face-rule①①">@font-face</a> rule automatically defines a corresponding <code class="idl"><a data-link-type="idl" href="#fontface" id="ref-for-fontface①⑧">FontFace</a></code> object,
	which is automatically placed in the document’s <a data-link-type="dfn" href="#font-source" id="ref-for-font-source">font source</a> when the rule is parsed.
	This <code class="idl"><a data-link-type="idl" href="#fontface" id="ref-for-fontface①⑨">FontFace</a></code> object is <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="css-connected">CSS-connected</dfn>.</p>
   <p>The <code class="idl"><a data-link-type="idl" href="#fontface" id="ref-for-fontface②⓪">FontFace</a></code> object corresponding to a <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-fonts-5/#at-font-face-rule" id="ref-for-at-font-face-rule①②">@font-face</a> rule
	has its <code class="idl"><a data-link-type="idl" href="#dom-fontface-family" id="ref-for-dom-fontface-family①">family</a></code>, <code class="idl"><a data-link-type="idl" href="#dom-fontface-style" id="ref-for-dom-fontface-style②">style</a></code>, <code class="idl"><a data-link-type="idl" href="#dom-fontface-weight" id="ref-for-dom-fontface-weight①">weight</a></code>, <code class="idl"><a data-link-type="idl" href="#dom-fontface-stretch" id="ref-for-dom-fontface-stretch①">stretch</a></code>, <code class="idl"><a data-link-type="idl" href="#dom-fontface-unicoderange" id="ref-for-dom-fontface-unicoderange①">unicodeRange</a></code>, <code class="idl"><a data-link-type="idl" href="#dom-fontface-variant" id="ref-for-dom-fontface-variant①">variant</a></code>, and <code class="idl"><a data-link-type="idl" href="#dom-fontface-featuresettings" id="ref-for-dom-fontface-featuresettings①">featureSettings</a></code> attributes
	set to the same value as the corresponding descriptors in the <span class="css" id="ref-for-at-font-face-rule①③">@font-face</span> rule.
	There is a two-way connection between the two:
	any change made to a <span class="css" id="ref-for-at-font-face-rule①④">@font-face</span> descriptor is immediately reflected in the corresponding <code class="idl"><a data-link-type="idl" href="#fontface" id="ref-for-fontface②①">FontFace</a></code> attribute,
	and vice versa.</p>
   <p class="issue" id="issue-41199acf"><a class="self-link" href="#issue-41199acf"></a> When a FontFace is transferred between documents, it’s no longer CSS-connected.</p>
   <p>The internal <code class="idl"><a data-link-type="idl" href="#dom-fontface-urls-slot" id="ref-for-dom-fontface-urls-slot③">[[Urls]]</a></code> slot of the <code class="idl"><a data-link-type="idl" href="#fontface" id="ref-for-fontface②②">FontFace</a></code> object is set to the value of the <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-fonts-5/#at-font-face-rule" id="ref-for-at-font-face-rule①⑤">@font-face</a> rule’s <a class="property css" data-link-type="property">src</a> descriptor,
	and reflects any changes made to the <span class="property">src</span> descriptor.</p>
   <p>Otherwise, a <code class="idl"><a data-link-type="idl" href="#fontface" id="ref-for-fontface②③">FontFace</a></code> object created by a CSS <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-fonts-5/#at-font-face-rule" id="ref-for-at-font-face-rule①⑥">@font-face</a> rule is identical to one created manually.</p>
   <p>If a <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-fonts-5/#at-font-face-rule" id="ref-for-at-font-face-rule①⑦">@font-face</a> rule is removed from the document, its corresponding <code class="idl"><a data-link-type="idl" href="#fontface" id="ref-for-fontface②④">FontFace</a></code> object is no longer <a data-link-type="dfn" href="#css-connected" id="ref-for-css-connected">CSS-connected</a>.
	The connection is not restorable by any means
	(but adding the <span class="css" id="ref-for-at-font-face-rule①⑧">@font-face</span> back to the stylesheet will create a brand new <code class="idl"><a data-link-type="idl" href="#fontface" id="ref-for-fontface②⑤">FontFace</a></code> object which <em>is</em> <span id="ref-for-css-connected①">CSS-connected</span>).</p>
   <p>If a <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-fonts-5/#at-font-face-rule" id="ref-for-at-font-face-rule①⑨">@font-face</a> rule has its <a class="property" data-link-type="propdesc">src</a> descriptor changed to a new value,
	the original connected <code class="idl"><a data-link-type="idl" href="#fontface" id="ref-for-fontface②⑥">FontFace</a></code> object must stop being <a data-link-type="dfn" href="#css-connected" id="ref-for-css-connected②">CSS-connected</a>.
	A new <code class="idl"><a data-link-type="idl" href="#fontface" id="ref-for-fontface②⑦">FontFace</a></code> reflecting its new <span class="property">src</span> must be created
	and <span id="ref-for-css-connected③">CSS-connected</span> to the <span class="css" id="ref-for-at-font-face-rule②⓪">@font-face</span>.
	(This will also remove the old and add the new <code class="idl"><a data-link-type="idl" href="#fontface" id="ref-for-fontface②⑧">FontFace</a></code> objects from any <a data-link-type="dfn" href="#font-source" id="ref-for-font-source①">font sources</a> they appear in.)</p>
   <h2 class="heading settled" data-level="3" id="FontFaceSet-interface"><span class="secno">3. </span><span class="content"> The <code>FontFaceSet</code> Interface</span><a class="self-link" href="#FontFaceSet-interface"></a></h2>
<pre class="idl highlight def"><c- b>dictionary</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="dictionary" data-export id="dictdef-fontfacesetloadeventinit"><code><c- g>FontFaceSetLoadEventInit</c-></code></dfn> : <a data-link-type="idl-name" href="https://dom.spec.whatwg.org/#dictdef-eventinit" id="ref-for-dictdef-eventinit"><c- n>EventInit</c-></a> {
  <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#idl-sequence" id="ref-for-idl-sequence"><c- b>sequence</c-></a>&lt;<a data-link-type="idl-name" href="#fontface" id="ref-for-fontface②⑨"><c- n>FontFace</c-></a>> <dfn class="dfn-paneled idl-code" data-default="[]" data-dfn-for="FontFaceSetLoadEventInit" data-dfn-type="dict-member" data-export data-type="sequence<FontFace>" id="dom-fontfacesetloadeventinit-fontfaces"><code><c- g>fontfaces</c-></code></dfn> = [];
};

[<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Exposed" id="ref-for-Exposed①"><c- g>Exposed</c-></a>=(<c- n>Window</c->,<c- n>Worker</c->)]
<c- b>interface</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="interface" data-export id="fontfacesetloadevent"><code><c- g>FontFaceSetLoadEvent</c-></code></dfn> : <a data-link-type="idl-name" href="https://dom.spec.whatwg.org/#event" id="ref-for-event"><c- n>Event</c-></a> {
  <dfn class="dfn-paneled idl-code" data-dfn-for="FontFaceSetLoadEvent" data-dfn-type="constructor" data-export data-lt="FontFaceSetLoadEvent(type, eventInitDict)|constructor(type, eventInitDict)|FontFaceSetLoadEvent(type)|constructor(type)" id="dom-fontfacesetloadevent-fontfacesetloadevent"><code><c- g>constructor</c-></code></dfn>(<a data-link-type="idl-name" href="https://drafts.csswg.org/cssom-1/#cssomstring" id="ref-for-cssomstring③⑨"><c- n>CSSOMString</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="FontFaceSetLoadEvent/FontFaceSetLoadEvent(type, eventInitDict), FontFaceSetLoadEvent/constructor(type, eventInitDict), FontFaceSetLoadEvent/FontFaceSetLoadEvent(type), FontFaceSetLoadEvent/constructor(type)" data-dfn-type="argument" data-export id="dom-fontfacesetloadevent-fontfacesetloadevent-type-eventinitdict-type"><code><c- g>type</c-></code></dfn>, <c- b>optional</c-> <a data-link-type="idl-name" href="#dictdef-fontfacesetloadeventinit" id="ref-for-dictdef-fontfacesetloadeventinit"><c- n>FontFaceSetLoadEventInit</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="FontFaceSetLoadEvent/FontFaceSetLoadEvent(type, eventInitDict), FontFaceSetLoadEvent/constructor(type, eventInitDict), FontFaceSetLoadEvent/FontFaceSetLoadEvent(type), FontFaceSetLoadEvent/constructor(type)" data-dfn-type="argument" data-export id="dom-fontfacesetloadevent-fontfacesetloadevent-type-eventinitdict-eventinitdict"><code><c- g>eventInitDict</c-></code></dfn> = {});
  [<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#SameObject" id="ref-for-SameObject"><c- g>SameObject</c-></a>] <c- b>readonly</c-> <c- b>attribute</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-frozen-array" id="ref-for-idl-frozen-array"><c- b>FrozenArray</c-></a>&lt;<a data-link-type="idl-name" href="#fontface" id="ref-for-fontface③⓪"><c- n>FontFace</c-></a>> <dfn class="dfn-paneled idl-code" data-dfn-for="FontFaceSetLoadEvent" data-dfn-type="attribute" data-export data-readonly data-type="FrozenArray<FontFace>" id="dom-fontfacesetloadevent-fontfaces"><code><c- g>fontfaces</c-></code></dfn>;
};

<c- b>enum</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="enum" data-export id="enumdef-fontfacesetloadstatus"><code><c- g>FontFaceSetLoadStatus</c-></code></dfn> { <dfn class="dfn-paneled idl-code" data-dfn-for="FontFaceSetLoadStatus" data-dfn-type="enum-value" data-export id="dom-fontfacesetloadstatus-loading"><code><c- s>"loading"</c-></code></dfn>, <dfn class="dfn-paneled idl-code" data-dfn-for="FontFaceSetLoadStatus" data-dfn-type="enum-value" data-export id="dom-fontfacesetloadstatus-loaded"><code><c- s>"loaded"</c-></code></dfn> };

[<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Exposed" id="ref-for-Exposed②"><c- g>Exposed</c-></a>=(<c- n>Window</c->,<c- n>Worker</c->)]
<c- b>interface</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="interface" data-export id="fontfaceset"><code><c- g>FontFaceSet</c-></code></dfn> : <a data-link-type="idl-name" href="https://dom.spec.whatwg.org/#eventtarget" id="ref-for-eventtarget"><c- n>EventTarget</c-></a> {
  <a class="idl-code" data-link-type="constructor" href="#dom-fontfaceset-fontfaceset" id="ref-for-dom-fontfaceset-fontfaceset"><c- g>constructor</c-></a>(<a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#idl-sequence" id="ref-for-idl-sequence①"><c- b>sequence</c-></a>&lt;<a data-link-type="idl-name" href="#fontface" id="ref-for-fontface③①"><c- n>FontFace</c-></a>> <dfn class="dfn-paneled idl-code" data-dfn-for="FontFaceSet/FontFaceSet(initialFaces), FontFaceSet/constructor(initialFaces)" data-dfn-type="argument" data-export id="dom-fontfaceset-fontfaceset-initialfaces-initialfaces"><code><c- g>initialFaces</c-></code></dfn>);

  // FontFaceSet is Set-like!
  <c- b>setlike</c->&lt;<a data-link-type="idl-name" href="#fontface" id="ref-for-fontface③②"><c- n>FontFace</c-></a>>;
  <a data-link-type="idl-name" href="#fontfaceset" id="ref-for-fontfaceset①⑥"><c- n>FontFaceSet</c-></a> <a class="idl-code" data-link-type="method" href="#dom-fontfaceset-add" id="ref-for-dom-fontfaceset-add"><c- g>add</c-></a>(<a data-link-type="idl-name" href="#fontface" id="ref-for-fontface③③"><c- n>FontFace</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="FontFaceSet/add(font)" data-dfn-type="argument" data-export id="dom-fontfaceset-add-font-font"><code><c- g>font</c-></code></dfn>);
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-boolean" id="ref-for-idl-boolean"><c- b>boolean</c-></a> <a class="idl-code" data-link-type="method" href="#dom-fontfaceset-delete" id="ref-for-dom-fontfaceset-delete"><c- g>delete</c-></a>(<a data-link-type="idl-name" href="#fontface" id="ref-for-fontface③④"><c- n>FontFace</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="FontFaceSet/delete(font)" data-dfn-type="argument" data-export id="dom-fontfaceset-delete-font-font"><code><c- g>font</c-></code></dfn>);
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-undefined" id="ref-for-idl-undefined"><c- b>undefined</c-></a> <a class="idl-code" data-link-type="method" href="#dom-fontfaceset-clear" id="ref-for-dom-fontfaceset-clear"><c- g>clear</c-></a>();

  // events for when loading state changes
  <c- b>attribute</c-> <a data-link-type="idl-name" href="https://html.spec.whatwg.org/multipage/webappapis.html#eventhandler" id="ref-for-eventhandler"><c- n>EventHandler</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="FontFaceSet" data-dfn-type="attribute" data-export data-type="EventHandler" id="dom-fontfaceset-onloading"><code><c- g>onloading</c-></code></dfn>;
  <c- b>attribute</c-> <a data-link-type="idl-name" href="https://html.spec.whatwg.org/multipage/webappapis.html#eventhandler" id="ref-for-eventhandler①"><c- n>EventHandler</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="FontFaceSet" data-dfn-type="attribute" data-export data-type="EventHandler" id="dom-fontfaceset-onloadingdone"><code><c- g>onloadingdone</c-></code></dfn>;
  <c- b>attribute</c-> <a data-link-type="idl-name" href="https://html.spec.whatwg.org/multipage/webappapis.html#eventhandler" id="ref-for-eventhandler②"><c- n>EventHandler</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="FontFaceSet" data-dfn-type="attribute" data-export data-type="EventHandler" id="dom-fontfaceset-onloadingerror"><code><c- g>onloadingerror</c-></code></dfn>;

  // check and start loads if appropriate
  // and fulfill promise when all loads complete
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise" id="ref-for-idl-promise④"><c- b>Promise</c-></a>&lt;<a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#idl-sequence" id="ref-for-idl-sequence②"><c- b>sequence</c-></a>&lt;<a data-link-type="idl-name" href="#fontface" id="ref-for-fontface③⑤"><c- n>FontFace</c-></a>>> <a class="idl-code" data-link-type="method" href="#dom-fontfaceset-load" id="ref-for-dom-fontfaceset-load"><c- g>load</c-></a>(<a data-link-type="idl-name" href="https://drafts.csswg.org/cssom-1/#cssomstring" id="ref-for-cssomstring④⓪"><c- n>CSSOMString</c-></a> <a class="idl-code" data-link-type="argument" href="#dom-fontfaceset-load-font-text-font" id="ref-for-dom-fontfaceset-load-font-text-font"><c- g>font</c-></a>, <c- b>optional</c-> <a data-link-type="idl-name" href="https://drafts.csswg.org/cssom-1/#cssomstring" id="ref-for-cssomstring④①"><c- n>CSSOMString</c-></a> <a class="idl-code" data-link-type="argument" href="#dom-fontfaceset-load-font-text-text" id="ref-for-dom-fontfaceset-load-font-text-text"><c- g>text</c-></a> = " ");

  // return whether all fonts in the fontlist are loaded
  // (does not initiate load if not available)
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-boolean" id="ref-for-idl-boolean①"><c- b>boolean</c-></a> <a class="idl-code" data-link-type="method" href="#dom-fontfaceset-check" id="ref-for-dom-fontfaceset-check"><c- g>check</c-></a>(<a data-link-type="idl-name" href="https://drafts.csswg.org/cssom-1/#cssomstring" id="ref-for-cssomstring④②"><c- n>CSSOMString</c-></a> <a class="idl-code" data-link-type="argument" href="#dom-fontfaceset-check-font-text-font" id="ref-for-dom-fontfaceset-check-font-text-font"><c- g>font</c-></a>, <c- b>optional</c-> <a data-link-type="idl-name" href="https://drafts.csswg.org/cssom-1/#cssomstring" id="ref-for-cssomstring④③"><c- n>CSSOMString</c-></a> <a class="idl-code" data-link-type="argument" href="#dom-fontfaceset-check-font-text-text" id="ref-for-dom-fontfaceset-check-font-text-text"><c- g>text</c-></a> = " ");

  // async notification that font loading and layout operations are done
  <c- b>readonly</c-> <c- b>attribute</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise" id="ref-for-idl-promise⑤"><c- b>Promise</c-></a>&lt;<a data-link-type="idl-name" href="#fontfaceset" id="ref-for-fontfaceset①⑦"><c- n>FontFaceSet</c-></a>> <a class="idl-code" data-link-type="attribute" data-readonly data-type="Promise<FontFaceSet>" href="#dom-fontfaceset-ready" id="ref-for-dom-fontfaceset-ready"><c- g>ready</c-></a>;

  // loading state, "loading" while one or more fonts loading, "loaded" otherwise
  <c- b>readonly</c-> <c- b>attribute</c-> <a data-link-type="idl-name" href="#enumdef-fontfacesetloadstatus" id="ref-for-enumdef-fontfacesetloadstatus"><c- n>FontFaceSetLoadStatus</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="FontFaceSet" data-dfn-type="attribute" data-export data-readonly data-type="FontFaceSetLoadStatus" id="dom-fontfaceset-status"><code><c- g>status</c-></code></dfn>;
};
</pre>
   <p><code class="idl"><a data-link-type="idl" href="#dom-fontfaceset-load" id="ref-for-dom-fontfaceset-load①">load()</a></code></p>
   <div>
    <dl>
     <dt data-md><dfn class="dfn-paneled idl-code" data-dfn-for="FontFaceSet" data-dfn-type="attribute" data-export id="dom-fontfaceset-ready"><code>ready</code></dfn>, <span> of type Promise&lt;<a data-link-type="idl-name" href="#fontfaceset" id="ref-for-fontfaceset①⑧">FontFaceSet</a>>, readonly</span>
     <dd data-md>
      <p>This attribute reflects the <code class="idl"><a data-link-type="idl" href="#fontfaceset" id="ref-for-fontfaceset①⑨">FontFaceSet</a></code>'s <code class="idl"><a data-link-type="idl" href="#dom-fontfaceset-readypromise-slot" id="ref-for-dom-fontfaceset-readypromise-slot">[[ReadyPromise]]</a></code> slot.</p>
      <p>See <a href="#font-face-set-ready">§ 3.4 The ready attribute</a> for more details on this <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-promise" id="ref-for-idl-promise⑥">Promise</a></code> and its use.</p>
     <dt data-md><dfn class="dfn-paneled idl-code" data-dfn-for="FontFaceSet" data-dfn-type="constructor" data-export data-lt="FontFaceSet(initialFaces)|constructor(initialFaces)" id="dom-fontfaceset-fontfaceset"><code>FontFaceSet(initialFaces)</code></dfn>
     <dd data-md>
      <p>The <code class="idl"><a data-link-type="idl" href="#fontfaceset" id="ref-for-fontfaceset②⓪">FontFaceSet</a></code> constructor, when called,
must iterate its <code class="idl"><a data-link-type="idl" href="#dom-fontfaceset-fontfaceset-initialfaces-initialfaces" id="ref-for-dom-fontfaceset-fontfaceset-initialfaces-initialfaces">initialFaces</a></code> argument
and add each value to its <a data-link-type="dfn" href="#fontfaceset-set-entries" id="ref-for-fontfaceset-set-entries">set entries</a>.</p>
     <dt data-md><dfn class="dfn-paneled" data-dfn-for="FontFaceSet" data-dfn-type="dfn" data-export id="fontfaceset-iteration-order">iteration order</dfn>
     <dd data-md>
      <p>When iterated over,
all <a data-link-type="dfn" href="#css-connected" id="ref-for-css-connected④">CSS-connected</a> <code class="idl"><a data-link-type="idl" href="#fontface" id="ref-for-fontface③⑥">FontFace</a></code> objects must come first,
in document order of their connected <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-fonts-5/#at-font-face-rule" id="ref-for-at-font-face-rule②①">@font-face</a> rules,
followed by the non-<span id="ref-for-css-connected⑤">CSS-connected</span> <code class="idl"><a data-link-type="idl" href="#fontface" id="ref-for-fontface③⑦">FontFace</a></code> objects,
in insertion order.</p>
     <dt data-md><dfn class="dfn-paneled" data-dfn-for="FontFaceSet" data-dfn-type="dfn" data-noexport id="fontfaceset-set-entries">set entries</dfn>
     <dd data-md>
      <p>If a <code class="idl"><a data-link-type="idl" href="#fontfaceset" id="ref-for-fontfaceset②①">FontFaceSet</a></code> is a <a data-link-type="dfn" href="#font-source" id="ref-for-font-source②">font source</a>,
its <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#dfn-set-entries" id="ref-for-dfn-set-entries">set entries</a> are initialized as specified in <a href="#document-font-face-set">§ 4.2 Interaction with CSS’s @font-face Rule</a>.</p>
      <p>Otherwise, its <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#dfn-set-entries" id="ref-for-dfn-set-entries①">set entries</a> are initially empty.</p>
     <dt data-md><dfn class="dfn-paneled idl-code" data-dfn-for="FontFaceSet" data-dfn-type="method" data-export id="dom-fontfaceset-add"><code>add(font)</code></dfn>
     <dd data-md>
      <p>When the <code class="idl"><a data-link-type="idl" href="#dom-fontfaceset-add" id="ref-for-dom-fontfaceset-add①">add()</a></code> method is called,
execute the following steps:</p>
      <ol>
       <li data-md>
        <p>If <var>font</var> is already in the <code class="idl"><a data-link-type="idl" href="#fontfaceset" id="ref-for-fontfaceset②②">FontFaceSet</a></code>’s <a data-link-type="dfn" href="#fontfaceset-set-entries" id="ref-for-fontfaceset-set-entries①">set entries</a>,
skip to the last step of this algorithm immediately.</p>
       <li data-md>
        <p>If <var>font</var> is <a data-link-type="dfn" href="#css-connected" id="ref-for-css-connected⑥">CSS-connected</a>,
throw an <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#invalidmodificationerror" id="ref-for-invalidmodificationerror">InvalidModificationError</a></code> exception
and exit this algorithm immediately.</p>
       <li data-md>
        <p>Add the <var>font</var> argument to the <code class="idl"><a data-link-type="idl" href="#fontfaceset" id="ref-for-fontfaceset②③">FontFaceSet</a></code>’s <a data-link-type="dfn" href="#fontfaceset-set-entries" id="ref-for-fontfaceset-set-entries②">set entries</a>.</p>
       <li data-md>
        <p>If <var>font</var>’s <code class="idl"><a data-link-type="idl" href="#dom-fontface-status" id="ref-for-dom-fontface-status①①">status</a></code> attribute is "loading":</p>
        <ol>
         <li data-md>
          <p>If the <code class="idl"><a data-link-type="idl" href="#fontfaceset" id="ref-for-fontfaceset②④">FontFaceSet</a></code>’s <code class="idl"><a data-link-type="idl" href="#dom-fontfaceset-loadingfonts-slot" id="ref-for-dom-fontfaceset-loadingfonts-slot⑥">[[LoadingFonts]]</a></code> list is empty, <a data-link-type="dfn" href="#switch-the-fontfaceset-to-loading" id="ref-for-switch-the-fontfaceset-to-loading①">switch the FontFaceSet to loading</a>.</p>
         <li data-md>
          <p>Append <var>font</var> to the <code class="idl"><a data-link-type="idl" href="#fontfaceset" id="ref-for-fontfaceset②⑤">FontFaceSet</a></code>’s <code class="idl"><a data-link-type="idl" href="#dom-fontfaceset-loadingfonts-slot" id="ref-for-dom-fontfaceset-loadingfonts-slot⑦">[[LoadingFonts]]</a></code> list.</p>
        </ol>
       <li data-md>
        <p>Return the <code class="idl"><a data-link-type="idl" href="#fontfaceset" id="ref-for-fontfaceset②⑥">FontFaceSet</a></code>.</p>
      </ol>
     <dt data-md><dfn class="dfn-paneled idl-code" data-dfn-for="FontFaceSet" data-dfn-type="method" data-export id="dom-fontfaceset-delete"><code>delete(font)</code></dfn>
     <dd data-md>
      <p>When the <code class="idl"><a data-link-type="idl" href="#dom-fontfaceset-delete" id="ref-for-dom-fontfaceset-delete①">delete()</a></code> method is called,
execute the following steps:</p>
      <ol>
       <li data-md>
        <p>If <var>font</var> is <a data-link-type="dfn" href="#css-connected" id="ref-for-css-connected⑦">CSS-connected</a>,
return <code class="lang-javascript highlight"><c- kc>false</c-></code> and exit this algorithm immediately.</p>
       <li data-md>
        <p>Let <var>deleted</var> be the result of removing <var>font</var> from the <code class="idl"><a data-link-type="idl" href="#fontfaceset" id="ref-for-fontfaceset②⑦">FontFaceSet</a></code>’s <a data-link-type="dfn" href="#fontfaceset-set-entries" id="ref-for-fontfaceset-set-entries③">set entries</a>.</p>
       <li data-md>
        <p>If <var>font</var> is present in the <code class="idl"><a data-link-type="idl" href="#fontfaceset" id="ref-for-fontfaceset②⑧">FontFaceSet</a></code>’s <code class="idl"><a data-link-type="idl" href="#dom-fontfaceset-loadedfonts-slot" id="ref-for-dom-fontfaceset-loadedfonts-slot②">[[LoadedFonts]]</a></code>, or <code class="idl"><a data-link-type="idl" href="#dom-fontfaceset-failedfonts-slot" id="ref-for-dom-fontfaceset-failedfonts-slot②">[[FailedFonts]]</a></code> lists,
remove it.</p>
       <li data-md>
        <p>If <var>font</var> is present in the <code class="idl"><a data-link-type="idl" href="#fontfaceset" id="ref-for-fontfaceset②⑨">FontFaceSet</a></code>’s <code class="idl"><a data-link-type="idl" href="#dom-fontfaceset-loadingfonts-slot" id="ref-for-dom-fontfaceset-loadingfonts-slot⑧">[[LoadingFonts]]</a></code> list,
remove it.
If <var>font</var> was the last item in that list
(and so the list is now empty), <a data-link-type="dfn" href="#switch-the-fontfaceset-to-loaded" id="ref-for-switch-the-fontfaceset-to-loaded④">switch the FontFaceSet to loaded</a>.</p>
       <li data-md>
        <p>Return <var>deleted</var>.</p>
      </ol>
     <dt data-md><dfn class="dfn-paneled idl-code" data-dfn-for="FontFaceSet" data-dfn-type="method" data-export id="dom-fontfaceset-clear"><code>clear()</code></dfn>
     <dd data-md>
      <p>When the <code class="idl"><a data-link-type="idl" href="#dom-fontfaceset-clear" id="ref-for-dom-fontfaceset-clear①">clear()</a></code> method is called,
execute the following steps:</p>
      <ol>
       <li data-md>
        <p>Remove all items from the <code class="idl"><a data-link-type="idl" href="#fontfaceset" id="ref-for-fontfaceset③⓪">FontFaceSet</a></code>’s <a data-link-type="dfn" href="#fontfaceset-set-entries" id="ref-for-fontfaceset-set-entries④">set entries</a>,
its <code class="idl"><a data-link-type="idl" href="#dom-fontfaceset-loadedfonts-slot" id="ref-for-dom-fontfaceset-loadedfonts-slot③">[[LoadedFonts]]</a></code> list,
and its <code class="idl"><a data-link-type="idl" href="#dom-fontfaceset-failedfonts-slot" id="ref-for-dom-fontfaceset-failedfonts-slot③">[[FailedFonts]]</a></code> list.</p>
       <li data-md>
        <p>If the <code class="idl"><a data-link-type="idl" href="#fontfaceset" id="ref-for-fontfaceset③①">FontFaceSet</a></code>’s <code class="idl"><a data-link-type="idl" href="#dom-fontfaceset-loadingfonts-slot" id="ref-for-dom-fontfaceset-loadingfonts-slot⑨">[[LoadingFonts]]</a></code> list is non-empty,
remove all items from it,
then <a data-link-type="dfn" href="#switch-the-fontfaceset-to-loaded" id="ref-for-switch-the-fontfaceset-to-loaded⑤">switch the FontFaceSet to loaded</a>.</p>
      </ol>
    </dl>
   </div>
   <p><code class="idl"><a data-link-type="idl" href="#fontfaceset" id="ref-for-fontfaceset③②">FontFaceSet</a></code> objects also have internal <dfn class="dfn-paneled idl-code" data-dfn-for="FontFaceSet" data-dfn-type="attribute" data-export id="dom-fontfaceset-loadingfonts-slot"><code>[[LoadingFonts]]</code></dfn>, <dfn class="dfn-paneled idl-code" data-dfn-for="FontFaceSet" data-dfn-type="attribute" data-export id="dom-fontfaceset-loadedfonts-slot"><code>[[LoadedFonts]]</code></dfn>,
	and <dfn class="dfn-paneled idl-code" data-dfn-for="FontFaceSet" data-dfn-type="attribute" data-export id="dom-fontfaceset-failedfonts-slot"><code>[[FailedFonts]]</code></dfn> slots,
	all of which are initialized to empty lists,
	and a <dfn class="dfn-paneled idl-code" data-dfn-for="FontFaceSet" data-dfn-type="attribute" data-export id="dom-fontfaceset-readypromise-slot"><code>[[ReadyPromise]]</code></dfn> slot,
	which is initialized to a fresh pending <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-promise" id="ref-for-idl-promise⑦">Promise</a></code>.</p>
   <p>Because font families are loaded only when they are used,
	content sometimes needs to understand when the loading of fonts occurs.
	Authors can use the events and methods defined here to allow greater control over actions
	that are dependent upon the availability of specific fonts.</p>
   <p>A <code class="idl"><a data-link-type="idl" href="#fontfaceset" id="ref-for-fontfaceset③③">FontFaceSet</a></code> is <dfn class="dfn-paneled" data-dfn-for="FontFaceSet" data-dfn-type="dfn" data-export id="fontfaceset-pending-on-the-environment">pending on the environment</dfn> if any of the following are true:</p>
   <ul>
    <li data-md>
     <p>the document is still loading</p>
    <li data-md>
     <p>the document has pending stylesheet requests</p>
    <li data-md>
     <p>the document has pending layout operations which might cause the user agent to request a font,
or which depend on recently-loaded fonts</p>
   </ul>
   <p class="note" role="note"><span class="marker">Note:</span> The idea is that once a <code class="idl"><a data-link-type="idl" href="#fontfaceset" id="ref-for-fontfaceset③④">FontFaceSet</a></code> stops being <a data-link-type="dfn" href="#fontfaceset-pending-on-the-environment" id="ref-for-fontfaceset-pending-on-the-environment">pending on the environment</a>,
	as long as nothing further changes the document,
	an author can depend on sizes/positions of things being "correct" when measured.
	If the above conditions do not fully capture this guarantee,
	they need to be amended to do so.</p>
   <h3 class="heading settled" data-level="3.1" id="FontFaceSet-events"><span class="secno">3.1. </span><span class="content"> Events</span><a class="self-link" href="#FontFaceSet-events"></a></h3>
   <p>Font load events make it easy to respond to the font-loading behavior of the entire document,
	rather than having to listen to each font specifically.
	The <dfn class="dfn-paneled idl-code" data-dfn-for="FontFaceSet" data-dfn-type="event" data-export id="eventdef-fontfaceset-loading"><code>loading</code></dfn> event
	fires when the document begins loading fonts,
	while the <dfn class="dfn-paneled idl-code" data-dfn-for="FontFaceSet" data-dfn-type="event" data-export id="eventdef-fontfaceset-loadingdone"><code>loadingdone</code></dfn> and <dfn class="dfn-paneled idl-code" data-dfn-for="FontFaceSet" data-dfn-type="event" data-export id="eventdef-fontfaceset-loadingerror"><code>loadingerror</code></dfn> events
	fire when the document is done loading fonts,
	containing the fonts that successfully loaded
	or failed to load,
	respectively.</p>
   <p>The following are the event handlers (and their corresponding event handler event types)
	that must be supported by <code>FontFaceSet</code> objects as IDL attributes:</p>
   <table class="data" id="eventhandlers">
    <thead>
     <tr>
      <th>Event handler 
      <th>Event handler event type 
    <tbody>
     <tr>
      <th><code class="idl"><a data-link-type="idl" href="#dom-fontfaceset-onloading" id="ref-for-dom-fontfaceset-onloading">onloading</a></code> 
      <td><code class="idl"><a class="idl-code" data-link-type="event" href="#eventdef-fontfaceset-loading" id="ref-for-eventdef-fontfaceset-loading">loading</a></code> 
     <tr>
      <th><code class="idl"><a data-link-type="idl" href="#dom-fontfaceset-onloadingdone" id="ref-for-dom-fontfaceset-onloadingdone">onloadingdone</a></code> 
      <td><code class="idl"><a data-link-type="idl" href="#eventdef-fontfaceset-loadingdone" id="ref-for-eventdef-fontfaceset-loadingdone">loadingdone</a></code> 
     <tr>
      <th><code class="idl"><a data-link-type="idl" href="#dom-fontfaceset-onloadingerror" id="ref-for-dom-fontfaceset-onloadingerror">onloadingerror</a></code> 
      <td><code class="idl"><a data-link-type="idl" href="#eventdef-fontfaceset-loadingerror" id="ref-for-eventdef-fontfaceset-loadingerror">loadingerror</a></code> 
   </table>
   <p>To <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="fire-a-font-load-event">fire a font load event</dfn> named <var>e</var> at a <code class="idl"><a data-link-type="idl" href="#fontfaceset" id="ref-for-fontfaceset③⑤">FontFaceSet</a></code> <var>target</var> with optional <var>font faces</var> means to <a href="https://www.w3.org/TR/html5/webappapis.html#event-firing">fire a simple event</a> named <var>e</var> using the <code class="idl"><a data-link-type="idl" href="#fontfacesetloadevent" id="ref-for-fontfacesetloadevent">FontFaceSetLoadEvent</a></code> interface that also meets these conditions:</p>
   <ol>
    <li> The <code class="idl"><a data-link-type="idl" href="#dom-fontfacesetloadevent-fontfaces" id="ref-for-dom-fontfacesetloadevent-fontfaces">fontfaces</a></code> attribute is initialized to
			the result of filtering <var>font faces</var> to only contain <code class="idl"><a data-link-type="idl" href="#fontface" id="ref-for-fontface③⑧">FontFace</a></code> objects contained in <var>target</var>. 
   </ol>
   <p>When asked to <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="switch-the-fontfaceset-to-loading">switch the FontFaceSet to loading</dfn> for a given <code class="idl"><a data-link-type="idl" href="#fontfaceset" id="ref-for-fontfaceset③⑥">FontFaceSet</a></code>,
	the user agent must run the following steps:</p>
   <ol>
    <li> Let <var>font face set</var> be the given <code class="idl"><a data-link-type="idl" href="#fontfaceset" id="ref-for-fontfaceset③⑦">FontFaceSet</a></code>. 
    <li> Set the <code class="idl"><a data-link-type="idl" href="#dom-fontfaceset-status" id="ref-for-dom-fontfaceset-status">status</a></code> attribute of <var>font face set</var> to "loading". 
    <li> If <var>font face set’s</var> <code class="idl"><a data-link-type="idl" href="#dom-fontfaceset-readypromise-slot" id="ref-for-dom-fontfaceset-readypromise-slot①">[[ReadyPromise]]</a></code> slot currently holds a fulfilled promise,
			replace it with a fresh pending promise. 
    <li> Queue a task to <a data-link-type="dfn" href="#fire-a-font-load-event" id="ref-for-fire-a-font-load-event">fire a font load event</a> named <code class="idl"><a class="idl-code" data-link-type="event" href="#eventdef-fontfaceset-loading" id="ref-for-eventdef-fontfaceset-loading①">loading</a></code> at <var>font face set</var>. 
   </ol>
   <p>When asked to <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="switch-the-fontfaceset-to-loaded">switch the FontFaceSet to loaded</dfn> for a given <code class="idl"><a data-link-type="idl" href="#fontfaceset" id="ref-for-fontfaceset③⑧">FontFaceSet</a></code>,
	the user agent must run the following steps:</p>
   <ol>
    <li data-md>
     <p>Let <var>font face set</var> be the given <code class="idl"><a data-link-type="idl" href="#fontfaceset" id="ref-for-fontfaceset③⑨">FontFaceSet</a></code>.</p>
    <li data-md>
     <p>If <var>font face set</var> is <a data-link-type="dfn" href="#fontfaceset-pending-on-the-environment" id="ref-for-fontfaceset-pending-on-the-environment①">pending on the environment</a>,
mark it as <dfn class="dfn-paneled" data-dfn-for="FontFaceSet" data-dfn-type="dfn" data-export id="fontfaceset-stuck-on-the-environment">stuck on the environment</dfn>,
and exit this algorithm.</p>
    <li data-md>
     <p>Set <var>font face set’s</var> <code class="idl"><a data-link-type="idl" href="#dom-fontfaceset-status" id="ref-for-dom-fontfaceset-status①">status</a></code> attribute to "loaded".</p>
    <li data-md>
     <p>Fulfill <var>font face set’s</var> <code class="idl"><a data-link-type="idl" href="#dom-fontfaceset-readypromise-slot" id="ref-for-dom-fontfaceset-readypromise-slot②">[[ReadyPromise]]</a></code> attribute’s value with <var>font face set</var>.</p>
    <li data-md>
     <p>Queue a task to perform the following steps synchronously:</p>
     <ol>
      <li data-md>
       <p>Let <var>loaded fonts</var> be the (possibly empty) contents of <var>font face set’s</var> <code class="idl"><a data-link-type="idl" href="#dom-fontfaceset-loadedfonts-slot" id="ref-for-dom-fontfaceset-loadedfonts-slot④">[[LoadedFonts]]</a></code> slot.</p>
      <li data-md>
       <p>Let <var>failed fonts</var> be the (possibly empty) contents of <var>font face set’s</var> <code class="idl"><a data-link-type="idl" href="#dom-fontfaceset-failedfonts-slot" id="ref-for-dom-fontfaceset-failedfonts-slot④">[[FailedFonts]]</a></code> slot.</p>
      <li data-md>
       <p>Reset the <code class="idl"><a data-link-type="idl" href="#dom-fontfaceset-loadedfonts-slot" id="ref-for-dom-fontfaceset-loadedfonts-slot⑤">[[LoadedFonts]]</a></code> and <code class="idl"><a data-link-type="idl" href="#dom-fontfaceset-failedfonts-slot" id="ref-for-dom-fontfaceset-failedfonts-slot⑤">[[FailedFonts]]</a></code> slots to empty lists.</p>
      <li data-md>
       <p><a data-link-type="dfn" href="#fire-a-font-load-event" id="ref-for-fire-a-font-load-event①">Fire a font load event</a> named <code class="idl"><a data-link-type="idl" href="#eventdef-fontfaceset-loadingdone" id="ref-for-eventdef-fontfaceset-loadingdone①">loadingdone</a></code> at <var>font face set</var> with <var>loaded fonts</var>.</p>
      <li data-md>
       <p>If <var>font face set’s</var> <var>failed fonts</var> is non-empty, <a data-link-type="dfn" href="#fire-a-font-load-event" id="ref-for-fire-a-font-load-event②">fire a font load event</a> named <code class="idl"><a data-link-type="idl" href="#eventdef-fontfaceset-loadingerror" id="ref-for-eventdef-fontfaceset-loadingerror①">loadingerror</a></code> at <var>font face set</var> with <var>failed fonts</var>.</p>
     </ol>
   </ol>
   <p>Whenever a <code class="idl"><a data-link-type="idl" href="#fontfaceset" id="ref-for-fontfaceset④⓪">FontFaceSet</a></code> goes from <a data-link-type="dfn" href="#fontfaceset-pending-on-the-environment" id="ref-for-fontfaceset-pending-on-the-environment②">pending on the environment</a> to not <span id="ref-for-fontfaceset-pending-on-the-environment③">pending on the environment</span>,
	the user agent must run the following steps:</p>
   <ol>
    <li data-md>
     <p>If the <code class="idl"><a data-link-type="idl" href="#fontfaceset" id="ref-for-fontfaceset④①">FontFaceSet</a></code> is <a data-link-type="dfn" href="#fontfaceset-stuck-on-the-environment" id="ref-for-fontfaceset-stuck-on-the-environment">stuck on the environment</a> and its <code class="idl"><a data-link-type="idl" href="#dom-fontfaceset-loadingfonts-slot" id="ref-for-dom-fontfaceset-loadingfonts-slot①⓪">[[LoadingFonts]]</a></code> list is empty, <a data-link-type="dfn" href="#switch-the-fontfaceset-to-loaded" id="ref-for-switch-the-fontfaceset-to-loaded⑥">switch the FontFaceSet to loaded</a>.</p>
    <li data-md>
     <p>If the <code class="idl"><a data-link-type="idl" href="#fontfaceset" id="ref-for-fontfaceset④②">FontFaceSet</a></code> is <a data-link-type="dfn" href="#fontfaceset-stuck-on-the-environment" id="ref-for-fontfaceset-stuck-on-the-environment①">stuck on the environment</a>,
unmark it as such.</p>
   </ol>
   <p>If asked to <dfn class="dfn-paneled" data-dfn-type="dfn" data-export id="find-the-matching-font-faces">find the matching font faces</dfn> from a FontFaceSet <var>source</var>,
	for a given font string <var>font</var> optionally some sample text <var>text</var>,
	and optionally an <var>allow system fonts</var> flag,
	run the following steps:</p>
   <ol>
    <li>
      Parse <var>font</var> using the CSS value syntax of the <a class="property css" data-link-type="property" href="https://drafts.csswg.org/css-fonts-4/#propdef-font" id="ref-for-propdef-font">font</a> property.
			If a syntax error occurs,
			return a syntax error. 
     <p>If the parsed value is a <a data-link-type="dfn" href="https://drafts.csswg.org/css-values-4/#css-wide-keywords" id="ref-for-css-wide-keywords">CSS-wide keyword</a>,
			return a syntax error.</p>
     <p>Absolutize all relative lengths against the initial values of the corresponding properties.
			(For example, a relative font weight like <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-fonts-4/#valdef-font-weight-bolder" id="ref-for-valdef-font-weight-bolder">bolder</a> is evaluated against the initial value <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-fonts-4/#valdef-font-weight-normal" id="ref-for-valdef-font-weight-normal">normal</a>.)</p>
    <li> If <var>text</var> was not explicitly provided,
			let it be a string containing a single space character (U+0020 SPACE). 
    <li> Let <var>font family list</var> be the list of font families parsed from <var>font</var>,
			and <var>font style</var> be the other font style attributes parsed from <var>font</var>. 
    <li> Let <var>available font faces</var> be the <a data-link-type="dfn" href="#available-font-faces" id="ref-for-available-font-faces">available font faces</a> within <var>source</var>.
			If the <var>allow system fonts</var> flag is specified,
			add all system fonts to <var>available font faces</var>. 
    <li> Let <var>matched font faces</var> initially be an empty list. 
    <li> For each family in <var>font family list</var>,
			use the font matching rules to select the font faces from <var>available font faces</var> that match the <var>font style</var>,
			and add them to <var>matched font faces</var>.
			The use of the <code class="idl"><a data-link-type="idl" href="#dom-fontface-unicoderange" id="ref-for-dom-fontface-unicoderange②">unicodeRange</a></code> attribute means that this may be more than just a single font face. 
    <li> If <var>matched font faces</var> is empty,
			set the <var>found faces</var> flag to false.
			Otherwise, set it to true. 
    <li>
      For each font face in <var>matched font faces</var>,
			if its defined <a class="property css" data-link-type="property">unicode-range</a> does not include the codepoint of at least one character in <var>text</var>,
			remove it from the list. 
     <p class="note" role="note"><span class="marker">Note:</span> Therefore, if <var>text</var> is the empty string, every font will be removed.</p>
    <li> Return <var>matched font faces</var> and the <var>found faces</var> flag. 
   </ol>
   <h3 class="heading settled" data-level="3.2" id="font-face-set-load"><span class="secno">3.2. </span><span class="content"> The <code>load()</code> method</span><a class="self-link" href="#font-face-set-load"></a></h3>
   <p>The <code class="idl"><a data-link-type="idl" href="#dom-fontfaceset-load" id="ref-for-dom-fontfaceset-load②">load()</a></code> method of <code class="idl"><a data-link-type="idl" href="#fontfaceset" id="ref-for-fontfaceset④③">FontFaceSet</a></code> will determine whether all fonts in the given font list
	have been loaded and are available.
	If any fonts are downloadable fonts and have not already been loaded,
	the user agent will initiate the load of each of these fonts.
	It returns a Promise,
	which is fulfilled when all of the fonts are loaded and ready to be used,
	or rejected if any font failed to load properly.</p>
   <p>When the <dfn class="dfn-paneled idl-code" data-dfn-for="FontFaceSet" data-dfn-type="method" data-export data-lt="load(font, text)|load(font)" id="dom-fontfaceset-load"><code>load</code></dfn>( <span> <dfn class="dfn-paneled idl-code" data-dfn-for="FontFaceSet/load(font, text)" data-dfn-type="argument" data-export id="dom-fontfaceset-load-font-text-font"><code>font</code></dfn>, <dfn class="dfn-paneled idl-code" data-dfn-for="FontFaceSet/load(font, text)" data-dfn-type="argument" data-export id="dom-fontfaceset-load-font-text-text"><code>text</code></dfn> </span> ) method is called,
	execute these steps:</p>
   <ol>
    <li> Let <var>font face set</var> be the <code class="idl"><a data-link-type="idl" href="#fontfaceset" id="ref-for-fontfaceset④④">FontFaceSet</a></code> object this method was called on.
			Let <var>promise</var> be a newly-created promise object. 
    <li> Return <var>promise</var>.
			Complete the rest of these steps asynchronously. 
    <li> <a data-link-type="dfn" href="#find-the-matching-font-faces" id="ref-for-find-the-matching-font-faces">Find the matching font faces</a> from <var>font face set</var> using the <code class="idl"><a data-link-type="idl">font</a></code> and <code class="idl"><a data-link-type="idl">text</a></code> arguments passed to the function,
			and let <var>font face list</var> be the return value
			(ignoring the <var>found faces</var> flag).
			If a syntax error was returned,
			reject <var>promise</var> with a SyntaxError exception
			and terminate these steps. 
    <li>
      Queue a task to run the following steps synchronously: 
     <ol>
      <li> For all of the font faces in the <var>font face list</var>,
					call their <code class="idl"><a data-link-type="idl" href="#dom-fontface-load" id="ref-for-dom-fontface-load④">load()</a></code> method. 
      <li> Resolve <var>promise</var> with the result of
					waiting for all of the <code class="idl"><a data-link-type="idl" href="#dom-fontface-fontstatuspromise-slot" id="ref-for-dom-fontface-fontstatuspromise-slot⑨">[[FontStatusPromise]]</a></code>s of each font face in the <var>font face list</var>, in order. 
     </ol>
   </ol>
   <h3 class="heading settled" data-level="3.3" id="font-face-set-check"><span class="secno">3.3. </span><span class="content"> The <code>check()</code> method</span><a class="self-link" href="#font-face-set-check"></a></h3>
   <p>The <code class="idl"><a data-link-type="idl" href="#dom-fontfaceset-check" id="ref-for-dom-fontfaceset-check①">check()</a></code> method of <code class="idl"><a data-link-type="idl" href="#fontfaceset" id="ref-for-fontfaceset④⑤">FontFaceSet</a></code> will determine whether you can "safely"
	render some provided text with a particular font list,
	such that it won’t cause a "font swap" later.
	If the given text/font combo will render without attempting to use any unloaded or currently-loading fonts,
	this method will return true;
	otherwise, it returns false.</p>
   <div class="note" role="note">
     Two special cases in this method’s behavior should be noted,
		as they are non-obvious: 
    <ul>
     <li data-md>
      <p>If the specified fonts exist,
but all possible faces are ruled out due to their unicode-range not covering the provided text,
the method returns <code>true</code>,
as the text will be rendered in the UA’s fallback font instead,
and won’t trigger any font loads.</p>
     <li data-md>
      <p>Likewise, if none of the specified fonts exist (for example, names are mis-spelled),
the method also returns <code>true</code>,
because using this font list will not trigger any loads;
instead, fallback will occur.</p>
    </ul>
   </div>
   <p>When the <dfn class="dfn-paneled idl-code" data-dfn-for="FontFaceSet" data-dfn-type="method" data-export data-lt="check(font, text)|check(font)" id="dom-fontfaceset-check"><code>check</code></dfn>( <span><dfn class="dfn-paneled idl-code" data-dfn-for="FontFaceSet/check(font, text)" data-dfn-type="argument" data-export id="dom-fontfaceset-check-font-text-font"><code>font</code></dfn>, <dfn class="dfn-paneled idl-code" data-dfn-for="FontFaceSet/check(font, text)" data-dfn-type="argument" data-export id="dom-fontfaceset-check-font-text-text"><code>text</code></dfn>)</span> method is called,
	execute these steps:</p>
   <ol>
    <li> Let <var>font face set</var> be the <code class="idl"><a data-link-type="idl" href="#fontfaceset" id="ref-for-fontfaceset④⑥">FontFaceSet</a></code> object this method was called on. 
    <li> <a data-link-type="dfn" href="#find-the-matching-font-faces" id="ref-for-find-the-matching-font-faces①">Find the matching font faces</a> from <var>font face set</var> using the <code class="idl"><a data-link-type="idl">font</a></code> and <code class="idl"><a data-link-type="idl">text</a></code> arguments passed to the function,
			and including system fonts,
			and let <var>font face list</var> be the returned list of font faces,
			and <var>found faces</var> be the returned <var>found faces</var> flag.
			If a syntax error was returned,
			throw a SyntaxError exception
			and terminate these steps. 
    <li> If <var>font face list</var> is empty,
			or all fonts in the <var>font face list</var> either have a <code class="idl"><a data-link-type="idl" href="#dom-fontface-status" id="ref-for-dom-fontface-status①②">status</a></code> attribute of "loaded" or are system fonts,
			return <code>true</code>.
			Otherwise, return <code>false</code>. 
   </ol>
   <h3 class="heading settled" data-level="3.4" id="font-face-set-ready"><span class="secno">3.4. </span><span class="content"> The <code>ready</code> attribute</span><a class="self-link" href="#font-face-set-ready"></a></h3>
   <p>Because the number of fonts loaded depends on the how many fonts are used for a given piece of text,
	in some cases whether fonts need to be loaded or not may not be known.
	The <code class="idl"><a data-link-type="idl" href="#dom-fontfaceset-ready" id="ref-for-dom-fontfaceset-ready①">ready</a></code> attribute contains a <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-promise" id="ref-for-idl-promise⑧">Promise</a></code> which is resolved when the document is done loading fonts,
	which provides a way for authors to avoid having to keep track of which fonts have or haven’t been loaded
	before examining content which may be affected by loading fonts.</p>
   <p class="note" role="note"><span class="marker">Note:</span> Authors should note that a given <var>ready promise</var> is only fulfilled once,
	but further fonts may be loaded after it fulfills.
	This is similar to listening for a <code class="idl"><a data-link-type="idl" href="#eventdef-fontfaceset-loadingdone" id="ref-for-eventdef-fontfaceset-loadingdone②">loadingdone</a></code> event to fire,
	but the callbacks passed to the <code class="idl"><a data-link-type="idl" href="#dom-fontfaceset-ready" id="ref-for-dom-fontfaceset-ready②">ready</a></code> promise will <strong>always</strong> get called,
	even when no font loads occur because the fonts in question are already loaded.
	It’s a simple, easy way to synchronize code to font loads
	without the need to keep track of what fonts are needed and precisely when they load.</p>
   <p class="note" role="note"><span class="marker">Note:</span> Note that the user agent may need to iterate over multiple font loads before the <var>ready promise</var> is fulfilled.
	This can occur with font fallback situations,
	where one font in the fontlist is loaded
	but doesn’t contain a particular glyph
	and other fonts in the fontlist need to be loaded.
	The <var>ready promise</var> is only fulfilled after layout operations complete
	and no additional font loads are necessary.</p>
   <p class="note" role="note"><span class="marker">Note:</span> Note that the Promise returned by this <code class="idl"><a data-link-type="idl" href="#dom-fontfaceset-ready" id="ref-for-dom-fontfaceset-ready③">ready</a></code> attribute is only ever fulfilled,
	never rejected,
	unlike the Promise returned by the <code class="idl"><a data-link-type="idl" href="#fontface" id="ref-for-fontface③⑨">FontFace</a></code> <code class="idl"><a data-link-type="idl" href="#dom-fontface-load" id="ref-for-dom-fontface-load⑤">load()</a></code> method.</p>
   <h3 class="heading settled" data-level="3.5" id="font-face-set-css"><span class="secno">3.5. </span><span class="content"> Interaction with CSS Font Loading and Matching</span><a class="self-link" href="#font-face-set-css"></a></h3>
   <p>When the font matching algorithm in <a data-link-type="biblio" href="#biblio-css-fonts-3" title="CSS Fonts Module Level 3">[CSS-FONTS-3]</a> is run automatically by the user-agent,
	the set of font faces it matches over must be precisely the set of fonts in the <a data-link-type="dfn" href="#font-source" id="ref-for-font-source③">font source</a> for the document,
	plus any local font faces.</p>
   <p>When a user-agent needs to load a font face,
	it must do so by calling the <code class="idl"><a data-link-type="idl" href="#dom-fontface-load" id="ref-for-dom-fontface-load⑥">load()</a></code> method
	of the corresponding <code class="idl"><a data-link-type="idl" href="#fontface" id="ref-for-fontface④⓪">FontFace</a></code> object.</p>
   <p>(This means it must run the same algorithm,
	not literally call the value currently stored in the <code>load</code> property of the object.)</p>
   <div class="example" id="example-00e0f107">
    <a class="self-link" href="#example-00e0f107"></a> Fonts are available when they are added to a <code class="idl"><a data-link-type="idl" href="#fontfaceset" id="ref-for-fontfaceset④⑦">FontFaceSet</a></code>.
		Adding a new <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-fonts-5/#at-font-face-rule" id="ref-for-at-font-face-rule②②">@font-face</a> rule to a stylesheet
		also adds a new <code class="idl"><a data-link-type="idl" href="#fontface" id="ref-for-fontface④①">FontFace</a></code> to the <code class="idl"><a data-link-type="idl" href="#fontfaceset" id="ref-for-fontfaceset④⑧">FontFaceSet</a></code> of the <code class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#document" id="ref-for-document">Document</a></code> object. 
    <p>Adding a new <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-fonts-5/#at-font-face-rule" id="ref-for-at-font-face-rule②③">@font-face</a> rule:</p>
<pre class="highlight">document<c- p>.</c->styleSheets<c- p>[</c-><c- mf>0</c-><c- p>].</c->insertRule<c- p>(</c->
  <c- u>"@font-face { font-family: newfont; src: url(newfont.woff); }"</c-><c- p>,</c-> <c- mf>0</c-><c- p>);</c->
document<c- p>.</c->body<c- p>.</c->style<c- p>.</c->fontFamily <c- o>=</c-> <c- u>"newfont, serif"</c-><c- p>;</c->
</pre>
    <p>Constructing a new <code class="idl"><a data-link-type="idl" href="#fontface" id="ref-for-fontface④②">FontFace</a></code> object and adding it to <code class="highlight">document<c- p>.</c->fonts</code>:</p>
<pre class="highlight"><c- a>var</c-> f <c- o>=</c-> <c- ow>new</c-> FontFace<c- p>(</c-><c- u>"newfont"</c-><c- p>,</c-> <c- u>"url(newfont.woff)"</c-><c- p>);</c->
document<c- p>.</c->fonts<c- p>.</c->add<c- p>(</c->f<c- p>);</c->
document<c- p>.</c->body<c- p>.</c->style<c- p>.</c->fontFamily <c- o>=</c-> <c- u>"newfont, serif"</c-><c- p>;</c->
</pre>
    <p>In both cases, the loading of the font resource “newfont.woff” will be initiated by the layout engine,
		just as other <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-fonts-5/#at-font-face-rule" id="ref-for-at-font-face-rule②④">@font-face</a> rule fonts are loaded.</p>
    <p>Omitting the addition to <code class="highlight">document<c- p>.</c->fonts</code> means the font would never be loaded
		and text would be displayed in the default serif font:</p>
<pre class="highlight"><c- a>var</c-> f <c- o>=</c-> <c- ow>new</c-> FontFace<c- p>(</c-><c- u>"newfont"</c-><c- p>,</c-> <c- u>"url(newtest.woff)"</c-><c- p>,</c-> <c- p>{});</c->

<c- d>/* new {{FontFace}} not added to {{FontFaceSet}},</c->
<c- d>   so the 'font-family' property can’t see it,</c->
<c- d>   and serif will be used instead */</c->
document<c- p>.</c->body<c- p>.</c->style<c- p>.</c->fontFamily <c- o>=</c-> <c- u>"newfont, serif"</c-><c- p>;</c->
</pre>
    <p>To explicitly preload a font before using it,
		authors can defer the addition of a new <code class="idl"><a data-link-type="idl" href="#fontface" id="ref-for-fontface④③">FontFace</a></code> to a <code class="idl"><a data-link-type="idl" href="#fontfaceset" id="ref-for-fontfaceset④⑨">FontFaceSet</a></code> until the load has completed:</p>
<pre class="highlight"><c- a>var</c-> f <c- o>=</c-> <c- ow>new</c-> FontFace<c- p>(</c-><c- u>"newfont"</c-><c- p>,</c-> <c- u>"url(newfont.woff)"</c-><c- p>,</c-> <c- p>{});</c->
f<c- p>.</c->load<c- p>().</c->then<c- p>(</c-><c- a>function</c-> <c- p>(</c->loadedFace<c- p>)</c-> <c- p>{</c->
  document<c- p>.</c->fonts<c- p>.</c->add<c- p>(</c->loadedFace<c- p>);</c->
  document<c- p>.</c->body<c- p>.</c->style<c- p>.</c->fontFamily <c- o>=</c-> <c- u>"newfont, serif"</c-><c- p>;</c->
<c- p>});</c->
</pre>
    <p>In this case, the font resource “newfont.woff” is first downloaded.
		Once the download completes,
		the font is added to the document’s <code class="idl"><a data-link-type="idl" href="#fontfaceset" id="ref-for-fontfaceset⑤⓪">FontFaceSet</a></code>,
		the body font is changed,
		and the layout engine uses the new font resource.</p>
   </div>
   <h2 class="heading settled" data-level="4" id="font-face-source"><span class="secno">4. </span><span class="content"> The <code>FontFaceSource</code> Mixin</span><a class="self-link" href="#font-face-source"></a></h2>
<pre class="idl highlight def"><c- b>interface</c-> <c- b>mixin</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="interface" data-export id="fontfacesource"><code><c- g>FontFaceSource</c-></code></dfn> {
  <c- b>readonly</c-> <c- b>attribute</c-> <a data-link-type="idl-name" href="#fontfaceset" id="ref-for-fontfaceset⑤①"><c- n>FontFaceSet</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="FontFaceSource" data-dfn-type="attribute" data-export data-readonly data-type="FontFaceSet" id="dom-fontfacesource-fonts"><code><c- g>fonts</c-></code></dfn>;
};

<a data-link-type="idl-name" href="https://dom.spec.whatwg.org/#document" id="ref-for-document①"><c- n>Document</c-></a> <c- b>includes</c-> <a data-link-type="idl-name" href="#fontfacesource" id="ref-for-fontfacesource"><c- n>FontFaceSource</c-></a>;
<a data-link-type="idl-name" href="https://html.spec.whatwg.org/multipage/workers.html#workerglobalscope" id="ref-for-workerglobalscope"><c- n>WorkerGlobalScope</c-></a> <c- b>includes</c-> <a data-link-type="idl-name" href="#fontfacesource" id="ref-for-fontfacesource①"><c- n>FontFaceSource</c-></a>;
</pre>
   <p>Any document, workers, or other context which can use fonts in some manner must include the <code class="idl"><a data-link-type="idl" href="#fontfacesource" id="ref-for-fontfacesource②">FontFaceSource</a></code> mixin.
	The value of the context’s <code class="idl"><a data-link-type="idl" href="#dom-fontfacesource-fonts" id="ref-for-dom-fontfacesource-fonts">fonts</a></code> attribute is its <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="font-source">font source</dfn>,
	which provides all of the fonts used in font-related operations,
	unless defined otherwise.
	Operations referring to “the font source” must be interpreted as referring to the <a data-link-type="dfn" href="#font-source" id="ref-for-font-source④">font source</a> of the relevant context in which the operation is taking place.</p>
   <p>For any font-related operation that takes place within one of these contexts,
	the <code class="idl"><a data-link-type="idl" href="#fontface" id="ref-for-fontface④④">FontFace</a></code> objects within the <a data-link-type="dfn" href="#font-source" id="ref-for-font-source⑤">font source</a> are its <dfn class="dfn-paneled" data-dfn-type="dfn" data-export id="available-font-faces">available font faces</dfn>.</p>
   <h3 class="heading settled" data-level="4.1" id="fontfacesource-workers"><span class="secno">4.1. </span><span class="content"> Worker FontFaceSources</span><a class="self-link" href="#fontfacesource-workers"></a></h3>
   <p>Within a Worker document, the <a data-link-type="dfn" href="#font-source" id="ref-for-font-source⑥">font source</a> is initially empty.</p>
   <p class="note" role="note"><span class="marker">Note:</span> <code class="idl"><a data-link-type="idl" href="#fontface" id="ref-for-fontface④⑤">FontFace</a></code> objects can be constructed and added to it as normal,
	which affects CSS font-matching within the worker
	(such as, for example, drawing text into a <code class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/canvas.html#offscreencanvas" id="ref-for-offscreencanvas">OffscreenCanvas</a></code>).</p>
   <h3 class="heading settled" data-level="4.2" id="document-font-face-set"><span class="secno">4.2. </span><span class="content"> Interaction with CSS’s <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-fonts-5/#at-font-face-rule" id="ref-for-at-font-face-rule②⑤">@font-face</a> Rule</span><a class="self-link" href="#document-font-face-set"></a></h3>
   <p>The <a data-link-type="dfn" href="#fontfaceset-set-entries" id="ref-for-fontfaceset-set-entries⑤">set entries</a> for a document’s <a data-link-type="dfn" href="#font-source" id="ref-for-font-source⑦">font source</a> must be initially populated with all the <a data-link-type="dfn" href="#css-connected" id="ref-for-css-connected⑧">CSS-connected</a> <code class="idl"><a data-link-type="idl" href="#fontface" id="ref-for-fontface④⑥">FontFace</a></code> objects
	from all of the CSS <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-fonts-5/#at-font-face-rule" id="ref-for-at-font-face-rule②⑥">@font-face</a> rules in the <a data-link-type="dfn" href="https://drafts.csswg.org/cssom-1/#documentorshadowroot-document-or-shadow-root-css-style-sheets" id="ref-for-documentorshadowroot-document-or-shadow-root-css-style-sheets">document or shadow root CSS style sheets</a>,
	in document order.
	As <span class="css" id="ref-for-at-font-face-rule②⑦">@font-face</span> rules are added or removed from a stylesheet,
	or stylesheets containing <span class="css" id="ref-for-at-font-face-rule②⑧">@font-face</span> rules are added or removed,
	the corresponding <span id="ref-for-css-connected⑨">CSS-connected</span> <code class="idl"><a data-link-type="idl" href="#fontface" id="ref-for-fontface④⑦">FontFace</a></code> objects
	must be added or removed from the document’s <span id="ref-for-font-source⑧">font source</span>,
	and maintain this ordering.</p>
   <p>Any manually-added <code class="idl"><a data-link-type="idl" href="#fontface" id="ref-for-fontface④⑧">FontFace</a></code> objects must be ordered <em>after</em> the <a data-link-type="dfn" href="#css-connected" id="ref-for-css-connected①⓪">CSS-connected</a> ones.</p>
   <p>When a <code class="idl"><a data-link-type="idl" href="#fontfaceset" id="ref-for-fontfaceset⑤②">FontFaceSet</a></code> object’s <code class="idl"><a data-link-type="idl" href="#dom-fontfaceset-add" id="ref-for-dom-fontfaceset-add②">add()</a></code> method is called with a <a data-link-type="dfn" href="#css-connected" id="ref-for-css-connected①①">CSS-connected</a> <code class="idl"><a data-link-type="idl" href="#fontface" id="ref-for-fontface④⑨">FontFace</a></code> object,
	if the object is already in the set,
	the operation must be a no-op;
	otherwise, the operation must do nothing,
	and throw an <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#invalidmodificationerror" id="ref-for-invalidmodificationerror①">InvalidModificationError</a></code>.</p>
   <p>When a <code class="idl"><a data-link-type="idl" href="#fontfaceset" id="ref-for-fontfaceset⑤③">FontFaceSet</a></code> object’s <code class="idl"><a data-link-type="idl" href="#dom-fontfaceset-delete" id="ref-for-dom-fontfaceset-delete②">delete()</a></code> method is called with a <a data-link-type="dfn" href="#css-connected" id="ref-for-css-connected①②">CSS-connected</a> <code class="idl"><a data-link-type="idl" href="#fontface" id="ref-for-fontface⑤⓪">FontFace</a></code> object,
	the operation must be a no-op,
	and return <code class="lang-javascript highlight"><c- kc>false</c-></code>.</p>
   <p class="note" role="note"><span class="marker">Note:</span> Authors can still maintain references to a removed <code class="idl"><a data-link-type="idl" href="#fontface" id="ref-for-fontface⑤①">FontFace</a></code>,
	even if it’s been automatically removed from a <a data-link-type="dfn" href="#font-source" id="ref-for-font-source⑨">font source</a>.
	As specified in <a href="#font-face-css-connection">§ 2.3 Interaction with CSS’s @font-face Rule</a>, though,
	the <code class="idl"><a data-link-type="idl" href="#fontface" id="ref-for-fontface⑤②">FontFace</a></code> is no longer <a data-link-type="dfn" href="#css-connected" id="ref-for-css-connected①③">CSS-connected</a> at that point.</p>
   <p class="note" role="note"><span class="marker">Note:</span> It is expected that a future version of this specification
	will define ways of interacting with and querying local fonts as well.</p>
   <h2 class="heading settled" data-level="5" id="font-load-event-examples"><span class="secno">5. </span><span class="content"> API Examples</span><a class="self-link" href="#font-load-event-examples"></a></h2>
   <div class="example" id="example-c4045522">
    <a class="self-link" href="#example-c4045522"></a> To show content only after all font loads complete: 
<pre class="highlight">document<c- p>.</c->fonts<c- p>.</c->ready<c- p>.</c->then<c- p>(</c-><c- a>function</c-><c- p>()</c-> <c- p>{</c->
  <c- a>var</c-> content <c- o>=</c-> document<c- p>.</c->getElementById<c- p>(</c-><c- u>"content"</c-><c- p>);</c->
  content<c- p>.</c->style<c- p>.</c->visibility <c- o>=</c-> <c- u>"visible"</c-><c- p>;</c->
<c- p>});</c->
</pre>
   </div>
   <div class="example" id="example-95b58c34">
    <a class="self-link" href="#example-95b58c34"></a> Drawing text in a canvas with a downloadable font, explicitly
		initiating the font download and drawing upon completion: 
<pre class="highlight"><c- a>function</c-> drawStuff<c- p>()</c-> <c- p>{</c->
  <c- a>var</c-> ctx <c- o>=</c-> document<c- p>.</c->getElementById<c- p>(</c-><c- u>"c"</c-><c- p>).</c->getContext<c- p>(</c-><c- u>"2d"</c-><c- p>);</c->

  ctx<c- p>.</c->fillStyle <c- o>=</c-> <c- u>"red"</c-><c- p>;</c->
  ctx<c- p>.</c->font <c- o>=</c-> <c- u>"50px MyDownloadableFont"</c-><c- p>;</c->
  ctx<c- p>.</c->fillText<c- p>(</c-><c- u>"Hello!"</c-><c- p>,</c-> <c- mf>100</c-><c- p>,</c-> <c- mf>100</c-><c- p>);</c->
<c- p>}</c->

document<c- p>.</c->fonts<c- p>.</c->load<c- p>(</c-><c- u>"50px MyDownloadableFont"</c-><c- p>)</c->
              <c- p>.</c->then<c- p>(</c->drawStuff<c- p>,</c-> handleError<c- p>);</c->
</pre>
   </div>
   <div class="example" id="example-8e44fe29">
    <a class="self-link" href="#example-8e44fe29"></a> A rich text editing application may need to measure text elements
		after editing operations have taken place.  Since style changes may
		or may not require additional fonts to be downloaded, or the fonts
		may already have been downloaded, the measurement procedures need to
		occur after those font loads complete: 
<pre class="highlight"><c- a>function</c-> measureTextElements<c- p>()</c-> <c- p>{</c->
  <c- c1>// contents can now be measured using the metrics of</c->
  <c- c1>// the downloadable font(s)</c->
<c- p>}</c->

<c- a>function</c-> doEditing<c- p>()</c-> <c- p>{</c->
  <c- c1>// content/layout operations that may cause additional font loads</c->
  document<c- p>.</c->fonts<c- p>.</c->ready<c- p>.</c->then<c- p>(</c->measureTextElements<c- p>);</c->
<c- p>}</c->
</pre>
   </div>
   <div class="example" id="example-268ae257">
    <a class="self-link" href="#example-268ae257"></a> The <code class="idl"><a data-link-type="idl" href="#eventdef-fontfaceset-loadingdone" id="ref-for-eventdef-fontfaceset-loadingdone③">loadingdone</a></code> event only fires after all font related loads have completed <strong>and</strong> text has been laid out without causing additional font loads: 
<pre class="highlight"><c- p>&lt;</c-><c- f>style</c-><c- p>></c->
<c- p>@</c-><c- k>font-face</c-> <c- p>{</c->
  <c- f>font-family</c-><c- o>:</c-> <c- f>latin-serif</c-><c- o>;</c->
  <c- f>src</c-><c- o>:</c-> <c- f>url</c-><c- o>(</c-><c- f>latinserif</c-><c- p>.</c-><c- nc>woff</c-><c- o>)</c-> <c- f>format</c-><c- o>(</c-><c- u>"woff"</c-><c- o>);</c-> <c- c>/* contains no kanji/kana */</c->
<c- p>}</c->
<c- p>@</c-><c- k>font-face</c-> <c- p>{</c->
  <c- f>font-family</c-><c- o>:</c-> <c- f>jpn-mincho</c-><c- o>;</c->
  <c- f>src</c-><c- o>:</c-> <c- f>url</c-><c- o>(</c-><c- f>mincho</c-><c- p>.</c-><c- nc>woff</c-><c- o>)</c-> <c- f>format</c-><c- o>(</c-><c- u>"woff"</c-><c- o>);</c->
<c- p>}</c->
<c- p>@</c-><c- k>font-face</c-> <c- p>{</c->
  <c- f>font-family</c-><c- o>:</c-> <c- f>unused</c-><c- o>;</c->
  <c- f>src</c-><c- o>:</c-> <c- f>url</c-><c- o>(</c-><c- f>unused</c-><c- p>.</c-><c- nc>woff</c-><c- o>);</c->
<c- p>}</c->

<c- f>body</c-> <c- p>{</c-> <c- k>font-family</c-><c- p>:</c-> <c- n>latin-serif</c-><c- p>,</c-> <c- n>jpn-mincho</c-><c- p>;</c-> <c- p>}</c->
<c- p>&lt;/</c-><c- f>style</c-><c- p>></c->
<c- p>&lt;</c-><c- f>p</c-><c- p>></c->納豆はいかがでしょうか
</pre>
    <p>In this situation, the user agent first downloads “latinserif.woff”
		and then tries to use this to draw the Japanese text.
		But because no Japanese glyphs are present in that font,
		fallback occurs and the font “mincho.woff” is downloaded.
		Only after the second font is downloaded and the Japanese text laid out does the <code class="idl"><a data-link-type="idl" href="#eventdef-fontfaceset-loadingdone" id="ref-for-eventdef-fontfaceset-loadingdone④">loadingdone</a></code> event fire.</p>
    <p>The "unused" font isn’t loaded,
		but no text is using it,
		so the UA isn’t even <em>trying</em> to load it.
		It doesn’t interfere with the <code class="idl"><a data-link-type="idl" href="#eventdef-fontfaceset-loadingdone" id="ref-for-eventdef-fontfaceset-loadingdone⑤">loadingdone</a></code> event.</p>
   </div>
   <h2 class="no-num heading settled" id="changes"><span class="content">Changes</span><a class="self-link" href="#changes"></a></h2>
   <p>Changes from the <a href="https://www.w3.org/TR/2014/WD-css-font-loading-3-20140522/">May 2014 CSS Font Loading Last Call Working Draft</a>:</p>
   <ol>
    <li data-md>
     <p>Corrected the async algorithms to use "queue a task" language,
to ensure that side-effect timing is well-defined.</p>
    <li data-md>
     <p>Switched <code class="idl"><a data-link-type="idl" href="#dom-fontfacesetloadevent-fontfaces" id="ref-for-dom-fontfacesetloadevent-fontfaces①">fontfaces</a></code> to be a FrozenArray,
to match with proper IDL practice.</p>
    <li data-md>
     <p>Added <code class="idl"><a data-link-type="idl" href="#dom-fontface-variationsettings" id="ref-for-dom-fontface-variationsettings①">variationSettings</a></code> and <code class="idl"><a data-link-type="idl" href="#dom-fontface-display" id="ref-for-dom-fontface-display①">display</a></code>, to sync with <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-fonts-5/#at-font-face-rule" id="ref-for-at-font-face-rule②⑨">@font-face</a>.</p>
   </ol>
   <h2 class="no-num heading settled" id="acknowledgments"><span class="content"> Acknowledgments</span><a class="self-link" href="#acknowledgments"></a></h2>
   <p>Several members of the Google Fonts team provided helpful feedback on font load events,
	as did Boris Zbarsky, Jonas Sicking and ms2ger.</p>
   <h2 class="no-num heading settled" id="priv-sec"><span class="content"> Privacy &amp; Security Considerations</span><a class="self-link" href="#priv-sec"></a></h2>
   <p>The <code class="idl"><a data-link-type="idl" href="#fontfaceset" id="ref-for-fontfaceset⑤④">FontFaceSet</a></code> object leaks information about the user’s installed fonts,
	but in the exact same way as the existing <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-fonts-5/#at-font-face-rule" id="ref-for-at-font-face-rule③⓪">@font-face</a> rule;
	no new information is leaked,
	or in any appreciable easier manner.</p>
   <p>This specification introduces no new security considerations.</p>
  </main>
  <h2 class="no-ref no-num heading settled" id="w3c-conformance"><span class="content"> Conformance</span><a class="self-link" href="#w3c-conformance"></a></h2>
  <h3 class="no-ref heading settled" id="w3c-conventions"><span class="content"> Document conventions</span><a class="self-link" href="#w3c-conventions"></a></h3>
  <p>Conformance requirements are expressed with a combination of
    descriptive assertions and RFC 2119 terminology. The key words “MUST”,
    “MUST NOT”, “REQUIRED”, “SHALL”, “SHALL NOT”, “SHOULD”, “SHOULD NOT”,
    “RECOMMENDED”, “MAY”, and “OPTIONAL” in the normative parts of this
    document are to be interpreted as described in RFC 2119.
    However, for readability, these words do not appear in all uppercase
    letters in this specification. </p>
  <p>All of the text of this specification is normative except sections
    explicitly marked as non-normative, examples, and notes. <a data-link-type="biblio" href="#biblio-rfc2119" title="Key words for use in RFCs to Indicate Requirement Levels">[RFC2119]</a></p>
  <p>Examples in this specification are introduced with the words “for example”
    or are set apart from the normative text with <code>class="example"</code>,
    like this: </p>
  <div class="example" id="w3c-example">
   <a class="self-link" href="#w3c-example"></a> 
   <p>This is an example of an informative example.</p>
  </div>
  <p>Informative notes begin with the word “Note” and are set apart from the
    normative text with <code>class="note"</code>, like this: </p>
  <p class="note" role="note">Note, this is an informative note.</p>
  <p>Advisements are normative sections styled to evoke special attention and are
    set apart from other normative text with <code>&lt;strong class="advisement"></code>, like
    this: <strong class="advisement"> UAs MUST provide an accessible alternative. </strong></p>
  <details class="wpt-tests-block" dir="ltr" lang="en" open>
   <summary>Tests</summary>
   <p>Tests relating to the content of this specification
                     may be documented in “Tests” blocks like this one.
                     Any such block is non-normative.</p>
   <ul class="wpt-tests-list"></ul>
   <hr>
  </details>
  <h3 class="no-ref heading settled" id="w3c-conformance-classes"><span class="content"> Conformance classes</span><a class="self-link" href="#w3c-conformance-classes"></a></h3>
  <p>Conformance to this specification
    is defined for three conformance classes: </p>
  <dl>
   <dt>style sheet 
   <dd>A <a href="http://www.w3.org/TR/CSS21/conform.html#style-sheet">CSS
            style sheet</a>. 
   <dt>renderer 
   <dd>A <a href="http://www.w3.org/TR/CSS21/conform.html#user-agent">UA</a> that interprets the semantics of a style sheet and renders
            documents that use them. 
   <dt>authoring tool 
   <dd>A <a href="http://www.w3.org/TR/CSS21/conform.html#user-agent">UA</a> that writes a style sheet. 
  </dl>
  <p>A style sheet is conformant to this specification
    if all of its statements that use syntax defined in this module are valid
    according to the generic CSS grammar and the individual grammars of each
    feature defined in this module. </p>
  <p>A renderer is conformant to this specification
    if, in addition to interpreting the style sheet as defined by the
    appropriate specifications, it supports all the features defined
    by this specification by parsing them correctly
    and rendering the document accordingly. However, the inability of a
    UA to correctly render a document due to limitations of the device
    does not make the UA non-conformant. (For example, a UA is not
    required to render color on a monochrome monitor.) </p>
  <p>An authoring tool is conformant to this specification
    if it writes style sheets that are syntactically correct according to the
    generic CSS grammar and the individual grammars of each feature in
    this module, and meet all other conformance requirements of style sheets
    as described in this module. </p>
  <h3 class="no-ref heading settled" id="w3c-partial"><span class="content"> Partial implementations</span><a class="self-link" href="#w3c-partial"></a></h3>
  <p>So that authors can exploit the forward-compatible parsing rules to
    assign fallback values, CSS renderers <strong>must</strong> treat as invalid (and <a href="http://www.w3.org/TR/CSS21/conform.html#ignore">ignore
    as appropriate</a>) any at-rules, properties, property values, keywords,
    and other syntactic constructs for which they have no usable level of
    support. In particular, user agents <strong>must not</strong> selectively
    ignore unsupported component values and honor supported values in a single
    multi-value property declaration: if any value is considered invalid
    (as unsupported values must be), CSS requires that the entire declaration
    be ignored.</p>
  <h4 class="heading settled" id="w3c-conform-future-proofing"><span class="content"> Implementations of Unstable and Proprietary Features</span><a class="self-link" href="#w3c-conform-future-proofing"></a></h4>
  <p>To avoid clashes with future stable CSS features,
        the CSSWG recommends <a href="http://www.w3.org/TR/CSS/#future-proofing">following best practices</a> for the implementation of <a href="http://www.w3.org/TR/CSS/#unstable">unstable</a> features and <a href="http://www.w3.org/TR/CSS/#proprietary-extension">proprietary extensions</a> to CSS. </p>
  <h3 class="no-ref heading settled" id="w3c-testing"><span class="content"> Non-experimental implementations</span><a class="self-link" href="#w3c-testing"></a></h3>
  <p>Once a specification reaches the Candidate Recommendation stage,
    non-experimental implementations are possible, and implementors should
    release an unprefixed implementation of any CR-level feature they
    can demonstrate to be correctly implemented according to spec. </p>
  <p>To establish and maintain the interoperability of CSS across
    implementations, the CSS Working Group requests that non-experimental
    CSS renderers submit an implementation report (and, if necessary, the
    testcases used for that implementation report) to the W3C before
    releasing an unprefixed implementation of any CSS features. Testcases
    submitted to W3C are subject to review and correction by the CSS
    Working Group. </p>
  <p>Further information on submitting testcases and implementation reports
    can be found from on the CSS Working Group’s website at <a href="http://www.w3.org/Style/CSS/Test/">http://www.w3.org/Style/CSS/Test/</a>.
    Questions should be directed to the <a href="http://lists.w3.org/Archives/Public/public-css-testsuite">public-css-testsuite@w3.org</a> mailing list.</p>
  <script src="https://www.w3.org/scripts/TR/2021/fixup.js"></script>
  <h2 class="no-num no-ref heading settled" id="index"><span class="content">Index</span><a class="self-link" href="#index"></a></h2>
  <h3 class="no-num no-ref heading settled" id="index-defined-here"><span class="content">Terms defined by this specification</span><a class="self-link" href="#index-defined-here"></a></h3>
  <ul class="index">
   <li><a href="#dom-fontfaceset-add">add(font)</a><span>, in § 3</span>
   <li>
    ascentOverride
    <ul>
     <li><a href="#dom-fontface-ascentoverride">attribute for FontFace</a><span>, in § 2</span>
     <li><a href="#dom-fontfacedescriptors-ascentoverride">dict-member for FontFaceDescriptors</a><span>, in § 2</span>
    </ul>
   <li><a href="#available-font-faces">available font faces</a><span>, in § 4</span>
   <li><a href="#typedefdef-binarydata">BinaryData</a><span>, in § 2</span>
   <li><a href="#dom-fontfaceset-check">check(font)</a><span>, in § 3.3</span>
   <li><a href="#dom-fontfaceset-check">check(font, text)</a><span>, in § 3.3</span>
   <li><a href="#dom-fontfaceset-clear">clear()</a><span>, in § 3</span>
   <li><a href="#dom-fontface-fontface">constructor(family, source)</a><span>, in § 2.1</span>
   <li><a href="#dom-fontface-fontface">constructor(family, source, descriptors)</a><span>, in § 2.1</span>
   <li><a href="#dom-fontfaceset-fontfaceset">constructor(initialFaces)</a><span>, in § 3</span>
   <li><a href="#dom-fontfacesetloadevent-fontfacesetloadevent">constructor(type)</a><span>, in § 3</span>
   <li><a href="#dom-fontfacesetloadevent-fontfacesetloadevent">constructor(type, eventInitDict)</a><span>, in § 3</span>
   <li><a href="#css-connected">CSS-connected</a><span>, in § 2.3</span>
   <li><a href="#dom-fontface-data-slot">[[Data]]</a><span>, in § 2</span>
   <li><a href="#dom-fontfaceset-delete">delete(font)</a><span>, in § 3</span>
   <li>
    descentOverride
    <ul>
     <li><a href="#dom-fontface-descentoverride">attribute for FontFace</a><span>, in § 2</span>
     <li><a href="#dom-fontfacedescriptors-descentoverride">dict-member for FontFaceDescriptors</a><span>, in § 2</span>
    </ul>
   <li>
    display
    <ul>
     <li><a href="#dom-fontface-display">attribute for FontFace</a><span>, in § 2</span>
     <li><a href="#dom-fontfacedescriptors-display">dict-member for FontFaceDescriptors</a><span>, in § 2</span>
    </ul>
   <li><a href="#dom-fontfaceloadstatus-error">"error"</a><span>, in § 2</span>
   <li><a href="#dom-fontfaceset-failedfonts-slot">[[FailedFonts]]</a><span>, in § 3</span>
   <li><a href="#dom-fontface-family">family</a><span>, in § 2</span>
   <li>
    featureSettings
    <ul>
     <li><a href="#dom-fontface-featuresettings">attribute for FontFace</a><span>, in § 2</span>
     <li><a href="#dom-fontfacedescriptors-featuresettings">dict-member for FontFaceDescriptors</a><span>, in § 2</span>
    </ul>
   <li><a href="#find-the-matching-font-faces">find the matching font faces</a><span>, in § 3.1</span>
   <li><a href="#fire-a-font-load-event">fire a font load event</a><span>, in § 3.1</span>
   <li><a href="#fontface">FontFace</a><span>, in § 2</span>
   <li><a href="#dictdef-fontfacedescriptors">FontFaceDescriptors</a><span>, in § 2</span>
   <li><a href="#dom-fontface-fontface">FontFace(family, source)</a><span>, in § 2.1</span>
   <li><a href="#dom-fontface-fontface">FontFace(family, source, descriptors)</a><span>, in § 2.1</span>
   <li><a href="#enumdef-fontfaceloadstatus">FontFaceLoadStatus</a><span>, in § 2</span>
   <li>
    fontfaces
    <ul>
     <li><a href="#dom-fontfacesetloadevent-fontfaces">attribute for FontFaceSetLoadEvent</a><span>, in § 3</span>
     <li><a href="#dom-fontfacesetloadeventinit-fontfaces">dict-member for FontFaceSetLoadEventInit</a><span>, in § 3</span>
    </ul>
   <li><a href="#fontfaceset">FontFaceSet</a><span>, in § 3</span>
   <li><a href="#dom-fontfaceset-fontfaceset">FontFaceSet(initialFaces)</a><span>, in § 3</span>
   <li><a href="#fontfacesetloadevent">FontFaceSetLoadEvent</a><span>, in § 3</span>
   <li><a href="#dictdef-fontfacesetloadeventinit">FontFaceSetLoadEventInit</a><span>, in § 3</span>
   <li><a href="#dom-fontfacesetloadevent-fontfacesetloadevent">FontFaceSetLoadEvent(type)</a><span>, in § 3</span>
   <li><a href="#dom-fontfacesetloadevent-fontfacesetloadevent">FontFaceSetLoadEvent(type, eventInitDict)</a><span>, in § 3</span>
   <li><a href="#enumdef-fontfacesetloadstatus">FontFaceSetLoadStatus</a><span>, in § 3</span>
   <li><a href="#fontfacesource">FontFaceSource</a><span>, in § 4</span>
   <li><a href="#dom-fontfacesource-fonts">fonts</a><span>, in § 4</span>
   <li><a href="#font-source">font source</a><span>, in § 4</span>
   <li><a href="#dom-fontface-fontstatuspromise-slot">[[FontStatusPromise]]</a><span>, in § 2</span>
   <li><a href="#fontfaceset-iteration-order">iteration order</a><span>, in § 3</span>
   <li>
    lineGapOverride
    <ul>
     <li><a href="#dom-fontface-linegapoverride">attribute for FontFace</a><span>, in § 2</span>
     <li><a href="#dom-fontfacedescriptors-linegapoverride">dict-member for FontFaceDescriptors</a><span>, in § 2</span>
    </ul>
   <li><a href="#dom-fontface-load">load()</a><span>, in § 2.2</span>
   <li>
    "loaded"
    <ul>
     <li><a href="#dom-fontfaceloadstatus-loaded">enum-value for FontFaceLoadStatus</a><span>, in § 2</span>
     <li><a href="#dom-fontfacesetloadstatus-loaded">enum-value for FontFaceSetLoadStatus</a><span>, in § 3</span>
    </ul>
   <li><a href="#dom-fontface-loaded">loaded</a><span>, in § 2</span>
   <li><a href="#dom-fontfaceset-loadedfonts-slot">[[LoadedFonts]]</a><span>, in § 3</span>
   <li><a href="#dom-fontfaceset-load">load(font)</a><span>, in § 3.2</span>
   <li><a href="#dom-fontfaceset-load">load(font, text)</a><span>, in § 3.2</span>
   <li>
    "loading"
    <ul>
     <li><a href="#dom-fontfaceloadstatus-loading">enum-value for FontFaceLoadStatus</a><span>, in § 2</span>
     <li><a href="#dom-fontfacesetloadstatus-loading">enum-value for FontFaceSetLoadStatus</a><span>, in § 3</span>
    </ul>
   <li><a href="#eventdef-fontfaceset-loading">loading</a><span>, in § 3.1</span>
   <li><a href="#eventdef-fontfaceset-loadingdone">loadingdone</a><span>, in § 3.1</span>
   <li><a href="#eventdef-fontfaceset-loadingerror">loadingerror</a><span>, in § 3.1</span>
   <li><a href="#dom-fontfaceset-loadingfonts-slot">[[LoadingFonts]]</a><span>, in § 3</span>
   <li><a href="#dom-fontfaceset-onloading">onloading</a><span>, in § 3</span>
   <li><a href="#dom-fontfaceset-onloadingdone">onloadingdone</a><span>, in § 3</span>
   <li><a href="#dom-fontfaceset-onloadingerror">onloadingerror</a><span>, in § 3</span>
   <li><a href="#fontfaceset-pending-on-the-environment">pending on the environment</a><span>, in § 3</span>
   <li><a href="#dom-fontfaceset-ready">ready</a><span>, in § 3</span>
   <li><a href="#dom-fontfaceset-readypromise-slot">[[ReadyPromise]]</a><span>, in § 3</span>
   <li><a href="#fontfaceset-set-entries">set entries</a><span>, in § 3</span>
   <li>
    status
    <ul>
     <li><a href="#dom-fontface-status">attribute for FontFace</a><span>, in § 2</span>
     <li><a href="#dom-fontfaceset-status">attribute for FontFaceSet</a><span>, in § 3</span>
    </ul>
   <li>
    stretch
    <ul>
     <li><a href="#dom-fontface-stretch">attribute for FontFace</a><span>, in § 2</span>
     <li><a href="#dom-fontfacedescriptors-stretch">dict-member for FontFaceDescriptors</a><span>, in § 2</span>
    </ul>
   <li><a href="#fontfaceset-stuck-on-the-environment">stuck on the environment</a><span>, in § 3.1</span>
   <li>
    style
    <ul>
     <li><a href="#dom-fontface-style">attribute for FontFace</a><span>, in § 2</span>
     <li><a href="#dom-fontfacedescriptors-style">dict-member for FontFaceDescriptors</a><span>, in § 2</span>
    </ul>
   <li><a href="#switch-the-fontfaceset-to-loaded">switch the FontFaceSet to loaded</a><span>, in § 3.1</span>
   <li><a href="#switch-the-fontfaceset-to-loading">switch the FontFaceSet to loading</a><span>, in § 3.1</span>
   <li>
    unicodeRange
    <ul>
     <li><a href="#dom-fontface-unicoderange">attribute for FontFace</a><span>, in § 2</span>
     <li><a href="#dom-fontfacedescriptors-unicoderange">dict-member for FontFaceDescriptors</a><span>, in § 2</span>
    </ul>
   <li><a href="#dom-fontfaceloadstatus-unloaded">"unloaded"</a><span>, in § 2</span>
   <li><a href="#dom-fontface-urls-slot">[[Urls]]</a><span>, in § 2</span>
   <li>
    variant
    <ul>
     <li><a href="#dom-fontface-variant">attribute for FontFace</a><span>, in § 2</span>
     <li><a href="#dom-fontfacedescriptors-variant">dict-member for FontFaceDescriptors</a><span>, in § 2</span>
    </ul>
   <li>
    variationSettings
    <ul>
     <li><a href="#dom-fontface-variationsettings">attribute for FontFace</a><span>, in § 2</span>
     <li><a href="#dom-fontfacedescriptors-variationsettings">dict-member for FontFaceDescriptors</a><span>, in § 2</span>
    </ul>
   <li>
    weight
    <ul>
     <li><a href="#dom-fontface-weight">attribute for FontFace</a><span>, in § 2</span>
     <li><a href="#dom-fontfacedescriptors-weight">dict-member for FontFaceDescriptors</a><span>, in § 2</span>
    </ul>
  </ul>
  <h3 class="no-num no-ref heading settled" id="index-defined-elsewhere"><span class="content">Terms defined by reference</span><a class="self-link" href="#index-defined-elsewhere"></a></h3>
  <ul class="index">
   <li>
    <a data-link-type="biblio">[CSS-FONTS-4]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="3c91be7d">bolder</span>
     <li><span class="dfn-paneled" id="2c57f900">font</span>
     <li><span class="dfn-paneled" id="2ede577f">normal</span>
    </ul>
   <li>
    <a data-link-type="biblio">[CSS-FONTS-5]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="0497de86">@font-face</span>
    </ul>
   <li>
    <a data-link-type="biblio">[CSS-SYNTAX-3]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="76c4403d">parse</span>
    </ul>
   <li>
    <a data-link-type="biblio">[CSS-VALUES-4]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="358fd6ff">css-wide keywords</span>
     <li><span class="dfn-paneled" id="5a2f7ea1">url()</span>
    </ul>
   <li>
    <a data-link-type="biblio">[CSSOM-1]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="5fced98b">CSSOMString</span>
     <li><span class="dfn-paneled" id="4cd9ca96">document or shadow root css style sheets</span>
    </ul>
   <li>
    <a data-link-type="biblio">[DOM]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="85394472">Document</span>
     <li><span class="dfn-paneled" id="129bdae8">Event</span>
     <li><span class="dfn-paneled" id="44a7708c">EventInit</span>
     <li><span class="dfn-paneled" id="2bc0cdf4">EventTarget</span>
    </ul>
   <li>
    <a data-link-type="biblio">[HTML]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="f0951476">EventHandler</span>
     <li><span class="dfn-paneled" id="804aab85">OffscreenCanvas</span>
     <li><span class="dfn-paneled" id="83c59a3a">WorkerGlobalScope</span>
    </ul>
   <li>
    <a data-link-type="biblio">[WEBIDL]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="2f8afbfe">ArrayBuffer</span>
     <li><span class="dfn-paneled" id="6c9ab516">ArrayBufferView</span>
     <li><span class="dfn-paneled" id="889e932f">Exposed</span>
     <li><span class="dfn-paneled" id="dcf5fafa">FrozenArray</span>
     <li><span class="dfn-paneled" id="cae6bf57">InvalidModificationError</span>
     <li><span class="dfn-paneled" id="bdbd19d1">Promise</span>
     <li><span class="dfn-paneled" id="a5c91173">SameObject</span>
     <li><span class="dfn-paneled" id="be2d2b4c">SyntaxError</span>
     <li><span class="dfn-paneled" id="5372cca8">boolean</span>
     <li><span class="dfn-paneled" id="9cce47fd">sequence</span>
     <li><span class="dfn-paneled" id="f1195e5b">set entries</span>
     <li><span class="dfn-paneled" id="5f90bbfb">undefined</span>
    </ul>
  </ul>
  <h2 class="no-num no-ref heading settled" id="references"><span class="content">References</span><a class="self-link" href="#references"></a></h2>
  <h3 class="no-num no-ref heading settled" id="normative"><span class="content">Normative References</span><a class="self-link" href="#normative"></a></h3>
  <dl>
   <dt id="biblio-css-fonts-3">[CSS-FONTS-3]
   <dd>John Daggett; Myles Maxfield; Chris Lilley. <a href="https://drafts.csswg.org/css-fonts-3/"><cite>CSS Fonts Module Level 3</cite></a>. URL: <a href="https://drafts.csswg.org/css-fonts-3/">https://drafts.csswg.org/css-fonts-3/</a>
   <dt id="biblio-css-fonts-4">[CSS-FONTS-4]
   <dd>Chris Lilley. <a href="https://drafts.csswg.org/css-fonts-4/"><cite>CSS Fonts Module Level 4</cite></a>. URL: <a href="https://drafts.csswg.org/css-fonts-4/">https://drafts.csswg.org/css-fonts-4/</a>
   <dt id="biblio-css-fonts-5">[CSS-FONTS-5]
   <dd>Chris Lilley. <a href="https://drafts.csswg.org/css-fonts-5/"><cite>CSS Fonts Module Level 5</cite></a>. URL: <a href="https://drafts.csswg.org/css-fonts-5/">https://drafts.csswg.org/css-fonts-5/</a>
   <dt id="biblio-css-syntax-3">[CSS-SYNTAX-3]
   <dd>Tab Atkins Jr.; Simon Sapin. <a href="https://drafts.csswg.org/css-syntax/"><cite>CSS Syntax Module Level 3</cite></a>. URL: <a href="https://drafts.csswg.org/css-syntax/">https://drafts.csswg.org/css-syntax/</a>
   <dt id="biblio-css-values-4">[CSS-VALUES-4]
   <dd>Tab Atkins Jr.; Elika Etemad. <a href="https://drafts.csswg.org/css-values-4/"><cite>CSS Values and Units Module Level 4</cite></a>. URL: <a href="https://drafts.csswg.org/css-values-4/">https://drafts.csswg.org/css-values-4/</a>
   <dt id="biblio-cssom-1">[CSSOM-1]
   <dd>Daniel Glazman; Emilio Cobos Álvarez. <a href="https://drafts.csswg.org/cssom/"><cite>CSS Object Model (CSSOM)</cite></a>. URL: <a href="https://drafts.csswg.org/cssom/">https://drafts.csswg.org/cssom/</a>
   <dt id="biblio-dom">[DOM]
   <dd>Anne van Kesteren. <a href="https://dom.spec.whatwg.org/"><cite>DOM Standard</cite></a>. Living Standard. URL: <a href="https://dom.spec.whatwg.org/">https://dom.spec.whatwg.org/</a>
   <dt id="biblio-html">[HTML]
   <dd>Anne van Kesteren; et al. <a href="https://html.spec.whatwg.org/multipage/"><cite>HTML Standard</cite></a>. Living Standard. URL: <a href="https://html.spec.whatwg.org/multipage/">https://html.spec.whatwg.org/multipage/</a>
   <dt id="biblio-rfc2119">[RFC2119]
   <dd>S. Bradner. <a href="https://datatracker.ietf.org/doc/html/rfc2119"><cite>Key words for use in RFCs to Indicate Requirement Levels</cite></a>. March 1997. Best Current Practice. URL: <a href="https://datatracker.ietf.org/doc/html/rfc2119">https://datatracker.ietf.org/doc/html/rfc2119</a>
   <dt id="biblio-webidl">[WEBIDL]
   <dd>Edgar Chen; Timothy Gu. <a href="https://webidl.spec.whatwg.org/"><cite>Web IDL Standard</cite></a>. Living Standard. URL: <a href="https://webidl.spec.whatwg.org/">https://webidl.spec.whatwg.org/</a>
  </dl>
  <h2 class="no-num no-ref heading settled" id="idl-index"><span class="content">IDL Index</span><a class="self-link" href="#idl-index"></a></h2>
<pre class="idl highlight def"><c- b>typedef</c-> (<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-ArrayBuffer"><c- b>ArrayBuffer</c-></a> <c- b>or</c-> <a data-link-type="idl-name" href="https://webidl.spec.whatwg.org/#ArrayBufferView"><c- n>ArrayBufferView</c-></a>) <a href="#typedefdef-binarydata"><code><c- g>BinaryData</c-></code></a>;

<c- b>dictionary</c-> <a href="#dictdef-fontfacedescriptors"><code><c- g>FontFaceDescriptors</c-></code></a> {
  <a data-link-type="idl-name" href="https://drafts.csswg.org/cssom-1/#cssomstring"><c- n>CSSOMString</c-></a> <a data-default="&quot;normal&quot;" data-type="CSSOMString" href="#dom-fontfacedescriptors-style"><code><c- g>style</c-></code></a> = "normal";
  <a data-link-type="idl-name" href="https://drafts.csswg.org/cssom-1/#cssomstring"><c- n>CSSOMString</c-></a> <a data-default="&quot;normal&quot;" data-type="CSSOMString" href="#dom-fontfacedescriptors-weight"><code><c- g>weight</c-></code></a> = "normal";
  <a data-link-type="idl-name" href="https://drafts.csswg.org/cssom-1/#cssomstring"><c- n>CSSOMString</c-></a> <a data-default="&quot;normal&quot;" data-type="CSSOMString" href="#dom-fontfacedescriptors-stretch"><code><c- g>stretch</c-></code></a> = "normal";
  <a data-link-type="idl-name" href="https://drafts.csswg.org/cssom-1/#cssomstring"><c- n>CSSOMString</c-></a> <a data-default="&quot;U+0-10FFFF&quot;" data-type="CSSOMString" href="#dom-fontfacedescriptors-unicoderange"><code><c- g>unicodeRange</c-></code></a> = "U+0-10FFFF";
  <a data-link-type="idl-name" href="https://drafts.csswg.org/cssom-1/#cssomstring"><c- n>CSSOMString</c-></a> <a data-default="&quot;normal&quot;" data-type="CSSOMString" href="#dom-fontfacedescriptors-variant"><code><c- g>variant</c-></code></a> = "normal";
  <a data-link-type="idl-name" href="https://drafts.csswg.org/cssom-1/#cssomstring"><c- n>CSSOMString</c-></a> <a data-default="&quot;normal&quot;" data-type="CSSOMString" href="#dom-fontfacedescriptors-featuresettings"><code><c- g>featureSettings</c-></code></a> = "normal";
  <a data-link-type="idl-name" href="https://drafts.csswg.org/cssom-1/#cssomstring"><c- n>CSSOMString</c-></a> <a data-default="&quot;normal&quot;" data-type="CSSOMString" href="#dom-fontfacedescriptors-variationsettings"><code><c- g>variationSettings</c-></code></a> = "normal";
  <a data-link-type="idl-name" href="https://drafts.csswg.org/cssom-1/#cssomstring"><c- n>CSSOMString</c-></a> <a data-default="&quot;auto&quot;" data-type="CSSOMString" href="#dom-fontfacedescriptors-display"><code><c- g>display</c-></code></a> = "auto";
  <a data-link-type="idl-name" href="https://drafts.csswg.org/cssom-1/#cssomstring"><c- n>CSSOMString</c-></a> <a data-default="&quot;normal&quot;" data-type="CSSOMString" href="#dom-fontfacedescriptors-ascentoverride"><code><c- g>ascentOverride</c-></code></a> = "normal";
  <a data-link-type="idl-name" href="https://drafts.csswg.org/cssom-1/#cssomstring"><c- n>CSSOMString</c-></a> <a data-default="&quot;normal&quot;" data-type="CSSOMString" href="#dom-fontfacedescriptors-descentoverride"><code><c- g>descentOverride</c-></code></a> = "normal";
  <a data-link-type="idl-name" href="https://drafts.csswg.org/cssom-1/#cssomstring"><c- n>CSSOMString</c-></a> <a data-default="&quot;normal&quot;" data-type="CSSOMString" href="#dom-fontfacedescriptors-linegapoverride"><code><c- g>lineGapOverride</c-></code></a> = "normal";
};

<c- b>enum</c-> <a href="#enumdef-fontfaceloadstatus"><code><c- g>FontFaceLoadStatus</c-></code></a> { <a href="#dom-fontfaceloadstatus-unloaded"><code><c- s>"unloaded"</c-></code></a>, <a href="#dom-fontfaceloadstatus-loading"><code><c- s>"loading"</c-></code></a>, <a href="#dom-fontfaceloadstatus-loaded"><code><c- s>"loaded"</c-></code></a>, <a href="#dom-fontfaceloadstatus-error"><code><c- s>"error"</c-></code></a> };

[<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Exposed"><c- g>Exposed</c-></a>=(<c- n>Window</c->,<c- n>Worker</c->)]
<c- b>interface</c-> <a href="#fontface"><code><c- g>FontFace</c-></code></a> {
  <a class="idl-code" data-link-type="constructor" href="#dom-fontface-fontface"><c- g>constructor</c-></a>(<a data-link-type="idl-name" href="https://drafts.csswg.org/cssom-1/#cssomstring"><c- n>CSSOMString</c-></a> <a href="#dom-fontface-fontface-family-source-descriptors-family"><code><c- g>family</c-></code></a>, (<a data-link-type="idl-name" href="https://drafts.csswg.org/cssom-1/#cssomstring"><c- n>CSSOMString</c-></a> <c- b>or</c-> <a data-link-type="idl-name" href="#typedefdef-binarydata"><c- n>BinaryData</c-></a>) <a href="#dom-fontface-fontface-family-source-descriptors-source"><code><c- g>source</c-></code></a>,
                <c- b>optional</c-> <a data-link-type="idl-name" href="#dictdef-fontfacedescriptors"><c- n>FontFaceDescriptors</c-></a> <a href="#dom-fontface-fontface-family-source-descriptors-descriptors"><code><c- g>descriptors</c-></code></a> = {});
  <c- b>attribute</c-> <a data-link-type="idl-name" href="https://drafts.csswg.org/cssom-1/#cssomstring"><c- n>CSSOMString</c-></a> <a class="idl-code" data-link-type="attribute" data-type="CSSOMString" href="#dom-fontface-family"><c- g>family</c-></a>;
  <c- b>attribute</c-> <a data-link-type="idl-name" href="https://drafts.csswg.org/cssom-1/#cssomstring"><c- n>CSSOMString</c-></a> <a class="idl-code" data-link-type="attribute" data-type="CSSOMString" href="#dom-fontface-style"><c- g>style</c-></a>;
  <c- b>attribute</c-> <a data-link-type="idl-name" href="https://drafts.csswg.org/cssom-1/#cssomstring"><c- n>CSSOMString</c-></a> <a class="idl-code" data-link-type="attribute" data-type="CSSOMString" href="#dom-fontface-weight"><c- g>weight</c-></a>;
  <c- b>attribute</c-> <a data-link-type="idl-name" href="https://drafts.csswg.org/cssom-1/#cssomstring"><c- n>CSSOMString</c-></a> <a class="idl-code" data-link-type="attribute" data-type="CSSOMString" href="#dom-fontface-stretch"><c- g>stretch</c-></a>;
  <c- b>attribute</c-> <a data-link-type="idl-name" href="https://drafts.csswg.org/cssom-1/#cssomstring"><c- n>CSSOMString</c-></a> <a class="idl-code" data-link-type="attribute" data-type="CSSOMString" href="#dom-fontface-unicoderange"><c- g>unicodeRange</c-></a>;
  <c- b>attribute</c-> <a data-link-type="idl-name" href="https://drafts.csswg.org/cssom-1/#cssomstring"><c- n>CSSOMString</c-></a> <a class="idl-code" data-link-type="attribute" data-type="CSSOMString" href="#dom-fontface-variant"><c- g>variant</c-></a>;
  <c- b>attribute</c-> <a data-link-type="idl-name" href="https://drafts.csswg.org/cssom-1/#cssomstring"><c- n>CSSOMString</c-></a> <a class="idl-code" data-link-type="attribute" data-type="CSSOMString" href="#dom-fontface-featuresettings"><c- g>featureSettings</c-></a>;
  <c- b>attribute</c-> <a data-link-type="idl-name" href="https://drafts.csswg.org/cssom-1/#cssomstring"><c- n>CSSOMString</c-></a> <a class="idl-code" data-link-type="attribute" data-type="CSSOMString" href="#dom-fontface-variationsettings"><c- g>variationSettings</c-></a>;
  <c- b>attribute</c-> <a data-link-type="idl-name" href="https://drafts.csswg.org/cssom-1/#cssomstring"><c- n>CSSOMString</c-></a> <a class="idl-code" data-link-type="attribute" data-type="CSSOMString" href="#dom-fontface-display"><c- g>display</c-></a>;
  <c- b>attribute</c-> <a data-link-type="idl-name" href="https://drafts.csswg.org/cssom-1/#cssomstring"><c- n>CSSOMString</c-></a> <a class="idl-code" data-link-type="attribute" data-type="CSSOMString" href="#dom-fontface-ascentoverride"><c- g>ascentOverride</c-></a>;
  <c- b>attribute</c-> <a data-link-type="idl-name" href="https://drafts.csswg.org/cssom-1/#cssomstring"><c- n>CSSOMString</c-></a> <a class="idl-code" data-link-type="attribute" data-type="CSSOMString" href="#dom-fontface-descentoverride"><c- g>descentOverride</c-></a>;
  <c- b>attribute</c-> <a data-link-type="idl-name" href="https://drafts.csswg.org/cssom-1/#cssomstring"><c- n>CSSOMString</c-></a> <a class="idl-code" data-link-type="attribute" data-type="CSSOMString" href="#dom-fontface-linegapoverride"><c- g>lineGapOverride</c-></a>;

  <c- b>readonly</c-> <c- b>attribute</c-> <a data-link-type="idl-name" href="#enumdef-fontfaceloadstatus"><c- n>FontFaceLoadStatus</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="FontFaceLoadStatus" href="#dom-fontface-status"><c- g>status</c-></a>;

  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise"><c- b>Promise</c-></a>&lt;<a data-link-type="idl-name" href="#fontface"><c- n>FontFace</c-></a>> <a class="idl-code" data-link-type="method" href="#dom-fontface-load"><c- g>load</c-></a>();
  <c- b>readonly</c-> <c- b>attribute</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise"><c- b>Promise</c-></a>&lt;<a data-link-type="idl-name" href="#fontface"><c- n>FontFace</c-></a>> <a class="idl-code" data-link-type="attribute" data-readonly data-type="Promise<FontFace>" href="#dom-fontface-loaded"><c- g>loaded</c-></a>;
};

<c- b>dictionary</c-> <a href="#dictdef-fontfacesetloadeventinit"><code><c- g>FontFaceSetLoadEventInit</c-></code></a> : <a data-link-type="idl-name" href="https://dom.spec.whatwg.org/#dictdef-eventinit"><c- n>EventInit</c-></a> {
  <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#idl-sequence"><c- b>sequence</c-></a>&lt;<a data-link-type="idl-name" href="#fontface"><c- n>FontFace</c-></a>> <a data-default="[]" data-type="sequence<FontFace>" href="#dom-fontfacesetloadeventinit-fontfaces"><code><c- g>fontfaces</c-></code></a> = [];
};

[<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Exposed"><c- g>Exposed</c-></a>=(<c- n>Window</c->,<c- n>Worker</c->)]
<c- b>interface</c-> <a href="#fontfacesetloadevent"><code><c- g>FontFaceSetLoadEvent</c-></code></a> : <a data-link-type="idl-name" href="https://dom.spec.whatwg.org/#event"><c- n>Event</c-></a> {
  <a href="#dom-fontfacesetloadevent-fontfacesetloadevent"><code><c- g>constructor</c-></code></a>(<a data-link-type="idl-name" href="https://drafts.csswg.org/cssom-1/#cssomstring"><c- n>CSSOMString</c-></a> <a href="#dom-fontfacesetloadevent-fontfacesetloadevent-type-eventinitdict-type"><code><c- g>type</c-></code></a>, <c- b>optional</c-> <a data-link-type="idl-name" href="#dictdef-fontfacesetloadeventinit"><c- n>FontFaceSetLoadEventInit</c-></a> <a href="#dom-fontfacesetloadevent-fontfacesetloadevent-type-eventinitdict-eventinitdict"><code><c- g>eventInitDict</c-></code></a> = {});
  [<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#SameObject"><c- g>SameObject</c-></a>] <c- b>readonly</c-> <c- b>attribute</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-frozen-array"><c- b>FrozenArray</c-></a>&lt;<a data-link-type="idl-name" href="#fontface"><c- n>FontFace</c-></a>> <a data-readonly data-type="FrozenArray<FontFace>" href="#dom-fontfacesetloadevent-fontfaces"><code><c- g>fontfaces</c-></code></a>;
};

<c- b>enum</c-> <a href="#enumdef-fontfacesetloadstatus"><code><c- g>FontFaceSetLoadStatus</c-></code></a> { <a href="#dom-fontfacesetloadstatus-loading"><code><c- s>"loading"</c-></code></a>, <a href="#dom-fontfacesetloadstatus-loaded"><code><c- s>"loaded"</c-></code></a> };

[<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Exposed"><c- g>Exposed</c-></a>=(<c- n>Window</c->,<c- n>Worker</c->)]
<c- b>interface</c-> <a href="#fontfaceset"><code><c- g>FontFaceSet</c-></code></a> : <a data-link-type="idl-name" href="https://dom.spec.whatwg.org/#eventtarget"><c- n>EventTarget</c-></a> {
  <a class="idl-code" data-link-type="constructor" href="#dom-fontfaceset-fontfaceset"><c- g>constructor</c-></a>(<a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#idl-sequence"><c- b>sequence</c-></a>&lt;<a data-link-type="idl-name" href="#fontface"><c- n>FontFace</c-></a>> <a href="#dom-fontfaceset-fontfaceset-initialfaces-initialfaces"><code><c- g>initialFaces</c-></code></a>);

  // FontFaceSet is Set-like!
  <c- b>setlike</c->&lt;<a data-link-type="idl-name" href="#fontface"><c- n>FontFace</c-></a>>;
  <a data-link-type="idl-name" href="#fontfaceset"><c- n>FontFaceSet</c-></a> <a class="idl-code" data-link-type="method" href="#dom-fontfaceset-add"><c- g>add</c-></a>(<a data-link-type="idl-name" href="#fontface"><c- n>FontFace</c-></a> <a href="#dom-fontfaceset-add-font-font"><code><c- g>font</c-></code></a>);
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-boolean"><c- b>boolean</c-></a> <a class="idl-code" data-link-type="method" href="#dom-fontfaceset-delete"><c- g>delete</c-></a>(<a data-link-type="idl-name" href="#fontface"><c- n>FontFace</c-></a> <a href="#dom-fontfaceset-delete-font-font"><code><c- g>font</c-></code></a>);
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-undefined"><c- b>undefined</c-></a> <a class="idl-code" data-link-type="method" href="#dom-fontfaceset-clear"><c- g>clear</c-></a>();

  // events for when loading state changes
  <c- b>attribute</c-> <a data-link-type="idl-name" href="https://html.spec.whatwg.org/multipage/webappapis.html#eventhandler"><c- n>EventHandler</c-></a> <a data-type="EventHandler" href="#dom-fontfaceset-onloading"><code><c- g>onloading</c-></code></a>;
  <c- b>attribute</c-> <a data-link-type="idl-name" href="https://html.spec.whatwg.org/multipage/webappapis.html#eventhandler"><c- n>EventHandler</c-></a> <a data-type="EventHandler" href="#dom-fontfaceset-onloadingdone"><code><c- g>onloadingdone</c-></code></a>;
  <c- b>attribute</c-> <a data-link-type="idl-name" href="https://html.spec.whatwg.org/multipage/webappapis.html#eventhandler"><c- n>EventHandler</c-></a> <a data-type="EventHandler" href="#dom-fontfaceset-onloadingerror"><code><c- g>onloadingerror</c-></code></a>;

  // check and start loads if appropriate
  // and fulfill promise when all loads complete
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise"><c- b>Promise</c-></a>&lt;<a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#idl-sequence"><c- b>sequence</c-></a>&lt;<a data-link-type="idl-name" href="#fontface"><c- n>FontFace</c-></a>>> <a class="idl-code" data-link-type="method" href="#dom-fontfaceset-load"><c- g>load</c-></a>(<a data-link-type="idl-name" href="https://drafts.csswg.org/cssom-1/#cssomstring"><c- n>CSSOMString</c-></a> <a class="idl-code" data-link-type="argument" href="#dom-fontfaceset-load-font-text-font"><c- g>font</c-></a>, <c- b>optional</c-> <a data-link-type="idl-name" href="https://drafts.csswg.org/cssom-1/#cssomstring"><c- n>CSSOMString</c-></a> <a class="idl-code" data-link-type="argument" href="#dom-fontfaceset-load-font-text-text"><c- g>text</c-></a> = " ");

  // return whether all fonts in the fontlist are loaded
  // (does not initiate load if not available)
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-boolean"><c- b>boolean</c-></a> <a class="idl-code" data-link-type="method" href="#dom-fontfaceset-check"><c- g>check</c-></a>(<a data-link-type="idl-name" href="https://drafts.csswg.org/cssom-1/#cssomstring"><c- n>CSSOMString</c-></a> <a class="idl-code" data-link-type="argument" href="#dom-fontfaceset-check-font-text-font"><c- g>font</c-></a>, <c- b>optional</c-> <a data-link-type="idl-name" href="https://drafts.csswg.org/cssom-1/#cssomstring"><c- n>CSSOMString</c-></a> <a class="idl-code" data-link-type="argument" href="#dom-fontfaceset-check-font-text-text"><c- g>text</c-></a> = " ");

  // async notification that font loading and layout operations are done
  <c- b>readonly</c-> <c- b>attribute</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise"><c- b>Promise</c-></a>&lt;<a data-link-type="idl-name" href="#fontfaceset"><c- n>FontFaceSet</c-></a>> <a class="idl-code" data-link-type="attribute" data-readonly data-type="Promise<FontFaceSet>" href="#dom-fontfaceset-ready"><c- g>ready</c-></a>;

  // loading state, "loading" while one or more fonts loading, "loaded" otherwise
  <c- b>readonly</c-> <c- b>attribute</c-> <a data-link-type="idl-name" href="#enumdef-fontfacesetloadstatus"><c- n>FontFaceSetLoadStatus</c-></a> <a data-readonly data-type="FontFaceSetLoadStatus" href="#dom-fontfaceset-status"><code><c- g>status</c-></code></a>;
};

<c- b>interface</c-> <c- b>mixin</c-> <a href="#fontfacesource"><code><c- g>FontFaceSource</c-></code></a> {
  <c- b>readonly</c-> <c- b>attribute</c-> <a data-link-type="idl-name" href="#fontfaceset"><c- n>FontFaceSet</c-></a> <a data-readonly data-type="FontFaceSet" href="#dom-fontfacesource-fonts"><code><c- g>fonts</c-></code></a>;
};

<a data-link-type="idl-name" href="https://dom.spec.whatwg.org/#document"><c- n>Document</c-></a> <c- b>includes</c-> <a data-link-type="idl-name" href="#fontfacesource"><c- n>FontFaceSource</c-></a>;
<a data-link-type="idl-name" href="https://html.spec.whatwg.org/multipage/workers.html#workerglobalscope"><c- n>WorkerGlobalScope</c-></a> <c- b>includes</c-> <a data-link-type="idl-name" href="#fontfacesource"><c- n>FontFaceSource</c-></a>;

</pre>
  <h2 class="no-num no-ref heading settled" id="issues-index"><span class="content">Issues Index</span><a class="self-link" href="#issues-index"></a></h2>
  <div style="counter-reset:issue">
   <div class="issue"> Several things in this spec use normal ES objects to define behavior,
	such as various things using Promises internally,
	and FontFaceSet using a Set internally.
	I believe the intention here is that these objects
	(and their prototype chains) are pristine,
	unaffected by anything the author has done.
	Is this a good intention?
	If so, how should I indicate this in the spec? <a class="issue-return" href="#issue-9cdca628" title="Jump to section">↵</a></div>
   <div class="issue"> Clarify all mentions of "the document" to be clear about which document is being referenced,
	since objects can move between documents. <a class="issue-return" href="#issue-9ae72be4" title="Jump to section">↵</a></div>
   <div class="issue"> Need to define the base url,
so relative urls can resolve.
Should it be the url of the document?
Is that correct for workers too,
or should they use their worker url?
Is that always defined? <a class="issue-return" href="#issue-65bdbf2d" title="Jump to section">↵</a></div>
   <div class="issue"> When a FontFace is transferred between documents, it’s no longer CSS-connected. <a class="issue-return" href="#issue-41199acf" title="Jump to section">↵</a></div>
  </div>
  <details class="mdn-anno unpositioned" data-anno-for="FontFaceSet-interface">
   <summary><b class="all-engines-flag" title="This feature is in all current engines.">✔</b><span>MDN</span></summary>
   <div class="feature">
    <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/Document/fonts" title="The fonts property of the Document interface returns the FontFaceSet interface of the document.">Document/fonts</a></p>
    <p class="all-engines-text">In all current engines.</p>
    <div class="support">
     <span class="firefox yes"><span>Firefox</span><span>41+</span></span><span class="safari yes"><span>Safari</span><span>10+</span></span><span class="chrome yes"><span>Chrome</span><span>35+</span></span>
     <hr>
     <span class="opera no"><span>Opera</span><span>?</span></span><span class="edge_blink yes"><span>Edge</span><span>79+</span></span>
     <hr>
     <span class="edge no"><span>Edge (Legacy)</span><span>?</span></span><span class="ie no"><span>IE</span><span>None</span></span>
     <hr>
     <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span class="webview_android no"><span>Android WebView</span><span>?</span></span><span class="samsunginternet_android no"><span>Samsung Internet</span><span>?</span></span><span class="opera_android no"><span>Opera Mobile</span><span>?</span></span>
    </div>
   </div>
   <div class="feature">
    <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/FontFaceSet" title="The FontFaceSet interface of the CSS Font Loading API manages the loading of font-faces and querying of their download status.">FontFaceSet</a></p>
    <p class="all-engines-text">In all current engines.</p>
    <div class="support">
     <span class="firefox yes"><span>Firefox</span><span>41+</span></span><span class="safari yes"><span>Safari</span><span>10+</span></span><span class="chrome yes"><span>Chrome</span><span>35+</span></span>
     <hr>
     <span class="opera no"><span>Opera</span><span>?</span></span><span class="edge_blink yes"><span>Edge</span><span>79+</span></span>
     <hr>
     <span class="edge no"><span>Edge (Legacy)</span><span>?</span></span><span class="ie no"><span>IE</span><span>None</span></span>
     <hr>
     <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span class="webview_android no"><span>Android WebView</span><span>?</span></span><span class="samsunginternet_android no"><span>Samsung Internet</span><span>?</span></span><span class="opera_android no"><span>Opera Mobile</span><span>?</span></span>
    </div>
   </div>
  </details>
  <details class="mdn-anno unpositioned" data-anno-for="font-face-constructor">
   <summary><b class="all-engines-flag" title="This feature is in all current engines.">✔</b><span>MDN</span></summary>
   <div class="feature">
    <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/FontFace/FontFace" title="The FontFace() constructor creates a new FontFace object.">FontFace/FontFace</a></p>
    <p class="all-engines-text">In all current engines.</p>
    <div class="support">
     <span class="firefox yes"><span>Firefox</span><span>41+</span></span><span class="safari yes"><span>Safari</span><span>10+</span></span><span class="chrome yes"><span>Chrome</span><span>35+</span></span>
     <hr>
     <span class="opera no"><span>Opera</span><span>?</span></span><span class="edge_blink yes"><span>Edge</span><span>79+</span></span>
     <hr>
     <span class="edge no"><span>Edge (Legacy)</span><span>?</span></span><span class="ie no"><span>IE</span><span>None</span></span>
     <hr>
     <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span class="webview_android no"><span>Android WebView</span><span>?</span></span><span class="samsunginternet_android yes"><span>Samsung Internet</span><span>4.0+</span></span><span class="opera_android no"><span>Opera Mobile</span><span>?</span></span>
    </div>
   </div>
  </details>
  <details class="mdn-anno unpositioned" data-anno-for="dom-fontfacedescriptors-ascentoverride">
   <summary><span>MDN</span></summary>
   <div class="feature">
    <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/FontFace/ascentOverride" title="The ascentOverride property of the FontFace interface returns and sets the ascent metric for the font, the height above the baseline that CSS uses to lay out line boxes in an inline formatting context.">FontFace/ascentOverride</a></p>
    <div class="support">
     <span class="firefox yes"><span>Firefox</span><span>89+</span></span><span class="safari no"><span>Safari</span><span>None</span></span><span class="chrome yes"><span>Chrome</span><span>87+</span></span>
     <hr>
     <span class="opera no"><span>Opera</span><span>?</span></span><span class="edge_blink yes"><span>Edge</span><span>87+</span></span>
     <hr>
     <span class="edge no"><span>Edge (Legacy)</span><span>?</span></span><span class="ie no"><span>IE</span><span>None</span></span>
     <hr>
     <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span class="webview_android no"><span>Android WebView</span><span>?</span></span><span class="samsunginternet_android no"><span>Samsung Internet</span><span>?</span></span><span class="opera_android no"><span>Opera Mobile</span><span>?</span></span>
    </div>
   </div>
  </details>
  <details class="mdn-anno unpositioned" data-anno-for="dom-fontfacedescriptors-descentoverride">
   <summary><span>MDN</span></summary>
   <div class="feature">
    <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/FontFace/descentOverride" title="The descentOverride property of the FontFace interface returns and sets the value of the @font-face/descent-override descriptor. The possible values are normal, indicating that the metric used should be obtained from the font file, or a percentage.">FontFace/descentOverride</a></p>
    <div class="support">
     <span class="firefox yes"><span>Firefox</span><span>89+</span></span><span class="safari no"><span>Safari</span><span>None</span></span><span class="chrome yes"><span>Chrome</span><span>87+</span></span>
     <hr>
     <span class="opera no"><span>Opera</span><span>?</span></span><span class="edge_blink yes"><span>Edge</span><span>87+</span></span>
     <hr>
     <span class="edge no"><span>Edge (Legacy)</span><span>?</span></span><span class="ie no"><span>IE</span><span>None</span></span>
     <hr>
     <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span class="webview_android no"><span>Android WebView</span><span>?</span></span><span class="samsunginternet_android no"><span>Samsung Internet</span><span>?</span></span><span class="opera_android no"><span>Opera Mobile</span><span>?</span></span>
    </div>
   </div>
  </details>
  <details class="mdn-anno unpositioned" data-anno-for="dom-fontface-display">
   <summary><b class="all-engines-flag" title="This feature is in all current engines.">✔</b><span>MDN</span></summary>
   <div class="feature">
    <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/FontFace/display" title="The display property of the FontFace interface determines how a font face is displayed based on whether and when it is downloaded and ready to use. This property is equivalent to the CSS font-display descriptor.">FontFace/display</a></p>
    <p class="all-engines-text">In all current engines.</p>
    <div class="support">
     <span class="firefox yes"><span>Firefox</span><span>58+</span></span><span class="safari yes"><span>Safari</span><span>11.1+</span></span><span class="chrome yes"><span>Chrome</span><span>60+</span></span>
     <hr>
     <span class="opera no"><span>Opera</span><span>?</span></span><span class="edge_blink yes"><span>Edge</span><span>79+</span></span>
     <hr>
     <span class="edge no"><span>Edge (Legacy)</span><span>?</span></span><span class="ie no"><span>IE</span><span>None</span></span>
     <hr>
     <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span class="webview_android no"><span>Android WebView</span><span>?</span></span><span class="samsunginternet_android no"><span>Samsung Internet</span><span>?</span></span><span class="opera_android no"><span>Opera Mobile</span><span>?</span></span>
    </div>
   </div>
  </details>
  <details class="mdn-anno unpositioned" data-anno-for="dom-fontface-family">
   <summary><b class="all-engines-flag" title="This feature is in all current engines.">✔</b><span>MDN</span></summary>
   <div class="feature">
    <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/FontFace/family" title="The FontFace.family property allows the author to get or set the font family of a FontFace object.">FontFace/family</a></p>
    <p class="all-engines-text">In all current engines.</p>
    <div class="support">
     <span class="firefox yes"><span>Firefox</span><span>41+</span></span><span class="safari yes"><span>Safari</span><span>10+</span></span><span class="chrome yes"><span>Chrome</span><span>35+</span></span>
     <hr>
     <span class="opera no"><span>Opera</span><span>?</span></span><span class="edge_blink yes"><span>Edge</span><span>79+</span></span>
     <hr>
     <span class="edge no"><span>Edge (Legacy)</span><span>?</span></span><span class="ie no"><span>IE</span><span>None</span></span>
     <hr>
     <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span class="webview_android no"><span>Android WebView</span><span>?</span></span><span class="samsunginternet_android yes"><span>Samsung Internet</span><span>4.0+</span></span><span class="opera_android no"><span>Opera Mobile</span><span>?</span></span>
    </div>
   </div>
  </details>
  <details class="mdn-anno unpositioned" data-anno-for="dom-fontface-featuresettings">
   <summary><b class="all-engines-flag" title="This feature is in all current engines.">✔</b><span>MDN</span></summary>
   <div class="feature">
    <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/FontFace/featureSettings" title="The featureSettings property of the FontFace interface retrieves or sets infrequently used font features that are not available from a font&apos;s variant properties.">FontFace/featureSettings</a></p>
    <p class="all-engines-text">In all current engines.</p>
    <div class="support">
     <span class="firefox yes"><span>Firefox</span><span>41+</span></span><span class="safari yes"><span>Safari</span><span>10+</span></span><span class="chrome yes"><span>Chrome</span><span>35+</span></span>
     <hr>
     <span class="opera no"><span>Opera</span><span>?</span></span><span class="edge_blink yes"><span>Edge</span><span>79+</span></span>
     <hr>
     <span class="edge no"><span>Edge (Legacy)</span><span>?</span></span><span class="ie no"><span>IE</span><span>None</span></span>
     <hr>
     <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span class="webview_android no"><span>Android WebView</span><span>?</span></span><span class="samsunginternet_android yes"><span>Samsung Internet</span><span>4.0+</span></span><span class="opera_android no"><span>Opera Mobile</span><span>?</span></span>
    </div>
   </div>
  </details>
  <details class="mdn-anno unpositioned" data-anno-for="dom-fontfacedescriptors-linegapoverride">
   <summary><span>MDN</span></summary>
   <div class="feature">
    <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/FontFace/lineGapOverride" title="The lineGapOverride property of the FontFace interface returns and sets the value of the @font-face/line-gap-override descriptor. The possible values are normal, indicating that the metric used should be obtained from the font file, or a percentage.">FontFace/lineGapOverride</a></p>
    <div class="support">
     <span class="firefox yes"><span>Firefox</span><span>89+</span></span><span class="safari no"><span>Safari</span><span>None</span></span><span class="chrome yes"><span>Chrome</span><span>87+</span></span>
     <hr>
     <span class="opera no"><span>Opera</span><span>?</span></span><span class="edge_blink yes"><span>Edge</span><span>87+</span></span>
     <hr>
     <span class="edge no"><span>Edge (Legacy)</span><span>?</span></span><span class="ie no"><span>IE</span><span>None</span></span>
     <hr>
     <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span class="webview_android no"><span>Android WebView</span><span>?</span></span><span class="samsunginternet_android no"><span>Samsung Internet</span><span>?</span></span><span class="opera_android no"><span>Opera Mobile</span><span>?</span></span>
    </div>
   </div>
  </details>
  <details class="mdn-anno unpositioned" data-anno-for="font-face-load">
   <summary><b class="all-engines-flag" title="This feature is in all current engines.">✔</b><span>MDN</span></summary>
   <div class="feature">
    <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/FontFace/load" title="The load() method of the FontFace interface requests and loads a font whose source was specified as a URL. It returns a Promise that resolves with the current FontFace object.">FontFace/load</a></p>
    <p class="all-engines-text">In all current engines.</p>
    <div class="support">
     <span class="firefox yes"><span>Firefox</span><span>41+</span></span><span class="safari yes"><span>Safari</span><span>10+</span></span><span class="chrome yes"><span>Chrome</span><span>35+</span></span>
     <hr>
     <span class="opera no"><span>Opera</span><span>?</span></span><span class="edge_blink yes"><span>Edge</span><span>79+</span></span>
     <hr>
     <span class="edge no"><span>Edge (Legacy)</span><span>?</span></span><span class="ie no"><span>IE</span><span>None</span></span>
     <hr>
     <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span class="webview_android no"><span>Android WebView</span><span>?</span></span><span class="samsunginternet_android yes"><span>Samsung Internet</span><span>4.0+</span></span><span class="opera_android no"><span>Opera Mobile</span><span>?</span></span>
    </div>
   </div>
  </details>
  <details class="mdn-anno unpositioned" data-anno-for="dom-fontface-loaded">
   <summary><b class="all-engines-flag" title="This feature is in all current engines.">✔</b><span>MDN</span></summary>
   <div class="feature">
    <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/FontFace/loaded" title="The loaded read-only property of the FontFace interface returns a Promise that resolves with the current FontFace object when the font specified in the object&apos;s constructor is done loading or rejects with a SyntaxError.">FontFace/loaded</a></p>
    <p class="all-engines-text">In all current engines.</p>
    <div class="support">
     <span class="firefox yes"><span>Firefox</span><span>41+</span></span><span class="safari yes"><span>Safari</span><span>10+</span></span><span class="chrome yes"><span>Chrome</span><span>37+</span></span>
     <hr>
     <span class="opera no"><span>Opera</span><span>?</span></span><span class="edge_blink yes"><span>Edge</span><span>79+</span></span>
     <hr>
     <span class="edge no"><span>Edge (Legacy)</span><span>?</span></span><span class="ie no"><span>IE</span><span>None</span></span>
     <hr>
     <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span class="webview_android no"><span>Android WebView</span><span>?</span></span><span class="samsunginternet_android yes"><span>Samsung Internet</span><span>4.0+</span></span><span class="opera_android no"><span>Opera Mobile</span><span>?</span></span>
    </div>
   </div>
  </details>
  <details class="mdn-anno unpositioned" data-anno-for="dom-fontface-status">
   <summary><b class="all-engines-flag" title="This feature is in all current engines.">✔</b><span>MDN</span></summary>
   <div class="feature">
    <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/FontFace/status" title="The status read-only property of the FontFace interface returns an enumerated value indicating the status of the font, one of &quot;unloaded&quot;, &quot;loading&quot;, &quot;loaded&quot;, or &quot;error&quot;.">FontFace/status</a></p>
    <p class="all-engines-text">In all current engines.</p>
    <div class="support">
     <span class="firefox yes"><span>Firefox</span><span>41+</span></span><span class="safari yes"><span>Safari</span><span>10+</span></span><span class="chrome yes"><span>Chrome</span><span>35+</span></span>
     <hr>
     <span class="opera no"><span>Opera</span><span>?</span></span><span class="edge_blink yes"><span>Edge</span><span>79+</span></span>
     <hr>
     <span class="edge no"><span>Edge (Legacy)</span><span>?</span></span><span class="ie no"><span>IE</span><span>None</span></span>
     <hr>
     <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span class="webview_android no"><span>Android WebView</span><span>?</span></span><span class="samsunginternet_android yes"><span>Samsung Internet</span><span>4.0+</span></span><span class="opera_android no"><span>Opera Mobile</span><span>?</span></span>
    </div>
   </div>
  </details>
  <details class="mdn-anno unpositioned" data-anno-for="dom-fontface-stretch">
   <summary><b class="all-engines-flag" title="This feature is in all current engines.">✔</b><span>MDN</span></summary>
   <div class="feature">
    <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/FontFace/stretch" title="The stretch property of the FontFace interface retrieves or sets how the font stretches.">FontFace/stretch</a></p>
    <p class="all-engines-text">In all current engines.</p>
    <div class="support">
     <span class="firefox yes"><span>Firefox</span><span>41+</span></span><span class="safari yes"><span>Safari</span><span>10+</span></span><span class="chrome yes"><span>Chrome</span><span>35+</span></span>
     <hr>
     <span class="opera no"><span>Opera</span><span>?</span></span><span class="edge_blink yes"><span>Edge</span><span>79+</span></span>
     <hr>
     <span class="edge no"><span>Edge (Legacy)</span><span>?</span></span><span class="ie no"><span>IE</span><span>None</span></span>
     <hr>
     <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span class="webview_android no"><span>Android WebView</span><span>?</span></span><span class="samsunginternet_android yes"><span>Samsung Internet</span><span>4.0+</span></span><span class="opera_android no"><span>Opera Mobile</span><span>?</span></span>
    </div>
   </div>
  </details>
  <details class="mdn-anno unpositioned" data-anno-for="dom-fontface-style">
   <summary><b class="all-engines-flag" title="This feature is in all current engines.">✔</b><span>MDN</span></summary>
   <div class="feature">
    <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/FontFace/style" title="The style property of the FontFace interface retrieves or sets the font&apos;s style.">FontFace/style</a></p>
    <p class="all-engines-text">In all current engines.</p>
    <div class="support">
     <span class="firefox yes"><span>Firefox</span><span>41+</span></span><span class="safari yes"><span>Safari</span><span>10+</span></span><span class="chrome yes"><span>Chrome</span><span>35+</span></span>
     <hr>
     <span class="opera no"><span>Opera</span><span>?</span></span><span class="edge_blink yes"><span>Edge</span><span>79+</span></span>
     <hr>
     <span class="edge no"><span>Edge (Legacy)</span><span>?</span></span><span class="ie no"><span>IE</span><span>None</span></span>
     <hr>
     <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span class="webview_android no"><span>Android WebView</span><span>?</span></span><span class="samsunginternet_android yes"><span>Samsung Internet</span><span>4.0+</span></span><span class="opera_android no"><span>Opera Mobile</span><span>?</span></span>
    </div>
   </div>
  </details>
  <details class="mdn-anno unpositioned" data-anno-for="dom-fontface-unicoderange">
   <summary><b class="all-engines-flag" title="This feature is in all current engines.">✔</b><span>MDN</span></summary>
   <div class="feature">
    <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/FontFace/unicodeRange" title="The unicodeRange property of the FontFace interface retrieves or sets the range of unicode code points encompassing the font.">FontFace/unicodeRange</a></p>
    <p class="all-engines-text">In all current engines.</p>
    <div class="support">
     <span class="firefox yes"><span>Firefox</span><span>41+</span></span><span class="safari yes"><span>Safari</span><span>10+</span></span><span class="chrome yes"><span>Chrome</span><span>35+</span></span>
     <hr>
     <span class="opera no"><span>Opera</span><span>?</span></span><span class="edge_blink yes"><span>Edge</span><span>79+</span></span>
     <hr>
     <span class="edge no"><span>Edge (Legacy)</span><span>?</span></span><span class="ie no"><span>IE</span><span>None</span></span>
     <hr>
     <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span class="webview_android no"><span>Android WebView</span><span>?</span></span><span class="samsunginternet_android yes"><span>Samsung Internet</span><span>4.0+</span></span><span class="opera_android no"><span>Opera Mobile</span><span>?</span></span>
    </div>
   </div>
  </details>
  <details class="mdn-anno unpositioned" data-anno-for="dom-fontface-variant">
   <summary><span>MDN</span></summary>
   <div class="feature">
    <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/FontFace/variant" title="The variant property of the FontFace interface programmatically retrieves or sets font variant values.">FontFace/variant</a></p>
    <div class="support">
     <span class="firefox yes"><span>Firefox</span><span>41+</span></span><span class="safari no"><span>Safari</span><span>10–13.1</span></span><span class="chrome yes"><span>Chrome</span><span>35+</span></span>
     <hr>
     <span class="opera no"><span>Opera</span><span>?</span></span><span class="edge_blink yes"><span>Edge</span><span>79+</span></span>
     <hr>
     <span class="edge no"><span>Edge (Legacy)</span><span>?</span></span><span class="ie no"><span>IE</span><span>None</span></span>
     <hr>
     <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span class="webview_android no"><span>Android WebView</span><span>?</span></span><span class="samsunginternet_android yes"><span>Samsung Internet</span><span>4.0+</span></span><span class="opera_android no"><span>Opera Mobile</span><span>?</span></span>
    </div>
   </div>
  </details>
  <details class="mdn-anno unpositioned" data-anno-for="dom-fontfacedescriptors-variationsettings">
   <summary><b class="less-than-two-engines-flag" title="This feature is in less than two current engines.">⚠</b><span>MDN</span></summary>
   <div class="feature">
    <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/FontFace/variationSettings" title="The variationSettings property of the FontFace interface retrieves or sets low-level OpenType or TrueType font variations.">FontFace/variationSettings</a></p>
    <p class="less-than-two-engines-text">In only one current engine.</p>
    <div class="support">
     <span class="firefox yes"><span>Firefox</span><span>62+</span></span><span class="safari no"><span>Safari</span><span>None</span></span><span class="chrome no"><span>Chrome</span><span>None</span></span>
     <hr>
     <span class="opera no"><span>Opera</span><span>?</span></span><span class="edge_blink no"><span>Edge</span><span>None</span></span>
     <hr>
     <span class="edge no"><span>Edge (Legacy)</span><span>?</span></span><span class="ie no"><span>IE</span><span>None</span></span>
     <hr>
     <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span class="webview_android no"><span>Android WebView</span><span>?</span></span><span class="samsunginternet_android no"><span>Samsung Internet</span><span>?</span></span><span class="opera_android no"><span>Opera Mobile</span><span>?</span></span>
    </div>
   </div>
  </details>
  <details class="mdn-anno unpositioned" data-anno-for="dom-fontface-weight">
   <summary><b class="all-engines-flag" title="This feature is in all current engines.">✔</b><span>MDN</span></summary>
   <div class="feature">
    <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/FontFace/weight" title="The weight property of the FontFace interface retrieves or sets the weight of the font.">FontFace/weight</a></p>
    <p class="all-engines-text">In all current engines.</p>
    <div class="support">
     <span class="firefox yes"><span>Firefox</span><span>41+</span></span><span class="safari yes"><span>Safari</span><span>10+</span></span><span class="chrome yes"><span>Chrome</span><span>35+</span></span>
     <hr>
     <span class="opera no"><span>Opera</span><span>?</span></span><span class="edge_blink yes"><span>Edge</span><span>79+</span></span>
     <hr>
     <span class="edge no"><span>Edge (Legacy)</span><span>?</span></span><span class="ie no"><span>IE</span><span>None</span></span>
     <hr>
     <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span class="webview_android no"><span>Android WebView</span><span>?</span></span><span class="samsunginternet_android yes"><span>Samsung Internet</span><span>4.0+</span></span><span class="opera_android no"><span>Opera Mobile</span><span>?</span></span>
    </div>
   </div>
  </details>
  <details class="mdn-anno unpositioned" data-anno-for="fontface-interface">
   <summary><b class="all-engines-flag" title="This feature is in all current engines.">✔</b><span>MDN</span></summary>
   <div class="feature">
    <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/FontFace" title="The FontFace interface of the CSS Font Loading API represents a single usable font face.">FontFace</a></p>
    <p class="all-engines-text">In all current engines.</p>
    <div class="support">
     <span class="firefox yes"><span>Firefox</span><span>41+</span></span><span class="safari yes"><span>Safari</span><span>10+</span></span><span class="chrome yes"><span>Chrome</span><span>35+</span></span>
     <hr>
     <span class="opera no"><span>Opera</span><span>?</span></span><span class="edge_blink yes"><span>Edge</span><span>79+</span></span>
     <hr>
     <span class="edge no"><span>Edge (Legacy)</span><span>?</span></span><span class="ie no"><span>IE</span><span>None</span></span>
     <hr>
     <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span class="webview_android no"><span>Android WebView</span><span>?</span></span><span class="samsunginternet_android yes"><span>Samsung Internet</span><span>4.0+</span></span><span class="opera_android no"><span>Opera Mobile</span><span>?</span></span>
    </div>
   </div>
  </details>
  <details class="mdn-anno unpositioned" data-anno-for="dom-fontfaceset-add">
   <summary><b class="all-engines-flag" title="This feature is in all current engines.">✔</b><span>MDN</span></summary>
   <div class="feature">
    <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/FontFaceSet/add" title="The add() method of the FontFaceSet interface adds a new font to the set.">FontFaceSet/add</a></p>
    <p class="all-engines-text">In all current engines.</p>
    <div class="support">
     <span class="firefox yes"><span>Firefox</span><span>41+</span></span><span class="safari yes"><span>Safari</span><span>10+</span></span><span class="chrome yes"><span>Chrome</span><span>35+</span></span>
     <hr>
     <span class="opera no"><span>Opera</span><span>?</span></span><span class="edge_blink yes"><span>Edge</span><span>79+</span></span>
     <hr>
     <span class="edge no"><span>Edge (Legacy)</span><span>?</span></span><span class="ie no"><span>IE</span><span>None</span></span>
     <hr>
     <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span class="webview_android no"><span>Android WebView</span><span>?</span></span><span class="samsunginternet_android no"><span>Samsung Internet</span><span>?</span></span><span class="opera_android no"><span>Opera Mobile</span><span>?</span></span>
    </div>
   </div>
  </details>
  <details class="mdn-anno unpositioned" data-anno-for="dom-fontfaceset-check">
   <summary><span>MDN</span></summary>
   <div class="feature">
    <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/FontFaceSet/check" title="The check() method of the FontFaceSet returns true if you can render some text using the given font specification without attempting to use any fonts in this FontFaceSet that are not yet fully loaded. This means you can use the font specification without causing a font swap.">FontFaceSet/check</a></p>
    <div class="support">
     <span class="firefox yes"><span>Firefox</span><span>41+</span></span><span class="safari yes"><span>Safari</span><span>10+</span></span><span class="chrome no"><span>Chrome</span><span>None</span></span>
     <hr>
     <span class="opera no"><span>Opera</span><span>?</span></span><span class="edge_blink no"><span>Edge</span><span>None</span></span>
     <hr>
     <span class="edge no"><span>Edge (Legacy)</span><span>?</span></span><span class="ie no"><span>IE</span><span>None</span></span>
     <hr>
     <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span class="webview_android no"><span>Android WebView</span><span>?</span></span><span class="samsunginternet_android no"><span>Samsung Internet</span><span>?</span></span><span class="opera_android no"><span>Opera Mobile</span><span>?</span></span>
    </div>
   </div>
  </details>
  <details class="mdn-anno unpositioned" data-anno-for="dom-fontfaceset-clear">
   <summary><b class="all-engines-flag" title="This feature is in all current engines.">✔</b><span>MDN</span></summary>
   <div class="feature">
    <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/FontFaceSet/clear" title="The clear() method of the FontFaceSet interface removes all fonts added via this interface. Fonts added with the @font-face rule are not removed.">FontFaceSet/clear</a></p>
    <p class="all-engines-text">In all current engines.</p>
    <div class="support">
     <span class="firefox yes"><span>Firefox</span><span>41+</span></span><span class="safari yes"><span>Safari</span><span>10+</span></span><span class="chrome yes"><span>Chrome</span><span>35+</span></span>
     <hr>
     <span class="opera no"><span>Opera</span><span>?</span></span><span class="edge_blink yes"><span>Edge</span><span>79+</span></span>
     <hr>
     <span class="edge no"><span>Edge (Legacy)</span><span>?</span></span><span class="ie no"><span>IE</span><span>None</span></span>
     <hr>
     <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span class="webview_android no"><span>Android WebView</span><span>?</span></span><span class="samsunginternet_android no"><span>Samsung Internet</span><span>?</span></span><span class="opera_android no"><span>Opera Mobile</span><span>?</span></span>
    </div>
   </div>
  </details>
  <details class="mdn-anno unpositioned" data-anno-for="dom-fontfaceset-delete">
   <summary><b class="all-engines-flag" title="This feature is in all current engines.">✔</b><span>MDN</span></summary>
   <div class="feature">
    <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/FontFaceSet/delete" title="The delete() method of the FontFaceSet interface removes a font from the set.">FontFaceSet/delete</a></p>
    <p class="all-engines-text">In all current engines.</p>
    <div class="support">
     <span class="firefox yes"><span>Firefox</span><span>41+</span></span><span class="safari yes"><span>Safari</span><span>10+</span></span><span class="chrome yes"><span>Chrome</span><span>35+</span></span>
     <hr>
     <span class="opera no"><span>Opera</span><span>?</span></span><span class="edge_blink yes"><span>Edge</span><span>79+</span></span>
     <hr>
     <span class="edge no"><span>Edge (Legacy)</span><span>?</span></span><span class="ie no"><span>IE</span><span>None</span></span>
     <hr>
     <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span class="webview_android no"><span>Android WebView</span><span>?</span></span><span class="samsunginternet_android no"><span>Samsung Internet</span><span>?</span></span><span class="opera_android no"><span>Opera Mobile</span><span>?</span></span>
    </div>
   </div>
  </details>
  <details class="mdn-anno unpositioned" data-anno-for="dom-fontfaceset-load">
   <summary><b class="all-engines-flag" title="This feature is in all current engines.">✔</b><span>MDN</span></summary>
   <div class="feature">
    <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/FontFaceSet/load" title="The load() method of the FontFaceSet forces all the fonts given in parameters to be loaded.">FontFaceSet/load</a></p>
    <p class="all-engines-text">In all current engines.</p>
    <div class="support">
     <span class="firefox yes"><span>Firefox</span><span>41+</span></span><span class="safari yes"><span>Safari</span><span>10+</span></span><span class="chrome yes"><span>Chrome</span><span>35+</span></span>
     <hr>
     <span class="opera no"><span>Opera</span><span>?</span></span><span class="edge_blink yes"><span>Edge</span><span>79+</span></span>
     <hr>
     <span class="edge no"><span>Edge (Legacy)</span><span>?</span></span><span class="ie no"><span>IE</span><span>None</span></span>
     <hr>
     <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span class="webview_android no"><span>Android WebView</span><span>?</span></span><span class="samsunginternet_android no"><span>Samsung Internet</span><span>?</span></span><span class="opera_android no"><span>Opera Mobile</span><span>?</span></span>
    </div>
   </div>
  </details>
  <details class="mdn-anno unpositioned" data-anno-for="dom-fontfaceset-onloading">
   <summary><b class="all-engines-flag" title="This feature is in all current engines.">✔</b><span>MDN</span></summary>
   <div class="feature">
    <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/FontFaceSet/loading_event" title="The loading event fires when the document begins loading fonts.">FontFaceSet/loading_event</a></p>
    <p class="all-engines-text">In all current engines.</p>
    <div class="support">
     <span class="firefox yes"><span>Firefox</span><span>41+</span></span><span class="safari yes"><span>Safari</span><span>10+</span></span><span class="chrome yes"><span>Chrome</span><span>35+</span></span>
     <hr>
     <span class="opera no"><span>Opera</span><span>?</span></span><span class="edge_blink yes"><span>Edge</span><span>79+</span></span>
     <hr>
     <span class="edge no"><span>Edge (Legacy)</span><span>?</span></span><span class="ie no"><span>IE</span><span>None</span></span>
     <hr>
     <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span class="webview_android no"><span>Android WebView</span><span>?</span></span><span class="samsunginternet_android no"><span>Samsung Internet</span><span>?</span></span><span class="opera_android no"><span>Opera Mobile</span><span>?</span></span>
    </div>
   </div>
  </details>
  <details class="mdn-anno unpositioned" data-anno-for="dom-fontfaceset-onloadingdone">
   <summary><b class="all-engines-flag" title="This feature is in all current engines.">✔</b><span>MDN</span></summary>
   <div class="feature">
    <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/FontFaceSet/loadingdone_event" title="The loadingdone event fires when the document has loaded all fonts.">FontFaceSet/loadingdone_event</a></p>
    <p class="all-engines-text">In all current engines.</p>
    <div class="support">
     <span class="firefox yes"><span>Firefox</span><span>41+</span></span><span class="safari yes"><span>Safari</span><span>10+</span></span><span class="chrome yes"><span>Chrome</span><span>35+</span></span>
     <hr>
     <span class="opera no"><span>Opera</span><span>?</span></span><span class="edge_blink yes"><span>Edge</span><span>79+</span></span>
     <hr>
     <span class="edge no"><span>Edge (Legacy)</span><span>?</span></span><span class="ie no"><span>IE</span><span>None</span></span>
     <hr>
     <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span class="webview_android no"><span>Android WebView</span><span>?</span></span><span class="samsunginternet_android no"><span>Samsung Internet</span><span>?</span></span><span class="opera_android no"><span>Opera Mobile</span><span>?</span></span>
    </div>
   </div>
  </details>
  <details class="mdn-anno unpositioned" data-anno-for="dom-fontfaceset-onloadingerror">
   <summary><b class="all-engines-flag" title="This feature is in all current engines.">✔</b><span>MDN</span></summary>
   <div class="feature">
    <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/FontFaceSet/loadingerror_event" title="The loadingerror event fires when fonts have finished loading, but some or all fonts have failed to load.">FontFaceSet/loadingerror_event</a></p>
    <p class="all-engines-text">In all current engines.</p>
    <div class="support">
     <span class="firefox yes"><span>Firefox</span><span>41+</span></span><span class="safari yes"><span>Safari</span><span>10+</span></span><span class="chrome yes"><span>Chrome</span><span>35+</span></span>
     <hr>
     <span class="opera no"><span>Opera</span><span>?</span></span><span class="edge_blink yes"><span>Edge</span><span>79+</span></span>
     <hr>
     <span class="edge no"><span>Edge (Legacy)</span><span>?</span></span><span class="ie no"><span>IE</span><span>None</span></span>
     <hr>
     <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span class="webview_android no"><span>Android WebView</span><span>?</span></span><span class="samsunginternet_android no"><span>Samsung Internet</span><span>?</span></span><span class="opera_android no"><span>Opera Mobile</span><span>?</span></span>
    </div>
   </div>
  </details>
  <details class="mdn-anno unpositioned" data-anno-for="dom-fontfaceset-ready">
   <summary><b class="all-engines-flag" title="This feature is in all current engines.">✔</b><span>MDN</span></summary>
   <div class="feature">
    <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/FontFaceSet/ready" title="The ready read-only property of the FontFaceSet interface returns a Promise that resolves to the given FontFaceSet.">FontFaceSet/ready</a></p>
    <p class="all-engines-text">In all current engines.</p>
    <div class="support">
     <span class="firefox yes"><span>Firefox</span><span>41+</span></span><span class="safari yes"><span>Safari</span><span>10+</span></span><span class="chrome yes"><span>Chrome</span><span>35+</span></span>
     <hr>
     <span class="opera no"><span>Opera</span><span>?</span></span><span class="edge_blink yes"><span>Edge</span><span>79+</span></span>
     <hr>
     <span class="edge no"><span>Edge (Legacy)</span><span>?</span></span><span class="ie no"><span>IE</span><span>None</span></span>
     <hr>
     <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span class="webview_android no"><span>Android WebView</span><span>?</span></span><span class="samsunginternet_android no"><span>Samsung Internet</span><span>?</span></span><span class="opera_android no"><span>Opera Mobile</span><span>?</span></span>
    </div>
   </div>
  </details>
  <details class="mdn-anno unpositioned" data-anno-for="dom-fontfaceset-status">
   <summary><b class="all-engines-flag" title="This feature is in all current engines.">✔</b><span>MDN</span></summary>
   <div class="feature">
    <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/FontFaceSet/status" title="The status read-only property of the FontFaceSet interface returns the loading state of the fonts in the set.">FontFaceSet/status</a></p>
    <p class="all-engines-text">In all current engines.</p>
    <div class="support">
     <span class="firefox yes"><span>Firefox</span><span>41+</span></span><span class="safari yes"><span>Safari</span><span>10+</span></span><span class="chrome yes"><span>Chrome</span><span>35+</span></span>
     <hr>
     <span class="opera no"><span>Opera</span><span>?</span></span><span class="edge_blink yes"><span>Edge</span><span>79+</span></span>
     <hr>
     <span class="edge no"><span>Edge (Legacy)</span><span>?</span></span><span class="ie no"><span>IE</span><span>None</span></span>
     <hr>
     <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span class="webview_android no"><span>Android WebView</span><span>?</span></span><span class="samsunginternet_android no"><span>Samsung Internet</span><span>?</span></span><span class="opera_android no"><span>Opera Mobile</span><span>?</span></span>
    </div>
   </div>
  </details>
  <details class="mdn-anno unpositioned" data-anno-for="dom-fontfacesetloadevent-fontfacesetloadevent">
   <summary><span>MDN</span></summary>
   <div class="feature">
    <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/FontFaceSetLoadEvent/FontFaceSetLoadEvent" title="The FontFaceSetLoadEvent() constructor creates a new FontFaceSetLoadEvent object which is fired whenever a FontFaceSet loads.">FontFaceSetLoadEvent/FontFaceSetLoadEvent</a></p>
    <div class="support">
     <span class="firefox yes"><span>Firefox</span><span>41+</span></span><span class="safari no"><span>Safari</span><span>None</span></span><span class="chrome yes"><span>Chrome</span><span>57+</span></span>
     <hr>
     <span class="opera no"><span>Opera</span><span>?</span></span><span class="edge_blink yes"><span>Edge</span><span>79+</span></span>
     <hr>
     <span class="edge no"><span>Edge (Legacy)</span><span>?</span></span><span class="ie no"><span>IE</span><span>None</span></span>
     <hr>
     <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span class="webview_android no"><span>Android WebView</span><span>None</span></span><span class="samsunginternet_android no"><span>Samsung Internet</span><span>?</span></span><span class="opera_android no"><span>Opera Mobile</span><span>?</span></span>
    </div>
   </div>
  </details>
  <details class="mdn-anno unpositioned" data-anno-for="dom-fontfacesetloadevent-fontfaces">
   <summary><span>MDN</span></summary>
   <div class="feature">
    <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/FontFaceSetLoadEvent/fontfaces" title="The fontfaces read-only property of the FontFaceSetLoadEvent interface returns an array of FontFace instances, each of which represents a single usable font.">FontFaceSetLoadEvent/fontfaces</a></p>
    <div class="support">
     <span class="firefox yes"><span>Firefox</span><span>41+</span></span><span class="safari no"><span>Safari</span><span>None</span></span><span class="chrome yes"><span>Chrome</span><span>35+</span></span>
     <hr>
     <span class="opera no"><span>Opera</span><span>?</span></span><span class="edge_blink yes"><span>Edge</span><span>79+</span></span>
     <hr>
     <span class="edge no"><span>Edge (Legacy)</span><span>?</span></span><span class="ie no"><span>IE</span><span>None</span></span>
     <hr>
     <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span class="webview_android no"><span>Android WebView</span><span>None</span></span><span class="samsunginternet_android no"><span>Samsung Internet</span><span>?</span></span><span class="opera_android no"><span>Opera Mobile</span><span>?</span></span>
    </div>
   </div>
  </details>
  <details class="mdn-anno unpositioned" data-anno-for="fontfacesetloadevent">
   <summary><span>MDN</span></summary>
   <div class="feature">
    <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/FontFaceSetLoadEvent" title="The FontFaceSetLoadEvent interface of the CSS Font Loading API represents events fired at a FontFaceSet after it starts loading font faces.">FontFaceSetLoadEvent</a></p>
    <div class="support">
     <span class="firefox yes"><span>Firefox</span><span>41+</span></span><span class="safari no"><span>Safari</span><span>None</span></span><span class="chrome yes"><span>Chrome</span><span>35+</span></span>
     <hr>
     <span class="opera no"><span>Opera</span><span>?</span></span><span class="edge_blink yes"><span>Edge</span><span>79+</span></span>
     <hr>
     <span class="edge no"><span>Edge (Legacy)</span><span>?</span></span><span class="ie no"><span>IE</span><span>None</span></span>
     <hr>
     <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span class="webview_android no"><span>Android WebView</span><span>None</span></span><span class="samsunginternet_android no"><span>Samsung Internet</span><span>?</span></span><span class="opera_android no"><span>Opera Mobile</span><span>?</span></span>
    </div>
   </div>
  </details>
  <details class="mdn-anno unpositioned" data-anno-for="dom-fontfacesource-fonts">
   <summary><b class="all-engines-flag" title="This feature is in all current engines.">✔</b><span>MDN</span></summary>
   <div class="feature">
    <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/WorkerGlobalScope/fonts" title="The fonts property of the WorkerGlobalScope interface returns the FontFaceSet interface of the worker.">WorkerGlobalScope/fonts</a></p>
    <p class="all-engines-text">In all current engines.</p>
    <div class="support">
     <span class="firefox yes"><span>Firefox</span><span>105+</span></span><span class="safari yes"><span>Safari</span><span>15+</span></span><span class="chrome yes"><span>Chrome</span><span>69+</span></span>
     <hr>
     <span class="opera no"><span>Opera</span><span>?</span></span><span class="edge_blink yes"><span>Edge</span><span>79+</span></span>
     <hr>
     <span class="edge no"><span>Edge (Legacy)</span><span>?</span></span><span class="ie no"><span>IE</span><span>None</span></span>
     <hr>
     <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span class="webview_android no"><span>Android WebView</span><span>?</span></span><span class="samsunginternet_android no"><span>Samsung Internet</span><span>?</span></span><span class="opera_android no"><span>Opera Mobile</span><span>?</span></span>
    </div>
   </div>
  </details>
<script>/* Boilerplate: script-dom-helper */
"use strict";
function query(sel) { return document.querySelector(sel); }

function queryAll(sel) { return [...document.querySelectorAll(sel)]; }

function iter(obj) {
	if(!obj) return [];
	var it = obj[Symbol.iterator];
	if(it) return it;
	return Object.entries(obj);
}

function mk(tagname, attrs, ...children) {
	const el = document.createElement(tagname);
	for(const [k,v] of iter(attrs)) {
		if(k.slice(0,3) == "_on") {
			const eventName = k.slice(3);
			el.addEventListener(eventName, v);
		} else if(k[0] == "_") {
			// property, not attribute
			el[k.slice(1)] = v;
		} else {
			if(v === false || v == null) {
        continue;
      } else if(v === true) {
        el.setAttribute(k, "");
        continue;
      } else {
  			el.setAttribute(k, v);
      }
		}
	}
	append(el, children);
	return el;
}

/* Create shortcuts for every known HTML element */
[
  "a",
  "abbr",
  "acronym",
  "address",
  "applet",
  "area",
  "article",
  "aside",
  "audio",
  "b",
  "base",
  "basefont",
  "bdo",
  "big",
  "blockquote",
  "body",
  "br",
  "button",
  "canvas",
  "caption",
  "center",
  "cite",
  "code",
  "col",
  "colgroup",
  "datalist",
  "dd",
  "del",
  "details",
  "dfn",
  "dialog",
  "div",
  "dl",
  "dt",
  "em",
  "embed",
  "fieldset",
  "figcaption",
  "figure",
  "font",
  "footer",
  "form",
  "frame",
  "frameset",
  "head",
  "header",
  "h1",
  "h2",
  "h3",
  "h4",
  "h5",
  "h6",
  "hr",
  "html",
  "i",
  "iframe",
  "img",
  "input",
  "ins",
  "kbd",
  "label",
  "legend",
  "li",
  "link",
  "main",
  "map",
  "mark",
  "meta",
  "meter",
  "nav",
  "nobr",
  "noscript",
  "object",
  "ol",
  "optgroup",
  "option",
  "output",
  "p",
  "param",
  "pre",
  "progress",
  "q",
  "s",
  "samp",
  "script",
  "section",
  "select",
  "small",
  "source",
  "span",
  "strike",
  "strong",
  "style",
  "sub",
  "summary",
  "sup",
  "table",
  "tbody",
  "td",
  "template",
  "textarea",
  "tfoot",
  "th",
  "thead",
  "time",
  "title",
  "tr",
  "u",
  "ul",
  "var",
  "video",
  "wbr",
  "xmp",
].forEach(tagname=>{
	mk[tagname] = (...args) => mk(tagname, ...args);
});

function* nodesFromChildList(children) {
	for(const child of children.flat(Infinity)) {
		if(child instanceof Node) {
			yield child;
		} else {
			yield new Text(child);
		}
	}
}
function append(el, ...children) {
	for(const child of nodesFromChildList(children)) {
		if(el instanceof Node) el.appendChild(child);
		else el.push(child);
	}
	return el;
}

function insertAfter(el, ...children) {
	for(const child of nodesFromChildList(children)) {
		el.parentNode.insertBefore(child, el.nextSibling);
	}
	return el;
}

function clearContents(el) {
	el.innerHTML = "";
	return el;
}

function parseHTML(markup) {
	if(markup.toLowerCase().trim().indexOf('<!doctype') === 0) {
		const doc = document.implementation.createHTMLDocument("");
		doc.documentElement.innerHTML = markup;
		return doc;
	} else {
		const el = mk.template({});
		el.innerHTML = markup;
		return el.content;
	}
}</script>
<script>/* Boilerplate: script-dfn-panel */
"use strict";
{
let dfnPanelData = {
"0497de86": {"dfnID":"0497de86","dfnText":"@font-face","external":true,"refSections":[{"refs":[{"id":"ref-for-at-font-face-rule"}],"title":"1. \nIntroduction"},{"refs":[{"id":"ref-for-at-font-face-rule\u2460"},{"id":"ref-for-at-font-face-rule\u2461"},{"id":"ref-for-at-font-face-rule\u2462"},{"id":"ref-for-at-font-face-rule\u2463"},{"id":"ref-for-at-font-face-rule\u2464"},{"id":"ref-for-at-font-face-rule\u2465"}],"title":"2. \nThe FontFace Interface"},{"refs":[{"id":"ref-for-at-font-face-rule\u2466"},{"id":"ref-for-at-font-face-rule\u2467"}],"title":"2.1. \nThe Constructor"},{"refs":[{"id":"ref-for-at-font-face-rule\u2468"}],"title":"2.2. \nThe load() method"},{"refs":[{"id":"ref-for-at-font-face-rule\u2460\u24ea"},{"id":"ref-for-at-font-face-rule\u2460\u2460"},{"id":"ref-for-at-font-face-rule\u2460\u2461"},{"id":"ref-for-at-font-face-rule\u2460\u2462"},{"id":"ref-for-at-font-face-rule\u2460\u2463"},{"id":"ref-for-at-font-face-rule\u2460\u2464"},{"id":"ref-for-at-font-face-rule\u2460\u2465"},{"id":"ref-for-at-font-face-rule\u2460\u2466"},{"id":"ref-for-at-font-face-rule\u2460\u2467"},{"id":"ref-for-at-font-face-rule\u2460\u2468"},{"id":"ref-for-at-font-face-rule\u2461\u24ea"}],"title":"2.3. \nInteraction with CSS\u2019s @font-face Rule"},{"refs":[{"id":"ref-for-at-font-face-rule\u2461\u2460"}],"title":"3. \nThe FontFaceSet Interface"},{"refs":[{"id":"ref-for-at-font-face-rule\u2461\u2461"},{"id":"ref-for-at-font-face-rule\u2461\u2462"},{"id":"ref-for-at-font-face-rule\u2461\u2463"}],"title":"3.5. \nInteraction with CSS Font Loading and Matching"},{"refs":[{"id":"ref-for-at-font-face-rule\u2461\u2464"},{"id":"ref-for-at-font-face-rule\u2461\u2465"},{"id":"ref-for-at-font-face-rule\u2461\u2466"},{"id":"ref-for-at-font-face-rule\u2461\u2467"}],"title":"4.2. \nInteraction with CSS\u2019s @font-face Rule"},{"refs":[{"id":"ref-for-at-font-face-rule\u2461\u2468"}],"title":"Changes"},{"refs":[{"id":"ref-for-at-font-face-rule\u2462\u24ea"}],"title":"\nPrivacy & Security Considerations"}],"url":"https://drafts.csswg.org/css-fonts-5/#at-font-face-rule"},
"129bdae8": {"dfnID":"129bdae8","dfnText":"Event","external":true,"refSections":[{"refs":[{"id":"ref-for-event"}],"title":"3. \nThe FontFaceSet Interface"}],"url":"https://dom.spec.whatwg.org/#event"},
"2bc0cdf4": {"dfnID":"2bc0cdf4","dfnText":"EventTarget","external":true,"refSections":[{"refs":[{"id":"ref-for-eventtarget"}],"title":"3. \nThe FontFaceSet Interface"}],"url":"https://dom.spec.whatwg.org/#eventtarget"},
"2c57f900": {"dfnID":"2c57f900","dfnText":"font","external":true,"refSections":[{"refs":[{"id":"ref-for-propdef-font"}],"title":"3.1. \nEvents"}],"url":"https://drafts.csswg.org/css-fonts-4/#propdef-font"},
"2ede577f": {"dfnID":"2ede577f","dfnText":"normal","external":true,"refSections":[{"refs":[{"id":"ref-for-valdef-font-weight-normal"}],"title":"3.1. \nEvents"}],"url":"https://drafts.csswg.org/css-fonts-4/#valdef-font-weight-normal"},
"2f8afbfe": {"dfnID":"2f8afbfe","dfnText":"ArrayBuffer","external":true,"refSections":[{"refs":[{"id":"ref-for-idl-ArrayBuffer"}],"title":"2. \nThe FontFace Interface"},{"refs":[{"id":"ref-for-idl-ArrayBuffer\u2460"}],"title":"2.1. \nThe Constructor"}],"url":"https://webidl.spec.whatwg.org/#idl-ArrayBuffer"},
"358fd6ff": {"dfnID":"358fd6ff","dfnText":"css-wide keywords","external":true,"refSections":[{"refs":[{"id":"ref-for-css-wide-keywords"}],"title":"3.1. \nEvents"}],"url":"https://drafts.csswg.org/css-values-4/#css-wide-keywords"},
"3c91be7d": {"dfnID":"3c91be7d","dfnText":"bolder","external":true,"refSections":[{"refs":[{"id":"ref-for-valdef-font-weight-bolder"}],"title":"3.1. \nEvents"}],"url":"https://drafts.csswg.org/css-fonts-4/#valdef-font-weight-bolder"},
"44a7708c": {"dfnID":"44a7708c","dfnText":"EventInit","external":true,"refSections":[{"refs":[{"id":"ref-for-dictdef-eventinit"}],"title":"3. \nThe FontFaceSet Interface"}],"url":"https://dom.spec.whatwg.org/#dictdef-eventinit"},
"4cd9ca96": {"dfnID":"4cd9ca96","dfnText":"document or shadow root css style sheets","external":true,"refSections":[{"refs":[{"id":"ref-for-documentorshadowroot-document-or-shadow-root-css-style-sheets"}],"title":"4.2. \nInteraction with CSS\u2019s @font-face Rule"}],"url":"https://drafts.csswg.org/cssom-1/#documentorshadowroot-document-or-shadow-root-css-style-sheets"},
"5372cca8": {"dfnID":"5372cca8","dfnText":"boolean","external":true,"refSections":[{"refs":[{"id":"ref-for-idl-boolean"},{"id":"ref-for-idl-boolean\u2460"}],"title":"3. \nThe FontFaceSet Interface"}],"url":"https://webidl.spec.whatwg.org/#idl-boolean"},
"5a2f7ea1": {"dfnID":"5a2f7ea1","dfnText":"url()","external":true,"refSections":[{"refs":[{"id":"ref-for-funcdef-url"}],"title":"2.1. \nThe Constructor"}],"url":"https://drafts.csswg.org/css-values-4/#funcdef-url"},
"5f90bbfb": {"dfnID":"5f90bbfb","dfnText":"undefined","external":true,"refSections":[{"refs":[{"id":"ref-for-idl-undefined"}],"title":"3. \nThe FontFaceSet Interface"}],"url":"https://webidl.spec.whatwg.org/#idl-undefined"},
"5fced98b": {"dfnID":"5fced98b","dfnText":"CSSOMString","external":true,"refSections":[{"refs":[{"id":"ref-for-cssomstring"},{"id":"ref-for-cssomstring\u2460"},{"id":"ref-for-cssomstring\u2461"},{"id":"ref-for-cssomstring\u2462"},{"id":"ref-for-cssomstring\u2463"},{"id":"ref-for-cssomstring\u2464"},{"id":"ref-for-cssomstring\u2465"},{"id":"ref-for-cssomstring\u2466"},{"id":"ref-for-cssomstring\u2467"},{"id":"ref-for-cssomstring\u2468"},{"id":"ref-for-cssomstring\u2460\u24ea"},{"id":"ref-for-cssomstring\u2460\u2460"},{"id":"ref-for-cssomstring\u2460\u2461"},{"id":"ref-for-cssomstring\u2460\u2462"},{"id":"ref-for-cssomstring\u2460\u2463"},{"id":"ref-for-cssomstring\u2460\u2464"},{"id":"ref-for-cssomstring\u2460\u2465"},{"id":"ref-for-cssomstring\u2460\u2466"},{"id":"ref-for-cssomstring\u2460\u2467"},{"id":"ref-for-cssomstring\u2460\u2468"},{"id":"ref-for-cssomstring\u2461\u24ea"},{"id":"ref-for-cssomstring\u2461\u2460"},{"id":"ref-for-cssomstring\u2461\u2461"},{"id":"ref-for-cssomstring\u2461\u2462"},{"id":"ref-for-cssomstring\u2461\u2463"},{"id":"ref-for-cssomstring\u2461\u2464"},{"id":"ref-for-cssomstring\u2461\u2465"},{"id":"ref-for-cssomstring\u2461\u2466"},{"id":"ref-for-cssomstring\u2461\u2467"},{"id":"ref-for-cssomstring\u2461\u2468"},{"id":"ref-for-cssomstring\u2462\u24ea"},{"id":"ref-for-cssomstring\u2462\u2460"},{"id":"ref-for-cssomstring\u2462\u2461"},{"id":"ref-for-cssomstring\u2462\u2462"},{"id":"ref-for-cssomstring\u2462\u2463"},{"id":"ref-for-cssomstring\u2462\u2464"},{"id":"ref-for-cssomstring\u2462\u2465"}],"title":"2. \nThe FontFace Interface"},{"refs":[{"id":"ref-for-cssomstring\u2462\u2466"},{"id":"ref-for-cssomstring\u2462\u2467"}],"title":"2.1. \nThe Constructor"},{"refs":[{"id":"ref-for-cssomstring\u2462\u2468"},{"id":"ref-for-cssomstring\u2463\u24ea"},{"id":"ref-for-cssomstring\u2463\u2460"},{"id":"ref-for-cssomstring\u2463\u2461"},{"id":"ref-for-cssomstring\u2463\u2462"}],"title":"3. \nThe FontFaceSet Interface"}],"url":"https://drafts.csswg.org/cssom-1/#cssomstring"},
"6c9ab516": {"dfnID":"6c9ab516","dfnText":"ArrayBufferView","external":true,"refSections":[{"refs":[{"id":"ref-for-ArrayBufferView"}],"title":"2. \nThe FontFace Interface"},{"refs":[{"id":"ref-for-ArrayBufferView\u2460"}],"title":"2.1. \nThe Constructor"}],"url":"https://webidl.spec.whatwg.org/#ArrayBufferView"},
"76c4403d": {"dfnID":"76c4403d","dfnText":"parse","external":true,"refSections":[{"refs":[{"id":"ref-for-css-parse-something-according-to-a-css-grammar"},{"id":"ref-for-css-parse-something-according-to-a-css-grammar\u2460"}],"title":"2. \nThe FontFace Interface"},{"refs":[{"id":"ref-for-css-parse-something-according-to-a-css-grammar\u2461"}],"title":"2.1. \nThe Constructor"}],"url":"https://drafts.csswg.org/css-syntax-3/#css-parse-something-according-to-a-css-grammar"},
"804aab85": {"dfnID":"804aab85","dfnText":"OffscreenCanvas","external":true,"refSections":[{"refs":[{"id":"ref-for-offscreencanvas"}],"title":"4.1. \nWorker FontFaceSources"}],"url":"https://html.spec.whatwg.org/multipage/canvas.html#offscreencanvas"},
"83c59a3a": {"dfnID":"83c59a3a","dfnText":"WorkerGlobalScope","external":true,"refSections":[{"refs":[{"id":"ref-for-workerglobalscope"}],"title":"4. \nThe FontFaceSource Mixin"}],"url":"https://html.spec.whatwg.org/multipage/workers.html#workerglobalscope"},
"85394472": {"dfnID":"85394472","dfnText":"Document","external":true,"refSections":[{"refs":[{"id":"ref-for-document"}],"title":"3.5. \nInteraction with CSS Font Loading and Matching"},{"refs":[{"id":"ref-for-document\u2460"}],"title":"4. \nThe FontFaceSource Mixin"}],"url":"https://dom.spec.whatwg.org/#document"},
"889e932f": {"dfnID":"889e932f","dfnText":"Exposed","external":true,"refSections":[{"refs":[{"id":"ref-for-Exposed"}],"title":"2. \nThe FontFace Interface"},{"refs":[{"id":"ref-for-Exposed\u2460"},{"id":"ref-for-Exposed\u2461"}],"title":"3. \nThe FontFaceSet Interface"}],"url":"https://webidl.spec.whatwg.org/#Exposed"},
"9cce47fd": {"dfnID":"9cce47fd","dfnText":"sequence","external":true,"refSections":[{"refs":[{"id":"ref-for-idl-sequence"},{"id":"ref-for-idl-sequence\u2460"},{"id":"ref-for-idl-sequence\u2461"}],"title":"3. \nThe FontFaceSet Interface"}],"url":"https://webidl.spec.whatwg.org/#idl-sequence"},
"a5c91173": {"dfnID":"a5c91173","dfnText":"SameObject","external":true,"refSections":[{"refs":[{"id":"ref-for-SameObject"}],"title":"3. \nThe FontFaceSet Interface"}],"url":"https://webidl.spec.whatwg.org/#SameObject"},
"available-font-faces": {"dfnID":"available-font-faces","dfnText":"available font faces","external":false,"refSections":[{"refs":[{"id":"ref-for-available-font-faces"}],"title":"3.1. \nEvents"}],"url":"#available-font-faces"},
"bdbd19d1": {"dfnID":"bdbd19d1","dfnText":"Promise","external":true,"refSections":[{"refs":[{"id":"ref-for-idl-promise"}],"title":"1.1. \nValues"},{"refs":[{"id":"ref-for-idl-promise\u2460"},{"id":"ref-for-idl-promise\u2461"}],"title":"2. \nThe FontFace Interface"},{"refs":[{"id":"ref-for-idl-promise\u2462"}],"title":"2.1. \nThe Constructor"},{"refs":[{"id":"ref-for-idl-promise\u2463"},{"id":"ref-for-idl-promise\u2464"},{"id":"ref-for-idl-promise\u2465"},{"id":"ref-for-idl-promise\u2466"}],"title":"3. \nThe FontFaceSet Interface"},{"refs":[{"id":"ref-for-idl-promise\u2467"}],"title":"3.4. \nThe ready attribute"}],"url":"https://webidl.spec.whatwg.org/#idl-promise"},
"be2d2b4c": {"dfnID":"be2d2b4c","dfnText":"SyntaxError","external":true,"refSections":[{"refs":[{"id":"ref-for-syntaxerror"},{"id":"ref-for-syntaxerror\u2460"}],"title":"2. \nThe FontFace Interface"}],"url":"https://webidl.spec.whatwg.org/#syntaxerror"},
"cae6bf57": {"dfnID":"cae6bf57","dfnText":"InvalidModificationError","external":true,"refSections":[{"refs":[{"id":"ref-for-invalidmodificationerror"}],"title":"3. \nThe FontFaceSet Interface"},{"refs":[{"id":"ref-for-invalidmodificationerror\u2460"}],"title":"4.2. \nInteraction with CSS\u2019s @font-face Rule"}],"url":"https://webidl.spec.whatwg.org/#invalidmodificationerror"},
"css-connected": {"dfnID":"css-connected","dfnText":"CSS-connected","external":false,"refSections":[{"refs":[{"id":"ref-for-css-connected"},{"id":"ref-for-css-connected\u2460"},{"id":"ref-for-css-connected\u2461"},{"id":"ref-for-css-connected\u2462"}],"title":"2.3. \nInteraction with CSS\u2019s @font-face Rule"},{"refs":[{"id":"ref-for-css-connected\u2463"},{"id":"ref-for-css-connected\u2464"},{"id":"ref-for-css-connected\u2465"},{"id":"ref-for-css-connected\u2466"}],"title":"3. \nThe FontFaceSet Interface"},{"refs":[{"id":"ref-for-css-connected\u2467"},{"id":"ref-for-css-connected\u2468"},{"id":"ref-for-css-connected\u2460\u24ea"},{"id":"ref-for-css-connected\u2460\u2460"},{"id":"ref-for-css-connected\u2460\u2461"},{"id":"ref-for-css-connected\u2460\u2462"}],"title":"4.2. \nInteraction with CSS\u2019s @font-face Rule"}],"url":"#css-connected"},
"dcf5fafa": {"dfnID":"dcf5fafa","dfnText":"FrozenArray","external":true,"refSections":[{"refs":[{"id":"ref-for-idl-frozen-array"}],"title":"3. \nThe FontFaceSet Interface"}],"url":"https://webidl.spec.whatwg.org/#idl-frozen-array"},
"dictdef-fontfacedescriptors": {"dfnID":"dictdef-fontfacedescriptors","dfnText":"FontFaceDescriptors","external":false,"refSections":[{"refs":[{"id":"ref-for-dictdef-fontfacedescriptors"}],"title":"2. \nThe FontFace Interface"}],"url":"#dictdef-fontfacedescriptors"},
"dictdef-fontfacesetloadeventinit": {"dfnID":"dictdef-fontfacesetloadeventinit","dfnText":"FontFaceSetLoadEventInit","external":false,"refSections":[{"refs":[{"id":"ref-for-dictdef-fontfacesetloadeventinit"}],"title":"3. \nThe FontFaceSet Interface"}],"url":"#dictdef-fontfacesetloadeventinit"},
"dom-fontface-ascentoverride": {"dfnID":"dom-fontface-ascentoverride","dfnText":"ascentOverride","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-fontface-ascentoverride"}],"title":"2. \nThe FontFace Interface"}],"url":"#dom-fontface-ascentoverride"},
"dom-fontface-data-slot": {"dfnID":"dom-fontface-data-slot","dfnText":"[[Data]]","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-fontface-data-slot"},{"id":"ref-for-dom-fontface-data-slot\u2460"}],"title":"2.1. \nThe Constructor"}],"url":"#dom-fontface-data-slot"},
"dom-fontface-descentoverride": {"dfnID":"dom-fontface-descentoverride","dfnText":"descentOverride","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-fontface-descentoverride"}],"title":"2. \nThe FontFace Interface"}],"url":"#dom-fontface-descentoverride"},
"dom-fontface-display": {"dfnID":"dom-fontface-display","dfnText":"display","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-fontface-display"}],"title":"2. \nThe FontFace Interface"},{"refs":[{"id":"ref-for-dom-fontface-display\u2460"}],"title":"Changes"}],"url":"#dom-fontface-display"},
"dom-fontface-family": {"dfnID":"dom-fontface-family","dfnText":"family","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-fontface-family"}],"title":"2. \nThe FontFace Interface"},{"refs":[{"id":"ref-for-dom-fontface-family\u2460"}],"title":"2.3. \nInteraction with CSS\u2019s @font-face Rule"}],"url":"#dom-fontface-family"},
"dom-fontface-featuresettings": {"dfnID":"dom-fontface-featuresettings","dfnText":"featureSettings","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-fontface-featuresettings"}],"title":"2. \nThe FontFace Interface"},{"refs":[{"id":"ref-for-dom-fontface-featuresettings\u2460"}],"title":"2.3. \nInteraction with CSS\u2019s @font-face Rule"}],"url":"#dom-fontface-featuresettings"},
"dom-fontface-fontface": {"dfnID":"dom-fontface-fontface","dfnText":"FontFace(family, source, descriptors)","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-fontface-fontface"}],"title":"2. \nThe FontFace Interface"}],"url":"#dom-fontface-fontface"},
"dom-fontface-fontface-family-source-descriptors-descriptors": {"dfnID":"dom-fontface-fontface-family-source-descriptors-descriptors","dfnText":"descriptors","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-fontface-fontface-family-source-descriptors-descriptors"}],"title":"2.1. \nThe Constructor"}],"url":"#dom-fontface-fontface-family-source-descriptors-descriptors"},
"dom-fontface-fontface-family-source-descriptors-family": {"dfnID":"dom-fontface-fontface-family-source-descriptors-family","dfnText":"family","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-fontface-fontface-family-source-descriptors-family"}],"title":"2.1. \nThe Constructor"}],"url":"#dom-fontface-fontface-family-source-descriptors-family"},
"dom-fontface-fontface-family-source-descriptors-source": {"dfnID":"dom-fontface-fontface-family-source-descriptors-source","dfnText":"source","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-fontface-fontface-family-source-descriptors-source"},{"id":"ref-for-dom-fontface-fontface-family-source-descriptors-source\u2460"},{"id":"ref-for-dom-fontface-fontface-family-source-descriptors-source\u2461"}],"title":"2.1. \nThe Constructor"}],"url":"#dom-fontface-fontface-family-source-descriptors-source"},
"dom-fontface-fontstatuspromise-slot": {"dfnID":"dom-fontface-fontstatuspromise-slot","dfnText":"[[FontStatusPromise]]","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-fontface-fontstatuspromise-slot"}],"title":"2. \nThe FontFace Interface"},{"refs":[{"id":"ref-for-dom-fontface-fontstatuspromise-slot\u2460"},{"id":"ref-for-dom-fontface-fontstatuspromise-slot\u2461"},{"id":"ref-for-dom-fontface-fontstatuspromise-slot\u2462"},{"id":"ref-for-dom-fontface-fontstatuspromise-slot\u2463"}],"title":"2.1. \nThe Constructor"},{"refs":[{"id":"ref-for-dom-fontface-fontstatuspromise-slot\u2464"},{"id":"ref-for-dom-fontface-fontstatuspromise-slot\u2465"},{"id":"ref-for-dom-fontface-fontstatuspromise-slot\u2466"},{"id":"ref-for-dom-fontface-fontstatuspromise-slot\u2467"}],"title":"2.2. \nThe load() method"},{"refs":[{"id":"ref-for-dom-fontface-fontstatuspromise-slot\u2468"}],"title":"3.2. \nThe load() method"}],"url":"#dom-fontface-fontstatuspromise-slot"},
"dom-fontface-linegapoverride": {"dfnID":"dom-fontface-linegapoverride","dfnText":"lineGapOverride","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-fontface-linegapoverride"}],"title":"2. \nThe FontFace Interface"}],"url":"#dom-fontface-linegapoverride"},
"dom-fontface-load": {"dfnID":"dom-fontface-load","dfnText":"load()","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-fontface-load"},{"id":"ref-for-dom-fontface-load\u2460"}],"title":"2. \nThe FontFace Interface"},{"refs":[{"id":"ref-for-dom-fontface-load\u2461"},{"id":"ref-for-dom-fontface-load\u2462"}],"title":"2.2. \nThe load() method"},{"refs":[{"id":"ref-for-dom-fontface-load\u2463"}],"title":"3.2. \nThe load() method"},{"refs":[{"id":"ref-for-dom-fontface-load\u2464"}],"title":"3.4. \nThe ready attribute"},{"refs":[{"id":"ref-for-dom-fontface-load\u2465"}],"title":"3.5. \nInteraction with CSS Font Loading and Matching"}],"url":"#dom-fontface-load"},
"dom-fontface-loaded": {"dfnID":"dom-fontface-loaded","dfnText":"loaded","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-fontface-loaded"}],"title":"2. \nThe FontFace Interface"}],"url":"#dom-fontface-loaded"},
"dom-fontface-status": {"dfnID":"dom-fontface-status","dfnText":"status","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-fontface-status"}],"title":"2. \nThe FontFace Interface"},{"refs":[{"id":"ref-for-dom-fontface-status\u2460"},{"id":"ref-for-dom-fontface-status\u2461"},{"id":"ref-for-dom-fontface-status\u2462"},{"id":"ref-for-dom-fontface-status\u2463"},{"id":"ref-for-dom-fontface-status\u2464"},{"id":"ref-for-dom-fontface-status\u2465"}],"title":"2.1. \nThe Constructor"},{"refs":[{"id":"ref-for-dom-fontface-status\u2466"},{"id":"ref-for-dom-fontface-status\u2467"},{"id":"ref-for-dom-fontface-status\u2468"},{"id":"ref-for-dom-fontface-status\u2460\u24ea"}],"title":"2.2. \nThe load() method"},{"refs":[{"id":"ref-for-dom-fontface-status\u2460\u2460"}],"title":"3. \nThe FontFaceSet Interface"},{"refs":[{"id":"ref-for-dom-fontface-status\u2460\u2461"}],"title":"3.3. \nThe check() method"}],"url":"#dom-fontface-status"},
"dom-fontface-stretch": {"dfnID":"dom-fontface-stretch","dfnText":"stretch","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-fontface-stretch"}],"title":"2. \nThe FontFace Interface"},{"refs":[{"id":"ref-for-dom-fontface-stretch\u2460"}],"title":"2.3. \nInteraction with CSS\u2019s @font-face Rule"}],"url":"#dom-fontface-stretch"},
"dom-fontface-style": {"dfnID":"dom-fontface-style","dfnText":"style","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-fontface-style"},{"id":"ref-for-dom-fontface-style\u2460"}],"title":"2. \nThe FontFace Interface"},{"refs":[{"id":"ref-for-dom-fontface-style\u2461"}],"title":"2.3. \nInteraction with CSS\u2019s @font-face Rule"}],"url":"#dom-fontface-style"},
"dom-fontface-unicoderange": {"dfnID":"dom-fontface-unicoderange","dfnText":"unicodeRange","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-fontface-unicoderange"}],"title":"2. \nThe FontFace Interface"},{"refs":[{"id":"ref-for-dom-fontface-unicoderange\u2460"}],"title":"2.3. \nInteraction with CSS\u2019s @font-face Rule"},{"refs":[{"id":"ref-for-dom-fontface-unicoderange\u2461"}],"title":"3.1. \nEvents"}],"url":"#dom-fontface-unicoderange"},
"dom-fontface-urls-slot": {"dfnID":"dom-fontface-urls-slot","dfnText":"[[Urls]]","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-fontface-urls-slot"}],"title":"2.1. \nThe Constructor"},{"refs":[{"id":"ref-for-dom-fontface-urls-slot\u2460"},{"id":"ref-for-dom-fontface-urls-slot\u2461"}],"title":"2.2. \nThe load() method"},{"refs":[{"id":"ref-for-dom-fontface-urls-slot\u2462"}],"title":"2.3. \nInteraction with CSS\u2019s @font-face Rule"}],"url":"#dom-fontface-urls-slot"},
"dom-fontface-variant": {"dfnID":"dom-fontface-variant","dfnText":"variant","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-fontface-variant"}],"title":"2. \nThe FontFace Interface"},{"refs":[{"id":"ref-for-dom-fontface-variant\u2460"}],"title":"2.3. \nInteraction with CSS\u2019s @font-face Rule"}],"url":"#dom-fontface-variant"},
"dom-fontface-variationsettings": {"dfnID":"dom-fontface-variationsettings","dfnText":"variationSettings","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-fontface-variationsettings"}],"title":"2. \nThe FontFace Interface"},{"refs":[{"id":"ref-for-dom-fontface-variationsettings\u2460"}],"title":"Changes"}],"url":"#dom-fontface-variationsettings"},
"dom-fontface-weight": {"dfnID":"dom-fontface-weight","dfnText":"weight","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-fontface-weight"}],"title":"2. \nThe FontFace Interface"},{"refs":[{"id":"ref-for-dom-fontface-weight\u2460"}],"title":"2.3. \nInteraction with CSS\u2019s @font-face Rule"}],"url":"#dom-fontface-weight"},
"dom-fontfacedescriptors-ascentoverride": {"dfnID":"dom-fontfacedescriptors-ascentoverride","dfnText":"ascentOverride","external":false,"refSections":[],"url":"#dom-fontfacedescriptors-ascentoverride"},
"dom-fontfacedescriptors-descentoverride": {"dfnID":"dom-fontfacedescriptors-descentoverride","dfnText":"descentOverride","external":false,"refSections":[],"url":"#dom-fontfacedescriptors-descentoverride"},
"dom-fontfacedescriptors-display": {"dfnID":"dom-fontfacedescriptors-display","dfnText":"display","external":false,"refSections":[],"url":"#dom-fontfacedescriptors-display"},
"dom-fontfacedescriptors-featuresettings": {"dfnID":"dom-fontfacedescriptors-featuresettings","dfnText":"featureSettings","external":false,"refSections":[],"url":"#dom-fontfacedescriptors-featuresettings"},
"dom-fontfacedescriptors-linegapoverride": {"dfnID":"dom-fontfacedescriptors-linegapoverride","dfnText":"lineGapOverride","external":false,"refSections":[],"url":"#dom-fontfacedescriptors-linegapoverride"},
"dom-fontfacedescriptors-stretch": {"dfnID":"dom-fontfacedescriptors-stretch","dfnText":"stretch","external":false,"refSections":[],"url":"#dom-fontfacedescriptors-stretch"},
"dom-fontfacedescriptors-style": {"dfnID":"dom-fontfacedescriptors-style","dfnText":"style","external":false,"refSections":[],"url":"#dom-fontfacedescriptors-style"},
"dom-fontfacedescriptors-unicoderange": {"dfnID":"dom-fontfacedescriptors-unicoderange","dfnText":"unicodeRange","external":false,"refSections":[],"url":"#dom-fontfacedescriptors-unicoderange"},
"dom-fontfacedescriptors-variant": {"dfnID":"dom-fontfacedescriptors-variant","dfnText":"variant","external":false,"refSections":[],"url":"#dom-fontfacedescriptors-variant"},
"dom-fontfacedescriptors-variationsettings": {"dfnID":"dom-fontfacedescriptors-variationsettings","dfnText":"variationSettings","external":false,"refSections":[],"url":"#dom-fontfacedescriptors-variationsettings"},
"dom-fontfacedescriptors-weight": {"dfnID":"dom-fontfacedescriptors-weight","dfnText":"weight","external":false,"refSections":[],"url":"#dom-fontfacedescriptors-weight"},
"dom-fontfaceloadstatus-error": {"dfnID":"dom-fontfaceloadstatus-error","dfnText":"\"error\"","external":false,"refSections":[],"url":"#dom-fontfaceloadstatus-error"},
"dom-fontfaceloadstatus-loaded": {"dfnID":"dom-fontfaceloadstatus-loaded","dfnText":"\"loaded\"","external":false,"refSections":[],"url":"#dom-fontfaceloadstatus-loaded"},
"dom-fontfaceloadstatus-loading": {"dfnID":"dom-fontfaceloadstatus-loading","dfnText":"\"loading\"","external":false,"refSections":[],"url":"#dom-fontfaceloadstatus-loading"},
"dom-fontfaceloadstatus-unloaded": {"dfnID":"dom-fontfaceloadstatus-unloaded","dfnText":"\"unloaded\"","external":false,"refSections":[],"url":"#dom-fontfaceloadstatus-unloaded"},
"dom-fontfaceset-add": {"dfnID":"dom-fontfaceset-add","dfnText":"add(font)","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-fontfaceset-add"},{"id":"ref-for-dom-fontfaceset-add\u2460"}],"title":"3. \nThe FontFaceSet Interface"},{"refs":[{"id":"ref-for-dom-fontfaceset-add\u2461"}],"title":"4.2. \nInteraction with CSS\u2019s @font-face Rule"}],"url":"#dom-fontfaceset-add"},
"dom-fontfaceset-add-font-font": {"dfnID":"dom-fontfaceset-add-font-font","dfnText":"font","external":false,"refSections":[],"url":"#dom-fontfaceset-add-font-font"},
"dom-fontfaceset-check": {"dfnID":"dom-fontfaceset-check","dfnText":"check","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-fontfaceset-check"}],"title":"3. \nThe FontFaceSet Interface"},{"refs":[{"id":"ref-for-dom-fontfaceset-check\u2460"}],"title":"3.3. \nThe check() method"}],"url":"#dom-fontfaceset-check"},
"dom-fontfaceset-check-font-text-font": {"dfnID":"dom-fontfaceset-check-font-text-font","dfnText":"font","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-fontfaceset-check-font-text-font"}],"title":"3. \nThe FontFaceSet Interface"}],"url":"#dom-fontfaceset-check-font-text-font"},
"dom-fontfaceset-check-font-text-text": {"dfnID":"dom-fontfaceset-check-font-text-text","dfnText":"text","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-fontfaceset-check-font-text-text"}],"title":"3. \nThe FontFaceSet Interface"}],"url":"#dom-fontfaceset-check-font-text-text"},
"dom-fontfaceset-clear": {"dfnID":"dom-fontfaceset-clear","dfnText":"clear()","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-fontfaceset-clear"},{"id":"ref-for-dom-fontfaceset-clear\u2460"}],"title":"3. \nThe FontFaceSet Interface"}],"url":"#dom-fontfaceset-clear"},
"dom-fontfaceset-delete": {"dfnID":"dom-fontfaceset-delete","dfnText":"delete(font)","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-fontfaceset-delete"},{"id":"ref-for-dom-fontfaceset-delete\u2460"}],"title":"3. \nThe FontFaceSet Interface"},{"refs":[{"id":"ref-for-dom-fontfaceset-delete\u2461"}],"title":"4.2. \nInteraction with CSS\u2019s @font-face Rule"}],"url":"#dom-fontfaceset-delete"},
"dom-fontfaceset-delete-font-font": {"dfnID":"dom-fontfaceset-delete-font-font","dfnText":"font","external":false,"refSections":[],"url":"#dom-fontfaceset-delete-font-font"},
"dom-fontfaceset-failedfonts-slot": {"dfnID":"dom-fontfaceset-failedfonts-slot","dfnText":"[[FailedFonts]]","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-fontfaceset-failedfonts-slot"}],"title":"2.1. \nThe Constructor"},{"refs":[{"id":"ref-for-dom-fontfaceset-failedfonts-slot\u2460"}],"title":"2.2. \nThe load() method"},{"refs":[{"id":"ref-for-dom-fontfaceset-failedfonts-slot\u2461"},{"id":"ref-for-dom-fontfaceset-failedfonts-slot\u2462"}],"title":"3. \nThe FontFaceSet Interface"},{"refs":[{"id":"ref-for-dom-fontfaceset-failedfonts-slot\u2463"},{"id":"ref-for-dom-fontfaceset-failedfonts-slot\u2464"}],"title":"3.1. \nEvents"}],"url":"#dom-fontfaceset-failedfonts-slot"},
"dom-fontfaceset-fontfaceset": {"dfnID":"dom-fontfaceset-fontfaceset","dfnText":"FontFaceSet(initialFaces)","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-fontfaceset-fontfaceset"}],"title":"3. \nThe FontFaceSet Interface"}],"url":"#dom-fontfaceset-fontfaceset"},
"dom-fontfaceset-fontfaceset-initialfaces-initialfaces": {"dfnID":"dom-fontfaceset-fontfaceset-initialfaces-initialfaces","dfnText":"initialFaces","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-fontfaceset-fontfaceset-initialfaces-initialfaces"}],"title":"3. \nThe FontFaceSet Interface"}],"url":"#dom-fontfaceset-fontfaceset-initialfaces-initialfaces"},
"dom-fontfaceset-load": {"dfnID":"dom-fontfaceset-load","dfnText":"load","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-fontfaceset-load"},{"id":"ref-for-dom-fontfaceset-load\u2460"}],"title":"3. \nThe FontFaceSet Interface"},{"refs":[{"id":"ref-for-dom-fontfaceset-load\u2461"}],"title":"3.2. \nThe load() method"}],"url":"#dom-fontfaceset-load"},
"dom-fontfaceset-load-font-text-font": {"dfnID":"dom-fontfaceset-load-font-text-font","dfnText":"font","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-fontfaceset-load-font-text-font"}],"title":"3. \nThe FontFaceSet Interface"}],"url":"#dom-fontfaceset-load-font-text-font"},
"dom-fontfaceset-load-font-text-text": {"dfnID":"dom-fontfaceset-load-font-text-text","dfnText":"text","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-fontfaceset-load-font-text-text"}],"title":"3. \nThe FontFaceSet Interface"}],"url":"#dom-fontfaceset-load-font-text-text"},
"dom-fontfaceset-loadedfonts-slot": {"dfnID":"dom-fontfaceset-loadedfonts-slot","dfnText":"[[LoadedFonts]]","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-fontfaceset-loadedfonts-slot"}],"title":"2.1. \nThe Constructor"},{"refs":[{"id":"ref-for-dom-fontfaceset-loadedfonts-slot\u2460"}],"title":"2.2. \nThe load() method"},{"refs":[{"id":"ref-for-dom-fontfaceset-loadedfonts-slot\u2461"},{"id":"ref-for-dom-fontfaceset-loadedfonts-slot\u2462"}],"title":"3. \nThe FontFaceSet Interface"},{"refs":[{"id":"ref-for-dom-fontfaceset-loadedfonts-slot\u2463"},{"id":"ref-for-dom-fontfaceset-loadedfonts-slot\u2464"}],"title":"3.1. \nEvents"}],"url":"#dom-fontfaceset-loadedfonts-slot"},
"dom-fontfaceset-loadingfonts-slot": {"dfnID":"dom-fontfaceset-loadingfonts-slot","dfnText":"[[LoadingFonts]]","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-fontfaceset-loadingfonts-slot"},{"id":"ref-for-dom-fontfaceset-loadingfonts-slot\u2460"},{"id":"ref-for-dom-fontfaceset-loadingfonts-slot\u2461"},{"id":"ref-for-dom-fontfaceset-loadingfonts-slot\u2462"}],"title":"2.1. \nThe Constructor"},{"refs":[{"id":"ref-for-dom-fontfaceset-loadingfonts-slot\u2463"},{"id":"ref-for-dom-fontfaceset-loadingfonts-slot\u2464"}],"title":"2.2. \nThe load() method"},{"refs":[{"id":"ref-for-dom-fontfaceset-loadingfonts-slot\u2465"},{"id":"ref-for-dom-fontfaceset-loadingfonts-slot\u2466"},{"id":"ref-for-dom-fontfaceset-loadingfonts-slot\u2467"},{"id":"ref-for-dom-fontfaceset-loadingfonts-slot\u2468"}],"title":"3. \nThe FontFaceSet Interface"},{"refs":[{"id":"ref-for-dom-fontfaceset-loadingfonts-slot\u2460\u24ea"}],"title":"3.1. \nEvents"}],"url":"#dom-fontfaceset-loadingfonts-slot"},
"dom-fontfaceset-onloading": {"dfnID":"dom-fontfaceset-onloading","dfnText":"onloading","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-fontfaceset-onloading"}],"title":"3.1. \nEvents"}],"url":"#dom-fontfaceset-onloading"},
"dom-fontfaceset-onloadingdone": {"dfnID":"dom-fontfaceset-onloadingdone","dfnText":"onloadingdone","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-fontfaceset-onloadingdone"}],"title":"3.1. \nEvents"}],"url":"#dom-fontfaceset-onloadingdone"},
"dom-fontfaceset-onloadingerror": {"dfnID":"dom-fontfaceset-onloadingerror","dfnText":"onloadingerror","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-fontfaceset-onloadingerror"}],"title":"3.1. \nEvents"}],"url":"#dom-fontfaceset-onloadingerror"},
"dom-fontfaceset-ready": {"dfnID":"dom-fontfaceset-ready","dfnText":"ready","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-fontfaceset-ready"}],"title":"3. \nThe FontFaceSet Interface"},{"refs":[{"id":"ref-for-dom-fontfaceset-ready\u2460"},{"id":"ref-for-dom-fontfaceset-ready\u2461"},{"id":"ref-for-dom-fontfaceset-ready\u2462"}],"title":"3.4. \nThe ready attribute"}],"url":"#dom-fontfaceset-ready"},
"dom-fontfaceset-readypromise-slot": {"dfnID":"dom-fontfaceset-readypromise-slot","dfnText":"[[ReadyPromise]]","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-fontfaceset-readypromise-slot"}],"title":"3. \nThe FontFaceSet Interface"},{"refs":[{"id":"ref-for-dom-fontfaceset-readypromise-slot\u2460"},{"id":"ref-for-dom-fontfaceset-readypromise-slot\u2461"}],"title":"3.1. \nEvents"}],"url":"#dom-fontfaceset-readypromise-slot"},
"dom-fontfaceset-status": {"dfnID":"dom-fontfaceset-status","dfnText":"status","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-fontfaceset-status"},{"id":"ref-for-dom-fontfaceset-status\u2460"}],"title":"3.1. \nEvents"}],"url":"#dom-fontfaceset-status"},
"dom-fontfacesetloadevent-fontfaces": {"dfnID":"dom-fontfacesetloadevent-fontfaces","dfnText":"fontfaces","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-fontfacesetloadevent-fontfaces"}],"title":"3.1. \nEvents"},{"refs":[{"id":"ref-for-dom-fontfacesetloadevent-fontfaces\u2460"}],"title":"Changes"}],"url":"#dom-fontfacesetloadevent-fontfaces"},
"dom-fontfacesetloadevent-fontfacesetloadevent": {"dfnID":"dom-fontfacesetloadevent-fontfacesetloadevent","dfnText":"constructor","external":false,"refSections":[],"url":"#dom-fontfacesetloadevent-fontfacesetloadevent"},
"dom-fontfacesetloadevent-fontfacesetloadevent-type-eventinitdict-eventinitdict": {"dfnID":"dom-fontfacesetloadevent-fontfacesetloadevent-type-eventinitdict-eventinitdict","dfnText":"eventInitDict","external":false,"refSections":[],"url":"#dom-fontfacesetloadevent-fontfacesetloadevent-type-eventinitdict-eventinitdict"},
"dom-fontfacesetloadevent-fontfacesetloadevent-type-eventinitdict-type": {"dfnID":"dom-fontfacesetloadevent-fontfacesetloadevent-type-eventinitdict-type","dfnText":"type","external":false,"refSections":[],"url":"#dom-fontfacesetloadevent-fontfacesetloadevent-type-eventinitdict-type"},
"dom-fontfacesetloadeventinit-fontfaces": {"dfnID":"dom-fontfacesetloadeventinit-fontfaces","dfnText":"fontfaces","external":false,"refSections":[],"url":"#dom-fontfacesetloadeventinit-fontfaces"},
"dom-fontfacesetloadstatus-loaded": {"dfnID":"dom-fontfacesetloadstatus-loaded","dfnText":"\"loaded\"","external":false,"refSections":[],"url":"#dom-fontfacesetloadstatus-loaded"},
"dom-fontfacesetloadstatus-loading": {"dfnID":"dom-fontfacesetloadstatus-loading","dfnText":"\"loading\"","external":false,"refSections":[],"url":"#dom-fontfacesetloadstatus-loading"},
"dom-fontfacesource-fonts": {"dfnID":"dom-fontfacesource-fonts","dfnText":"fonts","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-fontfacesource-fonts"}],"title":"4. \nThe FontFaceSource Mixin"}],"url":"#dom-fontfacesource-fonts"},
"enumdef-fontfaceloadstatus": {"dfnID":"enumdef-fontfaceloadstatus","dfnText":"FontFaceLoadStatus","external":false,"refSections":[{"refs":[{"id":"ref-for-enumdef-fontfaceloadstatus"},{"id":"ref-for-enumdef-fontfaceloadstatus\u2460"}],"title":"2. \nThe FontFace Interface"}],"url":"#enumdef-fontfaceloadstatus"},
"enumdef-fontfacesetloadstatus": {"dfnID":"enumdef-fontfacesetloadstatus","dfnText":"FontFaceSetLoadStatus","external":false,"refSections":[{"refs":[{"id":"ref-for-enumdef-fontfacesetloadstatus"}],"title":"3. \nThe FontFaceSet Interface"}],"url":"#enumdef-fontfacesetloadstatus"},
"eventdef-fontfaceset-loading": {"dfnID":"eventdef-fontfaceset-loading","dfnText":"loading","external":false,"refSections":[{"refs":[{"id":"ref-for-eventdef-fontfaceset-loading"},{"id":"ref-for-eventdef-fontfaceset-loading\u2460"}],"title":"3.1. \nEvents"}],"url":"#eventdef-fontfaceset-loading"},
"eventdef-fontfaceset-loadingdone": {"dfnID":"eventdef-fontfaceset-loadingdone","dfnText":"loadingdone","external":false,"refSections":[{"refs":[{"id":"ref-for-eventdef-fontfaceset-loadingdone"},{"id":"ref-for-eventdef-fontfaceset-loadingdone\u2460"}],"title":"3.1. \nEvents"},{"refs":[{"id":"ref-for-eventdef-fontfaceset-loadingdone\u2461"}],"title":"3.4. \nThe ready attribute"},{"refs":[{"id":"ref-for-eventdef-fontfaceset-loadingdone\u2462"},{"id":"ref-for-eventdef-fontfaceset-loadingdone\u2463"},{"id":"ref-for-eventdef-fontfaceset-loadingdone\u2464"}],"title":"5. \nAPI Examples"}],"url":"#eventdef-fontfaceset-loadingdone"},
"eventdef-fontfaceset-loadingerror": {"dfnID":"eventdef-fontfaceset-loadingerror","dfnText":"loadingerror","external":false,"refSections":[{"refs":[{"id":"ref-for-eventdef-fontfaceset-loadingerror"},{"id":"ref-for-eventdef-fontfaceset-loadingerror\u2460"}],"title":"3.1. \nEvents"}],"url":"#eventdef-fontfaceset-loadingerror"},
"f0951476": {"dfnID":"f0951476","dfnText":"EventHandler","external":true,"refSections":[{"refs":[{"id":"ref-for-eventhandler"},{"id":"ref-for-eventhandler\u2460"},{"id":"ref-for-eventhandler\u2461"}],"title":"3. \nThe FontFaceSet Interface"}],"url":"https://html.spec.whatwg.org/multipage/webappapis.html#eventhandler"},
"f1195e5b": {"dfnID":"f1195e5b","dfnText":"set entries","external":true,"refSections":[{"refs":[{"id":"ref-for-dfn-set-entries"},{"id":"ref-for-dfn-set-entries\u2460"}],"title":"3. \nThe FontFaceSet Interface"}],"url":"https://webidl.spec.whatwg.org/#dfn-set-entries"},
"find-the-matching-font-faces": {"dfnID":"find-the-matching-font-faces","dfnText":"find the matching font faces","external":false,"refSections":[{"refs":[{"id":"ref-for-find-the-matching-font-faces"}],"title":"3.2. \nThe load() method"},{"refs":[{"id":"ref-for-find-the-matching-font-faces\u2460"}],"title":"3.3. \nThe check() method"}],"url":"#find-the-matching-font-faces"},
"fire-a-font-load-event": {"dfnID":"fire-a-font-load-event","dfnText":"fire a font load event","external":false,"refSections":[{"refs":[{"id":"ref-for-fire-a-font-load-event"},{"id":"ref-for-fire-a-font-load-event\u2460"},{"id":"ref-for-fire-a-font-load-event\u2461"}],"title":"3.1. \nEvents"}],"url":"#fire-a-font-load-event"},
"font-source": {"dfnID":"font-source","dfnText":"font source","external":false,"refSections":[{"refs":[{"id":"ref-for-font-source"},{"id":"ref-for-font-source\u2460"}],"title":"2.3. \nInteraction with CSS\u2019s @font-face Rule"},{"refs":[{"id":"ref-for-font-source\u2461"}],"title":"3. \nThe FontFaceSet Interface"},{"refs":[{"id":"ref-for-font-source\u2462"}],"title":"3.5. \nInteraction with CSS Font Loading and Matching"},{"refs":[{"id":"ref-for-font-source\u2463"},{"id":"ref-for-font-source\u2464"}],"title":"4. \nThe FontFaceSource Mixin"},{"refs":[{"id":"ref-for-font-source\u2465"}],"title":"4.1. \nWorker FontFaceSources"},{"refs":[{"id":"ref-for-font-source\u2466"},{"id":"ref-for-font-source\u2467"},{"id":"ref-for-font-source\u2468"}],"title":"4.2. \nInteraction with CSS\u2019s @font-face Rule"}],"url":"#font-source"},
"fontface": {"dfnID":"fontface","dfnText":"FontFace","external":false,"refSections":[{"refs":[{"id":"ref-for-fontface"}],"title":"1. \nIntroduction"},{"refs":[{"id":"ref-for-fontface\u2460"},{"id":"ref-for-fontface\u2461"},{"id":"ref-for-fontface\u2462"},{"id":"ref-for-fontface\u2463"},{"id":"ref-for-fontface\u2464"},{"id":"ref-for-fontface\u2465"},{"id":"ref-for-fontface\u2466"},{"id":"ref-for-fontface\u2467"},{"id":"ref-for-fontface\u2468"}],"title":"2. \nThe FontFace Interface"},{"refs":[{"id":"ref-for-fontface\u2460\u24ea"},{"id":"ref-for-fontface\u2460\u2460"}],"title":"2.1. \nThe Constructor"},{"refs":[{"id":"ref-for-fontface\u2460\u2461"},{"id":"ref-for-fontface\u2460\u2462"},{"id":"ref-for-fontface\u2460\u2463"},{"id":"ref-for-fontface\u2460\u2464"},{"id":"ref-for-fontface\u2460\u2465"},{"id":"ref-for-fontface\u2460\u2466"}],"title":"2.2. \nThe load() method"},{"refs":[{"id":"ref-for-fontface\u2460\u2467"},{"id":"ref-for-fontface\u2460\u2468"},{"id":"ref-for-fontface\u2461\u24ea"},{"id":"ref-for-fontface\u2461\u2460"},{"id":"ref-for-fontface\u2461\u2461"},{"id":"ref-for-fontface\u2461\u2462"},{"id":"ref-for-fontface\u2461\u2463"},{"id":"ref-for-fontface\u2461\u2464"},{"id":"ref-for-fontface\u2461\u2465"},{"id":"ref-for-fontface\u2461\u2466"},{"id":"ref-for-fontface\u2461\u2467"}],"title":"2.3. \nInteraction with CSS\u2019s @font-face Rule"},{"refs":[{"id":"ref-for-fontface\u2461\u2468"},{"id":"ref-for-fontface\u2462\u24ea"},{"id":"ref-for-fontface\u2462\u2460"},{"id":"ref-for-fontface\u2462\u2461"},{"id":"ref-for-fontface\u2462\u2462"},{"id":"ref-for-fontface\u2462\u2463"},{"id":"ref-for-fontface\u2462\u2464"},{"id":"ref-for-fontface\u2462\u2465"},{"id":"ref-for-fontface\u2462\u2466"}],"title":"3. \nThe FontFaceSet Interface"},{"refs":[{"id":"ref-for-fontface\u2462\u2467"}],"title":"3.1. \nEvents"},{"refs":[{"id":"ref-for-fontface\u2462\u2468"}],"title":"3.4. \nThe ready attribute"},{"refs":[{"id":"ref-for-fontface\u2463\u24ea"},{"id":"ref-for-fontface\u2463\u2460"},{"id":"ref-for-fontface\u2463\u2461"},{"id":"ref-for-fontface\u2463\u2462"}],"title":"3.5. \nInteraction with CSS Font Loading and Matching"},{"refs":[{"id":"ref-for-fontface\u2463\u2463"}],"title":"4. \nThe FontFaceSource Mixin"},{"refs":[{"id":"ref-for-fontface\u2463\u2464"}],"title":"4.1. \nWorker FontFaceSources"},{"refs":[{"id":"ref-for-fontface\u2463\u2465"},{"id":"ref-for-fontface\u2463\u2466"},{"id":"ref-for-fontface\u2463\u2467"},{"id":"ref-for-fontface\u2463\u2468"},{"id":"ref-for-fontface\u2464\u24ea"},{"id":"ref-for-fontface\u2464\u2460"},{"id":"ref-for-fontface\u2464\u2461"}],"title":"4.2. \nInteraction with CSS\u2019s @font-face Rule"}],"url":"#fontface"},
"fontfaceset": {"dfnID":"fontfaceset","dfnText":"FontFaceSet","external":false,"refSections":[{"refs":[{"id":"ref-for-fontfaceset"},{"id":"ref-for-fontfaceset\u2460"},{"id":"ref-for-fontfaceset\u2461"},{"id":"ref-for-fontfaceset\u2462"},{"id":"ref-for-fontfaceset\u2463"},{"id":"ref-for-fontfaceset\u2464"},{"id":"ref-for-fontfaceset\u2465"},{"id":"ref-for-fontfaceset\u2466"},{"id":"ref-for-fontfaceset\u2467"}],"title":"2.1. \nThe Constructor"},{"refs":[{"id":"ref-for-fontfaceset\u2468"},{"id":"ref-for-fontfaceset\u2460\u24ea"},{"id":"ref-for-fontfaceset\u2460\u2460"},{"id":"ref-for-fontfaceset\u2460\u2461"},{"id":"ref-for-fontfaceset\u2460\u2462"},{"id":"ref-for-fontfaceset\u2460\u2463"},{"id":"ref-for-fontfaceset\u2460\u2464"}],"title":"2.2. \nThe load() method"},{"refs":[{"id":"ref-for-fontfaceset\u2460\u2465"},{"id":"ref-for-fontfaceset\u2460\u2466"},{"id":"ref-for-fontfaceset\u2460\u2467"},{"id":"ref-for-fontfaceset\u2460\u2468"},{"id":"ref-for-fontfaceset\u2461\u24ea"},{"id":"ref-for-fontfaceset\u2461\u2460"},{"id":"ref-for-fontfaceset\u2461\u2461"},{"id":"ref-for-fontfaceset\u2461\u2462"},{"id":"ref-for-fontfaceset\u2461\u2463"},{"id":"ref-for-fontfaceset\u2461\u2464"},{"id":"ref-for-fontfaceset\u2461\u2465"},{"id":"ref-for-fontfaceset\u2461\u2466"},{"id":"ref-for-fontfaceset\u2461\u2467"},{"id":"ref-for-fontfaceset\u2461\u2468"},{"id":"ref-for-fontfaceset\u2462\u24ea"},{"id":"ref-for-fontfaceset\u2462\u2460"},{"id":"ref-for-fontfaceset\u2462\u2461"},{"id":"ref-for-fontfaceset\u2462\u2462"},{"id":"ref-for-fontfaceset\u2462\u2463"}],"title":"3. \nThe FontFaceSet Interface"},{"refs":[{"id":"ref-for-fontfaceset\u2462\u2464"},{"id":"ref-for-fontfaceset\u2462\u2465"},{"id":"ref-for-fontfaceset\u2462\u2466"},{"id":"ref-for-fontfaceset\u2462\u2467"},{"id":"ref-for-fontfaceset\u2462\u2468"},{"id":"ref-for-fontfaceset\u2463\u24ea"},{"id":"ref-for-fontfaceset\u2463\u2460"},{"id":"ref-for-fontfaceset\u2463\u2461"}],"title":"3.1. \nEvents"},{"refs":[{"id":"ref-for-fontfaceset\u2463\u2462"},{"id":"ref-for-fontfaceset\u2463\u2463"}],"title":"3.2. \nThe load() method"},{"refs":[{"id":"ref-for-fontfaceset\u2463\u2464"},{"id":"ref-for-fontfaceset\u2463\u2465"}],"title":"3.3. \nThe check() method"},{"refs":[{"id":"ref-for-fontfaceset\u2463\u2466"},{"id":"ref-for-fontfaceset\u2463\u2467"},{"id":"ref-for-fontfaceset\u2463\u2468"},{"id":"ref-for-fontfaceset\u2464\u24ea"}],"title":"3.5. \nInteraction with CSS Font Loading and Matching"},{"refs":[{"id":"ref-for-fontfaceset\u2464\u2460"}],"title":"4. \nThe FontFaceSource Mixin"},{"refs":[{"id":"ref-for-fontfaceset\u2464\u2461"},{"id":"ref-for-fontfaceset\u2464\u2462"}],"title":"4.2. \nInteraction with CSS\u2019s @font-face Rule"},{"refs":[{"id":"ref-for-fontfaceset\u2464\u2463"}],"title":"\nPrivacy & Security Considerations"}],"url":"#fontfaceset"},
"fontfaceset-iteration-order": {"dfnID":"fontfaceset-iteration-order","dfnText":"iteration order","external":false,"refSections":[],"url":"#fontfaceset-iteration-order"},
"fontfaceset-pending-on-the-environment": {"dfnID":"fontfaceset-pending-on-the-environment","dfnText":"pending on the environment","external":false,"refSections":[{"refs":[{"id":"ref-for-fontfaceset-pending-on-the-environment"}],"title":"3. \nThe FontFaceSet Interface"},{"refs":[{"id":"ref-for-fontfaceset-pending-on-the-environment\u2460"},{"id":"ref-for-fontfaceset-pending-on-the-environment\u2461"},{"id":"ref-for-fontfaceset-pending-on-the-environment\u2462"}],"title":"3.1. \nEvents"}],"url":"#fontfaceset-pending-on-the-environment"},
"fontfaceset-set-entries": {"dfnID":"fontfaceset-set-entries","dfnText":"set entries","external":false,"refSections":[{"refs":[{"id":"ref-for-fontfaceset-set-entries"},{"id":"ref-for-fontfaceset-set-entries\u2460"},{"id":"ref-for-fontfaceset-set-entries\u2461"},{"id":"ref-for-fontfaceset-set-entries\u2462"},{"id":"ref-for-fontfaceset-set-entries\u2463"}],"title":"3. \nThe FontFaceSet Interface"},{"refs":[{"id":"ref-for-fontfaceset-set-entries\u2464"}],"title":"4.2. \nInteraction with CSS\u2019s @font-face Rule"}],"url":"#fontfaceset-set-entries"},
"fontfaceset-stuck-on-the-environment": {"dfnID":"fontfaceset-stuck-on-the-environment","dfnText":"stuck on the environment","external":false,"refSections":[{"refs":[{"id":"ref-for-fontfaceset-stuck-on-the-environment"},{"id":"ref-for-fontfaceset-stuck-on-the-environment\u2460"}],"title":"3.1. \nEvents"}],"url":"#fontfaceset-stuck-on-the-environment"},
"fontfacesetloadevent": {"dfnID":"fontfacesetloadevent","dfnText":"FontFaceSetLoadEvent","external":false,"refSections":[{"refs":[{"id":"ref-for-fontfacesetloadevent"}],"title":"3.1. \nEvents"}],"url":"#fontfacesetloadevent"},
"fontfacesource": {"dfnID":"fontfacesource","dfnText":"FontFaceSource","external":false,"refSections":[{"refs":[{"id":"ref-for-fontfacesource"},{"id":"ref-for-fontfacesource\u2460"},{"id":"ref-for-fontfacesource\u2461"}],"title":"4. \nThe FontFaceSource Mixin"}],"url":"#fontfacesource"},
"switch-the-fontfaceset-to-loaded": {"dfnID":"switch-the-fontfaceset-to-loaded","dfnText":"switch the FontFaceSet to loaded","external":false,"refSections":[{"refs":[{"id":"ref-for-switch-the-fontfaceset-to-loaded"},{"id":"ref-for-switch-the-fontfaceset-to-loaded\u2460"}],"title":"2.1. \nThe Constructor"},{"refs":[{"id":"ref-for-switch-the-fontfaceset-to-loaded\u2461"},{"id":"ref-for-switch-the-fontfaceset-to-loaded\u2462"}],"title":"2.2. \nThe load() method"},{"refs":[{"id":"ref-for-switch-the-fontfaceset-to-loaded\u2463"},{"id":"ref-for-switch-the-fontfaceset-to-loaded\u2464"}],"title":"3. \nThe FontFaceSet Interface"},{"refs":[{"id":"ref-for-switch-the-fontfaceset-to-loaded\u2465"}],"title":"3.1. \nEvents"}],"url":"#switch-the-fontfaceset-to-loaded"},
"switch-the-fontfaceset-to-loading": {"dfnID":"switch-the-fontfaceset-to-loading","dfnText":"switch the FontFaceSet to loading","external":false,"refSections":[{"refs":[{"id":"ref-for-switch-the-fontfaceset-to-loading"}],"title":"2.1. \nThe Constructor"},{"refs":[{"id":"ref-for-switch-the-fontfaceset-to-loading\u2460"}],"title":"3. \nThe FontFaceSet Interface"}],"url":"#switch-the-fontfaceset-to-loading"},
"typedefdef-binarydata": {"dfnID":"typedefdef-binarydata","dfnText":"BinaryData","external":false,"refSections":[{"refs":[{"id":"ref-for-typedefdef-binarydata"}],"title":"2. \nThe FontFace Interface"},{"refs":[{"id":"ref-for-typedefdef-binarydata\u2460"}],"title":"2.1. \nThe Constructor"}],"url":"#typedefdef-binarydata"},
};

document.addEventListener("DOMContentLoaded", ()=>{
    genAllDfnPanels();

    document.body.addEventListener("click", (e) => {
        // If not handled already, just hide all dfn panels.
        hideAllDfnPanels();
    });
});

window.addEventListener("resize", () => {
    // Pin any visible dfn panel
    queryAll(".dfn-panel.on, .dfn-panel.activated").forEach(el=>positionDfnPanel(el));
});

function genAllDfnPanels() {
    for(const panelData of Object.values(dfnPanelData)) {
        const dfnID = panelData.dfnID;
        const dfn = document.getElementById(dfnID);
        if(!dfn) {
            console.log(`Can't find dfn#${dfnID}.`, panelData);
            continue;
        }
        dfn.panelData = panelData;
        insertDfnPopupAction(dfn);
    }
}

function genDfnPanel(dfn, { dfnID, url, dfnText, refSections, external }) {
    const dfnPanel = mk.aside({
        class: "dfn-panel on",
        id: `infopanel-for-${dfnID}`,
        "data-for": dfnID,
        "aria-labelled-by":`infopaneltitle-for-${dfnID}`,
        },
        mk.span({id:`infopaneltitle-for-${dfnID}`, style:"display:none"},
            `Info about the '${dfnText}' ${external?"external":""} reference.`),
        mk.a({href:url, class:"dfn-link"}, url),
        refSections.length == 0 ? [] :
            mk.b({}, "Referenced in:"),
            mk.ul({},
                ...refSections.map(section=>
                    mk.li({},
                        ...section.refs.map((ref, refI)=>
                            [
                                mk.a({ href: `#${ref.id}` },
                                    (refI == 0) ? section.title : `(${refI + 1})`
                                ),
                                " ",
                            ]
                        ),
                    ),
                ),
            ),
        genLinkingSyntaxes(dfn),
    );

    dfnPanel.addEventListener('click', (event) => {
        if (event.target.nodeName == 'A') {
            scrollToTargetAndHighlight(event);
            pinDfnPanel(dfnPanel);
        }
        event.stopPropagation();
        refocusOnTarget(event);
    });
    dfnPanel.addEventListener('keydown', (event) => {
        if(event.keyCode == 27) { // Escape key
            hideDfnPanel({dfnPanel});
            event.stopPropagation();
            event.preventDefault();
        }
    });

    dfnPanel.dfn = dfn;
    dfn.dfnPanel = dfnPanel;
    return dfnPanel;
}



function hideAllDfnPanels() {
    // Delete the currently-active dfn panel.
    queryAll(".dfn-panel").forEach(dfnPanel=>hideDfnPanel({dfnPanel}));
}

function showDfnPanel(dfn) {
    hideAllDfnPanels(); // Only display one at a time.

    dfn.setAttribute("aria-expanded", "true");

    const dfnPanel = genDfnPanel(dfn, dfn.panelData);

    // Give the dfn a unique tabindex, and then
    // give all the tabbable panel bits successive indexes.
    let tabIndex = 100;
    dfn.tabIndex = tabIndex++;
    const tabbable = dfnPanel.querySelectorAll(":is(a, button)");
    for (const el of tabbable) {
        el.tabIndex = tabIndex++;
    }

    append(document.body, dfnPanel);
    positionDfnPanel(dfnPanel);
}

function positionDfnPanel(dfnPanel) {
    const dfn = dfnPanel.dfn;
    const dfnPos = getBounds(dfn);
    dfnPanel.style.top = dfnPos.bottom + "px";
    dfnPanel.style.left = dfnPos.left + "px";

    const panelPos = dfnPanel.getBoundingClientRect();
    const panelMargin = 8;
    const maxRight = document.body.parentNode.clientWidth - panelMargin;
    if (panelPos.right > maxRight) {
        const overflowAmount = panelPos.right - maxRight;
        const newLeft = Math.max(panelMargin, dfnPos.left - overflowAmount);
        dfnPanel.style.left = newLeft + "px";
    }
}

function pinDfnPanel(dfnPanel) {
    // Switch it to "activated" state, which pins it.
    dfnPanel.classList.add("activated");
    dfnPanel.style.position = "fixed";
    dfnPanel.style.left = null;
    dfnPanel.style.top = null;
}

function hideDfnPanel({dfn, dfnPanel}) {
    if(!dfnPanel) dfnPanel = dfn.dfnPanel;
    if(!dfn) dfn = dfnPanel.dfn;
    dfn.dfnPanel = undefined;
    dfnPanel.dfn = undefined;
    dfn.setAttribute("aria-expanded", "false");
    dfn.tabIndex = undefined;
    dfnPanel.remove()
}

function toggleDfnPanel(dfn) {
    if(dfn.dfnPanel) {
        hideDfnPanel(dfn);
    } else {
        showDfnPanel(dfn);
    }
}

function insertDfnPopupAction(dfn) {
    dfn.setAttribute('role', 'button');
    dfn.setAttribute('aria-expanded', 'false')
    dfn.tabIndex = 0;
    dfn.classList.add('has-dfn-panel');
    dfn.addEventListener('click', (event) => {
        toggleDfnPanel(dfn);
        event.stopPropagation();
    });
    dfn.addEventListener('keypress', (event) => {
        const kc = event.keyCode;
        // 32->Space, 13->Enter
        if(kc == 32 || kc == 13) {
            toggleDfnPanel(dfn);
            event.stopPropagation();
            event.preventDefault();
        }
    });
}

function refocusOnTarget(event) {
    const target = event.target;
    setTimeout(() => {
        // Refocus on the event.target element.
        // This is needed after browser scrolls to the destination.
        target.focus();
    });
}

// TODO: shared util
// Returns the root-level absolute position {left and top} of element.
function getBounds(el, relativeTo=document.body) {
    const relativeRect = relativeTo.getBoundingClientRect();
    const elRect = el.getBoundingClientRect();
    const top = elRect.top - relativeRect.top;
    const left = elRect.left - relativeRect.left;
    return {
        top,
        left,
        bottom: top + elRect.height,
        right: left + elRect.width,
    }
}

function scrollToTargetAndHighlight(event) {
    let hash = event.target.hash;
    if (hash) {
        hash = decodeURIComponent(hash.substring(1));
        const dest = document.getElementById(hash);
        if (dest) {
            dest.classList.add('highlighted');
            setTimeout(() => dest.classList.remove('highlighted'), 1000);
        }
    }
}

// Functions, divided by link type, that wrap an autolink's
// contents with the appropriate outer syntax.
// Alternately, a string naming another type they format
// the same as.
function needsFor(type) {
    switch(type) {
        case "descriptor":
        case "value":
        case "element-attr":
        case "attr-value":
        case "element-state":
        case "method":
        case "constructor":
        case "argument":
        case "attribute":
        case "const":
        case "dict-member":
        case "event":
        case "enum-value":
        case "stringifier":
        case "serializer":
        case "iterator":
        case "maplike":
        case "setlike":
        case "state":
        case "mode":
        case "context":
        case "facet": return true;

        default: return false;
    }
}
function refusesFor(type) {
    switch(type) {
        case "property":
        case "element":
        case "interface":
        case "namespace":
        case "callback":
        case "dictionary":
        case "enum":
        case "exception":
        case "typedef":
        case "http-header":
        case "permission": return true;

        default: return false;
    }
}
function linkFormatterFromType(type) {
    switch(type) {
        case 'scheme':
        case 'permission':
        case 'dfn': return (text) => `[=${text}=]`;

        case 'abstract-op': return (text) => `[\$${text}\$]`;

        case 'function':
        case 'at-rule':
        case 'selector':
        case 'value': return (text) => `''${text}''`;

        case 'http-header': return (text) => `[:${text}:]`;

        case 'interface':
        case 'constructor':
        case 'method':
        case 'argument':
        case 'attribute':
        case 'callback':
        case 'dictionary':
        case 'dict-member':
        case 'enum':
        case 'enum-value':
        case 'exception':
        case 'const':
        case 'typedef':
        case 'stringifier':
        case 'serializer':
        case 'iterator':
        case 'maplike':
        case 'setlike':
        case 'extended-attribute':
        case 'event':
        case 'idl': return (text) => `{{${text}}}`;

        case 'element-state':
        case 'element-attr':
        case 'attr-value':
        case 'element': return (element) => `<{${element}}>`;

        case 'grammar': return (text) => `${text} (within a <pre class=prod>)`;

        case 'type': return (text)=> `<<${text}>>`;

        case 'descriptor':
        case 'property': return (text) => `'${text}'`;

        default: return;
    };
};

function genLinkingSyntaxes(dfn) {
    if(dfn.tagName != "DFN") return;

    const type = dfn.getAttribute('data-dfn-type');
    if(!type) {
        console.log(`<dfn> doesn't have a data-dfn-type:`, dfn);
        return [];
    }

    // Return a function that wraps link text based on the type
    const linkFormatter = linkFormatterFromType(type);
    if(!linkFormatter) {
        console.log(`<dfn> has an unknown data-dfn-type:`, dfn);
        return [];
    }

    let ltAlts;
    if(dfn.hasAttribute('data-lt')) {
        ltAlts = dfn.getAttribute('data-lt')
            .split("|")
            .map(x=>x.trim());
    } else {
        ltAlts = [dfn.textContent.trim()];
    }
    if(type == "type") {
        // lt of "<foo>", but "foo" is the interior;
        // <<foo/bar>> is how you write it with a for,
        // not <foo/<bar>> or whatever.
        for(var i = 0; i < ltAlts.length; i++) {
            const lt = ltAlts[i];
            const match = /<(.*)>/.exec(lt);
            if(match) { ltAlts[i] = match[1]; }
        }
    }

    let forAlts;
    if(dfn.hasAttribute('data-dfn-for')) {
        forAlts = dfn.getAttribute('data-dfn-for')
            .split(",")
            .map(x=>x.trim());
    } else {
        forAlts = [''];
    }

    let linkingSyntaxes = [];
    if(!needsFor(type)) {
        for(const lt of ltAlts) {
            linkingSyntaxes.push(linkFormatter(lt));
        }
    }
    if(!refusesFor(type)) {
        for(const f of forAlts) {
            linkingSyntaxes.push(linkFormatter(`${f}/${ltAlts[0]}`))
        }
    }
    return [
        mk.b({}, 'Possible linking syntaxes:'),
        mk.ul({},
            ...linkingSyntaxes.map(link => {
                const copyLink = async () =>
                    await navigator.clipboard.writeText(link);
                return mk.li({},
                    mk.div({ class: 'link-item' },
                        mk.button({
                            class: 'copy-icon', title: 'Copy',
                            type: 'button',
                            _onclick: copyLink,
                            tabindex: 0,
                        }, mk.span({ class: 'icon' }) ),
                        mk.span({}, link)
                    )
                );
            })
        )
    ];
}
}
</script>
<script>/* Boilerplate: script-position-annos */
"use strict";
{
function repositionAnnoPanels(){
    const panels = [...document.querySelectorAll("[data-anno-for]")];
    hydratePanels(panels);
    let vSoFar = 0;
    for(const panel of panels.sort(cmpTops)) {
        if(panel.top < vSoFar) {
            panel.top = vSoFar;
            panel.style.top = vSoFar + "px";
        }
        vSoFar = panel.top + panel.height + 15;
    }
}
function hydratePanels(panels) {
    const main = document.querySelector("main");
    let mainRect;
    if(main) mainRect = main.getBoundingClientRect();
    // First display them all, if they're not already visible.
    for(const panel of panels) {
        panel.classList.remove("unpositioned");
    }
    // Measure them all
    for(const panel of panels) {
        const dfn = document.getElementById(panel.getAttribute("data-anno-for"));
        if(!dfn) {
            console.log("Can't find the annotation panel target:", panel);
            continue;
        }
        panel.dfn = dfn;
        panel.top = window.scrollY + dfn.getBoundingClientRect().top;
        let panelRect = panel.getBoundingClientRect();
        panel.height = panelRect.height;
        if(main) {
            panel.overlappingMain = panelRect.left < mainRect.right;
        } else {
            panel.overlappingMain = false;
        }
    }
    // And finally position them
    for(const panel of panels) {
        const dfn = panel.dfn;
        if(!dfn) continue;
        panel.style.top = panel.top + "px";
        panel.classList.toggle("overlapping-main", panel.overlappingMain);
    }
}

function cmpTops(a,b) {
    return a.top - b.top;
}

window.addEventListener("load", repositionAnnoPanels);
window.addEventListener("resize", repositionAnnoPanels);
}
</script>
<script>/* Boilerplate: script-ref-hints */
"use strict";
{
let refsData = {
"#available-font-faces": {"export":true,"for_":[],"level":"3","normative":true,"shortname":"css-font-loading","spec":"css-font-loading-3","status":"local","text":"available font faces","type":"dfn","url":"#available-font-faces"},
"#css-connected": {"export":true,"for_":[],"level":"3","normative":true,"shortname":"css-font-loading","spec":"css-font-loading-3","status":"local","text":"css-connected","type":"dfn","url":"#css-connected"},
"#dictdef-fontfacedescriptors": {"export":true,"for_":[],"level":"3","normative":true,"shortname":"css-font-loading","spec":"css-font-loading-3","status":"local","text":"FontFaceDescriptors","type":"dictionary","url":"#dictdef-fontfacedescriptors"},
"#dictdef-fontfacesetloadeventinit": {"export":true,"for_":[],"level":"3","normative":true,"shortname":"css-font-loading","spec":"css-font-loading-3","status":"local","text":"FontFaceSetLoadEventInit","type":"dictionary","url":"#dictdef-fontfacesetloadeventinit"},
"#dom-fontface-ascentoverride": {"export":true,"for_":["FontFace"],"level":"3","normative":true,"shortname":"css-font-loading","spec":"css-font-loading-3","status":"local","text":"ascentOverride","type":"attribute","url":"#dom-fontface-ascentoverride"},
"#dom-fontface-data-slot": {"export":true,"for_":["FontFace"],"level":"3","normative":true,"shortname":"css-font-loading","spec":"css-font-loading-3","status":"local","text":"[[Data]]","type":"attribute","url":"#dom-fontface-data-slot"},
"#dom-fontface-descentoverride": {"export":true,"for_":["FontFace"],"level":"3","normative":true,"shortname":"css-font-loading","spec":"css-font-loading-3","status":"local","text":"descentOverride","type":"attribute","url":"#dom-fontface-descentoverride"},
"#dom-fontface-display": {"export":true,"for_":["FontFace"],"level":"3","normative":true,"shortname":"css-font-loading","spec":"css-font-loading-3","status":"local","text":"display","type":"attribute","url":"#dom-fontface-display"},
"#dom-fontface-family": {"export":true,"for_":["FontFace"],"level":"3","normative":true,"shortname":"css-font-loading","spec":"css-font-loading-3","status":"local","text":"family","type":"attribute","url":"#dom-fontface-family"},
"#dom-fontface-featuresettings": {"export":true,"for_":["FontFace"],"level":"3","normative":true,"shortname":"css-font-loading","spec":"css-font-loading-3","status":"local","text":"featureSettings","type":"attribute","url":"#dom-fontface-featuresettings"},
"#dom-fontface-fontface": {"export":true,"for_":["FontFace"],"level":"3","normative":true,"shortname":"css-font-loading","spec":"css-font-loading-3","status":"local","text":"FontFace(family, source, descriptors)","type":"constructor","url":"#dom-fontface-fontface"},
"#dom-fontface-fontface-family-source-descriptors-descriptors": {"export":true,"for_":["FontFace/FontFace(family, source)","FontFace/FontFace(family, source, descriptors)","FontFace/constructor(family, source)","FontFace/constructor(family, source, descriptors)"],"level":"3","normative":true,"shortname":"css-font-loading","spec":"css-font-loading-3","status":"local","text":"descriptors","type":"argument","url":"#dom-fontface-fontface-family-source-descriptors-descriptors"},
"#dom-fontface-fontface-family-source-descriptors-family": {"export":true,"for_":["FontFace/FontFace(family, source)","FontFace/FontFace(family, source, descriptors)","FontFace/constructor(family, source)","FontFace/constructor(family, source, descriptors)"],"level":"3","normative":true,"shortname":"css-font-loading","spec":"css-font-loading-3","status":"local","text":"family","type":"argument","url":"#dom-fontface-fontface-family-source-descriptors-family"},
"#dom-fontface-fontface-family-source-descriptors-source": {"export":true,"for_":["FontFace/FontFace(family, source)","FontFace/FontFace(family, source, descriptors)","FontFace/constructor(family, source)","FontFace/constructor(family, source, descriptors)"],"level":"3","normative":true,"shortname":"css-font-loading","spec":"css-font-loading-3","status":"local","text":"source","type":"argument","url":"#dom-fontface-fontface-family-source-descriptors-source"},
"#dom-fontface-fontstatuspromise-slot": {"export":true,"for_":["FontFace"],"level":"3","normative":true,"shortname":"css-font-loading","spec":"css-font-loading-3","status":"local","text":"[[FontStatusPromise]]","type":"attribute","url":"#dom-fontface-fontstatuspromise-slot"},
"#dom-fontface-linegapoverride": {"export":true,"for_":["FontFace"],"level":"3","normative":true,"shortname":"css-font-loading","spec":"css-font-loading-3","status":"local","text":"lineGapOverride","type":"attribute","url":"#dom-fontface-linegapoverride"},
"#dom-fontface-load": {"export":true,"for_":["FontFace"],"level":"3","normative":true,"shortname":"css-font-loading","spec":"css-font-loading-3","status":"local","text":"load()","type":"method","url":"#dom-fontface-load"},
"#dom-fontface-loaded": {"export":true,"for_":["FontFace"],"level":"3","normative":true,"shortname":"css-font-loading","spec":"css-font-loading-3","status":"local","text":"loaded","type":"attribute","url":"#dom-fontface-loaded"},
"#dom-fontface-status": {"export":true,"for_":["FontFace"],"level":"3","normative":true,"shortname":"css-font-loading","spec":"css-font-loading-3","status":"local","text":"status","type":"attribute","url":"#dom-fontface-status"},
"#dom-fontface-stretch": {"export":true,"for_":["FontFace"],"level":"3","normative":true,"shortname":"css-font-loading","spec":"css-font-loading-3","status":"local","text":"stretch","type":"attribute","url":"#dom-fontface-stretch"},
"#dom-fontface-style": {"export":true,"for_":["FontFace"],"level":"3","normative":true,"shortname":"css-font-loading","spec":"css-font-loading-3","status":"local","text":"style","type":"attribute","url":"#dom-fontface-style"},
"#dom-fontface-unicoderange": {"export":true,"for_":["FontFace"],"level":"3","normative":true,"shortname":"css-font-loading","spec":"css-font-loading-3","status":"local","text":"unicodeRange","type":"attribute","url":"#dom-fontface-unicoderange"},
"#dom-fontface-urls-slot": {"export":true,"for_":["FontFace"],"level":"3","normative":true,"shortname":"css-font-loading","spec":"css-font-loading-3","status":"local","text":"[[Urls]]","type":"attribute","url":"#dom-fontface-urls-slot"},
"#dom-fontface-variant": {"export":true,"for_":["FontFace"],"level":"3","normative":true,"shortname":"css-font-loading","spec":"css-font-loading-3","status":"local","text":"variant","type":"attribute","url":"#dom-fontface-variant"},
"#dom-fontface-variationsettings": {"export":true,"for_":["FontFace"],"level":"3","normative":true,"shortname":"css-font-loading","spec":"css-font-loading-3","status":"local","text":"variationSettings","type":"attribute","url":"#dom-fontface-variationsettings"},
"#dom-fontface-weight": {"export":true,"for_":["FontFace"],"level":"3","normative":true,"shortname":"css-font-loading","spec":"css-font-loading-3","status":"local","text":"weight","type":"attribute","url":"#dom-fontface-weight"},
"#dom-fontfaceset-add": {"export":true,"for_":["FontFaceSet"],"level":"3","normative":true,"shortname":"css-font-loading","spec":"css-font-loading-3","status":"local","text":"add(font)","type":"method","url":"#dom-fontfaceset-add"},
"#dom-fontfaceset-check": {"export":true,"for_":["FontFaceSet"],"level":"3","normative":true,"shortname":"css-font-loading","spec":"css-font-loading-3","status":"local","text":"check(font, text)","type":"method","url":"#dom-fontfaceset-check"},
"#dom-fontfaceset-check-font-text-font": {"export":true,"for_":["FontFaceSet/check(font, text)"],"level":"3","normative":true,"shortname":"css-font-loading","spec":"css-font-loading-3","status":"local","text":"font","type":"argument","url":"#dom-fontfaceset-check-font-text-font"},
"#dom-fontfaceset-check-font-text-text": {"export":true,"for_":["FontFaceSet/check(font, text)"],"level":"3","normative":true,"shortname":"css-font-loading","spec":"css-font-loading-3","status":"local","text":"text","type":"argument","url":"#dom-fontfaceset-check-font-text-text"},
"#dom-fontfaceset-clear": {"export":true,"for_":["FontFaceSet"],"level":"3","normative":true,"shortname":"css-font-loading","spec":"css-font-loading-3","status":"local","text":"clear()","type":"method","url":"#dom-fontfaceset-clear"},
"#dom-fontfaceset-delete": {"export":true,"for_":["FontFaceSet"],"level":"3","normative":true,"shortname":"css-font-loading","spec":"css-font-loading-3","status":"local","text":"delete(font)","type":"method","url":"#dom-fontfaceset-delete"},
"#dom-fontfaceset-failedfonts-slot": {"export":true,"for_":["FontFaceSet"],"level":"3","normative":true,"shortname":"css-font-loading","spec":"css-font-loading-3","status":"local","text":"[[FailedFonts]]","type":"attribute","url":"#dom-fontfaceset-failedfonts-slot"},
"#dom-fontfaceset-fontfaceset": {"export":true,"for_":["FontFaceSet"],"level":"3","normative":true,"shortname":"css-font-loading","spec":"css-font-loading-3","status":"local","text":"FontFaceSet(initialFaces)","type":"constructor","url":"#dom-fontfaceset-fontfaceset"},
"#dom-fontfaceset-fontfaceset-initialfaces-initialfaces": {"export":true,"for_":["FontFaceSet/FontFaceSet(initialFaces)","FontFaceSet/constructor(initialFaces)"],"level":"3","normative":true,"shortname":"css-font-loading","spec":"css-font-loading-3","status":"local","text":"initialFaces","type":"argument","url":"#dom-fontfaceset-fontfaceset-initialfaces-initialfaces"},
"#dom-fontfaceset-load": {"export":true,"for_":["FontFaceSet"],"level":"3","normative":true,"shortname":"css-font-loading","spec":"css-font-loading-3","status":"local","text":"load(font, text)","type":"method","url":"#dom-fontfaceset-load"},
"#dom-fontfaceset-load-font-text-font": {"export":true,"for_":["FontFaceSet/load(font, text)"],"level":"3","normative":true,"shortname":"css-font-loading","spec":"css-font-loading-3","status":"local","text":"font","type":"argument","url":"#dom-fontfaceset-load-font-text-font"},
"#dom-fontfaceset-load-font-text-text": {"export":true,"for_":["FontFaceSet/load(font, text)"],"level":"3","normative":true,"shortname":"css-font-loading","spec":"css-font-loading-3","status":"local","text":"text","type":"argument","url":"#dom-fontfaceset-load-font-text-text"},
"#dom-fontfaceset-loadedfonts-slot": {"export":true,"for_":["FontFaceSet"],"level":"3","normative":true,"shortname":"css-font-loading","spec":"css-font-loading-3","status":"local","text":"[[LoadedFonts]]","type":"attribute","url":"#dom-fontfaceset-loadedfonts-slot"},
"#dom-fontfaceset-loadingfonts-slot": {"export":true,"for_":["FontFaceSet"],"level":"3","normative":true,"shortname":"css-font-loading","spec":"css-font-loading-3","status":"local","text":"[[LoadingFonts]]","type":"attribute","url":"#dom-fontfaceset-loadingfonts-slot"},
"#dom-fontfaceset-onloading": {"export":true,"for_":["FontFaceSet"],"level":"3","normative":true,"shortname":"css-font-loading","spec":"css-font-loading-3","status":"local","text":"onloading","type":"attribute","url":"#dom-fontfaceset-onloading"},
"#dom-fontfaceset-onloadingdone": {"export":true,"for_":["FontFaceSet"],"level":"3","normative":true,"shortname":"css-font-loading","spec":"css-font-loading-3","status":"local","text":"onloadingdone","type":"attribute","url":"#dom-fontfaceset-onloadingdone"},
"#dom-fontfaceset-onloadingerror": {"export":true,"for_":["FontFaceSet"],"level":"3","normative":true,"shortname":"css-font-loading","spec":"css-font-loading-3","status":"local","text":"onloadingerror","type":"attribute","url":"#dom-fontfaceset-onloadingerror"},
"#dom-fontfaceset-ready": {"export":true,"for_":["FontFaceSet"],"level":"3","normative":true,"shortname":"css-font-loading","spec":"css-font-loading-3","status":"local","text":"ready","type":"attribute","url":"#dom-fontfaceset-ready"},
"#dom-fontfaceset-readypromise-slot": {"export":true,"for_":["FontFaceSet"],"level":"3","normative":true,"shortname":"css-font-loading","spec":"css-font-loading-3","status":"local","text":"[[ReadyPromise]]","type":"attribute","url":"#dom-fontfaceset-readypromise-slot"},
"#dom-fontfaceset-status": {"export":true,"for_":["FontFaceSet"],"level":"3","normative":true,"shortname":"css-font-loading","spec":"css-font-loading-3","status":"local","text":"status","type":"attribute","url":"#dom-fontfaceset-status"},
"#dom-fontfacesetloadevent-fontfaces": {"export":true,"for_":["FontFaceSetLoadEvent"],"level":"3","normative":true,"shortname":"css-font-loading","spec":"css-font-loading-3","status":"local","text":"fontfaces","type":"attribute","url":"#dom-fontfacesetloadevent-fontfaces"},
"#dom-fontfacesource-fonts": {"export":true,"for_":["FontFaceSource"],"level":"3","normative":true,"shortname":"css-font-loading","spec":"css-font-loading-3","status":"local","text":"fonts","type":"attribute","url":"#dom-fontfacesource-fonts"},
"#enumdef-fontfaceloadstatus": {"export":true,"for_":[],"level":"3","normative":true,"shortname":"css-font-loading","spec":"css-font-loading-3","status":"local","text":"FontFaceLoadStatus","type":"enum","url":"#enumdef-fontfaceloadstatus"},
"#enumdef-fontfacesetloadstatus": {"export":true,"for_":[],"level":"3","normative":true,"shortname":"css-font-loading","spec":"css-font-loading-3","status":"local","text":"FontFaceSetLoadStatus","type":"enum","url":"#enumdef-fontfacesetloadstatus"},
"#eventdef-fontfaceset-loading": {"export":true,"for_":["FontFaceSet"],"level":"3","normative":true,"shortname":"css-font-loading","spec":"css-font-loading-3","status":"local","text":"loading","type":"event","url":"#eventdef-fontfaceset-loading"},
"#eventdef-fontfaceset-loadingdone": {"export":true,"for_":["FontFaceSet"],"level":"3","normative":true,"shortname":"css-font-loading","spec":"css-font-loading-3","status":"local","text":"loadingdone","type":"event","url":"#eventdef-fontfaceset-loadingdone"},
"#eventdef-fontfaceset-loadingerror": {"export":true,"for_":["FontFaceSet"],"level":"3","normative":true,"shortname":"css-font-loading","spec":"css-font-loading-3","status":"local","text":"loadingerror","type":"event","url":"#eventdef-fontfaceset-loadingerror"},
"#find-the-matching-font-faces": {"export":true,"for_":[],"level":"3","normative":true,"shortname":"css-font-loading","spec":"css-font-loading-3","status":"local","text":"find the matching font faces","type":"dfn","url":"#find-the-matching-font-faces"},
"#fire-a-font-load-event": {"export":true,"for_":[],"level":"3","normative":true,"shortname":"css-font-loading","spec":"css-font-loading-3","status":"local","text":"fire a font load event","type":"dfn","url":"#fire-a-font-load-event"},
"#font-source": {"export":true,"for_":[],"level":"3","normative":true,"shortname":"css-font-loading","spec":"css-font-loading-3","status":"local","text":"font source","type":"dfn","url":"#font-source"},
"#fontface": {"export":true,"for_":[],"level":"3","normative":true,"shortname":"css-font-loading","spec":"css-font-loading-3","status":"local","text":"FontFace","type":"interface","url":"#fontface"},
"#fontfaceset": {"export":true,"for_":[],"level":"3","normative":true,"shortname":"css-font-loading","spec":"css-font-loading-3","status":"local","text":"FontFaceSet","type":"interface","url":"#fontfaceset"},
"#fontfaceset-pending-on-the-environment": {"export":true,"for_":["FontFaceSet"],"level":"3","normative":true,"shortname":"css-font-loading","spec":"css-font-loading-3","status":"local","text":"pending on the environment","type":"dfn","url":"#fontfaceset-pending-on-the-environment"},
"#fontfaceset-set-entries": {"export":true,"for_":["FontFaceSet"],"level":"3","normative":true,"shortname":"css-font-loading","spec":"css-font-loading-3","status":"local","text":"set entries","type":"dfn","url":"#fontfaceset-set-entries"},
"#fontfaceset-stuck-on-the-environment": {"export":true,"for_":["FontFaceSet"],"level":"3","normative":true,"shortname":"css-font-loading","spec":"css-font-loading-3","status":"local","text":"stuck on the environment","type":"dfn","url":"#fontfaceset-stuck-on-the-environment"},
"#fontfacesetloadevent": {"export":true,"for_":[],"level":"3","normative":true,"shortname":"css-font-loading","spec":"css-font-loading-3","status":"local","text":"FontFaceSetLoadEvent","type":"interface","url":"#fontfacesetloadevent"},
"#fontfacesource": {"export":true,"for_":[],"level":"3","normative":true,"shortname":"css-font-loading","spec":"css-font-loading-3","status":"local","text":"FontFaceSource","type":"interface","url":"#fontfacesource"},
"#switch-the-fontfaceset-to-loaded": {"export":true,"for_":[],"level":"3","normative":true,"shortname":"css-font-loading","spec":"css-font-loading-3","status":"local","text":"switch the fontfaceset to loaded","type":"dfn","url":"#switch-the-fontfaceset-to-loaded"},
"#switch-the-fontfaceset-to-loading": {"export":true,"for_":[],"level":"3","normative":true,"shortname":"css-font-loading","spec":"css-font-loading-3","status":"local","text":"switch the fontfaceset to loading","type":"dfn","url":"#switch-the-fontfaceset-to-loading"},
"#typedefdef-binarydata": {"export":true,"for_":[],"level":"3","normative":true,"shortname":"css-font-loading","spec":"css-font-loading-3","status":"local","text":"BinaryData","type":"typedef","url":"#typedefdef-binarydata"},
"https://dom.spec.whatwg.org/#dictdef-eventinit": {"export":true,"for_":[],"level":"1","normative":true,"shortname":"dom","spec":"dom","status":"current","text":"EventInit","type":"dictionary","url":"https://dom.spec.whatwg.org/#dictdef-eventinit"},
"https://dom.spec.whatwg.org/#document": {"export":true,"for_":[],"level":"1","normative":true,"shortname":"dom","spec":"dom","status":"current","text":"Document","type":"interface","url":"https://dom.spec.whatwg.org/#document"},
"https://dom.spec.whatwg.org/#event": {"export":true,"for_":[],"level":"1","normative":true,"shortname":"dom","spec":"dom","status":"current","text":"Event","type":"interface","url":"https://dom.spec.whatwg.org/#event"},
"https://dom.spec.whatwg.org/#eventtarget": {"export":true,"for_":[],"level":"1","normative":true,"shortname":"dom","spec":"dom","status":"current","text":"EventTarget","type":"interface","url":"https://dom.spec.whatwg.org/#eventtarget"},
"https://drafts.csswg.org/css-fonts-4/#propdef-font": {"export":true,"for_":[],"level":"4","normative":true,"shortname":"css-fonts","spec":"css-fonts-4","status":"current","text":"font","type":"property","url":"https://drafts.csswg.org/css-fonts-4/#propdef-font"},
"https://drafts.csswg.org/css-fonts-4/#valdef-font-weight-bolder": {"export":true,"for_":["font-weight"],"level":"4","normative":true,"shortname":"css-fonts","spec":"css-fonts-4","status":"current","text":"bolder","type":"value","url":"https://drafts.csswg.org/css-fonts-4/#valdef-font-weight-bolder"},
"https://drafts.csswg.org/css-fonts-4/#valdef-font-weight-normal": {"export":true,"for_":["font-weight"],"level":"4","normative":true,"shortname":"css-fonts","spec":"css-fonts-4","status":"current","text":"normal","type":"value","url":"https://drafts.csswg.org/css-fonts-4/#valdef-font-weight-normal"},
"https://drafts.csswg.org/css-fonts-5/#at-font-face-rule": {"export":true,"for_":[],"level":"5","normative":true,"shortname":"css-fonts","spec":"css-fonts-5","status":"current","text":"@font-face","type":"at-rule","url":"https://drafts.csswg.org/css-fonts-5/#at-font-face-rule"},
"https://drafts.csswg.org/css-syntax-3/#css-parse-something-according-to-a-css-grammar": {"export":true,"for_":["CSS"],"level":"3","normative":true,"shortname":"css-syntax","spec":"css-syntax-3","status":"current","text":"parse","type":"dfn","url":"https://drafts.csswg.org/css-syntax-3/#css-parse-something-according-to-a-css-grammar"},
"https://drafts.csswg.org/css-values-4/#css-wide-keywords": {"export":true,"for_":[],"level":"4","normative":true,"shortname":"css-values","spec":"css-values-4","status":"current","text":"css-wide keywords","type":"dfn","url":"https://drafts.csswg.org/css-values-4/#css-wide-keywords"},
"https://drafts.csswg.org/css-values-4/#funcdef-url": {"export":true,"for_":[],"level":"4","normative":true,"shortname":"css-values","spec":"css-values-4","status":"current","text":"url()","type":"function","url":"https://drafts.csswg.org/css-values-4/#funcdef-url"},
"https://drafts.csswg.org/cssom-1/#cssomstring": {"export":true,"for_":[],"level":"1","normative":true,"shortname":"cssom","spec":"cssom-1","status":"current","text":"CSSOMString","type":"interface","url":"https://drafts.csswg.org/cssom-1/#cssomstring"},
"https://drafts.csswg.org/cssom-1/#documentorshadowroot-document-or-shadow-root-css-style-sheets": {"export":true,"for_":["DocumentOrShadowRoot"],"level":"1","normative":true,"shortname":"cssom","spec":"cssom-1","status":"current","text":"document or shadow root css style sheets","type":"dfn","url":"https://drafts.csswg.org/cssom-1/#documentorshadowroot-document-or-shadow-root-css-style-sheets"},
"https://html.spec.whatwg.org/multipage/canvas.html#offscreencanvas": {"export":true,"for_":[],"level":"1","normative":true,"shortname":"html","spec":"html","status":"current","text":"OffscreenCanvas","type":"interface","url":"https://html.spec.whatwg.org/multipage/canvas.html#offscreencanvas"},
"https://html.spec.whatwg.org/multipage/webappapis.html#eventhandler": {"export":true,"for_":[],"level":"1","normative":true,"shortname":"html","spec":"html","status":"current","text":"EventHandler","type":"typedef","url":"https://html.spec.whatwg.org/multipage/webappapis.html#eventhandler"},
"https://html.spec.whatwg.org/multipage/workers.html#workerglobalscope": {"export":true,"for_":[],"level":"1","normative":true,"shortname":"html","spec":"html","status":"current","text":"WorkerGlobalScope","type":"interface","url":"https://html.spec.whatwg.org/multipage/workers.html#workerglobalscope"},
"https://webidl.spec.whatwg.org/#ArrayBufferView": {"export":true,"for_":[],"level":"1","normative":true,"shortname":"webidl","spec":"webidl","status":"current","text":"ArrayBufferView","type":"typedef","url":"https://webidl.spec.whatwg.org/#ArrayBufferView"},
"https://webidl.spec.whatwg.org/#Exposed": {"export":true,"for_":[],"level":"1","normative":true,"shortname":"webidl","spec":"webidl","status":"current","text":"Exposed","type":"extended-attribute","url":"https://webidl.spec.whatwg.org/#Exposed"},
"https://webidl.spec.whatwg.org/#SameObject": {"export":true,"for_":[],"level":"1","normative":true,"shortname":"webidl","spec":"webidl","status":"current","text":"SameObject","type":"extended-attribute","url":"https://webidl.spec.whatwg.org/#SameObject"},
"https://webidl.spec.whatwg.org/#dfn-set-entries": {"export":true,"for_":[],"level":"1","normative":true,"shortname":"webidl","spec":"webidl","status":"current","text":"set entries","type":"dfn","url":"https://webidl.spec.whatwg.org/#dfn-set-entries"},
"https://webidl.spec.whatwg.org/#idl-ArrayBuffer": {"export":true,"for_":[],"level":"1","normative":true,"shortname":"webidl","spec":"webidl","status":"current","text":"ArrayBuffer","type":"interface","url":"https://webidl.spec.whatwg.org/#idl-ArrayBuffer"},
"https://webidl.spec.whatwg.org/#idl-boolean": {"export":true,"for_":[],"level":"1","normative":true,"shortname":"webidl","spec":"webidl","status":"current","text":"boolean","type":"interface","url":"https://webidl.spec.whatwg.org/#idl-boolean"},
"https://webidl.spec.whatwg.org/#idl-frozen-array": {"export":true,"for_":[],"level":"1","normative":true,"shortname":"webidl","spec":"webidl","status":"current","text":"FrozenArray","type":"interface","url":"https://webidl.spec.whatwg.org/#idl-frozen-array"},
"https://webidl.spec.whatwg.org/#idl-promise": {"export":true,"for_":[],"level":"1","normative":true,"shortname":"webidl","spec":"webidl","status":"current","text":"Promise","type":"interface","url":"https://webidl.spec.whatwg.org/#idl-promise"},
"https://webidl.spec.whatwg.org/#idl-sequence": {"export":true,"for_":[],"level":"1","normative":true,"shortname":"webidl","spec":"webidl","status":"current","text":"sequence","type":"dfn","url":"https://webidl.spec.whatwg.org/#idl-sequence"},
"https://webidl.spec.whatwg.org/#idl-undefined": {"export":true,"for_":[],"level":"1","normative":true,"shortname":"webidl","spec":"webidl","status":"current","text":"undefined","type":"interface","url":"https://webidl.spec.whatwg.org/#idl-undefined"},
"https://webidl.spec.whatwg.org/#invalidmodificationerror": {"export":true,"for_":[],"level":"1","normative":true,"shortname":"webidl","spec":"webidl","status":"current","text":"InvalidModificationError","type":"exception","url":"https://webidl.spec.whatwg.org/#invalidmodificationerror"},
"https://webidl.spec.whatwg.org/#syntaxerror": {"export":true,"for_":[],"level":"1","normative":true,"shortname":"webidl","spec":"webidl","status":"current","text":"SyntaxError","type":"exception","url":"https://webidl.spec.whatwg.org/#syntaxerror"},
};

function mkRefHint(link, ref) {
    const linkText = link.textContent;
    let dfnTextElements = '';
    if (ref.text != linkText) {
        dfnTextElements =
            mk.li({},
                mk.b({}, "Term: "),
                mk.span({}, ref.text)
            );
    }
    const forList = ref.for_;
    let forListElements;
    if(forList.length == 0) {
        forListElements = [];
    } else if(forList.length == 1) {
        forListElements = mk.li({},
            mk.b({}, "For: "),
            mk.span({}, forList[0]),
        );
    } else {
        forListElements = mk.li({},
            mk.b({}, "For: "),
            mk.ul({},
                ...forList.map(forItem =>
                    mk.li({},
                        mk.span({}, forItem)
                    ),
                ),
            ),
        );
    }
    const url = ref.url;
    const safeUrl = encodeURIComponent(url);
    const hintPanel = mk.aside({
        class: "ref-hint",
        id: `ref-hint-for-${safeUrl}`,
        "data-for": url,
        "aria-labelled-by": `ref-hint-for-${safeUrl}`,
    },
        mk.ul({},
            dfnTextElements,
            mk.li({},
                mk.b({}, "URL: "),
                mk.a({ href: url, class: "ref" }, url),
            ),
            mk.li({},
                mk.b({}, "Type: "),
                mk.span({}, `${ref.type}`),
            ),
            mk.li({},
                mk.b({}, "Spec: "),
                mk.span({}, `${ref.spec ? ref.spec : ''}`),
            ),
            forListElements
        ),
    );
    hintPanel.forLink = link;
    setupRefHintEventListeners(link, hintPanel);
    return hintPanel;
}

function hideAllRefHints() {
    queryAll(".ref-hint").forEach(el=>hideRefHint(el));
}

function hideRefHint(refHint) {
    const link = refHint.forLink;
    link.setAttribute("aria-expanded", "false");
    if(refHint.teardownEventListeners) {
        refHint.teardownEventListeners();
    }
    refHint.remove();
}

function showRefHint(link) {
    if(link.classList.contains("dfn-link")) return;
    const url = link.getAttribute("href");
    const ref = refsData[url];
    if(!ref) return;

    hideAllRefHints(); // Only display one at this time.

    const refHint = mkRefHint(link, ref);
    append(document.body, refHint);
    link.setAttribute("aria-expanded", "true");
    positionRefHint(refHint);
}

function setupRefHintEventListeners(link, refHint) {
    if (refHint.teardownEventListeners) return;
    // Add event handlers to hide the refHint after the user moves away
    // from both the link and refHint, if not hovering either within one second.
    let timeout = null;
    const startHidingRefHint = (event) => {
        if (timeout) {
            clearTimeout(timeout);
        }
        timeout = setTimeout(() => {
            hideRefHint(refHint);
        }, 1000);
    }
    const resetHidingRefHint = (event) => {
        if (timeout) clearTimeout(timeout);
        timeout = null;
    };
    link.addEventListener("mouseleave", startHidingRefHint);
    link.addEventListener("mouseenter", resetHidingRefHint);
    link.addEventListener("blur", startHidingRefHint);
    link.addEventListener("focus", resetHidingRefHint);
    refHint.addEventListener("mouseleave", startHidingRefHint);
    refHint.addEventListener("mouseenter", resetHidingRefHint);
    refHint.addEventListener("blur", startHidingRefHint);
    refHint.addEventListener("focus", resetHidingRefHint);

    refHint.teardownEventListeners = () => {
        // remove event listeners
        resetHidingRefHint();
        link.removeEventListener("mouseleave", startHidingRefHint);
        link.removeEventListener("mouseenter", resetHidingRefHint);
        link.removeEventListener("blur", startHidingRefHint);
        link.removeEventListener("focus", resetHidingRefHint);
        refHint.removeEventListener("mouseleave", startHidingRefHint);
        refHint.removeEventListener("mouseenter", resetHidingRefHint);
        refHint.removeEventListener("blur", startHidingRefHint);
        refHint.removeEventListener("focus", resetHidingRefHint);
    };
}

function positionRefHint(refHint) {
    const link = refHint.forLink;
    const linkPos = getBounds(link);
    refHint.style.top = linkPos.bottom + "px";
    refHint.style.left = linkPos.left + "px";

    const panelPos = refHint.getBoundingClientRect();
    const panelMargin = 8;
    const maxRight = document.body.parentNode.clientWidth - panelMargin;
    if (panelPos.right > maxRight) {
        const overflowAmount = panelPos.right - maxRight;
        const newLeft = Math.max(panelMargin, linkPos.left - overflowAmount);
        refHint.style.left = newLeft + "px";
    }
}

// TODO: shared util
// Returns the root-level absolute position {left and top} of element.
function getBounds(el, relativeTo=document.body) {
    const relativeRect = relativeTo.getBoundingClientRect();
    const elRect = el.getBoundingClientRect();
    const top = elRect.top - relativeRect.top;
    const left = elRect.left - relativeRect.left;
    return {
        top,
        left,
        bottom: top + elRect.height,
        right: left + elRect.width,
    }
}

function showRefHintListener(e) {
    // If the target isn't in a link (or is a link),
    // just ignore it.
    let link = e.target.closest("a");
    if(!link) return;

    // If the target is in a ref-hint panel
    // (aka a link in the already-open one),
    // also just ignore it.
    if(link.closest(".ref-hint")) return;

    // Otherwise, show the panel for the link.
    showRefHint(link);
}

function hideAllHintsListener(e) {
    // If the click is inside a ref-hint panel, ignore it.
    if(e.target.closest(".ref-hint")) return;
    // Otherwise, close all the current panels.
    hideAllRefHints();
}

document.addEventListener("DOMContentLoaded", () => {
    document.body.addEventListener("mousedown", showRefHintListener);
    document.body.addEventListener("focus", showRefHintListener);

    document.body.addEventListener("click", hideAllHintsListener);
});

window.addEventListener("resize", () => {
    // Hide any open ref hint.
    hideAllRefHints();
});
}
</script>