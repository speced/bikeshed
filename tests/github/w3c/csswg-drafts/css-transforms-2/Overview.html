<!doctype html><html lang="en">
 <head>
  <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
  <meta content="width=device-width, initial-scale=1, shrink-to-fit=no" name="viewport">
  <title>CSS Transforms Module Level 2</title>
  <meta content="ED" name="w3c-status">
  <link href="https://www.w3.org/StyleSheets/TR/2021/W3C-ED" rel="stylesheet">
  <link href="https://www.w3.org/TR/css-transforms-2/" rel="canonical">
  <link href="https://drafts.csswg.org/csslogo.ico" rel="icon">
  <meta content="dark light" name="color-scheme">
  <link href="https://www.w3.org/StyleSheets/TR/2021/dark.css" media="(prefers-color-scheme: dark)" rel="stylesheet" type="text/css">
<style>/* Boilerplate: style-autolinks */
.css.css, .property.property, .descriptor.descriptor {
    color: var(--a-normal-text);
    font-size: inherit;
    font-family: inherit;
}
.css::before, .property::before, .descriptor::before {
    content: "‘";
}
.css::after, .property::after, .descriptor::after {
    content: "’";
}
.property, .descriptor {
    /* Don't wrap property and descriptor names */
    white-space: nowrap;
}
.type { /* CSS value <type> */
    font-style: italic;
}
pre .property::before, pre .property::after {
    content: "";
}
[data-link-type="property"]::before,
[data-link-type="propdesc"]::before,
[data-link-type="descriptor"]::before,
[data-link-type="value"]::before,
[data-link-type="function"]::before,
[data-link-type="at-rule"]::before,
[data-link-type="selector"]::before,
[data-link-type="maybe"]::before {
    content: "‘";
}
[data-link-type="property"]::after,
[data-link-type="propdesc"]::after,
[data-link-type="descriptor"]::after,
[data-link-type="value"]::after,
[data-link-type="function"]::after,
[data-link-type="at-rule"]::after,
[data-link-type="selector"]::after,
[data-link-type="maybe"]::after {
    content: "’";
}

[data-link-type].production::before,
[data-link-type].production::after,
.prod [data-link-type]::before,
.prod [data-link-type]::after {
    content: "";
}

[data-link-type=element],
[data-link-type=element-attr] {
    font-family: Menlo, Consolas, "DejaVu Sans Mono", monospace;
    font-size: .9em;
}
[data-link-type=element]::before { content: "<" }
[data-link-type=element]::after  { content: ">" }

[data-link-type=biblio] {
    white-space: pre;
}

@media (prefers-color-scheme: dark) {
    :root {
        --selflink-text: black;
        --selflink-bg: silver;
        --selflink-hover-text: white;
    }
}
</style>
<style>/* Boilerplate: style-colors */
/* Any --*-text not paired with a --*-bg is assumed to have a transparent bg */
:root {
    color-scheme: light dark;

    --text: black;
    --bg: white;

    --unofficial-watermark: url(https://www.w3.org/StyleSheets/TR/2016/logos/UD-watermark);

    --logo-bg: #1a5e9a;
    --logo-active-bg: #c00;
    --logo-text: white;

    --tocnav-normal-text: #707070;
    --tocnav-normal-bg: var(--bg);
    --tocnav-hover-text: var(--tocnav-normal-text);
    --tocnav-hover-bg: #f8f8f8;
    --tocnav-active-text: #c00;
    --tocnav-active-bg: var(--tocnav-normal-bg);

    --tocsidebar-text: var(--text);
    --tocsidebar-bg: #f7f8f9;
    --tocsidebar-shadow: rgba(0,0,0,.1);
    --tocsidebar-heading-text: hsla(203,20%,40%,.7);

    --toclink-text: var(--text);
    --toclink-underline: #3980b5;
    --toclink-visited-text: var(--toclink-text);
    --toclink-visited-underline: #054572;

    --heading-text: #005a9c;

    --hr-text: var(--text);

    --algo-border: #def;

    --del-text: red;
    --del-bg: transparent;
    --ins-text: #080;
    --ins-bg: transparent;

    --a-normal-text: #034575;
    --a-normal-underline: #bbb;
    --a-visited-text: var(--a-normal-text);
    --a-visited-underline: #707070;
    --a-hover-bg: rgba(75%, 75%, 75%, .25);
    --a-active-text: #c00;
    --a-active-underline: #c00;

    --blockquote-border: silver;
    --blockquote-bg: transparent;
    --blockquote-text: currentcolor;

    --issue-border: #e05252;
    --issue-bg: #fbe9e9;
    --issue-text: var(--text);
    --issueheading-text: #831616;

    --example-border: #e0cb52;
    --example-bg: #fcfaee;
    --example-text: var(--text);
    --exampleheading-text: #574b0f;

    --note-border: #52e052;
    --note-bg: #e9fbe9;
    --note-text: var(--text);
    --noteheading-text: hsl(120, 70%, 30%);
    --notesummary-underline: silver;

    --assertion-border: #aaa;
    --assertion-bg: #eee;
    --assertion-text: black;

    --advisement-border: orange;
    --advisement-bg: #fec;
    --advisement-text: var(--text);
    --advisementheading-text: #b35f00;

    --warning-border: red;
    --warning-bg: hsla(40,100%,50%,0.95);
    --warning-text: var(--text);

    --amendment-border: #330099;
    --amendment-bg: #F5F0FF;
    --amendment-text: var(--text);
    --amendmentheading-text: #220066;

    --def-border: #8ccbf2;
    --def-bg: #def;
    --def-text: var(--text);
    --defrow-border: #bbd7e9;

    --datacell-border: silver;

    --indexinfo-text: #707070;

    --indextable-hover-text: black;
    --indextable-hover-bg: #f7f8f9;

    --outdatedspec-bg: rgba(0, 0, 0, .5);
    --outdatedspec-text: black;
    --outdated-bg: maroon;
    --outdated-text: white;
    --outdated-shadow: red;

    --editedrec-bg: darkorange;
}

@media (prefers-color-scheme: dark) {
    :root {
        --text: #ddd;
        --bg: black;

        --unofficial-watermark: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='400' height='400'%3E%3Cg fill='%23100808' transform='translate(200 200) rotate(-45) translate(-200 -200)' stroke='%23100808' stroke-width='3'%3E%3Ctext x='50%25' y='220' style='font: bold 70px sans-serif; text-anchor: middle; letter-spacing: 6px;'%3EUNOFFICIAL%3C/text%3E%3Ctext x='50%25' y='305' style='font: bold 70px sans-serif; text-anchor: middle; letter-spacing: 6px;'%3EDRAFT%3C/text%3E%3C/g%3E%3C/svg%3E");

        --logo-bg: #1a5e9a;
        --logo-active-bg: #c00;
        --logo-text: white;

        --tocnav-normal-text: #999;
        --tocnav-normal-bg: var(--bg);
        --tocnav-hover-text: var(--tocnav-normal-text);
        --tocnav-hover-bg: #080808;
        --tocnav-active-text: #f44;
        --tocnav-active-bg: var(--tocnav-normal-bg);

        --tocsidebar-text: var(--text);
        --tocsidebar-bg: #080808;
        --tocsidebar-shadow: rgba(255,255,255,.1);
        --tocsidebar-heading-text: hsla(203,20%,40%,.7);

        --toclink-text: var(--text);
        --toclink-underline: #6af;
        --toclink-visited-text: var(--toclink-text);
        --toclink-visited-underline: #054572;

        --heading-text: #8af;

        --hr-text: var(--text);

        --algo-border: #456;

        --del-text: #f44;
        --del-bg: transparent;
        --ins-text: #4a4;
        --ins-bg: transparent;

        --a-normal-text: #6af;
        --a-normal-underline: #555;
        --a-visited-text: var(--a-normal-text);
        --a-visited-underline: var(--a-normal-underline);
        --a-hover-bg: rgba(25%, 25%, 25%, .2);
        --a-active-text: #f44;
        --a-active-underline: var(--a-active-text);

        --borderedblock-bg: rgba(255, 255, 255, .05);

        --blockquote-border: silver;
        --blockquote-bg: var(--borderedblock-bg);
        --blockquote-text: currentcolor;

        --issue-border: #e05252;
        --issue-bg: var(--borderedblock-bg);
        --issue-text: var(--text);
        --issueheading-text: hsl(0deg, 70%, 70%);

        --example-border: hsl(50deg, 90%, 60%);
        --example-bg: var(--borderedblock-bg);
        --example-text: var(--text);
        --exampleheading-text: hsl(50deg, 70%, 70%);

        --note-border: hsl(120deg, 100%, 35%);
        --note-bg: var(--borderedblock-bg);
        --note-text: var(--text);
        --noteheading-text: hsl(120, 70%, 70%);
        --notesummary-underline: silver;

        --assertion-border: #444;
        --assertion-bg: var(--borderedblock-bg);
        --assertion-text: var(--text);

        --advisement-border: orange;
        --advisement-bg: #222218;
        --advisement-text: var(--text);
        --advisementheading-text: #f84;

        --warning-border: red;
        --warning-bg: hsla(40,100%,20%,0.95);
        --warning-text: var(--text);

        --amendment-border: #330099;
        --amendment-bg: #080010;
        --amendment-text: var(--text);
        --amendmentheading-text: #cc00ff;

        --def-border: #8ccbf2;
        --def-bg: #080818;
        --def-text: var(--text);
        --defrow-border: #136;

        --datacell-border: silver;

        --indexinfo-text: #aaa;

        --indextable-hover-text: var(--text);
        --indextable-hover-bg: #181818;

        --outdatedspec-bg: rgba(255, 255, 255, .5);
        --outdatedspec-text: black;
        --outdated-bg: maroon;
        --outdated-text: white;
        --outdated-shadow: red;

        --editedrec-bg: darkorange;
    }
    /* In case a transparent-bg image doesn't expect to be on a dark bg,
       which is quite common in practice... */
    img { background: white; }
}
</style>
<style>/* Boilerplate: style-counters */
body {
    counter-reset: example figure issue;
}
.issue {
    counter-increment: issue;
}
.issue:not(.no-marker)::before {
    content: "Issue " counter(issue);
}

.example {
    counter-increment: example;
}
.example:not(.no-marker)::before {
    content: "Example " counter(example);
}
.invalid.example:not(.no-marker)::before,
.illegal.example:not(.no-marker)::before {
    content: "Invalid Example" counter(example);
}

figcaption {
    counter-increment: figure;
}
figcaption:not(.no-marker)::before {
    content: "Figure " counter(figure) " ";
}
</style>
<style>/* Boilerplate: style-dfn-panel */
:root {
    --dfnpanel-bg: #ddd;
    --dfnpanel-text: var(--text);
    --dfnpanel-target-bg: #ffc;
    --dfnpanel-target-outline: orange;
}
@media (prefers-color-scheme: dark) {
    :root {
        --dfnpanel-bg: #222;
        --dfnpanel-text: var(--text);
        --dfnpanel-target-bg: #333;
        --dfnpanel-target-outline: silver;
    }
}
.dfn-panel {
    position: absolute;
    z-index: 35;
    width: 20em;
    width: 300px;
    height: auto;
    max-height: 500px;
    overflow: auto;
    padding: 0.5em 0.75em;
    font: small Helvetica Neue, sans-serif, Droid Sans Fallback;
    background: var(--dfnpanel-bg);
    color: var(--dfnpanel-text);
    border: outset 0.2em;
    white-space: normal; /* in case it's moved into a pre */
}
.dfn-panel:not(.on) { display: none; }
.dfn-panel * { margin: 0; padding: 0; text-indent: 0; }
.dfn-panel > b { display: block; }
.dfn-panel a { color: var(--dfnpanel-text); }
.dfn-panel a:not(:hover) { text-decoration: none !important; border-bottom: none !important; }
.dfn-panel a:focus {
    outline: 5px auto Highlight;
    outline: 5px auto -webkit-focus-ring-color;
}
.dfn-panel > b + b { margin-top: 0.25em; }
.dfn-panel ul { padding: 0 0 0 1em; list-style: none; }
.dfn-panel li a {
    max-width: calc(300px - 1.5em - 1em);
    overflow: hidden;
    text-overflow: ellipsis;
}

.dfn-panel.activated {
    display: inline-block;
    position: fixed;
    left: 8px;
    bottom: 2em;
    margin: 0 auto;
    max-width: calc(100vw - 1.5em - .4em - .5em);
    max-height: 30vh;
    transition: left 1s ease-out, bottom 1s ease-out;
}

.dfn-panel .link-item:hover {
    text-decoration: underline;
}
.dfn-panel .link-item .copy-icon {
    opacity: 0;
}
.dfn-panel .link-item:hover .copy-icon,
.dfn-panel .link-item .copy-icon:focus {
    opacity: 1;
}

.dfn-panel .copy-icon {
    display: inline-block;
    margin-right: 0.5em;
    width: 0.85em;
    height: 1em;
    border-radius: 3px;
    background-color: #ccc;
    cursor: pointer;
}

.dfn-panel .copy-icon .icon {
    width: 100%;
    height: 100%;
    background-color: #fff;
    display: flex;
    justify-content: center;
    align-items: center;
    position: relative;
}

.dfn-panel .copy-icon .icon::before {
    content: "";
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    border: 1px solid black;
    background-color: #ccc;
    opacity: 0.25;
    transform: translate(3px, -3px);
}

.dfn-panel .copy-icon:active .icon::before {
    opacity: 1;
}

.dfn-paneled[role="button"] { cursor: help; }

.highlighted {
    animation: target-fade 3s;
}

@keyframes target-fade {
    from {
        background-color: var(--dfnpanel-target-bg);
        outline: 5px solid var(--dfnpanel-target-outline);
    }
    to {
        color: var(--a-normal-text);
        background-color: transparent;
        outline: transparent;
    }
}
</style>
<style>/* Boilerplate: style-issues */
a[href].issue-return {
    float: right;
    float: inline-end;
    color: var(--issueheading-text);
    font-weight: bold;
    text-decoration: none;
}
</style>
<style>/* Boilerplate: style-md-lists */
/* This is a weird hack for me not yet following the commonmark spec
   regarding paragraph and lists. */
[data-md] > :first-child {
    margin-top: 0;
}
[data-md] > :last-child {
    margin-bottom: 0;
}
</style>
<style>/* Boilerplate: style-mdn-anno */
:root {
	--mdn-bg: #EEE;
	--mdn-shadow: #999;
	--mdn-nosupport-text: #ccc;
	--mdn-pass: green;
	--mdn-fail: red;
}
@media (prefers-color-scheme: dark) {
	:root {
		--mdn-bg: #222;
		--mdn-shadow: #444;
		--mdn-nosupport-text: #666;
		--mdn-pass: #690;
		--mdn-fail: #d22;
	}
}
.mdn-anno {
	background: var(--mdn-bg, #EEE);
	border-radius: .25em;
	box-shadow: 0 0 3px var(--mdn-shadow, #999);
	color: var(--text, black);
	font: 1em sans-serif;
	hyphens: none;
	max-width: min-content;
	overflow: hidden;
	padding: 0.2em;
	position: absolute;
	right: 0.3em;
	top: auto;
	white-space: nowrap;
	word-wrap: normal;
	z-index: 8;
}
.mdn-anno.unpositioned {
	display: none;
}
.mdn-anno.overlapping-main {
	opacity: .2;
	transition: opacity .1s;
}
.mdn-anno[open] {
	opacity: 1;
	z-index: 9;
	min-width: 9em;
}
.mdn-anno:hover {
	opacity: 1;
	outline: var(--text, black) 1px solid;
}
.mdn-anno > summary {
	font-weight: normal;
	text-align: right;
	cursor: pointer;
	display: block;
}
.mdn-anno > summary > .less-than-two-engines-flag {
	color: var(--mdn-fail);
	padding-right: 2px;
}
.mdn-anno > summary > .all-engines-flag {
	color: var(--mdn-pass);
	padding-right: 2px;
}
.mdn-anno > summary > span {
	color: #fff;
	background-color: #000;
	font-weight: normal;
	font-family: zillaslab, Palatino, "Palatino Linotype", serif;
	padding: 2px 3px 0px 3px;
	line-height: 1.3em;
	vertical-align: top;
}
.mdn-anno > .feature {
	margin-top: 20px;
}
.mdn-anno > .feature:not(:first-of-type) {
	border-top: 1px solid #999;
	margin-top: 6px;
	padding-top: 2px;
}
.mdn-anno > .feature > .less-than-two-engines-text {
	color: var(--mdn-fail);
}
.mdn-anno > .feature > .all-engines-text {
	color: var(--mdn-pass);
}
.mdn-anno > .feature > p {
	font-size: .75em;
	margin-top: 6px;
	margin-bottom: 0;
}
.mdn-anno > .feature > p + p {
	margin-top: 3px;
}
.mdn-anno > .feature > .support {
	display: block;
	font-size: 0.6em;
	margin: 0;
	padding: 0;
	margin-top: 2px;
}
.mdn-anno > .feature > .support + div {
	padding-top: 0.5em;
}
.mdn-anno > .feature > .support > hr {
	display: block;
	border: none;
	border-top: 1px dotted #999;
	padding: 3px 0px 0px 0px;
	margin: 2px 3px 0px 3px;
}
.mdn-anno > .feature > .support > hr::before {
	content: "";
}
.mdn-anno > .feature > .support > span {
	padding: 0.2em 0;
	display: block;
	display: table;
}
.mdn-anno > .feature > .support > span.no {
	color: var(--mdn-nosupport-text);
	filter: grayscale(100%);
}
.mdn-anno > .feature > .support > span.no::before {
	opacity: 0.5;
}
.mdn-anno > .feature > .support > span:first-of-type {
	padding-top: 0.5em;
}
.mdn-anno > .feature > .support > span > span {
	padding: 0 0.5em;
	display: table-cell;
}
.mdn-anno > .feature > .support > span > span:first-child {
	width: 100%;
}
.mdn-anno > .feature > .support > span > span:last-child {
	width: 100%;
	white-space: pre;
	padding: 0;
}
.mdn-anno > .feature > .support > span::before {
	content: ' ';
	display: table-cell;
	min-width: 1.5em;
	height: 1.5em;
	background: no-repeat center center;
	background-size: contain;
	text-align: right;
	font-size: 0.75em;
	font-weight: bold;
}
.mdn-anno > .feature > .support > .chrome_android::before {
	background-image: url(https://resources.whatwg.org/browser-logos/chrome.svg);
}
.mdn-anno > .feature > .support > .firefox_android::before {
	background-image: url(https://resources.whatwg.org/browser-logos/firefox.png);
}
.mdn-anno > .feature > .support > .chrome::before {
	background-image: url(https://resources.whatwg.org/browser-logos/chrome.svg);
}
.mdn-anno > .feature > .support > .edge_blink::before {
	background-image: url(https://resources.whatwg.org/browser-logos/edge.svg);
}
.mdn-anno > .feature > .support > .edge::before {
	background-image: url(https://resources.whatwg.org/browser-logos/edge_legacy.svg);
}
.mdn-anno > .feature > .support > .firefox::before {
	background-image: url(https://resources.whatwg.org/browser-logos/firefox.png);
}
.mdn-anno > .feature > .support > .ie::before {
	background-image: url(https://resources.whatwg.org/browser-logos/ie.png);
}
.mdn-anno > .feature > .support > .safari_ios::before {
	background-image: url(https://resources.whatwg.org/browser-logos/safari-ios.svg);
}
.mdn-anno > .feature > .support > .nodejs::before {
	background-image: url(https://nodejs.org/static/images/favicons/favicon.ico);
}
.mdn-anno > .feature > .support > .opera_android::before {
	background-image: url(https://resources.whatwg.org/browser-logos/opera.svg);
}
.mdn-anno > .feature > .support > .opera::before {
	background-image: url(https://resources.whatwg.org/browser-logos/opera.svg);
}
.mdn-anno > .feature > .support > .safari::before {
	background-image: url(https://resources.whatwg.org/browser-logos/safari.png);
}
.mdn-anno > .feature > .support > .samsunginternet_android::before {
	background-image: url(https://resources.whatwg.org/browser-logos/samsung.svg);
}
.mdn-anno > .feature > .support > .webview_android::before {
	background-image: url(https://resources.whatwg.org/browser-logos/android-webview.png);
}
.name-slug-mismatch {
	color: red;
}
.caniuse-status:hover {
	z-index: 9;
}
/* dt, li, .issue, .note, and .example are "position: relative", so to put annotation at right margin, must move to right of containing block */;
.h-entry:not(.status-LS) dt > .mdn-anno, .h-entry:not(.status-LS) li > .mdn-anno, .h-entry:not(.status-LS) .issue > .mdn-anno, .h-entry:not(.status-LS) .note > .mdn-anno, .h-entry:not(.status-LS) .example > .mdn-anno {
	right: -6.7em;
}
.h-entry p + .mdn-anno {
	margin-top: 0;
}
 h2 + .mdn-anno.after {
	margin: -48px 0 0 0;
}
 h3 + .mdn-anno.after {
	margin: -46px 0 0 0;
}
 h4 + .mdn-anno.after {
	margin: -42px 0 0 0;
}
 h5 + .mdn-anno.after {
	margin: -40px 0 0 0;
}
 h6 + .mdn-anno.after {
	margin: -40px 0 0 0;
}
</style>
<style>/* Boilerplate: style-ref-hints */
:root {
    --ref-hint-bg: #ddd;
    --ref-hint-text: var(--text);
}
@media (prefers-color-scheme: dark) {
    :root {
        --ref-hint-bg: #222;
        --ref-hint-text: var(--text);
    }
}

.ref-hint {
    display: inline-block;
    position: absolute;
    z-index: 35;
    width: 20em;
    width: 300px;
    height: auto;
    max-height: 500px;
    overflow: auto;
    padding: 0.5em 0.5em;
    font: small Helvetica Neue, sans-serif, Droid Sans Fallback;
    background: var(--ref-hint-bg);
    color: var(--ref-hint-text);
    border: outset 0.2em;
    white-space: normal; /* in case it's moved into a pre */
}

.ref-hint * { margin: 0; padding: 0; text-indent: 0; }

.ref-hint ul { padding: 0 0 0 1em; list-style: none; }
</style>
<style>/* Boilerplate: style-selflinks */
:root {
    --selflink-text: white;
    --selflink-bg: gray;
    --selflink-hover-text: black;
}
.heading, .issue, .note, .example, li, dt {
    position: relative;
}
a.self-link {
    position: absolute;
    top: 0;
    left: calc(-1 * (3.5rem - 26px));
    width: calc(3.5rem - 26px);
    height: 2em;
    text-align: center;
    border: none;
    transition: opacity .2s;
    opacity: .5;
}
a.self-link:hover {
    opacity: 1;
}
.heading > a.self-link {
    font-size: 83%;
}
.example > a.self-link,
.note > a.self-link,
.issue > a.self-link {
    /* These blocks are overflow:auto, so positioning outside
       doesn't work. */
    left: auto;
    right: 0;
}
li > a.self-link {
    left: calc(-1 * (3.5rem - 26px) - 2em);
}
dfn > a.self-link {
    top: auto;
    left: auto;
    opacity: 0;
    width: 1.5em;
    height: 1.5em;
    background: var(--selflink-bg);
    color: var(--selflink-text);
    font-style: normal;
    transition: opacity .2s, background-color .2s, color .2s;
}
dfn:hover > a.self-link {
    opacity: 1;
}
dfn > a.self-link:hover {
    color: var(--selflink-hover-text);
}

a.self-link::before            { content: "¶"; }
.heading > a.self-link::before { content: "§"; }
dfn > a.self-link::before      { content: "#"; }
</style>
<style>/* Boilerplate: style-syntax-highlighting */
code.highlight { padding: .1em; border-radius: .3em; }
pre.highlight, pre > code.highlight { display: block; padding: 1em; margin: .5em 0; overflow: auto; border-radius: 0; }

.highlight:not(.idl) { background: rgba(0, 0, 0, .03); }
c-[a] { color: #990055 } /* Keyword.Declaration */
c-[b] { color: #990055 } /* Keyword.Type */
c-[c] { color: #708090 } /* Comment */
c-[d] { color: #708090 } /* Comment.Multiline */
c-[e] { color: #0077aa } /* Name.Attribute */
c-[f] { color: #669900 } /* Name.Tag */
c-[g] { color: #222222 } /* Name.Variable */
c-[k] { color: #990055 } /* Keyword */
c-[l] { color: #000000 } /* Literal */
c-[m] { color: #000000 } /* Literal.Number */
c-[n] { color: #0077aa } /* Name */
c-[o] { color: #999999 } /* Operator */
c-[p] { color: #999999 } /* Punctuation */
c-[s] { color: #a67f59 } /* Literal.String */
c-[t] { color: #a67f59 } /* Literal.String.Single */
c-[u] { color: #a67f59 } /* Literal.String.Double */
c-[cp] { color: #708090 } /* Comment.Preproc */
c-[c1] { color: #708090 } /* Comment.Single */
c-[cs] { color: #708090 } /* Comment.Special */
c-[kc] { color: #990055 } /* Keyword.Constant */
c-[kn] { color: #990055 } /* Keyword.Namespace */
c-[kp] { color: #990055 } /* Keyword.Pseudo */
c-[kr] { color: #990055 } /* Keyword.Reserved */
c-[ld] { color: #000000 } /* Literal.Date */
c-[nc] { color: #0077aa } /* Name.Class */
c-[no] { color: #0077aa } /* Name.Constant */
c-[nd] { color: #0077aa } /* Name.Decorator */
c-[ni] { color: #0077aa } /* Name.Entity */
c-[ne] { color: #0077aa } /* Name.Exception */
c-[nf] { color: #0077aa } /* Name.Function */
c-[nl] { color: #0077aa } /* Name.Label */
c-[nn] { color: #0077aa } /* Name.Namespace */
c-[py] { color: #0077aa } /* Name.Property */
c-[ow] { color: #999999 } /* Operator.Word */
c-[mb] { color: #000000 } /* Literal.Number.Bin */
c-[mf] { color: #000000 } /* Literal.Number.Float */
c-[mh] { color: #000000 } /* Literal.Number.Hex */
c-[mi] { color: #000000 } /* Literal.Number.Integer */
c-[mo] { color: #000000 } /* Literal.Number.Oct */
c-[sb] { color: #a67f59 } /* Literal.String.Backtick */
c-[sc] { color: #a67f59 } /* Literal.String.Char */
c-[sd] { color: #a67f59 } /* Literal.String.Doc */
c-[se] { color: #a67f59 } /* Literal.String.Escape */
c-[sh] { color: #a67f59 } /* Literal.String.Heredoc */
c-[si] { color: #a67f59 } /* Literal.String.Interpol */
c-[sx] { color: #a67f59 } /* Literal.String.Other */
c-[sr] { color: #a67f59 } /* Literal.String.Regex */
c-[ss] { color: #a67f59 } /* Literal.String.Symbol */
c-[vc] { color: #0077aa } /* Name.Variable.Class */
c-[vg] { color: #0077aa } /* Name.Variable.Global */
c-[vi] { color: #0077aa } /* Name.Variable.Instance */
c-[il] { color: #000000 } /* Literal.Number.Integer.Long */

@media (prefers-color-scheme: dark) {
    .highlight:not(.idl) { background: rgba(255, 255, 255, .05); }

    c-[a] { color: #d33682 } /* Keyword.Declaration */
    c-[b] { color: #d33682 } /* Keyword.Type */
    c-[c] { color: #2aa198 } /* Comment */
    c-[d] { color: #2aa198 } /* Comment.Multiline */
    c-[e] { color: #268bd2 } /* Name.Attribute */
    c-[f] { color: #b58900 } /* Name.Tag */
    c-[g] { color: #cb4b16 } /* Name.Variable */
    c-[k] { color: #d33682 } /* Keyword */
    c-[l] { color: #657b83 } /* Literal */
    c-[m] { color: #657b83 } /* Literal.Number */
    c-[n] { color: #268bd2 } /* Name */
    c-[o] { color: #657b83 } /* Operator */
    c-[p] { color: #657b83 } /* Punctuation */
    c-[s] { color: #6c71c4 } /* Literal.String */
    c-[t] { color: #6c71c4 } /* Literal.String.Single */
    c-[u] { color: #6c71c4 } /* Literal.String.Double */
    c-[ch] { color: #2aa198 } /* Comment.Hashbang */
    c-[cp] { color: #2aa198 } /* Comment.Preproc */
    c-[cpf] { color: #2aa198 } /* Comment.PreprocFile */
    c-[c1] { color: #2aa198 } /* Comment.Single */
    c-[cs] { color: #2aa198 } /* Comment.Special */
    c-[kc] { color: #d33682 } /* Keyword.Constant */
    c-[kn] { color: #d33682 } /* Keyword.Namespace */
    c-[kp] { color: #d33682 } /* Keyword.Pseudo */
    c-[kr] { color: #d33682 } /* Keyword.Reserved */
    c-[ld] { color: #657b83 } /* Literal.Date */
    c-[nc] { color: #268bd2 } /* Name.Class */
    c-[no] { color: #268bd2 } /* Name.Constant */
    c-[nd] { color: #268bd2 } /* Name.Decorator */
    c-[ni] { color: #268bd2 } /* Name.Entity */
    c-[ne] { color: #268bd2 } /* Name.Exception */
    c-[nf] { color: #268bd2 } /* Name.Function */
    c-[nl] { color: #268bd2 } /* Name.Label */
    c-[nn] { color: #268bd2 } /* Name.Namespace */
    c-[py] { color: #268bd2 } /* Name.Property */
    c-[ow] { color: #657b83 } /* Operator.Word */
    c-[mb] { color: #657b83 } /* Literal.Number.Bin */
    c-[mf] { color: #657b83 } /* Literal.Number.Float */
    c-[mh] { color: #657b83 } /* Literal.Number.Hex */
    c-[mi] { color: #657b83 } /* Literal.Number.Integer */
    c-[mo] { color: #657b83 } /* Literal.Number.Oct */
    c-[sa] { color: #6c71c4 } /* Literal.String.Affix */
    c-[sb] { color: #6c71c4 } /* Literal.String.Backtick */
    c-[sc] { color: #6c71c4 } /* Literal.String.Char */
    c-[dl] { color: #6c71c4 } /* Literal.String.Delimiter */
    c-[sd] { color: #6c71c4 } /* Literal.String.Doc */
    c-[se] { color: #6c71c4 } /* Literal.String.Escape */
    c-[sh] { color: #6c71c4 } /* Literal.String.Heredoc */
    c-[si] { color: #6c71c4 } /* Literal.String.Interpol */
    c-[sx] { color: #6c71c4 } /* Literal.String.Other */
    c-[sr] { color: #6c71c4 } /* Literal.String.Regex */
    c-[ss] { color: #6c71c4 } /* Literal.String.Symbol */
    c-[fm] { color: #268bd2 } /* Name.Function.Magic */
    c-[vc] { color: #cb4b16 } /* Name.Variable.Class */
    c-[vg] { color: #cb4b16 } /* Name.Variable.Global */
    c-[vi] { color: #cb4b16 } /* Name.Variable.Instance */
    c-[vm] { color: #cb4b16 } /* Name.Variable.Magic */
    c-[il] { color: #657b83 } /* Literal.Number.Integer.Long */
}
</style>
<style>/* Boilerplate: style-var-click-highlighting */
/*
Colors were chosen in Lab using https://nixsensor.com/free-color-converter/
D50 2deg illuminant, L in [0,100], a and b in [-128, 128]
0 = lab(85,0,85)
1 = lab(85,80,30)
2 = lab(85,-40,40)
3 = lab(85,-50,0)
4 = lab(85,5,15)
5 = lab(85,-10,-50)
6 = lab(85,35,-15)

For darkmode:
0 = oklab(50%   0%  108%)
1 = oklab(50% -51%   51%)
2 = oklab(50% -64%  -20%)
3 = oklab(50%   6%   19%)
4 = oklab(50% -12%  -64%)
5 = oklab(50%  44%  -19%)  
6 = oklab(50% 102%   38%)
*/

[data-algorithm] var { cursor: pointer; }
var[data-var-color] { background-color: var(--var-bg); box-shadow: 0 0 0 2px var(--var-bg); }

var[data-var-color] { --var-bg: #F4D200; }
var[data-var-color="1"] { --var-bg: #FF87A2; }
var[data-var-color="2"] { --var-bg: #96E885; }
var[data-var-color="3"] { --var-bg: #3EEED2; }
var[data-var-color="4"] { --var-bg: #EACFB6; }
var[data-var-color="5"] { --var-bg: #82DDFF; }
var[data-var-color="6"] { --var-vg: #FFBCF2; }

@media (prefers-color-scheme: dark) {
	var[data-var-color] { --var-bg: #bc1a00; }
	var[data-var-color="1"] { --var-bg: #007f00; }
	var[data-var-color="2"] { --var-bg: #008698; }
	var[data-var-color="3"] { --var-bg: #7f5b2b; }
	var[data-var-color="4"] { --var-bg: #004df3; }
	var[data-var-color="5"] { --var-bg: #a1248a; }
	var[data-var-color="6"] { --var-vg: #ff0000; }
}
</style>
<style>/* Boilerplate: style-wpt */
:root {
    --wpt-border: hsl(0, 0%, 60%);
    --wpt-bg: hsl(0, 0%, 95%);
    --wpt-text: var(--text);
    --wptheading-text: hsl(0, 0%, 30%);
}
@media (prefers-color-scheme: dark) {
    :root {
        --wpt-border: hsl(0, 0%, 30%);
        --wpt-bg: var(--borderedblock-bg);
        --wpt-text: var(--text);
        --wptheading-text: hsl(0, 0%, 60%);
    }
}
.wpt-tests-block {
    list-style: none;
    border-left: .5em solid var(--wpt-border);
    background: var(--wpt-bg);
    color: var(--wpt-text);
    margin: 1em auto;
    padding: .5em;
}
.wpt-tests-block summary {
    color: var(--wptheading-text);
    font-weight: normal;
    text-transform: uppercase;
}
.wpt-tests-block summary::marker{
    color: var(--wpt-border);
}
.wpt-tests-block summary:hover::marker{
    color: var(--wpt-text);
}
/*
   The only content  of a wpt test block in its closed state is the <summary>,
   which contains the word TESTS,
   and that is absolutely positioned.
   In that closed state, wpt test blocks are styled
   to have a top margin whose height is exactly equal
   to the height of the absolutely positioned <summary>,
   and no other background/padding/margin/border.
   The wpt test block elements will therefore allow the maring
   of the previous/next block elements
   to collapse through them;
   if this combined margin would be larger than its own top margin,
   it stays as is,
   and therefore the pre-existing vertical rhythm of the document is undisturbed.
   If that combined margin would be smaller, it is grown to that size.
   This means that the wpt test block ensures
   that there's always enough vertical space to insert the summary,
   without adding more than is needed.
*/
.wpt-tests-block:not([open]){
    padding: 0;
    border: none;
    background: none;
    font-size: 0.75em;
    line-height: 1;
    position: relative;
    margin: 1em 0 0;
}
.wpt-tests-block:not([open]) summary {
    position: absolute;
    right: 0;
    bottom: 0;
}
/*
   It is possible that both the last child of a block element
   and the block element itself
   would be annotated with a <wpt> block each.
   If the block element has a padding or a border,
   that's fine, but otherwise
   the bottom margin of the block and of its last child would collapse
   and both <wpt> elements would overlap, being both placed there.
   To avoid that, add 1px of padding to the <wpt> element annotating the last child
   to prevent the bottom margin of the block and of its last child from collapsing
   (and as much negative margin,
   as wel only want to prevent margin collapsing,
   but are not trying to actually take more space).
*/
.wpt-tests-block:not([open]):last-child {
    padding-bottom: 1px;
    margin-bottom: -1px;
}
/*
   Exception to the previous rule:
   don't do that in non-last list items,
   because it's not necessary,
   and would therefore consume more space than strictly needed.
   Lists must have list items as children, not <wpt> elements,
   so a <wpt> element cannot be a sibling of a list item,
   and the collision that the previous rule avoids cannot happen.
*/
li:not(:last-child) > .wpt-tests-block:not([open]):last-child,
dd:not(:last-child) > .wpt-tests-block:not([open]):last-child {
    padding-bottom: 0;
    margin-bottom: 0;
}
.wpt-tests-block:not([open]):not(:hover){
    opacity: 0.5;
}
.wpt-tests-list {
    list-style: none;
    display: grid;
    margin: 0;
    padding: 0;
    grid-template-columns: 1fr max-content auto auto;
    grid-column-gap: .5em;
}
.wpt-tests-block hr:last-child {
    display: none;
}
.wpt-test {
    display: contents;
}
.wpt-test > a {
    text-decoration: underline;
    border: none;
}
.wpt-test > .wpt-name { grid-column: 1; }
.wpt-test > .wpt-results { grid-column: 2; }
.wpt-test > .wpt-live { grid-column: 3; }
.wpt-test > .wpt-source { grid-column: 4; }

.wpt-test > .wpt-results {
    display: flex;
    gap: .1em;
}
.wpt-test .wpt-result {
    display: inline-block;
    height: 1em;
    width: 1em;
    border-radius: 50%;
    position: relative;
}
</style>
 <body class="h-entry">
  <div class="head">
   <p data-fill-with="logo"><a class="logo" href="https://www.w3.org/"> <img alt="W3C" height="48" src="https://www.w3.org/StyleSheets/TR/2021/logos/W3C" width="72"> </a> </p>
   <h1 class="p-name no-ref" id="title">CSS Transforms Module Level 2</h1>
   <p id="w3c-state"><a href="https://www.w3.org/standards/types#ED">Editor’s Draft</a>, <time class="dt-updated" datetime="1970-01-01">1 January 1970</time></p>
   <details open>
    <summary>More details about this document</summary>
    <div data-fill-with="spec-metadata">
     <dl>
      <dt>This version:
      <dd><a class="u-url" href="https://drafts.csswg.org/css-transforms-2/">https://drafts.csswg.org/css-transforms-2/</a>
      <dt>Latest published version:
      <dd><a href="https://www.w3.org/TR/css-transforms-2/">https://www.w3.org/TR/css-transforms-2/</a>
      <dt>Previous Versions:
      <dd><a href="https://www.w3.org/TR/2020/WD-css-transforms-2-20200303/" rel="prev">https://www.w3.org/TR/2020/WD-css-transforms-2-20200303/</a>
      <dt>Feedback:
      <dd><a href="https://github.com/w3c/csswg-drafts/labels/css-transforms-2">CSSWG Issues Repository</a>
      <dt class="editor">Editors:
      <dd class="editor p-author h-card vcard" data-editor-id="42199"><a class="p-name fn u-url url" href="http://xanthir.com/contact/">Tab Atkins Jr.</a> (<a class="p-org org" href="https://google.com">Google</a>)
      <dd class="editor p-author h-card vcard" data-editor-id="15393"><a class="p-name fn u-url url" href="https://dbaron.org/">L. David Baron</a> (<a class="p-org org" href="https://google.com">Google</a>)
      <dd class="editor p-author h-card vcard" data-editor-id="44066"><a class="p-name fn u-email email" href="mailto:simon.fraser@apple.com">Simon Fraser</a> (<a class="p-org org" href="http://www.apple.com/">Apple Inc</a>)
      <dd class="editor p-author h-card vcard" data-editor-id="42080"><a class="p-name fn u-email email" href="mailto:dino@apple.com">Dean Jackson</a> (<a class="p-org org" href="http://www.apple.com/">Apple Inc</a>)
      <dd class="editor p-author h-card vcard" data-editor-id="40614"><a class="p-name fn u-email email" href="mailto:eoconnor@apple.com">Theresa O'Connor</a> (<a class="p-org org" href="http://www.apple.com/">Apple Inc</a>)
      <dt>Suggest an Edit for this Spec:
      <dd><a href="https://github.com/w3c/csswg-drafts/blob/main/css-transforms-2/Overview.bs">GitHub Editor</a>
      <dt>Delta Spec:
      <dd>yes
     </dl>
    </div>
   </details>
   <div data-fill-with="warning"></div>
   <p class="copyright" data-fill-with="copyright"><a href="https://www.w3.org/policies/#copyright">Copyright</a> © 1970 <a href="https://www.w3.org/">World Wide Web Consortium</a>. <abbr title="World Wide Web Consortium">W3C</abbr><sup>®</sup> <a href="https://www.w3.org/policies/#Legal_Disclaimer">liability</a>, <a href="https://www.w3.org/policies/#W3C_Trademarks">trademark</a> and <a href="https://www.w3.org/copyright/software-license/" rel="license" title="W3C Software and Document License">permissive document license</a> rules apply. </p>
   <hr title="Separator for header">
  </div>
  <div class="p-summary" data-fill-with="abstract">
   <h2 class="no-num no-toc no-ref heading settled" id="abstract"><span class="content">Abstract</span></h2>
   <p>CSS transforms allows elements styled with CSS to be transformed in two-dimensional or three-dimensional space.</p>
   <p>This spec adds new transform functions and properties for three-dimensional transforms, and convenience functions for simple transforms.</p>
    <a href="https://www.w3.org/TR/CSS/">CSS</a> is a language for describing the rendering of structured documents
(such as HTML and XML)
on screen, on paper, etc. 
  </div>
  <h2 class="no-num no-toc no-ref heading settled" id="sotd"><span class="content">Status of this document</span></h2>
  <div data-fill-with="status">
   <p> This is a public copy of the editors’ draft.
	It is provided for discussion only and may change at any moment.
	Its publication here does not imply endorsement of its contents by W3C.
	Don’t cite this document other than as work in progress. </p>
   <p>Please send feedback
	by <a href="https://github.com/w3c/csswg-drafts/issues">filing issues in GitHub</a> (preferred),
	including the spec code “css-transforms” in the title, like this:
	“[css-transforms] <i>…summary of comment…</i>”.
	All issues and comments are <a href="https://lists.w3.org/Archives/Public/public-css-archive/">archived</a>.
	Alternately, feedback can be sent to the (<a href="https://lists.w3.org/Archives/Public/www-style/">archived</a>) public mailing list <a href="mailto:www-style@w3.org?Subject=%5Bcss-transforms%5D%20PUT%20SUBJECT%20HERE">www-style@w3.org</a>. </p>
   <p>This document is governed by the <a href="https://www.w3.org/policies/process/20231103/" id="w3c_process_revision">03 November 2023 W3C Process Document</a>. </p>
   <p></p>
  </div>
  <div data-fill-with="at-risk"></div>
  <nav data-fill-with="table-of-contents" id="toc">
   <h2 class="no-num no-toc no-ref" id="contents">Table of Contents</h2>
   <ol class="toc" role="directory">
    <li>
     <a href="#intro"><span class="secno">1</span> <span class="content">Introduction</span></a>
     <ol class="toc">
      <li><a href="#module-interactions"><span class="secno">1.1</span> <span class="content">Module Interactions</span></a>
      <li><a href="#values"><span class="secno">1.2</span> <span class="content">Value Definitions</span></a>
     </ol>
    <li>
     <a href="#terminology"><span class="secno">2</span> <span class="content">Terminology</span></a>
     <ol class="toc">
      <li><a href="#serialization-of-the-computed-value"><span class="secno">2.1</span> <span class="content">Serialization of the <span>computed value</span> of <span class="production">&lt;transform-list></span></span></a>
     </ol>
    <li><a href="#two-dimensional-subset"><span class="secno">3</span> <span class="content">Two Dimensional Subset</span></a>
    <li>
     <a href="#transform-rendering"><span class="secno">4</span> <span class="content">The Transform Rendering Model</span></a>
     <ol class="toc">
      <li>
       <a href="#3d-transform-rendering"><span class="secno">4.1</span> <span class="content">3D Transform Rendering</span></a>
       <ol class="toc">
        <li><a href="#perspective"><span class="secno">4.1.1</span> <span class="content">Perspective</span></a>
        <li><a href="#3d-rendering-contexts"><span class="secno">4.1.2</span> <span class="content">3D Rendering Contexts</span></a>
        <li><a href="#transformed-element-hierarchies"><span class="secno">4.1.3</span> <span class="content">Transformed element hierarchies</span></a>
        <li><a href="#accumulated-3d-transformation-matrix-computation"><span class="secno">4.1.4</span> <span class="content">Accumulated 3D Transformation Matrix Computation</span></a>
        <li><a href="#backface-visibility"><span class="secno">4.1.5</span> <span class="content">Backface Visibility</span></a>
       </ol>
      <li><a href="#processing-of-perspective-transformed-boxes"><span class="secno">4.2</span> <span class="content">Processing of Perspective-Transformed Boxes</span></a>
     </ol>
    <li>
     <a href="#individual-transforms"><span class="secno">5</span> <span class="content">Individual Transform Properties: the <span class="property">translate</span>, <span class="property">scale</span>, and <span class="property">rotate</span> properties</span></a>
     <ol class="toc">
      <li><a href="#individual-transform-serialization"><span class="secno">5.1</span> <span class="content">Serialization</span></a>
     </ol>
    <li><a href="#ctm"><span class="secno">6</span> <span class="content">Current Transformation Matrix</span></a>
    <li>
     <a href="#transform-style-property"><span class="secno">7</span> <span class="content">The <span class="property">transform-style</span> Property</span></a>
     <ol class="toc">
      <li><a href="#grouping-property-values"><span class="secno">7.1</span> <span class="content">Grouping property values</span></a>
     </ol>
    <li><a href="#perspective-property"><span class="secno">8</span> <span class="content">The <span class="property">perspective</span> Property</span></a>
    <li><a href="#perspective-origin-property"><span class="secno">9</span> <span class="content">The <span class="property">perspective-origin</span> Property</span></a>
    <li><a href="#backface-visibility-property"><span class="secno">10</span> <span class="content">The <span class="property">backface-visibility</span> Property</span></a>
    <li><a href="#svg-three-dimensional-functions"><span class="secno">11</span> <span class="content">SVG and 3D transform functions</span></a>
    <li>
     <a href="#transform-functions"><span class="secno">12</span> <span class="content">The Transform Functions</span></a>
     <ol class="toc">
      <li><a href="#two-d-transform-functions"><span class="secno">12.1</span> <span class="content">2D Transform Functions</span></a>
      <li><a href="#three-d-transform-functions"><span class="secno">12.2</span> <span class="content">3D Transform Functions</span></a>
      <li><a href="#transform-primitives"><span class="secno">12.3</span> <span class="content">Transform function primitives and derivatives</span></a>
     </ol>
    <li>
     <a href="#matrix-interpolation"><span class="secno">13</span> <span class="content">Interpolation of Matrices</span></a>
     <ol class="toc">
      <li>
       <a href="#interpolation-of-3d-matrices"><span class="secno">13.1</span> <span class="content">Interpolation of 3D matrices</span></a>
       <ol class="toc">
        <li><a href="#decomposing-a-3d-matrix"><span class="secno">13.1.1</span> <span class="content">Decomposing a 3D matrix</span></a>
        <li><a href="#interpolation-of-decomposed-3d-matrix-values"><span class="secno">13.1.2</span> <span class="content">Interpolation of decomposed 3D matrix values</span></a>
        <li><a href="#recomposing-to-a-3d-matrix"><span class="secno">13.1.3</span> <span class="content">Recomposing to a 3D matrix</span></a>
       </ol>
     </ol>
    <li><a href="#interpolation-of-transform-functions"><span class="secno">14</span> <span class="content">Interpolation of primitives and derived transform functions</span></a>
    <li>
     <a href="#combining-transform-lists"><span class="secno">15</span> <span class="content">Addition and accumulation of transform lists</span></a>
     <ol class="toc">
      <li><a href="#neutral-element"><span class="secno">15.1</span> <span class="content">Neutral element for addition</span></a>
     </ol>
    <li><a href="#mathematical-description"><span class="secno">16</span> <span class="content">Mathematical Description of Transform Functions</span></a>
    <li><a href="#svg-transform"><span class="secno">17</span> <span class="content">The SVG <span class="property">transform</span> Attribute</span></a>
    <li>
     <a href="#svg-animation"><span class="secno">18</span> <span class="content">SVG Animation</span></a>
     <ol class="toc">
      <li><a href="#svg-animate-element"><span class="secno">18.1</span> <span class="content">The <code><span>animate</span></code> and <code><span>set</span></code> element</span></a>
     </ol>
    <li><a href="#more-issues"><span class="secno">19</span> <span class="content">More Issues</span></a>
    <li><a href="#priv-sec"><span class="secno">20</span> <span class="content">Security and Privacy Considerations</span></a>
    <li>
     <a href="#w3c-conformance"><span class="secno"></span> <span class="content"> Conformance</span></a>
     <ol class="toc">
      <li><a href="#w3c-conventions"><span class="secno"></span> <span class="content"> Document conventions</span></a>
      <li><a href="#w3c-conformance-classes"><span class="secno"></span> <span class="content"> Conformance classes</span></a>
      <li>
       <a href="#w3c-partial"><span class="secno"></span> <span class="content"> Partial implementations</span></a>
       <ol class="toc">
        <li><a href="#w3c-conform-future-proofing"><span class="secno"></span> <span class="content"> Implementations of Unstable and Proprietary Features</span></a>
       </ol>
      <li><a href="#w3c-testing"><span class="secno"></span> <span class="content"> Non-experimental implementations</span></a>
     </ol>
    <li>
     <a href="#index"><span class="secno"></span> <span class="content">Index</span></a>
     <ol class="toc">
      <li><a href="#index-defined-here"><span class="secno"></span> <span class="content">Terms defined by this specification</span></a>
      <li><a href="#index-defined-elsewhere"><span class="secno"></span> <span class="content">Terms defined by reference</span></a>
     </ol>
    <li>
     <a href="#references"><span class="secno"></span> <span class="content">References</span></a>
     <ol class="toc">
      <li><a href="#normative"><span class="secno"></span> <span class="content">Normative References</span></a>
     </ol>
    <li><a href="#property-index"><span class="secno"></span> <span class="content">Property Index</span></a>
    <li><a href="#issues-index"><span class="secno"></span> <span class="content">Issues Index</span></a>
   </ol>
  </nav>
  <main>
<script>
window.MathJax = {
  tex: {
    inlineMath: [['$', '$']],
    displayMath: [['$$', '$$']]
  },
  svg: {
    fontCache: 'global'
  }
};
</script>
   <script src="mathjax/es5/tex-svg.js"></script>
   <h2 class="heading settled" data-level="1" id="intro"><span class="secno">1. </span><span class="content">Introduction</span><a class="self-link" href="#intro"></a></h2>
   <p>This specification is a delta spec that extends <a data-link-type="biblio" href="#biblio-css-transforms-1" title="CSS Transforms Module Level 1">[css-transforms-1]</a> to allow authors to transform elements in three-dimensional space.
New transform functions for the <a class="property css" data-link-type="property" href="https://drafts.csswg.org/css-transforms-1/#propdef-transform" id="ref-for-propdef-transform">transform</a> property allow three-dimensional transforms,
and additional properties make working with three-dimensional transforms easier,
and allow the author to control how nested three-dimensional transformed elements interact.</p>
   <ol>
    <li data-md>
     <p>The <a class="property css" data-link-type="property" href="#propdef-perspective" id="ref-for-propdef-perspective">perspective</a> property allows the author to provide child elements with an extra perspective transformation. The <a class="property css" data-link-type="property" href="#propdef-perspective-origin" id="ref-for-propdef-perspective-origin">perspective-origin</a> property provides control over the origin at which perspective is applied, effectively changing the location of the "vanishing point".</p>
    <li data-md>
     <p>The <a class="property css" data-link-type="property" href="#propdef-transform-style" id="ref-for-propdef-transform-style">transform-style</a> property allows 3D-transformed elements and their 3D-transformed descendants to share a common three-dimensional space, allowing the construction of hierarchies of three-dimensional objects.</p>
    <li data-md>
     <p>The <a class="property css" data-link-type="property" href="#propdef-backface-visibility" id="ref-for-propdef-backface-visibility">backface-visibility</a> property comes into play when an element is flipped around via three-dimensional transforms such that its reverse side is visible to the viewer. In some situations it is desirable to hide the element in this situation, which is possible using the value of <span class="css">hidden</span> for this property.</p>
   </ol>
   <p class="note" role="note"><span class="marker">Note:</span> While some values of the <a class="property css" data-link-type="property" href="https://drafts.csswg.org/css-transforms-1/#propdef-transform" id="ref-for-propdef-transform①">transform</a> property allow an element to be transformed in a three-dimensional coordinate system, the elements themselves are not three-dimensional objects. Instead, they exist on a two-dimensional plane (a flat surface) and have no depth.</p>
   <p>This specification also adds three convenience properties, <a class="property css" data-link-type="property" href="#propdef-scale" id="ref-for-propdef-scale">scale</a>, <a class="property css" data-link-type="property" href="#propdef-translate" id="ref-for-propdef-translate">translate</a> and <a class="property css" data-link-type="property" href="#propdef-rotate" id="ref-for-propdef-rotate">rotate</a>, that make it easier to describe and animate simple transforms.</p>
   <h3 class="heading settled" data-level="1.1" id="module-interactions"><span class="secno">1.1. </span><span class="content">Module Interactions</span><a class="self-link" href="#module-interactions"></a></h3>
   <p>The <a data-link-type="dfn" href="#3d-transform-functions" id="ref-for-3d-transform-functions">3D transform functions</a> here extend the set of functions for the <a class="property css" data-link-type="property" href="https://drafts.csswg.org/css-transforms-1/#propdef-transform" id="ref-for-propdef-transform②">transform</a> property.</p>
   <p>Some values of <a class="property css" data-link-type="property" href="#propdef-perspective" id="ref-for-propdef-perspective①">perspective</a>, <a class="property css" data-link-type="property" href="#propdef-transform-style" id="ref-for-propdef-transform-style①">transform-style</a> and <a class="property css" data-link-type="property" href="#propdef-backface-visibility" id="ref-for-propdef-backface-visibility①">backface-visibility</a> result in the creation of a <a data-link-type="dfn" href="https://drafts.csswg.org/css-transforms-1/#containing-block-for-all-descendants" id="ref-for-containing-block-for-all-descendants">containing block for all descendants</a>, and/or the creation of a <a data-link-type="dfn" href="https://www.w3.org/TR/CSS21/visuren.html#x43" id="ref-for-x43">stacking context</a>.</p>
   <p>Three-dimensional transforms affect the visual layering of elements, and thus override the back-to-front painting order described in <a href="https://www.w3.org/TR/CSS2/zindex.html">Appendix E</a> of <a data-link-type="biblio" href="#biblio-css21" title="Cascading Style Sheets Level 2 Revision 1 (CSS 2.1) Specification">[CSS21]</a>.</p>
   <h3 class="heading settled" data-level="1.2" id="values"><span class="secno">1.2. </span><span class="content">Value Definitions</span><a class="self-link" href="#values"></a></h3>
   <p>This specification follows the <a href="https://www.w3.org/TR/CSS2/about.html#property-defs">CSS property definition conventions</a> from <a data-link-type="biblio" href="#biblio-css21" title="Cascading Style Sheets Level 2 Revision 1 (CSS 2.1) Specification">[CSS21]</a> using the <a href="https://www.w3.org/TR/css-values-3/#value-defs">value definition syntax</a> from <a data-link-type="biblio" href="#biblio-css-values-3" title="CSS Values and Units Module Level 3">[CSS-VALUES-3]</a>.
Value types not defined in this specification are defined in CSS Values &amp; Units <span title="CSS Values and Units Module Level 3">[CSS-VALUES-3]</span>.
Combination with other CSS modules may expand the definitions of these value types.</p>
   <p>In addition to the property-specific values listed in their definitions,
all properties defined in this specification
also accept the <a data-link-type="dfn" href="https://drafts.csswg.org/css-values-4/#css-wide-keywords" id="ref-for-css-wide-keywords">CSS-wide keywords</a> as their property value.
For readability they have not been repeated explicitly.</p>
   <h2 class="heading settled" data-level="2" id="terminology"><span class="secno">2. </span><span class="content">Terminology</span><a class="self-link" href="#terminology"></a></h2>
   <dl>
    <dt data-md><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="3d-transformed-element">3D transformed element</dfn>
    <dd data-md>
     <p>An element whose computed value for the <a class="property css" data-link-type="property" href="https://drafts.csswg.org/css-transforms-1/#propdef-transform" id="ref-for-propdef-transform③">transform</a> property includes one of the <a data-link-type="dfn" href="#3d-transform-functions" id="ref-for-3d-transform-functions①">3D transform functions</a></p>
    <dt data-md><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="3d-matrix">3D matrix</dfn>
    <dd data-md>
     <p>A 4x4 matrix which does not fulfill the requirements of an <a data-link-type="dfn" href="https://drafts.csswg.org/css-transforms-1/#2d-matrix" id="ref-for-2d-matrix">2D matrix</a>.</p>
    <dt data-md><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="identity-transform-function">identity transform function</dfn>
    <dd data-md>
     <p>In addition to the identity transform function in CSS Transforms,
examples for identity transform functions include <span class="css">translate3d(0, 0, 0)</span>, <span class="css">translateZ(0)</span>, <span class="css">scaleZ(1)</span>, <span class="css">rotate3d(1, 1, 1, 0)</span>, <span class="css">rotateX(0)</span>, <span class="css">rotateY(0)</span>, <span class="css">rotateZ(0)</span> and <span class="css">matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1)</span>.
A special case is perspective: <span class="css">perspective(infinity)</span>.
The value of m<sub>34</sub> becomes infinitesimal small
and the transform function is therefore assumed to be equal to the identity matrix.</p>
    <dt data-md><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="perspective-matrix">perspective matrix</dfn>
    <dd data-md>
     <p>A matrix computed from the values of the <a class="property css" data-link-type="property" href="#propdef-perspective" id="ref-for-propdef-perspective②">perspective</a> and <a class="property css" data-link-type="property" href="#propdef-perspective-origin" id="ref-for-propdef-perspective-origin①">perspective-origin</a> properties as described <a href="#perspective-matrix-computation">below</a>.</p>
    <dt data-md><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="accumulated-3d-transformation-matrix">accumulated 3D transformation matrix</dfn>
    <dd data-md>
     <p>A matrix computed for an element relative to the root of its <a data-link-type="dfn" href="#3d-rendering-context" id="ref-for-3d-rendering-context">3D rendering context</a>, as described <a href="#accumulated-3d-transformation-matrix-computation">below</a>.</p>
    <dt data-md><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="3d-rendering-context">3D rendering context</dfn>
    <dd data-md>
     <p>A set of elements with a common ancestor which share a common three-dimensional coordinate system, as described <a href="#3d-rendering-contexts">below</a>.</p>
   </dl>
   <h3 class="heading settled" data-level="2.1" id="serialization-of-the-computed-value"><span class="secno">2.1. </span><span class="content">Serialization of the <a data-link-type="dfn" href="https://drafts.csswg.org/css-cascade-5/#computed-value" id="ref-for-computed-value">computed value</a> of <a class="production css" data-link-type="type" href="https://drafts.csswg.org/css-transforms-1/#typedef-transform-list" id="ref-for-typedef-transform-list">&lt;transform-list></a></span><a class="self-link" href="#serialization-of-the-computed-value"></a></h3>
   <p>A <a class="production css" data-link-type="type" href="https://drafts.csswg.org/css-transforms-1/#typedef-transform-list" id="ref-for-typedef-transform-list①">&lt;transform-list></a> for the <a data-link-type="dfn" href="https://drafts.csswg.org/css-cascade-5/#computed-value" id="ref-for-computed-value①">computed value</a> is serialized to either one <a class="production css" data-link-type="function" href="https://drafts.csswg.org/css-transforms-1/#funcdef-transform-matrix" id="ref-for-funcdef-transform-matrix">&lt;matrix()></a> or one <a class="production css" data-link-type="function" href="#funcdef-matrix3d" id="ref-for-funcdef-matrix3d">&lt;matrix3d()></a> function by the following algorithm:</p>
   <ol class="algorithm">
    <li data-md>
     <p>Let <var>transform</var> be a 4x4 matrix initialized to the identity matrix. The elements <var> m11</var>, <var>m22</var>, <var>m33</var> and <var>m44</var> of <var>transform</var> must be set to <span class="css">1</span> all other elements of <var>transform</var> must be set to <span class="css">0</span>.</p>
    <li data-md>
     <p>Post-multiply all <a class="production css" data-link-type="type" href="#typedef-transform-function" id="ref-for-typedef-transform-function">&lt;transform-function></a>s in <a class="production css" data-link-type="type" href="https://drafts.csswg.org/css-transforms-1/#typedef-transform-list" id="ref-for-typedef-transform-list②">&lt;transform-list></a> to <var>transform</var>.</p>
    <li data-md>
     <p>Chose between <a class="production css" data-link-type="function" href="https://drafts.csswg.org/css-transforms-1/#funcdef-transform-matrix" id="ref-for-funcdef-transform-matrix①">&lt;matrix()></a> or <a class="production css" data-link-type="function" href="#funcdef-matrix3d" id="ref-for-funcdef-matrix3d①">&lt;matrix3d()></a> serialization:</p>
     <dl class="switch">
      <dt>If <var>transform</var> is a <a data-link-type="dfn" href="https://drafts.csswg.org/css-transforms-1/#2d-matrix" id="ref-for-2d-matrix①">2D matrix</a> 
      <dd>Serialize <var>transform</var> to a <a class="production css" data-link-type="function" href="https://drafts.csswg.org/css-transforms-1/#funcdef-transform-matrix" id="ref-for-funcdef-transform-matrix②">&lt;matrix()></a> function. 
      <dt>Otherwise 
      <dd>Serialize <var>transform</var> to a <a class="production css" data-link-type="function" href="#funcdef-matrix3d" id="ref-for-funcdef-matrix3d②">&lt;matrix3d()></a> function. 
     </dl>
   </ol>
   <p class="issue" id="issue-8241ab72"><a class="self-link" href="#issue-8241ab72"></a> fix this text to add to the text in CSS Transforms 1.</p>
   <h2 class="heading settled" data-level="3" id="two-dimensional-subset"><span class="secno">3. </span><span class="content">Two Dimensional Subset</span><a class="self-link" href="#two-dimensional-subset"></a></h2>
   <p>UAs may not always be able to render three-dimensional transforms and then just support a two-dimensional subset of this specification. In this case <a href="#three-d-transform-functions">three-dimensional transforms</a> and the properties <a class="property css" data-link-type="property" href="#propdef-transform-style" id="ref-for-propdef-transform-style②">transform-style</a>, <a class="property css" data-link-type="property" href="#propdef-perspective" id="ref-for-propdef-perspective③">perspective</a>, <a class="property css" data-link-type="property" href="#propdef-perspective-origin" id="ref-for-propdef-perspective-origin②">perspective-origin</a> and <a class="property css" data-link-type="property" href="#propdef-backface-visibility" id="ref-for-propdef-backface-visibility②">backface-visibility</a> must not be supported. Section <a href="#3d-transform-rendering">3D Transform Rendering</a> does not apply. Matrix decomposing uses the technique taken from the "unmatrix" method in "Graphics Gems II, edited by Jim Arvo", simplified for the 2D case. Section <a href="#mathematical-description">Mathematical Description of Transform Functions</a> is still effective but can be reduced by using a 3x3 transformation matrix where <em>a</em> equals m<sub>11</sub>, <em>b</em> equals m<sub>12</sub>, <em>c</em> equals m<sub>21</sub>, <em>d</em> equals m<sub>22</sub>, <em>e</em> equals m<sub>41</sub> and <em>f</em> equals m<sub>42</sub> (see A 2D 3x2 matrix with six parameter).</p>
   <div class="figure">
     $$\begin{bmatrix} a &amp; c &amp; e \\ b &amp; d &amp; f \\ 0 &amp; 0 &amp; 1 \end{bmatrix}$$ 
    <p class="caption"> 3x3 matrix for two-dimensional transformations. </p>
   </div>
   <div class="example" id="example-d57c1ef5">
    <a class="self-link" href="#example-d57c1ef5"></a> 
    <p>Authors can easily provide a fallback if UAs do not provide support for three-dimensional transforms. The following example has two property definitions for <a class="property css" data-link-type="property" href="https://drafts.csswg.org/css-transforms-1/#propdef-transform" id="ref-for-propdef-transform④">transform</a>. The first one consists of two two-dimensional transform functions. The second one has a two-dimensional and a three-dimensional transform function.</p>
<pre>div {  transform: scale(2) rotate(45deg);
  transform: scale(2) rotate3d(0, 0, 1, 45deg);
}</pre>
    <p>With 3D support, the second definition will override the first one. Without 3D support, the second definition is invalid and a UA falls back to the first definition.</p>
   </div>
   <h2 class="heading settled" data-level="4" id="transform-rendering"><span class="secno">4. </span><span class="content">The Transform Rendering Model</span><a class="self-link" href="#transform-rendering"></a></h2>
   <p>This specification extends <a href="https://drafts.csswg.org/css-transforms-1/#transform-rendering"><cite>CSS Transforms 1</cite> § 2 The Transform Rendering Model</a> to account for the existence of three-dimensional transform functions, the Z value of <a class="property css" data-link-type="property" href="https://drafts.csswg.org/css-transforms-1/#propdef-transform-origin" id="ref-for-propdef-transform-origin">transform-origin</a>, the <a class="property css" data-link-type="property" href="#propdef-perspective" id="ref-for-propdef-perspective④">perspective</a> property, and a new 3D rendering model that applies when the used value of the <span class="css">transform-style</span> property is <span class="css">preserve-3d</span>.</p>
   <p>Three-dimensional transform functions conceptually extend the coordinate space into three dimensions, adding a Z axis perpendicular to the plane of the screen, that increases towards the viewer.</p>
   <div class="figure">
     <img alt="Demonstration of the initial coordinate space" height="240" src="images/coordinates.svg" width="270"> 
    <p class="caption"> Demonstration of the initial coordinate space. </p>
   </div>
   <p id="transformation-matrix-computation"> With 3D transforms, the Z component of <a class="property css" data-link-type="property" href="https://drafts.csswg.org/css-transforms-1/#propdef-transform-origin" id="ref-for-propdef-transform-origin①">transform-origin</a> affects the result, so the <a data-link-type="dfn" href="https://drafts.csswg.org/css-transforms-1/#transformation-matrix" id="ref-for-transformation-matrix">transformation matrix</a> is computed from the <a class="property css" data-link-type="property" href="https://drafts.csswg.org/css-transforms-1/#propdef-transform" id="ref-for-propdef-transform⑤">transform</a> and <span class="property" id="ref-for-propdef-transform-origin②">transform-origin</span> properties as follows: </p>
   <ol>
    <li data-md>
     <p>Start with the identity matrix.</p>
    <li data-md>
     <p>Translate by the computed X, Y and Z of <a class="property css" data-link-type="property" href="https://drafts.csswg.org/css-transforms-1/#propdef-transform-origin" id="ref-for-propdef-transform-origin③">transform-origin</a></p>
    <li data-md>
     <p>Multiply by each of the transform functions in <a class="property css" data-link-type="property" href="https://drafts.csswg.org/css-transforms-1/#propdef-transform" id="ref-for-propdef-transform⑥">transform</a> property from left to right</p>
    <li data-md>
     <p>Translate by the negated computed X, Y and Z values of <a class="property css" data-link-type="property" href="https://drafts.csswg.org/css-transforms-1/#propdef-transform-origin" id="ref-for-propdef-transform-origin④">transform-origin</a></p>
   </ol>
   <h3 class="heading settled" data-level="4.1" id="3d-transform-rendering"><span class="secno">4.1. </span><span class="content">3D Transform Rendering</span><a class="self-link" href="#3d-transform-rendering"></a></h3>
   <p>Normally, elements render as flat planes, and are rendered into the same plane as their stacking context. Often this is the plane shared by the rest of the page. Two-dimensional transform functions can alter the appearance of an element, but that element is still rendered into the same plane as its stacking context.</p>
   <p>An element with a three-dimensional transform that is not contained in a <a data-link-type="dfn" href="#3d-rendering-context" id="ref-for-3d-rendering-context①">3D rendering context</a> renders with the appropriate transform applied, but does not intersect with any other elements. The three-dimensional transform in this case can be considered just as a painting effect, like two-dimensional transforms. Similarly, the transform does not affect painting order. For example, a transform with a positive Z translation may make an element look larger, but does not cause that element to render in front of elements with no translation in Z.</p>
   <p class="issue" id="issue-aae09890"><a class="self-link" href="#issue-aae09890"></a> describe how nested 3d-transformed elements render (perhaps with math)</p>
   <div class="example" id="example-20b12368">
    <a class="self-link" href="#example-20b12368"></a> 
    <p class="issue" id="issue-699eabea"><a class="self-link" href="#issue-699eabea"></a> This example doesn’t follow from the previous text.</p>
    <p>This example shows the effect of three-dimensional transform applied to an element.</p>
<pre>&lt;style>
div {
    height: 150px;
    width: 150px;
}
.container {
    border: 1px solid black;
}
.transformed {
    transform: rotateY(50deg);
}
&lt;/style>

&lt;div class="container">
    &lt;div class="transformed">&lt;/div>
&lt;/div>
</pre>
    <div class="figure"> <img alt="Div with a rotateY transform." height="190" src="examples/simple-3d-example.png" width="210"> </div>
    <p>The transform is a 50° rotation about the vertical, Y axis. Note how this makes the blue box appear narrower, but not three-dimensional.</p>
   </div>
   <h4 class="heading settled" data-level="4.1.1" id="perspective"><span class="secno">4.1.1. </span><span class="content">Perspective</span><a class="self-link" href="#perspective"></a></h4>
   <p>Perspective can be used to add a feeling of depth to a scene by making elements higher on the Z axis (closer to the viewer) appear larger, and those further away to appear smaller. The scaling is proportional to <var>d</var>/(<var>d</var> − <var>Z</var>) where <var>d</var>, the value of <a class="property css" data-link-type="property" href="#propdef-perspective" id="ref-for-propdef-perspective⑤">perspective</a>, is the distance from the drawing plane to the assumed position of the viewer’s eye.</p>
   <p>The appearance of perspective can be applied to a 3d-transformed element in two ways. First, the element’s 'transform function list' can contain the <a class="css" data-link-type="maybe" href="#funcdef-perspective" id="ref-for-funcdef-perspective">perspective()</a> function which computes into the element’s 'current transformation matrix'.</p>
   <p>Second, the <a class="property css" data-link-type="property" href="#propdef-perspective" id="ref-for-propdef-perspective⑥">perspective</a> and <a class="property css" data-link-type="property" href="#propdef-perspective-origin" id="ref-for-propdef-perspective-origin③">perspective-origin</a> properties can be applied to an element to influence the rendering of its 3d-transformed children, giving them a shared perspective that provides the impression of them living in the same three-dimensional scene.</p>
   <div class="figure">
     <img alt="Diagram of scale vs. Z position" src="images/perspective_distance.png"> 
    <p class="caption"> Diagrams showing how scaling depends on the <a class="property css" data-link-type="property" href="#propdef-perspective" id="ref-for-propdef-perspective⑦">perspective</a> property and Z position. In the top diagram, <var>Z</var> is half of <var>d</var>. In order to make it appear that the original circle (solid outline) appears at <var>Z</var> (dashed circle), the circle is scaled up by a factor of two, resulting in the light blue circle. In the bottom diagram, the circle is scaled down by a factor of one-third to make it appear behind the original position. </p>
   </div>
   <p>Normally the assumed position of the viewer’s eye is centered on a drawing. This position can be moved if desired – for example, if a web page contains multiple drawings that should share a common perspective – by setting <a class="property css" data-link-type="property" href="#propdef-perspective-origin" id="ref-for-propdef-perspective-origin④">perspective-origin</a>.</p>
   <div class="figure">
     <img alt="Diagram of different perspective-origin" src="images/perspective_origin.png"> 
    <p class="caption"> Diagram showing the effect of moving the perspective origin upward. </p>
   </div>
   <p id="perspective-matrix-computation"> The <a data-link-type="dfn" href="#perspective-matrix" id="ref-for-perspective-matrix">perspective matrix</a> is computed as follows: </p>
   <ol>
    <li data-md>
     <p>Start with the identity matrix.</p>
    <li data-md>
     <p>Translate by the computed X and Y values of <a class="property css" data-link-type="property" href="#propdef-perspective-origin" id="ref-for-propdef-perspective-origin⑤">perspective-origin</a></p>
    <li data-md>
     <p>Multiply by the matrix that would be obtained from the <a class="css" data-link-type="maybe" href="#funcdef-perspective" id="ref-for-funcdef-perspective①">perspective()</a> transform function, where the length is provided by the value of the <a class="property css" data-link-type="property" href="#propdef-perspective" id="ref-for-propdef-perspective⑧">perspective</a> property</p>
    <li data-md>
     <p>Translate by the negated computed X and Y values of <a class="property css" data-link-type="property" href="#propdef-perspective-origin" id="ref-for-propdef-perspective-origin⑥">perspective-origin</a></p>
   </ol>
   <div class="example" id="example-6ad0c4cd">
    <a class="self-link" href="#example-6ad0c4cd"></a> 
    <p>This example shows how perspective can be used to cause three-dimensional transforms to appear more realistic.</p>
<pre>&lt;style>
div {
  height: 150px;
  width: 150px;
}
.container {
  perspective: 500px;
  border: 1px solid black;
}
.transformed {
  transform: rotateY(50deg);
}
&lt;/style>

&lt;div class="container">
  &lt;div class="transformed">&lt;/div>
&lt;/div>
</pre>
    <div class="figure"> <img alt="Div with a rotateY transform, and perspective on its container" height="190" src="examples/simple-perspective-example.png" width="210"> </div>
    <p>The inner element has the same transform as in the previous example, but its rendering is now influenced by the perspective property on its parent element. Perspective causes vertices that have positive Z coordinates (closer to the viewer) to be scaled up in X and Y, and those further away (negative Z coordinates) to be scaled down, giving an appearance of depth.</p>
   </div>
   <h4 class="heading settled" data-level="4.1.2" id="3d-rendering-contexts"><span class="secno">4.1.2. </span><span class="content">3D Rendering Contexts</span><a class="self-link" href="#3d-rendering-contexts"></a></h4>
   <p>This section specifies the rendering model for content that uses 3D-transforms and the <span class="css">transform-style</span> property. In order to describe this model, we introduce the concept of a "3D rendering context".</p>
   <p>A <a data-link-type="dfn" href="#3d-rendering-context" id="ref-for-3d-rendering-context②">3D rendering context</a> is a set of elements rooted in a common ancestor that, for the purposes of 3D-transform rendering, are considered to share a common three-dimensional coordinate system. The front-to-back rendering of elements in the a 3D rendering context depends on their z-position in that three-dimensional space, and, if the 3D transforms on those elements cause them to intersect, then they are rendered with intersection.</p>
   <p>The position of each element in that three-dimensional space is determined by accumulating the transformation matrices up from the given element to the element that establishes the <a data-link-type="dfn" href="#3d-rendering-context" id="ref-for-3d-rendering-context③">3D rendering context</a>.</p>
   <p>Elements establish and participate in 3D rendering contexts as follows:</p>
   <ul>
    <li data-md>
     <p>A <a data-link-type="dfn" href="#3d-rendering-context" id="ref-for-3d-rendering-context④">3D rendering context</a> is established by a <a data-link-type="dfn" href="https://drafts.csswg.org/css-transforms-1/#transformable-element" id="ref-for-transformable-element">transformable element</a> whose used value for <a class="property css" data-link-type="property" href="#propdef-transform-style" id="ref-for-propdef-transform-style③">transform-style</a> is <span class="css">preserve-3d</span> and which itself is not part of a 3D rendering context. An element that establishes a 3D rendering context also participates in that context.</p>
    <li data-md>
     <p>An element whose used value for <a class="property css" data-link-type="property" href="#propdef-transform-style" id="ref-for-propdef-transform-style④">transform-style</a> is <span class="css">preserve-3d</span> and which itself participates in a <a data-link-type="dfn" href="#3d-rendering-context" id="ref-for-3d-rendering-context⑤">3D rendering context</a>, extends that 3D rendering context rather than establishing a new one.</p>
    <li data-md>
     <p>An element participates in a <a data-link-type="dfn" href="#3d-rendering-context" id="ref-for-3d-rendering-context⑥">3D rendering context</a> if its parent establishes or extends a <span id="ref-for-3d-rendering-context⑦">3D rendering context</span>.</p>
   </ul>
   <p>Some CSS properties have values that are considered to force "grouping": they require that their element and its descendants are rendered as a group before being composited with other elements; these include opacity, filters and properties that affect clipping. The relevant property values are listed under <a href="#grouping-property-values">grouping property values</a>. Consequently, when used on an element with transform-style:preserve-3d, they change the used value to <span class="css">flat</span> and prevent it from creating or extending a <a data-link-type="dfn" href="#3d-rendering-context" id="ref-for-3d-rendering-context⑧">3D rendering context</a>.</p>
   <p class="issue" id="issue-21083b8a"><a class="self-link" href="#issue-21083b8a"></a> This doesn’t describe how untransformed content within a 3D transformed element is handled, the algorithm probably needs to be recursive.
Issue: Figure out what the current behavior of various engines is, and figure out a clearer description that wont break web compat.</p>
   <p>The rendering of elements in a 3D rendering context is as follows (numbers refer to items in <a href="https://www.w3.org/TR/CSS2/zindex.html#painting-order">CSS 2.1, Appendix E, Section E.2 Painting Order</a>):</p>
   <ol style="list-style-type: upper-alpha;">
    <li>The background, borders and other box decorations of the establishing element are rendered (steps 1 and 2) 
    <li>The content and descendant elements without 3D transforms, ordered according to steps 3—7, are rendered into a plane at z=0 relative to the establishing element. 
    <li>3D-transformed elements are each rendered into their own plane, transformed by the <a href="#accumulated-3d-transformation-matrix-computation">accumulated 3D transformation matrix</a>. 
    <li>Intersection is performed between the set of planes generated by steps B and C, according to <a href="http://en.wikipedia.org/wiki/Newell%27s_algorithm">Newell’s algorithm</a>. 
    <li>The resulting set of planes is rendered on top of the backgrounds and box decorations rendered in this step A. Coplanar <a data-link-type="dfn" href="#3d-transformed-element" id="ref-for-3d-transformed-element">3D transformed elements</a> are rendered in painting order. 
   </ol>
   <p class="issue" id="issue-d667e5bf"><a class="self-link" href="#issue-d667e5bf"></a> is it OK to not pop 2D-transformed elements into their own planes?</p>
   <p class="issue" id="issue-d1f8f85e"><a class="self-link" href="#issue-d1f8f85e"></a> requiring intersection with non-transformed content and descendants requires UAs to allocate additional textures (possibly doubling memory use). Would be more efficient to simply render content and untransformed descendants along with background and borders.</p>
   <p>Note that elements with transforms which have a negative z-component will render behind the content and untransformed descendants of the establishing element, and that <a data-link-type="dfn" href="#3d-transformed-element" id="ref-for-3d-transformed-element①">3D transformed elements</a> may interpenetrate with content and untransformed elements.</p>
   <p class="note" role="note"><span class="marker">Note:</span> Because the 3D-transformed elements in a 3D rendering context can all depth-sort and intersect with each other, they are effectively rendered as if they were siblings. The effect of transform-style: preserve-3d can then be thought of as causing all the <a data-link-type="dfn" href="#3d-transformed-element" id="ref-for-3d-transformed-element②">3D transformed elements</a> in a 3D rendering context to be hoisted up into the establishing element, but still rendered with their <a href="#accumulated-3d-transformation-matrix-computation">accumulated 3D transformation matrix</a>.</p>
   <div class="example" id="example-bc92658f">
    <a class="self-link" href="#example-bc92658f"></a> 
<pre>&lt;style>
.scene {
  background-color: rgba(0, 0, 0, 0.3);
  perspective: 500px;
}
.container {
      transform-style: preserve-3d;
}
.container > div {
  position: absolute;
  left: 0;
}
.container > :first-child {
  transform: rotateY(45deg);
  background-color: orange;
  top: 10px;
  height: 135px;
}
.container > :last-child {
  transform: translateZ(40px);
  background-color: rgba(0, 0, 255, 0.6);
  top: 50px;
  height: 100px;
}
&lt;/style>

&lt;div class="scene">
  &lt;div class="container">
    &lt;div>&lt;/div>
    &lt;div>&lt;/div>
  &lt;/div>
&lt;/div>
</pre>
    <p>This example shows show elements in a 3D rendering context can intersect. The container element establishes a 3D rendering context for itself and its two children, and the scene element adds perspective to the 3D rendering context. The children intersect with each other, and the orange element also intersects with the container.</p>
    <div class="figure"> <img alt="Intersecting sibling elements." height="198" src="examples/3d-intersection.png" width="210"> </div>
   </div>
   <div class="example" id="example-11326f44">
    <a class="self-link" href="#example-11326f44"></a> 
<pre>&lt;style>
div {
  height: 150px;
  width: 150px;
}
.container {
  perspective: 500px;
  border: 1px solid black;
}
.transformed {
  transform: rotateY(50deg);
  background-color: blue;
}
.child {
  transform-origin: top left;
  transform: rotateX(40deg);
  background-color: lime;
}
&lt;/style>

&lt;div class="container">
  &lt;div class="transformed">
    &lt;div class="child">&lt;/div>
  &lt;/div>
&lt;/div>
</pre>
    <p>This example shows how nested 3D transforms are rendered. The blue div is transformed as in the previous example, with its rendering influenced by the perspective on its parent element. The lime element also has a 3D transform, which is a rotation about the X axis (anchored at the top, by virtue of the transform-origin). However, the lime element is being rendered into the plane of its parent because it is not a member of the same 3D rendering context; the parent is <a data-link-type="dfn">flattening</a>. Thus the lime element only appears shorter; it does not "pop out" of the blue element.</p>
    <div class="figure"> <img alt="Nested 3D transforms, with flattening" height="200" src="examples/3d-rendering-context-flat.png" width="240"> </div>
   </div>
   <h4 class="heading settled" data-level="4.1.3" id="transformed-element-hierarchies"><span class="secno">4.1.3. </span><span class="content">Transformed element hierarchies</span><a class="self-link" href="#transformed-element-hierarchies"></a></h4>
   <p>By default, <a data-link-type="dfn" href="https://drafts.csswg.org/css-transforms-1/#transformed-element" id="ref-for-transformed-element">transformed elements</a> do not create a <a data-link-type="dfn" href="#3d-rendering-context" id="ref-for-3d-rendering-context⑨">3D rendering context</a> and create a flattened representation of their content. However, since it is useful to construct hierarchies of transformed objects that share a common 3-dimensional space, this flattening behavior may be overridden by specifying a value of <span class="css">preserve-3d</span> for the <span class="css">transform-style</span> property. This allows descendants of the transformed element to share the same 3D rendering context. Non-3D-transformed descendants of such elements are rendered into the plane of the element in step C above, but 3D-transformed elements in the same 3D rendering context will "pop out" into their own planes.</p>
   <div class="example" id="example-1069e278">
    <a class="self-link" href="#example-1069e278"></a> 
<pre>&lt;style>
div {
  height: 150px;
  width: 150px;
}
.container {
  perspective: 500px;
  border: 1px solid black;
}
.transformed {
  <b>transform-style: preserve-3d</b>;
  transform: rotateY(50deg);
  background-color: blue;
}
.child {
  transform-origin: top left;
  transform: rotateX(40deg);
  background-color: lime;
}
&lt;/style>
</pre>
    <p>This example is identical to the previous example, with the addition of <a class="css" data-link-type="propdesc" href="#propdef-transform-style" id="ref-for-propdef-transform-style⑤">transform-style: preserve-3d</a> on the blue element. The blue element now extends the 3D rendering context of its container. Now both blue and lime elements share a common three-dimensional space, so the lime element renders as tilting out from its parent, influenced by the perspective on the container.</p>
    <div class="figure"> <img alt="Nested 3D transforms, with preserve-3d." height="200" src="examples/3d-rendering-context-3d.png" width="240"> </div>
   </div>
   <h4 class="heading settled" data-level="4.1.4" id="accumulated-3d-transformation-matrix-computation"><span class="secno">4.1.4. </span><span class="content">Accumulated 3D Transformation Matrix Computation</span><a class="self-link" href="#accumulated-3d-transformation-matrix-computation"></a></h4>
   <p>The final value of the transform used to render an element in a <a data-link-type="dfn" href="#3d-rendering-context" id="ref-for-3d-rendering-context①⓪">3D rendering context</a> is computed by accumulating an <a data-link-type="dfn" href="#accumulated-3d-transformation-matrix" id="ref-for-accumulated-3d-transformation-matrix">accumulated 3D transformation matrix</a> as follows:</p>
   <ol>
    <li data-md>
     <p>Let <var>transform</var> be the identity matrix.</p>
    <li data-md>
     <p>Let <var>current element</var> be the transformed element.</p>
    <li data-md>
     <p>Let <var>parent element</var> be the parent element of the transformed element.</p>
    <li data-md>
     <p>While <var>current element</var> is not the element that establishes the transformed element’s <a data-link-type="dfn" href="#3d-rendering-context" id="ref-for-3d-rendering-context①①">3D rendering context</a>:</p>
     <ol>
      <li data-md>
       <p>If <var>current element</var> has a value for <a class="property css" data-link-type="property" href="https://drafts.csswg.org/css-transforms-1/#propdef-transform" id="ref-for-propdef-transform⑦">transform</a> which is not <span class="css">none</span>, pre-multiply <var>current element</var>’s <a data-link-type="dfn" href="https://drafts.csswg.org/css-transforms-1/#transformation-matrix" id="ref-for-transformation-matrix①">transformation matrix</a> with the <var>transform</var>.</p>
      <li data-md>
       <p>Compute a translation matrix which represents the offset of <var>current element</var> from its <var>parent element</var>, and pre-multiply that matrix into the <var>transform</var>.</p>
      <li data-md>
       <p>If <var>parent element</var> has a value for <a class="property css" data-link-type="property" href="#propdef-perspective" id="ref-for-propdef-perspective⑨">perspective</a> which is not <a class="css" data-link-type="maybe" href="#valdef-perspective-none" id="ref-for-valdef-perspective-none">none</a>, pre-multiply the <var>parent element</var>’s <a data-link-type="dfn" href="#perspective-matrix" id="ref-for-perspective-matrix①">perspective matrix</a> into the <var>transform</var>.</p>
      <li data-md>
       <p>Let <var>current element</var> be the <var>parent element</var>.</p>
      <li data-md>
       <p>Let <var>parent element</var> be the <var>current element</var>’s parent.</p>
     </ol>
   </ol>
   <p class="note" role="note"><span class="marker">Note:</span> as described here, the <a data-link-type="dfn" href="#accumulated-3d-transformation-matrix" id="ref-for-accumulated-3d-transformation-matrix①">accumulated 3D transformation matrix</a> takes into account offsets generated by the <a href="https://www.w3.org/TR/REC-CSS2/visuren.html">visual formatting model</a> on the transformed element, and elements in the ancestor chain between the transformed element and the element that establishes the its <a data-link-type="dfn" href="#3d-rendering-context" id="ref-for-3d-rendering-context①②">3D rendering context</a>.</p>
   <h4 class="heading settled" data-level="4.1.5" id="backface-visibility"><span class="secno">4.1.5. </span><span class="content">Backface Visibility</span><a class="self-link" href="#backface-visibility"></a></h4>
   <p>Using three-dimensional transforms, it’s possible to transform an element such that its reverse side is visible. 3D-transformed elements show the same content on both sides, so the reverse side looks like a mirror-image of the front side (as if the element were projected onto a sheet of glass). Normally, elements whose reverse side is towards the viewer remain visible. However, the <a class="property css" data-link-type="property" href="#propdef-backface-visibility" id="ref-for-propdef-backface-visibility③">backface-visibility</a> property allows the author to make an element invisible when its reverse side is towards the viewer. This behavior is "live"; if an element with <span class="css" id="ref-for-propdef-backface-visibility④">backface-visibility: hidden</span> were animating, such that its front and reverse sides were alternately visible, then it would only be visible when the front side were towards the viewer.</p>
   <p>Visibility of the reverse side of an element is considered using the <a data-link-type="dfn" href="#accumulated-3d-transformation-matrix" id="ref-for-accumulated-3d-transformation-matrix②">accumulated 3D transformation matrix</a>, and is thus relative to the parent of the element that establishes the <a data-link-type="dfn" href="#3d-rendering-context" id="ref-for-3d-rendering-context①③">3D rendering context</a>.</p>
   <p class="note" role="note"><span class="marker">Note:</span> This property is useful when you place two elements back-to-back, as you would to create a playing card. Without this property, the front and back elements could switch places at times during an animation to flip the card. Another example is creating a box out of 6 elements, but where you want to see only the inside faces of the box.</p>
   <div class="example" id="example-551edcaa">
    <a class="self-link" href="#example-551edcaa"></a> 
    <p>This example shows how to make a "card" element that flips over when clicked. Note the "transform-style: preserve-3d" on #card which is necessary to avoid flattening when flipped.</p>
<pre>&lt;style>
.body { perspective: 500px; }
#card {
  position: relative;
  height: 300px; width: 200px;
  transition: transform 1s;
  transform-style: preserve-3d;
}
#card.flipped {
  transform: rotateY(180deg);
}
.face {
  position: absolute;
  top: 0; left: 0;
  width: 100%; height: 100%;
  background-color: silver;
  border-radius: 40px;
  backface-visibility: hidden;
}
.back {
  transform: rotateY(180deg);
}
&lt;/style>
&lt;div id="card" onclick="this.classList.toggle('flipped')">
  &lt;div class="front face">Front&lt;/div>
  &lt;div class="back face">Back&lt;/div>
&lt;/div>
</pre>
   </div>
   <p class="issue" id="issue-7b36039d"><a class="self-link" href="#issue-7b36039d"></a> what is the impact of backface-visibility on non-transformed or 2D-transformed elements? Do they get popped into their own planes and intersect?</p>
   <h3 class="heading settled" data-level="4.2" id="processing-of-perspective-transformed-boxes"><span class="secno">4.2. </span><span class="content">Processing of Perspective-Transformed Boxes</span><a class="self-link" href="#processing-of-perspective-transformed-boxes"></a></h3>
   <p class="issue" id="issue-0f626662"><a class="self-link" href="#issue-0f626662"></a> This is a first pass at an attempt to precisely specify how exactly to transform elements using the provided matrices. It might not be ideal, and implementer feedback is encouraged.  See <a href="https://www.w3.org/Bugs/Public/show_bug.cgi?id=15605">bug 15605</a>.</p>
   <p>The <a data-link-type="dfn" href="#accumulated-3d-transformation-matrix" id="ref-for-accumulated-3d-transformation-matrix③">accumulated 3D transformation matrix</a> is affected both by the <span class="css">perspective</span> property, and by any perspective() transform function present in the value of the <span class="css">transform</span> property.</p>
   <p>This <a data-link-type="dfn" href="#accumulated-3d-transformation-matrix" id="ref-for-accumulated-3d-transformation-matrix④">accumulated 3D transformation matrix</a> is a 4×4 matrix, while the objects to be transformed are two-dimensional boxes. To transform each corner (<var>a</var>, <var>b</var>) of a box, the matrix must first be applied to (<var>a</var>, <var>b</var>, 0, 1), which will result in a four-dimensional point (<var>x</var>, <var>y</var>, <var>z</var>, <var>w</var>).  This is transformed back to a three-dimensional point (<var>x</var>′, <var>y</var>′, <var>z</var>′) as follows:</p>
   <p>If <var>w</var> > 0, (<var>x</var>′, <var>y</var>′, <var>z</var>′) = (<var>x</var>/<var>w</var>, <var>y</var>/<var>w</var>, <var>z</var>/<var>w</var>).</p>
   <p>If <var>w</var> = 0, (<var>x</var>′, <var>y</var>′, <var>z</var>′) = (<var>x</var> ⋅ <var>n</var>, <var>y</var> ⋅ <var>n</var>, <var>z</var> ⋅ <var>n</var>). <var>n</var> is an implementation-dependent value that should be chosen so that <var>x</var>′ or <var>y</var>′ is much larger than the viewport size, if possible.  For example, (5px, 22px, 0px, 0) might become (5000px, 22000px, 0px), with <var>n</var> = 1000, but this value of <var>n</var> would be too small for (0.1px, 0.05px, 0px, 0). This specification does not define the value of <var>n</var> exactly.  Conceptually, (<var>x</var>′, <var>y</var>′, <var>z</var>′) is <a href="http://en.wikipedia.org/wiki/Plane_at_infinity">infinitely far</a> in the direction (<var>x</var>, <var>y</var>, <var>z</var>).</p>
   <p>If <var>w</var> &lt; 0 for all four corners of the transformed box, the box is not rendered.</p>
   <p>If <var>w</var> &lt; 0 for one to three corners of the transformed box, the box must be replaced by a polygon that has any parts with <var>w</var> &lt; 0 cut out. This will in general be a polygon with three to five vertices, of which exactly two will have <var>w</var> = 0 and the rest <var>w</var> > 0. These vertices are then transformed to three-dimensional points using the rules just stated.  Conceptually, a point with <var>w</var> &lt; 0 is "behind" the viewer, so should not be visible.</p>
   <div class="example" id="example-b7386d44">
    <a class="self-link" href="#example-b7386d44"></a> 
<pre>.transformed {
  height: 100px;
  width: 100px;
  background: lime;
  transform: perspective(50px) translateZ(100px);
}
</pre>
    <p>All of the box’s corners have <var>z</var>-coordinates greater than the perspective.  This means that the box is behind the viewer and will not display.  Mathematically, the point (<var>x</var>, <var>y</var>) first becomes (<var>x</var>, <var>y</var>, 0, 1), then is translated to (<var>x</var>, <var>y</var>, 100, 1), and then applying the perspective results in (<var>x</var>, <var>y</var>, 100, −1). The <var>w</var>-coordinate is negative, so it does not display. An implementation that doesn’t handle the <var>w</var> &lt; 0 case separately might incorrectly display this point as (−<var>x</var>, −<var>y</var>, −100), dividing by −1 and mirroring the box.</p>
   </div>
   <div class="example" id="example-81d81b28">
    <a class="self-link" href="#example-81d81b28"></a> 
<pre>.transformed {
  height: 100px;
  width: 100px;
  background: radial-gradient(yellow, blue);
  transform: perspective(50px) translateZ(50px);
}
</pre>
    <p>Here, the box is translated upward so that it sits at the same place the viewer is looking from. This is like bringing the box closer and closer to one’s eye until it fills the entire field of vision. Since the default transform-origin is at the center of the box, which is yellow, the screen will be filled with yellow.</p>
    <p>Mathematically, the point (<var>x</var>, <var>y</var>) first becomes (<var>x</var>, <var>y</var>, 0, 1), then is translated to (<var>x</var>, <var>y</var>, 50, 1), then becomes (<var>x</var>, <var>y</var>, 50, 0) after applying perspective. Relative to the transform-origin at the center, the upper-left corner was (−50, −50), so it becomes (−50,
		−50, 50, 0).  This is transformed to something very far to the upper left, such as (−5000, −5000, 5000).  Likewise the other corners are sent very far away. The radial gradient is stretched over the whole box, now enormous, so the part that’s visible without scrolling should be the color of the middle pixel: yellow.  However, since the box is not actually infinite, the user can still scroll to the edges to see the blue parts.</p>
   </div>
   <div class="example" id="example-834b4b29">
    <a class="self-link" href="#example-834b4b29"></a> 
<pre>.transformed {
  height: 50px;
  width: 50px;
  background: lime;
  border: 25px solid blue;
  transform-origin: left;
  transform: perspective(50px) rotateY(-45deg);
}
</pre>
    <p>The box will be rotated toward the viewer, with the left edge staying fixed while the right edge swings closer.  The right edge will be at about <var>z</var> = <span class="css">70.7px</span>, which is closer than the perspective of <span class="css">50px</span>. Therefore, the rightmost edge will vanish ("behind" the viewer), and the visible part will stretch out infinitely far to the right.</p>
    <p>Mathematically, the top right vertex of the box was originally (100, −50), relative to the transform-origin. It is first expanded to (100, −50, 0, 1).  After applying the transform specified, this will get mapped to about (70.71, −50, 70.71, −0.4142). This has <var>w</var> = −0.4142 &lt; 0, so we need to slice away the part of the box with <var>w</var> &lt; 0.  This results in the new top-right vertex being (50, −50, 50, 0).  This is then mapped to some faraway point in the same direction, such as (5000, −5000, 5000), which is up and to the right from the transform-origin.  Something similar is done to the lower right corner, which gets mapped far down and to the right. The resulting box stretches far past the edge of the screen.</p>
    <p>Again, the rendered box is still finite, so the user can scroll to see the whole thing if he or she chooses. However, the right part has been chopped off.  No matter how far the user scrolls, the rightmost <span class="css">30px</span> or so of the original box will not be visible.  The blue border was only <span class="css">25px</span> wide, so it will be visible on the left, top, and bottom, but not the right.</p>
    <p>The same basic procedure would apply if one or three vertices had <var>w</var> &lt; 0.  However, in that case the result of truncating the <var>w</var> &lt; 0 part would be a triangle or pentagon instead of a quadrilateral.</p>
   </div>
   <h2 class="heading settled" data-level="5" id="individual-transforms"><span class="secno">5. </span><span class="content">Individual Transform Properties: the <a class="property css" data-link-type="property" href="#propdef-translate" id="ref-for-propdef-translate①">translate</a>, <a class="property css" data-link-type="property" href="#propdef-scale" id="ref-for-propdef-scale①">scale</a>, and <a class="property css" data-link-type="property" href="#propdef-rotate" id="ref-for-propdef-rotate①">rotate</a> properties</span><a class="self-link" href="#individual-transforms"></a></h2>
   <p>The <a class="property css" data-link-type="property" href="#propdef-translate" id="ref-for-propdef-translate②">translate</a>, <a class="property css" data-link-type="property" href="#propdef-rotate" id="ref-for-propdef-rotate②">rotate</a>, and <a class="property css" data-link-type="property" href="#propdef-scale" id="ref-for-propdef-scale②">scale</a> properties
allow authors to specify simple transforms independently,
in a way that maps to typical user interface usage,
rather than having to remember the order in <a class="property css" data-link-type="property" href="https://drafts.csswg.org/css-transforms-1/#propdef-transform" id="ref-for-propdef-transform⑧">transform</a> that keeps the actions of <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-transforms-1/#funcdef-transform-translate" id="ref-for-funcdef-transform-translate">translate()</a>, <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-transforms-1/#funcdef-transform-rotate" id="ref-for-funcdef-transform-rotate">rotate()</a> and <a class="css" data-link-type="maybe" href="#funcdef-scale" id="ref-for-funcdef-scale">scale()</a> independent and acting in screen coordinates.</p>
   <table class="def propdef" data-link-for-hint="translate">
    <tbody>
     <tr>
      <th>Name:
      <td><dfn class="dfn-paneled css" data-dfn-type="property" data-export id="propdef-translate">translate</dfn>
     <tr class="value">
      <th><a href="https://www.w3.org/TR/css-values/#value-defs">Value:</a>
      <td class="prod">none <a data-link-type="grammar" href="https://drafts.csswg.org/css-values-4/#comb-one" id="ref-for-comb-one">|</a> <a class="production css" data-link-type="type" href="https://drafts.csswg.org/css-values-4/#typedef-length-percentage" id="ref-for-typedef-length-percentage">&lt;length-percentage></a> [ <span class="production" id="ref-for-typedef-length-percentage①">&lt;length-percentage></span> <a class="production css" data-link-type="type" href="https://drafts.csswg.org/css-values-4/#length-value" id="ref-for-length-value">&lt;length></a><a data-link-type="grammar" href="https://drafts.csswg.org/css-values-4/#mult-opt" id="ref-for-mult-opt">?</a> ]<span id="ref-for-mult-opt①">?</span>
     <tr>
      <th><a href="https://www.w3.org/TR/css-cascade/#initial-values">Initial:</a>
      <td>none
     <tr>
      <th><a href="https://www.w3.org/TR/css-cascade/#applies-to">Applies to:</a>
      <td><a data-link-type="dfn" href="https://drafts.csswg.org/css-transforms-1/#transformable-element" id="ref-for-transformable-element①">transformable elements</a>
     <tr>
      <th><a href="https://www.w3.org/TR/css-cascade/#inherited-property">Inherited:</a>
      <td>no
     <tr>
      <th><a href="https://www.w3.org/TR/css-values/#percentages">Percentages:</a>
      <td>relative to the width of the <a data-link-type="dfn" href="https://drafts.csswg.org/css-transforms-1/#reference-box" id="ref-for-reference-box">reference box</a> (for the first value) or the height (for the second value)
     <tr>
      <th><a href="https://www.w3.org/TR/css-cascade/#computed">Computed value:</a>
      <td>the keyword <a class="css" data-link-type="maybe" href="#valdef-translate-none" id="ref-for-valdef-translate-none">none</a> or a pair of computed <a class="production css" data-link-type="type" href="https://drafts.csswg.org/css-values-4/#typedef-length-percentage" id="ref-for-typedef-length-percentage②">&lt;length-percentage></a> values and an absolute length
     <tr>
      <th><a href="https://www.w3.org/TR/cssom/#serializing-css-values">Canonical order:</a>
      <td>per grammar
     <tr>
      <th><a href="https://www.w3.org/TR/web-animations/#animation-type">Animation type:</a>
      <td>by computed value, but see below for <a class="css" data-link-type="maybe" href="#valdef-translate-none" id="ref-for-valdef-translate-none①">none</a>
   </table>
   <p>The <a class="property css" data-link-type="property" href="#propdef-translate" id="ref-for-propdef-translate③">translate</a> property accepts 1-3 values,
each specifying a translation against one axis,
in the order X, Y, then Z.
When the second or third values are missing,
they default to <span class="css">0px</span>.</p>
   <p>If the third value is omitted or zero,
this specifies a 2d translation,
equivalent to the <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-transforms-1/#funcdef-transform-translate" id="ref-for-funcdef-transform-translate①">translate()</a> function.
Otherwise,
this specifies a 3d translation,
equivalent to the <a class="css" data-link-type="maybe" href="#funcdef-translate3d" id="ref-for-funcdef-translate3d">translate3d()</a> function.</p>
   <p class="note" role="note"><span class="marker">Note:</span> The <a data-link-type="dfn" href="https://drafts.csswg.org/cssom-1/#resolved-value" id="ref-for-resolved-value">resolved value</a> of the <a class="property css" data-link-type="property" href="#propdef-translate" id="ref-for-propdef-translate④">translate</a> property
is the <a data-link-type="dfn" href="https://drafts.csswg.org/css-cascade-5/#computed-value" id="ref-for-computed-value②">computed value</a>,
and thus <code class="idl"><a data-link-type="idl" href="https://drafts.csswg.org/cssom-1/#dom-window-getcomputedstyle" id="ref-for-dom-window-getcomputedstyle">getComputedStyle()</a></code> includes percentage values in its results.</p>
   <table class="def propdef" data-link-for-hint="rotate">
    <tbody>
     <tr>
      <th>Name:
      <td><dfn class="dfn-paneled css" data-dfn-type="property" data-export id="propdef-rotate">rotate</dfn>
     <tr class="value">
      <th><a href="https://www.w3.org/TR/css-values/#value-defs">Value:</a>
      <td class="prod">none <a data-link-type="grammar" href="https://drafts.csswg.org/css-values-4/#comb-one" id="ref-for-comb-one①">|</a> <a class="production css" data-link-type="type" href="https://drafts.csswg.org/css-values-4/#angle-value" id="ref-for-angle-value">&lt;angle></a> <span id="ref-for-comb-one②">|</span> [ x <span id="ref-for-comb-one③">|</span> y <span id="ref-for-comb-one④">|</span> z <span id="ref-for-comb-one⑤">|</span> <a class="production css" data-link-type="type" href="https://drafts.csswg.org/css-values-4/#number-value" id="ref-for-number-value">&lt;number></a><a data-link-type="grammar" href="https://drafts.csswg.org/css-values-4/#mult-num" id="ref-for-mult-num">{3}</a> ] <a data-link-type="grammar" href="https://drafts.csswg.org/css-values-4/#comb-all" id="ref-for-comb-all">&amp;&amp;</a> <span class="production" id="ref-for-angle-value①">&lt;angle></span>
     <tr>
      <th><a href="https://www.w3.org/TR/css-cascade/#initial-values">Initial:</a>
      <td>none
     <tr>
      <th><a href="https://www.w3.org/TR/css-cascade/#applies-to">Applies to:</a>
      <td><a data-link-type="dfn" href="https://drafts.csswg.org/css-transforms-1/#transformable-element" id="ref-for-transformable-element②">transformable elements</a>
     <tr>
      <th><a href="https://www.w3.org/TR/css-cascade/#inherited-property">Inherited:</a>
      <td>no
     <tr>
      <th><a href="https://www.w3.org/TR/css-values/#percentages">Percentages:</a>
      <td>n/a
     <tr>
      <th><a href="https://www.w3.org/TR/css-cascade/#computed">Computed value:</a>
      <td>the keyword <a class="css" data-link-type="maybe" href="#valdef-translate-none" id="ref-for-valdef-translate-none②">none</a>, or an <a class="production css" data-link-type="type" href="https://drafts.csswg.org/css-values-4/#angle-value" id="ref-for-angle-value②">&lt;angle></a> with an axis consisting of a list of three <a class="production css" data-link-type="type" href="https://drafts.csswg.org/css-values-4/#number-value" id="ref-for-number-value①">&lt;number></a>s
     <tr>
      <th><a href="https://www.w3.org/TR/cssom/#serializing-css-values">Canonical order:</a>
      <td>per grammar
     <tr>
      <th><a href="https://www.w3.org/TR/web-animations/#animation-type">Animation type:</a>
      <td>as SLERP, but see below for <a class="css" data-link-type="maybe" href="#valdef-translate-none" id="ref-for-valdef-translate-none③">none</a>
   </table>
   <p>The <a class="property css" data-link-type="property" href="#propdef-rotate" id="ref-for-propdef-rotate③">rotate</a> property accepts an angle to rotate an element,
and optionally an axis to rotate it around.</p>
   <p>The axis can be specified with either the <dfn class="dfn-paneled css" data-dfn-for="rotate" data-dfn-type="value" data-export id="valdef-rotate-x">x</dfn>, <dfn class="dfn-paneled css" data-dfn-for="rotate" data-dfn-type="value" data-export id="valdef-rotate-y">y</dfn>,
or <dfn class="dfn-paneled css" data-dfn-for="rotate" data-dfn-type="value" data-export id="valdef-rotate-z">z</dfn> keywords,
which specify a rotation around that axis,
equivalent to the <a class="css" data-link-type="maybe" href="#funcdef-rotatex" id="ref-for-funcdef-rotatex">rotateX()</a>, <a class="css" data-link-type="maybe" href="#funcdef-rotatey" id="ref-for-funcdef-rotatey">rotateY()</a>,
and <a class="css" data-link-type="maybe" href="#funcdef-rotatez" id="ref-for-funcdef-rotatez">rotateZ()</a> transform functions.
Alternately, the axis can be specified explicitly
by giving three numbers
representing the x, y, and z components of an origin-centered vector,
equivalent to the <a class="css" data-link-type="maybe" href="#funcdef-rotate3d" id="ref-for-funcdef-rotate3d">rotate3d()</a> function.</p>
   <p>There is no difference in behavior between
a rotation specified as an <a class="production css" data-link-type="type" href="https://drafts.csswg.org/css-values-4/#angle-value" id="ref-for-angle-value③">&lt;angle></a> alone
and a rotation specified as being around the z-axis
(whether by the <a class="css" data-link-type="maybe" href="#valdef-rotate-z" id="ref-for-valdef-rotate-z">z</a> keyword or
by a vector whose first two components are zero
and third component is positive);
they are all 2d rotations equivalent to the <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-transforms-1/#funcdef-transform-rotate" id="ref-for-funcdef-transform-rotate①">rotate()</a> function.
For example, <a class="css" data-link-type="propdesc" href="#propdef-rotate" id="ref-for-propdef-rotate④">rotate: 30deg</a>, <span class="css" id="ref-for-propdef-rotate⑤">rotate: z 30deg</span>, and <span class="css" id="ref-for-propdef-rotate⑥">rotate: 0 0 1 30deg</span> are equivalent.</p>
   <table class="def propdef" data-link-for-hint="scale">
    <tbody>
     <tr>
      <th>Name:
      <td><dfn class="dfn-paneled css" data-dfn-type="property" data-export id="propdef-scale">scale</dfn>
     <tr class="value">
      <th><a href="https://www.w3.org/TR/css-values/#value-defs">Value:</a>
      <td class="prod">none <a data-link-type="grammar" href="https://drafts.csswg.org/css-values-4/#comb-one" id="ref-for-comb-one⑥">|</a> [ <a class="production css" data-link-type="type" href="https://drafts.csswg.org/css-values-4/#number-value" id="ref-for-number-value②">&lt;number></a> <span id="ref-for-comb-one⑦">|</span> <a class="production css" data-link-type="type" href="https://drafts.csswg.org/css-values-4/#percentage-value" id="ref-for-percentage-value">&lt;percentage></a> ]<a data-link-type="grammar" href="https://drafts.csswg.org/css-values-4/#mult-num-range" id="ref-for-mult-num-range">{1,3}</a>
     <tr>
      <th><a href="https://www.w3.org/TR/css-cascade/#initial-values">Initial:</a>
      <td>none
     <tr>
      <th><a href="https://www.w3.org/TR/css-cascade/#applies-to">Applies to:</a>
      <td><a data-link-type="dfn" href="https://drafts.csswg.org/css-transforms-1/#transformable-element" id="ref-for-transformable-element③">transformable elements</a>
     <tr>
      <th><a href="https://www.w3.org/TR/css-cascade/#inherited-property">Inherited:</a>
      <td>no
     <tr>
      <th><a href="https://www.w3.org/TR/css-values/#percentages">Percentages:</a>
      <td>n/a
     <tr>
      <th><a href="https://www.w3.org/TR/css-cascade/#computed">Computed value:</a>
      <td>the keyword <a class="css" data-link-type="maybe" href="#valdef-translate-none" id="ref-for-valdef-translate-none④">none</a>, or a list of 3 <a class="production css" data-link-type="type" href="https://drafts.csswg.org/css-values-4/#number-value" id="ref-for-number-value③">&lt;number></a>s
     <tr>
      <th><a href="https://www.w3.org/TR/cssom/#serializing-css-values">Canonical order:</a>
      <td>per grammar
     <tr>
      <th><a href="https://www.w3.org/TR/web-animations/#animation-type">Animation type:</a>
      <td>by computed value, but see below for <a class="css" data-link-type="maybe" href="#valdef-translate-none" id="ref-for-valdef-translate-none⑤">none</a>
   </table>
   <p>The <a class="property css" data-link-type="property" href="#propdef-scale" id="ref-for-propdef-scale③">scale</a> property accepts 1-3 values,
each specifying a scale along one axis,
in order X, Y, then Z.</p>
   <p>If the Y value is not given,
then it defaults to being the same as the X value.</p>
   <p>If the Z value is not given,
then it defaults to <span class="css">1</span>.</p>
   <p>If the third value is omitted, <span class="css">1</span>, or <span class="css">100%</span>,
this specifies a 2d scaling,
equivalent to the <a class="css" data-link-type="maybe" href="#funcdef-scale" id="ref-for-funcdef-scale①">scale()</a> function.
Otherwise,
this specifies a 3d scaling,
equivalent to the <a class="css" data-link-type="maybe" href="#funcdef-scale3d" id="ref-for-funcdef-scale3d">scale3d()</a> function.</p>
   <p>There is no difference in behavior between the third value being omitted
and the third value being <span class="css">1</span> or <span class="css">100%</span>.</p>
   <p>A <a class="production css" data-link-type="type" href="https://drafts.csswg.org/css-values-4/#percentage-value" id="ref-for-percentage-value①">&lt;percentage></a> is equivalent to a <a class="production css" data-link-type="type" href="https://drafts.csswg.org/css-values-4/#number-value" id="ref-for-number-value④">&lt;number></a>,
for example <a class="css" data-link-type="propdesc" href="#propdef-scale" id="ref-for-propdef-scale④">scale: 100%</a> is equivalent to <span class="css" id="ref-for-propdef-scale⑤">scale: 1</span>.
Numbers are used during serialization of specified and computed values.</p>
   <hr>
   <p>All three properties accept
(and default to)
the value <dfn class="dfn-paneled css" data-dfn-for="translate, rotate, scale" data-dfn-type="value" data-export id="valdef-translate-none">none</dfn>,
which produces no transform at all.
In particular,
this value does <em>not</em> trigger the creation of a stacking context or <a data-link-type="dfn" href="https://drafts.csswg.org/css-transforms-1/#containing-block-for-all-descendants" id="ref-for-containing-block-for-all-descendants①">containing block for all descendants</a>,
while all other values
(including “identity” transforms like <a class="css" data-link-type="propdesc" href="#propdef-translate" id="ref-for-propdef-translate⑤">translate: 0px</a>)
create a stacking context and <span id="ref-for-containing-block-for-all-descendants②">containing block for all descendants</span>,
per usual for transforms.</p>
   <p>When <a class="property css" data-link-type="property" href="#propdef-translate" id="ref-for-propdef-translate⑥">translate</a>, <a class="property css" data-link-type="property" href="#propdef-rotate" id="ref-for-propdef-rotate⑦">rotate</a> or <a class="property css" data-link-type="property" href="#propdef-scale" id="ref-for-propdef-scale⑥">scale</a> are animating or transitioning, and the from value or to
value (but not both) is <a class="css" data-link-type="maybe" href="#valdef-translate-none" id="ref-for-valdef-translate-none⑥">none</a>, the value <span class="css" id="ref-for-valdef-translate-none⑦">none</span> is replaced by the equivalent identity
value (<span class="css">0px</span> for translate, <span class="css">0deg</span> for rotate, <span class="css">1</span> for scale).</p>
   <h3 class="heading settled" data-level="5.1" id="individual-transform-serialization"><span class="secno">5.1. </span><span class="content">Serialization</span><a class="self-link" href="#individual-transform-serialization"></a></h3>
   <p>Because these properties have two distinct modes of behavior
(no transform versus transform),
serialization must take this into account:</p>
   <dl>
    <dt data-md>for <a class="property css" data-link-type="property" href="#propdef-translate" id="ref-for-propdef-translate⑦">translate</a>
    <dd data-md>
     <p>If a translation is specified,
the property must serialize with one through three values.
(As usual, if the second and third values are <span class="css">0px</span>, the default,
    or if only the third value is <span class="css">0px</span>,
    then those <span class="css">0px</span> values must be omitted when serializing).</p>
     <p>It must serialize as the keyword <a class="css" data-link-type="maybe" href="#valdef-translate-none" id="ref-for-valdef-translate-none⑧">none</a> if and only if <span class="css" id="ref-for-valdef-translate-none⑨">none</span> was originally specified.
(An identity transform does not count;
it must serialize as <span class="css">0px</span>.)</p>
    <dt data-md>for <a class="property css" data-link-type="property" href="#propdef-rotate" id="ref-for-propdef-rotate⑧">rotate</a>
    <dd data-md>
     <p>If a rotation about the z axis (that is, in 2D) is specified,
the property must serialize as just an <a class="production css" data-link-type="type" href="https://drafts.csswg.org/css-values-4/#angle-value" id="ref-for-angle-value④">&lt;angle></a>.</p>
     <p>If any other rotation is specified,
the property must serialize with an axis specified.
If the axis is parallel with the x or y axes,
it must serialize as the appropriate keyword.</p>
     <p>It must serialize as the keyword <a class="css" data-link-type="maybe" href="#valdef-translate-none" id="ref-for-valdef-translate-none①⓪">none</a> if and only if <span class="css" id="ref-for-valdef-translate-none①①">none</span> was originally specified.
(An identity transform does not count;
it must serialize as <span class="css">0deg</span>.)</p>
    <dt data-md>for <a class="property css" data-link-type="property" href="#propdef-scale" id="ref-for-propdef-scale⑦">scale</a>
    <dd data-md>
     <p>If a scale is specified,
the property must serialize with only one through three values.
    As usual, if the third value is 1, the default,
    then it is omitted when serializing.
    If the third value is omitted
    and the second value is the same as the first (the default),
    then the second value is also omitted when serializing.</p>
     <p>It must serialize as the keyword <a class="css" data-link-type="maybe" href="#valdef-translate-none" id="ref-for-valdef-translate-none①②">none</a> if and only if <span class="css" id="ref-for-valdef-translate-none①③">none</span> was originally specified.
(An identity transform does not count;
it must serialize as <span class="css">1</span>.)</p>
   </dl>
   <h2 class="heading settled" data-level="6" id="ctm"><span class="secno">6. </span><span class="content">Current Transformation Matrix</span><a class="self-link" href="#ctm"></a></h2>
   <p>The <a data-link-type="dfn" href="https://drafts.csswg.org/css-transforms-1/#transformation-matrix" id="ref-for-transformation-matrix②">transformation matrix</a> computation is amended to the following:</p>
   <p>The transformation matrix is computed from the <a class="property css" data-link-type="property" href="https://drafts.csswg.org/css-transforms-1/#propdef-transform" id="ref-for-propdef-transform⑨">transform</a>, <a class="property css" data-link-type="property" href="https://drafts.csswg.org/css-transforms-1/#propdef-transform-origin" id="ref-for-propdef-transform-origin⑤">transform-origin</a>, <a class="property css" data-link-type="property" href="#propdef-translate" id="ref-for-propdef-translate⑧">translate</a>, <a class="property css" data-link-type="property" href="#propdef-rotate" id="ref-for-propdef-rotate⑨">rotate</a>, <a class="property css" data-link-type="property" href="#propdef-scale" id="ref-for-propdef-scale⑧">scale</a>, and <a class="property css" data-link-type="property" href="https://drafts.fxtf.org/motion-1/#propdef-offset" id="ref-for-propdef-offset">offset</a> properties as follows:</p>
   <ol>
    <li data-md>
     <p>Start with the identity matrix.</p>
    <li data-md>
     <p>Translate by the computed X, Y, and Z values of <a class="property css" data-link-type="property" href="https://drafts.csswg.org/css-transforms-1/#propdef-transform-origin" id="ref-for-propdef-transform-origin⑥">transform-origin</a>.</p>
    <li data-md>
     <p>Translate by the computed X, Y, and Z values of <a class="property css" data-link-type="property" href="#propdef-translate" id="ref-for-propdef-translate⑨">translate</a>.</p>
    <li data-md>
     <p>Rotate by the computed <a class="production css" data-link-type="type" href="https://drafts.csswg.org/css-values-4/#angle-value" id="ref-for-angle-value⑤">&lt;angle></a> about the specified axis of <a class="property css" data-link-type="property" href="#propdef-rotate" id="ref-for-propdef-rotate①⓪">rotate</a>.</p>
    <li data-md>
     <p>Scale by the computed X, Y, and Z values of <a class="property css" data-link-type="property" href="#propdef-scale" id="ref-for-propdef-scale⑨">scale</a>.</p>
    <li data-md>
     <p>Translate and rotate by the transform specified by <a class="property css" data-link-type="property" href="https://drafts.fxtf.org/motion-1/#propdef-offset" id="ref-for-propdef-offset①">offset</a>.</p>
    <li data-md>
     <p>Multiply by each of the transform functions in <a class="property css" data-link-type="property" href="https://drafts.csswg.org/css-transforms-1/#propdef-transform" id="ref-for-propdef-transform①⓪">transform</a> from left to right.</p>
    <li data-md>
     <p>Translate by the negated computed X, Y and Z values of <a class="property css" data-link-type="property" href="https://drafts.csswg.org/css-transforms-1/#propdef-transform-origin" id="ref-for-propdef-transform-origin⑦">transform-origin</a>.</p>
   </ol>
   <h2 class="heading settled" data-level="7" id="transform-style-property"><span class="secno">7. </span><span class="content">The <a class="property css" data-link-type="property" href="#propdef-transform-style" id="ref-for-propdef-transform-style⑥">transform-style</a> Property</span><a class="self-link" href="#transform-style-property"></a></h2>
   <table class="def propdef" data-link-for-hint="transform-style">
    <tbody>
     <tr>
      <th>Name:
      <td><dfn class="dfn-paneled css" data-dfn-type="property" data-export id="propdef-transform-style">transform-style</dfn>
     <tr class="value">
      <th><a href="https://www.w3.org/TR/css-values/#value-defs">Value:</a>
      <td class="prod">flat <a data-link-type="grammar" href="https://drafts.csswg.org/css-values-4/#comb-one" id="ref-for-comb-one⑧">|</a> preserve-3d
     <tr>
      <th><a href="https://www.w3.org/TR/css-cascade/#initial-values">Initial:</a>
      <td>flat
     <tr>
      <th><a href="https://www.w3.org/TR/css-cascade/#applies-to">Applies to:</a>
      <td><a data-link-type="dfn" href="https://drafts.csswg.org/css-transforms-1/#transformable-element" id="ref-for-transformable-element④">transformable elements</a>
     <tr>
      <th><a href="https://www.w3.org/TR/css-cascade/#inherited-property">Inherited:</a>
      <td>no
     <tr>
      <th><a href="https://www.w3.org/TR/css-values/#percentages">Percentages:</a>
      <td>N/A
     <tr>
      <th><a href="https://www.w3.org/TR/css-cascade/#computed">Computed value:</a>
      <td>specified keyword
     <tr>
      <th><a href="https://www.w3.org/TR/cssom/#serializing-css-values">Canonical order:</a>
      <td>per grammar
     <tr>
      <th><a href="https://www.w3.org/TR/web-animations/#animation-type">Animation type:</a>
      <td>discrete
     <tr>
      <th>Used value:
      <td>flat if a <a href="#grouping-property-values">grouping property</a> is present, specified keyword otherwise
   </table>
   <p>A computed value of <span class="css">preserve-3d</span> for <a class="property css" data-link-type="property" href="#propdef-transform-style" id="ref-for-propdef-transform-style⑦">transform-style</a> establishes both a stacking context and a <a data-link-type="dfn" href="https://drafts.csswg.org/css-transforms-1/#containing-block-for-all-descendants" id="ref-for-containing-block-for-all-descendants③">containing block for all descendants</a>. If the used value is <span class="css">preserve-3d</span> then it also establishes or extends a <a data-link-type="dfn" href="#3d-rendering-context" id="ref-for-3d-rendering-context①④">3D rendering context</a>.</p>
   <h3 class="heading settled" data-level="7.1" id="grouping-property-values"><span class="secno">7.1. </span><span class="content">Grouping property values</span><a class="self-link" href="#grouping-property-values"></a></h3>
   <p>The following CSS property values require the user agent to create a flattened representation of the descendant elements before they can be applied, and therefore force the element to have a used style of <span class="css">flat</span> for <span class="css">preserve-3d</span>.</p>
   <ul>
    <li data-md>
     <p><a class="property css" data-link-type="property" href="https://drafts.csswg.org/css-overflow-3/#propdef-overflow" id="ref-for-propdef-overflow">overflow</a>: any value other than <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-overflow-3/#valdef-overflow-visible" id="ref-for-valdef-overflow-visible">visible</a> or <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-overflow-3/#valdef-overflow-clip" id="ref-for-valdef-overflow-clip">clip</a>.</p>
    <li data-md>
     <p><a class="property css" data-link-type="property" href="https://drafts.csswg.org/css-color-4/#propdef-opacity" id="ref-for-propdef-opacity">opacity</a>: any value less than 1.</p>
    <li data-md>
     <p><a class="property css" data-link-type="property" href="https://drafts.fxtf.org/filter-effects-1/#propdef-filter" id="ref-for-propdef-filter">filter</a>: any value other than <span class="css">none</span>.</p>
    <li data-md>
     <p><a class="property css" data-link-type="property" href="https://drafts.fxtf.org/css-masking-1/#propdef-clip" id="ref-for-propdef-clip">clip</a>: any value other than <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css2/#valdef-clip-auto" id="ref-for-valdef-clip-auto">auto</a>.</p>
    <li data-md>
     <p><a class="property css" data-link-type="property" href="https://drafts.fxtf.org/css-masking-1/#propdef-clip-path" id="ref-for-propdef-clip-path">clip-path</a>: any value other than <span class="css">none</span>.</p>
    <li data-md>
     <p><a class="property css" data-link-type="property" href="https://drafts.fxtf.org/compositing-2/#propdef-isolation" id="ref-for-propdef-isolation">isolation</a>: used value of <span class="css">isolate</span>.</p>
    <li data-md>
     <p><a class="property css" data-link-type="property" href="https://drafts.fxtf.org/css-masking-1/#propdef-mask-image" id="ref-for-propdef-mask-image">mask-image</a>: any value other than <span class="css">none</span>.</p>
    <li data-md>
     <p><a class="property css" data-link-type="property" href="https://drafts.fxtf.org/css-masking-1/#propdef-mask-border-source" id="ref-for-propdef-mask-border-source">mask-border-source</a>: any value other than <span class="css">none</span>.</p>
    <li data-md>
     <p><a class="property css" data-link-type="property" href="https://drafts.fxtf.org/compositing-2/#propdef-mix-blend-mode" id="ref-for-propdef-mix-blend-mode">mix-blend-mode</a>: any value other than <span class="css">normal</span>.</p>
   </ul>
   <h2 class="heading settled" data-level="8" id="perspective-property"><span class="secno">8. </span><span class="content">The <a class="property css" data-link-type="property" href="#propdef-perspective" id="ref-for-propdef-perspective①⓪">perspective</a> Property</span><a class="self-link" href="#perspective-property"></a></h2>
   <table class="def propdef" data-link-for-hint="perspective">
    <tbody>
     <tr>
      <th>Name:
      <td><dfn class="dfn-paneled css" data-dfn-type="property" data-export id="propdef-perspective">perspective</dfn>
     <tr class="value">
      <th><a href="https://www.w3.org/TR/css-values/#value-defs">Value:</a>
      <td class="prod">none <a data-link-type="grammar" href="https://drafts.csswg.org/css-values-4/#comb-one" id="ref-for-comb-one⑨">|</a> <a class="production css" data-link-type="type" href="https://drafts.csswg.org/css-values-4/#length-value" id="ref-for-length-value①">&lt;length [0,∞]></a>
     <tr>
      <th><a href="https://www.w3.org/TR/css-cascade/#initial-values">Initial:</a>
      <td>none
     <tr>
      <th><a href="https://www.w3.org/TR/css-cascade/#applies-to">Applies to:</a>
      <td><a data-link-type="dfn" href="https://drafts.csswg.org/css-transforms-1/#transformable-element" id="ref-for-transformable-element⑤">transformable elements</a>
     <tr>
      <th><a href="https://www.w3.org/TR/css-cascade/#inherited-property">Inherited:</a>
      <td>no
     <tr>
      <th><a href="https://www.w3.org/TR/css-values/#percentages">Percentages:</a>
      <td>N/A
     <tr>
      <th><a href="https://www.w3.org/TR/css-cascade/#computed">Computed value:</a>
      <td>the keyword <a class="css" data-link-type="maybe" href="#valdef-perspective-none" id="ref-for-valdef-perspective-none①">none</a> or an absolute length
     <tr>
      <th><a href="https://www.w3.org/TR/cssom/#serializing-css-values">Canonical order:</a>
      <td>per grammar
     <tr>
      <th><a href="https://www.w3.org/TR/web-animations/#animation-type">Animation type:</a>
      <td>by computed value
   </table>
   <dl>
    <dt data-md><dfn class="dfn-paneled css" data-dfn-for="perspective" data-dfn-type="value" data-export id="valdef-perspective-length-0"><a class="production css" data-link-type="type" href="https://drafts.csswg.org/css-values-4/#length-value" id="ref-for-length-value②">&lt;length [0,∞]></a></dfn>
    <dd data-md>
     <p>Distance to the center of projection.</p>
     <p class="issue" id="issue-8678c096"><a class="self-link" href="#issue-8678c096"></a> Verify that projection is the distance to the center of projection.</p>
     <p>As very small <a class="production css" data-link-type="type" href="https://drafts.csswg.org/css-values-4/#length-value" id="ref-for-length-value③">&lt;length></a> values can produce bizarre rendering results
and stress the numerical accuracy of transform calculations,
values less than <span class="css">1px</span> must be treated as <span class="css">1px</span> for rendering purposes.
(This clamping does not affect the underlying value,
so <a class="css" data-link-type="propdesc" href="#propdef-perspective" id="ref-for-propdef-perspective①①">perspective: 0;</a> in a stylesheet
will still serialize back as <span class="css">0</span>.)</p>
    <dt data-md><dfn class="dfn-paneled css" data-dfn-for="perspective" data-dfn-type="value" data-export id="valdef-perspective-none">none</dfn>
    <dd data-md>
     <p>No perspective transform is applied. The effect is mathematically similar to an infinite <a class="production css" data-link-type="type" href="https://drafts.csswg.org/css-values-4/#length-value" id="ref-for-length-value④">&lt;length></a> value. All objects appear to be flat on the canvas.</p>
   </dl>
   <p>The use of this property with any value other than <a class="css" data-link-type="maybe" href="#valdef-perspective-none" id="ref-for-valdef-perspective-none②">none</a> establishes a stacking context. It also establishes a <a data-link-type="dfn" href="https://drafts.csswg.org/css-transforms-1/#containing-block-for-all-descendants" id="ref-for-containing-block-for-all-descendants④">containing block for all descendants</a>, just like the <a class="property css" data-link-type="property" href="https://drafts.csswg.org/css-transforms-1/#propdef-transform" id="ref-for-propdef-transform①①">transform</a> property does.</p>
   <p class="issue" id="issue-d6818476"><a class="self-link" href="#issue-d6818476"></a> We don’t really need to be a stacking context or containing block for perspective, but maybe webcompat means we can’t change this.</p>
   <p>The values of the <a class="property css" data-link-type="property" href="#propdef-perspective" id="ref-for-propdef-perspective①②">perspective</a> and <a class="property css" data-link-type="property" href="#propdef-perspective-origin" id="ref-for-propdef-perspective-origin⑦">perspective-origin</a> properties are used to compute the <a data-link-type="dfn" href="#perspective-matrix" id="ref-for-perspective-matrix②">perspective matrix</a>, as described above.</p>
   <h2 class="heading settled" data-level="9" id="perspective-origin-property"><span class="secno">9. </span><span class="content">The <a class="property css" data-link-type="property" href="#propdef-perspective-origin" id="ref-for-propdef-perspective-origin⑧">perspective-origin</a> Property</span><a class="self-link" href="#perspective-origin-property"></a></h2>
   <p>The <a class="property css" data-link-type="property" href="#propdef-perspective-origin" id="ref-for-propdef-perspective-origin⑨">perspective-origin</a> property establishes the origin for the <a class="property css" data-link-type="property" href="#propdef-perspective" id="ref-for-propdef-perspective①③">perspective</a> property. It effectively sets the X and Y position at which the viewer appears to be looking at the children of the element.</p>
   <table class="def propdef" data-link-for-hint="perspective-origin">
    <tbody>
     <tr>
      <th>Name:
      <td><dfn class="dfn-paneled css" data-dfn-type="property" data-export id="propdef-perspective-origin">perspective-origin</dfn>
     <tr class="value">
      <th><a href="https://www.w3.org/TR/css-values/#value-defs">Value:</a>
      <td class="prod"><a class="production css" data-link-type="type" href="https://drafts.csswg.org/css-values-4/#typedef-position" id="ref-for-typedef-position">&lt;position></a>
     <tr>
      <th><a href="https://www.w3.org/TR/css-cascade/#initial-values">Initial:</a>
      <td>50% 50%
     <tr>
      <th><a href="https://www.w3.org/TR/css-cascade/#applies-to">Applies to:</a>
      <td><a data-link-type="dfn" href="https://drafts.csswg.org/css-transforms-1/#transformable-element" id="ref-for-transformable-element⑥">transformable elements</a>
     <tr>
      <th><a href="https://www.w3.org/TR/css-cascade/#inherited-property">Inherited:</a>
      <td>no
     <tr>
      <th><a href="https://www.w3.org/TR/css-values/#percentages">Percentages:</a>
      <td>refer to the size of the <a data-link-type="dfn" href="https://drafts.csswg.org/css-transforms-1/#reference-box" id="ref-for-reference-box①">reference box</a>
     <tr>
      <th><a href="https://www.w3.org/TR/css-cascade/#computed">Computed value:</a>
      <td>see <a class="property css" data-link-type="property" href="https://drafts.csswg.org/css-backgrounds-3/#propdef-background-position" id="ref-for-propdef-background-position">background-position</a>
     <tr>
      <th><a href="https://www.w3.org/TR/cssom/#serializing-css-values">Canonical order:</a>
      <td>per grammar
     <tr>
      <th><a href="https://www.w3.org/TR/web-animations/#animation-type">Animation type:</a>
      <td>by computed value
   </table>
   <p>The values of the <a class="property css" data-link-type="property" href="#propdef-perspective" id="ref-for-propdef-perspective①④">perspective</a> and <a class="property css" data-link-type="property" href="#propdef-perspective-origin" id="ref-for-propdef-perspective-origin①⓪">perspective-origin</a> properties are used to compute the <a data-link-type="dfn" href="#perspective-matrix" id="ref-for-perspective-matrix③">perspective matrix</a>, as described above.</p>
   <p>The values for <a class="property css" data-link-type="property" href="#propdef-perspective-origin" id="ref-for-propdef-perspective-origin①①">perspective-origin</a> represent an offset of the perspective origin from the top left corner of the <a data-link-type="dfn" href="https://drafts.csswg.org/css-transforms-1/#reference-box" id="ref-for-reference-box②">reference box</a>.</p>
   <dl>
    <dt data-md><dfn class="dfn-paneled css" data-dfn-for="perspective-origin" data-dfn-type="value" data-export id="valdef-perspective-origin-percentage"><a class="production css" data-link-type="type" href="https://drafts.csswg.org/css-values-4/#percentage-value" id="ref-for-percentage-value②">&lt;percentage></a></dfn>
    <dd data-md>
     <p>A percentage for the horizontal perspective offset is relative to the width of the <a data-link-type="dfn" href="https://drafts.csswg.org/css-transforms-1/#reference-box" id="ref-for-reference-box③">reference box</a>. A percentage for the vertical offset is relative to height of the <span id="ref-for-reference-box④">reference box</span>. The value for the horizontal and vertical offset represent an offset from the top left corner of the <span id="ref-for-reference-box⑤">reference box</span>.</p>
    <dt data-md><dfn class="dfn-paneled css" data-dfn-for="perspective-origin" data-dfn-type="value" data-export id="valdef-perspective-origin-length"><a class="production css" data-link-type="type" href="https://drafts.csswg.org/css-values-4/#length-value" id="ref-for-length-value⑤">&lt;length></a></dfn>
    <dd data-md>
     <p>A length value gives a fixed length as the offset. The value for the horizontal and vertical offset represent an offset from the top left corner of the <a data-link-type="dfn" href="https://drafts.csswg.org/css-transforms-1/#reference-box" id="ref-for-reference-box⑥">reference box</a>.</p>
    <dt data-md><dfn class="dfn-paneled css" data-dfn-for="perspective-origin" data-dfn-type="value" data-export id="valdef-perspective-origin-top">top</dfn>
    <dd data-md>
     <p>Computes to <span class="css">0%</span> for the vertical position if one or two values are given, otherwise specifies the top edge as the origin for the next offset.</p>
    <dt data-md><dfn class="dfn-paneled css" data-dfn-for="perspective-origin" data-dfn-type="value" data-export id="valdef-perspective-origin-right">right</dfn>
    <dd data-md>
     <p>Computes to <span class="css">100%</span> for the horizontal position if one or two values are given, otherwise specifies the right edge as the origin for the next offset.</p>
    <dt data-md><dfn class="dfn-paneled css" data-dfn-for="perspective-origin" data-dfn-type="value" data-export id="valdef-perspective-origin-bottom">bottom</dfn>
    <dd data-md>
     <p>Computes to <span class="css">100%</span> for the vertical position if one or two values are given, otherwise specifies the bottom edge as the origin for the next offset.</p>
    <dt data-md><dfn class="dfn-paneled css" data-dfn-for="perspective-origin" data-dfn-type="value" data-export id="valdef-perspective-origin-left">left</dfn>
    <dd data-md>
     <p>Computes to <span class="css">0%</span> for the horizontal position if one or two values are given, otherwise specifies the left edge as the origin for the next offset.</p>
    <dt data-md><dfn class="dfn-paneled css" data-dfn-for="perspective-origin" data-dfn-type="value" data-export id="valdef-perspective-origin-center">center</dfn>
    <dd data-md>
     <p>Computes to <span class="css">50%</span> (<span class="css">left 50%</span>) for the horizontal position if the horizontal position is not otherwise specified, or <span class="css">50%</span> (<span class="css">top 50%</span>) for the vertical position if it is.</p>
   </dl>
   <p>The <a class="property css" data-link-type="property" href="#propdef-perspective-origin" id="ref-for-propdef-perspective-origin①②">perspective-origin</a> property is a <a data-link-type="dfn" href="https://drafts.csswg.org/cssom-1/#resolved-value-special-case-property-like-height" id="ref-for-resolved-value-special-case-property-like-height">resolved value special case property like <span class="css">height</span></a>. <a data-link-type="biblio" href="#biblio-cssom" title="CSS Object Model (CSSOM)">[CSSOM]</a></p>
   <h2 class="heading settled" data-level="10" id="backface-visibility-property"><span class="secno">10. </span><span class="content">The <a class="property css" data-link-type="property" href="#propdef-backface-visibility" id="ref-for-propdef-backface-visibility⑤">backface-visibility</a> Property</span><a class="self-link" href="#backface-visibility-property"></a></h2>
   <table class="def propdef" data-link-for-hint="backface-visibility">
    <tbody>
     <tr>
      <th>Name:
      <td><dfn class="dfn-paneled css" data-dfn-type="property" data-export id="propdef-backface-visibility">backface-visibility</dfn>
     <tr class="value">
      <th><a href="https://www.w3.org/TR/css-values/#value-defs">Value:</a>
      <td class="prod">visible <a data-link-type="grammar" href="https://drafts.csswg.org/css-values-4/#comb-one" id="ref-for-comb-one①⓪">|</a> hidden
     <tr>
      <th><a href="https://www.w3.org/TR/css-cascade/#initial-values">Initial:</a>
      <td>visible
     <tr>
      <th><a href="https://www.w3.org/TR/css-cascade/#applies-to">Applies to:</a>
      <td><a data-link-type="dfn" href="https://drafts.csswg.org/css-transforms-1/#transformable-element" id="ref-for-transformable-element⑦">transformable elements</a>
     <tr>
      <th><a href="https://www.w3.org/TR/css-cascade/#inherited-property">Inherited:</a>
      <td>no
     <tr>
      <th><a href="https://www.w3.org/TR/css-values/#percentages">Percentages:</a>
      <td>N/A
     <tr>
      <th><a href="https://www.w3.org/TR/css-cascade/#computed">Computed value:</a>
      <td>specified keyword
     <tr>
      <th><a href="https://www.w3.org/TR/cssom/#serializing-css-values">Canonical order:</a>
      <td>per grammar
     <tr>
      <th><a href="https://www.w3.org/TR/web-animations/#animation-type">Animation type:</a>
      <td>discrete
   </table>
   <p>The visibility of an element with <a class="css" data-link-type="propdesc" href="#propdef-backface-visibility" id="ref-for-propdef-backface-visibility⑥">backface-visibility: hidden</a> is determined as follows:</p>
   <ol>
    <li data-md>
     <p>Compute the element’s <a data-link-type="dfn" href="#accumulated-3d-transformation-matrix" id="ref-for-accumulated-3d-transformation-matrix⑤">accumulated 3D transformation matrix</a>.</p>
    <li data-md>
     <p>If the component of the matrix in row 3, column 3 is negative, then the element should be hidden. Otherwise it is visible.</p>
   </ol>
   <p class="issue" id="issue-972d97c8"><a class="self-link" href="#issue-972d97c8"></a> Backface-visibility cannot be tested by only looking at m33. See <a href="https://www.w3.org/Bugs/Public/show_bug.cgi?id=23014">Bug 23014</a>.</p>
   <p class="note" role="note"><span class="marker">Note:</span> The reasoning for this definition is as follows. Assume elements are rectangles in the <var>x</var>–<var>y</var> plane with infinitesimal thickness. The front of the untransformed element has coordinates like (<var>x</var>, <var>y</var>, <var>ε</var>), and the back is (<var>x</var>, <var>y</var>, −<var>ε</var>), for some very small <var>ε</var>. We want to know if after the transformation, the front of the element is closer to the viewer than the back (higher <var>z</var>-value) or further away. The <var>z</var>-coordinate of the front will be m<sub>13</sub><var>x</var> + m<sub>23</sub><var>y</var> + m<sub>33</sub><var>ε</var> + m<sub>43</sub>, before accounting for perspective, and the back will be m<sub>13</sub><var>x</var> + m<sub>23</sub><var>y</var> − m<sub>33</sub><var>ε</var> + m<sub>43</sub>.  The first quantity is greater than the second if and only if m<sub>33</sub> > 0. (If it equals zero, the front and back are equally close to the viewer. This probably means something like a 90-degree rotation, which makes the element invisible anyway, so we don’t really care whether it vanishes.)</p>
   <h2 class="heading settled" data-level="11" id="svg-three-dimensional-functions"><span class="secno">11. </span><span class="content">SVG and 3D transform functions</span><a class="self-link" href="#svg-three-dimensional-functions"></a></h2>
   <p>This specification explicitly requires three-dimensional transform functions to apply to the <a data-link-type="dfn" href="https://svgwg.org/svg2-draft/struct.html#container-element" id="ref-for-container-element">container elements</a>: <code><a data-link-type="element" href="https://html.spec.whatwg.org/multipage/text-level-semantics.html#the-a-element" id="ref-for-the-a-element">a</a></code>, <code><a data-link-type="element" href="https://svgwg.org/svg2-draft/struct.html#elementdef-g" id="ref-for-elementdef-g">g</a></code>, <code><a data-link-type="element" href="https://svgwg.org/svg2-draft/struct.html#elementdef-svg" id="ref-for-elementdef-svg">svg</a></code>, all <a data-link-type="dfn" href="https://svgwg.org/svg2-draft/struct.html#graphics-element" id="ref-for-graphics-element">graphics elements</a>, all <a data-link-type="dfn" href="https://svgwg.org/svg2-draft/struct.html#graphics-referencing-element" id="ref-for-graphics-referencing-element">graphics referencing elements</a> and the SVG <code><a data-link-type="element" href="https://svgwg.org/svg2-draft/embedded.html#elementdef-foreignObject" id="ref-for-elementdef-foreignObject">foreignObject</a></code> element.</p>
   <p>Three-dimensional transform functions and the properties <a class="property css" data-link-type="property" href="#propdef-perspective" id="ref-for-propdef-perspective①⑤">perspective</a>, <a class="property css" data-link-type="property" href="#propdef-perspective-origin" id="ref-for-propdef-perspective-origin①③">perspective-origin</a>, <a class="property css" data-link-type="property" href="#propdef-transform-style" id="ref-for-propdef-transform-style⑧">transform-style</a> and <a class="property css" data-link-type="property" href="#propdef-backface-visibility" id="ref-for-propdef-backface-visibility⑦">backface-visibility</a> can not be used for the elements: <code><a data-link-type="element" href="https://drafts.fxtf.org/css-masking-1/#elementdef-clippath" id="ref-for-elementdef-clippath">clipPath</a></code>, <code><a data-link-type="element" href="https://svgwg.org/svg2-draft/pservers.html#elementdef-linearGradient" id="ref-for-elementdef-linearGradient">linearGradient</a></code>, <code><a data-link-type="element" href="https://svgwg.org/svg2-draft/pservers.html#elementdef-radialGradient" id="ref-for-elementdef-radialGradient">radialGradient</a></code> and <code><a data-link-type="element" href="https://svgwg.org/svg2-draft/pservers.html#elementdef-pattern" id="ref-for-elementdef-pattern">pattern</a></code>. If a transform list includes a three-dimensional transform function, the complete transform list must be ignored. The values of every previously named property must be ignored. Transformable elements that are contained by one of these elements can have three-dimensional transform functions. The <code><a data-link-type="element" href="https://drafts.fxtf.org/css-masking-1/#elementdef-clippath" id="ref-for-elementdef-clippath①">clipPath</a></code>, <code><a data-link-type="element" href="https://drafts.fxtf.org/css-masking-1/#elementdef-mask" id="ref-for-elementdef-mask">mask</a></code>, <code><a data-link-type="element" href="https://svgwg.org/svg2-draft/pservers.html#elementdef-pattern" id="ref-for-elementdef-pattern①">pattern</a></code> elements require the user agent to create a flattened representation of the descendant elements before they can be applied, and therefore override the behavior of <span class="css" id="ref-for-propdef-transform-style⑨">transform-style: preserve-3d</span>.</p>
   <p>If the <a class="property css" data-link-type="property" href="https://svgwg.org/svg2-draft/coords.html#VectorEffectProperty" id="ref-for-VectorEffectProperty">vector-effect</a> property is set to <span class="css">non-scaling-stroke</span> and an object is within a <a data-link-type="dfn" href="#3d-rendering-context" id="ref-for-3d-rendering-context①⑤">3D rendering context</a> the property has no affect on stroking the object.</p>
   <p class="issue" id="issue-c054a7a7"><a class="self-link" href="#issue-c054a7a7"></a> formally describe the syntax of the 3D transform functions in SVG,
as is done <a href="https://drafts.csswg.org/css-transforms-1/#svg-syntax">for the 2-D functions</a>.</p>
   <h2 class="heading settled" data-level="12" id="transform-functions"><span class="secno">12. </span><span class="content">The Transform Functions</span><a class="self-link" href="#transform-functions"></a></h2>
   <p>The value of the <a class="property css" data-link-type="property" href="https://drafts.csswg.org/css-transforms-1/#propdef-transform" id="ref-for-propdef-transform①②">transform</a> property is a list of <dfn class="dfn-paneled css" data-dfn-type="type" data-export id="typedef-transform-function">&lt;transform-function></dfn>. The set of allowed transform functions is given below. Wherever <a class="production css" data-link-type="type" href="https://drafts.csswg.org/css-values-4/#angle-value" id="ref-for-angle-value⑥">&lt;angle></a> is used in this specification, a <a class="production css" data-link-type="type" href="https://drafts.csswg.org/css-values-4/#number-value" id="ref-for-number-value⑤">&lt;number></a> that is equal to zero is also allowed, which is treated the same as an angle of zero degrees. A percentage for horizontal translations is relative to the width of the <a data-link-type="dfn" href="https://drafts.csswg.org/css-transforms-1/#reference-box" id="ref-for-reference-box⑦">reference box</a>. A percentage for vertical translations is relative to the height of the <span id="ref-for-reference-box⑧">reference box</span>.
A percentage in a scale function is equivalent to a number, and serializes as a number in specified values.
For example, <span class="css">scale3d(50%, 100%, 150%)</span> serializes as <span class="css">scale3d(0.5, 1, 1.5)</span>.</p>
   <h3 class="heading settled" data-level="12.1" id="two-d-transform-functions"><span class="secno">12.1. </span><span class="content">2D Transform Functions</span><a class="self-link" href="#two-d-transform-functions"></a></h3>
   <p>The scale functions defined in <a data-link-type="biblio" href="#biblio-css-transforms-1" title="CSS Transforms Module Level 1">[css-transforms-1]</a> now support percentages.</p>
   <dl>
    <dt data-md><span class="prod"><dfn class="dfn-paneled css" data-dfn-type="function" data-export id="funcdef-scale">scale()</dfn> = scale( [ <a class="production css" data-link-type="type" href="https://drafts.csswg.org/css-values-4/#number-value" id="ref-for-number-value⑥">&lt;number></a> <a data-link-type="grammar" href="https://drafts.csswg.org/css-values-4/#comb-one" id="ref-for-comb-one①①">|</a> <a class="production css" data-link-type="type" href="https://drafts.csswg.org/css-values-4/#percentage-value" id="ref-for-percentage-value③">&lt;percentage></a> ]<a data-link-type="grammar" href="https://drafts.csswg.org/css-values-4/#mult-comma" id="ref-for-mult-comma">#{1,2}</a> )</span>
    <dt data-md><span class="prod"><dfn class="dfn-paneled css" data-dfn-type="function" data-export id="funcdef-scalex">scaleX()</dfn> = scaleX( [ <a class="production css" data-link-type="type" href="https://drafts.csswg.org/css-values-4/#number-value" id="ref-for-number-value⑦">&lt;number></a> <a data-link-type="grammar" href="https://drafts.csswg.org/css-values-4/#comb-one" id="ref-for-comb-one①②">|</a> <a class="production css" data-link-type="type" href="https://drafts.csswg.org/css-values-4/#percentage-value" id="ref-for-percentage-value④">&lt;percentage></a> ] )</span>
    <dt data-md><span class="prod"><dfn class="dfn-paneled css" data-dfn-type="function" data-export id="funcdef-scaley">scaleY()</dfn> = scaleY( [ <a class="production css" data-link-type="type" href="https://drafts.csswg.org/css-values-4/#number-value" id="ref-for-number-value⑧">&lt;number></a> <a data-link-type="grammar" href="https://drafts.csswg.org/css-values-4/#comb-one" id="ref-for-comb-one①③">|</a> <a class="production css" data-link-type="type" href="https://drafts.csswg.org/css-values-4/#percentage-value" id="ref-for-percentage-value⑤">&lt;percentage></a> ] )</span>
   </dl>
   <h3 class="heading settled" data-level="12.2" id="three-d-transform-functions"><span class="secno">12.2. </span><span class="content">3D Transform Functions</span><a class="self-link" href="#three-d-transform-functions"></a></h3>
   <p>In the following <dfn class="dfn-paneled" data-dfn-type="dfn" data-export id="3d-transform-functions">3d transform functions</dfn>, a <a class="production css" data-link-type="type" href="https://drafts.csswg.org/css-values-4/#zero-value" id="ref-for-zero-value">&lt;zero></a> behaves the same as <span class="css">0deg</span>.
("Unitless 0" angles are preserved for legacy compat reasons.)</p>
   <dl>
    <dt data-md><span class="prod"><dfn class="dfn-paneled css" data-dfn-type="function" data-export id="funcdef-matrix3d">matrix3d()</dfn> = matrix3d( <a class="production css" data-link-type="type" href="https://drafts.csswg.org/css-values-4/#number-value" id="ref-for-number-value⑨">&lt;number></a><a data-link-type="grammar" href="https://drafts.csswg.org/css-values-4/#mult-comma" id="ref-for-mult-comma①">#{16}</a> )</span>
    <dd data-md>
     <p>specifies a 3D transformation as a 4x4 homogeneous matrix of 16 values in column-major order.</p>
    <dt data-md><span class="prod"><dfn class="dfn-paneled css" data-dfn-type="function" data-export id="funcdef-translate3d">translate3d()</dfn> = translate3d( <a class="production css" data-link-type="type" href="https://drafts.csswg.org/css-values-4/#typedef-length-percentage" id="ref-for-typedef-length-percentage③">&lt;length-percentage></a> <a data-link-type="grammar" href="https://drafts.csswg.org/css-values-4/#comb-comma" id="ref-for-comb-comma">,</a> <span class="production" id="ref-for-typedef-length-percentage④">&lt;length-percentage></span> <span id="ref-for-comb-comma①">,</span> <a class="production css" data-link-type="type" href="https://drafts.csswg.org/css-values-4/#length-value" id="ref-for-length-value⑥">&lt;length></a> )</span>
    <dd data-md>
     <p>specifies a <a href="#Translate3dDefined">3D translation</a> by the vector [tx,ty,tz], with tx, ty and tz being the first, second and third translation-value parameters respectively.</p>
    <dt data-md><span class="prod"><dfn class="dfn-paneled css" data-dfn-type="function" data-export id="funcdef-translatez">translateZ()</dfn> = translateZ( <a class="production css" data-link-type="type" href="https://drafts.csswg.org/css-values-4/#length-value" id="ref-for-length-value⑦">&lt;length></a> )</span>
    <dd data-md>
     <p>specifies a <a href="#Translate3dDefined">3D translation</a> by the vector [0,0,tz] with the given amount in the Z direction.</p>
    <dt data-md><span class="prod"><dfn class="dfn-paneled css" data-dfn-type="function" data-export id="funcdef-scale3d">scale3d()</dfn> = scale3d( [ <a class="production css" data-link-type="type" href="https://drafts.csswg.org/css-values-4/#number-value" id="ref-for-number-value①⓪">&lt;number></a> <a data-link-type="grammar" href="https://drafts.csswg.org/css-values-4/#comb-one" id="ref-for-comb-one①④">|</a> <a class="production css" data-link-type="type" href="https://drafts.csswg.org/css-values-4/#percentage-value" id="ref-for-percentage-value⑥">&lt;percentage></a> ]<a data-link-type="grammar" href="https://drafts.csswg.org/css-values-4/#mult-comma" id="ref-for-mult-comma②">#{3}</a> )</span>
    <dd data-md>
     <p>specifies a <a href="#Scale3dDefined">3D scale</a> operation by the [sx,sy,sz] scaling vector described by the 3 parameters.</p>
    <dt data-md><span class="prod"><dfn class="dfn-paneled css" data-dfn-type="function" data-export id="funcdef-scalez">scaleZ()</dfn> = scaleZ( [ <a class="production css" data-link-type="type" href="https://drafts.csswg.org/css-values-4/#number-value" id="ref-for-number-value①①">&lt;number></a> <a data-link-type="grammar" href="https://drafts.csswg.org/css-values-4/#comb-one" id="ref-for-comb-one①⑤">|</a> <a class="production css" data-link-type="type" href="https://drafts.csswg.org/css-values-4/#percentage-value" id="ref-for-percentage-value⑦">&lt;percentage></a> ] )</span>
    <dd data-md>
     <p>specifies a <a href="#Scale3dDefined">3D scale</a> operation using the [1,1,sz] scaling vector, where sz is given as the parameter.</p>
    <dt data-md><span class="prod"><dfn class="dfn-paneled css" data-dfn-type="function" data-export id="funcdef-rotate3d">rotate3d()</dfn> = rotate3d( <a class="production css" data-link-type="type" href="https://drafts.csswg.org/css-values-4/#number-value" id="ref-for-number-value①②">&lt;number></a> <a data-link-type="grammar" href="https://drafts.csswg.org/css-values-4/#comb-comma" id="ref-for-comb-comma②">,</a> <span class="production" id="ref-for-number-value①③">&lt;number></span> <span id="ref-for-comb-comma③">,</span> <span class="production" id="ref-for-number-value①④">&lt;number></span> <span id="ref-for-comb-comma④">,</span> [ <a class="production css" data-link-type="type" href="https://drafts.csswg.org/css-values-4/#angle-value" id="ref-for-angle-value⑦">&lt;angle></a> <a data-link-type="grammar" href="https://drafts.csswg.org/css-values-4/#comb-one" id="ref-for-comb-one①⑥">|</a> <a class="production css" data-link-type="type" href="https://drafts.csswg.org/css-values-4/#zero-value" id="ref-for-zero-value①">&lt;zero></a> ] )</span>
    <dd data-md>
     <p>specifies a <a href="#Rotate3dDefined">3D rotation</a> by the angle specified in last parameter about the [x,y,z] direction vector described by the first three parameters. A direction vector that cannot be normalized, such as [0,0,0], will cause the rotation to not be applied.</p>
     <p class="note" role="note"><span class="marker">Note:</span> the rotation is clockwise as one looks from the end of the vector toward the origin.</p>
    <dt data-md><span class="prod"><dfn class="dfn-paneled css" data-dfn-type="function" data-export id="funcdef-rotatex">rotateX()</dfn> = rotateX( [ <a class="production css" data-link-type="type" href="https://drafts.csswg.org/css-values-4/#angle-value" id="ref-for-angle-value⑧">&lt;angle></a> <a data-link-type="grammar" href="https://drafts.csswg.org/css-values-4/#comb-one" id="ref-for-comb-one①⑦">|</a> <a class="production css" data-link-type="type" href="https://drafts.csswg.org/css-values-4/#zero-value" id="ref-for-zero-value②">&lt;zero></a> ] )</span>
    <dd data-md>
     <p>same as <span class="css">rotate3d(1, 0, 0, &lt;angle>)</span>.</p>
    <dt data-md><span class="prod"><dfn class="dfn-paneled css" data-dfn-type="function" data-export id="funcdef-rotatey">rotateY()</dfn> = rotateY( [ <a class="production css" data-link-type="type" href="https://drafts.csswg.org/css-values-4/#angle-value" id="ref-for-angle-value⑨">&lt;angle></a> <a data-link-type="grammar" href="https://drafts.csswg.org/css-values-4/#comb-one" id="ref-for-comb-one①⑧">|</a> <a class="production css" data-link-type="type" href="https://drafts.csswg.org/css-values-4/#zero-value" id="ref-for-zero-value③">&lt;zero></a> ] )</span>
    <dd data-md>
     <p>same as <span class="css">rotate3d(0, 1, 0, &lt;angle>)</span>.</p>
    <dt data-md><span class="prod"><dfn class="dfn-paneled css" data-dfn-type="function" data-export id="funcdef-rotatez">rotateZ()</dfn> = rotateZ( [ <a class="production css" data-link-type="type" href="https://drafts.csswg.org/css-values-4/#angle-value" id="ref-for-angle-value①⓪">&lt;angle></a> <a data-link-type="grammar" href="https://drafts.csswg.org/css-values-4/#comb-one" id="ref-for-comb-one①⑨">|</a> <a class="production css" data-link-type="type" href="https://drafts.csswg.org/css-values-4/#zero-value" id="ref-for-zero-value④">&lt;zero></a> ] )</span>
    <dd data-md>
     <p>same as <span class="css">rotate3d(0, 0, 1, &lt;angle>)</span>, which is a 3d transform equivalent to the 2d transform <span class="css">rotate(&lt;angle>)</span>.</p>
    <dt data-md><span class="prod"><dfn class="dfn-paneled css" data-dfn-type="function" data-export id="funcdef-perspective">perspective()</dfn> = perspective( <a class="production css" data-link-type="type" href="https://drafts.csswg.org/css-values-4/#length-value" id="ref-for-length-value⑧">&lt;length [0,∞]></a> )</span>
    <dd data-md>
     <p>specifies a <a href="#PerspectiveDefined">perspective projection matrix</a>. This matrix scales points in X and Y based on their Z value, scaling points with positive Z values away from the origin, and those with negative Z values towards the origin. Points on the z=0 plane are unchanged. The parameter represents the distance of the z=0 plane from the viewer. Lower values give a more flattened pyramid and therefore a more pronounced perspective effect. For example, a value of 1000px gives a moderate amount of foreshortening and a value of 200px gives an extreme amount.</p>
     <p>If the depth value is less than <span class="css">1px</span>,
it must be treated as <span class="css">1px</span> for the purpose of rendering.</p>
   </dl>
   <h3 class="heading settled" data-level="12.3" id="transform-primitives"><span class="secno">12.3. </span><span class="content">Transform function primitives and derivatives</span><a class="self-link" href="#transform-primitives"></a></h3>
   <p>Some transform functions can be represented by more generic transform functions. These transform functions are called derived transform functions, and the generic transform functions are called primitive transform functions. Three-dimensional primitives and their derived transform functions are:</p>
   <dl>
    <dt id="translate3d-primitive"><a class="self-link" href="#translate3d-primitive"></a><a class="css" data-link-type="maybe" href="#funcdef-translate3d" id="ref-for-funcdef-translate3d①">translate3d()</a> 
    <dd>for <a class="production css" data-link-type="function" href="https://drafts.csswg.org/css-transforms-1/#funcdef-transform-translatex" id="ref-for-funcdef-transform-translatex">&lt;translateX()></a>, <a class="production css" data-link-type="function" href="https://drafts.csswg.org/css-transforms-1/#funcdef-transform-translatey" id="ref-for-funcdef-transform-translatey">&lt;translateY()></a>, <a class="css" data-link-type="maybe" href="#funcdef-translatez" id="ref-for-funcdef-translatez">translateZ()</a> and <a class="production css" data-link-type="function" href="https://drafts.csswg.org/css-transforms-1/#funcdef-transform-translate" id="ref-for-funcdef-transform-translate②">&lt;translate()></a>. 
    <dt id="scale3d-primitive"><a class="self-link" href="#scale3d-primitive"></a><a class="css" data-link-type="maybe" href="#funcdef-scale3d" id="ref-for-funcdef-scale3d①">scale3d()</a> 
    <dd>for <a class="production css" data-link-type="function" href="#funcdef-scalex" id="ref-for-funcdef-scalex">&lt;scaleX()></a>, <a class="production css" data-link-type="function" href="#funcdef-scaley" id="ref-for-funcdef-scaley">&lt;scaleY()></a>, <a class="css" data-link-type="maybe" href="#funcdef-scalez" id="ref-for-funcdef-scalez">scaleZ()</a> and <a class="production css" data-link-type="function" href="#funcdef-scale" id="ref-for-funcdef-scale②">&lt;scale()></a>. 
    <dt id="rotate3d-primitive"><a class="self-link" href="#rotate3d-primitive"></a><a class="css" data-link-type="maybe" href="#funcdef-rotate3d" id="ref-for-funcdef-rotate3d①">rotate3d()</a> 
    <dd>for <a class="production css" data-link-type="function" href="https://drafts.csswg.org/css-transforms-1/#funcdef-transform-rotate" id="ref-for-funcdef-transform-rotate②">&lt;rotate()></a>, <a class="css" data-link-type="maybe" href="#funcdef-rotatex" id="ref-for-funcdef-rotatex①">rotateX()</a>, <a class="css" data-link-type="maybe" href="#funcdef-rotatey" id="ref-for-funcdef-rotatey①">rotateY()</a> and <a class="css" data-link-type="maybe" href="#funcdef-rotatez" id="ref-for-funcdef-rotatez①">rotateZ()</a>. 
   </dl>
   <p id="interpolation-two-three-dimensional-function"> For derived transform functions that have a two-dimensional primitive and a three-dimensional primitive, the context decides about the used primitive. See <a href="#interpolation-of-transform-functions">Interpolation of primitives and derived transform functions</a>. </p>
   <h2 class="heading settled" data-level="13" id="matrix-interpolation"><span class="secno">13. </span><span class="content">Interpolation of Matrices</span><a class="self-link" href="#matrix-interpolation"></a></h2>
   <p>When interpolating between two matrices, each matrix is decomposed into the corresponding translation, rotation, scale, skew and (for a <a data-link-type="dfn" href="#3d-matrix" id="ref-for-3d-matrix">3D matrix</a>) perspective values. Each corresponding component of the decomposed matrices gets interpolated numerically and recomposed back to a matrix in a final step.</p>
   <h3 class="heading settled" data-level="13.1" id="interpolation-of-3d-matrices"><span class="secno">13.1. </span><span class="content">Interpolation of 3D matrices</span><a class="self-link" href="#interpolation-of-3d-matrices"></a></h3>
   <h4 class="heading settled" data-level="13.1.1" id="decomposing-a-3d-matrix"><span class="secno">13.1.1. </span><span class="content">Decomposing a 3D matrix</span><a class="self-link" href="#decomposing-a-3d-matrix"></a></h4>
   <p>The pseudo code below is based upon the "unmatrix" method in "Graphics Gems II, edited by Jim Arvo", but modified to use Quaternions instead of Euler angles to avoid the problem of Gimbal Locks.</p>
   <p>The following pseudocode works on a 4x4 homogeneous matrix:</p>
<pre>Input:  matrix      ; a 4x4 matrix
Output: translation ; a 3 component vector
        scale       ; a 3 component vector
        skew        ; skew factors XY,XZ,YZ represented as a 3 component vector
        perspective ; a 4 component vector
        quaternion  ; a 4 component vector
Returns false if the matrix cannot be decomposed, true if it can


// Normalize the matrix.
if (matrix[3][3] == 0)
    return false

for (i = 0; i &lt; 4; i++)
    for (j = 0; j &lt; 4; j++)
        matrix[i][j] /= matrix[3][3]

// perspectiveMatrix is used to solve for perspective, but it also provides
// an easy way to test for singularity of the upper 3x3 component.
perspectiveMatrix = matrix

for (i = 0; i &lt; 3; i++)
    perspectiveMatrix[i][3] = 0

perspectiveMatrix[3][3] = 1

if (determinant(perspectiveMatrix) == 0)
    return false

// First, isolate perspective.
if (matrix[0][3] != 0 || matrix[1][3] != 0 || matrix[2][3] != 0)
    // rightHandSide is the right hand side of the equation.
    rightHandSide[0] = matrix[0][3]
    rightHandSide[1] = matrix[1][3]
    rightHandSide[2] = matrix[2][3]
    rightHandSide[3] = matrix[3][3]

    // Solve the equation by inverting perspectiveMatrix and multiplying
    // rightHandSide by the inverse.
    inversePerspectiveMatrix = inverse(perspectiveMatrix)
    transposedInversePerspectiveMatrix = transposeMatrix4(inversePerspectiveMatrix)
    perspective = multVecMatrix(rightHandSide, transposedInversePerspectiveMatrix)
else
    // No perspective.
    perspective[0] = perspective[1] = perspective[2] = 0
    perspective[3] = 1

// Next take care of translation
for (i = 0; i &lt; 3; i++)
    translate[i] = matrix[3][i]

// Now get scale and shear. 'row' is a 3 element array of 3 component vectors
for (i = 0; i &lt; 3; i++)
    row[i][0] = matrix[i][0]
    row[i][1] = matrix[i][1]
    row[i][2] = matrix[i][2]

// Compute X scale factor and normalize first row.
scale[0] = length(row[0])
row[0] = normalize(row[0])

// Compute XY shear factor and make 2nd row orthogonal to 1st.
skew[0] = dot(row[0], row[1])
row[1] = combine(row[1], row[0], 1.0, -skew[0])

// Now, compute Y scale and normalize 2nd row.
scale[1] = length(row[1])
row[1] = normalize(row[1])
skew[0] /= scale[1];

// Compute XZ and YZ shears, orthogonalize 3rd row
skew[1] = dot(row[0], row[2])
row[2] = combine(row[2], row[0], 1.0, -skew[1])
skew[2] = dot(row[1], row[2])
row[2] = combine(row[2], row[1], 1.0, -skew[2])

// Next, get Z scale and normalize 3rd row.
scale[2] = length(row[2])
row[2] = normalize(row[2])
skew[1] /= scale[2]
skew[2] /= scale[2]

// At this point, the matrix (in rows) is orthonormal.
// Check for a coordinate system flip.  If the determinant
// is -1, then negate the matrix and the scaling factors.
pdum3 = cross(row[1], row[2])
if (dot(row[0], pdum3) &lt; 0)
    for (i = 0; i &lt; 3; i++)
        scale[i] *= -1;
        row[i][0] *= -1
        row[i][1] *= -1
        row[i][2] *= -1

// Now, get the rotations out
quaternion[0] = 0.5 * sqrt(max(1 + row[0][0] - row[1][1] - row[2][2], 0))
quaternion[1] = 0.5 * sqrt(max(1 - row[0][0] + row[1][1] - row[2][2], 0))
quaternion[2] = 0.5 * sqrt(max(1 - row[0][0] - row[1][1] + row[2][2], 0))
quaternion[3] = 0.5 * sqrt(max(1 + row[0][0] + row[1][1] + row[2][2], 0))

if (row[2][1] > row[1][2])
    quaternion[0] = -quaternion[0]
if (row[0][2] > row[2][0])
    quaternion[1] = -quaternion[1]
if (row[1][0] > row[0][1])
    quaternion[2] = -quaternion[2]

return true</pre>
   <h4 class="heading settled" data-level="13.1.2" id="interpolation-of-decomposed-3d-matrix-values"><span class="secno">13.1.2. </span><span class="content">Interpolation of decomposed 3D matrix values</span><a class="self-link" href="#interpolation-of-decomposed-3d-matrix-values"></a></h4>
   <p>Each component of the decomposed values translation, scale, skew and perspective of the source matrix get linearly interpolated with each corresponding component of the destination matrix.</p>
   <p class="note" role="note"><span class="marker">Note:</span> For instance, <code>translate[0]</code> of the source matrix and <code>translate[0]</code> of the destination matrix are interpolated numerically, and the result is used to set the translation of the animating element.</p>
   <p>Quaternions of the decomposed source matrix are interpolated with quaternions of the decomposed destination matrix using the spherical linear interpolation (Slerp) as described by the pseudo code below:</p>
<pre>Input:  quaternionA   ; a 4 component vector
        quaternionB   ; a 4 component vector
        t             ; interpolation parameter with 0 &lt;= t &lt;= 1
Output: quaternionDst ; a 4 component vector


product = dot(quaternionA, quaternionB)

// Clamp product to -1.0 &lt;= product &lt;= 1.0
product = min(product, 1.0)
product = max(product, -1.0)

if (abs(product) == 1.0)
   quaternionDst = quaternionA
   return

theta = acos(dot)
w = sin(t * theta) * 1 / sqrt(1 - product * product)

for (i = 0; i &lt; 4; i++)
  quaternionA[i] *= cos(t * theta) - product * w
  quaternionB[i] *= w
  quaternionDst[i] = quaternionA[i] + quaternionB[i]

return</pre>
   <h4 class="heading settled" data-level="13.1.3" id="recomposing-to-a-3d-matrix"><span class="secno">13.1.3. </span><span class="content">Recomposing to a 3D matrix</span><a class="self-link" href="#recomposing-to-a-3d-matrix"></a></h4>
   <p>After interpolation, the resulting values are used to transform the elements user space. One way to use these values is to recompose them into a 4x4 matrix. This can be done following the pseudo code below:</p>
<pre>Input:  translation ; a 3 component vector
        scale       ; a 3 component vector
        skew        ; skew factors XY,XZ,YZ represented as a 3 component vector
        perspective ; a 4 component vector
        quaternion  ; a 4 component vector
Output: matrix      ; a 4x4 matrix

Supporting functions (matrix is a 4x4 matrix):
  matrix  multiply(matrix a, matrix b)   returns the 4x4 matrix product of a * b

// apply perspective
for (i = 0; i &lt; 4; i++)
  matrix[i][3] = perspective[i]

// apply translation
for (i = 0; i &lt; 4; i++)
  for (j = 0; j &lt; 3; j++)
    matrix[3][i] += translation[j] * matrix[j][i]

// apply rotation
x = quaternion[0]
y = quaternion[1]
z = quaternion[2]
w = quaternion[3]

// Construct a composite rotation matrix from the quaternion values
// rotationMatrix is a identity 4x4 matrix initially
rotationMatrix[0][0] = 1 - 2 * (y * y + z * z)
rotationMatrix[0][1] = 2 * (x * y - z * w)
rotationMatrix[0][2] = 2 * (x * z + y * w)
rotationMatrix[1][0] = 2 * (x * y + z * w)
rotationMatrix[1][1] = 1 - 2 * (x * x + z * z)
rotationMatrix[1][2] = 2 * (y * z - x * w)
rotationMatrix[2][0] = 2 * (x * z - y * w)
rotationMatrix[2][1] = 2 * (y * z + x * w)
rotationMatrix[2][2] = 1 - 2 * (x * x + y * y)

matrix = multiply(matrix, rotationMatrix)

// apply skew
// temp is a identity 4x4 matrix initially
if (skew[2])
    temp[2][1] = skew[2]
    matrix = multiply(matrix, temp)

if (skew[1])
    temp[2][1] = 0
    temp[2][0] = skew[1]
    matrix = multiply(matrix, temp)

if (skew[0])
    temp[2][0] = 0
    temp[1][0] = skew[0]
    matrix = multiply(matrix, temp)

// apply scale
for (i = 0; i &lt; 3; i++)
  for (j = 0; j &lt; 4; j++)
    matrix[i][j] *= scale[i]

return</pre>
   <h2 class="heading settled" data-level="14" id="interpolation-of-transform-functions"><span class="secno">14. </span><span class="content">Interpolation of primitives and derived transform functions</span><a class="self-link" href="#interpolation-of-transform-functions"></a></h2>
   <p>Two transform functions with the same name and the same number of arguments are interpolated numerically without a former conversion. The calculated value will be of the same transform function type with the same number of arguments. Special rules apply to <a class="production css" data-link-type="function" href="https://drafts.csswg.org/css-transforms-1/#funcdef-transform-matrix" id="ref-for-funcdef-transform-matrix③">&lt;matrix()></a>, <a class="production css" data-link-type="function" href="#funcdef-matrix3d" id="ref-for-funcdef-matrix3d③">&lt;matrix3d()></a> and <a class="production css" data-link-type="function" href="#funcdef-perspective" id="ref-for-funcdef-perspective②">&lt;perspective()></a>.</p>
   <p>The transform functions <a class="production css" data-link-type="function" href="https://drafts.csswg.org/css-transforms-1/#funcdef-transform-matrix" id="ref-for-funcdef-transform-matrix④">&lt;matrix()></a>, <a class="css" data-link-type="maybe" href="#funcdef-matrix3d" id="ref-for-funcdef-matrix3d④">matrix3d()</a> and <a class="css" data-link-type="maybe" href="#funcdef-perspective" id="ref-for-funcdef-perspective③">perspective()</a> get converted into 4x4 matrices first and interpolated as defined in section <a href="#matrix-interpolation">Interpolation of Matrices</a> afterwards.</p>
   <p>For interpolations with the primitive <a class="css" data-link-type="maybe" href="#funcdef-rotate3d" id="ref-for-funcdef-rotate3d②">rotate3d()</a>, the direction vectors of the transform functions get normalized first. If the normalized vectors are not equal and both rotation angles are non-zero the transform functions get converted into 4x4 matrices first and interpolated as defined in section <a href="#matrix-interpolation">Interpolation of Matrices</a> afterwards. Otherwise the rotation angle gets interpolated numerically and the rotation vector of the non-zero angle is used or (0, 0, 1) if both angles are zero.</p>
   <h2 class="heading settled" data-level="15" id="combining-transform-lists"><span class="secno">15. </span><span class="content">Addition and accumulation of transform lists</span><a class="self-link" href="#combining-transform-lists"></a></h2>
   <div class="algorithm" data-algorithm="transform list addition"> <a data-link-type="dfn" href="https://drafts.csswg.org/css-values-4/#addition" id="ref-for-addition">Addition</a> of two transform lists <var>V<sub>a</sub></var> and <var>V<sub>b</sub></var> is defined as <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list" id="ref-for-list">list</a> concatenation
  such that <var>V<sub>result</sub></var> is equal to <var>V<sub>b</sub></var> <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-append" id="ref-for-list-append">appended</a> to <var>V<sub>a</sub></var>. </div>
   <div class="algorithm" data-algorithm="transform list accumulation">
     <a data-link-type="dfn" href="https://drafts.csswg.org/css-values-4/#accumulation" id="ref-for-accumulation">Accumulation</a> of two transform lists <var>V<sub>a</sub></var> and <var>V<sub>b</sub></var> follows the same steps as interpolation
  with regards to matching transform functions including
  padding lists with <a data-link-type="dfn" href="#identity-transform-function" id="ref-for-identity-transform-function">identity transform functions</a>,
  converting <span class="css">none</span> to an <span id="ref-for-identity-transform-function①">identity transform function</span>,
  and converting both arguments to matrices as necessary (see <a href="https://drafts.csswg.org/css-transforms-1/#interpolation-of-transforms"><cite>CSS Transforms 1</cite> § 9 Interpolation of Transforms</a>).
  However, instead of interpolating the individual parameters,
  they are combined using arithmetic addition—​except in the case of parameters whose value is one in the <span id="ref-for-identity-transform-function②">identity transform function</span> (e.g. scale parameters and matrix elements <var>m11</var>, <var>m22</var>, <var>m33</var>, and <var>m44</var>),
  which combine using <dfn class="dfn-paneled" data-dfn-type="dfn" data-export id="accumulation-for-one-based-values">accumulation for one-based values</dfn> as follows: 
    <p><var>V<sub>result</sub></var> = <var>V<sub>a</sub></var> + <var>V<sub>b</sub></var> - 1</p>
    <div class="note" role="note">
      The above definition preserves the intent of <a data-link-type="dfn" href="https://drafts.csswg.org/css-values-4/#accumulation" id="ref-for-accumulation①">accumulation</a> which is that <var>V<sub>b</sub></var> acts as
    a delta from <var>V<sub>a</sub></var> and allows an animation such as: 
<pre class="lang-javascript highlight">div<c- p>.</c->animate<c- p>(</c->
  <c- p>{</c-> transform<c- o>:</c-> <c- p>[</c-><c- t>'scale(1)'</c-><c- p>,</c-> <c- t>'scale(2)'</c-><c- p>]</c-> <c- p>},</c->
  <c- p>{</c->
    duration<c- o>:</c-> <c- mf>1000</c-><c- p>,</c->
    easing<c- o>:</c-> <c- t>'ease'</c-><c- p>,</c->
  <c- p>}</c->
<c- p>);</c->
</pre>
     <p>to produce the expected behavior when extended as follows:</p>
<pre class="lang-javascript highlight">div<c- p>.</c->animate<c- p>(</c->
  <c- p>{</c-> transform<c- o>:</c-> <c- p>[</c-><c- t>'scale(1)'</c-><c- p>,</c-> <c- t>'scale(2)'</c-><c- p>]</c-> <c- p>},</c->
  <c- p>{</c->
    duration<c- o>:</c-> <c- mf>1000</c-><c- p>,</c->
    easing<c- o>:</c-> <c- t>'ease'</c-><c- p>,</c->
    <strong>iterations<c- o>:</c-> <c- mf>5</c-><c- p>,</c->
    iterationComposite<c- o>:</c-> <c- t>'accumulate'</c-><c- p>,</c-></strong>
  <c- p>}</c->
<c- p>);</c->
</pre>
    </div>
   </div>
   <h3 class="heading settled" data-level="15.1" id="neutral-element"><span class="secno">15.1. </span><span class="content">Neutral element for addition</span><a class="self-link" href="#neutral-element"></a></h3>
   <p>Some animations require a neutral element for addition. For transform functions this is a scalar or a list of scalars of 0. Examples of neutral elements for transform functions are <span class="css">translate(0)</span>, <span class="css">translate3d(0, 0, 0)</span>, <span class="css">translateX(0)</span>, <span class="css">translateY(0)</span>, <span class="css">translateZ(0)</span>, <span class="css">scale(0)</span>, <span class="css">scaleX(0)</span>, <span class="css">scaleY(0)</span>, <span class="css">scaleZ(0)</span>, <span class="css">rotate(0)</span>, <span class="css">rotate3d(v<sub>x</sub>, v<sub>y</sub>, v<sub>z</sub>, 0)</span> (where <var>v</var> is a context dependent vector), <span class="css">rotateX(0)</span>, <span class="css">rotateY(0)</span>, <span class="css">rotateZ(0)</span>, <span class="css">skew(0, 0)</span>, <span class="css">skewX(0)</span>, <span class="css">skewY(0)</span>, <span class="css">matrix(0, 0, 0, 0, 0, 0)</span>, <span class="css">matrix3d(0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0)</span> and <span class="css">perspective(0)</span>.</p>
   <p class="note" role="note"><span class="marker">Note:</span> Animations to or from the neutral element of additions <a class="production css" data-link-type="function" href="https://drafts.csswg.org/css-transforms-1/#funcdef-transform-matrix" id="ref-for-funcdef-transform-matrix⑤">&lt;matrix()></a>, <a class="css" data-link-type="maybe" href="#funcdef-matrix3d" id="ref-for-funcdef-matrix3d⑤">matrix3d()</a> and <a class="css" data-link-type="maybe" href="#funcdef-perspective" id="ref-for-funcdef-perspective④">perspective()</a> fall back to discrete animations (See <a href="#matrix-interpolation">§ 13 Interpolation of Matrices</a>).</p>
   <h2 class="heading settled" data-level="16" id="mathematical-description"><span class="secno">16. </span><span class="content">Mathematical Description of Transform Functions</span><a class="self-link" href="#mathematical-description"></a></h2>
   <p>Mathematically, all transform functions can be represented as 4x4 transformation matrices of the following form:</p>
   <p>$$\begin{bmatrix} m11 &amp; m21 &amp; m31 &amp; m41 \\ m12 &amp; m22 &amp; m32 &amp; m42 \\ m13 &amp; m23 &amp; m33 &amp; m43 \\ m14 &amp; m24 &amp; m34 &amp; m44 \end{bmatrix}$$</p>
   <p>One translation unit on a matrix is equivalent to 1 pixel in the local coordinate system of the element.</p>
   <ul>
    <li id="Translate3dDefined">
     <a class="self-link" href="#Translate3dDefined"></a> A 3D translation with the parameters <em>tx</em>, <em>ty</em> and <em>tz</em> is equivalent to the matrix: 
     <p>$$\begin{bmatrix} 1 &amp; 0 &amp; 0 &amp; tx \\ 0 &amp; 1 &amp; 0 &amp; ty \\ 0 &amp; 0 &amp; 1 &amp; tz \\ 0 &amp; 0 &amp; 0 &amp; 1 \end{bmatrix}$$</p>
    <li id="Scale3dDefined">
     <a class="self-link" href="#Scale3dDefined"></a> A 3D scaling with the parameters <em>sx</em>, <em>sy</em> and <em>sz</em> is equivalent to the matrix: 
     <p>$$\begin{bmatrix} sx &amp; 0 &amp; 0 &amp; 0 \\ 0 &amp; sy &amp; 0 &amp; 0 \\ 0 &amp; 0 &amp; sz &amp; 0 \\ 0 &amp; 0 &amp; 0 &amp; 1 \end{bmatrix}$$</p>
    <li id="Rotate3dDefined">
     <a class="self-link" href="#Rotate3dDefined"></a> A 3D rotation with the vector [x,y,z] and the parameter <em>alpha</em> is equivalent to the matrix: 
     <p>$$\begin{bmatrix} 1 - 2 \cdot (y^2 + z^2) \cdot sq &amp; 2 \cdot (x \cdot y \cdot sq - z \cdot sc) &amp; 2 \cdot (x \cdot z \cdot sq + y \cdot sc) &amp; 0 \\ 2 \cdot (x \cdot y \cdot sq + z \cdot sc) &amp; 1 - 2 \cdot (x^2 + z^2) \cdot sq &amp; 2 \cdot (y \cdot z \cdot sq - x \cdot sc) &amp; 0 \\ 2 \cdot (x \cdot z \cdot sq - y \cdot sc) &amp; 2 \cdot (y \cdot z \cdot sq + x \cdot sc) &amp; 1 - 2 \cdot (x^2 + y^2) \cdot sq &amp; 0 \\ 0 &amp; 0 &amp; 0 &amp; 1 \end{bmatrix}$$</p>
     <p>where:</p>
     <p>$$sc = \sin (\alpha/2) \cdot \cos (\alpha/2)$$
                $$sq = \sin^2 (\alpha/2)$$</p>
     <p>and where x, y, and z have been normalized
                        (that is,
                        where the x, y, and z values given
                        have been divided by
                        the square root of the sum of their squares).</p>
    <li id="PerspectiveDefined">
     <a class="self-link" href="#PerspectiveDefined"></a> A perspective projection matrix with the parameter <em>d</em> is equivalent to the matrix: 
     <p>$$\begin{bmatrix} 1 &amp; 0 &amp; 0 &amp; 0 \\ 0 &amp; 1 &amp; 0 &amp; 0 \\ 0 &amp; 0 &amp; 1 &amp; 0 \\ 0 &amp; 0 &amp; -1/d &amp; 1 \end{bmatrix}$$</p>
   </ul>
   <h2 class="heading settled" data-level="17" id="svg-transform"><span class="secno">17. </span><span class="content">The SVG <a class="property css" data-link-type="property" href="https://drafts.csswg.org/css-transforms-1/#propdef-transform" id="ref-for-propdef-transform①③">transform</a> Attribute</span><a class="self-link" href="#svg-transform"></a></h2>
   <p>This specification will also introduce the new presentation attributes <a class="property css" data-link-type="property" href="https://drafts.csswg.org/css-transforms-1/#propdef-transform-origin" id="ref-for-propdef-transform-origin⑧">transform-origin</a>, <a class="property css" data-link-type="property" href="#propdef-perspective" id="ref-for-propdef-perspective①⑥">perspective</a>, <a class="property css" data-link-type="property" href="#propdef-perspective-origin" id="ref-for-propdef-perspective-origin①④">perspective-origin</a>, <a class="property css" data-link-type="property" href="#propdef-transform-style" id="ref-for-propdef-transform-style①⓪">transform-style</a> and <a class="property css" data-link-type="property" href="#propdef-backface-visibility" id="ref-for-propdef-backface-visibility⑧">backface-visibility</a>.</p>
   <p>Values on new introduced presentation attributes get parsed following the syntax rules on <a data-link-type="dfn">SVG Data Types</a> <a data-link-type="biblio" href="#biblio-svg11" title="Scalable Vector Graphics (SVG) 1.1 (Second Edition)">[SVG11]</a>.</p>
   <h2 class="heading settled" data-level="18" id="svg-animation"><span class="secno">18. </span><span class="content">SVG Animation</span><a class="self-link" href="#svg-animation"></a></h2>
   <h3 class="heading settled" data-level="18.1" id="svg-animate-element"><span class="secno">18.1. </span><span class="content">The <code><a data-link-type="element" href="https://svgwg.org/specs/animations/#elementdef-animate" id="ref-for-elementdef-animate">animate</a></code> and <code><a data-link-type="element" href="https://svgwg.org/specs/animations/#elementdef-set" id="ref-for-elementdef-set">set</a></code> element</span><a class="self-link" href="#svg-animate-element"></a></h3>
   <p>The introduce presentation attributes <a class="property css" data-link-type="property" href="#propdef-perspective" id="ref-for-propdef-perspective①⑦">perspective</a>, <a class="property css" data-link-type="property" href="#propdef-perspective-origin" id="ref-for-propdef-perspective-origin①⑤">perspective-origin</a>, <a class="property css" data-link-type="property" href="#propdef-transform-style" id="ref-for-propdef-transform-style①①">transform-style</a> and <a class="property css" data-link-type="property" href="#propdef-backface-visibility" id="ref-for-propdef-backface-visibility⑨">backface-visibility</a> are animatable. <span class="property" id="ref-for-propdef-transform-style①②">transform-style</span> and <span class="property" id="ref-for-propdef-backface-visibility①⓪">backface-visibility</span> are non-additive.</p>
   <h2 class="heading settled" data-level="19" id="more-issues"><span class="secno">19. </span><span class="content">More Issues</span><a class="self-link" href="#more-issues"></a></h2>
   <p class="issue" id="issue-b3f9db98"><a class="self-link" href="#issue-b3f9db98"></a> Per <a href="https://lists.w3.org/Archives/Public/www-style/2015Mar/0371.html">https://lists.w3.org/Archives/Public/www-style/2015Mar/0371.html</a>,
the WG resolved to add a formula for decomposing a transform into a unified "scale"
(the spec already defines how to decompose it into scaleX/Y/Z),
for use by things like SVG’s non-scaling stroke spec. <a href="https://www.w3.org/Graphics/SVG/WG/wiki/Proposals/Specifying_decomposition_of_scale">Formula is defined here.</a></p>
   <h2 class="heading settled" data-level="20" id="priv-sec"><span class="secno">20. </span><span class="content">Security and Privacy Considerations</span><a class="self-link" href="#priv-sec"></a></h2>
   <p>This specification introduces no new security or privacy considerations.</p>
  </main>
  <h2 class="no-ref no-num heading settled" id="w3c-conformance"><span class="content"> Conformance</span><a class="self-link" href="#w3c-conformance"></a></h2>
  <h3 class="no-ref heading settled" id="w3c-conventions"><span class="content"> Document conventions</span><a class="self-link" href="#w3c-conventions"></a></h3>
  <p>Conformance requirements are expressed with a combination of
    descriptive assertions and RFC 2119 terminology. The key words “MUST”,
    “MUST NOT”, “REQUIRED”, “SHALL”, “SHALL NOT”, “SHOULD”, “SHOULD NOT”,
    “RECOMMENDED”, “MAY”, and “OPTIONAL” in the normative parts of this
    document are to be interpreted as described in RFC 2119.
    However, for readability, these words do not appear in all uppercase
    letters in this specification. </p>
  <p>All of the text of this specification is normative except sections
    explicitly marked as non-normative, examples, and notes. <a data-link-type="biblio" href="#biblio-rfc2119" title="Key words for use in RFCs to Indicate Requirement Levels">[RFC2119]</a></p>
  <p>Examples in this specification are introduced with the words “for example”
    or are set apart from the normative text with <code>class="example"</code>,
    like this: </p>
  <div class="example" id="w3c-example">
   <a class="self-link" href="#w3c-example"></a> 
   <p>This is an example of an informative example.</p>
  </div>
  <p>Informative notes begin with the word “Note” and are set apart from the
    normative text with <code>class="note"</code>, like this: </p>
  <p class="note" role="note">Note, this is an informative note.</p>
  <p>Advisements are normative sections styled to evoke special attention and are
    set apart from other normative text with <code>&lt;strong class="advisement"></code>, like
    this: <strong class="advisement"> UAs MUST provide an accessible alternative. </strong></p>
  <details class="wpt-tests-block" dir="ltr" lang="en" open>
   <summary>Tests</summary>
   <p>Tests relating to the content of this specification
                     may be documented in “Tests” blocks like this one.
                     Any such block is non-normative.</p>
   <ul class="wpt-tests-list"></ul>
   <hr>
  </details>
  <h3 class="no-ref heading settled" id="w3c-conformance-classes"><span class="content"> Conformance classes</span><a class="self-link" href="#w3c-conformance-classes"></a></h3>
  <p>Conformance to this specification
    is defined for three conformance classes: </p>
  <dl>
   <dt>style sheet 
   <dd>A <a href="http://www.w3.org/TR/CSS21/conform.html#style-sheet">CSS
            style sheet</a>. 
   <dt>renderer 
   <dd>A <a href="http://www.w3.org/TR/CSS21/conform.html#user-agent">UA</a> that interprets the semantics of a style sheet and renders
            documents that use them. 
   <dt>authoring tool 
   <dd>A <a href="http://www.w3.org/TR/CSS21/conform.html#user-agent">UA</a> that writes a style sheet. 
  </dl>
  <p>A style sheet is conformant to this specification
    if all of its statements that use syntax defined in this module are valid
    according to the generic CSS grammar and the individual grammars of each
    feature defined in this module. </p>
  <p>A renderer is conformant to this specification
    if, in addition to interpreting the style sheet as defined by the
    appropriate specifications, it supports all the features defined
    by this specification by parsing them correctly
    and rendering the document accordingly. However, the inability of a
    UA to correctly render a document due to limitations of the device
    does not make the UA non-conformant. (For example, a UA is not
    required to render color on a monochrome monitor.) </p>
  <p>An authoring tool is conformant to this specification
    if it writes style sheets that are syntactically correct according to the
    generic CSS grammar and the individual grammars of each feature in
    this module, and meet all other conformance requirements of style sheets
    as described in this module. </p>
  <h3 class="no-ref heading settled" id="w3c-partial"><span class="content"> Partial implementations</span><a class="self-link" href="#w3c-partial"></a></h3>
  <p>So that authors can exploit the forward-compatible parsing rules to
    assign fallback values, CSS renderers <strong>must</strong> treat as invalid (and <a href="http://www.w3.org/TR/CSS21/conform.html#ignore">ignore
    as appropriate</a>) any at-rules, properties, property values, keywords,
    and other syntactic constructs for which they have no usable level of
    support. In particular, user agents <strong>must not</strong> selectively
    ignore unsupported component values and honor supported values in a single
    multi-value property declaration: if any value is considered invalid
    (as unsupported values must be), CSS requires that the entire declaration
    be ignored.</p>
  <h4 class="heading settled" id="w3c-conform-future-proofing"><span class="content"> Implementations of Unstable and Proprietary Features</span><a class="self-link" href="#w3c-conform-future-proofing"></a></h4>
  <p>To avoid clashes with future stable CSS features,
        the CSSWG recommends <a href="http://www.w3.org/TR/CSS/#future-proofing">following best practices</a> for the implementation of <a href="http://www.w3.org/TR/CSS/#unstable">unstable</a> features and <a href="http://www.w3.org/TR/CSS/#proprietary-extension">proprietary extensions</a> to CSS. </p>
  <h3 class="no-ref heading settled" id="w3c-testing"><span class="content"> Non-experimental implementations</span><a class="self-link" href="#w3c-testing"></a></h3>
  <p>Once a specification reaches the Candidate Recommendation stage,
    non-experimental implementations are possible, and implementors should
    release an unprefixed implementation of any CR-level feature they
    can demonstrate to be correctly implemented according to spec. </p>
  <p>To establish and maintain the interoperability of CSS across
    implementations, the CSS Working Group requests that non-experimental
    CSS renderers submit an implementation report (and, if necessary, the
    testcases used for that implementation report) to the W3C before
    releasing an unprefixed implementation of any CSS features. Testcases
    submitted to W3C are subject to review and correction by the CSS
    Working Group. </p>
  <p>Further information on submitting testcases and implementation reports
    can be found from on the CSS Working Group’s website at <a href="http://www.w3.org/Style/CSS/Test/">http://www.w3.org/Style/CSS/Test/</a>.
    Questions should be directed to the <a href="http://lists.w3.org/Archives/Public/public-css-testsuite">public-css-testsuite@w3.org</a> mailing list.</p>
  <script src="https://www.w3.org/scripts/TR/2021/fixup.js"></script>
  <h2 class="no-num no-ref heading settled" id="index"><span class="content">Index</span><a class="self-link" href="#index"></a></h2>
  <h3 class="no-num no-ref heading settled" id="index-defined-here"><span class="content">Terms defined by this specification</span><a class="self-link" href="#index-defined-here"></a></h3>
  <ul class="index">
   <li><a href="#3d-matrix">3D matrix</a><span>, in § 2</span>
   <li><a href="#3d-rendering-context">3D rendering context</a><span>, in § 2</span>
   <li><a href="#3d-transformed-element">3D transformed element</a><span>, in § 2</span>
   <li><a href="#3d-transform-functions">3d transform functions</a><span>, in § 12.2</span>
   <li><a href="#accumulated-3d-transformation-matrix">accumulated 3D transformation matrix</a><span>, in § 2</span>
   <li><a href="#accumulation-for-one-based-values">accumulation for one-based values</a><span>, in § 15</span>
   <li><a href="#propdef-backface-visibility">backface-visibility</a><span>, in § 10</span>
   <li><a href="#valdef-perspective-origin-bottom">bottom</a><span>, in § 9</span>
   <li><a href="#valdef-perspective-origin-center">center</a><span>, in § 9</span>
   <li><a href="#identity-transform-function">identity transform function</a><span>, in § 2</span>
   <li><a href="#valdef-perspective-origin-left">left</a><span>, in § 9</span>
   <li><a href="#valdef-perspective-origin-length">&lt;length></a><span>, in § 9</span>
   <li><a href="#valdef-perspective-length-0">&lt;length [0,∞]></a><span>, in § 8</span>
   <li><a href="#funcdef-matrix3d">matrix3d()</a><span>, in § 12.2</span>
   <li>
    none
    <ul>
     <li><a href="#valdef-perspective-none">value for perspective</a><span>, in § 8</span>
     <li><a href="#valdef-translate-none">value for translate, rotate, scale</a><span>, in § 5</span>
    </ul>
   <li><a href="#valdef-perspective-origin-percentage">&lt;percentage></a><span>, in § 9</span>
   <li><a href="#propdef-perspective">perspective</a><span>, in § 8</span>
   <li><a href="#funcdef-perspective">perspective()</a><span>, in § 12.2</span>
   <li><a href="#perspective-matrix">perspective matrix</a><span>, in § 2</span>
   <li><a href="#propdef-perspective-origin">perspective-origin</a><span>, in § 9</span>
   <li><a href="#valdef-perspective-origin-right">right</a><span>, in § 9</span>
   <li><a href="#propdef-rotate">rotate</a><span>, in § 5</span>
   <li><a href="#funcdef-rotate3d">rotate3d()</a><span>, in § 12.2</span>
   <li><a href="#funcdef-rotatex">rotateX()</a><span>, in § 12.2</span>
   <li><a href="#funcdef-rotatey">rotateY()</a><span>, in § 12.2</span>
   <li><a href="#funcdef-rotatez">rotateZ()</a><span>, in § 12.2</span>
   <li><a href="#propdef-scale">scale</a><span>, in § 5</span>
   <li><a href="#funcdef-scale">scale()</a><span>, in § 12.1</span>
   <li><a href="#funcdef-scale3d">scale3d()</a><span>, in § 12.2</span>
   <li><a href="#funcdef-scalex">scaleX()</a><span>, in § 12.1</span>
   <li><a href="#funcdef-scaley">scaleY()</a><span>, in § 12.1</span>
   <li><a href="#funcdef-scalez">scaleZ()</a><span>, in § 12.2</span>
   <li><a href="#valdef-perspective-origin-top">top</a><span>, in § 9</span>
   <li><a href="#typedef-transform-function">&lt;transform-function></a><span>, in § 12</span>
   <li><a href="#propdef-transform-style">transform-style</a><span>, in § 7</span>
   <li><a href="#propdef-translate">translate</a><span>, in § 5</span>
   <li><a href="#funcdef-translate3d">translate3d()</a><span>, in § 12.2</span>
   <li><a href="#funcdef-translatez">translateZ()</a><span>, in § 12.2</span>
   <li><a href="#valdef-rotate-x">x</a><span>, in § 5</span>
   <li><a href="#valdef-rotate-y">y</a><span>, in § 5</span>
   <li><a href="#valdef-rotate-z">z</a><span>, in § 5</span>
  </ul>
  <h3 class="no-num no-ref heading settled" id="index-defined-elsewhere"><span class="content">Terms defined by reference</span><a class="self-link" href="#index-defined-elsewhere"></a></h3>
  <ul class="index">
   <li>
    <a data-link-type="biblio">[COMPOSITING-2]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="559a1521">isolation</span>
     <li><span class="dfn-paneled" id="e8163b52">mix-blend-mode</span>
    </ul>
   <li>
    <a data-link-type="biblio">[CSS-BACKGROUNDS-3]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="d27a809f">background-position</span>
    </ul>
   <li>
    <a data-link-type="biblio">[CSS-CASCADE-5]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="9cd25054">computed value</span>
    </ul>
   <li>
    <a data-link-type="biblio">[CSS-COLOR-4]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="91bfbe18">opacity</span>
    </ul>
   <li>
    <a data-link-type="biblio">[CSS-MASKING-1]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="6b14b18a">clip</span>
     <li><span class="dfn-paneled" id="77f17203">clip-path</span>
     <li><span class="dfn-paneled" id="f00710cb">clippath</span>
     <li><span class="dfn-paneled" id="37a35a4b">mask</span>
     <li><span class="dfn-paneled" id="9fec1bdc">mask-border-source</span>
     <li><span class="dfn-paneled" id="6821b177">mask-image</span>
    </ul>
   <li>
    <a data-link-type="biblio">[CSS-OVERFLOW-3]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="33eda2d8">clip</span>
     <li><span class="dfn-paneled" id="86928bde">overflow</span>
     <li><span class="dfn-paneled" id="2c3a36fb">visible</span>
    </ul>
   <li>
    <a data-link-type="biblio">[CSS-TRANSFORMS-1]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="1dcdfd09">2d matrix</span>
     <li><span class="dfn-paneled" id="a13ebf85">&lt;transform-list></span>
     <li><span class="dfn-paneled" id="ec125c9a">containing block for all descendants</span>
     <li><span class="dfn-paneled" id="2bd6f4ba">matrix()</span>
     <li><span class="dfn-paneled" id="fa608269">reference box</span>
     <li><span class="dfn-paneled" id="d8eb5956">rotate()</span>
     <li><span class="dfn-paneled" id="e2e08d07">transform</span>
     <li><span class="dfn-paneled" id="09f2cf3e">transform-origin</span>
     <li><span class="dfn-paneled" id="006bffbc">transformable element</span>
     <li><span class="dfn-paneled" id="c2544db0">transformation matrix</span>
     <li><span class="dfn-paneled" id="8a524bdc">transformed element</span>
     <li><span class="dfn-paneled" id="0d7c5bb2">translate()</span>
     <li><span class="dfn-paneled" id="0f401002">translatex()</span>
     <li><span class="dfn-paneled" id="fceff2e9">translatey()</span>
    </ul>
   <li>
    <a data-link-type="biblio">[CSS-VALUES-4]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="68487d22">#</span>
     <li><span class="dfn-paneled" id="f0809abc">&amp;&amp;</span>
     <li><span class="dfn-paneled" id="9f9120ff">,</span>
     <li><span class="dfn-paneled" id="3559c926">&lt;angle></span>
     <li><span class="dfn-paneled" id="18222566">&lt;length-percentage></span>
     <li><span class="dfn-paneled" id="fb030e6c">&lt;length></span>
     <li><span class="dfn-paneled" id="16310992">&lt;number></span>
     <li><span class="dfn-paneled" id="15f5b381">&lt;percentage></span>
     <li><span class="dfn-paneled" id="2cd27cd8">&lt;position></span>
     <li><span class="dfn-paneled" id="076e8657">&lt;zero></span>
     <li><span class="dfn-paneled" id="537cf076">?</span>
     <li><span class="dfn-paneled" id="358fd6ff">css-wide keywords</span>
     <li><span class="dfn-paneled" id="32060dd5">value accumulation</span>
     <li><span class="dfn-paneled" id="3642b848">value addition</span>
     <li><span class="dfn-paneled" id="938ba280">{a,b}</span>
     <li><span class="dfn-paneled" id="b0d8ebd9">{a}</span>
     <li><span class="dfn-paneled" id="6ec67710">|</span>
    </ul>
   <li>
    <a data-link-type="biblio">[CSS21]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="a50c2771">stacking context</span>
    </ul>
   <li>
    <a data-link-type="biblio">[CSS22]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="58708596">auto</span>
    </ul>
   <li>
    <a data-link-type="biblio">[CSSOM]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="b203675a">getComputedStyle(elt)</span>
     <li><span class="dfn-paneled" id="4fe61159">resolved value</span>
     <li><span class="dfn-paneled" id="1af3f5cf">resolved value special case property like height</span>
    </ul>
   <li>
    <a data-link-type="biblio">[FILTER-EFFECTS-1]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="9f184b64">filter</span>
    </ul>
   <li>
    <a data-link-type="biblio">[HTML]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="68bf3d31">a</span>
    </ul>
   <li>
    <a data-link-type="biblio">[INFRA]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="53275e46">append</span>
     <li><span class="dfn-paneled" id="649608b9">list</span>
    </ul>
   <li>
    <a data-link-type="biblio">[MOTION-1]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="3f0b4366">offset</span>
    </ul>
   <li>
    <a data-link-type="biblio">[SVG-ANIMATIONS]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="0246188d">animate</span>
     <li><span class="dfn-paneled" id="1d7fc05e">set</span>
    </ul>
   <li>
    <a data-link-type="biblio">[SVG2]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="793853ba">container element</span>
     <li><span class="dfn-paneled" id="511b3636">foreignobject</span>
     <li><span class="dfn-paneled" id="79b35220">g</span>
     <li><span class="dfn-paneled" id="2a1827d6">graphics element</span>
     <li><span class="dfn-paneled" id="afe12c27">graphics referencing element</span>
     <li><span class="dfn-paneled" id="10c0f2e8">lineargradient</span>
     <li><span class="dfn-paneled" id="abdfd54a">pattern</span>
     <li><span class="dfn-paneled" id="ee061115">radialgradient</span>
     <li><span class="dfn-paneled" id="4299a926">svg</span>
     <li><span class="dfn-paneled" id="b0bdddb2">vector-effect</span>
    </ul>
  </ul>
  <h2 class="no-num no-ref heading settled" id="references"><span class="content">References</span><a class="self-link" href="#references"></a></h2>
  <h3 class="no-num no-ref heading settled" id="normative"><span class="content">Normative References</span><a class="self-link" href="#normative"></a></h3>
  <dl>
   <dt id="biblio-compositing-2">[COMPOSITING-2]
   <dd><a href="https://drafts.fxtf.org/compositing-2/"><cite>Compositing and Blending Level 2</cite></a>. Editor's Draft. URL: <a href="https://drafts.fxtf.org/compositing-2/">https://drafts.fxtf.org/compositing-2/</a>
   <dt id="biblio-css-backgrounds-3">[CSS-BACKGROUNDS-3]
   <dd>Elika Etemad; Brad Kemper. <a href="https://drafts.csswg.org/css-backgrounds/"><cite>CSS Backgrounds and Borders Module Level 3</cite></a>. URL: <a href="https://drafts.csswg.org/css-backgrounds/">https://drafts.csswg.org/css-backgrounds/</a>
   <dt id="biblio-css-cascade-5">[CSS-CASCADE-5]
   <dd>Elika Etemad; Miriam Suzanne; Tab Atkins Jr.. <a href="https://drafts.csswg.org/css-cascade-5/"><cite>CSS Cascading and Inheritance Level 5</cite></a>. URL: <a href="https://drafts.csswg.org/css-cascade-5/">https://drafts.csswg.org/css-cascade-5/</a>
   <dt id="biblio-css-color-4">[CSS-COLOR-4]
   <dd>Chris Lilley; Tab Atkins Jr.; Lea Verou. <a href="https://drafts.csswg.org/css-color-4/"><cite>CSS Color Module Level 4</cite></a>. URL: <a href="https://drafts.csswg.org/css-color-4/">https://drafts.csswg.org/css-color-4/</a>
   <dt id="biblio-css-masking-1">[CSS-MASKING-1]
   <dd>Dirk Schulze; Brian Birtles; Tab Atkins Jr.. <a href="https://drafts.fxtf.org/css-masking-1/"><cite>CSS Masking Module Level 1</cite></a>. URL: <a href="https://drafts.fxtf.org/css-masking-1/">https://drafts.fxtf.org/css-masking-1/</a>
   <dt id="biblio-css-overflow-3">[CSS-OVERFLOW-3]
   <dd>Elika Etemad; Florian Rivoal. <a href="https://drafts.csswg.org/css-overflow-3/"><cite>CSS Overflow Module Level 3</cite></a>. URL: <a href="https://drafts.csswg.org/css-overflow-3/">https://drafts.csswg.org/css-overflow-3/</a>
   <dt id="biblio-css-transforms-1">[CSS-TRANSFORMS-1]
   <dd>Simon Fraser; et al. <a href="https://drafts.csswg.org/css-transforms/"><cite>CSS Transforms Module Level 1</cite></a>. URL: <a href="https://drafts.csswg.org/css-transforms/">https://drafts.csswg.org/css-transforms/</a>
   <dt id="biblio-css-values-3">[CSS-VALUES-3]
   <dd>Tab Atkins Jr.; Elika Etemad. <a href="https://drafts.csswg.org/css-values-3/"><cite>CSS Values and Units Module Level 3</cite></a>. URL: <a href="https://drafts.csswg.org/css-values-3/">https://drafts.csswg.org/css-values-3/</a>
   <dt id="biblio-css-values-4">[CSS-VALUES-4]
   <dd>Tab Atkins Jr.; Elika Etemad. <a href="https://drafts.csswg.org/css-values-4/"><cite>CSS Values and Units Module Level 4</cite></a>. URL: <a href="https://drafts.csswg.org/css-values-4/">https://drafts.csswg.org/css-values-4/</a>
   <dt id="biblio-css21">[CSS21]
   <dd>Bert Bos; et al. <a href="https://drafts.csswg.org/css2/"><cite>Cascading Style Sheets Level 2 Revision 1 (CSS 2.1) Specification</cite></a>. URL: <a href="https://drafts.csswg.org/css2/">https://drafts.csswg.org/css2/</a>
   <dt id="biblio-css22">[CSS22]
   <dd>Bert Bos. <a href="https://drafts.csswg.org/css2/"><cite>Cascading Style Sheets Level 2 Revision 2 (CSS 2.2) Specification</cite></a>. URL: <a href="https://drafts.csswg.org/css2/">https://drafts.csswg.org/css2/</a>
   <dt id="biblio-cssom">[CSSOM]
   <dd>Daniel Glazman; Emilio Cobos Álvarez. <a href="https://drafts.csswg.org/cssom/"><cite>CSS Object Model (CSSOM)</cite></a>. URL: <a href="https://drafts.csswg.org/cssom/">https://drafts.csswg.org/cssom/</a>
   <dt id="biblio-filter-effects-1">[FILTER-EFFECTS-1]
   <dd>Dirk Schulze; Dean Jackson. <a href="https://drafts.fxtf.org/filter-effects-1/"><cite>Filter Effects Module Level 1</cite></a>. URL: <a href="https://drafts.fxtf.org/filter-effects-1/">https://drafts.fxtf.org/filter-effects-1/</a>
   <dt id="biblio-html">[HTML]
   <dd>Anne van Kesteren; et al. <a href="https://html.spec.whatwg.org/multipage/"><cite>HTML Standard</cite></a>. Living Standard. URL: <a href="https://html.spec.whatwg.org/multipage/">https://html.spec.whatwg.org/multipage/</a>
   <dt id="biblio-infra">[INFRA]
   <dd>Anne van Kesteren; Domenic Denicola. <a href="https://infra.spec.whatwg.org/"><cite>Infra Standard</cite></a>. Living Standard. URL: <a href="https://infra.spec.whatwg.org/">https://infra.spec.whatwg.org/</a>
   <dt id="biblio-motion-1">[MOTION-1]
   <dd>Dirk Schulze; et al. <a href="https://drafts.fxtf.org/motion-1/"><cite>Motion Path Module Level 1</cite></a>. URL: <a href="https://drafts.fxtf.org/motion-1/">https://drafts.fxtf.org/motion-1/</a>
   <dt id="biblio-rfc2119">[RFC2119]
   <dd>S. Bradner. <a href="https://datatracker.ietf.org/doc/html/rfc2119"><cite>Key words for use in RFCs to Indicate Requirement Levels</cite></a>. March 1997. Best Current Practice. URL: <a href="https://datatracker.ietf.org/doc/html/rfc2119">https://datatracker.ietf.org/doc/html/rfc2119</a>
   <dt id="biblio-svg-animations">[SVG-ANIMATIONS]
   <dd><a href="https://svgwg.org/specs/animations/"><cite>SVG Animations Level 2</cite></a>. Editor's Draft. URL: <a href="https://svgwg.org/specs/animations/">https://svgwg.org/specs/animations/</a>
   <dt id="biblio-svg11">[SVG11]
   <dd>Erik Dahlström; et al. <a href="https://www.w3.org/TR/SVG11/"><cite>Scalable Vector Graphics (SVG) 1.1 (Second Edition)</cite></a>. 16 August 2011. REC. URL: <a href="https://www.w3.org/TR/SVG11/">https://www.w3.org/TR/SVG11/</a>
   <dt id="biblio-svg2">[SVG2]
   <dd>Amelia Bellamy-Royds; et al. <a href="https://svgwg.org/svg2-draft/"><cite>Scalable Vector Graphics (SVG) 2</cite></a>. URL: <a href="https://svgwg.org/svg2-draft/">https://svgwg.org/svg2-draft/</a>
  </dl>
  <h2 class="no-num no-ref heading settled" id="property-index"><span class="content">Property Index</span><a class="self-link" href="#property-index"></a></h2>
  <div class="big-element-wrapper">
   <table class="index">
    <thead>
     <tr>
      <th scope="col">Name
      <th scope="col">Value
      <th scope="col">Initial
      <th scope="col">Applies to
      <th scope="col">Inh.
      <th scope="col">%ages
      <th scope="col">Anim­ation type
      <th scope="col">Canonical order
      <th scope="col">Com­puted value
      <th scope="col">Used value
    <tbody>
     <tr>
      <th scope="row"><a class="css" data-link-type="property" href="#propdef-backface-visibility" id="ref-for-propdef-backface-visibility①①">backface-visibility</a>
      <td>visible | hidden
      <td>visible
      <td>transformable elements
      <td>no
      <td>N/A
      <td>discrete
      <td>per grammar
      <td>specified keyword
      <td>
     <tr>
      <th scope="row"><a class="css" data-link-type="property" href="#propdef-perspective" id="ref-for-propdef-perspective①⑧">perspective</a>
      <td>none | &lt;length [0,∞]>
      <td>none
      <td>transformable elements
      <td>no
      <td>N/A
      <td>by computed value
      <td>per grammar
      <td>the keyword none or an absolute length
      <td>
     <tr>
      <th scope="row"><a class="css" data-link-type="property" href="#propdef-perspective-origin" id="ref-for-propdef-perspective-origin①⑥">perspective-origin</a>
      <td>&lt;position>
      <td>50% 50%
      <td>transformable elements
      <td>no
      <td>refer to the size of the reference box
      <td>by computed value
      <td>per grammar
      <td>see background-position
      <td>
     <tr>
      <th scope="row"><a class="css" data-link-type="property" href="#propdef-rotate" id="ref-for-propdef-rotate①①">rotate</a>
      <td>none | &lt;angle> | [ x | y | z | &lt;number>{3} ] &amp;&amp; &lt;angle>
      <td>none
      <td>transformable elements
      <td>no
      <td>n/a
      <td>as SLERP, but see below for none
      <td>per grammar
      <td>the keyword none, or an &lt;angle> with an axis consisting of a list of three &lt;number>s
      <td>
     <tr>
      <th scope="row"><a class="css" data-link-type="property" href="#propdef-scale" id="ref-for-propdef-scale①⓪">scale</a>
      <td>none | [ &lt;number> | &lt;percentage> ]{1,3}
      <td>none
      <td>transformable elements
      <td>no
      <td>n/a
      <td>by computed value, but see below for none
      <td>per grammar
      <td>the keyword none, or a list of 3 &lt;number>s
      <td>
     <tr>
      <th scope="row"><a class="css" data-link-type="property" href="#propdef-transform-style" id="ref-for-propdef-transform-style①③">transform-style</a>
      <td>flat | preserve-3d
      <td>flat
      <td>transformable elements
      <td>no
      <td>N/A
      <td>discrete
      <td>per grammar
      <td>specified keyword
      <td>flat if a grouping property is present, specified keyword otherwise
     <tr>
      <th scope="row"><a class="css" data-link-type="property" href="#propdef-translate" id="ref-for-propdef-translate①⓪">translate</a>
      <td>none | &lt;length-percentage> [ &lt;length-percentage> &lt;length>? ]?
      <td>none
      <td>transformable elements
      <td>no
      <td>relative to the width of the reference box (for the first value) or the height (for the second value)
      <td>by computed value, but see below for none
      <td>per grammar
      <td>the keyword none or a pair of computed &lt;length-percentage> values and an absolute length
      <td>
   </table>
  </div>
  <h2 class="no-num no-ref heading settled" id="issues-index"><span class="content">Issues Index</span><a class="self-link" href="#issues-index"></a></h2>
  <div style="counter-reset:issue">
   <div class="issue"> fix this text to add to the text in CSS Transforms 1. <a class="issue-return" href="#issue-8241ab72" title="Jump to section">↵</a></div>
   <div class="issue"> describe how nested 3d-transformed elements render (perhaps with math) <a class="issue-return" href="#issue-aae09890" title="Jump to section">↵</a></div>
   <div class="issue"> This example doesn’t follow from the previous text. <a class="issue-return" href="#issue-699eabea" title="Jump to section">↵</a></div>
   <div class="issue"> This doesn’t describe how untransformed content within a 3D transformed element is handled, the algorithm probably needs to be recursive.
Issue: Figure out what the current behavior of various engines is, and figure out a clearer description that wont break web compat. <a class="issue-return" href="#issue-21083b8a" title="Jump to section">↵</a></div>
   <div class="issue"> is it OK to not pop 2D-transformed elements into their own planes? <a class="issue-return" href="#issue-d667e5bf" title="Jump to section">↵</a></div>
   <div class="issue"> requiring intersection with non-transformed content and descendants requires UAs to allocate additional textures (possibly doubling memory use). Would be more efficient to simply render content and untransformed descendants along with background and borders. <a class="issue-return" href="#issue-d1f8f85e" title="Jump to section">↵</a></div>
   <div class="issue"> what is the impact of backface-visibility on non-transformed or 2D-transformed elements? Do they get popped into their own planes and intersect? <a class="issue-return" href="#issue-7b36039d" title="Jump to section">↵</a></div>
   <div class="issue"> This is a first pass at an attempt to precisely specify how exactly to transform elements using the provided matrices. It might not be ideal, and implementer feedback is encouraged.  See <a href="https://www.w3.org/Bugs/Public/show_bug.cgi?id=15605">bug 15605</a>. <a class="issue-return" href="#issue-0f626662" title="Jump to section">↵</a></div>
   <div class="issue"> Verify that projection is the distance to the center of projection. <a class="issue-return" href="#issue-8678c096" title="Jump to section">↵</a></div>
   <div class="issue"> We don’t really need to be a stacking context or containing block for perspective, but maybe webcompat means we can’t change this. <a class="issue-return" href="#issue-d6818476" title="Jump to section">↵</a></div>
   <div class="issue"> Backface-visibility cannot be tested by only looking at m33. See <a href="https://www.w3.org/Bugs/Public/show_bug.cgi?id=23014">Bug 23014</a>. <a class="issue-return" href="#issue-972d97c8" title="Jump to section">↵</a></div>
   <div class="issue"> formally describe the syntax of the 3D transform functions in SVG,
as is done <a href="https://drafts.csswg.org/css-transforms-1/#svg-syntax">for the 2-D functions</a>. <a class="issue-return" href="#issue-c054a7a7" title="Jump to section">↵</a></div>
   <div class="issue"> Per <a href="https://lists.w3.org/Archives/Public/www-style/2015Mar/0371.html">https://lists.w3.org/Archives/Public/www-style/2015Mar/0371.html</a>,
the WG resolved to add a formula for decomposing a transform into a unified "scale"
(the spec already defines how to decompose it into scaleX/Y/Z),
for use by things like SVG’s non-scaling stroke spec. <a href="https://www.w3.org/Graphics/SVG/WG/wiki/Proposals/Specifying_decomposition_of_scale">Formula is defined here.</a> <a class="issue-return" href="#issue-b3f9db98" title="Jump to section">↵</a></div>
  </div>
  <details class="mdn-anno unpositioned" data-anno-for="backface-visibility-property">
   <summary><b class="all-engines-flag" title="This feature is in all current engines.">✔</b><span>MDN</span></summary>
   <div class="feature">
    <p><a href="https://developer.mozilla.org/en-US/docs/Web/CSS/backface-visibility" title="The backface-visibility CSS property sets whether the back face of an element is visible when turned towards the user.">backface-visibility</a></p>
    <p class="all-engines-text">In all current engines.</p>
    <div class="support">
     <span class="firefox yes"><span>Firefox</span><span>16+</span></span><span class="safari yes"><span>Safari</span><span>15.4+</span></span><span class="chrome yes"><span>Chrome</span><span>36+</span></span>
     <hr>
     <span class="opera no"><span>Opera</span><span>?</span></span><span class="edge_blink yes"><span>Edge</span><span>79+</span></span>
     <hr>
     <span class="edge yes"><span>Edge (Legacy)</span><span>12+</span></span><span class="ie yes"><span>IE</span><span>10+</span></span>
     <hr>
     <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span class="webview_android yes"><span>Android WebView</span><span>37+</span></span><span class="samsunginternet_android no"><span>Samsung Internet</span><span>?</span></span><span class="opera_android no"><span>Opera Mobile</span><span>?</span></span>
    </div>
   </div>
  </details>
  <details class="mdn-anno unpositioned" data-anno-for="perspective-origin-property">
   <summary><b class="all-engines-flag" title="This feature is in all current engines.">✔</b><span>MDN</span></summary>
   <div class="feature">
    <p><a href="https://developer.mozilla.org/en-US/docs/Web/CSS/perspective-origin" title="The perspective-origin CSS property determines the position at which the viewer is looking. It is used as the vanishing point by the perspective property.">perspective-origin</a></p>
    <p class="all-engines-text">In all current engines.</p>
    <div class="support">
     <span class="firefox yes"><span>Firefox</span><span>16+</span></span><span class="safari yes"><span>Safari</span><span>9+</span></span><span class="chrome yes"><span>Chrome</span><span>36+</span></span>
     <hr>
     <span class="opera no"><span>Opera</span><span>?</span></span><span class="edge_blink yes"><span>Edge</span><span>79+</span></span>
     <hr>
     <span class="edge yes"><span>Edge (Legacy)</span><span>12+</span></span><span class="ie yes"><span>IE</span><span>10+</span></span>
     <hr>
     <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span class="safari_ios yes"><span>iOS Safari</span><span>9+</span></span><span class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span class="webview_android yes"><span>Android WebView</span><span>4.4+</span></span><span class="samsunginternet_android no"><span>Samsung Internet</span><span>?</span></span><span class="opera_android no"><span>Opera Mobile</span><span>?</span></span>
    </div>
   </div>
  </details>
  <details class="mdn-anno unpositioned" data-anno-for="perspective-property">
   <summary><b class="all-engines-flag" title="This feature is in all current engines.">✔</b><span>MDN</span></summary>
   <div class="feature">
    <p><a href="https://developer.mozilla.org/en-US/docs/Web/CSS/perspective" title="The perspective CSS property determines the distance between the z=0 plane and the user in order to give a 3D-positioned element some perspective.">perspective</a></p>
    <p class="all-engines-text">In all current engines.</p>
    <div class="support">
     <span class="firefox yes"><span>Firefox</span><span>16+</span></span><span class="safari yes"><span>Safari</span><span>9+</span></span><span class="chrome yes"><span>Chrome</span><span>36+</span></span>
     <hr>
     <span class="opera no"><span>Opera</span><span>?</span></span><span class="edge_blink yes"><span>Edge</span><span>79+</span></span>
     <hr>
     <span class="edge yes"><span>Edge (Legacy)</span><span>12+</span></span><span class="ie yes"><span>IE</span><span>10+</span></span>
     <hr>
     <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span class="safari_ios yes"><span>iOS Safari</span><span>9+</span></span><span class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span class="webview_android yes"><span>Android WebView</span><span>4.4+</span></span><span class="samsunginternet_android no"><span>Samsung Internet</span><span>?</span></span><span class="opera_android no"><span>Opera Mobile</span><span>?</span></span>
    </div>
   </div>
  </details>
  <details class="mdn-anno unpositioned" data-anno-for="individual-transforms">
   <summary><b class="all-engines-flag" title="This feature is in all current engines.">✔</b><span>MDN</span></summary>
   <div class="feature">
    <p><a href="https://developer.mozilla.org/en-US/docs/Web/CSS/rotate" title="The rotate CSS property allows you to specify rotation transforms individually and independently of the transform property. This maps better to typical user interface usage, and saves having to remember the exact order of transform functions to specify in the transform property.">rotate</a></p>
    <p class="all-engines-text">In all current engines.</p>
    <div class="support">
     <span class="firefox yes"><span>Firefox</span><span>72+</span></span><span class="safari yes"><span>Safari</span><span>14.1+</span></span><span class="chrome yes"><span>Chrome</span><span>104+</span></span>
     <hr>
     <span class="opera no"><span>Opera</span><span>?</span></span><span class="edge_blink yes"><span>Edge</span><span>104+</span></span>
     <hr>
     <span class="edge no"><span>Edge (Legacy)</span><span>?</span></span><span class="ie no"><span>IE</span><span>None</span></span>
     <hr>
     <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span class="webview_android no"><span>Android WebView</span><span>?</span></span><span class="samsunginternet_android no"><span>Samsung Internet</span><span>?</span></span><span class="opera_android no"><span>Opera Mobile</span><span>?</span></span>
    </div>
   </div>
   <div class="feature">
    <p><a href="https://developer.mozilla.org/en-US/docs/Web/CSS/scale" title="The scale CSS property allows you to specify scale transforms individually and independently of the transform property. This maps better to typical user interface usage, and saves having to remember the exact order of transform functions to specify in the transform value.">scale</a></p>
    <p class="all-engines-text">In all current engines.</p>
    <div class="support">
     <span class="firefox yes"><span>Firefox</span><span>72+</span></span><span class="safari yes"><span>Safari</span><span>14.1+</span></span><span class="chrome yes"><span>Chrome</span><span>104+</span></span>
     <hr>
     <span class="opera no"><span>Opera</span><span>?</span></span><span class="edge_blink yes"><span>Edge</span><span>104+</span></span>
     <hr>
     <span class="edge no"><span>Edge (Legacy)</span><span>?</span></span><span class="ie no"><span>IE</span><span>None</span></span>
     <hr>
     <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span class="webview_android no"><span>Android WebView</span><span>?</span></span><span class="samsunginternet_android no"><span>Samsung Internet</span><span>?</span></span><span class="opera_android no"><span>Opera Mobile</span><span>?</span></span>
    </div>
   </div>
   <div class="feature">
    <p><a href="https://developer.mozilla.org/en-US/docs/Web/CSS/translate" title="The translate CSS property allows you to specify translation transforms individually and independently of the transform property. This maps better to typical user interface usage, and saves having to remember the exact order of transform functions to specify in the transform value.">translate</a></p>
    <p class="all-engines-text">In all current engines.</p>
    <div class="support">
     <span class="firefox yes"><span>Firefox</span><span>72+</span></span><span class="safari yes"><span>Safari</span><span>14.1+</span></span><span class="chrome yes"><span>Chrome</span><span>104+</span></span>
     <hr>
     <span class="opera no"><span>Opera</span><span>?</span></span><span class="edge_blink yes"><span>Edge</span><span>104+</span></span>
     <hr>
     <span class="edge no"><span>Edge (Legacy)</span><span>?</span></span><span class="ie no"><span>IE</span><span>None</span></span>
     <hr>
     <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span class="webview_android no"><span>Android WebView</span><span>?</span></span><span class="samsunginternet_android no"><span>Samsung Internet</span><span>?</span></span><span class="opera_android no"><span>Opera Mobile</span><span>?</span></span>
    </div>
   </div>
  </details>
  <details class="mdn-anno unpositioned" data-anno-for="transform-style-property">
   <summary><b class="all-engines-flag" title="This feature is in all current engines.">✔</b><span>MDN</span></summary>
   <div class="feature">
    <p><a href="https://developer.mozilla.org/en-US/docs/Web/CSS/transform-style" title="The transform-style CSS property sets whether children of an element are positioned in the 3D space or are flattened in the plane of the element.">transform-style</a></p>
    <p class="all-engines-text">In all current engines.</p>
    <div class="support">
     <span class="firefox yes"><span>Firefox</span><span>16+</span></span><span class="safari yes"><span>Safari</span><span>9+</span></span><span class="chrome yes"><span>Chrome</span><span>36+</span></span>
     <hr>
     <span class="opera no"><span>Opera</span><span>?</span></span><span class="edge_blink yes"><span>Edge</span><span>79+</span></span>
     <hr>
     <span class="edge yes"><span>Edge (Legacy)</span><span>12+</span></span><span class="ie no"><span>IE</span><span>None</span></span>
     <hr>
     <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span class="safari_ios yes"><span>iOS Safari</span><span>9+</span></span><span class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span class="webview_android yes"><span>Android WebView</span><span>4.4+</span></span><span class="samsunginternet_android no"><span>Samsung Internet</span><span>?</span></span><span class="opera_android no"><span>Opera Mobile</span><span>?</span></span>
    </div>
   </div>
  </details>
  <details class="mdn-anno unpositioned" data-anno-for="transform-functions">
   <summary><b class="all-engines-flag" title="This feature is in all current engines.">✔</b><span>MDN</span></summary>
   <div class="feature">
    <p><a href="https://developer.mozilla.org/en-US/docs/Web/CSS/transform" title="The transform CSS property lets you rotate, scale, skew, or translate an element. It modifies the coordinate space of the CSS visual formatting model.">transform</a></p>
    <p class="all-engines-text">In all current engines.</p>
    <div class="support">
     <span class="firefox yes"><span>Firefox</span><span>16+</span></span><span class="safari yes"><span>Safari</span><span>9+</span></span><span class="chrome yes"><span>Chrome</span><span>36+</span></span>
     <hr>
     <span class="opera yes"><span>Opera</span><span>23+</span></span><span class="edge_blink yes"><span>Edge</span><span>79+</span></span>
     <hr>
     <span class="edge yes"><span>Edge (Legacy)</span><span>12+</span></span><span class="ie yes"><span>IE</span><span>10+</span></span>
     <hr>
     <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span class="safari_ios yes"><span>iOS Safari</span><span>9+</span></span><span class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span class="webview_android yes"><span>Android WebView</span><span>4.4+</span></span><span class="samsunginternet_android no"><span>Samsung Internet</span><span>?</span></span><span class="opera_android yes"><span>Opera Mobile</span><span>24+</span></span>
    </div>
   </div>
   <div class="feature">
    <p><a href="https://developer.mozilla.org/en-US/docs/Web/CSS/transform-function" title="The <transform-function> CSS data type represents a transformation that affects an element&apos;s appearance. Transformation functions can rotate, resize, distort, or move an element in 2D or 3D space. It is used in the transform property.">transform-function</a></p>
    <p class="all-engines-text">In all current engines.</p>
    <div class="support">
     <span class="firefox yes"><span>Firefox</span><span>3.5+</span></span><span class="safari yes"><span>Safari</span><span>3.1+</span></span><span class="chrome yes"><span>Chrome</span><span>1+</span></span>
     <hr>
     <span class="opera yes"><span>Opera</span><span>10.5+</span></span><span class="edge_blink yes"><span>Edge</span><span>79+</span></span>
     <hr>
     <span class="edge yes"><span>Edge (Legacy)</span><span>12+</span></span><span class="ie yes"><span>IE</span><span>9+</span></span>
     <hr>
     <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span class="safari_ios yes"><span>iOS Safari</span><span>3.2+</span></span><span class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span class="webview_android yes"><span>Android WebView</span><span>2+</span></span><span class="samsunginternet_android no"><span>Samsung Internet</span><span>?</span></span><span class="opera_android yes"><span>Opera Mobile</span><span>11+</span></span>
    </div>
   </div>
  </details>
  <details class="mdn-anno unpositioned" data-anno-for="funcdef-matrix3d">
   <summary><b class="all-engines-flag" title="This feature is in all current engines.">✔</b><span>MDN</span></summary>
   <div class="feature">
    <p><a href="https://developer.mozilla.org/en-US/docs/Web/CSS/transform-function/matrix3d" title="The matrix3d() CSS function defines a 3D transformation as a 4x4 homogeneous matrix. Its result is a <transform-function> data type.">transform-function/matrix3d</a></p>
    <p class="all-engines-text">In all current engines.</p>
    <div class="support">
     <span class="firefox yes"><span>Firefox</span><span>10+</span></span><span class="safari yes"><span>Safari</span><span>4+</span></span><span class="chrome yes"><span>Chrome</span><span>12+</span></span>
     <hr>
     <span class="opera no"><span>Opera</span><span>?</span></span><span class="edge_blink yes"><span>Edge</span><span>79+</span></span>
     <hr>
     <span class="edge yes"><span>Edge (Legacy)</span><span>12+</span></span><span class="ie yes"><span>IE</span><span>10+</span></span>
     <hr>
     <span class="firefox_android yes"><span>Firefox for Android</span><span>10+</span></span><span class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span class="webview_android yes"><span>Android WebView</span><span>3+</span></span><span class="samsunginternet_android no"><span>Samsung Internet</span><span>?</span></span><span class="opera_android no"><span>Opera Mobile</span><span>?</span></span>
    </div>
   </div>
  </details>
  <details class="mdn-anno unpositioned" data-anno-for="funcdef-perspective">
   <summary><b class="all-engines-flag" title="This feature is in all current engines.">✔</b><span>MDN</span></summary>
   <div class="feature">
    <p><a href="https://developer.mozilla.org/en-US/docs/Web/CSS/transform-function/perspective" title="The perspective() CSS function defines a transformation that sets the distance between the user and the z=0 plane, the perspective from which the viewer would be if the 2-dimensional interface were 3-dimensional. Its result is a <transform-function> data type.">transform-function/perspective</a></p>
    <p class="all-engines-text">In all current engines.</p>
    <div class="support">
     <span class="firefox yes"><span>Firefox</span><span>10+</span></span><span class="safari yes"><span>Safari</span><span>4+</span></span><span class="chrome yes"><span>Chrome</span><span>12+</span></span>
     <hr>
     <span class="opera no"><span>Opera</span><span>?</span></span><span class="edge_blink yes"><span>Edge</span><span>79+</span></span>
     <hr>
     <span class="edge yes"><span>Edge (Legacy)</span><span>12+</span></span><span class="ie yes"><span>IE</span><span>10+</span></span>
     <hr>
     <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span class="webview_android yes"><span>Android WebView</span><span>3+</span></span><span class="samsunginternet_android no"><span>Samsung Internet</span><span>?</span></span><span class="opera_android no"><span>Opera Mobile</span><span>?</span></span>
    </div>
   </div>
  </details>
  <details class="mdn-anno unpositioned" data-anno-for="funcdef-rotate3d">
   <summary><b class="all-engines-flag" title="This feature is in all current engines.">✔</b><span>MDN</span></summary>
   <div class="feature">
    <p><a href="https://developer.mozilla.org/en-US/docs/Web/CSS/transform-function/rotate3d" title="The rotate3d() CSS function defines a transformation that rotates an element around a fixed axis in 3D space, without deforming it. Its result is a <transform-function> data type.">transform-function/rotate3d</a></p>
    <p class="all-engines-text">In all current engines.</p>
    <div class="support">
     <span class="firefox yes"><span>Firefox</span><span>10+</span></span><span class="safari yes"><span>Safari</span><span>4+</span></span><span class="chrome yes"><span>Chrome</span><span>12+</span></span>
     <hr>
     <span class="opera no"><span>Opera</span><span>?</span></span><span class="edge_blink yes"><span>Edge</span><span>79+</span></span>
     <hr>
     <span class="edge yes"><span>Edge (Legacy)</span><span>12+</span></span><span class="ie yes"><span>IE</span><span>10+</span></span>
     <hr>
     <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span class="webview_android yes"><span>Android WebView</span><span>3+</span></span><span class="samsunginternet_android no"><span>Samsung Internet</span><span>?</span></span><span class="opera_android no"><span>Opera Mobile</span><span>?</span></span>
    </div>
   </div>
  </details>
  <details class="mdn-anno unpositioned" data-anno-for="funcdef-rotatex">
   <summary><b class="all-engines-flag" title="This feature is in all current engines.">✔</b><span>MDN</span></summary>
   <div class="feature">
    <p><a href="https://developer.mozilla.org/en-US/docs/Web/CSS/transform-function/rotateX" title="The rotateX() CSS function defines a transformation that rotates an element around the abscissa (horizontal axis) without deforming it. Its result is a <transform-function> data type.">transform-function/rotateX</a></p>
    <p class="all-engines-text">In all current engines.</p>
    <div class="support">
     <span class="firefox yes"><span>Firefox</span><span>10+</span></span><span class="safari yes"><span>Safari</span><span>4+</span></span><span class="chrome yes"><span>Chrome</span><span>12+</span></span>
     <hr>
     <span class="opera no"><span>Opera</span><span>?</span></span><span class="edge_blink yes"><span>Edge</span><span>79+</span></span>
     <hr>
     <span class="edge yes"><span>Edge (Legacy)</span><span>12+</span></span><span class="ie yes"><span>IE</span><span>10+</span></span>
     <hr>
     <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span class="webview_android yes"><span>Android WebView</span><span>3+</span></span><span class="samsunginternet_android no"><span>Samsung Internet</span><span>?</span></span><span class="opera_android no"><span>Opera Mobile</span><span>?</span></span>
    </div>
   </div>
  </details>
  <details class="mdn-anno unpositioned" data-anno-for="funcdef-rotatey">
   <summary><b class="all-engines-flag" title="This feature is in all current engines.">✔</b><span>MDN</span></summary>
   <div class="feature">
    <p><a href="https://developer.mozilla.org/en-US/docs/Web/CSS/transform-function/rotateY" title="The rotateY() CSS function defines a transformation that rotates an element around the ordinate (vertical axis) without deforming it. Its result is a <transform-function> data type.">transform-function/rotateY</a></p>
    <p class="all-engines-text">In all current engines.</p>
    <div class="support">
     <span class="firefox yes"><span>Firefox</span><span>10+</span></span><span class="safari yes"><span>Safari</span><span>4+</span></span><span class="chrome yes"><span>Chrome</span><span>12+</span></span>
     <hr>
     <span class="opera no"><span>Opera</span><span>?</span></span><span class="edge_blink yes"><span>Edge</span><span>79+</span></span>
     <hr>
     <span class="edge yes"><span>Edge (Legacy)</span><span>12+</span></span><span class="ie yes"><span>IE</span><span>10+</span></span>
     <hr>
     <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span class="webview_android yes"><span>Android WebView</span><span>3+</span></span><span class="samsunginternet_android no"><span>Samsung Internet</span><span>?</span></span><span class="opera_android no"><span>Opera Mobile</span><span>?</span></span>
    </div>
   </div>
  </details>
  <details class="mdn-anno unpositioned" data-anno-for="funcdef-rotatez">
   <summary><b class="all-engines-flag" title="This feature is in all current engines.">✔</b><span>MDN</span></summary>
   <div class="feature">
    <p><a href="https://developer.mozilla.org/en-US/docs/Web/CSS/transform-function/rotateZ" title="The rotateZ() CSS function defines a transformation that rotates an element around the z-axis without deforming it. Its result is a <transform-function> data type.">transform-function/rotateZ</a></p>
    <p class="all-engines-text">In all current engines.</p>
    <div class="support">
     <span class="firefox yes"><span>Firefox</span><span>10+</span></span><span class="safari yes"><span>Safari</span><span>4+</span></span><span class="chrome yes"><span>Chrome</span><span>12+</span></span>
     <hr>
     <span class="opera no"><span>Opera</span><span>?</span></span><span class="edge_blink yes"><span>Edge</span><span>79+</span></span>
     <hr>
     <span class="edge yes"><span>Edge (Legacy)</span><span>12+</span></span><span class="ie yes"><span>IE</span><span>10+</span></span>
     <hr>
     <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span class="webview_android yes"><span>Android WebView</span><span>3+</span></span><span class="samsunginternet_android no"><span>Samsung Internet</span><span>?</span></span><span class="opera_android no"><span>Opera Mobile</span><span>?</span></span>
    </div>
   </div>
  </details>
  <details class="mdn-anno unpositioned" data-anno-for="funcdef-scale3d">
   <summary><b class="all-engines-flag" title="This feature is in all current engines.">✔</b><span>MDN</span></summary>
   <div class="feature">
    <p><a href="https://developer.mozilla.org/en-US/docs/Web/CSS/transform-function/scale3d" title="The scale3d() CSS function defines a transformation that resizes an element in 3D space. Because the amount of scaling is defined by a vector, it can resize different dimensions at different scales. Its result is a <transform-function> data type.">transform-function/scale3d</a></p>
    <p class="all-engines-text">In all current engines.</p>
    <div class="support">
     <span class="firefox yes"><span>Firefox</span><span>10+</span></span><span class="safari yes"><span>Safari</span><span>4+</span></span><span class="chrome yes"><span>Chrome</span><span>12+</span></span>
     <hr>
     <span class="opera no"><span>Opera</span><span>?</span></span><span class="edge_blink yes"><span>Edge</span><span>79+</span></span>
     <hr>
     <span class="edge yes"><span>Edge (Legacy)</span><span>12+</span></span><span class="ie yes"><span>IE</span><span>10+</span></span>
     <hr>
     <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span class="webview_android yes"><span>Android WebView</span><span>3+</span></span><span class="samsunginternet_android no"><span>Samsung Internet</span><span>?</span></span><span class="opera_android no"><span>Opera Mobile</span><span>?</span></span>
    </div>
   </div>
  </details>
  <details class="mdn-anno unpositioned" data-anno-for="funcdef-scalez">
   <summary><b class="all-engines-flag" title="This feature is in all current engines.">✔</b><span>MDN</span></summary>
   <div class="feature">
    <p><a href="https://developer.mozilla.org/en-US/docs/Web/CSS/transform-function/scaleZ" title="The scaleZ() CSS function defines a transformation that resizes an element along the z-axis. Its result is a <transform-function> data type.">transform-function/scaleZ</a></p>
    <p class="all-engines-text">In all current engines.</p>
    <div class="support">
     <span class="firefox yes"><span>Firefox</span><span>10+</span></span><span class="safari yes"><span>Safari</span><span>4+</span></span><span class="chrome yes"><span>Chrome</span><span>12+</span></span>
     <hr>
     <span class="opera no"><span>Opera</span><span>?</span></span><span class="edge_blink yes"><span>Edge</span><span>79+</span></span>
     <hr>
     <span class="edge yes"><span>Edge (Legacy)</span><span>12+</span></span><span class="ie yes"><span>IE</span><span>10+</span></span>
     <hr>
     <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span class="webview_android yes"><span>Android WebView</span><span>3+</span></span><span class="samsunginternet_android no"><span>Samsung Internet</span><span>?</span></span><span class="opera_android no"><span>Opera Mobile</span><span>?</span></span>
    </div>
   </div>
  </details>
  <details class="mdn-anno unpositioned" data-anno-for="funcdef-translate3d">
   <summary><b class="all-engines-flag" title="This feature is in all current engines.">✔</b><span>MDN</span></summary>
   <div class="feature">
    <p><a href="https://developer.mozilla.org/en-US/docs/Web/CSS/transform-function/translate3d" title="The translate3d() CSS function repositions an element in 3D space. Its result is a <transform-function> data type.">transform-function/translate3d</a></p>
    <p class="all-engines-text">In all current engines.</p>
    <div class="support">
     <span class="firefox yes"><span>Firefox</span><span>10+</span></span><span class="safari yes"><span>Safari</span><span>4+</span></span><span class="chrome yes"><span>Chrome</span><span>12+</span></span>
     <hr>
     <span class="opera no"><span>Opera</span><span>?</span></span><span class="edge_blink yes"><span>Edge</span><span>79+</span></span>
     <hr>
     <span class="edge yes"><span>Edge (Legacy)</span><span>12+</span></span><span class="ie yes"><span>IE</span><span>10+</span></span>
     <hr>
     <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span class="webview_android yes"><span>Android WebView</span><span>3+</span></span><span class="samsunginternet_android no"><span>Samsung Internet</span><span>?</span></span><span class="opera_android no"><span>Opera Mobile</span><span>?</span></span>
    </div>
   </div>
  </details>
  <details class="mdn-anno unpositioned" data-anno-for="funcdef-translatez">
   <summary><b class="all-engines-flag" title="This feature is in all current engines.">✔</b><span>MDN</span></summary>
   <div class="feature">
    <p><a href="https://developer.mozilla.org/en-US/docs/Web/CSS/transform-function/translateZ" title="The translateZ() CSS function repositions an element along the z-axis in 3D space, i.e., closer to or farther away from the viewer. Its result is a <transform-function> data type.">transform-function/translateZ</a></p>
    <p class="all-engines-text">In all current engines.</p>
    <div class="support">
     <span class="firefox yes"><span>Firefox</span><span>10+</span></span><span class="safari yes"><span>Safari</span><span>4+</span></span><span class="chrome yes"><span>Chrome</span><span>12+</span></span>
     <hr>
     <span class="opera no"><span>Opera</span><span>?</span></span><span class="edge_blink yes"><span>Edge</span><span>79+</span></span>
     <hr>
     <span class="edge yes"><span>Edge (Legacy)</span><span>12+</span></span><span class="ie yes"><span>IE</span><span>10+</span></span>
     <hr>
     <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span class="webview_android yes"><span>Android WebView</span><span>3+</span></span><span class="samsunginternet_android no"><span>Samsung Internet</span><span>?</span></span><span class="opera_android no"><span>Opera Mobile</span><span>?</span></span>
    </div>
   </div>
  </details>
<script>/* Boilerplate: script-dom-helper */
"use strict";
function query(sel) { return document.querySelector(sel); }

function queryAll(sel) { return [...document.querySelectorAll(sel)]; }

function iter(obj) {
	if(!obj) return [];
	var it = obj[Symbol.iterator];
	if(it) return it;
	return Object.entries(obj);
}

function mk(tagname, attrs, ...children) {
	const el = document.createElement(tagname);
	for(const [k,v] of iter(attrs)) {
		if(k.slice(0,3) == "_on") {
			const eventName = k.slice(3);
			el.addEventListener(eventName, v);
		} else if(k[0] == "_") {
			// property, not attribute
			el[k.slice(1)] = v;
		} else {
			if(v === false || v == null) {
        continue;
      } else if(v === true) {
        el.setAttribute(k, "");
        continue;
      } else {
  			el.setAttribute(k, v);
      }
		}
	}
	append(el, children);
	return el;
}

/* Create shortcuts for every known HTML element */
[
  "a",
  "abbr",
  "acronym",
  "address",
  "applet",
  "area",
  "article",
  "aside",
  "audio",
  "b",
  "base",
  "basefont",
  "bdo",
  "big",
  "blockquote",
  "body",
  "br",
  "button",
  "canvas",
  "caption",
  "center",
  "cite",
  "code",
  "col",
  "colgroup",
  "datalist",
  "dd",
  "del",
  "details",
  "dfn",
  "dialog",
  "div",
  "dl",
  "dt",
  "em",
  "embed",
  "fieldset",
  "figcaption",
  "figure",
  "font",
  "footer",
  "form",
  "frame",
  "frameset",
  "head",
  "header",
  "h1",
  "h2",
  "h3",
  "h4",
  "h5",
  "h6",
  "hr",
  "html",
  "i",
  "iframe",
  "img",
  "input",
  "ins",
  "kbd",
  "label",
  "legend",
  "li",
  "link",
  "main",
  "map",
  "mark",
  "meta",
  "meter",
  "nav",
  "nobr",
  "noscript",
  "object",
  "ol",
  "optgroup",
  "option",
  "output",
  "p",
  "param",
  "pre",
  "progress",
  "q",
  "s",
  "samp",
  "script",
  "section",
  "select",
  "small",
  "source",
  "span",
  "strike",
  "strong",
  "style",
  "sub",
  "summary",
  "sup",
  "table",
  "tbody",
  "td",
  "template",
  "textarea",
  "tfoot",
  "th",
  "thead",
  "time",
  "title",
  "tr",
  "u",
  "ul",
  "var",
  "video",
  "wbr",
  "xmp",
].forEach(tagname=>{
	mk[tagname] = (...args) => mk(tagname, ...args);
});

function* nodesFromChildList(children) {
	for(const child of children.flat(Infinity)) {
		if(child instanceof Node) {
			yield child;
		} else {
			yield new Text(child);
		}
	}
}
function append(el, ...children) {
	for(const child of nodesFromChildList(children)) {
		if(el instanceof Node) el.appendChild(child);
		else el.push(child);
	}
	return el;
}

function insertAfter(el, ...children) {
	for(const child of nodesFromChildList(children)) {
		el.parentNode.insertBefore(child, el.nextSibling);
	}
	return el;
}

function clearContents(el) {
	el.innerHTML = "";
	return el;
}

function parseHTML(markup) {
	if(markup.toLowerCase().trim().indexOf('<!doctype') === 0) {
		const doc = document.implementation.createHTMLDocument("");
		doc.documentElement.innerHTML = markup;
		return doc;
	} else {
		const el = mk.template({});
		el.innerHTML = markup;
		return el.content;
	}
}</script>
<script>/* Boilerplate: script-dfn-panel */
"use strict";
{
let dfnPanelData = {
"006bffbc": {"dfnID":"006bffbc","dfnText":"transformable element","external":true,"refSections":[{"refs":[{"id":"ref-for-transformable-element"}],"title":"4.1.2. 3D Rendering Contexts"},{"refs":[{"id":"ref-for-transformable-element\u2460"},{"id":"ref-for-transformable-element\u2461"},{"id":"ref-for-transformable-element\u2462"}],"title":"5. Individual Transform Properties: the translate, scale, and rotate properties"},{"refs":[{"id":"ref-for-transformable-element\u2463"}],"title":"7. The transform-style Property"},{"refs":[{"id":"ref-for-transformable-element\u2464"}],"title":"8. The perspective Property"},{"refs":[{"id":"ref-for-transformable-element\u2465"}],"title":"9. The perspective-origin Property"},{"refs":[{"id":"ref-for-transformable-element\u2466"}],"title":"10. The backface-visibility Property"}],"url":"https://drafts.csswg.org/css-transforms-1/#transformable-element"},
"0246188d": {"dfnID":"0246188d","dfnText":"animate","external":true,"refSections":[{"refs":[{"id":"ref-for-elementdef-animate"}],"title":"18.1. The animate and set element"}],"url":"https://svgwg.org/specs/animations/#elementdef-animate"},
"076e8657": {"dfnID":"076e8657","dfnText":"<zero>","external":true,"refSections":[{"refs":[{"id":"ref-for-zero-value"},{"id":"ref-for-zero-value\u2460"},{"id":"ref-for-zero-value\u2461"},{"id":"ref-for-zero-value\u2462"},{"id":"ref-for-zero-value\u2463"}],"title":"12.2. 3D Transform Functions"}],"url":"https://drafts.csswg.org/css-values-4/#zero-value"},
"09f2cf3e": {"dfnID":"09f2cf3e","dfnText":"transform-origin","external":true,"refSections":[{"refs":[{"id":"ref-for-propdef-transform-origin"},{"id":"ref-for-propdef-transform-origin\u2460"},{"id":"ref-for-propdef-transform-origin\u2461"},{"id":"ref-for-propdef-transform-origin\u2462"},{"id":"ref-for-propdef-transform-origin\u2463"}],"title":"4. The Transform Rendering Model"},{"refs":[{"id":"ref-for-propdef-transform-origin\u2464"},{"id":"ref-for-propdef-transform-origin\u2465"},{"id":"ref-for-propdef-transform-origin\u2466"}],"title":"6. Current Transformation Matrix"},{"refs":[{"id":"ref-for-propdef-transform-origin\u2467"}],"title":"17. The SVG transform Attribute"}],"url":"https://drafts.csswg.org/css-transforms-1/#propdef-transform-origin"},
"0d7c5bb2": {"dfnID":"0d7c5bb2","dfnText":"translate()","external":true,"refSections":[{"refs":[{"id":"ref-for-funcdef-transform-translate"},{"id":"ref-for-funcdef-transform-translate\u2460"}],"title":"5. Individual Transform Properties: the translate, scale, and rotate properties"},{"refs":[{"id":"ref-for-funcdef-transform-translate\u2461"}],"title":"12.3. Transform function primitives and derivatives"}],"url":"https://drafts.csswg.org/css-transforms-1/#funcdef-transform-translate"},
"0f401002": {"dfnID":"0f401002","dfnText":"translatex()","external":true,"refSections":[{"refs":[{"id":"ref-for-funcdef-transform-translatex"}],"title":"12.3. Transform function primitives and derivatives"}],"url":"https://drafts.csswg.org/css-transforms-1/#funcdef-transform-translatex"},
"10c0f2e8": {"dfnID":"10c0f2e8","dfnText":"lineargradient","external":true,"refSections":[{"refs":[{"id":"ref-for-elementdef-linearGradient"}],"title":"11. SVG and 3D transform functions"}],"url":"https://svgwg.org/svg2-draft/pservers.html#elementdef-linearGradient"},
"15f5b381": {"dfnID":"15f5b381","dfnText":"<percentage>","external":true,"refSections":[{"refs":[{"id":"ref-for-percentage-value"},{"id":"ref-for-percentage-value\u2460"}],"title":"5. Individual Transform Properties: the translate, scale, and rotate properties"},{"refs":[{"id":"ref-for-percentage-value\u2461"}],"title":"9. The perspective-origin Property"},{"refs":[{"id":"ref-for-percentage-value\u2462"},{"id":"ref-for-percentage-value\u2463"},{"id":"ref-for-percentage-value\u2464"}],"title":"12.1. 2D Transform Functions"},{"refs":[{"id":"ref-for-percentage-value\u2465"},{"id":"ref-for-percentage-value\u2466"}],"title":"12.2. 3D Transform Functions"}],"url":"https://drafts.csswg.org/css-values-4/#percentage-value"},
"16310992": {"dfnID":"16310992","dfnText":"<number>","external":true,"refSections":[{"refs":[{"id":"ref-for-number-value"},{"id":"ref-for-number-value\u2460"},{"id":"ref-for-number-value\u2461"},{"id":"ref-for-number-value\u2462"},{"id":"ref-for-number-value\u2463"}],"title":"5. Individual Transform Properties: the translate, scale, and rotate properties"},{"refs":[{"id":"ref-for-number-value\u2464"}],"title":"12. The Transform Functions"},{"refs":[{"id":"ref-for-number-value\u2465"},{"id":"ref-for-number-value\u2466"},{"id":"ref-for-number-value\u2467"}],"title":"12.1. 2D Transform Functions"},{"refs":[{"id":"ref-for-number-value\u2468"},{"id":"ref-for-number-value\u2460\u24ea"},{"id":"ref-for-number-value\u2460\u2460"},{"id":"ref-for-number-value\u2460\u2461"},{"id":"ref-for-number-value\u2460\u2462"},{"id":"ref-for-number-value\u2460\u2463"}],"title":"12.2. 3D Transform Functions"}],"url":"https://drafts.csswg.org/css-values-4/#number-value"},
"18222566": {"dfnID":"18222566","dfnText":"<length-percentage>","external":true,"refSections":[{"refs":[{"id":"ref-for-typedef-length-percentage"},{"id":"ref-for-typedef-length-percentage\u2460"},{"id":"ref-for-typedef-length-percentage\u2461"}],"title":"5. Individual Transform Properties: the translate, scale, and rotate properties"},{"refs":[{"id":"ref-for-typedef-length-percentage\u2462"},{"id":"ref-for-typedef-length-percentage\u2463"}],"title":"12.2. 3D Transform Functions"}],"url":"https://drafts.csswg.org/css-values-4/#typedef-length-percentage"},
"1af3f5cf": {"dfnID":"1af3f5cf","dfnText":"resolved value special case property like height","external":true,"refSections":[{"refs":[{"id":"ref-for-resolved-value-special-case-property-like-height"}],"title":"9. The perspective-origin Property"}],"url":"https://drafts.csswg.org/cssom-1/#resolved-value-special-case-property-like-height"},
"1d7fc05e": {"dfnID":"1d7fc05e","dfnText":"set","external":true,"refSections":[{"refs":[{"id":"ref-for-elementdef-set"}],"title":"18.1. The animate and set element"}],"url":"https://svgwg.org/specs/animations/#elementdef-set"},
"1dcdfd09": {"dfnID":"1dcdfd09","dfnText":"2d matrix","external":true,"refSections":[{"refs":[{"id":"ref-for-2d-matrix"}],"title":"2. Terminology"},{"refs":[{"id":"ref-for-2d-matrix\u2460"}],"title":"2.1. Serialization of the computed value of <transform-list>"}],"url":"https://drafts.csswg.org/css-transforms-1/#2d-matrix"},
"2a1827d6": {"dfnID":"2a1827d6","dfnText":"graphics element","external":true,"refSections":[{"refs":[{"id":"ref-for-graphics-element"}],"title":"11. SVG and 3D transform functions"}],"url":"https://svgwg.org/svg2-draft/struct.html#graphics-element"},
"2bd6f4ba": {"dfnID":"2bd6f4ba","dfnText":"matrix()","external":true,"refSections":[{"refs":[{"id":"ref-for-funcdef-transform-matrix"},{"id":"ref-for-funcdef-transform-matrix\u2460"},{"id":"ref-for-funcdef-transform-matrix\u2461"}],"title":"2.1. Serialization of the computed value of <transform-list>"},{"refs":[{"id":"ref-for-funcdef-transform-matrix\u2462"},{"id":"ref-for-funcdef-transform-matrix\u2463"}],"title":"14. Interpolation of primitives and derived transform functions"},{"refs":[{"id":"ref-for-funcdef-transform-matrix\u2464"}],"title":"15.1. Neutral element for addition"}],"url":"https://drafts.csswg.org/css-transforms-1/#funcdef-transform-matrix"},
"2c3a36fb": {"dfnID":"2c3a36fb","dfnText":"visible","external":true,"refSections":[{"refs":[{"id":"ref-for-valdef-overflow-visible"}],"title":"7.1. Grouping property values"}],"url":"https://drafts.csswg.org/css-overflow-3/#valdef-overflow-visible"},
"2cd27cd8": {"dfnID":"2cd27cd8","dfnText":"<position>","external":true,"refSections":[{"refs":[{"id":"ref-for-typedef-position"}],"title":"9. The perspective-origin Property"}],"url":"https://drafts.csswg.org/css-values-4/#typedef-position"},
"32060dd5": {"dfnID":"32060dd5","dfnText":"value accumulation","external":true,"refSections":[{"refs":[{"id":"ref-for-accumulation"},{"id":"ref-for-accumulation\u2460"}],"title":"15. Addition and accumulation of transform lists"}],"url":"https://drafts.csswg.org/css-values-4/#accumulation"},
"33eda2d8": {"dfnID":"33eda2d8","dfnText":"clip","external":true,"refSections":[{"refs":[{"id":"ref-for-valdef-overflow-clip"}],"title":"7.1. Grouping property values"}],"url":"https://drafts.csswg.org/css-overflow-3/#valdef-overflow-clip"},
"3559c926": {"dfnID":"3559c926","dfnText":"<angle>","external":true,"refSections":[{"refs":[{"id":"ref-for-angle-value"},{"id":"ref-for-angle-value\u2460"},{"id":"ref-for-angle-value\u2461"},{"id":"ref-for-angle-value\u2462"}],"title":"5. Individual Transform Properties: the translate, scale, and rotate properties"},{"refs":[{"id":"ref-for-angle-value\u2463"}],"title":"5.1. Serialization"},{"refs":[{"id":"ref-for-angle-value\u2464"}],"title":"6. Current Transformation Matrix"},{"refs":[{"id":"ref-for-angle-value\u2465"}],"title":"12. The Transform Functions"},{"refs":[{"id":"ref-for-angle-value\u2466"},{"id":"ref-for-angle-value\u2467"},{"id":"ref-for-angle-value\u2468"},{"id":"ref-for-angle-value\u2460\u24ea"}],"title":"12.2. 3D Transform Functions"}],"url":"https://drafts.csswg.org/css-values-4/#angle-value"},
"358fd6ff": {"dfnID":"358fd6ff","dfnText":"css-wide keywords","external":true,"refSections":[{"refs":[{"id":"ref-for-css-wide-keywords"}],"title":"1.2. Value Definitions"}],"url":"https://drafts.csswg.org/css-values-4/#css-wide-keywords"},
"3642b848": {"dfnID":"3642b848","dfnText":"value addition","external":true,"refSections":[{"refs":[{"id":"ref-for-addition"}],"title":"15. Addition and accumulation of transform lists"}],"url":"https://drafts.csswg.org/css-values-4/#addition"},
"37a35a4b": {"dfnID":"37a35a4b","dfnText":"mask","external":true,"refSections":[{"refs":[{"id":"ref-for-elementdef-mask"}],"title":"11. SVG and 3D transform functions"}],"url":"https://drafts.fxtf.org/css-masking-1/#elementdef-mask"},
"3d-matrix": {"dfnID":"3d-matrix","dfnText":"3D matrix","external":false,"refSections":[{"refs":[{"id":"ref-for-3d-matrix"}],"title":"13. Interpolation of Matrices"}],"url":"#3d-matrix"},
"3d-rendering-context": {"dfnID":"3d-rendering-context","dfnText":"3D rendering context","external":false,"refSections":[{"refs":[{"id":"ref-for-3d-rendering-context"}],"title":"2. Terminology"},{"refs":[{"id":"ref-for-3d-rendering-context\u2460"}],"title":"4.1. 3D Transform Rendering"},{"refs":[{"id":"ref-for-3d-rendering-context\u2461"},{"id":"ref-for-3d-rendering-context\u2462"},{"id":"ref-for-3d-rendering-context\u2463"},{"id":"ref-for-3d-rendering-context\u2464"},{"id":"ref-for-3d-rendering-context\u2465"},{"id":"ref-for-3d-rendering-context\u2466"},{"id":"ref-for-3d-rendering-context\u2467"}],"title":"4.1.2. 3D Rendering Contexts"},{"refs":[{"id":"ref-for-3d-rendering-context\u2468"}],"title":"4.1.3. Transformed element hierarchies"},{"refs":[{"id":"ref-for-3d-rendering-context\u2460\u24ea"},{"id":"ref-for-3d-rendering-context\u2460\u2460"},{"id":"ref-for-3d-rendering-context\u2460\u2461"}],"title":"4.1.4. Accumulated 3D Transformation Matrix Computation"},{"refs":[{"id":"ref-for-3d-rendering-context\u2460\u2462"}],"title":"4.1.5. Backface Visibility"},{"refs":[{"id":"ref-for-3d-rendering-context\u2460\u2463"}],"title":"7. The transform-style Property"},{"refs":[{"id":"ref-for-3d-rendering-context\u2460\u2464"}],"title":"11. SVG and 3D transform functions"}],"url":"#3d-rendering-context"},
"3d-transform-functions": {"dfnID":"3d-transform-functions","dfnText":"3d transform functions","external":false,"refSections":[{"refs":[{"id":"ref-for-3d-transform-functions"}],"title":"1.1. Module Interactions"},{"refs":[{"id":"ref-for-3d-transform-functions\u2460"}],"title":"2. Terminology"}],"url":"#3d-transform-functions"},
"3d-transformed-element": {"dfnID":"3d-transformed-element","dfnText":"3D transformed element","external":false,"refSections":[{"refs":[{"id":"ref-for-3d-transformed-element"},{"id":"ref-for-3d-transformed-element\u2460"},{"id":"ref-for-3d-transformed-element\u2461"}],"title":"4.1.2. 3D Rendering Contexts"}],"url":"#3d-transformed-element"},
"3f0b4366": {"dfnID":"3f0b4366","dfnText":"offset","external":true,"refSections":[{"refs":[{"id":"ref-for-propdef-offset"},{"id":"ref-for-propdef-offset\u2460"}],"title":"6. Current Transformation Matrix"}],"url":"https://drafts.fxtf.org/motion-1/#propdef-offset"},
"4299a926": {"dfnID":"4299a926","dfnText":"svg","external":true,"refSections":[{"refs":[{"id":"ref-for-elementdef-svg"}],"title":"11. SVG and 3D transform functions"}],"url":"https://svgwg.org/svg2-draft/struct.html#elementdef-svg"},
"4fe61159": {"dfnID":"4fe61159","dfnText":"resolved value","external":true,"refSections":[{"refs":[{"id":"ref-for-resolved-value"}],"title":"5. Individual Transform Properties: the translate, scale, and rotate properties"}],"url":"https://drafts.csswg.org/cssom-1/#resolved-value"},
"511b3636": {"dfnID":"511b3636","dfnText":"foreignobject","external":true,"refSections":[{"refs":[{"id":"ref-for-elementdef-foreignObject"}],"title":"11. SVG and 3D transform functions"}],"url":"https://svgwg.org/svg2-draft/embedded.html#elementdef-foreignObject"},
"53275e46": {"dfnID":"53275e46","dfnText":"append","external":true,"refSections":[{"refs":[{"id":"ref-for-list-append"}],"title":"15. Addition and accumulation of transform lists"}],"url":"https://infra.spec.whatwg.org/#list-append"},
"537cf076": {"dfnID":"537cf076","dfnText":"?","external":true,"refSections":[{"refs":[{"id":"ref-for-mult-opt"},{"id":"ref-for-mult-opt\u2460"}],"title":"5. Individual Transform Properties: the translate, scale, and rotate properties"}],"url":"https://drafts.csswg.org/css-values-4/#mult-opt"},
"559a1521": {"dfnID":"559a1521","dfnText":"isolation","external":true,"refSections":[{"refs":[{"id":"ref-for-propdef-isolation"}],"title":"7.1. Grouping property values"}],"url":"https://drafts.fxtf.org/compositing-2/#propdef-isolation"},
"58708596": {"dfnID":"58708596","dfnText":"auto","external":true,"refSections":[{"refs":[{"id":"ref-for-valdef-clip-auto"}],"title":"7.1. Grouping property values"}],"url":"https://drafts.csswg.org/css2/#valdef-clip-auto"},
"649608b9": {"dfnID":"649608b9","dfnText":"list","external":true,"refSections":[{"refs":[{"id":"ref-for-list"}],"title":"15. Addition and accumulation of transform lists"}],"url":"https://infra.spec.whatwg.org/#list"},
"6821b177": {"dfnID":"6821b177","dfnText":"mask-image","external":true,"refSections":[{"refs":[{"id":"ref-for-propdef-mask-image"}],"title":"7.1. Grouping property values"}],"url":"https://drafts.fxtf.org/css-masking-1/#propdef-mask-image"},
"68487d22": {"dfnID":"68487d22","dfnText":"#","external":true,"refSections":[{"refs":[{"id":"ref-for-mult-comma"}],"title":"12.1. 2D Transform Functions"},{"refs":[{"id":"ref-for-mult-comma\u2460"},{"id":"ref-for-mult-comma\u2461"}],"title":"12.2. 3D Transform Functions"}],"url":"https://drafts.csswg.org/css-values-4/#mult-comma"},
"68bf3d31": {"dfnID":"68bf3d31","dfnText":"a","external":true,"refSections":[{"refs":[{"id":"ref-for-the-a-element"}],"title":"11. SVG and 3D transform functions"}],"url":"https://html.spec.whatwg.org/multipage/text-level-semantics.html#the-a-element"},
"6b14b18a": {"dfnID":"6b14b18a","dfnText":"clip","external":true,"refSections":[{"refs":[{"id":"ref-for-propdef-clip"}],"title":"7.1. Grouping property values"}],"url":"https://drafts.fxtf.org/css-masking-1/#propdef-clip"},
"6ec67710": {"dfnID":"6ec67710","dfnText":"|","external":true,"refSections":[{"refs":[{"id":"ref-for-comb-one"},{"id":"ref-for-comb-one\u2460"},{"id":"ref-for-comb-one\u2461"},{"id":"ref-for-comb-one\u2462"},{"id":"ref-for-comb-one\u2463"},{"id":"ref-for-comb-one\u2464"},{"id":"ref-for-comb-one\u2465"},{"id":"ref-for-comb-one\u2466"}],"title":"5. Individual Transform Properties: the translate, scale, and rotate properties"},{"refs":[{"id":"ref-for-comb-one\u2467"}],"title":"7. The transform-style Property"},{"refs":[{"id":"ref-for-comb-one\u2468"}],"title":"8. The perspective Property"},{"refs":[{"id":"ref-for-comb-one\u2460\u24ea"}],"title":"10. The backface-visibility Property"},{"refs":[{"id":"ref-for-comb-one\u2460\u2460"},{"id":"ref-for-comb-one\u2460\u2461"},{"id":"ref-for-comb-one\u2460\u2462"}],"title":"12.1. 2D Transform Functions"},{"refs":[{"id":"ref-for-comb-one\u2460\u2463"},{"id":"ref-for-comb-one\u2460\u2464"},{"id":"ref-for-comb-one\u2460\u2465"},{"id":"ref-for-comb-one\u2460\u2466"},{"id":"ref-for-comb-one\u2460\u2467"},{"id":"ref-for-comb-one\u2460\u2468"}],"title":"12.2. 3D Transform Functions"}],"url":"https://drafts.csswg.org/css-values-4/#comb-one"},
"77f17203": {"dfnID":"77f17203","dfnText":"clip-path","external":true,"refSections":[{"refs":[{"id":"ref-for-propdef-clip-path"}],"title":"7.1. Grouping property values"}],"url":"https://drafts.fxtf.org/css-masking-1/#propdef-clip-path"},
"793853ba": {"dfnID":"793853ba","dfnText":"container element","external":true,"refSections":[{"refs":[{"id":"ref-for-container-element"}],"title":"11. SVG and 3D transform functions"}],"url":"https://svgwg.org/svg2-draft/struct.html#container-element"},
"79b35220": {"dfnID":"79b35220","dfnText":"g","external":true,"refSections":[{"refs":[{"id":"ref-for-elementdef-g"}],"title":"11. SVG and 3D transform functions"}],"url":"https://svgwg.org/svg2-draft/struct.html#elementdef-g"},
"86928bde": {"dfnID":"86928bde","dfnText":"overflow","external":true,"refSections":[{"refs":[{"id":"ref-for-propdef-overflow"}],"title":"7.1. Grouping property values"}],"url":"https://drafts.csswg.org/css-overflow-3/#propdef-overflow"},
"8a524bdc": {"dfnID":"8a524bdc","dfnText":"transformed element","external":true,"refSections":[{"refs":[{"id":"ref-for-transformed-element"}],"title":"4.1.3. Transformed element hierarchies"}],"url":"https://drafts.csswg.org/css-transforms-1/#transformed-element"},
"91bfbe18": {"dfnID":"91bfbe18","dfnText":"opacity","external":true,"refSections":[{"refs":[{"id":"ref-for-propdef-opacity"}],"title":"7.1. Grouping property values"}],"url":"https://drafts.csswg.org/css-color-4/#propdef-opacity"},
"938ba280": {"dfnID":"938ba280","dfnText":"{a,b}","external":true,"refSections":[{"refs":[{"id":"ref-for-mult-num-range"}],"title":"5. Individual Transform Properties: the translate, scale, and rotate properties"}],"url":"https://drafts.csswg.org/css-values-4/#mult-num-range"},
"9cd25054": {"dfnID":"9cd25054","dfnText":"computed value","external":true,"refSections":[{"refs":[{"id":"ref-for-computed-value"},{"id":"ref-for-computed-value\u2460"}],"title":"2.1. Serialization of the computed value of <transform-list>"},{"refs":[{"id":"ref-for-computed-value\u2461"}],"title":"5. Individual Transform Properties: the translate, scale, and rotate properties"}],"url":"https://drafts.csswg.org/css-cascade-5/#computed-value"},
"9f184b64": {"dfnID":"9f184b64","dfnText":"filter","external":true,"refSections":[{"refs":[{"id":"ref-for-propdef-filter"}],"title":"7.1. Grouping property values"}],"url":"https://drafts.fxtf.org/filter-effects-1/#propdef-filter"},
"9f9120ff": {"dfnID":"9f9120ff","dfnText":",","external":true,"refSections":[{"refs":[{"id":"ref-for-comb-comma"},{"id":"ref-for-comb-comma\u2460"},{"id":"ref-for-comb-comma\u2461"},{"id":"ref-for-comb-comma\u2462"},{"id":"ref-for-comb-comma\u2463"}],"title":"12.2. 3D Transform Functions"}],"url":"https://drafts.csswg.org/css-values-4/#comb-comma"},
"9fec1bdc": {"dfnID":"9fec1bdc","dfnText":"mask-border-source","external":true,"refSections":[{"refs":[{"id":"ref-for-propdef-mask-border-source"}],"title":"7.1. Grouping property values"}],"url":"https://drafts.fxtf.org/css-masking-1/#propdef-mask-border-source"},
"a13ebf85": {"dfnID":"a13ebf85","dfnText":"<transform-list>","external":true,"refSections":[{"refs":[{"id":"ref-for-typedef-transform-list"},{"id":"ref-for-typedef-transform-list\u2460"},{"id":"ref-for-typedef-transform-list\u2461"}],"title":"2.1. Serialization of the computed value of <transform-list>"}],"url":"https://drafts.csswg.org/css-transforms-1/#typedef-transform-list"},
"a50c2771": {"dfnID":"a50c2771","dfnText":"stacking context","external":true,"refSections":[{"refs":[{"id":"ref-for-x43"}],"title":"1.1. Module Interactions"}],"url":"https://www.w3.org/TR/CSS21/visuren.html#x43"},
"abdfd54a": {"dfnID":"abdfd54a","dfnText":"pattern","external":true,"refSections":[{"refs":[{"id":"ref-for-elementdef-pattern"},{"id":"ref-for-elementdef-pattern\u2460"}],"title":"11. SVG and 3D transform functions"}],"url":"https://svgwg.org/svg2-draft/pservers.html#elementdef-pattern"},
"accumulated-3d-transformation-matrix": {"dfnID":"accumulated-3d-transformation-matrix","dfnText":"accumulated 3D transformation matrix","external":false,"refSections":[{"refs":[{"id":"ref-for-accumulated-3d-transformation-matrix"},{"id":"ref-for-accumulated-3d-transformation-matrix\u2460"}],"title":"4.1.4. Accumulated 3D Transformation Matrix Computation"},{"refs":[{"id":"ref-for-accumulated-3d-transformation-matrix\u2461"}],"title":"4.1.5. Backface Visibility"},{"refs":[{"id":"ref-for-accumulated-3d-transformation-matrix\u2462"},{"id":"ref-for-accumulated-3d-transformation-matrix\u2463"}],"title":"4.2. Processing of Perspective-Transformed Boxes"},{"refs":[{"id":"ref-for-accumulated-3d-transformation-matrix\u2464"}],"title":"10. The backface-visibility Property"}],"url":"#accumulated-3d-transformation-matrix"},
"accumulation-for-one-based-values": {"dfnID":"accumulation-for-one-based-values","dfnText":"accumulation for one-based values","external":false,"refSections":[],"url":"#accumulation-for-one-based-values"},
"afe12c27": {"dfnID":"afe12c27","dfnText":"graphics referencing element","external":true,"refSections":[{"refs":[{"id":"ref-for-graphics-referencing-element"}],"title":"11. SVG and 3D transform functions"}],"url":"https://svgwg.org/svg2-draft/struct.html#graphics-referencing-element"},
"b0bdddb2": {"dfnID":"b0bdddb2","dfnText":"vector-effect","external":true,"refSections":[{"refs":[{"id":"ref-for-VectorEffectProperty"}],"title":"11. SVG and 3D transform functions"}],"url":"https://svgwg.org/svg2-draft/coords.html#VectorEffectProperty"},
"b0d8ebd9": {"dfnID":"b0d8ebd9","dfnText":"{a}","external":true,"refSections":[{"refs":[{"id":"ref-for-mult-num"}],"title":"5. Individual Transform Properties: the translate, scale, and rotate properties"}],"url":"https://drafts.csswg.org/css-values-4/#mult-num"},
"b203675a": {"dfnID":"b203675a","dfnText":"getComputedStyle(elt)","external":true,"refSections":[{"refs":[{"id":"ref-for-dom-window-getcomputedstyle"}],"title":"5. Individual Transform Properties: the translate, scale, and rotate properties"}],"url":"https://drafts.csswg.org/cssom-1/#dom-window-getcomputedstyle"},
"c2544db0": {"dfnID":"c2544db0","dfnText":"transformation matrix","external":true,"refSections":[{"refs":[{"id":"ref-for-transformation-matrix"}],"title":"4. The Transform Rendering Model"},{"refs":[{"id":"ref-for-transformation-matrix\u2460"}],"title":"4.1.4. Accumulated 3D Transformation Matrix Computation"},{"refs":[{"id":"ref-for-transformation-matrix\u2461"}],"title":"6. Current Transformation Matrix"}],"url":"https://drafts.csswg.org/css-transforms-1/#transformation-matrix"},
"d27a809f": {"dfnID":"d27a809f","dfnText":"background-position","external":true,"refSections":[{"refs":[{"id":"ref-for-propdef-background-position"}],"title":"9. The perspective-origin Property"}],"url":"https://drafts.csswg.org/css-backgrounds-3/#propdef-background-position"},
"d8eb5956": {"dfnID":"d8eb5956","dfnText":"rotate()","external":true,"refSections":[{"refs":[{"id":"ref-for-funcdef-transform-rotate"},{"id":"ref-for-funcdef-transform-rotate\u2460"}],"title":"5. Individual Transform Properties: the translate, scale, and rotate properties"},{"refs":[{"id":"ref-for-funcdef-transform-rotate\u2461"}],"title":"12.3. Transform function primitives and derivatives"}],"url":"https://drafts.csswg.org/css-transforms-1/#funcdef-transform-rotate"},
"e2e08d07": {"dfnID":"e2e08d07","dfnText":"transform","external":true,"refSections":[{"refs":[{"id":"ref-for-propdef-transform"},{"id":"ref-for-propdef-transform\u2460"}],"title":"1. Introduction"},{"refs":[{"id":"ref-for-propdef-transform\u2461"}],"title":"1.1. Module Interactions"},{"refs":[{"id":"ref-for-propdef-transform\u2462"}],"title":"2. Terminology"},{"refs":[{"id":"ref-for-propdef-transform\u2463"}],"title":"3. Two Dimensional Subset"},{"refs":[{"id":"ref-for-propdef-transform\u2464"},{"id":"ref-for-propdef-transform\u2465"}],"title":"4. The Transform Rendering Model"},{"refs":[{"id":"ref-for-propdef-transform\u2466"}],"title":"4.1.4. Accumulated 3D Transformation Matrix Computation"},{"refs":[{"id":"ref-for-propdef-transform\u2467"}],"title":"5. Individual Transform Properties: the translate, scale, and rotate properties"},{"refs":[{"id":"ref-for-propdef-transform\u2468"},{"id":"ref-for-propdef-transform\u2460\u24ea"}],"title":"6. Current Transformation Matrix"},{"refs":[{"id":"ref-for-propdef-transform\u2460\u2460"}],"title":"8. The perspective Property"},{"refs":[{"id":"ref-for-propdef-transform\u2460\u2461"}],"title":"12. The Transform Functions"},{"refs":[{"id":"ref-for-propdef-transform\u2460\u2462"}],"title":"17. The SVG transform Attribute"}],"url":"https://drafts.csswg.org/css-transforms-1/#propdef-transform"},
"e8163b52": {"dfnID":"e8163b52","dfnText":"mix-blend-mode","external":true,"refSections":[{"refs":[{"id":"ref-for-propdef-mix-blend-mode"}],"title":"7.1. Grouping property values"}],"url":"https://drafts.fxtf.org/compositing-2/#propdef-mix-blend-mode"},
"ec125c9a": {"dfnID":"ec125c9a","dfnText":"containing block for all descendants","external":true,"refSections":[{"refs":[{"id":"ref-for-containing-block-for-all-descendants"}],"title":"1.1. Module Interactions"},{"refs":[{"id":"ref-for-containing-block-for-all-descendants\u2460"},{"id":"ref-for-containing-block-for-all-descendants\u2461"}],"title":"5. Individual Transform Properties: the translate, scale, and rotate properties"},{"refs":[{"id":"ref-for-containing-block-for-all-descendants\u2462"}],"title":"7. The transform-style Property"},{"refs":[{"id":"ref-for-containing-block-for-all-descendants\u2463"}],"title":"8. The perspective Property"}],"url":"https://drafts.csswg.org/css-transforms-1/#containing-block-for-all-descendants"},
"ee061115": {"dfnID":"ee061115","dfnText":"radialgradient","external":true,"refSections":[{"refs":[{"id":"ref-for-elementdef-radialGradient"}],"title":"11. SVG and 3D transform functions"}],"url":"https://svgwg.org/svg2-draft/pservers.html#elementdef-radialGradient"},
"f00710cb": {"dfnID":"f00710cb","dfnText":"clippath","external":true,"refSections":[{"refs":[{"id":"ref-for-elementdef-clippath"},{"id":"ref-for-elementdef-clippath\u2460"}],"title":"11. SVG and 3D transform functions"}],"url":"https://drafts.fxtf.org/css-masking-1/#elementdef-clippath"},
"f0809abc": {"dfnID":"f0809abc","dfnText":"&&","external":true,"refSections":[{"refs":[{"id":"ref-for-comb-all"}],"title":"5. Individual Transform Properties: the translate, scale, and rotate properties"}],"url":"https://drafts.csswg.org/css-values-4/#comb-all"},
"fa608269": {"dfnID":"fa608269","dfnText":"reference box","external":true,"refSections":[{"refs":[{"id":"ref-for-reference-box"}],"title":"5. Individual Transform Properties: the translate, scale, and rotate properties"},{"refs":[{"id":"ref-for-reference-box\u2460"},{"id":"ref-for-reference-box\u2461"},{"id":"ref-for-reference-box\u2462"},{"id":"ref-for-reference-box\u2463"},{"id":"ref-for-reference-box\u2464"},{"id":"ref-for-reference-box\u2465"}],"title":"9. The perspective-origin Property"},{"refs":[{"id":"ref-for-reference-box\u2466"},{"id":"ref-for-reference-box\u2467"}],"title":"12. The Transform Functions"}],"url":"https://drafts.csswg.org/css-transforms-1/#reference-box"},
"fb030e6c": {"dfnID":"fb030e6c","dfnText":"<length>","external":true,"refSections":[{"refs":[{"id":"ref-for-length-value"}],"title":"5. Individual Transform Properties: the translate, scale, and rotate properties"},{"refs":[{"id":"ref-for-length-value\u2460"},{"id":"ref-for-length-value\u2461"},{"id":"ref-for-length-value\u2462"},{"id":"ref-for-length-value\u2463"}],"title":"8. The perspective Property"},{"refs":[{"id":"ref-for-length-value\u2464"}],"title":"9. The perspective-origin Property"},{"refs":[{"id":"ref-for-length-value\u2465"},{"id":"ref-for-length-value\u2466"},{"id":"ref-for-length-value\u2467"}],"title":"12.2. 3D Transform Functions"}],"url":"https://drafts.csswg.org/css-values-4/#length-value"},
"fceff2e9": {"dfnID":"fceff2e9","dfnText":"translatey()","external":true,"refSections":[{"refs":[{"id":"ref-for-funcdef-transform-translatey"}],"title":"12.3. Transform function primitives and derivatives"}],"url":"https://drafts.csswg.org/css-transforms-1/#funcdef-transform-translatey"},
"funcdef-matrix3d": {"dfnID":"funcdef-matrix3d","dfnText":"matrix3d()","external":false,"refSections":[{"refs":[{"id":"ref-for-funcdef-matrix3d"},{"id":"ref-for-funcdef-matrix3d\u2460"},{"id":"ref-for-funcdef-matrix3d\u2461"}],"title":"2.1. Serialization of the computed value of <transform-list>"},{"refs":[{"id":"ref-for-funcdef-matrix3d\u2462"},{"id":"ref-for-funcdef-matrix3d\u2463"}],"title":"14. Interpolation of primitives and derived transform functions"},{"refs":[{"id":"ref-for-funcdef-matrix3d\u2464"}],"title":"15.1. Neutral element for addition"}],"url":"#funcdef-matrix3d"},
"funcdef-perspective": {"dfnID":"funcdef-perspective","dfnText":"perspective()","external":false,"refSections":[{"refs":[{"id":"ref-for-funcdef-perspective"},{"id":"ref-for-funcdef-perspective\u2460"}],"title":"4.1.1. Perspective"},{"refs":[{"id":"ref-for-funcdef-perspective\u2461"},{"id":"ref-for-funcdef-perspective\u2462"}],"title":"14. Interpolation of primitives and derived transform functions"},{"refs":[{"id":"ref-for-funcdef-perspective\u2463"}],"title":"15.1. Neutral element for addition"}],"url":"#funcdef-perspective"},
"funcdef-rotate3d": {"dfnID":"funcdef-rotate3d","dfnText":"rotate3d()","external":false,"refSections":[{"refs":[{"id":"ref-for-funcdef-rotate3d"}],"title":"5. Individual Transform Properties: the translate, scale, and rotate properties"},{"refs":[{"id":"ref-for-funcdef-rotate3d\u2460"}],"title":"12.3. Transform function primitives and derivatives"},{"refs":[{"id":"ref-for-funcdef-rotate3d\u2461"}],"title":"14. Interpolation of primitives and derived transform functions"}],"url":"#funcdef-rotate3d"},
"funcdef-rotatex": {"dfnID":"funcdef-rotatex","dfnText":"rotateX()","external":false,"refSections":[{"refs":[{"id":"ref-for-funcdef-rotatex"}],"title":"5. Individual Transform Properties: the translate, scale, and rotate properties"},{"refs":[{"id":"ref-for-funcdef-rotatex\u2460"}],"title":"12.3. Transform function primitives and derivatives"}],"url":"#funcdef-rotatex"},
"funcdef-rotatey": {"dfnID":"funcdef-rotatey","dfnText":"rotateY()","external":false,"refSections":[{"refs":[{"id":"ref-for-funcdef-rotatey"}],"title":"5. Individual Transform Properties: the translate, scale, and rotate properties"},{"refs":[{"id":"ref-for-funcdef-rotatey\u2460"}],"title":"12.3. Transform function primitives and derivatives"}],"url":"#funcdef-rotatey"},
"funcdef-rotatez": {"dfnID":"funcdef-rotatez","dfnText":"rotateZ()","external":false,"refSections":[{"refs":[{"id":"ref-for-funcdef-rotatez"}],"title":"5. Individual Transform Properties: the translate, scale, and rotate properties"},{"refs":[{"id":"ref-for-funcdef-rotatez\u2460"}],"title":"12.3. Transform function primitives and derivatives"}],"url":"#funcdef-rotatez"},
"funcdef-scale": {"dfnID":"funcdef-scale","dfnText":"scale()","external":false,"refSections":[{"refs":[{"id":"ref-for-funcdef-scale"},{"id":"ref-for-funcdef-scale\u2460"}],"title":"5. Individual Transform Properties: the translate, scale, and rotate properties"},{"refs":[{"id":"ref-for-funcdef-scale\u2461"}],"title":"12.3. Transform function primitives and derivatives"}],"url":"#funcdef-scale"},
"funcdef-scale3d": {"dfnID":"funcdef-scale3d","dfnText":"scale3d()","external":false,"refSections":[{"refs":[{"id":"ref-for-funcdef-scale3d"}],"title":"5. Individual Transform Properties: the translate, scale, and rotate properties"},{"refs":[{"id":"ref-for-funcdef-scale3d\u2460"}],"title":"12.3. Transform function primitives and derivatives"}],"url":"#funcdef-scale3d"},
"funcdef-scalex": {"dfnID":"funcdef-scalex","dfnText":"scaleX()","external":false,"refSections":[{"refs":[{"id":"ref-for-funcdef-scalex"}],"title":"12.3. Transform function primitives and derivatives"}],"url":"#funcdef-scalex"},
"funcdef-scaley": {"dfnID":"funcdef-scaley","dfnText":"scaleY()","external":false,"refSections":[{"refs":[{"id":"ref-for-funcdef-scaley"}],"title":"12.3. Transform function primitives and derivatives"}],"url":"#funcdef-scaley"},
"funcdef-scalez": {"dfnID":"funcdef-scalez","dfnText":"scaleZ()","external":false,"refSections":[{"refs":[{"id":"ref-for-funcdef-scalez"}],"title":"12.3. Transform function primitives and derivatives"}],"url":"#funcdef-scalez"},
"funcdef-translate3d": {"dfnID":"funcdef-translate3d","dfnText":"translate3d()","external":false,"refSections":[{"refs":[{"id":"ref-for-funcdef-translate3d"}],"title":"5. Individual Transform Properties: the translate, scale, and rotate properties"},{"refs":[{"id":"ref-for-funcdef-translate3d\u2460"}],"title":"12.3. Transform function primitives and derivatives"}],"url":"#funcdef-translate3d"},
"funcdef-translatez": {"dfnID":"funcdef-translatez","dfnText":"translateZ()","external":false,"refSections":[{"refs":[{"id":"ref-for-funcdef-translatez"}],"title":"12.3. Transform function primitives and derivatives"}],"url":"#funcdef-translatez"},
"identity-transform-function": {"dfnID":"identity-transform-function","dfnText":"identity transform function","external":false,"refSections":[{"refs":[{"id":"ref-for-identity-transform-function"},{"id":"ref-for-identity-transform-function\u2460"},{"id":"ref-for-identity-transform-function\u2461"}],"title":"15. Addition and accumulation of transform lists"}],"url":"#identity-transform-function"},
"perspective-matrix": {"dfnID":"perspective-matrix","dfnText":"perspective matrix","external":false,"refSections":[{"refs":[{"id":"ref-for-perspective-matrix"}],"title":"4.1.1. Perspective"},{"refs":[{"id":"ref-for-perspective-matrix\u2460"}],"title":"4.1.4. Accumulated 3D Transformation Matrix Computation"},{"refs":[{"id":"ref-for-perspective-matrix\u2461"}],"title":"8. The perspective Property"},{"refs":[{"id":"ref-for-perspective-matrix\u2462"}],"title":"9. The perspective-origin Property"}],"url":"#perspective-matrix"},
"propdef-backface-visibility": {"dfnID":"propdef-backface-visibility","dfnText":"backface-visibility","external":false,"refSections":[{"refs":[{"id":"ref-for-propdef-backface-visibility"}],"title":"1. Introduction"},{"refs":[{"id":"ref-for-propdef-backface-visibility\u2460"}],"title":"1.1. Module Interactions"},{"refs":[{"id":"ref-for-propdef-backface-visibility\u2461"}],"title":"3. Two Dimensional Subset"},{"refs":[{"id":"ref-for-propdef-backface-visibility\u2462"},{"id":"ref-for-propdef-backface-visibility\u2463"}],"title":"4.1.5. Backface Visibility"},{"refs":[{"id":"ref-for-propdef-backface-visibility\u2464"},{"id":"ref-for-propdef-backface-visibility\u2465"}],"title":"10. The backface-visibility Property"},{"refs":[{"id":"ref-for-propdef-backface-visibility\u2466"}],"title":"11. SVG and 3D transform functions"},{"refs":[{"id":"ref-for-propdef-backface-visibility\u2467"}],"title":"17. The SVG transform Attribute"},{"refs":[{"id":"ref-for-propdef-backface-visibility\u2468"},{"id":"ref-for-propdef-backface-visibility\u2460\u24ea"}],"title":"18.1. The animate and set element"}],"url":"#propdef-backface-visibility"},
"propdef-perspective": {"dfnID":"propdef-perspective","dfnText":"perspective","external":false,"refSections":[{"refs":[{"id":"ref-for-propdef-perspective"}],"title":"1. Introduction"},{"refs":[{"id":"ref-for-propdef-perspective\u2460"}],"title":"1.1. Module Interactions"},{"refs":[{"id":"ref-for-propdef-perspective\u2461"}],"title":"2. Terminology"},{"refs":[{"id":"ref-for-propdef-perspective\u2462"}],"title":"3. Two Dimensional Subset"},{"refs":[{"id":"ref-for-propdef-perspective\u2463"}],"title":"4. The Transform Rendering Model"},{"refs":[{"id":"ref-for-propdef-perspective\u2464"},{"id":"ref-for-propdef-perspective\u2465"},{"id":"ref-for-propdef-perspective\u2466"},{"id":"ref-for-propdef-perspective\u2467"}],"title":"4.1.1. Perspective"},{"refs":[{"id":"ref-for-propdef-perspective\u2468"}],"title":"4.1.4. Accumulated 3D Transformation Matrix Computation"},{"refs":[{"id":"ref-for-propdef-perspective\u2460\u24ea"},{"id":"ref-for-propdef-perspective\u2460\u2460"},{"id":"ref-for-propdef-perspective\u2460\u2461"}],"title":"8. The perspective Property"},{"refs":[{"id":"ref-for-propdef-perspective\u2460\u2462"},{"id":"ref-for-propdef-perspective\u2460\u2463"}],"title":"9. The perspective-origin Property"},{"refs":[{"id":"ref-for-propdef-perspective\u2460\u2464"}],"title":"11. SVG and 3D transform functions"},{"refs":[{"id":"ref-for-propdef-perspective\u2460\u2465"}],"title":"17. The SVG transform Attribute"},{"refs":[{"id":"ref-for-propdef-perspective\u2460\u2466"}],"title":"18.1. The animate and set element"}],"url":"#propdef-perspective"},
"propdef-perspective-origin": {"dfnID":"propdef-perspective-origin","dfnText":"perspective-origin","external":false,"refSections":[{"refs":[{"id":"ref-for-propdef-perspective-origin"}],"title":"1. Introduction"},{"refs":[{"id":"ref-for-propdef-perspective-origin\u2460"}],"title":"2. Terminology"},{"refs":[{"id":"ref-for-propdef-perspective-origin\u2461"}],"title":"3. Two Dimensional Subset"},{"refs":[{"id":"ref-for-propdef-perspective-origin\u2462"},{"id":"ref-for-propdef-perspective-origin\u2463"},{"id":"ref-for-propdef-perspective-origin\u2464"},{"id":"ref-for-propdef-perspective-origin\u2465"}],"title":"4.1.1. Perspective"},{"refs":[{"id":"ref-for-propdef-perspective-origin\u2466"}],"title":"8. The perspective Property"},{"refs":[{"id":"ref-for-propdef-perspective-origin\u2467"},{"id":"ref-for-propdef-perspective-origin\u2468"},{"id":"ref-for-propdef-perspective-origin\u2460\u24ea"},{"id":"ref-for-propdef-perspective-origin\u2460\u2460"},{"id":"ref-for-propdef-perspective-origin\u2460\u2461"}],"title":"9. The perspective-origin Property"},{"refs":[{"id":"ref-for-propdef-perspective-origin\u2460\u2462"}],"title":"11. SVG and 3D transform functions"},{"refs":[{"id":"ref-for-propdef-perspective-origin\u2460\u2463"}],"title":"17. The SVG transform Attribute"},{"refs":[{"id":"ref-for-propdef-perspective-origin\u2460\u2464"}],"title":"18.1. The animate and set element"}],"url":"#propdef-perspective-origin"},
"propdef-rotate": {"dfnID":"propdef-rotate","dfnText":"rotate","external":false,"refSections":[{"refs":[{"id":"ref-for-propdef-rotate"}],"title":"1. Introduction"},{"refs":[{"id":"ref-for-propdef-rotate\u2460"},{"id":"ref-for-propdef-rotate\u2461"},{"id":"ref-for-propdef-rotate\u2462"},{"id":"ref-for-propdef-rotate\u2463"},{"id":"ref-for-propdef-rotate\u2464"},{"id":"ref-for-propdef-rotate\u2465"},{"id":"ref-for-propdef-rotate\u2466"}],"title":"5. Individual Transform Properties: the translate, scale, and rotate properties"},{"refs":[{"id":"ref-for-propdef-rotate\u2467"}],"title":"5.1. Serialization"},{"refs":[{"id":"ref-for-propdef-rotate\u2468"},{"id":"ref-for-propdef-rotate\u2460\u24ea"}],"title":"6. Current Transformation Matrix"}],"url":"#propdef-rotate"},
"propdef-scale": {"dfnID":"propdef-scale","dfnText":"scale","external":false,"refSections":[{"refs":[{"id":"ref-for-propdef-scale"}],"title":"1. Introduction"},{"refs":[{"id":"ref-for-propdef-scale\u2460"},{"id":"ref-for-propdef-scale\u2461"},{"id":"ref-for-propdef-scale\u2462"},{"id":"ref-for-propdef-scale\u2463"},{"id":"ref-for-propdef-scale\u2464"},{"id":"ref-for-propdef-scale\u2465"}],"title":"5. Individual Transform Properties: the translate, scale, and rotate properties"},{"refs":[{"id":"ref-for-propdef-scale\u2466"}],"title":"5.1. Serialization"},{"refs":[{"id":"ref-for-propdef-scale\u2467"},{"id":"ref-for-propdef-scale\u2468"}],"title":"6. Current Transformation Matrix"}],"url":"#propdef-scale"},
"propdef-transform-style": {"dfnID":"propdef-transform-style","dfnText":"transform-style","external":false,"refSections":[{"refs":[{"id":"ref-for-propdef-transform-style"}],"title":"1. Introduction"},{"refs":[{"id":"ref-for-propdef-transform-style\u2460"}],"title":"1.1. Module Interactions"},{"refs":[{"id":"ref-for-propdef-transform-style\u2461"}],"title":"3. Two Dimensional Subset"},{"refs":[{"id":"ref-for-propdef-transform-style\u2462"},{"id":"ref-for-propdef-transform-style\u2463"}],"title":"4.1.2. 3D Rendering Contexts"},{"refs":[{"id":"ref-for-propdef-transform-style\u2464"}],"title":"4.1.3. Transformed element hierarchies"},{"refs":[{"id":"ref-for-propdef-transform-style\u2465"},{"id":"ref-for-propdef-transform-style\u2466"}],"title":"7. The transform-style Property"},{"refs":[{"id":"ref-for-propdef-transform-style\u2467"},{"id":"ref-for-propdef-transform-style\u2468"}],"title":"11. SVG and 3D transform functions"},{"refs":[{"id":"ref-for-propdef-transform-style\u2460\u24ea"}],"title":"17. The SVG transform Attribute"},{"refs":[{"id":"ref-for-propdef-transform-style\u2460\u2460"},{"id":"ref-for-propdef-transform-style\u2460\u2461"}],"title":"18.1. The animate and set element"}],"url":"#propdef-transform-style"},
"propdef-translate": {"dfnID":"propdef-translate","dfnText":"translate","external":false,"refSections":[{"refs":[{"id":"ref-for-propdef-translate"}],"title":"1. Introduction"},{"refs":[{"id":"ref-for-propdef-translate\u2460"},{"id":"ref-for-propdef-translate\u2461"},{"id":"ref-for-propdef-translate\u2462"},{"id":"ref-for-propdef-translate\u2463"},{"id":"ref-for-propdef-translate\u2464"},{"id":"ref-for-propdef-translate\u2465"}],"title":"5. Individual Transform Properties: the translate, scale, and rotate properties"},{"refs":[{"id":"ref-for-propdef-translate\u2466"}],"title":"5.1. Serialization"},{"refs":[{"id":"ref-for-propdef-translate\u2467"},{"id":"ref-for-propdef-translate\u2468"}],"title":"6. Current Transformation Matrix"}],"url":"#propdef-translate"},
"typedef-transform-function": {"dfnID":"typedef-transform-function","dfnText":"<transform-function>","external":false,"refSections":[{"refs":[{"id":"ref-for-typedef-transform-function"}],"title":"2.1. Serialization of the computed value of <transform-list>"}],"url":"#typedef-transform-function"},
"valdef-perspective-length-0": {"dfnID":"valdef-perspective-length-0","dfnText":"<length [0,\u221e]>","external":false,"refSections":[],"url":"#valdef-perspective-length-0"},
"valdef-perspective-none": {"dfnID":"valdef-perspective-none","dfnText":"none","external":false,"refSections":[{"refs":[{"id":"ref-for-valdef-perspective-none"}],"title":"4.1.4. Accumulated 3D Transformation Matrix Computation"},{"refs":[{"id":"ref-for-valdef-perspective-none\u2460"},{"id":"ref-for-valdef-perspective-none\u2461"}],"title":"8. The perspective Property"}],"url":"#valdef-perspective-none"},
"valdef-perspective-origin-bottom": {"dfnID":"valdef-perspective-origin-bottom","dfnText":"bottom","external":false,"refSections":[],"url":"#valdef-perspective-origin-bottom"},
"valdef-perspective-origin-center": {"dfnID":"valdef-perspective-origin-center","dfnText":"center","external":false,"refSections":[],"url":"#valdef-perspective-origin-center"},
"valdef-perspective-origin-left": {"dfnID":"valdef-perspective-origin-left","dfnText":"left","external":false,"refSections":[],"url":"#valdef-perspective-origin-left"},
"valdef-perspective-origin-length": {"dfnID":"valdef-perspective-origin-length","dfnText":"<length>","external":false,"refSections":[],"url":"#valdef-perspective-origin-length"},
"valdef-perspective-origin-percentage": {"dfnID":"valdef-perspective-origin-percentage","dfnText":"<percentage>","external":false,"refSections":[],"url":"#valdef-perspective-origin-percentage"},
"valdef-perspective-origin-right": {"dfnID":"valdef-perspective-origin-right","dfnText":"right","external":false,"refSections":[],"url":"#valdef-perspective-origin-right"},
"valdef-perspective-origin-top": {"dfnID":"valdef-perspective-origin-top","dfnText":"top","external":false,"refSections":[],"url":"#valdef-perspective-origin-top"},
"valdef-rotate-x": {"dfnID":"valdef-rotate-x","dfnText":"x","external":false,"refSections":[],"url":"#valdef-rotate-x"},
"valdef-rotate-y": {"dfnID":"valdef-rotate-y","dfnText":"y","external":false,"refSections":[],"url":"#valdef-rotate-y"},
"valdef-rotate-z": {"dfnID":"valdef-rotate-z","dfnText":"z","external":false,"refSections":[{"refs":[{"id":"ref-for-valdef-rotate-z"}],"title":"5. Individual Transform Properties: the translate, scale, and rotate properties"}],"url":"#valdef-rotate-z"},
"valdef-translate-none": {"dfnID":"valdef-translate-none","dfnText":"none","external":false,"refSections":[{"refs":[{"id":"ref-for-valdef-translate-none"},{"id":"ref-for-valdef-translate-none\u2460"},{"id":"ref-for-valdef-translate-none\u2461"},{"id":"ref-for-valdef-translate-none\u2462"},{"id":"ref-for-valdef-translate-none\u2463"},{"id":"ref-for-valdef-translate-none\u2464"},{"id":"ref-for-valdef-translate-none\u2465"},{"id":"ref-for-valdef-translate-none\u2466"}],"title":"5. Individual Transform Properties: the translate, scale, and rotate properties"},{"refs":[{"id":"ref-for-valdef-translate-none\u2467"},{"id":"ref-for-valdef-translate-none\u2468"},{"id":"ref-for-valdef-translate-none\u2460\u24ea"},{"id":"ref-for-valdef-translate-none\u2460\u2460"},{"id":"ref-for-valdef-translate-none\u2460\u2461"},{"id":"ref-for-valdef-translate-none\u2460\u2462"}],"title":"5.1. Serialization"}],"url":"#valdef-translate-none"},
};

document.addEventListener("DOMContentLoaded", ()=>{
    genAllDfnPanels();

    document.body.addEventListener("click", (e) => {
        // If not handled already, just hide all dfn panels.
        hideAllDfnPanels();
    });
});

window.addEventListener("resize", () => {
    // Pin any visible dfn panel
    queryAll(".dfn-panel.on, .dfn-panel.activated").forEach(el=>positionDfnPanel(el));
});

function genAllDfnPanels() {
    for(const panelData of Object.values(dfnPanelData)) {
        const dfnID = panelData.dfnID;
        const dfn = document.getElementById(dfnID);
        if(!dfn) {
            console.log(`Can't find dfn#${dfnID}.`, panelData);
            continue;
        }
        dfn.panelData = panelData;
        insertDfnPopupAction(dfn);
    }
}

function genDfnPanel(dfn, { dfnID, url, dfnText, refSections, external }) {
    const dfnPanel = mk.aside({
        class: "dfn-panel on",
        id: `infopanel-for-${dfnID}`,
        "data-for": dfnID,
        "aria-labelled-by":`infopaneltitle-for-${dfnID}`,
        },
        mk.span({id:`infopaneltitle-for-${dfnID}`, style:"display:none"},
            `Info about the '${dfnText}' ${external?"external":""} reference.`),
        mk.a({href:url, class:"dfn-link"}, url),
        refSections.length == 0 ? [] :
            mk.b({}, "Referenced in:"),
            mk.ul({},
                ...refSections.map(section=>
                    mk.li({},
                        ...section.refs.map((ref, refI)=>
                            [
                                mk.a({ href: `#${ref.id}` },
                                    (refI == 0) ? section.title : `(${refI + 1})`
                                ),
                                " ",
                            ]
                        ),
                    ),
                ),
            ),
        genLinkingSyntaxes(dfn),
    );

    dfnPanel.addEventListener('click', (event) => {
        if (event.target.nodeName == 'A') {
            scrollToTargetAndHighlight(event);
            pinDfnPanel(dfnPanel);
        }
        event.stopPropagation();
        refocusOnTarget(event);
    });
    dfnPanel.addEventListener('keydown', (event) => {
        if(event.keyCode == 27) { // Escape key
            hideDfnPanel({dfnPanel});
            event.stopPropagation();
            event.preventDefault();
        }
    });

    dfnPanel.dfn = dfn;
    dfn.dfnPanel = dfnPanel;
    return dfnPanel;
}



function hideAllDfnPanels() {
    // Delete the currently-active dfn panel.
    queryAll(".dfn-panel").forEach(dfnPanel=>hideDfnPanel({dfnPanel}));
}

function showDfnPanel(dfn) {
    hideAllDfnPanels(); // Only display one at a time.

    dfn.setAttribute("aria-expanded", "true");

    const dfnPanel = genDfnPanel(dfn, dfn.panelData);

    // Give the dfn a unique tabindex, and then
    // give all the tabbable panel bits successive indexes.
    let tabIndex = 100;
    dfn.tabIndex = tabIndex++;
    const tabbable = dfnPanel.querySelectorAll(":is(a, button)");
    for (const el of tabbable) {
        el.tabIndex = tabIndex++;
    }

    append(document.body, dfnPanel);
    positionDfnPanel(dfnPanel);
}

function positionDfnPanel(dfnPanel) {
    const dfn = dfnPanel.dfn;
    const dfnPos = getBounds(dfn);
    dfnPanel.style.top = dfnPos.bottom + "px";
    dfnPanel.style.left = dfnPos.left + "px";

    const panelPos = dfnPanel.getBoundingClientRect();
    const panelMargin = 8;
    const maxRight = document.body.parentNode.clientWidth - panelMargin;
    if (panelPos.right > maxRight) {
        const overflowAmount = panelPos.right - maxRight;
        const newLeft = Math.max(panelMargin, dfnPos.left - overflowAmount);
        dfnPanel.style.left = newLeft + "px";
    }
}

function pinDfnPanel(dfnPanel) {
    // Switch it to "activated" state, which pins it.
    dfnPanel.classList.add("activated");
    dfnPanel.style.position = "fixed";
    dfnPanel.style.left = null;
    dfnPanel.style.top = null;
}

function hideDfnPanel({dfn, dfnPanel}) {
    if(!dfnPanel) dfnPanel = dfn.dfnPanel;
    if(!dfn) dfn = dfnPanel.dfn;
    dfn.dfnPanel = undefined;
    dfnPanel.dfn = undefined;
    dfn.setAttribute("aria-expanded", "false");
    dfn.tabIndex = undefined;
    dfnPanel.remove()
}

function toggleDfnPanel(dfn) {
    if(dfn.dfnPanel) {
        hideDfnPanel(dfn);
    } else {
        showDfnPanel(dfn);
    }
}

function insertDfnPopupAction(dfn) {
    dfn.setAttribute('role', 'button');
    dfn.setAttribute('aria-expanded', 'false')
    dfn.tabIndex = 0;
    dfn.classList.add('has-dfn-panel');
    dfn.addEventListener('click', (event) => {
        toggleDfnPanel(dfn);
        event.stopPropagation();
    });
    dfn.addEventListener('keypress', (event) => {
        const kc = event.keyCode;
        // 32->Space, 13->Enter
        if(kc == 32 || kc == 13) {
            toggleDfnPanel(dfn);
            event.stopPropagation();
            event.preventDefault();
        }
    });
}

function refocusOnTarget(event) {
    const target = event.target;
    setTimeout(() => {
        // Refocus on the event.target element.
        // This is needed after browser scrolls to the destination.
        target.focus();
    });
}

// TODO: shared util
// Returns the root-level absolute position {left and top} of element.
function getBounds(el, relativeTo=document.body) {
    const relativeRect = relativeTo.getBoundingClientRect();
    const elRect = el.getBoundingClientRect();
    const top = elRect.top - relativeRect.top;
    const left = elRect.left - relativeRect.left;
    return {
        top,
        left,
        bottom: top + elRect.height,
        right: left + elRect.width,
    }
}

function scrollToTargetAndHighlight(event) {
    let hash = event.target.hash;
    if (hash) {
        hash = decodeURIComponent(hash.substring(1));
        const dest = document.getElementById(hash);
        if (dest) {
            dest.classList.add('highlighted');
            setTimeout(() => dest.classList.remove('highlighted'), 1000);
        }
    }
}

// Functions, divided by link type, that wrap an autolink's
// contents with the appropriate outer syntax.
// Alternately, a string naming another type they format
// the same as.
function needsFor(type) {
    switch(type) {
        case "descriptor":
        case "value":
        case "element-attr":
        case "attr-value":
        case "element-state":
        case "method":
        case "constructor":
        case "argument":
        case "attribute":
        case "const":
        case "dict-member":
        case "event":
        case "enum-value":
        case "stringifier":
        case "serializer":
        case "iterator":
        case "maplike":
        case "setlike":
        case "state":
        case "mode":
        case "context":
        case "facet": return true;

        default: return false;
    }
}
function refusesFor(type) {
    switch(type) {
        case "property":
        case "element":
        case "interface":
        case "namespace":
        case "callback":
        case "dictionary":
        case "enum":
        case "exception":
        case "typedef":
        case "http-header":
        case "permission": return true;

        default: return false;
    }
}
function linkFormatterFromType(type) {
    switch(type) {
        case 'scheme':
        case 'permission':
        case 'dfn': return (text) => `[=${text}=]`;

        case 'abstract-op': return (text) => `[\$${text}\$]`;

        case 'function':
        case 'at-rule':
        case 'selector':
        case 'value': return (text) => `''${text}''`;

        case 'http-header': return (text) => `[:${text}:]`;

        case 'interface':
        case 'constructor':
        case 'method':
        case 'argument':
        case 'attribute':
        case 'callback':
        case 'dictionary':
        case 'dict-member':
        case 'enum':
        case 'enum-value':
        case 'exception':
        case 'const':
        case 'typedef':
        case 'stringifier':
        case 'serializer':
        case 'iterator':
        case 'maplike':
        case 'setlike':
        case 'extended-attribute':
        case 'event':
        case 'idl': return (text) => `{{${text}}}`;

        case 'element-state':
        case 'element-attr':
        case 'attr-value':
        case 'element': return (element) => `<{${element}}>`;

        case 'grammar': return (text) => `${text} (within a <pre class=prod>)`;

        case 'type': return (text)=> `<<${text}>>`;

        case 'descriptor':
        case 'property': return (text) => `'${text}'`;

        default: return;
    };
};

function genLinkingSyntaxes(dfn) {
    if(dfn.tagName != "DFN") return;

    const type = dfn.getAttribute('data-dfn-type');
    if(!type) {
        console.log(`<dfn> doesn't have a data-dfn-type:`, dfn);
        return [];
    }

    // Return a function that wraps link text based on the type
    const linkFormatter = linkFormatterFromType(type);
    if(!linkFormatter) {
        console.log(`<dfn> has an unknown data-dfn-type:`, dfn);
        return [];
    }

    let ltAlts;
    if(dfn.hasAttribute('data-lt')) {
        ltAlts = dfn.getAttribute('data-lt')
            .split("|")
            .map(x=>x.trim());
    } else {
        ltAlts = [dfn.textContent.trim()];
    }
    if(type == "type") {
        // lt of "<foo>", but "foo" is the interior;
        // <<foo/bar>> is how you write it with a for,
        // not <foo/<bar>> or whatever.
        for(var i = 0; i < ltAlts.length; i++) {
            const lt = ltAlts[i];
            const match = /<(.*)>/.exec(lt);
            if(match) { ltAlts[i] = match[1]; }
        }
    }

    let forAlts;
    if(dfn.hasAttribute('data-dfn-for')) {
        forAlts = dfn.getAttribute('data-dfn-for')
            .split(",")
            .map(x=>x.trim());
    } else {
        forAlts = [''];
    }

    let linkingSyntaxes = [];
    if(!needsFor(type)) {
        for(const lt of ltAlts) {
            linkingSyntaxes.push(linkFormatter(lt));
        }
    }
    if(!refusesFor(type)) {
        for(const f of forAlts) {
            linkingSyntaxes.push(linkFormatter(`${f}/${ltAlts[0]}`))
        }
    }
    return [
        mk.b({}, 'Possible linking syntaxes:'),
        mk.ul({},
            ...linkingSyntaxes.map(link => {
                const copyLink = async () =>
                    await navigator.clipboard.writeText(link);
                return mk.li({},
                    mk.div({ class: 'link-item' },
                        mk.button({
                            class: 'copy-icon', title: 'Copy',
                            type: 'button',
                            _onclick: copyLink,
                            tabindex: 0,
                        }, mk.span({ class: 'icon' }) ),
                        mk.span({}, link)
                    )
                );
            })
        )
    ];
}
}
</script>
<script>/* Boilerplate: script-link-titles */
"use strict";
{
let linkTitleData = {
"https://drafts.csswg.org/css-values-4/#angle-value": "Expands to: deg | grad | rad | turn",
"https://drafts.csswg.org/css-values-4/#length-value": "Expands to: advance measure | cap | ch | cm | dvb | dvh | dvi | dvmax | dvmin | dvw | em | ex | ic | in | lh | lvb | lvh | lvi | lvmax | lvmin | lvw | mm | pc | pt | px | q | rcap | rch | rem | rex | ric | rlh | svb | svh | svi | svmax | svmin | svw | vb | vh | vi | vmax | vmin | vw",
};

function setTypeTitles() {
	for(let el of document.querySelectorAll("a[href]")) {
		if(el.href in linkTitleData && !el.hasAttribute("title")) {
			el.setAttribute("title", linkTitleData[el.href]);
		}
	}
}

document.addEventListener("DOMContentLoaded", setTypeTitles);
}
</script>
<script>/* Boilerplate: script-position-annos */
"use strict";
{
function repositionAnnoPanels(){
    const panels = [...document.querySelectorAll("[data-anno-for]")];
    hydratePanels(panels);
    let vSoFar = 0;
    for(const panel of panels.sort(cmpTops)) {
        if(panel.top < vSoFar) {
            panel.top = vSoFar;
            panel.style.top = vSoFar + "px";
        }
        vSoFar = panel.top + panel.height + 15;
    }
}
function hydratePanels(panels) {
    const main = document.querySelector("main");
    let mainRect;
    if(main) mainRect = main.getBoundingClientRect();
    // First display them all, if they're not already visible.
    for(const panel of panels) {
        panel.classList.remove("unpositioned");
    }
    // Measure them all
    for(const panel of panels) {
        const dfn = document.getElementById(panel.getAttribute("data-anno-for"));
        if(!dfn) {
            console.log("Can't find the annotation panel target:", panel);
            continue;
        }
        panel.dfn = dfn;
        panel.top = window.scrollY + dfn.getBoundingClientRect().top;
        let panelRect = panel.getBoundingClientRect();
        panel.height = panelRect.height;
        if(main) {
            panel.overlappingMain = panelRect.left < mainRect.right;
        } else {
            panel.overlappingMain = false;
        }
    }
    // And finally position them
    for(const panel of panels) {
        const dfn = panel.dfn;
        if(!dfn) continue;
        panel.style.top = panel.top + "px";
        panel.classList.toggle("overlapping-main", panel.overlappingMain);
    }
}

function cmpTops(a,b) {
    return a.top - b.top;
}

window.addEventListener("load", repositionAnnoPanels);
window.addEventListener("resize", repositionAnnoPanels);
}
</script>
<script>/* Boilerplate: script-ref-hints */
"use strict";
{
let refsData = {
"#3d-matrix": {"export":true,"for_":[],"level":"2","normative":true,"shortname":"css-transforms","spec":"css-transforms-2","status":"local","text":"3d matrix","type":"dfn","url":"#3d-matrix"},
"#3d-rendering-context": {"export":true,"for_":[],"level":"2","normative":true,"shortname":"css-transforms","spec":"css-transforms-2","status":"local","text":"3d rendering context","type":"dfn","url":"#3d-rendering-context"},
"#3d-transform-functions": {"export":true,"for_":[],"level":"2","normative":true,"shortname":"css-transforms","spec":"css-transforms-2","status":"local","text":"3d transform functions","type":"dfn","url":"#3d-transform-functions"},
"#3d-transformed-element": {"export":true,"for_":[],"level":"2","normative":true,"shortname":"css-transforms","spec":"css-transforms-2","status":"local","text":"3d transformed element","type":"dfn","url":"#3d-transformed-element"},
"#accumulated-3d-transformation-matrix": {"export":true,"for_":[],"level":"2","normative":true,"shortname":"css-transforms","spec":"css-transforms-2","status":"local","text":"accumulated 3d transformation matrix","type":"dfn","url":"#accumulated-3d-transformation-matrix"},
"#funcdef-matrix3d": {"export":true,"for_":[],"level":"2","normative":true,"shortname":"css-transforms","spec":"css-transforms-2","status":"local","text":"matrix3d()","type":"function","url":"#funcdef-matrix3d"},
"#funcdef-perspective": {"export":true,"for_":[],"level":"2","normative":true,"shortname":"css-transforms","spec":"css-transforms-2","status":"local","text":"perspective()","type":"function","url":"#funcdef-perspective"},
"#funcdef-rotate3d": {"export":true,"for_":[],"level":"2","normative":true,"shortname":"css-transforms","spec":"css-transforms-2","status":"local","text":"rotate3d()","type":"function","url":"#funcdef-rotate3d"},
"#funcdef-rotatex": {"export":true,"for_":[],"level":"2","normative":true,"shortname":"css-transforms","spec":"css-transforms-2","status":"local","text":"rotatex()","type":"function","url":"#funcdef-rotatex"},
"#funcdef-rotatey": {"export":true,"for_":[],"level":"2","normative":true,"shortname":"css-transforms","spec":"css-transforms-2","status":"local","text":"rotatey()","type":"function","url":"#funcdef-rotatey"},
"#funcdef-rotatez": {"export":true,"for_":[],"level":"2","normative":true,"shortname":"css-transforms","spec":"css-transforms-2","status":"local","text":"rotatez()","type":"function","url":"#funcdef-rotatez"},
"#funcdef-scale": {"export":true,"for_":[],"level":"2","normative":true,"shortname":"css-transforms","spec":"css-transforms-2","status":"local","text":"scale()","type":"function","url":"#funcdef-scale"},
"#funcdef-scale3d": {"export":true,"for_":[],"level":"2","normative":true,"shortname":"css-transforms","spec":"css-transforms-2","status":"local","text":"scale3d()","type":"function","url":"#funcdef-scale3d"},
"#funcdef-scalex": {"export":true,"for_":[],"level":"2","normative":true,"shortname":"css-transforms","spec":"css-transforms-2","status":"local","text":"scalex()","type":"function","url":"#funcdef-scalex"},
"#funcdef-scaley": {"export":true,"for_":[],"level":"2","normative":true,"shortname":"css-transforms","spec":"css-transforms-2","status":"local","text":"scaley()","type":"function","url":"#funcdef-scaley"},
"#funcdef-scalez": {"export":true,"for_":[],"level":"2","normative":true,"shortname":"css-transforms","spec":"css-transforms-2","status":"local","text":"scalez()","type":"function","url":"#funcdef-scalez"},
"#funcdef-translate3d": {"export":true,"for_":[],"level":"2","normative":true,"shortname":"css-transforms","spec":"css-transforms-2","status":"local","text":"translate3d()","type":"function","url":"#funcdef-translate3d"},
"#funcdef-translatez": {"export":true,"for_":[],"level":"2","normative":true,"shortname":"css-transforms","spec":"css-transforms-2","status":"local","text":"translatez()","type":"function","url":"#funcdef-translatez"},
"#identity-transform-function": {"export":true,"for_":[],"level":"2","normative":true,"shortname":"css-transforms","spec":"css-transforms-2","status":"local","text":"identity transform function","type":"dfn","url":"#identity-transform-function"},
"#perspective-matrix": {"export":true,"for_":[],"level":"2","normative":true,"shortname":"css-transforms","spec":"css-transforms-2","status":"local","text":"perspective matrix","type":"dfn","url":"#perspective-matrix"},
"#propdef-backface-visibility": {"export":true,"for_":[],"level":"2","normative":true,"shortname":"css-transforms","spec":"css-transforms-2","status":"local","text":"backface-visibility","type":"property","url":"#propdef-backface-visibility"},
"#propdef-perspective": {"export":true,"for_":[],"level":"2","normative":true,"shortname":"css-transforms","spec":"css-transforms-2","status":"local","text":"perspective","type":"property","url":"#propdef-perspective"},
"#propdef-perspective-origin": {"export":true,"for_":[],"level":"2","normative":true,"shortname":"css-transforms","spec":"css-transforms-2","status":"local","text":"perspective-origin","type":"property","url":"#propdef-perspective-origin"},
"#propdef-rotate": {"export":true,"for_":[],"level":"2","normative":true,"shortname":"css-transforms","spec":"css-transforms-2","status":"local","text":"rotate","type":"property","url":"#propdef-rotate"},
"#propdef-scale": {"export":true,"for_":[],"level":"2","normative":true,"shortname":"css-transforms","spec":"css-transforms-2","status":"local","text":"scale","type":"property","url":"#propdef-scale"},
"#propdef-transform-style": {"export":true,"for_":[],"level":"2","normative":true,"shortname":"css-transforms","spec":"css-transforms-2","status":"local","text":"transform-style","type":"property","url":"#propdef-transform-style"},
"#propdef-translate": {"export":true,"for_":[],"level":"2","normative":true,"shortname":"css-transforms","spec":"css-transforms-2","status":"local","text":"translate","type":"property","url":"#propdef-translate"},
"#typedef-transform-function": {"export":true,"for_":[],"level":"2","normative":true,"shortname":"css-transforms","spec":"css-transforms-2","status":"local","text":"<transform-function>","type":"type","url":"#typedef-transform-function"},
"#valdef-perspective-none": {"export":true,"for_":["perspective"],"level":"2","normative":true,"shortname":"css-transforms","spec":"css-transforms-2","status":"local","text":"none","type":"value","url":"#valdef-perspective-none"},
"#valdef-rotate-z": {"export":true,"for_":["rotate"],"level":"2","normative":true,"shortname":"css-transforms","spec":"css-transforms-2","status":"local","text":"z","type":"value","url":"#valdef-rotate-z"},
"#valdef-translate-none": {"export":true,"for_":["rotate","scale","translate"],"level":"2","normative":true,"shortname":"css-transforms","spec":"css-transforms-2","status":"local","text":"none","type":"value","url":"#valdef-translate-none"},
"https://drafts.csswg.org/css-backgrounds-3/#propdef-background-position": {"export":true,"for_":[],"level":"3","normative":true,"shortname":"css-backgrounds","spec":"css-backgrounds-3","status":"current","text":"background-position","type":"property","url":"https://drafts.csswg.org/css-backgrounds-3/#propdef-background-position"},
"https://drafts.csswg.org/css-cascade-5/#computed-value": {"export":true,"for_":[],"level":"5","normative":true,"shortname":"css-cascade","spec":"css-cascade-5","status":"current","text":"computed value","type":"dfn","url":"https://drafts.csswg.org/css-cascade-5/#computed-value"},
"https://drafts.csswg.org/css-color-4/#propdef-opacity": {"export":true,"for_":[],"level":"4","normative":true,"shortname":"css-color","spec":"css-color-4","status":"current","text":"opacity","type":"property","url":"https://drafts.csswg.org/css-color-4/#propdef-opacity"},
"https://drafts.csswg.org/css-overflow-3/#propdef-overflow": {"export":true,"for_":[],"level":"3","normative":true,"shortname":"css-overflow","spec":"css-overflow-3","status":"current","text":"overflow","type":"property","url":"https://drafts.csswg.org/css-overflow-3/#propdef-overflow"},
"https://drafts.csswg.org/css-overflow-3/#valdef-overflow-clip": {"export":true,"for_":["overflow","overflow-x","overflow-y"],"level":"3","normative":true,"shortname":"css-overflow","spec":"css-overflow-3","status":"current","text":"clip","type":"value","url":"https://drafts.csswg.org/css-overflow-3/#valdef-overflow-clip"},
"https://drafts.csswg.org/css-overflow-3/#valdef-overflow-visible": {"export":true,"for_":["overflow","overflow-x","overflow-y"],"level":"3","normative":true,"shortname":"css-overflow","spec":"css-overflow-3","status":"current","text":"visible","type":"value","url":"https://drafts.csswg.org/css-overflow-3/#valdef-overflow-visible"},
"https://drafts.csswg.org/css-transforms-1/#2d-matrix": {"export":true,"for_":[],"level":"1","normative":true,"shortname":"css-transforms","spec":"css-transforms-1","status":"current","text":"2d matrix","type":"dfn","url":"https://drafts.csswg.org/css-transforms-1/#2d-matrix"},
"https://drafts.csswg.org/css-transforms-1/#containing-block-for-all-descendants": {"export":true,"for_":[],"level":"1","normative":true,"shortname":"css-transforms","spec":"css-transforms-1","status":"current","text":"containing block for all descendants","type":"dfn","url":"https://drafts.csswg.org/css-transforms-1/#containing-block-for-all-descendants"},
"https://drafts.csswg.org/css-transforms-1/#funcdef-transform-matrix": {"export":true,"for_":["transform"],"level":"1","normative":true,"shortname":"css-transforms","spec":"css-transforms-1","status":"current","text":"matrix()","type":"function","url":"https://drafts.csswg.org/css-transforms-1/#funcdef-transform-matrix"},
"https://drafts.csswg.org/css-transforms-1/#funcdef-transform-rotate": {"export":true,"for_":["transform"],"level":"1","normative":true,"shortname":"css-transforms","spec":"css-transforms-1","status":"current","text":"rotate()","type":"function","url":"https://drafts.csswg.org/css-transforms-1/#funcdef-transform-rotate"},
"https://drafts.csswg.org/css-transforms-1/#funcdef-transform-translate": {"export":true,"for_":["transform"],"level":"1","normative":true,"shortname":"css-transforms","spec":"css-transforms-1","status":"current","text":"translate()","type":"function","url":"https://drafts.csswg.org/css-transforms-1/#funcdef-transform-translate"},
"https://drafts.csswg.org/css-transforms-1/#funcdef-transform-translatex": {"export":true,"for_":["transform"],"level":"1","normative":true,"shortname":"css-transforms","spec":"css-transforms-1","status":"current","text":"translatex()","type":"function","url":"https://drafts.csswg.org/css-transforms-1/#funcdef-transform-translatex"},
"https://drafts.csswg.org/css-transforms-1/#funcdef-transform-translatey": {"export":true,"for_":["transform"],"level":"1","normative":true,"shortname":"css-transforms","spec":"css-transforms-1","status":"current","text":"translatey()","type":"function","url":"https://drafts.csswg.org/css-transforms-1/#funcdef-transform-translatey"},
"https://drafts.csswg.org/css-transforms-1/#propdef-transform": {"export":true,"for_":[],"level":"1","normative":true,"shortname":"css-transforms","spec":"css-transforms-1","status":"current","text":"transform","type":"property","url":"https://drafts.csswg.org/css-transforms-1/#propdef-transform"},
"https://drafts.csswg.org/css-transforms-1/#propdef-transform-origin": {"export":true,"for_":[],"level":"1","normative":true,"shortname":"css-transforms","spec":"css-transforms-1","status":"current","text":"transform-origin","type":"property","url":"https://drafts.csswg.org/css-transforms-1/#propdef-transform-origin"},
"https://drafts.csswg.org/css-transforms-1/#reference-box": {"export":false,"for_":[],"level":"1","normative":true,"shortname":"css-transforms","spec":"css-transforms-1","status":"current","text":"reference box","type":"dfn","url":"https://drafts.csswg.org/css-transforms-1/#reference-box"},
"https://drafts.csswg.org/css-transforms-1/#transformable-element": {"export":true,"for_":[],"level":"1","normative":true,"shortname":"css-transforms","spec":"css-transforms-1","status":"current","text":"transformable element","type":"dfn","url":"https://drafts.csswg.org/css-transforms-1/#transformable-element"},
"https://drafts.csswg.org/css-transforms-1/#transformation-matrix": {"export":true,"for_":[],"level":"1","normative":true,"shortname":"css-transforms","spec":"css-transforms-1","status":"current","text":"transformation matrix","type":"dfn","url":"https://drafts.csswg.org/css-transforms-1/#transformation-matrix"},
"https://drafts.csswg.org/css-transforms-1/#transformed-element": {"export":true,"for_":[],"level":"1","normative":true,"shortname":"css-transforms","spec":"css-transforms-1","status":"current","text":"transformed element","type":"dfn","url":"https://drafts.csswg.org/css-transforms-1/#transformed-element"},
"https://drafts.csswg.org/css-transforms-1/#typedef-transform-list": {"export":true,"for_":[],"level":"1","normative":true,"shortname":"css-transforms","spec":"css-transforms-1","status":"current","text":"<transform-list>","type":"type","url":"https://drafts.csswg.org/css-transforms-1/#typedef-transform-list"},
"https://drafts.csswg.org/css-values-4/#accumulation": {"export":true,"for_":[],"level":"4","normative":true,"shortname":"css-values","spec":"css-values-4","status":"current","text":"value accumulation","type":"dfn","url":"https://drafts.csswg.org/css-values-4/#accumulation"},
"https://drafts.csswg.org/css-values-4/#addition": {"export":true,"for_":[],"level":"4","normative":true,"shortname":"css-values","spec":"css-values-4","status":"current","text":"value addition","type":"dfn","url":"https://drafts.csswg.org/css-values-4/#addition"},
"https://drafts.csswg.org/css-values-4/#angle-value": {"export":true,"for_":[],"level":"4","normative":true,"shortname":"css-values","spec":"css-values-4","status":"current","text":"<angle>","type":"type","url":"https://drafts.csswg.org/css-values-4/#angle-value"},
"https://drafts.csswg.org/css-values-4/#comb-all": {"export":true,"for_":[],"level":"4","normative":true,"shortname":"css-values","spec":"css-values-4","status":"current","text":"&&","type":"grammar","url":"https://drafts.csswg.org/css-values-4/#comb-all"},
"https://drafts.csswg.org/css-values-4/#comb-comma": {"export":true,"for_":[],"level":"4","normative":true,"shortname":"css-values","spec":"css-values-4","status":"current","text":",","type":"grammar","url":"https://drafts.csswg.org/css-values-4/#comb-comma"},
"https://drafts.csswg.org/css-values-4/#comb-one": {"export":true,"for_":[],"level":"4","normative":true,"shortname":"css-values","spec":"css-values-4","status":"current","text":"|","type":"grammar","url":"https://drafts.csswg.org/css-values-4/#comb-one"},
"https://drafts.csswg.org/css-values-4/#css-wide-keywords": {"export":true,"for_":[],"level":"4","normative":true,"shortname":"css-values","spec":"css-values-4","status":"current","text":"css-wide keywords","type":"dfn","url":"https://drafts.csswg.org/css-values-4/#css-wide-keywords"},
"https://drafts.csswg.org/css-values-4/#length-value": {"export":true,"for_":[],"level":"4","normative":true,"shortname":"css-values","spec":"css-values-4","status":"current","text":"<length>","type":"type","url":"https://drafts.csswg.org/css-values-4/#length-value"},
"https://drafts.csswg.org/css-values-4/#mult-comma": {"export":true,"for_":[],"level":"4","normative":true,"shortname":"css-values","spec":"css-values-4","status":"current","text":"#","type":"grammar","url":"https://drafts.csswg.org/css-values-4/#mult-comma"},
"https://drafts.csswg.org/css-values-4/#mult-num": {"export":true,"for_":[],"level":"4","normative":true,"shortname":"css-values","spec":"css-values-4","status":"current","text":"{a}","type":"grammar","url":"https://drafts.csswg.org/css-values-4/#mult-num"},
"https://drafts.csswg.org/css-values-4/#mult-num-range": {"export":true,"for_":[],"level":"4","normative":true,"shortname":"css-values","spec":"css-values-4","status":"current","text":"{a,b}","type":"grammar","url":"https://drafts.csswg.org/css-values-4/#mult-num-range"},
"https://drafts.csswg.org/css-values-4/#mult-opt": {"export":true,"for_":[],"level":"4","normative":true,"shortname":"css-values","spec":"css-values-4","status":"current","text":"?","type":"grammar","url":"https://drafts.csswg.org/css-values-4/#mult-opt"},
"https://drafts.csswg.org/css-values-4/#number-value": {"export":true,"for_":[],"level":"4","normative":true,"shortname":"css-values","spec":"css-values-4","status":"current","text":"<number>","type":"type","url":"https://drafts.csswg.org/css-values-4/#number-value"},
"https://drafts.csswg.org/css-values-4/#percentage-value": {"export":true,"for_":[],"level":"4","normative":true,"shortname":"css-values","spec":"css-values-4","status":"current","text":"<percentage>","type":"type","url":"https://drafts.csswg.org/css-values-4/#percentage-value"},
"https://drafts.csswg.org/css-values-4/#typedef-length-percentage": {"export":true,"for_":[],"level":"4","normative":true,"shortname":"css-values","spec":"css-values-4","status":"current","text":"<length-percentage>","type":"type","url":"https://drafts.csswg.org/css-values-4/#typedef-length-percentage"},
"https://drafts.csswg.org/css-values-4/#typedef-position": {"export":true,"for_":[],"level":"4","normative":true,"shortname":"css-values","spec":"css-values-4","status":"current","text":"<position>","type":"type","url":"https://drafts.csswg.org/css-values-4/#typedef-position"},
"https://drafts.csswg.org/css-values-4/#zero-value": {"export":true,"for_":[],"level":"4","normative":true,"shortname":"css-values","spec":"css-values-4","status":"current","text":"<zero>","type":"type","url":"https://drafts.csswg.org/css-values-4/#zero-value"},
"https://drafts.csswg.org/css2/#valdef-clip-auto": {"export":true,"for_":["clip"],"level":"1","normative":true,"shortname":"css","spec":"css22","status":"current","text":"auto","type":"value","url":"https://drafts.csswg.org/css2/#valdef-clip-auto"},
"https://drafts.csswg.org/cssom-1/#dom-window-getcomputedstyle": {"export":true,"for_":["Window"],"level":"1","normative":true,"shortname":"cssom","spec":"cssom-1","status":"current","text":"getComputedStyle(elt)","type":"method","url":"https://drafts.csswg.org/cssom-1/#dom-window-getcomputedstyle"},
"https://drafts.csswg.org/cssom-1/#resolved-value": {"export":true,"for_":[],"level":"1","normative":true,"shortname":"cssom","spec":"cssom-1","status":"current","text":"resolved value","type":"dfn","url":"https://drafts.csswg.org/cssom-1/#resolved-value"},
"https://drafts.csswg.org/cssom-1/#resolved-value-special-case-property-like-height": {"export":true,"for_":[],"level":"1","normative":true,"shortname":"cssom","spec":"cssom-1","status":"current","text":"resolved value special case property like height","type":"dfn","url":"https://drafts.csswg.org/cssom-1/#resolved-value-special-case-property-like-height"},
"https://drafts.fxtf.org/compositing-2/#propdef-isolation": {"export":true,"for_":[],"level":"2","normative":true,"shortname":"compositing","spec":"compositing-2","status":"current","text":"isolation","type":"property","url":"https://drafts.fxtf.org/compositing-2/#propdef-isolation"},
"https://drafts.fxtf.org/compositing-2/#propdef-mix-blend-mode": {"export":true,"for_":[],"level":"2","normative":true,"shortname":"compositing","spec":"compositing-2","status":"current","text":"mix-blend-mode","type":"property","url":"https://drafts.fxtf.org/compositing-2/#propdef-mix-blend-mode"},
"https://drafts.fxtf.org/css-masking-1/#elementdef-clippath": {"export":true,"for_":[],"level":"1","normative":true,"shortname":"css-masking","spec":"css-masking-1","status":"current","text":"clippath","type":"element","url":"https://drafts.fxtf.org/css-masking-1/#elementdef-clippath"},
"https://drafts.fxtf.org/css-masking-1/#elementdef-mask": {"export":true,"for_":[],"level":"1","normative":true,"shortname":"css-masking","spec":"css-masking-1","status":"current","text":"mask","type":"element","url":"https://drafts.fxtf.org/css-masking-1/#elementdef-mask"},
"https://drafts.fxtf.org/css-masking-1/#propdef-clip": {"export":true,"for_":[],"level":"1","normative":true,"shortname":"css-masking","spec":"css-masking-1","status":"current","text":"clip","type":"property","url":"https://drafts.fxtf.org/css-masking-1/#propdef-clip"},
"https://drafts.fxtf.org/css-masking-1/#propdef-clip-path": {"export":true,"for_":[],"level":"1","normative":true,"shortname":"css-masking","spec":"css-masking-1","status":"current","text":"clip-path","type":"property","url":"https://drafts.fxtf.org/css-masking-1/#propdef-clip-path"},
"https://drafts.fxtf.org/css-masking-1/#propdef-mask-border-source": {"export":true,"for_":[],"level":"1","normative":true,"shortname":"css-masking","spec":"css-masking-1","status":"current","text":"mask-border-source","type":"property","url":"https://drafts.fxtf.org/css-masking-1/#propdef-mask-border-source"},
"https://drafts.fxtf.org/css-masking-1/#propdef-mask-image": {"export":true,"for_":[],"level":"1","normative":true,"shortname":"css-masking","spec":"css-masking-1","status":"current","text":"mask-image","type":"property","url":"https://drafts.fxtf.org/css-masking-1/#propdef-mask-image"},
"https://drafts.fxtf.org/filter-effects-1/#propdef-filter": {"export":true,"for_":[],"level":"1","normative":true,"shortname":"filter-effects","spec":"filter-effects-1","status":"current","text":"filter","type":"property","url":"https://drafts.fxtf.org/filter-effects-1/#propdef-filter"},
"https://drafts.fxtf.org/motion-1/#propdef-offset": {"export":true,"for_":[],"level":"1","normative":true,"shortname":"motion","spec":"motion-1","status":"current","text":"offset","type":"property","url":"https://drafts.fxtf.org/motion-1/#propdef-offset"},
"https://html.spec.whatwg.org/multipage/text-level-semantics.html#the-a-element": {"export":true,"for_":[],"level":"1","normative":true,"shortname":"html","spec":"html","status":"current","text":"a","type":"element","url":"https://html.spec.whatwg.org/multipage/text-level-semantics.html#the-a-element"},
"https://infra.spec.whatwg.org/#list": {"export":true,"for_":[],"level":"1","normative":true,"shortname":"infra","spec":"infra","status":"current","text":"list","type":"dfn","url":"https://infra.spec.whatwg.org/#list"},
"https://infra.spec.whatwg.org/#list-append": {"export":true,"for_":["list"],"level":"1","normative":true,"shortname":"infra","spec":"infra","status":"current","text":"append","type":"dfn","url":"https://infra.spec.whatwg.org/#list-append"},
"https://svgwg.org/specs/animations/#elementdef-animate": {"export":true,"for_":[],"level":"1","normative":true,"shortname":"svg-animations","spec":"svg-animations","status":"current","text":"animate","type":"element","url":"https://svgwg.org/specs/animations/#elementdef-animate"},
"https://svgwg.org/specs/animations/#elementdef-set": {"export":true,"for_":[],"level":"1","normative":true,"shortname":"svg-animations","spec":"svg-animations","status":"current","text":"set","type":"element","url":"https://svgwg.org/specs/animations/#elementdef-set"},
"https://svgwg.org/svg2-draft/coords.html#VectorEffectProperty": {"export":true,"for_":[],"level":"2","normative":true,"shortname":"svg","spec":"svg2","status":"current","text":"vector-effect","type":"property","url":"https://svgwg.org/svg2-draft/coords.html#VectorEffectProperty"},
"https://svgwg.org/svg2-draft/embedded.html#elementdef-foreignObject": {"export":true,"for_":[],"level":"2","normative":true,"shortname":"svg","spec":"svg2","status":"current","text":"foreignobject","type":"element","url":"https://svgwg.org/svg2-draft/embedded.html#elementdef-foreignObject"},
"https://svgwg.org/svg2-draft/pservers.html#elementdef-linearGradient": {"export":true,"for_":[],"level":"2","normative":true,"shortname":"svg","spec":"svg2","status":"current","text":"lineargradient","type":"element","url":"https://svgwg.org/svg2-draft/pservers.html#elementdef-linearGradient"},
"https://svgwg.org/svg2-draft/pservers.html#elementdef-pattern": {"export":true,"for_":[],"level":"2","normative":true,"shortname":"svg","spec":"svg2","status":"current","text":"pattern","type":"element","url":"https://svgwg.org/svg2-draft/pservers.html#elementdef-pattern"},
"https://svgwg.org/svg2-draft/pservers.html#elementdef-radialGradient": {"export":true,"for_":[],"level":"2","normative":true,"shortname":"svg","spec":"svg2","status":"current","text":"radialgradient","type":"element","url":"https://svgwg.org/svg2-draft/pservers.html#elementdef-radialGradient"},
"https://svgwg.org/svg2-draft/struct.html#container-element": {"export":true,"for_":[],"level":"2","normative":true,"shortname":"svg","spec":"svg2","status":"current","text":"container element","type":"dfn","url":"https://svgwg.org/svg2-draft/struct.html#container-element"},
"https://svgwg.org/svg2-draft/struct.html#elementdef-g": {"export":true,"for_":[],"level":"2","normative":true,"shortname":"svg","spec":"svg2","status":"current","text":"g","type":"element","url":"https://svgwg.org/svg2-draft/struct.html#elementdef-g"},
"https://svgwg.org/svg2-draft/struct.html#elementdef-svg": {"export":true,"for_":[],"level":"2","normative":true,"shortname":"svg","spec":"svg2","status":"current","text":"svg","type":"element","url":"https://svgwg.org/svg2-draft/struct.html#elementdef-svg"},
"https://svgwg.org/svg2-draft/struct.html#graphics-element": {"export":true,"for_":[],"level":"2","normative":true,"shortname":"svg","spec":"svg2","status":"current","text":"graphics element","type":"dfn","url":"https://svgwg.org/svg2-draft/struct.html#graphics-element"},
"https://svgwg.org/svg2-draft/struct.html#graphics-referencing-element": {"export":true,"for_":[],"level":"2","normative":true,"shortname":"svg","spec":"svg2","status":"current","text":"graphics referencing element","type":"dfn","url":"https://svgwg.org/svg2-draft/struct.html#graphics-referencing-element"},
"https://www.w3.org/TR/CSS21/visuren.html#x43": {"export":true,"for_":[],"level":"1","normative":true,"shortname":"css","spec":"css2","status":"current","text":"stacking context","type":"dfn","url":"https://www.w3.org/TR/CSS21/visuren.html#x43"},
};

function mkRefHint(link, ref) {
    const linkText = link.textContent;
    let dfnTextElements = '';
    if (ref.text != linkText) {
        dfnTextElements =
            mk.li({},
                mk.b({}, "Term: "),
                mk.span({}, ref.text)
            );
    }
    const forList = ref.for_;
    let forListElements;
    if(forList.length == 0) {
        forListElements = [];
    } else if(forList.length == 1) {
        forListElements = mk.li({},
            mk.b({}, "For: "),
            mk.span({}, forList[0]),
        );
    } else {
        forListElements = mk.li({},
            mk.b({}, "For: "),
            mk.ul({},
                ...forList.map(forItem =>
                    mk.li({},
                        mk.span({}, forItem)
                    ),
                ),
            ),
        );
    }
    const url = ref.url;
    const safeUrl = encodeURIComponent(url);
    const hintPanel = mk.aside({
        class: "ref-hint",
        id: `ref-hint-for-${safeUrl}`,
        "data-for": url,
        "aria-labelled-by": `ref-hint-for-${safeUrl}`,
    },
        mk.ul({},
            dfnTextElements,
            mk.li({},
                mk.b({}, "URL: "),
                mk.a({ href: url, class: "ref" }, url),
            ),
            mk.li({},
                mk.b({}, "Type: "),
                mk.span({}, `${ref.type}`),
            ),
            mk.li({},
                mk.b({}, "Spec: "),
                mk.span({}, `${ref.spec ? ref.spec : ''}`),
            ),
            forListElements
        ),
    );
    hintPanel.forLink = link;
    setupRefHintEventListeners(link, hintPanel);
    return hintPanel;
}

function hideAllRefHints() {
    queryAll(".ref-hint").forEach(el=>hideRefHint(el));
}

function hideRefHint(refHint) {
    const link = refHint.forLink;
    link.setAttribute("aria-expanded", "false");
    if(refHint.teardownEventListeners) {
        refHint.teardownEventListeners();
    }
    refHint.remove();
}

function showRefHint(link) {
    if(link.classList.contains("dfn-link")) return;
    const url = link.getAttribute("href");
    const ref = refsData[url];
    if(!ref) return;

    hideAllRefHints(); // Only display one at this time.

    const refHint = mkRefHint(link, ref);
    append(document.body, refHint);
    link.setAttribute("aria-expanded", "true");
    positionRefHint(refHint);
}

function setupRefHintEventListeners(link, refHint) {
    if (refHint.teardownEventListeners) return;
    // Add event handlers to hide the refHint after the user moves away
    // from both the link and refHint, if not hovering either within one second.
    let timeout = null;
    const startHidingRefHint = (event) => {
        if (timeout) {
            clearTimeout(timeout);
        }
        timeout = setTimeout(() => {
            hideRefHint(refHint);
        }, 1000);
    }
    const resetHidingRefHint = (event) => {
        if (timeout) clearTimeout(timeout);
        timeout = null;
    };
    link.addEventListener("mouseleave", startHidingRefHint);
    link.addEventListener("mouseenter", resetHidingRefHint);
    link.addEventListener("blur", startHidingRefHint);
    link.addEventListener("focus", resetHidingRefHint);
    refHint.addEventListener("mouseleave", startHidingRefHint);
    refHint.addEventListener("mouseenter", resetHidingRefHint);
    refHint.addEventListener("blur", startHidingRefHint);
    refHint.addEventListener("focus", resetHidingRefHint);

    refHint.teardownEventListeners = () => {
        // remove event listeners
        resetHidingRefHint();
        link.removeEventListener("mouseleave", startHidingRefHint);
        link.removeEventListener("mouseenter", resetHidingRefHint);
        link.removeEventListener("blur", startHidingRefHint);
        link.removeEventListener("focus", resetHidingRefHint);
        refHint.removeEventListener("mouseleave", startHidingRefHint);
        refHint.removeEventListener("mouseenter", resetHidingRefHint);
        refHint.removeEventListener("blur", startHidingRefHint);
        refHint.removeEventListener("focus", resetHidingRefHint);
    };
}

function positionRefHint(refHint) {
    const link = refHint.forLink;
    const linkPos = getBounds(link);
    refHint.style.top = linkPos.bottom + "px";
    refHint.style.left = linkPos.left + "px";

    const panelPos = refHint.getBoundingClientRect();
    const panelMargin = 8;
    const maxRight = document.body.parentNode.clientWidth - panelMargin;
    if (panelPos.right > maxRight) {
        const overflowAmount = panelPos.right - maxRight;
        const newLeft = Math.max(panelMargin, linkPos.left - overflowAmount);
        refHint.style.left = newLeft + "px";
    }
}

// TODO: shared util
// Returns the root-level absolute position {left and top} of element.
function getBounds(el, relativeTo=document.body) {
    const relativeRect = relativeTo.getBoundingClientRect();
    const elRect = el.getBoundingClientRect();
    const top = elRect.top - relativeRect.top;
    const left = elRect.left - relativeRect.left;
    return {
        top,
        left,
        bottom: top + elRect.height,
        right: left + elRect.width,
    }
}

function showRefHintListener(e) {
    // If the target isn't in a link (or is a link),
    // just ignore it.
    let link = e.target.closest("a");
    if(!link) return;

    // If the target is in a ref-hint panel
    // (aka a link in the already-open one),
    // also just ignore it.
    if(link.closest(".ref-hint")) return;

    // Otherwise, show the panel for the link.
    showRefHint(link);
}

function hideAllHintsListener(e) {
    // If the click is inside a ref-hint panel, ignore it.
    if(e.target.closest(".ref-hint")) return;
    // Otherwise, close all the current panels.
    hideAllRefHints();
}

document.addEventListener("DOMContentLoaded", () => {
    document.body.addEventListener("mousedown", showRefHintListener);
    document.body.addEventListener("focus", showRefHintListener);

    document.body.addEventListener("click", hideAllHintsListener);
});

window.addEventListener("resize", () => {
    // Hide any open ref hint.
    hideAllRefHints();
});
}
</script>
<script>/* Boilerplate: script-var-click-highlighting */
"use strict";
{
/*
Color-choosing design:

* Colors are ordered by goodness.
* On clicking a var, give it the earliest color
    with the lowest usage in the algorithm.
* On re-clicking, re-use the var's most recent color
    if that's not currently being used elsewhere.
*/

const COLOR_COUNT = 7;

document.addEventListener("click", e=>{
    if(e.target.nodeName == "VAR") {
        highlightSameAlgoVars(e.target);
    }
});

function highlightSameAlgoVars(v) {
    // Find the algorithm container.
    let algoContainer = findAlgoContainer(v);

    // Not highlighting document-global vars,
    // too likely to be unrelated.
    if(algoContainer == null) return;

    const varName = nameFromVar(v);
    if(!v.hasAttribute("data-var-color")) {
        const newColor = chooseHighlightColor(algoContainer, v);
        for(const el of algoContainer.querySelectorAll("var")) {
            if(nameFromVar(el) == varName) {
                el.setAttribute("data-var-color", newColor);
                el.setAttribute("data-var-last-color", newColor);
            }
        }
    } else {
        for(const el of algoContainer.querySelectorAll("var")) {
            if(nameFromVar(el) == varName) {
                el.removeAttribute("data-var-color");
            }
        }
    }
}
function findAlgoContainer(el) {
    while(el != document.body) {
        if(el.hasAttribute("data-algorithm")) return el;
        el = el.parentNode;
    }
    return null;
}
function nameFromVar(el) {
    return el.textContent.replace(/(\s|\xa0)+/g, " ").trim();
}
function colorCountsFromContainer(container) {
    const namesFromColor = Array.from({length:COLOR_COUNT}, x=>new Set());
    for(let v of container.querySelectorAll("var[data-var-color]")) {
        let color = +v.getAttribute("data-var-color");
        namesFromColor[color].add(nameFromVar(v));
    }

    return namesFromColor.map(x=>x.size);
}
function leastUsedColor(colors) {
    // Find the earliest color with the lowest count.
    let minCount = Infinity;
    let minColor = null;
    for(var i = 0; i < colors.length; i++) {
        if(colors[i] < minCount) {
            minColor = i;
            minCount = colors[i];
        }
    }
    return minColor;
}
function chooseHighlightColor(container, v) {
    const colorCounts = colorCountsFromContainer(container);
    if(v.hasAttribute("data-var-last-color")) {
        let color = +v.getAttribute("data-var-last-color");
        if(colorCounts[color] == 0) return color;
    }
    return leastUsedColor(colorCounts);
}
}
</script>