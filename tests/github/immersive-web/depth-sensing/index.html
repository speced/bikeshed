<!doctype html><html lang="en">
 <head>
  <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
  <meta content="width=device-width, initial-scale=1, shrink-to-fit=no" name="viewport">
  <title>WebXR Depth Sensing Module</title>
  <meta content="CG-DRAFT" name="w3c-status">
  <link href="https://www.w3.org/StyleSheets/TR/2016/cg-draft" rel="stylesheet">
  <link href="https://www.w3.org/2008/site/images/favicon.ico" rel="icon">
  <link href="https://immersive-web.github.io/depth-sensing/" rel="canonical">
<style>
  .non-normative::before {
    content: "This section is non-normative.";
    font-style: italic;
  }
  .tg {
    border-collapse: collapse;
    border-spacing: 0;
  }
  .tg th {
    border-style: solid;
    border-width: 1px;
    background: #90b8de;
    color: #fff;
    font-family: sans-serif;
    font-weight: bold;
    border-color: grey;
  }
  .tg td {
    padding: 4px 5px;
    background-color: rgb(221, 238, 255);
    font-family: monospace;
    border-style: solid;
    border-width: 1px;
    border-color: grey;
    overflow: hidden;
    word-break: normal;
  }
  .unstable::before {
    content: "This section is not stable";
    display: block;
    font-weight: bold;
    text-align: right;
    color: red;
  }
  .unstable {
    border: thin solid pink;
    border-radius: .5em;
    padding: .5em;
    margin: .5em calc(-0.5em - 1px);
    background-image: url("data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' width='300' height='290'><text transform='rotate(-45)' text-anchor='middle' font-family='sans-serif' font-weight='bold' font-size='70' y='210' opacity='.1'>Unstable</text></svg>");
    background-repeat: repeat;
    background-color: #FFF4F4;
  }
  .unstable h3:first-of-type {
    margin-top: 0.5rem;
  }
  .unstable.example:not(.no-marker)::before {
    content: "Example " counter(example) " (Unstable)";
    float: none;
  }
</style>
<style>/* style-autolinks */

.css.css, .property.property, .descriptor.descriptor {
    color: var(--a-normal-text);
    font-size: inherit;
    font-family: inherit;
}
.css::before, .property::before, .descriptor::before {
    content: "‘";
}
.css::after, .property::after, .descriptor::after {
    content: "’";
}
.property, .descriptor {
    /* Don't wrap property and descriptor names */
    white-space: nowrap;
}
.type { /* CSS value <type> */
    font-style: italic;
}
pre .property::before, pre .property::after {
    content: "";
}
[data-link-type="property"]::before,
[data-link-type="propdesc"]::before,
[data-link-type="descriptor"]::before,
[data-link-type="value"]::before,
[data-link-type="function"]::before,
[data-link-type="at-rule"]::before,
[data-link-type="selector"]::before,
[data-link-type="maybe"]::before {
    content: "‘";
}
[data-link-type="property"]::after,
[data-link-type="propdesc"]::after,
[data-link-type="descriptor"]::after,
[data-link-type="value"]::after,
[data-link-type="function"]::after,
[data-link-type="at-rule"]::after,
[data-link-type="selector"]::after,
[data-link-type="maybe"]::after {
    content: "’";
}

[data-link-type].production::before,
[data-link-type].production::after,
.prod [data-link-type]::before,
.prod [data-link-type]::after {
    content: "";
}

[data-link-type=element],
[data-link-type=element-attr] {
    font-family: Menlo, Consolas, "DejaVu Sans Mono", monospace;
    font-size: .9em;
}
[data-link-type=element]::before { content: "<" }
[data-link-type=element]::after  { content: ">" }

[data-link-type=biblio] {
    white-space: pre;
}</style>
<style>/* style-colors */

/* Any --*-text not paired with a --*-bg is assumed to have a transparent bg */
:root {
    color-scheme: light dark;

    --text: black;
    --bg: white;

    --unofficial-watermark: url(https://www.w3.org/StyleSheets/TR/2016/logos/UD-watermark);

    --logo-bg: #1a5e9a;
    --logo-active-bg: #c00;
    --logo-text: white;

    --tocnav-normal-text: #707070;
    --tocnav-normal-bg: var(--bg);
    --tocnav-hover-text: var(--tocnav-normal-text);
    --tocnav-hover-bg: #f8f8f8;
    --tocnav-active-text: #c00;
    --tocnav-active-bg: var(--tocnav-normal-bg);

    --tocsidebar-text: var(--text);
    --tocsidebar-bg: #f7f8f9;
    --tocsidebar-shadow: rgba(0,0,0,.1);
    --tocsidebar-heading-text: hsla(203,20%,40%,.7);

    --toclink-text: var(--text);
    --toclink-underline: #3980b5;
    --toclink-visited-text: var(--toclink-text);
    --toclink-visited-underline: #054572;

    --heading-text: #005a9c;

    --hr-text: var(--text);

    --algo-border: #def;

    --del-text: red;
    --del-bg: transparent;
    --ins-text: #080;
    --ins-bg: transparent;

    --a-normal-text: #034575;
    --a-normal-underline: #707070;
    --a-visited-text: var(--a-normal-text);
    --a-visited-underline: #bbb;
    --a-hover-bg: rgba(75%, 75%, 75%, .25);
    --a-active-text: #c00;
    --a-active-underline: #c00;

    --blockquote-border: silver;
    --blockquote-bg: transparent;
    --blockquote-text: currentcolor;

    --issue-border: #e05252;
    --issue-bg: #fbe9e9;
    --issue-text: var(--text);
    --issueheading-text: #831616;

    --example-border: #e0cb52;
    --example-bg: #fcfaee;
    --example-text: var(--text);
    --exampleheading-text: #574b0f;

    --note-border: #52e052;
    --note-bg: #e9fbe9;
    --note-text: var(--text);
    --noteheading-text: hsl(120, 70%, 30%);
    --notesummary-underline: silver;

    --assertion-border: #aaa;
    --assertion-bg: #eee;
    --assertion-text: black;

    --advisement-border: orange;
    --advisement-bg: #fec;
    --advisement-text: var(--text);
    --advisementheading-text: #b35f00;

    --warning-border: red;
    --warning-bg: hsla(40,100%,50%,0.95);
    --warning-text: var(--text);

    --amendment-border: #330099;
    --amendment-bg: #F5F0FF;
    --amendment-text: var(--text);
    --amendmentheading-text: #220066;

    --def-border: #8ccbf2;
    --def-bg: #def;
    --def-text: var(--text);
    --defrow-border: #bbd7e9;

    --datacell-border: silver;

    --indexinfo-text: #707070;

    --indextable-hover-text: black;
    --indextable-hover-bg: #f7f8f9;

    --outdatedspec-bg: rgba(0, 0, 0, .5);
    --outdatedspec-text: black;
    --outdated-bg: maroon;
    --outdated-text: white;
    --outdated-shadow: red;

    --editedrec-bg: darkorange;
}</style>
<style>/* style-counters */

body {
    counter-reset: example figure issue;
}
.issue {
    counter-increment: issue;
}
.issue:not(.no-marker)::before {
    content: "Issue " counter(issue);
}

.example {
    counter-increment: example;
}
.example:not(.no-marker)::before {
    content: "Example " counter(example);
}
.invalid.example:not(.no-marker)::before,
.illegal.example:not(.no-marker)::before {
    content: "Invalid Example" counter(example);
}

figcaption {
    counter-increment: figure;
}
figcaption:not(.no-marker)::before {
    content: "Figure " counter(figure) " ";
}</style>
<style>/* style-dfn-panel */

:root {
    --dfnpanel-bg: #ddd;
    --dfnpanel-text: var(--text);
}
.dfn-panel {
    position: absolute;
    z-index: 35;
    height: auto;
    width: -webkit-fit-content;
    width: fit-content;
    max-width: 300px;
    max-height: 500px;
    overflow: auto;
    padding: 0.5em 0.75em;
    font: small Helvetica Neue, sans-serif, Droid Sans Fallback;
    background: var(--dfnpanel-bg);
    color: var(--dfnpanel-text);
    border: outset 0.2em;
}
.dfn-panel:not(.on) { display: none; }
.dfn-panel * { margin: 0; padding: 0; text-indent: 0; }
.dfn-panel > b { display: block; }
.dfn-panel a { color: var(--dfnpanel-text); }
.dfn-panel a:not(:hover) { text-decoration: none !important; border-bottom: none !important; }
.dfn-panel > b + b { margin-top: 0.25em; }
.dfn-panel ul { padding: 0; }
.dfn-panel li { list-style: inside; }
.dfn-panel.activated {
    display: inline-block;
    position: fixed;
    left: .5em;
    bottom: 2em;
    margin: 0 auto;
    max-width: calc(100vw - 1.5em - .4em - .5em);
    max-height: 30vh;
}

.dfn-paneled { cursor: pointer; }
</style>
<style>/* style-md-lists */

/* This is a weird hack for me not yet following the commonmark spec
   regarding paragraph and lists. */
[data-md] > :first-child {
    margin-top: 0;
}
[data-md] > :last-child {
    margin-bottom: 0;
}</style>
<style>/* style-selflinks */

:root {
    --selflink-text: white;
    --selflink-bg: gray;
    --selflink-hover-text: black;
}
.heading, .issue, .note, .example, li, dt {
    position: relative;
}
a.self-link {
    position: absolute;
    top: 0;
    left: calc(-1 * (3.5rem - 26px));
    width: calc(3.5rem - 26px);
    height: 2em;
    text-align: center;
    border: none;
    transition: opacity .2s;
    opacity: .5;
}
a.self-link:hover {
    opacity: 1;
}
.heading > a.self-link {
    font-size: 83%;
}
li > a.self-link {
    left: calc(-1 * (3.5rem - 26px) - 2em);
}
dfn > a.self-link {
    top: auto;
    left: auto;
    opacity: 0;
    width: 1.5em;
    height: 1.5em;
    background: var(--selflink-bg);
    color: var(--selflink-text);
    font-style: normal;
    transition: opacity .2s, background-color .2s, color .2s;
}
dfn:hover > a.self-link {
    opacity: 1;
}
dfn > a.self-link:hover {
    color: var(--selflink-hover-text);
}

a.self-link::before            { content: "¶"; }
.heading > a.self-link::before { content: "§"; }
dfn > a.self-link::before      { content: "#"; }
</style>
<style>/* style-syntax-highlighting */

            pre.idl.highlight {
                background: var(--borderedblock-bg, var(--def-bg));
            }
            
code.highlight { padding: .1em; border-radius: .3em; }
pre.highlight, pre > code.highlight { display: block; padding: 1em; margin: .5em 0; overflow: auto; border-radius: 0; }

.highlight:not(.idl) { background: rgba(0, 0, 0, .03); }
c-[a] { color: #990055 } /* Keyword.Declaration */
c-[b] { color: #990055 } /* Keyword.Type */
c-[c] { color: #708090 } /* Comment */
c-[d] { color: #708090 } /* Comment.Multiline */
c-[e] { color: #0077aa } /* Name.Attribute */
c-[f] { color: #669900 } /* Name.Tag */
c-[g] { color: #222222 } /* Name.Variable */
c-[k] { color: #990055 } /* Keyword */
c-[l] { color: #000000 } /* Literal */
c-[m] { color: #000000 } /* Literal.Number */
c-[n] { color: #0077aa } /* Name */
c-[o] { color: #999999 } /* Operator */
c-[p] { color: #999999 } /* Punctuation */
c-[s] { color: #a67f59 } /* Literal.String */
c-[t] { color: #a67f59 } /* Literal.String.Single */
c-[u] { color: #a67f59 } /* Literal.String.Double */
c-[cp] { color: #708090 } /* Comment.Preproc */
c-[c1] { color: #708090 } /* Comment.Single */
c-[cs] { color: #708090 } /* Comment.Special */
c-[kc] { color: #990055 } /* Keyword.Constant */
c-[kn] { color: #990055 } /* Keyword.Namespace */
c-[kp] { color: #990055 } /* Keyword.Pseudo */
c-[kr] { color: #990055 } /* Keyword.Reserved */
c-[ld] { color: #000000 } /* Literal.Date */
c-[nc] { color: #0077aa } /* Name.Class */
c-[no] { color: #0077aa } /* Name.Constant */
c-[nd] { color: #0077aa } /* Name.Decorator */
c-[ni] { color: #0077aa } /* Name.Entity */
c-[ne] { color: #0077aa } /* Name.Exception */
c-[nf] { color: #0077aa } /* Name.Function */
c-[nl] { color: #0077aa } /* Name.Label */
c-[nn] { color: #0077aa } /* Name.Namespace */
c-[py] { color: #0077aa } /* Name.Property */
c-[ow] { color: #999999 } /* Operator.Word */
c-[mb] { color: #000000 } /* Literal.Number.Bin */
c-[mf] { color: #000000 } /* Literal.Number.Float */
c-[mh] { color: #000000 } /* Literal.Number.Hex */
c-[mi] { color: #000000 } /* Literal.Number.Integer */
c-[mo] { color: #000000 } /* Literal.Number.Oct */
c-[sb] { color: #a67f59 } /* Literal.String.Backtick */
c-[sc] { color: #a67f59 } /* Literal.String.Char */
c-[sd] { color: #a67f59 } /* Literal.String.Doc */
c-[se] { color: #a67f59 } /* Literal.String.Escape */
c-[sh] { color: #a67f59 } /* Literal.String.Heredoc */
c-[si] { color: #a67f59 } /* Literal.String.Interpol */
c-[sx] { color: #a67f59 } /* Literal.String.Other */
c-[sr] { color: #a67f59 } /* Literal.String.Regex */
c-[ss] { color: #a67f59 } /* Literal.String.Symbol */
c-[vc] { color: #0077aa } /* Name.Variable.Class */
c-[vg] { color: #0077aa } /* Name.Variable.Global */
c-[vi] { color: #0077aa } /* Name.Variable.Instance */
c-[il] { color: #000000 } /* Literal.Number.Integer.Long */
</style>
<style>/* style-var-click-highlighting */

    var { cursor: pointer; }
    var.selected0 { background-color: #F4D200; box-shadow: 0 0 0 2px #F4D200; }
    var.selected1 { background-color: #FF87A2; box-shadow: 0 0 0 2px #FF87A2; }
    var.selected2 { background-color: #96E885; box-shadow: 0 0 0 2px #96E885; }
    var.selected3 { background-color: #3EEED2; box-shadow: 0 0 0 2px #3EEED2; }
    var.selected4 { background-color: #EACFB6; box-shadow: 0 0 0 2px #EACFB6; }
    var.selected5 { background-color: #82DDFF; box-shadow: 0 0 0 2px #82DDFF; }
    var.selected6 { background-color: #FFBCF2; box-shadow: 0 0 0 2px #FFBCF2; }
    </style>
<style>/* style-darkmode */

@media (prefers-color-scheme: dark) {
    :root {
        --text: #ddd;
        --bg: black;

        --unofficial-watermark: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='400' height='400'%3E%3Cg fill='%23100808' transform='translate(200 200) rotate(-45) translate(-200 -200)' stroke='%23100808' stroke-width='3'%3E%3Ctext x='50%25' y='220' style='font: bold 70px sans-serif; text-anchor: middle; letter-spacing: 6px;'%3EUNOFFICIAL%3C/text%3E%3Ctext x='50%25' y='305' style='font: bold 70px sans-serif; text-anchor: middle; letter-spacing: 6px;'%3EDRAFT%3C/text%3E%3C/g%3E%3C/svg%3E");

        --logo-bg: #1a5e9a;
        --logo-active-bg: #c00;
        --logo-text: white;

        --tocnav-normal-text: #999;
        --tocnav-normal-bg: var(--bg);
        --tocnav-hover-text: var(--tocnav-normal-text);
        --tocnav-hover-bg: #080808;
        --tocnav-active-text: #f44;
        --tocnav-active-bg: var(--tocnav-normal-bg);

        --tocsidebar-text: var(--text);
        --tocsidebar-bg: #080808;
        --tocsidebar-shadow: rgba(255,255,255,.1);
        --tocsidebar-heading-text: hsla(203,20%,40%,.7);

        --toclink-text: var(--text);
        --toclink-underline: #6af;
        --toclink-visited-text: var(--toclink-text);
        --toclink-visited-underline: #054572;

        --heading-text: #8af;

        --hr-text: var(--text);

        --algo-border: #456;

        --del-text: #f44;
        --del-bg: transparent;
        --ins-text: #4a4;
        --ins-bg: transparent;

        --a-normal-text: #6af;
        --a-normal-underline: #555;
        --a-visited-text: var(--a-normal-text);
        --a-visited-underline: var(--a-normal-underline);
        --a-hover-bg: rgba(25%, 25%, 25%, .2);
        --a-active-text: #f44;
        --a-active-underline: var(--a-active-text);

        --borderedblock-bg: rgba(255, 255, 255, .05);

        --blockquote-border: silver;
        --blockquote-bg: var(--borderedblock-bg);
        --blockquote-text: currentcolor;

        --issue-border: #e05252;
        --issue-bg: var(--borderedblock-bg);
        --issue-text: var(--text);
        --issueheading-text: hsl(0deg, 70%, 70%);

        --example-border: hsl(50deg, 90%, 60%);
        --example-bg: var(--borderedblock-bg);
        --example-text: var(--text);
        --exampleheading-text: hsl(50deg, 70%, 70%);

        --note-border: hsl(120deg, 100%, 35%);
        --note-bg: var(--borderedblock-bg);
        --note-text: var(--text);
        --noteheading-text: hsl(120, 70%, 70%);
        --notesummary-underline: silver;

        --assertion-border: #444;
        --assertion-bg: var(--borderedblock-bg);
        --assertion-text: var(--text);

        --advisement-border: orange;
        --advisement-bg: #222218;
        --advisement-text: var(--text);
        --advisementheading-text: #f84;

        --warning-border: red;
        --warning-bg: hsla(40,100%,20%,0.95);
        --warning-text: var(--text);

        --amendment-border: #330099;
        --amendment-bg: #080010;
        --amendment-text: var(--text);
        --amendmentheading-text: #cc00ff;

        --def-border: #8ccbf2;
        --def-bg: #080818;
        --def-text: var(--text);
        --defrow-border: #136;

        --datacell-border: silver;

        --indexinfo-text: #aaa;

        --indextable-hover-text: var(--text);
        --indextable-hover-bg: #181818;

        --outdatedspec-bg: rgba(255, 255, 255, .5);
        --outdatedspec-text: black;
        --outdated-bg: maroon;
        --outdated-text: white;
        --outdated-shadow: red;

        --editedrec-bg: darkorange;
    }
    /* In case a transparent-bg image doesn't expect to be on a dark bg,
       which is quite common in practice... */
    img { background: white; }
}
@media (prefers-color-scheme: dark) {
    :root {
        --selflink-text: black;
        --selflink-bg: silver;
        --selflink-hover-text: white;
    }
}

@media (prefers-color-scheme: dark) {
    :root {
        --dfnpanel-bg: #222;
        --dfnpanel-text: var(--text);
    }
}
@media (prefers-color-scheme: dark) {
    .highlight:not(.idl) { background: rgba(255, 255, 255, .05); }

    c-[a] { color: #d33682 } /* Keyword.Declaration */
    c-[b] { color: #d33682 } /* Keyword.Type */
    c-[c] { color: #2aa198 } /* Comment */
    c-[d] { color: #2aa198 } /* Comment.Multiline */
    c-[e] { color: #268bd2 } /* Name.Attribute */
    c-[f] { color: #b58900 } /* Name.Tag */
    c-[g] { color: #cb4b16 } /* Name.Variable */
    c-[k] { color: #d33682 } /* Keyword */
    c-[l] { color: #657b83 } /* Literal */
    c-[m] { color: #657b83 } /* Literal.Number */
    c-[n] { color: #268bd2 } /* Name */
    c-[o] { color: #657b83 } /* Operator */
    c-[p] { color: #657b83 } /* Punctuation */
    c-[s] { color: #6c71c4 } /* Literal.String */
    c-[t] { color: #6c71c4 } /* Literal.String.Single */
    c-[u] { color: #6c71c4 } /* Literal.String.Double */
    c-[ch] { color: #2aa198 } /* Comment.Hashbang */
    c-[cp] { color: #2aa198 } /* Comment.Preproc */
    c-[cpf] { color: #2aa198 } /* Comment.PreprocFile */
    c-[c1] { color: #2aa198 } /* Comment.Single */
    c-[cs] { color: #2aa198 } /* Comment.Special */
    c-[kc] { color: #d33682 } /* Keyword.Constant */
    c-[kn] { color: #d33682 } /* Keyword.Namespace */
    c-[kp] { color: #d33682 } /* Keyword.Pseudo */
    c-[kr] { color: #d33682 } /* Keyword.Reserved */
    c-[ld] { color: #657b83 } /* Literal.Date */
    c-[nc] { color: #268bd2 } /* Name.Class */
    c-[no] { color: #268bd2 } /* Name.Constant */
    c-[nd] { color: #268bd2 } /* Name.Decorator */
    c-[ni] { color: #268bd2 } /* Name.Entity */
    c-[ne] { color: #268bd2 } /* Name.Exception */
    c-[nf] { color: #268bd2 } /* Name.Function */
    c-[nl] { color: #268bd2 } /* Name.Label */
    c-[nn] { color: #268bd2 } /* Name.Namespace */
    c-[py] { color: #268bd2 } /* Name.Property */
    c-[ow] { color: #657b83 } /* Operator.Word */
    c-[mb] { color: #657b83 } /* Literal.Number.Bin */
    c-[mf] { color: #657b83 } /* Literal.Number.Float */
    c-[mh] { color: #657b83 } /* Literal.Number.Hex */
    c-[mi] { color: #657b83 } /* Literal.Number.Integer */
    c-[mo] { color: #657b83 } /* Literal.Number.Oct */
    c-[sa] { color: #6c71c4 } /* Literal.String.Affix */
    c-[sb] { color: #6c71c4 } /* Literal.String.Backtick */
    c-[sc] { color: #6c71c4 } /* Literal.String.Char */
    c-[dl] { color: #6c71c4 } /* Literal.String.Delimiter */
    c-[sd] { color: #6c71c4 } /* Literal.String.Doc */
    c-[se] { color: #6c71c4 } /* Literal.String.Escape */
    c-[sh] { color: #6c71c4 } /* Literal.String.Heredoc */
    c-[si] { color: #6c71c4 } /* Literal.String.Interpol */
    c-[sx] { color: #6c71c4 } /* Literal.String.Other */
    c-[sr] { color: #6c71c4 } /* Literal.String.Regex */
    c-[ss] { color: #6c71c4 } /* Literal.String.Symbol */
    c-[fm] { color: #268bd2 } /* Name.Function.Magic */
    c-[vc] { color: #cb4b16 } /* Name.Variable.Class */
    c-[vg] { color: #cb4b16 } /* Name.Variable.Global */
    c-[vi] { color: #cb4b16 } /* Name.Variable.Instance */
    c-[vm] { color: #cb4b16 } /* Name.Variable.Magic */
    c-[il] { color: #657b83 } /* Literal.Number.Integer.Long */
}
</style>
 <body class="h-entry">
  <div class="head">
   <p data-fill-with="logo"><a class="logo" href="https://www.w3.org/"> <img alt="W3C" height="48" src="https://www.w3.org/StyleSheets/TR/2016/logos/W3C" width="72"> </a> </p>
   <h1 class="p-name no-ref" id="title">WebXR Depth Sensing Module</h1>
   <h2 class="no-num no-toc no-ref heading settled" id="subtitle"><span class="content">Draft Community Group Report, <time class="dt-updated" datetime="1970-01-01">1 January 1970</time></span></h2>
   <div data-fill-with="spec-metadata">
    <dl>
     <dt>This version:
     <dd><a class="u-url" href="https://immersive-web.github.io/depth-sensing/">https://immersive-web.github.io/depth-sensing/</a>
     <dt class="editor">Editor:
     <dd class="editor p-author h-card vcard" data-editor-id="114482"><a class="p-name fn u-email email" href="mailto:bialpio@google.com">Piotr Bialecki</a> (<a class="p-org org" href="http://google.com/">Google</a>)
     <dt>Participate:
     <dd><a href="https://github.com/immersive-web/depth-sensing/issues/new">File an issue</a> (<a href="https://github.com/immersive-web/depth-sensing/issues">open issues</a>)
     <dd><a href="https://lists.w3.org/Archives/Public/public-immersive-web/">Mailing list archive</a>
     <dd><a href="irc://irc.w3.org:6665/">W3C’s #immersive-web IRC</a>
    </dl>
   </div>
   <div data-fill-with="warning"></div>
   <p class="copyright" data-fill-with="copyright"><a href="https://www.w3.org/Consortium/Legal/ipr-notice#Copyright">Copyright</a> © 1970 <a href="https://www.w3.org/"><abbr title="World Wide Web Consortium">W3C</abbr></a><sup>®</sup> (<a href="https://www.csail.mit.edu/"><abbr title="Massachusetts Institute of Technology">MIT</abbr></a>, <a href="https://www.ercim.eu/"><abbr title="European Research Consortium for Informatics and Mathematics">ERCIM</abbr></a>, <a href="https://www.keio.ac.jp/">Keio</a>, <a href="https://ev.buaa.edu.cn/">Beihang</a>). W3C <a href="http://www.w3.org/Consortium/Legal/ipr-notice#Legal_Disclaimer">liability</a>, <a href="https://www.w3.org/Consortium/Legal/ipr-notice#W3C_Trademarks">trademark</a> and <a href="https://www.w3.org/Consortium/Legal/2015/copyright-software-and-document" rel="license">permissive document license</a> rules apply. </p>
   <hr title="Separator for header">
  </div>
  <div class="p-summary" data-fill-with="abstract">
   <h2 class="no-num no-toc no-ref heading settled" id="abstract"><span class="content">Abstract</span></h2>
   <p>Depth Sensing API is a module extending the capabilities of WebXR Device API. It enables apps to obtain depth information computed by supported XR devices in order to provide more immersive experiences. The example use cases of depth sensing API include (but are not limited to) simulating physical interactions of virtual objects with the users' environment, and occlusion.</p>
  </div>
  <h2 class="no-num no-toc no-ref heading settled" id="sotd"><span class="content">Status of this document</span></h2>
  <div data-fill-with="status">
   <p></p>
  </div>
  <div data-fill-with="at-risk"></div>
  <nav data-fill-with="table-of-contents" id="toc">
   <h2 class="no-num no-toc no-ref" id="contents">Table of Contents</h2>
   <ol class="toc" role="directory">
    <li>
     <a href="#intro"><span class="secno">1</span> <span class="content">Introduction</span></a>
     <ol class="toc">
      <li><a href="#terminology"><span class="secno">1.1</span> <span class="content">Terminology</span></a>
     </ol>
    <li>
     <a href="#initialization"><span class="secno">2</span> <span class="content">Initialization</span></a>
     <ol class="toc">
      <li><a href="#feature-descriptor"><span class="secno">2.1</span> <span class="content">Feature descriptor</span></a>
     </ol>
    <li>
     <a href="#obtaining-data"><span class="secno">3</span> <span class="content">Obtaining depth data</span></a>
     <ol class="toc">
      <li><a href="#xr-depth-info-section"><span class="secno">3.1</span> <span class="content">XRDepthInformation</span></a>
     </ol>
    <li><a href="#results-interpretation"><span class="secno">4</span> <span class="content">Interpreting the results</span></a>
    <li><a href="#native-device-concepts"><span class="secno">5</span> <span class="content">Native device concepts</span></a>
    <li><a href="#privacy-security"><span class="secno">6</span> <span class="content">Privacy &amp; Security Considerations</span></a>
    <li><a href="#ack"><span class="secno">7</span> <span class="content">Acknowledgements</span></a>
    <li>
     <a href="#w3c-conformance"><span class="secno"></span> <span class="content">Conformance</span></a>
     <ol class="toc">
      <li><a href="#w3c-conventions"><span class="secno"></span> <span class="content">Document conventions</span></a>
      <li><a href="#w3c-conformant-algorithms"><span class="secno"></span> <span class="content">Conformant Algorithms</span></a>
     </ol>
    <li>
     <a href="#index"><span class="secno"></span> <span class="content">Index</span></a>
     <ol class="toc">
      <li><a href="#index-defined-here"><span class="secno"></span> <span class="content">Terms defined by this specification</span></a>
      <li><a href="#index-defined-elsewhere"><span class="secno"></span> <span class="content">Terms defined by reference</span></a>
     </ol>
    <li>
     <a href="#references"><span class="secno"></span> <span class="content">References</span></a>
     <ol class="toc">
      <li><a href="#normative"><span class="secno"></span> <span class="content">Normative References</span></a>
     </ol>
    <li><a href="#idl-index"><span class="secno"></span> <span class="content">IDL Index</span></a>
    <li><a href="#issues-index"><span class="secno"></span> <span class="content">Issues Index</span></a>
   </ol>
  </nav>
  <main>
   <h2 class="heading settled" data-level="1" id="intro"><span class="secno">1. </span><span class="content">Introduction</span><a class="self-link" href="#intro"></a></h2>
   <section class="non-normative">
    <p>As Augmented Reality becomes more prevalent, new features are being introduced by the native APIs that enable accessing more detailed information about the environment in which the user is located. Depth Sensing API brings one such capability to WebXR Device API, allowing authors of WebXR-powered experiences to obtain information about the distance from the user’s device to the real world geometry in the user’s environment.</p>
   </section>
   <h3 class="heading settled" data-level="1.1" id="terminology"><span class="secno">1.1. </span><span class="content">Terminology</span><a class="self-link" href="#terminology"></a></h3>
   <h2 class="heading settled" data-level="2" id="initialization"><span class="secno">2. </span><span class="content">Initialization</span><a class="self-link" href="#initialization"></a></h2>
   <h3 class="heading settled" data-level="2.1" id="feature-descriptor"><span class="secno">2.1. </span><span class="content">Feature descriptor</span><a class="self-link" href="#feature-descriptor"></a></h3>
   <p>The applications can request that depth sensing be enabled on an XRSession by passing an appropriate <a data-link-type="dfn" href="https://www.w3.org/TR/webxr/#feature-descriptor" id="ref-for-feature-descriptor">feature descriptor</a>. This module introduces new string - <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="depth-sensing">depth-sensing</dfn>, as a new valid feature descriptor for depth sensing feature.</p>
   <p>A device is <a data-link-type="dfn" href="https://www.w3.org/TR/webxr/#capable-of-supporting" id="ref-for-capable-of-supporting">capable of supporting</a> the depth sensing feature if the device exposes <a data-link-type="dfn">native depth sensing</a> capability. The <a data-link-type="dfn" href="https://www.w3.org/TR/webxr/#inline-xr-device" id="ref-for-inline-xr-device">inline XR device</a> MUST NOT be treated as <a data-link-type="dfn" href="https://www.w3.org/TR/webxr/#capable-of-supporting" id="ref-for-capable-of-supporting①">capable of supporting</a> the depth sensing feature.</p>
   <p>The depth sensing feature is subject to <a data-link-type="dfn" href="https://www.w3.org/TR/webxr/#feature-policy" id="ref-for-feature-policy">feature policy</a> and requires <code>"xr-spatial-tracking"</code> policy to be allowed on the requesting document’s origin.</p>
   <h2 class="heading settled" data-level="3" id="obtaining-data"><span class="secno">3. </span><span class="content">Obtaining depth data</span><a class="self-link" href="#obtaining-data"></a></h2>
   <h3 class="heading settled" data-level="3.1" id="xr-depth-info-section"><span class="secno">3.1. </span><span class="content">XRDepthInformation</span><a class="self-link" href="#xr-depth-info-section"></a></h3>
<pre class="idl highlight def">[<a class="idl-code" data-link-type="extended-attribute" href="https://heycam.github.io/webidl/#SecureContext" id="ref-for-SecureContext"><c- g>SecureContext</c-></a>, <a class="idl-code" data-link-type="extended-attribute" href="https://heycam.github.io/webidl/#Exposed" id="ref-for-Exposed"><c- g>Exposed</c-></a>=<c- n>Window</c->]
<c- b>interface</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="interface" data-export id="xrdepthinformation"><code><c- g>XRDepthInformation</c-></code></dfn> {
  [<a class="idl-code" data-link-type="extended-attribute" href="https://heycam.github.io/webidl/#SameObject" id="ref-for-SameObject"><c- g>SameObject</c-></a>] <c- b>readonly</c-> <c- b>attribute</c-> <a class="idl-code" data-link-type="interface" href="https://heycam.github.io/webidl/#idl-Uint16Array" id="ref-for-idl-Uint16Array"><c- b>Uint16Array</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="XRDepthInformation" data-dfn-type="attribute" data-export data-readonly data-type="Uint16Array" id="dom-xrdepthinformation-data"><code><c- g>data</c-></code></dfn>;

  <c- b>readonly</c-> <c- b>attribute</c-> <a class="idl-code" data-link-type="interface" href="https://heycam.github.io/webidl/#idl-unsigned-long" id="ref-for-idl-unsigned-long"><c- b>unsigned</c-> <c- b>long</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="XRDepthInformation" data-dfn-type="attribute" data-export data-readonly data-type="unsigned long" id="dom-xrdepthinformation-width"><code><c- g>width</c-></code></dfn>;
  <c- b>readonly</c-> <c- b>attribute</c-> <a class="idl-code" data-link-type="interface" href="https://heycam.github.io/webidl/#idl-unsigned-long" id="ref-for-idl-unsigned-long①"><c- b>unsigned</c-> <c- b>long</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="XRDepthInformation" data-dfn-type="attribute" data-export data-readonly data-type="unsigned long" id="dom-xrdepthinformation-height"><code><c- g>height</c-></code></dfn>;

  [<a class="idl-code" data-link-type="extended-attribute" href="https://heycam.github.io/webidl/#SameObject" id="ref-for-SameObject①"><c- g>SameObject</c-></a>] <c- b>readonly</c-> <c- b>attribute</c-> <a data-link-type="idl-name" href="https://immersive-web.github.io/webxr/#xrrigidtransform" id="ref-for-xrrigidtransform"><c- n>XRRigidTransform</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="XRDepthInformation" data-dfn-type="attribute" data-export data-readonly data-type="XRRigidTransform" id="dom-xrdepthinformation-normtexturefromnormview"><code><c- g>normTextureFromNormView</c-></code></dfn>;

  <a class="idl-code" data-link-type="interface" href="https://heycam.github.io/webidl/#idl-float" id="ref-for-idl-float"><c- b>float</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="XRDepthInformation" data-dfn-type="method" data-export data-lt="getDepth(column, row)" id="dom-xrdepthinformation-getdepth"><code><c- g>getDepth</c-></code></dfn>(<a class="idl-code" data-link-type="interface" href="https://heycam.github.io/webidl/#idl-unsigned-long" id="ref-for-idl-unsigned-long②"><c- b>unsigned</c-> <c- b>long</c-></a> <dfn class="idl-code" data-dfn-for="XRDepthInformation/getDepth(column, row)" data-dfn-type="argument" data-export id="dom-xrdepthinformation-getdepth-column-row-column"><code><c- g>column</c-></code><a class="self-link" href="#dom-xrdepthinformation-getdepth-column-row-column"></a></dfn>, <a class="idl-code" data-link-type="interface" href="https://heycam.github.io/webidl/#idl-unsigned-long" id="ref-for-idl-unsigned-long③"><c- b>unsigned</c-> <c- b>long</c-></a> <dfn class="idl-code" data-dfn-for="XRDepthInformation/getDepth(column, row)" data-dfn-type="argument" data-export id="dom-xrdepthinformation-getdepth-column-row-row"><code><c- g>row</c-></code><a class="self-link" href="#dom-xrdepthinformation-getdepth-column-row-row"></a></dfn>);
};

</pre>
   <p>The <code class="idl"><a data-link-type="idl" href="#dom-xrdepthinformation-data" id="ref-for-dom-xrdepthinformation-data">data</a></code> attribute contains depth buffer information in raw format, suitable for uploading to a WebGL texture. The data is stored in column-major format, with each 2-byte entry containing unsigned integer corresponding to distance from the <a data-link-type="dfn" href="#xrdepthinformation-view" id="ref-for-xrdepthinformation-view">view</a>'s near plane, in millimeters.</p>
   <p class="issue" id="issue-ee6e7d97"><a class="self-link" href="#issue-ee6e7d97"></a> Accessing raw data could potentially need to have a way of knowing what is the underlying data type and how to convert from the numeric value to a value expressed in meters. This is to ensure that we do not force the implementers to convert the data they are able to obtain from the underlying XR devices. <a href="https://github.com/immersive-web/depth-sensing/issues/6">&lt;https://github.com/immersive-web/depth-sensing/issues/6></a></p>
   <p class="note" role="note"><span>Note:</span> Applications SHOULD NOT attempt to change the contents of <code class="idl"><a data-link-type="idl" href="#dom-xrdepthinformation-data" id="ref-for-dom-xrdepthinformation-data①">data</a></code> array as this can lead to incorrect results returned by the <code class="idl"><a data-link-type="idl" href="#dom-xrdepthinformation-getdepth" id="ref-for-dom-xrdepthinformation-getdepth">getDepth(column, row)</a></code> method.</p>
   <p>The <code class="idl"><a data-link-type="idl" href="#dom-xrdepthinformation-width" id="ref-for-dom-xrdepthinformation-width">width</a></code> attribute contains width of the <code class="idl"><a data-link-type="idl" href="#dom-xrdepthinformation-data" id="ref-for-dom-xrdepthinformation-data②">data</a></code> buffer (i.e. number of columns).</p>
   <p>The <code class="idl"><a data-link-type="idl" href="#dom-xrdepthinformation-height" id="ref-for-dom-xrdepthinformation-height">height</a></code> attribute contains height of the <code class="idl"><a data-link-type="idl" href="#dom-xrdepthinformation-data" id="ref-for-dom-xrdepthinformation-data③">data</a></code> buffer (i.e. number of rows).</p>
   <p>The <code class="idl"><a data-link-type="idl" href="#dom-xrdepthinformation-normtexturefromnormview" id="ref-for-dom-xrdepthinformation-normtexturefromnormview">normTextureFromNormView</a></code> attribute contains a <code class="idl"><a data-link-type="idl" href="https://immersive-web.github.io/webxr/#xrrigidtransform" id="ref-for-xrrigidtransform①">XRRigidTransform</a></code> that needs to be used when indexing into <code class="idl"><a data-link-type="idl" href="#dom-xrdepthinformation-data" id="ref-for-dom-xrdepthinformation-data④">data</a></code>. The transformation that the matrix represents changes the coordinate system from normalized view coordinates to normalized texture coordinates.</p>
   <p>The <code class="idl"><a data-link-type="idl" href="#dom-xrdepthinformation-getdepth" id="ref-for-dom-xrdepthinformation-getdepth①">getDepth(column, row)</a></code> method can be used to <a data-link-type="dfn" href="#obtain-depth-at-coordinates" id="ref-for-obtain-depth-at-coordinates">obtain depth at coordinates</a>.</p>
   <p>Each <code class="idl"><a data-link-type="idl" href="#xrdepthinformation" id="ref-for-xrdepthinformation">XRDepthInformation</a></code> has an associated <dfn class="dfn-paneled" data-dfn-for="XRDepthInformation" data-dfn-type="dfn" data-noexport id="xrdepthinformation-view">view</dfn> that stores <code class="idl"><a data-link-type="idl" href="https://immersive-web.github.io/webxr/#xrview" id="ref-for-xrview">XRView</a></code> from which the depth information instance was created.</p>
   <div class="algorithm" data-algorithm="create-depth-information">
    <p>In order to <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="create-a-depth-information-instance">create a depth information instance</dfn> given <code class="idl"><a data-link-type="idl" href="https://www.w3.org/TR/webxr/#xrframe-interface" id="ref-for-xrframe-interface">XRFrame</a></code> <var>frame</var> and <code class="idl"><a data-link-type="idl" href="https://immersive-web.github.io/webxr/#xrview" id="ref-for-xrview①">XRView</a></code> <var>view</var>, the user agent MUST run the following steps:</p>
    <ol>
     <li data-md>
      <p>Let <var>result</var> be a new instance of <code class="idl"><a data-link-type="idl" href="#xrdepthinformation" id="ref-for-xrdepthinformation①">XRDepthInformation</a></code>.</p>
     <li data-md>
      <p>Let <var>time</var> be <var>frame</var>’s <a data-link-type="dfn" href="https://www.w3.org/TR/webxr/#xrframe-time" id="ref-for-xrframe-time">time</a>.</p>
     <li data-md>
      <p>Let <var>device</var> be the <var>session</var>’s <a data-link-type="dfn" href="https://www.w3.org/TR/webxr/#xrsession-xr-device" id="ref-for-xrsession-xr-device">XR device</a>.</p>
     <li data-md>
      <p>Let <var>nativeDepthInformation</var> be a result of querying <var>device</var> for the depth information valid as of <var>time</var>, for specified <var>view</var>.</p>
     <li data-md>
      <p>Initialize <var>result</var>’s <code class="idl"><a data-link-type="idl" href="#dom-xrdepthinformation-width" id="ref-for-dom-xrdepthinformation-width①">width</a></code> to the width of the depth buffer returned in <var>nativeDepthInformation</var>.</p>
     <li data-md>
      <p>Initialize <var>result</var>’s <code class="idl"><a data-link-type="idl" href="#dom-xrdepthinformation-height" id="ref-for-dom-xrdepthinformation-height①">height</a></code> to the height of the depth buffer returned in <var>nativeDepthInformation</var>.</p>
     <li data-md>
      <p>Initialize <var>result</var>’s <code class="idl"><a data-link-type="idl" href="#dom-xrdepthinformation-normtexturefromnormview" id="ref-for-dom-xrdepthinformation-normtexturefromnormview①">normTextureFromNormView</a></code> to a new <code class="idl"><a data-link-type="idl" href="https://immersive-web.github.io/webxr/#xrrigidtransform" id="ref-for-xrrigidtransform②">XRRigidTransform</a></code> that performs a coordinate system change from normalized view coordinates to normalized texture coordinates. This transform should <code>z</code> coordinate of the transformed 3D vector unaffected.</p>
     <li data-md>
      <p>Initialize <var>result</var>’s <code class="idl"><a data-link-type="idl" href="#dom-xrdepthinformation-data" id="ref-for-dom-xrdepthinformation-data⑤">data</a></code> to the raw depth buffer returned in <var>nativeDepthInformation</var>.</p>
     <li data-md>
      <p>Initialize <var>result</var>’s <a data-link-type="dfn" href="#xrdepthinformation-view" id="ref-for-xrdepthinformation-view①">view</a> to <var>view</var>.</p>
     <li data-md>
      <p>Return <var>result</var>.</p>
    </ol>
   </div>
   <div class="algorithm" data-algorithm="obtain-depth-at-coordinates">
    <p>When <code class="idl"><a data-link-type="idl" href="#dom-xrdepthinformation-getdepth" id="ref-for-dom-xrdepthinformation-getdepth②">getDepth(column, row)</a></code> method is invoked on an <code class="idl"><a data-link-type="idl" href="#xrdepthinformation" id="ref-for-xrdepthinformation②">XRDepthInformation</a></code> <var>depthInformation</var> with <var>column</var>, <var>row</var>, the user agent MUST <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="obtain-depth-at-coordinates">obtain depth at coordinates</dfn> by running the following steps:</p>
    <ol>
     <li data-md>
      <p>If <var>column</var> is greater than or equal to <var>depthInformation</var>’s <code class="idl"><a data-link-type="idl" href="#dom-xrdepthinformation-width" id="ref-for-dom-xrdepthinformation-width②">width</a></code>, <a data-link-type="dfn" href="https://heycam.github.io/webidl/#dfn-throw" id="ref-for-dfn-throw">throw</a> <code class="idl"><a data-link-type="idl" href="https://heycam.github.io/webidl/#notallowederror" id="ref-for-notallowederror">NotAllowedError</a></code> and abort these steps.</p>
     <li data-md>
      <p>If <var>row</var> is greater than or equal to <var>depthInformation</var>’s <code class="idl"><a data-link-type="idl" href="#dom-xrdepthinformation-height" id="ref-for-dom-xrdepthinformation-height②">height</a></code>, <a data-link-type="dfn" href="https://heycam.github.io/webidl/#dfn-throw" id="ref-for-dfn-throw①">throw</a> <code class="idl"><a data-link-type="idl" href="https://heycam.github.io/webidl/#notallowederror" id="ref-for-notallowederror①">NotAllowedError</a></code> and abort these steps.</p>
     <li data-md>
      <p>Let <var>index</var> be equal to <var>row</var> multiplied by <code class="idl"><a data-link-type="idl" href="#dom-xrdepthinformation-width" id="ref-for-dom-xrdepthinformation-width③">width</a></code> &amp; added to <var>column</var>.</p>
     <li data-md>
      <p>Let <var>depthInMillimeters</var> be equal to a value found at index <var>index</var> in <code class="idl"><a data-link-type="idl" href="#dom-xrdepthinformation-data" id="ref-for-dom-xrdepthinformation-data⑥">data</a></code>.</p>
     <li data-md>
      <p>Return <var>depthInMillimeters</var> divided by <code>1000.0</code>.</p>
    </ol>
   </div>
<pre class="idl highlight def"><c- b>partial</c-> <c- b>interface</c-> <a class="idl-code" data-link-type="interface" href="https://www.w3.org/TR/webxr/#xrframe-interface" id="ref-for-xrframe-interface①"><c- g>XRFrame</c-></a> {
  <a data-link-type="idl-name" href="#xrdepthinformation" id="ref-for-xrdepthinformation③"><c- n>XRDepthInformation</c-></a> <a class="idl-code" data-link-type="method" href="#dom-xrframe-getdepthinformation" id="ref-for-dom-xrframe-getdepthinformation"><c- g>getDepthInformation</c-></a>(<a data-link-type="idl-name" href="https://immersive-web.github.io/webxr/#xrview" id="ref-for-xrview②"><c- n>XRView</c-></a> <dfn class="idl-code" data-dfn-for="XRFrame/getDepthInformation(view)" data-dfn-type="argument" data-export id="dom-xrframe-getdepthinformation-view-view"><code><c- g>view</c-></code><a class="self-link" href="#dom-xrframe-getdepthinformation-view-view"></a></dfn>);
};

</pre>
   <p>The <dfn class="dfn-paneled idl-code" data-dfn-for="XRFrame" data-dfn-type="method" data-export id="dom-xrframe-getdepthinformation"><code>getDepthInformation(view)</code></dfn> method, when invoked on an <code class="idl"><a data-link-type="idl" href="https://www.w3.org/TR/webxr/#xrframe-interface" id="ref-for-xrframe-interface②">XRFrame</a></code>, signals that the application wants to <a data-link-type="dfn" href="#obtain-depth-information" id="ref-for-obtain-depth-information">obtain depth information</a> relevant for the frame.</p>
   <div class="algorithm" data-algorithm="obtain-depth-information">
    <p>When <code class="idl"><a data-link-type="idl" href="#dom-xrframe-getdepthinformation" id="ref-for-dom-xrframe-getdepthinformation①">getDepthInformation(view)</a></code> method is invoked on an <code class="idl"><a data-link-type="idl" href="https://www.w3.org/TR/webxr/#xrframe-interface" id="ref-for-xrframe-interface③">XRFrame</a></code> <var>frame</var> with an <code class="idl"><a data-link-type="idl" href="https://immersive-web.github.io/webxr/#xrview" id="ref-for-xrview③">XRView</a></code> <var>view</var>, the user agent MUST <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="obtain-depth-information">obtain depth information</dfn> by running the following steps:</p>
    <ol>
     <li data-md>
      <p>Let <var>session</var> be <var>frame</var>’s <code class="idl"><a data-link-type="idl" href="https://immersive-web.github.io/webxr/#dom-xrframe-session" id="ref-for-dom-xrframe-session">session</a></code>.</p>
     <li data-md>
      <p>If <a data-link-type="dfn" href="#depth-sensing" id="ref-for-depth-sensing">depth-sensing</a> feature descriptor is not <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-contain" id="ref-for-list-contain">contained</a> in the <var>session</var>’s <a data-link-type="dfn" href="https://www.w3.org/TR/webxr/#xrsession-xr-device" id="ref-for-xrsession-xr-device①">XR device</a>'s <a data-link-type="dfn" href="https://www.w3.org/TR/webxr/#xr-device-list-of-enabled-features" id="ref-for-xr-device-list-of-enabled-features">list of enabled features</a> for <var>session</var>’s <a data-link-type="dfn" href="https://www.w3.org/TR/webxr/#xrsession-mode" id="ref-for-xrsession-mode">mode</a>, <a data-link-type="dfn" href="https://heycam.github.io/webidl/#dfn-throw" id="ref-for-dfn-throw②">throw</a> a <code class="idl"><a data-link-type="idl" href="https://heycam.github.io/webidl/#notsupportederror" id="ref-for-notsupportederror">NotSupportedError</a></code> and abort these steps.</p>
     <li data-md>
      <p>If <var>frame</var>’s <a data-link-type="dfn">active</a> boolean is <code>false</code>, throw an <code class="idl"><a data-link-type="idl" href="https://heycam.github.io/webidl/#invalidstateerror" id="ref-for-invalidstateerror">InvalidStateError</a></code> and abort these steps.</p>
     <li data-md>
      <p>If <var>frame</var>’s <a data-link-type="dfn" href="https://www.w3.org/TR/webxr/#xrframe-time" id="ref-for-xrframe-time①">time</a> does not match <var>view</var>’s <a data-link-type="dfn" href="https://www.w3.org/TR/webxr/#xrview-frame-time" id="ref-for-xrview-frame-time">frame time</a>, <a data-link-type="dfn" href="https://heycam.github.io/webidl/#dfn-throw" id="ref-for-dfn-throw③">throw</a> an <code class="idl"><a data-link-type="idl" href="https://heycam.github.io/webidl/#invalidstateerror" id="ref-for-invalidstateerror①">InvalidStateError</a></code> and abort these steps.</p>
     <li data-md>
      <p>Let <var>depthInformation</var> be a result of <a data-link-type="dfn" href="#create-a-depth-information-instance" id="ref-for-create-a-depth-information-instance">creating a depth information instance</a> given <var>frame</var> and <var>view</var>.</p>
     <li data-md>
      <p>Return <var>depthInformation</var>.</p>
    </ol>
   </div>
   <h2 class="heading settled" data-level="4" id="results-interpretation"><span class="secno">4. </span><span class="content">Interpreting the results</span><a class="self-link" href="#results-interpretation"></a></h2>
   <p class="issue" id="issue-ebc93800"><a class="self-link" href="#issue-ebc93800"></a> Fill this out.</p>
   <h2 class="heading settled" data-level="5" id="native-device-concepts"><span class="secno">5. </span><span class="content">Native device concepts</span><a class="self-link" href="#native-device-concepts"></a></h2>
   <section class="non-normative">
    <p class="issue" id="issue-ebc93800①"><a class="self-link" href="#issue-ebc93800①"></a> Fill this out.</p>
   </section>
   <h2 class="heading settled" data-level="6" id="privacy-security"><span class="secno">6. </span><span class="content">Privacy &amp; Security Considerations</span><a class="self-link" href="#privacy-security"></a></h2>
   <section class="non-normative">
    <p class="issue" id="issue-ebc93800②"><a class="self-link" href="#issue-ebc93800②"></a> Fill this out.</p>
   </section>
   <h2 class="heading settled" data-level="7" id="ack"><span class="secno">7. </span><span class="content">Acknowledgements</span><a class="self-link" href="#ack"></a></h2>
   <p>The following individuals have contributed to the design of the WebXR Depth Sensing specification:</p>
  </main>
  <div data-fill-with="conformance">
   <h2 class="no-ref no-num heading settled" id="w3c-conformance"><span class="content">Conformance</span><a class="self-link" href="#w3c-conformance"></a></h2>
   <h3 class="no-ref no-num heading settled" id="w3c-conventions"><span class="content">Document conventions</span><a class="self-link" href="#w3c-conventions"></a></h3>
   <p>Conformance requirements are expressed
    with a combination of descriptive assertions
    and RFC 2119 terminology.
    The key words “MUST”, “MUST NOT”, “REQUIRED”, “SHALL”, “SHALL NOT”, “SHOULD”, “SHOULD NOT”, “RECOMMENDED”, “MAY”, and “OPTIONAL”
    in the normative parts of this document
    are to be interpreted as described in RFC 2119.
    However, for readability,
    these words do not appear in all uppercase letters in this specification. </p>
   <p>All of the text of this specification is normative
    except sections explicitly marked as non-normative, examples, and notes. <a data-link-type="biblio" href="#biblio-rfc2119">[RFC2119]</a> </p>
   <p>Examples in this specification are introduced with the words “for example”
    or are set apart from the normative text
    with <code>class="example"</code>,
    like this: </p>
   <div class="example" id="w3c-example">
    <a class="self-link" href="#w3c-example"></a> 
    <p>This is an example of an informative example. </p>
   </div>
   <p>Informative notes begin with the word “Note”
    and are set apart from the normative text
    with <code>class="note"</code>,
    like this: </p>
   <p class="note" role="note">Note, this is an informative note. </p>
   <h3 class="no-ref no-num heading settled" id="w3c-conformant-algorithms"><span class="content">Conformant Algorithms</span><a class="self-link" href="#w3c-conformant-algorithms"></a></h3>
   <p>Requirements phrased in the imperative as part of algorithms
    (such as "strip any leading space characters"
    or "return false and abort these steps")
    are to be interpreted with the meaning of the key word
    ("must", "should", "may", etc)
    used in introducing the algorithm. </p>
   <p>Conformance requirements phrased as algorithms or specific steps
    can be implemented in any manner,
    so long as the end result is equivalent.
    In particular, the algorithms defined in this specification
    are intended to be easy to understand
    and are not intended to be performant.
    Implementers are encouraged to optimize. </p>
  </div>
<script src="https://www.w3.org/scripts/TR/2016/fixup.js"></script>
  <h2 class="no-num no-ref heading settled" id="index"><span class="content">Index</span><a class="self-link" href="#index"></a></h2>
  <h3 class="no-num no-ref heading settled" id="index-defined-here"><span class="content">Terms defined by this specification</span><a class="self-link" href="#index-defined-here"></a></h3>
  <ul class="index">
   <li><a href="#create-a-depth-information-instance">create a depth information instance</a><span>, in §3.1</span>
   <li><a href="#dom-xrdepthinformation-data">data</a><span>, in §3.1</span>
   <li><a href="#depth-sensing">depth-sensing</a><span>, in §2.1</span>
   <li><a href="#dom-xrdepthinformation-getdepth">getDepth(column, row)</a><span>, in §3.1</span>
   <li><a href="#dom-xrframe-getdepthinformation">getDepthInformation(view)</a><span>, in §3.1</span>
   <li><a href="#dom-xrdepthinformation-height">height</a><span>, in §3.1</span>
   <li><a href="#dom-xrdepthinformation-normtexturefromnormview">normTextureFromNormView</a><span>, in §3.1</span>
   <li><a href="#obtain-depth-at-coordinates">obtain depth at coordinates</a><span>, in §3.1</span>
   <li><a href="#obtain-depth-information">obtain depth information</a><span>, in §3.1</span>
   <li><a href="#xrdepthinformation-view">view</a><span>, in §3.1</span>
   <li><a href="#dom-xrdepthinformation-width">width</a><span>, in §3.1</span>
   <li><a href="#xrdepthinformation">XRDepthInformation</a><span>, in §3.1</span>
  </ul>
  <aside class="dfn-panel" data-for="term-for-list-contain">
   <a href="https://infra.spec.whatwg.org/#list-contain">https://infra.spec.whatwg.org/#list-contain</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-list-contain">3.1. XRDepthInformation</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="term-for-Exposed">
   <a href="https://heycam.github.io/webidl/#Exposed">https://heycam.github.io/webidl/#Exposed</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-Exposed">3.1. XRDepthInformation</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="term-for-invalidstateerror">
   <a href="https://heycam.github.io/webidl/#invalidstateerror">https://heycam.github.io/webidl/#invalidstateerror</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-invalidstateerror">3.1. XRDepthInformation</a> <a href="#ref-for-invalidstateerror①">(2)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="term-for-notallowederror">
   <a href="https://heycam.github.io/webidl/#notallowederror">https://heycam.github.io/webidl/#notallowederror</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-notallowederror">3.1. XRDepthInformation</a> <a href="#ref-for-notallowederror①">(2)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="term-for-notsupportederror">
   <a href="https://heycam.github.io/webidl/#notsupportederror">https://heycam.github.io/webidl/#notsupportederror</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-notsupportederror">3.1. XRDepthInformation</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="term-for-SameObject">
   <a href="https://heycam.github.io/webidl/#SameObject">https://heycam.github.io/webidl/#SameObject</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-SameObject">3.1. XRDepthInformation</a> <a href="#ref-for-SameObject①">(2)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="term-for-SecureContext">
   <a href="https://heycam.github.io/webidl/#SecureContext">https://heycam.github.io/webidl/#SecureContext</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-SecureContext">3.1. XRDepthInformation</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="term-for-idl-Uint16Array">
   <a href="https://heycam.github.io/webidl/#idl-Uint16Array">https://heycam.github.io/webidl/#idl-Uint16Array</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-idl-Uint16Array">3.1. XRDepthInformation</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="term-for-idl-float">
   <a href="https://heycam.github.io/webidl/#idl-float">https://heycam.github.io/webidl/#idl-float</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-idl-float">3.1. XRDepthInformation</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="term-for-dfn-throw">
   <a href="https://heycam.github.io/webidl/#dfn-throw">https://heycam.github.io/webidl/#dfn-throw</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dfn-throw">3.1. XRDepthInformation</a> <a href="#ref-for-dfn-throw①">(2)</a> <a href="#ref-for-dfn-throw②">(3)</a> <a href="#ref-for-dfn-throw③">(4)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="term-for-idl-unsigned-long">
   <a href="https://heycam.github.io/webidl/#idl-unsigned-long">https://heycam.github.io/webidl/#idl-unsigned-long</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-idl-unsigned-long">3.1. XRDepthInformation</a> <a href="#ref-for-idl-unsigned-long①">(2)</a> <a href="#ref-for-idl-unsigned-long②">(3)</a> <a href="#ref-for-idl-unsigned-long③">(4)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="term-for-xrrigidtransform">
   <a href="https://immersive-web.github.io/webxr/#xrrigidtransform">https://immersive-web.github.io/webxr/#xrrigidtransform</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-xrrigidtransform">3.1. XRDepthInformation</a> <a href="#ref-for-xrrigidtransform①">(2)</a> <a href="#ref-for-xrrigidtransform②">(3)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="term-for-xrview">
   <a href="https://immersive-web.github.io/webxr/#xrview">https://immersive-web.github.io/webxr/#xrview</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-xrview">3.1. XRDepthInformation</a> <a href="#ref-for-xrview①">(2)</a> <a href="#ref-for-xrview②">(3)</a> <a href="#ref-for-xrview③">(4)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="term-for-dom-xrframe-session">
   <a href="https://immersive-web.github.io/webxr/#dom-xrframe-session">https://immersive-web.github.io/webxr/#dom-xrframe-session</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-xrframe-session">3.1. XRDepthInformation</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="term-for-xrframe-interface">
   <a href="https://www.w3.org/TR/webxr/#xrframe-interface">https://www.w3.org/TR/webxr/#xrframe-interface</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-xrframe-interface">3.1. XRDepthInformation</a> <a href="#ref-for-xrframe-interface①">(2)</a> <a href="#ref-for-xrframe-interface②">(3)</a> <a href="#ref-for-xrframe-interface③">(4)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="term-for-capable-of-supporting">
   <a href="https://www.w3.org/TR/webxr/#capable-of-supporting">https://www.w3.org/TR/webxr/#capable-of-supporting</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-capable-of-supporting">2.1. Feature descriptor</a> <a href="#ref-for-capable-of-supporting①">(2)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="term-for-feature-descriptor">
   <a href="https://www.w3.org/TR/webxr/#feature-descriptor">https://www.w3.org/TR/webxr/#feature-descriptor</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-feature-descriptor">2.1. Feature descriptor</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="term-for-feature-policy">
   <a href="https://www.w3.org/TR/webxr/#feature-policy">https://www.w3.org/TR/webxr/#feature-policy</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-feature-policy">2.1. Feature descriptor</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="term-for-xrview-frame-time">
   <a href="https://www.w3.org/TR/webxr/#xrview-frame-time">https://www.w3.org/TR/webxr/#xrview-frame-time</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-xrview-frame-time">3.1. XRDepthInformation</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="term-for-inline-xr-device">
   <a href="https://www.w3.org/TR/webxr/#inline-xr-device">https://www.w3.org/TR/webxr/#inline-xr-device</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-inline-xr-device">2.1. Feature descriptor</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="term-for-xr-device-list-of-enabled-features">
   <a href="https://www.w3.org/TR/webxr/#xr-device-list-of-enabled-features">https://www.w3.org/TR/webxr/#xr-device-list-of-enabled-features</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-xr-device-list-of-enabled-features">3.1. XRDepthInformation</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="term-for-xrsession-mode">
   <a href="https://www.w3.org/TR/webxr/#xrsession-mode">https://www.w3.org/TR/webxr/#xrsession-mode</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-xrsession-mode">3.1. XRDepthInformation</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="term-for-xrframe-time">
   <a href="https://www.w3.org/TR/webxr/#xrframe-time">https://www.w3.org/TR/webxr/#xrframe-time</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-xrframe-time">3.1. XRDepthInformation</a> <a href="#ref-for-xrframe-time①">(2)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="term-for-xrsession-xr-device">
   <a href="https://www.w3.org/TR/webxr/#xrsession-xr-device">https://www.w3.org/TR/webxr/#xrsession-xr-device</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-xrsession-xr-device">3.1. XRDepthInformation</a> <a href="#ref-for-xrsession-xr-device①">(2)</a>
   </ul>
  </aside>
  <h3 class="no-num no-ref heading settled" id="index-defined-elsewhere"><span class="content">Terms defined by reference</span><a class="self-link" href="#index-defined-elsewhere"></a></h3>
  <ul class="index">
   <li>
    <a data-link-type="biblio">[INFRA]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="term-for-list-contain">contain</span>
    </ul>
   <li>
    <a data-link-type="biblio">[WebIDL]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="term-for-Exposed">Exposed</span>
     <li><span class="dfn-paneled" id="term-for-invalidstateerror">InvalidStateError</span>
     <li><span class="dfn-paneled" id="term-for-notallowederror">NotAllowedError</span>
     <li><span class="dfn-paneled" id="term-for-notsupportederror">NotSupportedError</span>
     <li><span class="dfn-paneled" id="term-for-SameObject">SameObject</span>
     <li><span class="dfn-paneled" id="term-for-SecureContext">SecureContext</span>
     <li><span class="dfn-paneled" id="term-for-idl-Uint16Array">Uint16Array</span>
     <li><span class="dfn-paneled" id="term-for-idl-float">float</span>
     <li><span class="dfn-paneled" id="term-for-dfn-throw">throw</span>
     <li><span class="dfn-paneled" id="term-for-idl-unsigned-long">unsigned long</span>
    </ul>
   <li>
    <a data-link-type="biblio">[webxr]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="term-for-xrrigidtransform">XRRigidTransform</span>
     <li><span class="dfn-paneled" id="term-for-xrview">XRView</span>
     <li><span class="dfn-paneled" id="term-for-dom-xrframe-session">session</span>
    </ul>
   <li>
    <a data-link-type="biblio">[webxr device api - level 1]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="term-for-xrframe-interface">XRFrame</span>
     <li><span class="dfn-paneled" id="term-for-capable-of-supporting">capable of supporting</span>
     <li><span class="dfn-paneled" id="term-for-feature-descriptor">feature descriptor</span>
     <li><span class="dfn-paneled" id="term-for-feature-policy">feature policy</span>
     <li><span class="dfn-paneled" id="term-for-xrview-frame-time">frame time</span>
     <li><span class="dfn-paneled" id="term-for-inline-xr-device">inline xr device</span>
     <li><span class="dfn-paneled" id="term-for-xr-device-list-of-enabled-features">list of enabled features</span>
     <li><span class="dfn-paneled" id="term-for-xrsession-mode">mode</span>
     <li><span class="dfn-paneled" id="term-for-xrframe-time">time</span>
     <li><span class="dfn-paneled" id="term-for-xrsession-xr-device">xr device</span>
    </ul>
  </ul>
  <h2 class="no-num no-ref heading settled" id="references"><span class="content">References</span><a class="self-link" href="#references"></a></h2>
  <h3 class="no-num no-ref heading settled" id="normative"><span class="content">Normative References</span><a class="self-link" href="#normative"></a></h3>
  <dl>
   <dt id="biblio-infra">[INFRA]
   <dd>Anne van Kesteren; Domenic Denicola. <a href="https://infra.spec.whatwg.org/">Infra Standard</a>. Living Standard. URL: <a href="https://infra.spec.whatwg.org/">https://infra.spec.whatwg.org/</a>
   <dt id="biblio-rfc2119">[RFC2119]
   <dd>S. Bradner. <a href="https://tools.ietf.org/html/rfc2119">Key words for use in RFCs to Indicate Requirement Levels</a>. March 1997. Best Current Practice. URL: <a href="https://tools.ietf.org/html/rfc2119">https://tools.ietf.org/html/rfc2119</a>
   <dt id="biblio-webidl">[WebIDL]
   <dd>Boris Zbarsky. <a href="https://heycam.github.io/webidl/">Web IDL</a>. 15 December 2016. ED. URL: <a href="https://heycam.github.io/webidl/">https://heycam.github.io/webidl/</a>
   <dt id="biblio-webxr">[WEBXR]
   <dd>Brandon Jones; Manish Goregaokar; Nell Waliczek. <a href="https://www.w3.org/TR/webxr/">WebXR Device API</a>. 24 July 2020. WD. URL: <a href="https://www.w3.org/TR/webxr/">https://www.w3.org/TR/webxr/</a>
  </dl>
  <h2 class="no-num no-ref heading settled" id="idl-index"><span class="content">IDL Index</span><a class="self-link" href="#idl-index"></a></h2>
<pre class="idl highlight def">[<a class="idl-code" data-link-type="extended-attribute" href="https://heycam.github.io/webidl/#SecureContext"><c- g>SecureContext</c-></a>, <a class="idl-code" data-link-type="extended-attribute" href="https://heycam.github.io/webidl/#Exposed"><c- g>Exposed</c-></a>=<c- n>Window</c->]
<c- b>interface</c-> <a href="#xrdepthinformation"><code><c- g>XRDepthInformation</c-></code></a> {
  [<a class="idl-code" data-link-type="extended-attribute" href="https://heycam.github.io/webidl/#SameObject"><c- g>SameObject</c-></a>] <c- b>readonly</c-> <c- b>attribute</c-> <a class="idl-code" data-link-type="interface" href="https://heycam.github.io/webidl/#idl-Uint16Array"><c- b>Uint16Array</c-></a> <a data-readonly data-type="Uint16Array" href="#dom-xrdepthinformation-data"><code><c- g>data</c-></code></a>;

  <c- b>readonly</c-> <c- b>attribute</c-> <a class="idl-code" data-link-type="interface" href="https://heycam.github.io/webidl/#idl-unsigned-long"><c- b>unsigned</c-> <c- b>long</c-></a> <a data-readonly data-type="unsigned long" href="#dom-xrdepthinformation-width"><code><c- g>width</c-></code></a>;
  <c- b>readonly</c-> <c- b>attribute</c-> <a class="idl-code" data-link-type="interface" href="https://heycam.github.io/webidl/#idl-unsigned-long"><c- b>unsigned</c-> <c- b>long</c-></a> <a data-readonly data-type="unsigned long" href="#dom-xrdepthinformation-height"><code><c- g>height</c-></code></a>;

  [<a class="idl-code" data-link-type="extended-attribute" href="https://heycam.github.io/webidl/#SameObject"><c- g>SameObject</c-></a>] <c- b>readonly</c-> <c- b>attribute</c-> <a data-link-type="idl-name" href="https://immersive-web.github.io/webxr/#xrrigidtransform"><c- n>XRRigidTransform</c-></a> <a data-readonly data-type="XRRigidTransform" href="#dom-xrdepthinformation-normtexturefromnormview"><code><c- g>normTextureFromNormView</c-></code></a>;

  <a class="idl-code" data-link-type="interface" href="https://heycam.github.io/webidl/#idl-float"><c- b>float</c-></a> <a href="#dom-xrdepthinformation-getdepth"><code><c- g>getDepth</c-></code></a>(<a class="idl-code" data-link-type="interface" href="https://heycam.github.io/webidl/#idl-unsigned-long"><c- b>unsigned</c-> <c- b>long</c-></a> <a href="#dom-xrdepthinformation-getdepth-column-row-column"><code><c- g>column</c-></code></a>, <a class="idl-code" data-link-type="interface" href="https://heycam.github.io/webidl/#idl-unsigned-long"><c- b>unsigned</c-> <c- b>long</c-></a> <a href="#dom-xrdepthinformation-getdepth-column-row-row"><code><c- g>row</c-></code></a>);
};


<c- b>partial</c-> <c- b>interface</c-> <a class="idl-code" data-link-type="interface" href="https://www.w3.org/TR/webxr/#xrframe-interface"><c- g>XRFrame</c-></a> {
  <a data-link-type="idl-name" href="#xrdepthinformation"><c- n>XRDepthInformation</c-></a> <a class="idl-code" data-link-type="method" href="#dom-xrframe-getdepthinformation"><c- g>getDepthInformation</c-></a>(<a data-link-type="idl-name" href="https://immersive-web.github.io/webxr/#xrview"><c- n>XRView</c-></a> <a href="#dom-xrframe-getdepthinformation-view-view"><code><c- g>view</c-></code></a>);
};


</pre>
  <h2 class="no-num no-ref heading settled" id="issues-index"><span class="content">Issues Index</span><a class="self-link" href="#issues-index"></a></h2>
  <div style="counter-reset:issue">
   <div class="issue"> Accessing raw data could potentially need to have a way of knowing what is the underlying data type and how to convert from the numeric value to a value expressed in meters. This is to ensure that we do not force the implementers to convert the data they are able to obtain from the underlying XR devices. <a href="https://github.com/immersive-web/depth-sensing/issues/6">&lt;https://github.com/immersive-web/depth-sensing/issues/6></a><a href="#issue-ee6e7d97"> ↵ </a></div>
   <div class="issue"> Fill this out.<a href="#issue-ebc93800"> ↵ </a></div>
   <div class="issue"> Fill this out.<a href="#issue-ebc93800①"> ↵ </a></div>
   <div class="issue"> Fill this out.<a href="#issue-ebc93800②"> ↵ </a></div>
  </div>
  <aside class="dfn-panel" data-for="depth-sensing">
   <b><a href="#depth-sensing">#depth-sensing</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-depth-sensing">3.1. XRDepthInformation</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="xrdepthinformation">
   <b><a href="#xrdepthinformation">#xrdepthinformation</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-xrdepthinformation">3.1. XRDepthInformation</a> <a href="#ref-for-xrdepthinformation①">(2)</a> <a href="#ref-for-xrdepthinformation②">(3)</a> <a href="#ref-for-xrdepthinformation③">(4)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dom-xrdepthinformation-data">
   <b><a href="#dom-xrdepthinformation-data">#dom-xrdepthinformation-data</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-xrdepthinformation-data">3.1. XRDepthInformation</a> <a href="#ref-for-dom-xrdepthinformation-data①">(2)</a> <a href="#ref-for-dom-xrdepthinformation-data②">(3)</a> <a href="#ref-for-dom-xrdepthinformation-data③">(4)</a> <a href="#ref-for-dom-xrdepthinformation-data④">(5)</a> <a href="#ref-for-dom-xrdepthinformation-data⑤">(6)</a> <a href="#ref-for-dom-xrdepthinformation-data⑥">(7)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dom-xrdepthinformation-width">
   <b><a href="#dom-xrdepthinformation-width">#dom-xrdepthinformation-width</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-xrdepthinformation-width">3.1. XRDepthInformation</a> <a href="#ref-for-dom-xrdepthinformation-width①">(2)</a> <a href="#ref-for-dom-xrdepthinformation-width②">(3)</a> <a href="#ref-for-dom-xrdepthinformation-width③">(4)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dom-xrdepthinformation-height">
   <b><a href="#dom-xrdepthinformation-height">#dom-xrdepthinformation-height</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-xrdepthinformation-height">3.1. XRDepthInformation</a> <a href="#ref-for-dom-xrdepthinformation-height①">(2)</a> <a href="#ref-for-dom-xrdepthinformation-height②">(3)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dom-xrdepthinformation-normtexturefromnormview">
   <b><a href="#dom-xrdepthinformation-normtexturefromnormview">#dom-xrdepthinformation-normtexturefromnormview</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-xrdepthinformation-normtexturefromnormview">3.1. XRDepthInformation</a> <a href="#ref-for-dom-xrdepthinformation-normtexturefromnormview①">(2)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dom-xrdepthinformation-getdepth">
   <b><a href="#dom-xrdepthinformation-getdepth">#dom-xrdepthinformation-getdepth</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-xrdepthinformation-getdepth">3.1. XRDepthInformation</a> <a href="#ref-for-dom-xrdepthinformation-getdepth①">(2)</a> <a href="#ref-for-dom-xrdepthinformation-getdepth②">(3)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="xrdepthinformation-view">
   <b><a href="#xrdepthinformation-view">#xrdepthinformation-view</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-xrdepthinformation-view">3.1. XRDepthInformation</a> <a href="#ref-for-xrdepthinformation-view①">(2)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="create-a-depth-information-instance">
   <b><a href="#create-a-depth-information-instance">#create-a-depth-information-instance</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-create-a-depth-information-instance">3.1. XRDepthInformation</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="obtain-depth-at-coordinates">
   <b><a href="#obtain-depth-at-coordinates">#obtain-depth-at-coordinates</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-obtain-depth-at-coordinates">3.1. XRDepthInformation</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dom-xrframe-getdepthinformation">
   <b><a href="#dom-xrframe-getdepthinformation">#dom-xrframe-getdepthinformation</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-xrframe-getdepthinformation">3.1. XRDepthInformation</a> <a href="#ref-for-dom-xrframe-getdepthinformation①">(2)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="obtain-depth-information">
   <b><a href="#obtain-depth-information">#obtain-depth-information</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-obtain-depth-information">3.1. XRDepthInformation</a>
   </ul>
  </aside>
<script>/* script-dfn-panel */

document.body.addEventListener("click", function(e) {
    var queryAll = function(sel) { return [].slice.call(document.querySelectorAll(sel)); }
    // Find the dfn element or panel, if any, that was clicked on.
    var el = e.target;
    var target;
    var hitALink = false;
    while(el.parentElement) {
        if(el.tagName == "A") {
            // Clicking on a link in a <dfn> shouldn't summon the panel
            hitALink = true;
        }
        if(el.classList.contains("dfn-paneled")) {
            target = "dfn";
            break;
        }
        if(el.classList.contains("dfn-panel")) {
            target = "dfn-panel";
            break;
        }
        el = el.parentElement;
    }
    if(target != "dfn-panel") {
        // Turn off any currently "on" or "activated" panels.
        queryAll(".dfn-panel.on, .dfn-panel.activated").forEach(function(el){
            el.classList.remove("on");
            el.classList.remove("activated");
        });
    }
    if(target == "dfn" && !hitALink) {
        // open the panel
        var dfnPanel = document.querySelector(".dfn-panel[data-for='" + el.id + "']");
        if(dfnPanel) {
            dfnPanel.classList.add("on");
            var rect = el.getBoundingClientRect();
            dfnPanel.style.left = window.scrollX + rect.right + 5 + "px";
            dfnPanel.style.top = window.scrollY + rect.top + "px";
            var panelRect = dfnPanel.getBoundingClientRect();
            var panelWidth = panelRect.right - panelRect.left;
            if(panelRect.right > document.body.scrollWidth && (rect.left - (panelWidth + 5)) > 0) {
                // Reposition, because the panel is overflowing
                dfnPanel.style.left = window.scrollX + rect.left - (panelWidth + 5) + "px";
            }
        } else {
            console.log("Couldn't find .dfn-panel[data-for='" + el.id + "']");
        }
    } else if(target == "dfn-panel") {
        // Switch it to "activated" state, which pins it.
        el.classList.add("activated");
        el.style.left = null;
        el.style.top = null;
    }

});
</script>
<script>/* script-var-click-highlighting */

    document.addEventListener("click", e=>{
        if(e.target.nodeName == "VAR") {
            highlightSameAlgoVars(e.target);
        }
    });
    {
        const indexCounts = new Map();
        const indexNames = new Map();
        function highlightSameAlgoVars(v) {
            // Find the algorithm container.
            let algoContainer = null;
            let searchEl = v;
            while(algoContainer == null && searchEl != document.body) {
                searchEl = searchEl.parentNode;
                if(searchEl.hasAttribute("data-algorithm")) {
                    algoContainer = searchEl;
                }
            }

            // Not highlighting document-global vars,
            // too likely to be unrelated.
            if(algoContainer == null) return;

            const algoName = algoContainer.getAttribute("data-algorithm");
            const varName = getVarName(v);
            const addClass = !v.classList.contains("selected");
            let highlightClass = null;
            if(addClass) {
                const index = chooseHighlightIndex(algoName, varName);
                indexCounts.get(algoName)[index] += 1;
                indexNames.set(algoName+"///"+varName, index);
                highlightClass = nameFromIndex(index);
            } else {
                const index = previousHighlightIndex(algoName, varName);
                indexCounts.get(algoName)[index] -= 1;
                highlightClass = nameFromIndex(index);
            }

            // Find all same-name vars, and toggle their class appropriately.
            for(const el of algoContainer.querySelectorAll("var")) {
                if(getVarName(el) == varName) {
                    el.classList.toggle("selected", addClass);
                    el.classList.toggle(highlightClass, addClass);
                }
            }
        }
        function getVarName(el) {
            return el.textContent.replace(/(\s|\xa0)+/, " ").trim();
        }
        function chooseHighlightIndex(algoName, varName) {
            let indexes = null;
            if(indexCounts.has(algoName)) {
                indexes = indexCounts.get(algoName);
            } else {
                // 7 classes right now
                indexes = [0,0,0,0,0,0,0];
                indexCounts.set(algoName, indexes);
            }

            // If the element was recently unclicked,
            // *and* that color is still unclaimed,
            // give it back the same color.
            const lastIndex = previousHighlightIndex(algoName, varName);
            if(indexes[lastIndex] === 0) return lastIndex;

            // Find the earliest index with the lowest count.
            const minCount = Math.min.apply(null, indexes);
            let index = null;
            for(var i = 0; i < indexes.length; i++) {
                if(indexes[i] == minCount) {
                    return i;
                }
            }
        }
        function previousHighlightIndex(algoName, varName) {
            return indexNames.get(algoName+"///"+varName);
        }
        function nameFromIndex(index) {
            return "selected" + index;
        }
    }
    </script>