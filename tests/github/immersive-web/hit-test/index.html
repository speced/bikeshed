<!doctype html><html lang="en">
 <head>
  <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
  <meta content="width=device-width, initial-scale=1, shrink-to-fit=no" name="viewport">
  <title>WebXR Hit Test Module</title>
  <meta content="ED" name="w3c-status">
  <link href="https://www.w3.org/StyleSheets/TR/2021/W3C-ED" rel="stylesheet">
  <link href="https://www.w3.org/2008/site/images/favicon.ico" rel="icon">
  <link href="https://immersive-web.github.io/hit-test/" rel="canonical">
  <link href="favicon-32x32.png" rel="icon" sizes="32x32" type="image/png">
  <link href="favicon-96x96.png" rel="icon" sizes="96x96" type="image/png">
<style>
  .non-normative::before {
    content: "This section is non-normative.";
    font-style: italic;
  }
  .tg {
    border-collapse: collapse;
    border-spacing: 0;
  }
  .tg th {
    border-style: solid;
    border-width: 1px;
    background: #90b8de;
    color: #fff;
    font-family: sans-serif;
    font-weight: bold;
    border-color: grey;
  }
  .tg td {
    padding: 4px 5px;
    background-color: rgb(221, 238, 255);
    font-family: monospace;
    border-style: solid;
    border-width: 1px;
    border-color: grey;
    overflow: hidden;
    word-break: normal;
  }
  .unstable::before {
    content: "This section is not stable";
    display: block;
    font-weight: bold;
    text-align: right;
    color: red;
  }
  .unstable {
    border: thin solid pink;
    border-radius: .5em;
    padding: .5em;
    margin: .5em calc(-0.5em - 1px);
    background-image: url("data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' width='300' height='290'><text transform='rotate(-45)' text-anchor='middle' font-family='sans-serif' font-weight='bold' font-size='70' y='210' opacity='.1'>Unstable</text></svg>");
    background-repeat: repeat;
    background-color: #FFF4F4;
  }
  .unstable h3:first-of-type {
    margin-top: 0.5rem;
  }
  .unstable.example:not(.no-marker)::before {
    content: "Example " counter(example) " (Unstable)";
    float: none;
  }
</style>
<style>/* Boilerplate: style-autolinks */
.css.css, .property.property, .descriptor.descriptor {
    color: var(--a-normal-text);
    font-size: inherit;
    font-family: inherit;
}
.css::before, .property::before, .descriptor::before {
    content: "‘";
}
.css::after, .property::after, .descriptor::after {
    content: "’";
}
.property, .descriptor {
    /* Don't wrap property and descriptor names */
    white-space: nowrap;
}
.type { /* CSS value <type> */
    font-style: italic;
}
pre .property::before, pre .property::after {
    content: "";
}
[data-link-type="property"]::before,
[data-link-type="propdesc"]::before,
[data-link-type="descriptor"]::before,
[data-link-type="value"]::before,
[data-link-type="function"]::before,
[data-link-type="at-rule"]::before,
[data-link-type="selector"]::before,
[data-link-type="maybe"]::before {
    content: "‘";
}
[data-link-type="property"]::after,
[data-link-type="propdesc"]::after,
[data-link-type="descriptor"]::after,
[data-link-type="value"]::after,
[data-link-type="function"]::after,
[data-link-type="at-rule"]::after,
[data-link-type="selector"]::after,
[data-link-type="maybe"]::after {
    content: "’";
}

[data-link-type].production::before,
[data-link-type].production::after,
.prod [data-link-type]::before,
.prod [data-link-type]::after {
    content: "";
}

[data-link-type=element],
[data-link-type=element-attr] {
    font-family: Menlo, Consolas, "DejaVu Sans Mono", monospace;
    font-size: .9em;
}
[data-link-type=element]::before { content: "<" }
[data-link-type=element]::after  { content: ">" }

[data-link-type=biblio] {
    white-space: pre;
}

@media (prefers-color-scheme: dark) {
    :root {
        --selflink-text: black;
        --selflink-bg: silver;
        --selflink-hover-text: white;
    }
}
</style>
<style>/* Boilerplate: style-colors */

/* Any --*-text not paired with a --*-bg is assumed to have a transparent bg */
:root {
    color-scheme: light dark;

    --text: black;
    --bg: white;

    --unofficial-watermark: url(https://www.w3.org/StyleSheets/TR/2016/logos/UD-watermark);

    --logo-bg: #1a5e9a;
    --logo-active-bg: #c00;
    --logo-text: white;

    --tocnav-normal-text: #707070;
    --tocnav-normal-bg: var(--bg);
    --tocnav-hover-text: var(--tocnav-normal-text);
    --tocnav-hover-bg: #f8f8f8;
    --tocnav-active-text: #c00;
    --tocnav-active-bg: var(--tocnav-normal-bg);

    --tocsidebar-text: var(--text);
    --tocsidebar-bg: #f7f8f9;
    --tocsidebar-shadow: rgba(0,0,0,.1);
    --tocsidebar-heading-text: hsla(203,20%,40%,.7);

    --toclink-text: var(--text);
    --toclink-underline: #3980b5;
    --toclink-visited-text: var(--toclink-text);
    --toclink-visited-underline: #054572;

    --heading-text: #005a9c;

    --hr-text: var(--text);

    --algo-border: #def;

    --del-text: red;
    --del-bg: transparent;
    --ins-text: #080;
    --ins-bg: transparent;

    --a-normal-text: #034575;
    --a-normal-underline: #bbb;
    --a-visited-text: var(--a-normal-text);
    --a-visited-underline: #707070;
    --a-hover-bg: rgba(75%, 75%, 75%, .25);
    --a-active-text: #c00;
    --a-active-underline: #c00;

    --blockquote-border: silver;
    --blockquote-bg: transparent;
    --blockquote-text: currentcolor;

    --issue-border: #e05252;
    --issue-bg: #fbe9e9;
    --issue-text: var(--text);
    --issueheading-text: #831616;

    --example-border: #e0cb52;
    --example-bg: #fcfaee;
    --example-text: var(--text);
    --exampleheading-text: #574b0f;

    --note-border: #52e052;
    --note-bg: #e9fbe9;
    --note-text: var(--text);
    --noteheading-text: hsl(120, 70%, 30%);
    --notesummary-underline: silver;

    --assertion-border: #aaa;
    --assertion-bg: #eee;
    --assertion-text: black;

    --advisement-border: orange;
    --advisement-bg: #fec;
    --advisement-text: var(--text);
    --advisementheading-text: #b35f00;

    --warning-border: red;
    --warning-bg: hsla(40,100%,50%,0.95);
    --warning-text: var(--text);

    --amendment-border: #330099;
    --amendment-bg: #F5F0FF;
    --amendment-text: var(--text);
    --amendmentheading-text: #220066;

    --def-border: #8ccbf2;
    --def-bg: #def;
    --def-text: var(--text);
    --defrow-border: #bbd7e9;

    --datacell-border: silver;

    --indexinfo-text: #707070;

    --indextable-hover-text: black;
    --indextable-hover-bg: #f7f8f9;

    --outdatedspec-bg: rgba(0, 0, 0, .5);
    --outdatedspec-text: black;
    --outdated-bg: maroon;
    --outdated-text: white;
    --outdated-shadow: red;

    --editedrec-bg: darkorange;
}

@media (prefers-color-scheme: dark) {
    :root {
        --text: #ddd;
        --bg: black;

        --unofficial-watermark: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='400' height='400'%3E%3Cg fill='%23100808' transform='translate(200 200) rotate(-45) translate(-200 -200)' stroke='%23100808' stroke-width='3'%3E%3Ctext x='50%25' y='220' style='font: bold 70px sans-serif; text-anchor: middle; letter-spacing: 6px;'%3EUNOFFICIAL%3C/text%3E%3Ctext x='50%25' y='305' style='font: bold 70px sans-serif; text-anchor: middle; letter-spacing: 6px;'%3EDRAFT%3C/text%3E%3C/g%3E%3C/svg%3E");

        --logo-bg: #1a5e9a;
        --logo-active-bg: #c00;
        --logo-text: white;

        --tocnav-normal-text: #999;
        --tocnav-normal-bg: var(--bg);
        --tocnav-hover-text: var(--tocnav-normal-text);
        --tocnav-hover-bg: #080808;
        --tocnav-active-text: #f44;
        --tocnav-active-bg: var(--tocnav-normal-bg);

        --tocsidebar-text: var(--text);
        --tocsidebar-bg: #080808;
        --tocsidebar-shadow: rgba(255,255,255,.1);
        --tocsidebar-heading-text: hsla(203,20%,40%,.7);

        --toclink-text: var(--text);
        --toclink-underline: #6af;
        --toclink-visited-text: var(--toclink-text);
        --toclink-visited-underline: #054572;

        --heading-text: #8af;

        --hr-text: var(--text);

        --algo-border: #456;

        --del-text: #f44;
        --del-bg: transparent;
        --ins-text: #4a4;
        --ins-bg: transparent;

        --a-normal-text: #6af;
        --a-normal-underline: #555;
        --a-visited-text: var(--a-normal-text);
        --a-visited-underline: var(--a-normal-underline);
        --a-hover-bg: rgba(25%, 25%, 25%, .2);
        --a-active-text: #f44;
        --a-active-underline: var(--a-active-text);

        --borderedblock-bg: rgba(255, 255, 255, .05);

        --blockquote-border: silver;
        --blockquote-bg: var(--borderedblock-bg);
        --blockquote-text: currentcolor;

        --issue-border: #e05252;
        --issue-bg: var(--borderedblock-bg);
        --issue-text: var(--text);
        --issueheading-text: hsl(0deg, 70%, 70%);

        --example-border: hsl(50deg, 90%, 60%);
        --example-bg: var(--borderedblock-bg);
        --example-text: var(--text);
        --exampleheading-text: hsl(50deg, 70%, 70%);

        --note-border: hsl(120deg, 100%, 35%);
        --note-bg: var(--borderedblock-bg);
        --note-text: var(--text);
        --noteheading-text: hsl(120, 70%, 70%);
        --notesummary-underline: silver;

        --assertion-border: #444;
        --assertion-bg: var(--borderedblock-bg);
        --assertion-text: var(--text);

        --advisement-border: orange;
        --advisement-bg: #222218;
        --advisement-text: var(--text);
        --advisementheading-text: #f84;

        --warning-border: red;
        --warning-bg: hsla(40,100%,20%,0.95);
        --warning-text: var(--text);

        --amendment-border: #330099;
        --amendment-bg: #080010;
        --amendment-text: var(--text);
        --amendmentheading-text: #cc00ff;

        --def-border: #8ccbf2;
        --def-bg: #080818;
        --def-text: var(--text);
        --defrow-border: #136;

        --datacell-border: silver;

        --indexinfo-text: #aaa;

        --indextable-hover-text: var(--text);
        --indextable-hover-bg: #181818;

        --outdatedspec-bg: rgba(255, 255, 255, .5);
        --outdatedspec-text: black;
        --outdated-bg: maroon;
        --outdated-text: white;
        --outdated-shadow: red;

        --editedrec-bg: darkorange;
    }
    /* In case a transparent-bg image doesn't expect to be on a dark bg,
       which is quite common in practice... */
    img { background: white; }
}
</style>
<style>/* Boilerplate: style-counters */
body {
    counter-reset: example figure issue;
}
.issue {
    counter-increment: issue;
}
.issue:not(.no-marker)::before {
    content: "Issue " counter(issue);
}

.example {
    counter-increment: example;
}
.example:not(.no-marker)::before {
    content: "Example " counter(example);
}
.invalid.example:not(.no-marker)::before,
.illegal.example:not(.no-marker)::before {
    content: "Invalid Example" counter(example);
}

figcaption {
    counter-increment: figure;
}
figcaption:not(.no-marker)::before {
    content: "Figure " counter(figure) " ";
}
</style>
<style>/* Boilerplate: style-dfn-panel */
:root {
    --dfnpanel-bg: #ddd;
    --dfnpanel-text: var(--text);
}
@media (prefers-color-scheme: dark) {
    :root {
        --dfnpanel-bg: #222;
        --dfnpanel-text: var(--text);
    }
}
.dfn-panel {
    position: absolute;
    z-index: 35;
    width: 20em;
    width: 300px;
    height: auto;
    max-height: 500px;
    overflow: auto;
    padding: 0.5em 0.75em;
    font: small Helvetica Neue, sans-serif, Droid Sans Fallback;
    background: var(--dfnpanel-bg);
    color: var(--dfnpanel-text);
    border: outset 0.2em;
    white-space: normal; /* in case it's moved into a pre */
}
.dfn-panel:not(.on) { display: none; }
.dfn-panel * { margin: 0; padding: 0; text-indent: 0; }
.dfn-panel > b { display: block; }
.dfn-panel a { color: var(--dfnpanel-text); }
.dfn-panel a:not(:hover) { text-decoration: none !important; border-bottom: none !important; }
.dfn-panel > b + b { margin-top: 0.25em; }
.dfn-panel ul { padding: 0 0 0 1em; list-style: none; }
.dfn-panel li a {
    white-space: pre;
    display: inline-block;
    max-width: calc(300px - 1.5em - 1em);
    overflow: hidden;
    text-overflow: ellipsis;
}

.dfn-panel.activated {
    display: inline-block;
    position: fixed;
    left: .5em;
    bottom: 2em;
    margin: 0 auto;
    max-width: calc(100vw - 1.5em - .4em - .5em);
    max-height: 30vh;
}

.dfn-paneled[role="button"] { cursor: pointer; }
</style>
<style>/* Boilerplate: style-dfn-panel */
:root {
    --dfnpanel-bg: #ddd;
    --dfnpanel-text: var(--text);
}
@media (prefers-color-scheme: dark) {
    :root {
        --dfnpanel-bg: #222;
        --dfnpanel-text: var(--text);
    }
}
.dfn-panel {
    position: absolute;
    z-index: 35;
    width: 20em;
    width: 300px;
    height: auto;
    max-height: 500px;
    overflow: auto;
    padding: 0.5em 0.75em;
    font: small Helvetica Neue, sans-serif, Droid Sans Fallback;
    background: var(--dfnpanel-bg);
    color: var(--dfnpanel-text);
    border: outset 0.2em;
    white-space: normal; /* in case it's moved into a pre */
}
.dfn-panel:not(.on) { display: none; }
.dfn-panel * { margin: 0; padding: 0; text-indent: 0; }
.dfn-panel > b { display: block; }
.dfn-panel a { color: var(--dfnpanel-text); }
.dfn-panel a:not(:hover) { text-decoration: none !important; border-bottom: none !important; }
.dfn-panel > b + b { margin-top: 0.25em; }
.dfn-panel ul { padding: 0 0 0 1em; list-style: none; }
.dfn-panel li a {
    white-space: pre;
    display: inline-block;
    max-width: calc(300px - 1.5em - 1em);
    overflow: hidden;
    text-overflow: ellipsis;
}

.dfn-panel.activated {
    display: inline-block;
    position: fixed;
    left: .5em;
    bottom: 2em;
    margin: 0 auto;
    max-width: calc(100vw - 1.5em - .4em - .5em);
    max-height: 30vh;
}

.dfn-paneled[role="button"] { cursor: pointer; }
</style>
<style>/* Boilerplate: style-issues */
a[href].issue-return {
    float: right;
    float: inline-end;
    color: var(--issueheading-text);
    font-weight: bold;
    text-decoration: none;
}
</style>
<style>/* Boilerplate: style-md-lists */
/* This is a weird hack for me not yet following the commonmark spec
   regarding paragraph and lists. */
[data-md] > :first-child {
    margin-top: 0;
}
[data-md] > :last-child {
    margin-bottom: 0;
}
</style>
<style>/* Boilerplate: style-mdn-anno */
:root {
	--mdn-bg: #EEE;
	--mdn-shadow: #999;
	--mdn-nosupport-text: #ccc;
}
@media (prefers-color-scheme: dark) {
	:root {
		--mdn-bg: #222;
		--mdn-shadow: #444;
		--mdn-nosupport-text: #666;
	}
}
.mdn-anno {
	background: var(--mdn-bg, #EEE);
	border-radius: .25em;
	box-shadow: 0 0 3px var(--mdn-shadow, #999);
	color: var(--text, black);
	font: 1em sans-serif;
	hyphens: none;
	max-width: min-content;
	overflow: hidden;
	padding: 0.2em;
	position: absolute;
	right: 0.3em;
	top: auto;
	white-space: nowrap;
	word-wrap: normal;
	z-index: 8;
}
.mdn-anno.unpositioned {
	display: none;
}
.mdn-anno.overlapping-main {
	opacity: .2;
	transition: opacity .1s;
}
.mdn-anno[open] {
	opacity: 1;
	z-index: 9;
	min-width: 9em;
}
.mdn-anno:hover {
	opacity: 1;
	outline: var(--text, black) 1px solid;
}
.mdn-anno > summary {
	font-weight: normal;
	text-align: right;
	cursor: pointer;
	display: block;
}
.mdn-anno > summary > .less-than-two-engines-flag {
	color: red;
	padding-right: 2px;
}
.mdn-anno > summary > .all-engines-flag {
	color: green;
	padding-right: 2px;
}
.mdn-anno > summary > span {
	color: #fff;
	background-color: #000;
	font-weight: normal;
	font-family: zillaslab, Palatino, "Palatino Linotype", serif;
	padding: 2px 3px 0px 3px;
	line-height: 1.3em;
	vertical-align: top;
}
.mdn-anno > .feature {
	margin-top: 20px;
}
.mdn-anno > .feature:not(:first-of-type) {
	border-top: 1px solid #999;
	margin-top: 6px;
	padding-top: 2px;
}
.mdn-anno > .feature > .less-than-two-engines-text {
	color: red;
}
.mdn-anno > .feature > .all-engines-text {
	color: green;
}
.mdn-anno > .feature > p {
	font-size: .75em;
	margin-top: 6px;
	margin-bottom: 0;
}
.mdn-anno > .feature > p + p {
	margin-top: 3px;
}
.mdn-anno > .feature > .support {
	display: block;
	font-size: 0.6em;
	margin: 0;
	padding: 0;
	margin-top: 2px;
}
.mdn-anno > .feature > .support + div {
	padding-top: 0.5em;
}
.mdn-anno > .feature > .support > hr {
	display: block;
	border: none;
	border-top: 1px dotted #999;
	padding: 3px 0px 0px 0px;
	margin: 2px 3px 0px 3px;
}
.mdn-anno > .feature > .support > hr::before {
	content: "";
}
.mdn-anno > .feature > .support > span {
	padding: 0.2em 0;
	display: block;
	display: table;
}
.mdn-anno > .feature > .support > span.no {
	color: var(--mdn-nosupport-text);
	filter: grayscale(100%);
}
.mdn-anno > .feature > .support > span.no::before {
	opacity: 0.5;
}
.mdn-anno > .feature > .support > span:first-of-type {
	padding-top: 0.5em;
}
.mdn-anno > .feature > .support > span > span {
	padding: 0 0.5em;
	display: table-cell;
}
.mdn-anno > .feature > .support > span > span:first-child {
	width: 100%;
}
.mdn-anno > .feature > .support > span > span:last-child {
	width: 100%;
	white-space: pre;
	padding: 0;
}
.mdn-anno > .feature > .support > span::before {
	content: ' ';
	display: table-cell;
	min-width: 1.5em;
	height: 1.5em;
	background: no-repeat center center;
	background-size: contain;
	text-align: right;
	font-size: 0.75em;
	font-weight: bold;
}
.mdn-anno > .feature > .support > .chrome_android::before {
	background-image: url(https://resources.whatwg.org/browser-logos/chrome.svg);
}
.mdn-anno > .feature > .support > .firefox_android::before {
	background-image: url(https://resources.whatwg.org/browser-logos/firefox.png);
}
.mdn-anno > .feature > .support > .chrome::before {
	background-image: url(https://resources.whatwg.org/browser-logos/chrome.svg);
}
.mdn-anno > .feature > .support > .edge_blink::before {
	background-image: url(https://resources.whatwg.org/browser-logos/edge.svg);
}
.mdn-anno > .feature > .support > .edge::before {
	background-image: url(https://resources.whatwg.org/browser-logos/edge_legacy.svg);
}
.mdn-anno > .feature > .support > .firefox::before {
	background-image: url(https://resources.whatwg.org/browser-logos/firefox.png);
}
.mdn-anno > .feature > .support > .ie::before {
	background-image: url(https://resources.whatwg.org/browser-logos/ie.png);
}
.mdn-anno > .feature > .support > .safari_ios::before {
	background-image: url(https://resources.whatwg.org/browser-logos/safari-ios.svg);
}
.mdn-anno > .feature > .support > .nodejs::before {
	background-image: url(https://nodejs.org/static/images/favicons/favicon.ico);
}
.mdn-anno > .feature > .support > .opera_android::before {
	background-image: url(https://resources.whatwg.org/browser-logos/opera.svg);
}
.mdn-anno > .feature > .support > .opera::before {
	background-image: url(https://resources.whatwg.org/browser-logos/opera.svg);
}
.mdn-anno > .feature > .support > .safari::before {
	background-image: url(https://resources.whatwg.org/browser-logos/safari.png);
}
.mdn-anno > .feature > .support > .samsunginternet_android::before {
	background-image: url(https://resources.whatwg.org/browser-logos/samsung.svg);
}
.mdn-anno > .feature > .support > .webview_android::before {
	background-image: url(https://resources.whatwg.org/browser-logos/android-webview.png);
}
.name-slug-mismatch {
	color: red;
}
.caniuse-status:hover {
	z-index: 9;
}
/* dt, li, .issue, .note, and .example are "position: relative", so to put annotation at right margin, must move to right of containing block */;
.h-entry:not(.status-LS) dt > .mdn-anno, .h-entry:not(.status-LS) li > .mdn-anno, .h-entry:not(.status-LS) .issue > .mdn-anno, .h-entry:not(.status-LS) .note > .mdn-anno, .h-entry:not(.status-LS) .example > .mdn-anno {
	right: -6.7em;
}
.h-entry p + .mdn-anno {
	margin-top: 0;
}
 h2 + .mdn-anno.after {
	margin: -48px 0 0 0;
}
 h3 + .mdn-anno.after {
	margin: -46px 0 0 0;
}
 h4 + .mdn-anno.after {
	margin: -42px 0 0 0;
}
 h5 + .mdn-anno.after {
	margin: -40px 0 0 0;
}
 h6 + .mdn-anno.after {
	margin: -40px 0 0 0;
}
</style>
<style>/* Boilerplate: style-selflinks */

:root {
    --selflink-text: white;
    --selflink-bg: gray;
    --selflink-hover-text: black;
}
.heading, .issue, .note, .example, li, dt {
    position: relative;
}
a.self-link {
    position: absolute;
    top: 0;
    left: calc(-1 * (3.5rem - 26px));
    width: calc(3.5rem - 26px);
    height: 2em;
    text-align: center;
    border: none;
    transition: opacity .2s;
    opacity: .5;
}
a.self-link:hover {
    opacity: 1;
}
.heading > a.self-link {
    font-size: 83%;
}
.example > a.self-link,
.note > a.self-link,
.issue > a.self-link {
    /* These blocks are overflow:auto, so positioning outside
       doesn't work. */
    left: auto;
    right: 0;
}
li > a.self-link {
    left: calc(-1 * (3.5rem - 26px) - 2em);
}
dfn > a.self-link {
    top: auto;
    left: auto;
    opacity: 0;
    width: 1.5em;
    height: 1.5em;
    background: var(--selflink-bg);
    color: var(--selflink-text);
    font-style: normal;
    transition: opacity .2s, background-color .2s, color .2s;
}
dfn:hover > a.self-link {
    opacity: 1;
}
dfn > a.self-link:hover {
    color: var(--selflink-hover-text);
}

a.self-link::before            { content: "¶"; }
.heading > a.self-link::before { content: "§"; }
dfn > a.self-link::before      { content: "#"; }
</style>
<style>/* Boilerplate: style-syntax-highlighting */

            pre.idl.highlight {
                background: var(--borderedblock-bg, var(--def-bg));
            }
            
</style>
<style>/* Boilerplate: style-syntax-highlighting */

code.highlight { padding: .1em; border-radius: .3em; }
pre.highlight, pre > code.highlight { display: block; padding: 1em; margin: .5em 0; overflow: auto; border-radius: 0; }

.highlight:not(.idl) { background: rgba(0, 0, 0, .03); }
c-[a] { color: #990055 } /* Keyword.Declaration */
c-[b] { color: #990055 } /* Keyword.Type */
c-[c] { color: #708090 } /* Comment */
c-[d] { color: #708090 } /* Comment.Multiline */
c-[e] { color: #0077aa } /* Name.Attribute */
c-[f] { color: #669900 } /* Name.Tag */
c-[g] { color: #222222 } /* Name.Variable */
c-[k] { color: #990055 } /* Keyword */
c-[l] { color: #000000 } /* Literal */
c-[m] { color: #000000 } /* Literal.Number */
c-[n] { color: #0077aa } /* Name */
c-[o] { color: #999999 } /* Operator */
c-[p] { color: #999999 } /* Punctuation */
c-[s] { color: #a67f59 } /* Literal.String */
c-[t] { color: #a67f59 } /* Literal.String.Single */
c-[u] { color: #a67f59 } /* Literal.String.Double */
c-[cp] { color: #708090 } /* Comment.Preproc */
c-[c1] { color: #708090 } /* Comment.Single */
c-[cs] { color: #708090 } /* Comment.Special */
c-[kc] { color: #990055 } /* Keyword.Constant */
c-[kn] { color: #990055 } /* Keyword.Namespace */
c-[kp] { color: #990055 } /* Keyword.Pseudo */
c-[kr] { color: #990055 } /* Keyword.Reserved */
c-[ld] { color: #000000 } /* Literal.Date */
c-[nc] { color: #0077aa } /* Name.Class */
c-[no] { color: #0077aa } /* Name.Constant */
c-[nd] { color: #0077aa } /* Name.Decorator */
c-[ni] { color: #0077aa } /* Name.Entity */
c-[ne] { color: #0077aa } /* Name.Exception */
c-[nf] { color: #0077aa } /* Name.Function */
c-[nl] { color: #0077aa } /* Name.Label */
c-[nn] { color: #0077aa } /* Name.Namespace */
c-[py] { color: #0077aa } /* Name.Property */
c-[ow] { color: #999999 } /* Operator.Word */
c-[mb] { color: #000000 } /* Literal.Number.Bin */
c-[mf] { color: #000000 } /* Literal.Number.Float */
c-[mh] { color: #000000 } /* Literal.Number.Hex */
c-[mi] { color: #000000 } /* Literal.Number.Integer */
c-[mo] { color: #000000 } /* Literal.Number.Oct */
c-[sb] { color: #a67f59 } /* Literal.String.Backtick */
c-[sc] { color: #a67f59 } /* Literal.String.Char */
c-[sd] { color: #a67f59 } /* Literal.String.Doc */
c-[se] { color: #a67f59 } /* Literal.String.Escape */
c-[sh] { color: #a67f59 } /* Literal.String.Heredoc */
c-[si] { color: #a67f59 } /* Literal.String.Interpol */
c-[sx] { color: #a67f59 } /* Literal.String.Other */
c-[sr] { color: #a67f59 } /* Literal.String.Regex */
c-[ss] { color: #a67f59 } /* Literal.String.Symbol */
c-[vc] { color: #0077aa } /* Name.Variable.Class */
c-[vg] { color: #0077aa } /* Name.Variable.Global */
c-[vi] { color: #0077aa } /* Name.Variable.Instance */
c-[il] { color: #000000 } /* Literal.Number.Integer.Long */


@media (prefers-color-scheme: dark) {
    .highlight:not(.idl) { background: rgba(255, 255, 255, .05); }

    c-[a] { color: #d33682 } /* Keyword.Declaration */
    c-[b] { color: #d33682 } /* Keyword.Type */
    c-[c] { color: #2aa198 } /* Comment */
    c-[d] { color: #2aa198 } /* Comment.Multiline */
    c-[e] { color: #268bd2 } /* Name.Attribute */
    c-[f] { color: #b58900 } /* Name.Tag */
    c-[g] { color: #cb4b16 } /* Name.Variable */
    c-[k] { color: #d33682 } /* Keyword */
    c-[l] { color: #657b83 } /* Literal */
    c-[m] { color: #657b83 } /* Literal.Number */
    c-[n] { color: #268bd2 } /* Name */
    c-[o] { color: #657b83 } /* Operator */
    c-[p] { color: #657b83 } /* Punctuation */
    c-[s] { color: #6c71c4 } /* Literal.String */
    c-[t] { color: #6c71c4 } /* Literal.String.Single */
    c-[u] { color: #6c71c4 } /* Literal.String.Double */
    c-[ch] { color: #2aa198 } /* Comment.Hashbang */
    c-[cp] { color: #2aa198 } /* Comment.Preproc */
    c-[cpf] { color: #2aa198 } /* Comment.PreprocFile */
    c-[c1] { color: #2aa198 } /* Comment.Single */
    c-[cs] { color: #2aa198 } /* Comment.Special */
    c-[kc] { color: #d33682 } /* Keyword.Constant */
    c-[kn] { color: #d33682 } /* Keyword.Namespace */
    c-[kp] { color: #d33682 } /* Keyword.Pseudo */
    c-[kr] { color: #d33682 } /* Keyword.Reserved */
    c-[ld] { color: #657b83 } /* Literal.Date */
    c-[nc] { color: #268bd2 } /* Name.Class */
    c-[no] { color: #268bd2 } /* Name.Constant */
    c-[nd] { color: #268bd2 } /* Name.Decorator */
    c-[ni] { color: #268bd2 } /* Name.Entity */
    c-[ne] { color: #268bd2 } /* Name.Exception */
    c-[nf] { color: #268bd2 } /* Name.Function */
    c-[nl] { color: #268bd2 } /* Name.Label */
    c-[nn] { color: #268bd2 } /* Name.Namespace */
    c-[py] { color: #268bd2 } /* Name.Property */
    c-[ow] { color: #657b83 } /* Operator.Word */
    c-[mb] { color: #657b83 } /* Literal.Number.Bin */
    c-[mf] { color: #657b83 } /* Literal.Number.Float */
    c-[mh] { color: #657b83 } /* Literal.Number.Hex */
    c-[mi] { color: #657b83 } /* Literal.Number.Integer */
    c-[mo] { color: #657b83 } /* Literal.Number.Oct */
    c-[sa] { color: #6c71c4 } /* Literal.String.Affix */
    c-[sb] { color: #6c71c4 } /* Literal.String.Backtick */
    c-[sc] { color: #6c71c4 } /* Literal.String.Char */
    c-[dl] { color: #6c71c4 } /* Literal.String.Delimiter */
    c-[sd] { color: #6c71c4 } /* Literal.String.Doc */
    c-[se] { color: #6c71c4 } /* Literal.String.Escape */
    c-[sh] { color: #6c71c4 } /* Literal.String.Heredoc */
    c-[si] { color: #6c71c4 } /* Literal.String.Interpol */
    c-[sx] { color: #6c71c4 } /* Literal.String.Other */
    c-[sr] { color: #6c71c4 } /* Literal.String.Regex */
    c-[ss] { color: #6c71c4 } /* Literal.String.Symbol */
    c-[fm] { color: #268bd2 } /* Name.Function.Magic */
    c-[vc] { color: #cb4b16 } /* Name.Variable.Class */
    c-[vg] { color: #cb4b16 } /* Name.Variable.Global */
    c-[vi] { color: #cb4b16 } /* Name.Variable.Instance */
    c-[vm] { color: #cb4b16 } /* Name.Variable.Magic */
    c-[il] { color: #657b83 } /* Literal.Number.Integer.Long */
}
</style>
<style>/* Boilerplate: style-var-click-highlighting */
/*
Colors were chosen in Lab using https://nixsensor.com/free-color-converter/
D50 2deg illuminant, L in [0,100], a and b in [-128, 128]
0 = lab(85,0,85)
1 = lab(85,80,30)
2 = lab(85,-40,40)
3 = lab(85,-50,0)
4 = lab(85,5,15)
5 = lab(85,-10,-50)
6 = lab(85,35,-15)
*/
var { cursor: pointer; }
var.selected0 { background-color: #F4D200; box-shadow: 0 0 0 2px #F4D200; }
var.selected1 { background-color: #FF87A2; box-shadow: 0 0 0 2px #FF87A2; }
var.selected2 { background-color: #96E885; box-shadow: 0 0 0 2px #96E885; }
var.selected3 { background-color: #3EEED2; box-shadow: 0 0 0 2px #3EEED2; }
var.selected4 { background-color: #EACFB6; box-shadow: 0 0 0 2px #EACFB6; }
var.selected5 { background-color: #82DDFF; box-shadow: 0 0 0 2px #82DDFF; }
var.selected6 { background-color: #FFBCF2; box-shadow: 0 0 0 2px #FFBCF2; }
</style>
 <body class="h-entry">
  <div class="head">
   <p data-fill-with="logo"><a class="logo" href="https://www.w3.org/"> <img alt="W3C" height="48" src="https://www.w3.org/StyleSheets/TR/2021/logos/W3C" width="72"> </a> </p>
   <h1 class="p-name no-ref" id="title">WebXR Hit Test Module</h1>
   <p id="w3c-state"><a href="https://www.w3.org/standards/types#ED">Editor’s Draft</a>, <time class="dt-updated" datetime="1970-01-01">1 January 1970</time></p>
   <details open>
    <summary>More details about this document</summary>
    <div data-fill-with="spec-metadata">
     <dl>
      <dt>This version:
      <dd><a class="u-url" href="https://immersive-web.github.io/hit-test/">https://immersive-web.github.io/hit-test/</a>
      <dt class="editor">Editor:
      <dd class="editor p-author h-card vcard" data-editor-id="114482"><a class="p-name fn u-email email" href="mailto:bialpio@google.com">Piotr Bialecki</a> (<a class="p-org org" href="http://google.com/">Google</a>)
      <dt>Participate:
      <dd><a href="https://github.com/immersive-web/hit-test/issues/new">File an issue</a> (<a href="https://github.com/immersive-web/hit-test/issues">open issues</a>)
      <dd><a href="https://lists.w3.org/Archives/Public/public-immersive-web/">Mailing list archive</a>
      <dd><a href="irc://irc.w3.org:6665/">W3C’s #immersive-web IRC</a>
     </dl>
    </div>
   </details>
   <div data-fill-with="warning"></div>
   <p class="copyright" data-fill-with="copyright"><a href="https://www.w3.org/Consortium/Legal/ipr-notice#Copyright">Copyright</a> © 1970 <a href="https://www.w3.org/">World Wide Web Consortium</a>. <abbr title="World Wide Web Consortium">W3C</abbr><sup>®</sup> <a href="https://www.w3.org/Consortium/Legal/ipr-notice#Legal_Disclaimer">liability</a>, <a href="https://www.w3.org/Consortium/Legal/ipr-notice#W3C_Trademarks">trademark</a> and <a href="https://www.w3.org/Consortium/Legal/2015/copyright-software-and-document" rel="license">permissive document license</a> rules apply. </p>
   <hr title="Separator for header">
  </div>
  <div class="p-summary" data-fill-with="abstract">
   <h2 class="no-num no-toc no-ref heading settled" id="abstract"><span class="content">Abstract</span></h2>
   <p>Describes a method for performing hit tests against real world geometry to be used with the WebXR Device API.</p>
  </div>
  <h2 class="no-num no-toc no-ref heading settled" id="sotd"><span class="content">Status of this document</span></h2>
  <div data-fill-with="status">
   <p> <em>This section describes the status of this document at the time of its publication. A list of current <abbr title="World Wide Web Consortium">W3C</abbr> publications and the latest revision of this
    technical report can be found in the <a href="http://www.w3.org/TR/"><abbr title="World Wide Web Consortium">W3C</abbr> technical
    reports index</a> at http://www.w3.org/TR/.</em> </p>
   <p> This document was published by the <a href="https://www.w3.org/groups/wg/immersive-web">Immersive Web Working Group</a> as an Editors' Draft. This document is intended to become a W3C Recommendation.

    Feedback and comments on this specification are welcome. Please use <a href="https://github.com/immersive-web/hit-test/issues">Github issues</a>.
    Discussions may also be found in the <a href="http://lists.w3.org/Archives/Public/public-immersive-web-wg/">public-immersive-web-wg@w3.org archives</a>. </p>
   <p> Publication as an Editors' Draft does not imply endorsement by <abbr title="World Wide Web Consortium">W3C</abbr> and its Members. This is a draft document and may
    be updated, replaced or obsoleted by other documents at any time. It is inappropriate to cite
    this document as other than work in progress. </p>
   <p> This document was produced by a group operating under the <a href="https://www.w3.org/Consortium/Patent-Policy/">W3C Patent Policy</a>.
    W3C maintains a <a href="https://www.w3.org/groups/wg/immersive-web/ipr" rel="disclosure">public list of any patent
    disclosures</a> made in connection with the deliverables of the group; that page also includes instructions for disclosing a patent. An individual who has actual knowledge of a patent which the individual believes contains <a href="https://www.w3.org/Consortium/Patent-Policy/#def-essential">Essential
    Claim(s)</a> must disclose the information in accordance with <a href="https://www.w3.org/Consortium/Patent-Policy/#sec-Disclosure">section
    6 of the W3C Patent Policy</a>. </p>
   <p> This document is governed by the <a href="https://www.w3.org/2023/Process-20230612/" id="w3c_process_revision">12 June 2023 W3C Process Document</a>. </p>
   <p></p>
  </div>
  <div data-fill-with="at-risk"></div>
  <nav data-fill-with="table-of-contents" id="toc">
   <h2 class="no-num no-toc no-ref" id="contents">Table of Contents</h2>
   <ol class="toc" role="directory">
    <li>
     <a href="#intro"><span class="secno">1</span> <span class="content">Introduction</span></a>
     <ol class="toc">
      <li><a href="#terminology"><span class="secno">1.1</span> <span class="content">Terminology</span></a>
     </ol>
    <li>
     <a href="#hit-test-initialization"><span class="secno">2</span> <span class="content">Initialization</span></a>
     <ol class="toc">
      <li><a href="#hit-test-feature-descriptor"><span class="secno">2.1</span> <span class="content">Feature descriptor</span></a>
     </ol>
    <li>
     <a href="#hit-test-options"><span class="secno">3</span> <span class="content">Hit test options</span></a>
     <ol class="toc">
      <li><a href="#hit-test-trackable-type-enum"><span class="secno">3.1</span> <span class="content">XRHitTestTrackableType</span></a>
      <li><a href="#hit-test-options-dictionary"><span class="secno">3.2</span> <span class="content">XRHitTestOptionsInit</span></a>
      <li><a href="#transient-input-hit-test-options-dictionary"><span class="secno">3.3</span> <span class="content">XRTransientInputHitTestOptionsInit</span></a>
     </ol>
    <li>
     <a href="#hit-test-source"><span class="secno">4</span> <span class="content">Hit test source</span></a>
     <ol class="toc">
      <li><a href="#hit-test-source-interface"><span class="secno">4.1</span> <span class="content">XRHitTestSource</span></a>
      <li><a href="#transient-input-hit-test-source-interface"><span class="secno">4.2</span> <span class="content">XRTransientInputHitTestSource</span></a>
     </ol>
    <li>
     <a href="#hit-test-result"><span class="secno">5</span> <span class="content">Hit test result</span></a>
     <ol class="toc">
      <li><a href="#xr-hit-test-result-interface"><span class="secno">5.1</span> <span class="content">XRHitTestResult</span></a>
      <li><a href="#xr-transient-input-hit-test-result-interface"><span class="secno">5.2</span> <span class="content">XRTransientInputHitTestResult</span></a>
     </ol>
    <li><a href="#requesting-hit-test"><span class="secno">6</span> <span class="content">Requesting hit test</span></a>
    <li><a href="#computing-hit-test-results"><span class="secno">7</span> <span class="content">Computing hit test results</span></a>
    <li><a href="#obtaining-hit-test-results"><span class="secno">8</span> <span class="content">Obtaining hit test results</span></a>
    <li>
     <a href="#geometric-primitives"><span class="secno">9</span> <span class="content">Geometric primitives</span></a>
     <ol class="toc">
      <li><a href="#xr-ray-direction-init-dictionary"><span class="secno">9.1</span> <span class="content">XRRayDirectionInit</span></a>
      <li><a href="#xrray-interface"><span class="secno">9.2</span> <span class="content">XRRay</span></a>
     </ol>
    <li>
     <a href="#native-device-concepts"><span class="secno">10</span> <span class="content">Native device concepts</span></a>
     <ol class="toc">
      <li><a href="#native-hit-test-section"><span class="secno">10.1</span> <span class="content">Native hit test</span></a>
      <li><a href="#native-entity-type-section"><span class="secno">10.2</span> <span class="content">Native entity type</span></a>
      <li><a href="#native-hit-test-result-section"><span class="secno">10.3</span> <span class="content">Native hit test result</span></a>
     </ol>
    <li><a href="#privacy-security"><span class="secno">11</span> <span class="content">Privacy &amp; Security Considerations</span></a>
    <li><a href="#ack"><span class="secno">12</span> <span class="content">Acknowledgements</span></a>
    <li>
     <a href="#w3c-conformance"><span class="secno"></span> <span class="content">Conformance</span></a>
     <ol class="toc">
      <li><a href="#w3c-conventions"><span class="secno"></span> <span class="content">Document conventions</span></a>
      <li><a href="#w3c-conformant-algorithms"><span class="secno"></span> <span class="content">Conformant Algorithms</span></a>
     </ol>
    <li>
     <a href="#index"><span class="secno"></span> <span class="content">Index</span></a>
     <ol class="toc">
      <li><a href="#index-defined-here"><span class="secno"></span> <span class="content">Terms defined by this specification</span></a>
      <li><a href="#index-defined-elsewhere"><span class="secno"></span> <span class="content">Terms defined by reference</span></a>
     </ol>
    <li>
     <a href="#references"><span class="secno"></span> <span class="content">References</span></a>
     <ol class="toc">
      <li><a href="#normative"><span class="secno"></span> <span class="content">Normative References</span></a>
     </ol>
    <li><a href="#idl-index"><span class="secno"></span> <span class="content">IDL Index</span></a>
    <li><a href="#issues-index"><span class="secno"></span> <span class="content">Issues Index</span></a>
   </ol>
  </nav>
  <main>
   <h2 class="heading settled" data-level="1" id="intro"><span class="secno">1. </span><span class="content">Introduction</span><a class="self-link" href="#intro"></a></h2>
   <section class="non-normative">
    <p>This module describes a mechanism for allowing WebXR applications to cast rays into the users' real world environment and report back, to the best of the XR device’s knowledge, the point at which the ray intersected with a physical object along with the orientation of the intersected surface. This allows for virtual objects to be placed in alignment with those surfaces, such as placing objects realistically on the floor or attaching them to a wall. The hit test API is an extension to <a href="https://www.w3.org/TR/webxr/">WebXR Device API</a> and builds on top of <a href="https://github.com/immersive-web/webxr-ar-module/">WebXR Augmented Reality Module</a>.</p>
   </section>
   <h3 class="heading settled" data-level="1.1" id="terminology"><span class="secno">1.1. </span><span class="content">Terminology</span><a class="self-link" href="#terminology"></a></h3>
   <p>Hit testing, as understood by this document, is an act of checking if an idealised mathematical ray (half-line) intersects with real world as understood by the underlying Augmented Reality hardware &amp; software. Ray intersections against virtual objects created by the application consuming the API are explicitly out of scope of the hit test API.</p>
   <h2 class="heading settled" data-level="2" id="hit-test-initialization"><span class="secno">2. </span><span class="content">Initialization</span><a class="self-link" href="#hit-test-initialization"></a></h2>
   <h3 class="heading settled" data-level="2.1" id="hit-test-feature-descriptor"><span class="secno">2.1. </span><span class="content">Feature descriptor</span><a class="self-link" href="#hit-test-feature-descriptor"></a></h3>
   <p>In order for the applications to signal their interest in performing hit testing during a session, the session must be requested with appropriate <a data-link-type="dfn" href="https://www.w3.org/TR/webxr/#feature-descriptor" id="ref-for-feature-descriptor">feature descriptor</a>. The string <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="hit-test">hit-test</dfn> is introduced by this module as a new valid feature descriptor for hit test feature.</p>
   <p>A device is <a data-link-type="dfn" href="https://www.w3.org/TR/webxr/#capable-of-supporting" id="ref-for-capable-of-supporting">capable of supporting</a> the hit test feature if the device exposes a <a data-link-type="dfn" href="#native-hit-test" id="ref-for-native-hit-test">native hit test</a> capability. The <a data-link-type="dfn" href="https://www.w3.org/TR/webxr/#inline-xr-device" id="ref-for-inline-xr-device">inline XR device</a> MUST NOT be treated as <a data-link-type="dfn" href="https://www.w3.org/TR/webxr/#capable-of-supporting" id="ref-for-capable-of-supporting①">capable of supporting</a> the hit test feature.</p>
   <p>The hit test feature is subject to <a data-link-type="dfn" href="https://www.w3.org/TR/webxr/#feature-policy" id="ref-for-feature-policy">feature policy</a> and requires <code>"xr-spatial-tracking"</code> policy to be allowed on the requesting document’s origin.</p>
   <h2 class="heading settled" data-level="3" id="hit-test-options"><span class="secno">3. </span><span class="content">Hit test options</span><a class="self-link" href="#hit-test-options"></a></h2>
   <h3 class="heading settled" data-level="3.1" id="hit-test-trackable-type-enum"><span class="secno">3.1. </span><span class="content">XRHitTestTrackableType</span><a class="self-link" href="#hit-test-trackable-type-enum"></a></h3>
   <section class="unstable">
    <p>An <code class="idl"><a data-link-type="idl" href="#enumdef-xrhittesttrackabletype" id="ref-for-enumdef-xrhittesttrackabletype">XRHitTestTrackableType</a></code> enum specifies the type of entity that can be used for the purposes of hit test source creation.</p>
<pre class="idl highlight def"><c- b>enum</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="enum" data-export id="enumdef-xrhittesttrackabletype"><code><c- g>XRHitTestTrackableType</c-></code></dfn> {
  <a class="idl-code" data-link-type="enum-value" href="#dom-xrhittesttrackabletype-point" id="ref-for-dom-xrhittesttrackabletype-point"><c- s>"point"</c-></a>,
  <a class="idl-code" data-link-type="enum-value" href="#dom-xrhittesttrackabletype-plane" id="ref-for-dom-xrhittesttrackabletype-plane"><c- s>"plane"</c-></a>,
  <a class="idl-code" data-link-type="enum-value" href="#dom-xrhittesttrackabletype-mesh" id="ref-for-dom-xrhittesttrackabletype-mesh"><c- s>"mesh"</c-></a>
};
</pre>
    <ul>
     <li data-md>
      <p>A hit test trackable of type <dfn class="dfn-paneled idl-code" data-dfn-for="XRHitTestTrackableType" data-dfn-type="enum-value" data-export id="dom-xrhittesttrackabletype-point"><code>"point"</code></dfn> indicates that the hit test results will be computed based on the feature points detected by the underlying Augmented Reality system.</p>
     <li data-md>
      <p>A hit test trackable of type <dfn class="dfn-paneled idl-code" data-dfn-for="XRHitTestTrackableType" data-dfn-type="enum-value" data-export id="dom-xrhittesttrackabletype-plane"><code>"plane"</code></dfn> indicates that the hit test results will be computed based on the planes detected by the underlying Augmented Reality system.</p>
     <li data-md>
      <p>A hit test trackable of type <dfn class="dfn-paneled idl-code" data-dfn-for="XRHitTestTrackableType" data-dfn-type="enum-value" data-export id="dom-xrhittesttrackabletype-mesh"><code>"mesh"</code></dfn> indicates that the hit test results will be computed based on the meshes detected by the underlying Augmented Reality system.</p>
    </ul>
   </section>
   <h3 class="heading settled" data-level="3.2" id="hit-test-options-dictionary"><span class="secno">3.2. </span><span class="content">XRHitTestOptionsInit</span><a class="self-link" href="#hit-test-options-dictionary"></a></h3>
   <p>An <code class="idl"><a data-link-type="idl" href="#dictdef-xrhittestoptionsinit" id="ref-for-dictdef-xrhittestoptionsinit">XRHitTestOptionsInit</a></code> dictionary represents a set of configurable values that affect the behavior of the hit test being performed.</p>
<pre class="idl highlight def"><c- b>dictionary</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="dictionary" data-export id="dictdef-xrhittestoptionsinit"><code><c- g>XRHitTestOptionsInit</c-></code></dfn> {
  <c- b>required</c-> <a data-link-type="idl-name" href="https://immersive-web.github.io/webxr/#xrspace" id="ref-for-xrspace"><c- n>XRSpace</c-></a> <a class="idl-code" data-link-type="dict-member" data-type="XRSpace " href="#dom-xrhittestoptionsinit-space" id="ref-for-dom-xrhittestoptionsinit-space"><c- g>space</c-></a>;
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-frozen-array" id="ref-for-idl-frozen-array"><c- b>FrozenArray</c-></a>&lt;<a data-link-type="idl-name" href="#enumdef-xrhittesttrackabletype" id="ref-for-enumdef-xrhittesttrackabletype①"><c- n>XRHitTestTrackableType</c-></a>> <a class="idl-code" data-link-type="dict-member" data-type="FrozenArray<XRHitTestTrackableType> " href="#dom-xrhittestoptionsinit-entitytypes" id="ref-for-dom-xrhittestoptionsinit-entitytypes"><c- g>entityTypes</c-></a>;
  <a data-link-type="idl-name" href="#xrray" id="ref-for-xrray"><c- n>XRRay</c-></a> <a class="idl-code" data-link-type="dict-member" data-type="XRRay " href="#dom-xrhittestoptionsinit-offsetray" id="ref-for-dom-xrhittestoptionsinit-offsetray"><c- g>offsetRay</c-></a>;
};
</pre>
   <p>The <dfn class="dfn-paneled idl-code" data-dfn-for="XRHitTestOptionsInit" data-dfn-type="dict-member" data-export id="dom-xrhittestoptionsinit-space"><code>space</code></dfn> dictionary member specifies <code class="idl"><a data-link-type="idl" href="https://immersive-web.github.io/webxr/#xrspace" id="ref-for-xrspace①">XRSpace</a></code> relative to which the <code class="idl"><a data-link-type="idl" href="#dom-xrhittestoptionsinit-offsetray" id="ref-for-dom-xrhittestoptionsinit-offsetray①">offsetRay</a></code> is specified.</p>
   <section class="unstable"> The <dfn class="dfn-paneled idl-code" data-dfn-for="XRHitTestOptionsInit" data-dfn-type="dict-member" data-export id="dom-xrhittestoptionsinit-entitytypes"><code>entityTypes</code></dfn> dictionary member specifies array of <a class="idl-code" data-link-type="enum" href="#enumdef-xrhittesttrackabletype" id="ref-for-enumdef-xrhittesttrackabletype②">XRHitTestTrackableTypes</a> that will be used to compute results of the hit test. </section>
   <p>The <dfn class="dfn-paneled idl-code" data-dfn-for="XRHitTestOptionsInit" data-dfn-type="dict-member" data-export id="dom-xrhittestoptionsinit-offsetray"><code>offsetRay</code></dfn> dictionary member specifies <code class="idl"><a data-link-type="idl" href="#xrray" id="ref-for-xrray①">XRRay</a></code> that will be used to perform hit test. The <code class="idl"><a data-link-type="idl" href="#dom-xrhittestoptionsinit-offsetray" id="ref-for-dom-xrhittestoptionsinit-offsetray②">offsetRay</a></code> will be interpreted as if expressed in a coordinate system defined by <code class="idl"><a data-link-type="idl" href="#dom-xrhittestoptionsinit-space" id="ref-for-dom-xrhittestoptionsinit-space①">space</a></code>.</p>
   <section class="unstable"> The <code class="idl"><a data-link-type="idl" href="#dictdef-xrhittestoptionsinit" id="ref-for-dictdef-xrhittestoptionsinit①">XRHitTestOptionsInit</a></code> dictionary has an associated <dfn class="dfn-paneled" data-dfn-for="XRHitTestOptionsInit" data-dfn-type="dfn" data-noexport id="xrhittestoptionsinit-effective-entitytypes">effective entityTypes</dfn> which is set to <code class="idl"><a data-link-type="idl" href="#dom-xrhittestoptionsinit-entitytypes" id="ref-for-dom-xrhittestoptionsinit-entitytypes①">entityTypes</a></code> if it was provided at dictionary construction time. If the <code class="idl"><a data-link-type="idl" href="#dom-xrhittestoptionsinit-entitytypes" id="ref-for-dom-xrhittestoptionsinit-entitytypes②">entityTypes</a></code> was not provided at construction time, the <a data-link-type="dfn" href="#xrhittestoptionsinit-effective-entitytypes" id="ref-for-xrhittestoptionsinit-effective-entitytypes">effective entityTypes</a> is set to an array containing single element, <code class="idl"><a data-link-type="idl" href="#dom-xrhittesttrackabletype-plane" id="ref-for-dom-xrhittesttrackabletype-plane①">"plane"</a></code>. </section>
   <p>The <code class="idl"><a data-link-type="idl" href="#dictdef-xrhittestoptionsinit" id="ref-for-dictdef-xrhittestoptionsinit②">XRHitTestOptionsInit</a></code> dictionary has an associated <dfn class="dfn-paneled" data-dfn-for="XRHitTestOptionsInit" data-dfn-type="dfn" data-noexport id="xrhittestoptionsinit-effective-offsetray">effective offsetRay</dfn> which is set to <code class="idl"><a data-link-type="idl" href="#dom-xrhittestoptionsinit-offsetray" id="ref-for-dom-xrhittestoptionsinit-offsetray③">offsetRay</a></code> if it was provided at dictionary construction time. If the <code class="idl"><a data-link-type="idl" href="#dom-xrhittestoptionsinit-offsetray" id="ref-for-dom-xrhittestoptionsinit-offsetray④">offsetRay</a></code> was not provided at construction time, the <a data-link-type="dfn" href="#xrhittestoptionsinit-effective-offsetray" id="ref-for-xrhittestoptionsinit-effective-offsetray">effective offsetRay</a> is set to an <code class="idl"><a data-link-type="idl" href="#xrray" id="ref-for-xrray②">XRRay</a></code> constructed by invoking <code class="idl"><a data-link-type="idl" href="#dom-xrray-xrray" id="ref-for-dom-xrray-xrray">XRRay()</a></code> without any parameters.</p>
   <h3 class="heading settled" data-level="3.3" id="transient-input-hit-test-options-dictionary"><span class="secno">3.3. </span><span class="content">XRTransientInputHitTestOptionsInit</span><a class="self-link" href="#transient-input-hit-test-options-dictionary"></a></h3>
   <p>An <code class="idl"><a data-link-type="idl" href="#dictdef-xrtransientinputhittestoptionsinit" id="ref-for-dictdef-xrtransientinputhittestoptionsinit">XRTransientInputHitTestOptionsInit</a></code> dictionary represents a set of configurable values that affect the behavior of the hit test for transient input that is being performed.</p>
<pre class="idl highlight def"><c- b>dictionary</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="dictionary" data-export id="dictdef-xrtransientinputhittestoptionsinit"><code><c- g>XRTransientInputHitTestOptionsInit</c-></code></dfn> {
  <c- b>required</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString" id="ref-for-idl-DOMString"><c- b>DOMString</c-></a> <a class="idl-code" data-link-type="dict-member" data-type="DOMString " href="#dom-xrtransientinputhittestoptionsinit-profile" id="ref-for-dom-xrtransientinputhittestoptionsinit-profile"><c- g>profile</c-></a>;
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-frozen-array" id="ref-for-idl-frozen-array①"><c- b>FrozenArray</c-></a>&lt;<a data-link-type="idl-name" href="#enumdef-xrhittesttrackabletype" id="ref-for-enumdef-xrhittesttrackabletype③"><c- n>XRHitTestTrackableType</c-></a>> <a class="idl-code" data-link-type="dict-member" data-type="FrozenArray<XRHitTestTrackableType> " href="#dom-xrtransientinputhittestoptionsinit-entitytypes" id="ref-for-dom-xrtransientinputhittestoptionsinit-entitytypes"><c- g>entityTypes</c-></a>;
  <a data-link-type="idl-name" href="#xrray" id="ref-for-xrray③"><c- n>XRRay</c-></a> <a class="idl-code" data-link-type="dict-member" data-type="XRRay " href="#dom-xrtransientinputhittestoptionsinit-offsetray" id="ref-for-dom-xrtransientinputhittestoptionsinit-offsetray"><c- g>offsetRay</c-></a>;
};
</pre>
   <p>The <dfn class="dfn-paneled idl-code" data-dfn-for="XRTransientInputHitTestOptionsInit" data-dfn-type="dict-member" data-export id="dom-xrtransientinputhittestoptionsinit-profile"><code>profile</code></dfn> dictionary member specifies an <a data-link-type="dfn" href="https://www.w3.org/TR/webxr/#xrinputsource-input-profile-name" id="ref-for-xrinputsource-input-profile-name">input profile name</a> of the transient input source that will be used to compute hit test results.</p>
   <section class="unstable"> The <dfn class="dfn-paneled idl-code" data-dfn-for="XRTransientInputHitTestOptionsInit" data-dfn-type="dict-member" data-export id="dom-xrtransientinputhittestoptionsinit-entitytypes"><code>entityTypes</code></dfn> dictionary member specifies array of <a class="idl-code" data-link-type="enum" href="#enumdef-xrhittesttrackabletype" id="ref-for-enumdef-xrhittesttrackabletype④">XRHitTestTrackableTypes</a> that will be used to compute results of the hit test. </section>
   <p>The <dfn class="dfn-paneled idl-code" data-dfn-for="XRTransientInputHitTestOptionsInit" data-dfn-type="dict-member" data-export id="dom-xrtransientinputhittestoptionsinit-offsetray"><code>offsetRay</code></dfn> dictionary member specifies <code class="idl"><a data-link-type="idl" href="#xrray" id="ref-for-xrray④">XRRay</a></code> that will be used to perform hit test. The <code class="idl"><a data-link-type="idl" href="#dom-xrtransientinputhittestoptionsinit-offsetray" id="ref-for-dom-xrtransientinputhittestoptionsinit-offsetray①">offsetRay</a></code> will be interpreted as if expressed in a coordinate system defined by <code class="idl"><a data-link-type="idl" href="https://immersive-web.github.io/webxr/#xrinputsource" id="ref-for-xrinputsource">XRInputSource</a></code> whose profile matches the passed in <code class="idl"><a data-link-type="idl" href="#dom-xrtransientinputhittestoptionsinit-profile" id="ref-for-dom-xrtransientinputhittestoptionsinit-profile①">profile</a></code> when computing hit test results for transient input sources.</p>
   <section class="unstable"> The <code class="idl"><a data-link-type="idl" href="#dictdef-xrtransientinputhittestoptionsinit" id="ref-for-dictdef-xrtransientinputhittestoptionsinit①">XRTransientInputHitTestOptionsInit</a></code> dictionary has an associated <dfn class="dfn-paneled" data-dfn-for="XRTransientInputHitTestOptionsInit" data-dfn-type="dfn" data-noexport id="xrtransientinputhittestoptionsinit-effective-entitytypes">effective entityTypes</dfn> which is set to <code class="idl"><a data-link-type="idl" href="#dom-xrtransientinputhittestoptionsinit-entitytypes" id="ref-for-dom-xrtransientinputhittestoptionsinit-entitytypes①">entityTypes</a></code> if it was provided at dictionary construction time. If the <code class="idl"><a data-link-type="idl" href="#dom-xrtransientinputhittestoptionsinit-entitytypes" id="ref-for-dom-xrtransientinputhittestoptionsinit-entitytypes②">entityTypes</a></code> was not provided at construction time, the <a data-link-type="dfn" href="#xrtransientinputhittestoptionsinit-effective-entitytypes" id="ref-for-xrtransientinputhittestoptionsinit-effective-entitytypes">effective entityTypes</a> is set to an array containing single element, <code class="idl"><a data-link-type="idl" href="#dom-xrhittesttrackabletype-plane" id="ref-for-dom-xrhittesttrackabletype-plane②">"plane"</a></code>. </section>
   <p>The <code class="idl"><a data-link-type="idl" href="#dictdef-xrtransientinputhittestoptionsinit" id="ref-for-dictdef-xrtransientinputhittestoptionsinit②">XRTransientInputHitTestOptionsInit</a></code> dictionary has an associated <dfn class="dfn-paneled" data-dfn-for="XRTransientInputHitTestOptionsInit" data-dfn-type="dfn" data-noexport id="xrtransientinputhittestoptionsinit-effective-offsetray">effective offsetRay</dfn> which is set to <code class="idl"><a data-link-type="idl" href="#dom-xrtransientinputhittestoptionsinit-offsetray" id="ref-for-dom-xrtransientinputhittestoptionsinit-offsetray②">offsetRay</a></code> if it was provided at dictionary construction time. If the <code class="idl"><a data-link-type="idl" href="#dom-xrtransientinputhittestoptionsinit-offsetray" id="ref-for-dom-xrtransientinputhittestoptionsinit-offsetray③">offsetRay</a></code> was not provided at construction time, the <a data-link-type="dfn" href="#xrtransientinputhittestoptionsinit-effective-offsetray" id="ref-for-xrtransientinputhittestoptionsinit-effective-offsetray">effective offsetRay</a> is set to an <code class="idl"><a data-link-type="idl" href="#xrray" id="ref-for-xrray⑤">XRRay</a></code> constructed by invoking <code class="idl"><a data-link-type="idl" href="#dom-xrray-xrray" id="ref-for-dom-xrray-xrray①">XRRay()</a></code> without any parameters.</p>
   <h2 class="heading settled" data-level="4" id="hit-test-source"><span class="secno">4. </span><span class="content">Hit test source</span><a class="self-link" href="#hit-test-source"></a></h2>
   <h3 class="heading settled" data-level="4.1" id="hit-test-source-interface"><span class="secno">4.1. </span><span class="content">XRHitTestSource</span><a class="self-link" href="#hit-test-source-interface"></a></h3>
<pre class="idl highlight def">[<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#SecureContext" id="ref-for-SecureContext"><c- g>SecureContext</c-></a>, <a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Exposed" id="ref-for-Exposed"><c- g>Exposed</c-></a>=<c- n>Window</c->]
<c- b>interface</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="interface" data-export id="xrhittestsource"><code><c- g>XRHitTestSource</c-></code></dfn> {
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-undefined" id="ref-for-idl-undefined"><c- b>undefined</c-></a> <a class="idl-code" data-link-type="method" href="#dom-xrhittestsource-cancel" id="ref-for-dom-xrhittestsource-cancel"><c- g>cancel</c-></a>();
};
</pre>
   <p>The <code class="idl"><a data-link-type="idl" href="#xrhittestsource" id="ref-for-xrhittestsource">XRHitTestSource</a></code> object serves as a handle to an active subscription to hit test.</p>
   <p>Each <code class="idl"><a data-link-type="idl" href="#xrhittestsource" id="ref-for-xrhittestsource①">XRHitTestSource</a></code> has an associated <dfn class="dfn-paneled" data-dfn-for="XRHitTestSource" data-dfn-type="dfn" data-noexport id="xrhittestsource-session">session</dfn> which stores an <code class="idl"><a data-link-type="idl" href="https://www.w3.org/TR/webxr/#xrsession-interface" id="ref-for-xrsession-interface">XRSession</a></code> that was used to create the hit test source.</p>
   <p>Each <code class="idl"><a data-link-type="idl" href="#xrhittestsource" id="ref-for-xrhittestsource②">XRHitTestSource</a></code> has an associated <dfn class="dfn-paneled" data-dfn-for="XRHitTestSource" data-dfn-type="dfn" data-noexport id="xrhittestsource-native-origin">native origin</dfn> which stores information sufficient to identify the <a data-link-type="dfn" href="https://www.w3.org/TR/webxr/#xrspace-native-origin" id="ref-for-xrspace-native-origin">native origin</a> of an <code class="idl"><a data-link-type="idl" href="https://immersive-web.github.io/webxr/#xrspace" id="ref-for-xrspace②">XRSpace</a></code> that was used to <a data-link-type="dfn" href="#request-hit-test" id="ref-for-request-hit-test">request hit test</a>. This information will be subsequently used when computing hit test results.</p>
   <section class="unstable"> Each <code class="idl"><a data-link-type="idl" href="#xrhittestsource" id="ref-for-xrhittestsource③">XRHitTestSource</a></code> has an associated <dfn class="dfn-paneled" data-dfn-for="XRHitTestSource" data-dfn-type="dfn" data-noexport id="xrhittestsource-entity-types">entity types</dfn>, which is an array of <a class="idl-code" data-link-type="enum" href="#enumdef-xrhittesttrackabletype" id="ref-for-enumdef-xrhittesttrackabletype⑤">XRHitTestTrackableTypes</a> describing which entity types will be considered when computing hit test results. </section>
   <p>Each <code class="idl"><a data-link-type="idl" href="#xrhittestsource" id="ref-for-xrhittestsource④">XRHitTestSource</a></code> has an associated <dfn class="dfn-paneled" data-dfn-for="XRHitTestSource" data-dfn-type="dfn" data-noexport id="xrhittestsource-offset-ray">offset ray</dfn>, which is an <code class="idl"><a data-link-type="idl" href="#xrray" id="ref-for-xrray⑥">XRRay</a></code> that will be used when computing hit test results.</p>
   <p><code class="idl"><a data-link-type="idl" href="#xrhittestsource" id="ref-for-xrhittestsource⑤">XRHitTestSource</a></code> is considered <dfn class="dfn-paneled" data-dfn-for="XRHitTestSource" data-dfn-type="dfn" data-noexport id="xrhittestsource-active">active</dfn> for as long as it’s present in <a data-link-type="dfn" href="#xrhittestsource-session" id="ref-for-xrhittestsource-session">session</a>'s <a data-link-type="dfn" href="#xrsession-set-of-active-hit-test-sources" id="ref-for-xrsession-set-of-active-hit-test-sources">set of active hit test sources</a>.</p>
   <div class="algorithm" data-algorithm="create-hit-test-source">
    <p>In order to <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="create-a-hit-test-source">create a hit test source</dfn> from <var>session</var>, <var>space</var>, <var>entityTypes</var> and <var>offsetRay</var>, the user agent MUST run the following steps:</p>
    <ol>
     <li data-md>
      <p>Let <var>hitTestSource</var> be a new <code class="idl"><a data-link-type="idl" href="#xrhittestsource" id="ref-for-xrhittestsource⑥">XRHitTestSource</a></code>.</p>
     <li data-md>
      <p>Initialize <var>hitTestSource</var>’s <a data-link-type="dfn" href="#xrhittestsource-session" id="ref-for-xrhittestsource-session①">session</a> to <var>session</var>.</p>
     <li data-md>
      <p>Initialize <var>hitTestSource</var>’s <a data-link-type="dfn" href="#xrhittestsource-native-origin" id="ref-for-xrhittestsource-native-origin">native origin</a> to <var>space</var>’s <a data-link-type="dfn" href="https://www.w3.org/TR/webxr/#xrspace-native-origin" id="ref-for-xrspace-native-origin①">native origin</a>.</p>
     <li data-md>
      <p>Initialize <var>hitTestSource</var>’s <a data-link-type="dfn" href="#xrhittestsource-entity-types" id="ref-for-xrhittestsource-entity-types">entity types</a> to <var>entityTypes</var>.</p>
     <li data-md>
      <p>Compute <var>transformedOffsetRay</var> from <var>offsetRay</var> and <var>space</var> such that <var>transformedOffsetRay</var>, when interpreted in <var>space</var>’s <a data-link-type="dfn" href="https://www.w3.org/TR/webxr/#xrspace-native-origin" id="ref-for-xrspace-native-origin②">native origin</a> coordinate system, represents the same ray as <var>offsetRay</var> does when interpreted in <var>space</var>’s <a data-link-type="dfn" href="https://www.w3.org/TR/webxr/#xrspace-effective-origin" id="ref-for-xrspace-effective-origin">effective origin</a> coordinate system.</p>
     <li data-md>
      <p>Initialize <var>hitTestSource</var>’s <a data-link-type="dfn" href="#xrhittestsource-offset-ray" id="ref-for-xrhittestsource-offset-ray">offset ray</a> to <var>transformedOffsetRay</var>.</p>
     <li data-md>
      <p>Return <var>hitTestSource</var>.</p>
    </ol>
   </div>
   <p>The <dfn class="dfn-paneled idl-code" data-dfn-for="XRHitTestSource" data-dfn-type="method" data-export id="dom-xrhittestsource-cancel"><code>cancel()</code></dfn> method, when invoked on <code class="idl"><a data-link-type="idl" href="#xrhittestsource" id="ref-for-xrhittestsource⑦">XRHitTestSource</a></code> <var>hitTestSource</var>, signals that the application is no longer interested in obtaining hit test results for the specified <var>hitTestSource</var>.</p>
   <div class="algorithm" data-algorithm="cancel-hit-test-source">
    <p>When <code class="idl"><a data-link-type="idl" href="#dom-xrhittestsource-cancel" id="ref-for-dom-xrhittestsource-cancel①">cancel()</a></code> method is invoked, the user agent MUST <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="cancel-a-hit-test-source">cancel a hit test source</dfn> by running the following steps:</p>
    <ol>
     <li data-md>
      <p>If the <var>hitTestSource</var> is not <a data-link-type="dfn" href="#xrhittestsource-active" id="ref-for-xrhittestsource-active">active</a>, throw an <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#invalidstateerror" id="ref-for-invalidstateerror">InvalidStateError</a></code> and abort these steps.</p>
     <li data-md>
      <p>Remove <var>hitTestSource</var> from <a data-link-type="dfn" href="#xrhittestsource-session" id="ref-for-xrhittestsource-session②">session</a>'s <a data-link-type="dfn" href="#xrsession-set-of-active-hit-test-sources" id="ref-for-xrsession-set-of-active-hit-test-sources①">set of active hit test sources</a>.</p>
    </ol>
   </div>
   <p>When the application no longer retains any references to a particular <code class="idl"><a data-link-type="idl" href="#xrhittestsource" id="ref-for-xrhittestsource⑧">XRHitTestSource</a></code> <var>hitTestSource</var>, the user agent MAY <a data-link-type="dfn" href="#cancel-a-hit-test-source" id="ref-for-cancel-a-hit-test-source">cancel a hit test source</a> if <var>hitTestSource</var> is still <a data-link-type="dfn" href="#xrhittestsource-active" id="ref-for-xrhittestsource-active①">active</a>. The cancelation MAY happen at an unspecified time (or not at all) and the application SHOULD NOT rely on this behavior for cleanup.</p>
   <h3 class="heading settled" data-level="4.2" id="transient-input-hit-test-source-interface"><span class="secno">4.2. </span><span class="content">XRTransientInputHitTestSource</span><a class="self-link" href="#transient-input-hit-test-source-interface"></a></h3>
<pre class="idl highlight def">[<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#SecureContext" id="ref-for-SecureContext①"><c- g>SecureContext</c-></a>, <a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Exposed" id="ref-for-Exposed①"><c- g>Exposed</c-></a>=<c- n>Window</c->]
<c- b>interface</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="interface" data-export id="xrtransientinputhittestsource"><code><c- g>XRTransientInputHitTestSource</c-></code></dfn> {
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-undefined" id="ref-for-idl-undefined①"><c- b>undefined</c-></a> <a class="idl-code" data-link-type="method" href="#dom-xrtransientinputhittestsource-cancel" id="ref-for-dom-xrtransientinputhittestsource-cancel"><c- g>cancel</c-></a>();
};
</pre>
   <p>The <code class="idl"><a data-link-type="idl" href="#xrtransientinputhittestsource" id="ref-for-xrtransientinputhittestsource">XRTransientInputHitTestSource</a></code> object serves as a handle to an active subscription to hit test for transient input sources.</p>
   <p>Each <code class="idl"><a data-link-type="idl" href="#xrtransientinputhittestsource" id="ref-for-xrtransientinputhittestsource①">XRTransientInputHitTestSource</a></code> has an associated <dfn class="dfn-paneled" data-dfn-for="XRTransientInputHitTestSource" data-dfn-type="dfn" data-noexport id="xrtransientinputhittestsource-session">session</dfn> which stores an <code class="idl"><a data-link-type="idl" href="https://www.w3.org/TR/webxr/#xrsession-interface" id="ref-for-xrsession-interface①">XRSession</a></code> that was used to create the hit test source.</p>
   <p>Each <code class="idl"><a data-link-type="idl" href="#xrtransientinputhittestsource" id="ref-for-xrtransientinputhittestsource②">XRTransientInputHitTestSource</a></code> has an associated <dfn class="dfn-paneled" data-dfn-for="XRTransientInputHitTestSource" data-dfn-type="dfn" data-noexport id="xrtransientinputhittestsource-profile">profile</dfn> which stores <a data-link-type="dfn" href="https://www.w3.org/TR/webxr/#xrinputsource-input-profile-name" id="ref-for-xrinputsource-input-profile-name①">input profile name</a> of an input source. This information will be subsequently used when computing hit test results for transient input sources.</p>
   <section class="unstable"> Each <code class="idl"><a data-link-type="idl" href="#xrtransientinputhittestsource" id="ref-for-xrtransientinputhittestsource③">XRTransientInputHitTestSource</a></code> has an associated <dfn class="dfn-paneled" data-dfn-for="XRTransientInputHitTestSource" data-dfn-type="dfn" data-noexport id="xrtransientinputhittestsource-entity-types">entity types</dfn>, which is an array of <a class="idl-code" data-link-type="enum" href="#enumdef-xrhittesttrackabletype" id="ref-for-enumdef-xrhittesttrackabletype⑥">XRHitTestTrackableTypes</a> describing which entity types will be considered when computing hit test results. </section>
   <p>Each <code class="idl"><a data-link-type="idl" href="#xrtransientinputhittestsource" id="ref-for-xrtransientinputhittestsource④">XRTransientInputHitTestSource</a></code> has an associated <dfn class="dfn-paneled" data-dfn-for="XRTransientInputHitTestSource" data-dfn-type="dfn" data-noexport id="xrtransientinputhittestsource-offset-ray">offset ray</dfn>, which is an <code class="idl"><a data-link-type="idl" href="#xrray" id="ref-for-xrray⑦">XRRay</a></code> that will be used when computing hit test results.</p>
   <p><code class="idl"><a data-link-type="idl" href="#xrtransientinputhittestsource" id="ref-for-xrtransientinputhittestsource⑤">XRTransientInputHitTestSource</a></code> is considered <dfn class="dfn-paneled" data-dfn-for="XRTransientInputHitTestSource" data-dfn-type="dfn" data-noexport id="xrtransientinputhittestsource-active">active</dfn> for as long as it’s present in <a data-link-type="dfn" href="#xrtransientinputhittestsource-session" id="ref-for-xrtransientinputhittestsource-session">session</a>'s <a data-link-type="dfn" href="#xrsession-set-of-active-hit-test-sources-for-transient-input" id="ref-for-xrsession-set-of-active-hit-test-sources-for-transient-input">set of active hit test sources for transient input</a>.</p>
   <div class="algorithm" data-algorithm="create-hit-test-source-transient">
    <p>In order to <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="create-a-hit-test-source-for-transient-input">create a hit test source for transient input</dfn> from <var>session</var>, <var>profile</var>, <var>entityTypes</var> and <var>offsetRay</var>, the user agent MUST run the following steps:</p>
    <ol>
     <li data-md>
      <p>Let <var>hitTestSource</var> be a new <code class="idl"><a data-link-type="idl" href="#xrtransientinputhittestsource" id="ref-for-xrtransientinputhittestsource⑥">XRTransientInputHitTestSource</a></code>.</p>
     <li data-md>
      <p>Initialize <var>hitTestSource</var>’s <a data-link-type="dfn" href="#xrtransientinputhittestsource-session" id="ref-for-xrtransientinputhittestsource-session①">session</a> to <var>session</var>.</p>
     <li data-md>
      <p>Initialize <var>hitTestSource</var>’s <a data-link-type="dfn" href="#xrtransientinputhittestsource-profile" id="ref-for-xrtransientinputhittestsource-profile">profile</a> to <var>profile</var>.</p>
     <li data-md>
      <p>Initialize <var>hitTestSource</var>’s <a data-link-type="dfn" href="#xrtransientinputhittestsource-entity-types" id="ref-for-xrtransientinputhittestsource-entity-types">entity types</a> to <var>entityTypes</var>.</p>
     <li data-md>
      <p>Initialize <var>hitTestSource</var>’s <a data-link-type="dfn" href="#xrtransientinputhittestsource-offset-ray" id="ref-for-xrtransientinputhittestsource-offset-ray">offset ray</a> to <var>offsetRay</var>.</p>
     <li data-md>
      <p>Return <var>hitTestSource</var>.</p>
    </ol>
   </div>
   <p>The <dfn class="dfn-paneled idl-code" data-dfn-for="XRTransientInputHitTestSource" data-dfn-type="method" data-export id="dom-xrtransientinputhittestsource-cancel"><code>cancel()</code></dfn> method, when invoked on <code class="idl"><a data-link-type="idl" href="#xrtransientinputhittestsource" id="ref-for-xrtransientinputhittestsource⑦">XRTransientInputHitTestSource</a></code> <var>hitTestSource</var>, signals that the application is no longer interested in obtaining hit test results for the specified <var>hitTestSource</var>.</p>
   <div class="algorithm" data-algorithm="cancel-hit-test-source-transient">
    <p>When <code class="idl"><a data-link-type="idl" href="#dom-xrtransientinputhittestsource-cancel" id="ref-for-dom-xrtransientinputhittestsource-cancel①">cancel()</a></code> method is invoked, the user agent MUST <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="cancel-a-hit-test-source-for-transient-input">cancel a hit test source for transient input</dfn> by running the following steps:</p>
    <ol>
     <li data-md>
      <p>If the <var>hitTestSource</var> is not <a data-link-type="dfn" href="#xrtransientinputhittestsource-active" id="ref-for-xrtransientinputhittestsource-active">active</a>, throw an <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#invalidstateerror" id="ref-for-invalidstateerror①">InvalidStateError</a></code> and abort these steps.</p>
     <li data-md>
      <p>Remove <var>hitTestSource</var> from <a data-link-type="dfn" href="#xrhittestsource-session" id="ref-for-xrhittestsource-session③">session</a>'s <a data-link-type="dfn" href="#xrsession-set-of-active-hit-test-sources-for-transient-input" id="ref-for-xrsession-set-of-active-hit-test-sources-for-transient-input①">set of active hit test sources for transient input</a>.</p>
    </ol>
   </div>
   <p>When the application no longer retains any references to a particular <code class="idl"><a data-link-type="idl" href="#xrtransientinputhittestsource" id="ref-for-xrtransientinputhittestsource⑧">XRTransientInputHitTestSource</a></code> <var>hitTestSource</var>, the user agent MAY <a data-link-type="dfn" href="#cancel-a-hit-test-source-for-transient-input" id="ref-for-cancel-a-hit-test-source-for-transient-input">cancel a hit test source for transient input</a> if <var>hitTestSource</var> is still <a data-link-type="dfn" href="#xrtransientinputhittestsource-active" id="ref-for-xrtransientinputhittestsource-active①">active</a>. The cancelation MAY happen at an unspecified time (or not at all) and the application SHOULD NOT rely on this behavior for cleanup.</p>
   <h2 class="heading settled" data-level="5" id="hit-test-result"><span class="secno">5. </span><span class="content">Hit test result</span><a class="self-link" href="#hit-test-result"></a></h2>
   <h3 class="heading settled" data-level="5.1" id="xr-hit-test-result-interface"><span class="secno">5.1. </span><span class="content">XRHitTestResult</span><a class="self-link" href="#xr-hit-test-result-interface"></a></h3>
<pre class="idl highlight def">[<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#SecureContext" id="ref-for-SecureContext②"><c- g>SecureContext</c-></a>, <a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Exposed" id="ref-for-Exposed②"><c- g>Exposed</c-></a>=<c- n>Window</c->]
<c- b>interface</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="interface" data-export id="xrhittestresult"><code><c- g>XRHitTestResult</c-></code></dfn> {
  <a data-link-type="idl-name" href="https://immersive-web.github.io/webxr/#xrpose" id="ref-for-xrpose"><c- n>XRPose</c-></a>? <a class="idl-code" data-link-type="method" href="#dom-xrhittestresult-getpose" id="ref-for-dom-xrhittestresult-getpose"><c- g>getPose</c-></a>(<a data-link-type="idl-name" href="https://immersive-web.github.io/webxr/#xrspace" id="ref-for-xrspace③"><c- n>XRSpace</c-></a> <dfn class="idl-code" data-dfn-for="XRHitTestResult/getPose(baseSpace)" data-dfn-type="argument" data-export id="dom-xrhittestresult-getpose-basespace-basespace"><code><c- g>baseSpace</c-></code><a class="self-link" href="#dom-xrhittestresult-getpose-basespace-basespace"></a></dfn>);
};
</pre>
   <p>A <code class="idl"><a data-link-type="idl" href="#xrhittestresult" id="ref-for-xrhittestresult">XRHitTestResult</a></code> contains single result of a hit test. It encapsulates information about the intersection point of the ray used to perform the hit test with user’s environment as understood by the underlying <a data-link-type="dfn" href="https://www.w3.org/TR/webxr/#xr-device" id="ref-for-xr-device">XR device</a>.</p>
   <p>Each <code class="idl"><a data-link-type="idl" href="#xrhittestresult" id="ref-for-xrhittestresult①">XRHitTestResult</a></code> has an associated <dfn class="dfn-paneled" data-dfn-for="XRHitTestResult" data-dfn-type="dfn" data-noexport id="xrhittestresult-frame">frame</dfn> which is an <code class="idl"><a data-link-type="idl" href="https://www.w3.org/TR/webxr/#xrframe-interface" id="ref-for-xrframe-interface">XRFrame</a></code> for which the result was computed.</p>
   <p>Each <code class="idl"><a data-link-type="idl" href="#xrhittestresult" id="ref-for-xrhittestresult②">XRHitTestResult</a></code> has an associated <dfn class="dfn-paneled" data-dfn-for="XRHitTestResult" data-dfn-type="dfn" data-noexport id="xrhittestresult-native-origin">native origin</dfn>. This native origin defines new coordinate system whose Y axis represents the surface’s normal vector at the intersection point.</p>
   <div class="algorithm" data-algorithm="create-hit-test-result">
    <p>In order to <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="create-a-hit-test-result">create a hit test result</dfn> given <code class="idl"><a data-link-type="idl" href="https://www.w3.org/TR/webxr/#xrframe-interface" id="ref-for-xrframe-interface①">XRFrame</a></code> <var>frame</var>, array of <code class="idl"><a data-link-type="idl" href="#enumdef-xrhittesttrackabletype" id="ref-for-enumdef-xrhittesttrackabletype⑦">XRHitTestTrackableType</a></code> <var>entityTypes</var>, and <a data-link-type="dfn" href="#native-hit-test-result" id="ref-for-native-hit-test-result">native hit test result</a> <var>nativeResult</var>, the user agent MUST run the following steps:</p>
    <ol>
     <li data-md>
      <p>Let <var>hitTestResult</var> be a new <code class="idl"><a data-link-type="idl" href="#xrhittestresult" id="ref-for-xrhittestresult③">XRHitTestResult</a></code>.</p>
     <li data-md>
      <p>Let <var>session</var> be <var>frame</var>’s <a data-link-type="dfn" href="https://www.w3.org/TR/webxr/#dom-xrframe-session" id="ref-for-dom-xrframe-session">session</a>.</p>
     <li data-md>
      <p>Let <var>device</var> be <var>session</var>’s <a data-link-type="dfn" href="https://www.w3.org/TR/webxr/#xrsession-xr-device" id="ref-for-xrsession-xr-device">XR device</a>.</p>
     <li data-md>
      <p>Query <var>device</var> for <a data-link-type="dfn" href="#native-entity-type" id="ref-for-native-entity-type">native entity type</a>, <var>nativeEntityType</var>, of the <var>nativeResult</var>.</p>
     <li data-md>
      <p><a data-link-type="dfn" href="#convert-from-native-entity-type" id="ref-for-convert-from-native-entity-type">Convert from native entity type</a> <var>nativeEntityType</var> to <var>entityType</var>.</p>
     <li data-md>
      <p>If <var>entityType</var> is <code>null</code> or is not present in <var>entityTypes</var> array, return <code>null</code> and abort these steps.</p>
     <li data-md>
      <p>Set <var>hitTestResult</var>’s <a data-link-type="dfn" href="#xrhittestresult-frame" id="ref-for-xrhittestresult-frame">frame</a> to <var>frame</var>.</p>
     <li data-md>
      <p>Set <var>hitTestResult</var>’s <a data-link-type="dfn" href="#xrhittestresult-native-origin" id="ref-for-xrhittestresult-native-origin">native origin</a> to a native origin obtained from <var>nativeResult</var>.</p>
     <li data-md>
      <p>Return <var>hitTestResult</var>.</p>
    </ol>
   </div>
   <p>The <code class="idl"><a data-link-type="idl" href="#dom-xrhittestresult-getpose" id="ref-for-dom-xrhittestresult-getpose①">getPose(baseSpace)</a></code> method, when invoked on <code class="idl"><a data-link-type="idl" href="#xrhittestresult" id="ref-for-xrhittestresult④">XRHitTestResult</a></code> <var>hitTestResult</var> with <var>baseSpace</var> parameter, provides the pose of the <var>hitTestResult</var> relative to <var>baseSpace</var> as an <code class="idl"><a data-link-type="idl" href="https://immersive-web.github.io/webxr/#xrpose" id="ref-for-xrpose①">XRPose</a></code>, at the time represented by <a data-link-type="dfn" href="#xrhittestresult-frame" id="ref-for-xrhittestresult-frame①">frame</a>.</p>
   <div class="algorithm" data-algorithm="populate-result-pose">
    <p>When <dfn class="dfn-paneled idl-code" data-dfn-for="XRHitTestResult" data-dfn-type="method" data-export id="dom-xrhittestresult-getpose"><code>getPose(<var>baseSpace</var>)</code></dfn> method is invoked on <var>hitTestResult</var>, the user agent MUST run the following steps:</p>
    <ol>
     <li data-md>
      <p>Let <var>frame</var> be the <var>hitTestResult</var>’s <a data-link-type="dfn" href="#xrhittestresult-frame" id="ref-for-xrhittestresult-frame②">frame</a>.</p>
     <li data-md>
      <p>If <var>frame</var>’s <a data-link-type="dfn" href="https://www.w3.org/TR/webxr/#xrframe-active" id="ref-for-xrframe-active">active</a> boolean is <code>false</code>, throw an <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#invalidstateerror" id="ref-for-invalidstateerror②">InvalidStateError</a></code> and abort these steps.</p>
     <li data-md>
      <p>Let <var>pose</var> be a new <code class="idl"><a data-link-type="idl" href="https://immersive-web.github.io/webxr/#xrpose" id="ref-for-xrpose②">XRPose</a></code>.</p>
     <li data-md>
      <p>Let <var>space</var> be a new <code class="idl"><a data-link-type="idl" href="https://immersive-web.github.io/webxr/#xrspace" id="ref-for-xrspace④">XRSpace</a></code>, with <a data-link-type="dfn" href="https://www.w3.org/TR/webxr/#xrspace-native-origin" id="ref-for-xrspace-native-origin③">native origin</a> set to <a data-link-type="dfn" href="#xrhittestresult-native-origin" id="ref-for-xrhittestresult-native-origin①">native origin</a>, <a data-link-type="dfn" href="https://www.w3.org/TR/webxr/#xrspace-origin-offset" id="ref-for-xrspace-origin-offset">origin offset</a> set to <a data-link-type="dfn" href="https://www.w3.org/TR/webxr/#identity-transform" id="ref-for-identity-transform">identity transform</a>, and <a data-link-type="dfn" href="https://www.w3.org/TR/webxr/#xrspace-session" id="ref-for-xrspace-session">session</a> set to <a data-link-type="dfn" href="#xrhittestresult-frame" id="ref-for-xrhittestresult-frame③">frame</a>'s session.</p>
     <li data-md>
      <p><a data-link-type="dfn" href="https://www.w3.org/TR/webxr/#populate-the-pose" id="ref-for-populate-the-pose">Populate the pose</a> of <var>space</var> in <var>baseSpace</var> at the time represented by <var>frame</var> into <var>pose</var>.</p>
     <li data-md>
      <p>Return <var>pose</var>.</p>
    </ol>
   </div>
   <h3 class="heading settled" data-level="5.2" id="xr-transient-input-hit-test-result-interface"><span class="secno">5.2. </span><span class="content">XRTransientInputHitTestResult</span><a class="self-link" href="#xr-transient-input-hit-test-result-interface"></a></h3>
<pre class="idl highlight def">[<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#SecureContext" id="ref-for-SecureContext③"><c- g>SecureContext</c-></a>, <a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Exposed" id="ref-for-Exposed③"><c- g>Exposed</c-></a>=<c- n>Window</c->]
<c- b>interface</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="interface" data-export id="xrtransientinputhittestresult"><code><c- g>XRTransientInputHitTestResult</c-></code></dfn> {
  [<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#SameObject" id="ref-for-SameObject"><c- g>SameObject</c-></a>] <c- b>readonly</c-> <c- b>attribute</c-> <a data-link-type="idl-name" href="https://immersive-web.github.io/webxr/#xrinputsource" id="ref-for-xrinputsource①"><c- n>XRInputSource</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="XRTransientInputHitTestResult" data-dfn-type="attribute" data-export data-readonly data-type="XRInputSource" id="dom-xrtransientinputhittestresult-inputsource"><code><c- g>inputSource</c-></code></dfn>;
  <c- b>readonly</c-> <c- b>attribute</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-frozen-array" id="ref-for-idl-frozen-array②"><c- b>FrozenArray</c-></a>&lt;<a data-link-type="idl-name" href="#xrhittestresult" id="ref-for-xrhittestresult⑤"><c- n>XRHitTestResult</c-></a>> <dfn class="dfn-paneled idl-code" data-dfn-for="XRTransientInputHitTestResult" data-dfn-type="attribute" data-export data-readonly data-type="FrozenArray<XRHitTestResult>" id="dom-xrtransientinputhittestresult-results"><code><c- g>results</c-></code></dfn>;
};
</pre>
   <p>A <code class="idl"><a data-link-type="idl" href="#xrtransientinputhittestresult" id="ref-for-xrtransientinputhittestresult">XRTransientInputHitTestResult</a></code> contains array of result of a hit test for transient input, grouped by <code class="idl"><a data-link-type="idl" href="https://immersive-web.github.io/webxr/#xrinputsource" id="ref-for-xrinputsource②">XRInputSource</a></code> <code class="idl"><a data-link-type="idl" href="#dom-xrtransientinputhittestresult-inputsource" id="ref-for-dom-xrtransientinputhittestresult-inputsource">inputSource</a></code>.</p>
   <p>The <code class="idl"><a data-link-type="idl" href="#dom-xrtransientinputhittestresult-inputsource" id="ref-for-dom-xrtransientinputhittestresult-inputsource①">inputSource</a></code> attribute contains an <code class="idl"><a data-link-type="idl" href="https://immersive-web.github.io/webxr/#xrinputsource" id="ref-for-xrinputsource③">XRInputSource</a></code> that was used to compute the <code class="idl"><a data-link-type="idl" href="#dom-xrtransientinputhittestresult-results" id="ref-for-dom-xrtransientinputhittestresult-results">results</a></code> array.</p>
   <p>The <code class="idl"><a data-link-type="idl" href="#dom-xrtransientinputhittestresult-results" id="ref-for-dom-xrtransientinputhittestresult-results①">results</a></code> attribute contains an array of computed <code class="idl"><a data-link-type="idl" href="#xrhittestresult" id="ref-for-xrhittestresult⑥">XRHitTestResult</a></code>s.</p>
   <p>Each <code class="idl"><a data-link-type="idl" href="#xrtransientinputhittestresult" id="ref-for-xrtransientinputhittestresult①">XRTransientInputHitTestResult</a></code> has an associated <dfn class="dfn-paneled" data-dfn-for="XRTransientInputHitTestResult" data-dfn-type="dfn" data-noexport id="xrtransientinputhittestresult-frame">frame</dfn> which is an <code class="idl"><a data-link-type="idl" href="https://www.w3.org/TR/webxr/#xrframe-interface" id="ref-for-xrframe-interface②">XRFrame</a></code> for which the results were computed.</p>
   <div class="algorithm" data-algorithm="create-hit-test-result-for-transient-input">
    <p>In order to <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="create-a-hit-test-result-for-transient-input">create a hit test result for transient input</dfn> given <code class="idl"><a data-link-type="idl" href="https://immersive-web.github.io/webxr/#xrinputsource" id="ref-for-xrinputsource④">XRInputSource</a></code> <var>inputSource</var>, <code class="idl"><a data-link-type="idl" href="https://www.w3.org/TR/webxr/#xrframe-interface" id="ref-for-xrframe-interface③">XRFrame</a></code> <var>frame</var>, array of <code class="idl"><a data-link-type="idl" href="#enumdef-xrhittesttrackabletype" id="ref-for-enumdef-xrhittesttrackabletype⑧">XRHitTestTrackableType</a></code> <var>entityTypes</var>, and array of <a data-link-type="dfn" href="#native-hit-test-result" id="ref-for-native-hit-test-result①">native hit test results</a> <var>nativeResults</var>, the user agent MUST run the following steps:</p>
    <ol>
     <li data-md>
      <p>Let <var>hitTestResult</var> be a new <code class="idl"><a data-link-type="idl" href="#xrtransientinputhittestresult" id="ref-for-xrtransientinputhittestresult②">XRTransientInputHitTestResult</a></code>.</p>
     <li data-md>
      <p>Set <var>hitTestResult</var>’s <a data-link-type="dfn" href="#xrtransientinputhittestresult-frame" id="ref-for-xrtransientinputhittestresult-frame">frame</a> to <var>frame</var>.</p>
     <li data-md>
      <p>Set <var>hitTestResult</var>’s <code class="idl"><a data-link-type="idl" href="#dom-xrtransientinputhittestresult-inputsource" id="ref-for-dom-xrtransientinputhittestresult-inputsource②">inputSource</a></code> to <var>inputSource</var>.</p>
     <li data-md>
      <p>Let <var>results</var> be an empty array of <code class="idl"><a data-link-type="idl" href="#xrhittestresult" id="ref-for-xrhittestresult⑦">XRHitTestResult</a></code>s.</p>
     <li data-md>
      <p>For each <var>nativeResult</var> in <var>nativeResults</var>:</p>
      <ol>
       <li data-md>
        <p><a data-link-type="dfn" href="#create-a-hit-test-result" id="ref-for-create-a-hit-test-result">Create a hit test result</a> <var>result</var> from <var>frame</var>, <var>entityTypes</var>, and <var>nativeResult</var>.</p>
       <li data-md>
        <p>If <var>result</var> is <code>null</code>, continue to the next entry in <var>nativeResults</var>.</p>
       <li data-md>
        <p>Add <var>result</var> to <var>results</var> array.</p>
      </ol>
     <li data-md>
      <p>Set <var>hitTestResult</var>’s <code class="idl"><a data-link-type="idl" href="#dom-xrtransientinputhittestresult-results" id="ref-for-dom-xrtransientinputhittestresult-results②">results</a></code> to <var>results</var>.</p>
     <li data-md>
      <p>Return <var>hitTestResult</var>.</p>
    </ol>
   </div>
   <h2 class="heading settled" data-level="6" id="requesting-hit-test"><span class="secno">6. </span><span class="content">Requesting hit test</span><a class="self-link" href="#requesting-hit-test"></a></h2>
<pre class="idl highlight def"><c- b>partial</c-> <c- b>interface</c-> <a class="idl-code" data-link-type="interface" href="https://www.w3.org/TR/webxr/#xrsession-interface" id="ref-for-xrsession-interface②"><c- g>XRSession</c-></a> {
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise" id="ref-for-idl-promise"><c- b>Promise</c-></a>&lt;<a data-link-type="idl-name" href="#xrhittestsource" id="ref-for-xrhittestsource⑨"><c- n>XRHitTestSource</c-></a>> <a class="idl-code" data-link-type="method" href="#dom-xrsession-requesthittestsource" id="ref-for-dom-xrsession-requesthittestsource"><c- g>requestHitTestSource</c-></a>(<a data-link-type="idl-name" href="#dictdef-xrhittestoptionsinit" id="ref-for-dictdef-xrhittestoptionsinit③"><c- n>XRHitTestOptionsInit</c-></a> <dfn class="idl-code" data-dfn-for="XRSession/requestHitTestSource(options)" data-dfn-type="argument" data-export id="dom-xrsession-requesthittestsource-options-options"><code><c- g>options</c-></code><a class="self-link" href="#dom-xrsession-requesthittestsource-options-options"></a></dfn>);
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise" id="ref-for-idl-promise①"><c- b>Promise</c-></a>&lt;<a data-link-type="idl-name" href="#xrtransientinputhittestsource" id="ref-for-xrtransientinputhittestsource⑨"><c- n>XRTransientInputHitTestSource</c-></a>> <a class="idl-code" data-link-type="method" href="#dom-xrsession-requesthittestsourcefortransientinput" id="ref-for-dom-xrsession-requesthittestsourcefortransientinput"><c- g>requestHitTestSourceForTransientInput</c-></a>(<a data-link-type="idl-name" href="#dictdef-xrtransientinputhittestoptionsinit" id="ref-for-dictdef-xrtransientinputhittestoptionsinit③"><c- n>XRTransientInputHitTestOptionsInit</c-></a> <dfn class="idl-code" data-dfn-for="XRSession/requestHitTestSourceForTransientInput(options)" data-dfn-type="argument" data-export id="dom-xrsession-requesthittestsourcefortransientinput-options-options"><code><c- g>options</c-></code><a class="self-link" href="#dom-xrsession-requesthittestsourcefortransientinput-options-options"></a></dfn>);
};
</pre>
   <p>The <code class="idl"><a data-link-type="idl" href="https://www.w3.org/TR/webxr/#xrsession-interface" id="ref-for-xrsession-interface③">XRSession</a></code> is extended to contain an associated <dfn class="dfn-paneled" data-dfn-for="XRSession" data-dfn-type="dfn" data-noexport id="xrsession-set-of-active-hit-test-sources">set of active hit test sources</dfn> that will be used when computing hit test results.</p>
   <p>The <code class="idl"><a data-link-type="idl" href="https://www.w3.org/TR/webxr/#xrsession-interface" id="ref-for-xrsession-interface④">XRSession</a></code> is extended to contain an associated <dfn class="dfn-paneled" data-dfn-for="XRSession" data-dfn-type="dfn" data-noexport id="xrsession-set-of-active-hit-test-sources-for-transient-input">set of active hit test sources for transient input</dfn> that will be used when computing hit test results for transient input.</p>
   <p>The application is considered to make an <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="unreasonable-number-of-requests">unreasonable number of requests</dfn> when the total number of active hit test sources or recently made requests is considered too high for a legitimate use of the API. This is an OPTIONAL privacy measure that the user agent MAY take to avoid abuse.</p>
   <p>The application can <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="request-hit-test">request hit test</dfn> using <code class="idl"><a data-link-type="idl" href="https://www.w3.org/TR/webxr/#xrsession-interface" id="ref-for-xrsession-interface⑤">XRSession</a></code>'s <code class="idl"><a data-link-type="idl" href="#dom-xrsession-requesthittestsource" id="ref-for-dom-xrsession-requesthittestsource①">requestHitTestSource()</a></code> method.</p>
   <div class="algorithm" data-algorithm="request-hit-test-source">
    <p>The <dfn class="dfn-paneled idl-code" data-dfn-for="XRSession" data-dfn-type="method" data-export id="dom-xrsession-requesthittestsource"><code>requestHitTestSource(<var>options</var>)</code></dfn> method, when invoked on an <code class="idl"><a data-link-type="idl" href="https://www.w3.org/TR/webxr/#xrsession-interface" id="ref-for-xrsession-interface⑥">XRSession</a></code> <var>session</var>, MUST run the following steps:</p>
    <ol>
     <li data-md>
      <p>Let <var>promise</var> be <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#a-new-promise" id="ref-for-a-new-promise">a new Promise</a>.</p>
     <li data-md>
      <p>If <a data-link-type="dfn" href="#hit-test" id="ref-for-hit-test">hit-test</a> feature descriptor is not <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-contain" id="ref-for-list-contain">contained</a> in the <var>session</var>’s <a data-link-type="dfn" href="https://www.w3.org/TR/webxr/#xrsession-list-of-enabled-features" id="ref-for-xrsession-list-of-enabled-features">list of enabled features</a>, <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#reject" id="ref-for-reject">reject</a> <var>promise</var> with <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#notsupportederror" id="ref-for-notsupportederror">NotSupportedError</a></code> and abort these steps.</p>
     <li data-md>
      <p>If <var>session</var>’s <a data-link-type="dfn" href="https://www.w3.org/TR/webxr/#ended" id="ref-for-ended">ended</a> value is <code>true</code>, throw an <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#invalidstateerror" id="ref-for-invalidstateerror③">InvalidStateError</a></code> and abort these steps.</p>
     <li data-md>
      <p>The user agent MAY <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#reject" id="ref-for-reject①">reject</a> <var>promise</var> with <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#notallowederror" id="ref-for-notallowederror">NotAllowedError</a></code> and abort these steps if there is a <a data-link-type="dfn" href="#unreasonable-number-of-requests" id="ref-for-unreasonable-number-of-requests">unreasonable number of requests</a>.</p>
     <li data-md>
      <p>Add <a data-link-type="dfn" href="#compute-all-hit-test-results" id="ref-for-compute-all-hit-test-results">compute all hit test results</a> algorithm to <var>session</var>’s <a data-link-type="dfn" href="https://www.w3.org/TR/webxr/#xrsession-list-of-frame-updates" id="ref-for-xrsession-list-of-frame-updates">list of frame updates</a> if it is not already present there.</p>
     <li data-md>
      <p><a data-link-type="dfn" href="#create-a-hit-test-source" id="ref-for-create-a-hit-test-source">Create a hit test source</a>, <var>hitTestSource</var>, with <var>session</var>, <var>options</var>’ <code class="idl"><a data-link-type="idl" href="#dom-xrhittestoptionsinit-space" id="ref-for-dom-xrhittestoptionsinit-space②">space</a></code>, <var>options</var>’ <a data-link-type="dfn" href="#xrhittestoptionsinit-effective-entitytypes" id="ref-for-xrhittestoptionsinit-effective-entitytypes①">effective entityTypes</a> and <var>options</var>’ <a data-link-type="dfn" href="#xrhittestoptionsinit-effective-offsetray" id="ref-for-xrhittestoptionsinit-effective-offsetray①">effective offsetRay</a>.</p>
     <li data-md>
      <p>If <var>hitTestSource</var> is <code>null</code>, <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#reject" id="ref-for-reject②">reject</a> <var>promise</var> with an <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#operationerror" id="ref-for-operationerror">OperationError</a></code> and abort these steps.</p>
     <li data-md>
      <p>Store created <var>hitTestSource</var> in <var>session</var>’s <a data-link-type="dfn" href="#xrsession-set-of-active-hit-test-sources" id="ref-for-xrsession-set-of-active-hit-test-sources②">set of active hit test sources</a>.</p>
     <li data-md>
      <p><a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#resolve" id="ref-for-resolve">Resolve</a> <var>promise</var> with created <var>hitTestSource</var>.</p>
    </ol>
   </div>
   <div class="algorithm" data-algorithm="request-hit-test-source-for-transient-input">
    <p>The <dfn class="dfn-paneled idl-code" data-dfn-for="XRSession" data-dfn-type="method" data-export id="dom-xrsession-requesthittestsourcefortransientinput"><code>requestHitTestSourceForTransientInput(<var>options</var>)</code></dfn> method, when invoked on an <code class="idl"><a data-link-type="idl" href="https://www.w3.org/TR/webxr/#xrsession-interface" id="ref-for-xrsession-interface⑦">XRSession</a></code> <var>session</var>, MUST run the following steps:</p>
    <ol>
     <li data-md>
      <p>Let <var>promise</var> be <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#a-new-promise" id="ref-for-a-new-promise①">a new Promise</a>.</p>
     <li data-md>
      <p>If <a data-link-type="dfn" href="#hit-test" id="ref-for-hit-test①">hit-test</a> feature descriptor is not <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-contain" id="ref-for-list-contain①">contained</a> in the <var>session</var>’s <a data-link-type="dfn" href="https://www.w3.org/TR/webxr/#xrsession-list-of-enabled-features" id="ref-for-xrsession-list-of-enabled-features①">list of enabled features</a>, <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#reject" id="ref-for-reject③">reject</a> <var>promise</var> with <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#notsupportederror" id="ref-for-notsupportederror①">NotSupportedError</a></code> and abort these steps.</p>
     <li data-md>
      <p>If <var>session</var>’s <a data-link-type="dfn" href="https://www.w3.org/TR/webxr/#ended" id="ref-for-ended①">ended</a> value is <code>true</code>, throw an <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#invalidstateerror" id="ref-for-invalidstateerror④">InvalidStateError</a></code> and abort these steps.</p>
     <li data-md>
      <p>The user agent MAY <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#reject" id="ref-for-reject④">reject</a> <var>promise</var> with <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#notallowederror" id="ref-for-notallowederror①">NotAllowedError</a></code> and abort these steps if there is a <a data-link-type="dfn" href="#unreasonable-number-of-requests" id="ref-for-unreasonable-number-of-requests①">unreasonable number of requests</a>.</p>
     <li data-md>
      <p>Add <a data-link-type="dfn" href="#compute-all-hit-test-results" id="ref-for-compute-all-hit-test-results①">compute all hit test results</a> algorithm to <var>session</var>’s <a data-link-type="dfn" href="https://www.w3.org/TR/webxr/#xrsession-list-of-frame-updates" id="ref-for-xrsession-list-of-frame-updates①">list of frame updates</a> if it is not already present there.</p>
     <li data-md>
      <p><a data-link-type="dfn" href="#create-a-hit-test-source-for-transient-input" id="ref-for-create-a-hit-test-source-for-transient-input">Create a hit test source for transient input</a>, <var>hitTestSource</var>, with <var>session</var>, <var>options</var>’ <code class="idl"><a data-link-type="idl" href="#dom-xrtransientinputhittestoptionsinit-profile" id="ref-for-dom-xrtransientinputhittestoptionsinit-profile②">profile</a></code>, <var>options</var>’ <a data-link-type="dfn" href="#xrhittestoptionsinit-effective-entitytypes" id="ref-for-xrhittestoptionsinit-effective-entitytypes②">effective entityTypes</a> and <var>options</var>’ <a data-link-type="dfn" href="#xrhittestoptionsinit-effective-offsetray" id="ref-for-xrhittestoptionsinit-effective-offsetray②">effective offsetRay</a>.</p>
     <li data-md>
      <p>If <var>hitTestSource</var> is <code>null</code>, <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#reject" id="ref-for-reject⑤">reject</a> <var>promise</var> with an <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#operationerror" id="ref-for-operationerror①">OperationError</a></code> and abort these steps.</p>
     <li data-md>
      <p>Store created <var>hitTestSource</var> in <var>session</var>’s <a data-link-type="dfn" href="#xrsession-set-of-active-hit-test-sources-for-transient-input" id="ref-for-xrsession-set-of-active-hit-test-sources-for-transient-input②">set of active hit test sources for transient input</a>.</p>
     <li data-md>
      <p><a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#resolve" id="ref-for-resolve①">Resolve</a> <var>promise</var> with created <var>hitTestSource</var>.</p>
    </ol>
   </div>
   <h2 class="heading settled" data-level="7" id="computing-hit-test-results"><span class="secno">7. </span><span class="content">Computing hit test results</span><a class="self-link" href="#computing-hit-test-results"></a></h2>
   <div class="algorithm" data-algorithm="compute-all-hit-test-results">
    <p>In order to <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="compute-all-hit-test-results">compute all hit test results</dfn> for a given <code class="idl"><a data-link-type="idl" href="https://www.w3.org/TR/webxr/#xrframe-interface" id="ref-for-xrframe-interface④">XRFrame</a></code> <var>frame</var>, the user agent MUST perform the following steps:</p>
    <ol>
     <li data-md>
      <p>Invoke <a data-link-type="dfn" href="#compute-hit-test-results" id="ref-for-compute-hit-test-results">compute hit test results</a> algorithm with <var>frame</var>.</p>
     <li data-md>
      <p>Invoke <a data-link-type="dfn" href="#compute-hit-test-results-for-transient-input" id="ref-for-compute-hit-test-results-for-transient-input">compute hit test results for transient input</a> algorithm with <var>frame</var>.</p>
    </ol>
   </div>
   <div class="algorithm" data-algorithm="compute-hit-test-results">
    <p>In order to <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="compute-hit-test-results">compute hit test results</dfn> for a given <code class="idl"><a data-link-type="idl" href="https://www.w3.org/TR/webxr/#xrframe-interface" id="ref-for-xrframe-interface⑤">XRFrame</a></code> <var>frame</var>, for each hit test source, <var>hitTestSource</var>, that is present in <code class="idl"><a data-link-type="idl" href="https://immersive-web.github.io/webxr/#dom-xrframe-session" id="ref-for-dom-xrframe-session①">session</a></code>'s <a data-link-type="dfn" href="#xrsession-set-of-active-hit-test-sources" id="ref-for-xrsession-set-of-active-hit-test-sources③">set of active hit test sources</a>, the user agent MUST perform the following steps:</p>
    <ol>
     <li data-md>
      <p>Let <var>entityTypes</var> be the <var>hitTestSource</var>’s <a data-link-type="dfn" href="#xrhittestsource-entity-types" id="ref-for-xrhittestsource-entity-types①">entity types</a>.</p>
     <li data-md>
      <p>Let <var>session</var> be <var>frame</var>’s <code class="idl"><a data-link-type="idl" href="https://immersive-web.github.io/webxr/#dom-xrframe-session" id="ref-for-dom-xrframe-session②">session</a></code>.</p>
     <li data-md>
      <p>Let <var>device</var> be the <var>session</var>’s <a data-link-type="dfn" href="https://www.w3.org/TR/webxr/#xrsession-xr-device" id="ref-for-xrsession-xr-device①">XR device</a>.</p>
     <li data-md>
      <p>Query the <var>device</var>’s tracking system for <var>hitTestSource</var>’s <a data-link-type="dfn" href="#xrhittestsource-native-origin" id="ref-for-xrhittestsource-native-origin①">native origin</a>'s latest <var>coordinates</var>.</p>
     <li data-md>
      <p>Interpret <var>hitTestSource</var>’s <a data-link-type="dfn" href="#xrhittestsource-offset-ray" id="ref-for-xrhittestsource-offset-ray①">offset ray</a>, <var>offsetRay</var>, as if expressed relative to <var>coordinates</var> and using that interpretation, perform <a data-link-type="dfn" href="#native-hit-test" id="ref-for-native-hit-test①">native hit test</a> obtaining <a data-link-type="dfn" href="#native-hit-test-result" id="ref-for-native-hit-test-result②">native hit test results</a> <var>nativeResults</var>.</p>
     <li data-md>
      <p>Let <var>hitTestResults</var> be an empty <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list" id="ref-for-list">list</a>.</p>
     <li data-md>
      <p>For each native hit test result <var>nativeResult</var> in <var>nativeResults</var>, perform the following steps:</p>
      <ol>
       <li data-md>
        <p><a data-link-type="dfn" href="#create-a-hit-test-result" id="ref-for-create-a-hit-test-result①">Create a hit test result</a>, <var>hitTestResult</var> from <var>frame</var>, <var>entityTypes</var>, and <var>nativeResult</var>.</p>
       <li data-md>
        <p>If <var>hitTestResult</var> is <code>null</code>, continue to the next entry in <var>nativeResults</var>.</p>
       <li data-md>
        <p>Add <var>hitTestResult</var> to <var>hitTestResults</var> such that the list remains sorted by the <a data-link-type="dfn" href="#distance-along-the-ray" id="ref-for-distance-along-the-ray">distance along the ray</a> from <var>offsetRay</var> to <var>nativeResult</var>.</p>
      </ol>
     <li data-md>
      <p>Store <var>hitTestResults</var> in <var>frame</var>’s <a data-link-type="dfn" href="#xrframe-map-of-hit-test-sources-to-hit-test-results" id="ref-for-xrframe-map-of-hit-test-sources-to-hit-test-results">map of hit test sources to hit test results</a> under the <var>hitTestSource</var> key.</p>
    </ol>
   </div>
   <div class="algorithm" data-algorithm="compute-hit-test-results-for-transient-input">
    <p>In order to <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="compute-hit-test-results-for-transient-input">compute hit test results for transient input</dfn> for a given <code class="idl"><a data-link-type="idl" href="https://www.w3.org/TR/webxr/#xrframe-interface" id="ref-for-xrframe-interface⑥">XRFrame</a></code> <var>frame</var>, for each hit test source, <var>hitTestSource</var>, that is present in <code class="idl"><a data-link-type="idl" href="https://immersive-web.github.io/webxr/#dom-xrframe-session" id="ref-for-dom-xrframe-session③">session</a></code>'s <a data-link-type="dfn" href="#xrsession-set-of-active-hit-test-sources-for-transient-input" id="ref-for-xrsession-set-of-active-hit-test-sources-for-transient-input③">set of active hit test sources for transient input</a>, the user agent MUST perform the following steps:</p>
    <ol>
     <li data-md>
      <p>Let <var>entityTypes</var> be the <var>hitTestSource</var>’s <a data-link-type="dfn" href="#xrtransientinputhittestsource-entity-types" id="ref-for-xrtransientinputhittestsource-entity-types①">entity types</a>.</p>
     <li data-md>
      <p>Let <var>session</var> be <var>frame</var>’s <code class="idl"><a data-link-type="idl" href="https://immersive-web.github.io/webxr/#dom-xrframe-session" id="ref-for-dom-xrframe-session④">session</a></code>.</p>
     <li data-md>
      <p>Let <var>device</var> be the <var>session</var>’s <a data-link-type="dfn" href="https://www.w3.org/TR/webxr/#xrsession-xr-device" id="ref-for-xrsession-xr-device②">XR device</a>.</p>
     <li data-md>
      <p>Let <var>candidateInputSources</var> be a set of all <var>session</var>’s input sources contained in <a data-link-type="dfn" href="https://www.w3.org/TR/webxr/#list-of-active-xr-input-sources" id="ref-for-list-of-active-xr-input-sources">list of active XR input sources</a> that are considered transient.</p>
     <li data-md>
      <p>Let <var>matchingInputSources</var> be a set of all input sources contained in <var>candidateInputSources</var> whose <code class="idl"><a data-link-type="idl" href="https://immersive-web.github.io/webxr/#dom-xrinputsource-profiles" id="ref-for-dom-xrinputsource-profiles">profiles</a></code> array contain an entry equal to <var>hitTestSource</var>’s <a data-link-type="dfn" href="#xrtransientinputhittestsource-profile" id="ref-for-xrtransientinputhittestsource-profile①">profile</a>.</p>
     <li data-md>
      <p>Let <var>hitTestResults</var> be an empty array of XRTransientInputHitTestResults.</p>
     <li data-md>
      <p>For each transient input source <var>inputSource</var> in <var>matchingInputSources</var>:</p>
      <ol>
       <li data-md>
        <p>Query the <var>device</var>’s tracking system for <var>inputSource</var>’s <code class="idl"><a data-link-type="idl" href="https://immersive-web.github.io/webxr/#dom-xrinputsource-targetrayspace" id="ref-for-dom-xrinputsource-targetrayspace">targetRaySpace</a></code>'s <a data-link-type="dfn" href="https://www.w3.org/TR/webxr/#xrspace-native-origin" id="ref-for-xrspace-native-origin④">native origin</a>'s latest <var>coordinates</var>.</p>
       <li data-md>
        <p>Interpret <var>hitTestSource</var>’s <a data-link-type="dfn" href="#xrtransientinputhittestsource-offset-ray" id="ref-for-xrtransientinputhittestsource-offset-ray①">offset ray</a>, as if expressed relative to <var>coordinates</var> and using that interpretation, perform <a data-link-type="dfn" href="#native-hit-test" id="ref-for-native-hit-test②">native hit test</a> obtaining <a data-link-type="dfn" href="#native-hit-test-result" id="ref-for-native-hit-test-result③">native hit test results</a> <var>nativeResults</var>.</p>
       <li data-md>
        <p><a data-link-type="dfn" href="#create-a-hit-test-result-for-transient-input" id="ref-for-create-a-hit-test-result-for-transient-input">Create a hit test result for transient input</a>, <var>hitTestResult</var> from <var>frame</var>, <var>inputSource</var>, <var>entityTypes</var>, and <var>nativeResults</var>.</p>
       <li data-md>
        <p>Add <var>hitTestResult</var> to <var>hitTestResults</var> array.</p>
      </ol>
     <li data-md>
      <p>Store <var>hitTestResults</var> in <var>frame</var>’s <a data-link-type="dfn" href="#xrframe-map-of-hit-test-sources-to-hit-test-results-for-transient-input" id="ref-for-xrframe-map-of-hit-test-sources-to-hit-test-results-for-transient-input">map of hit test sources to hit test results for transient input</a> under the <var>hitTestSource</var> key.</p>
    </ol>
   </div>
   <h2 class="heading settled" data-level="8" id="obtaining-hit-test-results"><span class="secno">8. </span><span class="content">Obtaining hit test results</span><a class="self-link" href="#obtaining-hit-test-results"></a></h2>
<pre class="idl highlight def"><c- b>partial</c-> <c- b>interface</c-> <a class="idl-code" data-link-type="interface" href="https://www.w3.org/TR/webxr/#xrframe-interface" id="ref-for-xrframe-interface⑦"><c- g>XRFrame</c-></a> {
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-frozen-array" id="ref-for-idl-frozen-array③"><c- b>FrozenArray</c-></a>&lt;<a data-link-type="idl-name" href="#xrhittestresult" id="ref-for-xrhittestresult⑧"><c- n>XRHitTestResult</c-></a>> <a class="idl-code" data-link-type="method" href="#dom-xrframe-gethittestresults" id="ref-for-dom-xrframe-gethittestresults"><c- g>getHitTestResults</c-></a>(<a data-link-type="idl-name" href="#xrhittestsource" id="ref-for-xrhittestsource①⓪"><c- n>XRHitTestSource</c-></a> <dfn class="idl-code" data-dfn-for="XRFrame/getHitTestResults(hitTestSource)" data-dfn-type="argument" data-export id="dom-xrframe-gethittestresults-hittestsource-hittestsource"><code><c- g>hitTestSource</c-></code><a class="self-link" href="#dom-xrframe-gethittestresults-hittestsource-hittestsource"></a></dfn>);
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-frozen-array" id="ref-for-idl-frozen-array④"><c- b>FrozenArray</c-></a>&lt;<a data-link-type="idl-name" href="#xrtransientinputhittestresult" id="ref-for-xrtransientinputhittestresult③"><c- n>XRTransientInputHitTestResult</c-></a>> <a class="idl-code" data-link-type="method" href="#dom-xrframe-gethittestresultsfortransientinput" id="ref-for-dom-xrframe-gethittestresultsfortransientinput"><c- g>getHitTestResultsForTransientInput</c-></a>(<a data-link-type="idl-name" href="#xrtransientinputhittestsource" id="ref-for-xrtransientinputhittestsource①⓪"><c- n>XRTransientInputHitTestSource</c-></a> <dfn class="idl-code" data-dfn-for="XRFrame/getHitTestResultsForTransientInput(hitTestSource)" data-dfn-type="argument" data-export id="dom-xrframe-gethittestresultsfortransientinput-hittestsource-hittestsource"><code><c- g>hitTestSource</c-></code><a class="self-link" href="#dom-xrframe-gethittestresultsfortransientinput-hittestsource-hittestsource"></a></dfn>);
};
</pre>
   <p>The <code class="idl"><a data-link-type="idl" href="https://www.w3.org/TR/webxr/#xrframe-interface" id="ref-for-xrframe-interface⑧">XRFrame</a></code> is extended to contain an associated <dfn class="dfn-paneled" data-dfn-for="XRFrame" data-dfn-type="dfn" data-noexport id="xrframe-map-of-hit-test-sources-to-hit-test-results">map of hit test sources to hit test results</dfn> that stores a mapping from <code class="idl"><a data-link-type="idl" href="#xrhittestsource" id="ref-for-xrhittestsource①①">XRHitTestSource</a></code> to an array of <a class="idl-code" data-link-type="interface" href="#xrhittestresult" id="ref-for-xrhittestresult⑨">XRHitTestResults</a>.</p>
   <p>The <code class="idl"><a data-link-type="idl" href="https://www.w3.org/TR/webxr/#xrframe-interface" id="ref-for-xrframe-interface⑨">XRFrame</a></code> is extended to contain an associated <dfn class="dfn-paneled" data-dfn-for="XRFrame" data-dfn-type="dfn" data-noexport id="xrframe-map-of-hit-test-sources-to-hit-test-results-for-transient-input">map of hit test sources to hit test results for transient input</dfn> that stores a mapping from <code class="idl"><a data-link-type="idl" href="#xrtransientinputhittestsource" id="ref-for-xrtransientinputhittestsource①①">XRTransientInputHitTestSource</a></code> to an array of <a class="idl-code" data-link-type="interface" href="#xrtransientinputhittestresult" id="ref-for-xrtransientinputhittestresult④">XRTransientInputHitTestResults</a>.</p>
   <p>The application can <dfn data-dfn-type="dfn" data-noexport id="obtain-hit-test-results">obtain hit test results<a class="self-link" href="#obtain-hit-test-results"></a></dfn> from an <code class="idl"><a data-link-type="idl" href="#xrhittestsource" id="ref-for-xrhittestsource①②">XRHitTestSource</a></code> by using <code class="idl"><a data-link-type="idl" href="https://www.w3.org/TR/webxr/#xrframe-interface" id="ref-for-xrframe-interface①⓪">XRFrame</a></code>'s <code class="idl"><a data-link-type="idl" href="#dom-xrframe-gethittestresults" id="ref-for-dom-xrframe-gethittestresults①">getHitTestResults()</a></code> method.</p>
   <div class="algorithm" data-algorithm="obtain-hit-test-results">
    <p>When the <dfn class="dfn-paneled idl-code" data-dfn-for="XRFrame" data-dfn-type="method" data-export id="dom-xrframe-gethittestresults"><code>getHitTestResults(<var>hitTestSource</var>)</code></dfn> method, when invoked on an <code class="idl"><a data-link-type="idl" href="https://www.w3.org/TR/webxr/#xrframe-interface" id="ref-for-xrframe-interface①①">XRFrame</a></code> <var>frame</var>, the user agent MUST run the following steps:</p>
    <ol>
     <li data-md>
      <p>If <var>frame</var>’s <a data-link-type="dfn" href="https://www.w3.org/TR/webxr/#xrframe-active" id="ref-for-xrframe-active①">active</a> boolean is <code>false</code>, throw an <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#invalidstateerror" id="ref-for-invalidstateerror⑤">InvalidStateError</a></code> and abort these steps.</p>
     <li data-md>
      <p>Check that the entry for <var>hitTestSource</var> is present in <var>frame</var>’s <a data-link-type="dfn" href="#xrframe-map-of-hit-test-sources-to-hit-test-results" id="ref-for-xrframe-map-of-hit-test-sources-to-hit-test-results①">map of hit test sources to hit test results</a>. If the entry is not present, throw an <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#invalidstateerror" id="ref-for-invalidstateerror⑥">InvalidStateError</a></code> and abort these steps.</p>
     <li data-md>
      <p>Look up an entry for <var>hitTestSource</var> in <var>frame</var>’s <a data-link-type="dfn" href="#xrframe-map-of-hit-test-sources-to-hit-test-results" id="ref-for-xrframe-map-of-hit-test-sources-to-hit-test-results②">map of hit test sources to hit test results</a> and assign it to <var>results</var>.</p>
     <li data-md>
      <p>Return <var>results</var>.</p>
    </ol>
   </div>
   <p>The application can <dfn data-dfn-type="dfn" data-noexport id="obtain-hit-test-results-for-transient-input">obtain hit test results for transient input<a class="self-link" href="#obtain-hit-test-results-for-transient-input"></a></dfn> from an <code class="idl"><a data-link-type="idl" href="#xrtransientinputhittestsource" id="ref-for-xrtransientinputhittestsource①②">XRTransientInputHitTestSource</a></code> by using <code class="idl"><a data-link-type="idl" href="https://www.w3.org/TR/webxr/#xrframe-interface" id="ref-for-xrframe-interface①②">XRFrame</a></code>'s <code class="idl"><a data-link-type="idl" href="#dom-xrframe-gethittestresultsfortransientinput" id="ref-for-dom-xrframe-gethittestresultsfortransientinput①">getHitTestResultsForTransientInput()</a></code> method.</p>
   <div class="algorithm" data-algorithm="obtain-hit-test-results-for-transient-input">
    <p>When the <dfn class="dfn-paneled idl-code" data-dfn-for="XRFrame" data-dfn-type="method" data-export id="dom-xrframe-gethittestresultsfortransientinput"><code>getHitTestResultsForTransientInput(<var>hitTestSource</var>)</code></dfn> method, when invoked on an <code class="idl"><a data-link-type="idl" href="https://www.w3.org/TR/webxr/#xrframe-interface" id="ref-for-xrframe-interface①③">XRFrame</a></code> <var>frame</var>, the user agent MUST run the following steps:</p>
    <ol>
     <li data-md>
      <p>If <var>frame</var>’s <a data-link-type="dfn" href="https://www.w3.org/TR/webxr/#xrframe-active" id="ref-for-xrframe-active②">active</a> boolean is <code>false</code>, throw an <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#invalidstateerror" id="ref-for-invalidstateerror⑦">InvalidStateError</a></code> and abort these steps.</p>
     <li data-md>
      <p>Check that the entry for <var>hitTestSource</var> is present in <var>frame</var>’s <a data-link-type="dfn" href="#xrframe-map-of-hit-test-sources-to-hit-test-results-for-transient-input" id="ref-for-xrframe-map-of-hit-test-sources-to-hit-test-results-for-transient-input①">map of hit test sources to hit test results for transient input</a>. If the entry is not present, throw an <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#invalidstateerror" id="ref-for-invalidstateerror⑧">InvalidStateError</a></code> and abort these steps.</p>
     <li data-md>
      <p>Look up an entry for <var>hitTestSource</var> in <var>frame</var>’s <a data-link-type="dfn" href="#xrframe-map-of-hit-test-sources-to-hit-test-results-for-transient-input" id="ref-for-xrframe-map-of-hit-test-sources-to-hit-test-results-for-transient-input②">map of hit test sources to hit test results for transient input</a> and assign it to <var>results</var>.</p>
     <li data-md>
      <p>Return <var>results</var>.</p>
    </ol>
   </div>
   <h2 class="heading settled" data-level="9" id="geometric-primitives"><span class="secno">9. </span><span class="content">Geometric primitives</span><a class="self-link" href="#geometric-primitives"></a></h2>
   <h3 class="heading settled" data-level="9.1" id="xr-ray-direction-init-dictionary"><span class="secno">9.1. </span><span class="content">XRRayDirectionInit</span><a class="self-link" href="#xr-ray-direction-init-dictionary"></a></h3>
   <p>An <code class="idl"><a data-link-type="idl" href="#dictdef-xrraydirectioninit" id="ref-for-dictdef-xrraydirectioninit">XRRayDirectionInit</a></code> dictionary represents a direction vector to be passed to the <code class="idl"><a data-link-type="idl" href="#dom-xrray-xrray" id="ref-for-dom-xrray-xrray②">XRRay(origin, direction)</a></code> constructor.</p>
<pre class="idl highlight def"><c- b>dictionary</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="dictionary" data-export id="dictdef-xrraydirectioninit"><code><c- g>XRRayDirectionInit</c-></code></dfn> {
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-double" id="ref-for-idl-double"><c- b>double</c-></a> <dfn class="dfn-paneled idl-code" data-default="0" data-dfn-for="XRRayDirectionInit" data-dfn-type="dict-member" data-export data-type="double " id="dom-xrraydirectioninit-x"><code><c- g>x</c-></code></dfn> = 0;
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-double" id="ref-for-idl-double①"><c- b>double</c-></a> <dfn class="dfn-paneled idl-code" data-default="0" data-dfn-for="XRRayDirectionInit" data-dfn-type="dict-member" data-export data-type="double " id="dom-xrraydirectioninit-y"><code><c- g>y</c-></code></dfn> = 0;
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-double" id="ref-for-idl-double②"><c- b>double</c-></a> <dfn class="dfn-paneled idl-code" data-default="-1" data-dfn-for="XRRayDirectionInit" data-dfn-type="dict-member" data-export data-type="double " id="dom-xrraydirectioninit-z"><code><c- g>z</c-></code></dfn> = -1;
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-double" id="ref-for-idl-double③"><c- b>double</c-></a> <dfn class="dfn-paneled idl-code" data-default="0" data-dfn-for="XRRayDirectionInit" data-dfn-type="dict-member" data-export data-type="double " id="dom-xrraydirectioninit-w"><code><c- g>w</c-></code></dfn> = 0;
};
</pre>
   <h3 class="heading settled" data-level="9.2" id="xrray-interface"><span class="secno">9.2. </span><span class="content">XRRay</span><a class="self-link" href="#xrray-interface"></a></h3>
   <p>An <code class="idl"><a data-link-type="idl" href="#xrray" id="ref-for-xrray⑧">XRRay</a></code> is a geometric ray described by an <code class="idl"><a data-link-type="idl" href="#dom-xrray-origin" id="ref-for-dom-xrray-origin">origin</a></code> point and <code class="idl"><a data-link-type="idl" href="#dom-xrray-direction" id="ref-for-dom-xrray-direction">direction</a></code> vector.</p>
   <p>An <code class="idl"><a data-link-type="idl" href="#xrray" id="ref-for-xrray⑨">XRRay</a></code> contains a <dfn class="dfn-paneled" data-dfn-for="XRRay" data-dfn-type="dfn" data-noexport id="xrray-matrix">matrix</dfn> which is a <a data-link-type="dfn" href="https://www.w3.org/TR/webxr/#matrix" id="ref-for-matrix">matrix</a>.</p>
<pre class="idl highlight def">[<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#SecureContext" id="ref-for-SecureContext④"><c- g>SecureContext</c-></a>, <a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Exposed" id="ref-for-Exposed④"><c- g>Exposed</c-></a>=<c- n>Window</c->]
<c- b>interface</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="interface" data-export id="xrray"><code><c- g>XRRay</c-></code></dfn> {
  <a class="idl-code" data-link-type="constructor" href="#dom-xrray-xrray" id="ref-for-dom-xrray-xrray③"><c- g>constructor</c-></a>(<c- b>optional</c-> <a data-link-type="idl-name" href="https://drafts.fxtf.org/geometry-1/#dictdef-dompointinit" id="ref-for-dictdef-dompointinit"><c- n>DOMPointInit</c-></a> <dfn class="idl-code" data-dfn-for="XRRay/XRRay(origin, direction), XRRay/constructor(origin, direction), XRRay/XRRay(origin), XRRay/constructor(origin), XRRay/XRRay(), XRRay/constructor()" data-dfn-type="argument" data-export id="dom-xrray-xrray-origin-direction-origin"><code><c- g>origin</c-></code><a class="self-link" href="#dom-xrray-xrray-origin-direction-origin"></a></dfn> = {}, <c- b>optional</c-> <a data-link-type="idl-name" href="#dictdef-xrraydirectioninit" id="ref-for-dictdef-xrraydirectioninit①"><c- n>XRRayDirectionInit</c-></a> <dfn class="idl-code" data-dfn-for="XRRay/XRRay(origin, direction), XRRay/constructor(origin, direction), XRRay/XRRay(origin), XRRay/constructor(origin), XRRay/XRRay(), XRRay/constructor()" data-dfn-type="argument" data-export id="dom-xrray-xrray-origin-direction-direction"><code><c- g>direction</c-></code><a class="self-link" href="#dom-xrray-xrray-origin-direction-direction"></a></dfn> = {});
  <a class="idl-code" data-link-type="constructor" href="#dom-xrray-xrray-transform" id="ref-for-dom-xrray-xrray-transform"><c- g>constructor</c-></a>(<a data-link-type="idl-name" href="https://www.w3.org/TR/webxr/#xrrigidtransform-interface" id="ref-for-xrrigidtransform-interface"><c- n>XRRigidTransform</c-></a> <dfn class="idl-code" data-dfn-for="XRRay/XRRay(transform), XRRay/constructor(transform)" data-dfn-type="argument" data-export id="dom-xrray-xrray-transform-transform"><code><c- g>transform</c-></code><a class="self-link" href="#dom-xrray-xrray-transform-transform"></a></dfn>);
  [<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#SameObject" id="ref-for-SameObject①"><c- g>SameObject</c-></a>] <c- b>readonly</c-> <c- b>attribute</c-> <a data-link-type="idl-name" href="https://drafts.fxtf.org/geometry-1/#dompointreadonly" id="ref-for-dompointreadonly"><c- n>DOMPointReadOnly</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="DOMPointReadOnly" href="#dom-xrray-origin" id="ref-for-dom-xrray-origin①"><c- g>origin</c-></a>;
  [<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#SameObject" id="ref-for-SameObject②"><c- g>SameObject</c-></a>] <c- b>readonly</c-> <c- b>attribute</c-> <a data-link-type="idl-name" href="https://drafts.fxtf.org/geometry-1/#dompointreadonly" id="ref-for-dompointreadonly①"><c- n>DOMPointReadOnly</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="DOMPointReadOnly" href="#dom-xrray-direction" id="ref-for-dom-xrray-direction①"><c- g>direction</c-></a>;
  [<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#SameObject" id="ref-for-SameObject③"><c- g>SameObject</c-></a>] <c- b>readonly</c-> <c- b>attribute</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-Float32Array" id="ref-for-idl-Float32Array"><c- b>Float32Array</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="Float32Array" href="#dom-xrray-matrix" id="ref-for-dom-xrray-matrix"><c- g>matrix</c-></a>;
};
</pre>
   <div class="algorithm" data-algorithm="construct-ray-origin-direction">
    <p>The <dfn class="dfn-paneled idl-code" data-dfn-for="XRRay" data-dfn-type="constructor" data-export data-lt="XRRay(origin, direction)|constructor(origin, direction)|XRRay(origin)|constructor(origin)|XRRay()|constructor()" id="dom-xrray-xrray"><code>XRRay(<var>origin</var>, <var>direction</var>)</code></dfn> constructor MUST perform the following steps when invoked:</p>
    <ol>
     <li data-md>
      <p>Let <var>ray</var> be a new <code class="idl"><a data-link-type="idl" href="#xrray" id="ref-for-xrray①⓪">XRRay</a></code>.</p>
     <li data-md>
      <p>Initialize <var>ray</var>’s <code class="idl"><a data-link-type="idl" href="#dom-xrray-origin" id="ref-for-dom-xrray-origin②">origin</a></code> to <code>{ x: 0.0, y: 0.0, z: 0.0, w: 1.0 }</code>.</p>
     <li data-md>
      <p>Initialize <var>ray</var>’s <code class="idl"><a data-link-type="idl" href="#dom-xrray-direction" id="ref-for-dom-xrray-direction②">direction</a></code> to <code>{ x: 0.0, y: 0.0, z: -1.0, w: 0.0 }</code>.</p>
     <li data-md>
      <p>If all of <var>direction</var>’s <code class="idl"><a data-link-type="idl" href="#dom-xrraydirectioninit-x" id="ref-for-dom-xrraydirectioninit-x">x</a></code>, <code class="idl"><a data-link-type="idl" href="#dom-xrraydirectioninit-y" id="ref-for-dom-xrraydirectioninit-y">y</a></code>, and <code class="idl"><a data-link-type="idl" href="#dom-xrraydirectioninit-z" id="ref-for-dom-xrraydirectioninit-z">z</a></code> are zero, throw a <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#exceptiondef-typeerror" id="ref-for-exceptiondef-typeerror">TypeError</a></code> and abort these steps.</p>
     <li data-md>
      <p>If <var>direction</var>’s <code class="idl"><a data-link-type="idl" href="#dom-xrraydirectioninit-w" id="ref-for-dom-xrraydirectioninit-w">w</a></code> is not 0.0, throw a <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#exceptiondef-typeerror" id="ref-for-exceptiondef-typeerror①">TypeError</a></code> and abort these steps.</p>
     <li data-md>
      <p>If <var>origin</var>’s <code class="idl"><a data-link-type="idl" href="https://drafts.fxtf.org/geometry-1/#dom-dompointinit-w" id="ref-for-dom-dompointinit-w">w</a></code> is not 1.0, throw a <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#exceptiondef-typeerror" id="ref-for-exceptiondef-typeerror②">TypeError</a></code> and abort these steps.</p>
     <li data-md>
      <p>Initialize <var>ray</var>’s <code class="idl"><a data-link-type="idl" href="#dom-xrray-origin" id="ref-for-dom-xrray-origin③">origin</a></code>’s <code class="idl"><a data-link-type="idl" href="https://drafts.fxtf.org/geometry-1/#dom-dompointreadonly-x" id="ref-for-dom-dompointreadonly-x">x</a></code> value to <var>origin</var>’s <code class="idl"><a data-link-type="idl" href="https://drafts.fxtf.org/geometry-1/#dom-dompointinit-x" id="ref-for-dom-dompointinit-x">x</a></code>, <code class="idl"><a data-link-type="idl" href="https://drafts.fxtf.org/geometry-1/#dom-dompointreadonly-y" id="ref-for-dom-dompointreadonly-y">y</a></code> value to <var>origin</var>’s <code class="idl"><a data-link-type="idl" href="https://drafts.fxtf.org/geometry-1/#dom-dompointinit-y" id="ref-for-dom-dompointinit-y">y</a></code>, and <code class="idl"><a data-link-type="idl" href="https://drafts.fxtf.org/geometry-1/#dom-dompointreadonly-z" id="ref-for-dom-dompointreadonly-z">z</a></code> value to <var>origin</var>’s <code class="idl"><a data-link-type="idl" href="https://drafts.fxtf.org/geometry-1/#dom-dompointinit-z" id="ref-for-dom-dompointinit-z">z</a></code>.</p>
     <li data-md>
      <p>Initialize <var>ray</var>’s <code class="idl"><a data-link-type="idl" href="#dom-xrray-direction" id="ref-for-dom-xrray-direction③">direction</a></code>’s <code class="idl"><a data-link-type="idl" href="https://drafts.fxtf.org/geometry-1/#dom-dompointreadonly-x" id="ref-for-dom-dompointreadonly-x①">x</a></code> value to <var>direction</var>’s <code class="idl"><a data-link-type="idl" href="#dom-xrraydirectioninit-x" id="ref-for-dom-xrraydirectioninit-x①">x</a></code>, <code class="idl"><a data-link-type="idl" href="https://drafts.fxtf.org/geometry-1/#dom-dompointreadonly-y" id="ref-for-dom-dompointreadonly-y①">y</a></code> value to <var>direction</var>’s <code class="idl"><a data-link-type="idl" href="#dom-xrraydirectioninit-y" id="ref-for-dom-xrraydirectioninit-y①">y</a></code>, and <code class="idl"><a data-link-type="idl" href="https://drafts.fxtf.org/geometry-1/#dom-dompointreadonly-z" id="ref-for-dom-dompointreadonly-z①">z</a></code> value to <var>direction</var>’s <code class="idl"><a data-link-type="idl" href="#dom-xrraydirectioninit-z" id="ref-for-dom-xrraydirectioninit-z①">z</a></code>.</p>
     <li data-md>
      <p><a data-link-type="dfn" href="https://www.w3.org/TR/webxr/#normalize" id="ref-for-normalize">Normalize</a> the <code class="idl"><a data-link-type="idl" href="https://drafts.fxtf.org/geometry-1/#dom-dompointreadonly-x" id="ref-for-dom-dompointreadonly-x②">x</a></code>, <code class="idl"><a data-link-type="idl" href="https://drafts.fxtf.org/geometry-1/#dom-dompointreadonly-y" id="ref-for-dom-dompointreadonly-y②">y</a></code>, and <code class="idl"><a data-link-type="idl" href="https://drafts.fxtf.org/geometry-1/#dom-dompointreadonly-z" id="ref-for-dom-dompointreadonly-z②">z</a></code> components of <var>ray</var>’s <code class="idl"><a data-link-type="idl" href="#dom-xrray-direction" id="ref-for-dom-xrray-direction④">direction</a></code>.</p>
     <li data-md>
      <p>Initialize <var>ray</var>’s <a data-link-type="dfn" href="#xrray-matrix" id="ref-for-xrray-matrix">matrix</a> to <code>null</code>.</p>
     <li data-md>
      <p>Return <var>ray</var>.</p>
    </ol>
   </div>
   <div class="algorithm" data-algorithm="construct-ray-transform">
    <p>The <dfn class="dfn-paneled idl-code" data-dfn-for="XRRay" data-dfn-type="constructor" data-export data-lt="XRRay(transform)|constructor(transform)" id="dom-xrray-xrray-transform"><code>XRRay(<var>transform</var>)</code></dfn> constructor MUST perform the following steps when invoked:</p>
    <ol>
     <li data-md>
      <p>Let <var>ray</var> be a new <code class="idl"><a data-link-type="idl" href="#xrray" id="ref-for-xrray①①">XRRay</a></code>.</p>
     <li data-md>
      <p>Initialize <var>ray</var>’s <code class="idl"><a data-link-type="idl" href="#dom-xrray-origin" id="ref-for-dom-xrray-origin④">origin</a></code> to <code>{ x: 0.0, y: 0.0, z: 0.0, w: 1.0 }</code>.</p>
     <li data-md>
      <p>Initialize <var>ray</var>’s <code class="idl"><a data-link-type="idl" href="#dom-xrray-direction" id="ref-for-dom-xrray-direction⑤">direction</a></code> to <code>{ x: 0.0, y: 0.0, z: -1.0, w: 0.0 }</code>.</p>
     <li data-md>
      <p>Transform <var>ray</var>’s <code class="idl"><a data-link-type="idl" href="#dom-xrray-origin" id="ref-for-dom-xrray-origin⑤">origin</a></code> by premultiplying the <var>transform</var>’s <code class="idl"><a data-link-type="idl" href="https://www.w3.org/TR/webxr/#dom-xrrigidtransform-matrix" id="ref-for-dom-xrrigidtransform-matrix">matrix</a></code> and set <var>ray</var> to the result.</p>
     <li data-md>
      <p>Transform <var>ray</var>’s <code class="idl"><a data-link-type="idl" href="#dom-xrray-direction" id="ref-for-dom-xrray-direction⑥">direction</a></code> by premultiplying the <var>transform</var>’s <code class="idl"><a data-link-type="idl" href="https://www.w3.org/TR/webxr/#dom-xrrigidtransform-matrix" id="ref-for-dom-xrrigidtransform-matrix①">matrix</a></code> and set <var>ray</var> to the result.</p>
     <li data-md>
      <p><a data-link-type="dfn" href="https://www.w3.org/TR/webxr/#normalize" id="ref-for-normalize①">Normalize</a> the <code class="idl"><a data-link-type="idl" href="https://drafts.fxtf.org/geometry-1/#dom-dompointreadonly-x" id="ref-for-dom-dompointreadonly-x③">x</a></code>, <code class="idl"><a data-link-type="idl" href="https://drafts.fxtf.org/geometry-1/#dom-dompointreadonly-y" id="ref-for-dom-dompointreadonly-y③">y</a></code>, and <code class="idl"><a data-link-type="idl" href="https://drafts.fxtf.org/geometry-1/#dom-dompointreadonly-z" id="ref-for-dom-dompointreadonly-z③">z</a></code> components of <var>ray</var>’s <code class="idl"><a data-link-type="idl" href="#dom-xrray-direction" id="ref-for-dom-xrray-direction⑦">direction</a></code>.</p>
     <li data-md>
      <p>Initialize <var>ray</var>’s <a data-link-type="dfn" href="#xrray-matrix" id="ref-for-xrray-matrix①">matrix</a> to <code>null</code>.</p>
     <li data-md>
      <p>Return <var>ray</var>.</p>
    </ol>
   </div>
   <p>The <dfn class="dfn-paneled idl-code" data-dfn-for="XRRay" data-dfn-type="attribute" data-export id="dom-xrray-origin"><code>origin</code></dfn> attribute defines the 3-dimensional point in space that the ray originates from, given in meters. The <code class="idl"><a data-link-type="idl" href="#dom-xrray-origin" id="ref-for-dom-xrray-origin⑥">origin</a></code>'s <code class="idl"><a data-link-type="idl" href="https://drafts.fxtf.org/geometry-1/#dom-dompointreadonly-w" id="ref-for-dom-dompointreadonly-w">w</a></code> attribute MUST be <code>1.0</code>.</p>
   <p>The <dfn class="dfn-paneled idl-code" data-dfn-for="XRRay" data-dfn-type="attribute" data-export id="dom-xrray-direction"><code>direction</code></dfn> attribute defines the ray’s 3-dimensional directional vector. The <code class="idl"><a data-link-type="idl" href="#dom-xrray-direction" id="ref-for-dom-xrray-direction⑧">direction</a></code>'s <code class="idl"><a data-link-type="idl" href="https://drafts.fxtf.org/geometry-1/#dom-dompointreadonly-w" id="ref-for-dom-dompointreadonly-w①">w</a></code> attribute MUST be <code>0.0</code> and the vector MUST be normalized to have a length of <code>1.0</code>.</p>
   <p>The <dfn class="dfn-paneled idl-code" data-dfn-for="XRRay" data-dfn-type="attribute" data-export id="dom-xrray-matrix"><code>matrix</code></dfn> attribute is a <a data-link-type="dfn" href="https://www.w3.org/TR/webxr/#matrix" id="ref-for-matrix①">matrix</a> which represents a transform that can be used to position objects along the <code class="idl"><a data-link-type="idl" href="#xrray" id="ref-for-xrray①②">XRRay</a></code>. It is a transform from a ray originating at <code>[0, 0, 0]</code> and extending down the negative Z axis to the ray described by the <code class="idl"><a data-link-type="idl" href="#xrray" id="ref-for-xrray①③">XRRay</a></code>'s <code class="idl"><a data-link-type="idl" href="#dom-xrray-origin" id="ref-for-dom-xrray-origin⑦">origin</a></code> and <code class="idl"><a data-link-type="idl" href="#dom-xrray-direction" id="ref-for-dom-xrray-direction⑨">direction</a></code>. Such a matrix MUST be one that has a rotation component which leaves any vector perpendicular to <code class="idl"><a data-link-type="idl" href="#dom-xrray-direction" id="ref-for-dom-xrray-direction①⓪">direction</a></code> and the <code>Z</code> axis unchanged. This attribute MUST be computed by <a data-link-type="dfn" href="#xrray-obtain-the-matrix" id="ref-for-xrray-obtain-the-matrix">obtaining the matrix</a> for the <code class="idl"><a data-link-type="idl" href="#xrray" id="ref-for-xrray①④">XRRay</a></code>. This attribute SHOULD be lazily evaluated.</p>
   <p class="note" role="note"><span class="marker">Note:</span> The <code class="idl"><a data-link-type="idl" href="#xrray" id="ref-for-xrray①⑤">XRRay</a></code>'s <code class="idl"><a data-link-type="idl" href="#dom-xrray-matrix" id="ref-for-dom-xrray-matrix①">matrix</a></code> can be used to easily position graphical representations of the ray when rendering.</p>
   <div class="algorithm" data-algorithm="obtain-ray-matrix">
    <p>To <dfn class="dfn-paneled" data-dfn-for="XRRay" data-dfn-type="dfn" data-noexport id="xrray-obtain-the-matrix">obtain the matrix</dfn> for a given <code class="idl"><a data-link-type="idl" href="#xrray" id="ref-for-xrray①⑥">XRRay</a></code> <var>ray</var></p>
    <ol>
     <li data-md>
      <p>If <var>ray</var>’s <a data-link-type="dfn" href="#xrray-matrix" id="ref-for-xrray-matrix②">matrix</a> is not <code>null</code>, perform the following steps:</p>
      <ol>
       <li data-md>
        <p>If the operation <code class="idl"><a data-link-type="idl" href="https://tc39.github.io/ecma262/#sec-isdetachedbuffer" id="ref-for-sec-isdetachedbuffer">IsDetachedBuffer</a></code> on <a data-link-type="dfn" href="#xrray-matrix" id="ref-for-xrray-matrix③">matrix</a> is <code>false</code>, return <var>ray</var>’s <a data-link-type="dfn" href="#xrray-matrix" id="ref-for-xrray-matrix④">matrix</a>.</p>
      </ol>
     <li data-md>
      <p>Let <var>z</var> be the vector <code>[0, 0, -1]</code>.</p>
     <li data-md>
      <p>Let <var>axis</var> be the vector cross product of <var>z</var> and <var>ray</var>’s <code class="idl"><a data-link-type="idl" href="#dom-xrray-direction" id="ref-for-dom-xrray-direction①①">direction</a></code>, <code>z × direction</code>.</p>
     <li data-md>
      <p>Let <var>cos_angle</var> be the scalar dot product of <var>z</var> and <var>ray</var>’s <code class="idl"><a data-link-type="idl" href="#dom-xrray-direction" id="ref-for-dom-xrray-direction①②">direction</a></code>, <code>z · direction</code>.</p>
     <li data-md>
      <p>Set <var>rotation</var> based on the following:</p>
      <dl class="switch">
       <dt> If <var>cos_angle</var> is greater than -1 and less than 1 
       <dd> Set <var>rotation</var> to the rotation matrix representing a right handed planar rotation around <var>axis</var> by <code>arccos(cos_angle)</code>. 
       <dt> Else, if <var>cos_angle</var> is -1 
       <dd> Set <var>rotation</var> to the rotation matrix representing a right handed planar rotation around vector <code>[1, 0, 0]</code> by <code>arccos(cos_angle)</code>. 
       <dt> Else 
       <dd> Set <var>rotation</var> to an identity matrix. 
      </dl>
     <li data-md>
      <p>Let <var>translation</var> be the translation matrix with components corresponding to <var>ray</var>’s <code class="idl"><a data-link-type="idl" href="#dom-xrray-origin" id="ref-for-dom-xrray-origin⑧">origin</a></code>.</p>
     <li data-md>
      <p>Let <var>matrix</var> be the result of premultiplying <var>rotation</var> from the left onto <var>translation</var> (i.e. <code>translation * rotation</code>) in column-vector notation.</p>
     <li data-md>
      <p>Set <var>ray</var>’s <a data-link-type="dfn" href="#xrray-matrix" id="ref-for-xrray-matrix⑤">matrix</a> to <var>matrix</var>.</p>
     <li data-md>
      <p>Return <var>matrix</var>.</p>
    </ol>
   </div>
   <div class="algorithm" data-algorithm="distance-along-ray">
    <p>The <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="distance-along-the-ray">distance along the ray</dfn>, <var>distance</var>, from <code class="idl"><a data-link-type="idl" href="#xrray" id="ref-for-xrray①⑦">XRRay</a></code> <var>ray</var> to any entity <var>entity</var> is defined such that <code><var>ray</var>.origin + <var>ray</var>.direction * <var>distance</var></code> results in a point beloning to the entity <var>entity</var>, <var>distance</var> is non-negative, and there does not exist a smaller value of <var>distance</var> for the above predicate to still hold. It is up to the <a data-link-type="dfn" href="https://www.w3.org/TR/webxr/#xr-device" id="ref-for-xr-device①">XR device</a> to define the meaning of "point belonging to an entity".</p>
   </div>
   <h2 class="heading settled" data-level="10" id="native-device-concepts"><span class="secno">10. </span><span class="content">Native device concepts</span><a class="self-link" href="#native-device-concepts"></a></h2>
   <section class="non-normative">
    <p>User agents implementing hit test API must have a way of obtaining information about user’s environment from underlying XR device. This section attempts to describe requirements and concepts related to native capabilities of the device and is by neccesity sufficiently under-specified to leave ample room for different underlying frameworks / devices.</p>
   </section>
   <h3 class="heading settled" data-level="10.1" id="native-hit-test-section"><span class="secno">10.1. </span><span class="content">Native hit test</span><a class="self-link" href="#native-hit-test-section"></a></h3>
   <p>In this specification it is assumed that <a data-link-type="dfn" href="https://www.w3.org/TR/webxr/#xr-device" id="ref-for-xr-device②">XR device</a> exposes a way for the user agent to perform a <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="native-hit-test">native hit test</dfn> that satisfies the following requirements:</p>
   <ul>
    <li data-md>
     <p>Accepts a 3D ray that will be tested against user’s environment.</p>
    <li data-md>
     <p>Returns a collection of 3D poses representing intersection points of the passed in ray with user’s environment. Each entry in the collection should also contain information about the type of the native entity that was used to obtain that native result and enough information to enable the user agent to compute surface normal to the user’s environment at the intersection point.</p>
   </ul>
   <p class="note" role="note"><span class="marker">Note:</span> For devices that do not expose the hit test functionality natively, it might still be possible for user agents to implement this specification by leveraging other ways of obtaining the information about user’s environment that might be exposed by the XR device.</p>
   <h3 class="heading settled" data-level="10.2" id="native-entity-type-section"><span class="secno">10.2. </span><span class="content">Native entity type</span><a class="self-link" href="#native-entity-type-section"></a></h3>
   <section class="unstable">
     <a data-link-type="dfn" href="#native-hit-test-result" id="ref-for-native-hit-test-result④">Native hit test results</a> returned by <a data-link-type="dfn" href="https://www.w3.org/TR/webxr/#xr-device" id="ref-for-xr-device③">XR device</a> should contain information about the <dfn class="dfn-paneled" data-dfn-type="dfn" data-lt="native entity type" data-noexport id="native-entity-type">type of the entity</dfn> used to compute the result. Such native types might consist of, but not be limited to: 
    <ul>
     <li data-md>
      <p>Point - signifies that hit test result was computed based on characteristic points found in user’s environment.</p>
     <li data-md>
      <p>Plane - signifies that hit test result was computed based on planes detected in user’s environment.</p>
     <li data-md>
      <p>Mesh - signifies that the hit test result was computed based on meshes detected in user’s environment.</p>
    </ul>
    <div class="algorithm" data-algorithm="convert-native-type-to-trackable-type">
     <p>To <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="convert-from-native-entity-type">convert from native entity type</dfn> into <code class="idl"><a data-link-type="idl" href="#enumdef-xrhittesttrackabletype" id="ref-for-enumdef-xrhittesttrackabletype⑨">XRHitTestTrackableType</a></code>, the user agent MUST run the following steps:</p>
     <ol>
      <li data-md>
       <p>Let <var>nativeEntityType</var> be the native entity type to be converted.</p>
      <li data-md>
       <p>Let <var>entityType</var> be a new <code class="idl"><a data-link-type="idl" href="#enumdef-xrhittesttrackabletype" id="ref-for-enumdef-xrhittesttrackabletype①⓪">XRHitTestTrackableType</a></code>.</p>
      <li data-md>
       <p>Initialize <var>entityType</var> as follows:</p>
       <dl class="switch">
        <dt>If <var>nativeEntityType</var> contains type that corresponds to <code class="idl"><a data-link-type="idl" href="#dom-xrhittesttrackabletype-point" id="ref-for-dom-xrhittesttrackabletype-point①">"point"</a></code>
        <dd>Set <var>entityType</var> to <code class="idl"><a data-link-type="idl" href="#dom-xrhittesttrackabletype-point" id="ref-for-dom-xrhittesttrackabletype-point②">"point"</a></code>.
        <dt>Else, if <var>nativeEntityType</var> contains type that corresponds to <code class="idl"><a data-link-type="idl" href="#dom-xrhittesttrackabletype-plane" id="ref-for-dom-xrhittesttrackabletype-plane③">"plane"</a></code>
        <dd>Set <var>entityType</var> to <code class="idl"><a data-link-type="idl" href="#dom-xrhittesttrackabletype-plane" id="ref-for-dom-xrhittesttrackabletype-plane④">"plane"</a></code>.
        <dt>Else, if <var>nativeEntityType</var> contains type that corresponds to <code class="idl"><a data-link-type="idl" href="#dom-xrhittesttrackabletype-mesh" id="ref-for-dom-xrhittesttrackabletype-mesh①">"mesh"</a></code>
        <dd>Set <var>entityType</var> to <code class="idl"><a data-link-type="idl" href="#dom-xrhittesttrackabletype-mesh" id="ref-for-dom-xrhittesttrackabletype-mesh②">"mesh"</a></code>.
        <dt>Else
        <dd>Set <var>entityType</var> to <code>null</code>
       </dl>
      <li data-md>
       <p>Return <var>entityType</var>.</p>
     </ol>
    </div>
   </section>
   <h3 class="heading settled" data-level="10.3" id="native-hit-test-result-section"><span class="secno">10.3. </span><span class="content">Native hit test result</span><a class="self-link" href="#native-hit-test-result-section"></a></h3>
   <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-lt="native hit test result|native hit test results" data-noexport id="native-hit-test-result">Native hit test results</dfn> returned from XR device should contain the position of the intersection point with user’s environment. Depending on the native entity type and the information available to the XR device, the result should also contain orientation defined in such a way to allow the user agent to compute a surface normal to the user’s environment at the intersection point.</p>
   <p>The information about position and orientation of the intersection point should be contained in <a data-link-type="dfn" href="#native-hit-test-result" id="ref-for-native-hit-test-result⑤">native hit test result</a>'s native origin. Native origin defines a new coordinate system in such a way that its Y axis represents the surface’s normal vector at the intersection point. If the orientation is not returned from the XR device, the user agent SHOULD set the native origin in such a way that Y axis of the coordinate system it defines is pointing up (towards negative gravity vector).</p>
   <p class="issue" id="issue-4d2e55aa"><a class="self-link" href="#issue-4d2e55aa"></a> Decide if we need to specify other axes of the coordinate system defined by hit test result’s native origin to maintain compatibility between different implementations &amp; differrent AR frameworks.</p>
   <h2 class="heading settled" data-level="11" id="privacy-security"><span class="secno">11. </span><span class="content">Privacy &amp; Security Considerations</span><a class="self-link" href="#privacy-security"></a></h2>
   <section class="non-normative">
    <p>The hit test API can be used to map the user environment with more or less
precision by sending hit test rays in multiple directions. Hit test has to be
declared when creating an XR session as a <a data-link-type="dfn" href="https://www.w3.org/TR/webxr/#feature-descriptor" id="ref-for-feature-descriptor①">feature descriptor</a> which will
allow the user agent to notify the user of the potential privacy implications of
allowing the hit test API to be used by the website. Furthermore, the user agent
is allowed to deny hit test requests when it considers that an <a data-link-type="dfn" href="#unreasonable-number-of-requests" id="ref-for-unreasonable-number-of-requests②">unreasonable
number of requests</a> have been made for a genuine non-privacy invasive usage.</p>
   </section>
   <h2 class="heading settled" data-level="12" id="ack"><span class="secno">12. </span><span class="content">Acknowledgements</span><a class="self-link" href="#ack"></a></h2>
   <p>The following individuals have contributed to the design of the WebXR Hit Test specification:</p>
  </main>
  <div data-fill-with="conformance">
   <h2 class="no-ref no-num heading settled" id="w3c-conformance"><span class="content">Conformance</span><a class="self-link" href="#w3c-conformance"></a></h2>
   <h3 class="no-ref no-num heading settled" id="w3c-conventions"><span class="content">Document conventions</span><a class="self-link" href="#w3c-conventions"></a></h3>
   <p>Conformance requirements are expressed
    with a combination of descriptive assertions
    and RFC 2119 terminology.
    The key words “MUST”, “MUST NOT”, “REQUIRED”, “SHALL”, “SHALL NOT”, “SHOULD”, “SHOULD NOT”, “RECOMMENDED”, “MAY”, and “OPTIONAL”
    in the normative parts of this document
    are to be interpreted as described in RFC 2119.
    However, for readability,
    these words do not appear in all uppercase letters in this specification. </p>
   <p>All of the text of this specification is normative
    except sections explicitly marked as non-normative, examples, and notes. <a data-link-type="biblio" href="#biblio-rfc2119" title="Key words for use in RFCs to Indicate Requirement Levels">[RFC2119]</a> </p>
   <p>Examples in this specification are introduced with the words “for example”
    or are set apart from the normative text
    with <code>class="example"</code>,
    like this: </p>
   <div class="example" id="w3c-example">
    <a class="self-link" href="#w3c-example"></a> 
    <p>This is an example of an informative example. </p>
   </div>
   <p>Informative notes begin with the word “Note”
    and are set apart from the normative text
    with <code>class="note"</code>,
    like this: </p>
   <p class="note" role="note">Note, this is an informative note.</p>
   <h3 class="no-ref no-num heading settled" id="w3c-conformant-algorithms"><span class="content">Conformant Algorithms</span><a class="self-link" href="#w3c-conformant-algorithms"></a></h3>
   <p>Requirements phrased in the imperative as part of algorithms
    (such as "strip any leading space characters"
    or "return false and abort these steps")
    are to be interpreted with the meaning of the key word
    ("must", "should", "may", etc)
    used in introducing the algorithm. </p>
   <p>Conformance requirements phrased as algorithms or specific steps
    can be implemented in any manner,
    so long as the end result is equivalent.
    In particular, the algorithms defined in this specification
    are intended to be easy to understand
    and are not intended to be performant.
    Implementers are encouraged to optimize. </p>
  </div>
<script src="https://www.w3.org/scripts/TR/2021/fixup.js"></script>
  <h2 class="no-num no-ref heading settled" id="index"><span class="content">Index</span><a class="self-link" href="#index"></a></h2>
  <h3 class="no-num no-ref heading settled" id="index-defined-here"><span class="content">Terms defined by this specification</span><a class="self-link" href="#index-defined-here"></a></h3>
  <ul class="index">
   <li>
    active
    <ul>
     <li><a href="#xrhittestsource-active">dfn for XRHitTestSource</a><span>, in § 4.1</span>
     <li><a href="#xrtransientinputhittestsource-active">dfn for XRTransientInputHitTestSource</a><span>, in § 4.2</span>
    </ul>
   <li>
    cancel()
    <ul>
     <li><a href="#dom-xrhittestsource-cancel">method for XRHitTestSource</a><span>, in § 4.1</span>
     <li><a href="#dom-xrtransientinputhittestsource-cancel">method for XRTransientInputHitTestSource</a><span>, in § 4.2</span>
    </ul>
   <li><a href="#cancel-a-hit-test-source">cancel a hit test source</a><span>, in § 4.1</span>
   <li><a href="#cancel-a-hit-test-source-for-transient-input">cancel a hit test source for transient input</a><span>, in § 4.2</span>
   <li><a href="#compute-all-hit-test-results">compute all hit test results</a><span>, in § 7</span>
   <li><a href="#compute-hit-test-results">compute hit test results</a><span>, in § 7</span>
   <li><a href="#compute-hit-test-results-for-transient-input">compute hit test results for transient input</a><span>, in § 7</span>
   <li><a href="#dom-xrray-xrray">constructor()</a><span>, in § 9.2</span>
   <li><a href="#dom-xrray-xrray">constructor(origin)</a><span>, in § 9.2</span>
   <li><a href="#dom-xrray-xrray">constructor(origin, direction)</a><span>, in § 9.2</span>
   <li><a href="#dom-xrray-xrray-transform">constructor(transform)</a><span>, in § 9.2</span>
   <li><a href="#convert-from-native-entity-type">convert from native entity type</a><span>, in § 10.2</span>
   <li><a href="#create-a-hit-test-result">create a hit test result</a><span>, in § 5.1</span>
   <li><a href="#create-a-hit-test-result-for-transient-input">create a hit test result for transient input</a><span>, in § 5.2</span>
   <li><a href="#create-a-hit-test-source">create a hit test source</a><span>, in § 4.1</span>
   <li><a href="#create-a-hit-test-source-for-transient-input">create a hit test source for transient input</a><span>, in § 4.2</span>
   <li><a href="#dom-xrray-direction">direction</a><span>, in § 9.2</span>
   <li><a href="#distance-along-the-ray">distance along the ray</a><span>, in § 9.2</span>
   <li>
    effective entityTypes
    <ul>
     <li><a href="#xrhittestoptionsinit-effective-entitytypes">dfn for XRHitTestOptionsInit</a><span>, in § 3.2</span>
     <li><a href="#xrtransientinputhittestoptionsinit-effective-entitytypes">dfn for XRTransientInputHitTestOptionsInit</a><span>, in § 3.3</span>
    </ul>
   <li>
    effective offsetRay
    <ul>
     <li><a href="#xrhittestoptionsinit-effective-offsetray">dfn for XRHitTestOptionsInit</a><span>, in § 3.2</span>
     <li><a href="#xrtransientinputhittestoptionsinit-effective-offsetray">dfn for XRTransientInputHitTestOptionsInit</a><span>, in § 3.3</span>
    </ul>
   <li>
    entity types
    <ul>
     <li><a href="#xrhittestsource-entity-types">dfn for XRHitTestSource</a><span>, in § 4.1</span>
     <li><a href="#xrtransientinputhittestsource-entity-types">dfn for XRTransientInputHitTestSource</a><span>, in § 4.2</span>
    </ul>
   <li>
    entityTypes
    <ul>
     <li><a href="#dom-xrhittestoptionsinit-entitytypes">dict-member for XRHitTestOptionsInit</a><span>, in § 3.2</span>
     <li><a href="#dom-xrtransientinputhittestoptionsinit-entitytypes">dict-member for XRTransientInputHitTestOptionsInit</a><span>, in § 3.3</span>
    </ul>
   <li>
    frame
    <ul>
     <li><a href="#xrhittestresult-frame">dfn for XRHitTestResult</a><span>, in § 5.1</span>
     <li><a href="#xrtransientinputhittestresult-frame">dfn for XRTransientInputHitTestResult</a><span>, in § 5.2</span>
    </ul>
   <li><a href="#dom-xrframe-gethittestresultsfortransientinput">getHitTestResultsForTransientInput(hitTestSource)</a><span>, in § 8</span>
   <li><a href="#dom-xrframe-gethittestresults">getHitTestResults(hitTestSource)</a><span>, in § 8</span>
   <li><a href="#dom-xrhittestresult-getpose">getPose(baseSpace)</a><span>, in § 5.1</span>
   <li><a href="#hit-test">hit-test</a><span>, in § 2.1</span>
   <li><a href="#dom-xrtransientinputhittestresult-inputsource">inputSource</a><span>, in § 5.2</span>
   <li><a href="#xrframe-map-of-hit-test-sources-to-hit-test-results">map of hit test sources to hit test results</a><span>, in § 8</span>
   <li><a href="#xrframe-map-of-hit-test-sources-to-hit-test-results-for-transient-input">map of hit test sources to hit test results for transient input</a><span>, in § 8</span>
   <li>
    matrix
    <ul>
     <li><a href="#dom-xrray-matrix">attribute for XRRay</a><span>, in § 9.2</span>
     <li><a href="#xrray-matrix">dfn for XRRay</a><span>, in § 9.2</span>
    </ul>
   <li><a href="#dom-xrhittesttrackabletype-mesh">"mesh"</a><span>, in § 3.1</span>
   <li><a href="#native-entity-type">native entity type</a><span>, in § 10.2</span>
   <li><a href="#native-hit-test">native hit test</a><span>, in § 10.1</span>
   <li><a href="#native-hit-test-result">native hit test result</a><span>, in § 10.3</span>
   <li><a href="#native-hit-test-result">native hit test results</a><span>, in § 10.3</span>
   <li>
    native origin
    <ul>
     <li><a href="#xrhittestresult-native-origin">dfn for XRHitTestResult</a><span>, in § 5.1</span>
     <li><a href="#xrhittestsource-native-origin">dfn for XRHitTestSource</a><span>, in § 4.1</span>
    </ul>
   <li><a href="#obtain-hit-test-results">obtain hit test results</a><span>, in § 8</span>
   <li><a href="#obtain-hit-test-results-for-transient-input">obtain hit test results for transient input</a><span>, in § 8</span>
   <li><a href="#xrray-obtain-the-matrix">obtain the matrix</a><span>, in § 9.2</span>
   <li>
    offset ray
    <ul>
     <li><a href="#xrhittestsource-offset-ray">dfn for XRHitTestSource</a><span>, in § 4.1</span>
     <li><a href="#xrtransientinputhittestsource-offset-ray">dfn for XRTransientInputHitTestSource</a><span>, in § 4.2</span>
    </ul>
   <li>
    offsetRay
    <ul>
     <li><a href="#dom-xrhittestoptionsinit-offsetray">dict-member for XRHitTestOptionsInit</a><span>, in § 3.2</span>
     <li><a href="#dom-xrtransientinputhittestoptionsinit-offsetray">dict-member for XRTransientInputHitTestOptionsInit</a><span>, in § 3.3</span>
    </ul>
   <li><a href="#dom-xrray-origin">origin</a><span>, in § 9.2</span>
   <li><a href="#dom-xrhittesttrackabletype-plane">"plane"</a><span>, in § 3.1</span>
   <li><a href="#dom-xrhittesttrackabletype-point">"point"</a><span>, in § 3.1</span>
   <li>
    profile
    <ul>
     <li><a href="#xrtransientinputhittestsource-profile">dfn for XRTransientInputHitTestSource</a><span>, in § 4.2</span>
     <li><a href="#dom-xrtransientinputhittestoptionsinit-profile">dict-member for XRTransientInputHitTestOptionsInit</a><span>, in § 3.3</span>
    </ul>
   <li><a href="#request-hit-test">request hit test</a><span>, in § 6</span>
   <li><a href="#dom-xrsession-requesthittestsourcefortransientinput">requestHitTestSourceForTransientInput(options)</a><span>, in § 6</span>
   <li><a href="#dom-xrsession-requesthittestsource">requestHitTestSource(options)</a><span>, in § 6</span>
   <li><a href="#dom-xrtransientinputhittestresult-results">results</a><span>, in § 5.2</span>
   <li>
    session
    <ul>
     <li><a href="#xrhittestsource-session">dfn for XRHitTestSource</a><span>, in § 4.1</span>
     <li><a href="#xrtransientinputhittestsource-session">dfn for XRTransientInputHitTestSource</a><span>, in § 4.2</span>
    </ul>
   <li><a href="#xrsession-set-of-active-hit-test-sources">set of active hit test sources</a><span>, in § 6</span>
   <li><a href="#xrsession-set-of-active-hit-test-sources-for-transient-input">set of active hit test sources for transient input</a><span>, in § 6</span>
   <li><a href="#dom-xrhittestoptionsinit-space">space</a><span>, in § 3.2</span>
   <li><a href="#unreasonable-number-of-requests">unreasonable number of requests</a><span>, in § 6</span>
   <li><a href="#dom-xrraydirectioninit-w">w</a><span>, in § 9.1</span>
   <li><a href="#dom-xrraydirectioninit-x">x</a><span>, in § 9.1</span>
   <li><a href="#dictdef-xrhittestoptionsinit">XRHitTestOptionsInit</a><span>, in § 3.2</span>
   <li><a href="#xrhittestresult">XRHitTestResult</a><span>, in § 5.1</span>
   <li><a href="#xrhittestsource">XRHitTestSource</a><span>, in § 4.1</span>
   <li><a href="#enumdef-xrhittesttrackabletype">XRHitTestTrackableType</a><span>, in § 3.1</span>
   <li><a href="#xrray">XRRay</a><span>, in § 9.2</span>
   <li><a href="#dom-xrray-xrray">XRRay()</a><span>, in § 9.2</span>
   <li><a href="#dictdef-xrraydirectioninit">XRRayDirectionInit</a><span>, in § 9.1</span>
   <li><a href="#dom-xrray-xrray">XRRay(origin)</a><span>, in § 9.2</span>
   <li><a href="#dom-xrray-xrray">XRRay(origin, direction)</a><span>, in § 9.2</span>
   <li><a href="#dom-xrray-xrray-transform">XRRay(transform)</a><span>, in § 9.2</span>
   <li><a href="#dictdef-xrtransientinputhittestoptionsinit">XRTransientInputHitTestOptionsInit</a><span>, in § 3.3</span>
   <li><a href="#xrtransientinputhittestresult">XRTransientInputHitTestResult</a><span>, in § 5.2</span>
   <li><a href="#xrtransientinputhittestsource">XRTransientInputHitTestSource</a><span>, in § 4.2</span>
   <li><a href="#dom-xrraydirectioninit-y">y</a><span>, in § 9.1</span>
   <li><a href="#dom-xrraydirectioninit-z">z</a><span>, in § 9.1</span>
  </ul>
  <h3 class="no-num no-ref heading settled" id="index-defined-elsewhere"><span class="content">Terms defined by reference</span><a class="self-link" href="#index-defined-elsewhere"></a></h3>
  <ul class="index">
   <li>
    <a data-link-type="biblio">[ECMASCRIPT]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="9b957351">IsDetachedBuffer</span>
    </ul>
   <li>
    <a data-link-type="biblio">[GEOMETRY-1]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="289ee1c2">DOMPointInit</span>
     <li><span class="dfn-paneled" id="5cce610d">DOMPointReadOnly</span>
     <li><span class="dfn-paneled" id="0173c6c0">w <small>(for DOMPointInit)</small></span>
     <li><span class="dfn-paneled" id="b904c747">w <small>(for DOMPointReadOnly)</small></span>
     <li><span class="dfn-paneled" id="dae466b2">x <small>(for DOMPointInit)</small></span>
     <li><span class="dfn-paneled" id="85de675f">x <small>(for DOMPointReadOnly)</small></span>
     <li><span class="dfn-paneled" id="e097c631">y <small>(for DOMPointInit)</small></span>
     <li><span class="dfn-paneled" id="06d1a8bf">y <small>(for DOMPointReadOnly)</small></span>
     <li><span class="dfn-paneled" id="a5b295b1">z <small>(for DOMPointInit)</small></span>
     <li><span class="dfn-paneled" id="b97bccea">z <small>(for DOMPointReadOnly)</small></span>
    </ul>
   <li>
    <a data-link-type="biblio">[INFRA]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="ae8def21">contain</span>
     <li><span class="dfn-paneled" id="649608b9">list</span>
    </ul>
   <li>
    <a data-link-type="biblio">[WEBIDL]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="8855a9aa">DOMString</span>
     <li><span class="dfn-paneled" id="889e932f">Exposed</span>
     <li><span class="dfn-paneled" id="0a296dfe">Float32Array</span>
     <li><span class="dfn-paneled" id="dcf5fafa">FrozenArray</span>
     <li><span class="dfn-paneled" id="797018a7">InvalidStateError</span>
     <li><span class="dfn-paneled" id="ba556545">NotAllowedError</span>
     <li><span class="dfn-paneled" id="3182eb71">NotSupportedError</span>
     <li><span class="dfn-paneled" id="34443090">OperationError</span>
     <li><span class="dfn-paneled" id="bdbd19d1">Promise</span>
     <li><span class="dfn-paneled" id="a5c91173">SameObject</span>
     <li><span class="dfn-paneled" id="b75bb3bd">SecureContext</span>
     <li><span class="dfn-paneled" id="82ca3efc">TypeError</span>
     <li><span class="dfn-paneled" id="dacde8b5">a new promise</span>
     <li><span class="dfn-paneled" id="8c800cdf">double</span>
     <li><span class="dfn-paneled" id="b262501e">reject</span>
     <li><span class="dfn-paneled" id="3b90bdcd">resolve</span>
     <li><span class="dfn-paneled" id="5f90bbfb">undefined</span>
    </ul>
   <li>
    <a data-link-type="biblio">[WEBXR]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="ea90e02f">XRInputSource</span>
     <li><span class="dfn-paneled" id="9dfd38d6">XRPose</span>
     <li><span class="dfn-paneled" id="0b566548">XRSpace</span>
     <li><span class="dfn-paneled" id="4dd97d27">profiles</span>
     <li><span class="dfn-paneled" id="7c7eccf9">session</span>
     <li><span class="dfn-paneled" id="53ce93e0">targetRaySpace</span>
    </ul>
   <li>
    <a data-link-type="biblio">[WEBXR DEVICE API - LEVEL 1]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="cbf14c82">XRFrame</span>
     <li><span class="dfn-paneled" id="addb795b">XRRigidTransform</span>
     <li><span class="dfn-paneled" id="92c48225">XRSession</span>
     <li><span class="dfn-paneled" id="9db6ca78">active</span>
     <li><span class="dfn-paneled" id="00413661">capable of supporting</span>
     <li><span class="dfn-paneled" id="92219559">effective origin</span>
     <li><span class="dfn-paneled" id="0d16f114">ended</span>
     <li><span class="dfn-paneled" id="6779156f">feature descriptor</span>
     <li><span class="dfn-paneled" id="3d17a932">feature policy</span>
     <li><span class="dfn-paneled" id="7714faac">identity transform</span>
     <li><span class="dfn-paneled" id="e76130a4">inline xr device</span>
     <li><span class="dfn-paneled" id="6e062ca1">input profile name</span>
     <li><span class="dfn-paneled" id="10cd2e81">list of active xr input sources</span>
     <li><span class="dfn-paneled" id="7595b4f3">list of enabled features</span>
     <li><span class="dfn-paneled" id="c5fba419">list of frame updates</span>
     <li><span class="dfn-paneled" id="d3b14a79">matrix</span>
     <li><span class="dfn-paneled" id="98e76378">matrix <small>(for XRRigidTransform)</small></span>
     <li><span class="dfn-paneled" id="93c7a14d">native origin</span>
     <li><span class="dfn-paneled" id="5218135d">normalize</span>
     <li><span class="dfn-paneled" id="71504bf6">origin offset</span>
     <li><span class="dfn-paneled" id="4c369bfe">populate the pose</span>
     <li><span class="dfn-paneled" id="28b7a237">session <small>(for XRFrame)</small></span>
     <li><span class="dfn-paneled" id="dc6d57fd">session <small>(for XRSpace)</small></span>
     <li><span class="dfn-paneled" id="0dbbcc01">xr device</span>
     <li><span class="dfn-paneled" id="0b7e2439">xr device <small>(for XRSession)</small></span>
    </ul>
  </ul>
  <h2 class="no-num no-ref heading settled" id="references"><span class="content">References</span><a class="self-link" href="#references"></a></h2>
  <h3 class="no-num no-ref heading settled" id="normative"><span class="content">Normative References</span><a class="self-link" href="#normative"></a></h3>
  <dl>
   <dt id="biblio-ecmascript">[ECMASCRIPT]
   <dd><a href="https://tc39.es/ecma262/multipage/"><cite>ECMAScript Language Specification</cite></a>. URL: <a href="https://tc39.es/ecma262/multipage/">https://tc39.es/ecma262/multipage/</a>
   <dt id="biblio-geometry-1">[GEOMETRY-1]
   <dd>Simon Pieters; Chris Harrelson. <a href="https://drafts.fxtf.org/geometry/"><cite>Geometry Interfaces Module Level 1</cite></a>. URL: <a href="https://drafts.fxtf.org/geometry/">https://drafts.fxtf.org/geometry/</a>
   <dt id="biblio-infra">[INFRA]
   <dd>Anne van Kesteren; Domenic Denicola. <a href="https://infra.spec.whatwg.org/"><cite>Infra Standard</cite></a>. Living Standard. URL: <a href="https://infra.spec.whatwg.org/">https://infra.spec.whatwg.org/</a>
   <dt id="biblio-rfc2119">[RFC2119]
   <dd>S. Bradner. <a href="https://datatracker.ietf.org/doc/html/rfc2119"><cite>Key words for use in RFCs to Indicate Requirement Levels</cite></a>. March 1997. Best Current Practice. URL: <a href="https://datatracker.ietf.org/doc/html/rfc2119">https://datatracker.ietf.org/doc/html/rfc2119</a>
   <dt id="biblio-webidl">[WEBIDL]
   <dd>Edgar Chen; Timothy Gu. <a href="https://webidl.spec.whatwg.org/"><cite>Web IDL Standard</cite></a>. Living Standard. URL: <a href="https://webidl.spec.whatwg.org/">https://webidl.spec.whatwg.org/</a>
   <dt id="biblio-webxr">[WEBXR]
   <dd>Brandon Jones; Manish Goregaokar; Rik Cabanier. <a href="https://immersive-web.github.io/webxr/"><cite>WebXR Device API</cite></a>. URL: <a href="https://immersive-web.github.io/webxr/">https://immersive-web.github.io/webxr/</a>
  </dl>
  <h2 class="no-num no-ref heading settled" id="idl-index"><span class="content">IDL Index</span><a class="self-link" href="#idl-index"></a></h2>
<pre class="idl highlight def"><c- b>enum</c-> <a href="#enumdef-xrhittesttrackabletype"><code><c- g>XRHitTestTrackableType</c-></code></a> {
  <a class="idl-code" data-link-type="enum-value" href="#dom-xrhittesttrackabletype-point"><c- s>"point"</c-></a>,
  <a class="idl-code" data-link-type="enum-value" href="#dom-xrhittesttrackabletype-plane"><c- s>"plane"</c-></a>,
  <a class="idl-code" data-link-type="enum-value" href="#dom-xrhittesttrackabletype-mesh"><c- s>"mesh"</c-></a>
};

<c- b>dictionary</c-> <a href="#dictdef-xrhittestoptionsinit"><code><c- g>XRHitTestOptionsInit</c-></code></a> {
  <c- b>required</c-> <a data-link-type="idl-name" href="https://immersive-web.github.io/webxr/#xrspace"><c- n>XRSpace</c-></a> <a class="idl-code" data-link-type="dict-member" data-type="XRSpace " href="#dom-xrhittestoptionsinit-space"><c- g>space</c-></a>;
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-frozen-array"><c- b>FrozenArray</c-></a>&lt;<a data-link-type="idl-name" href="#enumdef-xrhittesttrackabletype"><c- n>XRHitTestTrackableType</c-></a>> <a class="idl-code" data-link-type="dict-member" data-type="FrozenArray<XRHitTestTrackableType> " href="#dom-xrhittestoptionsinit-entitytypes"><c- g>entityTypes</c-></a>;
  <a data-link-type="idl-name" href="#xrray"><c- n>XRRay</c-></a> <a class="idl-code" data-link-type="dict-member" data-type="XRRay " href="#dom-xrhittestoptionsinit-offsetray"><c- g>offsetRay</c-></a>;
};

<c- b>dictionary</c-> <a href="#dictdef-xrtransientinputhittestoptionsinit"><code><c- g>XRTransientInputHitTestOptionsInit</c-></code></a> {
  <c- b>required</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString"><c- b>DOMString</c-></a> <a class="idl-code" data-link-type="dict-member" data-type="DOMString " href="#dom-xrtransientinputhittestoptionsinit-profile"><c- g>profile</c-></a>;
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-frozen-array"><c- b>FrozenArray</c-></a>&lt;<a data-link-type="idl-name" href="#enumdef-xrhittesttrackabletype"><c- n>XRHitTestTrackableType</c-></a>> <a class="idl-code" data-link-type="dict-member" data-type="FrozenArray<XRHitTestTrackableType> " href="#dom-xrtransientinputhittestoptionsinit-entitytypes"><c- g>entityTypes</c-></a>;
  <a data-link-type="idl-name" href="#xrray"><c- n>XRRay</c-></a> <a class="idl-code" data-link-type="dict-member" data-type="XRRay " href="#dom-xrtransientinputhittestoptionsinit-offsetray"><c- g>offsetRay</c-></a>;
};

[<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#SecureContext"><c- g>SecureContext</c-></a>, <a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Exposed"><c- g>Exposed</c-></a>=<c- n>Window</c->]
<c- b>interface</c-> <a href="#xrhittestsource"><code><c- g>XRHitTestSource</c-></code></a> {
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-undefined"><c- b>undefined</c-></a> <a class="idl-code" data-link-type="method" href="#dom-xrhittestsource-cancel"><c- g>cancel</c-></a>();
};

[<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#SecureContext"><c- g>SecureContext</c-></a>, <a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Exposed"><c- g>Exposed</c-></a>=<c- n>Window</c->]
<c- b>interface</c-> <a href="#xrtransientinputhittestsource"><code><c- g>XRTransientInputHitTestSource</c-></code></a> {
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-undefined"><c- b>undefined</c-></a> <a class="idl-code" data-link-type="method" href="#dom-xrtransientinputhittestsource-cancel"><c- g>cancel</c-></a>();
};

[<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#SecureContext"><c- g>SecureContext</c-></a>, <a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Exposed"><c- g>Exposed</c-></a>=<c- n>Window</c->]
<c- b>interface</c-> <a href="#xrhittestresult"><code><c- g>XRHitTestResult</c-></code></a> {
  <a data-link-type="idl-name" href="https://immersive-web.github.io/webxr/#xrpose"><c- n>XRPose</c-></a>? <a class="idl-code" data-link-type="method" href="#dom-xrhittestresult-getpose"><c- g>getPose</c-></a>(<a data-link-type="idl-name" href="https://immersive-web.github.io/webxr/#xrspace"><c- n>XRSpace</c-></a> <a href="#dom-xrhittestresult-getpose-basespace-basespace"><code><c- g>baseSpace</c-></code></a>);
};

[<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#SecureContext"><c- g>SecureContext</c-></a>, <a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Exposed"><c- g>Exposed</c-></a>=<c- n>Window</c->]
<c- b>interface</c-> <a href="#xrtransientinputhittestresult"><code><c- g>XRTransientInputHitTestResult</c-></code></a> {
  [<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#SameObject"><c- g>SameObject</c-></a>] <c- b>readonly</c-> <c- b>attribute</c-> <a data-link-type="idl-name" href="https://immersive-web.github.io/webxr/#xrinputsource"><c- n>XRInputSource</c-></a> <a data-readonly data-type="XRInputSource" href="#dom-xrtransientinputhittestresult-inputsource"><code><c- g>inputSource</c-></code></a>;
  <c- b>readonly</c-> <c- b>attribute</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-frozen-array"><c- b>FrozenArray</c-></a>&lt;<a data-link-type="idl-name" href="#xrhittestresult"><c- n>XRHitTestResult</c-></a>> <a data-readonly data-type="FrozenArray<XRHitTestResult>" href="#dom-xrtransientinputhittestresult-results"><code><c- g>results</c-></code></a>;
};

<c- b>partial</c-> <c- b>interface</c-> <a class="idl-code" data-link-type="interface" href="https://www.w3.org/TR/webxr/#xrsession-interface"><c- g>XRSession</c-></a> {
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise"><c- b>Promise</c-></a>&lt;<a data-link-type="idl-name" href="#xrhittestsource"><c- n>XRHitTestSource</c-></a>> <a class="idl-code" data-link-type="method" href="#dom-xrsession-requesthittestsource"><c- g>requestHitTestSource</c-></a>(<a data-link-type="idl-name" href="#dictdef-xrhittestoptionsinit"><c- n>XRHitTestOptionsInit</c-></a> <a href="#dom-xrsession-requesthittestsource-options-options"><code><c- g>options</c-></code></a>);
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise"><c- b>Promise</c-></a>&lt;<a data-link-type="idl-name" href="#xrtransientinputhittestsource"><c- n>XRTransientInputHitTestSource</c-></a>> <a class="idl-code" data-link-type="method" href="#dom-xrsession-requesthittestsourcefortransientinput"><c- g>requestHitTestSourceForTransientInput</c-></a>(<a data-link-type="idl-name" href="#dictdef-xrtransientinputhittestoptionsinit"><c- n>XRTransientInputHitTestOptionsInit</c-></a> <a href="#dom-xrsession-requesthittestsourcefortransientinput-options-options"><code><c- g>options</c-></code></a>);
};

<c- b>partial</c-> <c- b>interface</c-> <a class="idl-code" data-link-type="interface" href="https://www.w3.org/TR/webxr/#xrframe-interface"><c- g>XRFrame</c-></a> {
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-frozen-array"><c- b>FrozenArray</c-></a>&lt;<a data-link-type="idl-name" href="#xrhittestresult"><c- n>XRHitTestResult</c-></a>> <a class="idl-code" data-link-type="method" href="#dom-xrframe-gethittestresults"><c- g>getHitTestResults</c-></a>(<a data-link-type="idl-name" href="#xrhittestsource"><c- n>XRHitTestSource</c-></a> <a href="#dom-xrframe-gethittestresults-hittestsource-hittestsource"><code><c- g>hitTestSource</c-></code></a>);
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-frozen-array"><c- b>FrozenArray</c-></a>&lt;<a data-link-type="idl-name" href="#xrtransientinputhittestresult"><c- n>XRTransientInputHitTestResult</c-></a>> <a class="idl-code" data-link-type="method" href="#dom-xrframe-gethittestresultsfortransientinput"><c- g>getHitTestResultsForTransientInput</c-></a>(<a data-link-type="idl-name" href="#xrtransientinputhittestsource"><c- n>XRTransientInputHitTestSource</c-></a> <a href="#dom-xrframe-gethittestresultsfortransientinput-hittestsource-hittestsource"><code><c- g>hitTestSource</c-></code></a>);
};

<c- b>dictionary</c-> <a href="#dictdef-xrraydirectioninit"><code><c- g>XRRayDirectionInit</c-></code></a> {
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-double"><c- b>double</c-></a> <a data-default="0" data-type="double " href="#dom-xrraydirectioninit-x"><code><c- g>x</c-></code></a> = 0;
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-double"><c- b>double</c-></a> <a data-default="0" data-type="double " href="#dom-xrraydirectioninit-y"><code><c- g>y</c-></code></a> = 0;
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-double"><c- b>double</c-></a> <a data-default="-1" data-type="double " href="#dom-xrraydirectioninit-z"><code><c- g>z</c-></code></a> = -1;
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-double"><c- b>double</c-></a> <a data-default="0" data-type="double " href="#dom-xrraydirectioninit-w"><code><c- g>w</c-></code></a> = 0;
};

[<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#SecureContext"><c- g>SecureContext</c-></a>, <a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Exposed"><c- g>Exposed</c-></a>=<c- n>Window</c->]
<c- b>interface</c-> <a href="#xrray"><code><c- g>XRRay</c-></code></a> {
  <a class="idl-code" data-link-type="constructor" href="#dom-xrray-xrray"><c- g>constructor</c-></a>(<c- b>optional</c-> <a data-link-type="idl-name" href="https://drafts.fxtf.org/geometry-1/#dictdef-dompointinit"><c- n>DOMPointInit</c-></a> <a href="#dom-xrray-xrray-origin-direction-origin"><code><c- g>origin</c-></code></a> = {}, <c- b>optional</c-> <a data-link-type="idl-name" href="#dictdef-xrraydirectioninit"><c- n>XRRayDirectionInit</c-></a> <a href="#dom-xrray-xrray-origin-direction-direction"><code><c- g>direction</c-></code></a> = {});
  <a class="idl-code" data-link-type="constructor" href="#dom-xrray-xrray-transform"><c- g>constructor</c-></a>(<a data-link-type="idl-name" href="https://www.w3.org/TR/webxr/#xrrigidtransform-interface"><c- n>XRRigidTransform</c-></a> <a href="#dom-xrray-xrray-transform-transform"><code><c- g>transform</c-></code></a>);
  [<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#SameObject"><c- g>SameObject</c-></a>] <c- b>readonly</c-> <c- b>attribute</c-> <a data-link-type="idl-name" href="https://drafts.fxtf.org/geometry-1/#dompointreadonly"><c- n>DOMPointReadOnly</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="DOMPointReadOnly" href="#dom-xrray-origin"><c- g>origin</c-></a>;
  [<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#SameObject"><c- g>SameObject</c-></a>] <c- b>readonly</c-> <c- b>attribute</c-> <a data-link-type="idl-name" href="https://drafts.fxtf.org/geometry-1/#dompointreadonly"><c- n>DOMPointReadOnly</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="DOMPointReadOnly" href="#dom-xrray-direction"><c- g>direction</c-></a>;
  [<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#SameObject"><c- g>SameObject</c-></a>] <c- b>readonly</c-> <c- b>attribute</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-Float32Array"><c- b>Float32Array</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="Float32Array" href="#dom-xrray-matrix"><c- g>matrix</c-></a>;
};

</pre>
  <h2 class="no-num no-ref heading settled" id="issues-index"><span class="content">Issues Index</span><a class="self-link" href="#issues-index"></a></h2>
  <div style="counter-reset:issue">
   <div class="issue"> Decide if we need to specify other axes of the coordinate system defined by hit test result’s native origin to maintain compatibility between different implementations &amp; differrent AR frameworks. <a class="issue-return" href="#issue-4d2e55aa" title="Jump to section">↵</a></div>
  </div>
  <details class="mdn-anno unpositioned" data-anno-for="dom-xrframe-gethittestresults">
   <summary><b class="less-than-two-engines-flag" title="This feature is in less than two current engines.">⚠</b><span>MDN</span></summary>
   <div class="feature">
    <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/XRFrame/getHitTestResults" title="The getHitTestResults() method of the XRFrame interface returns an array of XRHitTestResult objects containing hit test results for a given XRHitTestSource.">XRFrame/getHitTestResults</a></p>
    <p class="less-than-two-engines-text">In only one current engine.</p>
    <div class="support">
     <span class="firefox no"><span>Firefox</span><span>None</span></span><span class="safari no"><span>Safari</span><span>None</span></span><span class="chrome yes"><span>Chrome</span><span>81+</span></span>
     <hr>
     <span class="opera no"><span>Opera</span><span>?</span></span><span class="edge_blink yes"><span>Edge</span><span>81+</span></span>
     <hr>
     <span class="edge no"><span>Edge (Legacy)</span><span>?</span></span><span class="ie no"><span>IE</span><span>None</span></span>
     <hr>
     <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span class="webview_android no"><span>Android WebView</span><span>None</span></span><span class="samsunginternet_android no"><span>Samsung Internet</span><span>?</span></span><span class="opera_android no"><span>Opera Mobile</span><span>?</span></span>
    </div>
   </div>
  </details>
  <details class="mdn-anno unpositioned" data-anno-for="dom-xrframe-gethittestresultsfortransientinput">
   <summary><b class="less-than-two-engines-flag" title="This feature is in less than two current engines.">⚠</b><span>MDN</span></summary>
   <div class="feature">
    <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/XRFrame/getHitTestResultsForTransientInput" title="The getHitTestResultsForTransientInput() method of the XRFrame interface returns an array of XRTransientInputHitTestResult objects containing transient input hit test results for a given XRTransientInputHitTestSource.">XRFrame/getHitTestResultsForTransientInput</a></p>
    <p class="less-than-two-engines-text">In only one current engine.</p>
    <div class="support">
     <span class="firefox no"><span>Firefox</span><span>None</span></span><span class="safari no"><span>Safari</span><span>None</span></span><span class="chrome yes"><span>Chrome</span><span>81+</span></span>
     <hr>
     <span class="opera no"><span>Opera</span><span>?</span></span><span class="edge_blink yes"><span>Edge</span><span>81+</span></span>
     <hr>
     <span class="edge no"><span>Edge (Legacy)</span><span>?</span></span><span class="ie no"><span>IE</span><span>None</span></span>
     <hr>
     <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span class="webview_android no"><span>Android WebView</span><span>None</span></span><span class="samsunginternet_android no"><span>Samsung Internet</span><span>?</span></span><span class="opera_android no"><span>Opera Mobile</span><span>?</span></span>
    </div>
   </div>
  </details>
  <details class="mdn-anno unpositioned" data-anno-for="dom-xrhittestresult-getpose">
   <summary><b class="less-than-two-engines-flag" title="This feature is in less than two current engines.">⚠</b><span>MDN</span></summary>
   <div class="feature">
    <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/XRHitTestResult/getPose" title="The getPose() method of the XRHitTestResult interface returns the XRPose of the hit test result relative to the given base space.">XRHitTestResult/getPose</a></p>
    <p class="less-than-two-engines-text">In only one current engine.</p>
    <div class="support">
     <span class="firefox no"><span>Firefox</span><span>None</span></span><span class="safari no"><span>Safari</span><span>None</span></span><span class="chrome yes"><span>Chrome</span><span>81+</span></span>
     <hr>
     <span class="opera no"><span>Opera</span><span>?</span></span><span class="edge_blink yes"><span>Edge</span><span>81+</span></span>
     <hr>
     <span class="edge no"><span>Edge (Legacy)</span><span>?</span></span><span class="ie no"><span>IE</span><span>None</span></span>
     <hr>
     <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span class="webview_android no"><span>Android WebView</span><span>None</span></span><span class="samsunginternet_android no"><span>Samsung Internet</span><span>?</span></span><span class="opera_android no"><span>Opera Mobile</span><span>?</span></span>
    </div>
   </div>
  </details>
  <details class="mdn-anno unpositioned" data-anno-for="xr-hit-test-result-interface">
   <summary><b class="less-than-two-engines-flag" title="This feature is in less than two current engines.">⚠</b><span>MDN</span></summary>
   <div class="feature">
    <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/XRHitTestResult" title="The XRHitTestResult interface of the WebXR Device API contains a single result of a hit test. You can get an array of XRHitTestResult objects for a frame by calling XRFrame.getHitTestResults().">XRHitTestResult</a></p>
    <p class="less-than-two-engines-text">In only one current engine.</p>
    <div class="support">
     <span class="firefox no"><span>Firefox</span><span>None</span></span><span class="safari no"><span>Safari</span><span>None</span></span><span class="chrome yes"><span>Chrome</span><span>81+</span></span>
     <hr>
     <span class="opera no"><span>Opera</span><span>?</span></span><span class="edge_blink yes"><span>Edge</span><span>81+</span></span>
     <hr>
     <span class="edge no"><span>Edge (Legacy)</span><span>?</span></span><span class="ie no"><span>IE</span><span>None</span></span>
     <hr>
     <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span class="webview_android no"><span>Android WebView</span><span>None</span></span><span class="samsunginternet_android no"><span>Samsung Internet</span><span>?</span></span><span class="opera_android no"><span>Opera Mobile</span><span>?</span></span>
    </div>
   </div>
  </details>
  <details class="mdn-anno unpositioned" data-anno-for="dom-xrhittestsource-cancel">
   <summary><b class="less-than-two-engines-flag" title="This feature is in less than two current engines.">⚠</b><span>MDN</span></summary>
   <div class="feature">
    <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/XRHitTestSource/cancel" title="The cancel() method of the XRHitTestSource interface unsubscribes a hit test.">XRHitTestSource/cancel</a></p>
    <p class="less-than-two-engines-text">In only one current engine.</p>
    <div class="support">
     <span class="firefox no"><span>Firefox</span><span>None</span></span><span class="safari no"><span>Safari</span><span>None</span></span><span class="chrome yes"><span>Chrome</span><span>81+</span></span>
     <hr>
     <span class="opera no"><span>Opera</span><span>?</span></span><span class="edge_blink yes"><span>Edge</span><span>81+</span></span>
     <hr>
     <span class="edge no"><span>Edge (Legacy)</span><span>?</span></span><span class="ie no"><span>IE</span><span>None</span></span>
     <hr>
     <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span class="webview_android no"><span>Android WebView</span><span>None</span></span><span class="samsunginternet_android no"><span>Samsung Internet</span><span>?</span></span><span class="opera_android no"><span>Opera Mobile</span><span>?</span></span>
    </div>
   </div>
  </details>
  <details class="mdn-anno unpositioned" data-anno-for="hit-test-source-interface">
   <summary><b class="less-than-two-engines-flag" title="This feature is in less than two current engines.">⚠</b><span>MDN</span></summary>
   <div class="feature">
    <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/XRHitTestSource" title="The XRHitTestSource interface of the WebXR Device API handles hit test subscriptions. You can get an XRHitTestSource object by using the XRSession.requestHitTestSource() method.">XRHitTestSource</a></p>
    <p class="less-than-two-engines-text">In only one current engine.</p>
    <div class="support">
     <span class="firefox no"><span>Firefox</span><span>None</span></span><span class="safari no"><span>Safari</span><span>None</span></span><span class="chrome yes"><span>Chrome</span><span>81+</span></span>
     <hr>
     <span class="opera no"><span>Opera</span><span>?</span></span><span class="edge_blink yes"><span>Edge</span><span>81+</span></span>
     <hr>
     <span class="edge no"><span>Edge (Legacy)</span><span>?</span></span><span class="ie no"><span>IE</span><span>None</span></span>
     <hr>
     <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span class="webview_android no"><span>Android WebView</span><span>None</span></span><span class="samsunginternet_android no"><span>Samsung Internet</span><span>?</span></span><span class="opera_android no"><span>Opera Mobile</span><span>?</span></span>
    </div>
   </div>
  </details>
  <details class="mdn-anno unpositioned" data-anno-for="dom-xrray-xrray">
   <summary><b class="less-than-two-engines-flag" title="This feature is in less than two current engines.">⚠</b><span>MDN</span></summary>
   <div class="feature">
    <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/XRRay/XRRay" title="The XRRay() constructor creates a new XRRay object which is a geometric ray described by an origin point and a direction vector.">XRRay/XRRay</a></p>
    <p class="less-than-two-engines-text">In only one current engine.</p>
    <div class="support">
     <span class="firefox no"><span>Firefox</span><span>None</span></span><span class="safari no"><span>Safari</span><span>None</span></span><span class="chrome yes"><span>Chrome</span><span>81+</span></span>
     <hr>
     <span class="opera no"><span>Opera</span><span>?</span></span><span class="edge_blink yes"><span>Edge</span><span>81+</span></span>
     <hr>
     <span class="edge no"><span>Edge (Legacy)</span><span>?</span></span><span class="ie no"><span>IE</span><span>None</span></span>
     <hr>
     <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span class="webview_android no"><span>Android WebView</span><span>None</span></span><span class="samsunginternet_android no"><span>Samsung Internet</span><span>?</span></span><span class="opera_android no"><span>Opera Mobile</span><span>?</span></span>
    </div>
   </div>
  </details>
  <details class="mdn-anno unpositioned" data-anno-for="dom-xrray-direction">
   <summary><b class="less-than-two-engines-flag" title="This feature is in less than two current engines.">⚠</b><span>MDN</span></summary>
   <div class="feature">
    <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/XRRay/direction" title="The read-only direction property of the XRRay interface is a DOMPointReadOnly representing the ray&apos;s 3-dimensional directional vector, normalized to a unit vector with a length of 1.0.">XRRay/direction</a></p>
    <p class="less-than-two-engines-text">In only one current engine.</p>
    <div class="support">
     <span class="firefox no"><span>Firefox</span><span>None</span></span><span class="safari no"><span>Safari</span><span>None</span></span><span class="chrome yes"><span>Chrome</span><span>81+</span></span>
     <hr>
     <span class="opera no"><span>Opera</span><span>?</span></span><span class="edge_blink yes"><span>Edge</span><span>81+</span></span>
     <hr>
     <span class="edge no"><span>Edge (Legacy)</span><span>?</span></span><span class="ie no"><span>IE</span><span>None</span></span>
     <hr>
     <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span class="webview_android no"><span>Android WebView</span><span>None</span></span><span class="samsunginternet_android no"><span>Samsung Internet</span><span>?</span></span><span class="opera_android no"><span>Opera Mobile</span><span>?</span></span>
    </div>
   </div>
  </details>
  <details class="mdn-anno unpositioned" data-anno-for="dom-xrray-matrix">
   <summary><b class="less-than-two-engines-flag" title="This feature is in less than two current engines.">⚠</b><span>MDN</span></summary>
   <div class="feature">
    <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/XRRay/matrix" title="The read-only matrix property of the XRRay interface is a transform that can be used to position objects along the XRRay. This is a 4 by 4 matrix given as a 16 element Float32Array in column major order.">XRRay/matrix</a></p>
    <p class="less-than-two-engines-text">In only one current engine.</p>
    <div class="support">
     <span class="firefox no"><span>Firefox</span><span>None</span></span><span class="safari no"><span>Safari</span><span>None</span></span><span class="chrome yes"><span>Chrome</span><span>81+</span></span>
     <hr>
     <span class="opera no"><span>Opera</span><span>?</span></span><span class="edge_blink yes"><span>Edge</span><span>81+</span></span>
     <hr>
     <span class="edge no"><span>Edge (Legacy)</span><span>?</span></span><span class="ie no"><span>IE</span><span>None</span></span>
     <hr>
     <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span class="webview_android no"><span>Android WebView</span><span>None</span></span><span class="samsunginternet_android no"><span>Samsung Internet</span><span>?</span></span><span class="opera_android no"><span>Opera Mobile</span><span>?</span></span>
    </div>
   </div>
  </details>
  <details class="mdn-anno unpositioned" data-anno-for="dom-xrray-origin">
   <summary><b class="less-than-two-engines-flag" title="This feature is in less than two current engines.">⚠</b><span>MDN</span></summary>
   <div class="feature">
    <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/XRRay/origin" title="The read-only origin property of the XRRay interface is a DOMPointReadOnly representing the 3-dimensional point in space that the ray originates from, in meters.">XRRay/origin</a></p>
    <p class="less-than-two-engines-text">In only one current engine.</p>
    <div class="support">
     <span class="firefox no"><span>Firefox</span><span>None</span></span><span class="safari no"><span>Safari</span><span>None</span></span><span class="chrome yes"><span>Chrome</span><span>81+</span></span>
     <hr>
     <span class="opera no"><span>Opera</span><span>?</span></span><span class="edge_blink yes"><span>Edge</span><span>81+</span></span>
     <hr>
     <span class="edge no"><span>Edge (Legacy)</span><span>?</span></span><span class="ie no"><span>IE</span><span>None</span></span>
     <hr>
     <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span class="webview_android no"><span>Android WebView</span><span>None</span></span><span class="samsunginternet_android no"><span>Samsung Internet</span><span>?</span></span><span class="opera_android no"><span>Opera Mobile</span><span>?</span></span>
    </div>
   </div>
  </details>
  <details class="mdn-anno unpositioned" data-anno-for="xrray-interface">
   <summary><b class="less-than-two-engines-flag" title="This feature is in less than two current engines.">⚠</b><span>MDN</span></summary>
   <div class="feature">
    <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/XRRay" title="The XRRay interface of the WebXR Device API is a geometric ray described by an origin point and a direction vector.">XRRay</a></p>
    <p class="less-than-two-engines-text">In only one current engine.</p>
    <div class="support">
     <span class="firefox no"><span>Firefox</span><span>None</span></span><span class="safari no"><span>Safari</span><span>None</span></span><span class="chrome yes"><span>Chrome</span><span>81+</span></span>
     <hr>
     <span class="opera no"><span>Opera</span><span>?</span></span><span class="edge_blink yes"><span>Edge</span><span>81+</span></span>
     <hr>
     <span class="edge no"><span>Edge (Legacy)</span><span>?</span></span><span class="ie no"><span>IE</span><span>None</span></span>
     <hr>
     <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span class="webview_android no"><span>Android WebView</span><span>None</span></span><span class="samsunginternet_android no"><span>Samsung Internet</span><span>?</span></span><span class="opera_android no"><span>Opera Mobile</span><span>?</span></span>
    </div>
   </div>
  </details>
  <details class="mdn-anno unpositioned" data-anno-for="dom-xrsession-requesthittestsource">
   <summary><b class="less-than-two-engines-flag" title="This feature is in less than two current engines.">⚠</b><span>MDN</span></summary>
   <div class="feature">
    <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/XRSession/requestHitTestSource" title="The requestHitTestSource() method of the XRSession interface returns a Promise that resolves with an XRHitTestSource object that can be passed to XRFrame.getHitTestResults().">XRSession/requestHitTestSource</a></p>
    <p class="less-than-two-engines-text">In only one current engine.</p>
    <div class="support">
     <span class="firefox no"><span>Firefox</span><span>None</span></span><span class="safari no"><span>Safari</span><span>None</span></span><span class="chrome yes"><span>Chrome</span><span>81+</span></span>
     <hr>
     <span class="opera no"><span>Opera</span><span>?</span></span><span class="edge_blink yes"><span>Edge</span><span>81+</span></span>
     <hr>
     <span class="edge no"><span>Edge (Legacy)</span><span>?</span></span><span class="ie no"><span>IE</span><span>None</span></span>
     <hr>
     <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span class="webview_android no"><span>Android WebView</span><span>None</span></span><span class="samsunginternet_android yes"><span>Samsung Internet</span><span>12.1+</span></span><span class="opera_android no"><span>Opera Mobile</span><span>?</span></span>
    </div>
   </div>
  </details>
  <details class="mdn-anno unpositioned" data-anno-for="dom-xrsession-requesthittestsourcefortransientinput">
   <summary><b class="less-than-two-engines-flag" title="This feature is in less than two current engines.">⚠</b><span>MDN</span></summary>
   <div class="feature">
    <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/XRSession/requestHitTestSourceForTransientInput" title="The requestHitTestSourceForTransientInput() method of the XRSession interface returns a Promise that resolves with an XRTransientInputHitTestSource object that can be passed to XRFrame.getHitTestResultsForTransientInput().">XRSession/requestHitTestSourceForTransientInput</a></p>
    <p class="less-than-two-engines-text">In only one current engine.</p>
    <div class="support">
     <span class="firefox no"><span>Firefox</span><span>None</span></span><span class="safari no"><span>Safari</span><span>None</span></span><span class="chrome yes"><span>Chrome</span><span>81+</span></span>
     <hr>
     <span class="opera no"><span>Opera</span><span>?</span></span><span class="edge_blink yes"><span>Edge</span><span>81+</span></span>
     <hr>
     <span class="edge no"><span>Edge (Legacy)</span><span>?</span></span><span class="ie no"><span>IE</span><span>None</span></span>
     <hr>
     <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span class="webview_android no"><span>Android WebView</span><span>None</span></span><span class="samsunginternet_android no"><span>Samsung Internet</span><span>?</span></span><span class="opera_android no"><span>Opera Mobile</span><span>?</span></span>
    </div>
   </div>
  </details>
  <details class="mdn-anno unpositioned" data-anno-for="dom-xrtransientinputhittestresult-inputsource">
   <summary><b class="less-than-two-engines-flag" title="This feature is in less than two current engines.">⚠</b><span>MDN</span></summary>
   <div class="feature">
    <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/XRTransientInputHitTestResult/inputSource" title="The read-only inputSource property of the XRTransientInputHitTestResult interface represents an XRInputSource object that was used to compute the results array.">XRTransientInputHitTestResult/inputSource</a></p>
    <p class="less-than-two-engines-text">In only one current engine.</p>
    <div class="support">
     <span class="firefox no"><span>Firefox</span><span>None</span></span><span class="safari no"><span>Safari</span><span>None</span></span><span class="chrome yes"><span>Chrome</span><span>81+</span></span>
     <hr>
     <span class="opera no"><span>Opera</span><span>?</span></span><span class="edge_blink yes"><span>Edge</span><span>81+</span></span>
     <hr>
     <span class="edge no"><span>Edge (Legacy)</span><span>?</span></span><span class="ie no"><span>IE</span><span>None</span></span>
     <hr>
     <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span class="webview_android no"><span>Android WebView</span><span>None</span></span><span class="samsunginternet_android no"><span>Samsung Internet</span><span>?</span></span><span class="opera_android no"><span>Opera Mobile</span><span>?</span></span>
    </div>
   </div>
  </details>
  <details class="mdn-anno unpositioned" data-anno-for="dom-xrtransientinputhittestresult-results">
   <summary><b class="less-than-two-engines-flag" title="This feature is in less than two current engines.">⚠</b><span>MDN</span></summary>
   <div class="feature">
    <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/XRTransientInputHitTestResult/results" title="The read-only results property of the XRTransientInputHitTestResult interface represents an array of XRHitTestResult objects containing the hit test results for the input source, ordered by the distance along the ray used to perform the hit test, with the closest result at position 0.">XRTransientInputHitTestResult/results</a></p>
    <p class="less-than-two-engines-text">In only one current engine.</p>
    <div class="support">
     <span class="firefox no"><span>Firefox</span><span>None</span></span><span class="safari no"><span>Safari</span><span>None</span></span><span class="chrome yes"><span>Chrome</span><span>81+</span></span>
     <hr>
     <span class="opera no"><span>Opera</span><span>?</span></span><span class="edge_blink yes"><span>Edge</span><span>81+</span></span>
     <hr>
     <span class="edge no"><span>Edge (Legacy)</span><span>?</span></span><span class="ie no"><span>IE</span><span>None</span></span>
     <hr>
     <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span class="webview_android no"><span>Android WebView</span><span>None</span></span><span class="samsunginternet_android no"><span>Samsung Internet</span><span>?</span></span><span class="opera_android no"><span>Opera Mobile</span><span>?</span></span>
    </div>
   </div>
  </details>
  <details class="mdn-anno unpositioned" data-anno-for="xr-transient-input-hit-test-result-interface">
   <summary><b class="less-than-two-engines-flag" title="This feature is in less than two current engines.">⚠</b><span>MDN</span></summary>
   <div class="feature">
    <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/XRTransientInputHitTestResult" title="The XRTransientInputHitTestResult interface of the WebXR Device API contains an array of results of a hit test for transient input, grouped by input source.">XRTransientInputHitTestResult</a></p>
    <p class="less-than-two-engines-text">In only one current engine.</p>
    <div class="support">
     <span class="firefox no"><span>Firefox</span><span>None</span></span><span class="safari no"><span>Safari</span><span>None</span></span><span class="chrome yes"><span>Chrome</span><span>81+</span></span>
     <hr>
     <span class="opera no"><span>Opera</span><span>?</span></span><span class="edge_blink yes"><span>Edge</span><span>81+</span></span>
     <hr>
     <span class="edge no"><span>Edge (Legacy)</span><span>?</span></span><span class="ie no"><span>IE</span><span>None</span></span>
     <hr>
     <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span class="webview_android no"><span>Android WebView</span><span>None</span></span><span class="samsunginternet_android no"><span>Samsung Internet</span><span>?</span></span><span class="opera_android no"><span>Opera Mobile</span><span>?</span></span>
    </div>
   </div>
  </details>
  <details class="mdn-anno unpositioned" data-anno-for="dom-xrtransientinputhittestsource-cancel">
   <summary><b class="less-than-two-engines-flag" title="This feature is in less than two current engines.">⚠</b><span>MDN</span></summary>
   <div class="feature">
    <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/XRTransientInputHitTestSource/cancel" title="The cancel() method of the XRTransientInputHitTestSource interface unsubscribes a transient input hit test.">XRTransientInputHitTestSource/cancel</a></p>
    <p class="less-than-two-engines-text">In only one current engine.</p>
    <div class="support">
     <span class="firefox no"><span>Firefox</span><span>None</span></span><span class="safari no"><span>Safari</span><span>None</span></span><span class="chrome yes"><span>Chrome</span><span>81+</span></span>
     <hr>
     <span class="opera no"><span>Opera</span><span>?</span></span><span class="edge_blink yes"><span>Edge</span><span>81+</span></span>
     <hr>
     <span class="edge no"><span>Edge (Legacy)</span><span>?</span></span><span class="ie no"><span>IE</span><span>None</span></span>
     <hr>
     <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span class="webview_android no"><span>Android WebView</span><span>None</span></span><span class="samsunginternet_android no"><span>Samsung Internet</span><span>?</span></span><span class="opera_android no"><span>Opera Mobile</span><span>?</span></span>
    </div>
   </div>
  </details>
  <details class="mdn-anno unpositioned" data-anno-for="transient-input-hit-test-source-interface">
   <summary><b class="less-than-two-engines-flag" title="This feature is in less than two current engines.">⚠</b><span>MDN</span></summary>
   <div class="feature">
    <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/XRTransientInputHitTestSource" title="The XRTransientInputHitTestSource interface of the WebXR Device API handles transient input hit test subscriptions. You can get an XRTransientInputHitTestSource object by calling the XRSession.requestHitTestSourceForTransientInput().">XRTransientInputHitTestSource</a></p>
    <p class="less-than-two-engines-text">In only one current engine.</p>
    <div class="support">
     <span class="firefox no"><span>Firefox</span><span>None</span></span><span class="safari no"><span>Safari</span><span>None</span></span><span class="chrome yes"><span>Chrome</span><span>81+</span></span>
     <hr>
     <span class="opera no"><span>Opera</span><span>?</span></span><span class="edge_blink yes"><span>Edge</span><span>81+</span></span>
     <hr>
     <span class="edge no"><span>Edge (Legacy)</span><span>?</span></span><span class="ie no"><span>IE</span><span>None</span></span>
     <hr>
     <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span class="webview_android no"><span>Android WebView</span><span>None</span></span><span class="samsunginternet_android no"><span>Samsung Internet</span><span>?</span></span><span class="opera_android no"><span>Opera Mobile</span><span>?</span></span>
    </div>
   </div>
  </details>
<script>/* Boilerplate: script-dfn-panel */
"use strict";
{
    const dfnsJson = window.dfnsJson || {};

    function genDfnPanel({dfnID, url, dfnText, refSections, external}) {
        return mk.aside({
            class: "dfn-panel",
            id: `infopanel-for-${dfnID}`,
            "data-for": dfnID,
            "aria-labelled-by":`infopaneltitle-for-${dfnID}`,
            },
            mk.span({id:`infopaneltitle-for-${dfnID}`, style:"display:none"},
                `Info about the '${dfnText}' ${external?"external":""} reference.`),
            mk.a({href:url}, url),
            mk.b({}, "Referenced in:"),
            mk.ul({},
                ...refSections.map(section=>
                    mk.li({},
                        ...section.refs.map((ref, refI)=>
                            [
                                mk.a({
                                    href: `#${ref.id}`
                                    },
                                    (refI == 0) ? section.title : `(${refI + 1})`
                                ),
                                " ",
                            ]
                        ),
                    ),
                ),
            ),
        );
    }

    function genAllDfnPanels() {
        for(const panelData of Object.values(window.dfnpanelData)) {
            const dfnID = panelData.dfnID;
            const dfn = document.getElementById(dfnID);
            if(!dfn) {
                console.log(`Can't find dfn#${dfnID}.`, panelData);
            } else {
                const panel = genDfnPanel(panelData);
                append(document.body, panel);
                insertDfnPopupAction(dfn, panel)
            }
        }
    }

    document.addEventListener("DOMContentLoaded", ()=>{
        genAllDfnPanels();

        // Add popup behavior to all dfns to show the corresponding dfn-panel.
        var dfns = queryAll('.dfn-paneled');
        for(let dfn of dfns) { ; }

        document.body.addEventListener("click", (e) => {
            // If not handled already, just hide all dfn panels.
            hideAllDfnPanels();
        });
    })


    function hideAllDfnPanels() {
        // Turn off any currently "on" or "activated" panels.
        queryAll(".dfn-panel.on, .dfn-panel.activated").forEach(el=>hideDfnPanel(el));
    }

    function showDfnPanel(dfnPanel, dfn) {
        hideAllDfnPanels(); // Only display one at this time.
        dfn.setAttribute("aria-expanded", "true");
        dfnPanel.classList.add("on");
        dfnPanel.style.left = "5px";
        dfnPanel.style.top = "0px";
        const panelRect = dfnPanel.getBoundingClientRect();
        const panelWidth = panelRect.right - panelRect.left;
        if (panelRect.right > document.body.scrollWidth) {
            // Panel's overflowing the screen.
            // Just drop it below the dfn and flip it rightward instead.
            // This still wont' fix things if the screen is *really* wide,
            // but fixing that's a lot harder without 'anchor()'.
            dfnPanel.style.top = "1.5em";
            dfnPanel.style.left = "auto";
            dfnPanel.style.right = "0px";
        }
    }

    function pinDfnPanel(dfnPanel) {
        // Switch it to "activated" state, which pins it.
        dfnPanel.classList.add("activated");
        dfnPanel.style.left = null;
        dfnPanel.style.top = null;
    }

    function hideDfnPanel(dfnPanel, dfn) {
        if(!dfn) {
            dfn = document.getElementById(dfnPanel.getAttribute("data-for"));
        }
        dfn.setAttribute("aria-expanded", "false")
        dfnPanel.classList.remove("on");
        dfnPanel.classList.remove("activated");
    }

    function toggleDfnPanel(dfnPanel, dfn) {
        if(dfnPanel.classList.contains("on")) {
            hideDfnPanel(dfnPanel, dfn);
        } else {
            showDfnPanel(dfnPanel, dfn);
        }
    }

    function insertDfnPopupAction(dfn, dfnPanel) {
        // Find dfn panel
        const panelWrapper = document.createElement('span');
        panelWrapper.appendChild(dfnPanel);
        panelWrapper.style.position = "relative";
        panelWrapper.style.height = "0px";
        dfn.insertAdjacentElement("afterend", panelWrapper);
        dfn.setAttribute('role', 'button');
        dfn.setAttribute('aria-expanded', 'false')
        dfn.tabIndex = 0;
        dfn.classList.add('has-dfn-panel');
        dfn.addEventListener('click', (event) => {
            showDfnPanel(dfnPanel, dfn);
            event.stopPropagation();
        });
        dfn.addEventListener('keypress', (event) => {
            const kc = event.keyCode;
            // 32->Space, 13->Enter
            if(kc == 32 || kc == 13) {
                toggleDfnPanel(dfnPanel, dfn);
                event.stopPropagation();
                event.preventDefault();
            }
        });

        dfnPanel.addEventListener('click', (event) => {
            if (event.target.nodeName == 'A') {
                pinDfnPanel(dfnPanel);
            }
            event.stopPropagation();
        });

        dfnPanel.addEventListener('keydown', (event) => {
            if(event.keyCode == 27) { // Escape key
                hideDfnPanel(dfnPanel, dfn);
                event.stopPropagation();
                event.preventDefault();
            }
        })
    }
}
</script>
<script>/* Boilerplate: script-dfn-panel */
"use strict";
{
    const dfnsJson = window.dfnsJson || {};

    function genDfnPanel({dfnID, url, dfnText, refSections, external}) {
        return mk.aside({
            class: "dfn-panel",
            id: `infopanel-for-${dfnID}`,
            "data-for": dfnID,
            "aria-labelled-by":`infopaneltitle-for-${dfnID}`,
            },
            mk.span({id:`infopaneltitle-for-${dfnID}`, style:"display:none"},
                `Info about the '${dfnText}' ${external?"external":""} reference.`),
            mk.a({href:url}, url),
            mk.b({}, "Referenced in:"),
            mk.ul({},
                ...refSections.map(section=>
                    mk.li({},
                        ...section.refs.map((ref, refI)=>
                            [
                                mk.a({
                                    href: `#${ref.id}`
                                    },
                                    (refI == 0) ? section.title : `(${refI + 1})`
                                ),
                                " ",
                            ]
                        ),
                    ),
                ),
            ),
        );
    }

    function genAllDfnPanels() {
        for(const panelData of Object.values(window.dfnpanelData)) {
            const dfnID = panelData.dfnID;
            const dfn = document.getElementById(dfnID);
            if(!dfn) {
                console.log(`Can't find dfn#${dfnID}.`, panelData);
            } else {
                const panel = genDfnPanel(panelData);
                append(document.body, panel);
                insertDfnPopupAction(dfn, panel)
            }
        }
    }

    document.addEventListener("DOMContentLoaded", ()=>{
        genAllDfnPanels();

        // Add popup behavior to all dfns to show the corresponding dfn-panel.
        var dfns = queryAll('.dfn-paneled');
        for(let dfn of dfns) { ; }

        document.body.addEventListener("click", (e) => {
            // If not handled already, just hide all dfn panels.
            hideAllDfnPanels();
        });
    })


    function hideAllDfnPanels() {
        // Turn off any currently "on" or "activated" panels.
        queryAll(".dfn-panel.on, .dfn-panel.activated").forEach(el=>hideDfnPanel(el));
    }

    function showDfnPanel(dfnPanel, dfn) {
        hideAllDfnPanels(); // Only display one at this time.
        dfn.setAttribute("aria-expanded", "true");
        dfnPanel.classList.add("on");
        dfnPanel.style.left = "5px";
        dfnPanel.style.top = "0px";
        const panelRect = dfnPanel.getBoundingClientRect();
        const panelWidth = panelRect.right - panelRect.left;
        if (panelRect.right > document.body.scrollWidth) {
            // Panel's overflowing the screen.
            // Just drop it below the dfn and flip it rightward instead.
            // This still wont' fix things if the screen is *really* wide,
            // but fixing that's a lot harder without 'anchor()'.
            dfnPanel.style.top = "1.5em";
            dfnPanel.style.left = "auto";
            dfnPanel.style.right = "0px";
        }
    }

    function pinDfnPanel(dfnPanel) {
        // Switch it to "activated" state, which pins it.
        dfnPanel.classList.add("activated");
        dfnPanel.style.left = null;
        dfnPanel.style.top = null;
    }

    function hideDfnPanel(dfnPanel, dfn) {
        if(!dfn) {
            dfn = document.getElementById(dfnPanel.getAttribute("data-for"));
        }
        dfn.setAttribute("aria-expanded", "false")
        dfnPanel.classList.remove("on");
        dfnPanel.classList.remove("activated");
    }

    function toggleDfnPanel(dfnPanel, dfn) {
        if(dfnPanel.classList.contains("on")) {
            hideDfnPanel(dfnPanel, dfn);
        } else {
            showDfnPanel(dfnPanel, dfn);
        }
    }

    function insertDfnPopupAction(dfn, dfnPanel) {
        // Find dfn panel
        const panelWrapper = document.createElement('span');
        panelWrapper.appendChild(dfnPanel);
        panelWrapper.style.position = "relative";
        panelWrapper.style.height = "0px";
        dfn.insertAdjacentElement("afterend", panelWrapper);
        dfn.setAttribute('role', 'button');
        dfn.setAttribute('aria-expanded', 'false')
        dfn.tabIndex = 0;
        dfn.classList.add('has-dfn-panel');
        dfn.addEventListener('click', (event) => {
            showDfnPanel(dfnPanel, dfn);
            event.stopPropagation();
        });
        dfn.addEventListener('keypress', (event) => {
            const kc = event.keyCode;
            // 32->Space, 13->Enter
            if(kc == 32 || kc == 13) {
                toggleDfnPanel(dfnPanel, dfn);
                event.stopPropagation();
                event.preventDefault();
            }
        });

        dfnPanel.addEventListener('click', (event) => {
            if (event.target.nodeName == 'A') {
                pinDfnPanel(dfnPanel);
            }
            event.stopPropagation();
        });

        dfnPanel.addEventListener('keydown', (event) => {
            if(event.keyCode == 27) { // Escape key
                hideDfnPanel(dfnPanel, dfn);
                event.stopPropagation();
                event.preventDefault();
            }
        })
    }
}
</script>
<script>/* Boilerplate: script-dfn-panel-json */
window.dfnpanelData = {};
window.dfnpanelData['9b957351'] = {"dfnID": "9b957351", "url": "https://tc39.github.io/ecma262/#sec-isdetachedbuffer", "dfnText": "IsDetachedBuffer", "refSections": [{"refs": [{"id": "ref-for-sec-isdetachedbuffer"}], "title": "9.2. XRRay"}], "external": true};
window.dfnpanelData['289ee1c2'] = {"dfnID": "289ee1c2", "url": "https://drafts.fxtf.org/geometry-1/#dictdef-dompointinit", "dfnText": "DOMPointInit", "refSections": [{"refs": [{"id": "ref-for-dictdef-dompointinit"}], "title": "9.2. XRRay"}], "external": true};
window.dfnpanelData['5cce610d'] = {"dfnID": "5cce610d", "url": "https://drafts.fxtf.org/geometry-1/#dompointreadonly", "dfnText": "DOMPointReadOnly", "refSections": [{"refs": [{"id": "ref-for-dompointreadonly"}, {"id": "ref-for-dompointreadonly\u2460"}], "title": "9.2. XRRay"}], "external": true};
window.dfnpanelData['0173c6c0'] = {"dfnID": "0173c6c0", "url": "https://drafts.fxtf.org/geometry-1/#dom-dompointinit-w", "dfnText": "w (for DOMPointInit)", "refSections": [{"refs": [{"id": "ref-for-dom-dompointinit-w"}], "title": "9.2. XRRay"}], "external": true};
window.dfnpanelData['b904c747'] = {"dfnID": "b904c747", "url": "https://drafts.fxtf.org/geometry-1/#dom-dompointreadonly-w", "dfnText": "w (for DOMPointReadOnly)", "refSections": [{"refs": [{"id": "ref-for-dom-dompointreadonly-w"}, {"id": "ref-for-dom-dompointreadonly-w\u2460"}], "title": "9.2. XRRay"}], "external": true};
window.dfnpanelData['dae466b2'] = {"dfnID": "dae466b2", "url": "https://drafts.fxtf.org/geometry-1/#dom-dompointinit-x", "dfnText": "x (for DOMPointInit)", "refSections": [{"refs": [{"id": "ref-for-dom-dompointinit-x"}], "title": "9.2. XRRay"}], "external": true};
window.dfnpanelData['85de675f'] = {"dfnID": "85de675f", "url": "https://drafts.fxtf.org/geometry-1/#dom-dompointreadonly-x", "dfnText": "x (for DOMPointReadOnly)", "refSections": [{"refs": [{"id": "ref-for-dom-dompointreadonly-x"}, {"id": "ref-for-dom-dompointreadonly-x\u2460"}, {"id": "ref-for-dom-dompointreadonly-x\u2461"}, {"id": "ref-for-dom-dompointreadonly-x\u2462"}], "title": "9.2. XRRay"}], "external": true};
window.dfnpanelData['e097c631'] = {"dfnID": "e097c631", "url": "https://drafts.fxtf.org/geometry-1/#dom-dompointinit-y", "dfnText": "y (for DOMPointInit)", "refSections": [{"refs": [{"id": "ref-for-dom-dompointinit-y"}], "title": "9.2. XRRay"}], "external": true};
window.dfnpanelData['06d1a8bf'] = {"dfnID": "06d1a8bf", "url": "https://drafts.fxtf.org/geometry-1/#dom-dompointreadonly-y", "dfnText": "y (for DOMPointReadOnly)", "refSections": [{"refs": [{"id": "ref-for-dom-dompointreadonly-y"}, {"id": "ref-for-dom-dompointreadonly-y\u2460"}, {"id": "ref-for-dom-dompointreadonly-y\u2461"}, {"id": "ref-for-dom-dompointreadonly-y\u2462"}], "title": "9.2. XRRay"}], "external": true};
window.dfnpanelData['a5b295b1'] = {"dfnID": "a5b295b1", "url": "https://drafts.fxtf.org/geometry-1/#dom-dompointinit-z", "dfnText": "z (for DOMPointInit)", "refSections": [{"refs": [{"id": "ref-for-dom-dompointinit-z"}], "title": "9.2. XRRay"}], "external": true};
window.dfnpanelData['b97bccea'] = {"dfnID": "b97bccea", "url": "https://drafts.fxtf.org/geometry-1/#dom-dompointreadonly-z", "dfnText": "z (for DOMPointReadOnly)", "refSections": [{"refs": [{"id": "ref-for-dom-dompointreadonly-z"}, {"id": "ref-for-dom-dompointreadonly-z\u2460"}, {"id": "ref-for-dom-dompointreadonly-z\u2461"}, {"id": "ref-for-dom-dompointreadonly-z\u2462"}], "title": "9.2. XRRay"}], "external": true};
window.dfnpanelData['ae8def21'] = {"dfnID": "ae8def21", "url": "https://infra.spec.whatwg.org/#list-contain", "dfnText": "contain", "refSections": [{"refs": [{"id": "ref-for-list-contain"}, {"id": "ref-for-list-contain\u2460"}], "title": "6. Requesting hit test"}], "external": true};
window.dfnpanelData['649608b9'] = {"dfnID": "649608b9", "url": "https://infra.spec.whatwg.org/#list", "dfnText": "list", "refSections": [{"refs": [{"id": "ref-for-list"}], "title": "7. Computing hit test results"}], "external": true};
window.dfnpanelData['8855a9aa'] = {"dfnID": "8855a9aa", "url": "https://webidl.spec.whatwg.org/#idl-DOMString", "dfnText": "DOMString", "refSections": [{"refs": [{"id": "ref-for-idl-DOMString"}], "title": "3.3. XRTransientInputHitTestOptionsInit"}], "external": true};
window.dfnpanelData['889e932f'] = {"dfnID": "889e932f", "url": "https://webidl.spec.whatwg.org/#Exposed", "dfnText": "Exposed", "refSections": [{"refs": [{"id": "ref-for-Exposed"}], "title": "4.1. XRHitTestSource"}, {"refs": [{"id": "ref-for-Exposed\u2460"}], "title": "4.2. XRTransientInputHitTestSource"}, {"refs": [{"id": "ref-for-Exposed\u2461"}], "title": "5.1. XRHitTestResult"}, {"refs": [{"id": "ref-for-Exposed\u2462"}], "title": "5.2. XRTransientInputHitTestResult"}, {"refs": [{"id": "ref-for-Exposed\u2463"}], "title": "9.2. XRRay"}], "external": true};
window.dfnpanelData['0a296dfe'] = {"dfnID": "0a296dfe", "url": "https://webidl.spec.whatwg.org/#idl-Float32Array", "dfnText": "Float32Array", "refSections": [{"refs": [{"id": "ref-for-idl-Float32Array"}], "title": "9.2. XRRay"}], "external": true};
window.dfnpanelData['dcf5fafa'] = {"dfnID": "dcf5fafa", "url": "https://webidl.spec.whatwg.org/#idl-frozen-array", "dfnText": "FrozenArray", "refSections": [{"refs": [{"id": "ref-for-idl-frozen-array"}], "title": "3.2. XRHitTestOptionsInit"}, {"refs": [{"id": "ref-for-idl-frozen-array\u2460"}], "title": "3.3. XRTransientInputHitTestOptionsInit"}, {"refs": [{"id": "ref-for-idl-frozen-array\u2461"}], "title": "5.2. XRTransientInputHitTestResult"}, {"refs": [{"id": "ref-for-idl-frozen-array\u2462"}, {"id": "ref-for-idl-frozen-array\u2463"}], "title": "8. Obtaining hit test results"}], "external": true};
window.dfnpanelData['797018a7'] = {"dfnID": "797018a7", "url": "https://webidl.spec.whatwg.org/#invalidstateerror", "dfnText": "InvalidStateError", "refSections": [{"refs": [{"id": "ref-for-invalidstateerror"}], "title": "4.1. XRHitTestSource"}, {"refs": [{"id": "ref-for-invalidstateerror\u2460"}], "title": "4.2. XRTransientInputHitTestSource"}, {"refs": [{"id": "ref-for-invalidstateerror\u2461"}], "title": "5.1. XRHitTestResult"}, {"refs": [{"id": "ref-for-invalidstateerror\u2462"}, {"id": "ref-for-invalidstateerror\u2463"}], "title": "6. Requesting hit test"}, {"refs": [{"id": "ref-for-invalidstateerror\u2464"}, {"id": "ref-for-invalidstateerror\u2465"}, {"id": "ref-for-invalidstateerror\u2466"}, {"id": "ref-for-invalidstateerror\u2467"}], "title": "8. Obtaining hit test results"}], "external": true};
window.dfnpanelData['ba556545'] = {"dfnID": "ba556545", "url": "https://webidl.spec.whatwg.org/#notallowederror", "dfnText": "NotAllowedError", "refSections": [{"refs": [{"id": "ref-for-notallowederror"}, {"id": "ref-for-notallowederror\u2460"}], "title": "6. Requesting hit test"}], "external": true};
window.dfnpanelData['3182eb71'] = {"dfnID": "3182eb71", "url": "https://webidl.spec.whatwg.org/#notsupportederror", "dfnText": "NotSupportedError", "refSections": [{"refs": [{"id": "ref-for-notsupportederror"}, {"id": "ref-for-notsupportederror\u2460"}], "title": "6. Requesting hit test"}], "external": true};
window.dfnpanelData['34443090'] = {"dfnID": "34443090", "url": "https://webidl.spec.whatwg.org/#operationerror", "dfnText": "OperationError", "refSections": [{"refs": [{"id": "ref-for-operationerror"}, {"id": "ref-for-operationerror\u2460"}], "title": "6. Requesting hit test"}], "external": true};
window.dfnpanelData['bdbd19d1'] = {"dfnID": "bdbd19d1", "url": "https://webidl.spec.whatwg.org/#idl-promise", "dfnText": "Promise", "refSections": [{"refs": [{"id": "ref-for-idl-promise"}, {"id": "ref-for-idl-promise\u2460"}], "title": "6. Requesting hit test"}], "external": true};
window.dfnpanelData['a5c91173'] = {"dfnID": "a5c91173", "url": "https://webidl.spec.whatwg.org/#SameObject", "dfnText": "SameObject", "refSections": [{"refs": [{"id": "ref-for-SameObject"}], "title": "5.2. XRTransientInputHitTestResult"}, {"refs": [{"id": "ref-for-SameObject\u2460"}, {"id": "ref-for-SameObject\u2461"}, {"id": "ref-for-SameObject\u2462"}], "title": "9.2. XRRay"}], "external": true};
window.dfnpanelData['b75bb3bd'] = {"dfnID": "b75bb3bd", "url": "https://webidl.spec.whatwg.org/#SecureContext", "dfnText": "SecureContext", "refSections": [{"refs": [{"id": "ref-for-SecureContext"}], "title": "4.1. XRHitTestSource"}, {"refs": [{"id": "ref-for-SecureContext\u2460"}], "title": "4.2. XRTransientInputHitTestSource"}, {"refs": [{"id": "ref-for-SecureContext\u2461"}], "title": "5.1. XRHitTestResult"}, {"refs": [{"id": "ref-for-SecureContext\u2462"}], "title": "5.2. XRTransientInputHitTestResult"}, {"refs": [{"id": "ref-for-SecureContext\u2463"}], "title": "9.2. XRRay"}], "external": true};
window.dfnpanelData['82ca3efc'] = {"dfnID": "82ca3efc", "url": "https://webidl.spec.whatwg.org/#exceptiondef-typeerror", "dfnText": "TypeError", "refSections": [{"refs": [{"id": "ref-for-exceptiondef-typeerror"}, {"id": "ref-for-exceptiondef-typeerror\u2460"}, {"id": "ref-for-exceptiondef-typeerror\u2461"}], "title": "9.2. XRRay"}], "external": true};
window.dfnpanelData['dacde8b5'] = {"dfnID": "dacde8b5", "url": "https://webidl.spec.whatwg.org/#a-new-promise", "dfnText": "a new promise", "refSections": [{"refs": [{"id": "ref-for-a-new-promise"}, {"id": "ref-for-a-new-promise\u2460"}], "title": "6. Requesting hit test"}], "external": true};
window.dfnpanelData['8c800cdf'] = {"dfnID": "8c800cdf", "url": "https://webidl.spec.whatwg.org/#idl-double", "dfnText": "double", "refSections": [{"refs": [{"id": "ref-for-idl-double"}, {"id": "ref-for-idl-double\u2460"}, {"id": "ref-for-idl-double\u2461"}, {"id": "ref-for-idl-double\u2462"}], "title": "9.1. XRRayDirectionInit"}], "external": true};
window.dfnpanelData['b262501e'] = {"dfnID": "b262501e", "url": "https://webidl.spec.whatwg.org/#reject", "dfnText": "reject", "refSections": [{"refs": [{"id": "ref-for-reject"}, {"id": "ref-for-reject\u2460"}, {"id": "ref-for-reject\u2461"}, {"id": "ref-for-reject\u2462"}, {"id": "ref-for-reject\u2463"}, {"id": "ref-for-reject\u2464"}], "title": "6. Requesting hit test"}], "external": true};
window.dfnpanelData['3b90bdcd'] = {"dfnID": "3b90bdcd", "url": "https://webidl.spec.whatwg.org/#resolve", "dfnText": "resolve", "refSections": [{"refs": [{"id": "ref-for-resolve"}, {"id": "ref-for-resolve\u2460"}], "title": "6. Requesting hit test"}], "external": true};
window.dfnpanelData['5f90bbfb'] = {"dfnID": "5f90bbfb", "url": "https://webidl.spec.whatwg.org/#idl-undefined", "dfnText": "undefined", "refSections": [{"refs": [{"id": "ref-for-idl-undefined"}], "title": "4.1. XRHitTestSource"}, {"refs": [{"id": "ref-for-idl-undefined\u2460"}], "title": "4.2. XRTransientInputHitTestSource"}], "external": true};
window.dfnpanelData['ea90e02f'] = {"dfnID": "ea90e02f", "url": "https://immersive-web.github.io/webxr/#xrinputsource", "dfnText": "XRInputSource", "refSections": [{"refs": [{"id": "ref-for-xrinputsource"}], "title": "3.3. XRTransientInputHitTestOptionsInit"}, {"refs": [{"id": "ref-for-xrinputsource\u2460"}, {"id": "ref-for-xrinputsource\u2461"}, {"id": "ref-for-xrinputsource\u2462"}, {"id": "ref-for-xrinputsource\u2463"}], "title": "5.2. XRTransientInputHitTestResult"}], "external": true};
window.dfnpanelData['9dfd38d6'] = {"dfnID": "9dfd38d6", "url": "https://immersive-web.github.io/webxr/#xrpose", "dfnText": "XRPose", "refSections": [{"refs": [{"id": "ref-for-xrpose"}, {"id": "ref-for-xrpose\u2460"}, {"id": "ref-for-xrpose\u2461"}], "title": "5.1. XRHitTestResult"}], "external": true};
window.dfnpanelData['0b566548'] = {"dfnID": "0b566548", "url": "https://immersive-web.github.io/webxr/#xrspace", "dfnText": "XRSpace", "refSections": [{"refs": [{"id": "ref-for-xrspace"}, {"id": "ref-for-xrspace\u2460"}], "title": "3.2. XRHitTestOptionsInit"}, {"refs": [{"id": "ref-for-xrspace\u2461"}], "title": "4.1. XRHitTestSource"}, {"refs": [{"id": "ref-for-xrspace\u2462"}, {"id": "ref-for-xrspace\u2463"}], "title": "5.1. XRHitTestResult"}], "external": true};
window.dfnpanelData['4dd97d27'] = {"dfnID": "4dd97d27", "url": "https://immersive-web.github.io/webxr/#dom-xrinputsource-profiles", "dfnText": "profiles", "refSections": [{"refs": [{"id": "ref-for-dom-xrinputsource-profiles"}], "title": "7. Computing hit test results"}], "external": true};
window.dfnpanelData['7c7eccf9'] = {"dfnID": "7c7eccf9", "url": "https://immersive-web.github.io/webxr/#dom-xrframe-session", "dfnText": "session", "refSections": [{"refs": [{"id": "ref-for-dom-xrframe-session\u2460"}, {"id": "ref-for-dom-xrframe-session\u2461"}, {"id": "ref-for-dom-xrframe-session\u2462"}, {"id": "ref-for-dom-xrframe-session\u2463"}], "title": "7. Computing hit test results"}], "external": true};
window.dfnpanelData['53ce93e0'] = {"dfnID": "53ce93e0", "url": "https://immersive-web.github.io/webxr/#dom-xrinputsource-targetrayspace", "dfnText": "targetRaySpace", "refSections": [{"refs": [{"id": "ref-for-dom-xrinputsource-targetrayspace"}], "title": "7. Computing hit test results"}], "external": true};
window.dfnpanelData['cbf14c82'] = {"dfnID": "cbf14c82", "url": "https://www.w3.org/TR/webxr/#xrframe-interface", "dfnText": "XRFrame", "refSections": [{"refs": [{"id": "ref-for-xrframe-interface"}, {"id": "ref-for-xrframe-interface\u2460"}], "title": "5.1. XRHitTestResult"}, {"refs": [{"id": "ref-for-xrframe-interface\u2461"}, {"id": "ref-for-xrframe-interface\u2462"}], "title": "5.2. XRTransientInputHitTestResult"}, {"refs": [{"id": "ref-for-xrframe-interface\u2463"}, {"id": "ref-for-xrframe-interface\u2464"}, {"id": "ref-for-xrframe-interface\u2465"}], "title": "7. Computing hit test results"}, {"refs": [{"id": "ref-for-xrframe-interface\u2466"}, {"id": "ref-for-xrframe-interface\u2467"}, {"id": "ref-for-xrframe-interface\u2468"}, {"id": "ref-for-xrframe-interface\u2460\u24ea"}, {"id": "ref-for-xrframe-interface\u2460\u2460"}, {"id": "ref-for-xrframe-interface\u2460\u2461"}, {"id": "ref-for-xrframe-interface\u2460\u2462"}], "title": "8. Obtaining hit test results"}], "external": true};
window.dfnpanelData['addb795b'] = {"dfnID": "addb795b", "url": "https://www.w3.org/TR/webxr/#xrrigidtransform-interface", "dfnText": "XRRigidTransform", "refSections": [{"refs": [{"id": "ref-for-xrrigidtransform-interface"}], "title": "9.2. XRRay"}], "external": true};
window.dfnpanelData['92c48225'] = {"dfnID": "92c48225", "url": "https://www.w3.org/TR/webxr/#xrsession-interface", "dfnText": "XRSession", "refSections": [{"refs": [{"id": "ref-for-xrsession-interface"}], "title": "4.1. XRHitTestSource"}, {"refs": [{"id": "ref-for-xrsession-interface\u2460"}], "title": "4.2. XRTransientInputHitTestSource"}, {"refs": [{"id": "ref-for-xrsession-interface\u2461"}, {"id": "ref-for-xrsession-interface\u2462"}, {"id": "ref-for-xrsession-interface\u2463"}, {"id": "ref-for-xrsession-interface\u2464"}, {"id": "ref-for-xrsession-interface\u2465"}, {"id": "ref-for-xrsession-interface\u2466"}], "title": "6. Requesting hit test"}], "external": true};
window.dfnpanelData['9db6ca78'] = {"dfnID": "9db6ca78", "url": "https://www.w3.org/TR/webxr/#xrframe-active", "dfnText": "active", "refSections": [{"refs": [{"id": "ref-for-xrframe-active"}], "title": "5.1. XRHitTestResult"}, {"refs": [{"id": "ref-for-xrframe-active\u2460"}, {"id": "ref-for-xrframe-active\u2461"}], "title": "8. Obtaining hit test results"}], "external": true};
window.dfnpanelData['00413661'] = {"dfnID": "00413661", "url": "https://www.w3.org/TR/webxr/#capable-of-supporting", "dfnText": "capable of supporting", "refSections": [{"refs": [{"id": "ref-for-capable-of-supporting"}, {"id": "ref-for-capable-of-supporting\u2460"}], "title": "2.1. Feature descriptor"}], "external": true};
window.dfnpanelData['92219559'] = {"dfnID": "92219559", "url": "https://www.w3.org/TR/webxr/#xrspace-effective-origin", "dfnText": "effective origin", "refSections": [{"refs": [{"id": "ref-for-xrspace-effective-origin"}], "title": "4.1. XRHitTestSource"}], "external": true};
window.dfnpanelData['0d16f114'] = {"dfnID": "0d16f114", "url": "https://www.w3.org/TR/webxr/#ended", "dfnText": "ended", "refSections": [{"refs": [{"id": "ref-for-ended"}, {"id": "ref-for-ended\u2460"}], "title": "6. Requesting hit test"}], "external": true};
window.dfnpanelData['6779156f'] = {"dfnID": "6779156f", "url": "https://www.w3.org/TR/webxr/#feature-descriptor", "dfnText": "feature descriptor", "refSections": [{"refs": [{"id": "ref-for-feature-descriptor"}], "title": "2.1. Feature descriptor"}, {"refs": [{"id": "ref-for-feature-descriptor\u2460"}], "title": "11. Privacy & Security Considerations"}], "external": true};
window.dfnpanelData['3d17a932'] = {"dfnID": "3d17a932", "url": "https://www.w3.org/TR/webxr/#feature-policy", "dfnText": "feature policy", "refSections": [{"refs": [{"id": "ref-for-feature-policy"}], "title": "2.1. Feature descriptor"}], "external": true};
window.dfnpanelData['7714faac'] = {"dfnID": "7714faac", "url": "https://www.w3.org/TR/webxr/#identity-transform", "dfnText": "identity transform", "refSections": [{"refs": [{"id": "ref-for-identity-transform"}], "title": "5.1. XRHitTestResult"}], "external": true};
window.dfnpanelData['e76130a4'] = {"dfnID": "e76130a4", "url": "https://www.w3.org/TR/webxr/#inline-xr-device", "dfnText": "inline xr device", "refSections": [{"refs": [{"id": "ref-for-inline-xr-device"}], "title": "2.1. Feature descriptor"}], "external": true};
window.dfnpanelData['6e062ca1'] = {"dfnID": "6e062ca1", "url": "https://www.w3.org/TR/webxr/#xrinputsource-input-profile-name", "dfnText": "input profile name", "refSections": [{"refs": [{"id": "ref-for-xrinputsource-input-profile-name"}], "title": "3.3. XRTransientInputHitTestOptionsInit"}, {"refs": [{"id": "ref-for-xrinputsource-input-profile-name\u2460"}], "title": "4.2. XRTransientInputHitTestSource"}], "external": true};
window.dfnpanelData['10cd2e81'] = {"dfnID": "10cd2e81", "url": "https://www.w3.org/TR/webxr/#list-of-active-xr-input-sources", "dfnText": "list of active xr input sources", "refSections": [{"refs": [{"id": "ref-for-list-of-active-xr-input-sources"}], "title": "7. Computing hit test results"}], "external": true};
window.dfnpanelData['7595b4f3'] = {"dfnID": "7595b4f3", "url": "https://www.w3.org/TR/webxr/#xrsession-list-of-enabled-features", "dfnText": "list of enabled features", "refSections": [{"refs": [{"id": "ref-for-xrsession-list-of-enabled-features"}, {"id": "ref-for-xrsession-list-of-enabled-features\u2460"}], "title": "6. Requesting hit test"}], "external": true};
window.dfnpanelData['c5fba419'] = {"dfnID": "c5fba419", "url": "https://www.w3.org/TR/webxr/#xrsession-list-of-frame-updates", "dfnText": "list of frame updates", "refSections": [{"refs": [{"id": "ref-for-xrsession-list-of-frame-updates"}, {"id": "ref-for-xrsession-list-of-frame-updates\u2460"}], "title": "6. Requesting hit test"}], "external": true};
window.dfnpanelData['d3b14a79'] = {"dfnID": "d3b14a79", "url": "https://www.w3.org/TR/webxr/#matrix", "dfnText": "matrix", "refSections": [{"refs": [{"id": "ref-for-matrix"}, {"id": "ref-for-matrix\u2460"}], "title": "9.2. XRRay"}], "external": true};
window.dfnpanelData['98e76378'] = {"dfnID": "98e76378", "url": "https://www.w3.org/TR/webxr/#dom-xrrigidtransform-matrix", "dfnText": "matrix (for XRRigidTransform)", "refSections": [{"refs": [{"id": "ref-for-dom-xrrigidtransform-matrix"}, {"id": "ref-for-dom-xrrigidtransform-matrix\u2460"}], "title": "9.2. XRRay"}], "external": true};
window.dfnpanelData['93c7a14d'] = {"dfnID": "93c7a14d", "url": "https://www.w3.org/TR/webxr/#xrspace-native-origin", "dfnText": "native origin", "refSections": [{"refs": [{"id": "ref-for-xrspace-native-origin"}, {"id": "ref-for-xrspace-native-origin\u2460"}, {"id": "ref-for-xrspace-native-origin\u2461"}], "title": "4.1. XRHitTestSource"}, {"refs": [{"id": "ref-for-xrspace-native-origin\u2462"}], "title": "5.1. XRHitTestResult"}, {"refs": [{"id": "ref-for-xrspace-native-origin\u2463"}], "title": "7. Computing hit test results"}], "external": true};
window.dfnpanelData['5218135d'] = {"dfnID": "5218135d", "url": "https://www.w3.org/TR/webxr/#normalize", "dfnText": "normalize", "refSections": [{"refs": [{"id": "ref-for-normalize"}, {"id": "ref-for-normalize\u2460"}], "title": "9.2. XRRay"}], "external": true};
window.dfnpanelData['71504bf6'] = {"dfnID": "71504bf6", "url": "https://www.w3.org/TR/webxr/#xrspace-origin-offset", "dfnText": "origin offset", "refSections": [{"refs": [{"id": "ref-for-xrspace-origin-offset"}], "title": "5.1. XRHitTestResult"}], "external": true};
window.dfnpanelData['4c369bfe'] = {"dfnID": "4c369bfe", "url": "https://www.w3.org/TR/webxr/#populate-the-pose", "dfnText": "populate the pose", "refSections": [{"refs": [{"id": "ref-for-populate-the-pose"}], "title": "5.1. XRHitTestResult"}], "external": true};
window.dfnpanelData['28b7a237'] = {"dfnID": "28b7a237", "url": "https://www.w3.org/TR/webxr/#dom-xrframe-session", "dfnText": "session (for XRFrame)", "refSections": [{"refs": [{"id": "ref-for-dom-xrframe-session"}], "title": "5.1. XRHitTestResult"}], "external": true};
window.dfnpanelData['dc6d57fd'] = {"dfnID": "dc6d57fd", "url": "https://www.w3.org/TR/webxr/#xrspace-session", "dfnText": "session (for XRSpace)", "refSections": [{"refs": [{"id": "ref-for-xrspace-session"}], "title": "5.1. XRHitTestResult"}], "external": true};
window.dfnpanelData['0dbbcc01'] = {"dfnID": "0dbbcc01", "url": "https://www.w3.org/TR/webxr/#xr-device", "dfnText": "xr device", "refSections": [{"refs": [{"id": "ref-for-xr-device"}], "title": "5.1. XRHitTestResult"}, {"refs": [{"id": "ref-for-xr-device\u2460"}], "title": "9.2. XRRay"}, {"refs": [{"id": "ref-for-xr-device\u2461"}], "title": "10.1. Native hit test"}, {"refs": [{"id": "ref-for-xr-device\u2462"}], "title": "10.2. Native entity type"}], "external": true};
window.dfnpanelData['0b7e2439'] = {"dfnID": "0b7e2439", "url": "https://www.w3.org/TR/webxr/#xrsession-xr-device", "dfnText": "xr device (for XRSession)", "refSections": [{"refs": [{"id": "ref-for-xrsession-xr-device"}], "title": "5.1. XRHitTestResult"}, {"refs": [{"id": "ref-for-xrsession-xr-device\u2460"}, {"id": "ref-for-xrsession-xr-device\u2461"}], "title": "7. Computing hit test results"}], "external": true};
window.dfnpanelData['hit-test'] = {"dfnID": "hit-test", "url": "#hit-test", "dfnText": "hit-test", "refSections": [{"refs": [{"id": "ref-for-hit-test"}, {"id": "ref-for-hit-test\u2460"}], "title": "6. Requesting hit test"}], "external": false};
window.dfnpanelData['enumdef-xrhittesttrackabletype'] = {"dfnID": "enumdef-xrhittesttrackabletype", "url": "#enumdef-xrhittesttrackabletype", "dfnText": "XRHitTestTrackableType", "refSections": [{"refs": [{"id": "ref-for-enumdef-xrhittesttrackabletype"}], "title": "3.1. XRHitTestTrackableType"}, {"refs": [{"id": "ref-for-enumdef-xrhittesttrackabletype\u2460"}, {"id": "ref-for-enumdef-xrhittesttrackabletype\u2461"}], "title": "3.2. XRHitTestOptionsInit"}, {"refs": [{"id": "ref-for-enumdef-xrhittesttrackabletype\u2462"}, {"id": "ref-for-enumdef-xrhittesttrackabletype\u2463"}], "title": "3.3. XRTransientInputHitTestOptionsInit"}, {"refs": [{"id": "ref-for-enumdef-xrhittesttrackabletype\u2464"}], "title": "4.1. XRHitTestSource"}, {"refs": [{"id": "ref-for-enumdef-xrhittesttrackabletype\u2465"}], "title": "4.2. XRTransientInputHitTestSource"}, {"refs": [{"id": "ref-for-enumdef-xrhittesttrackabletype\u2466"}], "title": "5.1. XRHitTestResult"}, {"refs": [{"id": "ref-for-enumdef-xrhittesttrackabletype\u2467"}], "title": "5.2. XRTransientInputHitTestResult"}, {"refs": [{"id": "ref-for-enumdef-xrhittesttrackabletype\u2468"}, {"id": "ref-for-enumdef-xrhittesttrackabletype\u2460\u24ea"}], "title": "10.2. Native entity type"}], "external": false};
window.dfnpanelData['dom-xrhittesttrackabletype-point'] = {"dfnID": "dom-xrhittesttrackabletype-point", "url": "#dom-xrhittesttrackabletype-point", "dfnText": "\"point\"", "refSections": [{"refs": [{"id": "ref-for-dom-xrhittesttrackabletype-point"}], "title": "3.1. XRHitTestTrackableType"}, {"refs": [{"id": "ref-for-dom-xrhittesttrackabletype-point\u2460"}, {"id": "ref-for-dom-xrhittesttrackabletype-point\u2461"}], "title": "10.2. Native entity type"}], "external": false};
window.dfnpanelData['dom-xrhittesttrackabletype-plane'] = {"dfnID": "dom-xrhittesttrackabletype-plane", "url": "#dom-xrhittesttrackabletype-plane", "dfnText": "\"plane\"", "refSections": [{"refs": [{"id": "ref-for-dom-xrhittesttrackabletype-plane"}], "title": "3.1. XRHitTestTrackableType"}, {"refs": [{"id": "ref-for-dom-xrhittesttrackabletype-plane\u2460"}], "title": "3.2. XRHitTestOptionsInit"}, {"refs": [{"id": "ref-for-dom-xrhittesttrackabletype-plane\u2461"}], "title": "3.3. XRTransientInputHitTestOptionsInit"}, {"refs": [{"id": "ref-for-dom-xrhittesttrackabletype-plane\u2462"}, {"id": "ref-for-dom-xrhittesttrackabletype-plane\u2463"}], "title": "10.2. Native entity type"}], "external": false};
window.dfnpanelData['dom-xrhittesttrackabletype-mesh'] = {"dfnID": "dom-xrhittesttrackabletype-mesh", "url": "#dom-xrhittesttrackabletype-mesh", "dfnText": "\"mesh\"", "refSections": [{"refs": [{"id": "ref-for-dom-xrhittesttrackabletype-mesh"}], "title": "3.1. XRHitTestTrackableType"}, {"refs": [{"id": "ref-for-dom-xrhittesttrackabletype-mesh\u2460"}, {"id": "ref-for-dom-xrhittesttrackabletype-mesh\u2461"}], "title": "10.2. Native entity type"}], "external": false};
window.dfnpanelData['dictdef-xrhittestoptionsinit'] = {"dfnID": "dictdef-xrhittestoptionsinit", "url": "#dictdef-xrhittestoptionsinit", "dfnText": "XRHitTestOptionsInit", "refSections": [{"refs": [{"id": "ref-for-dictdef-xrhittestoptionsinit"}, {"id": "ref-for-dictdef-xrhittestoptionsinit\u2460"}, {"id": "ref-for-dictdef-xrhittestoptionsinit\u2461"}], "title": "3.2. XRHitTestOptionsInit"}, {"refs": [{"id": "ref-for-dictdef-xrhittestoptionsinit\u2462"}], "title": "6. Requesting hit test"}], "external": false};
window.dfnpanelData['dom-xrhittestoptionsinit-space'] = {"dfnID": "dom-xrhittestoptionsinit-space", "url": "#dom-xrhittestoptionsinit-space", "dfnText": "space", "refSections": [{"refs": [{"id": "ref-for-dom-xrhittestoptionsinit-space"}, {"id": "ref-for-dom-xrhittestoptionsinit-space\u2460"}], "title": "3.2. XRHitTestOptionsInit"}, {"refs": [{"id": "ref-for-dom-xrhittestoptionsinit-space\u2461"}], "title": "6. Requesting hit test"}], "external": false};
window.dfnpanelData['dom-xrhittestoptionsinit-entitytypes'] = {"dfnID": "dom-xrhittestoptionsinit-entitytypes", "url": "#dom-xrhittestoptionsinit-entitytypes", "dfnText": "entityTypes", "refSections": [{"refs": [{"id": "ref-for-dom-xrhittestoptionsinit-entitytypes"}, {"id": "ref-for-dom-xrhittestoptionsinit-entitytypes\u2460"}, {"id": "ref-for-dom-xrhittestoptionsinit-entitytypes\u2461"}], "title": "3.2. XRHitTestOptionsInit"}], "external": false};
window.dfnpanelData['dom-xrhittestoptionsinit-offsetray'] = {"dfnID": "dom-xrhittestoptionsinit-offsetray", "url": "#dom-xrhittestoptionsinit-offsetray", "dfnText": "offsetRay", "refSections": [{"refs": [{"id": "ref-for-dom-xrhittestoptionsinit-offsetray"}, {"id": "ref-for-dom-xrhittestoptionsinit-offsetray\u2460"}, {"id": "ref-for-dom-xrhittestoptionsinit-offsetray\u2461"}, {"id": "ref-for-dom-xrhittestoptionsinit-offsetray\u2462"}, {"id": "ref-for-dom-xrhittestoptionsinit-offsetray\u2463"}], "title": "3.2. XRHitTestOptionsInit"}], "external": false};
window.dfnpanelData['xrhittestoptionsinit-effective-entitytypes'] = {"dfnID": "xrhittestoptionsinit-effective-entitytypes", "url": "#xrhittestoptionsinit-effective-entitytypes", "dfnText": "effective entityTypes", "refSections": [{"refs": [{"id": "ref-for-xrhittestoptionsinit-effective-entitytypes"}], "title": "3.2. XRHitTestOptionsInit"}, {"refs": [{"id": "ref-for-xrhittestoptionsinit-effective-entitytypes\u2460"}, {"id": "ref-for-xrhittestoptionsinit-effective-entitytypes\u2461"}], "title": "6. Requesting hit test"}], "external": false};
window.dfnpanelData['xrhittestoptionsinit-effective-offsetray'] = {"dfnID": "xrhittestoptionsinit-effective-offsetray", "url": "#xrhittestoptionsinit-effective-offsetray", "dfnText": "effective offsetRay", "refSections": [{"refs": [{"id": "ref-for-xrhittestoptionsinit-effective-offsetray"}], "title": "3.2. XRHitTestOptionsInit"}, {"refs": [{"id": "ref-for-xrhittestoptionsinit-effective-offsetray\u2460"}, {"id": "ref-for-xrhittestoptionsinit-effective-offsetray\u2461"}], "title": "6. Requesting hit test"}], "external": false};
window.dfnpanelData['dictdef-xrtransientinputhittestoptionsinit'] = {"dfnID": "dictdef-xrtransientinputhittestoptionsinit", "url": "#dictdef-xrtransientinputhittestoptionsinit", "dfnText": "XRTransientInputHitTestOptionsInit", "refSections": [{"refs": [{"id": "ref-for-dictdef-xrtransientinputhittestoptionsinit"}, {"id": "ref-for-dictdef-xrtransientinputhittestoptionsinit\u2460"}, {"id": "ref-for-dictdef-xrtransientinputhittestoptionsinit\u2461"}], "title": "3.3. XRTransientInputHitTestOptionsInit"}, {"refs": [{"id": "ref-for-dictdef-xrtransientinputhittestoptionsinit\u2462"}], "title": "6. Requesting hit test"}], "external": false};
window.dfnpanelData['dom-xrtransientinputhittestoptionsinit-profile'] = {"dfnID": "dom-xrtransientinputhittestoptionsinit-profile", "url": "#dom-xrtransientinputhittestoptionsinit-profile", "dfnText": "profile", "refSections": [{"refs": [{"id": "ref-for-dom-xrtransientinputhittestoptionsinit-profile"}, {"id": "ref-for-dom-xrtransientinputhittestoptionsinit-profile\u2460"}], "title": "3.3. XRTransientInputHitTestOptionsInit"}, {"refs": [{"id": "ref-for-dom-xrtransientinputhittestoptionsinit-profile\u2461"}], "title": "6. Requesting hit test"}], "external": false};
window.dfnpanelData['dom-xrtransientinputhittestoptionsinit-entitytypes'] = {"dfnID": "dom-xrtransientinputhittestoptionsinit-entitytypes", "url": "#dom-xrtransientinputhittestoptionsinit-entitytypes", "dfnText": "entityTypes", "refSections": [{"refs": [{"id": "ref-for-dom-xrtransientinputhittestoptionsinit-entitytypes"}, {"id": "ref-for-dom-xrtransientinputhittestoptionsinit-entitytypes\u2460"}, {"id": "ref-for-dom-xrtransientinputhittestoptionsinit-entitytypes\u2461"}], "title": "3.3. XRTransientInputHitTestOptionsInit"}], "external": false};
window.dfnpanelData['dom-xrtransientinputhittestoptionsinit-offsetray'] = {"dfnID": "dom-xrtransientinputhittestoptionsinit-offsetray", "url": "#dom-xrtransientinputhittestoptionsinit-offsetray", "dfnText": "offsetRay", "refSections": [{"refs": [{"id": "ref-for-dom-xrtransientinputhittestoptionsinit-offsetray"}, {"id": "ref-for-dom-xrtransientinputhittestoptionsinit-offsetray\u2460"}, {"id": "ref-for-dom-xrtransientinputhittestoptionsinit-offsetray\u2461"}, {"id": "ref-for-dom-xrtransientinputhittestoptionsinit-offsetray\u2462"}], "title": "3.3. XRTransientInputHitTestOptionsInit"}], "external": false};
window.dfnpanelData['xrtransientinputhittestoptionsinit-effective-entitytypes'] = {"dfnID": "xrtransientinputhittestoptionsinit-effective-entitytypes", "url": "#xrtransientinputhittestoptionsinit-effective-entitytypes", "dfnText": "effective entityTypes", "refSections": [{"refs": [{"id": "ref-for-xrtransientinputhittestoptionsinit-effective-entitytypes"}], "title": "3.3. XRTransientInputHitTestOptionsInit"}], "external": false};
window.dfnpanelData['xrtransientinputhittestoptionsinit-effective-offsetray'] = {"dfnID": "xrtransientinputhittestoptionsinit-effective-offsetray", "url": "#xrtransientinputhittestoptionsinit-effective-offsetray", "dfnText": "effective offsetRay", "refSections": [{"refs": [{"id": "ref-for-xrtransientinputhittestoptionsinit-effective-offsetray"}], "title": "3.3. XRTransientInputHitTestOptionsInit"}], "external": false};
window.dfnpanelData['xrhittestsource'] = {"dfnID": "xrhittestsource", "url": "#xrhittestsource", "dfnText": "XRHitTestSource", "refSections": [{"refs": [{"id": "ref-for-xrhittestsource"}, {"id": "ref-for-xrhittestsource\u2460"}, {"id": "ref-for-xrhittestsource\u2461"}, {"id": "ref-for-xrhittestsource\u2462"}, {"id": "ref-for-xrhittestsource\u2463"}, {"id": "ref-for-xrhittestsource\u2464"}, {"id": "ref-for-xrhittestsource\u2465"}, {"id": "ref-for-xrhittestsource\u2466"}, {"id": "ref-for-xrhittestsource\u2467"}], "title": "4.1. XRHitTestSource"}, {"refs": [{"id": "ref-for-xrhittestsource\u2468"}], "title": "6. Requesting hit test"}, {"refs": [{"id": "ref-for-xrhittestsource\u2460\u24ea"}, {"id": "ref-for-xrhittestsource\u2460\u2460"}, {"id": "ref-for-xrhittestsource\u2460\u2461"}], "title": "8. Obtaining hit test results"}], "external": false};
window.dfnpanelData['xrhittestsource-session'] = {"dfnID": "xrhittestsource-session", "url": "#xrhittestsource-session", "dfnText": "session", "refSections": [{"refs": [{"id": "ref-for-xrhittestsource-session"}, {"id": "ref-for-xrhittestsource-session\u2460"}, {"id": "ref-for-xrhittestsource-session\u2461"}], "title": "4.1. XRHitTestSource"}, {"refs": [{"id": "ref-for-xrhittestsource-session\u2462"}], "title": "4.2. XRTransientInputHitTestSource"}], "external": false};
window.dfnpanelData['xrhittestsource-native-origin'] = {"dfnID": "xrhittestsource-native-origin", "url": "#xrhittestsource-native-origin", "dfnText": "native origin", "refSections": [{"refs": [{"id": "ref-for-xrhittestsource-native-origin"}], "title": "4.1. XRHitTestSource"}, {"refs": [{"id": "ref-for-xrhittestsource-native-origin\u2460"}], "title": "7. Computing hit test results"}], "external": false};
window.dfnpanelData['xrhittestsource-entity-types'] = {"dfnID": "xrhittestsource-entity-types", "url": "#xrhittestsource-entity-types", "dfnText": "entity types", "refSections": [{"refs": [{"id": "ref-for-xrhittestsource-entity-types"}], "title": "4.1. XRHitTestSource"}, {"refs": [{"id": "ref-for-xrhittestsource-entity-types\u2460"}], "title": "7. Computing hit test results"}], "external": false};
window.dfnpanelData['xrhittestsource-offset-ray'] = {"dfnID": "xrhittestsource-offset-ray", "url": "#xrhittestsource-offset-ray", "dfnText": "offset ray", "refSections": [{"refs": [{"id": "ref-for-xrhittestsource-offset-ray"}], "title": "4.1. XRHitTestSource"}, {"refs": [{"id": "ref-for-xrhittestsource-offset-ray\u2460"}], "title": "7. Computing hit test results"}], "external": false};
window.dfnpanelData['xrhittestsource-active'] = {"dfnID": "xrhittestsource-active", "url": "#xrhittestsource-active", "dfnText": "active", "refSections": [{"refs": [{"id": "ref-for-xrhittestsource-active"}, {"id": "ref-for-xrhittestsource-active\u2460"}], "title": "4.1. XRHitTestSource"}], "external": false};
window.dfnpanelData['create-a-hit-test-source'] = {"dfnID": "create-a-hit-test-source", "url": "#create-a-hit-test-source", "dfnText": "create a hit test source", "refSections": [{"refs": [{"id": "ref-for-create-a-hit-test-source"}], "title": "6. Requesting hit test"}], "external": false};
window.dfnpanelData['dom-xrhittestsource-cancel'] = {"dfnID": "dom-xrhittestsource-cancel", "url": "#dom-xrhittestsource-cancel", "dfnText": "cancel()", "refSections": [{"refs": [{"id": "ref-for-dom-xrhittestsource-cancel"}, {"id": "ref-for-dom-xrhittestsource-cancel\u2460"}], "title": "4.1. XRHitTestSource"}], "external": false};
window.dfnpanelData['cancel-a-hit-test-source'] = {"dfnID": "cancel-a-hit-test-source", "url": "#cancel-a-hit-test-source", "dfnText": "cancel a hit test source", "refSections": [{"refs": [{"id": "ref-for-cancel-a-hit-test-source"}], "title": "4.1. XRHitTestSource"}], "external": false};
window.dfnpanelData['xrtransientinputhittestsource'] = {"dfnID": "xrtransientinputhittestsource", "url": "#xrtransientinputhittestsource", "dfnText": "XRTransientInputHitTestSource", "refSections": [{"refs": [{"id": "ref-for-xrtransientinputhittestsource"}, {"id": "ref-for-xrtransientinputhittestsource\u2460"}, {"id": "ref-for-xrtransientinputhittestsource\u2461"}, {"id": "ref-for-xrtransientinputhittestsource\u2462"}, {"id": "ref-for-xrtransientinputhittestsource\u2463"}, {"id": "ref-for-xrtransientinputhittestsource\u2464"}, {"id": "ref-for-xrtransientinputhittestsource\u2465"}, {"id": "ref-for-xrtransientinputhittestsource\u2466"}, {"id": "ref-for-xrtransientinputhittestsource\u2467"}], "title": "4.2. XRTransientInputHitTestSource"}, {"refs": [{"id": "ref-for-xrtransientinputhittestsource\u2468"}], "title": "6. Requesting hit test"}, {"refs": [{"id": "ref-for-xrtransientinputhittestsource\u2460\u24ea"}, {"id": "ref-for-xrtransientinputhittestsource\u2460\u2460"}, {"id": "ref-for-xrtransientinputhittestsource\u2460\u2461"}], "title": "8. Obtaining hit test results"}], "external": false};
window.dfnpanelData['xrtransientinputhittestsource-session'] = {"dfnID": "xrtransientinputhittestsource-session", "url": "#xrtransientinputhittestsource-session", "dfnText": "session", "refSections": [{"refs": [{"id": "ref-for-xrtransientinputhittestsource-session"}, {"id": "ref-for-xrtransientinputhittestsource-session\u2460"}], "title": "4.2. XRTransientInputHitTestSource"}], "external": false};
window.dfnpanelData['xrtransientinputhittestsource-profile'] = {"dfnID": "xrtransientinputhittestsource-profile", "url": "#xrtransientinputhittestsource-profile", "dfnText": "profile", "refSections": [{"refs": [{"id": "ref-for-xrtransientinputhittestsource-profile"}], "title": "4.2. XRTransientInputHitTestSource"}, {"refs": [{"id": "ref-for-xrtransientinputhittestsource-profile\u2460"}], "title": "7. Computing hit test results"}], "external": false};
window.dfnpanelData['xrtransientinputhittestsource-entity-types'] = {"dfnID": "xrtransientinputhittestsource-entity-types", "url": "#xrtransientinputhittestsource-entity-types", "dfnText": "entity types", "refSections": [{"refs": [{"id": "ref-for-xrtransientinputhittestsource-entity-types"}], "title": "4.2. XRTransientInputHitTestSource"}, {"refs": [{"id": "ref-for-xrtransientinputhittestsource-entity-types\u2460"}], "title": "7. Computing hit test results"}], "external": false};
window.dfnpanelData['xrtransientinputhittestsource-offset-ray'] = {"dfnID": "xrtransientinputhittestsource-offset-ray", "url": "#xrtransientinputhittestsource-offset-ray", "dfnText": "offset ray", "refSections": [{"refs": [{"id": "ref-for-xrtransientinputhittestsource-offset-ray"}], "title": "4.2. XRTransientInputHitTestSource"}, {"refs": [{"id": "ref-for-xrtransientinputhittestsource-offset-ray\u2460"}], "title": "7. Computing hit test results"}], "external": false};
window.dfnpanelData['xrtransientinputhittestsource-active'] = {"dfnID": "xrtransientinputhittestsource-active", "url": "#xrtransientinputhittestsource-active", "dfnText": "active", "refSections": [{"refs": [{"id": "ref-for-xrtransientinputhittestsource-active"}, {"id": "ref-for-xrtransientinputhittestsource-active\u2460"}], "title": "4.2. XRTransientInputHitTestSource"}], "external": false};
window.dfnpanelData['create-a-hit-test-source-for-transient-input'] = {"dfnID": "create-a-hit-test-source-for-transient-input", "url": "#create-a-hit-test-source-for-transient-input", "dfnText": "create a hit test source for transient input", "refSections": [{"refs": [{"id": "ref-for-create-a-hit-test-source-for-transient-input"}], "title": "6. Requesting hit test"}], "external": false};
window.dfnpanelData['dom-xrtransientinputhittestsource-cancel'] = {"dfnID": "dom-xrtransientinputhittestsource-cancel", "url": "#dom-xrtransientinputhittestsource-cancel", "dfnText": "cancel()", "refSections": [{"refs": [{"id": "ref-for-dom-xrtransientinputhittestsource-cancel"}, {"id": "ref-for-dom-xrtransientinputhittestsource-cancel\u2460"}], "title": "4.2. XRTransientInputHitTestSource"}], "external": false};
window.dfnpanelData['cancel-a-hit-test-source-for-transient-input'] = {"dfnID": "cancel-a-hit-test-source-for-transient-input", "url": "#cancel-a-hit-test-source-for-transient-input", "dfnText": "cancel a hit test source for transient input", "refSections": [{"refs": [{"id": "ref-for-cancel-a-hit-test-source-for-transient-input"}], "title": "4.2. XRTransientInputHitTestSource"}], "external": false};
window.dfnpanelData['xrhittestresult'] = {"dfnID": "xrhittestresult", "url": "#xrhittestresult", "dfnText": "XRHitTestResult", "refSections": [{"refs": [{"id": "ref-for-xrhittestresult"}, {"id": "ref-for-xrhittestresult\u2460"}, {"id": "ref-for-xrhittestresult\u2461"}, {"id": "ref-for-xrhittestresult\u2462"}, {"id": "ref-for-xrhittestresult\u2463"}], "title": "5.1. XRHitTestResult"}, {"refs": [{"id": "ref-for-xrhittestresult\u2464"}, {"id": "ref-for-xrhittestresult\u2465"}, {"id": "ref-for-xrhittestresult\u2466"}], "title": "5.2. XRTransientInputHitTestResult"}, {"refs": [{"id": "ref-for-xrhittestresult\u2467"}, {"id": "ref-for-xrhittestresult\u2468"}], "title": "8. Obtaining hit test results"}], "external": false};
window.dfnpanelData['xrhittestresult-frame'] = {"dfnID": "xrhittestresult-frame", "url": "#xrhittestresult-frame", "dfnText": "frame", "refSections": [{"refs": [{"id": "ref-for-xrhittestresult-frame"}, {"id": "ref-for-xrhittestresult-frame\u2460"}, {"id": "ref-for-xrhittestresult-frame\u2461"}, {"id": "ref-for-xrhittestresult-frame\u2462"}], "title": "5.1. XRHitTestResult"}], "external": false};
window.dfnpanelData['xrhittestresult-native-origin'] = {"dfnID": "xrhittestresult-native-origin", "url": "#xrhittestresult-native-origin", "dfnText": "native origin", "refSections": [{"refs": [{"id": "ref-for-xrhittestresult-native-origin"}, {"id": "ref-for-xrhittestresult-native-origin\u2460"}], "title": "5.1. XRHitTestResult"}], "external": false};
window.dfnpanelData['create-a-hit-test-result'] = {"dfnID": "create-a-hit-test-result", "url": "#create-a-hit-test-result", "dfnText": "create a hit test result", "refSections": [{"refs": [{"id": "ref-for-create-a-hit-test-result"}], "title": "5.2. XRTransientInputHitTestResult"}, {"refs": [{"id": "ref-for-create-a-hit-test-result\u2460"}], "title": "7. Computing hit test results"}], "external": false};
window.dfnpanelData['dom-xrhittestresult-getpose'] = {"dfnID": "dom-xrhittestresult-getpose", "url": "#dom-xrhittestresult-getpose", "dfnText": "getPose(baseSpace)", "refSections": [{"refs": [{"id": "ref-for-dom-xrhittestresult-getpose"}, {"id": "ref-for-dom-xrhittestresult-getpose\u2460"}], "title": "5.1. XRHitTestResult"}], "external": false};
window.dfnpanelData['xrtransientinputhittestresult'] = {"dfnID": "xrtransientinputhittestresult", "url": "#xrtransientinputhittestresult", "dfnText": "XRTransientInputHitTestResult", "refSections": [{"refs": [{"id": "ref-for-xrtransientinputhittestresult"}, {"id": "ref-for-xrtransientinputhittestresult\u2460"}, {"id": "ref-for-xrtransientinputhittestresult\u2461"}], "title": "5.2. XRTransientInputHitTestResult"}, {"refs": [{"id": "ref-for-xrtransientinputhittestresult\u2462"}, {"id": "ref-for-xrtransientinputhittestresult\u2463"}], "title": "8. Obtaining hit test results"}], "external": false};
window.dfnpanelData['dom-xrtransientinputhittestresult-inputsource'] = {"dfnID": "dom-xrtransientinputhittestresult-inputsource", "url": "#dom-xrtransientinputhittestresult-inputsource", "dfnText": "inputSource", "refSections": [{"refs": [{"id": "ref-for-dom-xrtransientinputhittestresult-inputsource"}, {"id": "ref-for-dom-xrtransientinputhittestresult-inputsource\u2460"}, {"id": "ref-for-dom-xrtransientinputhittestresult-inputsource\u2461"}], "title": "5.2. XRTransientInputHitTestResult"}], "external": false};
window.dfnpanelData['dom-xrtransientinputhittestresult-results'] = {"dfnID": "dom-xrtransientinputhittestresult-results", "url": "#dom-xrtransientinputhittestresult-results", "dfnText": "results", "refSections": [{"refs": [{"id": "ref-for-dom-xrtransientinputhittestresult-results"}, {"id": "ref-for-dom-xrtransientinputhittestresult-results\u2460"}, {"id": "ref-for-dom-xrtransientinputhittestresult-results\u2461"}], "title": "5.2. XRTransientInputHitTestResult"}], "external": false};
window.dfnpanelData['xrtransientinputhittestresult-frame'] = {"dfnID": "xrtransientinputhittestresult-frame", "url": "#xrtransientinputhittestresult-frame", "dfnText": "frame", "refSections": [{"refs": [{"id": "ref-for-xrtransientinputhittestresult-frame"}], "title": "5.2. XRTransientInputHitTestResult"}], "external": false};
window.dfnpanelData['create-a-hit-test-result-for-transient-input'] = {"dfnID": "create-a-hit-test-result-for-transient-input", "url": "#create-a-hit-test-result-for-transient-input", "dfnText": "create a hit test result for transient input", "refSections": [{"refs": [{"id": "ref-for-create-a-hit-test-result-for-transient-input"}], "title": "7. Computing hit test results"}], "external": false};
window.dfnpanelData['xrsession-set-of-active-hit-test-sources'] = {"dfnID": "xrsession-set-of-active-hit-test-sources", "url": "#xrsession-set-of-active-hit-test-sources", "dfnText": "set of active hit test sources", "refSections": [{"refs": [{"id": "ref-for-xrsession-set-of-active-hit-test-sources"}, {"id": "ref-for-xrsession-set-of-active-hit-test-sources\u2460"}], "title": "4.1. XRHitTestSource"}, {"refs": [{"id": "ref-for-xrsession-set-of-active-hit-test-sources\u2461"}], "title": "6. Requesting hit test"}, {"refs": [{"id": "ref-for-xrsession-set-of-active-hit-test-sources\u2462"}], "title": "7. Computing hit test results"}], "external": false};
window.dfnpanelData['xrsession-set-of-active-hit-test-sources-for-transient-input'] = {"dfnID": "xrsession-set-of-active-hit-test-sources-for-transient-input", "url": "#xrsession-set-of-active-hit-test-sources-for-transient-input", "dfnText": "set of active hit test sources for transient input", "refSections": [{"refs": [{"id": "ref-for-xrsession-set-of-active-hit-test-sources-for-transient-input"}, {"id": "ref-for-xrsession-set-of-active-hit-test-sources-for-transient-input\u2460"}], "title": "4.2. XRTransientInputHitTestSource"}, {"refs": [{"id": "ref-for-xrsession-set-of-active-hit-test-sources-for-transient-input\u2461"}], "title": "6. Requesting hit test"}, {"refs": [{"id": "ref-for-xrsession-set-of-active-hit-test-sources-for-transient-input\u2462"}], "title": "7. Computing hit test results"}], "external": false};
window.dfnpanelData['unreasonable-number-of-requests'] = {"dfnID": "unreasonable-number-of-requests", "url": "#unreasonable-number-of-requests", "dfnText": "unreasonable number of requests", "refSections": [{"refs": [{"id": "ref-for-unreasonable-number-of-requests"}, {"id": "ref-for-unreasonable-number-of-requests\u2460"}], "title": "6. Requesting hit test"}, {"refs": [{"id": "ref-for-unreasonable-number-of-requests\u2461"}], "title": "11. Privacy & Security Considerations"}], "external": false};
window.dfnpanelData['request-hit-test'] = {"dfnID": "request-hit-test", "url": "#request-hit-test", "dfnText": "request hit test", "refSections": [{"refs": [{"id": "ref-for-request-hit-test"}], "title": "4.1. XRHitTestSource"}], "external": false};
window.dfnpanelData['dom-xrsession-requesthittestsource'] = {"dfnID": "dom-xrsession-requesthittestsource", "url": "#dom-xrsession-requesthittestsource", "dfnText": "requestHitTestSource(options)", "refSections": [{"refs": [{"id": "ref-for-dom-xrsession-requesthittestsource"}, {"id": "ref-for-dom-xrsession-requesthittestsource\u2460"}], "title": "6. Requesting hit test"}], "external": false};
window.dfnpanelData['dom-xrsession-requesthittestsourcefortransientinput'] = {"dfnID": "dom-xrsession-requesthittestsourcefortransientinput", "url": "#dom-xrsession-requesthittestsourcefortransientinput", "dfnText": "requestHitTestSourceForTransientInput(options)", "refSections": [{"refs": [{"id": "ref-for-dom-xrsession-requesthittestsourcefortransientinput"}], "title": "6. Requesting hit test"}], "external": false};
window.dfnpanelData['compute-all-hit-test-results'] = {"dfnID": "compute-all-hit-test-results", "url": "#compute-all-hit-test-results", "dfnText": "compute all hit test results", "refSections": [{"refs": [{"id": "ref-for-compute-all-hit-test-results"}, {"id": "ref-for-compute-all-hit-test-results\u2460"}], "title": "6. Requesting hit test"}], "external": false};
window.dfnpanelData['compute-hit-test-results'] = {"dfnID": "compute-hit-test-results", "url": "#compute-hit-test-results", "dfnText": "compute hit test results", "refSections": [{"refs": [{"id": "ref-for-compute-hit-test-results"}], "title": "7. Computing hit test results"}], "external": false};
window.dfnpanelData['compute-hit-test-results-for-transient-input'] = {"dfnID": "compute-hit-test-results-for-transient-input", "url": "#compute-hit-test-results-for-transient-input", "dfnText": "compute hit test results for transient input", "refSections": [{"refs": [{"id": "ref-for-compute-hit-test-results-for-transient-input"}], "title": "7. Computing hit test results"}], "external": false};
window.dfnpanelData['xrframe-map-of-hit-test-sources-to-hit-test-results'] = {"dfnID": "xrframe-map-of-hit-test-sources-to-hit-test-results", "url": "#xrframe-map-of-hit-test-sources-to-hit-test-results", "dfnText": "map of hit test sources to hit test results", "refSections": [{"refs": [{"id": "ref-for-xrframe-map-of-hit-test-sources-to-hit-test-results"}], "title": "7. Computing hit test results"}, {"refs": [{"id": "ref-for-xrframe-map-of-hit-test-sources-to-hit-test-results\u2460"}, {"id": "ref-for-xrframe-map-of-hit-test-sources-to-hit-test-results\u2461"}], "title": "8. Obtaining hit test results"}], "external": false};
window.dfnpanelData['xrframe-map-of-hit-test-sources-to-hit-test-results-for-transient-input'] = {"dfnID": "xrframe-map-of-hit-test-sources-to-hit-test-results-for-transient-input", "url": "#xrframe-map-of-hit-test-sources-to-hit-test-results-for-transient-input", "dfnText": "map of hit test sources to hit test results for transient input", "refSections": [{"refs": [{"id": "ref-for-xrframe-map-of-hit-test-sources-to-hit-test-results-for-transient-input"}], "title": "7. Computing hit test results"}, {"refs": [{"id": "ref-for-xrframe-map-of-hit-test-sources-to-hit-test-results-for-transient-input\u2460"}, {"id": "ref-for-xrframe-map-of-hit-test-sources-to-hit-test-results-for-transient-input\u2461"}], "title": "8. Obtaining hit test results"}], "external": false};
window.dfnpanelData['dom-xrframe-gethittestresults'] = {"dfnID": "dom-xrframe-gethittestresults", "url": "#dom-xrframe-gethittestresults", "dfnText": "getHitTestResults(hitTestSource)", "refSections": [{"refs": [{"id": "ref-for-dom-xrframe-gethittestresults"}, {"id": "ref-for-dom-xrframe-gethittestresults\u2460"}], "title": "8. Obtaining hit test results"}], "external": false};
window.dfnpanelData['dom-xrframe-gethittestresultsfortransientinput'] = {"dfnID": "dom-xrframe-gethittestresultsfortransientinput", "url": "#dom-xrframe-gethittestresultsfortransientinput", "dfnText": "getHitTestResultsForTransientInput(hitTestSource)", "refSections": [{"refs": [{"id": "ref-for-dom-xrframe-gethittestresultsfortransientinput"}, {"id": "ref-for-dom-xrframe-gethittestresultsfortransientinput\u2460"}], "title": "8. Obtaining hit test results"}], "external": false};
window.dfnpanelData['dictdef-xrraydirectioninit'] = {"dfnID": "dictdef-xrraydirectioninit", "url": "#dictdef-xrraydirectioninit", "dfnText": "XRRayDirectionInit", "refSections": [{"refs": [{"id": "ref-for-dictdef-xrraydirectioninit"}], "title": "9.1. XRRayDirectionInit"}, {"refs": [{"id": "ref-for-dictdef-xrraydirectioninit\u2460"}], "title": "9.2. XRRay"}], "external": false};
window.dfnpanelData['dom-xrraydirectioninit-x'] = {"dfnID": "dom-xrraydirectioninit-x", "url": "#dom-xrraydirectioninit-x", "dfnText": "x", "refSections": [{"refs": [{"id": "ref-for-dom-xrraydirectioninit-x"}, {"id": "ref-for-dom-xrraydirectioninit-x\u2460"}], "title": "9.2. XRRay"}], "external": false};
window.dfnpanelData['dom-xrraydirectioninit-y'] = {"dfnID": "dom-xrraydirectioninit-y", "url": "#dom-xrraydirectioninit-y", "dfnText": "y", "refSections": [{"refs": [{"id": "ref-for-dom-xrraydirectioninit-y"}, {"id": "ref-for-dom-xrraydirectioninit-y\u2460"}], "title": "9.2. XRRay"}], "external": false};
window.dfnpanelData['dom-xrraydirectioninit-z'] = {"dfnID": "dom-xrraydirectioninit-z", "url": "#dom-xrraydirectioninit-z", "dfnText": "z", "refSections": [{"refs": [{"id": "ref-for-dom-xrraydirectioninit-z"}, {"id": "ref-for-dom-xrraydirectioninit-z\u2460"}], "title": "9.2. XRRay"}], "external": false};
window.dfnpanelData['dom-xrraydirectioninit-w'] = {"dfnID": "dom-xrraydirectioninit-w", "url": "#dom-xrraydirectioninit-w", "dfnText": "w", "refSections": [{"refs": [{"id": "ref-for-dom-xrraydirectioninit-w"}], "title": "9.2. XRRay"}], "external": false};
window.dfnpanelData['xrray-matrix'] = {"dfnID": "xrray-matrix", "url": "#xrray-matrix", "dfnText": "matrix", "refSections": [{"refs": [{"id": "ref-for-xrray-matrix"}, {"id": "ref-for-xrray-matrix\u2460"}, {"id": "ref-for-xrray-matrix\u2461"}, {"id": "ref-for-xrray-matrix\u2462"}, {"id": "ref-for-xrray-matrix\u2463"}, {"id": "ref-for-xrray-matrix\u2464"}], "title": "9.2. XRRay"}], "external": false};
window.dfnpanelData['xrray'] = {"dfnID": "xrray", "url": "#xrray", "dfnText": "XRRay", "refSections": [{"refs": [{"id": "ref-for-xrray"}, {"id": "ref-for-xrray\u2460"}, {"id": "ref-for-xrray\u2461"}], "title": "3.2. XRHitTestOptionsInit"}, {"refs": [{"id": "ref-for-xrray\u2462"}, {"id": "ref-for-xrray\u2463"}, {"id": "ref-for-xrray\u2464"}], "title": "3.3. XRTransientInputHitTestOptionsInit"}, {"refs": [{"id": "ref-for-xrray\u2465"}], "title": "4.1. XRHitTestSource"}, {"refs": [{"id": "ref-for-xrray\u2466"}], "title": "4.2. XRTransientInputHitTestSource"}, {"refs": [{"id": "ref-for-xrray\u2467"}, {"id": "ref-for-xrray\u2468"}, {"id": "ref-for-xrray\u2460\u24ea"}, {"id": "ref-for-xrray\u2460\u2460"}, {"id": "ref-for-xrray\u2460\u2461"}, {"id": "ref-for-xrray\u2460\u2462"}, {"id": "ref-for-xrray\u2460\u2463"}, {"id": "ref-for-xrray\u2460\u2464"}, {"id": "ref-for-xrray\u2460\u2465"}, {"id": "ref-for-xrray\u2460\u2466"}], "title": "9.2. XRRay"}], "external": false};
window.dfnpanelData['dom-xrray-xrray'] = {"dfnID": "dom-xrray-xrray", "url": "#dom-xrray-xrray", "dfnText": "XRRay(origin, direction)", "refSections": [{"refs": [{"id": "ref-for-dom-xrray-xrray"}], "title": "3.2. XRHitTestOptionsInit"}, {"refs": [{"id": "ref-for-dom-xrray-xrray\u2460"}], "title": "3.3. XRTransientInputHitTestOptionsInit"}, {"refs": [{"id": "ref-for-dom-xrray-xrray\u2461"}], "title": "9.1. XRRayDirectionInit"}, {"refs": [{"id": "ref-for-dom-xrray-xrray\u2462"}], "title": "9.2. XRRay"}], "external": false};
window.dfnpanelData['dom-xrray-xrray-transform'] = {"dfnID": "dom-xrray-xrray-transform", "url": "#dom-xrray-xrray-transform", "dfnText": "XRRay(transform)", "refSections": [{"refs": [{"id": "ref-for-dom-xrray-xrray-transform"}], "title": "9.2. XRRay"}], "external": false};
window.dfnpanelData['dom-xrray-origin'] = {"dfnID": "dom-xrray-origin", "url": "#dom-xrray-origin", "dfnText": "origin", "refSections": [{"refs": [{"id": "ref-for-dom-xrray-origin"}, {"id": "ref-for-dom-xrray-origin\u2460"}, {"id": "ref-for-dom-xrray-origin\u2461"}, {"id": "ref-for-dom-xrray-origin\u2462"}, {"id": "ref-for-dom-xrray-origin\u2463"}, {"id": "ref-for-dom-xrray-origin\u2464"}, {"id": "ref-for-dom-xrray-origin\u2465"}, {"id": "ref-for-dom-xrray-origin\u2466"}, {"id": "ref-for-dom-xrray-origin\u2467"}], "title": "9.2. XRRay"}], "external": false};
window.dfnpanelData['dom-xrray-direction'] = {"dfnID": "dom-xrray-direction", "url": "#dom-xrray-direction", "dfnText": "direction", "refSections": [{"refs": [{"id": "ref-for-dom-xrray-direction"}, {"id": "ref-for-dom-xrray-direction\u2460"}, {"id": "ref-for-dom-xrray-direction\u2461"}, {"id": "ref-for-dom-xrray-direction\u2462"}, {"id": "ref-for-dom-xrray-direction\u2463"}, {"id": "ref-for-dom-xrray-direction\u2464"}, {"id": "ref-for-dom-xrray-direction\u2465"}, {"id": "ref-for-dom-xrray-direction\u2466"}, {"id": "ref-for-dom-xrray-direction\u2467"}, {"id": "ref-for-dom-xrray-direction\u2468"}, {"id": "ref-for-dom-xrray-direction\u2460\u24ea"}, {"id": "ref-for-dom-xrray-direction\u2460\u2460"}, {"id": "ref-for-dom-xrray-direction\u2460\u2461"}], "title": "9.2. XRRay"}], "external": false};
window.dfnpanelData['dom-xrray-matrix'] = {"dfnID": "dom-xrray-matrix", "url": "#dom-xrray-matrix", "dfnText": "matrix", "refSections": [{"refs": [{"id": "ref-for-dom-xrray-matrix"}, {"id": "ref-for-dom-xrray-matrix\u2460"}], "title": "9.2. XRRay"}], "external": false};
window.dfnpanelData['xrray-obtain-the-matrix'] = {"dfnID": "xrray-obtain-the-matrix", "url": "#xrray-obtain-the-matrix", "dfnText": "obtain the matrix", "refSections": [{"refs": [{"id": "ref-for-xrray-obtain-the-matrix"}], "title": "9.2. XRRay"}], "external": false};
window.dfnpanelData['distance-along-the-ray'] = {"dfnID": "distance-along-the-ray", "url": "#distance-along-the-ray", "dfnText": "distance along the ray", "refSections": [{"refs": [{"id": "ref-for-distance-along-the-ray"}], "title": "7. Computing hit test results"}], "external": false};
window.dfnpanelData['native-hit-test'] = {"dfnID": "native-hit-test", "url": "#native-hit-test", "dfnText": "native hit test", "refSections": [{"refs": [{"id": "ref-for-native-hit-test"}], "title": "2.1. Feature descriptor"}, {"refs": [{"id": "ref-for-native-hit-test\u2460"}, {"id": "ref-for-native-hit-test\u2461"}], "title": "7. Computing hit test results"}], "external": false};
window.dfnpanelData['native-entity-type'] = {"dfnID": "native-entity-type", "url": "#native-entity-type", "dfnText": "type of the entity", "refSections": [{"refs": [{"id": "ref-for-native-entity-type"}], "title": "5.1. XRHitTestResult"}], "external": false};
window.dfnpanelData['convert-from-native-entity-type'] = {"dfnID": "convert-from-native-entity-type", "url": "#convert-from-native-entity-type", "dfnText": "convert from native entity type", "refSections": [{"refs": [{"id": "ref-for-convert-from-native-entity-type"}], "title": "5.1. XRHitTestResult"}], "external": false};
window.dfnpanelData['native-hit-test-result'] = {"dfnID": "native-hit-test-result", "url": "#native-hit-test-result", "dfnText": "Native hit test results", "refSections": [{"refs": [{"id": "ref-for-native-hit-test-result"}], "title": "5.1. XRHitTestResult"}, {"refs": [{"id": "ref-for-native-hit-test-result\u2460"}], "title": "5.2. XRTransientInputHitTestResult"}, {"refs": [{"id": "ref-for-native-hit-test-result\u2461"}, {"id": "ref-for-native-hit-test-result\u2462"}], "title": "7. Computing hit test results"}, {"refs": [{"id": "ref-for-native-hit-test-result\u2463"}], "title": "10.2. Native entity type"}, {"refs": [{"id": "ref-for-native-hit-test-result\u2464"}], "title": "10.3. Native hit test result"}], "external": false};
</script>
<script>/* Boilerplate: script-dom-helper */
function query(sel) { return document.querySelector(sel); }

function queryAll(sel) { return [...document.querySelectorAll(sel)]; }

function iter(obj) {
	if(!obj) return [];
	var it = obj[Symbol.iterator];
	if(it) return it;
	return Object.entries(obj);
}

function mk(tagname, attrs, ...children) {
	const el = document.createElement(tagname);
	for(const [k,v] of iter(attrs)) {
		if(k.slice(0,3) == "_on") {
			const eventName = k.slice(3);
			el.addEventListener(eventName, v);
		} else if(k[0] == "_") {
			// property, not attribute
			el[k.slice(1)] = v;
		} else {
			if(v === false || v == null) {
        continue;
      } else if(v === true) {
        el.setAttribute(k, "");
        continue;
      } else {
  			el.setAttribute(k, v);
      }
		}
	}
	append(el, children);
	return el;
}

/* Create shortcuts for every known HTML element */
[
  "a",
  "abbr",
  "acronym",
  "address",
  "applet",
  "area",
  "article",
  "aside",
  "audio",
  "b",
  "base",
  "basefont",
  "bdo",
  "big",
  "blockquote",
  "body",
  "br",
  "button",
  "canvas",
  "caption",
  "center",
  "cite",
  "code",
  "col",
  "colgroup",
  "datalist",
  "dd",
  "del",
  "details",
  "dfn",
  "dialog",
  "div",
  "dl",
  "dt",
  "em",
  "embed",
  "fieldset",
  "figcaption",
  "figure",
  "font",
  "footer",
  "form",
  "frame",
  "frameset",
  "head",
  "header",
  "h1",
  "h2",
  "h3",
  "h4",
  "h5",
  "h6",
  "hr",
  "html",
  "i",
  "iframe",
  "img",
  "input",
  "ins",
  "kbd",
  "label",
  "legend",
  "li",
  "link",
  "main",
  "map",
  "mark",
  "meta",
  "meter",
  "nav",
  "nobr",
  "noscript",
  "object",
  "ol",
  "optgroup",
  "option",
  "output",
  "p",
  "param",
  "pre",
  "progress",
  "q",
  "s",
  "samp",
  "script",
  "section",
  "select",
  "small",
  "source",
  "span",
  "strike",
  "strong",
  "style",
  "sub",
  "summary",
  "sup",
  "table",
  "tbody",
  "td",
  "template",
  "textarea",
  "tfoot",
  "th",
  "thead",
  "time",
  "title",
  "tr",
  "u",
  "ul",
  "var",
  "video",
  "wbr",
  "xmp",
].forEach(tagname=>{
	mk[tagname] = (...args) => mk(tagname, ...args);
});

function* nodesFromChildList(children) {
	for(const child of children.flat(Infinity)) {
		if(child instanceof Node) {
			yield child;
		} else {
			yield new Text(child);
		}
	}
}
function append(el, ...children) {
	for(const child of nodesFromChildList(children)) {
		if(el instanceof Node) el.appendChild(child);
		else el.push(child);
	}
	return el;
}

function insertAfter(el, ...children) {
	for(const child of nodesFromChildList(children)) {
		el.parentNode.insertBefore(child, el.nextSibling);
	}
	return el;
}

function clearContents(el) {
	el.innerHTML = "";
	return el;
}

function parseHTML(markup) {
	if(markup.toLowerCase().trim().indexOf('<!doctype') === 0) {
		const doc = document.implementation.createHTMLDocument("");
		doc.documentElement.innerHTML = markup;
		return doc;
	} else {
		const el = mk.template({});
		el.innerHTML = markup;
		return el.content;
	}
}
</script>
<script>/* Boilerplate: script-position-annos */
"use strict";
{

function repositionAnnoPanels(){
    const panels = [...document.querySelectorAll("[data-anno-for]")];
    const main = document.querySelector("main");
    let mainRect;
    if(main) mainRect = main.getBoundingClientRect();
    for(const panel of panels) {
        const dfn = document.getElementById(panel.getAttribute("data-anno-for"));
        if(!dfn) {
            console.log("Can't find the annotation panel target:", panel);
            continue;
        }
        const rect = dfn.getBoundingClientRect();
        const top = window.scrollY + rect.top
        panel.style.top = top + "px";
        panel.top = top;
        panel.height = rect.height;
        panel.classList.remove("unpositioned");
        const panelRect = panel.getBoundingClientRect()
        if(main) {
            panel.classList.toggle("overlapping-main", panelRect.left < mainRect.right)
        }
    }
    let vSoFar = 0;
    for(const panel of panels.sort(cmpTops)) {
        if(panel.top < vSoFar) {
            panel.top = vSoFar;
            panel.style.top = vSoFar + "px";
        }
        vSoFar = panel.top + panel.height + 15;
    }
}

function cmpTops(a,b) {
    return a.top - b.top;
}

window.addEventListener("load", repositionAnnoPanels);
window.addEventListener("resize", repositionAnnoPanels);
}
</script>
<script>/* Boilerplate: script-var-click-highlighting */
/*
Color-choosing design:

Colors are ordered by goodness.
Each color has a usage count (initially zero).
Each variable has a last-used color.

* If the var has a last-used color, and that color's usage is 0,
    return that color.
* Otherwise, return the lowest-indexed color with the lowest usage.
    Increment the color's usage and set it as the last-used color
    for that var.
* On unclicking, decrement usage of the color.
*/
"use strict";
{
    document.addEventListener("click", e=>{
        if(e.target.nodeName == "VAR") {
            highlightSameAlgoVars(e.target);
        }
    });
    const indexCounts = new Map();
    const indexNames = new Map();
    function highlightSameAlgoVars(v) {
        // Find the algorithm container.
        let algoContainer = null;
        let searchEl = v;
        while(algoContainer == null && searchEl != document.body) {
            searchEl = searchEl.parentNode;
            if(searchEl.hasAttribute("data-algorithm")) {
                algoContainer = searchEl;
            }
        }

        // Not highlighting document-global vars,
        // too likely to be unrelated.
        if(algoContainer == null) return;

        const algoName = algoContainer.getAttribute("data-algorithm");
        const varName = getVarName(v);
        const addClass = !v.classList.contains("selected");
        let highlightClass = null;
        if(addClass) {
            const index = chooseHighlightIndex(algoName, varName);
            indexCounts.get(algoName)[index] += 1;
            indexNames.set(algoName+"///"+varName, index);
            highlightClass = nameFromIndex(index);
        } else {
            const index = previousHighlightIndex(algoName, varName);
            indexCounts.get(algoName)[index] -= 1;
            highlightClass = nameFromIndex(index);
        }

        // Find all same-name vars, and toggle their class appropriately.
        for(const el of algoContainer.querySelectorAll("var")) {
            if(getVarName(el) == varName) {
                el.classList.toggle("selected", addClass);
                el.classList.toggle(highlightClass, addClass);
            }
        }
    }
    function getVarName(el) {
        return el.textContent.replace(/(\s|\xa0)+/, " ").trim();
    }
    function chooseHighlightIndex(algoName, varName) {
        let indexes = null;
        if(indexCounts.has(algoName)) {
            indexes = indexCounts.get(algoName);
        } else {
            // 7 classes right now
            indexes = [0,0,0,0,0,0,0];
            indexCounts.set(algoName, indexes);
        }

        // If the element was recently unclicked,
        // *and* that color is still unclaimed,
        // give it back the same color.
        const lastIndex = previousHighlightIndex(algoName, varName);
        if(indexes[lastIndex] === 0) return lastIndex;

        // Find the earliest index with the lowest count.
        const minCount = Math.min.apply(null, indexes);
        let index = null;
        for(var i = 0; i < indexes.length; i++) {
            if(indexes[i] == minCount) {
                return i;
            }
        }
    }
    function previousHighlightIndex(algoName, varName) {
        return indexNames.get(algoName+"///"+varName);
    }
    function nameFromIndex(index) {
        return "selected" + index;
    }
}
</script>