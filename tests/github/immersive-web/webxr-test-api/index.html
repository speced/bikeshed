<!doctype html><html lang="en">
 <head>
  <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
  <meta content="width=device-width, initial-scale=1, shrink-to-fit=no" name="viewport">
  <title>WebXR Test API</title>
  <meta content="ED" name="w3c-status">
  <link href="https://www.w3.org/StyleSheets/TR/2021/W3C-ED" rel="stylesheet">
  <link href="https://www.w3.org/2008/site/images/favicon.ico" rel="icon">
  <link href="https://immersive-web.github.io/webxr-test-api/" rel="canonical">
  <link href="favicon-32x32.png" rel="icon" sizes="32x32" type="image/png">
  <link href="favicon-96x96.png" rel="icon" sizes="96x96" type="image/png">
<style>
  .unstable::before {
    content: "This section is not stable";
    display: block;
    font-weight: bold;
    text-align: right;
    color: red;
  }
  .unstable {
    border: thin solid pink;
    border-radius: .5em;
    padding: .5em;
    margin: .5em calc(-0.5em - 1px);
    background-image: url("data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' width='300' height='290'><text transform='rotate(-45)' text-anchor='middle' font-family='sans-serif' font-weight='bold' font-size='70' y='210' opacity='.1'>Unstable</text></svg>");
    background-repeat: repeat;
    background-color: #FFF4F4;
  }
  .unstable h3:first-of-type {
    margin-top: 0.5rem;
  }

  .unstable.example:not(.no-marker)::before {
    content: "Example " counter(example) " (Unstable)";
    float: none;
  }

  .non-normative::before {
    content: "This section is non-normative.";
    font-style: italic;
  }
  .tg {
    border-collapse: collapse;
    border-spacing: 0;
  }
  .tg th {
    border-style: solid;
    border-width: 1px;
    background: #90b8de;
    color: #fff;
    font-family: sans-serif;
    font-weight: bold;
    border-color: grey;
  }
  .tg td {
    padding: 4px 5px;
    background-color: rgb(221, 238, 255);
    font-family: monospace;
    border-style: solid;
    border-width: 1px;
    border-color: grey;
    overflow: hidden;
    word-break: normal;
  }
</style>
<style>/* Boilerplate: style-autolinks */
.css.css, .property.property, .descriptor.descriptor {
    color: var(--a-normal-text);
    font-size: inherit;
    font-family: inherit;
}
.css::before, .property::before, .descriptor::before {
    content: "‘";
}
.css::after, .property::after, .descriptor::after {
    content: "’";
}
.property, .descriptor {
    /* Don't wrap property and descriptor names */
    white-space: nowrap;
}
.type { /* CSS value <type> */
    font-style: italic;
}
pre .property::before, pre .property::after {
    content: "";
}
[data-link-type="property"]::before,
[data-link-type="propdesc"]::before,
[data-link-type="descriptor"]::before,
[data-link-type="value"]::before,
[data-link-type="function"]::before,
[data-link-type="at-rule"]::before,
[data-link-type="selector"]::before,
[data-link-type="maybe"]::before {
    content: "‘";
}
[data-link-type="property"]::after,
[data-link-type="propdesc"]::after,
[data-link-type="descriptor"]::after,
[data-link-type="value"]::after,
[data-link-type="function"]::after,
[data-link-type="at-rule"]::after,
[data-link-type="selector"]::after,
[data-link-type="maybe"]::after {
    content: "’";
}

[data-link-type].production::before,
[data-link-type].production::after,
.prod [data-link-type]::before,
.prod [data-link-type]::after {
    content: "";
}

[data-link-type=element],
[data-link-type=element-attr] {
    font-family: Menlo, Consolas, "DejaVu Sans Mono", monospace;
    font-size: .9em;
}
[data-link-type=element]::before { content: "<" }
[data-link-type=element]::after  { content: ">" }

[data-link-type=biblio] {
    white-space: pre;
}

@media (prefers-color-scheme: dark) {
    :root {
        --selflink-text: black;
        --selflink-bg: silver;
        --selflink-hover-text: white;
    }
}
</style>
<style>/* Boilerplate: style-colors */

/* Any --*-text not paired with a --*-bg is assumed to have a transparent bg */
:root {
    color-scheme: light dark;

    --text: black;
    --bg: white;

    --unofficial-watermark: url(https://www.w3.org/StyleSheets/TR/2016/logos/UD-watermark);

    --logo-bg: #1a5e9a;
    --logo-active-bg: #c00;
    --logo-text: white;

    --tocnav-normal-text: #707070;
    --tocnav-normal-bg: var(--bg);
    --tocnav-hover-text: var(--tocnav-normal-text);
    --tocnav-hover-bg: #f8f8f8;
    --tocnav-active-text: #c00;
    --tocnav-active-bg: var(--tocnav-normal-bg);

    --tocsidebar-text: var(--text);
    --tocsidebar-bg: #f7f8f9;
    --tocsidebar-shadow: rgba(0,0,0,.1);
    --tocsidebar-heading-text: hsla(203,20%,40%,.7);

    --toclink-text: var(--text);
    --toclink-underline: #3980b5;
    --toclink-visited-text: var(--toclink-text);
    --toclink-visited-underline: #054572;

    --heading-text: #005a9c;

    --hr-text: var(--text);

    --algo-border: #def;

    --del-text: red;
    --del-bg: transparent;
    --ins-text: #080;
    --ins-bg: transparent;

    --a-normal-text: #034575;
    --a-normal-underline: #bbb;
    --a-visited-text: var(--a-normal-text);
    --a-visited-underline: #707070;
    --a-hover-bg: rgba(75%, 75%, 75%, .25);
    --a-active-text: #c00;
    --a-active-underline: #c00;

    --blockquote-border: silver;
    --blockquote-bg: transparent;
    --blockquote-text: currentcolor;

    --issue-border: #e05252;
    --issue-bg: #fbe9e9;
    --issue-text: var(--text);
    --issueheading-text: #831616;

    --example-border: #e0cb52;
    --example-bg: #fcfaee;
    --example-text: var(--text);
    --exampleheading-text: #574b0f;

    --note-border: #52e052;
    --note-bg: #e9fbe9;
    --note-text: var(--text);
    --noteheading-text: hsl(120, 70%, 30%);
    --notesummary-underline: silver;

    --assertion-border: #aaa;
    --assertion-bg: #eee;
    --assertion-text: black;

    --advisement-border: orange;
    --advisement-bg: #fec;
    --advisement-text: var(--text);
    --advisementheading-text: #b35f00;

    --warning-border: red;
    --warning-bg: hsla(40,100%,50%,0.95);
    --warning-text: var(--text);

    --amendment-border: #330099;
    --amendment-bg: #F5F0FF;
    --amendment-text: var(--text);
    --amendmentheading-text: #220066;

    --def-border: #8ccbf2;
    --def-bg: #def;
    --def-text: var(--text);
    --defrow-border: #bbd7e9;

    --datacell-border: silver;

    --indexinfo-text: #707070;

    --indextable-hover-text: black;
    --indextable-hover-bg: #f7f8f9;

    --outdatedspec-bg: rgba(0, 0, 0, .5);
    --outdatedspec-text: black;
    --outdated-bg: maroon;
    --outdated-text: white;
    --outdated-shadow: red;

    --editedrec-bg: darkorange;
}

@media (prefers-color-scheme: dark) {
    :root {
        --text: #ddd;
        --bg: black;

        --unofficial-watermark: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='400' height='400'%3E%3Cg fill='%23100808' transform='translate(200 200) rotate(-45) translate(-200 -200)' stroke='%23100808' stroke-width='3'%3E%3Ctext x='50%25' y='220' style='font: bold 70px sans-serif; text-anchor: middle; letter-spacing: 6px;'%3EUNOFFICIAL%3C/text%3E%3Ctext x='50%25' y='305' style='font: bold 70px sans-serif; text-anchor: middle; letter-spacing: 6px;'%3EDRAFT%3C/text%3E%3C/g%3E%3C/svg%3E");

        --logo-bg: #1a5e9a;
        --logo-active-bg: #c00;
        --logo-text: white;

        --tocnav-normal-text: #999;
        --tocnav-normal-bg: var(--bg);
        --tocnav-hover-text: var(--tocnav-normal-text);
        --tocnav-hover-bg: #080808;
        --tocnav-active-text: #f44;
        --tocnav-active-bg: var(--tocnav-normal-bg);

        --tocsidebar-text: var(--text);
        --tocsidebar-bg: #080808;
        --tocsidebar-shadow: rgba(255,255,255,.1);
        --tocsidebar-heading-text: hsla(203,20%,40%,.7);

        --toclink-text: var(--text);
        --toclink-underline: #6af;
        --toclink-visited-text: var(--toclink-text);
        --toclink-visited-underline: #054572;

        --heading-text: #8af;

        --hr-text: var(--text);

        --algo-border: #456;

        --del-text: #f44;
        --del-bg: transparent;
        --ins-text: #4a4;
        --ins-bg: transparent;

        --a-normal-text: #6af;
        --a-normal-underline: #555;
        --a-visited-text: var(--a-normal-text);
        --a-visited-underline: var(--a-normal-underline);
        --a-hover-bg: rgba(25%, 25%, 25%, .2);
        --a-active-text: #f44;
        --a-active-underline: var(--a-active-text);

        --borderedblock-bg: rgba(255, 255, 255, .05);

        --blockquote-border: silver;
        --blockquote-bg: var(--borderedblock-bg);
        --blockquote-text: currentcolor;

        --issue-border: #e05252;
        --issue-bg: var(--borderedblock-bg);
        --issue-text: var(--text);
        --issueheading-text: hsl(0deg, 70%, 70%);

        --example-border: hsl(50deg, 90%, 60%);
        --example-bg: var(--borderedblock-bg);
        --example-text: var(--text);
        --exampleheading-text: hsl(50deg, 70%, 70%);

        --note-border: hsl(120deg, 100%, 35%);
        --note-bg: var(--borderedblock-bg);
        --note-text: var(--text);
        --noteheading-text: hsl(120, 70%, 70%);
        --notesummary-underline: silver;

        --assertion-border: #444;
        --assertion-bg: var(--borderedblock-bg);
        --assertion-text: var(--text);

        --advisement-border: orange;
        --advisement-bg: #222218;
        --advisement-text: var(--text);
        --advisementheading-text: #f84;

        --warning-border: red;
        --warning-bg: hsla(40,100%,20%,0.95);
        --warning-text: var(--text);

        --amendment-border: #330099;
        --amendment-bg: #080010;
        --amendment-text: var(--text);
        --amendmentheading-text: #cc00ff;

        --def-border: #8ccbf2;
        --def-bg: #080818;
        --def-text: var(--text);
        --defrow-border: #136;

        --datacell-border: silver;

        --indexinfo-text: #aaa;

        --indextable-hover-text: var(--text);
        --indextable-hover-bg: #181818;

        --outdatedspec-bg: rgba(255, 255, 255, .5);
        --outdatedspec-text: black;
        --outdated-bg: maroon;
        --outdated-text: white;
        --outdated-shadow: red;

        --editedrec-bg: darkorange;
    }
    /* In case a transparent-bg image doesn't expect to be on a dark bg,
       which is quite common in practice... */
    img { background: white; }
}
</style>
<style>/* Boilerplate: style-counters */
body {
    counter-reset: example figure issue;
}
.issue {
    counter-increment: issue;
}
.issue:not(.no-marker)::before {
    content: "Issue " counter(issue);
}

.example {
    counter-increment: example;
}
.example:not(.no-marker)::before {
    content: "Example " counter(example);
}
.invalid.example:not(.no-marker)::before,
.illegal.example:not(.no-marker)::before {
    content: "Invalid Example" counter(example);
}

figcaption {
    counter-increment: figure;
}
figcaption:not(.no-marker)::before {
    content: "Figure " counter(figure) " ";
}
</style>
<style>/* Boilerplate: style-dfn-panel */
:root {
    --dfnpanel-bg: #ddd;
    --dfnpanel-text: var(--text);
}
@media (prefers-color-scheme: dark) {
    :root {
        --dfnpanel-bg: #222;
        --dfnpanel-text: var(--text);
    }
}
.dfn-panel {
    position: absolute;
    z-index: 35;
    width: 20em;
    width: 300px;
    height: auto;
    max-height: 500px;
    overflow: auto;
    padding: 0.5em 0.75em;
    font: small Helvetica Neue, sans-serif, Droid Sans Fallback;
    background: var(--dfnpanel-bg);
    color: var(--dfnpanel-text);
    border: outset 0.2em;
    white-space: normal; /* in case it's moved into a pre */
}
.dfn-panel:not(.on) { display: none; }
.dfn-panel * { margin: 0; padding: 0; text-indent: 0; }
.dfn-panel > b { display: block; }
.dfn-panel a { color: var(--dfnpanel-text); }
.dfn-panel a:not(:hover) { text-decoration: none !important; border-bottom: none !important; }
.dfn-panel > b + b { margin-top: 0.25em; }
.dfn-panel ul { padding: 0 0 0 1em; list-style: none; }
.dfn-panel li a {
    /* white-space: pre; /* Do we need this? */
    /* display: inline-block; /* This forces multiple refs to wrap */
    max-width: calc(300px - 1.5em - 1em);
    overflow: hidden;
    text-overflow: ellipsis;
}

.dfn-panel.activated {
    display: inline-block;
    position: fixed;
    left: .5em;
    bottom: 2em;
    margin: 0 auto;
    max-width: calc(100vw - 1.5em - .4em - .5em);
    max-height: 30vh;
}

.dfn-panel .link-item:hover {
    text-decoration: underline;
}
.dfn-panel .link-item .copy-icon {
    opacity: 0;
}
.dfn-panel .link-item:hover .copy-icon,
.dfn-panel .link-item .copy-icon:focus {
    opacity: 1;
}

.dfn-panel .copy-icon {
    display: inline-block;
    margin-right: 0.5em;
    width: 0.85em;
    height: 1em;
    border-radius: 3;
    background-color: #ccc;
    cursor: pointer;
}

.dfn-panel .copy-icon .icon {
    width: 100%;
    height: 100%;
    background-color: #fff;
    display: flex;
    justify-content: center;
    align-items: center;
    position: relative;
}

.dfn-panel .copy-icon .icon::before {
    content: "";
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    border: 1px solid black;
    background-color: #ccc;
    opacity: 0.25;
    transform: translate(3px, -3px);
}

.dfn-panel .copy-icon:active .icon::before {
    opacity: 1;
}

.dfn-paneled[role="button"] { cursor: help; }
</style>
<style>/* Boilerplate: style-dfn-panel */
:root {
    --dfnpanel-bg: #ddd;
    --dfnpanel-text: var(--text);
}
@media (prefers-color-scheme: dark) {
    :root {
        --dfnpanel-bg: #222;
        --dfnpanel-text: var(--text);
    }
}
.dfn-panel {
    position: absolute;
    z-index: 35;
    width: 20em;
    width: 300px;
    height: auto;
    max-height: 500px;
    overflow: auto;
    padding: 0.5em 0.75em;
    font: small Helvetica Neue, sans-serif, Droid Sans Fallback;
    background: var(--dfnpanel-bg);
    color: var(--dfnpanel-text);
    border: outset 0.2em;
    white-space: normal; /* in case it's moved into a pre */
}
.dfn-panel:not(.on) { display: none; }
.dfn-panel * { margin: 0; padding: 0; text-indent: 0; }
.dfn-panel > b { display: block; }
.dfn-panel a { color: var(--dfnpanel-text); }
.dfn-panel a:not(:hover) { text-decoration: none !important; border-bottom: none !important; }
.dfn-panel > b + b { margin-top: 0.25em; }
.dfn-panel ul { padding: 0 0 0 1em; list-style: none; }
.dfn-panel li a {
    /* white-space: pre; /* Do we need this? */
    /* display: inline-block; /* This forces multiple refs to wrap */
    max-width: calc(300px - 1.5em - 1em);
    overflow: hidden;
    text-overflow: ellipsis;
}

.dfn-panel.activated {
    display: inline-block;
    position: fixed;
    left: .5em;
    bottom: 2em;
    margin: 0 auto;
    max-width: calc(100vw - 1.5em - .4em - .5em);
    max-height: 30vh;
}

.dfn-panel .link-item:hover {
    text-decoration: underline;
}
.dfn-panel .link-item .copy-icon {
    opacity: 0;
}
.dfn-panel .link-item:hover .copy-icon,
.dfn-panel .link-item .copy-icon:focus {
    opacity: 1;
}

.dfn-panel .copy-icon {
    display: inline-block;
    margin-right: 0.5em;
    width: 0.85em;
    height: 1em;
    border-radius: 3;
    background-color: #ccc;
    cursor: pointer;
}

.dfn-panel .copy-icon .icon {
    width: 100%;
    height: 100%;
    background-color: #fff;
    display: flex;
    justify-content: center;
    align-items: center;
    position: relative;
}

.dfn-panel .copy-icon .icon::before {
    content: "";
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    border: 1px solid black;
    background-color: #ccc;
    opacity: 0.25;
    transform: translate(3px, -3px);
}

.dfn-panel .copy-icon:active .icon::before {
    opacity: 1;
}

.dfn-paneled[role="button"] { cursor: help; }
</style>
<style>/* Boilerplate: style-issues */
a[href].issue-return {
    float: right;
    float: inline-end;
    color: var(--issueheading-text);
    font-weight: bold;
    text-decoration: none;
}
</style>
<style>/* Boilerplate: style-md-lists */
/* This is a weird hack for me not yet following the commonmark spec
   regarding paragraph and lists. */
[data-md] > :first-child {
    margin-top: 0;
}
[data-md] > :last-child {
    margin-bottom: 0;
}
</style>
<style>/* Boilerplate: style-selflinks */

:root {
    --selflink-text: white;
    --selflink-bg: gray;
    --selflink-hover-text: black;
}
.heading, .issue, .note, .example, li, dt {
    position: relative;
}
a.self-link {
    position: absolute;
    top: 0;
    left: calc(-1 * (3.5rem - 26px));
    width: calc(3.5rem - 26px);
    height: 2em;
    text-align: center;
    border: none;
    transition: opacity .2s;
    opacity: .5;
}
a.self-link:hover {
    opacity: 1;
}
.heading > a.self-link {
    font-size: 83%;
}
.example > a.self-link,
.note > a.self-link,
.issue > a.self-link {
    /* These blocks are overflow:auto, so positioning outside
       doesn't work. */
    left: auto;
    right: 0;
}
li > a.self-link {
    left: calc(-1 * (3.5rem - 26px) - 2em);
}
dfn > a.self-link {
    top: auto;
    left: auto;
    opacity: 0;
    width: 1.5em;
    height: 1.5em;
    background: var(--selflink-bg);
    color: var(--selflink-text);
    font-style: normal;
    transition: opacity .2s, background-color .2s, color .2s;
}
dfn:hover > a.self-link {
    opacity: 1;
}
dfn > a.self-link:hover {
    color: var(--selflink-hover-text);
}

a.self-link::before            { content: "¶"; }
.heading > a.self-link::before { content: "§"; }
dfn > a.self-link::before      { content: "#"; }
</style>
<style>/* Boilerplate: style-syntax-highlighting */

            pre.idl.highlight {
                background: var(--borderedblock-bg, var(--def-bg));
            }
            
</style>
<style>/* Boilerplate: style-syntax-highlighting */

code.highlight { padding: .1em; border-radius: .3em; }
pre.highlight, pre > code.highlight { display: block; padding: 1em; margin: .5em 0; overflow: auto; border-radius: 0; }

.highlight:not(.idl) { background: rgba(0, 0, 0, .03); }
c-[a] { color: #990055 } /* Keyword.Declaration */
c-[b] { color: #990055 } /* Keyword.Type */
c-[c] { color: #708090 } /* Comment */
c-[d] { color: #708090 } /* Comment.Multiline */
c-[e] { color: #0077aa } /* Name.Attribute */
c-[f] { color: #669900 } /* Name.Tag */
c-[g] { color: #222222 } /* Name.Variable */
c-[k] { color: #990055 } /* Keyword */
c-[l] { color: #000000 } /* Literal */
c-[m] { color: #000000 } /* Literal.Number */
c-[n] { color: #0077aa } /* Name */
c-[o] { color: #999999 } /* Operator */
c-[p] { color: #999999 } /* Punctuation */
c-[s] { color: #a67f59 } /* Literal.String */
c-[t] { color: #a67f59 } /* Literal.String.Single */
c-[u] { color: #a67f59 } /* Literal.String.Double */
c-[cp] { color: #708090 } /* Comment.Preproc */
c-[c1] { color: #708090 } /* Comment.Single */
c-[cs] { color: #708090 } /* Comment.Special */
c-[kc] { color: #990055 } /* Keyword.Constant */
c-[kn] { color: #990055 } /* Keyword.Namespace */
c-[kp] { color: #990055 } /* Keyword.Pseudo */
c-[kr] { color: #990055 } /* Keyword.Reserved */
c-[ld] { color: #000000 } /* Literal.Date */
c-[nc] { color: #0077aa } /* Name.Class */
c-[no] { color: #0077aa } /* Name.Constant */
c-[nd] { color: #0077aa } /* Name.Decorator */
c-[ni] { color: #0077aa } /* Name.Entity */
c-[ne] { color: #0077aa } /* Name.Exception */
c-[nf] { color: #0077aa } /* Name.Function */
c-[nl] { color: #0077aa } /* Name.Label */
c-[nn] { color: #0077aa } /* Name.Namespace */
c-[py] { color: #0077aa } /* Name.Property */
c-[ow] { color: #999999 } /* Operator.Word */
c-[mb] { color: #000000 } /* Literal.Number.Bin */
c-[mf] { color: #000000 } /* Literal.Number.Float */
c-[mh] { color: #000000 } /* Literal.Number.Hex */
c-[mi] { color: #000000 } /* Literal.Number.Integer */
c-[mo] { color: #000000 } /* Literal.Number.Oct */
c-[sb] { color: #a67f59 } /* Literal.String.Backtick */
c-[sc] { color: #a67f59 } /* Literal.String.Char */
c-[sd] { color: #a67f59 } /* Literal.String.Doc */
c-[se] { color: #a67f59 } /* Literal.String.Escape */
c-[sh] { color: #a67f59 } /* Literal.String.Heredoc */
c-[si] { color: #a67f59 } /* Literal.String.Interpol */
c-[sx] { color: #a67f59 } /* Literal.String.Other */
c-[sr] { color: #a67f59 } /* Literal.String.Regex */
c-[ss] { color: #a67f59 } /* Literal.String.Symbol */
c-[vc] { color: #0077aa } /* Name.Variable.Class */
c-[vg] { color: #0077aa } /* Name.Variable.Global */
c-[vi] { color: #0077aa } /* Name.Variable.Instance */
c-[il] { color: #000000 } /* Literal.Number.Integer.Long */


@media (prefers-color-scheme: dark) {
    .highlight:not(.idl) { background: rgba(255, 255, 255, .05); }

    c-[a] { color: #d33682 } /* Keyword.Declaration */
    c-[b] { color: #d33682 } /* Keyword.Type */
    c-[c] { color: #2aa198 } /* Comment */
    c-[d] { color: #2aa198 } /* Comment.Multiline */
    c-[e] { color: #268bd2 } /* Name.Attribute */
    c-[f] { color: #b58900 } /* Name.Tag */
    c-[g] { color: #cb4b16 } /* Name.Variable */
    c-[k] { color: #d33682 } /* Keyword */
    c-[l] { color: #657b83 } /* Literal */
    c-[m] { color: #657b83 } /* Literal.Number */
    c-[n] { color: #268bd2 } /* Name */
    c-[o] { color: #657b83 } /* Operator */
    c-[p] { color: #657b83 } /* Punctuation */
    c-[s] { color: #6c71c4 } /* Literal.String */
    c-[t] { color: #6c71c4 } /* Literal.String.Single */
    c-[u] { color: #6c71c4 } /* Literal.String.Double */
    c-[ch] { color: #2aa198 } /* Comment.Hashbang */
    c-[cp] { color: #2aa198 } /* Comment.Preproc */
    c-[cpf] { color: #2aa198 } /* Comment.PreprocFile */
    c-[c1] { color: #2aa198 } /* Comment.Single */
    c-[cs] { color: #2aa198 } /* Comment.Special */
    c-[kc] { color: #d33682 } /* Keyword.Constant */
    c-[kn] { color: #d33682 } /* Keyword.Namespace */
    c-[kp] { color: #d33682 } /* Keyword.Pseudo */
    c-[kr] { color: #d33682 } /* Keyword.Reserved */
    c-[ld] { color: #657b83 } /* Literal.Date */
    c-[nc] { color: #268bd2 } /* Name.Class */
    c-[no] { color: #268bd2 } /* Name.Constant */
    c-[nd] { color: #268bd2 } /* Name.Decorator */
    c-[ni] { color: #268bd2 } /* Name.Entity */
    c-[ne] { color: #268bd2 } /* Name.Exception */
    c-[nf] { color: #268bd2 } /* Name.Function */
    c-[nl] { color: #268bd2 } /* Name.Label */
    c-[nn] { color: #268bd2 } /* Name.Namespace */
    c-[py] { color: #268bd2 } /* Name.Property */
    c-[ow] { color: #657b83 } /* Operator.Word */
    c-[mb] { color: #657b83 } /* Literal.Number.Bin */
    c-[mf] { color: #657b83 } /* Literal.Number.Float */
    c-[mh] { color: #657b83 } /* Literal.Number.Hex */
    c-[mi] { color: #657b83 } /* Literal.Number.Integer */
    c-[mo] { color: #657b83 } /* Literal.Number.Oct */
    c-[sa] { color: #6c71c4 } /* Literal.String.Affix */
    c-[sb] { color: #6c71c4 } /* Literal.String.Backtick */
    c-[sc] { color: #6c71c4 } /* Literal.String.Char */
    c-[dl] { color: #6c71c4 } /* Literal.String.Delimiter */
    c-[sd] { color: #6c71c4 } /* Literal.String.Doc */
    c-[se] { color: #6c71c4 } /* Literal.String.Escape */
    c-[sh] { color: #6c71c4 } /* Literal.String.Heredoc */
    c-[si] { color: #6c71c4 } /* Literal.String.Interpol */
    c-[sx] { color: #6c71c4 } /* Literal.String.Other */
    c-[sr] { color: #6c71c4 } /* Literal.String.Regex */
    c-[ss] { color: #6c71c4 } /* Literal.String.Symbol */
    c-[fm] { color: #268bd2 } /* Name.Function.Magic */
    c-[vc] { color: #cb4b16 } /* Name.Variable.Class */
    c-[vg] { color: #cb4b16 } /* Name.Variable.Global */
    c-[vi] { color: #cb4b16 } /* Name.Variable.Instance */
    c-[vm] { color: #cb4b16 } /* Name.Variable.Magic */
    c-[il] { color: #657b83 } /* Literal.Number.Integer.Long */
}
</style>
<style>/* Boilerplate: style-var-click-highlighting */
/*
Colors were chosen in Lab using https://nixsensor.com/free-color-converter/
D50 2deg illuminant, L in [0,100], a and b in [-128, 128]
0 = lab(85,0,85)
1 = lab(85,80,30)
2 = lab(85,-40,40)
3 = lab(85,-50,0)
4 = lab(85,5,15)
5 = lab(85,-10,-50)
6 = lab(85,35,-15)
*/
var { cursor: pointer; }
var.selected0 { background-color: #F4D200; box-shadow: 0 0 0 2px #F4D200; }
var.selected1 { background-color: #FF87A2; box-shadow: 0 0 0 2px #FF87A2; }
var.selected2 { background-color: #96E885; box-shadow: 0 0 0 2px #96E885; }
var.selected3 { background-color: #3EEED2; box-shadow: 0 0 0 2px #3EEED2; }
var.selected4 { background-color: #EACFB6; box-shadow: 0 0 0 2px #EACFB6; }
var.selected5 { background-color: #82DDFF; box-shadow: 0 0 0 2px #82DDFF; }
var.selected6 { background-color: #FFBCF2; box-shadow: 0 0 0 2px #FFBCF2; }
</style>
 <body class="h-entry">
  <div class="head">
   <p data-fill-with="logo"><a class="logo" href="https://www.w3.org/"> <img alt="W3C" height="48" src="https://www.w3.org/StyleSheets/TR/2021/logos/W3C" width="72"> </a> </p>
   <h1 class="p-name no-ref" id="title">WebXR Test API</h1>
   <p id="w3c-state"><a href="https://www.w3.org/standards/types#ED">Editor’s Draft</a>, <time class="dt-updated" datetime="1970-01-01">1 January 1970</time></p>
   <details open>
    <summary>More details about this document</summary>
    <div data-fill-with="spec-metadata">
     <dl>
      <dt>This version:
      <dd><a class="u-url" href="https://immersive-web.github.io/webxr-test-api/">https://immersive-web.github.io/webxr-test-api/</a>
      <dt class="editor">Editors:
      <dd class="editor p-author h-card vcard" data-editor-id="109489"><a class="p-name fn u-email email" href="mailto:manishearth@google.com">Manish Goregaokar</a> (<span class="p-org org">Google [Mozilla until 2020]</span>)
      <dd class="editor p-author h-card vcard" data-editor-id="114716"><a class="p-name fn u-email email" href="mailto:alcooper@google.com">Alex Cooper</a> (<a class="p-org org" href="http://google.com/">Google</a>)
     </dl>
    </div>
   </details>
   <div data-fill-with="warning">
    <details class="annoying-warning" open>
     <summary>Testing-only API</summary>
     <p><b>The API represented in this document is for testing only and should not be exposed to users.</b></p>
    </details>
   </div>
   <p class="copyright" data-fill-with="copyright"><a href="https://www.w3.org/Consortium/Legal/ipr-notice#Copyright">Copyright</a> © 1970 <a href="https://www.w3.org/">World Wide Web Consortium</a>. <abbr title="World Wide Web Consortium">W3C</abbr><sup>®</sup> <a href="https://www.w3.org/Consortium/Legal/ipr-notice#Legal_Disclaimer">liability</a>, <a href="https://www.w3.org/Consortium/Legal/ipr-notice#W3C_Trademarks">trademark</a> and <a href="https://www.w3.org/Consortium/Legal/2015/copyright-software-and-document" rel="license">permissive document license</a> rules apply. </p>
   <hr title="Separator for header">
  </div>
  <div class="p-summary" data-fill-with="abstract">
   <h2 class="no-num no-toc no-ref heading settled" id="abstract"><span class="content">Abstract</span></h2>
   <p>The WebXR Test API module provides a mocking interface for <a href="https://github.com/web-platform-tests/">Web Platform Tests</a> to be able to test the <a href="https://www.w3.org/TR/webxr/">WebXR Device API</a>.</p>
  </div>
  <h2 class="no-num no-toc no-ref heading settled" id="sotd"><span class="content">Status of this document</span></h2>
  <div data-fill-with="status">
   <p> <em>This section describes the status of this document at the time of its publication. A list of current <abbr title="World Wide Web Consortium">W3C</abbr> publications and the latest revision of this
    technical report can be found in the <a href="http://www.w3.org/TR/"><abbr title="World Wide Web Consortium">W3C</abbr> technical
    reports index</a> at http://www.w3.org/TR/.</em> </p>
   <p> This document was published by the <a href="https://www.w3.org/groups/wg/immersive-web">Immersive Web Working Group</a> as an Editors' Draft. This document is intended to become a W3C Recommendation.

    Feedback and comments on this specification are welcome. Please use <a href="https://github.com/immersive-web/webxr-test-api/issues">Github issues</a>.
    Discussions may also be found in the <a href="http://lists.w3.org/Archives/Public/public-immersive-web-wg/">public-immersive-web-wg@w3.org archives</a>. </p>
   <p> Publication as an Editors' Draft does not imply endorsement by <abbr title="World Wide Web Consortium">W3C</abbr> and its Members. This is a draft document and may
    be updated, replaced or obsoleted by other documents at any time. It is inappropriate to cite
    this document as other than work in progress. </p>
   <p> This document was produced by a group operating under the <a href="https://www.w3.org/Consortium/Patent-Policy/">W3C Patent Policy</a>.
    W3C maintains a <a href="https://www.w3.org/groups/wg/immersive-web/ipr" rel="disclosure">public list of any patent
    disclosures</a> made in connection with the deliverables of the group; that page also includes instructions for disclosing a patent. An individual who has actual knowledge of a patent which the individual believes contains <a href="https://www.w3.org/Consortium/Patent-Policy/#def-essential">Essential
    Claim(s)</a> must disclose the information in accordance with <a href="https://www.w3.org/Consortium/Patent-Policy/#sec-Disclosure">section
    6 of the W3C Patent Policy</a>. </p>
   <p> This document is governed by the <a href="https://www.w3.org/2021/Process-20211102/" id="w3c_process_revision">2 November 2021 W3C Process Document</a>. </p>
   <p></p>
  </div>
  <div data-fill-with="at-risk"></div>
  <nav data-fill-with="table-of-contents" id="toc">
   <h2 class="no-num no-toc no-ref" id="contents">Table of Contents</h2>
   <ol class="toc" role="directory">
    <li><a href="#intro"><span class="secno">1</span> <span class="content">Introduction</span></a>
    <li><a href="#conformance"><span class="secno">2</span> <span class="content">Conformance</span></a>
    <li>
     <a href="#simulated-devices"><span class="secno">3</span> <span class="content">Simulated devices</span></a>
     <ol class="toc">
      <li><a href="#simulated-devices-xr"><span class="secno">3.1</span> <span class="content">Simulated XR Device</span></a>
      <li><a href="#simulated-devices-input"><span class="secno">3.2</span> <span class="content">Simulated Input Device</span></a>
     </ol>
    <li>
     <a href="#initialization"><span class="secno">4</span> <span class="content">Initialization</span></a>
     <ol class="toc">
      <li><a href="#xr-test-attribute"><span class="secno">4.1</span> <span class="content">navigator.xr.test</span></a>
      <li><a href="#xrtest-interface"><span class="secno">4.2</span> <span class="content">XRTest</span></a>
      <li><a href="#fakexrdeviceinit-dict"><span class="secno">4.3</span> <span class="content">FakeXRDeviceInit</span></a>
      <li><a href="#fakexrrigidtransform-base-space"><span class="secno">4.4</span> <span class="content">FakeXRRigidTransformInit</span></a>
     </ol>
    <li>
     <a href="#mocking"><span class="secno">5</span> <span class="content">Mocking</span></a>
     <ol class="toc">
      <li><a href="#fakexrdevice-interface"><span class="secno">5.1</span> <span class="content">FakeXRDevice</span></a>
      <li><a href="#fakexrinputcontroller-init"><span class="secno">5.2</span> <span class="content">FakeXRInputController</span></a>
     </ol>
    <li><a href="#hit-test-extensions"><span class="secno">6</span> <span class="content">Hit test extensions</span></a>
    <li><a href="#dom-overlay-extensions"><span class="secno">7</span> <span class="content">DOM overlay extensions</span></a>
    <li><a href="#anchors-extensions"><span class="secno">8</span> <span class="content">Anchors extensions</span></a>
    <li><a href="#lighting-estimation-extensions"><span class="secno">9</span> <span class="content">Lighting estimation extensions</span></a>
    <li><a href="#depth-sensing-extensions"><span class="secno">10</span> <span class="content">Depth sensing extensions</span></a>
    <li>
     <a href="#w3c-conformance"><span class="secno"></span> <span class="content">Conformance</span></a>
     <ol class="toc">
      <li><a href="#w3c-conventions"><span class="secno"></span> <span class="content">Document conventions</span></a>
      <li><a href="#w3c-conformant-algorithms"><span class="secno"></span> <span class="content">Conformant Algorithms</span></a>
     </ol>
    <li>
     <a href="#index"><span class="secno"></span> <span class="content">Index</span></a>
     <ol class="toc">
      <li><a href="#index-defined-here"><span class="secno"></span> <span class="content">Terms defined by this specification</span></a>
      <li><a href="#index-defined-elsewhere"><span class="secno"></span> <span class="content">Terms defined by reference</span></a>
     </ol>
    <li>
     <a href="#references"><span class="secno"></span> <span class="content">References</span></a>
     <ol class="toc">
      <li><a href="#normative"><span class="secno"></span> <span class="content">Normative References</span></a>
     </ol>
    <li><a href="#idl-index"><span class="secno"></span> <span class="content">IDL Index</span></a>
   </ol>
  </nav>
  <main>
   <h2 class="heading settled" data-level="1" id="intro"><span class="secno">1. </span><span class="content">Introduction</span><a class="self-link" href="#intro"></a></h2>
   <section class="non-normative">
    <p>In order to allow <a href="https://web-platform-tests.org/">Web Platform Tests</a> for WebXR there are some basic functions which are common across all tests, such as adding a fake test device and specifying poses. Below is an API which attempts to capture the necessary functions, based off what was defined in the spec. Different browser vendors can implement this API in whatever way is most compatible with their browser. For example, some browsers may back the interface with a WebDriver API while others may use HTTP or IPC mechanisms to communicate with an out of process fake backend.</p>
    <p>These initialization object and control interfaces do not represent a complete set of WebXR functionality, and are expected to be expanded on as the WebXR spec grows.</p>
   </section>
   <h2 class="heading settled" data-level="2" id="conformance"><span class="secno">2. </span><span class="content">Conformance</span><a class="self-link" href="#conformance"></a></h2>
   <p>Interfaces and functionality exposed by this specification SHOULD NOT be exposed to typical browsing experiences, and instead SHOULD only be used when running <a href="https://web-platform-tests.org/">Web Platform Tests</a>.</p>
   <h2 class="heading settled" data-level="3" id="simulated-devices"><span class="secno">3. </span><span class="content">Simulated devices</span><a class="self-link" href="#simulated-devices"></a></h2>
   <h3 class="heading settled" data-level="3.1" id="simulated-devices-xr"><span class="secno">3.1. </span><span class="content">Simulated XR Device</span><a class="self-link" href="#simulated-devices-xr"></a></h3>
    This API gives tests the ability to spin up a <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="simulated-xr-device">simulated XR device</dfn> which is an <a data-link-type="dfn">XR device</a> which from the point of view of the WebXR API behaves like a normal <a data-link-type="dfn">XR device</a>. These <a data-link-type="dfn" href="#simulated-xr-device" id="ref-for-simulated-xr-device">simulated XR devices</a> can be controlled by the associated <code class="idl"><a data-link-type="idl" href="#fakexrdevice" id="ref-for-fakexrdevice">FakeXRDevice</a></code> object. 
   <p>Every <a data-link-type="dfn" href="#simulated-xr-device" id="ref-for-simulated-xr-device①">simulated XR device</a> may have an <dfn class="dfn-paneled" data-dfn-for="simulated XR device" data-dfn-type="dfn" data-noexport id="simulated-xr-device-native-bounds-geometry">native bounds geometry</dfn> which is an array of <code class="idl"><a data-link-type="idl" href="https://drafts.fxtf.org/geometry-1/#dompointreadonly" id="ref-for-dompointreadonly">DOMPointReadOnly</a></code>s, used to initialize the <a data-link-type="dfn">native bounds geometry</a> of any <code class="idl"><a data-link-type="idl" href="https://immersive-web.github.io/webxr/#xrboundedreferencespace" id="ref-for-xrboundedreferencespace">XRBoundedReferenceSpace</a></code>s created for the device. If <code>null</code>, the device is treated as if it is not currently tracking a bounded reference space.</p>
   <p>Every <a data-link-type="dfn" href="#simulated-xr-device" id="ref-for-simulated-xr-device②">simulated XR device</a> may have a <dfn class="dfn-paneled" data-dfn-for="simulated XR device" data-dfn-type="dfn" data-noexport id="simulated-xr-device-floor-origin">floor origin</dfn> which is an <code class="idl"><a data-link-type="idl" href="https://immersive-web.github.io/webxr/#xrrigidtransform" id="ref-for-xrrigidtransform">XRRigidTransform</a></code> used to note the position of the physical floor. If <code>null</code>, the device is treated as if it is unable to identify the physical floor.</p>
   <p>Every <a data-link-type="dfn" href="#simulated-xr-device" id="ref-for-simulated-xr-device③">simulated XR device</a> may have an <dfn class="dfn-paneled" data-dfn-for="simulated XR device" data-dfn-type="dfn" data-noexport id="simulated-xr-device-viewer-origin">viewer origin</dfn> which is an <code class="idl"><a data-link-type="idl" href="https://immersive-web.github.io/webxr/#xrrigidtransform" id="ref-for-xrrigidtransform①">XRRigidTransform</a></code> used to set the position and orientation of the <a data-link-type="dfn">viewer</a>. If <code>null</code>, the device is treated as if it has lost tracking.</p>
   <p>Every <a data-link-type="dfn" href="#simulated-xr-device" id="ref-for-simulated-xr-device④">simulated XR device</a> has an <dfn class="dfn-paneled" data-dfn-for="simulated XR device" data-dfn-type="dfn" data-noexport id="simulated-xr-device-emulated-position-boolean">emulated position boolean</dfn> which is a boolean used to set the <code class="idl"><a data-link-type="idl" href="https://immersive-web.github.io/webxr/#dom-xrpose-emulatedposition" id="ref-for-dom-xrpose-emulatedposition">emulatedPosition</a></code> of any <code class="idl"><a data-link-type="idl" href="https://immersive-web.github.io/webxr/#xrpose" id="ref-for-xrpose">XRPose</a></code>s produced involving the <a data-link-type="dfn">viewer</a>. This is initially <code>false</code>.</p>
   <p>Every <a data-link-type="dfn" href="#simulated-xr-device" id="ref-for-simulated-xr-device⑤">simulated XR device</a> has an <dfn class="dfn-paneled" data-dfn-for="simulated XR device" data-dfn-type="dfn" data-noexport id="simulated-xr-device-visibility-state">visibility state</dfn> which is an <code class="idl"><a data-link-type="idl" href="https://immersive-web.github.io/webxr/#enumdef-xrvisibilitystate" id="ref-for-enumdef-xrvisibilitystate">XRVisibilityState</a></code> used to set the <code class="idl"><a data-link-type="idl" href="https://immersive-web.github.io/webxr/#dom-xrsession-visibilitystate" id="ref-for-dom-xrsession-visibilitystate">visibilityState</a></code> of any <code class="idl"><a data-link-type="idl" href="https://immersive-web.github.io/webxr/#xrsession" id="ref-for-xrsession">XRSession</a></code>s associated with the <a data-link-type="dfn" href="#simulated-xr-device" id="ref-for-simulated-xr-device⑥">simulated XR device</a> . This is initially <code class="idl"><a data-link-type="idl" href="https://immersive-web.github.io/webxr/#dom-xrvisibilitystate-visible" id="ref-for-dom-xrvisibilitystate-visible">"visible"</a></code>. When it is changed, the associated changes must be reflected on the <code class="idl"><a data-link-type="idl" href="https://immersive-web.github.io/webxr/#xrsession" id="ref-for-xrsession①">XRSession</a></code>, including triggering <code class="idl"><a data-link-type="idl" href="https://immersive-web.github.io/webxr/#dom-xrsession-onvisibilitychange" id="ref-for-dom-xrsession-onvisibilitychange">onvisibilitychange</a></code> events if necessary.</p>
   <p>Every <a data-link-type="dfn">view</a> for a <a data-link-type="dfn" href="#simulated-xr-device" id="ref-for-simulated-xr-device⑦">simulated XR device</a> has an associated <dfn class="dfn-paneled" data-dfn-for="view" data-dfn-type="dfn" data-noexport id="view-device-resolution">device resolution</dfn>, which is an instance of <code class="idl"><a data-link-type="idl" href="#dictdef-fakexrdeviceresolution" id="ref-for-dictdef-fakexrdeviceresolution">FakeXRDeviceResolution</a></code>. This resolution must be used when constructing <code class="idl"><a data-link-type="idl" href="https://immersive-web.github.io/webxr/#xrviewport" id="ref-for-xrviewport">XRViewport</a></code> values for the <a data-link-type="dfn">view</a>, based on the canvas size.</p>
   <p>Every <a data-link-type="dfn">view</a> for a <a data-link-type="dfn" href="#simulated-xr-device" id="ref-for-simulated-xr-device⑧">simulated XR device</a> may have an associated <dfn class="dfn-paneled" data-dfn-for="view" data-dfn-type="dfn" data-noexport id="view-field-of-view">field of view</dfn>, which is an instance of <code class="idl"><a data-link-type="idl" href="#dictdef-fakexrfieldofviewinit" id="ref-for-dictdef-fakexrfieldofviewinit">FakeXRFieldOfViewInit</a></code> used to calculate projection matrices using depth values. If the <a data-link-type="dfn" href="#view-field-of-view" id="ref-for-view-field-of-view">field of view</a> is set, projection matrix values are calculated using the <a data-link-type="dfn" href="#view-field-of-view" id="ref-for-view-field-of-view①">field of view</a> and <code class="idl"><a data-link-type="idl" href="https://immersive-web.github.io/webxr/#dom-xrrenderstate-depthnear" id="ref-for-dom-xrrenderstate-depthnear">depthNear</a></code> and <code class="idl"><a data-link-type="idl" href="https://immersive-web.github.io/webxr/#dom-xrrenderstate-depthfar" id="ref-for-dom-xrrenderstate-depthfar">depthFar</a></code> values.</p>
   <h3 class="heading settled" data-level="3.2" id="simulated-devices-input"><span class="secno">3.2. </span><span class="content">Simulated Input Device</span><a class="self-link" href="#simulated-devices-input"></a></h3>
   <p>This API gives tests the ability to spin up a <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="simulated-xr-input-source">simulated XR input source</dfn> which is an <a data-link-type="dfn">XR input source</a> which from the point of view of the WebXR API behaves like a normal <a data-link-type="dfn">XR input source</a>. These <a data-link-type="dfn" href="#simulated-xr-input-source" id="ref-for-simulated-xr-input-source">simulated XR input sources</a> can be controlled by the associated <code class="idl"><a data-link-type="idl" href="#fakexrinputcontroller" id="ref-for-fakexrinputcontroller">FakeXRInputController</a></code> object.</p>
   <p>Every <a data-link-type="dfn" href="#simulated-xr-input-source" id="ref-for-simulated-xr-input-source①">simulated XR input source</a> has a <dfn class="dfn-paneled" data-dfn-for="simulated XR input source" data-dfn-type="dfn" data-noexport id="simulated-xr-input-source-handedness">handedness</dfn> which is an <code class="idl"><a data-link-type="idl" href="https://immersive-web.github.io/webxr/#enumdef-xrhandedness" id="ref-for-enumdef-xrhandedness">XRHandedness</a></code> value that MUST be returned for the corresponding <a data-link-type="dfn">XR input source’s</a> <code class="idl"><a data-link-type="idl" href="https://immersive-web.github.io/webxr/#dom-xrinputsource-handedness" id="ref-for-dom-xrinputsource-handedness">handedness</a></code> attribute.</p>
   <p>Every <a data-link-type="dfn" href="#simulated-xr-input-source" id="ref-for-simulated-xr-input-source②">simulated XR input source</a> has a <dfn class="dfn-paneled" data-dfn-for="simulated XR input source" data-dfn-type="dfn" data-noexport id="simulated-xr-input-source-targetraymode">targetRayMode</dfn> which is an <code class="idl"><a data-link-type="idl" href="https://immersive-web.github.io/webxr/#enumdef-xrtargetraymode" id="ref-for-enumdef-xrtargetraymode">XRTargetRayMode</a></code> value that MUST be returned for the corresponding <a data-link-type="dfn">XR input source’s</a> <code class="idl"><a data-link-type="idl" href="https://immersive-web.github.io/webxr/#dom-xrinputsource-targetraymode" id="ref-for-dom-xrinputsource-targetraymode">targetRayMode</a></code> attribute.</p>
   <p>Every <a data-link-type="dfn" href="#simulated-xr-input-source" id="ref-for-simulated-xr-input-source③">simulated XR input source</a> has a <dfn class="dfn-paneled" data-dfn-for="simulated XR input source" data-dfn-type="dfn" data-noexport id="simulated-xr-input-source-pointerorigin">pointerOrigin</dfn> which is an <code class="idl"><a data-link-type="idl" href="https://immersive-web.github.io/webxr/#xrrigidtransform" id="ref-for-xrrigidtransform②">XRRigidTransform</a></code> used to note the origin of the <code class="idl"><a data-link-type="idl" href="https://immersive-web.github.io/webxr/#dom-xrinputsource-targetrayspace" id="ref-for-dom-xrinputsource-targetrayspace">targetRaySpace</a></code>.</p>
   <p>A <a data-link-type="dfn" href="#simulated-xr-input-source" id="ref-for-simulated-xr-input-source④">simulated XR input source</a> may have a <dfn class="dfn-paneled" data-dfn-for="simulated XR input source" data-dfn-type="dfn" data-noexport id="simulated-xr-input-source-griporigin">gripOrigin</dfn> which is an <code class="idl"><a data-link-type="idl" href="https://immersive-web.github.io/webxr/#xrrigidtransform" id="ref-for-xrrigidtransform③">XRRigidTransform</a></code> used to note the origin of the <code class="idl"><a data-link-type="idl" href="https://immersive-web.github.io/webxr/#dom-xrinputsource-gripspace" id="ref-for-dom-xrinputsource-gripspace">gripSpace</a></code>. If this is <code>null</code> the <a data-link-type="dfn" href="#simulated-xr-input-source" id="ref-for-simulated-xr-input-source⑤">simulated XR input source</a> is not tracked.</p>
   <p>Every <a data-link-type="dfn" href="#simulated-xr-input-source" id="ref-for-simulated-xr-input-source⑥">simulated XR input source</a> has a <dfn class="dfn-paneled" data-dfn-for="simulated XR input source" data-dfn-type="dfn" data-noexport id="simulated-xr-input-source-profiles">profiles</dfn> array which is an array of <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-DOMString" id="ref-for-idl-DOMString">DOMString</a></code>s which MUST be returned for the corresponding <a data-link-type="dfn">XR input source’s</a> <code class="idl"><a data-link-type="idl" href="https://immersive-web.github.io/webxr/#dom-xrinputsource-profiles" id="ref-for-dom-xrinputsource-profiles">profiles</a></code> attribute.</p>
   <p>Every <a data-link-type="dfn" href="#simulated-xr-input-source" id="ref-for-simulated-xr-input-source⑦">simulated XR input source</a> has a <dfn class="dfn-paneled" data-dfn-for="simulated XR input source" data-dfn-type="dfn" data-noexport id="simulated-xr-input-source-buttonstate">buttonState</dfn> array which is an array of <code class="idl"><a data-link-type="idl" href="#dictdef-fakexrbuttonstateinit" id="ref-for-dictdef-fakexrbuttonstateinit">FakeXRButtonStateInit</a></code>s. If a <code class="idl"><a data-link-type="idl" href="#dom-fakexrbuttontype-grip" id="ref-for-dom-fakexrbuttontype-grip">"grip"</a></code> button is specified, it SHOULD drive the <a data-link-type="dfn">primary squeeze action</a>. If a UA implements the <a href="https://immersive-web.github.io/webxr-gamepads-module/">WebXR Gamepads Module</a> <a data-link-type="dfn" href="#simulated-xr-input-source-buttonstate" id="ref-for-simulated-xr-input-source-buttonstate">buttonState</a> SHOULD be used to set the state for the corresponding <a data-link-type="dfn">XR input source’s</a> <code class="idl"><a data-link-type="idl" href="https://immersive-web.github.io/webxr-gamepads-module/#dom-xrinputsource-gamepad" id="ref-for-dom-xrinputsource-gamepad">gamepad</a></code> object, which SHOULD be of type <code class="idl"><a data-link-type="idl" href="https://w3c.github.io/gamepad/#dom-gamepadmappingtype-xr-standard" id="ref-for-dom-gamepadmappingtype-xr-standard">"xr-standard"</a></code> if enough buttons are specified to support it.</p>
   <p>Every <a data-link-type="dfn" href="#simulated-xr-input-source" id="ref-for-simulated-xr-input-source⑧">simulated XR input source</a> has a <dfn class="dfn-paneled" data-dfn-for="simulated XR input source" data-dfn-type="dfn" data-noexport id="simulated-xr-input-source-connectionstate">connectionState</dfn> which is a boolean that is initially <code>true</code> and indicates whether the associated <a data-link-type="dfn">XR input source</a> should appear in <code class="idl"><a data-link-type="idl" href="https://immersive-web.github.io/webxr/#dom-xrsession-inputsources" id="ref-for-dom-xrsession-inputsources">inputSources</a></code>. When it is changed the associated changes must be reflected on the XRSession, including triggering the <code class="idl"><a data-link-type="idl" href="https://immersive-web.github.io/webxr/#eventdef-xrsession-inputsourceschange" id="ref-for-eventdef-xrsession-inputsourceschange">inputsourceschange</a></code> event if necessary by the <a data-link-type="dfn" href="#xrsession-next-animation-frame" id="ref-for-xrsession-next-animation-frame">next animation frame</a>.</p>
   <p>Every <a data-link-type="dfn" href="#simulated-xr-input-source" id="ref-for-simulated-xr-input-source⑨">simulated XR input source</a> has a <dfn class="dfn-paneled" data-dfn-for="simulated XR input source" data-dfn-type="dfn" data-noexport id="simulated-xr-input-source-primaryactionstarted">primaryActionStarted</dfn> which is a boolean, initially set to <code>false</code>, that indicates whether or not the primary action of the XR input source has been started.</p>
   <h2 class="heading settled" data-level="4" id="initialization"><span class="secno">4. </span><span class="content">Initialization</span><a class="self-link" href="#initialization"></a></h2>
   <h3 class="heading settled" data-level="4.1" id="xr-test-attribute"><span class="secno">4.1. </span><span class="content">navigator.xr.test</span><a class="self-link" href="#xr-test-attribute"></a></h3>
<pre class="idl highlight def"><c- b>partial</c-> <c- b>interface</c-> <a class="idl-code" data-link-type="interface" href="https://immersive-web.github.io/webxr/#xrsystem" id="ref-for-xrsystem"><c- g>XRSystem</c-></a> {
    [<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#SameObject" id="ref-for-SameObject"><c- g>SameObject</c-></a>] <c- b>readonly</c-> <c- b>attribute</c-> <a data-link-type="idl-name" href="#xrtest" id="ref-for-xrtest"><c- n>XRTest</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="XRTest" href="#dom-xrsystem-test" id="ref-for-dom-xrsystem-test"><c- g>test</c-></a>;
};
</pre>
   <p>The <dfn class="dfn-paneled idl-code" data-dfn-for="XRSystem" data-dfn-type="attribute" data-export id="dom-xrsystem-test"><code>test</code></dfn> attribute’s getter MUST return the <code class="idl"><a data-link-type="idl" href="#xrtest" id="ref-for-xrtest①">XRTest</a></code> object that is associated with it. This object MAY be lazily created.</p>
   <h3 class="heading settled" data-level="4.2" id="xrtest-interface"><span class="secno">4.2. </span><span class="content">XRTest</span><a class="self-link" href="#xrtest-interface"></a></h3>
   <p>The <code class="idl"><a data-link-type="idl" href="#xrtest" id="ref-for-xrtest②">XRTest</a></code> object is the entry point for all testing.</p>
<pre class="idl highlight def"><c- b>interface</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="interface" data-export id="xrtest"><code><c- g>XRTest</c-></code></dfn> {
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise" id="ref-for-idl-promise"><c- b>Promise</c-></a>&lt;<a data-link-type="idl-name" href="#fakexrdevice" id="ref-for-fakexrdevice①"><c- n>FakeXRDevice</c-></a>> <a class="idl-code" data-link-type="method" href="#dom-xrtest-simulatedeviceconnection" id="ref-for-dom-xrtest-simulatedeviceconnection"><c- g>simulateDeviceConnection</c-></a>(<a data-link-type="idl-name" href="#dictdef-fakexrdeviceinit" id="ref-for-dictdef-fakexrdeviceinit"><c- n>FakeXRDeviceInit</c-></a> <dfn class="idl-code" data-dfn-for="XRTest/simulateDeviceConnection(init)" data-dfn-type="argument" data-export id="dom-xrtest-simulatedeviceconnection-init-init"><code><c- g>init</c-></code><a class="self-link" href="#dom-xrtest-simulatedeviceconnection-init-init"></a></dfn>);
  <a data-link-type="idl-name"><c- n>void</c-></a> <a class="idl-code" data-link-type="method" href="#dom-xrtest-simulateuseractivation" id="ref-for-dom-xrtest-simulateuseractivation"><c- g>simulateUserActivation</c-></a>(<a data-link-type="idl-name" href="https://webidl.spec.whatwg.org/#Function" id="ref-for-Function"><c- n>Function</c-></a> <dfn class="idl-code" data-dfn-for="XRTest/simulateUserActivation(f)" data-dfn-type="argument" data-export id="dom-xrtest-simulateuseractivation-f-f"><code><c- g>f</c-></code><a class="self-link" href="#dom-xrtest-simulateuseractivation-f-f"></a></dfn>);
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise" id="ref-for-idl-promise①"><c- b>Promise</c-></a>&lt;<a data-link-type="idl-name"><c- n>void</c-></a>> <a class="idl-code" data-link-type="method" href="#dom-xrtest-disconnectalldevices" id="ref-for-dom-xrtest-disconnectalldevices"><c- g>disconnectAllDevices</c-></a>();
};
</pre>
   <div class="algorithm" data-algorithm="simulate-device-connection">
     The <dfn class="dfn-paneled idl-code" data-dfn-for="XRTest" data-dfn-type="method" data-export id="dom-xrtest-simulatedeviceconnection"><code>simulateDeviceConnection(<var>init</var>)</code></dfn> method creates a new <a data-link-type="dfn" href="#simulated-xr-device" id="ref-for-simulated-xr-device⑨">simulated XR device</a>. 
    <p>When this method is invoked, the user agent MUST run the following steps:</p>
    <ol>
     <li data-md>
      <p>Let <var>promise</var> be <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#a-new-promise" id="ref-for-a-new-promise">a new Promise</a>.</p>
     <li data-md>
      <p>Run the following steps <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/infrastructure.html#in-parallel" id="ref-for-in-parallel">in parallel</a>:</p>
      <ol>
       <li data-md>
        <p>Let <var>device</var> be a new <a data-link-type="dfn" href="#simulated-xr-device" id="ref-for-simulated-xr-device①⓪">simulated XR device</a>.</p>
       <li data-md>
        <p>For each <var>view</var> in <var>init</var>’s <code class="idl"><a data-link-type="idl" href="#dom-fakexrdeviceinit-views" id="ref-for-dom-fakexrdeviceinit-views">views</a></code>:</p>
        <ol>
         <li data-md>
          <p>Let <var>v</var> be the result of running <a data-link-type="dfn" href="#parse-a-view" id="ref-for-parse-a-view">parse a view</a> on <var>view</var>.</p>
         <li data-md>
          <p>If running <a data-link-type="dfn" href="#parse-a-view" id="ref-for-parse-a-view①">parse a view</a> threw an error, reject <var>promise</var> with this error and abort these steps.</p>
         <li data-md>
          <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-append" id="ref-for-list-append">Append</a> <var>v</var> to <var>device</var>’s list of views.</p>
        </ol>
       <li data-md>
        <p>If <var>init</var>’s <code class="idl"><a data-link-type="idl" href="#dom-fakexrdeviceinit-boundscoordinates" id="ref-for-dom-fakexrdeviceinit-boundscoordinates">boundsCoordinates</a></code> is set, perform the following steps:</p>
        <ol>
         <li data-md>
          <p>If <var>init</var>’s <code class="idl"><a data-link-type="idl" href="#dom-fakexrdeviceinit-boundscoordinates" id="ref-for-dom-fakexrdeviceinit-boundscoordinates①">boundsCoordinates</a></code> has less than 3 elements, reject <var>promise</var> with <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#exceptiondef-typeerror" id="ref-for-exceptiondef-typeerror">TypeError</a></code> and abort these steps.</p>
         <li data-md>
          <p>Set <var>device</var>’s <a data-link-type="dfn" href="#simulated-xr-device-native-bounds-geometry" id="ref-for-simulated-xr-device-native-bounds-geometry">native bounds geometry</a> to <var>init</var>’s <code class="idl"><a data-link-type="idl" href="#dom-fakexrdeviceinit-boundscoordinates" id="ref-for-dom-fakexrdeviceinit-boundscoordinates②">boundsCoordinates</a></code>.</p>
        </ol>
       <li data-md>
        <p>If <var>init</var>’s <code class="idl"><a data-link-type="idl" href="#dom-fakexrdeviceinit-floororigin" id="ref-for-dom-fakexrdeviceinit-floororigin">floorOrigin</a></code> is set, set <var>device</var>’s <a data-link-type="dfn" href="#simulated-xr-device-floor-origin" id="ref-for-simulated-xr-device-floor-origin">floor origin</a> to <var>init</var>’s <code class="idl"><a data-link-type="idl" href="#dom-fakexrdeviceinit-floororigin" id="ref-for-dom-fakexrdeviceinit-floororigin①">floorOrigin</a></code>.</p>
       <li data-md>
        <p>If <var>init</var>’s <code class="idl"><a data-link-type="idl" href="#dom-fakexrdeviceinit-viewerorigin" id="ref-for-dom-fakexrdeviceinit-viewerorigin">viewerOrigin</a></code> is set, set <var>device</var>’s <a data-link-type="dfn" href="#simulated-xr-device-viewer-origin" id="ref-for-simulated-xr-device-viewer-origin">viewer origin</a> to <var>init</var>’s <code class="idl"><a data-link-type="idl" href="#dom-fakexrdeviceinit-viewerorigin" id="ref-for-dom-fakexrdeviceinit-viewerorigin①">viewerOrigin</a></code>.</p>
       <li data-md>
        <p>Let <var>supportedModes</var> be an empty list of <code class="idl"><a data-link-type="idl" href="https://immersive-web.github.io/webxr/#enumdef-xrsessionmode" id="ref-for-enumdef-xrsessionmode">XRSessionMode</a></code>s.</p>
       <li data-md>
        <p>Modify <var>supportedModes</var> as follows:</p>
        <dl class="switch">
         <dt>If <var>init</var>’s <code class="idl"><a data-link-type="idl" href="#dom-fakexrdeviceinit-supportedmodes" id="ref-for-dom-fakexrdeviceinit-supportedmodes">supportedModes</a></code> is present:
         <dd>
          <ol>
           <li data-md>
            <p>Append the contents of <var>init</var>’s <code class="idl"><a data-link-type="idl" href="#dom-fakexrdeviceinit-supportedmodes" id="ref-for-dom-fakexrdeviceinit-supportedmodes①">supportedModes</a></code> to <var>supportedModes</var>.</p>
           <li data-md>
            <p>If <var>supportedModes</var> is empty, append <code>"inline"</code> to it.</p>
          </ol>
         <dt>Else
         <dd>
          <ol>
           <li data-md>
            <p>Append <code>"inline"</code> to <var>supportedModes</var>.</p>
           <li data-md>
            <p>If <var>init</var>’s <code class="idl"><a data-link-type="idl" href="#dom-fakexrdeviceinit-supportsimmersive" id="ref-for-dom-fakexrdeviceinit-supportsimmersive">supportsImmersive</a></code> is <code>true</code>, append <code>"immersive-vr"</code> to <var>supportedModes</var>.</p>
          </ol>
        </dl>
       <li data-md>
        <p>If <var>init</var>’s <code class="idl"><a data-link-type="idl" href="#dom-fakexrdeviceinit-supportedfeatures" id="ref-for-dom-fakexrdeviceinit-supportedfeatures">supportedFeatures</a></code> is set, for each <var>mode</var> in <var>supportedModes</var>:</p>
       <li data-md>
        <p>Associate <var>init</var>’s <code class="idl"><a data-link-type="idl" href="#dom-fakexrdeviceinit-supportedfeatures" id="ref-for-dom-fakexrdeviceinit-supportedfeatures①">supportedFeatures</a></code> to <var>mode</var></p>
      </ol>
    </ol>
    <p class="note" role="note"><span class="marker">NOTE:</span> each <var>device</var> stores a <a data-link-type="dfn">list of features it is capable of supporting</a> per <code class="idl"><a data-link-type="idl" href="https://immersive-web.github.io/webxr/#enumdef-xrsessionmode" id="ref-for-enumdef-xrsessionmode①">XRSessionMode</a></code>. Most tests only test one mode anyway so there isn’t much to be gained by splitting features per mode in <code class="idl"><a data-link-type="idl" href="#dictdef-fakexrdeviceinit" id="ref-for-dictdef-fakexrdeviceinit①">FakeXRDeviceInit</a></code>. Users wishing different modes supporting different features should create multiple devices instead.</p>
    <ol>
     <li data-md>
      <p>Set <var>device</var>’s <a data-link-type="dfn">list of supported modes</a> to <var>supportedModes</var>.</p>
     <li data-md>
      <p>Register <var>device</var> based on the following:</p>
      <ol>
       <li data-md>
        <p>If <var>supportedModes</var> contains <code>"immersive-vr"</code> or <code>"immersive-ar"</code>, append <var>device</var> to the <code class="idl"><a data-link-type="idl" href="https://immersive-web.github.io/webxr/#dom-navigator-xr" id="ref-for-dom-navigator-xr">xr</a></code>'s <a data-link-type="dfn">list of immersive XR devices</a>.</p>
       <li data-md>
        <p>If <var>supportedModes</var> contains <code>"inline"</code>, set the <a data-link-type="dfn">inline XR device</a> to <var>device</var>.</p>
      </ol>
     <li data-md>
      <p>Let <var>d</var> be a new <code class="idl"><a data-link-type="idl" href="#fakexrdevice" id="ref-for-fakexrdevice②">FakeXRDevice</a></code> object with <a data-link-type="dfn" href="#fakexrdevice-device" id="ref-for-fakexrdevice-device">device</a> as <var>device</var>.</p>
     <li data-md>
      <p><a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#resolve" id="ref-for-resolve">Resolve</a> <var>promise</var> with <var>d</var>.</p>
    </ol>
    <ol>
     <li data-md>
      <p>Return <var>promise</var>.</p>
    </ol>
   </div>
   <p>When <dfn class="dfn-paneled idl-code" data-dfn-for="XRTest" data-dfn-type="method" data-export id="dom-xrtest-simulateuseractivation"><code>simulateUserActivation(f)</code></dfn> is called, invoke <code>f</code> as if it had <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/interaction.html#transient-activation" id="ref-for-transient-activation">transient activation</a>.</p>
   <p>When <dfn class="dfn-paneled idl-code" data-dfn-for="XRTest" data-dfn-type="method" data-export id="dom-xrtest-disconnectalldevices"><code>disconnectAllDevices()</code></dfn> is called, remove all <a data-link-type="dfn" href="#simulated-xr-device" id="ref-for-simulated-xr-device①①">simulated XR devices</a> from the <a data-link-type="dfn">context object</a>'s <code class="idl"><a data-link-type="idl">XR</a></code> object’s <a data-link-type="dfn">list of immersive XR devices</a> as if they were disconnected. If the <a data-link-type="dfn">inline XR device</a> is a <a data-link-type="dfn" href="#simulated-xr-device" id="ref-for-simulated-xr-device①②">simulated XR device</a>, reset it to the default <a data-link-type="dfn">inline XR device</a>.</p>
   <h3 class="heading settled" data-level="4.3" id="fakexrdeviceinit-dict"><span class="secno">4.3. </span><span class="content">FakeXRDeviceInit</span><a class="self-link" href="#fakexrdeviceinit-dict"></a></h3>
<pre class="idl highlight def"><c- b>dictionary</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="dictionary" data-export id="dictdef-fakexrdeviceinit"><code><c- g>FakeXRDeviceInit</c-></code></dfn> {
    <c- b>required</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-boolean" id="ref-for-idl-boolean"><c- b>boolean</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="FakeXRDeviceInit" data-dfn-type="dict-member" data-export data-type="boolean " id="dom-fakexrdeviceinit-supportsimmersive"><code><c- g>supportsImmersive</c-></code></dfn>;
    <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#idl-sequence" id="ref-for-idl-sequence"><c- b>sequence</c-></a>&lt;<a data-link-type="idl-name" href="https://immersive-web.github.io/webxr/#enumdef-xrsessionmode" id="ref-for-enumdef-xrsessionmode②"><c- n>XRSessionMode</c-></a>> <dfn class="dfn-paneled idl-code" data-dfn-for="FakeXRDeviceInit" data-dfn-type="dict-member" data-export data-type="sequence<XRSessionMode> " id="dom-fakexrdeviceinit-supportedmodes"><code><c- g>supportedModes</c-></code></dfn>;
    <c- b>required</c-> <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#idl-sequence" id="ref-for-idl-sequence①"><c- b>sequence</c-></a>&lt;<a data-link-type="idl-name" href="#dictdef-fakexrviewinit" id="ref-for-dictdef-fakexrviewinit"><c- n>FakeXRViewInit</c-></a>> <dfn class="dfn-paneled idl-code" data-dfn-for="FakeXRDeviceInit" data-dfn-type="dict-member" data-export data-type="sequence<FakeXRViewInit> " id="dom-fakexrdeviceinit-views"><code><c- g>views</c-></code></dfn>;

    <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#idl-sequence" id="ref-for-idl-sequence②"><c- b>sequence</c-></a>&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-any" id="ref-for-idl-any"><c- b>any</c-></a>> <dfn class="dfn-paneled idl-code" data-dfn-for="FakeXRDeviceInit" data-dfn-type="dict-member" data-export data-type="sequence<any> " id="dom-fakexrdeviceinit-supportedfeatures"><code><c- g>supportedFeatures</c-></code></dfn>;
    <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#idl-sequence" id="ref-for-idl-sequence③"><c- b>sequence</c-></a>&lt;<a data-link-type="idl-name" href="#dictdef-fakexrboundspoint" id="ref-for-dictdef-fakexrboundspoint"><c- n>FakeXRBoundsPoint</c-></a>> <dfn class="dfn-paneled idl-code" data-dfn-for="FakeXRDeviceInit" data-dfn-type="dict-member" data-export data-type="sequence<FakeXRBoundsPoint> " id="dom-fakexrdeviceinit-boundscoordinates"><code><c- g>boundsCoordinates</c-></code></dfn>;
    <a data-link-type="idl-name" href="#dictdef-fakexrrigidtransforminit" id="ref-for-dictdef-fakexrrigidtransforminit"><c- n>FakeXRRigidTransformInit</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="FakeXRDeviceInit" data-dfn-type="dict-member" data-export data-type="FakeXRRigidTransformInit " id="dom-fakexrdeviceinit-floororigin"><code><c- g>floorOrigin</c-></code></dfn>;
    <a data-link-type="idl-name" href="#dictdef-fakexrrigidtransforminit" id="ref-for-dictdef-fakexrrigidtransforminit①"><c- n>FakeXRRigidTransformInit</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="FakeXRDeviceInit" data-dfn-type="dict-member" data-export data-type="FakeXRRigidTransformInit " id="dom-fakexrdeviceinit-viewerorigin"><code><c- g>viewerOrigin</c-></code></dfn>;

    // Hit test extensions:
    <a data-link-type="idl-name" href="#dictdef-fakexrworldinit" id="ref-for-dictdef-fakexrworldinit"><c- n>FakeXRWorldInit</c-></a> <dfn class="idl-code" data-dfn-for="FakeXRDeviceInit" data-dfn-type="dict-member" data-export data-type="FakeXRWorldInit " id="dom-fakexrdeviceinit-world"><code><c- g>world</c-></code><a class="self-link" href="#dom-fakexrdeviceinit-world"></a></dfn>;

    // Depth sensing extensions:
    <a data-link-type="idl-name" href="#dictdef-fakexrdepthsensingdatainit" id="ref-for-dictdef-fakexrdepthsensingdatainit"><c- n>FakeXRDepthSensingDataInit</c-></a> <dfn class="idl-code" data-dfn-for="FakeXRDeviceInit" data-dfn-type="dict-member" data-export data-type="FakeXRDepthSensingDataInit " id="dom-fakexrdeviceinit-depthsensingdata"><code><c- g>depthSensingData</c-></code><a class="self-link" href="#dom-fakexrdeviceinit-depthsensingdata"></a></dfn>;
};

<c- b>dictionary</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="dictionary" data-export id="dictdef-fakexrviewinit"><code><c- g>FakeXRViewInit</c-></code></dfn> {
  <c- b>required</c-> <a data-link-type="idl-name" href="https://immersive-web.github.io/webxr/#enumdef-xreye" id="ref-for-enumdef-xreye"><c- n>XREye</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="FakeXRViewInit" data-dfn-type="dict-member" data-export data-type="XREye " id="dom-fakexrviewinit-eye"><code><c- g>eye</c-></code></dfn>;
  <c- b>required</c-> <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#idl-sequence" id="ref-for-idl-sequence④"><c- b>sequence</c-></a>&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-float" id="ref-for-idl-float"><c- b>float</c-></a>> <dfn class="dfn-paneled idl-code" data-dfn-for="FakeXRViewInit" data-dfn-type="dict-member" data-export data-type="sequence<float> " id="dom-fakexrviewinit-projectionmatrix"><code><c- g>projectionMatrix</c-></code></dfn>;
  <c- b>required</c-> <a data-link-type="idl-name" href="#dictdef-fakexrdeviceresolution" id="ref-for-dictdef-fakexrdeviceresolution①"><c- n>FakeXRDeviceResolution</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="FakeXRViewInit" data-dfn-type="dict-member" data-export data-type="FakeXRDeviceResolution " id="dom-fakexrviewinit-resolution"><code><c- g>resolution</c-></code></dfn>;
  <c- b>required</c-> <a data-link-type="idl-name" href="#dictdef-fakexrrigidtransforminit" id="ref-for-dictdef-fakexrrigidtransforminit②"><c- n>FakeXRRigidTransformInit</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="FakeXRViewInit" data-dfn-type="dict-member" data-export data-type="FakeXRRigidTransformInit " id="dom-fakexrviewinit-viewoffset"><code><c- g>viewOffset</c-></code></dfn>;
  <a data-link-type="idl-name" href="#dictdef-fakexrfieldofviewinit" id="ref-for-dictdef-fakexrfieldofviewinit①"><c- n>FakeXRFieldOfViewInit</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="FakeXRViewInit" data-dfn-type="dict-member" data-export data-type="FakeXRFieldOfViewInit " id="dom-fakexrviewinit-fieldofview"><code><c- g>fieldOfView</c-></code></dfn>;
};

<c- b>dictionary</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="dictionary" data-export id="dictdef-fakexrfieldofviewinit"><code><c- g>FakeXRFieldOfViewInit</c-></code></dfn> {
  <c- b>required</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-float" id="ref-for-idl-float①"><c- b>float</c-></a> <dfn class="idl-code" data-dfn-for="FakeXRFieldOfViewInit" data-dfn-type="dict-member" data-export data-type="float " id="dom-fakexrfieldofviewinit-updegrees"><code><c- g>upDegrees</c-></code><a class="self-link" href="#dom-fakexrfieldofviewinit-updegrees"></a></dfn>;
  <c- b>required</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-float" id="ref-for-idl-float②"><c- b>float</c-></a> <dfn class="idl-code" data-dfn-for="FakeXRFieldOfViewInit" data-dfn-type="dict-member" data-export data-type="float " id="dom-fakexrfieldofviewinit-downdegrees"><code><c- g>downDegrees</c-></code><a class="self-link" href="#dom-fakexrfieldofviewinit-downdegrees"></a></dfn>;
  <c- b>required</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-float" id="ref-for-idl-float③"><c- b>float</c-></a> <dfn class="idl-code" data-dfn-for="FakeXRFieldOfViewInit" data-dfn-type="dict-member" data-export data-type="float " id="dom-fakexrfieldofviewinit-leftdegrees"><code><c- g>leftDegrees</c-></code><a class="self-link" href="#dom-fakexrfieldofviewinit-leftdegrees"></a></dfn>;
  <c- b>required</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-float" id="ref-for-idl-float④"><c- b>float</c-></a> <dfn class="idl-code" data-dfn-for="FakeXRFieldOfViewInit" data-dfn-type="dict-member" data-export data-type="float " id="dom-fakexrfieldofviewinit-rightdegrees"><code><c- g>rightDegrees</c-></code><a class="self-link" href="#dom-fakexrfieldofviewinit-rightdegrees"></a></dfn>;
};

<c- b>dictionary</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="dictionary" data-export id="dictdef-fakexrdeviceresolution"><code><c- g>FakeXRDeviceResolution</c-></code></dfn> {
    <c- b>required</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-long" id="ref-for-idl-long"><c- b>long</c-></a> <dfn class="idl-code" data-dfn-for="FakeXRDeviceResolution" data-dfn-type="dict-member" data-export data-type="long " id="dom-fakexrdeviceresolution-width"><code><c- g>width</c-></code><a class="self-link" href="#dom-fakexrdeviceresolution-width"></a></dfn>;
    <c- b>required</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-long" id="ref-for-idl-long①"><c- b>long</c-></a> <dfn class="idl-code" data-dfn-for="FakeXRDeviceResolution" data-dfn-type="dict-member" data-export data-type="long " id="dom-fakexrdeviceresolution-height"><code><c- g>height</c-></code><a class="self-link" href="#dom-fakexrdeviceresolution-height"></a></dfn>;
};

<c- b>dictionary</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="dictionary" data-export id="dictdef-fakexrboundspoint"><code><c- g>FakeXRBoundsPoint</c-></code></dfn> {
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-double" id="ref-for-idl-double"><c- b>double</c-></a> <dfn class="idl-code" data-dfn-for="FakeXRBoundsPoint" data-dfn-type="dict-member" data-export data-type="double " id="dom-fakexrboundspoint-x"><code><c- g>x</c-></code><a class="self-link" href="#dom-fakexrboundspoint-x"></a></dfn>; <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-double" id="ref-for-idl-double①"><c- b>double</c-></a> <dfn class="idl-code" data-dfn-for="FakeXRBoundsPoint" data-dfn-type="dict-member" data-export data-type="double " id="dom-fakexrboundspoint-z"><code><c- g>z</c-></code><a class="self-link" href="#dom-fakexrboundspoint-z"></a></dfn>;
};

<c- b>dictionary</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="dictionary" data-export id="dictdef-fakexrrigidtransforminit"><code><c- g>FakeXRRigidTransformInit</c-></code></dfn> {
  <c- b>required</c-> <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#idl-sequence" id="ref-for-idl-sequence⑤"><c- b>sequence</c-></a>&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-float" id="ref-for-idl-float⑤"><c- b>float</c-></a>> <dfn class="dfn-paneled idl-code" data-dfn-for="FakeXRRigidTransformInit" data-dfn-type="dict-member" data-export data-type="sequence<float> " id="dom-fakexrrigidtransforminit-position"><code><c- g>position</c-></code></dfn>;
  <c- b>required</c-> <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#idl-sequence" id="ref-for-idl-sequence⑥"><c- b>sequence</c-></a>&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-float" id="ref-for-idl-float⑥"><c- b>float</c-></a>> <dfn class="dfn-paneled idl-code" data-dfn-for="FakeXRRigidTransformInit" data-dfn-type="dict-member" data-export data-type="sequence<float> " id="dom-fakexrrigidtransforminit-orientation"><code><c- g>orientation</c-></code></dfn>;
};

</pre>
   <p class="advisement"> The <code class="idl"><a data-link-type="idl" href="#dom-fakexrdeviceinit-supportsimmersive" id="ref-for-dom-fakexrdeviceinit-supportsimmersive①">supportsImmersive</a></code> is deprecated in favor of <code class="idl"><a data-link-type="idl" href="#dom-fakexrdeviceinit-supportedmodes" id="ref-for-dom-fakexrdeviceinit-supportedmodes②">supportedModes</a></code> and will be removed in future revisions of the specification. </p>
   <div class="algorithm" data-algorithm="parse-rigid-transform">
     To <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="parse-a-rigid-transform">parse a rigid transform</dfn> given a <code class="idl"><a data-link-type="idl" href="#dictdef-fakexrrigidtransforminit" id="ref-for-dictdef-fakexrrigidtransforminit③">FakeXRRigidTransformInit</a></code> <var>init</var>, perform the following steps: 
    <ol>
     <li data-md>
      <p>Let <var>p</var> be <var>init</var>’s <code class="idl"><a data-link-type="idl" href="#dom-fakexrrigidtransforminit-position" id="ref-for-dom-fakexrrigidtransforminit-position">position</a></code>.</p>
     <li data-md>
      <p>If <var>p</var> does not have three elements, throw a <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#exceptiondef-typeerror" id="ref-for-exceptiondef-typeerror①">TypeError</a></code>.</p>
     <li data-md>
      <p>Let <var>o</var> be <var>init</var>’s <code class="idl"><a data-link-type="idl" href="#dom-fakexrrigidtransforminit-orientation" id="ref-for-dom-fakexrrigidtransforminit-orientation">orientation</a></code>.</p>
     <li data-md>
      <p>If <var>o</var> does not have four elements, throw a <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#exceptiondef-typeerror" id="ref-for-exceptiondef-typeerror②">TypeError</a></code>.</p>
     <li data-md>
      <p>Let <var>position</var> be a <code class="idl"><a data-link-type="idl" href="https://drafts.fxtf.org/geometry-1/#dictdef-dompointinit" id="ref-for-dictdef-dompointinit">DOMPointInit</a></code> with <code class="idl"><a data-link-type="idl" href="https://drafts.fxtf.org/geometry-1/#dom-dompointinit-x" id="ref-for-dom-dompointinit-x">x</a></code>, <code class="idl"><a data-link-type="idl" href="https://drafts.fxtf.org/geometry-1/#dom-dompointinit-y" id="ref-for-dom-dompointinit-y">y</a></code> and <code class="idl"><a data-link-type="idl" href="https://drafts.fxtf.org/geometry-1/#dom-dompointinit-z" id="ref-for-dom-dompointinit-z">z</a></code> equal to the three elements of <var>p</var> in order, and <code class="idl"><a data-link-type="idl" href="https://drafts.fxtf.org/geometry-1/#dom-dompointinit-w" id="ref-for-dom-dompointinit-w">w</a></code> equal to <code>1</code>.</p>
     <li data-md>
      <p>Let <var>orientation</var> be a <code class="idl"><a data-link-type="idl" href="https://drafts.fxtf.org/geometry-1/#dictdef-dompointinit" id="ref-for-dictdef-dompointinit①">DOMPointInit</a></code> with <code class="idl"><a data-link-type="idl" href="https://drafts.fxtf.org/geometry-1/#dom-dompointinit-x" id="ref-for-dom-dompointinit-x①">x</a></code>, <code class="idl"><a data-link-type="idl" href="https://drafts.fxtf.org/geometry-1/#dom-dompointinit-y" id="ref-for-dom-dompointinit-y①">y</a></code>, <code class="idl"><a data-link-type="idl" href="https://drafts.fxtf.org/geometry-1/#dom-dompointinit-z" id="ref-for-dom-dompointinit-z①">z</a></code>, and <code class="idl"><a data-link-type="idl" href="https://drafts.fxtf.org/geometry-1/#dom-dompointinit-w" id="ref-for-dom-dompointinit-w①">w</a></code> equal to the four elements of <var>o</var> in order.</p>
     <li data-md>
      <p><code class="idl"><a data-link-type="idl" href="https://immersive-web.github.io/webxr/#dom-xrrigidtransform-xrrigidtransform" id="ref-for-dom-xrrigidtransform-xrrigidtransform">Construct an XRRigidTransform</a></code> <var>transform</var> with <code class="idl"><a data-link-type="idl" href="https://immersive-web.github.io/webxr/#dom-xrrigidtransform-position" id="ref-for-dom-xrrigidtransform-position">position</a></code> <var>position</var> and <code class="idl"><a data-link-type="idl" href="https://immersive-web.github.io/webxr/#dom-xrrigidtransform-orientation" id="ref-for-dom-xrrigidtransform-orientation">orientation</a></code> <var>orientation</var>.</p>
     <li data-md>
      <p>Return <var>transform</var>.</p>
    </ol>
   </div>
   <div class="algorithm" data-algorithm="parse-view">
     To <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="parse-a-view">parse a view</dfn> given a <code class="idl"><a data-link-type="idl" href="#dictdef-fakexrviewinit" id="ref-for-dictdef-fakexrviewinit①">FakeXRViewInit</a></code> <var>init</var>, perform the following steps: 
    <ol>
     <li data-md>
      <p>Let <var>view</var> be a new <a data-link-type="dfn">view</a>.</p>
     <li data-md>
      <p>Set <var>view</var>’s <a data-link-type="dfn">eye</a> to <var>init</var>’s <code class="idl"><a data-link-type="idl" href="#dom-fakexrviewinit-eye" id="ref-for-dom-fakexrviewinit-eye">eye</a></code>.</p>
     <li data-md>
      <p>If <var>init</var>’s <code class="idl"><a data-link-type="idl" href="#dom-fakexrviewinit-projectionmatrix" id="ref-for-dom-fakexrviewinit-projectionmatrix">projectionMatrix</a></code> does not have 16 elements, throw a <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#exceptiondef-typeerror" id="ref-for-exceptiondef-typeerror③">TypeError</a></code>.</p>
     <li data-md>
      <p>Set <var>view</var>’s <a data-link-type="dfn">projection matrix</a> to <var>init</var>’s <code class="idl"><a data-link-type="idl" href="#dom-fakexrviewinit-projectionmatrix" id="ref-for-dom-fakexrviewinit-projectionmatrix①">projectionMatrix</a></code>.</p>
     <li data-md>
      <p>Set <var>view</var>’s <a data-link-type="dfn">view offset</a> to the result of running <a data-link-type="dfn" href="#parse-a-rigid-transform" id="ref-for-parse-a-rigid-transform">parse a rigid transform</a> <var>init</var>’s <code class="idl"><a data-link-type="idl" href="#dom-fakexrviewinit-viewoffset" id="ref-for-dom-fakexrviewinit-viewoffset">viewOffset</a></code>.</p>
     <li data-md>
      <p>Set <var>view</var>’s <a data-link-type="dfn" href="#view-device-resolution" id="ref-for-view-device-resolution">device resolution</a> to <var>init</var>’s <code class="idl"><a data-link-type="idl" href="#dom-fakexrviewinit-resolution" id="ref-for-dom-fakexrviewinit-resolution">resolution</a></code>.</p>
     <li data-md>
      <p>If <var>init</var>’s <code class="idl"><a data-link-type="idl" href="#dom-fakexrviewinit-fieldofview" id="ref-for-dom-fakexrviewinit-fieldofview">fieldOfView</a></code> is set, perform the following steps:</p>
      <ol>
       <li data-md>
        <p>Set <var>view</var>’s <a data-link-type="dfn" href="#view-field-of-view" id="ref-for-view-field-of-view②">field of view</a> to <var>init</var>’s <code class="idl"><a data-link-type="idl" href="#dom-fakexrviewinit-fieldofview" id="ref-for-dom-fakexrviewinit-fieldofview①">fieldOfView</a></code>.</p>
       <li data-md>
        <p>Set <var>view</var>’s <a data-link-type="dfn">projection matrix</a> to the projection matrix corresponding to this field of view, and depth values equal to <code class="idl"><a data-link-type="idl" href="https://immersive-web.github.io/webxr/#dom-xrrenderstate-depthnear" id="ref-for-dom-xrrenderstate-depthnear①">depthNear</a></code> and <code class="idl"><a data-link-type="idl" href="https://immersive-web.github.io/webxr/#dom-xrrenderstate-depthfar" id="ref-for-dom-xrrenderstate-depthfar①">depthFar</a></code> of any <code class="idl"><a data-link-type="idl" href="https://immersive-web.github.io/webxr/#xrsession" id="ref-for-xrsession②">XRSession</a></code> associated with the device. If there currently is none, use the default values of <code>near=0.1, far=1000.0</code>.</p>
      </ol>
     <li data-md>
      <p>Return <var>view</var>.</p>
    </ol>
   </div>
   <h3 class="heading settled" data-level="4.4" id="fakexrrigidtransform-base-space"><span class="secno">4.4. </span><span class="content">FakeXRRigidTransformInit</span><a class="self-link" href="#fakexrrigidtransform-base-space"></a></h3>
    The WebXR API never exposes native origins directly, instead exposing transforms between them, so we need to specify a <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="base-reference-space">base reference space</dfn> for <code class="idl"><a data-link-type="idl" href="#dictdef-fakexrrigidtransforminit" id="ref-for-dictdef-fakexrrigidtransforminit④">FakeXRRigidTransformInit</a></code>s so that we can have consistent numerical values across implementations. When used as an origin, <code class="idl"><a data-link-type="idl" href="#dictdef-fakexrrigidtransforminit" id="ref-for-dictdef-fakexrrigidtransforminit⑤">FakeXRRigidTransformInit</a></code>s are in the <a data-link-type="dfn" href="#base-reference-space" id="ref-for-base-reference-space">base reference space</a> where the <a data-link-type="dfn">viewer</a>'s <a data-link-type="dfn">native origin</a> is identity at initialization, unless otherwise specified. In this space, the <code class="idl"><a data-link-type="idl" href="https://immersive-web.github.io/webxr/#dom-xrreferencespacetype-local" id="ref-for-dom-xrreferencespacetype-local">"local"</a></code> reference space has a <a data-link-type="dfn">native origin</a> of identity. This is an arbitrary choice: changing this reference space doesn’t affect the data returned by the WebXR API, but we must make such a choice so that the tests produce the same results across different UAs. When used as an origin it is logically a transform <i>from</i> the origin’s space <i>to</i> the underlying <a data-link-type="dfn" href="#base-reference-space" id="ref-for-base-reference-space①">base reference space</a> described above. 
   <h2 class="heading settled" data-level="5" id="mocking"><span class="secno">5. </span><span class="content">Mocking</span><a class="self-link" href="#mocking"></a></h2>
   <h3 class="heading settled" data-level="5.1" id="fakexrdevice-interface"><span class="secno">5.1. </span><span class="content">FakeXRDevice</span><a class="self-link" href="#fakexrdevice-interface"></a></h3>
<pre class="idl highlight def"><c- b>interface</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="interface" data-export id="fakexrdevice"><code><c- g>FakeXRDevice</c-></code></dfn> : <a data-link-type="idl-name" href="https://dom.spec.whatwg.org/#eventtarget" id="ref-for-eventtarget"><c- n>EventTarget</c-></a> {
  <a data-link-type="idl-name"><c- n>void</c-></a> <a class="idl-code" data-link-type="method" href="#dom-fakexrdevice-setviews" id="ref-for-dom-fakexrdevice-setviews"><c- g>setViews</c-></a>(<a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#idl-sequence" id="ref-for-idl-sequence⑦"><c- b>sequence</c-></a>&lt;<a data-link-type="idl-name" href="#dictdef-fakexrviewinit" id="ref-for-dictdef-fakexrviewinit②"><c- n>FakeXRViewInit</c-></a>> <dfn class="idl-code" data-dfn-for="FakeXRDevice/setViews(views)" data-dfn-type="argument" data-export id="dom-fakexrdevice-setviews-views-views"><code><c- g>views</c-></code><a class="self-link" href="#dom-fakexrdevice-setviews-views-views"></a></dfn>);

  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise" id="ref-for-idl-promise②"><c- b>Promise</c-></a>&lt;<a data-link-type="idl-name"><c- n>void</c-></a>> <a class="idl-code" data-link-type="method" href="#dom-fakexrdevice-disconnect" id="ref-for-dom-fakexrdevice-disconnect"><c- g>disconnect</c-></a>();

  <a data-link-type="idl-name"><c- n>void</c-></a> <a class="idl-code" data-link-type="method" href="#dom-fakexrdevice-setviewerorigin" id="ref-for-dom-fakexrdevice-setviewerorigin"><c- g>setViewerOrigin</c-></a>(<a data-link-type="idl-name" href="#dictdef-fakexrrigidtransforminit" id="ref-for-dictdef-fakexrrigidtransforminit⑥"><c- n>FakeXRRigidTransformInit</c-></a> <dfn class="idl-code" data-dfn-for="FakeXRDevice/setViewerOrigin(origin, emulatedPosition), FakeXRDevice/setViewerOrigin(origin)" data-dfn-type="argument" data-export id="dom-fakexrdevice-setviewerorigin-origin-emulatedposition-origin"><code><c- g>origin</c-></code><a class="self-link" href="#dom-fakexrdevice-setviewerorigin-origin-emulatedposition-origin"></a></dfn>, <c- b>optional</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-boolean" id="ref-for-idl-boolean①"><c- b>boolean</c-></a> <dfn class="idl-code" data-dfn-for="FakeXRDevice/setViewerOrigin(origin, emulatedPosition), FakeXRDevice/setViewerOrigin(origin)" data-dfn-type="argument" data-export id="dom-fakexrdevice-setviewerorigin-origin-emulatedposition-emulatedposition"><code><c- g>emulatedPosition</c-></code><a class="self-link" href="#dom-fakexrdevice-setviewerorigin-origin-emulatedposition-emulatedposition"></a></dfn> = <c- b>false</c->);
  <a data-link-type="idl-name"><c- n>void</c-></a> <a class="idl-code" data-link-type="method" href="#dom-fakexrdevice-clearviewerorigin" id="ref-for-dom-fakexrdevice-clearviewerorigin"><c- g>clearViewerOrigin</c-></a>();
  <a data-link-type="idl-name"><c- n>void</c-></a> <a class="idl-code" data-link-type="method" href="#dom-fakexrdevice-setfloororigin" id="ref-for-dom-fakexrdevice-setfloororigin"><c- g>setFloorOrigin</c-></a>(<a data-link-type="idl-name" href="#dictdef-fakexrrigidtransforminit" id="ref-for-dictdef-fakexrrigidtransforminit⑦"><c- n>FakeXRRigidTransformInit</c-></a> <dfn class="idl-code" data-dfn-for="FakeXRDevice/setFloorOrigin(origin)" data-dfn-type="argument" data-export id="dom-fakexrdevice-setfloororigin-origin-origin"><code><c- g>origin</c-></code><a class="self-link" href="#dom-fakexrdevice-setfloororigin-origin-origin"></a></dfn>);
  <a data-link-type="idl-name"><c- n>void</c-></a> <a class="idl-code" data-link-type="method" href="#dom-fakexrdevice-clearfloororigin" id="ref-for-dom-fakexrdevice-clearfloororigin"><c- g>clearFloorOrigin</c-></a>();
  <a data-link-type="idl-name"><c- n>void</c-></a> <a class="idl-code" data-link-type="method" href="#dom-fakexrdevice-setboundsgeometry" id="ref-for-dom-fakexrdevice-setboundsgeometry"><c- g>setBoundsGeometry</c-></a>(<a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#idl-sequence" id="ref-for-idl-sequence⑧"><c- b>sequence</c-></a>&lt;<a data-link-type="idl-name" href="#dictdef-fakexrboundspoint" id="ref-for-dictdef-fakexrboundspoint①"><c- n>FakeXRBoundsPoint</c-></a>> <dfn class="idl-code" data-dfn-for="FakeXRDevice/setBoundsGeometry(boundsCoordinates)" data-dfn-type="argument" data-export id="dom-fakexrdevice-setboundsgeometry-boundscoordinates-boundscoordinates"><code><c- g>boundsCoordinates</c-></code><a class="self-link" href="#dom-fakexrdevice-setboundsgeometry-boundscoordinates-boundscoordinates"></a></dfn>);
  <a data-link-type="idl-name"><c- n>void</c-></a> <a class="idl-code" data-link-type="method" href="#dom-fakexrdevice-simulateresetpose" id="ref-for-dom-fakexrdevice-simulateresetpose"><c- g>simulateResetPose</c-></a>();

  <a data-link-type="idl-name"><c- n>void</c-></a> <a class="idl-code" data-link-type="method" href="#dom-fakexrdevice-simulatevisibilitychange" id="ref-for-dom-fakexrdevice-simulatevisibilitychange"><c- g>simulateVisibilityChange</c-></a>(<a data-link-type="idl-name" href="https://immersive-web.github.io/webxr/#enumdef-xrvisibilitystate" id="ref-for-enumdef-xrvisibilitystate①"><c- n>XRVisibilityState</c-></a> <dfn class="idl-code" data-dfn-for="FakeXRDevice/simulateVisibilityChange(state)" data-dfn-type="argument" data-export id="dom-fakexrdevice-simulatevisibilitychange-state-state"><code><c- g>state</c-></code><a class="self-link" href="#dom-fakexrdevice-simulatevisibilitychange-state-state"></a></dfn>);

  <a data-link-type="idl-name" href="#fakexrinputcontroller" id="ref-for-fakexrinputcontroller①"><c- n>FakeXRInputController</c-></a> <a class="idl-code" data-link-type="method" href="#dom-fakexrdevice-simulateinputsourceconnection" id="ref-for-dom-fakexrdevice-simulateinputsourceconnection"><c- g>simulateInputSourceConnection</c-></a>(<a data-link-type="idl-name" href="#dictdef-fakexrinputsourceinit" id="ref-for-dictdef-fakexrinputsourceinit"><c- n>FakeXRInputSourceInit</c-></a> <dfn class="idl-code" data-dfn-for="FakeXRDevice/simulateInputSourceConnection(init)" data-dfn-type="argument" data-export id="dom-fakexrdevice-simulateinputsourceconnection-init-init"><code><c- g>init</c-></code><a class="self-link" href="#dom-fakexrdevice-simulateinputsourceconnection-init-init"></a></dfn>);

  // Hit test extensions:
  <a data-link-type="idl-name"><c- n>void</c-></a> <dfn class="idl-code" data-dfn-for="FakeXRDevice" data-dfn-type="method" data-export data-lt="setWorld(world)" id="dom-fakexrdevice-setworld"><code><c- g>setWorld</c-></code><a class="self-link" href="#dom-fakexrdevice-setworld"></a></dfn>(<a data-link-type="idl-name" href="#dictdef-fakexrworldinit" id="ref-for-dictdef-fakexrworldinit①"><c- n>FakeXRWorldInit</c-></a> <dfn class="idl-code" data-dfn-for="FakeXRDevice/setWorld(world)" data-dfn-type="argument" data-export id="dom-fakexrdevice-setworld-world-world"><code><c- g>world</c-></code><a class="self-link" href="#dom-fakexrdevice-setworld-world-world"></a></dfn>);
  <a data-link-type="idl-name"><c- n>void</c-></a> <dfn class="idl-code" data-dfn-for="FakeXRDevice" data-dfn-type="method" data-export data-lt="clearWorld()" id="dom-fakexrdevice-clearworld"><code><c- g>clearWorld</c-></code><a class="self-link" href="#dom-fakexrdevice-clearworld"></a></dfn>();

  // Depth sensing extensions:
  <a data-link-type="idl-name"><c- n>void</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="FakeXRDevice" data-dfn-type="method" data-export data-lt="setDepthSensingData(depthSensingData)" id="dom-fakexrdevice-setdepthsensingdata"><code><c- g>setDepthSensingData</c-></code></dfn>(<a data-link-type="idl-name" href="#dictdef-fakexrdepthsensingdatainit" id="ref-for-dictdef-fakexrdepthsensingdatainit①"><c- n>FakeXRDepthSensingDataInit</c-></a> <dfn class="idl-code" data-dfn-for="FakeXRDevice/setDepthSensingData(depthSensingData)" data-dfn-type="argument" data-export id="dom-fakexrdevice-setdepthsensingdata-depthsensingdata-depthsensingdata"><code><c- g>depthSensingData</c-></code><a class="self-link" href="#dom-fakexrdevice-setdepthsensingdata-depthsensingdata-depthsensingdata"></a></dfn>);
  <a data-link-type="idl-name"><c- n>void</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="FakeXRDevice" data-dfn-type="method" data-export data-lt="clearDepthSensingData()" id="dom-fakexrdevice-cleardepthsensingdata"><code><c- g>clearDepthSensingData</c-></code></dfn>();
};

</pre>
   <p>Each <code class="idl"><a data-link-type="idl" href="#fakexrdevice" id="ref-for-fakexrdevice③">FakeXRDevice</a></code> object has an associated <dfn class="dfn-paneled" data-dfn-for="FakeXRDevice" data-dfn-type="dfn" data-noexport id="fakexrdevice-device">device</dfn>, which is a <a data-link-type="dfn" href="#simulated-xr-device" id="ref-for-simulated-xr-device①③">simulated XR device</a> that it is able to control.</p>
   <div class="algorithm" data-algorithm="next-animation-frame">
    <p>Operations on the <code class="idl"><a data-link-type="idl" href="#fakexrdevice" id="ref-for-fakexrdevice④">FakeXRDevice</a></code>'s <a data-link-type="dfn" href="#fakexrdevice-device" id="ref-for-fakexrdevice-device①">device</a> typically take place on the <dfn class="dfn-paneled" data-dfn-for="XRSession" data-dfn-type="dfn" data-noexport id="xrsession-next-animation-frame">next animation frame</dfn>, i.e. they are not immediately observable until a future <code class="idl"><a data-link-type="idl" href="https://immersive-web.github.io/webxr/#dom-xrsession-requestanimationframe" id="ref-for-dom-xrsession-requestanimationframe">requestAnimationFrame()</a></code> callback.</p>
    <p>To determine when this frame is, for a given operation, choose a frame based on the following:</p>
    <dl class="switch">
     <dt>If such an operation is triggered within an <a data-link-type="dfn">XR animation frame</a>:
     <dd>Choose the next <a data-link-type="dfn">XR animation frame</a>, whenever it may occur
     <dt>If such an operation is triggered outside of an <a data-link-type="dfn">XR animation frame</a>:
     <dd>Choose either the next or next-to-next <a data-link-type="dfn">XR animation frame</a>. The precise choice is up to the user agent and may be dependent on the exact timing of these events. 
    </dl>
    <p class="note" role="note"><span class="marker">NOTE:</span> The reason we defer an extra frame when there are pending animation frame callbacks is to avoid having to deal with potential race conditions when the device is ready to trigger an animation frame callback, but has not yet. In practice, this means that tests should be written so that they wait until they have performed all such operations <i>before</i> calling the next <code class="idl"><a data-link-type="idl" href="https://immersive-web.github.io/webxr/#dom-xrsession-requestanimationframe" id="ref-for-dom-xrsession-requestanimationframe①">requestAnimationFrame()</a></code>, and in case they are running outside of an <a data-link-type="dfn">XR animation frame</a>, should always wait two frames before expecting any updates to take effect.</p>
   </div>
   <div class="algorithm" data-algorithm="set-views">
     The <dfn class="dfn-paneled idl-code" data-dfn-for="FakeXRDevice" data-dfn-type="method" data-export id="dom-fakexrdevice-setviews"><code>setViews(<var>views</var>)</code></dfn> method performs the following steps: 
    <ol>
     <li data-md>
      <p>On the <a data-link-type="dfn" href="#xrsession-next-animation-frame" id="ref-for-xrsession-next-animation-frame①">next animation frame</a>, run the following steps:</p>
      <ol>
       <li data-md>
        <p>Let <var>l</var> be an empty <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list" id="ref-for-list">list</a>.</p>
       <li data-md>
        <p>For each <var>view</var> in <var>views</var>:</p>
        <ol>
         <li data-md>
          <p>Let <var>v</var> be the result of running <a data-link-type="dfn" href="#parse-a-view" id="ref-for-parse-a-view②">parse a view</a> on <var>view</var>.</p>
         <li data-md>
          <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-append" id="ref-for-list-append①">Append</a> <var>v</var> to <var>l</var>.</p>
        </ol>
       <li data-md>
        <p>Set <a data-link-type="dfn" href="#fakexrdevice-device" id="ref-for-fakexrdevice-device②">device</a>'s list of views to <var>l</var>.</p>
      </ol>
    </ol>
   </div>
   <div class="algorithm" data-algorithm="disconnect">
    <p>When <dfn class="dfn-paneled idl-code" data-dfn-for="FakeXRDevice" data-dfn-type="method" data-export id="dom-fakexrdevice-disconnect"><code>disconnect()</code></dfn> method is called, perform the following steps:</p>
    <ol>
     <li data-md>
      <p>Remove <a data-link-type="dfn" href="#fakexrdevice-device" id="ref-for-fakexrdevice-device③">device</a> from the <a data-link-type="dfn">context object</a>'s <code class="idl"><a data-link-type="idl">XR</a></code> object’s <a data-link-type="dfn">list of immersive XR devices</a> as if it were disconnected.</p>
     <li data-md>
      <p>If the <a data-link-type="dfn">inline XR device</a> is equal to the <code class="idl"><a data-link-type="idl" href="#fakexrdevice" id="ref-for-fakexrdevice⑤">FakeXRDevice</a></code>, reset it to the default <a data-link-type="dfn">inline XR device</a>.</p>
    </ol>
   </div>
   <div class="algorithm" data-algorithm="set-viewer-origin">
     The <dfn class="dfn-paneled idl-code" data-dfn-for="FakeXRDevice" data-dfn-type="method" data-export data-lt="setViewerOrigin(origin, emulatedPosition)|setViewerOrigin(origin)" id="dom-fakexrdevice-setviewerorigin"><code>setViewerOrigin(<var>origin</var>, <var>emulatedPosition</var>)</code></dfn> performs the following steps: 
    <ol>
     <li data-md>
      <p>Let <var>o</var> be the result of running <a data-link-type="dfn" href="#parse-a-rigid-transform" id="ref-for-parse-a-rigid-transform①">parse a rigid transform</a> on <var>origin</var>.</p>
     <li data-md>
      <p>On the <a data-link-type="dfn" href="#xrsession-next-animation-frame" id="ref-for-xrsession-next-animation-frame②">next animation frame</a>, perform the following steps:</p>
      <ol>
       <li data-md>
        <p>Set <a data-link-type="dfn" href="#fakexrdevice-device" id="ref-for-fakexrdevice-device④">device</a>'s <a data-link-type="dfn" href="#simulated-xr-device-viewer-origin" id="ref-for-simulated-xr-device-viewer-origin①">viewer origin</a> to <var>o</var>.</p>
       <li data-md>
        <p>Set <a data-link-type="dfn" href="#fakexrdevice-device" id="ref-for-fakexrdevice-device⑤">device</a>'s <a data-link-type="dfn" href="#simulated-xr-device-emulated-position-boolean" id="ref-for-simulated-xr-device-emulated-position-boolean">emulated position boolean</a> to <var>emulatedPosition</var>.</p>
      </ol>
    </ol>
   </div>
   <p>The <dfn class="dfn-paneled idl-code" data-dfn-for="FakeXRDevice" data-dfn-type="method" data-export id="dom-fakexrdevice-clearviewerorigin"><code>clearViewerOrigin()</code></dfn> method will, on the <a data-link-type="dfn" href="#xrsession-next-animation-frame" id="ref-for-xrsession-next-animation-frame③">next animation frame</a>, set <a data-link-type="dfn" href="#fakexrdevice-device" id="ref-for-fakexrdevice-device⑥">device</a>'s <a data-link-type="dfn" href="#simulated-xr-device-viewer-origin" id="ref-for-simulated-xr-device-viewer-origin②">viewer origin</a> to <code>null</code>.</p>
   <p>The <dfn class="dfn-paneled idl-code" data-dfn-for="FakeXRDevice" data-dfn-type="method" data-export id="dom-fakexrdevice-simulatevisibilitychange"><code>simulateVisibilityChange(<var>state</var>)</code></dfn> method will, as soon as possible, set <a data-link-type="dfn" href="#fakexrdevice-device" id="ref-for-fakexrdevice-device⑦">device</a>'s <a data-link-type="dfn" href="#simulated-xr-device-visibility-state" id="ref-for-simulated-xr-device-visibility-state">visibility state</a> to <var>state</var>.</p>
   <div class="algorithm" data-algorithm="set-floor-origin">
     The <dfn class="dfn-paneled idl-code" data-dfn-for="FakeXRDevice" data-dfn-type="method" data-export id="dom-fakexrdevice-setfloororigin"><code>setFloorOrigin(<var>origin</var>)</code></dfn> performs the following steps: 
    <ol>
     <li data-md>
      <p>Let <var>o</var> be the result of running <a data-link-type="dfn" href="#parse-a-rigid-transform" id="ref-for-parse-a-rigid-transform②">parse a rigid transform</a> on <var>origin</var>.</p>
     <li data-md>
      <p>On the <a data-link-type="dfn" href="#xrsession-next-animation-frame" id="ref-for-xrsession-next-animation-frame④">next animation frame</a>, set <a data-link-type="dfn" href="#fakexrdevice-device" id="ref-for-fakexrdevice-device⑧">device</a>'s <a data-link-type="dfn" href="#simulated-xr-device-floor-origin" id="ref-for-simulated-xr-device-floor-origin①">floor origin</a> to <var>o</var>.</p>
    </ol>
   </div>
   <p>The <dfn class="dfn-paneled idl-code" data-dfn-for="FakeXRDevice" data-dfn-type="method" data-export id="dom-fakexrdevice-clearfloororigin"><code>clearFloorOrigin()</code></dfn> method will, on the <a data-link-type="dfn" href="#xrsession-next-animation-frame" id="ref-for-xrsession-next-animation-frame⑤">next animation frame</a>, set <a data-link-type="dfn" href="#fakexrdevice-device" id="ref-for-fakexrdevice-device⑨">device</a>'s <a data-link-type="dfn" href="#simulated-xr-device-floor-origin" id="ref-for-simulated-xr-device-floor-origin②">floor origin</a> to <code>null</code>.</p>
   <div class="algorithm" data-algorithm="set-bounds-geometry">
     The <dfn class="dfn-paneled idl-code" data-dfn-for="FakeXRDevice" data-dfn-type="method" data-export id="dom-fakexrdevice-setboundsgeometry"><code>setBoundsGeometry(<var>boundsCoordinates</var>)</code></dfn> performs the following steps: 
    <ol>
     <li data-md>
      <p>If <var>boundsCoordinates</var> has fewer than 3 elements, throw a <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#exceptiondef-typeerror" id="ref-for-exceptiondef-typeerror④">TypeError</a></code>.</p>
     <li data-md>
      <p>On the <a data-link-type="dfn" href="#xrsession-next-animation-frame" id="ref-for-xrsession-next-animation-frame⑥">next animation frame</a>, set <a data-link-type="dfn" href="#fakexrdevice-device" id="ref-for-fakexrdevice-device①⓪">device</a>'s <a data-link-type="dfn" href="#simulated-xr-device-native-bounds-geometry" id="ref-for-simulated-xr-device-native-bounds-geometry①">native bounds geometry</a> to <var>boundsCoordinates</var>.</p>
    </ol>
   </div>
   <p>The <dfn class="dfn-paneled idl-code" data-dfn-for="FakeXRDevice" data-dfn-type="method" data-export id="dom-fakexrdevice-simulateresetpose"><code>simulateResetPose()</code></dfn> method will, as soon as possible, behave as if the <a data-link-type="dfn" href="#fakexrdevice-device" id="ref-for-fakexrdevice-device①①">device</a>'s <a data-link-type="dfn">viewer</a>'s <a data-link-type="dfn">native origin</a> had a discontinuity, triggering appropriate <code class="idl"><a data-link-type="idl">reset</a></code> events.</p>
   <div class="algorithm" data-algorithm="simulate-input-source-connection">
     The <dfn class="dfn-paneled idl-code" data-dfn-for="FakeXRDevice" data-dfn-type="method" data-export id="dom-fakexrdevice-simulateinputsourceconnection"><code>simulateInputSourceConnection(<var>init</var>)</code></dfn> method creates a new <a data-link-type="dfn" href="#simulated-xr-input-source" id="ref-for-simulated-xr-input-source①⓪">simulated XR input source</a>. 
    <p>When this method is invoked, the user agent MUST run the following steps:</p>
    <ol>
     <li data-md>
      <p>Let <var>inputSource</var> be a new <a data-link-type="dfn" href="#simulated-xr-input-source" id="ref-for-simulated-xr-input-source①①">simulated XR input source</a>.</p>
     <li data-md>
      <p>Set <var>inputSource</var>’s <a data-link-type="dfn" href="#simulated-xr-input-source-handedness" id="ref-for-simulated-xr-input-source-handedness">handedness</a> to <var>init</var>’s <code class="idl"><a data-link-type="idl" href="#dom-fakexrinputsourceinit-handedness" id="ref-for-dom-fakexrinputsourceinit-handedness">handedness</a></code>.</p>
     <li data-md>
      <p>Set <var>inputSource</var>’s <a data-link-type="dfn" href="#simulated-xr-input-source-targetraymode" id="ref-for-simulated-xr-input-source-targetraymode">targetRayMode</a> to <var>init</var>’s <code class="idl"><a data-link-type="idl" href="#dom-fakexrinputsourceinit-targetraymode" id="ref-for-dom-fakexrinputsourceinit-targetraymode">targetRayMode</a></code>.</p>
     <li data-md>
      <p>Set <var>inputSource</var>’s <a data-link-type="dfn" href="#simulated-xr-input-source-profiles" id="ref-for-simulated-xr-input-source-profiles">profiles</a> to <var>init</var>’s <code class="idl"><a data-link-type="idl" href="#dom-fakexrinputsourceinit-profiles" id="ref-for-dom-fakexrinputsourceinit-profiles">profiles</a></code></p>
     <li data-md>
      <p>If <var>init</var>’s <code class="idl"><a data-link-type="idl" href="#dom-fakexrinputsourceinit-griporigin" id="ref-for-dom-fakexrinputsourceinit-griporigin">gripOrigin</a></code> is set, set <var>inputSource</var>’s <a data-link-type="dfn" href="#simulated-xr-input-source-griporigin" id="ref-for-simulated-xr-input-source-griporigin">gripOrigin</a> to the result of running <a data-link-type="dfn" href="#parse-a-rigid-transform" id="ref-for-parse-a-rigid-transform③">parse a rigid transform</a> on <var>init</var>’s <code class="idl"><a data-link-type="idl" href="#dom-fakexrinputsourceinit-griporigin" id="ref-for-dom-fakexrinputsourceinit-griporigin①">gripOrigin</a></code></p>
     <li data-md>
      <p>Set <var>inputSource</var>’s <a data-link-type="dfn" href="#simulated-xr-input-source-pointerorigin" id="ref-for-simulated-xr-input-source-pointerorigin">pointerOrigin</a> to the result of running <a data-link-type="dfn" href="#parse-a-rigid-transform" id="ref-for-parse-a-rigid-transform④">parse a rigid transform</a> on <var>init</var>’s <code class="idl"><a data-link-type="idl" href="#dom-fakexrinputsourceinit-pointerorigin" id="ref-for-dom-fakexrinputsourceinit-pointerorigin">pointerOrigin</a></code></p>
     <li data-md>
      <p>If <var>init</var>’s <code class="idl"><a data-link-type="idl" href="#dom-fakexrinputsourceinit-supportedbuttons" id="ref-for-dom-fakexrinputsourceinit-supportedbuttons">supportedButtons</a></code> is set, set <var>inputSource</var>’s <a data-link-type="dfn" href="#simulated-xr-input-source-buttonstate" id="ref-for-simulated-xr-input-source-buttonstate①">buttonState</a> to the result of running <a data-link-type="dfn" href="#parse-supported-buttons" id="ref-for-parse-supported-buttons">parse supported buttons</a> on <var>init</var>’s <code class="idl"><a data-link-type="idl" href="#dom-fakexrinputsourceinit-supportedbuttons" id="ref-for-dom-fakexrinputsourceinit-supportedbuttons①">supportedButtons</a></code></p>
     <li data-md>
      <p>If <var>init</var>’s <code class="idl"><a data-link-type="idl" href="#dom-fakexrinputsourceinit-selectionclicked" id="ref-for-dom-fakexrinputsourceinit-selectionclicked">selectionClicked</a></code> is set to <code>true</code>, run <a data-link-type="dfn" href="#simulate-a-full-primary-action" id="ref-for-simulate-a-full-primary-action">simulate a full primary action</a> on <var>inputSource</var>.</p>
     <li data-md>
      <p>If <var>init</var>’s <code class="idl"><a data-link-type="idl" href="#dom-fakexrinputsourceinit-selectionstarted" id="ref-for-dom-fakexrinputsourceinit-selectionstarted">selectionStarted</a></code> is set to <code>true</code>, run <a data-link-type="dfn" href="#start-a-primary-action" id="ref-for-start-a-primary-action">start a primary action</a> on <var>inputSource</var>.</p>
     <li data-md>
      <p>By the <a data-link-type="dfn" href="#xrsession-next-animation-frame" id="ref-for-xrsession-next-animation-frame⑦">next animation frame</a> notify <code class="idl"><a data-link-type="idl" href="https://immersive-web.github.io/webxr/#xrsession" id="ref-for-xrsession③">XRSession</a></code> of the new <a data-link-type="dfn">XR input source</a>.</p>
     <li data-md>
      <p>Let <var>c</var> be a new <code class="idl"><a data-link-type="idl" href="#fakexrinputcontroller" id="ref-for-fakexrinputcontroller②">FakeXRInputController</a></code> object with {<a data-link-type="dfn" href="#fakexrinputcontroller-inputsource" id="ref-for-fakexrinputcontroller-inputsource">inputSource</a> as <var>inputSource</var>.</p>
     <li data-md>
      <p>Return <var>c</var>.</p>
    </ol>
   </div>
   <h3 class="heading settled" data-level="5.2" id="fakexrinputcontroller-init"><span class="secno">5.2. </span><span class="content">FakeXRInputController</span><a class="self-link" href="#fakexrinputcontroller-init"></a></h3>
<pre class="idl highlight def"><c- b>dictionary</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="dictionary" data-export id="dictdef-fakexrinputsourceinit"><code><c- g>FakeXRInputSourceInit</c-></code></dfn> {
  <c- b>required</c-> <a data-link-type="idl-name" href="https://immersive-web.github.io/webxr/#enumdef-xrhandedness" id="ref-for-enumdef-xrhandedness①"><c- n>XRHandedness</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="FakeXRInputSourceInit" data-dfn-type="dict-member" data-export data-type="XRHandedness " id="dom-fakexrinputsourceinit-handedness"><code><c- g>handedness</c-></code></dfn>;
  <c- b>required</c-> <a data-link-type="idl-name" href="https://immersive-web.github.io/webxr/#enumdef-xrtargetraymode" id="ref-for-enumdef-xrtargetraymode①"><c- n>XRTargetRayMode</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="FakeXRInputSourceInit" data-dfn-type="dict-member" data-export data-type="XRTargetRayMode " id="dom-fakexrinputsourceinit-targetraymode"><code><c- g>targetRayMode</c-></code></dfn>;
  <c- b>required</c-> <a data-link-type="idl-name" href="#dictdef-fakexrrigidtransforminit" id="ref-for-dictdef-fakexrrigidtransforminit⑧"><c- n>FakeXRRigidTransformInit</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="FakeXRInputSourceInit" data-dfn-type="dict-member" data-export data-type="FakeXRRigidTransformInit " id="dom-fakexrinputsourceinit-pointerorigin"><code><c- g>pointerOrigin</c-></code></dfn>;
  <c- b>required</c-> <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#idl-sequence" id="ref-for-idl-sequence⑨"><c- b>sequence</c-></a>&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString" id="ref-for-idl-DOMString①"><c- b>DOMString</c-></a>> <dfn class="dfn-paneled idl-code" data-dfn-for="FakeXRInputSourceInit" data-dfn-type="dict-member" data-export data-type="sequence<DOMString> " id="dom-fakexrinputsourceinit-profiles"><code><c- g>profiles</c-></code></dfn>;
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-boolean" id="ref-for-idl-boolean②"><c- b>boolean</c-></a> <dfn class="dfn-paneled idl-code" data-default="false" data-dfn-for="FakeXRInputSourceInit" data-dfn-type="dict-member" data-export data-type="boolean " id="dom-fakexrinputsourceinit-selectionstarted"><code><c- g>selectionStarted</c-></code></dfn> = <c- b>false</c->;
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-boolean" id="ref-for-idl-boolean③"><c- b>boolean</c-></a> <dfn class="dfn-paneled idl-code" data-default="false" data-dfn-for="FakeXRInputSourceInit" data-dfn-type="dict-member" data-export data-type="boolean " id="dom-fakexrinputsourceinit-selectionclicked"><code><c- g>selectionClicked</c-></code></dfn> = <c- b>false</c->;
  <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#idl-sequence" id="ref-for-idl-sequence①⓪"><c- b>sequence</c-></a>&lt;<a data-link-type="idl-name" href="#dictdef-fakexrbuttonstateinit" id="ref-for-dictdef-fakexrbuttonstateinit①"><c- n>FakeXRButtonStateInit</c-></a>> <dfn class="dfn-paneled idl-code" data-dfn-for="FakeXRInputSourceInit" data-dfn-type="dict-member" data-export data-type="sequence<FakeXRButtonStateInit> " id="dom-fakexrinputsourceinit-supportedbuttons"><code><c- g>supportedButtons</c-></code></dfn>;
  <a data-link-type="idl-name" href="#dictdef-fakexrrigidtransforminit" id="ref-for-dictdef-fakexrrigidtransforminit⑨"><c- n>FakeXRRigidTransformInit</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="FakeXRInputSourceInit" data-dfn-type="dict-member" data-export data-type="FakeXRRigidTransformInit " id="dom-fakexrinputsourceinit-griporigin"><code><c- g>gripOrigin</c-></code></dfn>;
};

<c- b>interface</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="interface" data-export id="fakexrinputcontroller"><code><c- g>FakeXRInputController</c-></code></dfn> {
  <a data-link-type="idl-name"><c- n>void</c-></a> <a class="idl-code" data-link-type="method" href="#dom-fakexrinputcontroller-sethandedness" id="ref-for-dom-fakexrinputcontroller-sethandedness"><c- g>setHandedness</c-></a>(<a data-link-type="idl-name" href="https://immersive-web.github.io/webxr/#enumdef-xrhandedness" id="ref-for-enumdef-xrhandedness②"><c- n>XRHandedness</c-></a> <dfn class="idl-code" data-dfn-for="FakeXRInputController/setHandedness(handedness)" data-dfn-type="argument" data-export id="dom-fakexrinputcontroller-sethandedness-handedness-handedness"><code><c- g>handedness</c-></code><a class="self-link" href="#dom-fakexrinputcontroller-sethandedness-handedness-handedness"></a></dfn>);
  <a data-link-type="idl-name"><c- n>void</c-></a> <a class="idl-code" data-link-type="method" href="#dom-fakexrinputcontroller-settargetraymode" id="ref-for-dom-fakexrinputcontroller-settargetraymode"><c- g>setTargetRayMode</c-></a>(<a data-link-type="idl-name" href="https://immersive-web.github.io/webxr/#enumdef-xrtargetraymode" id="ref-for-enumdef-xrtargetraymode②"><c- n>XRTargetRayMode</c-></a> <dfn class="idl-code" data-dfn-for="FakeXRInputController/setTargetRayMode(targetRayMode)" data-dfn-type="argument" data-export id="dom-fakexrinputcontroller-settargetraymode-targetraymode-targetraymode"><code><c- g>targetRayMode</c-></code><a class="self-link" href="#dom-fakexrinputcontroller-settargetraymode-targetraymode-targetraymode"></a></dfn>);
  <a data-link-type="idl-name"><c- n>void</c-></a> <a class="idl-code" data-link-type="method" href="#dom-fakexrinputcontroller-setprofiles" id="ref-for-dom-fakexrinputcontroller-setprofiles"><c- g>setProfiles</c-></a>(<a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#idl-sequence" id="ref-for-idl-sequence①①"><c- b>sequence</c-></a>&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString" id="ref-for-idl-DOMString②"><c- b>DOMString</c-></a>> <dfn class="idl-code" data-dfn-for="FakeXRInputController/setProfiles(profiles)" data-dfn-type="argument" data-export id="dom-fakexrinputcontroller-setprofiles-profiles-profiles"><code><c- g>profiles</c-></code><a class="self-link" href="#dom-fakexrinputcontroller-setprofiles-profiles-profiles"></a></dfn>);
  <a data-link-type="idl-name"><c- n>void</c-></a> <a class="idl-code" data-link-type="method" href="#dom-fakexrinputcontroller-setgriporigin" id="ref-for-dom-fakexrinputcontroller-setgriporigin"><c- g>setGripOrigin</c-></a>(<a data-link-type="idl-name" href="#dictdef-fakexrrigidtransforminit" id="ref-for-dictdef-fakexrrigidtransforminit①⓪"><c- n>FakeXRRigidTransformInit</c-></a> <dfn class="idl-code" data-dfn-for="FakeXRInputController/setGripOrigin(gripOrigin, emulatedPosition), FakeXRInputController/setGripOrigin(gripOrigin)" data-dfn-type="argument" data-export id="dom-fakexrinputcontroller-setgriporigin-griporigin-emulatedposition-griporigin"><code><c- g>gripOrigin</c-></code><a class="self-link" href="#dom-fakexrinputcontroller-setgriporigin-griporigin-emulatedposition-griporigin"></a></dfn>, <c- b>optional</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-boolean" id="ref-for-idl-boolean④"><c- b>boolean</c-></a> <dfn class="idl-code" data-dfn-for="FakeXRInputController/setGripOrigin(gripOrigin, emulatedPosition), FakeXRInputController/setGripOrigin(gripOrigin)" data-dfn-type="argument" data-export id="dom-fakexrinputcontroller-setgriporigin-griporigin-emulatedposition-emulatedposition"><code><c- g>emulatedPosition</c-></code><a class="self-link" href="#dom-fakexrinputcontroller-setgriporigin-griporigin-emulatedposition-emulatedposition"></a></dfn> = <c- b>false</c->);
  <a data-link-type="idl-name"><c- n>void</c-></a> <a class="idl-code" data-link-type="method" href="#dom-fakexrinputcontroller-cleargriporigin" id="ref-for-dom-fakexrinputcontroller-cleargriporigin"><c- g>clearGripOrigin</c-></a>();
  <a data-link-type="idl-name"><c- n>void</c-></a> <a class="idl-code" data-link-type="method" href="#dom-fakexrinputcontroller-setpointerorigin" id="ref-for-dom-fakexrinputcontroller-setpointerorigin"><c- g>setPointerOrigin</c-></a>(<a data-link-type="idl-name" href="#dictdef-fakexrrigidtransforminit" id="ref-for-dictdef-fakexrrigidtransforminit①①"><c- n>FakeXRRigidTransformInit</c-></a> <dfn class="idl-code" data-dfn-for="FakeXRInputController/setPointerOrigin(pointerOrigin, emulatedPosition), FakeXRInputController/setPointerOrigin(pointerOrigin)" data-dfn-type="argument" data-export id="dom-fakexrinputcontroller-setpointerorigin-pointerorigin-emulatedposition-pointerorigin"><code><c- g>pointerOrigin</c-></code><a class="self-link" href="#dom-fakexrinputcontroller-setpointerorigin-pointerorigin-emulatedposition-pointerorigin"></a></dfn>, <c- b>optional</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-boolean" id="ref-for-idl-boolean⑤"><c- b>boolean</c-></a> <dfn class="idl-code" data-dfn-for="FakeXRInputController/setPointerOrigin(pointerOrigin, emulatedPosition), FakeXRInputController/setPointerOrigin(pointerOrigin)" data-dfn-type="argument" data-export id="dom-fakexrinputcontroller-setpointerorigin-pointerorigin-emulatedposition-emulatedposition"><code><c- g>emulatedPosition</c-></code><a class="self-link" href="#dom-fakexrinputcontroller-setpointerorigin-pointerorigin-emulatedposition-emulatedposition"></a></dfn> = <c- b>false</c->);

  <a data-link-type="idl-name"><c- n>void</c-></a> <a class="idl-code" data-link-type="method" href="#dom-fakexrinputcontroller-disconnect" id="ref-for-dom-fakexrinputcontroller-disconnect"><c- g>disconnect</c-></a>();
  <a data-link-type="idl-name"><c- n>void</c-></a> <a class="idl-code" data-link-type="method" href="#dom-fakexrinputcontroller-reconnect" id="ref-for-dom-fakexrinputcontroller-reconnect"><c- g>reconnect</c-></a>();

  <a data-link-type="idl-name"><c- n>void</c-></a> <a class="idl-code" data-link-type="method" href="#dom-fakexrinputcontroller-startselection" id="ref-for-dom-fakexrinputcontroller-startselection"><c- g>startSelection</c-></a>();
  <a data-link-type="idl-name"><c- n>void</c-></a> <a class="idl-code" data-link-type="method" href="#dom-fakexrinputcontroller-endselection" id="ref-for-dom-fakexrinputcontroller-endselection"><c- g>endSelection</c-></a>();
  <a data-link-type="idl-name"><c- n>void</c-></a> <a class="idl-code" data-link-type="method" href="#dom-fakexrinputcontroller-simulateselect" id="ref-for-dom-fakexrinputcontroller-simulateselect"><c- g>simulateSelect</c-></a>();

  <a data-link-type="idl-name"><c- n>void</c-></a> <a class="idl-code" data-link-type="method" href="#dom-fakexrinputcontroller-setsupportedbuttons" id="ref-for-dom-fakexrinputcontroller-setsupportedbuttons"><c- g>setSupportedButtons</c-></a>(<a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#idl-sequence" id="ref-for-idl-sequence①②"><c- b>sequence</c-></a>&lt;<a data-link-type="idl-name" href="#dictdef-fakexrbuttonstateinit" id="ref-for-dictdef-fakexrbuttonstateinit②"><c- n>FakeXRButtonStateInit</c-></a>> <dfn class="idl-code" data-dfn-for="FakeXRInputController/setSupportedButtons(supportedButtons)" data-dfn-type="argument" data-export id="dom-fakexrinputcontroller-setsupportedbuttons-supportedbuttons-supportedbuttons"><code><c- g>supportedButtons</c-></code><a class="self-link" href="#dom-fakexrinputcontroller-setsupportedbuttons-supportedbuttons-supportedbuttons"></a></dfn>);
  <a data-link-type="idl-name"><c- n>void</c-></a> <a class="idl-code" data-link-type="method" href="#dom-fakexrinputcontroller-updatebuttonstate" id="ref-for-dom-fakexrinputcontroller-updatebuttonstate"><c- g>updateButtonState</c-></a>(<a data-link-type="idl-name" href="#dictdef-fakexrbuttonstateinit" id="ref-for-dictdef-fakexrbuttonstateinit③"><c- n>FakeXRButtonStateInit</c-></a> <dfn class="idl-code" data-dfn-for="FakeXRInputController/updateButtonState(buttonState)" data-dfn-type="argument" data-export id="dom-fakexrinputcontroller-updatebuttonstate-buttonstate-buttonstate"><code><c- g>buttonState</c-></code><a class="self-link" href="#dom-fakexrinputcontroller-updatebuttonstate-buttonstate-buttonstate"></a></dfn>);
};

<c- b>enum</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="enum" data-export id="enumdef-fakexrbuttontype"><code><c- g>FakeXRButtonType</c-></code></dfn> {
  <dfn class="dfn-paneled idl-code" data-dfn-for="FakeXRButtonType" data-dfn-type="enum-value" data-export id="dom-fakexrbuttontype-grip"><code><c- s>"grip"</c-></code></dfn>,
  <dfn class="dfn-paneled idl-code" data-dfn-for="FakeXRButtonType" data-dfn-type="enum-value" data-export id="dom-fakexrbuttontype-touchpad"><code><c- s>"touchpad"</c-></code></dfn>,
  <dfn class="dfn-paneled idl-code" data-dfn-for="FakeXRButtonType" data-dfn-type="enum-value" data-export id="dom-fakexrbuttontype-thumbstick"><code><c- s>"thumbstick"</c-></code></dfn>,
  <dfn class="idl-code" data-dfn-for="FakeXRButtonType" data-dfn-type="enum-value" data-export id="dom-fakexrbuttontype-optional-button"><code><c- s>"optional-button"</c-></code><a class="self-link" href="#dom-fakexrbuttontype-optional-button"></a></dfn>,
  <dfn class="dfn-paneled idl-code" data-dfn-for="FakeXRButtonType" data-dfn-type="enum-value" data-export id="dom-fakexrbuttontype-optional-thumbstick"><code><c- s>"optional-thumbstick"</c-></code></dfn>
};

<c- b>dictionary</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="dictionary" data-export id="dictdef-fakexrbuttonstateinit"><code><c- g>FakeXRButtonStateInit</c-></code></dfn> {
  <c- b>required</c-> <a data-link-type="idl-name" href="#enumdef-fakexrbuttontype" id="ref-for-enumdef-fakexrbuttontype"><c- n>FakeXRButtonType</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="FakeXRButtonStateInit" data-dfn-type="dict-member" data-export data-type="FakeXRButtonType " id="dom-fakexrbuttonstateinit-buttontype"><code><c- g>buttonType</c-></code></dfn>;
  <c- b>required</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-boolean" id="ref-for-idl-boolean⑥"><c- b>boolean</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="FakeXRButtonStateInit" data-dfn-type="dict-member" data-export data-type="boolean " id="dom-fakexrbuttonstateinit-pressed"><code><c- g>pressed</c-></code></dfn>;
  <c- b>required</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-boolean" id="ref-for-idl-boolean⑦"><c- b>boolean</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="FakeXRButtonStateInit" data-dfn-type="dict-member" data-export data-type="boolean " id="dom-fakexrbuttonstateinit-touched"><code><c- g>touched</c-></code></dfn>;
  <c- b>required</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-float" id="ref-for-idl-float⑦"><c- b>float</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="FakeXRButtonStateInit" data-dfn-type="dict-member" data-export data-type="float " id="dom-fakexrbuttonstateinit-pressedvalue"><code><c- g>pressedValue</c-></code></dfn>;
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-float" id="ref-for-idl-float⑧"><c- b>float</c-></a> <dfn class="dfn-paneled idl-code" data-default="0.0" data-dfn-for="FakeXRButtonStateInit" data-dfn-type="dict-member" data-export data-type="float " id="dom-fakexrbuttonstateinit-xvalue"><code><c- g>xValue</c-></code></dfn> = 0.0;
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-float" id="ref-for-idl-float⑨"><c- b>float</c-></a> <dfn class="dfn-paneled idl-code" data-default="0.0" data-dfn-for="FakeXRButtonStateInit" data-dfn-type="dict-member" data-export data-type="float " id="dom-fakexrbuttonstateinit-yvalue"><code><c- g>yValue</c-></code></dfn> = 0.0;
};
</pre>
   <p>Each <code class="idl"><a data-link-type="idl" href="#fakexrinputcontroller" id="ref-for-fakexrinputcontroller③">FakeXRInputController</a></code> object has an associated <dfn class="dfn-paneled" data-dfn-for="FakeXRInputController" data-dfn-type="dfn" data-noexport id="fakexrinputcontroller-inputsource">inputSource</dfn>, which is a <a data-link-type="dfn" href="#simulated-xr-input-source" id="ref-for-simulated-xr-input-source①②">simulated XR input source</a> that it is able to control.</p>
   <p>Since user agents may opt to send input events on a per-frame basis, the results of all <code class="idl"><a data-link-type="idl" href="#fakexrinputcontroller" id="ref-for-fakexrinputcontroller④">FakeXRInputController</a></code> methods and <code class="idl"><a data-link-type="idl" href="#dom-fakexrdevice-simulateinputsourceconnection" id="ref-for-dom-fakexrdevice-simulateinputsourceconnection①">simulateInputSourceConnection()</a></code> are not guaranteed to be visible (via, e.g. <code class="idl"><a data-link-type="idl" href="https://immersive-web.github.io/webxr/#dom-xrsession-inputsources" id="ref-for-dom-xrsession-inputsources①">inputSources</a></code> or <code class="idl"><a data-link-type="idl" href="https://immersive-web.github.io/webxr/#dom-xrsession-oninputsourceschange" id="ref-for-dom-xrsession-oninputsourceschange">oninputsourceschange</a></code> events) until the <a data-link-type="dfn" href="#xrsession-next-animation-frame" id="ref-for-xrsession-next-animation-frame⑧">next animation frame</a>.</p>
   <div class="algorithm" data-algorithm="start-a-primary-action">
     To <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="start-a-primary-action">start a primary action</dfn> on a <a data-link-type="dfn" href="#simulated-xr-input-source" id="ref-for-simulated-xr-input-source①③">simulated XR input source</a> run the following steps: 
    <ol>
     <li data-md>
      <p>If <a data-link-type="dfn" href="#simulated-xr-input-source-primaryactionstarted" id="ref-for-simulated-xr-input-source-primaryactionstarted">primaryActionStarted</a> is true, abort these steps.</p>
     <li data-md>
      <p>Set <a data-link-type="dfn" href="#simulated-xr-input-source-primaryactionstarted" id="ref-for-simulated-xr-input-source-primaryactionstarted①">primaryActionStarted</a> to true.</p>
     <li data-md>
      <p>By the <a data-link-type="dfn" href="#xrsession-next-animation-frame" id="ref-for-xrsession-next-animation-frame⑨">next animation frame</a> indicate to the <code class="idl"><a data-link-type="idl" href="https://immersive-web.github.io/webxr/#xrsession" id="ref-for-xrsession④">XRSession</a></code> that the corresponding <a data-link-type="dfn">XR input source’s</a> <a data-link-type="dfn">primary action</a> has started.</p>
    </ol>
   </div>
   <div class="algorithm" data-algorithm="stop-a-primary-action">
     To <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="stop-a-primary-action">stop a primary action</dfn> on a <a data-link-type="dfn" href="#simulated-xr-input-source" id="ref-for-simulated-xr-input-source①④">simulated XR input source</a> run the following steps: 
    <ol>
     <li data-md>
      <p>If <a data-link-type="dfn" href="#simulated-xr-input-source-primaryactionstarted" id="ref-for-simulated-xr-input-source-primaryactionstarted②">primaryActionStarted</a> is false, abort these steps.</p>
     <li data-md>
      <p>Set <a data-link-type="dfn" href="#simulated-xr-input-source-primaryactionstarted" id="ref-for-simulated-xr-input-source-primaryactionstarted③">primaryActionStarted</a> to false.</p>
     <li data-md>
      <p>By the <a data-link-type="dfn" href="#xrsession-next-animation-frame" id="ref-for-xrsession-next-animation-frame①⓪">next animation frame</a> indicate to the <code class="idl"><a data-link-type="idl" href="https://immersive-web.github.io/webxr/#xrsession" id="ref-for-xrsession⑤">XRSession</a></code> that the corresponding <a data-link-type="dfn">XR input source’s</a> <a data-link-type="dfn">primary action</a> has stopped.</p>
    </ol>
   </div>
   <div class="algorithm" data-algorithm="simulate-a-full-primary-action">
     To <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="simulate-a-full-primary-action">simulate a full primary action</dfn> on a <a data-link-type="dfn" href="#simulated-xr-input-source" id="ref-for-simulated-xr-input-source①⑤">simulated XR input source</a> <var>source</var>, run the following steps: 
    <ol>
     <li data-md>
      <p>Let <var>current</var> be the current value of <a data-link-type="dfn" href="#simulated-xr-input-source-primaryactionstarted" id="ref-for-simulated-xr-input-source-primaryactionstarted④">primaryActionStarted</a>.</p>
     <li data-md>
      <p>Run <a data-link-type="dfn" href="#start-a-primary-action" id="ref-for-start-a-primary-action①">start a primary action</a> on <var>source</var></p>
     <li data-md>
      <p>Run <a data-link-type="dfn" href="#stop-a-primary-action" id="ref-for-stop-a-primary-action">stop a primary action</a> on <var>source</var></p>
     <li data-md>
      <p>If <var>current</var> is <code>true</code> run <a data-link-type="dfn" href="#start-a-primary-action" id="ref-for-start-a-primary-action②">start a primary action</a> on <var>source</var></p>
    </ol>
   </div>
   <p class="note" role="note"><span class="marker">Note:</span> If a gamepad is attached to the <a data-link-type="dfn" href="#simulated-xr-input-source" id="ref-for-simulated-xr-input-source①⑥">simulated XR input source</a>, then running <a data-link-type="dfn" href="#start-a-primary-action" id="ref-for-start-a-primary-action③">start a primary action</a> or <a data-link-type="dfn" href="#stop-a-primary-action" id="ref-for-stop-a-primary-action①">stop a primary action</a> should also ensure that the primary input’s corresponding gamepad button is updated accordingly.</p>
   <p class="note" role="note"><span class="marker">Note:</span> If both <a data-link-type="dfn" href="#start-a-primary-action" id="ref-for-start-a-primary-action④">start a primary action</a> and <a data-link-type="dfn" href="#stop-a-primary-action" id="ref-for-stop-a-primary-action②">stop a primary action</a> are run in the same frame, then by the <a data-link-type="dfn" href="#xrsession-next-animation-frame" id="ref-for-xrsession-next-animation-frame①①">next animation frame</a> It is expected that <code class="idl"><a data-link-type="idl" href="https://immersive-web.github.io/webxr/#dom-xrsession-onselect" id="ref-for-dom-xrsession-onselect">onselect</a></code> and <code class="idl"><a data-link-type="idl" href="https://immersive-web.github.io/webxr/#dom-xrsession-onselectend" id="ref-for-dom-xrsession-onselectend">onselectend</a></code> events will fire.</p>
   <div class="algorithm" data-algorithm="parse-supported-buttons">
     To <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="parse-supported-buttons">parse supported buttons</dfn> on a sequence of <code class="idl"><a data-link-type="idl" href="#dictdef-fakexrbuttonstateinit" id="ref-for-dictdef-fakexrbuttonstateinit④">FakeXRButtonStateInit</a></code>s, <var>buttons</var> run the following steps: 
    <ol>
     <li data-md>
      <p>Let <var>l</var> be an empty list of <code class="idl"><a data-link-type="idl" href="#dictdef-fakexrbuttonstateinit" id="ref-for-dictdef-fakexrbuttonstateinit⑤">FakeXRButtonStateInit</a></code>s</p>
     <li data-md>
      <p>For each <var>button</var> in <var>buttons</var>:</p>
      <ol>
       <li data-md>
        <p>If <var>l</var> does not contain a <code class="idl"><a data-link-type="idl" href="#dictdef-fakexrbuttonstateinit" id="ref-for-dictdef-fakexrbuttonstateinit⑥">FakeXRButtonStateInit</a></code> whose <code class="idl"><a data-link-type="idl" href="#dom-fakexrbuttonstateinit-buttontype" id="ref-for-dom-fakexrbuttonstateinit-buttontype">buttonType</a></code> matches <var>button</var>’s <code class="idl"><a data-link-type="idl" href="#dom-fakexrbuttonstateinit-buttontype" id="ref-for-dom-fakexrbuttonstateinit-buttontype①">buttonType</a></code>, append <var>button</var> to <var>l</var>.</p>
      </ol>
     <li data-md>
      <p>Return <var>l</var></p>
    </ol>
   </div>
   <p>The <dfn class="dfn-paneled idl-code" data-dfn-for="FakeXRInputController" data-dfn-type="method" data-export id="dom-fakexrinputcontroller-sethandedness"><code>setHandedness(<var>handedness</var>)</code></dfn> method will, by the <a data-link-type="dfn" href="#xrsession-next-animation-frame" id="ref-for-xrsession-next-animation-frame①②">next animation frame</a>, set <a data-link-type="dfn" href="#fakexrinputcontroller-inputsource" id="ref-for-fakexrinputcontroller-inputsource①">inputSource</a>'s <a data-link-type="dfn" href="#simulated-xr-input-source-handedness" id="ref-for-simulated-xr-input-source-handedness①">handedness</a> to <var>handedness</var>.</p>
   <p>The <dfn class="dfn-paneled idl-code" data-dfn-for="FakeXRInputController" data-dfn-type="method" data-export id="dom-fakexrinputcontroller-settargetraymode"><code>setTargetRayMode(<var>targetRayMode</var>)</code></dfn> method will, by the <a data-link-type="dfn" href="#xrsession-next-animation-frame" id="ref-for-xrsession-next-animation-frame①③">next animation frame</a>, set <a data-link-type="dfn" href="#fakexrinputcontroller-inputsource" id="ref-for-fakexrinputcontroller-inputsource②">inputSource</a>'s <a data-link-type="dfn" href="#simulated-xr-input-source-targetraymode" id="ref-for-simulated-xr-input-source-targetraymode①">targetRayMode</a> to <var>targetRayMode</var>.</p>
   <p>The <dfn class="dfn-paneled idl-code" data-dfn-for="FakeXRInputController" data-dfn-type="method" data-export id="dom-fakexrinputcontroller-setprofiles"><code>setProfiles(<var>profiles</var>)</code></dfn> method will, by the <a data-link-type="dfn" href="#xrsession-next-animation-frame" id="ref-for-xrsession-next-animation-frame①④">next animation frame</a>, set <a data-link-type="dfn" href="#fakexrinputcontroller-inputsource" id="ref-for-fakexrinputcontroller-inputsource③">inputSource</a>'s <a data-link-type="dfn" href="#simulated-xr-input-source-profiles" id="ref-for-simulated-xr-input-source-profiles①">profiles</a> to <var>profiles</var>.</p>
   <p>The <dfn class="dfn-paneled idl-code" data-dfn-for="FakeXRInputController" data-dfn-type="method" data-export data-lt="setGripOrigin(gripOrigin, emulatedPosition)|setGripOrigin(gripOrigin)" id="dom-fakexrinputcontroller-setgriporigin"><code>setGripOrigin(<var>gripOrigin</var>)</code></dfn> method will, by the <a data-link-type="dfn" href="#xrsession-next-animation-frame" id="ref-for-xrsession-next-animation-frame①⑤">next animation frame</a>, set <a data-link-type="dfn" href="#fakexrinputcontroller-inputsource" id="ref-for-fakexrinputcontroller-inputsource④">inputSource</a>'s <a data-link-type="dfn" href="#simulated-xr-input-source-griporigin" id="ref-for-simulated-xr-input-source-griporigin①">gripOrigin</a> to the result of running <a data-link-type="dfn" href="#parse-a-rigid-transform" id="ref-for-parse-a-rigid-transform⑤">parse a rigid transform</a> on <var>gripOrigin</var>.</p>
   <p>The <dfn class="dfn-paneled idl-code" data-dfn-for="FakeXRInputController" data-dfn-type="method" data-export id="dom-fakexrinputcontroller-cleargriporigin"><code>clearGripOrigin()</code></dfn> method will, by the <a data-link-type="dfn" href="#xrsession-next-animation-frame" id="ref-for-xrsession-next-animation-frame①⑥">next animation frame</a>, set <a data-link-type="dfn" href="#fakexrinputcontroller-inputsource" id="ref-for-fakexrinputcontroller-inputsource⑤">inputSource</a>'s <a data-link-type="dfn" href="#simulated-xr-input-source-griporigin" id="ref-for-simulated-xr-input-source-griporigin②">gripOrigin</a> to <code>null</code>.</p>
   <p>The <dfn class="dfn-paneled idl-code" data-dfn-for="FakeXRInputController" data-dfn-type="method" data-export data-lt="setPointerOrigin(pointerOrigin, emulatedPosition)|setPointerOrigin(pointerOrigin)" id="dom-fakexrinputcontroller-setpointerorigin"><code>setPointerOrigin(<var>pointerOrigin</var>)</code></dfn> method will, by the <a data-link-type="dfn" href="#xrsession-next-animation-frame" id="ref-for-xrsession-next-animation-frame①⑦">next animation frame</a>, set <a data-link-type="dfn" href="#fakexrinputcontroller-inputsource" id="ref-for-fakexrinputcontroller-inputsource⑥">inputSource</a>'s <a data-link-type="dfn" href="#simulated-xr-input-source-pointerorigin" id="ref-for-simulated-xr-input-source-pointerorigin①">pointerOrigin</a> to the result of running <a data-link-type="dfn" href="#parse-a-rigid-transform" id="ref-for-parse-a-rigid-transform⑥">parse a rigid transform</a> on <var>pointerOrigin</var>.</p>
   <div class="algorithm" data-algorithm="fakexrinputcontroller-disconnect">
     The <dfn class="dfn-paneled idl-code" data-dfn-for="FakeXRInputController" data-dfn-type="method" data-export id="dom-fakexrinputcontroller-disconnect"><code>disconnect()</code></dfn> method will run the following steps: 
    <ol>
     <li data-md>
      <p>If <a data-link-type="dfn" href="#fakexrinputcontroller-inputsource" id="ref-for-fakexrinputcontroller-inputsource⑦">inputSource</a>'s <a data-link-type="dfn" href="#simulated-xr-input-source-connectionstate" id="ref-for-simulated-xr-input-source-connectionstate">connectionState</a> is <code>false</code>, abort these steps.</p>
     <li data-md>
      <p>Set <a data-link-type="dfn" href="#fakexrinputcontroller-inputsource" id="ref-for-fakexrinputcontroller-inputsource⑧">inputSource</a>'s <a data-link-type="dfn" href="#simulated-xr-input-source-connectionstate" id="ref-for-simulated-xr-input-source-connectionstate①">connectionState</a> to <code>false</code>.</p>
     <li data-md>
      <p>By the <a data-link-type="dfn" href="#xrsession-next-animation-frame" id="ref-for-xrsession-next-animation-frame①⑧">next animation frame</a>, notify the <code class="idl"><a data-link-type="idl" href="https://immersive-web.github.io/webxr/#xrsession" id="ref-for-xrsession⑥">XRSession</a></code> that this <a data-link-type="dfn">XR input source</a> has been removed.</p>
    </ol>
   </div>
   <div class="algorithm" data-algorithm="fakexrinputcontroller-reconnect">
     The <dfn class="dfn-paneled idl-code" data-dfn-for="FakeXRInputController" data-dfn-type="method" data-export id="dom-fakexrinputcontroller-reconnect"><code>reconnect()</code></dfn> method will run the following steps: 
    <ol>
     <li data-md>
      <p>If <a data-link-type="dfn" href="#fakexrinputcontroller-inputsource" id="ref-for-fakexrinputcontroller-inputsource⑨">inputSource</a>'s <a data-link-type="dfn" href="#simulated-xr-input-source-connectionstate" id="ref-for-simulated-xr-input-source-connectionstate②">connectionState</a> is <code>true</code>, abort these steps.</p>
     <li data-md>
      <p>Set <a data-link-type="dfn" href="#fakexrinputcontroller-inputsource" id="ref-for-fakexrinputcontroller-inputsource①⓪">inputSource</a>'s <a data-link-type="dfn" href="#simulated-xr-input-source-connectionstate" id="ref-for-simulated-xr-input-source-connectionstate③">connectionState</a> to <code>true</code>.</p>
     <li data-md>
      <p>By the <a data-link-type="dfn" href="#xrsession-next-animation-frame" id="ref-for-xrsession-next-animation-frame①⑨">next animation frame</a>, notify the <code class="idl"><a data-link-type="idl" href="https://immersive-web.github.io/webxr/#xrsession" id="ref-for-xrsession⑦">XRSession</a></code> that this <a data-link-type="dfn">XR input source</a> has been added.</p>
    </ol>
   </div>
   <p>The <dfn class="dfn-paneled idl-code" data-dfn-for="FakeXRInputController" data-dfn-type="method" data-export id="dom-fakexrinputcontroller-startselection"><code>startSelection()</code></dfn> method will run <a data-link-type="dfn" href="#start-a-primary-action" id="ref-for-start-a-primary-action⑤">start a primary action</a> on <a data-link-type="dfn" href="#fakexrinputcontroller-inputsource" id="ref-for-fakexrinputcontroller-inputsource①①">inputSource</a>.</p>
   <p>The <dfn class="dfn-paneled idl-code" data-dfn-for="FakeXRInputController" data-dfn-type="method" data-export id="dom-fakexrinputcontroller-endselection"><code>endSelection()</code></dfn> method will run <a data-link-type="dfn" href="#stop-a-primary-action" id="ref-for-stop-a-primary-action③">stop a primary action</a> on <a data-link-type="dfn" href="#fakexrinputcontroller-inputsource" id="ref-for-fakexrinputcontroller-inputsource①②">inputSource</a>.</p>
   <p>The <dfn class="dfn-paneled idl-code" data-dfn-for="FakeXRInputController" data-dfn-type="method" data-export id="dom-fakexrinputcontroller-simulateselect"><code>simulateSelect()</code></dfn> method will run <a data-link-type="dfn" href="#simulate-a-full-primary-action" id="ref-for-simulate-a-full-primary-action①">simulate a full primary action</a> on <a data-link-type="dfn" href="#fakexrinputcontroller-inputsource" id="ref-for-fakexrinputcontroller-inputsource①③">inputSource</a>.</p>
   <p>The <dfn class="dfn-paneled idl-code" data-dfn-for="FakeXRInputController" data-dfn-type="method" data-export id="dom-fakexrinputcontroller-setsupportedbuttons"><code>setSupportedButtons(<var>supportedButtons</var>)</code></dfn> will, by the <a data-link-type="dfn" href="#xrsession-next-animation-frame" id="ref-for-xrsession-next-animation-frame②⓪">next animation frame</a>, set <a data-link-type="dfn" href="#fakexrinputcontroller-inputsource" id="ref-for-fakexrinputcontroller-inputsource①④">inputSource</a>'s <a data-link-type="dfn" href="#simulated-xr-input-source-buttonstate" id="ref-for-simulated-xr-input-source-buttonstate②">buttonState</a> to the result of running <a data-link-type="dfn" href="#parse-supported-buttons" id="ref-for-parse-supported-buttons①">parse supported buttons</a> on <var>supportedButtons</var>.</p>
   <p class="note" role="note"><span class="marker">Note:</span> As user agents may recreate the <code class="idl"><a data-link-type="idl" href="https://immersive-web.github.io/webxr/#xrinputsource" id="ref-for-xrinputsource">XRInputSource</a></code> or <code class="idl"><a data-link-type="idl" href="https://immersive-web.github.io/webxr-gamepads-module/#dom-xrinputsource-gamepad" id="ref-for-dom-xrinputsource-gamepad①">gamepad</a></code> objects on buttons being changed, this method SHOULD NOT be used to simulate changes to button state.</p>
   <div class="algorithm" data-algorithm="update-button-state">
     The <dfn class="dfn-paneled idl-code" data-dfn-for="FakeXRInputController" data-dfn-type="method" data-export id="dom-fakexrinputcontroller-updatebuttonstate"><code>updateButtonState(<var>buttonState</var>)</code></dfn> will run the following steps: 
    <ol>
     <li data-md>
      <p>Let <var>validState</var> equal the results of running <a data-link-type="dfn" href="#validate-a-button-state" id="ref-for-validate-a-button-state">validate a button state</a> on <var>buttonState</var>.</p>
     <li data-md>
      <p>Let <var>foundState</var> be <code>null</code>.</p>
     <li data-md>
      <p>For every <var>state</var> in <a data-link-type="dfn" href="#fakexrinputcontroller-inputsource" id="ref-for-fakexrinputcontroller-inputsource①⑤">inputSource</a>'s <a data-link-type="dfn" href="#simulated-xr-input-source-buttonstate" id="ref-for-simulated-xr-input-source-buttonstate③">buttonState</a> array:</p>
      <ol>
       <li data-md>
        <p>If <var>state</var>’s <code class="idl"><a data-link-type="idl" href="#dom-fakexrbuttonstateinit-buttontype" id="ref-for-dom-fakexrbuttonstateinit-buttontype②">buttonType</a></code> matches <var>buttonState</var>’s <code class="idl"><a data-link-type="idl" href="#dom-fakexrbuttonstateinit-buttontype" id="ref-for-dom-fakexrbuttonstateinit-buttontype③">buttonType</a></code>:</p>
        <ol>
         <li data-md>
          <p>Set <var>foundState</var> to a reference of <var>state</var></p>
         <li data-md>
          <p>Break out of this loop</p>
        </ol>
      </ol>
     <li data-md>
      <p>If <var>foundState</var> is <code>null</code> throw a <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#notfounderror" id="ref-for-notfounderror">NotFoundError</a></code></p>
     <li data-md>
      <p>Update <var>foundState</var>’s attributes in <a data-link-type="dfn" href="#fakexrinputcontroller-inputsource" id="ref-for-fakexrinputcontroller-inputsource①⑥">inputSource</a>'s <a data-link-type="dfn" href="#simulated-xr-input-source-buttonstate" id="ref-for-simulated-xr-input-source-buttonstate④">buttonState</a> to match those of <var>validState</var>. Note: If <code class="idl"><a data-link-type="idl" href="#dom-fakexrbuttonstateinit-buttontype" id="ref-for-dom-fakexrbuttonstateinit-buttontype④">buttonType</a></code> is <code class="idl"><a data-link-type="idl" href="#dom-fakexrbuttontype-grip" id="ref-for-dom-fakexrbuttontype-grip①">grip</a></code>, then <a data-link-type="dfn">XR input source</a>'s <a data-link-type="dfn">primary squeeze action</a> should be updated.</p>
    </ol>
   </div>
   <div class="algorithm" data-algorithm="validate-a-button-state">
     To <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="validate-a-button-state">validate a button state</dfn> on a <code class="idl"><a data-link-type="idl" href="#dictdef-fakexrbuttonstateinit" id="ref-for-dictdef-fakexrbuttonstateinit⑦">FakeXRButtonStateInit</a></code> <var>buttonState</var> run the following steps: 
    <ol>
     <li data-md>
      <p>Let <var>validState</var> equal <var>buttonState</var>.</p>
     <li data-md>
      <p>If <code class="idl"><a data-link-type="idl" href="#dom-fakexrbuttonstateinit-pressed" id="ref-for-dom-fakexrbuttonstateinit-pressed">pressed</a></code> is <code>true</code> and <code class="idl"><a data-link-type="idl" href="#dom-fakexrbuttonstateinit-touched" id="ref-for-dom-fakexrbuttonstateinit-touched">touched</a></code> is <code>false</code>, throw a <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#exceptiondef-typeerror" id="ref-for-exceptiondef-typeerror⑤">TypeError</a></code>.</p>
     <li data-md>
      <p>If <code class="idl"><a data-link-type="idl" href="#dom-fakexrbuttonstateinit-pressedvalue" id="ref-for-dom-fakexrbuttonstateinit-pressedvalue">pressedValue</a></code> is less than <code>0.0</code>, throw a <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#exceptiondef-typeerror" id="ref-for-exceptiondef-typeerror⑥">TypeError</a></code>.</p>
     <li data-md>
      <p>If <code class="idl"><a data-link-type="idl" href="#dom-fakexrbuttonstateinit-pressedvalue" id="ref-for-dom-fakexrbuttonstateinit-pressedvalue①">pressedValue</a></code> is greater than <code>0.0</code> and <code class="idl"><a data-link-type="idl" href="#dom-fakexrbuttonstateinit-touched" id="ref-for-dom-fakexrbuttonstateinit-touched①">touched</a></code> is <code>false</code> throw a <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#exceptiondef-typeerror" id="ref-for-exceptiondef-typeerror⑦">TypeError</a></code>.</p>
     <li data-md>
      <p>If <code class="idl"><a data-link-type="idl" href="#dom-fakexrbuttonstateinit-buttontype" id="ref-for-dom-fakexrbuttonstateinit-buttontype⑤">buttonType</a></code> is not one of: <code class="idl"><a data-link-type="idl" href="#dom-fakexrbuttontype-touchpad" id="ref-for-dom-fakexrbuttontype-touchpad">"touchpad"</a></code>, <code class="idl"><a data-link-type="idl" href="#dom-fakexrbuttontype-thumbstick" id="ref-for-dom-fakexrbuttontype-thumbstick">"thumbstick"</a></code>, or <code class="idl"><a data-link-type="idl" href="#dom-fakexrbuttontype-optional-thumbstick" id="ref-for-dom-fakexrbuttontype-optional-thumbstick">"optional-thumbstick"</a></code>:</p>
      <ol>
       <li data-md>
        <p>Set <var>validState</var>’s <code class="idl"><a data-link-type="idl" href="#dom-fakexrbuttonstateinit-xvalue" id="ref-for-dom-fakexrbuttonstateinit-xvalue">xValue</a></code> to <code>0.0</code>.</p>
       <li data-md>
        <p>Set <var>validState</var>’s <code class="idl"><a data-link-type="idl" href="#dom-fakexrbuttonstateinit-yvalue" id="ref-for-dom-fakexrbuttonstateinit-yvalue">yValue</a></code> to <code>0.0</code>.</p>
      </ol>
     <li data-md>
      <p>Return <var>validState</var>.</p>
    </ol>
   </div>
   <h2 class="heading settled" data-level="6" id="hit-test-extensions"><span class="secno">6. </span><span class="content">Hit test extensions</span><a class="self-link" href="#hit-test-extensions"></a></h2>
   <p>The hit test extensions for test API SHOULD be implemented by all user agents that implement <a href="https://immersive-web.github.io/hit-test/">WebXR Hit Test Module</a>.</p>
<pre class="idl highlight def"><c- b>dictionary</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="dictionary" data-export id="dictdef-fakexrworldinit"><code><c- g>FakeXRWorldInit</c-></code></dfn> {
  <c- b>required</c-> <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#idl-sequence" id="ref-for-idl-sequence①③"><c- b>sequence</c-></a>&lt;<a data-link-type="idl-name" href="#dictdef-fakexrregioninit" id="ref-for-dictdef-fakexrregioninit"><c- n>FakeXRRegionInit</c-></a>> <dfn class="dfn-paneled idl-code" data-dfn-for="FakeXRWorldInit" data-dfn-type="dict-member" data-export data-type="sequence<FakeXRRegionInit> " id="dom-fakexrworldinit-hittestregions"><code><c- g>hitTestRegions</c-></code></dfn>;
};

</pre>
   <p><code class="idl"><a data-link-type="idl" href="#dictdef-fakexrworldinit" id="ref-for-dictdef-fakexrworldinit②">FakeXRWorldInit</a></code> dictionary describes the state of the world that will be used when computing hit test results on a <code class="idl"><a data-link-type="idl" href="#fakexrdevice" id="ref-for-fakexrdevice⑥">FakeXRDevice</a></code>.</p>
   <p><code class="idl"><a data-link-type="idl" href="#dom-fakexrworldinit-hittestregions" id="ref-for-dom-fakexrworldinit-hittestregions">hitTestRegions</a></code> contains a collection of <code class="idl"><a data-link-type="idl" href="#dictdef-fakexrregioninit" id="ref-for-dictdef-fakexrregioninit①">FakeXRRegionInit</a></code>s that are used to describe specific regions of the fake world. The order of the regions does not matter.</p>
<pre class="idl highlight def"><c- b>dictionary</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="dictionary" data-export id="dictdef-fakexrregioninit"><code><c- g>FakeXRRegionInit</c-></code></dfn> {
  <c- b>required</c-> <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#idl-sequence" id="ref-for-idl-sequence①④"><c- b>sequence</c-></a>&lt;<a data-link-type="idl-name" href="#dictdef-fakexrtriangleinit" id="ref-for-dictdef-fakexrtriangleinit"><c- n>FakeXRTriangleInit</c-></a>> <dfn class="dfn-paneled idl-code" data-dfn-for="FakeXRRegionInit" data-dfn-type="dict-member" data-export data-type="sequence<FakeXRTriangleInit> " id="dom-fakexrregioninit-faces"><code><c- g>faces</c-></code></dfn>;
  <c- b>required</c-> <a data-link-type="idl-name" href="#enumdef-fakexrregiontype" id="ref-for-enumdef-fakexrregiontype"><c- n>FakeXRRegionType</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="FakeXRRegionInit" data-dfn-type="dict-member" data-export data-type="FakeXRRegionType " id="dom-fakexrregioninit-type"><code><c- g>type</c-></code></dfn>;
};

</pre>
   <p><code class="idl"><a data-link-type="idl" href="#dictdef-fakexrregioninit" id="ref-for-dictdef-fakexrregioninit②">FakeXRRegionInit</a></code> dictionary describes the contents of a specific region of the world.</p>
   <p><code class="idl"><a data-link-type="idl" href="#dom-fakexrregioninit-faces" id="ref-for-dom-fakexrregioninit-faces">faces</a></code> contains a collection of <code class="idl"><a data-link-type="idl" href="#dictdef-fakexrtriangleinit" id="ref-for-dictdef-fakexrtriangleinit①">FakeXRTriangleInit</a></code>s that enumerate all the faces contained by the region. The order of the faces does not matter.</p>
   <p><code class="idl"><a data-link-type="idl" href="#dom-fakexrregioninit-type" id="ref-for-dom-fakexrregioninit-type">type</a></code> contains a type of the region that will be used during computation of hit test results.</p>
<pre class="idl highlight def"><c- b>dictionary</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="dictionary" data-export id="dictdef-fakexrtriangleinit"><code><c- g>FakeXRTriangleInit</c-></code></dfn> {
  <c- b>required</c-> <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#idl-sequence" id="ref-for-idl-sequence①⑤"><c- b>sequence</c-></a>&lt;<a data-link-type="idl-name" href="https://drafts.fxtf.org/geometry-1/#dictdef-dompointinit" id="ref-for-dictdef-dompointinit②"><c- n>DOMPointInit</c-></a>> <dfn class="dfn-paneled idl-code" data-dfn-for="FakeXRTriangleInit" data-dfn-type="dict-member" data-export data-type="sequence<DOMPointInit> " id="dom-fakexrtriangleinit-vertices"><code><c- g>vertices</c-></code></dfn>;  // size = 3
};

</pre>
   <p><code class="idl"><a data-link-type="idl" href="#dictdef-fakexrtriangleinit" id="ref-for-dictdef-fakexrtriangleinit②">FakeXRTriangleInit</a></code> dictionary describes a single face of a region.</p>
   <p><code class="idl"><a data-link-type="idl" href="#dom-fakexrtriangleinit-vertices" id="ref-for-dom-fakexrtriangleinit-vertices">vertices</a></code> contains a collection of <code class="idl"><a data-link-type="idl" href="https://drafts.fxtf.org/geometry-1/#dictdef-dompointinit" id="ref-for-dictdef-dompointinit③">DOMPointInit</a></code>s that comprise the face. The face will be considered as solid when computing hit test results and as such, the winding order of the vertices does not matter.</p>
<pre class="idl highlight def"><c- b>enum</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="enum" data-export id="enumdef-fakexrregiontype"><code><c- g>FakeXRRegionType</c-></code></dfn> {
  <dfn class="idl-code" data-dfn-for="FakeXRRegionType" data-dfn-type="enum-value" data-export id="dom-fakexrregiontype-point"><code><c- s>"point"</c-></code><a class="self-link" href="#dom-fakexrregiontype-point"></a></dfn>,
  <dfn class="idl-code" data-dfn-for="FakeXRRegionType" data-dfn-type="enum-value" data-export id="dom-fakexrregiontype-plane"><code><c- s>"plane"</c-></code><a class="self-link" href="#dom-fakexrregiontype-plane"></a></dfn>,
  <dfn class="idl-code" data-dfn-for="FakeXRRegionType" data-dfn-type="enum-value" data-export id="dom-fakexrregiontype-mesh"><code><c- s>"mesh"</c-></code><a class="self-link" href="#dom-fakexrregiontype-mesh"></a></dfn>
};

</pre>
   <p><code class="idl"><a data-link-type="idl" href="#enumdef-fakexrregiontype" id="ref-for-enumdef-fakexrregiontype①">FakeXRRegionType</a></code> enum is used to describe a type of the world region.</p>
   <h2 class="heading settled" data-level="7" id="dom-overlay-extensions"><span class="secno">7. </span><span class="content">DOM overlay extensions</span><a class="self-link" href="#dom-overlay-extensions"></a></h2>
   <p>The DOM Overlay extensions for test API SHOULD be implemented by all user agents that implement <a href="https://immersive-web.github.io/dom-overlays/">WebXR DOM Overlay Module</a>.</p>
<pre class="idl highlight def"><c- b>partial</c-> <c- b>interface</c-> <a class="idl-code" data-link-type="interface" href="#fakexrinputcontroller" id="ref-for-fakexrinputcontroller⑤"><c- g>FakeXRInputController</c-></a> {
  <a data-link-type="idl-name"><c- n>void</c-></a> <a class="idl-code" data-link-type="method" href="#dom-fakexrinputcontroller-setoverlaypointerposition" id="ref-for-dom-fakexrinputcontroller-setoverlaypointerposition"><c- g>setOverlayPointerPosition</c-></a>(<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-float" id="ref-for-idl-float①⓪"><c- b>float</c-></a> <dfn class="idl-code" data-dfn-for="FakeXRInputController/setOverlayPointerPosition(x, y)" data-dfn-type="argument" data-export id="dom-fakexrinputcontroller-setoverlaypointerposition-x-y-x"><code><c- g>x</c-></code><a class="self-link" href="#dom-fakexrinputcontroller-setoverlaypointerposition-x-y-x"></a></dfn>, <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-float" id="ref-for-idl-float①①"><c- b>float</c-></a> <dfn class="idl-code" data-dfn-for="FakeXRInputController/setOverlayPointerPosition(x, y)" data-dfn-type="argument" data-export id="dom-fakexrinputcontroller-setoverlaypointerposition-x-y-y"><code><c- g>y</c-></code><a class="self-link" href="#dom-fakexrinputcontroller-setoverlaypointerposition-x-y-y"></a></dfn>);
};
</pre>
   <p>When <dfn class="dfn-paneled idl-code" data-dfn-for="FakeXRInputController" data-dfn-type="method" data-export id="dom-fakexrinputcontroller-setoverlaypointerposition"><code>setOverlayPointerPosition(x, y)</code></dfn> is called, it sets a position within the DOM overlay in DOM coordinates for the next <a data-link-type="dfn">XR animation frame</a>, and is cleared after that frame. It is intended to be used along with a <a data-link-type="dfn">primary action</a> for that frame, simulating that the user is interacting with the DOM overlay. The UA will emit a <a data-link-type="dfn" href="https://immersive-web.github.io/dom-overlays#beforexrselect" id="ref-for-beforexrselect">beforexrselect</a> event at this location before generating XR select events.</p>
   <h2 class="heading settled" data-level="8" id="anchors-extensions"><span class="secno">8. </span><span class="content">Anchors extensions</span><a class="self-link" href="#anchors-extensions"></a></h2>
   <p>The anchors extensions for test API SHOULD be implemented by all user agents that implement <a href="https://immersive-web.github.io/anchors/">WebXR Anchors</a>.</p>
<pre class="idl highlight def"><c- b>dictionary</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="dictionary" data-export id="dictdef-fakexranchorcreationparameters"><code><c- g>FakeXRAnchorCreationParameters</c-></code></dfn> {
  <a data-link-type="idl-name" href="#dictdef-fakexrrigidtransforminit" id="ref-for-dictdef-fakexrrigidtransforminit①②"><c- n>FakeXRRigidTransformInit</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="FakeXRAnchorCreationParameters" data-dfn-type="dict-member" data-export data-type="FakeXRRigidTransformInit " id="dom-fakexranchorcreationparameters-requestedanchororigin"><code><c- g>requestedAnchorOrigin</c-></code></dfn>;
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-boolean" id="ref-for-idl-boolean⑧"><c- b>boolean</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="FakeXRAnchorCreationParameters" data-dfn-type="dict-member" data-export data-type="boolean " id="dom-fakexranchorcreationparameters-isattachedtoentity"><code><c- g>isAttachedToEntity</c-></code></dfn>;
};

<c- b>callback</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="callback" data-export id="callbackdef-fakexranchorcreationcallback"><code><c- g>FakeXRAnchorCreationCallback</c-></code></dfn> = <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise" id="ref-for-idl-promise③"><c- b>Promise</c-></a>&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-boolean" id="ref-for-idl-boolean⑨"><c- b>boolean</c-></a>> (<a data-link-type="idl-name" href="#dictdef-fakexranchorcreationparameters" id="ref-for-dictdef-fakexranchorcreationparameters"><c- n>FakeXRAnchorCreationParameters</c-></a> <dfn class="idl-code" data-dfn-for="FakeXRAnchorCreationCallback" data-dfn-type="argument" data-export id="dom-fakexranchorcreationcallback-parameters"><code><c- g>parameters</c-></code><a class="self-link" href="#dom-fakexranchorcreationcallback-parameters"></a></dfn>, <a data-link-type="idl-name" href="#fakexranchorcontroller" id="ref-for-fakexranchorcontroller"><c- n>FakeXRAnchorController</c-></a> <dfn class="idl-code" data-dfn-for="FakeXRAnchorCreationCallback" data-dfn-type="argument" data-export id="dom-fakexranchorcreationcallback-anchorcontroller"><code><c- g>anchorController</c-></code><a class="self-link" href="#dom-fakexranchorcreationcallback-anchorcontroller"></a></dfn>);

<c- b>partial</c-> <c- b>interface</c-> <a class="idl-code" data-link-type="interface" href="#fakexrdevice" id="ref-for-fakexrdevice⑦"><c- g>FakeXRDevice</c-></a> {
  <a data-link-type="idl-name"><c- n>void</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="FakeXRDevice" data-dfn-type="method" data-export data-lt="setAnchorCreationCallback(callback)" id="dom-fakexrdevice-setanchorcreationcallback"><code><c- g>setAnchorCreationCallback</c-></code></dfn>(<a data-link-type="idl-name" href="#callbackdef-fakexranchorcreationcallback" id="ref-for-callbackdef-fakexranchorcreationcallback"><c- n>FakeXRAnchorCreationCallback</c-></a>? <dfn class="idl-code" data-dfn-for="FakeXRDevice/setAnchorCreationCallback(callback)" data-dfn-type="argument" data-export id="dom-fakexrdevice-setanchorcreationcallback-callback-callback"><code><c- g>callback</c-></code><a class="self-link" href="#dom-fakexrdevice-setanchorcreationcallback-callback-callback"></a></dfn>);
};

</pre>
   <p>The <code class="idl"><a data-link-type="idl" href="#callbackdef-fakexranchorcreationcallback" id="ref-for-callbackdef-fakexranchorcreationcallback①">FakeXRAnchorCreationCallback</a></code> callback can be used by the Web Platform Tests to control the result of a call to create an anchor, and to be able to subsequently control the newly created anchor.</p>
   <p>The <code class="idl"><a data-link-type="idl" href="#fakexrdevice" id="ref-for-fakexrdevice⑧">FakeXRDevice</a></code> interface is extended with internal <dfn class="dfn-paneled" data-dfn-for="FakeXRDevice" data-dfn-type="dfn" data-noexport id="fakexrdevice-anchorcreationcallback">anchorCreationCallback</dfn>, initially set to <code>null</code>. When the device receives a request to create an anchor, it MUST run the <a data-link-type="dfn" href="#determine-if-the-anchor-creation-succeeded" id="ref-for-determine-if-the-anchor-creation-succeeded">determine if the anchor creation succeeded</a> algorithm.</p>
   <div class="algorithm" data-algorithm="determine-if-anchor-creation-succeded">
    <p>In order to <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="determine-if-the-anchor-creation-succeeded">determine if the anchor creation succeeded</dfn>, the <code class="idl"><a data-link-type="idl" href="#fakexrdevice" id="ref-for-fakexrdevice⑨">FakeXRDevice</a></code> <var>device</var> MUST run the following steps:</p>
    <ol>
     <li data-md>
      <p>If the <var>device</var>’s <a data-link-type="dfn" href="#fakexrdevice-anchorcreationcallback" id="ref-for-fakexrdevice-anchorcreationcallback">anchorCreationCallback</a> is <code>null</code>, return <code>false</code> and abort these steps.</p>
     <li data-md>
      <p>Let <var>promise</var> be the result of invoking <a data-link-type="dfn" href="#fakexrdevice-anchorcreationcallback" id="ref-for-fakexrdevice-anchorcreationcallback①">anchorCreationCallback</a> with parameters set so that they reflect the parameters passed to anchor creation request.</p>
     <li data-md>
      <p><a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#dfn-perform-steps-once-promise-is-settled" id="ref-for-dfn-perform-steps-once-promise-is-settled">React</a> to <var>promise</var>:</p>
      <ul>
       <li data-md>
        <p>If <var>promise</var> was fulfilled with value <var>v</var>, then return <var>v</var> and abort these steps.</p>
       <li data-md>
        <p>If <var>promise</var> was rejected, then return <code>false</code> and abort these steps.</p>
      </ul>
    </ol>
   </div>
   <p>The WPTs can set the anchor creation callback by calling <code class="idl"><a data-link-type="idl" href="#dom-fakexrdevice-setanchorcreationcallback" id="ref-for-dom-fakexrdevice-setanchorcreationcallback">setAnchorCreationCallback(callback)</a></code>.</p>
   <p>The <code class="idl"><a data-link-type="idl" href="#dom-fakexranchorcreationparameters-requestedanchororigin" id="ref-for-dom-fakexranchorcreationparameters-requestedanchororigin">requestedAnchorOrigin</a></code> attribute represents a transform expressed relative to <a data-link-type="dfn" href="#base-reference-space" id="ref-for-base-reference-space②">base reference space</a> used by the device.</p>
   <p>The <code class="idl"><a data-link-type="idl" href="#dom-fakexranchorcreationparameters-isattachedtoentity" id="ref-for-dom-fakexranchorcreationparameters-isattachedtoentity">isAttachedToEntity</a></code> attribute will be set to <code>true</code> if the created anchor should be treated as attached to some entity. If so, the tests could emulate entity changing location by appropriately controlling the anchor via <a data-link-type="dfn" href="#fakexranchorcreationcallback-anchorcontroller" id="ref-for-fakexranchorcreationcallback-anchorcontroller">anchorController</a>.</p>
   <p>The <dfn class="dfn-paneled" data-dfn-for="FakeXRAnchorCreationCallback" data-dfn-type="dfn" data-noexport id="fakexranchorcreationcallback-anchorcontroller">anchorController</dfn> parameter passed in to <code class="idl"><a data-link-type="idl" href="#callbackdef-fakexranchorcreationcallback" id="ref-for-callbackdef-fakexranchorcreationcallback②">FakeXRAnchorCreationCallback</a></code> can be used to update the state of the anchor, assuming that the creation request was deemed successful. Tests SHOULD store it and issue commands to it for the entire duration of controlled anchor’s lifetime.</p>
<pre class="idl highlight def"><c- b>interface</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="interface" data-export id="fakexranchorcontroller"><code><c- g>FakeXRAnchorController</c-></code></dfn> {
  <c- b>readonly</c-> <c- b>attribute</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-boolean" id="ref-for-idl-boolean①⓪"><c- b>boolean</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="FakeXRAnchorController" data-dfn-type="attribute" data-export data-readonly data-type="boolean" id="dom-fakexranchorcontroller-deleted"><code><c- g>deleted</c-></code></dfn>;

  // Controlling anchor state:
  <a data-link-type="idl-name"><c- n>void</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="FakeXRAnchorController" data-dfn-type="method" data-export data-lt="pauseTracking()" id="dom-fakexranchorcontroller-pausetracking"><code><c- g>pauseTracking</c-></code></dfn>();
  <a data-link-type="idl-name"><c- n>void</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="FakeXRAnchorController" data-dfn-type="method" data-export data-lt="resumeTracking()" id="dom-fakexranchorcontroller-resumetracking"><code><c- g>resumeTracking</c-></code></dfn>();
  <a data-link-type="idl-name"><c- n>void</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="FakeXRAnchorController" data-dfn-type="method" data-export data-lt="stopTracking()" id="dom-fakexranchorcontroller-stoptracking"><code><c- g>stopTracking</c-></code></dfn>();

  // Controlling anchor location:
  <a data-link-type="idl-name"><c- n>void</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="FakeXRAnchorController" data-dfn-type="method" data-export data-lt="setAnchorOrigin(anchorOrigin)" id="dom-fakexranchorcontroller-setanchororigin"><code><c- g>setAnchorOrigin</c-></code></dfn>(<a data-link-type="idl-name" href="#dictdef-fakexrrigidtransforminit" id="ref-for-dictdef-fakexrrigidtransforminit①③"><c- n>FakeXRRigidTransformInit</c-></a> <dfn class="idl-code" data-dfn-for="FakeXRAnchorController/setAnchorOrigin(anchorOrigin)" data-dfn-type="argument" data-export id="dom-fakexranchorcontroller-setanchororigin-anchororigin-anchororigin"><code><c- g>anchorOrigin</c-></code><a class="self-link" href="#dom-fakexranchorcontroller-setanchororigin-anchororigin-anchororigin"></a></dfn>);
};

</pre>
   <p>Successfully created anchors can be controlled by the test through the use of <code class="idl"><a data-link-type="idl" href="#fakexranchorcontroller" id="ref-for-fakexranchorcontroller①">FakeXRAnchorController</a></code> interface.</p>
   <p>The <code class="idl"><a data-link-type="idl" href="#fakexranchorcontroller" id="ref-for-fakexranchorcontroller②">FakeXRAnchorController</a></code> has an associated internal <dfn class="dfn-paneled" data-dfn-for="FakeXRAnchorController" data-dfn-type="dfn" data-noexport id="fakexranchorcontroller-anchor-origin">anchor origin</dfn>, which is a <code class="idl"><a data-link-type="idl" href="#dictdef-fakexrrigidtransforminit" id="ref-for-dictdef-fakexrrigidtransforminit①④">FakeXRRigidTransformInit</a></code> describing the current state of the anchor’s <a data-link-type="dfn" href="https://immersive-web.github.io/anchors/#xranchor-native-origin" id="ref-for-xranchor-native-origin">native origin</a>.</p>
   <p>The <code class="idl"><a data-link-type="idl" href="#dom-fakexranchorcontroller-deleted" id="ref-for-dom-fakexranchorcontroller-deleted">deleted</a></code> attribute will be set to <code>true</code> when the application has invoked an <code class="idl"><a data-link-type="idl" href="https://immersive-web.github.io/anchors/#dom-xranchor-delete" id="ref-for-dom-xranchor-delete">delete()</a></code> method on the anchor - in that case, the changes to the fake anchor controller will be ignored.</p>
   <p>The <code class="idl"><a data-link-type="idl" href="#dom-fakexranchorcontroller-pausetracking" id="ref-for-dom-fakexranchorcontroller-pausetracking">pauseTracking()</a></code> method can be used by the tests to signal that the controlled anchor is temporarily untracked (i.e. its location will be unknown). Calling this method does not modify <a data-link-type="dfn" href="#fakexranchorcontroller-anchor-origin" id="ref-for-fakexranchorcontroller-anchor-origin">anchor origin</a> of the controller.</p>
   <p>The <code class="idl"><a data-link-type="idl" href="#dom-fakexranchorcontroller-resumetracking" id="ref-for-dom-fakexranchorcontroller-resumetracking">resumeTracking()</a></code> method can be used by the tests to signal that the controlled anchor should have its tracking resumed, if it was temporarily untracked. Calling this method does not modify <a data-link-type="dfn" href="#fakexranchorcontroller-anchor-origin" id="ref-for-fakexranchorcontroller-anchor-origin①">anchor origin</a> of the controller.</p>
   <p>The <code class="idl"><a data-link-type="idl" href="#dom-fakexranchorcontroller-stoptracking" id="ref-for-dom-fakexranchorcontroller-stoptracking">stopTracking()</a></code> method can be used by the tests to signal that the controlled anchor is no longer tracked and that anchor tracking will not be resumed. After calling this method, the other calls on anchor controller will be ignored.</p>
   <p>The <code class="idl"><a data-link-type="idl" href="#dom-fakexranchorcontroller-setanchororigin" id="ref-for-dom-fakexranchorcontroller-setanchororigin">setAnchorOrigin(anchorOrigin)</a></code> method can be used to set the controller’s <a data-link-type="dfn" href="#fakexranchorcontroller-anchor-origin" id="ref-for-fakexranchorcontroller-anchor-origin②">anchor origin</a>. Tests can use this method to simulate updates in anchor pose.</p>
   <h2 class="heading settled" data-level="9" id="lighting-estimation-extensions"><span class="secno">9. </span><span class="content">Lighting estimation extensions</span><a class="self-link" href="#lighting-estimation-extensions"></a></h2>
   <p>The lighting estimation extensions for test API SHOULD be implemented by all user agents that implement <a href="https://immersive-web.github.io/lighting-estimation/">WebXR Lighting Estimation</a>.</p>
<pre class="idl highlight def"><c- b>dictionary</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="dictionary" data-export id="dictdef-fakexrlightestimateinit"><code><c- g>FakeXRLightEstimateInit</c-></code></dfn> {
  <c- b>required</c-> <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#idl-sequence" id="ref-for-idl-sequence①⑥"><c- b>sequence</c-></a>&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-float" id="ref-for-idl-float①②"><c- b>float</c-></a>> <dfn class="dfn-paneled idl-code" data-dfn-for="FakeXRLightEstimateInit" data-dfn-type="dict-member" data-export data-type="sequence<float> " id="dom-fakexrlightestimateinit-sphericalharmonicscoefficients"><code><c- g>sphericalHarmonicsCoefficients</c-></code></dfn>;
  <a data-link-type="idl-name" href="https://drafts.fxtf.org/geometry-1/#dictdef-dompointinit" id="ref-for-dictdef-dompointinit④"><c- n>DOMPointInit</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="FakeXRLightEstimateInit" data-dfn-type="dict-member" data-export data-type="DOMPointInit " id="dom-fakexrlightestimateinit-primarylightdirection"><code><c- g>primaryLightDirection</c-></code></dfn>;
  <a data-link-type="idl-name" href="https://drafts.fxtf.org/geometry-1/#dictdef-dompointinit" id="ref-for-dictdef-dompointinit⑤"><c- n>DOMPointInit</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="FakeXRLightEstimateInit" data-dfn-type="dict-member" data-export data-type="DOMPointInit " id="dom-fakexrlightestimateinit-primarylightintensity"><code><c- g>primaryLightIntensity</c-></code></dfn>;
};

<c- b>partial</c-> <c- b>interface</c-> <a class="idl-code" data-link-type="interface" href="#fakexrdevice" id="ref-for-fakexrdevice①⓪"><c- g>FakeXRDevice</c-></a> {
  <a data-link-type="idl-name"><c- n>void</c-></a> <a class="idl-code" data-link-type="method" href="#dom-fakexrdevice-setlightestimate" id="ref-for-dom-fakexrdevice-setlightestimate"><c- g>setLightEstimate</c-></a>(<a data-link-type="idl-name" href="#dictdef-fakexrlightestimateinit" id="ref-for-dictdef-fakexrlightestimateinit"><c- n>FakeXRLightEstimateInit</c-></a> <dfn class="idl-code" data-dfn-for="FakeXRDevice/setLightEstimate(init)" data-dfn-type="argument" data-export id="dom-fakexrdevice-setlightestimate-init-init"><code><c- g>init</c-></code><a class="self-link" href="#dom-fakexrdevice-setlightestimate-init-init"></a></dfn>);
};

</pre>
   <p>The <code class="idl"><a data-link-type="idl" href="#fakexrdevice" id="ref-for-fakexrdevice①①">FakeXRDevice</a></code> is extended with internal <dfn class="dfn-paneled" data-dfn-for="FakeXRDevice" data-dfn-type="dfn" data-noexport id="fakexrdevice-light-estimate">light estimate</dfn> which is a <code class="idl"><a data-link-type="idl" href="#dictdef-fakexrlightestimateinit" id="ref-for-dictdef-fakexrlightestimateinit①">FakeXRLightEstimateInit</a></code>, used to supply data for any requested <code class="idl"><a data-link-type="idl" href="https://immersive-web.github.io/lighting-estimation/#xrlightestimate-interface" id="ref-for-xrlightestimate-interface">XRLightEstimate</a></code>.</p>
   <div class="algorithm" data-algorithm="set-light-estimate">
     When the <dfn class="dfn-paneled idl-code" data-dfn-for="FakeXRDevice" data-dfn-type="method" data-export id="dom-fakexrdevice-setlightestimate"><code>setLightEstimate(<var>init</var>)</code></dfn> method is invoked on <code class="idl"><a data-link-type="idl" href="#fakexrdevice" id="ref-for-fakexrdevice①②">FakeXRDevice</a></code> <var>device</var>, run the following steps: 
    <ol>
     <li data-md>
      <p>Let <var>c</var> be <var>init</var>’s <code class="idl"><a data-link-type="idl" href="#dom-fakexrlightestimateinit-sphericalharmonicscoefficients" id="ref-for-dom-fakexrlightestimateinit-sphericalharmonicscoefficients">sphericalHarmonicsCoefficients</a></code>.</p>
     <li data-md>
      <p>If <var>c</var> does not have 27 elements, throw a <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#exceptiondef-typeerror" id="ref-for-exceptiondef-typeerror⑧">TypeError</a></code> and abort these steps.</p>
     <li data-md>
      <p>Let <var>d</var> be <var>init</var>’s <code class="idl"><a data-link-type="idl" href="#dom-fakexrlightestimateinit-primarylightdirection" id="ref-for-dom-fakexrlightestimateinit-primarylightdirection">primaryLightDirection</a></code>.</p>
     <li data-md>
      <p>If <var>d</var> is set and <var>d</var>’s <code class="idl"><a data-link-type="idl" href="https://drafts.fxtf.org/geometry-1/#dom-dompointinit-w" id="ref-for-dom-dompointinit-w②">w</a></code> value does not equal <code>0</code>, throw a <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#exceptiondef-typeerror" id="ref-for-exceptiondef-typeerror⑨">TypeError</a></code> and abort these steps.</p>
     <li data-md>
      <p>Let <var>i</var> be <var>init</var>’s <code class="idl"><a data-link-type="idl" href="#dom-fakexrlightestimateinit-primarylightintensity" id="ref-for-dom-fakexrlightestimateinit-primarylightintensity">primaryLightIntensity</a></code>.</p>
     <li data-md>
      <p>If <var>i</var> is set and <var>i</var>’s <code class="idl"><a data-link-type="idl" href="https://drafts.fxtf.org/geometry-1/#dom-dompointinit-w" id="ref-for-dom-dompointinit-w③">w</a></code> value does not equal <code>1</code>, throw a <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#exceptiondef-typeerror" id="ref-for-exceptiondef-typeerror①⓪">TypeError</a></code> and abort these steps.</p>
     <li data-md>
      <p>Set <var>device</var>’s <a data-link-type="dfn" href="#fakexrdevice-light-estimate" id="ref-for-fakexrdevice-light-estimate">light estimate</a> to <var>init</var> by the <a data-link-type="dfn" href="#xrsession-next-animation-frame" id="ref-for-xrsession-next-animation-frame②①">next animation frame</a>.</p>
    </ol>
   </div>
   <h2 class="heading settled" data-level="10" id="depth-sensing-extensions"><span class="secno">10. </span><span class="content">Depth sensing extensions</span><a class="self-link" href="#depth-sensing-extensions"></a></h2>
   <p>The depth sensing extensions for test API SHOULD be implemented by all user agents that implement <a href="https://immersive-web.github.io/depth-sensing/">WebXR Depth Sensing Module</a>.</p>
   <p>The <code class="idl"><a data-link-type="idl" href="#fakexrdevice" id="ref-for-fakexrdevice①③">FakeXRDevice</a></code> is extended with internal <dfn class="dfn-paneled" data-dfn-for="FakeXRDevice" data-dfn-type="dfn" data-noexport id="fakexrdevice-depth-sensing-data">depth sensing data</dfn> which is a <code class="idl"><a data-link-type="idl" href="#dictdef-fakexrdepthsensingdatainit" id="ref-for-dictdef-fakexrdepthsensingdatainit②">FakeXRDepthSensingDataInit</a></code>, used to supply data for requests to <a data-link-type="dfn" href="https://immersive-web.github.io/depth-sensing/#native-depth-sensing" id="ref-for-native-depth-sensing">native depth sensing</a>.</p>
<pre class="idl highlight def"><c- b>dictionary</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="dictionary" data-export id="dictdef-fakexrdepthsensingdatainit"><code><c- g>FakeXRDepthSensingDataInit</c-></code></dfn> {
  <c- b>required</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-ArrayBuffer" id="ref-for-idl-ArrayBuffer"><c- b>ArrayBuffer</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="FakeXRDepthSensingDataInit" data-dfn-type="dict-member" data-export data-type="ArrayBuffer " id="dom-fakexrdepthsensingdatainit-depthdata"><code><c- g>depthData</c-></code></dfn>;
  <c- b>required</c-> <a data-link-type="idl-name" href="#dictdef-fakexrrigidtransforminit" id="ref-for-dictdef-fakexrrigidtransforminit①⑤"><c- n>FakeXRRigidTransformInit</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="FakeXRDepthSensingDataInit" data-dfn-type="dict-member" data-export data-type="FakeXRRigidTransformInit " id="dom-fakexrdepthsensingdatainit-normdepthbufferfromnormview"><code><c- g>normDepthBufferFromNormView</c-></code></dfn>;
  <c- b>required</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-float" id="ref-for-idl-float①③"><c- b>float</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="FakeXRDepthSensingDataInit" data-dfn-type="dict-member" data-export data-type="float " id="dom-fakexrdepthsensingdatainit-rawvaluetometers"><code><c- g>rawValueToMeters</c-></code></dfn>;
  <c- b>required</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-unsigned-long" id="ref-for-idl-unsigned-long"><c- b>unsigned</c-> <c- b>long</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="FakeXRDepthSensingDataInit" data-dfn-type="dict-member" data-export data-type="unsigned long " id="dom-fakexrdepthsensingdatainit-width"><code><c- g>width</c-></code></dfn>;
  <c- b>required</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-unsigned-long" id="ref-for-idl-unsigned-long①"><c- b>unsigned</c-> <c- b>long</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="FakeXRDepthSensingDataInit" data-dfn-type="dict-member" data-export data-type="unsigned long " id="dom-fakexrdepthsensingdatainit-height"><code><c- g>height</c-></code></dfn>;
};

</pre>
   <p><code class="idl"><a data-link-type="idl" href="#dictdef-fakexrdepthsensingdatainit" id="ref-for-dictdef-fakexrdepthsensingdatainit③">FakeXRDepthSensingDataInit</a></code> dictionary describes the state of the depth sensing data that should be used when returning latest depth information in <a data-link-type="dfn" href="https://immersive-web.github.io/depth-sensing/#create-a-cpu-depth-information-instance" id="ref-for-create-a-cpu-depth-information-instance">creating a CPU depth information instance</a> and <a data-link-type="dfn" href="https://immersive-web.github.io/depth-sensing/#create-a-gpu-depth-information-instance" id="ref-for-create-a-gpu-depth-information-instance">creating a GPU depth information instance</a> algorithms. All keys present in <code class="idl"><a data-link-type="idl" href="#dictdef-fakexrdepthsensingdatainit" id="ref-for-dictdef-fakexrdepthsensingdatainit④">FakeXRDepthSensingDataInit</a></code> correspond to the data required to be returned by <a data-link-type="dfn" href="https://immersive-web.github.io/depth-sensing/#native-depth-sensing" id="ref-for-native-depth-sensing①">native depth sensing</a> capabilities of the device.</p>
   <p><code class="idl"><a data-link-type="idl" href="#dom-fakexrdepthsensingdatainit-depthdata" id="ref-for-dom-fakexrdepthsensingdatainit-depthdata">depthData</a></code> corresponds to the desired depth buffer that is to be set on native depth information returned from querying the native device. Not setting <code class="idl"><a data-link-type="idl" href="#dom-fakexrdepthsensingdatainit-depthdata" id="ref-for-dom-fakexrdepthsensingdatainit-depthdata①">depthData</a></code> key in the dictionary signals that the returned native depth information should be <code>null</code>.</p>
   <p><code class="idl"><a data-link-type="idl" href="#dom-fakexrdepthsensingdatainit-normdepthbufferfromnormview" id="ref-for-dom-fakexrdepthsensingdatainit-normdepthbufferfromnormview">normDepthBufferFromNormView</a></code> corresponds to the desired <a data-link-type="dfn" href="https://immersive-web.github.io/depth-sensing/#depth-coordinates-transformation-matrix" id="ref-for-depth-coordinates-transformation-matrix">depth coordinates transformation matrix</a> that is to be set on native depth information returned from querying the native device.</p>
   <p><code class="idl"><a data-link-type="idl" href="#dom-fakexrdepthsensingdatainit-rawvaluetometers" id="ref-for-dom-fakexrdepthsensingdatainit-rawvaluetometers">rawValueToMeters</a></code> corresponds to the desired conversion factor that is to be set on native depth information returned from querying the native device.</p>
   <p><code class="idl"><a data-link-type="idl" href="#dom-fakexrdepthsensingdatainit-width" id="ref-for-dom-fakexrdepthsensingdatainit-width">width</a></code> and <code class="idl"><a data-link-type="idl" href="#dom-fakexrdepthsensingdatainit-height" id="ref-for-dom-fakexrdepthsensingdatainit-height">height</a></code> correspond to the desired dimensions of the depth buffer that are to be set on native depth information returned from querying the native device.</p>
   <div class="algorithm" data-algorithm="set-depth-sensing-information">
    <p>When the <code class="idl"><a data-link-type="idl" href="#dom-fakexrdevice-setdepthsensingdata" id="ref-for-dom-fakexrdevice-setdepthsensingdata">setDepthSensingData()</a></code> method is invoked on <code class="idl"><a data-link-type="idl" href="#fakexrdevice" id="ref-for-fakexrdevice①④">FakeXRDevice</a></code> <var>device</var> with <var>depthSensingData</var>, run the following steps:</p>
    <ol>
     <li data-md>
      <p>If <var>depthSensingData</var>’s <code class="idl"><a data-link-type="idl" href="#dom-fakexrdepthsensingdatainit-depthdata" id="ref-for-dom-fakexrdepthsensingdatainit-depthdata②">depthData</a></code> is <code>null</code>, throw a <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#exceptiondef-typeerror" id="ref-for-exceptiondef-typeerror①①">TypeError</a></code> and abort these steps.</p>
     <li data-md>
      <p>Set <var>device</var>’s <a data-link-type="dfn" href="#fakexrdevice-depth-sensing-data" id="ref-for-fakexrdevice-depth-sensing-data">depth sensing data</a> to <var>depthSensingData</var>.</p>
    </ol>
   </div>
   <div class="algorithm" data-algorithm="clear-depth-sensing-information">
    <p>When the <code class="idl"><a data-link-type="idl" href="#dom-fakexrdevice-cleardepthsensingdata" id="ref-for-dom-fakexrdevice-cleardepthsensingdata">clearDepthSensingData()</a></code> method is invoked on <code class="idl"><a data-link-type="idl" href="#fakexrdevice" id="ref-for-fakexrdevice①⑤">FakeXRDevice</a></code> <var>device</var>, run the following steps:</p>
    <ol>
     <li data-md>
      <p>Set <var>device</var>’s <a data-link-type="dfn" href="#fakexrdevice-depth-sensing-data" id="ref-for-fakexrdevice-depth-sensing-data①">depth sensing data</a> to <code>null</code>.</p>
    </ol>
   </div>
  </main>
  <div data-fill-with="conformance">
   <h2 class="no-ref no-num heading settled" id="w3c-conformance"><span class="content">Conformance</span><a class="self-link" href="#w3c-conformance"></a></h2>
   <h3 class="no-ref no-num heading settled" id="w3c-conventions"><span class="content">Document conventions</span><a class="self-link" href="#w3c-conventions"></a></h3>
   <p>Conformance requirements are expressed
    with a combination of descriptive assertions
    and RFC 2119 terminology.
    The key words “MUST”, “MUST NOT”, “REQUIRED”, “SHALL”, “SHALL NOT”, “SHOULD”, “SHOULD NOT”, “RECOMMENDED”, “MAY”, and “OPTIONAL”
    in the normative parts of this document
    are to be interpreted as described in RFC 2119.
    However, for readability,
    these words do not appear in all uppercase letters in this specification. </p>
   <p>All of the text of this specification is normative
    except sections explicitly marked as non-normative, examples, and notes. <a data-link-type="biblio" href="#biblio-rfc2119" title="Key words for use in RFCs to Indicate Requirement Levels">[RFC2119]</a> </p>
   <p>Examples in this specification are introduced with the words “for example”
    or are set apart from the normative text
    with <code>class="example"</code>,
    like this: </p>
   <div class="example" id="w3c-example">
    <a class="self-link" href="#w3c-example"></a> 
    <p>This is an example of an informative example. </p>
   </div>
   <p>Informative notes begin with the word “Note”
    and are set apart from the normative text
    with <code>class="note"</code>,
    like this: </p>
   <p class="note" role="note">Note, this is an informative note.</p>
   <h3 class="no-ref no-num heading settled" id="w3c-conformant-algorithms"><span class="content">Conformant Algorithms</span><a class="self-link" href="#w3c-conformant-algorithms"></a></h3>
   <p>Requirements phrased in the imperative as part of algorithms
    (such as "strip any leading space characters"
    or "return false and abort these steps")
    are to be interpreted with the meaning of the key word
    ("must", "should", "may", etc)
    used in introducing the algorithm. </p>
   <p>Conformance requirements phrased as algorithms or specific steps
    can be implemented in any manner,
    so long as the end result is equivalent.
    In particular, the algorithms defined in this specification
    are intended to be easy to understand
    and are not intended to be performant.
    Implementers are encouraged to optimize. </p>
  </div>
<script src="https://www.w3.org/scripts/TR/2021/fixup.js"></script>
  <h2 class="no-num no-ref heading settled" id="index"><span class="content">Index</span><a class="self-link" href="#index"></a></h2>
  <h3 class="no-num no-ref heading settled" id="index-defined-here"><span class="content">Terms defined by this specification</span><a class="self-link" href="#index-defined-here"></a></h3>
  <ul class="index">
   <li><a href="#fakexranchorcreationcallback-anchorcontroller">anchorController</a><span>, in § 8</span>
   <li><a href="#fakexrdevice-anchorcreationcallback">anchorCreationCallback</a><span>, in § 8</span>
   <li><a href="#fakexranchorcontroller-anchor-origin">anchor origin</a><span>, in § 8</span>
   <li><a href="#base-reference-space">base reference space</a><span>, in § 4.4</span>
   <li><a href="#dom-fakexrdeviceinit-boundscoordinates">boundsCoordinates</a><span>, in § 4.3</span>
   <li><a href="#simulated-xr-input-source-buttonstate">buttonState</a><span>, in § 3.2</span>
   <li><a href="#dom-fakexrbuttonstateinit-buttontype">buttonType</a><span>, in § 5.2</span>
   <li><a href="#dom-fakexrdevice-cleardepthsensingdata">clearDepthSensingData()</a><span>, in § 5.1</span>
   <li><a href="#dom-fakexrdevice-clearfloororigin">clearFloorOrigin()</a><span>, in § 5.1</span>
   <li><a href="#dom-fakexrinputcontroller-cleargriporigin">clearGripOrigin()</a><span>, in § 5.2</span>
   <li><a href="#dom-fakexrdevice-clearviewerorigin">clearViewerOrigin()</a><span>, in § 5.1</span>
   <li><a href="#dom-fakexrdevice-clearworld">clearWorld()</a><span>, in § 5.1</span>
   <li><a href="#simulated-xr-input-source-connectionstate">connectionState</a><span>, in § 3.2</span>
   <li><a href="#dom-fakexranchorcontroller-deleted">deleted</a><span>, in § 8</span>
   <li><a href="#dom-fakexrdepthsensingdatainit-depthdata">depthData</a><span>, in § 10</span>
   <li><a href="#fakexrdevice-depth-sensing-data">depth sensing data</a><span>, in § 10</span>
   <li><a href="#dom-fakexrdeviceinit-depthsensingdata">depthSensingData</a><span>, in § 4.3</span>
   <li><a href="#determine-if-the-anchor-creation-succeeded">determine if the anchor creation succeeded</a><span>, in § 8</span>
   <li><a href="#fakexrdevice-device">device</a><span>, in § 5.1</span>
   <li><a href="#view-device-resolution">device resolution</a><span>, in § 3.1</span>
   <li>
    disconnect()
    <ul>
     <li><a href="#dom-fakexrdevice-disconnect">method for FakeXRDevice</a><span>, in § 5.1</span>
     <li><a href="#dom-fakexrinputcontroller-disconnect">method for FakeXRInputController</a><span>, in § 5.2</span>
    </ul>
   <li><a href="#dom-xrtest-disconnectalldevices">disconnectAllDevices()</a><span>, in § 4.2</span>
   <li><a href="#dom-fakexrfieldofviewinit-downdegrees">downDegrees</a><span>, in § 4.3</span>
   <li><a href="#simulated-xr-device-emulated-position-boolean">emulated position boolean</a><span>, in § 3.1</span>
   <li><a href="#dom-fakexrinputcontroller-endselection">endSelection()</a><span>, in § 5.2</span>
   <li><a href="#dom-fakexrviewinit-eye">eye</a><span>, in § 4.3</span>
   <li><a href="#dom-fakexrregioninit-faces">faces</a><span>, in § 6</span>
   <li><a href="#fakexranchorcontroller">FakeXRAnchorController</a><span>, in § 8</span>
   <li><a href="#callbackdef-fakexranchorcreationcallback">FakeXRAnchorCreationCallback</a><span>, in § 8</span>
   <li><a href="#dictdef-fakexranchorcreationparameters">FakeXRAnchorCreationParameters</a><span>, in § 8</span>
   <li><a href="#dictdef-fakexrboundspoint">FakeXRBoundsPoint</a><span>, in § 4.3</span>
   <li><a href="#dictdef-fakexrbuttonstateinit">FakeXRButtonStateInit</a><span>, in § 5.2</span>
   <li><a href="#enumdef-fakexrbuttontype">FakeXRButtonType</a><span>, in § 5.2</span>
   <li><a href="#dictdef-fakexrdepthsensingdatainit">FakeXRDepthSensingDataInit</a><span>, in § 10</span>
   <li><a href="#fakexrdevice">FakeXRDevice</a><span>, in § 5.1</span>
   <li><a href="#dictdef-fakexrdeviceinit">FakeXRDeviceInit</a><span>, in § 4.3</span>
   <li><a href="#dictdef-fakexrdeviceresolution">FakeXRDeviceResolution</a><span>, in § 4.3</span>
   <li><a href="#dictdef-fakexrfieldofviewinit">FakeXRFieldOfViewInit</a><span>, in § 4.3</span>
   <li><a href="#fakexrinputcontroller">FakeXRInputController</a><span>, in § 5.2</span>
   <li><a href="#dictdef-fakexrinputsourceinit">FakeXRInputSourceInit</a><span>, in § 5.2</span>
   <li><a href="#dictdef-fakexrlightestimateinit">FakeXRLightEstimateInit</a><span>, in § 9</span>
   <li><a href="#dictdef-fakexrregioninit">FakeXRRegionInit</a><span>, in § 6</span>
   <li><a href="#enumdef-fakexrregiontype">FakeXRRegionType</a><span>, in § 6</span>
   <li><a href="#dictdef-fakexrrigidtransforminit">FakeXRRigidTransformInit</a><span>, in § 4.3</span>
   <li><a href="#dictdef-fakexrtriangleinit">FakeXRTriangleInit</a><span>, in § 6</span>
   <li><a href="#dictdef-fakexrviewinit">FakeXRViewInit</a><span>, in § 4.3</span>
   <li><a href="#dictdef-fakexrworldinit">FakeXRWorldInit</a><span>, in § 6</span>
   <li><a href="#view-field-of-view">field of view</a><span>, in § 3.1</span>
   <li><a href="#dom-fakexrviewinit-fieldofview">fieldOfView</a><span>, in § 4.3</span>
   <li><a href="#simulated-xr-device-floor-origin">floor origin</a><span>, in § 3.1</span>
   <li><a href="#dom-fakexrdeviceinit-floororigin">floorOrigin</a><span>, in § 4.3</span>
   <li><a href="#dom-fakexrbuttontype-grip">"grip"</a><span>, in § 5.2</span>
   <li>
    gripOrigin
    <ul>
     <li><a href="#simulated-xr-input-source-griporigin">dfn for simulated XR input source</a><span>, in § 3.2</span>
     <li><a href="#dom-fakexrinputsourceinit-griporigin">dict-member for FakeXRInputSourceInit</a><span>, in § 5.2</span>
    </ul>
   <li>
    handedness
    <ul>
     <li><a href="#simulated-xr-input-source-handedness">dfn for simulated XR input source</a><span>, in § 3.2</span>
     <li><a href="#dom-fakexrinputsourceinit-handedness">dict-member for FakeXRInputSourceInit</a><span>, in § 5.2</span>
    </ul>
   <li>
    height
    <ul>
     <li><a href="#dom-fakexrdepthsensingdatainit-height">dict-member for FakeXRDepthSensingDataInit</a><span>, in § 10</span>
     <li><a href="#dom-fakexrdeviceresolution-height">dict-member for FakeXRDeviceResolution</a><span>, in § 4.3</span>
    </ul>
   <li><a href="#dom-fakexrworldinit-hittestregions">hitTestRegions</a><span>, in § 6</span>
   <li><a href="#fakexrinputcontroller-inputsource">inputSource</a><span>, in § 5.2</span>
   <li><a href="#dom-fakexranchorcreationparameters-isattachedtoentity">isAttachedToEntity</a><span>, in § 8</span>
   <li><a href="#dom-fakexrfieldofviewinit-leftdegrees">leftDegrees</a><span>, in § 4.3</span>
   <li><a href="#fakexrdevice-light-estimate">light estimate</a><span>, in § 9</span>
   <li><a href="#dom-fakexrregiontype-mesh">"mesh"</a><span>, in § 6</span>
   <li><a href="#simulated-xr-device-native-bounds-geometry">native bounds geometry</a><span>, in § 3.1</span>
   <li><a href="#xrsession-next-animation-frame">next animation frame</a><span>, in § 5.1</span>
   <li><a href="#dom-fakexrdepthsensingdatainit-normdepthbufferfromnormview">normDepthBufferFromNormView</a><span>, in § 10</span>
   <li><a href="#dom-fakexrbuttontype-optional-button">"optional-button"</a><span>, in § 5.2</span>
   <li><a href="#dom-fakexrbuttontype-optional-thumbstick">"optional-thumbstick"</a><span>, in § 5.2</span>
   <li><a href="#dom-fakexrrigidtransforminit-orientation">orientation</a><span>, in § 4.3</span>
   <li><a href="#parse-a-rigid-transform">parse a rigid transform</a><span>, in § 4.3</span>
   <li><a href="#parse-a-view">parse a view</a><span>, in § 4.3</span>
   <li><a href="#parse-supported-buttons">parse supported buttons</a><span>, in § 5.2</span>
   <li><a href="#dom-fakexranchorcontroller-pausetracking">pauseTracking()</a><span>, in § 8</span>
   <li><a href="#dom-fakexrregiontype-plane">"plane"</a><span>, in § 6</span>
   <li><a href="#dom-fakexrregiontype-point">"point"</a><span>, in § 6</span>
   <li>
    pointerOrigin
    <ul>
     <li><a href="#simulated-xr-input-source-pointerorigin">dfn for simulated XR input source</a><span>, in § 3.2</span>
     <li><a href="#dom-fakexrinputsourceinit-pointerorigin">dict-member for FakeXRInputSourceInit</a><span>, in § 5.2</span>
    </ul>
   <li><a href="#dom-fakexrrigidtransforminit-position">position</a><span>, in § 4.3</span>
   <li><a href="#dom-fakexrbuttonstateinit-pressed">pressed</a><span>, in § 5.2</span>
   <li><a href="#dom-fakexrbuttonstateinit-pressedvalue">pressedValue</a><span>, in § 5.2</span>
   <li><a href="#simulated-xr-input-source-primaryactionstarted">primaryActionStarted</a><span>, in § 3.2</span>
   <li><a href="#dom-fakexrlightestimateinit-primarylightdirection">primaryLightDirection</a><span>, in § 9</span>
   <li><a href="#dom-fakexrlightestimateinit-primarylightintensity">primaryLightIntensity</a><span>, in § 9</span>
   <li>
    profiles
    <ul>
     <li><a href="#simulated-xr-input-source-profiles">dfn for simulated XR input source</a><span>, in § 3.2</span>
     <li><a href="#dom-fakexrinputsourceinit-profiles">dict-member for FakeXRInputSourceInit</a><span>, in § 5.2</span>
    </ul>
   <li><a href="#dom-fakexrviewinit-projectionmatrix">projectionMatrix</a><span>, in § 4.3</span>
   <li><a href="#dom-fakexrdepthsensingdatainit-rawvaluetometers">rawValueToMeters</a><span>, in § 10</span>
   <li><a href="#dom-fakexrinputcontroller-reconnect">reconnect()</a><span>, in § 5.2</span>
   <li><a href="#dom-fakexranchorcreationparameters-requestedanchororigin">requestedAnchorOrigin</a><span>, in § 8</span>
   <li><a href="#dom-fakexrviewinit-resolution">resolution</a><span>, in § 4.3</span>
   <li><a href="#dom-fakexranchorcontroller-resumetracking">resumeTracking()</a><span>, in § 8</span>
   <li><a href="#dom-fakexrfieldofviewinit-rightdegrees">rightDegrees</a><span>, in § 4.3</span>
   <li><a href="#dom-fakexrinputsourceinit-selectionclicked">selectionClicked</a><span>, in § 5.2</span>
   <li><a href="#dom-fakexrinputsourceinit-selectionstarted">selectionStarted</a><span>, in § 5.2</span>
   <li><a href="#dom-fakexrdevice-setanchorcreationcallback">setAnchorCreationCallback(callback)</a><span>, in § 8</span>
   <li><a href="#dom-fakexranchorcontroller-setanchororigin">setAnchorOrigin(anchorOrigin)</a><span>, in § 8</span>
   <li><a href="#dom-fakexrdevice-setboundsgeometry">setBoundsGeometry(boundsCoordinates)</a><span>, in § 5.1</span>
   <li><a href="#dom-fakexrdevice-setdepthsensingdata">setDepthSensingData(depthSensingData)</a><span>, in § 5.1</span>
   <li><a href="#dom-fakexrdevice-setfloororigin">setFloorOrigin(origin)</a><span>, in § 5.1</span>
   <li><a href="#dom-fakexrinputcontroller-setgriporigin">setGripOrigin(gripOrigin)</a><span>, in § 5.2</span>
   <li><a href="#dom-fakexrinputcontroller-setgriporigin">setGripOrigin(gripOrigin, emulatedPosition)</a><span>, in § 5.2</span>
   <li><a href="#dom-fakexrinputcontroller-sethandedness">setHandedness(handedness)</a><span>, in § 5.2</span>
   <li><a href="#dom-fakexrdevice-setlightestimate">setLightEstimate(init)</a><span>, in § 9</span>
   <li><a href="#dom-fakexrinputcontroller-setoverlaypointerposition">setOverlayPointerPosition(x, y)</a><span>, in § 7</span>
   <li><a href="#dom-fakexrinputcontroller-setpointerorigin">setPointerOrigin(pointerOrigin)</a><span>, in § 5.2</span>
   <li><a href="#dom-fakexrinputcontroller-setpointerorigin">setPointerOrigin(pointerOrigin, emulatedPosition)</a><span>, in § 5.2</span>
   <li><a href="#dom-fakexrinputcontroller-setprofiles">setProfiles(profiles)</a><span>, in § 5.2</span>
   <li><a href="#dom-fakexrinputcontroller-setsupportedbuttons">setSupportedButtons(supportedButtons)</a><span>, in § 5.2</span>
   <li><a href="#dom-fakexrinputcontroller-settargetraymode">setTargetRayMode(targetRayMode)</a><span>, in § 5.2</span>
   <li><a href="#dom-fakexrdevice-setviewerorigin">setViewerOrigin(origin)</a><span>, in § 5.1</span>
   <li><a href="#dom-fakexrdevice-setviewerorigin">setViewerOrigin(origin, emulatedPosition)</a><span>, in § 5.1</span>
   <li><a href="#dom-fakexrdevice-setviews">setViews(views)</a><span>, in § 5.1</span>
   <li><a href="#dom-fakexrdevice-setworld">setWorld(world)</a><span>, in § 5.1</span>
   <li><a href="#simulate-a-full-primary-action">simulate a full primary action</a><span>, in § 5.2</span>
   <li><a href="#dom-xrtest-simulatedeviceconnection">simulateDeviceConnection(init)</a><span>, in § 4.2</span>
   <li><a href="#simulated-xr-device">simulated XR device</a><span>, in § 3.1</span>
   <li><a href="#simulated-xr-input-source">simulated XR input source</a><span>, in § 3.2</span>
   <li><a href="#dom-fakexrdevice-simulateinputsourceconnection">simulateInputSourceConnection(init)</a><span>, in § 5.1</span>
   <li><a href="#dom-fakexrdevice-simulateresetpose">simulateResetPose()</a><span>, in § 5.1</span>
   <li><a href="#dom-fakexrinputcontroller-simulateselect">simulateSelect()</a><span>, in § 5.2</span>
   <li><a href="#dom-xrtest-simulateuseractivation">simulateUserActivation(f)</a><span>, in § 4.2</span>
   <li><a href="#dom-fakexrdevice-simulatevisibilitychange">simulateVisibilityChange(state)</a><span>, in § 5.1</span>
   <li><a href="#dom-fakexrlightestimateinit-sphericalharmonicscoefficients">sphericalHarmonicsCoefficients</a><span>, in § 9</span>
   <li><a href="#start-a-primary-action">start a primary action</a><span>, in § 5.2</span>
   <li><a href="#dom-fakexrinputcontroller-startselection">startSelection()</a><span>, in § 5.2</span>
   <li><a href="#stop-a-primary-action">stop a primary action</a><span>, in § 5.2</span>
   <li><a href="#dom-fakexranchorcontroller-stoptracking">stopTracking()</a><span>, in § 8</span>
   <li><a href="#dom-fakexrinputsourceinit-supportedbuttons">supportedButtons</a><span>, in § 5.2</span>
   <li><a href="#dom-fakexrdeviceinit-supportedfeatures">supportedFeatures</a><span>, in § 4.3</span>
   <li><a href="#dom-fakexrdeviceinit-supportedmodes">supportedModes</a><span>, in § 4.3</span>
   <li><a href="#dom-fakexrdeviceinit-supportsimmersive">supportsImmersive</a><span>, in § 4.3</span>
   <li>
    targetRayMode
    <ul>
     <li><a href="#simulated-xr-input-source-targetraymode">dfn for simulated XR input source</a><span>, in § 3.2</span>
     <li><a href="#dom-fakexrinputsourceinit-targetraymode">dict-member for FakeXRInputSourceInit</a><span>, in § 5.2</span>
    </ul>
   <li><a href="#dom-xrsystem-test">test</a><span>, in § 4.1</span>
   <li><a href="#dom-fakexrbuttontype-thumbstick">"thumbstick"</a><span>, in § 5.2</span>
   <li><a href="#dom-fakexrbuttonstateinit-touched">touched</a><span>, in § 5.2</span>
   <li><a href="#dom-fakexrbuttontype-touchpad">"touchpad"</a><span>, in § 5.2</span>
   <li><a href="#dom-fakexrregioninit-type">type</a><span>, in § 6</span>
   <li><a href="#dom-fakexrinputcontroller-updatebuttonstate">updateButtonState(buttonState)</a><span>, in § 5.2</span>
   <li><a href="#dom-fakexrfieldofviewinit-updegrees">upDegrees</a><span>, in § 4.3</span>
   <li><a href="#validate-a-button-state">validate a button state</a><span>, in § 5.2</span>
   <li><a href="#dom-fakexrtriangleinit-vertices">vertices</a><span>, in § 6</span>
   <li><a href="#simulated-xr-device-viewer-origin">viewer origin</a><span>, in § 3.1</span>
   <li><a href="#dom-fakexrdeviceinit-viewerorigin">viewerOrigin</a><span>, in § 4.3</span>
   <li><a href="#dom-fakexrviewinit-viewoffset">viewOffset</a><span>, in § 4.3</span>
   <li><a href="#dom-fakexrdeviceinit-views">views</a><span>, in § 4.3</span>
   <li><a href="#simulated-xr-device-visibility-state">visibility state</a><span>, in § 3.1</span>
   <li>
    width
    <ul>
     <li><a href="#dom-fakexrdepthsensingdatainit-width">dict-member for FakeXRDepthSensingDataInit</a><span>, in § 10</span>
     <li><a href="#dom-fakexrdeviceresolution-width">dict-member for FakeXRDeviceResolution</a><span>, in § 4.3</span>
    </ul>
   <li><a href="#dom-fakexrdeviceinit-world">world</a><span>, in § 4.3</span>
   <li><a href="#dom-fakexrboundspoint-x">x</a><span>, in § 4.3</span>
   <li><a href="#xrtest">XRTest</a><span>, in § 4.2</span>
   <li><a href="#dom-fakexrbuttonstateinit-xvalue">xValue</a><span>, in § 5.2</span>
   <li><a href="#dom-fakexrbuttonstateinit-yvalue">yValue</a><span>, in § 5.2</span>
   <li><a href="#dom-fakexrboundspoint-z">z</a><span>, in § 4.3</span>
  </ul>
  <h3 class="no-num no-ref heading settled" id="index-defined-elsewhere"><span class="content">Terms defined by reference</span><a class="self-link" href="#index-defined-elsewhere"></a></h3>
  <ul class="index">
   <li>
    <a data-link-type="biblio">[DOM]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="2bc0cdf4">EventTarget</span>
    </ul>
   <li>
    <a data-link-type="biblio">[GAMEPAD]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="0c3a8579">xr-standard</span>
    </ul>
   <li>
    <a data-link-type="biblio">[GEOMETRY-1]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="289ee1c2">DOMPointInit</span>
     <li><span class="dfn-paneled" id="5cce610d">DOMPointReadOnly</span>
     <li><span class="dfn-paneled" id="0173c6c0">w</span>
     <li><span class="dfn-paneled" id="dae466b2">x</span>
     <li><span class="dfn-paneled" id="e097c631">y</span>
     <li><span class="dfn-paneled" id="a5b295b1">z</span>
    </ul>
   <li>
    <a data-link-type="biblio">[HTML]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="a72449dd">in parallel</span>
     <li><span class="dfn-paneled" id="47fe679e">transient activation</span>
    </ul>
   <li>
    <a data-link-type="biblio">[INFRA]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="53275e46">append</span>
     <li><span class="dfn-paneled" id="649608b9">list</span>
    </ul>
   <li>
    <a data-link-type="biblio">[WEBIDL]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="2f8afbfe">ArrayBuffer</span>
     <li><span class="dfn-paneled" id="8855a9aa">DOMString</span>
     <li><span class="dfn-paneled" id="ae46556f">Function</span>
     <li><span class="dfn-paneled" id="9eda9b58">NotFoundError</span>
     <li><span class="dfn-paneled" id="bdbd19d1">Promise</span>
     <li><span class="dfn-paneled" id="a5c91173">SameObject</span>
     <li><span class="dfn-paneled" id="82ca3efc">TypeError</span>
     <li><span class="dfn-paneled" id="dacde8b5">a new promise</span>
     <li><span class="dfn-paneled" id="6c6b1005">any</span>
     <li><span class="dfn-paneled" id="5372cca8">boolean</span>
     <li><span class="dfn-paneled" id="8c800cdf">double</span>
     <li><span class="dfn-paneled" id="eec1be2d">float</span>
     <li><span class="dfn-paneled" id="f8de33a3">long</span>
     <li><span class="dfn-paneled" id="750a2f08">react</span>
     <li><span class="dfn-paneled" id="3b90bdcd">resolve</span>
     <li><span class="dfn-paneled" id="9cce47fd">sequence</span>
     <li><span class="dfn-paneled" id="e97a9688">unsigned long</span>
    </ul>
   <li>
    <a data-link-type="biblio">[WEBXR]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="b9124029">"local"</span>
     <li><span class="dfn-paneled" id="d36ad083">"visible"</span>
     <li><span class="dfn-paneled" id="6ad69c44">XRBoundedReferenceSpace</span>
     <li><span class="dfn-paneled" id="3e104f9e">XREye</span>
     <li><span class="dfn-paneled" id="d5b236d5">XRHandedness</span>
     <li><span class="dfn-paneled" id="ea90e02f">XRInputSource</span>
     <li><span class="dfn-paneled" id="9dfd38d6">XRPose</span>
     <li><span class="dfn-paneled" id="511280ad">XRRigidTransform</span>
     <li><span class="dfn-paneled" id="b23556e5">XRSession</span>
     <li><span class="dfn-paneled" id="7a6a64a7">XRSessionMode</span>
     <li><span class="dfn-paneled" id="8f974556">XRSystem</span>
     <li><span class="dfn-paneled" id="419f7c8c">XRTargetRayMode</span>
     <li><span class="dfn-paneled" id="14930f73">XRViewport</span>
     <li><span class="dfn-paneled" id="c1b7d4ab">XRVisibilityState</span>
     <li><span class="dfn-paneled" id="3099627f">constructor()</span>
     <li><span class="dfn-paneled" id="6f2bad18">depthFar</span>
     <li><span class="dfn-paneled" id="9ee4518a">depthNear</span>
     <li><span class="dfn-paneled" id="ffba969d">emulatedPosition</span>
     <li><span class="dfn-paneled" id="de78be73">gripSpace</span>
     <li><span class="dfn-paneled" id="efba0ad8">handedness</span>
     <li><span class="dfn-paneled" id="4bb10651">inputSources</span>
     <li><span class="dfn-paneled" id="dbe575a4">inputsourceschange</span>
     <li><span class="dfn-paneled" id="cb1c960a">oninputsourceschange</span>
     <li><span class="dfn-paneled" id="9ca937fb">onselect</span>
     <li><span class="dfn-paneled" id="67c0ed6e">onselectend</span>
     <li><span class="dfn-paneled" id="9e74733d">onvisibilitychange</span>
     <li><span class="dfn-paneled" id="969e973e">orientation</span>
     <li><span class="dfn-paneled" id="e31e5468">position</span>
     <li><span class="dfn-paneled" id="4dd97d27">profiles</span>
     <li><span class="dfn-paneled" id="1e258aaa">requestAnimationFrame(callback)</span>
     <li><span class="dfn-paneled" id="fb050ffc">targetRayMode</span>
     <li><span class="dfn-paneled" id="53ce93e0">targetRaySpace</span>
     <li><span class="dfn-paneled" id="d790ba5d">visibilityState</span>
     <li><span class="dfn-paneled" id="82af0c92">xr</span>
    </ul>
   <li>
    <a data-link-type="biblio">[WEBXR ANCHORS MODULE]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="33b916dd">delete()</span>
     <li><span class="dfn-paneled" id="f7497add">native origin</span>
    </ul>
   <li>
    <a data-link-type="biblio">[WEBXR DEPTH SENSING MODULE]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="fa29f3a9">create a cpu depth information instance</span>
     <li><span class="dfn-paneled" id="f67f5d12">create a gpu depth information instance</span>
     <li><span class="dfn-paneled" id="b9d15de0">depth coordinates transformation matrix</span>
     <li><span class="dfn-paneled" id="fb771a1f">native depth sensing</span>
    </ul>
   <li>
    <a data-link-type="biblio">[WEBXR LIGHTING ESTIMATION]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="06b23bbd">XRLightEstimate</span>
    </ul>
   <li>
    <a data-link-type="biblio">[WEBXR-DOM-OVERLAYS]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="bcc5c3c2">beforexrselect</span>
    </ul>
   <li>
    <a data-link-type="biblio">[WEBXR-GAMEPADS-MODULE-1]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="655a3368">gamepad</span>
    </ul>
  </ul>
  <h2 class="no-num no-ref heading settled" id="references"><span class="content">References</span><a class="self-link" href="#references"></a></h2>
  <h3 class="no-num no-ref heading settled" id="normative"><span class="content">Normative References</span><a class="self-link" href="#normative"></a></h3>
  <dl>
   <dt id="biblio-dom">[DOM]
   <dd>Anne van Kesteren. <a href="https://dom.spec.whatwg.org/"><cite>DOM Standard</cite></a>. Living Standard. URL: <a href="https://dom.spec.whatwg.org/">https://dom.spec.whatwg.org/</a>
   <dt id="biblio-gamepad">[GAMEPAD]
   <dd>Steve Agoston; James Hollyer; Matthew Reynolds. <a href="https://w3c.github.io/gamepad/"><cite>Gamepad</cite></a>. URL: <a href="https://w3c.github.io/gamepad/">https://w3c.github.io/gamepad/</a>
   <dt id="biblio-geometry-1">[GEOMETRY-1]
   <dd>Simon Pieters; Chris Harrelson. <a href="https://drafts.fxtf.org/geometry/"><cite>Geometry Interfaces Module Level 1</cite></a>. URL: <a href="https://drafts.fxtf.org/geometry/">https://drafts.fxtf.org/geometry/</a>
   <dt id="biblio-html">[HTML]
   <dd>Anne van Kesteren; et al. <a href="https://html.spec.whatwg.org/multipage/"><cite>HTML Standard</cite></a>. Living Standard. URL: <a href="https://html.spec.whatwg.org/multipage/">https://html.spec.whatwg.org/multipage/</a>
   <dt id="biblio-infra">[INFRA]
   <dd>Anne van Kesteren; Domenic Denicola. <a href="https://infra.spec.whatwg.org/"><cite>Infra Standard</cite></a>. Living Standard. URL: <a href="https://infra.spec.whatwg.org/">https://infra.spec.whatwg.org/</a>
   <dt id="biblio-rfc2119">[RFC2119]
   <dd>S. Bradner. <a href="https://datatracker.ietf.org/doc/html/rfc2119"><cite>Key words for use in RFCs to Indicate Requirement Levels</cite></a>. March 1997. Best Current Practice. URL: <a href="https://datatracker.ietf.org/doc/html/rfc2119">https://datatracker.ietf.org/doc/html/rfc2119</a>
   <dt id="biblio-webidl">[WEBIDL]
   <dd>Edgar Chen; Timothy Gu. <a href="https://webidl.spec.whatwg.org/"><cite>Web IDL Standard</cite></a>. Living Standard. URL: <a href="https://webidl.spec.whatwg.org/">https://webidl.spec.whatwg.org/</a>
   <dt id="biblio-webxr">[WEBXR]
   <dd>Brandon Jones; Manish Goregaokar; Rik Cabanier. <a href="https://immersive-web.github.io/webxr/"><cite>WebXR Device API</cite></a>. URL: <a href="https://immersive-web.github.io/webxr/">https://immersive-web.github.io/webxr/</a>
   <dt id="biblio-webxr-gamepads-module-1">[WEBXR-GAMEPADS-MODULE-1]
   <dd>Brandon Jones; Manish Goregaokar; Rik Cabanier. <a href="https://immersive-web.github.io/webxr-gamepads-module/"><cite>WebXR Gamepads Module - Level 1</cite></a>. URL: <a href="https://immersive-web.github.io/webxr-gamepads-module/">https://immersive-web.github.io/webxr-gamepads-module/</a>
  </dl>
  <h2 class="no-num no-ref heading settled" id="idl-index"><span class="content">IDL Index</span><a class="self-link" href="#idl-index"></a></h2>
<pre class="idl highlight def"><c- b>partial</c-> <c- b>interface</c-> <a class="idl-code" data-link-type="interface" href="https://immersive-web.github.io/webxr/#xrsystem"><c- g>XRSystem</c-></a> {
    [<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#SameObject"><c- g>SameObject</c-></a>] <c- b>readonly</c-> <c- b>attribute</c-> <a data-link-type="idl-name" href="#xrtest"><c- n>XRTest</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="XRTest" href="#dom-xrsystem-test"><c- g>test</c-></a>;
};

<c- b>interface</c-> <a href="#xrtest"><code><c- g>XRTest</c-></code></a> {
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise"><c- b>Promise</c-></a>&lt;<a data-link-type="idl-name" href="#fakexrdevice"><c- n>FakeXRDevice</c-></a>> <a class="idl-code" data-link-type="method" href="#dom-xrtest-simulatedeviceconnection"><c- g>simulateDeviceConnection</c-></a>(<a data-link-type="idl-name" href="#dictdef-fakexrdeviceinit"><c- n>FakeXRDeviceInit</c-></a> <a href="#dom-xrtest-simulatedeviceconnection-init-init"><code><c- g>init</c-></code></a>);
  <a data-link-type="idl-name"><c- n>void</c-></a> <a class="idl-code" data-link-type="method" href="#dom-xrtest-simulateuseractivation"><c- g>simulateUserActivation</c-></a>(<a data-link-type="idl-name" href="https://webidl.spec.whatwg.org/#Function"><c- n>Function</c-></a> <a href="#dom-xrtest-simulateuseractivation-f-f"><code><c- g>f</c-></code></a>);
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise"><c- b>Promise</c-></a>&lt;<a data-link-type="idl-name"><c- n>void</c-></a>> <a class="idl-code" data-link-type="method" href="#dom-xrtest-disconnectalldevices"><c- g>disconnectAllDevices</c-></a>();
};

<c- b>dictionary</c-> <a href="#dictdef-fakexrdeviceinit"><code><c- g>FakeXRDeviceInit</c-></code></a> {
    <c- b>required</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-boolean"><c- b>boolean</c-></a> <a data-type="boolean " href="#dom-fakexrdeviceinit-supportsimmersive"><code><c- g>supportsImmersive</c-></code></a>;
    <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#idl-sequence"><c- b>sequence</c-></a>&lt;<a data-link-type="idl-name" href="https://immersive-web.github.io/webxr/#enumdef-xrsessionmode"><c- n>XRSessionMode</c-></a>> <a data-type="sequence<XRSessionMode> " href="#dom-fakexrdeviceinit-supportedmodes"><code><c- g>supportedModes</c-></code></a>;
    <c- b>required</c-> <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#idl-sequence"><c- b>sequence</c-></a>&lt;<a data-link-type="idl-name" href="#dictdef-fakexrviewinit"><c- n>FakeXRViewInit</c-></a>> <a data-type="sequence<FakeXRViewInit> " href="#dom-fakexrdeviceinit-views"><code><c- g>views</c-></code></a>;

    <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#idl-sequence"><c- b>sequence</c-></a>&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-any"><c- b>any</c-></a>> <a data-type="sequence<any> " href="#dom-fakexrdeviceinit-supportedfeatures"><code><c- g>supportedFeatures</c-></code></a>;
    <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#idl-sequence"><c- b>sequence</c-></a>&lt;<a data-link-type="idl-name" href="#dictdef-fakexrboundspoint"><c- n>FakeXRBoundsPoint</c-></a>> <a data-type="sequence<FakeXRBoundsPoint> " href="#dom-fakexrdeviceinit-boundscoordinates"><code><c- g>boundsCoordinates</c-></code></a>;
    <a data-link-type="idl-name" href="#dictdef-fakexrrigidtransforminit"><c- n>FakeXRRigidTransformInit</c-></a> <a data-type="FakeXRRigidTransformInit " href="#dom-fakexrdeviceinit-floororigin"><code><c- g>floorOrigin</c-></code></a>;
    <a data-link-type="idl-name" href="#dictdef-fakexrrigidtransforminit"><c- n>FakeXRRigidTransformInit</c-></a> <a data-type="FakeXRRigidTransformInit " href="#dom-fakexrdeviceinit-viewerorigin"><code><c- g>viewerOrigin</c-></code></a>;

    // Hit test extensions:
    <a data-link-type="idl-name" href="#dictdef-fakexrworldinit"><c- n>FakeXRWorldInit</c-></a> <a data-type="FakeXRWorldInit " href="#dom-fakexrdeviceinit-world"><code><c- g>world</c-></code></a>;

    // Depth sensing extensions:
    <a data-link-type="idl-name" href="#dictdef-fakexrdepthsensingdatainit"><c- n>FakeXRDepthSensingDataInit</c-></a> <a data-type="FakeXRDepthSensingDataInit " href="#dom-fakexrdeviceinit-depthsensingdata"><code><c- g>depthSensingData</c-></code></a>;
};

<c- b>dictionary</c-> <a href="#dictdef-fakexrviewinit"><code><c- g>FakeXRViewInit</c-></code></a> {
  <c- b>required</c-> <a data-link-type="idl-name" href="https://immersive-web.github.io/webxr/#enumdef-xreye"><c- n>XREye</c-></a> <a data-type="XREye " href="#dom-fakexrviewinit-eye"><code><c- g>eye</c-></code></a>;
  <c- b>required</c-> <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#idl-sequence"><c- b>sequence</c-></a>&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-float"><c- b>float</c-></a>> <a data-type="sequence<float> " href="#dom-fakexrviewinit-projectionmatrix"><code><c- g>projectionMatrix</c-></code></a>;
  <c- b>required</c-> <a data-link-type="idl-name" href="#dictdef-fakexrdeviceresolution"><c- n>FakeXRDeviceResolution</c-></a> <a data-type="FakeXRDeviceResolution " href="#dom-fakexrviewinit-resolution"><code><c- g>resolution</c-></code></a>;
  <c- b>required</c-> <a data-link-type="idl-name" href="#dictdef-fakexrrigidtransforminit"><c- n>FakeXRRigidTransformInit</c-></a> <a data-type="FakeXRRigidTransformInit " href="#dom-fakexrviewinit-viewoffset"><code><c- g>viewOffset</c-></code></a>;
  <a data-link-type="idl-name" href="#dictdef-fakexrfieldofviewinit"><c- n>FakeXRFieldOfViewInit</c-></a> <a data-type="FakeXRFieldOfViewInit " href="#dom-fakexrviewinit-fieldofview"><code><c- g>fieldOfView</c-></code></a>;
};

<c- b>dictionary</c-> <a href="#dictdef-fakexrfieldofviewinit"><code><c- g>FakeXRFieldOfViewInit</c-></code></a> {
  <c- b>required</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-float"><c- b>float</c-></a> <a data-type="float " href="#dom-fakexrfieldofviewinit-updegrees"><code><c- g>upDegrees</c-></code></a>;
  <c- b>required</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-float"><c- b>float</c-></a> <a data-type="float " href="#dom-fakexrfieldofviewinit-downdegrees"><code><c- g>downDegrees</c-></code></a>;
  <c- b>required</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-float"><c- b>float</c-></a> <a data-type="float " href="#dom-fakexrfieldofviewinit-leftdegrees"><code><c- g>leftDegrees</c-></code></a>;
  <c- b>required</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-float"><c- b>float</c-></a> <a data-type="float " href="#dom-fakexrfieldofviewinit-rightdegrees"><code><c- g>rightDegrees</c-></code></a>;
};

<c- b>dictionary</c-> <a href="#dictdef-fakexrdeviceresolution"><code><c- g>FakeXRDeviceResolution</c-></code></a> {
    <c- b>required</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-long"><c- b>long</c-></a> <a data-type="long " href="#dom-fakexrdeviceresolution-width"><code><c- g>width</c-></code></a>;
    <c- b>required</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-long"><c- b>long</c-></a> <a data-type="long " href="#dom-fakexrdeviceresolution-height"><code><c- g>height</c-></code></a>;
};

<c- b>dictionary</c-> <a href="#dictdef-fakexrboundspoint"><code><c- g>FakeXRBoundsPoint</c-></code></a> {
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-double"><c- b>double</c-></a> <a data-type="double " href="#dom-fakexrboundspoint-x"><code><c- g>x</c-></code></a>; <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-double"><c- b>double</c-></a> <a data-type="double " href="#dom-fakexrboundspoint-z"><code><c- g>z</c-></code></a>;
};

<c- b>dictionary</c-> <a href="#dictdef-fakexrrigidtransforminit"><code><c- g>FakeXRRigidTransformInit</c-></code></a> {
  <c- b>required</c-> <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#idl-sequence"><c- b>sequence</c-></a>&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-float"><c- b>float</c-></a>> <a data-type="sequence<float> " href="#dom-fakexrrigidtransforminit-position"><code><c- g>position</c-></code></a>;
  <c- b>required</c-> <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#idl-sequence"><c- b>sequence</c-></a>&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-float"><c- b>float</c-></a>> <a data-type="sequence<float> " href="#dom-fakexrrigidtransforminit-orientation"><code><c- g>orientation</c-></code></a>;
};


<c- b>interface</c-> <a href="#fakexrdevice"><code><c- g>FakeXRDevice</c-></code></a> : <a data-link-type="idl-name" href="https://dom.spec.whatwg.org/#eventtarget"><c- n>EventTarget</c-></a> {
  <a data-link-type="idl-name"><c- n>void</c-></a> <a class="idl-code" data-link-type="method" href="#dom-fakexrdevice-setviews"><c- g>setViews</c-></a>(<a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#idl-sequence"><c- b>sequence</c-></a>&lt;<a data-link-type="idl-name" href="#dictdef-fakexrviewinit"><c- n>FakeXRViewInit</c-></a>> <a href="#dom-fakexrdevice-setviews-views-views"><code><c- g>views</c-></code></a>);

  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise"><c- b>Promise</c-></a>&lt;<a data-link-type="idl-name"><c- n>void</c-></a>> <a class="idl-code" data-link-type="method" href="#dom-fakexrdevice-disconnect"><c- g>disconnect</c-></a>();

  <a data-link-type="idl-name"><c- n>void</c-></a> <a class="idl-code" data-link-type="method" href="#dom-fakexrdevice-setviewerorigin"><c- g>setViewerOrigin</c-></a>(<a data-link-type="idl-name" href="#dictdef-fakexrrigidtransforminit"><c- n>FakeXRRigidTransformInit</c-></a> <a href="#dom-fakexrdevice-setviewerorigin-origin-emulatedposition-origin"><code><c- g>origin</c-></code></a>, <c- b>optional</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-boolean"><c- b>boolean</c-></a> <a href="#dom-fakexrdevice-setviewerorigin-origin-emulatedposition-emulatedposition"><code><c- g>emulatedPosition</c-></code></a> = <c- b>false</c->);
  <a data-link-type="idl-name"><c- n>void</c-></a> <a class="idl-code" data-link-type="method" href="#dom-fakexrdevice-clearviewerorigin"><c- g>clearViewerOrigin</c-></a>();
  <a data-link-type="idl-name"><c- n>void</c-></a> <a class="idl-code" data-link-type="method" href="#dom-fakexrdevice-setfloororigin"><c- g>setFloorOrigin</c-></a>(<a data-link-type="idl-name" href="#dictdef-fakexrrigidtransforminit"><c- n>FakeXRRigidTransformInit</c-></a> <a href="#dom-fakexrdevice-setfloororigin-origin-origin"><code><c- g>origin</c-></code></a>);
  <a data-link-type="idl-name"><c- n>void</c-></a> <a class="idl-code" data-link-type="method" href="#dom-fakexrdevice-clearfloororigin"><c- g>clearFloorOrigin</c-></a>();
  <a data-link-type="idl-name"><c- n>void</c-></a> <a class="idl-code" data-link-type="method" href="#dom-fakexrdevice-setboundsgeometry"><c- g>setBoundsGeometry</c-></a>(<a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#idl-sequence"><c- b>sequence</c-></a>&lt;<a data-link-type="idl-name" href="#dictdef-fakexrboundspoint"><c- n>FakeXRBoundsPoint</c-></a>> <a href="#dom-fakexrdevice-setboundsgeometry-boundscoordinates-boundscoordinates"><code><c- g>boundsCoordinates</c-></code></a>);
  <a data-link-type="idl-name"><c- n>void</c-></a> <a class="idl-code" data-link-type="method" href="#dom-fakexrdevice-simulateresetpose"><c- g>simulateResetPose</c-></a>();

  <a data-link-type="idl-name"><c- n>void</c-></a> <a class="idl-code" data-link-type="method" href="#dom-fakexrdevice-simulatevisibilitychange"><c- g>simulateVisibilityChange</c-></a>(<a data-link-type="idl-name" href="https://immersive-web.github.io/webxr/#enumdef-xrvisibilitystate"><c- n>XRVisibilityState</c-></a> <a href="#dom-fakexrdevice-simulatevisibilitychange-state-state"><code><c- g>state</c-></code></a>);

  <a data-link-type="idl-name" href="#fakexrinputcontroller"><c- n>FakeXRInputController</c-></a> <a class="idl-code" data-link-type="method" href="#dom-fakexrdevice-simulateinputsourceconnection"><c- g>simulateInputSourceConnection</c-></a>(<a data-link-type="idl-name" href="#dictdef-fakexrinputsourceinit"><c- n>FakeXRInputSourceInit</c-></a> <a href="#dom-fakexrdevice-simulateinputsourceconnection-init-init"><code><c- g>init</c-></code></a>);

  // Hit test extensions:
  <a data-link-type="idl-name"><c- n>void</c-></a> <a href="#dom-fakexrdevice-setworld"><code><c- g>setWorld</c-></code></a>(<a data-link-type="idl-name" href="#dictdef-fakexrworldinit"><c- n>FakeXRWorldInit</c-></a> <a href="#dom-fakexrdevice-setworld-world-world"><code><c- g>world</c-></code></a>);
  <a data-link-type="idl-name"><c- n>void</c-></a> <a href="#dom-fakexrdevice-clearworld"><code><c- g>clearWorld</c-></code></a>();

  // Depth sensing extensions:
  <a data-link-type="idl-name"><c- n>void</c-></a> <a href="#dom-fakexrdevice-setdepthsensingdata"><code><c- g>setDepthSensingData</c-></code></a>(<a data-link-type="idl-name" href="#dictdef-fakexrdepthsensingdatainit"><c- n>FakeXRDepthSensingDataInit</c-></a> <a href="#dom-fakexrdevice-setdepthsensingdata-depthsensingdata-depthsensingdata"><code><c- g>depthSensingData</c-></code></a>);
  <a data-link-type="idl-name"><c- n>void</c-></a> <a href="#dom-fakexrdevice-cleardepthsensingdata"><code><c- g>clearDepthSensingData</c-></code></a>();
};


<c- b>dictionary</c-> <a href="#dictdef-fakexrinputsourceinit"><code><c- g>FakeXRInputSourceInit</c-></code></a> {
  <c- b>required</c-> <a data-link-type="idl-name" href="https://immersive-web.github.io/webxr/#enumdef-xrhandedness"><c- n>XRHandedness</c-></a> <a data-type="XRHandedness " href="#dom-fakexrinputsourceinit-handedness"><code><c- g>handedness</c-></code></a>;
  <c- b>required</c-> <a data-link-type="idl-name" href="https://immersive-web.github.io/webxr/#enumdef-xrtargetraymode"><c- n>XRTargetRayMode</c-></a> <a data-type="XRTargetRayMode " href="#dom-fakexrinputsourceinit-targetraymode"><code><c- g>targetRayMode</c-></code></a>;
  <c- b>required</c-> <a data-link-type="idl-name" href="#dictdef-fakexrrigidtransforminit"><c- n>FakeXRRigidTransformInit</c-></a> <a data-type="FakeXRRigidTransformInit " href="#dom-fakexrinputsourceinit-pointerorigin"><code><c- g>pointerOrigin</c-></code></a>;
  <c- b>required</c-> <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#idl-sequence"><c- b>sequence</c-></a>&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString"><c- b>DOMString</c-></a>> <a data-type="sequence<DOMString> " href="#dom-fakexrinputsourceinit-profiles"><code><c- g>profiles</c-></code></a>;
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-boolean"><c- b>boolean</c-></a> <a data-default="false" data-type="boolean " href="#dom-fakexrinputsourceinit-selectionstarted"><code><c- g>selectionStarted</c-></code></a> = <c- b>false</c->;
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-boolean"><c- b>boolean</c-></a> <a data-default="false" data-type="boolean " href="#dom-fakexrinputsourceinit-selectionclicked"><code><c- g>selectionClicked</c-></code></a> = <c- b>false</c->;
  <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#idl-sequence"><c- b>sequence</c-></a>&lt;<a data-link-type="idl-name" href="#dictdef-fakexrbuttonstateinit"><c- n>FakeXRButtonStateInit</c-></a>> <a data-type="sequence<FakeXRButtonStateInit> " href="#dom-fakexrinputsourceinit-supportedbuttons"><code><c- g>supportedButtons</c-></code></a>;
  <a data-link-type="idl-name" href="#dictdef-fakexrrigidtransforminit"><c- n>FakeXRRigidTransformInit</c-></a> <a data-type="FakeXRRigidTransformInit " href="#dom-fakexrinputsourceinit-griporigin"><code><c- g>gripOrigin</c-></code></a>;
};

<c- b>interface</c-> <a href="#fakexrinputcontroller"><code><c- g>FakeXRInputController</c-></code></a> {
  <a data-link-type="idl-name"><c- n>void</c-></a> <a class="idl-code" data-link-type="method" href="#dom-fakexrinputcontroller-sethandedness"><c- g>setHandedness</c-></a>(<a data-link-type="idl-name" href="https://immersive-web.github.io/webxr/#enumdef-xrhandedness"><c- n>XRHandedness</c-></a> <a href="#dom-fakexrinputcontroller-sethandedness-handedness-handedness"><code><c- g>handedness</c-></code></a>);
  <a data-link-type="idl-name"><c- n>void</c-></a> <a class="idl-code" data-link-type="method" href="#dom-fakexrinputcontroller-settargetraymode"><c- g>setTargetRayMode</c-></a>(<a data-link-type="idl-name" href="https://immersive-web.github.io/webxr/#enumdef-xrtargetraymode"><c- n>XRTargetRayMode</c-></a> <a href="#dom-fakexrinputcontroller-settargetraymode-targetraymode-targetraymode"><code><c- g>targetRayMode</c-></code></a>);
  <a data-link-type="idl-name"><c- n>void</c-></a> <a class="idl-code" data-link-type="method" href="#dom-fakexrinputcontroller-setprofiles"><c- g>setProfiles</c-></a>(<a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#idl-sequence"><c- b>sequence</c-></a>&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString"><c- b>DOMString</c-></a>> <a href="#dom-fakexrinputcontroller-setprofiles-profiles-profiles"><code><c- g>profiles</c-></code></a>);
  <a data-link-type="idl-name"><c- n>void</c-></a> <a class="idl-code" data-link-type="method" href="#dom-fakexrinputcontroller-setgriporigin"><c- g>setGripOrigin</c-></a>(<a data-link-type="idl-name" href="#dictdef-fakexrrigidtransforminit"><c- n>FakeXRRigidTransformInit</c-></a> <a href="#dom-fakexrinputcontroller-setgriporigin-griporigin-emulatedposition-griporigin"><code><c- g>gripOrigin</c-></code></a>, <c- b>optional</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-boolean"><c- b>boolean</c-></a> <a href="#dom-fakexrinputcontroller-setgriporigin-griporigin-emulatedposition-emulatedposition"><code><c- g>emulatedPosition</c-></code></a> = <c- b>false</c->);
  <a data-link-type="idl-name"><c- n>void</c-></a> <a class="idl-code" data-link-type="method" href="#dom-fakexrinputcontroller-cleargriporigin"><c- g>clearGripOrigin</c-></a>();
  <a data-link-type="idl-name"><c- n>void</c-></a> <a class="idl-code" data-link-type="method" href="#dom-fakexrinputcontroller-setpointerorigin"><c- g>setPointerOrigin</c-></a>(<a data-link-type="idl-name" href="#dictdef-fakexrrigidtransforminit"><c- n>FakeXRRigidTransformInit</c-></a> <a href="#dom-fakexrinputcontroller-setpointerorigin-pointerorigin-emulatedposition-pointerorigin"><code><c- g>pointerOrigin</c-></code></a>, <c- b>optional</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-boolean"><c- b>boolean</c-></a> <a href="#dom-fakexrinputcontroller-setpointerorigin-pointerorigin-emulatedposition-emulatedposition"><code><c- g>emulatedPosition</c-></code></a> = <c- b>false</c->);

  <a data-link-type="idl-name"><c- n>void</c-></a> <a class="idl-code" data-link-type="method" href="#dom-fakexrinputcontroller-disconnect"><c- g>disconnect</c-></a>();
  <a data-link-type="idl-name"><c- n>void</c-></a> <a class="idl-code" data-link-type="method" href="#dom-fakexrinputcontroller-reconnect"><c- g>reconnect</c-></a>();

  <a data-link-type="idl-name"><c- n>void</c-></a> <a class="idl-code" data-link-type="method" href="#dom-fakexrinputcontroller-startselection"><c- g>startSelection</c-></a>();
  <a data-link-type="idl-name"><c- n>void</c-></a> <a class="idl-code" data-link-type="method" href="#dom-fakexrinputcontroller-endselection"><c- g>endSelection</c-></a>();
  <a data-link-type="idl-name"><c- n>void</c-></a> <a class="idl-code" data-link-type="method" href="#dom-fakexrinputcontroller-simulateselect"><c- g>simulateSelect</c-></a>();

  <a data-link-type="idl-name"><c- n>void</c-></a> <a class="idl-code" data-link-type="method" href="#dom-fakexrinputcontroller-setsupportedbuttons"><c- g>setSupportedButtons</c-></a>(<a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#idl-sequence"><c- b>sequence</c-></a>&lt;<a data-link-type="idl-name" href="#dictdef-fakexrbuttonstateinit"><c- n>FakeXRButtonStateInit</c-></a>> <a href="#dom-fakexrinputcontroller-setsupportedbuttons-supportedbuttons-supportedbuttons"><code><c- g>supportedButtons</c-></code></a>);
  <a data-link-type="idl-name"><c- n>void</c-></a> <a class="idl-code" data-link-type="method" href="#dom-fakexrinputcontroller-updatebuttonstate"><c- g>updateButtonState</c-></a>(<a data-link-type="idl-name" href="#dictdef-fakexrbuttonstateinit"><c- n>FakeXRButtonStateInit</c-></a> <a href="#dom-fakexrinputcontroller-updatebuttonstate-buttonstate-buttonstate"><code><c- g>buttonState</c-></code></a>);
};

<c- b>enum</c-> <a href="#enumdef-fakexrbuttontype"><code><c- g>FakeXRButtonType</c-></code></a> {
  <a href="#dom-fakexrbuttontype-grip"><code><c- s>"grip"</c-></code></a>,
  <a href="#dom-fakexrbuttontype-touchpad"><code><c- s>"touchpad"</c-></code></a>,
  <a href="#dom-fakexrbuttontype-thumbstick"><code><c- s>"thumbstick"</c-></code></a>,
  <a href="#dom-fakexrbuttontype-optional-button"><code><c- s>"optional-button"</c-></code></a>,
  <a href="#dom-fakexrbuttontype-optional-thumbstick"><code><c- s>"optional-thumbstick"</c-></code></a>
};

<c- b>dictionary</c-> <a href="#dictdef-fakexrbuttonstateinit"><code><c- g>FakeXRButtonStateInit</c-></code></a> {
  <c- b>required</c-> <a data-link-type="idl-name" href="#enumdef-fakexrbuttontype"><c- n>FakeXRButtonType</c-></a> <a data-type="FakeXRButtonType " href="#dom-fakexrbuttonstateinit-buttontype"><code><c- g>buttonType</c-></code></a>;
  <c- b>required</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-boolean"><c- b>boolean</c-></a> <a data-type="boolean " href="#dom-fakexrbuttonstateinit-pressed"><code><c- g>pressed</c-></code></a>;
  <c- b>required</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-boolean"><c- b>boolean</c-></a> <a data-type="boolean " href="#dom-fakexrbuttonstateinit-touched"><code><c- g>touched</c-></code></a>;
  <c- b>required</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-float"><c- b>float</c-></a> <a data-type="float " href="#dom-fakexrbuttonstateinit-pressedvalue"><code><c- g>pressedValue</c-></code></a>;
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-float"><c- b>float</c-></a> <a data-default="0.0" data-type="float " href="#dom-fakexrbuttonstateinit-xvalue"><code><c- g>xValue</c-></code></a> = 0.0;
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-float"><c- b>float</c-></a> <a data-default="0.0" data-type="float " href="#dom-fakexrbuttonstateinit-yvalue"><code><c- g>yValue</c-></code></a> = 0.0;
};

<c- b>dictionary</c-> <a href="#dictdef-fakexrworldinit"><code><c- g>FakeXRWorldInit</c-></code></a> {
  <c- b>required</c-> <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#idl-sequence"><c- b>sequence</c-></a>&lt;<a data-link-type="idl-name" href="#dictdef-fakexrregioninit"><c- n>FakeXRRegionInit</c-></a>> <a data-type="sequence<FakeXRRegionInit> " href="#dom-fakexrworldinit-hittestregions"><code><c- g>hitTestRegions</c-></code></a>;
};


<c- b>dictionary</c-> <a href="#dictdef-fakexrregioninit"><code><c- g>FakeXRRegionInit</c-></code></a> {
  <c- b>required</c-> <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#idl-sequence"><c- b>sequence</c-></a>&lt;<a data-link-type="idl-name" href="#dictdef-fakexrtriangleinit"><c- n>FakeXRTriangleInit</c-></a>> <a data-type="sequence<FakeXRTriangleInit> " href="#dom-fakexrregioninit-faces"><code><c- g>faces</c-></code></a>;
  <c- b>required</c-> <a data-link-type="idl-name" href="#enumdef-fakexrregiontype"><c- n>FakeXRRegionType</c-></a> <a data-type="FakeXRRegionType " href="#dom-fakexrregioninit-type"><code><c- g>type</c-></code></a>;
};


<c- b>dictionary</c-> <a href="#dictdef-fakexrtriangleinit"><code><c- g>FakeXRTriangleInit</c-></code></a> {
  <c- b>required</c-> <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#idl-sequence"><c- b>sequence</c-></a>&lt;<a data-link-type="idl-name" href="https://drafts.fxtf.org/geometry-1/#dictdef-dompointinit"><c- n>DOMPointInit</c-></a>> <a data-type="sequence<DOMPointInit> " href="#dom-fakexrtriangleinit-vertices"><code><c- g>vertices</c-></code></a>;  // size = 3
};


<c- b>enum</c-> <a href="#enumdef-fakexrregiontype"><code><c- g>FakeXRRegionType</c-></code></a> {
  <a href="#dom-fakexrregiontype-point"><code><c- s>"point"</c-></code></a>,
  <a href="#dom-fakexrregiontype-plane"><code><c- s>"plane"</c-></code></a>,
  <a href="#dom-fakexrregiontype-mesh"><code><c- s>"mesh"</c-></code></a>
};


<c- b>partial</c-> <c- b>interface</c-> <a class="idl-code" data-link-type="interface" href="#fakexrinputcontroller"><c- g>FakeXRInputController</c-></a> {
  <a data-link-type="idl-name"><c- n>void</c-></a> <a class="idl-code" data-link-type="method" href="#dom-fakexrinputcontroller-setoverlaypointerposition"><c- g>setOverlayPointerPosition</c-></a>(<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-float"><c- b>float</c-></a> <a href="#dom-fakexrinputcontroller-setoverlaypointerposition-x-y-x"><code><c- g>x</c-></code></a>, <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-float"><c- b>float</c-></a> <a href="#dom-fakexrinputcontroller-setoverlaypointerposition-x-y-y"><code><c- g>y</c-></code></a>);
};

<c- b>dictionary</c-> <a href="#dictdef-fakexranchorcreationparameters"><code><c- g>FakeXRAnchorCreationParameters</c-></code></a> {
  <a data-link-type="idl-name" href="#dictdef-fakexrrigidtransforminit"><c- n>FakeXRRigidTransformInit</c-></a> <a data-type="FakeXRRigidTransformInit " href="#dom-fakexranchorcreationparameters-requestedanchororigin"><code><c- g>requestedAnchorOrigin</c-></code></a>;
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-boolean"><c- b>boolean</c-></a> <a data-type="boolean " href="#dom-fakexranchorcreationparameters-isattachedtoentity"><code><c- g>isAttachedToEntity</c-></code></a>;
};

<c- b>callback</c-> <a href="#callbackdef-fakexranchorcreationcallback"><code><c- g>FakeXRAnchorCreationCallback</c-></code></a> = <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise"><c- b>Promise</c-></a>&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-boolean"><c- b>boolean</c-></a>> (<a data-link-type="idl-name" href="#dictdef-fakexranchorcreationparameters"><c- n>FakeXRAnchorCreationParameters</c-></a> <a href="#dom-fakexranchorcreationcallback-parameters"><code><c- g>parameters</c-></code></a>, <a data-link-type="idl-name" href="#fakexranchorcontroller"><c- n>FakeXRAnchorController</c-></a> <a href="#dom-fakexranchorcreationcallback-anchorcontroller"><code><c- g>anchorController</c-></code></a>);

<c- b>partial</c-> <c- b>interface</c-> <a class="idl-code" data-link-type="interface" href="#fakexrdevice"><c- g>FakeXRDevice</c-></a> {
  <a data-link-type="idl-name"><c- n>void</c-></a> <a href="#dom-fakexrdevice-setanchorcreationcallback"><code><c- g>setAnchorCreationCallback</c-></code></a>(<a data-link-type="idl-name" href="#callbackdef-fakexranchorcreationcallback"><c- n>FakeXRAnchorCreationCallback</c-></a>? <a href="#dom-fakexrdevice-setanchorcreationcallback-callback-callback"><code><c- g>callback</c-></code></a>);
};


<c- b>interface</c-> <a href="#fakexranchorcontroller"><code><c- g>FakeXRAnchorController</c-></code></a> {
  <c- b>readonly</c-> <c- b>attribute</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-boolean"><c- b>boolean</c-></a> <a data-readonly data-type="boolean" href="#dom-fakexranchorcontroller-deleted"><code><c- g>deleted</c-></code></a>;

  // Controlling anchor state:
  <a data-link-type="idl-name"><c- n>void</c-></a> <a href="#dom-fakexranchorcontroller-pausetracking"><code><c- g>pauseTracking</c-></code></a>();
  <a data-link-type="idl-name"><c- n>void</c-></a> <a href="#dom-fakexranchorcontroller-resumetracking"><code><c- g>resumeTracking</c-></code></a>();
  <a data-link-type="idl-name"><c- n>void</c-></a> <a href="#dom-fakexranchorcontroller-stoptracking"><code><c- g>stopTracking</c-></code></a>();

  // Controlling anchor location:
  <a data-link-type="idl-name"><c- n>void</c-></a> <a href="#dom-fakexranchorcontroller-setanchororigin"><code><c- g>setAnchorOrigin</c-></code></a>(<a data-link-type="idl-name" href="#dictdef-fakexrrigidtransforminit"><c- n>FakeXRRigidTransformInit</c-></a> <a href="#dom-fakexranchorcontroller-setanchororigin-anchororigin-anchororigin"><code><c- g>anchorOrigin</c-></code></a>);
};


<c- b>dictionary</c-> <a href="#dictdef-fakexrlightestimateinit"><code><c- g>FakeXRLightEstimateInit</c-></code></a> {
  <c- b>required</c-> <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#idl-sequence"><c- b>sequence</c-></a>&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-float"><c- b>float</c-></a>> <a data-type="sequence<float> " href="#dom-fakexrlightestimateinit-sphericalharmonicscoefficients"><code><c- g>sphericalHarmonicsCoefficients</c-></code></a>;
  <a data-link-type="idl-name" href="https://drafts.fxtf.org/geometry-1/#dictdef-dompointinit"><c- n>DOMPointInit</c-></a> <a data-type="DOMPointInit " href="#dom-fakexrlightestimateinit-primarylightdirection"><code><c- g>primaryLightDirection</c-></code></a>;
  <a data-link-type="idl-name" href="https://drafts.fxtf.org/geometry-1/#dictdef-dompointinit"><c- n>DOMPointInit</c-></a> <a data-type="DOMPointInit " href="#dom-fakexrlightestimateinit-primarylightintensity"><code><c- g>primaryLightIntensity</c-></code></a>;
};

<c- b>partial</c-> <c- b>interface</c-> <a class="idl-code" data-link-type="interface" href="#fakexrdevice"><c- g>FakeXRDevice</c-></a> {
  <a data-link-type="idl-name"><c- n>void</c-></a> <a class="idl-code" data-link-type="method" href="#dom-fakexrdevice-setlightestimate"><c- g>setLightEstimate</c-></a>(<a data-link-type="idl-name" href="#dictdef-fakexrlightestimateinit"><c- n>FakeXRLightEstimateInit</c-></a> <a href="#dom-fakexrdevice-setlightestimate-init-init"><code><c- g>init</c-></code></a>);
};


<c- b>dictionary</c-> <a href="#dictdef-fakexrdepthsensingdatainit"><code><c- g>FakeXRDepthSensingDataInit</c-></code></a> {
  <c- b>required</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-ArrayBuffer"><c- b>ArrayBuffer</c-></a> <a data-type="ArrayBuffer " href="#dom-fakexrdepthsensingdatainit-depthdata"><code><c- g>depthData</c-></code></a>;
  <c- b>required</c-> <a data-link-type="idl-name" href="#dictdef-fakexrrigidtransforminit"><c- n>FakeXRRigidTransformInit</c-></a> <a data-type="FakeXRRigidTransformInit " href="#dom-fakexrdepthsensingdatainit-normdepthbufferfromnormview"><code><c- g>normDepthBufferFromNormView</c-></code></a>;
  <c- b>required</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-float"><c- b>float</c-></a> <a data-type="float " href="#dom-fakexrdepthsensingdatainit-rawvaluetometers"><code><c- g>rawValueToMeters</c-></code></a>;
  <c- b>required</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-unsigned-long"><c- b>unsigned</c-> <c- b>long</c-></a> <a data-type="unsigned long " href="#dom-fakexrdepthsensingdatainit-width"><code><c- g>width</c-></code></a>;
  <c- b>required</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-unsigned-long"><c- b>unsigned</c-> <c- b>long</c-></a> <a data-type="unsigned long " href="#dom-fakexrdepthsensingdatainit-height"><code><c- g>height</c-></code></a>;
};


</pre>
<script>/* Boilerplate: script-dfn-panel */
"use strict";
{
    const dfnsJson = window.dfnsJson || {};

    // Functions, divided by link type, that wrap an autolink's
    // contents with the appropriate outer syntax.
    // Alternately, a string naming another type they format
    // the same as.
    const typeFormatters = {
        'dfn': (text) => `[=${text}=]`,
        'abstract-op': (text) => `[\$${text}\$]`,
        'value': (text) => `''${text}''`,
        'http-header': (text) => `[:${text}:]`,
        'idl': (text) => `{{${text}}}`,
        'interface': 'idl',
        'constructor': 'idl',
        'method': 'idl',
        'argument': 'idl',
        'attribute': 'idl',
        'callback': 'idl',
        'dictionary': 'idl',
        'dict-member': 'idl',
        'enum': 'idl',
        'enum-value': 'idl',
        'exception': 'idl',
        'const': 'idl',
        'typedef': 'idl',
        'stringifier': 'idl',
        'serializer': 'idl',
        'iterator': 'idl',
        'maplike': 'idl',
        'setlike': 'idl',
        'extended-attribute': 'idl',
        'event': 'idl',
        'element': (element) => `<{${element}}>`,
        'element-state': 'element',
        'element-attr': 'element',
        'attr-value': 'element',
        'scheme': 'dfn',
        'permission': 'dfn',
        'grammar': (text) => `${text} (within a <pre class=prod>)`,
        'type': (text)=> `<<${text}>>`,
        'property': (text) => `'${text}'`,
        'descriptor': 'property',
        'function': 'value',
        'at-rule': 'value',
        'selector': 'value',
    };
    const typesUsingFor = new Set(
        [
            "descriptor",
            "value",
            "element-attr",
            "attr-value",
            "element-state",
            "method",
            "constructor",
            "argument",
            "attribute",
            "const",
            "dict-member",
            "event",
            "enum-value",
            "stringifier",
            "serializer",
            "iterator",
            "maplike",
            "setlike",
            "state",
            "mode",
            "context",
            "facet",
        ],
    )
    const typesNotUsingFor = new Set(
        [
            "property",
            "element",
            "interface",
            "namespace",
            "callback",
            "dictionary",
            "enum",
            "exception",
            "typedef",
            "http-header",
            "permission",
        ],
    )
    function linkFormatterFromType(type) {
        const fnOrType = typeFormatters[type];
        if(typeof fnOrType === 'string') {
            // follow the alias
            return linkFormatterFromType(fnOrType);
        }
        return fnOrType;
    };

    function genLinkingSyntaxes(dfn) {
        if(dfn.tagName != "DFN") return;

        const type = dfn.getAttribute('data-dfn-type');
        if(!type) {
            console.log(`<dfn> doesn't have a data-dfn-type:`, dfn);
            return [];
        }

        // Return a function that wraps link text based on the type
        const linkFormatter = linkFormatterFromType(type);
        if(!linkFormatter) {
            console.log(`<dfn> has an unknown data-dfn-type:`, dfn);
            return [];
        }

        let ltAlts;
        if(dfn.hasAttribute('data-lt')) {
            ltAlts = dfn.getAttribute('data-lt')
                .split("|")
                .map(x=>x.trim());
        } else {
            ltAlts = [dfn.textContent.trim()];
        }
        if(type == "type") {
            // lt of "<foo>", but "foo" is the interior;
            // <<foo/bar>> is how you write it with a for,
            // not <foo/<bar>> or whatever.
            for(var i = 0; i < ltAlts.length; i++) {
                const lt = ltAlts[i];
                const match = /<(.*)>/.exec(lt);
                if(match) { ltAlts[i] = match[1]; }
            }
        }

        let forAlts;
        if(dfn.hasAttribute('data-dfn-for')) {
            forAlts = dfn.getAttribute('data-dfn-for')
                .split(",")
                .map(x=>x.trim());
        } else {
            forAlts = [''];
        }

        let linkingSyntaxes = [];
        if(!typesUsingFor.has(type)) {
            for(const lt of ltAlts) {
                linkingSyntaxes.push(linkFormatter(lt));
            }
        }
        if(!typesNotUsingFor.has(type)) {
            for(const f of forAlts) {
                linkingSyntaxes.push(linkFormatter(`${f}/${ltAlts[0]}`))
            }
        }
        return [
            mk.b({}, 'Possible linking syntaxes:'),
            mk.ul({},
                ...linkingSyntaxes.map(link => {
                    const copyLink = async () =>
                        await navigator.clipboard.writeText(link);
                    return mk.li({},
                        mk.div({ class: 'link-item' },
                            mk.button({
                                class: 'copy-icon', title: 'Copy',
                                type: 'button',
                                _onclick: copyLink,
                                tabindex: 0,
                            }, mk.span({ class: 'icon' }) ),
                            mk.span({}, link)
                        )
                    );
                })
            )
        ];
    }

    function genDfnPanel({ dfn, dfnID, url, dfnText, refSections, external }) {
        return mk.aside({
            class: "dfn-panel",
            id: `infopanel-for-${dfnID}`,
            "data-for": dfnID,
            "aria-labelled-by":`infopaneltitle-for-${dfnID}`,
            },
            mk.span({id:`infopaneltitle-for-${dfnID}`, style:"display:none"},
                `Info about the '${dfnText}' ${external?"external":""} reference.`),
            mk.a({href:url}, url),
            mk.b({}, "Referenced in:"),
            mk.ul({},
                ...refSections.map(section=>
                    mk.li({},
                        ...section.refs.map((ref, refI)=>
                            [
                                mk.a({
                                    href: `#${ref.id}`
                                    },
                                    (refI == 0) ? section.title : `(${refI + 1})`
                                ),
                                " ",
                            ]
                        ),
                    ),
                ),
            ),
            genLinkingSyntaxes(dfn),
        );
    }

    function genAllDfnPanels() {
        for(const panelData of Object.values(window.dfnpanelData)) {
            const dfnID = panelData.dfnID;
            const dfn = document.getElementById(dfnID);
            if(!dfn) {
                console.log(`Can't find dfn#${dfnID}.`, panelData);
            } else {
                const panel = genDfnPanel({ ...panelData, dfn });
                append(document.body, panel);
                insertDfnPopupAction(dfn, panel)
            }
        }
    }

    document.addEventListener("DOMContentLoaded", ()=>{
        genAllDfnPanels();

        // Add popup behavior to all dfns to show the corresponding dfn-panel.
        var dfns = queryAll('.dfn-paneled');
        for(let dfn of dfns) { ; }

        document.body.addEventListener("click", (e) => {
            // If not handled already, just hide all dfn panels.
            hideAllDfnPanels();
        });
    })


    function hideAllDfnPanels() {
        // Turn off any currently "on" or "activated" panels.
        queryAll(".dfn-panel.on, .dfn-panel.activated").forEach(el=>hideDfnPanel(el));
    }

    function showDfnPanel(dfnPanel, dfn) {
        hideAllDfnPanels(); // Only display one at this time.
        dfn.setAttribute("aria-expanded", "true");
        dfnPanel.classList.add("on");
        dfnPanel.style.left = "5px";
        dfnPanel.style.top = "0px";
        const panelRect = dfnPanel.getBoundingClientRect();
        if (panelRect.right > document.body.scrollWidth) {
            // Panel's overflowing the screen.
            // Just drop it below the dfn and flip it rightward instead.
            // This still wont' fix things if the screen is *really* wide,
            // but fixing that's a lot harder without 'anchor()'.
            dfnPanel.style.top = "1.5em";
            dfnPanel.style.left = "auto";
            dfnPanel.style.right = "0px";
        }
    }

    function pinDfnPanel(dfnPanel) {
        // Switch it to "activated" state, which pins it.
        dfnPanel.classList.add("activated");
        dfnPanel.style.left = null;
        dfnPanel.style.top = null;
    }

    function hideDfnPanel(dfnPanel, dfn) {
        if(!dfn) {
            dfn = document.getElementById(dfnPanel.getAttribute("data-for"));
        }
        dfn.setAttribute("aria-expanded", "false")
        dfnPanel.classList.remove("on");
        dfnPanel.classList.remove("activated");
    }

    function toggleDfnPanel(dfnPanel, dfn) {
        if(dfnPanel.classList.contains("on")) {
            hideDfnPanel(dfnPanel, dfn);
        } else {
            showDfnPanel(dfnPanel, dfn);
        }
    }

    function insertDfnPopupAction(dfn, dfnPanel) {
        // Find dfn panel
        const panelWrapper = document.createElement('span');
        panelWrapper.appendChild(dfnPanel);
        panelWrapper.style.position = "relative";
        panelWrapper.style.height = "0px";
        dfn.insertAdjacentElement("afterend", panelWrapper);
        dfn.setAttribute('role', 'button');
        dfn.setAttribute('aria-expanded', 'false')
        dfn.tabIndex = 0;
        dfn.classList.add('has-dfn-panel');
        dfn.addEventListener('click', (event) => {
            showDfnPanel(dfnPanel, dfn);
            event.stopPropagation();
        });
        dfn.addEventListener('keypress', (event) => {
            const kc = event.keyCode;
            // 32->Space, 13->Enter
            if(kc == 32 || kc == 13) {
                toggleDfnPanel(dfnPanel, dfn);
                event.stopPropagation();
                event.preventDefault();
            }
        });

        dfnPanel.addEventListener('click', (event) => {
            if (event.target.nodeName == 'A') {
                pinDfnPanel(dfnPanel);
            }
            event.stopPropagation();
        });

        dfnPanel.addEventListener('keydown', (event) => {
            if(event.keyCode == 27) { // Escape key
                hideDfnPanel(dfnPanel, dfn);
                event.stopPropagation();
                event.preventDefault();
            }
        })
    }
}
</script>
<script>/* Boilerplate: script-dfn-panel */
"use strict";
{
    const dfnsJson = window.dfnsJson || {};

    // Functions, divided by link type, that wrap an autolink's
    // contents with the appropriate outer syntax.
    // Alternately, a string naming another type they format
    // the same as.
    const typeFormatters = {
        'dfn': (text) => `[=${text}=]`,
        'abstract-op': (text) => `[\$${text}\$]`,
        'value': (text) => `''${text}''`,
        'http-header': (text) => `[:${text}:]`,
        'idl': (text) => `{{${text}}}`,
        'interface': 'idl',
        'constructor': 'idl',
        'method': 'idl',
        'argument': 'idl',
        'attribute': 'idl',
        'callback': 'idl',
        'dictionary': 'idl',
        'dict-member': 'idl',
        'enum': 'idl',
        'enum-value': 'idl',
        'exception': 'idl',
        'const': 'idl',
        'typedef': 'idl',
        'stringifier': 'idl',
        'serializer': 'idl',
        'iterator': 'idl',
        'maplike': 'idl',
        'setlike': 'idl',
        'extended-attribute': 'idl',
        'event': 'idl',
        'element': (element) => `<{${element}}>`,
        'element-state': 'element',
        'element-attr': 'element',
        'attr-value': 'element',
        'scheme': 'dfn',
        'permission': 'dfn',
        'grammar': (text) => `${text} (within a <pre class=prod>)`,
        'type': (text)=> `<<${text}>>`,
        'property': (text) => `'${text}'`,
        'descriptor': 'property',
        'function': 'value',
        'at-rule': 'value',
        'selector': 'value',
    };
    const typesUsingFor = new Set(
        [
            "descriptor",
            "value",
            "element-attr",
            "attr-value",
            "element-state",
            "method",
            "constructor",
            "argument",
            "attribute",
            "const",
            "dict-member",
            "event",
            "enum-value",
            "stringifier",
            "serializer",
            "iterator",
            "maplike",
            "setlike",
            "state",
            "mode",
            "context",
            "facet",
        ],
    )
    const typesNotUsingFor = new Set(
        [
            "property",
            "element",
            "interface",
            "namespace",
            "callback",
            "dictionary",
            "enum",
            "exception",
            "typedef",
            "http-header",
            "permission",
        ],
    )
    function linkFormatterFromType(type) {
        const fnOrType = typeFormatters[type];
        if(typeof fnOrType === 'string') {
            // follow the alias
            return linkFormatterFromType(fnOrType);
        }
        return fnOrType;
    };

    function genLinkingSyntaxes(dfn) {
        if(dfn.tagName != "DFN") return;

        const type = dfn.getAttribute('data-dfn-type');
        if(!type) {
            console.log(`<dfn> doesn't have a data-dfn-type:`, dfn);
            return [];
        }

        // Return a function that wraps link text based on the type
        const linkFormatter = linkFormatterFromType(type);
        if(!linkFormatter) {
            console.log(`<dfn> has an unknown data-dfn-type:`, dfn);
            return [];
        }

        let ltAlts;
        if(dfn.hasAttribute('data-lt')) {
            ltAlts = dfn.getAttribute('data-lt')
                .split("|")
                .map(x=>x.trim());
        } else {
            ltAlts = [dfn.textContent.trim()];
        }
        if(type == "type") {
            // lt of "<foo>", but "foo" is the interior;
            // <<foo/bar>> is how you write it with a for,
            // not <foo/<bar>> or whatever.
            for(var i = 0; i < ltAlts.length; i++) {
                const lt = ltAlts[i];
                const match = /<(.*)>/.exec(lt);
                if(match) { ltAlts[i] = match[1]; }
            }
        }

        let forAlts;
        if(dfn.hasAttribute('data-dfn-for')) {
            forAlts = dfn.getAttribute('data-dfn-for')
                .split(",")
                .map(x=>x.trim());
        } else {
            forAlts = [''];
        }

        let linkingSyntaxes = [];
        if(!typesUsingFor.has(type)) {
            for(const lt of ltAlts) {
                linkingSyntaxes.push(linkFormatter(lt));
            }
        }
        if(!typesNotUsingFor.has(type)) {
            for(const f of forAlts) {
                linkingSyntaxes.push(linkFormatter(`${f}/${ltAlts[0]}`))
            }
        }
        return [
            mk.b({}, 'Possible linking syntaxes:'),
            mk.ul({},
                ...linkingSyntaxes.map(link => {
                    const copyLink = async () =>
                        await navigator.clipboard.writeText(link);
                    return mk.li({},
                        mk.div({ class: 'link-item' },
                            mk.button({
                                class: 'copy-icon', title: 'Copy',
                                type: 'button',
                                _onclick: copyLink,
                                tabindex: 0,
                            }, mk.span({ class: 'icon' }) ),
                            mk.span({}, link)
                        )
                    );
                })
            )
        ];
    }

    function genDfnPanel({ dfn, dfnID, url, dfnText, refSections, external }) {
        return mk.aside({
            class: "dfn-panel",
            id: `infopanel-for-${dfnID}`,
            "data-for": dfnID,
            "aria-labelled-by":`infopaneltitle-for-${dfnID}`,
            },
            mk.span({id:`infopaneltitle-for-${dfnID}`, style:"display:none"},
                `Info about the '${dfnText}' ${external?"external":""} reference.`),
            mk.a({href:url}, url),
            mk.b({}, "Referenced in:"),
            mk.ul({},
                ...refSections.map(section=>
                    mk.li({},
                        ...section.refs.map((ref, refI)=>
                            [
                                mk.a({
                                    href: `#${ref.id}`
                                    },
                                    (refI == 0) ? section.title : `(${refI + 1})`
                                ),
                                " ",
                            ]
                        ),
                    ),
                ),
            ),
            genLinkingSyntaxes(dfn),
        );
    }

    function genAllDfnPanels() {
        for(const panelData of Object.values(window.dfnpanelData)) {
            const dfnID = panelData.dfnID;
            const dfn = document.getElementById(dfnID);
            if(!dfn) {
                console.log(`Can't find dfn#${dfnID}.`, panelData);
            } else {
                const panel = genDfnPanel({ ...panelData, dfn });
                append(document.body, panel);
                insertDfnPopupAction(dfn, panel)
            }
        }
    }

    document.addEventListener("DOMContentLoaded", ()=>{
        genAllDfnPanels();

        // Add popup behavior to all dfns to show the corresponding dfn-panel.
        var dfns = queryAll('.dfn-paneled');
        for(let dfn of dfns) { ; }

        document.body.addEventListener("click", (e) => {
            // If not handled already, just hide all dfn panels.
            hideAllDfnPanels();
        });
    })


    function hideAllDfnPanels() {
        // Turn off any currently "on" or "activated" panels.
        queryAll(".dfn-panel.on, .dfn-panel.activated").forEach(el=>hideDfnPanel(el));
    }

    function showDfnPanel(dfnPanel, dfn) {
        hideAllDfnPanels(); // Only display one at this time.
        dfn.setAttribute("aria-expanded", "true");
        dfnPanel.classList.add("on");
        dfnPanel.style.left = "5px";
        dfnPanel.style.top = "0px";
        const panelRect = dfnPanel.getBoundingClientRect();
        if (panelRect.right > document.body.scrollWidth) {
            // Panel's overflowing the screen.
            // Just drop it below the dfn and flip it rightward instead.
            // This still wont' fix things if the screen is *really* wide,
            // but fixing that's a lot harder without 'anchor()'.
            dfnPanel.style.top = "1.5em";
            dfnPanel.style.left = "auto";
            dfnPanel.style.right = "0px";
        }
    }

    function pinDfnPanel(dfnPanel) {
        // Switch it to "activated" state, which pins it.
        dfnPanel.classList.add("activated");
        dfnPanel.style.left = null;
        dfnPanel.style.top = null;
    }

    function hideDfnPanel(dfnPanel, dfn) {
        if(!dfn) {
            dfn = document.getElementById(dfnPanel.getAttribute("data-for"));
        }
        dfn.setAttribute("aria-expanded", "false")
        dfnPanel.classList.remove("on");
        dfnPanel.classList.remove("activated");
    }

    function toggleDfnPanel(dfnPanel, dfn) {
        if(dfnPanel.classList.contains("on")) {
            hideDfnPanel(dfnPanel, dfn);
        } else {
            showDfnPanel(dfnPanel, dfn);
        }
    }

    function insertDfnPopupAction(dfn, dfnPanel) {
        // Find dfn panel
        const panelWrapper = document.createElement('span');
        panelWrapper.appendChild(dfnPanel);
        panelWrapper.style.position = "relative";
        panelWrapper.style.height = "0px";
        dfn.insertAdjacentElement("afterend", panelWrapper);
        dfn.setAttribute('role', 'button');
        dfn.setAttribute('aria-expanded', 'false')
        dfn.tabIndex = 0;
        dfn.classList.add('has-dfn-panel');
        dfn.addEventListener('click', (event) => {
            showDfnPanel(dfnPanel, dfn);
            event.stopPropagation();
        });
        dfn.addEventListener('keypress', (event) => {
            const kc = event.keyCode;
            // 32->Space, 13->Enter
            if(kc == 32 || kc == 13) {
                toggleDfnPanel(dfnPanel, dfn);
                event.stopPropagation();
                event.preventDefault();
            }
        });

        dfnPanel.addEventListener('click', (event) => {
            if (event.target.nodeName == 'A') {
                pinDfnPanel(dfnPanel);
            }
            event.stopPropagation();
        });

        dfnPanel.addEventListener('keydown', (event) => {
            if(event.keyCode == 27) { // Escape key
                hideDfnPanel(dfnPanel, dfn);
                event.stopPropagation();
                event.preventDefault();
            }
        })
    }
}
</script>
<script>/* Boilerplate: script-dfn-panel-json */
window.dfnpanelData = {};
window.dfnpanelData['2bc0cdf4'] = {"dfnID": "2bc0cdf4", "url": "https://dom.spec.whatwg.org/#eventtarget", "dfnText": "EventTarget", "refSections": [{"refs": [{"id": "ref-for-eventtarget"}], "title": "5.1. FakeXRDevice"}], "external": true};
window.dfnpanelData['0c3a8579'] = {"dfnID": "0c3a8579", "url": "https://w3c.github.io/gamepad/#dom-gamepadmappingtype-xr-standard", "dfnText": "xr-standard", "refSections": [{"refs": [{"id": "ref-for-dom-gamepadmappingtype-xr-standard"}], "title": "3.2. Simulated Input Device"}], "external": true};
window.dfnpanelData['289ee1c2'] = {"dfnID": "289ee1c2", "url": "https://drafts.fxtf.org/geometry-1/#dictdef-dompointinit", "dfnText": "DOMPointInit", "refSections": [{"refs": [{"id": "ref-for-dictdef-dompointinit"}, {"id": "ref-for-dictdef-dompointinit\u2460"}], "title": "4.3. FakeXRDeviceInit"}, {"refs": [{"id": "ref-for-dictdef-dompointinit\u2461"}, {"id": "ref-for-dictdef-dompointinit\u2462"}], "title": "6. Hit test extensions"}, {"refs": [{"id": "ref-for-dictdef-dompointinit\u2463"}, {"id": "ref-for-dictdef-dompointinit\u2464"}], "title": "9. Lighting estimation extensions"}], "external": true};
window.dfnpanelData['5cce610d'] = {"dfnID": "5cce610d", "url": "https://drafts.fxtf.org/geometry-1/#dompointreadonly", "dfnText": "DOMPointReadOnly", "refSections": [{"refs": [{"id": "ref-for-dompointreadonly"}], "title": "3.1. Simulated XR Device"}], "external": true};
window.dfnpanelData['0173c6c0'] = {"dfnID": "0173c6c0", "url": "https://drafts.fxtf.org/geometry-1/#dom-dompointinit-w", "dfnText": "w", "refSections": [{"refs": [{"id": "ref-for-dom-dompointinit-w"}, {"id": "ref-for-dom-dompointinit-w\u2460"}], "title": "4.3. FakeXRDeviceInit"}, {"refs": [{"id": "ref-for-dom-dompointinit-w\u2461"}, {"id": "ref-for-dom-dompointinit-w\u2462"}], "title": "9. Lighting estimation extensions"}], "external": true};
window.dfnpanelData['dae466b2'] = {"dfnID": "dae466b2", "url": "https://drafts.fxtf.org/geometry-1/#dom-dompointinit-x", "dfnText": "x", "refSections": [{"refs": [{"id": "ref-for-dom-dompointinit-x"}, {"id": "ref-for-dom-dompointinit-x\u2460"}], "title": "4.3. FakeXRDeviceInit"}], "external": true};
window.dfnpanelData['e097c631'] = {"dfnID": "e097c631", "url": "https://drafts.fxtf.org/geometry-1/#dom-dompointinit-y", "dfnText": "y", "refSections": [{"refs": [{"id": "ref-for-dom-dompointinit-y"}, {"id": "ref-for-dom-dompointinit-y\u2460"}], "title": "4.3. FakeXRDeviceInit"}], "external": true};
window.dfnpanelData['a5b295b1'] = {"dfnID": "a5b295b1", "url": "https://drafts.fxtf.org/geometry-1/#dom-dompointinit-z", "dfnText": "z", "refSections": [{"refs": [{"id": "ref-for-dom-dompointinit-z"}, {"id": "ref-for-dom-dompointinit-z\u2460"}], "title": "4.3. FakeXRDeviceInit"}], "external": true};
window.dfnpanelData['a72449dd'] = {"dfnID": "a72449dd", "url": "https://html.spec.whatwg.org/multipage/infrastructure.html#in-parallel", "dfnText": "in parallel", "refSections": [{"refs": [{"id": "ref-for-in-parallel"}], "title": "4.2. XRTest"}], "external": true};
window.dfnpanelData['47fe679e'] = {"dfnID": "47fe679e", "url": "https://html.spec.whatwg.org/multipage/interaction.html#transient-activation", "dfnText": "transient activation", "refSections": [{"refs": [{"id": "ref-for-transient-activation"}], "title": "4.2. XRTest"}], "external": true};
window.dfnpanelData['53275e46'] = {"dfnID": "53275e46", "url": "https://infra.spec.whatwg.org/#list-append", "dfnText": "append", "refSections": [{"refs": [{"id": "ref-for-list-append"}], "title": "4.2. XRTest"}, {"refs": [{"id": "ref-for-list-append\u2460"}], "title": "5.1. FakeXRDevice"}], "external": true};
window.dfnpanelData['649608b9'] = {"dfnID": "649608b9", "url": "https://infra.spec.whatwg.org/#list", "dfnText": "list", "refSections": [{"refs": [{"id": "ref-for-list"}], "title": "5.1. FakeXRDevice"}], "external": true};
window.dfnpanelData['2f8afbfe'] = {"dfnID": "2f8afbfe", "url": "https://webidl.spec.whatwg.org/#idl-ArrayBuffer", "dfnText": "ArrayBuffer", "refSections": [{"refs": [{"id": "ref-for-idl-ArrayBuffer"}], "title": "10. Depth sensing extensions"}], "external": true};
window.dfnpanelData['8855a9aa'] = {"dfnID": "8855a9aa", "url": "https://webidl.spec.whatwg.org/#idl-DOMString", "dfnText": "DOMString", "refSections": [{"refs": [{"id": "ref-for-idl-DOMString"}], "title": "3.2. Simulated Input Device"}, {"refs": [{"id": "ref-for-idl-DOMString\u2460"}, {"id": "ref-for-idl-DOMString\u2461"}], "title": "5.2. FakeXRInputController"}], "external": true};
window.dfnpanelData['ae46556f'] = {"dfnID": "ae46556f", "url": "https://webidl.spec.whatwg.org/#Function", "dfnText": "Function", "refSections": [{"refs": [{"id": "ref-for-Function"}], "title": "4.2. XRTest"}], "external": true};
window.dfnpanelData['9eda9b58'] = {"dfnID": "9eda9b58", "url": "https://webidl.spec.whatwg.org/#notfounderror", "dfnText": "NotFoundError", "refSections": [{"refs": [{"id": "ref-for-notfounderror"}], "title": "5.2. FakeXRInputController"}], "external": true};
window.dfnpanelData['bdbd19d1'] = {"dfnID": "bdbd19d1", "url": "https://webidl.spec.whatwg.org/#idl-promise", "dfnText": "Promise", "refSections": [{"refs": [{"id": "ref-for-idl-promise"}, {"id": "ref-for-idl-promise\u2460"}], "title": "4.2. XRTest"}, {"refs": [{"id": "ref-for-idl-promise\u2461"}], "title": "5.1. FakeXRDevice"}, {"refs": [{"id": "ref-for-idl-promise\u2462"}], "title": "8. Anchors extensions"}], "external": true};
window.dfnpanelData['a5c91173'] = {"dfnID": "a5c91173", "url": "https://webidl.spec.whatwg.org/#SameObject", "dfnText": "SameObject", "refSections": [{"refs": [{"id": "ref-for-SameObject"}], "title": "4.1. navigator.xr.test"}], "external": true};
window.dfnpanelData['82ca3efc'] = {"dfnID": "82ca3efc", "url": "https://webidl.spec.whatwg.org/#exceptiondef-typeerror", "dfnText": "TypeError", "refSections": [{"refs": [{"id": "ref-for-exceptiondef-typeerror"}], "title": "4.2. XRTest"}, {"refs": [{"id": "ref-for-exceptiondef-typeerror\u2460"}, {"id": "ref-for-exceptiondef-typeerror\u2461"}, {"id": "ref-for-exceptiondef-typeerror\u2462"}], "title": "4.3. FakeXRDeviceInit"}, {"refs": [{"id": "ref-for-exceptiondef-typeerror\u2463"}], "title": "5.1. FakeXRDevice"}, {"refs": [{"id": "ref-for-exceptiondef-typeerror\u2464"}, {"id": "ref-for-exceptiondef-typeerror\u2465"}, {"id": "ref-for-exceptiondef-typeerror\u2466"}], "title": "5.2. FakeXRInputController"}, {"refs": [{"id": "ref-for-exceptiondef-typeerror\u2467"}, {"id": "ref-for-exceptiondef-typeerror\u2468"}, {"id": "ref-for-exceptiondef-typeerror\u2460\u24ea"}], "title": "9. Lighting estimation extensions"}, {"refs": [{"id": "ref-for-exceptiondef-typeerror\u2460\u2460"}], "title": "10. Depth sensing extensions"}], "external": true};
window.dfnpanelData['dacde8b5'] = {"dfnID": "dacde8b5", "url": "https://webidl.spec.whatwg.org/#a-new-promise", "dfnText": "a new promise", "refSections": [{"refs": [{"id": "ref-for-a-new-promise"}], "title": "4.2. XRTest"}], "external": true};
window.dfnpanelData['6c6b1005'] = {"dfnID": "6c6b1005", "url": "https://webidl.spec.whatwg.org/#idl-any", "dfnText": "any", "refSections": [{"refs": [{"id": "ref-for-idl-any"}], "title": "4.3. FakeXRDeviceInit"}], "external": true};
window.dfnpanelData['5372cca8'] = {"dfnID": "5372cca8", "url": "https://webidl.spec.whatwg.org/#idl-boolean", "dfnText": "boolean", "refSections": [{"refs": [{"id": "ref-for-idl-boolean"}], "title": "4.3. FakeXRDeviceInit"}, {"refs": [{"id": "ref-for-idl-boolean\u2460"}], "title": "5.1. FakeXRDevice"}, {"refs": [{"id": "ref-for-idl-boolean\u2461"}, {"id": "ref-for-idl-boolean\u2462"}, {"id": "ref-for-idl-boolean\u2463"}, {"id": "ref-for-idl-boolean\u2464"}, {"id": "ref-for-idl-boolean\u2465"}, {"id": "ref-for-idl-boolean\u2466"}], "title": "5.2. FakeXRInputController"}, {"refs": [{"id": "ref-for-idl-boolean\u2467"}, {"id": "ref-for-idl-boolean\u2468"}, {"id": "ref-for-idl-boolean\u2460\u24ea"}], "title": "8. Anchors extensions"}], "external": true};
window.dfnpanelData['8c800cdf'] = {"dfnID": "8c800cdf", "url": "https://webidl.spec.whatwg.org/#idl-double", "dfnText": "double", "refSections": [{"refs": [{"id": "ref-for-idl-double"}, {"id": "ref-for-idl-double\u2460"}], "title": "4.3. FakeXRDeviceInit"}], "external": true};
window.dfnpanelData['eec1be2d'] = {"dfnID": "eec1be2d", "url": "https://webidl.spec.whatwg.org/#idl-float", "dfnText": "float", "refSections": [{"refs": [{"id": "ref-for-idl-float"}, {"id": "ref-for-idl-float\u2460"}, {"id": "ref-for-idl-float\u2461"}, {"id": "ref-for-idl-float\u2462"}, {"id": "ref-for-idl-float\u2463"}, {"id": "ref-for-idl-float\u2464"}, {"id": "ref-for-idl-float\u2465"}], "title": "4.3. FakeXRDeviceInit"}, {"refs": [{"id": "ref-for-idl-float\u2466"}, {"id": "ref-for-idl-float\u2467"}, {"id": "ref-for-idl-float\u2468"}], "title": "5.2. FakeXRInputController"}, {"refs": [{"id": "ref-for-idl-float\u2460\u24ea"}, {"id": "ref-for-idl-float\u2460\u2460"}], "title": "7. DOM overlay extensions"}, {"refs": [{"id": "ref-for-idl-float\u2460\u2461"}], "title": "9. Lighting estimation extensions"}, {"refs": [{"id": "ref-for-idl-float\u2460\u2462"}], "title": "10. Depth sensing extensions"}], "external": true};
window.dfnpanelData['f8de33a3'] = {"dfnID": "f8de33a3", "url": "https://webidl.spec.whatwg.org/#idl-long", "dfnText": "long", "refSections": [{"refs": [{"id": "ref-for-idl-long"}, {"id": "ref-for-idl-long\u2460"}], "title": "4.3. FakeXRDeviceInit"}], "external": true};
window.dfnpanelData['750a2f08'] = {"dfnID": "750a2f08", "url": "https://webidl.spec.whatwg.org/#dfn-perform-steps-once-promise-is-settled", "dfnText": "react", "refSections": [{"refs": [{"id": "ref-for-dfn-perform-steps-once-promise-is-settled"}], "title": "8. Anchors extensions"}], "external": true};
window.dfnpanelData['3b90bdcd'] = {"dfnID": "3b90bdcd", "url": "https://webidl.spec.whatwg.org/#resolve", "dfnText": "resolve", "refSections": [{"refs": [{"id": "ref-for-resolve"}], "title": "4.2. XRTest"}], "external": true};
window.dfnpanelData['9cce47fd'] = {"dfnID": "9cce47fd", "url": "https://webidl.spec.whatwg.org/#idl-sequence", "dfnText": "sequence", "refSections": [{"refs": [{"id": "ref-for-idl-sequence"}, {"id": "ref-for-idl-sequence\u2460"}, {"id": "ref-for-idl-sequence\u2461"}, {"id": "ref-for-idl-sequence\u2462"}, {"id": "ref-for-idl-sequence\u2463"}, {"id": "ref-for-idl-sequence\u2464"}, {"id": "ref-for-idl-sequence\u2465"}], "title": "4.3. FakeXRDeviceInit"}, {"refs": [{"id": "ref-for-idl-sequence\u2466"}, {"id": "ref-for-idl-sequence\u2467"}], "title": "5.1. FakeXRDevice"}, {"refs": [{"id": "ref-for-idl-sequence\u2468"}, {"id": "ref-for-idl-sequence\u2460\u24ea"}, {"id": "ref-for-idl-sequence\u2460\u2460"}, {"id": "ref-for-idl-sequence\u2460\u2461"}], "title": "5.2. FakeXRInputController"}, {"refs": [{"id": "ref-for-idl-sequence\u2460\u2462"}, {"id": "ref-for-idl-sequence\u2460\u2463"}, {"id": "ref-for-idl-sequence\u2460\u2464"}], "title": "6. Hit test extensions"}, {"refs": [{"id": "ref-for-idl-sequence\u2460\u2465"}], "title": "9. Lighting estimation extensions"}], "external": true};
window.dfnpanelData['e97a9688'] = {"dfnID": "e97a9688", "url": "https://webidl.spec.whatwg.org/#idl-unsigned-long", "dfnText": "unsigned long", "refSections": [{"refs": [{"id": "ref-for-idl-unsigned-long"}, {"id": "ref-for-idl-unsigned-long\u2460"}], "title": "10. Depth sensing extensions"}], "external": true};
window.dfnpanelData['b9124029'] = {"dfnID": "b9124029", "url": "https://immersive-web.github.io/webxr/#dom-xrreferencespacetype-local", "dfnText": "\"local\"", "refSections": [{"refs": [{"id": "ref-for-dom-xrreferencespacetype-local"}], "title": "4.4. FakeXRRigidTransformInit"}], "external": true};
window.dfnpanelData['d36ad083'] = {"dfnID": "d36ad083", "url": "https://immersive-web.github.io/webxr/#dom-xrvisibilitystate-visible", "dfnText": "\"visible\"", "refSections": [{"refs": [{"id": "ref-for-dom-xrvisibilitystate-visible"}], "title": "3.1. Simulated XR Device"}], "external": true};
window.dfnpanelData['6ad69c44'] = {"dfnID": "6ad69c44", "url": "https://immersive-web.github.io/webxr/#xrboundedreferencespace", "dfnText": "XRBoundedReferenceSpace", "refSections": [{"refs": [{"id": "ref-for-xrboundedreferencespace"}], "title": "3.1. Simulated XR Device"}], "external": true};
window.dfnpanelData['3e104f9e'] = {"dfnID": "3e104f9e", "url": "https://immersive-web.github.io/webxr/#enumdef-xreye", "dfnText": "XREye", "refSections": [{"refs": [{"id": "ref-for-enumdef-xreye"}], "title": "4.3. FakeXRDeviceInit"}], "external": true};
window.dfnpanelData['d5b236d5'] = {"dfnID": "d5b236d5", "url": "https://immersive-web.github.io/webxr/#enumdef-xrhandedness", "dfnText": "XRHandedness", "refSections": [{"refs": [{"id": "ref-for-enumdef-xrhandedness"}], "title": "3.2. Simulated Input Device"}, {"refs": [{"id": "ref-for-enumdef-xrhandedness\u2460"}, {"id": "ref-for-enumdef-xrhandedness\u2461"}], "title": "5.2. FakeXRInputController"}], "external": true};
window.dfnpanelData['ea90e02f'] = {"dfnID": "ea90e02f", "url": "https://immersive-web.github.io/webxr/#xrinputsource", "dfnText": "XRInputSource", "refSections": [{"refs": [{"id": "ref-for-xrinputsource"}], "title": "5.2. FakeXRInputController"}], "external": true};
window.dfnpanelData['9dfd38d6'] = {"dfnID": "9dfd38d6", "url": "https://immersive-web.github.io/webxr/#xrpose", "dfnText": "XRPose", "refSections": [{"refs": [{"id": "ref-for-xrpose"}], "title": "3.1. Simulated XR Device"}], "external": true};
window.dfnpanelData['511280ad'] = {"dfnID": "511280ad", "url": "https://immersive-web.github.io/webxr/#xrrigidtransform", "dfnText": "XRRigidTransform", "refSections": [{"refs": [{"id": "ref-for-xrrigidtransform"}, {"id": "ref-for-xrrigidtransform\u2460"}], "title": "3.1. Simulated XR Device"}, {"refs": [{"id": "ref-for-xrrigidtransform\u2461"}, {"id": "ref-for-xrrigidtransform\u2462"}], "title": "3.2. Simulated Input Device"}], "external": true};
window.dfnpanelData['b23556e5'] = {"dfnID": "b23556e5", "url": "https://immersive-web.github.io/webxr/#xrsession", "dfnText": "XRSession", "refSections": [{"refs": [{"id": "ref-for-xrsession"}, {"id": "ref-for-xrsession\u2460"}], "title": "3.1. Simulated XR Device"}, {"refs": [{"id": "ref-for-xrsession\u2461"}], "title": "4.3. FakeXRDeviceInit"}, {"refs": [{"id": "ref-for-xrsession\u2462"}], "title": "5.1. FakeXRDevice"}, {"refs": [{"id": "ref-for-xrsession\u2463"}, {"id": "ref-for-xrsession\u2464"}, {"id": "ref-for-xrsession\u2465"}, {"id": "ref-for-xrsession\u2466"}], "title": "5.2. FakeXRInputController"}], "external": true};
window.dfnpanelData['7a6a64a7'] = {"dfnID": "7a6a64a7", "url": "https://immersive-web.github.io/webxr/#enumdef-xrsessionmode", "dfnText": "XRSessionMode", "refSections": [{"refs": [{"id": "ref-for-enumdef-xrsessionmode"}, {"id": "ref-for-enumdef-xrsessionmode\u2460"}], "title": "4.2. XRTest"}, {"refs": [{"id": "ref-for-enumdef-xrsessionmode\u2461"}], "title": "4.3. FakeXRDeviceInit"}], "external": true};
window.dfnpanelData['8f974556'] = {"dfnID": "8f974556", "url": "https://immersive-web.github.io/webxr/#xrsystem", "dfnText": "XRSystem", "refSections": [{"refs": [{"id": "ref-for-xrsystem"}], "title": "4.1. navigator.xr.test"}], "external": true};
window.dfnpanelData['419f7c8c'] = {"dfnID": "419f7c8c", "url": "https://immersive-web.github.io/webxr/#enumdef-xrtargetraymode", "dfnText": "XRTargetRayMode", "refSections": [{"refs": [{"id": "ref-for-enumdef-xrtargetraymode"}], "title": "3.2. Simulated Input Device"}, {"refs": [{"id": "ref-for-enumdef-xrtargetraymode\u2460"}, {"id": "ref-for-enumdef-xrtargetraymode\u2461"}], "title": "5.2. FakeXRInputController"}], "external": true};
window.dfnpanelData['14930f73'] = {"dfnID": "14930f73", "url": "https://immersive-web.github.io/webxr/#xrviewport", "dfnText": "XRViewport", "refSections": [{"refs": [{"id": "ref-for-xrviewport"}], "title": "3.1. Simulated XR Device"}], "external": true};
window.dfnpanelData['c1b7d4ab'] = {"dfnID": "c1b7d4ab", "url": "https://immersive-web.github.io/webxr/#enumdef-xrvisibilitystate", "dfnText": "XRVisibilityState", "refSections": [{"refs": [{"id": "ref-for-enumdef-xrvisibilitystate"}], "title": "3.1. Simulated XR Device"}, {"refs": [{"id": "ref-for-enumdef-xrvisibilitystate\u2460"}], "title": "5.1. FakeXRDevice"}], "external": true};
window.dfnpanelData['3099627f'] = {"dfnID": "3099627f", "url": "https://immersive-web.github.io/webxr/#dom-xrrigidtransform-xrrigidtransform", "dfnText": "constructor()", "refSections": [{"refs": [{"id": "ref-for-dom-xrrigidtransform-xrrigidtransform"}], "title": "4.3. FakeXRDeviceInit"}], "external": true};
window.dfnpanelData['6f2bad18'] = {"dfnID": "6f2bad18", "url": "https://immersive-web.github.io/webxr/#dom-xrrenderstate-depthfar", "dfnText": "depthFar", "refSections": [{"refs": [{"id": "ref-for-dom-xrrenderstate-depthfar"}], "title": "3.1. Simulated XR Device"}, {"refs": [{"id": "ref-for-dom-xrrenderstate-depthfar\u2460"}], "title": "4.3. FakeXRDeviceInit"}], "external": true};
window.dfnpanelData['9ee4518a'] = {"dfnID": "9ee4518a", "url": "https://immersive-web.github.io/webxr/#dom-xrrenderstate-depthnear", "dfnText": "depthNear", "refSections": [{"refs": [{"id": "ref-for-dom-xrrenderstate-depthnear"}], "title": "3.1. Simulated XR Device"}, {"refs": [{"id": "ref-for-dom-xrrenderstate-depthnear\u2460"}], "title": "4.3. FakeXRDeviceInit"}], "external": true};
window.dfnpanelData['ffba969d'] = {"dfnID": "ffba969d", "url": "https://immersive-web.github.io/webxr/#dom-xrpose-emulatedposition", "dfnText": "emulatedPosition", "refSections": [{"refs": [{"id": "ref-for-dom-xrpose-emulatedposition"}], "title": "3.1. Simulated XR Device"}], "external": true};
window.dfnpanelData['de78be73'] = {"dfnID": "de78be73", "url": "https://immersive-web.github.io/webxr/#dom-xrinputsource-gripspace", "dfnText": "gripSpace", "refSections": [{"refs": [{"id": "ref-for-dom-xrinputsource-gripspace"}], "title": "3.2. Simulated Input Device"}], "external": true};
window.dfnpanelData['efba0ad8'] = {"dfnID": "efba0ad8", "url": "https://immersive-web.github.io/webxr/#dom-xrinputsource-handedness", "dfnText": "handedness", "refSections": [{"refs": [{"id": "ref-for-dom-xrinputsource-handedness"}], "title": "3.2. Simulated Input Device"}], "external": true};
window.dfnpanelData['4bb10651'] = {"dfnID": "4bb10651", "url": "https://immersive-web.github.io/webxr/#dom-xrsession-inputsources", "dfnText": "inputSources", "refSections": [{"refs": [{"id": "ref-for-dom-xrsession-inputsources"}], "title": "3.2. Simulated Input Device"}, {"refs": [{"id": "ref-for-dom-xrsession-inputsources\u2460"}], "title": "5.2. FakeXRInputController"}], "external": true};
window.dfnpanelData['dbe575a4'] = {"dfnID": "dbe575a4", "url": "https://immersive-web.github.io/webxr/#eventdef-xrsession-inputsourceschange", "dfnText": "inputsourceschange", "refSections": [{"refs": [{"id": "ref-for-eventdef-xrsession-inputsourceschange"}], "title": "3.2. Simulated Input Device"}], "external": true};
window.dfnpanelData['cb1c960a'] = {"dfnID": "cb1c960a", "url": "https://immersive-web.github.io/webxr/#dom-xrsession-oninputsourceschange", "dfnText": "oninputsourceschange", "refSections": [{"refs": [{"id": "ref-for-dom-xrsession-oninputsourceschange"}], "title": "5.2. FakeXRInputController"}], "external": true};
window.dfnpanelData['9ca937fb'] = {"dfnID": "9ca937fb", "url": "https://immersive-web.github.io/webxr/#dom-xrsession-onselect", "dfnText": "onselect", "refSections": [{"refs": [{"id": "ref-for-dom-xrsession-onselect"}], "title": "5.2. FakeXRInputController"}], "external": true};
window.dfnpanelData['67c0ed6e'] = {"dfnID": "67c0ed6e", "url": "https://immersive-web.github.io/webxr/#dom-xrsession-onselectend", "dfnText": "onselectend", "refSections": [{"refs": [{"id": "ref-for-dom-xrsession-onselectend"}], "title": "5.2. FakeXRInputController"}], "external": true};
window.dfnpanelData['9e74733d'] = {"dfnID": "9e74733d", "url": "https://immersive-web.github.io/webxr/#dom-xrsession-onvisibilitychange", "dfnText": "onvisibilitychange", "refSections": [{"refs": [{"id": "ref-for-dom-xrsession-onvisibilitychange"}], "title": "3.1. Simulated XR Device"}], "external": true};
window.dfnpanelData['969e973e'] = {"dfnID": "969e973e", "url": "https://immersive-web.github.io/webxr/#dom-xrrigidtransform-orientation", "dfnText": "orientation", "refSections": [{"refs": [{"id": "ref-for-dom-xrrigidtransform-orientation"}], "title": "4.3. FakeXRDeviceInit"}], "external": true};
window.dfnpanelData['e31e5468'] = {"dfnID": "e31e5468", "url": "https://immersive-web.github.io/webxr/#dom-xrrigidtransform-position", "dfnText": "position", "refSections": [{"refs": [{"id": "ref-for-dom-xrrigidtransform-position"}], "title": "4.3. FakeXRDeviceInit"}], "external": true};
window.dfnpanelData['4dd97d27'] = {"dfnID": "4dd97d27", "url": "https://immersive-web.github.io/webxr/#dom-xrinputsource-profiles", "dfnText": "profiles", "refSections": [{"refs": [{"id": "ref-for-dom-xrinputsource-profiles"}], "title": "3.2. Simulated Input Device"}], "external": true};
window.dfnpanelData['1e258aaa'] = {"dfnID": "1e258aaa", "url": "https://immersive-web.github.io/webxr/#dom-xrsession-requestanimationframe", "dfnText": "requestAnimationFrame(callback)", "refSections": [{"refs": [{"id": "ref-for-dom-xrsession-requestanimationframe"}, {"id": "ref-for-dom-xrsession-requestanimationframe\u2460"}], "title": "5.1. FakeXRDevice"}], "external": true};
window.dfnpanelData['fb050ffc'] = {"dfnID": "fb050ffc", "url": "https://immersive-web.github.io/webxr/#dom-xrinputsource-targetraymode", "dfnText": "targetRayMode", "refSections": [{"refs": [{"id": "ref-for-dom-xrinputsource-targetraymode"}], "title": "3.2. Simulated Input Device"}], "external": true};
window.dfnpanelData['53ce93e0'] = {"dfnID": "53ce93e0", "url": "https://immersive-web.github.io/webxr/#dom-xrinputsource-targetrayspace", "dfnText": "targetRaySpace", "refSections": [{"refs": [{"id": "ref-for-dom-xrinputsource-targetrayspace"}], "title": "3.2. Simulated Input Device"}], "external": true};
window.dfnpanelData['d790ba5d'] = {"dfnID": "d790ba5d", "url": "https://immersive-web.github.io/webxr/#dom-xrsession-visibilitystate", "dfnText": "visibilityState", "refSections": [{"refs": [{"id": "ref-for-dom-xrsession-visibilitystate"}], "title": "3.1. Simulated XR Device"}], "external": true};
window.dfnpanelData['82af0c92'] = {"dfnID": "82af0c92", "url": "https://immersive-web.github.io/webxr/#dom-navigator-xr", "dfnText": "xr", "refSections": [{"refs": [{"id": "ref-for-dom-navigator-xr"}], "title": "4.2. XRTest"}], "external": true};
window.dfnpanelData['33b916dd'] = {"dfnID": "33b916dd", "url": "https://immersive-web.github.io/anchors/#dom-xranchor-delete", "dfnText": "delete()", "refSections": [{"refs": [{"id": "ref-for-dom-xranchor-delete"}], "title": "8. Anchors extensions"}], "external": true};
window.dfnpanelData['f7497add'] = {"dfnID": "f7497add", "url": "https://immersive-web.github.io/anchors/#xranchor-native-origin", "dfnText": "native origin", "refSections": [{"refs": [{"id": "ref-for-xranchor-native-origin"}], "title": "8. Anchors extensions"}], "external": true};
window.dfnpanelData['fa29f3a9'] = {"dfnID": "fa29f3a9", "url": "https://immersive-web.github.io/depth-sensing/#create-a-cpu-depth-information-instance", "dfnText": "create a cpu depth information instance", "refSections": [{"refs": [{"id": "ref-for-create-a-cpu-depth-information-instance"}], "title": "10. Depth sensing extensions"}], "external": true};
window.dfnpanelData['f67f5d12'] = {"dfnID": "f67f5d12", "url": "https://immersive-web.github.io/depth-sensing/#create-a-gpu-depth-information-instance", "dfnText": "create a gpu depth information instance", "refSections": [{"refs": [{"id": "ref-for-create-a-gpu-depth-information-instance"}], "title": "10. Depth sensing extensions"}], "external": true};
window.dfnpanelData['b9d15de0'] = {"dfnID": "b9d15de0", "url": "https://immersive-web.github.io/depth-sensing/#depth-coordinates-transformation-matrix", "dfnText": "depth coordinates transformation matrix", "refSections": [{"refs": [{"id": "ref-for-depth-coordinates-transformation-matrix"}], "title": "10. Depth sensing extensions"}], "external": true};
window.dfnpanelData['fb771a1f'] = {"dfnID": "fb771a1f", "url": "https://immersive-web.github.io/depth-sensing/#native-depth-sensing", "dfnText": "native depth sensing", "refSections": [{"refs": [{"id": "ref-for-native-depth-sensing"}, {"id": "ref-for-native-depth-sensing\u2460"}], "title": "10. Depth sensing extensions"}], "external": true};
window.dfnpanelData['06b23bbd'] = {"dfnID": "06b23bbd", "url": "https://immersive-web.github.io/lighting-estimation/#xrlightestimate-interface", "dfnText": "XRLightEstimate", "refSections": [{"refs": [{"id": "ref-for-xrlightestimate-interface"}], "title": "9. Lighting estimation extensions"}], "external": true};
window.dfnpanelData['bcc5c3c2'] = {"dfnID": "bcc5c3c2", "url": "https://immersive-web.github.io/dom-overlays#beforexrselect", "dfnText": "beforexrselect", "refSections": [{"refs": [{"id": "ref-for-beforexrselect"}], "title": "7. DOM overlay extensions"}], "external": true};
window.dfnpanelData['655a3368'] = {"dfnID": "655a3368", "url": "https://immersive-web.github.io/webxr-gamepads-module/#dom-xrinputsource-gamepad", "dfnText": "gamepad", "refSections": [{"refs": [{"id": "ref-for-dom-xrinputsource-gamepad"}], "title": "3.2. Simulated Input Device"}, {"refs": [{"id": "ref-for-dom-xrinputsource-gamepad\u2460"}], "title": "5.2. FakeXRInputController"}], "external": true};
window.dfnpanelData['simulated-xr-device'] = {"dfnID": "simulated-xr-device", "url": "#simulated-xr-device", "dfnText": "simulated XR device", "refSections": [{"refs": [{"id": "ref-for-simulated-xr-device"}, {"id": "ref-for-simulated-xr-device\u2460"}, {"id": "ref-for-simulated-xr-device\u2461"}, {"id": "ref-for-simulated-xr-device\u2462"}, {"id": "ref-for-simulated-xr-device\u2463"}, {"id": "ref-for-simulated-xr-device\u2464"}, {"id": "ref-for-simulated-xr-device\u2465"}, {"id": "ref-for-simulated-xr-device\u2466"}, {"id": "ref-for-simulated-xr-device\u2467"}], "title": "3.1. Simulated XR Device"}, {"refs": [{"id": "ref-for-simulated-xr-device\u2468"}, {"id": "ref-for-simulated-xr-device\u2460\u24ea"}, {"id": "ref-for-simulated-xr-device\u2460\u2460"}, {"id": "ref-for-simulated-xr-device\u2460\u2461"}], "title": "4.2. XRTest"}, {"refs": [{"id": "ref-for-simulated-xr-device\u2460\u2462"}], "title": "5.1. FakeXRDevice"}], "external": false};
window.dfnpanelData['simulated-xr-device-native-bounds-geometry'] = {"dfnID": "simulated-xr-device-native-bounds-geometry", "url": "#simulated-xr-device-native-bounds-geometry", "dfnText": "native bounds geometry", "refSections": [{"refs": [{"id": "ref-for-simulated-xr-device-native-bounds-geometry"}], "title": "4.2. XRTest"}, {"refs": [{"id": "ref-for-simulated-xr-device-native-bounds-geometry\u2460"}], "title": "5.1. FakeXRDevice"}], "external": false};
window.dfnpanelData['simulated-xr-device-floor-origin'] = {"dfnID": "simulated-xr-device-floor-origin", "url": "#simulated-xr-device-floor-origin", "dfnText": "floor origin", "refSections": [{"refs": [{"id": "ref-for-simulated-xr-device-floor-origin"}], "title": "4.2. XRTest"}, {"refs": [{"id": "ref-for-simulated-xr-device-floor-origin\u2460"}, {"id": "ref-for-simulated-xr-device-floor-origin\u2461"}], "title": "5.1. FakeXRDevice"}], "external": false};
window.dfnpanelData['simulated-xr-device-viewer-origin'] = {"dfnID": "simulated-xr-device-viewer-origin", "url": "#simulated-xr-device-viewer-origin", "dfnText": "viewer origin", "refSections": [{"refs": [{"id": "ref-for-simulated-xr-device-viewer-origin"}], "title": "4.2. XRTest"}, {"refs": [{"id": "ref-for-simulated-xr-device-viewer-origin\u2460"}, {"id": "ref-for-simulated-xr-device-viewer-origin\u2461"}], "title": "5.1. FakeXRDevice"}], "external": false};
window.dfnpanelData['simulated-xr-device-emulated-position-boolean'] = {"dfnID": "simulated-xr-device-emulated-position-boolean", "url": "#simulated-xr-device-emulated-position-boolean", "dfnText": "emulated position boolean", "refSections": [{"refs": [{"id": "ref-for-simulated-xr-device-emulated-position-boolean"}], "title": "5.1. FakeXRDevice"}], "external": false};
window.dfnpanelData['simulated-xr-device-visibility-state'] = {"dfnID": "simulated-xr-device-visibility-state", "url": "#simulated-xr-device-visibility-state", "dfnText": "visibility state", "refSections": [{"refs": [{"id": "ref-for-simulated-xr-device-visibility-state"}], "title": "5.1. FakeXRDevice"}], "external": false};
window.dfnpanelData['view-device-resolution'] = {"dfnID": "view-device-resolution", "url": "#view-device-resolution", "dfnText": "device resolution", "refSections": [{"refs": [{"id": "ref-for-view-device-resolution"}], "title": "4.3. FakeXRDeviceInit"}], "external": false};
window.dfnpanelData['view-field-of-view'] = {"dfnID": "view-field-of-view", "url": "#view-field-of-view", "dfnText": "field of view", "refSections": [{"refs": [{"id": "ref-for-view-field-of-view"}, {"id": "ref-for-view-field-of-view\u2460"}], "title": "3.1. Simulated XR Device"}, {"refs": [{"id": "ref-for-view-field-of-view\u2461"}], "title": "4.3. FakeXRDeviceInit"}], "external": false};
window.dfnpanelData['simulated-xr-input-source'] = {"dfnID": "simulated-xr-input-source", "url": "#simulated-xr-input-source", "dfnText": "simulated XR input source", "refSections": [{"refs": [{"id": "ref-for-simulated-xr-input-source"}, {"id": "ref-for-simulated-xr-input-source\u2460"}, {"id": "ref-for-simulated-xr-input-source\u2461"}, {"id": "ref-for-simulated-xr-input-source\u2462"}, {"id": "ref-for-simulated-xr-input-source\u2463"}, {"id": "ref-for-simulated-xr-input-source\u2464"}, {"id": "ref-for-simulated-xr-input-source\u2465"}, {"id": "ref-for-simulated-xr-input-source\u2466"}, {"id": "ref-for-simulated-xr-input-source\u2467"}, {"id": "ref-for-simulated-xr-input-source\u2468"}], "title": "3.2. Simulated Input Device"}, {"refs": [{"id": "ref-for-simulated-xr-input-source\u2460\u24ea"}, {"id": "ref-for-simulated-xr-input-source\u2460\u2460"}], "title": "5.1. FakeXRDevice"}, {"refs": [{"id": "ref-for-simulated-xr-input-source\u2460\u2461"}, {"id": "ref-for-simulated-xr-input-source\u2460\u2462"}, {"id": "ref-for-simulated-xr-input-source\u2460\u2463"}, {"id": "ref-for-simulated-xr-input-source\u2460\u2464"}, {"id": "ref-for-simulated-xr-input-source\u2460\u2465"}], "title": "5.2. FakeXRInputController"}], "external": false};
window.dfnpanelData['simulated-xr-input-source-handedness'] = {"dfnID": "simulated-xr-input-source-handedness", "url": "#simulated-xr-input-source-handedness", "dfnText": "handedness", "refSections": [{"refs": [{"id": "ref-for-simulated-xr-input-source-handedness"}], "title": "5.1. FakeXRDevice"}, {"refs": [{"id": "ref-for-simulated-xr-input-source-handedness\u2460"}], "title": "5.2. FakeXRInputController"}], "external": false};
window.dfnpanelData['simulated-xr-input-source-targetraymode'] = {"dfnID": "simulated-xr-input-source-targetraymode", "url": "#simulated-xr-input-source-targetraymode", "dfnText": "targetRayMode", "refSections": [{"refs": [{"id": "ref-for-simulated-xr-input-source-targetraymode"}], "title": "5.1. FakeXRDevice"}, {"refs": [{"id": "ref-for-simulated-xr-input-source-targetraymode\u2460"}], "title": "5.2. FakeXRInputController"}], "external": false};
window.dfnpanelData['simulated-xr-input-source-pointerorigin'] = {"dfnID": "simulated-xr-input-source-pointerorigin", "url": "#simulated-xr-input-source-pointerorigin", "dfnText": "pointerOrigin", "refSections": [{"refs": [{"id": "ref-for-simulated-xr-input-source-pointerorigin"}], "title": "5.1. FakeXRDevice"}, {"refs": [{"id": "ref-for-simulated-xr-input-source-pointerorigin\u2460"}], "title": "5.2. FakeXRInputController"}], "external": false};
window.dfnpanelData['simulated-xr-input-source-griporigin'] = {"dfnID": "simulated-xr-input-source-griporigin", "url": "#simulated-xr-input-source-griporigin", "dfnText": "gripOrigin", "refSections": [{"refs": [{"id": "ref-for-simulated-xr-input-source-griporigin"}], "title": "5.1. FakeXRDevice"}, {"refs": [{"id": "ref-for-simulated-xr-input-source-griporigin\u2460"}, {"id": "ref-for-simulated-xr-input-source-griporigin\u2461"}], "title": "5.2. FakeXRInputController"}], "external": false};
window.dfnpanelData['simulated-xr-input-source-profiles'] = {"dfnID": "simulated-xr-input-source-profiles", "url": "#simulated-xr-input-source-profiles", "dfnText": "profiles", "refSections": [{"refs": [{"id": "ref-for-simulated-xr-input-source-profiles"}], "title": "5.1. FakeXRDevice"}, {"refs": [{"id": "ref-for-simulated-xr-input-source-profiles\u2460"}], "title": "5.2. FakeXRInputController"}], "external": false};
window.dfnpanelData['simulated-xr-input-source-buttonstate'] = {"dfnID": "simulated-xr-input-source-buttonstate", "url": "#simulated-xr-input-source-buttonstate", "dfnText": "buttonState", "refSections": [{"refs": [{"id": "ref-for-simulated-xr-input-source-buttonstate"}], "title": "3.2. Simulated Input Device"}, {"refs": [{"id": "ref-for-simulated-xr-input-source-buttonstate\u2460"}], "title": "5.1. FakeXRDevice"}, {"refs": [{"id": "ref-for-simulated-xr-input-source-buttonstate\u2461"}, {"id": "ref-for-simulated-xr-input-source-buttonstate\u2462"}, {"id": "ref-for-simulated-xr-input-source-buttonstate\u2463"}], "title": "5.2. FakeXRInputController"}], "external": false};
window.dfnpanelData['simulated-xr-input-source-connectionstate'] = {"dfnID": "simulated-xr-input-source-connectionstate", "url": "#simulated-xr-input-source-connectionstate", "dfnText": "connectionState", "refSections": [{"refs": [{"id": "ref-for-simulated-xr-input-source-connectionstate"}, {"id": "ref-for-simulated-xr-input-source-connectionstate\u2460"}, {"id": "ref-for-simulated-xr-input-source-connectionstate\u2461"}, {"id": "ref-for-simulated-xr-input-source-connectionstate\u2462"}], "title": "5.2. FakeXRInputController"}], "external": false};
window.dfnpanelData['simulated-xr-input-source-primaryactionstarted'] = {"dfnID": "simulated-xr-input-source-primaryactionstarted", "url": "#simulated-xr-input-source-primaryactionstarted", "dfnText": "primaryActionStarted", "refSections": [{"refs": [{"id": "ref-for-simulated-xr-input-source-primaryactionstarted"}, {"id": "ref-for-simulated-xr-input-source-primaryactionstarted\u2460"}, {"id": "ref-for-simulated-xr-input-source-primaryactionstarted\u2461"}, {"id": "ref-for-simulated-xr-input-source-primaryactionstarted\u2462"}, {"id": "ref-for-simulated-xr-input-source-primaryactionstarted\u2463"}], "title": "5.2. FakeXRInputController"}], "external": false};
window.dfnpanelData['dom-xrsystem-test'] = {"dfnID": "dom-xrsystem-test", "url": "#dom-xrsystem-test", "dfnText": "test", "refSections": [{"refs": [{"id": "ref-for-dom-xrsystem-test"}], "title": "4.1. navigator.xr.test"}], "external": false};
window.dfnpanelData['xrtest'] = {"dfnID": "xrtest", "url": "#xrtest", "dfnText": "XRTest", "refSections": [{"refs": [{"id": "ref-for-xrtest"}, {"id": "ref-for-xrtest\u2460"}], "title": "4.1. navigator.xr.test"}, {"refs": [{"id": "ref-for-xrtest\u2461"}], "title": "4.2. XRTest"}], "external": false};
window.dfnpanelData['dom-xrtest-simulatedeviceconnection'] = {"dfnID": "dom-xrtest-simulatedeviceconnection", "url": "#dom-xrtest-simulatedeviceconnection", "dfnText": "simulateDeviceConnection(init)", "refSections": [{"refs": [{"id": "ref-for-dom-xrtest-simulatedeviceconnection"}], "title": "4.2. XRTest"}], "external": false};
window.dfnpanelData['dom-xrtest-simulateuseractivation'] = {"dfnID": "dom-xrtest-simulateuseractivation", "url": "#dom-xrtest-simulateuseractivation", "dfnText": "simulateUserActivation(f)", "refSections": [{"refs": [{"id": "ref-for-dom-xrtest-simulateuseractivation"}], "title": "4.2. XRTest"}], "external": false};
window.dfnpanelData['dom-xrtest-disconnectalldevices'] = {"dfnID": "dom-xrtest-disconnectalldevices", "url": "#dom-xrtest-disconnectalldevices", "dfnText": "disconnectAllDevices()", "refSections": [{"refs": [{"id": "ref-for-dom-xrtest-disconnectalldevices"}], "title": "4.2. XRTest"}], "external": false};
window.dfnpanelData['dictdef-fakexrdeviceinit'] = {"dfnID": "dictdef-fakexrdeviceinit", "url": "#dictdef-fakexrdeviceinit", "dfnText": "FakeXRDeviceInit", "refSections": [{"refs": [{"id": "ref-for-dictdef-fakexrdeviceinit"}, {"id": "ref-for-dictdef-fakexrdeviceinit\u2460"}], "title": "4.2. XRTest"}], "external": false};
window.dfnpanelData['dom-fakexrdeviceinit-supportsimmersive'] = {"dfnID": "dom-fakexrdeviceinit-supportsimmersive", "url": "#dom-fakexrdeviceinit-supportsimmersive", "dfnText": "supportsImmersive", "refSections": [{"refs": [{"id": "ref-for-dom-fakexrdeviceinit-supportsimmersive"}], "title": "4.2. XRTest"}, {"refs": [{"id": "ref-for-dom-fakexrdeviceinit-supportsimmersive\u2460"}], "title": "4.3. FakeXRDeviceInit"}], "external": false};
window.dfnpanelData['dom-fakexrdeviceinit-supportedmodes'] = {"dfnID": "dom-fakexrdeviceinit-supportedmodes", "url": "#dom-fakexrdeviceinit-supportedmodes", "dfnText": "supportedModes", "refSections": [{"refs": [{"id": "ref-for-dom-fakexrdeviceinit-supportedmodes"}, {"id": "ref-for-dom-fakexrdeviceinit-supportedmodes\u2460"}], "title": "4.2. XRTest"}, {"refs": [{"id": "ref-for-dom-fakexrdeviceinit-supportedmodes\u2461"}], "title": "4.3. FakeXRDeviceInit"}], "external": false};
window.dfnpanelData['dom-fakexrdeviceinit-views'] = {"dfnID": "dom-fakexrdeviceinit-views", "url": "#dom-fakexrdeviceinit-views", "dfnText": "views", "refSections": [{"refs": [{"id": "ref-for-dom-fakexrdeviceinit-views"}], "title": "4.2. XRTest"}], "external": false};
window.dfnpanelData['dom-fakexrdeviceinit-supportedfeatures'] = {"dfnID": "dom-fakexrdeviceinit-supportedfeatures", "url": "#dom-fakexrdeviceinit-supportedfeatures", "dfnText": "supportedFeatures", "refSections": [{"refs": [{"id": "ref-for-dom-fakexrdeviceinit-supportedfeatures"}, {"id": "ref-for-dom-fakexrdeviceinit-supportedfeatures\u2460"}], "title": "4.2. XRTest"}], "external": false};
window.dfnpanelData['dom-fakexrdeviceinit-boundscoordinates'] = {"dfnID": "dom-fakexrdeviceinit-boundscoordinates", "url": "#dom-fakexrdeviceinit-boundscoordinates", "dfnText": "boundsCoordinates", "refSections": [{"refs": [{"id": "ref-for-dom-fakexrdeviceinit-boundscoordinates"}, {"id": "ref-for-dom-fakexrdeviceinit-boundscoordinates\u2460"}, {"id": "ref-for-dom-fakexrdeviceinit-boundscoordinates\u2461"}], "title": "4.2. XRTest"}], "external": false};
window.dfnpanelData['dom-fakexrdeviceinit-floororigin'] = {"dfnID": "dom-fakexrdeviceinit-floororigin", "url": "#dom-fakexrdeviceinit-floororigin", "dfnText": "floorOrigin", "refSections": [{"refs": [{"id": "ref-for-dom-fakexrdeviceinit-floororigin"}, {"id": "ref-for-dom-fakexrdeviceinit-floororigin\u2460"}], "title": "4.2. XRTest"}], "external": false};
window.dfnpanelData['dom-fakexrdeviceinit-viewerorigin'] = {"dfnID": "dom-fakexrdeviceinit-viewerorigin", "url": "#dom-fakexrdeviceinit-viewerorigin", "dfnText": "viewerOrigin", "refSections": [{"refs": [{"id": "ref-for-dom-fakexrdeviceinit-viewerorigin"}, {"id": "ref-for-dom-fakexrdeviceinit-viewerorigin\u2460"}], "title": "4.2. XRTest"}], "external": false};
window.dfnpanelData['dictdef-fakexrviewinit'] = {"dfnID": "dictdef-fakexrviewinit", "url": "#dictdef-fakexrviewinit", "dfnText": "FakeXRViewInit", "refSections": [{"refs": [{"id": "ref-for-dictdef-fakexrviewinit"}, {"id": "ref-for-dictdef-fakexrviewinit\u2460"}], "title": "4.3. FakeXRDeviceInit"}, {"refs": [{"id": "ref-for-dictdef-fakexrviewinit\u2461"}], "title": "5.1. FakeXRDevice"}], "external": false};
window.dfnpanelData['dom-fakexrviewinit-eye'] = {"dfnID": "dom-fakexrviewinit-eye", "url": "#dom-fakexrviewinit-eye", "dfnText": "eye", "refSections": [{"refs": [{"id": "ref-for-dom-fakexrviewinit-eye"}], "title": "4.3. FakeXRDeviceInit"}], "external": false};
window.dfnpanelData['dom-fakexrviewinit-projectionmatrix'] = {"dfnID": "dom-fakexrviewinit-projectionmatrix", "url": "#dom-fakexrviewinit-projectionmatrix", "dfnText": "projectionMatrix", "refSections": [{"refs": [{"id": "ref-for-dom-fakexrviewinit-projectionmatrix"}, {"id": "ref-for-dom-fakexrviewinit-projectionmatrix\u2460"}], "title": "4.3. FakeXRDeviceInit"}], "external": false};
window.dfnpanelData['dom-fakexrviewinit-resolution'] = {"dfnID": "dom-fakexrviewinit-resolution", "url": "#dom-fakexrviewinit-resolution", "dfnText": "resolution", "refSections": [{"refs": [{"id": "ref-for-dom-fakexrviewinit-resolution"}], "title": "4.3. FakeXRDeviceInit"}], "external": false};
window.dfnpanelData['dom-fakexrviewinit-viewoffset'] = {"dfnID": "dom-fakexrviewinit-viewoffset", "url": "#dom-fakexrviewinit-viewoffset", "dfnText": "viewOffset", "refSections": [{"refs": [{"id": "ref-for-dom-fakexrviewinit-viewoffset"}], "title": "4.3. FakeXRDeviceInit"}], "external": false};
window.dfnpanelData['dom-fakexrviewinit-fieldofview'] = {"dfnID": "dom-fakexrviewinit-fieldofview", "url": "#dom-fakexrviewinit-fieldofview", "dfnText": "fieldOfView", "refSections": [{"refs": [{"id": "ref-for-dom-fakexrviewinit-fieldofview"}, {"id": "ref-for-dom-fakexrviewinit-fieldofview\u2460"}], "title": "4.3. FakeXRDeviceInit"}], "external": false};
window.dfnpanelData['dictdef-fakexrfieldofviewinit'] = {"dfnID": "dictdef-fakexrfieldofviewinit", "url": "#dictdef-fakexrfieldofviewinit", "dfnText": "FakeXRFieldOfViewInit", "refSections": [{"refs": [{"id": "ref-for-dictdef-fakexrfieldofviewinit"}], "title": "3.1. Simulated XR Device"}, {"refs": [{"id": "ref-for-dictdef-fakexrfieldofviewinit\u2460"}], "title": "4.3. FakeXRDeviceInit"}], "external": false};
window.dfnpanelData['dictdef-fakexrdeviceresolution'] = {"dfnID": "dictdef-fakexrdeviceresolution", "url": "#dictdef-fakexrdeviceresolution", "dfnText": "FakeXRDeviceResolution", "refSections": [{"refs": [{"id": "ref-for-dictdef-fakexrdeviceresolution"}], "title": "3.1. Simulated XR Device"}, {"refs": [{"id": "ref-for-dictdef-fakexrdeviceresolution\u2460"}], "title": "4.3. FakeXRDeviceInit"}], "external": false};
window.dfnpanelData['dictdef-fakexrboundspoint'] = {"dfnID": "dictdef-fakexrboundspoint", "url": "#dictdef-fakexrboundspoint", "dfnText": "FakeXRBoundsPoint", "refSections": [{"refs": [{"id": "ref-for-dictdef-fakexrboundspoint"}], "title": "4.3. FakeXRDeviceInit"}, {"refs": [{"id": "ref-for-dictdef-fakexrboundspoint\u2460"}], "title": "5.1. FakeXRDevice"}], "external": false};
window.dfnpanelData['dictdef-fakexrrigidtransforminit'] = {"dfnID": "dictdef-fakexrrigidtransforminit", "url": "#dictdef-fakexrrigidtransforminit", "dfnText": "FakeXRRigidTransformInit", "refSections": [{"refs": [{"id": "ref-for-dictdef-fakexrrigidtransforminit"}, {"id": "ref-for-dictdef-fakexrrigidtransforminit\u2460"}, {"id": "ref-for-dictdef-fakexrrigidtransforminit\u2461"}, {"id": "ref-for-dictdef-fakexrrigidtransforminit\u2462"}], "title": "4.3. FakeXRDeviceInit"}, {"refs": [{"id": "ref-for-dictdef-fakexrrigidtransforminit\u2463"}, {"id": "ref-for-dictdef-fakexrrigidtransforminit\u2464"}], "title": "4.4. FakeXRRigidTransformInit"}, {"refs": [{"id": "ref-for-dictdef-fakexrrigidtransforminit\u2465"}, {"id": "ref-for-dictdef-fakexrrigidtransforminit\u2466"}], "title": "5.1. FakeXRDevice"}, {"refs": [{"id": "ref-for-dictdef-fakexrrigidtransforminit\u2467"}, {"id": "ref-for-dictdef-fakexrrigidtransforminit\u2468"}, {"id": "ref-for-dictdef-fakexrrigidtransforminit\u2460\u24ea"}, {"id": "ref-for-dictdef-fakexrrigidtransforminit\u2460\u2460"}], "title": "5.2. FakeXRInputController"}, {"refs": [{"id": "ref-for-dictdef-fakexrrigidtransforminit\u2460\u2461"}, {"id": "ref-for-dictdef-fakexrrigidtransforminit\u2460\u2462"}, {"id": "ref-for-dictdef-fakexrrigidtransforminit\u2460\u2463"}], "title": "8. Anchors extensions"}, {"refs": [{"id": "ref-for-dictdef-fakexrrigidtransforminit\u2460\u2464"}], "title": "10. Depth sensing extensions"}], "external": false};
window.dfnpanelData['dom-fakexrrigidtransforminit-position'] = {"dfnID": "dom-fakexrrigidtransforminit-position", "url": "#dom-fakexrrigidtransforminit-position", "dfnText": "position", "refSections": [{"refs": [{"id": "ref-for-dom-fakexrrigidtransforminit-position"}], "title": "4.3. FakeXRDeviceInit"}], "external": false};
window.dfnpanelData['dom-fakexrrigidtransforminit-orientation'] = {"dfnID": "dom-fakexrrigidtransforminit-orientation", "url": "#dom-fakexrrigidtransforminit-orientation", "dfnText": "orientation", "refSections": [{"refs": [{"id": "ref-for-dom-fakexrrigidtransforminit-orientation"}], "title": "4.3. FakeXRDeviceInit"}], "external": false};
window.dfnpanelData['parse-a-rigid-transform'] = {"dfnID": "parse-a-rigid-transform", "url": "#parse-a-rigid-transform", "dfnText": "parse a rigid transform", "refSections": [{"refs": [{"id": "ref-for-parse-a-rigid-transform"}], "title": "4.3. FakeXRDeviceInit"}, {"refs": [{"id": "ref-for-parse-a-rigid-transform\u2460"}, {"id": "ref-for-parse-a-rigid-transform\u2461"}, {"id": "ref-for-parse-a-rigid-transform\u2462"}, {"id": "ref-for-parse-a-rigid-transform\u2463"}], "title": "5.1. FakeXRDevice"}, {"refs": [{"id": "ref-for-parse-a-rigid-transform\u2464"}, {"id": "ref-for-parse-a-rigid-transform\u2465"}], "title": "5.2. FakeXRInputController"}], "external": false};
window.dfnpanelData['parse-a-view'] = {"dfnID": "parse-a-view", "url": "#parse-a-view", "dfnText": "parse a view", "refSections": [{"refs": [{"id": "ref-for-parse-a-view"}, {"id": "ref-for-parse-a-view\u2460"}], "title": "4.2. XRTest"}, {"refs": [{"id": "ref-for-parse-a-view\u2461"}], "title": "5.1. FakeXRDevice"}], "external": false};
window.dfnpanelData['base-reference-space'] = {"dfnID": "base-reference-space", "url": "#base-reference-space", "dfnText": "base reference space", "refSections": [{"refs": [{"id": "ref-for-base-reference-space"}, {"id": "ref-for-base-reference-space\u2460"}], "title": "4.4. FakeXRRigidTransformInit"}, {"refs": [{"id": "ref-for-base-reference-space\u2461"}], "title": "8. Anchors extensions"}], "external": false};
window.dfnpanelData['fakexrdevice'] = {"dfnID": "fakexrdevice", "url": "#fakexrdevice", "dfnText": "FakeXRDevice", "refSections": [{"refs": [{"id": "ref-for-fakexrdevice"}], "title": "3.1. Simulated XR Device"}, {"refs": [{"id": "ref-for-fakexrdevice\u2460"}, {"id": "ref-for-fakexrdevice\u2461"}], "title": "4.2. XRTest"}, {"refs": [{"id": "ref-for-fakexrdevice\u2462"}, {"id": "ref-for-fakexrdevice\u2463"}, {"id": "ref-for-fakexrdevice\u2464"}], "title": "5.1. FakeXRDevice"}, {"refs": [{"id": "ref-for-fakexrdevice\u2465"}], "title": "6. Hit test extensions"}, {"refs": [{"id": "ref-for-fakexrdevice\u2466"}, {"id": "ref-for-fakexrdevice\u2467"}, {"id": "ref-for-fakexrdevice\u2468"}], "title": "8. Anchors extensions"}, {"refs": [{"id": "ref-for-fakexrdevice\u2460\u24ea"}, {"id": "ref-for-fakexrdevice\u2460\u2460"}, {"id": "ref-for-fakexrdevice\u2460\u2461"}], "title": "9. Lighting estimation extensions"}, {"refs": [{"id": "ref-for-fakexrdevice\u2460\u2462"}, {"id": "ref-for-fakexrdevice\u2460\u2463"}, {"id": "ref-for-fakexrdevice\u2460\u2464"}], "title": "10. Depth sensing extensions"}], "external": false};
window.dfnpanelData['dom-fakexrdevice-setdepthsensingdata'] = {"dfnID": "dom-fakexrdevice-setdepthsensingdata", "url": "#dom-fakexrdevice-setdepthsensingdata", "dfnText": "setDepthSensingData", "refSections": [{"refs": [{"id": "ref-for-dom-fakexrdevice-setdepthsensingdata"}], "title": "10. Depth sensing extensions"}], "external": false};
window.dfnpanelData['dom-fakexrdevice-cleardepthsensingdata'] = {"dfnID": "dom-fakexrdevice-cleardepthsensingdata", "url": "#dom-fakexrdevice-cleardepthsensingdata", "dfnText": "clearDepthSensingData", "refSections": [{"refs": [{"id": "ref-for-dom-fakexrdevice-cleardepthsensingdata"}], "title": "10. Depth sensing extensions"}], "external": false};
window.dfnpanelData['fakexrdevice-device'] = {"dfnID": "fakexrdevice-device", "url": "#fakexrdevice-device", "dfnText": "device", "refSections": [{"refs": [{"id": "ref-for-fakexrdevice-device"}], "title": "4.2. XRTest"}, {"refs": [{"id": "ref-for-fakexrdevice-device\u2460"}, {"id": "ref-for-fakexrdevice-device\u2461"}, {"id": "ref-for-fakexrdevice-device\u2462"}, {"id": "ref-for-fakexrdevice-device\u2463"}, {"id": "ref-for-fakexrdevice-device\u2464"}, {"id": "ref-for-fakexrdevice-device\u2465"}, {"id": "ref-for-fakexrdevice-device\u2466"}, {"id": "ref-for-fakexrdevice-device\u2467"}, {"id": "ref-for-fakexrdevice-device\u2468"}, {"id": "ref-for-fakexrdevice-device\u2460\u24ea"}, {"id": "ref-for-fakexrdevice-device\u2460\u2460"}], "title": "5.1. FakeXRDevice"}], "external": false};
window.dfnpanelData['xrsession-next-animation-frame'] = {"dfnID": "xrsession-next-animation-frame", "url": "#xrsession-next-animation-frame", "dfnText": "next animation frame", "refSections": [{"refs": [{"id": "ref-for-xrsession-next-animation-frame"}], "title": "3.2. Simulated Input Device"}, {"refs": [{"id": "ref-for-xrsession-next-animation-frame\u2460"}, {"id": "ref-for-xrsession-next-animation-frame\u2461"}, {"id": "ref-for-xrsession-next-animation-frame\u2462"}, {"id": "ref-for-xrsession-next-animation-frame\u2463"}, {"id": "ref-for-xrsession-next-animation-frame\u2464"}, {"id": "ref-for-xrsession-next-animation-frame\u2465"}, {"id": "ref-for-xrsession-next-animation-frame\u2466"}], "title": "5.1. FakeXRDevice"}, {"refs": [{"id": "ref-for-xrsession-next-animation-frame\u2467"}, {"id": "ref-for-xrsession-next-animation-frame\u2468"}, {"id": "ref-for-xrsession-next-animation-frame\u2460\u24ea"}, {"id": "ref-for-xrsession-next-animation-frame\u2460\u2460"}, {"id": "ref-for-xrsession-next-animation-frame\u2460\u2461"}, {"id": "ref-for-xrsession-next-animation-frame\u2460\u2462"}, {"id": "ref-for-xrsession-next-animation-frame\u2460\u2463"}, {"id": "ref-for-xrsession-next-animation-frame\u2460\u2464"}, {"id": "ref-for-xrsession-next-animation-frame\u2460\u2465"}, {"id": "ref-for-xrsession-next-animation-frame\u2460\u2466"}, {"id": "ref-for-xrsession-next-animation-frame\u2460\u2467"}, {"id": "ref-for-xrsession-next-animation-frame\u2460\u2468"}, {"id": "ref-for-xrsession-next-animation-frame\u2461\u24ea"}], "title": "5.2. FakeXRInputController"}, {"refs": [{"id": "ref-for-xrsession-next-animation-frame\u2461\u2460"}], "title": "9. Lighting estimation extensions"}], "external": false};
window.dfnpanelData['dom-fakexrdevice-setviews'] = {"dfnID": "dom-fakexrdevice-setviews", "url": "#dom-fakexrdevice-setviews", "dfnText": "setViews(views)", "refSections": [{"refs": [{"id": "ref-for-dom-fakexrdevice-setviews"}], "title": "5.1. FakeXRDevice"}], "external": false};
window.dfnpanelData['dom-fakexrdevice-disconnect'] = {"dfnID": "dom-fakexrdevice-disconnect", "url": "#dom-fakexrdevice-disconnect", "dfnText": "disconnect()", "refSections": [{"refs": [{"id": "ref-for-dom-fakexrdevice-disconnect"}], "title": "5.1. FakeXRDevice"}], "external": false};
window.dfnpanelData['dom-fakexrdevice-setviewerorigin'] = {"dfnID": "dom-fakexrdevice-setviewerorigin", "url": "#dom-fakexrdevice-setviewerorigin", "dfnText": "setViewerOrigin(origin, emulatedPosition)", "refSections": [{"refs": [{"id": "ref-for-dom-fakexrdevice-setviewerorigin"}], "title": "5.1. FakeXRDevice"}], "external": false};
window.dfnpanelData['dom-fakexrdevice-clearviewerorigin'] = {"dfnID": "dom-fakexrdevice-clearviewerorigin", "url": "#dom-fakexrdevice-clearviewerorigin", "dfnText": "clearViewerOrigin()", "refSections": [{"refs": [{"id": "ref-for-dom-fakexrdevice-clearviewerorigin"}], "title": "5.1. FakeXRDevice"}], "external": false};
window.dfnpanelData['dom-fakexrdevice-simulatevisibilitychange'] = {"dfnID": "dom-fakexrdevice-simulatevisibilitychange", "url": "#dom-fakexrdevice-simulatevisibilitychange", "dfnText": "simulateVisibilityChange(state)", "refSections": [{"refs": [{"id": "ref-for-dom-fakexrdevice-simulatevisibilitychange"}], "title": "5.1. FakeXRDevice"}], "external": false};
window.dfnpanelData['dom-fakexrdevice-setfloororigin'] = {"dfnID": "dom-fakexrdevice-setfloororigin", "url": "#dom-fakexrdevice-setfloororigin", "dfnText": "setFloorOrigin(origin)", "refSections": [{"refs": [{"id": "ref-for-dom-fakexrdevice-setfloororigin"}], "title": "5.1. FakeXRDevice"}], "external": false};
window.dfnpanelData['dom-fakexrdevice-clearfloororigin'] = {"dfnID": "dom-fakexrdevice-clearfloororigin", "url": "#dom-fakexrdevice-clearfloororigin", "dfnText": "clearFloorOrigin()", "refSections": [{"refs": [{"id": "ref-for-dom-fakexrdevice-clearfloororigin"}], "title": "5.1. FakeXRDevice"}], "external": false};
window.dfnpanelData['dom-fakexrdevice-setboundsgeometry'] = {"dfnID": "dom-fakexrdevice-setboundsgeometry", "url": "#dom-fakexrdevice-setboundsgeometry", "dfnText": "setBoundsGeometry(boundsCoordinates)", "refSections": [{"refs": [{"id": "ref-for-dom-fakexrdevice-setboundsgeometry"}], "title": "5.1. FakeXRDevice"}], "external": false};
window.dfnpanelData['dom-fakexrdevice-simulateresetpose'] = {"dfnID": "dom-fakexrdevice-simulateresetpose", "url": "#dom-fakexrdevice-simulateresetpose", "dfnText": "simulateResetPose()", "refSections": [{"refs": [{"id": "ref-for-dom-fakexrdevice-simulateresetpose"}], "title": "5.1. FakeXRDevice"}], "external": false};
window.dfnpanelData['dom-fakexrdevice-simulateinputsourceconnection'] = {"dfnID": "dom-fakexrdevice-simulateinputsourceconnection", "url": "#dom-fakexrdevice-simulateinputsourceconnection", "dfnText": "simulateInputSourceConnection(init)", "refSections": [{"refs": [{"id": "ref-for-dom-fakexrdevice-simulateinputsourceconnection"}], "title": "5.1. FakeXRDevice"}, {"refs": [{"id": "ref-for-dom-fakexrdevice-simulateinputsourceconnection\u2460"}], "title": "5.2. FakeXRInputController"}], "external": false};
window.dfnpanelData['dictdef-fakexrinputsourceinit'] = {"dfnID": "dictdef-fakexrinputsourceinit", "url": "#dictdef-fakexrinputsourceinit", "dfnText": "FakeXRInputSourceInit", "refSections": [{"refs": [{"id": "ref-for-dictdef-fakexrinputsourceinit"}], "title": "5.1. FakeXRDevice"}], "external": false};
window.dfnpanelData['dom-fakexrinputsourceinit-handedness'] = {"dfnID": "dom-fakexrinputsourceinit-handedness", "url": "#dom-fakexrinputsourceinit-handedness", "dfnText": "handedness", "refSections": [{"refs": [{"id": "ref-for-dom-fakexrinputsourceinit-handedness"}], "title": "5.1. FakeXRDevice"}], "external": false};
window.dfnpanelData['dom-fakexrinputsourceinit-targetraymode'] = {"dfnID": "dom-fakexrinputsourceinit-targetraymode", "url": "#dom-fakexrinputsourceinit-targetraymode", "dfnText": "targetRayMode", "refSections": [{"refs": [{"id": "ref-for-dom-fakexrinputsourceinit-targetraymode"}], "title": "5.1. FakeXRDevice"}], "external": false};
window.dfnpanelData['dom-fakexrinputsourceinit-pointerorigin'] = {"dfnID": "dom-fakexrinputsourceinit-pointerorigin", "url": "#dom-fakexrinputsourceinit-pointerorigin", "dfnText": "pointerOrigin", "refSections": [{"refs": [{"id": "ref-for-dom-fakexrinputsourceinit-pointerorigin"}], "title": "5.1. FakeXRDevice"}], "external": false};
window.dfnpanelData['dom-fakexrinputsourceinit-profiles'] = {"dfnID": "dom-fakexrinputsourceinit-profiles", "url": "#dom-fakexrinputsourceinit-profiles", "dfnText": "profiles", "refSections": [{"refs": [{"id": "ref-for-dom-fakexrinputsourceinit-profiles"}], "title": "5.1. FakeXRDevice"}], "external": false};
window.dfnpanelData['dom-fakexrinputsourceinit-selectionstarted'] = {"dfnID": "dom-fakexrinputsourceinit-selectionstarted", "url": "#dom-fakexrinputsourceinit-selectionstarted", "dfnText": "selectionStarted", "refSections": [{"refs": [{"id": "ref-for-dom-fakexrinputsourceinit-selectionstarted"}], "title": "5.1. FakeXRDevice"}], "external": false};
window.dfnpanelData['dom-fakexrinputsourceinit-selectionclicked'] = {"dfnID": "dom-fakexrinputsourceinit-selectionclicked", "url": "#dom-fakexrinputsourceinit-selectionclicked", "dfnText": "selectionClicked", "refSections": [{"refs": [{"id": "ref-for-dom-fakexrinputsourceinit-selectionclicked"}], "title": "5.1. FakeXRDevice"}], "external": false};
window.dfnpanelData['dom-fakexrinputsourceinit-supportedbuttons'] = {"dfnID": "dom-fakexrinputsourceinit-supportedbuttons", "url": "#dom-fakexrinputsourceinit-supportedbuttons", "dfnText": "supportedButtons", "refSections": [{"refs": [{"id": "ref-for-dom-fakexrinputsourceinit-supportedbuttons"}, {"id": "ref-for-dom-fakexrinputsourceinit-supportedbuttons\u2460"}], "title": "5.1. FakeXRDevice"}], "external": false};
window.dfnpanelData['dom-fakexrinputsourceinit-griporigin'] = {"dfnID": "dom-fakexrinputsourceinit-griporigin", "url": "#dom-fakexrinputsourceinit-griporigin", "dfnText": "gripOrigin", "refSections": [{"refs": [{"id": "ref-for-dom-fakexrinputsourceinit-griporigin"}, {"id": "ref-for-dom-fakexrinputsourceinit-griporigin\u2460"}], "title": "5.1. FakeXRDevice"}], "external": false};
window.dfnpanelData['fakexrinputcontroller'] = {"dfnID": "fakexrinputcontroller", "url": "#fakexrinputcontroller", "dfnText": "FakeXRInputController", "refSections": [{"refs": [{"id": "ref-for-fakexrinputcontroller"}], "title": "3.2. Simulated Input Device"}, {"refs": [{"id": "ref-for-fakexrinputcontroller\u2460"}, {"id": "ref-for-fakexrinputcontroller\u2461"}], "title": "5.1. FakeXRDevice"}, {"refs": [{"id": "ref-for-fakexrinputcontroller\u2462"}, {"id": "ref-for-fakexrinputcontroller\u2463"}], "title": "5.2. FakeXRInputController"}, {"refs": [{"id": "ref-for-fakexrinputcontroller\u2464"}], "title": "7. DOM overlay extensions"}], "external": false};
window.dfnpanelData['enumdef-fakexrbuttontype'] = {"dfnID": "enumdef-fakexrbuttontype", "url": "#enumdef-fakexrbuttontype", "dfnText": "FakeXRButtonType", "refSections": [{"refs": [{"id": "ref-for-enumdef-fakexrbuttontype"}], "title": "5.2. FakeXRInputController"}], "external": false};
window.dfnpanelData['dom-fakexrbuttontype-grip'] = {"dfnID": "dom-fakexrbuttontype-grip", "url": "#dom-fakexrbuttontype-grip", "dfnText": "\"grip\"", "refSections": [{"refs": [{"id": "ref-for-dom-fakexrbuttontype-grip"}], "title": "3.2. Simulated Input Device"}, {"refs": [{"id": "ref-for-dom-fakexrbuttontype-grip\u2460"}], "title": "5.2. FakeXRInputController"}], "external": false};
window.dfnpanelData['dom-fakexrbuttontype-touchpad'] = {"dfnID": "dom-fakexrbuttontype-touchpad", "url": "#dom-fakexrbuttontype-touchpad", "dfnText": "\"touchpad\"", "refSections": [{"refs": [{"id": "ref-for-dom-fakexrbuttontype-touchpad"}], "title": "5.2. FakeXRInputController"}], "external": false};
window.dfnpanelData['dom-fakexrbuttontype-thumbstick'] = {"dfnID": "dom-fakexrbuttontype-thumbstick", "url": "#dom-fakexrbuttontype-thumbstick", "dfnText": "\"thumbstick\"", "refSections": [{"refs": [{"id": "ref-for-dom-fakexrbuttontype-thumbstick"}], "title": "5.2. FakeXRInputController"}], "external": false};
window.dfnpanelData['dom-fakexrbuttontype-optional-thumbstick'] = {"dfnID": "dom-fakexrbuttontype-optional-thumbstick", "url": "#dom-fakexrbuttontype-optional-thumbstick", "dfnText": "\"optional-thumbstick\"", "refSections": [{"refs": [{"id": "ref-for-dom-fakexrbuttontype-optional-thumbstick"}], "title": "5.2. FakeXRInputController"}], "external": false};
window.dfnpanelData['dictdef-fakexrbuttonstateinit'] = {"dfnID": "dictdef-fakexrbuttonstateinit", "url": "#dictdef-fakexrbuttonstateinit", "dfnText": "FakeXRButtonStateInit", "refSections": [{"refs": [{"id": "ref-for-dictdef-fakexrbuttonstateinit"}], "title": "3.2. Simulated Input Device"}, {"refs": [{"id": "ref-for-dictdef-fakexrbuttonstateinit\u2460"}, {"id": "ref-for-dictdef-fakexrbuttonstateinit\u2461"}, {"id": "ref-for-dictdef-fakexrbuttonstateinit\u2462"}, {"id": "ref-for-dictdef-fakexrbuttonstateinit\u2463"}, {"id": "ref-for-dictdef-fakexrbuttonstateinit\u2464"}, {"id": "ref-for-dictdef-fakexrbuttonstateinit\u2465"}, {"id": "ref-for-dictdef-fakexrbuttonstateinit\u2466"}], "title": "5.2. FakeXRInputController"}], "external": false};
window.dfnpanelData['dom-fakexrbuttonstateinit-buttontype'] = {"dfnID": "dom-fakexrbuttonstateinit-buttontype", "url": "#dom-fakexrbuttonstateinit-buttontype", "dfnText": "buttonType", "refSections": [{"refs": [{"id": "ref-for-dom-fakexrbuttonstateinit-buttontype"}, {"id": "ref-for-dom-fakexrbuttonstateinit-buttontype\u2460"}, {"id": "ref-for-dom-fakexrbuttonstateinit-buttontype\u2461"}, {"id": "ref-for-dom-fakexrbuttonstateinit-buttontype\u2462"}, {"id": "ref-for-dom-fakexrbuttonstateinit-buttontype\u2463"}, {"id": "ref-for-dom-fakexrbuttonstateinit-buttontype\u2464"}], "title": "5.2. FakeXRInputController"}], "external": false};
window.dfnpanelData['dom-fakexrbuttonstateinit-pressed'] = {"dfnID": "dom-fakexrbuttonstateinit-pressed", "url": "#dom-fakexrbuttonstateinit-pressed", "dfnText": "pressed", "refSections": [{"refs": [{"id": "ref-for-dom-fakexrbuttonstateinit-pressed"}], "title": "5.2. FakeXRInputController"}], "external": false};
window.dfnpanelData['dom-fakexrbuttonstateinit-touched'] = {"dfnID": "dom-fakexrbuttonstateinit-touched", "url": "#dom-fakexrbuttonstateinit-touched", "dfnText": "touched", "refSections": [{"refs": [{"id": "ref-for-dom-fakexrbuttonstateinit-touched"}, {"id": "ref-for-dom-fakexrbuttonstateinit-touched\u2460"}], "title": "5.2. FakeXRInputController"}], "external": false};
window.dfnpanelData['dom-fakexrbuttonstateinit-pressedvalue'] = {"dfnID": "dom-fakexrbuttonstateinit-pressedvalue", "url": "#dom-fakexrbuttonstateinit-pressedvalue", "dfnText": "pressedValue", "refSections": [{"refs": [{"id": "ref-for-dom-fakexrbuttonstateinit-pressedvalue"}, {"id": "ref-for-dom-fakexrbuttonstateinit-pressedvalue\u2460"}], "title": "5.2. FakeXRInputController"}], "external": false};
window.dfnpanelData['dom-fakexrbuttonstateinit-xvalue'] = {"dfnID": "dom-fakexrbuttonstateinit-xvalue", "url": "#dom-fakexrbuttonstateinit-xvalue", "dfnText": "xValue", "refSections": [{"refs": [{"id": "ref-for-dom-fakexrbuttonstateinit-xvalue"}], "title": "5.2. FakeXRInputController"}], "external": false};
window.dfnpanelData['dom-fakexrbuttonstateinit-yvalue'] = {"dfnID": "dom-fakexrbuttonstateinit-yvalue", "url": "#dom-fakexrbuttonstateinit-yvalue", "dfnText": "yValue", "refSections": [{"refs": [{"id": "ref-for-dom-fakexrbuttonstateinit-yvalue"}], "title": "5.2. FakeXRInputController"}], "external": false};
window.dfnpanelData['fakexrinputcontroller-inputsource'] = {"dfnID": "fakexrinputcontroller-inputsource", "url": "#fakexrinputcontroller-inputsource", "dfnText": "inputSource", "refSections": [{"refs": [{"id": "ref-for-fakexrinputcontroller-inputsource"}], "title": "5.1. FakeXRDevice"}, {"refs": [{"id": "ref-for-fakexrinputcontroller-inputsource\u2460"}, {"id": "ref-for-fakexrinputcontroller-inputsource\u2461"}, {"id": "ref-for-fakexrinputcontroller-inputsource\u2462"}, {"id": "ref-for-fakexrinputcontroller-inputsource\u2463"}, {"id": "ref-for-fakexrinputcontroller-inputsource\u2464"}, {"id": "ref-for-fakexrinputcontroller-inputsource\u2465"}, {"id": "ref-for-fakexrinputcontroller-inputsource\u2466"}, {"id": "ref-for-fakexrinputcontroller-inputsource\u2467"}, {"id": "ref-for-fakexrinputcontroller-inputsource\u2468"}, {"id": "ref-for-fakexrinputcontroller-inputsource\u2460\u24ea"}, {"id": "ref-for-fakexrinputcontroller-inputsource\u2460\u2460"}, {"id": "ref-for-fakexrinputcontroller-inputsource\u2460\u2461"}, {"id": "ref-for-fakexrinputcontroller-inputsource\u2460\u2462"}, {"id": "ref-for-fakexrinputcontroller-inputsource\u2460\u2463"}, {"id": "ref-for-fakexrinputcontroller-inputsource\u2460\u2464"}, {"id": "ref-for-fakexrinputcontroller-inputsource\u2460\u2465"}], "title": "5.2. FakeXRInputController"}], "external": false};
window.dfnpanelData['start-a-primary-action'] = {"dfnID": "start-a-primary-action", "url": "#start-a-primary-action", "dfnText": "start a primary action", "refSections": [{"refs": [{"id": "ref-for-start-a-primary-action"}], "title": "5.1. FakeXRDevice"}, {"refs": [{"id": "ref-for-start-a-primary-action\u2460"}, {"id": "ref-for-start-a-primary-action\u2461"}, {"id": "ref-for-start-a-primary-action\u2462"}, {"id": "ref-for-start-a-primary-action\u2463"}, {"id": "ref-for-start-a-primary-action\u2464"}], "title": "5.2. FakeXRInputController"}], "external": false};
window.dfnpanelData['stop-a-primary-action'] = {"dfnID": "stop-a-primary-action", "url": "#stop-a-primary-action", "dfnText": "stop a primary action", "refSections": [{"refs": [{"id": "ref-for-stop-a-primary-action"}, {"id": "ref-for-stop-a-primary-action\u2460"}, {"id": "ref-for-stop-a-primary-action\u2461"}, {"id": "ref-for-stop-a-primary-action\u2462"}], "title": "5.2. FakeXRInputController"}], "external": false};
window.dfnpanelData['simulate-a-full-primary-action'] = {"dfnID": "simulate-a-full-primary-action", "url": "#simulate-a-full-primary-action", "dfnText": "simulate a full primary action", "refSections": [{"refs": [{"id": "ref-for-simulate-a-full-primary-action"}], "title": "5.1. FakeXRDevice"}, {"refs": [{"id": "ref-for-simulate-a-full-primary-action\u2460"}], "title": "5.2. FakeXRInputController"}], "external": false};
window.dfnpanelData['parse-supported-buttons'] = {"dfnID": "parse-supported-buttons", "url": "#parse-supported-buttons", "dfnText": "parse supported buttons", "refSections": [{"refs": [{"id": "ref-for-parse-supported-buttons"}], "title": "5.1. FakeXRDevice"}, {"refs": [{"id": "ref-for-parse-supported-buttons\u2460"}], "title": "5.2. FakeXRInputController"}], "external": false};
window.dfnpanelData['dom-fakexrinputcontroller-sethandedness'] = {"dfnID": "dom-fakexrinputcontroller-sethandedness", "url": "#dom-fakexrinputcontroller-sethandedness", "dfnText": "setHandedness(handedness)", "refSections": [{"refs": [{"id": "ref-for-dom-fakexrinputcontroller-sethandedness"}], "title": "5.2. FakeXRInputController"}], "external": false};
window.dfnpanelData['dom-fakexrinputcontroller-settargetraymode'] = {"dfnID": "dom-fakexrinputcontroller-settargetraymode", "url": "#dom-fakexrinputcontroller-settargetraymode", "dfnText": "setTargetRayMode(targetRayMode)", "refSections": [{"refs": [{"id": "ref-for-dom-fakexrinputcontroller-settargetraymode"}], "title": "5.2. FakeXRInputController"}], "external": false};
window.dfnpanelData['dom-fakexrinputcontroller-setprofiles'] = {"dfnID": "dom-fakexrinputcontroller-setprofiles", "url": "#dom-fakexrinputcontroller-setprofiles", "dfnText": "setProfiles(profiles)", "refSections": [{"refs": [{"id": "ref-for-dom-fakexrinputcontroller-setprofiles"}], "title": "5.2. FakeXRInputController"}], "external": false};
window.dfnpanelData['dom-fakexrinputcontroller-setgriporigin'] = {"dfnID": "dom-fakexrinputcontroller-setgriporigin", "url": "#dom-fakexrinputcontroller-setgriporigin", "dfnText": "setGripOrigin(gripOrigin)", "refSections": [{"refs": [{"id": "ref-for-dom-fakexrinputcontroller-setgriporigin"}], "title": "5.2. FakeXRInputController"}], "external": false};
window.dfnpanelData['dom-fakexrinputcontroller-cleargriporigin'] = {"dfnID": "dom-fakexrinputcontroller-cleargriporigin", "url": "#dom-fakexrinputcontroller-cleargriporigin", "dfnText": "clearGripOrigin()", "refSections": [{"refs": [{"id": "ref-for-dom-fakexrinputcontroller-cleargriporigin"}], "title": "5.2. FakeXRInputController"}], "external": false};
window.dfnpanelData['dom-fakexrinputcontroller-setpointerorigin'] = {"dfnID": "dom-fakexrinputcontroller-setpointerorigin", "url": "#dom-fakexrinputcontroller-setpointerorigin", "dfnText": "setPointerOrigin(pointerOrigin)", "refSections": [{"refs": [{"id": "ref-for-dom-fakexrinputcontroller-setpointerorigin"}], "title": "5.2. FakeXRInputController"}], "external": false};
window.dfnpanelData['dom-fakexrinputcontroller-disconnect'] = {"dfnID": "dom-fakexrinputcontroller-disconnect", "url": "#dom-fakexrinputcontroller-disconnect", "dfnText": "disconnect()", "refSections": [{"refs": [{"id": "ref-for-dom-fakexrinputcontroller-disconnect"}], "title": "5.2. FakeXRInputController"}], "external": false};
window.dfnpanelData['dom-fakexrinputcontroller-reconnect'] = {"dfnID": "dom-fakexrinputcontroller-reconnect", "url": "#dom-fakexrinputcontroller-reconnect", "dfnText": "reconnect()", "refSections": [{"refs": [{"id": "ref-for-dom-fakexrinputcontroller-reconnect"}], "title": "5.2. FakeXRInputController"}], "external": false};
window.dfnpanelData['dom-fakexrinputcontroller-startselection'] = {"dfnID": "dom-fakexrinputcontroller-startselection", "url": "#dom-fakexrinputcontroller-startselection", "dfnText": "startSelection()", "refSections": [{"refs": [{"id": "ref-for-dom-fakexrinputcontroller-startselection"}], "title": "5.2. FakeXRInputController"}], "external": false};
window.dfnpanelData['dom-fakexrinputcontroller-endselection'] = {"dfnID": "dom-fakexrinputcontroller-endselection", "url": "#dom-fakexrinputcontroller-endselection", "dfnText": "endSelection()", "refSections": [{"refs": [{"id": "ref-for-dom-fakexrinputcontroller-endselection"}], "title": "5.2. FakeXRInputController"}], "external": false};
window.dfnpanelData['dom-fakexrinputcontroller-simulateselect'] = {"dfnID": "dom-fakexrinputcontroller-simulateselect", "url": "#dom-fakexrinputcontroller-simulateselect", "dfnText": "simulateSelect()", "refSections": [{"refs": [{"id": "ref-for-dom-fakexrinputcontroller-simulateselect"}], "title": "5.2. FakeXRInputController"}], "external": false};
window.dfnpanelData['dom-fakexrinputcontroller-setsupportedbuttons'] = {"dfnID": "dom-fakexrinputcontroller-setsupportedbuttons", "url": "#dom-fakexrinputcontroller-setsupportedbuttons", "dfnText": "setSupportedButtons(supportedButtons)", "refSections": [{"refs": [{"id": "ref-for-dom-fakexrinputcontroller-setsupportedbuttons"}], "title": "5.2. FakeXRInputController"}], "external": false};
window.dfnpanelData['dom-fakexrinputcontroller-updatebuttonstate'] = {"dfnID": "dom-fakexrinputcontroller-updatebuttonstate", "url": "#dom-fakexrinputcontroller-updatebuttonstate", "dfnText": "updateButtonState(buttonState)", "refSections": [{"refs": [{"id": "ref-for-dom-fakexrinputcontroller-updatebuttonstate"}], "title": "5.2. FakeXRInputController"}], "external": false};
window.dfnpanelData['validate-a-button-state'] = {"dfnID": "validate-a-button-state", "url": "#validate-a-button-state", "dfnText": "validate a button state", "refSections": [{"refs": [{"id": "ref-for-validate-a-button-state"}], "title": "5.2. FakeXRInputController"}], "external": false};
window.dfnpanelData['dictdef-fakexrworldinit'] = {"dfnID": "dictdef-fakexrworldinit", "url": "#dictdef-fakexrworldinit", "dfnText": "FakeXRWorldInit", "refSections": [{"refs": [{"id": "ref-for-dictdef-fakexrworldinit"}], "title": "4.3. FakeXRDeviceInit"}, {"refs": [{"id": "ref-for-dictdef-fakexrworldinit\u2460"}], "title": "5.1. FakeXRDevice"}, {"refs": [{"id": "ref-for-dictdef-fakexrworldinit\u2461"}], "title": "6. Hit test extensions"}], "external": false};
window.dfnpanelData['dom-fakexrworldinit-hittestregions'] = {"dfnID": "dom-fakexrworldinit-hittestregions", "url": "#dom-fakexrworldinit-hittestregions", "dfnText": "hitTestRegions", "refSections": [{"refs": [{"id": "ref-for-dom-fakexrworldinit-hittestregions"}], "title": "6. Hit test extensions"}], "external": false};
window.dfnpanelData['dictdef-fakexrregioninit'] = {"dfnID": "dictdef-fakexrregioninit", "url": "#dictdef-fakexrregioninit", "dfnText": "FakeXRRegionInit", "refSections": [{"refs": [{"id": "ref-for-dictdef-fakexrregioninit"}, {"id": "ref-for-dictdef-fakexrregioninit\u2460"}, {"id": "ref-for-dictdef-fakexrregioninit\u2461"}], "title": "6. Hit test extensions"}], "external": false};
window.dfnpanelData['dom-fakexrregioninit-faces'] = {"dfnID": "dom-fakexrregioninit-faces", "url": "#dom-fakexrregioninit-faces", "dfnText": "faces", "refSections": [{"refs": [{"id": "ref-for-dom-fakexrregioninit-faces"}], "title": "6. Hit test extensions"}], "external": false};
window.dfnpanelData['dom-fakexrregioninit-type'] = {"dfnID": "dom-fakexrregioninit-type", "url": "#dom-fakexrregioninit-type", "dfnText": "type", "refSections": [{"refs": [{"id": "ref-for-dom-fakexrregioninit-type"}], "title": "6. Hit test extensions"}], "external": false};
window.dfnpanelData['dictdef-fakexrtriangleinit'] = {"dfnID": "dictdef-fakexrtriangleinit", "url": "#dictdef-fakexrtriangleinit", "dfnText": "FakeXRTriangleInit", "refSections": [{"refs": [{"id": "ref-for-dictdef-fakexrtriangleinit"}, {"id": "ref-for-dictdef-fakexrtriangleinit\u2460"}, {"id": "ref-for-dictdef-fakexrtriangleinit\u2461"}], "title": "6. Hit test extensions"}], "external": false};
window.dfnpanelData['dom-fakexrtriangleinit-vertices'] = {"dfnID": "dom-fakexrtriangleinit-vertices", "url": "#dom-fakexrtriangleinit-vertices", "dfnText": "vertices", "refSections": [{"refs": [{"id": "ref-for-dom-fakexrtriangleinit-vertices"}], "title": "6. Hit test extensions"}], "external": false};
window.dfnpanelData['enumdef-fakexrregiontype'] = {"dfnID": "enumdef-fakexrregiontype", "url": "#enumdef-fakexrregiontype", "dfnText": "FakeXRRegionType", "refSections": [{"refs": [{"id": "ref-for-enumdef-fakexrregiontype"}, {"id": "ref-for-enumdef-fakexrregiontype\u2460"}], "title": "6. Hit test extensions"}], "external": false};
window.dfnpanelData['dom-fakexrinputcontroller-setoverlaypointerposition'] = {"dfnID": "dom-fakexrinputcontroller-setoverlaypointerposition", "url": "#dom-fakexrinputcontroller-setoverlaypointerposition", "dfnText": "setOverlayPointerPosition(x, y)", "refSections": [{"refs": [{"id": "ref-for-dom-fakexrinputcontroller-setoverlaypointerposition"}], "title": "7. DOM overlay extensions"}], "external": false};
window.dfnpanelData['dictdef-fakexranchorcreationparameters'] = {"dfnID": "dictdef-fakexranchorcreationparameters", "url": "#dictdef-fakexranchorcreationparameters", "dfnText": "FakeXRAnchorCreationParameters", "refSections": [{"refs": [{"id": "ref-for-dictdef-fakexranchorcreationparameters"}], "title": "8. Anchors extensions"}], "external": false};
window.dfnpanelData['dom-fakexranchorcreationparameters-requestedanchororigin'] = {"dfnID": "dom-fakexranchorcreationparameters-requestedanchororigin", "url": "#dom-fakexranchorcreationparameters-requestedanchororigin", "dfnText": "requestedAnchorOrigin", "refSections": [{"refs": [{"id": "ref-for-dom-fakexranchorcreationparameters-requestedanchororigin"}], "title": "8. Anchors extensions"}], "external": false};
window.dfnpanelData['dom-fakexranchorcreationparameters-isattachedtoentity'] = {"dfnID": "dom-fakexranchorcreationparameters-isattachedtoentity", "url": "#dom-fakexranchorcreationparameters-isattachedtoentity", "dfnText": "isAttachedToEntity", "refSections": [{"refs": [{"id": "ref-for-dom-fakexranchorcreationparameters-isattachedtoentity"}], "title": "8. Anchors extensions"}], "external": false};
window.dfnpanelData['callbackdef-fakexranchorcreationcallback'] = {"dfnID": "callbackdef-fakexranchorcreationcallback", "url": "#callbackdef-fakexranchorcreationcallback", "dfnText": "FakeXRAnchorCreationCallback", "refSections": [{"refs": [{"id": "ref-for-callbackdef-fakexranchorcreationcallback"}, {"id": "ref-for-callbackdef-fakexranchorcreationcallback\u2460"}, {"id": "ref-for-callbackdef-fakexranchorcreationcallback\u2461"}], "title": "8. Anchors extensions"}], "external": false};
window.dfnpanelData['dom-fakexrdevice-setanchorcreationcallback'] = {"dfnID": "dom-fakexrdevice-setanchorcreationcallback", "url": "#dom-fakexrdevice-setanchorcreationcallback", "dfnText": "setAnchorCreationCallback", "refSections": [{"refs": [{"id": "ref-for-dom-fakexrdevice-setanchorcreationcallback"}], "title": "8. Anchors extensions"}], "external": false};
window.dfnpanelData['fakexrdevice-anchorcreationcallback'] = {"dfnID": "fakexrdevice-anchorcreationcallback", "url": "#fakexrdevice-anchorcreationcallback", "dfnText": "anchorCreationCallback", "refSections": [{"refs": [{"id": "ref-for-fakexrdevice-anchorcreationcallback"}, {"id": "ref-for-fakexrdevice-anchorcreationcallback\u2460"}], "title": "8. Anchors extensions"}], "external": false};
window.dfnpanelData['determine-if-the-anchor-creation-succeeded'] = {"dfnID": "determine-if-the-anchor-creation-succeeded", "url": "#determine-if-the-anchor-creation-succeeded", "dfnText": "determine if the anchor creation succeeded", "refSections": [{"refs": [{"id": "ref-for-determine-if-the-anchor-creation-succeeded"}], "title": "8. Anchors extensions"}], "external": false};
window.dfnpanelData['fakexranchorcreationcallback-anchorcontroller'] = {"dfnID": "fakexranchorcreationcallback-anchorcontroller", "url": "#fakexranchorcreationcallback-anchorcontroller", "dfnText": "anchorController", "refSections": [{"refs": [{"id": "ref-for-fakexranchorcreationcallback-anchorcontroller"}], "title": "8. Anchors extensions"}], "external": false};
window.dfnpanelData['fakexranchorcontroller'] = {"dfnID": "fakexranchorcontroller", "url": "#fakexranchorcontroller", "dfnText": "FakeXRAnchorController", "refSections": [{"refs": [{"id": "ref-for-fakexranchorcontroller"}, {"id": "ref-for-fakexranchorcontroller\u2460"}, {"id": "ref-for-fakexranchorcontroller\u2461"}], "title": "8. Anchors extensions"}], "external": false};
window.dfnpanelData['dom-fakexranchorcontroller-deleted'] = {"dfnID": "dom-fakexranchorcontroller-deleted", "url": "#dom-fakexranchorcontroller-deleted", "dfnText": "deleted", "refSections": [{"refs": [{"id": "ref-for-dom-fakexranchorcontroller-deleted"}], "title": "8. Anchors extensions"}], "external": false};
window.dfnpanelData['dom-fakexranchorcontroller-pausetracking'] = {"dfnID": "dom-fakexranchorcontroller-pausetracking", "url": "#dom-fakexranchorcontroller-pausetracking", "dfnText": "pauseTracking", "refSections": [{"refs": [{"id": "ref-for-dom-fakexranchorcontroller-pausetracking"}], "title": "8. Anchors extensions"}], "external": false};
window.dfnpanelData['dom-fakexranchorcontroller-resumetracking'] = {"dfnID": "dom-fakexranchorcontroller-resumetracking", "url": "#dom-fakexranchorcontroller-resumetracking", "dfnText": "resumeTracking", "refSections": [{"refs": [{"id": "ref-for-dom-fakexranchorcontroller-resumetracking"}], "title": "8. Anchors extensions"}], "external": false};
window.dfnpanelData['dom-fakexranchorcontroller-stoptracking'] = {"dfnID": "dom-fakexranchorcontroller-stoptracking", "url": "#dom-fakexranchorcontroller-stoptracking", "dfnText": "stopTracking", "refSections": [{"refs": [{"id": "ref-for-dom-fakexranchorcontroller-stoptracking"}], "title": "8. Anchors extensions"}], "external": false};
window.dfnpanelData['dom-fakexranchorcontroller-setanchororigin'] = {"dfnID": "dom-fakexranchorcontroller-setanchororigin", "url": "#dom-fakexranchorcontroller-setanchororigin", "dfnText": "setAnchorOrigin", "refSections": [{"refs": [{"id": "ref-for-dom-fakexranchorcontroller-setanchororigin"}], "title": "8. Anchors extensions"}], "external": false};
window.dfnpanelData['fakexranchorcontroller-anchor-origin'] = {"dfnID": "fakexranchorcontroller-anchor-origin", "url": "#fakexranchorcontroller-anchor-origin", "dfnText": "anchor origin", "refSections": [{"refs": [{"id": "ref-for-fakexranchorcontroller-anchor-origin"}, {"id": "ref-for-fakexranchorcontroller-anchor-origin\u2460"}, {"id": "ref-for-fakexranchorcontroller-anchor-origin\u2461"}], "title": "8. Anchors extensions"}], "external": false};
window.dfnpanelData['dictdef-fakexrlightestimateinit'] = {"dfnID": "dictdef-fakexrlightestimateinit", "url": "#dictdef-fakexrlightestimateinit", "dfnText": "FakeXRLightEstimateInit", "refSections": [{"refs": [{"id": "ref-for-dictdef-fakexrlightestimateinit"}, {"id": "ref-for-dictdef-fakexrlightestimateinit\u2460"}], "title": "9. Lighting estimation extensions"}], "external": false};
window.dfnpanelData['dom-fakexrlightestimateinit-sphericalharmonicscoefficients'] = {"dfnID": "dom-fakexrlightestimateinit-sphericalharmonicscoefficients", "url": "#dom-fakexrlightestimateinit-sphericalharmonicscoefficients", "dfnText": "sphericalHarmonicsCoefficients", "refSections": [{"refs": [{"id": "ref-for-dom-fakexrlightestimateinit-sphericalharmonicscoefficients"}], "title": "9. Lighting estimation extensions"}], "external": false};
window.dfnpanelData['dom-fakexrlightestimateinit-primarylightdirection'] = {"dfnID": "dom-fakexrlightestimateinit-primarylightdirection", "url": "#dom-fakexrlightestimateinit-primarylightdirection", "dfnText": "primaryLightDirection", "refSections": [{"refs": [{"id": "ref-for-dom-fakexrlightestimateinit-primarylightdirection"}], "title": "9. Lighting estimation extensions"}], "external": false};
window.dfnpanelData['dom-fakexrlightestimateinit-primarylightintensity'] = {"dfnID": "dom-fakexrlightestimateinit-primarylightintensity", "url": "#dom-fakexrlightestimateinit-primarylightintensity", "dfnText": "primaryLightIntensity", "refSections": [{"refs": [{"id": "ref-for-dom-fakexrlightestimateinit-primarylightintensity"}], "title": "9. Lighting estimation extensions"}], "external": false};
window.dfnpanelData['fakexrdevice-light-estimate'] = {"dfnID": "fakexrdevice-light-estimate", "url": "#fakexrdevice-light-estimate", "dfnText": "light estimate", "refSections": [{"refs": [{"id": "ref-for-fakexrdevice-light-estimate"}], "title": "9. Lighting estimation extensions"}], "external": false};
window.dfnpanelData['dom-fakexrdevice-setlightestimate'] = {"dfnID": "dom-fakexrdevice-setlightestimate", "url": "#dom-fakexrdevice-setlightestimate", "dfnText": "setLightEstimate(init)", "refSections": [{"refs": [{"id": "ref-for-dom-fakexrdevice-setlightestimate"}], "title": "9. Lighting estimation extensions"}], "external": false};
window.dfnpanelData['fakexrdevice-depth-sensing-data'] = {"dfnID": "fakexrdevice-depth-sensing-data", "url": "#fakexrdevice-depth-sensing-data", "dfnText": "depth sensing data", "refSections": [{"refs": [{"id": "ref-for-fakexrdevice-depth-sensing-data"}, {"id": "ref-for-fakexrdevice-depth-sensing-data\u2460"}], "title": "10. Depth sensing extensions"}], "external": false};
window.dfnpanelData['dictdef-fakexrdepthsensingdatainit'] = {"dfnID": "dictdef-fakexrdepthsensingdatainit", "url": "#dictdef-fakexrdepthsensingdatainit", "dfnText": "FakeXRDepthSensingDataInit", "refSections": [{"refs": [{"id": "ref-for-dictdef-fakexrdepthsensingdatainit"}], "title": "4.3. FakeXRDeviceInit"}, {"refs": [{"id": "ref-for-dictdef-fakexrdepthsensingdatainit\u2460"}], "title": "5.1. FakeXRDevice"}, {"refs": [{"id": "ref-for-dictdef-fakexrdepthsensingdatainit\u2461"}, {"id": "ref-for-dictdef-fakexrdepthsensingdatainit\u2462"}, {"id": "ref-for-dictdef-fakexrdepthsensingdatainit\u2463"}], "title": "10. Depth sensing extensions"}], "external": false};
window.dfnpanelData['dom-fakexrdepthsensingdatainit-depthdata'] = {"dfnID": "dom-fakexrdepthsensingdatainit-depthdata", "url": "#dom-fakexrdepthsensingdatainit-depthdata", "dfnText": "depthData", "refSections": [{"refs": [{"id": "ref-for-dom-fakexrdepthsensingdatainit-depthdata"}, {"id": "ref-for-dom-fakexrdepthsensingdatainit-depthdata\u2460"}, {"id": "ref-for-dom-fakexrdepthsensingdatainit-depthdata\u2461"}], "title": "10. Depth sensing extensions"}], "external": false};
window.dfnpanelData['dom-fakexrdepthsensingdatainit-normdepthbufferfromnormview'] = {"dfnID": "dom-fakexrdepthsensingdatainit-normdepthbufferfromnormview", "url": "#dom-fakexrdepthsensingdatainit-normdepthbufferfromnormview", "dfnText": "normDepthBufferFromNormView", "refSections": [{"refs": [{"id": "ref-for-dom-fakexrdepthsensingdatainit-normdepthbufferfromnormview"}], "title": "10. Depth sensing extensions"}], "external": false};
window.dfnpanelData['dom-fakexrdepthsensingdatainit-rawvaluetometers'] = {"dfnID": "dom-fakexrdepthsensingdatainit-rawvaluetometers", "url": "#dom-fakexrdepthsensingdatainit-rawvaluetometers", "dfnText": "rawValueToMeters", "refSections": [{"refs": [{"id": "ref-for-dom-fakexrdepthsensingdatainit-rawvaluetometers"}], "title": "10. Depth sensing extensions"}], "external": false};
window.dfnpanelData['dom-fakexrdepthsensingdatainit-width'] = {"dfnID": "dom-fakexrdepthsensingdatainit-width", "url": "#dom-fakexrdepthsensingdatainit-width", "dfnText": "width", "refSections": [{"refs": [{"id": "ref-for-dom-fakexrdepthsensingdatainit-width"}], "title": "10. Depth sensing extensions"}], "external": false};
window.dfnpanelData['dom-fakexrdepthsensingdatainit-height'] = {"dfnID": "dom-fakexrdepthsensingdatainit-height", "url": "#dom-fakexrdepthsensingdatainit-height", "dfnText": "height", "refSections": [{"refs": [{"id": "ref-for-dom-fakexrdepthsensingdatainit-height"}], "title": "10. Depth sensing extensions"}], "external": false};
</script>
<script>/* Boilerplate: script-dom-helper */
function query(sel) { return document.querySelector(sel); }

function queryAll(sel) { return [...document.querySelectorAll(sel)]; }

function iter(obj) {
	if(!obj) return [];
	var it = obj[Symbol.iterator];
	if(it) return it;
	return Object.entries(obj);
}

function mk(tagname, attrs, ...children) {
	const el = document.createElement(tagname);
	for(const [k,v] of iter(attrs)) {
		if(k.slice(0,3) == "_on") {
			const eventName = k.slice(3);
			el.addEventListener(eventName, v);
		} else if(k[0] == "_") {
			// property, not attribute
			el[k.slice(1)] = v;
		} else {
			if(v === false || v == null) {
        continue;
      } else if(v === true) {
        el.setAttribute(k, "");
        continue;
      } else {
  			el.setAttribute(k, v);
      }
		}
	}
	append(el, children);
	return el;
}

/* Create shortcuts for every known HTML element */
[
  "a",
  "abbr",
  "acronym",
  "address",
  "applet",
  "area",
  "article",
  "aside",
  "audio",
  "b",
  "base",
  "basefont",
  "bdo",
  "big",
  "blockquote",
  "body",
  "br",
  "button",
  "canvas",
  "caption",
  "center",
  "cite",
  "code",
  "col",
  "colgroup",
  "datalist",
  "dd",
  "del",
  "details",
  "dfn",
  "dialog",
  "div",
  "dl",
  "dt",
  "em",
  "embed",
  "fieldset",
  "figcaption",
  "figure",
  "font",
  "footer",
  "form",
  "frame",
  "frameset",
  "head",
  "header",
  "h1",
  "h2",
  "h3",
  "h4",
  "h5",
  "h6",
  "hr",
  "html",
  "i",
  "iframe",
  "img",
  "input",
  "ins",
  "kbd",
  "label",
  "legend",
  "li",
  "link",
  "main",
  "map",
  "mark",
  "meta",
  "meter",
  "nav",
  "nobr",
  "noscript",
  "object",
  "ol",
  "optgroup",
  "option",
  "output",
  "p",
  "param",
  "pre",
  "progress",
  "q",
  "s",
  "samp",
  "script",
  "section",
  "select",
  "small",
  "source",
  "span",
  "strike",
  "strong",
  "style",
  "sub",
  "summary",
  "sup",
  "table",
  "tbody",
  "td",
  "template",
  "textarea",
  "tfoot",
  "th",
  "thead",
  "time",
  "title",
  "tr",
  "u",
  "ul",
  "var",
  "video",
  "wbr",
  "xmp",
].forEach(tagname=>{
	mk[tagname] = (...args) => mk(tagname, ...args);
});

function* nodesFromChildList(children) {
	for(const child of children.flat(Infinity)) {
		if(child instanceof Node) {
			yield child;
		} else {
			yield new Text(child);
		}
	}
}
function append(el, ...children) {
	for(const child of nodesFromChildList(children)) {
		if(el instanceof Node) el.appendChild(child);
		else el.push(child);
	}
	return el;
}

function insertAfter(el, ...children) {
	for(const child of nodesFromChildList(children)) {
		el.parentNode.insertBefore(child, el.nextSibling);
	}
	return el;
}

function clearContents(el) {
	el.innerHTML = "";
	return el;
}

function parseHTML(markup) {
	if(markup.toLowerCase().trim().indexOf('<!doctype') === 0) {
		const doc = document.implementation.createHTMLDocument("");
		doc.documentElement.innerHTML = markup;
		return doc;
	} else {
		const el = mk.template({});
		el.innerHTML = markup;
		return el.content;
	}
}
</script>
<script>/* Boilerplate: script-var-click-highlighting */
/*
Color-choosing design:

Colors are ordered by goodness.
Each color has a usage count (initially zero).
Each variable has a last-used color.

* If the var has a last-used color, and that color's usage is 0,
    return that color.
* Otherwise, return the lowest-indexed color with the lowest usage.
    Increment the color's usage and set it as the last-used color
    for that var.
* On unclicking, decrement usage of the color.
*/
"use strict";
{
    document.addEventListener("click", e=>{
        if(e.target.nodeName == "VAR") {
            highlightSameAlgoVars(e.target);
        }
    });
    const indexCounts = new Map();
    const indexNames = new Map();
    function highlightSameAlgoVars(v) {
        // Find the algorithm container.
        let algoContainer = null;
        let searchEl = v;
        while(algoContainer == null && searchEl != document.body) {
            searchEl = searchEl.parentNode;
            if(searchEl.hasAttribute("data-algorithm")) {
                algoContainer = searchEl;
            }
        }

        // Not highlighting document-global vars,
        // too likely to be unrelated.
        if(algoContainer == null) return;

        const algoName = algoContainer.getAttribute("data-algorithm");
        const varName = getVarName(v);
        const addClass = !v.classList.contains("selected");
        let highlightClass = null;
        if(addClass) {
            const index = chooseHighlightIndex(algoName, varName);
            indexCounts.get(algoName)[index] += 1;
            indexNames.set(algoName+"///"+varName, index);
            highlightClass = nameFromIndex(index);
        } else {
            const index = previousHighlightIndex(algoName, varName);
            indexCounts.get(algoName)[index] -= 1;
            highlightClass = nameFromIndex(index);
        }

        // Find all same-name vars, and toggle their class appropriately.
        for(const el of algoContainer.querySelectorAll("var")) {
            if(getVarName(el) == varName) {
                el.classList.toggle("selected", addClass);
                el.classList.toggle(highlightClass, addClass);
            }
        }
    }
    function getVarName(el) {
        return el.textContent.replace(/(\s|\xa0)+/, " ").trim();
    }
    function chooseHighlightIndex(algoName, varName) {
        let indexes = null;
        if(indexCounts.has(algoName)) {
            indexes = indexCounts.get(algoName);
        } else {
            // 7 classes right now
            indexes = [0,0,0,0,0,0,0];
            indexCounts.set(algoName, indexes);
        }

        // If the element was recently unclicked,
        // *and* that color is still unclaimed,
        // give it back the same color.
        const lastIndex = previousHighlightIndex(algoName, varName);
        if(indexes[lastIndex] === 0) return lastIndex;

        // Find the earliest index with the lowest count.
        const minCount = Math.min.apply(null, indexes);
        let index = null;
        for(var i = 0; i < indexes.length; i++) {
            if(indexes[i] == minCount) {
                return i;
            }
        }
    }
    function previousHighlightIndex(algoName, varName) {
        return indexNames.get(algoName+"///"+varName);
    }
    function nameFromIndex(index) {
        return "selected" + index;
    }
}
</script>