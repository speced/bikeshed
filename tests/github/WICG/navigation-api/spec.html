<!doctype html><html lang="en">
 <head>
  <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
  <title>Navigation API</title>
  <meta content="width=device-width, initial-scale=1, shrink-to-fit=no" name="viewport">
  <link href="https://www.w3.org/StyleSheets/TR/2021/cg-draft" rel="stylesheet">
  <link href="https://wicg.github.io/navigation-api/" rel="canonical">
<style>
.selected-text-file-an-issue {
  position: fixed;
  bottom: 0;
  right: 0;
  background: rgba(255, 255, 255, 0.8);
  font-size: smaller;
  padding: 4px 10px;
  z-index: 4;
}

dfn var {
  font-style: italic;
}

table {
  margin: 1em 0;
}

/* WHATWG-style <hr>s, instead of WICG-style. Specific selector is necessary to override WICG styles. */
:not(.head) > :not(.head) + hr {
  display: block;
  background: none;
  border: none;
  padding: 0;
  margin: 3em 0;
  height: auto;
}
:not(.head) > :not(.head) + hr::before {
  content: none;
}

/* domintro from https://resources.whatwg.org/standard.css */
.domintro {
  position: relative;
  color: green;
  background: #DDFFDD;
  margin: 2.5em 0 2em 0;
  padding: 1.5em 1em 0.5em 2em;
}

.domintro dt, .domintro dt * {
  color: black;
  font-size: inherit;
}
.domintro dd {
  margin: 0.5em 0 1em 2em; padding: 0;
}
.domintro dd p {
  margin: 0.5em 0;
}
.domintro::before {
  content: 'For web developers (non-normative)';
  background: green;
  color: white;
  padding: 0.15em 0.25em;
  font-style: normal;
  position: absolute;
  top: -0.8em;
  left: -0.8em;
}

/* .XXX from https://resources.whatwg.org/standard.css */
.XXX {
  color: #D50606;
  background: white;
  border: solid #D50606;
}
</style>
<style>/* style-autolinks */

.css.css, .property.property, .descriptor.descriptor {
    color: var(--a-normal-text);
    font-size: inherit;
    font-family: inherit;
}
.css::before, .property::before, .descriptor::before {
    content: "‘";
}
.css::after, .property::after, .descriptor::after {
    content: "’";
}
.property, .descriptor {
    /* Don't wrap property and descriptor names */
    white-space: nowrap;
}
.type { /* CSS value <type> */
    font-style: italic;
}
pre .property::before, pre .property::after {
    content: "";
}
[data-link-type="property"]::before,
[data-link-type="propdesc"]::before,
[data-link-type="descriptor"]::before,
[data-link-type="value"]::before,
[data-link-type="function"]::before,
[data-link-type="at-rule"]::before,
[data-link-type="selector"]::before,
[data-link-type="maybe"]::before {
    content: "‘";
}
[data-link-type="property"]::after,
[data-link-type="propdesc"]::after,
[data-link-type="descriptor"]::after,
[data-link-type="value"]::after,
[data-link-type="function"]::after,
[data-link-type="at-rule"]::after,
[data-link-type="selector"]::after,
[data-link-type="maybe"]::after {
    content: "’";
}

[data-link-type].production::before,
[data-link-type].production::after,
.prod [data-link-type]::before,
.prod [data-link-type]::after {
    content: "";
}

[data-link-type=element],
[data-link-type=element-attr] {
    font-family: Menlo, Consolas, "DejaVu Sans Mono", monospace;
    font-size: .9em;
}
[data-link-type=element]::before { content: "<" }
[data-link-type=element]::after  { content: ">" }

[data-link-type=biblio] {
    white-space: pre;
}</style>
<style>/* style-colors */

/* Any --*-text not paired with a --*-bg is assumed to have a transparent bg */
:root {
    color-scheme: light dark;

    --text: black;
    --bg: white;

    --unofficial-watermark: url(https://www.w3.org/StyleSheets/TR/2016/logos/UD-watermark);

    --logo-bg: #1a5e9a;
    --logo-active-bg: #c00;
    --logo-text: white;

    --tocnav-normal-text: #707070;
    --tocnav-normal-bg: var(--bg);
    --tocnav-hover-text: var(--tocnav-normal-text);
    --tocnav-hover-bg: #f8f8f8;
    --tocnav-active-text: #c00;
    --tocnav-active-bg: var(--tocnav-normal-bg);

    --tocsidebar-text: var(--text);
    --tocsidebar-bg: #f7f8f9;
    --tocsidebar-shadow: rgba(0,0,0,.1);
    --tocsidebar-heading-text: hsla(203,20%,40%,.7);

    --toclink-text: var(--text);
    --toclink-underline: #3980b5;
    --toclink-visited-text: var(--toclink-text);
    --toclink-visited-underline: #054572;

    --heading-text: #005a9c;

    --hr-text: var(--text);

    --algo-border: #def;

    --del-text: red;
    --del-bg: transparent;
    --ins-text: #080;
    --ins-bg: transparent;

    --a-normal-text: #034575;
    --a-normal-underline: #bbb;
    --a-visited-text: var(--a-normal-text);
    --a-visited-underline: #707070;
    --a-hover-bg: rgba(75%, 75%, 75%, .25);
    --a-active-text: #c00;
    --a-active-underline: #c00;

    --blockquote-border: silver;
    --blockquote-bg: transparent;
    --blockquote-text: currentcolor;

    --issue-border: #e05252;
    --issue-bg: #fbe9e9;
    --issue-text: var(--text);
    --issueheading-text: #831616;

    --example-border: #e0cb52;
    --example-bg: #fcfaee;
    --example-text: var(--text);
    --exampleheading-text: #574b0f;

    --note-border: #52e052;
    --note-bg: #e9fbe9;
    --note-text: var(--text);
    --noteheading-text: hsl(120, 70%, 30%);
    --notesummary-underline: silver;

    --assertion-border: #aaa;
    --assertion-bg: #eee;
    --assertion-text: black;

    --advisement-border: orange;
    --advisement-bg: #fec;
    --advisement-text: var(--text);
    --advisementheading-text: #b35f00;

    --warning-border: red;
    --warning-bg: hsla(40,100%,50%,0.95);
    --warning-text: var(--text);

    --amendment-border: #330099;
    --amendment-bg: #F5F0FF;
    --amendment-text: var(--text);
    --amendmentheading-text: #220066;

    --def-border: #8ccbf2;
    --def-bg: #def;
    --def-text: var(--text);
    --defrow-border: #bbd7e9;

    --datacell-border: silver;

    --indexinfo-text: #707070;

    --indextable-hover-text: black;
    --indextable-hover-bg: #f7f8f9;

    --outdatedspec-bg: rgba(0, 0, 0, .5);
    --outdatedspec-text: black;
    --outdated-bg: maroon;
    --outdated-text: white;
    --outdated-shadow: red;

    --editedrec-bg: darkorange;
}</style>
<style>/* style-counters */

body {
    counter-reset: example figure issue;
}
.issue {
    counter-increment: issue;
}
.issue:not(.no-marker)::before {
    content: "Issue " counter(issue);
}

.example {
    counter-increment: example;
}
.example:not(.no-marker)::before {
    content: "Example " counter(example);
}
.invalid.example:not(.no-marker)::before,
.illegal.example:not(.no-marker)::before {
    content: "Invalid Example" counter(example);
}

figcaption {
    counter-increment: figure;
}
figcaption:not(.no-marker)::before {
    content: "Figure " counter(figure) " ";
}</style>
<style>/* style-dfn-panel */

:root {
    --dfnpanel-bg: #ddd;
    --dfnpanel-text: var(--text);
}
.dfn-panel {
    position: absolute;
    z-index: 35;
    height: auto;
    width: -webkit-fit-content;
    width: fit-content;
    max-width: 300px;
    max-height: 500px;
    overflow: auto;
    padding: 0.5em 0.75em;
    font: small Helvetica Neue, sans-serif, Droid Sans Fallback;
    background: var(--dfnpanel-bg);
    color: var(--dfnpanel-text);
    border: outset 0.2em;
}
.dfn-panel:not(.on) { display: none; }
.dfn-panel * { margin: 0; padding: 0; text-indent: 0; }
.dfn-panel > b { display: block; }
.dfn-panel a { color: var(--dfnpanel-text); }
.dfn-panel a:not(:hover) { text-decoration: none !important; border-bottom: none !important; }
.dfn-panel > b + b { margin-top: 0.25em; }
.dfn-panel ul { padding: 0; }
.dfn-panel li { list-style: inside; }
.dfn-panel.activated {
    display: inline-block;
    position: fixed;
    left: .5em;
    bottom: 2em;
    margin: 0 auto;
    max-width: calc(100vw - 1.5em - .4em - .5em);
    max-height: 30vh;
}

.dfn-paneled { cursor: pointer; }
</style>
<style>/* style-issues */

a[href].issue-return {
    float: right;
    float: inline-end;
    color: var(--issueheading-text);
    font-weight: bold;
    text-decoration: none;
}
</style>
<style>/* style-md-lists */

/* This is a weird hack for me not yet following the commonmark spec
   regarding paragraph and lists. */
[data-md] > :first-child {
    margin-top: 0;
}
[data-md] > :last-child {
    margin-bottom: 0;
}</style>
<style>/* style-selflinks */

:root {
    --selflink-text: white;
    --selflink-bg: gray;
    --selflink-hover-text: black;
}
.heading, .issue, .note, .example, li, dt {
    position: relative;
}
a.self-link {
    position: absolute;
    top: 0;
    left: calc(-1 * (3.5rem - 26px));
    width: calc(3.5rem - 26px);
    height: 2em;
    text-align: center;
    border: none;
    transition: opacity .2s;
    opacity: .5;
}
a.self-link:hover {
    opacity: 1;
}
.heading > a.self-link {
    font-size: 83%;
}
.example > a.self-link,
.note > a.self-link,
.issue > a.self-link {
    /* These blocks are overflow:auto, so positioning outside
       doesn't work. */
    left: auto;
    right: 0;
}
li > a.self-link {
    left: calc(-1 * (3.5rem - 26px) - 2em);
}
dfn > a.self-link {
    top: auto;
    left: auto;
    opacity: 0;
    width: 1.5em;
    height: 1.5em;
    background: var(--selflink-bg);
    color: var(--selflink-text);
    font-style: normal;
    transition: opacity .2s, background-color .2s, color .2s;
}
dfn:hover > a.self-link {
    opacity: 1;
}
dfn > a.self-link:hover {
    color: var(--selflink-hover-text);
}

a.self-link::before            { content: "¶"; }
.heading > a.self-link::before { content: "§"; }
dfn > a.self-link::before      { content: "#"; }
</style>
<style>/* style-syntax-highlighting */

            pre.idl.highlight {
                background: var(--borderedblock-bg, var(--def-bg));
            }
            
code.highlight { padding: .1em; border-radius: .3em; }
pre.highlight, pre > code.highlight { display: block; padding: 1em; margin: .5em 0; overflow: auto; border-radius: 0; }

.highlight:not(.idl) { background: rgba(0, 0, 0, .03); }
c-[a] { color: #990055 } /* Keyword.Declaration */
c-[b] { color: #990055 } /* Keyword.Type */
c-[c] { color: #708090 } /* Comment */
c-[d] { color: #708090 } /* Comment.Multiline */
c-[e] { color: #0077aa } /* Name.Attribute */
c-[f] { color: #669900 } /* Name.Tag */
c-[g] { color: #222222 } /* Name.Variable */
c-[k] { color: #990055 } /* Keyword */
c-[l] { color: #000000 } /* Literal */
c-[m] { color: #000000 } /* Literal.Number */
c-[n] { color: #0077aa } /* Name */
c-[o] { color: #999999 } /* Operator */
c-[p] { color: #999999 } /* Punctuation */
c-[s] { color: #a67f59 } /* Literal.String */
c-[t] { color: #a67f59 } /* Literal.String.Single */
c-[u] { color: #a67f59 } /* Literal.String.Double */
c-[cp] { color: #708090 } /* Comment.Preproc */
c-[c1] { color: #708090 } /* Comment.Single */
c-[cs] { color: #708090 } /* Comment.Special */
c-[kc] { color: #990055 } /* Keyword.Constant */
c-[kn] { color: #990055 } /* Keyword.Namespace */
c-[kp] { color: #990055 } /* Keyword.Pseudo */
c-[kr] { color: #990055 } /* Keyword.Reserved */
c-[ld] { color: #000000 } /* Literal.Date */
c-[nc] { color: #0077aa } /* Name.Class */
c-[no] { color: #0077aa } /* Name.Constant */
c-[nd] { color: #0077aa } /* Name.Decorator */
c-[ni] { color: #0077aa } /* Name.Entity */
c-[ne] { color: #0077aa } /* Name.Exception */
c-[nf] { color: #0077aa } /* Name.Function */
c-[nl] { color: #0077aa } /* Name.Label */
c-[nn] { color: #0077aa } /* Name.Namespace */
c-[py] { color: #0077aa } /* Name.Property */
c-[ow] { color: #999999 } /* Operator.Word */
c-[mb] { color: #000000 } /* Literal.Number.Bin */
c-[mf] { color: #000000 } /* Literal.Number.Float */
c-[mh] { color: #000000 } /* Literal.Number.Hex */
c-[mi] { color: #000000 } /* Literal.Number.Integer */
c-[mo] { color: #000000 } /* Literal.Number.Oct */
c-[sb] { color: #a67f59 } /* Literal.String.Backtick */
c-[sc] { color: #a67f59 } /* Literal.String.Char */
c-[sd] { color: #a67f59 } /* Literal.String.Doc */
c-[se] { color: #a67f59 } /* Literal.String.Escape */
c-[sh] { color: #a67f59 } /* Literal.String.Heredoc */
c-[si] { color: #a67f59 } /* Literal.String.Interpol */
c-[sx] { color: #a67f59 } /* Literal.String.Other */
c-[sr] { color: #a67f59 } /* Literal.String.Regex */
c-[ss] { color: #a67f59 } /* Literal.String.Symbol */
c-[vc] { color: #0077aa } /* Name.Variable.Class */
c-[vg] { color: #0077aa } /* Name.Variable.Global */
c-[vi] { color: #0077aa } /* Name.Variable.Instance */
c-[il] { color: #000000 } /* Literal.Number.Integer.Long */
</style>
<style>/* style-var-click-highlighting */

    var { cursor: pointer; }
    var.selected0 { background-color: #F4D200; box-shadow: 0 0 0 2px #F4D200; }
    var.selected1 { background-color: #FF87A2; box-shadow: 0 0 0 2px #FF87A2; }
    var.selected2 { background-color: #96E885; box-shadow: 0 0 0 2px #96E885; }
    var.selected3 { background-color: #3EEED2; box-shadow: 0 0 0 2px #3EEED2; }
    var.selected4 { background-color: #EACFB6; box-shadow: 0 0 0 2px #EACFB6; }
    var.selected5 { background-color: #82DDFF; box-shadow: 0 0 0 2px #82DDFF; }
    var.selected6 { background-color: #FFBCF2; box-shadow: 0 0 0 2px #FFBCF2; }
    </style>
<style>/* style-darkmode */

@media (prefers-color-scheme: dark) {
    :root {
        --text: #ddd;
        --bg: black;

        --unofficial-watermark: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='400' height='400'%3E%3Cg fill='%23100808' transform='translate(200 200) rotate(-45) translate(-200 -200)' stroke='%23100808' stroke-width='3'%3E%3Ctext x='50%25' y='220' style='font: bold 70px sans-serif; text-anchor: middle; letter-spacing: 6px;'%3EUNOFFICIAL%3C/text%3E%3Ctext x='50%25' y='305' style='font: bold 70px sans-serif; text-anchor: middle; letter-spacing: 6px;'%3EDRAFT%3C/text%3E%3C/g%3E%3C/svg%3E");

        --logo-bg: #1a5e9a;
        --logo-active-bg: #c00;
        --logo-text: white;

        --tocnav-normal-text: #999;
        --tocnav-normal-bg: var(--bg);
        --tocnav-hover-text: var(--tocnav-normal-text);
        --tocnav-hover-bg: #080808;
        --tocnav-active-text: #f44;
        --tocnav-active-bg: var(--tocnav-normal-bg);

        --tocsidebar-text: var(--text);
        --tocsidebar-bg: #080808;
        --tocsidebar-shadow: rgba(255,255,255,.1);
        --tocsidebar-heading-text: hsla(203,20%,40%,.7);

        --toclink-text: var(--text);
        --toclink-underline: #6af;
        --toclink-visited-text: var(--toclink-text);
        --toclink-visited-underline: #054572;

        --heading-text: #8af;

        --hr-text: var(--text);

        --algo-border: #456;

        --del-text: #f44;
        --del-bg: transparent;
        --ins-text: #4a4;
        --ins-bg: transparent;

        --a-normal-text: #6af;
        --a-normal-underline: #555;
        --a-visited-text: var(--a-normal-text);
        --a-visited-underline: var(--a-normal-underline);
        --a-hover-bg: rgba(25%, 25%, 25%, .2);
        --a-active-text: #f44;
        --a-active-underline: var(--a-active-text);

        --borderedblock-bg: rgba(255, 255, 255, .05);

        --blockquote-border: silver;
        --blockquote-bg: var(--borderedblock-bg);
        --blockquote-text: currentcolor;

        --issue-border: #e05252;
        --issue-bg: var(--borderedblock-bg);
        --issue-text: var(--text);
        --issueheading-text: hsl(0deg, 70%, 70%);

        --example-border: hsl(50deg, 90%, 60%);
        --example-bg: var(--borderedblock-bg);
        --example-text: var(--text);
        --exampleheading-text: hsl(50deg, 70%, 70%);

        --note-border: hsl(120deg, 100%, 35%);
        --note-bg: var(--borderedblock-bg);
        --note-text: var(--text);
        --noteheading-text: hsl(120, 70%, 70%);
        --notesummary-underline: silver;

        --assertion-border: #444;
        --assertion-bg: var(--borderedblock-bg);
        --assertion-text: var(--text);

        --advisement-border: orange;
        --advisement-bg: #222218;
        --advisement-text: var(--text);
        --advisementheading-text: #f84;

        --warning-border: red;
        --warning-bg: hsla(40,100%,20%,0.95);
        --warning-text: var(--text);

        --amendment-border: #330099;
        --amendment-bg: #080010;
        --amendment-text: var(--text);
        --amendmentheading-text: #cc00ff;

        --def-border: #8ccbf2;
        --def-bg: #080818;
        --def-text: var(--text);
        --defrow-border: #136;

        --datacell-border: silver;

        --indexinfo-text: #aaa;

        --indextable-hover-text: var(--text);
        --indextable-hover-bg: #181818;

        --outdatedspec-bg: rgba(255, 255, 255, .5);
        --outdatedspec-text: black;
        --outdated-bg: maroon;
        --outdated-text: white;
        --outdated-shadow: red;

        --editedrec-bg: darkorange;
    }
    /* In case a transparent-bg image doesn't expect to be on a dark bg,
       which is quite common in practice... */
    img { background: white; }
}
@media (prefers-color-scheme: dark) {
    :root {
        --selflink-text: black;
        --selflink-bg: silver;
        --selflink-hover-text: white;
    }
}

@media (prefers-color-scheme: dark) {
    :root {
        --dfnpanel-bg: #222;
        --dfnpanel-text: var(--text);
    }
}
@media (prefers-color-scheme: dark) {
    .highlight:not(.idl) { background: rgba(255, 255, 255, .05); }

    c-[a] { color: #d33682 } /* Keyword.Declaration */
    c-[b] { color: #d33682 } /* Keyword.Type */
    c-[c] { color: #2aa198 } /* Comment */
    c-[d] { color: #2aa198 } /* Comment.Multiline */
    c-[e] { color: #268bd2 } /* Name.Attribute */
    c-[f] { color: #b58900 } /* Name.Tag */
    c-[g] { color: #cb4b16 } /* Name.Variable */
    c-[k] { color: #d33682 } /* Keyword */
    c-[l] { color: #657b83 } /* Literal */
    c-[m] { color: #657b83 } /* Literal.Number */
    c-[n] { color: #268bd2 } /* Name */
    c-[o] { color: #657b83 } /* Operator */
    c-[p] { color: #657b83 } /* Punctuation */
    c-[s] { color: #6c71c4 } /* Literal.String */
    c-[t] { color: #6c71c4 } /* Literal.String.Single */
    c-[u] { color: #6c71c4 } /* Literal.String.Double */
    c-[ch] { color: #2aa198 } /* Comment.Hashbang */
    c-[cp] { color: #2aa198 } /* Comment.Preproc */
    c-[cpf] { color: #2aa198 } /* Comment.PreprocFile */
    c-[c1] { color: #2aa198 } /* Comment.Single */
    c-[cs] { color: #2aa198 } /* Comment.Special */
    c-[kc] { color: #d33682 } /* Keyword.Constant */
    c-[kn] { color: #d33682 } /* Keyword.Namespace */
    c-[kp] { color: #d33682 } /* Keyword.Pseudo */
    c-[kr] { color: #d33682 } /* Keyword.Reserved */
    c-[ld] { color: #657b83 } /* Literal.Date */
    c-[nc] { color: #268bd2 } /* Name.Class */
    c-[no] { color: #268bd2 } /* Name.Constant */
    c-[nd] { color: #268bd2 } /* Name.Decorator */
    c-[ni] { color: #268bd2 } /* Name.Entity */
    c-[ne] { color: #268bd2 } /* Name.Exception */
    c-[nf] { color: #268bd2 } /* Name.Function */
    c-[nl] { color: #268bd2 } /* Name.Label */
    c-[nn] { color: #268bd2 } /* Name.Namespace */
    c-[py] { color: #268bd2 } /* Name.Property */
    c-[ow] { color: #657b83 } /* Operator.Word */
    c-[mb] { color: #657b83 } /* Literal.Number.Bin */
    c-[mf] { color: #657b83 } /* Literal.Number.Float */
    c-[mh] { color: #657b83 } /* Literal.Number.Hex */
    c-[mi] { color: #657b83 } /* Literal.Number.Integer */
    c-[mo] { color: #657b83 } /* Literal.Number.Oct */
    c-[sa] { color: #6c71c4 } /* Literal.String.Affix */
    c-[sb] { color: #6c71c4 } /* Literal.String.Backtick */
    c-[sc] { color: #6c71c4 } /* Literal.String.Char */
    c-[dl] { color: #6c71c4 } /* Literal.String.Delimiter */
    c-[sd] { color: #6c71c4 } /* Literal.String.Doc */
    c-[se] { color: #6c71c4 } /* Literal.String.Escape */
    c-[sh] { color: #6c71c4 } /* Literal.String.Heredoc */
    c-[si] { color: #6c71c4 } /* Literal.String.Interpol */
    c-[sx] { color: #6c71c4 } /* Literal.String.Other */
    c-[sr] { color: #6c71c4 } /* Literal.String.Regex */
    c-[ss] { color: #6c71c4 } /* Literal.String.Symbol */
    c-[fm] { color: #268bd2 } /* Name.Function.Magic */
    c-[vc] { color: #cb4b16 } /* Name.Variable.Class */
    c-[vg] { color: #cb4b16 } /* Name.Variable.Global */
    c-[vi] { color: #cb4b16 } /* Name.Variable.Instance */
    c-[vm] { color: #cb4b16 } /* Name.Variable.Magic */
    c-[il] { color: #657b83 } /* Literal.Number.Integer.Long */
}
</style>
 <body class="h-entry">
  <div class="head">
   <p data-fill-with="logo"><a class="logo" href="https://www.w3.org/"> <img alt="W3C" height="48" src="https://www.w3.org/StyleSheets/TR/2021/logos/W3C" width="72"> </a> </p>
   <h1 class="p-name no-ref" id="title">Navigation API</h1>
   <p id="w3c-state"><a href="https://www.w3.org/standards/types#CG-DRAFT">Draft Community Group Report</a>, <time class="dt-updated" datetime="1970-01-01">1 January 1970</time></p>
   <div data-fill-with="spec-metadata">
    <dl>
     <dt>This version:
     <dd><a class="u-url" href="https://wicg.github.io/navigation-api/">https://wicg.github.io/navigation-api/</a>
     <dt class="editor">Editor:
     <dd class="editor p-author h-card vcard"><a class="p-name fn u-url url" href="https://domenic.me/">Domenic Denicola</a> (<a class="p-org org" href="https://www.google.com/">Google</a>) <a class="u-email email" href="mailto:d@domenic.me">d@domenic.me</a>
     <dt>Participate:
     <dd><a href="https://github.com/WICG/navigation-api">GitHub WICG/navigation-api</a> (<a href="https://github.com/WICG/navigation-api/issues/new">new issue</a>, <a href="https://github.com/WICG/navigation-api/issues?state=open">open issues</a>)
     <dt>Commits:
     <dd><a href="https://github.com/WICG/navigation-api/commits/main/spec.bs">GitHub spec.bs commits</a>
    </dl>
   </div>
   <div data-fill-with="warning"></div>
   <p class="copyright" data-fill-with="copyright"><a href="http://www.w3.org/Consortium/Legal/ipr-notice#Copyright">Copyright</a> © 1970 the Contributors to the Navigation API Specification, published by the <a href="https://www.w3.org/community/wicg/">Web Platform Incubator Community Group</a> under the <a href="https://www.w3.org/community/about/agreements/cla/">W3C Community Contributor License Agreement (CLA)</a>.
A human-readable <a href="http://www.w3.org/community/about/agreements/cla-deed/">summary</a> is available. </p>
   <hr title="Separator for header">
  </div>
  <div class="p-summary" data-fill-with="abstract">
   <h2 class="no-num no-toc no-ref heading settled" id="abstract"><span class="content">Abstract</span></h2>
   <p>The navigation API provides a web application-focused way of managing same-origin same-frame history entries and navigations.</p>
  </div>
  <div data-fill-with="at-risk"></div>
  <h2 class="no-num no-toc no-ref heading settled" id="status"><span class="content">Status of this document</span></h2>
  <div data-fill-with="status">
   <p> This specification was published by the <a href="https://www.w3.org/community/wicg/">Web Platform Incubator Community Group</a>.
  It is not a W3C Standard nor is it on the W3C Standards Track.

  Please note that under the <a href="https://www.w3.org/community/about/agreements/cla/">W3C Community Contributor License Agreement (CLA)</a> there is a limited opt-out and other conditions apply.

  Learn more about <a href="http://www.w3.org/community/">W3C Community and Business Groups</a>. </p>
   <p></p>
  </div>
  <div data-fill-with="at-risk"></div>
  <nav data-fill-with="table-of-contents" id="toc">
   <h2 class="no-num no-toc no-ref" id="contents">Table of Contents</h2>
   <ol class="toc" role="directory">
    <li>
     <a href="#global"><span class="secno">1</span> <span class="content">The <code class="idl"><span>Navigation</span></code> class</span></a>
     <ol class="toc">
      <li><a href="#entries-api"><span class="secno">1.1</span> <span class="content">Introspecting the navigation API history entry list</span></a>
      <li><a href="#current-entry"><span class="secno">1.2</span> <span class="content">The current entry</span></a>
      <li><a href="#ongoing-state"><span class="secno">1.3</span> <span class="content">Ongoing navigation tracking</span></a>
      <li><a href="#global-navigate"><span class="secno">1.4</span> <span class="content">Navigating</span></a>
      <li><a href="#global-traversing"><span class="secno">1.5</span> <span class="content">Traversing</span></a>
      <li><a href="#global-events"><span class="secno">1.6</span> <span class="content">Event handlers</span></a>
     </ol>
    <li>
     <a href="#navigate-event"><span class="secno">2</span> <span class="content">The <code class="idl"><span>navigate</span></code> event</span></a>
     <ol class="toc">
      <li><a href="#navigate-event-class"><span class="secno">2.1</span> <span class="content">The <code class="idl"><span>NavigateEvent</span></code> class</span></a>
      <li><a href="#navigate-event-destination"><span class="secno">2.2</span> <span class="content">The <code class="idl"><span>NavigationDestination</span></code> class</span></a>
      <li><a href="#navigate-event-firing"><span class="secno">2.3</span> <span class="content">Firing the event</span></a>
     </ol>
    <li><a href="#NavigationHistoryEntry-class"><span class="secno">3</span> <span class="content">Navigation API history entries</span></a>
    <li>
     <a href="#patches"><span class="secno">4</span> <span class="content">HTML Standard monkeypatches</span></a>
     <ol class="toc">
      <li><a href="#session-history-new-she-fields"><span class="secno">4.1</span> <span class="content">New <span>session history entry</span> items</span></a>
      <li><a href="#navigate-patch"><span class="secno">4.2</span> <span class="content">Navigate</span></a>
      <li><a href="#fragment-patch"><span class="secno">4.3</span> <span class="content">Navigate to a fragment</span></a>
      <li><a href="#push-replace-state-patch"><span class="secno">4.4</span> <span class="content">Shared history push/replace state steps</span></a>
      <li><a href="#uhus-patch"><span class="secno">4.5</span> <span class="content">URL and history update steps</span></a>
      <li><a href="#update-for-history-step-patch"><span class="secno">4.6</span> <span class="content">Update document for history state application</span></a>
      <li><a href="#finalize-patch"><span class="secno">4.7</span> <span class="content">Finalize a cross-document navigation</span></a>
      <li><a href="#reactivate-patch"><span class="secno">4.8</span> <span class="content">Reactivate</span></a>
      <li><a href="#reload-patch"><span class="secno">4.9</span> <span class="content">Reload</span></a>
      <li><a href="#traverse-patch"><span class="secno">4.10</span> <span class="content">Traversal</span></a>
      <li><a href="#navigate-event-download-patches"><span class="secno">4.11</span> <span class="content">Download a hyperlink</span></a>
      <li><a href="#cancel-navigation"><span class="secno">4.12</span> <span class="content">Canceling navigations</span></a>
      <li><a href="#navigate-event-traversal-patches"><span class="secno">4.13</span> <span class="content">Check if unloading is user-canceled</span></a>
      <li><a href="#new-user-navigation-involvement"><span class="secno">4.14</span> <span class="content">User navigation involvement</span></a>
      <li>
       <a href="#call-site-patch"><span class="secno">4.15</span> <span class="content">Various call site patches</span></a>
       <ol class="toc">
        <li><a href="#call-site-patch-userinvolvement"><span class="secno">4.15.1</span> <span class="content">User navigation involvement</span></a>
        <li><a href="#call-site-patch-entrylist"><span class="secno">4.15.2</span> <span class="content">Form entry list</span></a>
       </ol>
      <li><a href="#focus-patches"><span class="secno">4.16</span> <span class="content">Focus tracking</span></a>
      <li><a href="#scroll-restoration-patches"><span class="secno">4.17</span> <span class="content">Scroll restoration</span></a>
      <li><a href="#new-failed-populate-note"><span class="secno">4.18</span> <span class="content">Helpful note: failed attempt to populate</span></a>
     </ol>
    <li>
     <a href="#security-privacy"><span class="secno">5</span> <span class="content">Security and privacy considerations</span></a>
     <ol class="toc">
      <li><a href="#sp-cross-site-tracking"><span class="secno">5.1</span> <span class="content">Cross-site tracking</span></a>
      <li><a href="#sp-navigation-monitoring-interception"><span class="secno">5.2</span> <span class="content">Navigation monitoring and interception</span></a>
      <li><a href="#sp-url-updates"><span class="secno">5.3</span> <span class="content">URL updates</span></a>
      <li><a href="#sp-ua-ui"><span class="secno">5.4</span> <span class="content">Other user agent UI</span></a>
     </ol>
    <li>
     <a href="#index"><span class="secno"></span> <span class="content">Index</span></a>
     <ol class="toc">
      <li><a href="#index-defined-here"><span class="secno"></span> <span class="content">Terms defined by this specification</span></a>
      <li><a href="#index-defined-elsewhere"><span class="secno"></span> <span class="content">Terms defined by reference</span></a>
     </ol>
    <li>
     <a href="#references"><span class="secno"></span> <span class="content">References</span></a>
     <ol class="toc">
      <li><a href="#normative"><span class="secno"></span> <span class="content">Normative References</span></a>
      <li><a href="#informative"><span class="secno"></span> <span class="content">Informative References</span></a>
     </ol>
    <li><a href="#idl-index"><span class="secno"></span> <span class="content">IDL Index</span></a>
   </ol>
  </nav>
  <main>
<script async src="https://resources.whatwg.org/file-issue.js"></script>
   <h2 class="heading settled" data-level="1" id="global"><span class="secno">1. </span><span class="content">The <code class="idl"><a data-link-type="idl" href="#navigation" id="ref-for-navigation">Navigation</a></code> class</span><a class="self-link" href="#global"></a></h2>
<pre class="idl highlight def"><c- b>partial</c-> <c- b>interface</c-> <a class="idl-code" data-link-type="interface" href="https://html.spec.whatwg.org/multipage/nav-history-apis.html#window" id="ref-for-window"><c- g>Window</c-></a> {
  [<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Replaceable" id="ref-for-Replaceable"><c- g>Replaceable</c-></a>] <c- b>readonly</c-> <c- b>attribute</c-> <a data-link-type="idl-name" href="#navigation" id="ref-for-navigation①"><c- n>Navigation</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="Navigation" href="#dom-window-navigation" id="ref-for-dom-window-navigation"><c- g>navigation</c-></a>;
};
</pre>
   <p>Each <code class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/nav-history-apis.html#window" id="ref-for-window①">Window</a></code> object has an associated <dfn class="dfn-paneled" data-dfn-for="Window" data-dfn-type="dfn" data-noexport id="window-navigation-api">navigation API</dfn>, which is a new <code class="idl"><a data-link-type="idl" href="#navigation" id="ref-for-navigation②">Navigation</a></code> instance created alongside the <code class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/nav-history-apis.html#window" id="ref-for-window②">Window</a></code>.</p>
   <p>The <dfn class="dfn-paneled idl-code" data-dfn-for="Window" data-dfn-type="attribute" data-export id="dom-window-navigation"><code>navigation</code></dfn> getter steps are to return <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this" id="ref-for-this">this</a>'s <a data-link-type="dfn" href="#window-navigation-api" id="ref-for-window-navigation-api">navigation API</a>.</p>
<pre class="idl highlight def">[<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Exposed" id="ref-for-Exposed"><c- g>Exposed</c-></a>=<c- n>Window</c->]
<c- b>interface</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="interface" data-export id="navigation"><code><c- g>Navigation</c-></code></dfn> : <a data-link-type="idl-name" href="https://dom.spec.whatwg.org/#eventtarget" id="ref-for-eventtarget"><c- n>EventTarget</c-></a> {
  <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#idl-sequence" id="ref-for-idl-sequence"><c- b>sequence</c-></a>&lt;<a data-link-type="idl-name" href="#navigationhistoryentry" id="ref-for-navigationhistoryentry"><c- n>NavigationHistoryEntry</c-></a>> <a class="idl-code" data-link-type="method" href="#dom-navigation-entries" id="ref-for-dom-navigation-entries"><c- g>entries</c-></a>();
  <c- b>readonly</c-> <c- b>attribute</c-> <a data-link-type="idl-name" href="#navigationhistoryentry" id="ref-for-navigationhistoryentry①"><c- n>NavigationHistoryEntry</c-></a>? <a class="idl-code" data-link-type="attribute" data-readonly data-type="NavigationHistoryEntry?" href="#dom-navigation-currententry" id="ref-for-dom-navigation-currententry"><c- g>currentEntry</c-></a>;
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-undefined" id="ref-for-idl-undefined"><c- b>undefined</c-></a> <a class="idl-code" data-link-type="method" href="#dom-navigation-updatecurrententry" id="ref-for-dom-navigation-updatecurrententry"><c- g>updateCurrentEntry</c-></a>(<a data-link-type="idl-name" href="#dictdef-navigationupdatecurrententryoptions" id="ref-for-dictdef-navigationupdatecurrententryoptions"><c- n>NavigationUpdateCurrentEntryOptions</c-></a> <dfn class="idl-code" data-dfn-for="Navigation/updateCurrentEntry(options)" data-dfn-type="argument" data-export id="dom-navigation-updatecurrententry-options-options"><code><c- g>options</c-></code><a class="self-link" href="#dom-navigation-updatecurrententry-options-options"></a></dfn>);
  <c- b>readonly</c-> <c- b>attribute</c-> <a data-link-type="idl-name" href="#navigationtransition" id="ref-for-navigationtransition"><c- n>NavigationTransition</c-></a>? <a class="idl-code" data-link-type="attribute" data-readonly data-type="NavigationTransition?" href="#dom-navigation-transition" id="ref-for-dom-navigation-transition"><c- g>transition</c-></a>;

  <c- b>readonly</c-> <c- b>attribute</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-boolean" id="ref-for-idl-boolean"><c- b>boolean</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="boolean" href="#dom-navigation-cangoback" id="ref-for-dom-navigation-cangoback"><c- g>canGoBack</c-></a>;
  <c- b>readonly</c-> <c- b>attribute</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-boolean" id="ref-for-idl-boolean①"><c- b>boolean</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="boolean" href="#dom-navigation-cangoforward" id="ref-for-dom-navigation-cangoforward"><c- g>canGoForward</c-></a>;

  <a data-link-type="idl-name" href="#dictdef-navigationresult" id="ref-for-dictdef-navigationresult"><c- n>NavigationResult</c-></a> <a class="idl-code" data-link-type="method" href="#dom-navigation-navigate" id="ref-for-dom-navigation-navigate"><c- g>navigate</c-></a>(<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-USVString" id="ref-for-idl-USVString"><c- b>USVString</c-></a> <dfn class="idl-code" data-dfn-for="Navigation/navigate(url, options), Navigation/navigate(url)" data-dfn-type="argument" data-export id="dom-navigation-navigate-url-options-url"><code><c- g>url</c-></code><a class="self-link" href="#dom-navigation-navigate-url-options-url"></a></dfn>, <c- b>optional</c-> <a data-link-type="idl-name" href="#dictdef-navigationnavigateoptions" id="ref-for-dictdef-navigationnavigateoptions"><c- n>NavigationNavigateOptions</c-></a> <dfn class="idl-code" data-dfn-for="Navigation/navigate(url, options), Navigation/navigate(url)" data-dfn-type="argument" data-export id="dom-navigation-navigate-url-options-options"><code><c- g>options</c-></code><a class="self-link" href="#dom-navigation-navigate-url-options-options"></a></dfn> = {});
  <a data-link-type="idl-name" href="#dictdef-navigationresult" id="ref-for-dictdef-navigationresult①"><c- n>NavigationResult</c-></a> <a class="idl-code" data-link-type="method" href="#dom-navigation-reload" id="ref-for-dom-navigation-reload"><c- g>reload</c-></a>(<c- b>optional</c-> <a data-link-type="idl-name" href="#dictdef-navigationreloadoptions" id="ref-for-dictdef-navigationreloadoptions"><c- n>NavigationReloadOptions</c-></a> <dfn class="idl-code" data-dfn-for="Navigation/reload(options), Navigation/reload()" data-dfn-type="argument" data-export id="dom-navigation-reload-options-options"><code><c- g>options</c-></code><a class="self-link" href="#dom-navigation-reload-options-options"></a></dfn> = {});

  <a data-link-type="idl-name" href="#dictdef-navigationresult" id="ref-for-dictdef-navigationresult②"><c- n>NavigationResult</c-></a> <a class="idl-code" data-link-type="method" href="#dom-navigation-traverseto" id="ref-for-dom-navigation-traverseto"><c- g>traverseTo</c-></a>(<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString" id="ref-for-idl-DOMString"><c- b>DOMString</c-></a> <dfn class="idl-code" data-dfn-for="Navigation/traverseTo(key, options), Navigation/traverseTo(key)" data-dfn-type="argument" data-export id="dom-navigation-traverseto-key-options-key"><code><c- g>key</c-></code><a class="self-link" href="#dom-navigation-traverseto-key-options-key"></a></dfn>, <c- b>optional</c-> <a data-link-type="idl-name" href="#dictdef-navigationoptions" id="ref-for-dictdef-navigationoptions"><c- n>NavigationOptions</c-></a> <dfn class="idl-code" data-dfn-for="Navigation/traverseTo(key, options), Navigation/traverseTo(key)" data-dfn-type="argument" data-export id="dom-navigation-traverseto-key-options-options"><code><c- g>options</c-></code><a class="self-link" href="#dom-navigation-traverseto-key-options-options"></a></dfn> = {});
  <a data-link-type="idl-name" href="#dictdef-navigationresult" id="ref-for-dictdef-navigationresult③"><c- n>NavigationResult</c-></a> <a class="idl-code" data-link-type="method" href="#dom-navigation-back" id="ref-for-dom-navigation-back"><c- g>back</c-></a>(<c- b>optional</c-> <a data-link-type="idl-name" href="#dictdef-navigationoptions" id="ref-for-dictdef-navigationoptions①"><c- n>NavigationOptions</c-></a> <dfn class="idl-code" data-dfn-for="Navigation/back(options), Navigation/back()" data-dfn-type="argument" data-export id="dom-navigation-back-options-options"><code><c- g>options</c-></code><a class="self-link" href="#dom-navigation-back-options-options"></a></dfn> = {});
  <a data-link-type="idl-name" href="#dictdef-navigationresult" id="ref-for-dictdef-navigationresult④"><c- n>NavigationResult</c-></a> <a class="idl-code" data-link-type="method" href="#dom-navigation-forward" id="ref-for-dom-navigation-forward"><c- g>forward</c-></a>(<c- b>optional</c-> <a data-link-type="idl-name" href="#dictdef-navigationoptions" id="ref-for-dictdef-navigationoptions②"><c- n>NavigationOptions</c-></a> <dfn class="idl-code" data-dfn-for="Navigation/forward(options), Navigation/forward()" data-dfn-type="argument" data-export id="dom-navigation-forward-options-options"><code><c- g>options</c-></code><a class="self-link" href="#dom-navigation-forward-options-options"></a></dfn> = {});

  <c- b>attribute</c-> <a data-link-type="idl-name" href="https://html.spec.whatwg.org/multipage/webappapis.html#eventhandler" id="ref-for-eventhandler"><c- n>EventHandler</c-></a> <a class="idl-code" data-link-type="attribute" data-type="EventHandler" href="#dom-navigation-onnavigate" id="ref-for-dom-navigation-onnavigate"><c- g>onnavigate</c-></a>;
  <c- b>attribute</c-> <a data-link-type="idl-name" href="https://html.spec.whatwg.org/multipage/webappapis.html#eventhandler" id="ref-for-eventhandler①"><c- n>EventHandler</c-></a> <a class="idl-code" data-link-type="attribute" data-type="EventHandler" href="#dom-navigation-onnavigatesuccess" id="ref-for-dom-navigation-onnavigatesuccess"><c- g>onnavigatesuccess</c-></a>;
  <c- b>attribute</c-> <a data-link-type="idl-name" href="https://html.spec.whatwg.org/multipage/webappapis.html#eventhandler" id="ref-for-eventhandler②"><c- n>EventHandler</c-></a> <a class="idl-code" data-link-type="attribute" data-type="EventHandler" href="#dom-navigation-onnavigateerror" id="ref-for-dom-navigation-onnavigateerror"><c- g>onnavigateerror</c-></a>;
  <c- b>attribute</c-> <a data-link-type="idl-name" href="https://html.spec.whatwg.org/multipage/webappapis.html#eventhandler" id="ref-for-eventhandler③"><c- n>EventHandler</c-></a> <a class="idl-code" data-link-type="attribute" data-type="EventHandler" href="#dom-navigation-oncurrententrychange" id="ref-for-dom-navigation-oncurrententrychange"><c- g>oncurrententrychange</c-></a>;
};

<c- b>dictionary</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="dictionary" data-export id="dictdef-navigationupdatecurrententryoptions"><code><c- g>NavigationUpdateCurrentEntryOptions</c-></code></dfn> {
  <c- b>required</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-any" id="ref-for-idl-any"><c- b>any</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="NavigationUpdateCurrentEntryOptions" data-dfn-type="dict-member" data-export data-type="any " id="dom-navigationupdatecurrententryoptions-state"><code><c- g>state</c-></code></dfn>;
};

<c- b>dictionary</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="dictionary" data-export id="dictdef-navigationoptions"><code><c- g>NavigationOptions</c-></code></dfn> {
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-any" id="ref-for-idl-any①"><c- b>any</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="NavigationOptions" data-dfn-type="dict-member" data-export data-type="any " id="dom-navigationoptions-info"><code><c- g>info</c-></code></dfn>;
};

<c- b>dictionary</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="dictionary" data-export id="dictdef-navigationnavigateoptions"><code><c- g>NavigationNavigateOptions</c-></code></dfn> : <a data-link-type="idl-name" href="#dictdef-navigationoptions" id="ref-for-dictdef-navigationoptions③"><c- n>NavigationOptions</c-></a> {
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-any" id="ref-for-idl-any②"><c- b>any</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="NavigationNavigateOptions" data-dfn-type="dict-member" data-export data-type="any " id="dom-navigationnavigateoptions-state"><code><c- g>state</c-></code></dfn>;
  <a data-link-type="idl-name" href="#enumdef-navigationhistorybehavior" id="ref-for-enumdef-navigationhistorybehavior"><c- n>NavigationHistoryBehavior</c-></a> <dfn class="dfn-paneled idl-code" data-default="&quot;auto&quot;" data-dfn-for="NavigationNavigateOptions" data-dfn-type="dict-member" data-export data-type="NavigationHistoryBehavior " id="dom-navigationnavigateoptions-history"><code><c- g>history</c-></code></dfn> = "auto";
};

<c- b>dictionary</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="dictionary" data-export id="dictdef-navigationreloadoptions"><code><c- g>NavigationReloadOptions</c-></code></dfn> : <a data-link-type="idl-name" href="#dictdef-navigationoptions" id="ref-for-dictdef-navigationoptions④"><c- n>NavigationOptions</c-></a> {
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-any" id="ref-for-idl-any③"><c- b>any</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="NavigationReloadOptions" data-dfn-type="dict-member" data-export data-type="any " id="dom-navigationreloadoptions-state"><code><c- g>state</c-></code></dfn>;
};

<c- b>dictionary</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="dictionary" data-export id="dictdef-navigationresult"><code><c- g>NavigationResult</c-></code></dfn> {
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise" id="ref-for-idl-promise"><c- b>Promise</c-></a>&lt;<a data-link-type="idl-name" href="#navigationhistoryentry" id="ref-for-navigationhistoryentry②"><c- n>NavigationHistoryEntry</c-></a>> <dfn class="dfn-paneled idl-code" data-dfn-for="NavigationResult" data-dfn-type="dict-member" data-export data-type="Promise<NavigationHistoryEntry> " id="dom-navigationresult-committed"><code><c- g>committed</c-></code></dfn>;
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise" id="ref-for-idl-promise①"><c- b>Promise</c-></a>&lt;<a data-link-type="idl-name" href="#navigationhistoryentry" id="ref-for-navigationhistoryentry③"><c- n>NavigationHistoryEntry</c-></a>> <dfn class="dfn-paneled idl-code" data-dfn-for="NavigationResult" data-dfn-type="dict-member" data-export data-type="Promise<NavigationHistoryEntry> " id="dom-navigationresult-finished"><code><c- g>finished</c-></code></dfn>;
};

<c- b>enum</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="enum" data-export id="enumdef-navigationhistorybehavior"><code><c- g>NavigationHistoryBehavior</c-></code></dfn> {
  <dfn class="idl-code" data-dfn-for="NavigationHistoryBehavior" data-dfn-type="enum-value" data-export id="dom-navigationhistorybehavior-auto"><code><c- s>"auto"</c-></code><a class="self-link" href="#dom-navigationhistorybehavior-auto"></a></dfn>,
  <dfn class="dfn-paneled idl-code" data-dfn-for="NavigationHistoryBehavior" data-dfn-type="enum-value" data-export id="dom-navigationhistorybehavior-push"><code><c- s>"push"</c-></code></dfn>,
  <dfn class="dfn-paneled idl-code" data-dfn-for="NavigationHistoryBehavior" data-dfn-type="enum-value" data-export id="dom-navigationhistorybehavior-replace"><code><c- s>"replace"</c-></code></dfn>
};
</pre>
   <p>Each <code class="idl"><a data-link-type="idl" href="#navigation" id="ref-for-navigation③">Navigation</a></code> object has an associated <dfn class="dfn-paneled" data-dfn-for="Navigation" data-dfn-type="dfn" data-noexport id="navigation-entry-list">entry list</dfn>, a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list" id="ref-for-list">list</a> of <code class="idl"><a data-link-type="idl" href="#navigationhistoryentry" id="ref-for-navigationhistoryentry④">NavigationHistoryEntry</a></code> objects, initially empty.</p>
   <p>Each <code class="idl"><a data-link-type="idl" href="#navigation" id="ref-for-navigation④">Navigation</a></code> object has an associated <dfn class="dfn-paneled" data-dfn-for="Navigation" data-dfn-type="dfn" data-noexport id="navigation-current-entry-index">current entry index</dfn>, an integer, initially −1.</p>
   <div class="algorithm" data-algorithm="has entries and events disabled" data-algorithm-for="Navigation">
     A <code class="idl"><a data-link-type="idl" href="#navigation" id="ref-for-navigation⑤">Navigation</a></code> <var>navigation</var> <dfn class="dfn-paneled" data-dfn-for="Navigation" data-dfn-type="dfn" data-noexport id="navigation-has-entries-and-events-disabled">has entries and events disabled</dfn> if the following steps return true: 
    <ol>
     <li data-md>
      <p>If <var>navigation</var>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-global" id="ref-for-concept-relevant-global">relevant global object</a>'s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/nav-history-apis.html#window-bc" id="ref-for-window-bc">browsing context</a> is null, then return true.</p>
     <li data-md>
      <p>Let <var>document</var> be <var>navigation</var>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-global" id="ref-for-concept-relevant-global①">relevant global object</a>'s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/nav-history-apis.html#concept-document-window" id="ref-for-concept-document-window">associated Document</a>.</p>
     <li data-md>
      <p>If <var>document</var>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/dom.html#is-initial-about:blank" id="ref-for-is-initial-about:blank">is initial about:blank</a> is true, then return true.</p>
     <li data-md>
      <p>If <var>document</var>’s <a data-link-type="dfn" href="https://dom.spec.whatwg.org/#concept-document-origin" id="ref-for-concept-document-origin">origin</a> is <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsers.html#concept-origin-opaque" id="ref-for-concept-origin-opaque">opaque</a>, then return true.</p>
     <li data-md>
      <p>Return false.</p>
    </ol>
   </div>
   <div class="algorithm" data-algorithm="update the entries for a same-document navigation" data-algorithm-for="Navigation">
     To <dfn class="dfn-paneled" data-dfn-for="Navigation" data-dfn-type="dfn" data-noexport id="navigation-update-the-entries-for-a-same-document-navigation">update the entries for a same-document navigation</dfn> given a <code class="idl"><a data-link-type="idl" href="#navigation" id="ref-for-navigation⑥">Navigation</a></code> instance <var>navigation</var>, a <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsing-the-web.html#session-history-entry" id="ref-for-session-history-entry">session history entry</a> <var>destinationSHE</var>, and a <code class="idl"><a data-link-type="idl" href="#enumdef-navigationtype" id="ref-for-enumdef-navigationtype">NavigationType</a></code> <var>navigationType</var>: 
    <ol>
     <li data-md>
      <p>If <var>navigation</var> <a data-link-type="dfn" href="#navigation-has-entries-and-events-disabled" id="ref-for-navigation-has-entries-and-events-disabled">has entries and events disabled</a>, then:</p>
      <ol>
       <li data-md>
        <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#assert" id="ref-for-assert">Assert</a>: <var>navigation</var>’s <a data-link-type="dfn" href="#navigation-entry-list" id="ref-for-navigation-entry-list">entry list</a> <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-is-empty" id="ref-for-list-is-empty">is empty</a>.</p>
       <li data-md>
        <p>Return.</p>
      </ol>
     <li data-md>
      <p>Let <var>oldCurrentNHE</var> be the <a data-link-type="dfn" href="#navigation-current-entry" id="ref-for-navigation-current-entry">current entry</a> of <var>navigation</var>.</p>
     <li data-md>
      <p>Let <var>disposedNHEs</var> be a new empty <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list" id="ref-for-list①">list</a>.</p>
     <li data-md>
      <p>If <var>navigationType</var> is "<code class="idl"><a data-link-type="idl" href="#dom-navigationtype-traverse" id="ref-for-dom-navigationtype-traverse">traverse</a></code>":</p>
      <ol>
       <li data-md>
        <p>Set <var>navigation</var>’s <a data-link-type="dfn" href="#navigation-current-entry-index" id="ref-for-navigation-current-entry-index">current entry index</a> to the index of the <code class="idl"><a data-link-type="idl" href="#navigationhistoryentry" id="ref-for-navigationhistoryentry⑤">NavigationHistoryEntry</a></code> within <var>navigation</var>’s <a data-link-type="dfn" href="#navigation-entry-list" id="ref-for-navigation-entry-list①">entry list</a> whose <a data-link-type="dfn" href="#navigationhistoryentry-session-history-entry" id="ref-for-navigationhistoryentry-session-history-entry">session history entry</a>'s <a data-link-type="dfn" href="#session-history-entry-navigation-api-key" id="ref-for-session-history-entry-navigation-api-key">navigation API key</a> equals <var>destinationSHE</var>’s <a data-link-type="dfn" href="#session-history-entry-navigation-api-key" id="ref-for-session-history-entry-navigation-api-key①">navigation API key</a>.</p>
       <li data-md>
        <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#assert" id="ref-for-assert①">Assert</a>: such a <code class="idl"><a data-link-type="idl" href="#navigationhistoryentry" id="ref-for-navigationhistoryentry⑥">NavigationHistoryEntry</a></code> must exist, because this algorithm is only called for same-document traversals. (Cross-document traversals will instead call either <a data-link-type="dfn" href="#navigation-update-the-entries-for-reactivation" id="ref-for-navigation-update-the-entries-for-reactivation">update the entries for reactivation</a> or <a data-link-type="dfn" href="#navigation-initialize-the-entries-for-a-new-navigation" id="ref-for-navigation-initialize-the-entries-for-a-new-navigation">initialize the entries for a new Navigation</a>.)</p>
      </ol>
     <li data-md>
      <p>Otherwise, if <var>navigationType</var> is "<code class="idl"><a data-link-type="idl" href="#dom-navigationtype-push" id="ref-for-dom-navigationtype-push">push</a></code>":</p>
      <ol>
       <li data-md>
        <p>Set <var>navigation</var>’s <a data-link-type="dfn" href="#navigation-current-entry-index" id="ref-for-navigation-current-entry-index①">current entry index</a> to <var>navigation</var>’s <a data-link-type="dfn" href="#navigation-current-entry-index" id="ref-for-navigation-current-entry-index②">current entry index</a> + 1.</p>
       <li data-md>
        <p>Let <var>i</var> be <var>navigation</var>’s <a data-link-type="dfn" href="#navigation-current-entry-index" id="ref-for-navigation-current-entry-index③">current entry index</a>.</p>
       <li data-md>
        <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#iteration-while" id="ref-for-iteration-while">While</a> <var>i</var> &lt; <var>navigation</var>’s <a data-link-type="dfn" href="#navigation-entry-list" id="ref-for-navigation-entry-list②">entry list</a>'s <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-size" id="ref-for-list-size">size</a>:</p>
        <ol>
         <li data-md>
          <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-append" id="ref-for-list-append">Append</a> <var>navigation</var>’s <a data-link-type="dfn" href="#navigation-entry-list" id="ref-for-navigation-entry-list③">entry list</a>[<var>i</var>] to <var>disposedNHEs</var>.</p>
         <li data-md>
          <p>Set <var>i</var> to <var>i</var> + 1.</p>
        </ol>
       <li data-md>
        <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-remove" id="ref-for-list-remove">Remove</a> all <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-item" id="ref-for-list-item">items</a> in <var>disposedNHEs</var> from <var>navigation</var>’s <a data-link-type="dfn" href="#navigation-entry-list" id="ref-for-navigation-entry-list④">entry list</a>.</p>
      </ol>
     <li data-md>
      <p>Otherwise, if <var>navigationType</var> is "<code class="idl"><a data-link-type="idl" href="#dom-navigationtype-replace" id="ref-for-dom-navigationtype-replace">replace</a></code>":</p>
      <ol>
       <li data-md>
        <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-append" id="ref-for-list-append①">Append</a> <var>oldCurrentNHE</var> to <var>disposedNHEs</var>.</p>
      </ol>
     <li data-md>
      <p>If <var>navigationType</var> is "<code class="idl"><a data-link-type="idl" href="#dom-navigationtype-push" id="ref-for-dom-navigationtype-push①">push</a></code>" or "<code class="idl"><a data-link-type="idl" href="#dom-navigationtype-replace" id="ref-for-dom-navigationtype-replace①">replace</a></code>":</p>
      <ol>
       <li data-md>
        <p>Let <var>newNHE</var> be a <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#new" id="ref-for-new">new</a> <code class="idl"><a data-link-type="idl" href="#navigationhistoryentry" id="ref-for-navigationhistoryentry⑦">NavigationHistoryEntry</a></code> created in the <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-realm" id="ref-for-concept-relevant-realm">relevant realm</a> of <var>navigation</var>.</p>
       <li data-md>
        <p>Set <var>newNHE</var>’s <a data-link-type="dfn" href="#navigationhistoryentry-session-history-entry" id="ref-for-navigationhistoryentry-session-history-entry①">session history entry</a> to <var>destinationSHE</var>.</p>
       <li data-md>
        <p>Set <var>navigation</var>’s <a data-link-type="dfn" href="#navigation-entry-list" id="ref-for-navigation-entry-list⑤">entry list</a>[<var>navigation</var>’s <a data-link-type="dfn" href="#navigation-current-entry-index" id="ref-for-navigation-current-entry-index④">current entry index</a>] to <var>newNHE</var>.</p>
      </ol>
     <li data-md>
      <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#assert" id="ref-for-assert②">Assert</a>: by this point, the <a data-link-type="dfn" href="#navigation-current-entry" id="ref-for-navigation-current-entry①">current entry</a> of <var>navigation</var> is different from <var>oldCurrentNHE</var>.</p>
     <li data-md>
      <p>If <var>navigation</var>’s <a data-link-type="dfn" href="#navigation-ongoing-navigation" id="ref-for-navigation-ongoing-navigation">ongoing navigation</a> is non-null, then <a data-link-type="dfn" href="#navigation-api-method-navigation-notify-about-the-committed-to-entry" id="ref-for-navigation-api-method-navigation-notify-about-the-committed-to-entry">notify about the committed-to entry</a> given <var>navigation</var>’s <a data-link-type="dfn" href="#navigation-ongoing-navigation" id="ref-for-navigation-ongoing-navigation①">ongoing navigation</a> and the <a data-link-type="dfn" href="#navigation-current-entry" id="ref-for-navigation-current-entry②">current entry</a> of <var>navigation</var>.</p>
      <p class="note" role="note">It is important to do this before firing the <code class="idl"><a data-link-type="idl" href="#eventdef-navigationhistoryentry-dispose" id="ref-for-eventdef-navigationhistoryentry-dispose">dispose</a></code> or <code class="idl"><a data-link-type="idl" href="#eventdef-navigation-currententrychange" id="ref-for-eventdef-navigation-currententrychange">currententrychange</a></code> events, since event handlers could start another navigation, or otherwise change the value of <var>navigation</var>’s <a data-link-type="dfn" href="#navigation-ongoing-navigation" id="ref-for-navigation-ongoing-navigation②">ongoing navigation</a>. </p>
     <li data-md>
      <p><a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#prepare-to-run-script" id="ref-for-prepare-to-run-script">Prepare to run script</a> given <var>navigation</var>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#relevant-settings-object" id="ref-for-relevant-settings-object">relevant settings object</a>.</p>
      <p class="note" role="note">See <a href="#note-suppress-microtasks-during-navigation-events">a similar note elsewhere for other navigation API events</a> to understand why we do this. </p>
     <li data-md>
      <p><a data-link-type="dfn" href="https://dom.spec.whatwg.org/#concept-event-fire" id="ref-for-concept-event-fire">Fire an event</a> named <code class="idl"><a data-link-type="idl" href="#eventdef-navigation-currententrychange" id="ref-for-eventdef-navigation-currententrychange①">currententrychange</a></code> at <var>navigation</var> using <code class="idl"><a data-link-type="idl" href="#navigationcurrententrychangeevent" id="ref-for-navigationcurrententrychangeevent">NavigationCurrentEntryChangeEvent</a></code>, with its <code class="idl"><a data-link-type="idl" href="#dom-navigationcurrententrychangeevent-navigationtype" id="ref-for-dom-navigationcurrententrychangeevent-navigationtype">navigationType</a></code> attribute initialized to <var>navigationType</var> and its <code class="idl"><a data-link-type="idl" href="#dom-navigationcurrententrychangeevent-from" id="ref-for-dom-navigationcurrententrychangeevent-from">from</a></code> initialized to <var>oldCurrentNHE</var>.</p>
     <li data-md>
      <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-iterate" id="ref-for-list-iterate">For each</a> <var>disposedNHE</var> of <var>disposedNHEs</var>:</p>
      <ol>
       <li data-md>
        <p><a data-link-type="dfn" href="https://dom.spec.whatwg.org/#concept-event-fire" id="ref-for-concept-event-fire①">Fire an event</a> named <code class="idl"><a data-link-type="idl" href="#eventdef-navigationhistoryentry-dispose" id="ref-for-eventdef-navigationhistoryentry-dispose①">dispose</a></code> at <var>disposedNHE</var>.</p>
      </ol>
     <li data-md>
      <p><a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#clean-up-after-running-script" id="ref-for-clean-up-after-running-script">Clean up after running script</a> given <var>navigation</var>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#relevant-settings-object" id="ref-for-relevant-settings-object①">relevant settings object</a>.</p>
    </ol>
   </div>
   <div class="algorithm" data-algorithm="update the entries for reactivation" data-algorithm-for="Navigation">
     To <dfn class="dfn-paneled" data-dfn-for="Navigation" data-dfn-type="dfn" data-noexport id="navigation-update-the-entries-for-reactivation">update the entries for reactivation</dfn> given a <code class="idl"><a data-link-type="idl" href="#navigation" id="ref-for-navigation⑦">Navigation</a></code> instance <var>navigation</var>, a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list" id="ref-for-list②">list</a> of <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsing-the-web.html#session-history-entry" id="ref-for-session-history-entry①">session history entries</a> <var>newSHEs</var>, and a <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsing-the-web.html#session-history-entry" id="ref-for-session-history-entry②">session history entry</a> <var>reactivatedSHE</var>: 
    <ol>
     <li data-md>
      <p>Let <var>newNHEs</var> be an empty list.</p>
     <li data-md>
      <p>Let <var>oldNHEs</var> be a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-clone" id="ref-for-list-clone">clone</a> of <var>navigation</var>’s <a data-link-type="dfn" href="#navigation-entry-list" id="ref-for-navigation-entry-list⑥">entry list</a>.</p>
     <li data-md>
      <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-iterate" id="ref-for-list-iterate①">For each</a> <var>newSHE</var> of <var>newSHEs</var>:</p>
      <ol>
       <li data-md>
        <p>Let <var>newNHE</var> be null.</p>
       <li data-md>
        <p>If <var>oldNHEs</var> <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-contain" id="ref-for-list-contain">contains</a> a <code class="idl"><a data-link-type="idl" href="#navigationhistoryentry" id="ref-for-navigationhistoryentry⑧">NavigationHistoryEntry</a></code> <var>matchingOldNHE</var> whose <a data-link-type="dfn" href="#navigationhistoryentry-session-history-entry" id="ref-for-navigationhistoryentry-session-history-entry②">session history entry</a> is <var>newSHE</var>, then:</p>
        <ol>
         <li data-md>
          <p>Set <var>newNHE</var> to <var>matchingOldNHE</var>.</p>
         <li data-md>
          <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-remove" id="ref-for-list-remove①">Remove</a> <var>matchingOldNHE</var> from <var>oldNHEs</var>.</p>
        </ol>
       <li data-md>
        <p>Otherwise:</p>
        <ol>
         <li data-md>
          <p>Set <var>newNHE</var> to a <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#new" id="ref-for-new①">new</a> <code class="idl"><a data-link-type="idl" href="#navigationhistoryentry" id="ref-for-navigationhistoryentry⑨">NavigationHistoryEntry</a></code> created in the <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-realm" id="ref-for-concept-relevant-realm①">relevant realm</a> of <var>navigation</var>.</p>
         <li data-md>
          <p>Set <var>newNHE</var>’s <a data-link-type="dfn" href="#navigationhistoryentry-session-history-entry" id="ref-for-navigationhistoryentry-session-history-entry③">session history entry</a> to <var>newSHE</var>.</p>
        </ol>
       <li data-md>
        <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-append" id="ref-for-list-append②">Append</a> <var>newNHE</var> to <var>newNHEs</var>.</p>
      </ol>
     <li data-md>
      <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-iterate" id="ref-for-list-iterate②">For each</a> <var>disposedNHE</var> of <var>oldNHEs</var>:</p>
      <ol>
       <li data-md>
        <p>Set <var>disposedNHE</var>’s <a data-link-type="dfn" href="#navigationhistoryentry-index" id="ref-for-navigationhistoryentry-index">index</a> to −1.</p>
      </ol>
     <li data-md>
      <p>Set <var>navigation</var>’s <a data-link-type="dfn" href="#navigation-entry-list" id="ref-for-navigation-entry-list⑦">entry list</a> to <var>newNHEs</var>.</p>
     <li data-md>
      <p>Set <var>navigation</var>’s <a data-link-type="dfn" href="#navigation-current-entry-index" id="ref-for-navigation-current-entry-index⑤">current entry index</a> to the result of <a data-link-type="dfn" href="#get-the-navigation-api-history-index" id="ref-for-get-the-navigation-api-history-index">getting the navigation API history index</a> of <var>reactivatedSHE</var> within <var>navigation</var>.</p>
     <li data-md>
      <p><a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-global-task" id="ref-for-queue-a-global-task">Queue a global task</a> on the <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#navigation-and-traversal-task-source" id="ref-for-navigation-and-traversal-task-source">navigation and traversal task source</a> given <var>navigation</var>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-global" id="ref-for-concept-relevant-global②">relevant global object</a> to run the following steps:</p>
      <ol>
       <li data-md>
        <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-iterate" id="ref-for-list-iterate③">For each</a> <var>disposedNHE</var> of <var>oldNHEs</var>:</p>
        <ol>
         <li data-md>
          <p><a data-link-type="dfn" href="https://dom.spec.whatwg.org/#concept-event-fire" id="ref-for-concept-event-fire②">Fire an event</a> named <code class="idl"><a data-link-type="idl" href="#eventdef-navigationhistoryentry-dispose" id="ref-for-eventdef-navigationhistoryentry-dispose②">dispose</a></code> at <var>disposedNHE</var>.</p>
        </ol>
      </ol>
      <p class="note" role="note">We delay these events by a task to ensure that <code class="idl"><a data-link-type="idl" href="#eventdef-navigationhistoryentry-dispose" id="ref-for-eventdef-navigationhistoryentry-dispose③">dispose</a></code> events will fire after the <code class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/indices.html#event-pageshow" id="ref-for-event-pageshow">pageshow</a></code> event. (However, the rest of this algorithm runs before the <code class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/indices.html#event-pageshow" id="ref-for-event-pageshow①">pageshow</a></code> event fires, to ensure that <code class="idl"><a data-link-type="idl" href="#dom-navigation-entries" id="ref-for-dom-navigation-entries①">navigation.entries()</a></code> and <code class="idl"><a data-link-type="idl" href="#dom-navigation-currententry" id="ref-for-dom-navigation-currententry①">navigation.currentEntry</a></code> will have correctly-updated values during any <code class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/indices.html#event-pageshow" id="ref-for-event-pageshow②">pageshow</a></code> event handlers.) This is motivated by a desire to have <code class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/indices.html#event-pageshow" id="ref-for-event-pageshow③">pageshow</a></code> be the first event a page receives upon reactivation. </p>
    </ol>
   </div>
   <div class="algorithm" data-algorithm="initialize the entries for a new Navigation" data-algorithm-for="Navigation">
     To <dfn class="dfn-paneled" data-dfn-for="Navigation" data-dfn-type="dfn" data-noexport id="navigation-initialize-the-entries-for-a-new-navigation">initialize the entries for a new <code class="idl"><a data-link-type="idl" href="#navigation" id="ref-for-navigation⑧">Navigation</a></code></dfn> given a <code class="idl"><a data-link-type="idl" href="#navigation" id="ref-for-navigation⑨">Navigation</a></code> instance <var>navigation</var>, a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list" id="ref-for-list③">list</a> of <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsing-the-web.html#session-history-entry" id="ref-for-session-history-entry③">session history entries</a> <var>newSHEs</var>, and a <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsing-the-web.html#session-history-entry" id="ref-for-session-history-entry④">session history entry</a> <var>initialSHE</var>: 
    <ol>
     <li data-md>
      <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#assert" id="ref-for-assert③">Assert</a>: <var>navigation</var>’s <a data-link-type="dfn" href="#navigation-entry-list" id="ref-for-navigation-entry-list⑧">entry list</a> <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-is-empty" id="ref-for-list-is-empty①">is empty</a>.</p>
     <li data-md>
      <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#assert" id="ref-for-assert④">Assert</a>: <var>navigation</var>’s <a data-link-type="dfn" href="#navigation-current-entry-index" id="ref-for-navigation-current-entry-index⑥">current entry index</a> is −1.</p>
     <li data-md>
      <p>If <var>navigation</var> <a data-link-type="dfn" href="#navigation-has-entries-and-events-disabled" id="ref-for-navigation-has-entries-and-events-disabled①">has entries and events disabled</a>, then return.</p>
     <li data-md>
      <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-iterate" id="ref-for-list-iterate④">For each</a> <var>newSHE</var> of <var>newSHEs</var>:</p>
      <ol>
       <li data-md>
        <p>Let <var>newNHE</var> be a <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#new" id="ref-for-new②">new</a> <code class="idl"><a data-link-type="idl" href="#navigationhistoryentry" id="ref-for-navigationhistoryentry①⓪">NavigationHistoryEntry</a></code> created in the <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-realm" id="ref-for-concept-relevant-realm②">relevant realm</a> of <var>navigation</var>.</p>
       <li data-md>
        <p>Set <var>newNHE</var>’s <a data-link-type="dfn" href="#navigationhistoryentry-session-history-entry" id="ref-for-navigationhistoryentry-session-history-entry④">session history entry</a> to <var>newSHE</var>.</p>
       <li data-md>
        <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-append" id="ref-for-list-append③">Append</a> <var>newNHE</var> to <var>navigation</var>’s <a data-link-type="dfn" href="#navigation-entry-list" id="ref-for-navigation-entry-list⑨">entry list</a>.</p>
      </ol>
     <li data-md>
      <p>Set <var>navigation</var>’s <a data-link-type="dfn" href="#navigation-current-entry-index" id="ref-for-navigation-current-entry-index⑦">current entry index</a> to the result of <a data-link-type="dfn" href="#get-the-navigation-api-history-index" id="ref-for-get-the-navigation-api-history-index①">getting the navigation API history index</a> of <var>initialSHE</var> within <var>navigation</var>.</p>
    </ol>
   </div>
   <div class="algorithm" data-algorithm="get the navigation API history index">
     To <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="get-the-navigation-api-history-index">get the navigation API history index</dfn> of a <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsing-the-web.html#session-history-entry" id="ref-for-session-history-entry⑤">session history entry</a> <var>she</var> within a <code class="idl"><a data-link-type="idl" href="#navigation" id="ref-for-navigation①⓪">Navigation</a></code> <var>navigation</var>: 
    <ol>
     <li data-md>
      <p>Let <var>index</var> be 0.</p>
     <li data-md>
      <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-iterate" id="ref-for-list-iterate⑤">For each</a> <var>ahe</var> of <var>navigation</var>’s <a data-link-type="dfn" href="#navigation-entry-list" id="ref-for-navigation-entry-list①⓪">entry list</a>:</p>
      <ol>
       <li data-md>
        <p>If <var>ahe</var>’s <a data-link-type="dfn" href="#navigationhistoryentry-session-history-entry" id="ref-for-navigationhistoryentry-session-history-entry⑤">session history entry</a> is equal to <var>she</var>, then return <var>index</var>.</p>
       <li data-md>
        <p>Increment <var>index</var> by 1.</p>
      </ol>
     <li data-md>
      <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#assert" id="ref-for-assert⑤">Assert</a>: this step is never reached.</p>
    </ol>
   </div>
   <h3 class="heading settled" data-level="1.1" id="entries-api"><span class="secno">1.1. </span><span class="content">Introspecting the navigation API history entry list</span><a class="self-link" href="#entries-api"></a></h3>
   <dl class="domintro non-normative">
    <dt><code><var>entries</var> = <code class="idl"><a data-link-type="idl" href="#dom-window-navigation" id="ref-for-dom-window-navigation①">navigation</a></code>.<code class="idl"><a data-link-type="idl" href="#dom-navigation-entries" id="ref-for-dom-navigation-entries②">entries</a></code>()</code> 
    <dd>
     <p>Returns an array of <code class="idl"><a data-link-type="idl" href="#navigationhistoryentry" id="ref-for-navigationhistoryentry①①">NavigationHistoryEntry</a></code> instances representing the current navigation history entry list, i.e. all session history entries for this <code class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/nav-history-apis.html#window" id="ref-for-window③">Window</a></code> that are <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsers.html#same-origin" id="ref-for-same-origin">same origin</a> and contiguous to the current session history entry. </p>
    <dt><code><code class="idl"><a data-link-type="idl" href="#dom-window-navigation" id="ref-for-dom-window-navigation②">navigation</a></code>.<code class="idl"><a data-link-type="idl" href="#dom-navigation-cangoback" id="ref-for-dom-navigation-cangoback①">canGoBack</a></code></code> 
    <dd>
     <p>Returns true if the current <code class="idl"><a data-link-type="idl" href="#navigationhistoryentry" id="ref-for-navigationhistoryentry①②">NavigationHistoryEntry</a></code> is not the first one in the navigation history entry list. </p>
    <dt><code><code class="idl"><a data-link-type="idl" href="#dom-window-navigation" id="ref-for-dom-window-navigation③">navigation</a></code>.<code class="idl"><a data-link-type="idl" href="#dom-navigation-cangoforward" id="ref-for-dom-navigation-cangoforward①">canGoForward</a></code></code> 
    <dd>
     <p>Returns true if the current <code class="idl"><a data-link-type="idl" href="#navigationhistoryentry" id="ref-for-navigationhistoryentry①③">NavigationHistoryEntry</a></code> is not the last one in the navigation history entry list. </p>
   </dl>
   <div class="algorithm" data-algorithm="entries()" data-algorithm-for="Navigation">
     The <dfn class="dfn-paneled idl-code" data-dfn-for="Navigation" data-dfn-type="method" data-export id="dom-navigation-entries"><code>entries()</code></dfn> method steps are: 
    <ol>
     <li data-md>
      <p>If <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this" id="ref-for-this①">this</a> <a data-link-type="dfn" href="#navigation-has-entries-and-events-disabled" id="ref-for-navigation-has-entries-and-events-disabled②">has entries and events disabled</a>, then return the empty list.</p>
     <li data-md>
      <p>Return <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this" id="ref-for-this②">this</a>'s <a data-link-type="dfn" href="#navigation-entry-list" id="ref-for-navigation-entry-list①①">entries list</a>.</p>
    </ol>
   </div>
   <div class="algorithm" data-algorithm="canGoBack" data-algorithm-for="Navigation">
     The <dfn class="dfn-paneled idl-code" data-dfn-for="Navigation" data-dfn-type="attribute" data-export id="dom-navigation-cangoback"><code>canGoBack</code></dfn> getter steps are: 
    <ol>
     <li data-md>
      <p>If <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this" id="ref-for-this③">this</a> <a data-link-type="dfn" href="#navigation-has-entries-and-events-disabled" id="ref-for-navigation-has-entries-and-events-disabled③">has entries and events disabled</a>, then return false.</p>
     <li data-md>
      <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#assert" id="ref-for-assert⑥">Assert</a>: <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this" id="ref-for-this④">this</a>'s <a data-link-type="dfn" href="#navigation-current-entry-index" id="ref-for-navigation-current-entry-index⑧">current entry index</a> is not −1.</p>
     <li data-md>
      <p>If <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this" id="ref-for-this⑤">this</a>'s <a data-link-type="dfn" href="#navigation-current-entry-index" id="ref-for-navigation-current-entry-index⑨">current entry index</a> is 0, then return false.</p>
     <li data-md>
      <p>Return true.</p>
    </ol>
   </div>
   <div class="algorithm" data-algorithm="canGoForward" data-algorithm-for="Navigation">
     The <dfn class="dfn-paneled idl-code" data-dfn-for="Navigation" data-dfn-type="attribute" data-export id="dom-navigation-cangoforward"><code>canGoForward</code></dfn> getter steps are: 
    <ol>
     <li data-md>
      <p>If <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this" id="ref-for-this⑥">this</a> <a data-link-type="dfn" href="#navigation-has-entries-and-events-disabled" id="ref-for-navigation-has-entries-and-events-disabled④">has entries and events disabled</a>, then return false.</p>
     <li data-md>
      <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#assert" id="ref-for-assert⑦">Assert</a>: <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this" id="ref-for-this⑦">this</a>'s <a data-link-type="dfn" href="#navigation-current-entry-index" id="ref-for-navigation-current-entry-index①⓪">current entry index</a> is not −1.</p>
     <li data-md>
      <p>If <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this" id="ref-for-this⑧">this</a>'s <a data-link-type="dfn" href="#navigation-current-entry-index" id="ref-for-navigation-current-entry-index①①">current entry index</a> is equal to <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this" id="ref-for-this⑨">this</a>'s <a data-link-type="dfn" href="#navigation-entry-list" id="ref-for-navigation-entry-list①②">entry list</a>'s <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-size" id="ref-for-list-size①">size</a> − 1, then return false.</p>
     <li data-md>
      <p>Return true.</p>
    </ol>
   </div>
   <h3 class="heading settled" data-level="1.2" id="current-entry"><span class="secno">1.2. </span><span class="content">The current entry</span><a class="self-link" href="#current-entry"></a></h3>
<pre class="idl highlight def">[<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Exposed" id="ref-for-Exposed①"><c- g>Exposed</c-></a>=<c- n>Window</c->]
<c- b>interface</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="interface" data-export id="navigationcurrententrychangeevent"><code><c- g>NavigationCurrentEntryChangeEvent</c-></code></dfn> : <a data-link-type="idl-name" href="https://dom.spec.whatwg.org/#event" id="ref-for-event"><c- n>Event</c-></a> {
  <dfn class="idl-code" data-dfn-for="NavigationCurrentEntryChangeEvent" data-dfn-type="constructor" data-export data-lt="NavigationCurrentEntryChangeEvent(type, eventInit)|constructor(type, eventInit)" id="dom-navigationcurrententrychangeevent-navigationcurrententrychangeevent"><code><c- g>constructor</c-></code><a class="self-link" href="#dom-navigationcurrententrychangeevent-navigationcurrententrychangeevent"></a></dfn>(<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString" id="ref-for-idl-DOMString①"><c- b>DOMString</c-></a> <dfn class="idl-code" data-dfn-for="NavigationCurrentEntryChangeEvent/NavigationCurrentEntryChangeEvent(type, eventInit), NavigationCurrentEntryChangeEvent/constructor(type, eventInit)" data-dfn-type="argument" data-export id="dom-navigationcurrententrychangeevent-navigationcurrententrychangeevent-type-eventinit-type"><code><c- g>type</c-></code><a class="self-link" href="#dom-navigationcurrententrychangeevent-navigationcurrententrychangeevent-type-eventinit-type"></a></dfn>, <a data-link-type="idl-name" href="#dictdef-navigationcurrententrychangeeventinit" id="ref-for-dictdef-navigationcurrententrychangeeventinit"><c- n>NavigationCurrentEntryChangeEventInit</c-></a> <dfn class="idl-code" data-dfn-for="NavigationCurrentEntryChangeEvent/NavigationCurrentEntryChangeEvent(type, eventInit), NavigationCurrentEntryChangeEvent/constructor(type, eventInit)" data-dfn-type="argument" data-export id="dom-navigationcurrententrychangeevent-navigationcurrententrychangeevent-type-eventinit-eventinit"><code><c- g>eventInit</c-></code><a class="self-link" href="#dom-navigationcurrententrychangeevent-navigationcurrententrychangeevent-type-eventinit-eventinit"></a></dfn>);

  <c- b>readonly</c-> <c- b>attribute</c-> <a data-link-type="idl-name" href="#enumdef-navigationtype" id="ref-for-enumdef-navigationtype①"><c- n>NavigationType</c-></a>? <dfn class="dfn-paneled idl-code" data-dfn-for="NavigationCurrentEntryChangeEvent" data-dfn-type="attribute" data-export data-readonly data-type="NavigationType?" id="dom-navigationcurrententrychangeevent-navigationtype"><code><c- g>navigationType</c-></code></dfn>;
  <c- b>readonly</c-> <c- b>attribute</c-> <a data-link-type="idl-name" href="#navigationhistoryentry" id="ref-for-navigationhistoryentry①④"><c- n>NavigationHistoryEntry</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="NavigationCurrentEntryChangeEvent" data-dfn-type="attribute" data-export data-readonly data-type="NavigationHistoryEntry" id="dom-navigationcurrententrychangeevent-from"><code><c- g>from</c-></code></dfn>;
};

<c- b>dictionary</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="dictionary" data-export id="dictdef-navigationcurrententrychangeeventinit"><code><c- g>NavigationCurrentEntryChangeEventInit</c-></code></dfn> : <a data-link-type="idl-name" href="https://dom.spec.whatwg.org/#dictdef-eventinit" id="ref-for-dictdef-eventinit"><c- n>EventInit</c-></a> {
  <a data-link-type="idl-name" href="#enumdef-navigationtype" id="ref-for-enumdef-navigationtype②"><c- n>NavigationType</c-></a>? <dfn class="idl-code" data-default="null" data-dfn-for="NavigationCurrentEntryChangeEventInit" data-dfn-type="dict-member" data-export data-type="NavigationType? " id="dom-navigationcurrententrychangeeventinit-navigationtype"><code><c- g>navigationType</c-></code><a class="self-link" href="#dom-navigationcurrententrychangeeventinit-navigationtype"></a></dfn> = <c- b>null</c->;
  <c- b>required</c-> <a data-link-type="idl-name" href="#navigationhistoryentry" id="ref-for-navigationhistoryentry①⑤"><c- n>NavigationHistoryEntry</c-></a> <dfn class="idl-code" data-dfn-for="NavigationCurrentEntryChangeEventInit" data-dfn-type="dict-member" data-export data-type="NavigationHistoryEntry " id="dom-navigationcurrententrychangeeventinit-destination"><code><c- g>destination</c-></code><a class="self-link" href="#dom-navigationcurrententrychangeeventinit-destination"></a></dfn>;
};
</pre>
   <dl class="domintro non-normative">
    <dt><code><code class="idl"><a data-link-type="idl" href="#dom-window-navigation" id="ref-for-dom-window-navigation④">navigation</a></code>.<code class="idl"><a data-link-type="idl" href="#dom-navigation-currententry" id="ref-for-dom-navigation-currententry②">currentEntry</a></code></code> 
    <dd>
     <p>The current <code class="idl"><a data-link-type="idl" href="#navigationhistoryentry" id="ref-for-navigationhistoryentry①⑥">NavigationHistoryEntry</a></code>. </p>
    <dt><code><code class="idl"><a data-link-type="idl" href="#dom-window-navigation" id="ref-for-dom-window-navigation⑤">navigation</a></code>.<code class="idl"><a data-link-type="idl" href="#dom-navigation-updatecurrententry" id="ref-for-dom-navigation-updatecurrententry①">updateCurrentEntry</a></code>({ <code class="idl"><a data-link-type="idl" href="#dom-navigationupdatecurrententryoptions-state" id="ref-for-dom-navigationupdatecurrententryoptions-state">state</a></code> })</code> 
    <dd>
     <p>Update the <a data-link-type="dfn" href="#session-history-entry-navigation-api-state" id="ref-for-session-history-entry-navigation-api-state">navigation API state</a> of the current <code class="idl"><a data-link-type="idl" href="#navigationhistoryentry" id="ref-for-navigationhistoryentry①⑦">NavigationHistoryEntry</a></code>, without performing a navigation like <code class="idl"><a data-link-type="idl" href="#dom-navigation-reload" id="ref-for-dom-navigation-reload①">navigation.reload()</a></code> would do. </p>
     <p>This method is best used to capture updates to the page that have already happened, and need to be reflected into the navigation API state. For cases where the state update is meant to drive a page update, instead use <code class="idl"><a data-link-type="idl" href="#dom-navigation-navigate" id="ref-for-dom-navigation-navigate①">navigation.navigate()</a></code> or <code class="idl"><a data-link-type="idl" href="#dom-navigation-reload" id="ref-for-dom-navigation-reload②">navigation.reload()</a></code>. </p>
   </dl>
   <div class="algorithm" data-algorithm="current entry" data-algorithm-for="Navigation">
     The <dfn class="dfn-paneled" data-dfn-for="Navigation" data-dfn-type="dfn" data-noexport id="navigation-current-entry">current entry</dfn> for a <code class="idl"><a data-link-type="idl" href="#navigation" id="ref-for-navigation①①">Navigation</a></code> <var>navigation</var> is the result running of the following algorithm: 
    <ol>
     <li data-md>
      <p>If <var>navigation</var> <a data-link-type="dfn" href="#navigation-has-entries-and-events-disabled" id="ref-for-navigation-has-entries-and-events-disabled⑤">has entries and events disabled</a>, then return null.</p>
     <li data-md>
      <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#assert" id="ref-for-assert⑧">Assert</a>: <var>navigation</var>’s <a data-link-type="dfn" href="#navigation-current-entry-index" id="ref-for-navigation-current-entry-index①②">current entry index</a> is not −1.</p>
     <li data-md>
      <p>Return <var>navigation</var>’s <a data-link-type="dfn" href="#navigation-entry-list" id="ref-for-navigation-entry-list①③">entry list</a>[<var>navigation</var>’s <a data-link-type="dfn" href="#navigation-current-entry-index" id="ref-for-navigation-current-entry-index①③">current entry index</a>].</p>
    </ol>
   </div>
   <p class="algorithm" data-algorithm="currentEntry" data-algorithm-for="Navigation"> The <dfn class="dfn-paneled idl-code" data-dfn-for="Navigation" data-dfn-type="attribute" data-export id="dom-navigation-currententry"><code>currentEntry</code></dfn> getter steps are to return the <a data-link-type="dfn" href="#navigation-current-entry" id="ref-for-navigation-current-entry③">current entry</a> for <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this" id="ref-for-this①⓪">this</a>. </p>
   <div class="algorithm" data-algorithm="updateCurrentEntry(options)" data-algorithm-for="Navigation">
     The <dfn class="dfn-paneled idl-code" data-dfn-for="Navigation" data-dfn-type="method" data-export id="dom-navigation-updatecurrententry"><code>updateCurrentEntry(<var>options</var>)</code></dfn> method steps are: 
    <ol>
     <li data-md>
      <p>Let <var>current</var> be the <a data-link-type="dfn" href="#navigation-current-entry" id="ref-for-navigation-current-entry④">current entry</a> for <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this" id="ref-for-this①①">this</a>.</p>
     <li data-md>
      <p>If <var>current</var> is null, then throw an "<code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#invalidstateerror" id="ref-for-invalidstateerror">InvalidStateError</a></code>" <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-DOMException" id="ref-for-idl-DOMException">DOMException</a></code>.</p>
     <li data-md>
      <p>Let <var>serializedState</var> be <a data-link-type="abstract-op" href="https://html.spec.whatwg.org/multipage/structured-data.html#structuredserializeforstorage" id="ref-for-structuredserializeforstorage">StructuredSerializeForStorage</a>(<var>options</var>["<code class="idl"><a data-link-type="idl" href="#dom-navigationupdatecurrententryoptions-state" id="ref-for-dom-navigationupdatecurrententryoptions-state①">state</a></code>"]), rethrowing any exceptions.</p>
     <li data-md>
      <p>Set <var>current</var>’s <a data-link-type="dfn" href="#navigationhistoryentry-session-history-entry" id="ref-for-navigationhistoryentry-session-history-entry⑥">session history entry</a>'s <a data-link-type="dfn" href="#session-history-entry-navigation-api-state" id="ref-for-session-history-entry-navigation-api-state①">navigation API state</a> to <var>serializedState</var>.</p>
     <li data-md>
      <p><a data-link-type="dfn" href="https://dom.spec.whatwg.org/#concept-event-fire" id="ref-for-concept-event-fire③">Fire an event</a> named <code class="idl"><a data-link-type="idl" href="#eventdef-navigation-currententrychange" id="ref-for-eventdef-navigation-currententrychange②">currententrychange</a></code> at <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this" id="ref-for-this①②">this</a> using <code class="idl"><a data-link-type="idl" href="#navigationcurrententrychangeevent" id="ref-for-navigationcurrententrychangeevent①">NavigationCurrentEntryChangeEvent</a></code>, with its <code class="idl"><a data-link-type="idl" href="#dom-navigationcurrententrychangeevent-navigationtype" id="ref-for-dom-navigationcurrententrychangeevent-navigationtype①">navigationType</a></code> attribute initialized to null and its <code class="idl"><a data-link-type="idl" href="#dom-navigationcurrententrychangeevent-from" id="ref-for-dom-navigationcurrententrychangeevent-from①">from</a></code> initialized to <var>current</var>.</p>
    </ol>
   </div>
   <h3 class="heading settled" data-level="1.3" id="ongoing-state"><span class="secno">1.3. </span><span class="content">Ongoing navigation tracking</span><a class="self-link" href="#ongoing-state"></a></h3>
<pre class="idl highlight def">[<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Exposed" id="ref-for-Exposed②"><c- g>Exposed</c-></a>=<c- n>Window</c->]
<c- b>interface</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="interface" data-export id="navigationtransition"><code><c- g>NavigationTransition</c-></code></dfn> {
  <c- b>readonly</c-> <c- b>attribute</c-> <a data-link-type="idl-name" href="#enumdef-navigationtype" id="ref-for-enumdef-navigationtype③"><c- n>NavigationType</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="NavigationType" href="#dom-navigationtransition-navigationtype" id="ref-for-dom-navigationtransition-navigationtype"><c- g>navigationType</c-></a>;
  <c- b>readonly</c-> <c- b>attribute</c-> <a data-link-type="idl-name" href="#navigationhistoryentry" id="ref-for-navigationhistoryentry①⑧"><c- n>NavigationHistoryEntry</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="NavigationHistoryEntry" href="#dom-navigationtransition-from" id="ref-for-dom-navigationtransition-from"><c- g>from</c-></a>;
  <c- b>readonly</c-> <c- b>attribute</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise" id="ref-for-idl-promise②"><c- b>Promise</c-></a>&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-undefined" id="ref-for-idl-undefined①"><c- b>undefined</c-></a>> <a class="idl-code" data-link-type="attribute" data-readonly data-type="Promise<undefined>" href="#dom-navigationtransition-finished" id="ref-for-dom-navigationtransition-finished"><c- g>finished</c-></a>;
};
</pre>
   <dl class="domintro">
    <dt><code><code class="idl"><a data-link-type="idl" href="#dom-window-navigation" id="ref-for-dom-window-navigation⑥">navigation</a></code>.<code class="idl"><a data-link-type="idl" href="#dom-navigation-transition" id="ref-for-dom-navigation-transition①">transition</a></code></code> 
    <dd>
     <p>A <code class="idl"><a data-link-type="idl" href="#navigationtransition" id="ref-for-navigationtransition①">NavigationTransition</a></code> object representing any ongoing navigation that hasn’t yet reached the <code class="idl"><a data-link-type="idl" href="#eventdef-navigation-navigatesuccess" id="ref-for-eventdef-navigation-navigatesuccess">navigatesuccess</a></code> or <code class="idl"><a data-link-type="idl" href="#eventdef-navigation-navigateerror" id="ref-for-eventdef-navigation-navigateerror">navigateerror</a></code> stage, if one exists, or null if there is no such transition ongoing. </p>
     <p>Since <code class="idl"><a data-link-type="idl" href="#dom-navigation-currententry" id="ref-for-dom-navigation-currententry③">navigation.currentEntry</a></code> (and other properties like <code class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/nav-history-apis.html#dom-location-href" id="ref-for-dom-location-href">location.href</a></code>) are updated immediately upon navigation, this <code class="idl"><a data-link-type="idl" href="#dom-navigation-transition" id="ref-for-dom-navigation-transition②">navigation.transition</a></code> property is useful for determining when such navigations are not yet fully settled, according to any handlers passed to <code class="idl"><a data-link-type="idl" href="#dom-navigateevent-intercept" id="ref-for-dom-navigateevent-intercept">event.intercept()</a></code>. </p>
    <dt><code><code class="idl"><a data-link-type="idl" href="#dom-window-navigation" id="ref-for-dom-window-navigation⑦">navigation</a></code>.<code class="idl"><a data-link-type="idl" href="#dom-navigation-transition" id="ref-for-dom-navigation-transition③">transition</a></code>.<code class="idl"><a data-link-type="idl" href="#dom-navigationtransition-navigationtype" id="ref-for-dom-navigationtransition-navigationtype①">navigationType</a></code></code>
    <dd>
     <p>One of "<code class="idl"><a data-link-type="idl" href="#dom-navigationtype-reload" id="ref-for-dom-navigationtype-reload">reload</a></code>", "<code class="idl"><a data-link-type="idl" href="#dom-navigationtype-push" id="ref-for-dom-navigationtype-push②">push</a></code>", "<code class="idl"><a data-link-type="idl" href="#dom-navigationtype-replace" id="ref-for-dom-navigationtype-replace②">replace</a></code>", or "<code class="idl"><a data-link-type="idl" href="#dom-navigationtype-traverse" id="ref-for-dom-navigationtype-traverse①">traverse</a></code>", indicating what type of navigation this transition is for. </p>
    <dt><code><code class="idl"><a data-link-type="idl" href="#dom-window-navigation" id="ref-for-dom-window-navigation⑧">navigation</a></code>.<code class="idl"><a data-link-type="idl" href="#dom-navigation-transition" id="ref-for-dom-navigation-transition④">transition</a></code>.<code class="idl"><a data-link-type="idl" href="#dom-navigationtransition-from" id="ref-for-dom-navigationtransition-from①">from</a></code></code>
    <dd>
     <p>The <code class="idl"><a data-link-type="idl" href="#navigationhistoryentry" id="ref-for-navigationhistoryentry①⑨">NavigationHistoryEntry</a></code> from which the transition is coming. This can be useful to compare against <code class="idl"><a data-link-type="idl" href="#dom-navigation-currententry" id="ref-for-dom-navigation-currententry④">navigation.currentEntry</a></code>. </p>
    <dt><code><code class="idl"><a data-link-type="idl" href="#dom-window-navigation" id="ref-for-dom-window-navigation⑨">navigation</a></code>.<code class="idl"><a data-link-type="idl" href="#dom-navigation-transition" id="ref-for-dom-navigation-transition⑤">transition</a></code>.<code class="idl"><a data-link-type="idl" href="#dom-navigationtransition-finished" id="ref-for-dom-navigationtransition-finished①">finished</a></code></code>
    <dd>
     <p>A promise which fulfills at the same time the <code class="idl"><a data-link-type="idl" href="#eventdef-navigation-navigatesuccess" id="ref-for-eventdef-navigation-navigatesuccess①">navigatesuccess</a></code> event fires, or rejects at the same time the <code class="idl"><a data-link-type="idl" href="#eventdef-navigation-navigateerror" id="ref-for-eventdef-navigation-navigateerror①">navigateerror</a></code> fires. </p>
   </dl>
   <p>A <code class="idl"><a data-link-type="idl" href="#navigation" id="ref-for-navigation①②">Navigation</a></code> has a <dfn class="dfn-paneled" data-dfn-for="Navigation" data-dfn-type="dfn" data-noexport id="navigation-transition">transition</dfn>, which is a <code class="idl"><a data-link-type="idl" href="#navigationtransition" id="ref-for-navigationtransition②">NavigationTransition</a></code> or null.</p>
   <p>The <dfn class="dfn-paneled idl-code" data-dfn-for="Navigation" data-dfn-type="attribute" data-export id="dom-navigation-transition"><code>transition</code></dfn> getter steps are to return <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this" id="ref-for-this①③">this</a>'s <a data-link-type="dfn" href="#navigation-transition" id="ref-for-navigation-transition">transition</a>.</p>
   <hr>
   <p>A <code class="idl"><a data-link-type="idl" href="#navigationtransition" id="ref-for-navigationtransition③">NavigationTransition</a></code> has an associated <dfn class="dfn-paneled" data-dfn-for="NavigationTransition" data-dfn-type="dfn" data-noexport id="navigationtransition-navigation-type">navigation type</dfn>, which is a <code class="idl"><a data-link-type="idl" href="#enumdef-navigationtype" id="ref-for-enumdef-navigationtype④">NavigationType</a></code>.</p>
   <p>A <code class="idl"><a data-link-type="idl" href="#navigationtransition" id="ref-for-navigationtransition④">NavigationTransition</a></code> has an associated <dfn class="dfn-paneled" data-dfn-for="NavigationTransition" data-dfn-type="dfn" data-noexport id="navigationtransition-from-entry">from entry</dfn>, which is a <code class="idl"><a data-link-type="idl" href="#navigationhistoryentry" id="ref-for-navigationhistoryentry②⓪">NavigationHistoryEntry</a></code>.</p>
   <p>A <code class="idl"><a data-link-type="idl" href="#navigationtransition" id="ref-for-navigationtransition⑤">NavigationTransition</a></code> has an associated <dfn class="dfn-paneled" data-dfn-for="NavigationTransition" data-dfn-type="dfn" data-noexport id="navigationtransition-finished-promise">finished promise</dfn>, which is an <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-promise" id="ref-for-idl-promise③">Promise</a></code>.</p>
   <p>The <dfn class="dfn-paneled idl-code" data-dfn-for="NavigationTransition" data-dfn-type="attribute" data-export id="dom-navigationtransition-navigationtype"><code>navigationType</code></dfn> getter steps are to return <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this" id="ref-for-this①④">this</a>'s <a data-link-type="dfn" href="#navigationtransition-navigation-type" id="ref-for-navigationtransition-navigation-type">navigation type</a>.</p>
   <p>The <dfn class="dfn-paneled idl-code" data-dfn-for="NavigationTransition" data-dfn-type="attribute" data-export id="dom-navigationtransition-from"><code>from</code></dfn> getter steps are to return <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this" id="ref-for-this①⑤">this</a>'s <a data-link-type="dfn" href="#navigationtransition-from-entry" id="ref-for-navigationtransition-from-entry">from entry</a>.</p>
   <p>The <dfn class="dfn-paneled idl-code" data-dfn-for="NavigationTransition" data-dfn-type="attribute" data-export id="dom-navigationtransition-finished"><code>finished</code></dfn> getter steps are to return <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this" id="ref-for-this①⑥">this</a>'s <a data-link-type="dfn" href="#navigationtransition-finished-promise" id="ref-for-navigationtransition-finished-promise">finished promise</a>.</p>
   <hr>
   <p>During any given navigation, the <code class="idl"><a data-link-type="idl" href="#navigation" id="ref-for-navigation①③">Navigation</a></code> object needs to keep track of the following:</p>
   <table class="data">
    <caption>For all navigations </caption>
    <thead>
     <tr>
      <th>State 
      <th>Duration 
      <th>Explanation 
    <tbody>
     <tr>
      <td>The <code class="idl"><a data-link-type="idl" href="#navigateevent" id="ref-for-navigateevent">NavigateEvent</a></code> 
      <td>For the duration of event firing 
      <td>So that if the navigation is canceled while the event is firing, we can <a data-link-type="dfn" href="https://dom.spec.whatwg.org/#canceled-flag" id="ref-for-canceled-flag">cancel</a> the event. 
     <tr>
      <td>The event’s <code class="idl"><a data-link-type="idl" href="#dom-navigateevent-signal" id="ref-for-dom-navigateevent-signal">signal</a></code> 
      <td>Until all promises returned from handlers passed to <code class="idl"><a data-link-type="idl" href="#dom-navigateevent-intercept" id="ref-for-dom-navigateevent-intercept①">intercept()</a></code> have settled 
      <td>So that if the navigation is canceled, we can <a data-link-type="dfn" href="https://dom.spec.whatwg.org/#abortsignal-signal-abort" id="ref-for-abortsignal-signal-abort">signal abort</a>. 
     <tr>
      <td>Whether a new element was <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/interaction.html#focusing-steps" id="ref-for-focusing-steps">focused</a> 
      <td>Until all promises returned from handlers passed to <code class="idl"><a data-link-type="idl" href="#dom-navigateevent-intercept" id="ref-for-dom-navigateevent-intercept②">intercept()</a></code> have settled 
      <td>So that if one was, focus is not <a data-link-type="dfn" href="#potentially-reset-the-focus" id="ref-for-potentially-reset-the-focus">reset</a> 
     <tr>
      <td>The <code class="idl"><a data-link-type="idl" href="#navigationhistoryentry" id="ref-for-navigationhistoryentry②①">NavigationHistoryEntry</a></code> being navigated to 
      <td>From when it is determined, until all promises returned from handlers passed to <code class="idl"><a data-link-type="idl" href="#dom-navigateevent-intercept" id="ref-for-dom-navigateevent-intercept③">intercept()</a></code> have settled 
      <td>So that we know what to <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#resolve" id="ref-for-resolve">resolve</a> any <code class="idl"><a data-link-type="idl" href="#dom-navigationresult-committed" id="ref-for-dom-navigationresult-committed">committed</a></code> and <code class="idl"><a data-link-type="idl" href="#dom-navigationresult-finished" id="ref-for-dom-navigationresult-finished">finished</a></code> promises with. 
     <tr>
      <td>Any <code class="idl"><a data-link-type="idl" href="#dom-navigationresult-finished" id="ref-for-dom-navigationresult-finished①">finished</a></code> <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-promise" id="ref-for-idl-promise④">Promise</a></code> that was returned 
      <td>Until all promises returned from handlers passed to <code class="idl"><a data-link-type="idl" href="#dom-navigateevent-intercept" id="ref-for-dom-navigateevent-intercept④">intercept()</a></code> have settled 
      <td>So that we can <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#resolve" id="ref-for-resolve①">resolve</a> or <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#reject" id="ref-for-reject">reject</a> it appropriately. 
   </table>
   <table class="data">
    <caption>For non-"<code class="idl"><a data-link-type="idl" href="#dom-navigationtype-traverse" id="ref-for-dom-navigationtype-traverse②">traverse</a></code>" navigations </caption>
    <thead>
     <tr>
      <th>State 
      <th>Duration 
      <th>Explanation 
    <tbody>
     <tr>
      <td>Any <code class="idl"><a data-link-type="idl" href="#dom-navigationnavigateoptions-state" id="ref-for-dom-navigationnavigateoptions-state">state</a></code> 
      <td>For the duration of event firing 
      <td>So that we can update the current entry’s state after the event successfully finishes firing without being canceled. 
   </table>
   <table class="data">
    <caption>For "<code class="idl"><a data-link-type="idl" href="#dom-navigationtype-traverse" id="ref-for-dom-navigationtype-traverse③">traverse</a></code>" navigations </caption>
    <thead>
     <tr>
      <th>State 
      <th>Duration 
      <th>Explanation 
    <tbody>
     <tr>
      <td>Any <code class="idl"><a data-link-type="idl" href="#dom-navigationoptions-info" id="ref-for-dom-navigationoptions-info">info</a></code> 
      <td>Until the task is queued to fire the <code class="idl"><a data-link-type="idl" href="#eventdef-navigation-navigate" id="ref-for-eventdef-navigation-navigate">navigate</a></code> event 
      <td>So that we can use it to fire the <code class="idl"><a data-link-type="idl" href="#eventdef-navigation-navigate" id="ref-for-eventdef-navigation-navigate①">navigate</a></code> event after the the trip through the <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/document-sequences.html#tn-session-history-traversal-queue" id="ref-for-tn-session-history-traversal-queue">session history traversal queue</a>. 
     <tr>
      <td>Any <code class="idl"><a data-link-type="idl" href="#dom-navigationresult-committed" id="ref-for-dom-navigationresult-committed①">committed</a></code> <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-promise" id="ref-for-idl-promise⑤">Promise</a></code> that was returned 
      <td>Until the session history is updated (inside that same task) 
      <td>So that we can <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#resolve" id="ref-for-resolve②">resolve</a> or <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#reject" id="ref-for-reject①">reject</a> it appropriately. 
     <tr>
      <td>Whether <code class="idl"><a data-link-type="idl" href="#dom-navigateevent-intercept" id="ref-for-dom-navigateevent-intercept⑤">intercept()</a></code> was called 
      <td>Until the session history is updated (inside that same task) 
      <td>So that we can suppress the normal scroll restoration logic in favor of the chosen <code class="idl"><a data-link-type="idl" href="#dom-navigationinterceptoptions-scroll" id="ref-for-dom-navigationinterceptoptions-scroll">scroll</a></code> option value. 
   </table>
   <p>Furthermore, we need to account for the fact that there might be multiple traversals queued up, e.g. via</p>
<pre class="highlight"><c- a>const</c-> key1 <c- o>=</c-> navigation<c- p>.</c->entries<c- p>()[</c->navigation<c- p>.</c->currentEntry<c- p>.</c->index <c- o>-</c-> <c- mf>1</c-><c- p>].</c->key<c- p>;</c->
<c- a>const</c-> key2 <c- o>=</c-> navigation<c- p>.</c->entries<c- p>()[</c->navigation<c- p>.</c->currentEntry<c- p>.</c->index <c- o>+</c-> <c- mf>1</c-><c- p>].</c->key<c- p>;</c->

navigation<c- p>.</c->traverseTo<c- p>(</c->key1<c- p>);</c-> <c- c1>// intentionally no await</c->
navigation<c- p>.</c->traverseTo<c- p>(</c->key2<c- p>);</c->
</pre>
   <p>And, while non-traversal navigations cannot be queued in the same way since a new non-traversal navigation cancels an old one, we need to keep some state around so that we can properly cancel the old one. That is, given</p>
<pre class="highlight"><c- a>const</c-> p1 <c- o>=</c-> navigation<c- p>.</c->navigate<c- p>(</c->url1<c- p>).</c->finished<c- p>;</c->
<c- a>const</c-> p2 <c- o>=</c-> navigation<c- p>.</c->navigate<c- p>(</c->url2<c- p>).</c->finished<c- p>;</c->
</pre>
   <p>we need to ensure that when navigating to <code>url2</code>, we still have the <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-promise" id="ref-for-idl-promise⑥">Promise</a></code> <code>p1</code> around so that we can reject it. We can’t just get rid of any ongoing navigation promises the moment the second call to <code class="idl"><a data-link-type="idl" href="#dom-navigation-navigate" id="ref-for-dom-navigation-navigate②">navigate()</a></code> happens.</p>
   <p>We also need to ensure that, if we start a new navigation, navigations which have gotten as far as firing <code class="idl"><a data-link-type="idl" href="#eventdef-navigation-navigate" id="ref-for-eventdef-navigation-navigate②">navigate</a></code> events, but not yet as far as firing <code class="idl"><a data-link-type="idl" href="#eventdef-navigation-navigatesuccess" id="ref-for-eventdef-navigation-navigatesuccess②">navigatesuccess</a></code> or <code class="idl"><a data-link-type="idl" href="#eventdef-navigation-navigateerror" id="ref-for-eventdef-navigation-navigateerror②">navigateerror</a></code>, get <a data-link-type="dfn" href="#finalize-with-an-aborted-navigation-error" id="ref-for-finalize-with-an-aborted-navigation-error">finalized with an aborted navigation error</a>.</p>
   <p>We end up accomplishing all this using the following setup:</p>
   <p>Each <code class="idl"><a data-link-type="idl" href="#navigation" id="ref-for-navigation①④">Navigation</a></code> object has an associated <dfn class="dfn-paneled" data-dfn-for="Navigation" data-dfn-type="dfn" data-noexport id="navigation-ongoing-navigate-event">ongoing navigate event</dfn>, a <code class="idl"><a data-link-type="idl" href="#navigateevent" id="ref-for-navigateevent①">NavigateEvent</a></code> or null, initially null.</p>
   <p>Each <code class="idl"><a data-link-type="idl" href="#navigation" id="ref-for-navigation①⑤">Navigation</a></code> object has an associated <dfn class="dfn-paneled" data-dfn-for="Navigation" data-dfn-type="dfn" data-noexport id="navigation-ongoing-navigation-signal">ongoing navigation signal</dfn>, which is an <code class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#abortsignal" id="ref-for-abortsignal">AbortSignal</a></code> or null, initially null.</p>
   <p>Each <code class="idl"><a data-link-type="idl" href="#navigation" id="ref-for-navigation①⑥">Navigation</a></code> object has an associated <dfn class="dfn-paneled" data-dfn-for="Navigation" data-dfn-type="dfn" data-noexport id="navigation-focus-changed-during-ongoing-navigation">focus changed during ongoing navigation</dfn>, which is a boolean, initially false.</p>
   <p>Each <code class="idl"><a data-link-type="idl" href="#navigation" id="ref-for-navigation①⑦">Navigation</a></code> object has an associated <dfn class="dfn-paneled" data-dfn-for="Navigation" data-dfn-type="dfn" data-noexport id="navigation-suppress-normal-scroll-restoration-during-ongoing-navigation">suppress normal scroll restoration during ongoing navigation</dfn>, which is a boolean, initially false.</p>
   <p>Each <code class="idl"><a data-link-type="idl" href="#navigation" id="ref-for-navigation①⑧">Navigation</a></code> object has an associated <dfn class="dfn-paneled" data-dfn-for="Navigation" data-dfn-type="dfn" data-noexport id="navigation-ongoing-navigation">ongoing navigation</dfn>, which is a <a data-link-type="dfn" href="#navigation-api-method-navigation" id="ref-for-navigation-api-method-navigation">navigation API method navigation</a> or null, initially null.</p>
   <p>Each <code class="idl"><a data-link-type="idl" href="#navigation" id="ref-for-navigation①⑨">Navigation</a></code> object has an associated <dfn class="dfn-paneled" data-dfn-for="Navigation" data-dfn-type="dfn" data-noexport id="navigation-upcoming-non-traverse-navigation">upcoming non-traverse navigation</dfn>, which is a <a data-link-type="dfn" href="#navigation-api-method-navigation" id="ref-for-navigation-api-method-navigation①">navigation API method navigation</a> or null, initially null.</p>
   <p>Each <code class="idl"><a data-link-type="idl" href="#navigation" id="ref-for-navigation②⓪">Navigation</a></code> object has an associated <dfn class="dfn-paneled" data-dfn-for="Navigation" data-dfn-type="dfn" data-noexport id="navigation-upcoming-traverse-navigations">upcoming traverse navigations</dfn>, which is a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#ordered-map" id="ref-for-ordered-map">map</a> from strings to <a data-link-type="dfn" href="#navigation-api-method-navigation" id="ref-for-navigation-api-method-navigation②">navigation API method navigations</a>, initially empty.</p>
   <p>An <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="navigation-api-method-navigation">navigation API method navigation</dfn> is a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#struct" id="ref-for-struct">struct</a> with the following <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#struct-item" id="ref-for-struct-item">items</a>:</p>
   <ul>
    <li data-md>
     <p>An <dfn class="dfn-paneled" data-dfn-for="navigation API method navigation" data-dfn-type="dfn" data-noexport id="navigation-api-method-navigation-navigation-object">navigation object</dfn>, a <code class="idl"><a data-link-type="idl" href="#navigation" id="ref-for-navigation②①">Navigation</a></code></p>
    <li data-md>
     <p>A <dfn class="dfn-paneled" data-dfn-for="navigation API method navigation" data-dfn-type="dfn" data-noexport id="navigation-api-method-navigation-key">key</dfn>, a string or null</p>
    <li data-md>
     <p>An <dfn class="dfn-paneled" data-dfn-for="navigation API method navigation" data-dfn-type="dfn" data-noexport id="navigation-api-method-navigation-info">info</dfn>, a JavaScript value</p>
    <li data-md>
     <p>A <dfn class="dfn-paneled" data-dfn-for="navigation API method navigation" data-dfn-type="dfn" data-noexport id="navigation-api-method-navigation-serialized-state">serialized state</dfn>, a <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsing-the-web.html#serialized-state" id="ref-for-serialized-state">serialized state</a> or null</p>
    <li data-md>
     <p>A <dfn class="dfn-paneled" data-dfn-for="navigation API method navigation" data-dfn-type="dfn" data-noexport id="navigation-api-method-navigation-committed-to-entry">committed-to entry</dfn>, a <code class="idl"><a data-link-type="idl" href="#navigationhistoryentry" id="ref-for-navigationhistoryentry②②">NavigationHistoryEntry</a></code> or null</p>
    <li data-md>
     <p>A <dfn class="dfn-paneled" data-dfn-for="navigation API method navigation" data-dfn-type="dfn" data-noexport id="navigation-api-method-navigation-committed-promise">committed promise</dfn>, a <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-promise" id="ref-for-idl-promise⑦">Promise</a></code></p>
    <li data-md>
     <p>A <dfn class="dfn-paneled" data-dfn-for="navigation API method navigation" data-dfn-type="dfn" data-noexport id="navigation-api-method-navigation-finished-promise">finished promise</dfn>, a <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-promise" id="ref-for-idl-promise⑧">Promise</a></code></p>
   </ul>
   <p class="note" role="note">We need to store the <a data-link-type="dfn" href="#navigation-ongoing-navigation-signal" id="ref-for-navigation-ongoing-navigation-signal">ongoing navigation signal</a>, <a data-link-type="dfn" href="#navigation-focus-changed-during-ongoing-navigation" id="ref-for-navigation-focus-changed-during-ongoing-navigation">focus changed during ongoing navigation</a>, and <a data-link-type="dfn" href="#navigation-suppress-normal-scroll-restoration-during-ongoing-navigation" id="ref-for-navigation-suppress-normal-scroll-restoration-during-ongoing-navigation">suppress normal scroll restoration during ongoing navigation</a> separately from the <a data-link-type="dfn" href="#navigation-api-method-navigation" id="ref-for-navigation-api-method-navigation③">navigation API method navigation</a> struct, since it needs to be tracked even for navigations that are not via the navigation API. </p>
   <div class="algorithm" data-algorithm="set the upcoming non-traverse navigation" data-algorithm-for="Navigation">
     To <dfn class="dfn-paneled" data-dfn-for="Navigation" data-dfn-type="dfn" data-noexport id="navigation-set-the-upcoming-non-traverse-navigation">set the upcoming non-traverse navigation</dfn> given a <code class="idl"><a data-link-type="idl" href="#navigation" id="ref-for-navigation②②">Navigation</a></code> <var>navigation</var>, a JavaScript value <var>info</var>, and a <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsing-the-web.html#serialized-state" id="ref-for-serialized-state①">serialized state</a>-or-null <var>serializedState</var>: 
    <ol>
     <li data-md>
      <p>Let <var>committedPromise</var> and <var>finishedPromise</var> be <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#a-new-promise" id="ref-for-a-new-promise">new promises</a> created in <var>navigation</var>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-realm" id="ref-for-concept-relevant-realm③">relevant realm</a>.</p>
     <li data-md>
      <p><a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#mark-a-promise-as-handled" id="ref-for-mark-a-promise-as-handled">Mark as handled</a> <var>finishedPromise</var>.</p>
      <div class="note" id="note-finished-promise-mark-as-handled" role="note">
       <a class="self-link" href="#note-finished-promise-mark-as-handled"></a> The web developer doesn’t necessarily care about <var>finishedPromise</var> being rejected: 
       <ul>
        <li data-md>
         <p>They might only care about <var>committedPromise</var>.</p>
        <li data-md>
         <p>They could be doing multiple synchronous navigations within the same task, in which case all but the last will be aborted (causing their <var>finishedPromise</var> to reject). This could be an application bug, but also could just be an emergent feature of disparate parts of the application overriding each others' actions.</p>
        <li data-md>
         <p>They might prefer to listen to other transition-failure signals instead of <var>finishedPromise</var>, e.g., the <code class="idl"><a data-link-type="idl" href="#eventdef-navigation-navigateerror" id="ref-for-eventdef-navigation-navigateerror③">navigateerror</a></code> event, or the <code class="idl"><a data-link-type="idl" href="#dom-navigationtransition-finished" id="ref-for-dom-navigationtransition-finished②">navigation.transition.finished</a></code> promise.</p>
       </ul>
       <p>As such, we mark it as handled to ensure that it never triggers <code class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/indices.html#event-unhandledrejection" id="ref-for-event-unhandledrejection">unhandledrejection</a></code> events.</p>
      </div>
     <li data-md>
      <p>Let <var>ongoingNavigation</var> be a <a data-link-type="dfn" href="#navigation-api-method-navigation" id="ref-for-navigation-api-method-navigation④">navigation API method navigation</a> whose <a data-link-type="dfn" href="#navigation-api-method-navigation-navigation-object" id="ref-for-navigation-api-method-navigation-navigation-object">navigation object</a> is <var>navigation</var>, <a data-link-type="dfn" href="#navigation-api-method-navigation-key" id="ref-for-navigation-api-method-navigation-key">key</a> is null, <a data-link-type="dfn" href="#navigation-api-method-navigation-info" id="ref-for-navigation-api-method-navigation-info">info</a> is <var>info</var>, <a data-link-type="dfn" href="#navigation-api-method-navigation-serialized-state" id="ref-for-navigation-api-method-navigation-serialized-state">serialized state</a> is <var>serializedState</var>, <a data-link-type="dfn" href="#navigation-api-method-navigation-committed-to-entry" id="ref-for-navigation-api-method-navigation-committed-to-entry">committed-to entry</a> is null, <a data-link-type="dfn" href="#navigation-api-method-navigation-committed-promise" id="ref-for-navigation-api-method-navigation-committed-promise">committed promise</a> is <var>committedPromise</var>, and <a data-link-type="dfn" href="#navigation-api-method-navigation-finished-promise" id="ref-for-navigation-api-method-navigation-finished-promise">finished promise</a> is <var>finishedPromise</var>.</p>
     <li data-md>
      <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#assert" id="ref-for-assert⑨">Assert</a>: <var>navigation</var>’s <a data-link-type="dfn" href="#navigation-upcoming-non-traverse-navigation" id="ref-for-navigation-upcoming-non-traverse-navigation">upcoming non-traverse navigation</a> is null.</p>
     <li data-md>
      <p>Set <var>navigation</var>’s <a data-link-type="dfn" href="#navigation-upcoming-non-traverse-navigation" id="ref-for-navigation-upcoming-non-traverse-navigation①">upcoming non-traverse navigation</a> to <var>ongoingNavigation</var>.</p>
     <li data-md>
      <p>Return <var>ongoingNavigation</var>.</p>
    </ol>
   </div>
   <div class="algorithm" data-algorithm="set an upcoming traverse navigation" data-algorithm-for="Navigation">
     To <dfn class="dfn-paneled" data-dfn-for="Navigation" data-dfn-type="dfn" data-noexport id="navigation-set-an-upcoming-traverse-navigation">set an upcoming traverse navigation</dfn> given a <code class="idl"><a data-link-type="idl" href="#navigation" id="ref-for-navigation②③">Navigation</a></code> <var>navigation</var>, a string <var>key</var>, and a JavaScript value <var>info</var>: 
    <ol>
     <li data-md>
      <p>Let <var>committedPromise</var> and <var>finishedPromise</var> be <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#a-new-promise" id="ref-for-a-new-promise①">new promises</a> created in <var>navigation</var>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-realm" id="ref-for-concept-relevant-realm④">relevant realm</a>.</p>
     <li data-md>
      <p><a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#mark-a-promise-as-handled" id="ref-for-mark-a-promise-as-handled①">Mark as handled</a> <var>finishedPromise</var>.</p>
      <p class="note" role="note">See <a href="#note-finished-promise-mark-as-handled">the previous discussion</a> as to why this is done.</p>
     <li data-md>
      <p>Let <var>traversal</var> be a <a data-link-type="dfn" href="#navigation-api-method-navigation" id="ref-for-navigation-api-method-navigation⑤">navigation API method navigation</a> whose whose <a data-link-type="dfn" href="#navigation-api-method-navigation-navigation-object" id="ref-for-navigation-api-method-navigation-navigation-object①">navigation object</a> is <var>navigation</var>, <a data-link-type="dfn" href="#navigation-api-method-navigation-key" id="ref-for-navigation-api-method-navigation-key①">key</a> is <var>key</var>, <a data-link-type="dfn" href="#navigation-api-method-navigation-info" id="ref-for-navigation-api-method-navigation-info①">info</a> is <var>info</var>, <a data-link-type="dfn" href="#navigation-api-method-navigation-serialized-state" id="ref-for-navigation-api-method-navigation-serialized-state①">serialized state</a> is null, <a data-link-type="dfn" href="#navigation-api-method-navigation-committed-to-entry" id="ref-for-navigation-api-method-navigation-committed-to-entry①">committed-to entry</a> is null, <a data-link-type="dfn" href="#navigation-api-method-navigation-committed-promise" id="ref-for-navigation-api-method-navigation-committed-promise①">committed promise</a> is <var>committedPromise</var>, and <a data-link-type="dfn" href="#navigation-api-method-navigation-finished-promise" id="ref-for-navigation-api-method-navigation-finished-promise①">finished promise</a> is <var>finishedPromise</var>.</p>
     <li data-md>
      <p>Set <var>navigation</var>’s <a data-link-type="dfn" href="#navigation-upcoming-traverse-navigations" id="ref-for-navigation-upcoming-traverse-navigations">upcoming traverse navigations</a>[<var>key</var>]  to <var>traversal</var>.</p>
     <li data-md>
      <p>Return <var>traversal</var>.</p>
    </ol>
   </div>
   <div class="algorithm" data-algorithm="promote the upcoming navigation to ongoing" data-algorithm-for="Navigation">
     To <dfn class="dfn-paneled" data-dfn-for="Navigation" data-dfn-type="dfn" data-noexport id="navigation-promote-the-upcoming-navigation-to-ongoing">promote the upcoming navigation to ongoing</dfn> given a <code class="idl"><a data-link-type="idl" href="#navigation" id="ref-for-navigation②④">Navigation</a></code> <var>navigation</var> and a string-or-null <var>destinationKey</var>: 
    <ol>
     <li data-md>
      <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#assert" id="ref-for-assert①⓪">Assert</a>: <var>navigation</var>’s <a data-link-type="dfn" href="#navigation-ongoing-navigation" id="ref-for-navigation-ongoing-navigation③">ongoing navigation</a> is null.</p>
     <li data-md>
      <p>If <var>destinationKey</var> is not null, then:</p>
      <ol>
       <li data-md>
        <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#assert" id="ref-for-assert①①">Assert</a>: <var>navigation</var>’s <a data-link-type="dfn" href="#navigation-upcoming-non-traverse-navigation" id="ref-for-navigation-upcoming-non-traverse-navigation②">upcoming non-traverse navigation</a> is null.</p>
       <li data-md>
        <p>If <var>navigation</var>’s <a data-link-type="dfn" href="#navigation-upcoming-traverse-navigations" id="ref-for-navigation-upcoming-traverse-navigations①">upcoming traverse navigations</a>[<var>destinationKey</var>] <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-exists" id="ref-for-map-exists">exists</a>, then:</p>
        <ol>
         <li data-md>
          <p>Set <var>navigation</var>’s <a data-link-type="dfn" href="#navigation-ongoing-navigation" id="ref-for-navigation-ongoing-navigation④">ongoing navigation</a> to <var>navigation</var>’s <a data-link-type="dfn" href="#navigation-upcoming-traverse-navigations" id="ref-for-navigation-upcoming-traverse-navigations②">upcoming traverse navigations</a>[<var>destinationKey</var>].</p>
         <li data-md>
          <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-remove" id="ref-for-map-remove">Remove</a> <var>navigation</var>’s <a data-link-type="dfn" href="#navigation-upcoming-traverse-navigations" id="ref-for-navigation-upcoming-traverse-navigations③">upcoming traverse navigations</a>[<var>destinationKey</var>].</p>
        </ol>
      </ol>
     <li data-md>
      <p>Otherwise,</p>
      <ol>
       <li data-md>
        <p>Set <var>navigation</var>’s <a data-link-type="dfn" href="#navigation-ongoing-navigation" id="ref-for-navigation-ongoing-navigation⑤">ongoing navigation</a> to <var>navigation</var>’s <a data-link-type="dfn" href="#navigation-upcoming-non-traverse-navigation" id="ref-for-navigation-upcoming-non-traverse-navigation③">upcoming non-traverse navigation</a>.</p>
       <li data-md>
        <p>Set <var>navigation</var>’s <a data-link-type="dfn" href="#navigation-upcoming-non-traverse-navigation" id="ref-for-navigation-upcoming-non-traverse-navigation④">upcoming non-traverse navigation</a> to null.</p>
      </ol>
    </ol>
   </div>
   <div class="algorithm" data-algorithm="clean up" data-algorithm-for="navigation API method navigation">
     To <dfn class="dfn-paneled" data-dfn-for="navigation API method navigation" data-dfn-type="dfn" data-noexport id="navigation-api-method-navigation-clean-up">clean up</dfn> a <a data-link-type="dfn" href="#navigation-api-method-navigation" id="ref-for-navigation-api-method-navigation⑥">navigation API method navigation</a> <var>navigation</var>: 
    <ol>
     <li data-md>
      <p>Let <var>navigation</var> be <var>navigation</var>’s <a data-link-type="dfn" href="#navigation-api-method-navigation-navigation-object" id="ref-for-navigation-api-method-navigation-navigation-object②">navigation object</a>.</p>
     <li data-md>
      <p>If <var>navigation</var>’s <a data-link-type="dfn" href="#navigation-ongoing-navigation" id="ref-for-navigation-ongoing-navigation⑥">ongoing navigation</a> is <var>navigation</var>, then set <var>navigation</var>’s <a data-link-type="dfn" href="#navigation-ongoing-navigation" id="ref-for-navigation-ongoing-navigation⑦">ongoing navigation</a> to null.</p>
     <li data-md>
      <p>Otherwise,</p>
      <ol>
       <li data-md>
        <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#assert" id="ref-for-assert①②">Assert</a>: <var>navigation</var>’s <a data-link-type="dfn" href="#navigation-api-method-navigation-key" id="ref-for-navigation-api-method-navigation-key②">key</a> is not null.</p>
       <li data-md>
        <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#assert" id="ref-for-assert①③">Assert</a>: <var>navigation</var>’s <a data-link-type="dfn" href="#navigation-upcoming-traverse-navigations" id="ref-for-navigation-upcoming-traverse-navigations④">upcoming traverse navigations</a>[<var>navigation</var>’s <a data-link-type="dfn" href="#navigation-api-method-navigation-key" id="ref-for-navigation-api-method-navigation-key③">key</a>] <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-exists" id="ref-for-map-exists①">exists</a>.</p>
       <li data-md>
        <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-remove" id="ref-for-map-remove①">Remove</a> <var>navigation</var>’s <a data-link-type="dfn" href="#navigation-upcoming-traverse-navigations" id="ref-for-navigation-upcoming-traverse-navigations⑤">upcoming traverse navigations</a>[<var>navigation</var>’s <a data-link-type="dfn" href="#navigation-api-method-navigation-key" id="ref-for-navigation-api-method-navigation-key④">key</a>].</p>
      </ol>
    </ol>
   </div>
   <div class="algorithm" data-algorithm="notify about the committed-to entry" data-algorithm-for="navigation API method navigation">
     To <dfn class="dfn-paneled" data-dfn-for="navigation API method navigation" data-dfn-type="dfn" data-noexport id="navigation-api-method-navigation-notify-about-the-committed-to-entry">notify about the committed-to entry</dfn> given a <a data-link-type="dfn" href="#navigation-api-method-navigation" id="ref-for-navigation-api-method-navigation⑦">navigation API method navigation</a> <var>navigation</var> and a <code class="idl"><a data-link-type="idl" href="#navigationhistoryentry" id="ref-for-navigationhistoryentry②③">NavigationHistoryEntry</a></code> <var>entry</var>: 
    <ol>
     <li data-md>
      <p>Set <var>navigation</var>’s <a data-link-type="dfn" href="#navigation-api-method-navigation-committed-to-entry" id="ref-for-navigation-api-method-navigation-committed-to-entry②">committed-to entry</a> to <var>entry</var>.</p>
     <li data-md>
      <p>If <var>navigation</var>’s <a data-link-type="dfn" href="#navigation-api-method-navigation-serialized-state" id="ref-for-navigation-api-method-navigation-serialized-state②">serialized state</a> is not null, then set <var>entry</var>’s <a data-link-type="dfn" href="#navigationhistoryentry-session-history-entry" id="ref-for-navigationhistoryentry-session-history-entry⑦">session history entry</a>'s <a data-link-type="dfn" href="#session-history-entry-navigation-api-state" id="ref-for-session-history-entry-navigation-api-state②">navigation API state</a> to <var>navigation</var>’s <a data-link-type="dfn" href="#navigation-api-method-navigation-serialized-state" id="ref-for-navigation-api-method-navigation-serialized-state③">serialized state</a>.</p>
      <p class="note" role="note">If it’s null, then we’re traversing to <var>entry</var> via <code class="idl"><a data-link-type="idl" href="#dom-navigation-traverseto" id="ref-for-dom-navigation-traverseto①">traverseTo()</a></code>, which does not allow changing the state. </p>
      <p class="note" role="note">After this point, <var>navigation</var>’s <a data-link-type="dfn" href="#navigation-api-method-navigation-serialized-state" id="ref-for-navigation-api-method-navigation-serialized-state④">serialized state</a> is no longer needed. Implementations might want to clear it out to avoid keeping it alive for the lifetime of the <a data-link-type="dfn" href="#navigation-api-method-navigation" id="ref-for-navigation-api-method-navigation⑧">navigation API method navigation</a>. </p>
     <li data-md>
      <p><a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#resolve" id="ref-for-resolve③">Resolve</a> <var>navigation</var>’s <a data-link-type="dfn" href="#navigation-api-method-navigation-committed-promise" id="ref-for-navigation-api-method-navigation-committed-promise②">committed promise</a> with <var>entry</var>.</p>
      <p class="note" role="note">After this point, <var>navigation</var>’s <a data-link-type="dfn" href="#navigation-api-method-navigation-committed-promise" id="ref-for-navigation-api-method-navigation-committed-promise③">committed promise</a> is only needed in cases where it has not yet been returned to author code. Implementations might want to clear it out to avoid keeping it alive for the lifetime of the <a data-link-type="dfn" href="#navigation-api-method-navigation" id="ref-for-navigation-api-method-navigation⑨">navigation API method navigation</a>. </p>
    </ol>
   </div>
   <div class="algorithm" data-algorithm="resolve the finished promise" data-algorithm-for="navigation API method navigation">
     To <dfn class="dfn-paneled" data-dfn-for="navigation API method navigation" data-dfn-type="dfn" data-noexport id="navigation-api-method-navigation-resolve-the-finished-promise">resolve the finished promise</dfn> for a <a data-link-type="dfn" href="#navigation-api-method-navigation" id="ref-for-navigation-api-method-navigation①⓪">navigation API method navigation</a> <var>navigation</var>: 
    <ol>
     <li data-md>
      <p>If <var>navigation</var>’s <a data-link-type="dfn" href="#navigation-api-method-navigation-finished-promise" id="ref-for-navigation-api-method-navigation-finished-promise②">finished promise</a> is null, then return.</p>
     <li data-md>
      <p><a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#resolve" id="ref-for-resolve④">Resolve</a> <var>navigation</var>’s <a data-link-type="dfn" href="#navigation-api-method-navigation-finished-promise" id="ref-for-navigation-api-method-navigation-finished-promise③">finished promise</a> with its <a data-link-type="dfn" href="#navigation-api-method-navigation-committed-to-entry" id="ref-for-navigation-api-method-navigation-committed-to-entry③">committed-to entry</a>.</p>
     <li data-md>
      <p><a data-link-type="dfn" href="#navigation-api-method-navigation-clean-up" id="ref-for-navigation-api-method-navigation-clean-up">Clean up</a> <var>navigation</var>.</p>
    </ol>
   </div>
   <div class="algorithm" data-algorithm="reject the finished promise" data-algorithm-for="navigation API method navigation">
     To <dfn class="dfn-paneled" data-dfn-for="navigation API method navigation" data-dfn-type="dfn" data-noexport id="navigation-api-method-navigation-reject-the-finished-promise">reject the finished promise</dfn> for a <a data-link-type="dfn" href="#navigation-api-method-navigation" id="ref-for-navigation-api-method-navigation①①">navigation API method navigation</a> <var>navigation</var> with a JavaScript value <var>exception</var>: 
    <ol>
     <li data-md>
      <p>If <var>navigation</var>’s <a data-link-type="dfn" href="#navigation-api-method-navigation-finished-promise" id="ref-for-navigation-api-method-navigation-finished-promise④">finished promise</a> is null, then return.</p>
     <li data-md>
      <p>If <var>navigation</var>’s <a data-link-type="dfn" href="#navigation-api-method-navigation-committed-promise" id="ref-for-navigation-api-method-navigation-committed-promise④">committed promise</a> is not null, then <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#reject" id="ref-for-reject②">reject</a> <var>navigation</var>’s <a data-link-type="dfn" href="#navigation-api-method-navigation-committed-promise" id="ref-for-navigation-api-method-navigation-committed-promise⑤">committed promise</a> with <var>exception</var>.</p>
     <li data-md>
      <p><a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#reject" id="ref-for-reject③">Reject</a> <var>navigation</var>’s <a data-link-type="dfn" href="#navigation-api-method-navigation-finished-promise" id="ref-for-navigation-api-method-navigation-finished-promise⑤">finished promise</a> with <var>exception</var>.</p>
     <li data-md>
      <p><a data-link-type="dfn" href="#navigation-api-method-navigation-clean-up" id="ref-for-navigation-api-method-navigation-clean-up①">Clean up</a> <var>navigation</var>.</p>
    </ol>
   </div>
   <h3 class="heading settled" data-level="1.4" id="global-navigate"><span class="secno">1.4. </span><span class="content">Navigating</span><a class="self-link" href="#global-navigate"></a></h3>
   <dl class="domintro non-normative">
    <dt><code>{ <code class="idl"><a data-link-type="idl" href="#dom-navigationresult-committed" id="ref-for-dom-navigationresult-committed②">committed</a></code>, <code class="idl"><a data-link-type="idl" href="#dom-navigationresult-finished" id="ref-for-dom-navigationresult-finished②">finished</a></code> } = <code class="idl"><a data-link-type="idl" href="#dom-window-navigation" id="ref-for-dom-window-navigation①⓪">navigation</a></code>.<code class="idl"><a data-link-type="idl" href="#dom-navigation-navigate" id="ref-for-dom-navigation-navigate③">navigate</a></code>(<var>url</var>)</code> 
    <dt><code>{ <code class="idl"><a data-link-type="idl" href="#dom-navigationresult-committed" id="ref-for-dom-navigationresult-committed③">committed</a></code>, <code class="idl"><a data-link-type="idl" href="#dom-navigationresult-finished" id="ref-for-dom-navigationresult-finished③">finished</a></code> } = <code class="idl"><a data-link-type="idl" href="#dom-window-navigation" id="ref-for-dom-window-navigation①①">navigation</a></code>.<code class="idl"><a data-link-type="idl" href="#dom-navigation-navigate" id="ref-for-dom-navigation-navigate④">navigate</a></code>(<var>url</var>, <var>options</var>)</code> 
    <dd>
     <p>Navigates the current page to the given <var>url</var>. <var>options</var> can contain the following values: </p>
     <ul>
      <li data-md>
       <p><code class="idl"><a data-link-type="idl" href="#dom-navigationnavigateoptions-history" id="ref-for-dom-navigationnavigateoptions-history">history</a></code> can be set to "<code class="idl"><a data-link-type="idl" href="#dom-navigationhistorybehavior-replace" id="ref-for-dom-navigationhistorybehavior-replace">replace</a></code>" to replace the current session history entry, instead of pushing a new one.</p>
      <li data-md>
       <p><code class="idl"><a data-link-type="idl" href="#dom-navigationoptions-info" id="ref-for-dom-navigationoptions-info①">info</a></code> can be set to any value; it will populate the <code class="idl"><a data-link-type="idl" href="#dom-navigateevent-info" id="ref-for-dom-navigateevent-info">info</a></code> property of the corresponding <code class="idl"><a data-link-type="idl" href="#eventdef-navigation-navigate" id="ref-for-eventdef-navigation-navigate③">navigate</a></code> event.</p>
      <li data-md>
       <p><code class="idl"><a data-link-type="idl" href="#dom-navigationnavigateoptions-state" id="ref-for-dom-navigationnavigateoptions-state①">state</a></code> can be set to any <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/structured-data.html#serializable-objects" id="ref-for-serializable-objects">serializable</a> value; it will populate the state retrieved by <code class="idl"><a data-link-type="idl" href="#dom-navigationhistoryentry-getstate" id="ref-for-dom-navigationhistoryentry-getstate">navigation.currentEntry.getState()</a></code> once the navigation completes, for same-document navigations. (It will be ignored for navigations that end up cross-document.)</p>
     </ul>
     <p>By default this will perform a full navigation (i.e., a cross-document navigation, unless the given URL differs only in a fragment from the current one). The <code class="idl"><a data-link-type="idl" href="#eventdef-navigation-navigate" id="ref-for-eventdef-navigation-navigate④">navigate</a></code> event’s <code class="idl"><a data-link-type="idl" href="#dom-navigateevent-intercept" id="ref-for-dom-navigateevent-intercept⑥">intercept()</a></code> method can be used to convert it into a same-document navigation. </p>
     <p>The returned promises will behave as follows: </p>
     <ul>
      <li data-md>
       <p>For navigations that get aborted, both promises will reject with an "<code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#aborterror" id="ref-for-aborterror">AbortError</a></code>" <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-DOMException" id="ref-for-idl-DOMException①">DOMException</a></code>.</p>
      <li data-md>
       <p>For same-document navigations created by using the <code class="idl"><a data-link-type="idl" href="#eventdef-navigation-navigate" id="ref-for-eventdef-navigation-navigate⑤">navigate</a></code> event’s <code class="idl"><a data-link-type="idl" href="#dom-navigateevent-intercept" id="ref-for-dom-navigateevent-intercept⑦">intercept()</a></code> method, <code class="idl"><a data-link-type="idl" href="#dom-navigationresult-committed" id="ref-for-dom-navigationresult-committed④">committed</a></code> will fulfill immediately, and <code class="idl"><a data-link-type="idl" href="#dom-navigationresult-finished" id="ref-for-dom-navigationresult-finished④">finished</a></code> will fulfill or reject according to any promises returned by handlers passed to <code class="idl"><a data-link-type="idl" href="#dom-navigateevent-intercept" id="ref-for-dom-navigateevent-intercept⑧">intercept()</a></code>.</p>
      <li data-md>
       <p>For other same-document navigations (e.g., non-intercepted <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsing-the-web.html#navigate-fragid" id="ref-for-navigate-fragid">fragment navigations</a>, both promises will fulfill immediately.</p>
      <li data-md>
       <p>For cross-document navigations, or navigations that result in 204/205 <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-response-status" id="ref-for-concept-response-status">statuses</a> or <code>Content-Disposition: attachment</code> header fields from the server (and thus do not actually navigate), both promises will never settle.</p>
     </ul>
     <p>In all cases, when the returned promises fulfill, it will be with the <code class="idl"><a data-link-type="idl" href="#navigationhistoryentry" id="ref-for-navigationhistoryentry②④">NavigationHistoryEntry</a></code> that was navigated to. </p>
    <dt><code>{ <code class="idl"><a data-link-type="idl" href="#dom-navigationresult-committed" id="ref-for-dom-navigationresult-committed⑤">committed</a></code>, <code class="idl"><a data-link-type="idl" href="#dom-navigationresult-finished" id="ref-for-dom-navigationresult-finished⑤">finished</a></code> } = <code class="idl"><a data-link-type="idl" href="#dom-window-navigation" id="ref-for-dom-window-navigation①②">navigation</a></code>.<code class="idl"><a data-link-type="idl" href="#dom-navigation-reload" id="ref-for-dom-navigation-reload③">reload</a></code>(<var>options</var>)</code> 
    <dd>
     <p>Reloads the current page. The <code class="idl"><a data-link-type="idl" href="#dom-navigationoptions-info" id="ref-for-dom-navigationoptions-info②">info</a></code> and <code class="idl"><a data-link-type="idl" href="#dom-navigationreloadoptions-state" id="ref-for-dom-navigationreloadoptions-state">state</a></code> options behave as described above. </p>
     <p>The default behavior of performing a from-network-or-cache reload of the current page can be overriden by using the <code class="idl"><a data-link-type="idl" href="#eventdef-navigation-navigate" id="ref-for-eventdef-navigation-navigate⑥">navigate</a></code> event’s <code class="idl"><a data-link-type="idl" href="#dom-navigateevent-intercept" id="ref-for-dom-navigateevent-intercept⑨">intercept()</a></code> method. Doing so will mean this call only updates state or passes along the appropriate <code class="idl"><a data-link-type="idl" href="#dom-navigationoptions-info" id="ref-for-dom-navigationoptions-info③">info</a></code>, plus performing whatever actions the <code class="idl"><a data-link-type="idl" href="#eventdef-navigation-navigate" id="ref-for-eventdef-navigation-navigate⑦">navigate</a></code> event handler sees fit to carry out. </p>
     <p>The returned promises will behave as follows: </p>
     <ul>
      <li data-md>
       <p>If the reload is aborted, both promises will reject with an "<code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#aborterror" id="ref-for-aborterror①">AbortError</a></code>" <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-DOMException" id="ref-for-idl-DOMException②">DOMException</a></code>.</p>
      <li data-md>
       <p>If the reload is intercepted by using the <code class="idl"><a data-link-type="idl" href="#eventdef-navigation-navigate" id="ref-for-eventdef-navigation-navigate⑧">navigate</a></code> event’s <code class="idl"><a data-link-type="idl" href="#dom-navigateevent-intercept" id="ref-for-dom-navigateevent-intercept①⓪">intercept()</a></code> method, <code class="idl"><a data-link-type="idl" href="#dom-navigationresult-committed" id="ref-for-dom-navigationresult-committed⑥">committed</a></code> will fulfill immediately, and <code class="idl"><a data-link-type="idl" href="#dom-navigationresult-finished" id="ref-for-dom-navigationresult-finished⑥">finished</a></code> will fulfill or reject according to the promises passed to <code class="idl"><a data-link-type="idl" href="#dom-navigateevent-intercept" id="ref-for-dom-navigateevent-intercept①①">intercept()</a></code>.</p>
      <li data-md>
       <p>Otherwise, both promises will never settle.</p>
     </ul>
   </dl>
   <div class="algorithm" data-algorithm="navigate(url, options)" data-algorithm-for="Navigation">
     The <dfn class="dfn-paneled idl-code" data-dfn-for="Navigation" data-dfn-type="method" data-export data-lt="navigate(url, options)|navigate(url)" id="dom-navigation-navigate"><code>navigate(<var>url</var>, <var>options</var>)</code></dfn> method steps are: 
    <ol>
     <li data-md>
      <p>Let <var>document</var> be <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this" id="ref-for-this①⑦">this</a>'s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-global" id="ref-for-concept-relevant-global③">relevant global object</a>'s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/nav-history-apis.html#concept-document-window" id="ref-for-concept-document-window①">associated document</a>.</p>
     <li data-md>
      <p>Let <var>navigable</var> be <var>navigation</var>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-global" id="ref-for-concept-relevant-global④">relevant global object</a>'s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/nav-history-apis.html#window-navigable" id="ref-for-window-navigable">navigable</a>.</p>
     <li data-md>
      <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#assert" id="ref-for-assert①④">Assert</a>: <var>navigable</var> is not null.</p>
     <li data-md>
      <p><a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/urls-and-fetching.html#parse-a-url" id="ref-for-parse-a-url">Parse</a> <var>url</var> relative to <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this" id="ref-for-this①⑧">this</a>'s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#relevant-settings-object" id="ref-for-relevant-settings-object②">relevant settings object</a>. If that returns failure, then return <a data-link-type="dfn" href="#an-early-error-result" id="ref-for-an-early-error-result">an early error result</a> for a "<code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#syntaxerror" id="ref-for-syntaxerror">SyntaxError</a></code>" <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-DOMException" id="ref-for-idl-DOMException③">DOMException</a></code>. Otherwise, let <var>urlRecord</var> be the <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/urls-and-fetching.html#resulting-url-record" id="ref-for-resulting-url-record">resulting URL record</a>.</p>
     <li data-md>
      <p>If <var>options</var>["<code class="idl"><a data-link-type="idl" href="#dom-navigationnavigateoptions-history" id="ref-for-dom-navigationnavigateoptions-history①">history</a></code>"] is "<code class="idl"><a data-link-type="idl" href="#dom-navigationhistorybehavior-push" id="ref-for-dom-navigationhistorybehavior-push">push</a></code>", and any of the following are true:</p>
      <ul>
       <li data-md>
        <p><var>document</var>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/dom.html#is-initial-about:blank" id="ref-for-is-initial-about:blank①">is initial about:blank</a> is true;</p>
       <li data-md>
        <p><var>document</var> is not <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/document-lifecycle.html#completely-loaded" id="ref-for-completely-loaded">completely loaded</a>;</p>
       <li data-md>
        <p><var>url</var> equals <var>document</var>’s <a data-link-type="dfn" href="https://dom.spec.whatwg.org/#concept-document-url" id="ref-for-concept-document-url">URL</a>; or</p>
       <li data-md>
        <p><var>url</var>’s <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url-scheme" id="ref-for-concept-url-scheme">scheme</a> is "<code>javascript</code>"</p>
      </ul>
      <p>then return <a data-link-type="dfn" href="#an-early-error-result" id="ref-for-an-early-error-result①">an early error result</a> for a "<code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#notsupportederror" id="ref-for-notsupportederror">NotSupportedError</a></code>" <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-DOMException" id="ref-for-idl-DOMException④">DOMException</a></code>.</p>
      <div class="note" role="note">
       <p>These are the conditions under which a push navigation will be converted into a replace navigation by the <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsing-the-web.html#navigate" id="ref-for-navigate">navigate</a> algorithm or by the below step. If the developer explicitly requested a push, we fail to let them know it won’t happen. </p>
       <p>In the future, we could consider loosening some of these conditions, e.g., allowing explicitly-requested push navigations to the current URL or before the document is completely loaded. </p>
      </div>
     <li data-md>
      <p>Let <var>state</var> be <var>options</var>["<code class="idl"><a data-link-type="idl" href="#dom-navigationnavigateoptions-state" id="ref-for-dom-navigationnavigateoptions-state②">state</a></code>"] if it exists; otherwise, undefined.</p>
     <li data-md>
      <p>Let <var>serializedState</var> be <a data-link-type="abstract-op" href="https://html.spec.whatwg.org/multipage/structured-data.html#structuredserializeforstorage" id="ref-for-structuredserializeforstorage①">StructuredSerializeForStorage</a>(<var>state</var>). If this throws an exception, then return <a data-link-type="dfn" href="#an-early-error-result" id="ref-for-an-early-error-result②">an early error result</a> for that exception.</p>
      <p class="note" role="note">It is important to perform this step early, since serialization can invoke web developer code, which in turn might change the state checked in later steps.</p>
     <li data-md>
      <p>Let <var>info</var> be <var>options</var>["<code class="idl"><a data-link-type="idl" href="#dom-navigationoptions-info" id="ref-for-dom-navigationoptions-info④">info</a></code>"] if it exists; otherwise, undefined.</p>
     <li data-md>
      <p>Let <var>historyHandling</var> be "<a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsing-the-web.html#hh-replace" id="ref-for-hh-replace"><code>replace</code></a>" if <var>options</var>["<code class="idl"><a data-link-type="idl" href="#dom-navigationnavigateoptions-history" id="ref-for-dom-navigationnavigateoptions-history②">history</a></code>"] is "<code class="idl"><a data-link-type="idl" href="#dom-navigationhistorybehavior-replace" id="ref-for-dom-navigationhistorybehavior-replace①">replace</a></code>" or if <var>document</var> is not <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/document-lifecycle.html#completely-loaded" id="ref-for-completely-loaded①">completely loaded</a>; otherwise, "<a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsing-the-web.html#hh-push" id="ref-for-hh-push"><code>push</code></a>".</p>
     <li data-md>
      <p>If <var>document</var> is not <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/document-sequences.html#fully-active" id="ref-for-fully-active">fully active</a>, then return <a data-link-type="dfn" href="#an-early-error-result" id="ref-for-an-early-error-result③">an early error result</a> for an "<code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#invalidstateerror" id="ref-for-invalidstateerror①">InvalidStateError</a></code>" <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-DOMException" id="ref-for-idl-DOMException⑤">DOMException</a></code>.</p>
     <li data-md>
      <p>If <var>document</var>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/document-lifecycle.html#unload-counter" id="ref-for-unload-counter">unload counter</a> is greater than 0, then return <a data-link-type="dfn" href="#an-early-error-result" id="ref-for-an-early-error-result④">an early error result</a> for an "<code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#invalidstateerror" id="ref-for-invalidstateerror②">InvalidStateError</a></code>" <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-DOMException" id="ref-for-idl-DOMException⑥">DOMException</a></code>.</p>
     <li data-md>
      <p>Let <var>ongoingNavigation</var> be the result of <a data-link-type="dfn" href="#navigation-set-the-upcoming-non-traverse-navigation" id="ref-for-navigation-set-the-upcoming-non-traverse-navigation">setting the upcoming non-traverse navigation</a> for <var>navigation</var> given <var>info</var>.</p>
     <li data-md>
      <p><a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsing-the-web.html#navigate" id="ref-for-navigate①">Navigate</a> <var>navigable</var> to <var>urlRecord</var> using <var>document</var>, with <i><a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsing-the-web.html#navigation-hh" id="ref-for-navigation-hh">historyHandling</a></i> set to <var>historyHandling</var> and <i><a data-link-type="dfn" href="#navigate-navigationapistate" id="ref-for-navigate-navigationapistate">navigationAPIState</a></i> set to <var>serializedState</var>.</p>
      <p class="note" role="note">Unlike <code class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/nav-history-apis.html#dom-location-assign" id="ref-for-dom-location-assign">location.assign()</a></code> and friends, which are exposed across <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsers.html#same-origin-domain" id="ref-for-same-origin-domain">origin-domain</a> boundaries, <code class="idl"><a data-link-type="idl" href="#dom-navigation-navigate" id="ref-for-dom-navigation-navigate⑤">navigation.navigate()</a></code> can only be accessed by code with direct synchronous access to the <code class="idl"><a data-link-type="idl" href="#dom-window-navigation" id="ref-for-dom-window-navigation①③">navigation</a></code> property. Thus, we avoid the complications around tracking the source document, and we don’t need to deal with the <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsing-the-web.html#allowed-to-navigate" id="ref-for-allowed-to-navigate">allowed by sandboxing to navigate</a> check and its accompanying <i><a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsing-the-web.html#exceptions-enabled" id="ref-for-exceptions-enabled">exceptionsEnabled</a></i> flag. We just treat all navigations as being initiated by the <code class="idl"><a data-link-type="idl" href="#navigation" id="ref-for-navigation②⑤">Navigation</a></code> object itself. </p>
     <li data-md>
      <p>If <var>navigation</var>’s <a data-link-type="dfn" href="#navigation-upcoming-non-traverse-navigation" id="ref-for-navigation-upcoming-non-traverse-navigation⑤">upcoming non-traverse navigation</a> is <var>ongoingNavigation</var>, then:</p>
      <p class="note" role="note">This means the <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsing-the-web.html#navigate" id="ref-for-navigate②">navigate</a> algorithm bailed out before ever getting to the <a data-link-type="dfn" href="#inner-navigate-event-firing-algorithm" id="ref-for-inner-navigate-event-firing-algorithm">inner navigate event firing algorithm</a> which would <a data-link-type="dfn" href="#navigation-promote-the-upcoming-navigation-to-ongoing" id="ref-for-navigation-promote-the-upcoming-navigation-to-ongoing">promote the upcoming navigation to ongoing</a>. </p>
      <ol>
       <li data-md>
        <p>Set <var>navigation</var>’s <a data-link-type="dfn" href="#navigation-upcoming-non-traverse-navigation" id="ref-for-navigation-upcoming-non-traverse-navigation⑥">upcoming non-traverse navigation</a> to null.</p>
       <li data-md>
        <p>Return <a data-link-type="dfn" href="#an-early-error-result" id="ref-for-an-early-error-result⑤">an early error result</a> for an "<code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#aborterror" id="ref-for-aborterror②">AbortError</a></code>" <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-DOMException" id="ref-for-idl-DOMException⑦">DOMException</a></code>.</p>
      </ol>
     <li data-md>
      <p>Return «[ "<code class="idl"><a data-link-type="idl" href="#dom-navigationresult-committed" id="ref-for-dom-navigationresult-committed⑦">committed</a></code>" → <var>ongoingNavigation</var>’s <a data-link-type="dfn" href="#navigation-api-method-navigation-committed-promise" id="ref-for-navigation-api-method-navigation-committed-promise⑥">committed promise</a>, "<code class="idl"><a data-link-type="idl" href="#dom-navigationresult-finished" id="ref-for-dom-navigationresult-finished⑦">finished</a></code>" → <var>ongoingNavigation</var>’s <a data-link-type="dfn" href="#navigation-api-method-navigation-finished-promise" id="ref-for-navigation-api-method-navigation-finished-promise⑥">finished promise</a> ]».</p>
    </ol>
   </div>
   <div class="algorithm" data-algorithm="reload(options)" data-algorithm-for="Navigation">
     The <dfn class="dfn-paneled idl-code" data-dfn-for="Navigation" data-dfn-type="method" data-export data-lt="reload(options)|reload()" id="dom-navigation-reload"><code>reload(<var>options</var>)</code></dfn> method steps are: 
    <ol>
     <li data-md>
      <p>Let <var>document</var> be <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this" id="ref-for-this①⑨">this</a>'s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-global" id="ref-for-concept-relevant-global⑤">relevant global object</a>'s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/nav-history-apis.html#concept-document-window" id="ref-for-concept-document-window②">associated document</a>.</p>
     <li data-md>
      <p>Let <var>navigable</var> be <var>navigation</var>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-global" id="ref-for-concept-relevant-global⑥">relevant global object</a>'s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/nav-history-apis.html#window-navigable" id="ref-for-window-navigable①">navigable</a>.</p>
     <li data-md>
      <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#assert" id="ref-for-assert①⑤">Assert</a>: <var>navigable</var> is not null.</p>
     <li data-md>
      <p>Let <var>serializedState</var> be null.</p>
     <li data-md>
      <p>If <var>options</var>["<code class="idl"><a data-link-type="idl" href="#dom-navigationreloadoptions-state" id="ref-for-dom-navigationreloadoptions-state①">state</a></code>"] <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-exists" id="ref-for-map-exists②">exists</a>, then set <var>serializedState</var> to <a data-link-type="abstract-op" href="https://html.spec.whatwg.org/multipage/structured-data.html#structuredserializeforstorage" id="ref-for-structuredserializeforstorage②">StructuredSerializeForStorage</a>(<var>options</var>["<code class="idl"><a data-link-type="idl" href="#dom-navigationreloadoptions-state" id="ref-for-dom-navigationreloadoptions-state②">state</a></code>"]). If this throws an exception, then return <a data-link-type="dfn" href="#an-early-error-result" id="ref-for-an-early-error-result⑥">an early error result</a> for that exception.</p>
      <p class="note" role="note">It is important to perform this step early, since serialization can invoke web developer code, which in turn might change the state checked in later steps.</p>
     <li data-md>
      <p>Otherwise,</p>
      <ol>
       <li data-md>
        <p>Let <var>current</var> be the <a data-link-type="dfn" href="#navigation-current-entry" id="ref-for-navigation-current-entry⑤">current entry</a> of <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this" id="ref-for-this②⓪">this</a>.</p>
       <li data-md>
        <p>If <var>current</var> is not null, then set <var>serializedState</var> to <var>current</var>’s <a data-link-type="dfn" href="#session-history-entry-navigation-api-state" id="ref-for-session-history-entry-navigation-api-state③">navigation API state</a>.</p>
       <li data-md>
        <p>Otherwise, set <var>serializedState</var> to <a data-link-type="abstract-op" href="https://html.spec.whatwg.org/multipage/structured-data.html#structuredserializeforstorage" id="ref-for-structuredserializeforstorage③">StructuredSerializeForStorage</a>(undefined).</p>
      </ol>
     <li data-md>
      <p>Let <var>info</var> be <var>options</var>["<code class="idl"><a data-link-type="idl" href="#dom-navigationoptions-info" id="ref-for-dom-navigationoptions-info⑤">info</a></code>"] if it exists; otherwise, undefined.</p>
     <li data-md>
      <p>If <var>document</var> is not <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/document-sequences.html#fully-active" id="ref-for-fully-active①">fully active</a>, then return <a data-link-type="dfn" href="#an-early-error-result" id="ref-for-an-early-error-result⑦">an early error result</a> for an "<code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#invalidstateerror" id="ref-for-invalidstateerror③">InvalidStateError</a></code>" <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-DOMException" id="ref-for-idl-DOMException⑧">DOMException</a></code>.</p>
     <li data-md>
      <p>If <var>document</var>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/document-lifecycle.html#unload-counter" id="ref-for-unload-counter①">unload counter</a> is greater than 0, then return <a data-link-type="dfn" href="#an-early-error-result" id="ref-for-an-early-error-result⑧">an early error result</a> for an "<code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#invalidstateerror" id="ref-for-invalidstateerror④">InvalidStateError</a></code>" <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-DOMException" id="ref-for-idl-DOMException⑨">DOMException</a></code>.</p>
     <li data-md>
      <p>Let <var>ongoingNavigation</var> be the result of <a data-link-type="dfn" href="#navigation-set-the-upcoming-non-traverse-navigation" id="ref-for-navigation-set-the-upcoming-non-traverse-navigation①">setting the upcoming non-traverse navigation</a> for <var>navigation</var> given <var>info</var>.</p>
     <li data-md>
      <p><a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsing-the-web.html#reload" id="ref-for-reload">Reload</a> <var>navigable</var> with <i><a data-link-type="dfn" href="#reload-navigationapistate" id="ref-for-reload-navigationapistate">navigationAPIState</a></i> set to <var>serializedState</var>.</p>
     <li data-md>
      <p>If <var>navigation</var>’s <a data-link-type="dfn" href="#navigation-upcoming-non-traverse-navigation" id="ref-for-navigation-upcoming-non-traverse-navigation⑦">upcoming non-traverse navigation</a> is <var>ongoingNavigation</var>, then:</p>
      <p class="note" role="note">This means the <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsing-the-web.html#reload" id="ref-for-reload①">reload</a> algorithm bailed out before ever getting to the <a data-link-type="dfn" href="#inner-navigate-event-firing-algorithm" id="ref-for-inner-navigate-event-firing-algorithm①">inner navigate event firing algorithm</a> which would <a data-link-type="dfn" href="#navigation-promote-the-upcoming-navigation-to-ongoing" id="ref-for-navigation-promote-the-upcoming-navigation-to-ongoing①">promote the upcoming navigation to ongoing</a>. </p>
      <ol>
       <li data-md>
        <p>Set <var>navigation</var>’s <a data-link-type="dfn" href="#navigation-upcoming-non-traverse-navigation" id="ref-for-navigation-upcoming-non-traverse-navigation⑧">upcoming non-traverse navigation</a> to null.</p>
       <li data-md>
        <p>Return <a data-link-type="dfn" href="#an-early-error-result" id="ref-for-an-early-error-result⑨">an early error result</a> for an "<code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#aborterror" id="ref-for-aborterror③">AbortError</a></code>" <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-DOMException" id="ref-for-idl-DOMException①⓪">DOMException</a></code>.</p>
      </ol>
     <li data-md>
      <p>Return «[ "<code class="idl"><a data-link-type="idl" href="#dom-navigationresult-committed" id="ref-for-dom-navigationresult-committed⑧">committed</a></code>" → <var>ongoingNavigation</var>’s <a data-link-type="dfn" href="#navigation-api-method-navigation-committed-promise" id="ref-for-navigation-api-method-navigation-committed-promise⑦">committed promise</a>, "<code class="idl"><a data-link-type="idl" href="#dom-navigationresult-finished" id="ref-for-dom-navigationresult-finished⑧">finished</a></code>" → <var>ongoingNavigation</var>’s <a data-link-type="dfn" href="#navigation-api-method-navigation-finished-promise" id="ref-for-navigation-api-method-navigation-finished-promise⑦">finished promise</a> ]».</p>
    </ol>
   </div>
   <p class="algorithm" data-algorithm="an early error result"> An <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="an-early-error-result">an early error result</dfn> for an exception <var>e</var> is a dictionary instance given by  «[ "<code class="idl"><a data-link-type="idl" href="#dom-navigationresult-committed" id="ref-for-dom-navigationresult-committed⑨">committed</a></code>" → <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#a-promise-rejected-with" id="ref-for-a-promise-rejected-with">a promise rejected with</a> <var>e</var>, "<code class="idl"><a data-link-type="idl" href="#dom-navigationresult-finished" id="ref-for-dom-navigationresult-finished⑨">finished</a></code>" → <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#a-promise-rejected-with" id="ref-for-a-promise-rejected-with①">a promise rejected with</a> <var>e</var> ]». </p>
   <h3 class="heading settled" data-level="1.5" id="global-traversing"><span class="secno">1.5. </span><span class="content">Traversing</span><a class="self-link" href="#global-traversing"></a></h3>
   <dl class="domintro non-normative">
    <dt><code>{ <code class="idl"><a data-link-type="idl" href="#dom-navigationresult-committed" id="ref-for-dom-navigationresult-committed①⓪">committed</a></code>, <code class="idl"><a data-link-type="idl" href="#dom-navigationresult-finished" id="ref-for-dom-navigationresult-finished①⓪">finished</a></code> } = <code class="idl"><a data-link-type="idl" href="#dom-window-navigation" id="ref-for-dom-window-navigation①④">navigation</a></code>.<code class="idl"><a data-link-type="idl" href="#dom-navigation-traverseto" id="ref-for-dom-navigation-traverseto②">traverseTo</a></code>(<var>key</var>)</code> 
    <dt><code>{ <code class="idl"><a data-link-type="idl" href="#dom-navigationresult-committed" id="ref-for-dom-navigationresult-committed①①">committed</a></code>, <code class="idl"><a data-link-type="idl" href="#dom-navigationresult-finished" id="ref-for-dom-navigationresult-finished①①">finished</a></code> } = <code class="idl"><a data-link-type="idl" href="#dom-window-navigation" id="ref-for-dom-window-navigation①⑤">navigation</a></code>.<code class="idl"><a data-link-type="idl" href="#dom-navigation-traverseto" id="ref-for-dom-navigation-traverseto③">traverseTo</a></code>(<var>key</var>, { <code class="idl"><a data-link-type="idl" href="#dom-navigationoptions-info" id="ref-for-dom-navigationoptions-info⑥">info</a></code> })</code> 
    <dd>
     <p>Traverses the session history to the closest <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsing-the-web.html#session-history-entry" id="ref-for-session-history-entry⑥">session history entry</a> that matches the <code class="idl"><a data-link-type="idl" href="#navigationhistoryentry" id="ref-for-navigationhistoryentry②⑤">NavigationHistoryEntry</a></code> with the given key. <code class="idl"><a data-link-type="idl" href="#dom-navigationoptions-info" id="ref-for-dom-navigationoptions-info⑦">info</a></code> can be set to any value; it will populate the <code class="idl"><a data-link-type="idl" href="#dom-navigateevent-info" id="ref-for-dom-navigateevent-info①">info</a></code> property of the corresponding <code class="idl"><a data-link-type="idl" href="#eventdef-navigation-navigate" id="ref-for-eventdef-navigation-navigate⑨">navigate</a></code> event. </p>
     <p>If a traversal to that <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsing-the-web.html#session-history-entry" id="ref-for-session-history-entry⑦">session history entry</a> is already in progress, then this will return the promises for that original traversal, and <code class="idl"><a data-link-type="idl" href="#dom-navigationoptions-info" id="ref-for-dom-navigationoptions-info⑧">info</a></code> will be ignored. </p>
     <p>The returned promises will behave as follows: </p>
     <ul>
      <li data-md>
       <p>If there is no <code class="idl"><a data-link-type="idl" href="#navigationhistoryentry" id="ref-for-navigationhistoryentry②⑥">NavigationHistoryEntry</a></code> in <code class="idl"><a data-link-type="idl" href="#dom-navigation-entries" id="ref-for-dom-navigation-entries③">navigation.entries</a></code> with the given key, both will reject with an "<code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#invalidstateerror" id="ref-for-invalidstateerror⑤">InvalidStateError</a></code>" <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-DOMException" id="ref-for-idl-DOMException①①">DOMException</a></code>.</p>
      <li data-md>
       <p>For same-document traversals intercepted by the <code class="idl"><a data-link-type="idl" href="#eventdef-navigation-navigate" id="ref-for-eventdef-navigation-navigate①⓪">navigate</a></code> event’s <code class="idl"><a data-link-type="idl" href="#dom-navigateevent-intercept" id="ref-for-dom-navigateevent-intercept①②">intercept()</a></code> method, <code class="idl"><a data-link-type="idl" href="#dom-navigationresult-committed" id="ref-for-dom-navigationresult-committed①②">committed</a></code> will fulfill as soon as the traversal is processed and <code class="idl"><a data-link-type="idl" href="#dom-navigation-currententry" id="ref-for-dom-navigation-currententry⑤">navigation.currentEntry</a></code> is updated, and <code class="idl"><a data-link-type="idl" href="#dom-navigationresult-finished" id="ref-for-dom-navigationresult-finished①②">finished</a></code> will fulfill or reject according to any promises returned by handlers passed to <code class="idl"><a data-link-type="idl" href="#dom-navigateevent-intercept" id="ref-for-dom-navigateevent-intercept①③">intercept()</a></code>.</p>
      <li data-md>
       <p>For non-intercepted same-document traversals, both promises will fulfill as soon as the traversal is processed and <code class="idl"><a data-link-type="idl" href="#dom-navigation-currententry" id="ref-for-dom-navigation-currententry⑥">navigation.currentEntry</a></code> is updated</p>
      <li data-md>
       <p>For cross-document traversals, or traversals that result in 204/205 <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-response-status" id="ref-for-concept-response-status①">statuses</a> or <code>Content-Disposition: attachment</code> header fields from the server (and thus do not actually traverse), both promises will never settle.</p>
     </ul>
    <dt><code>{ <code class="idl"><a data-link-type="idl" href="#dom-navigationresult-committed" id="ref-for-dom-navigationresult-committed①③">committed</a></code>, <code class="idl"><a data-link-type="idl" href="#dom-navigationresult-finished" id="ref-for-dom-navigationresult-finished①③">finished</a></code> } = <code class="idl"><a data-link-type="idl" href="#dom-window-navigation" id="ref-for-dom-window-navigation①⑥">navigation</a></code>.<code class="idl"><a data-link-type="idl" href="#dom-navigation-back" id="ref-for-dom-navigation-back①">back</a></code>()</code> 
    <dt><code>{ <code class="idl"><a data-link-type="idl" href="#dom-navigationresult-committed" id="ref-for-dom-navigationresult-committed①④">committed</a></code>, <code class="idl"><a data-link-type="idl" href="#dom-navigationresult-finished" id="ref-for-dom-navigationresult-finished①④">finished</a></code> } = <code class="idl"><a data-link-type="idl" href="#dom-window-navigation" id="ref-for-dom-window-navigation①⑦">navigation</a></code>.<code class="idl"><a data-link-type="idl" href="#dom-navigation-back" id="ref-for-dom-navigation-back②">back</a></code>({ <code class="idl"><a data-link-type="idl" href="#dom-navigationoptions-info" id="ref-for-dom-navigationoptions-info⑨">info</a></code> })</code> 
    <dd>
     <p>Traverse the session history to the closest previous <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsing-the-web.html#session-history-entry" id="ref-for-session-history-entry⑧">session history entry</a> which results in this <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/document-sequences.html#navigable" id="ref-for-navigable">navigable</a> navigating, i.e. results in <code class="idl"><a data-link-type="idl" href="#dom-navigation-currententry" id="ref-for-dom-navigation-currententry⑦">navigation.currentEntry</a></code> updating. <code class="idl"><a data-link-type="idl" href="#dom-navigationoptions-info" id="ref-for-dom-navigationoptions-info①⓪">info</a></code> can be set to any value; it will populate the <code class="idl"><a data-link-type="idl" href="#dom-navigateevent-info" id="ref-for-dom-navigateevent-info②">info</a></code> property of the corresponding <code class="idl"><a data-link-type="idl" href="#eventdef-navigation-navigate" id="ref-for-eventdef-navigation-navigate①①">navigate</a></code> event. </p>
     <p>If a traversal to that <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsing-the-web.html#session-history-entry" id="ref-for-session-history-entry⑨">session history entry</a> is already in progress, then this will return the promises for that original traversal, and <code class="idl"><a data-link-type="idl" href="#dom-navigationoptions-info" id="ref-for-dom-navigationoptions-info①①">info</a></code> will be ignored. </p>
     <p>The returned promises behave equivalently to those returned by <code class="idl"><a data-link-type="idl" href="#dom-navigation-traverseto" id="ref-for-dom-navigation-traverseto④">traverseTo()</a></code>. </p>
    <dt><code>{ <code class="idl"><a data-link-type="idl" href="#dom-navigationresult-committed" id="ref-for-dom-navigationresult-committed①⑤">committed</a></code>, <code class="idl"><a data-link-type="idl" href="#dom-navigationresult-finished" id="ref-for-dom-navigationresult-finished①⑤">finished</a></code> } = <code class="idl"><a data-link-type="idl" href="#dom-window-navigation" id="ref-for-dom-window-navigation①⑧">navigation</a></code>.<code class="idl"><a data-link-type="idl" href="#dom-navigation-forward" id="ref-for-dom-navigation-forward①">forward</a></code>()</code> 
    <dt><code>{ <code class="idl"><a data-link-type="idl" href="#dom-navigationresult-committed" id="ref-for-dom-navigationresult-committed①⑥">committed</a></code>, <code class="idl"><a data-link-type="idl" href="#dom-navigationresult-finished" id="ref-for-dom-navigationresult-finished①⑥">finished</a></code> } = <code class="idl"><a data-link-type="idl" href="#dom-window-navigation" id="ref-for-dom-window-navigation①⑨">navigation</a></code>.<code class="idl"><a data-link-type="idl" href="#dom-navigation-forward" id="ref-for-dom-navigation-forward②">forward</a></code>({ <code class="idl"><a data-link-type="idl" href="#dom-navigationoptions-info" id="ref-for-dom-navigationoptions-info①②">info</a></code> })</code> 
    <dd>
     <p>Traverse the session history to the closest forward <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsing-the-web.html#session-history-entry" id="ref-for-session-history-entry①⓪">session history entry</a> which results in this frame navigating, i.e. results in <code class="idl"><a data-link-type="idl" href="#dom-navigation-currententry" id="ref-for-dom-navigation-currententry⑧">navigation.currentEntry</a></code> updating. <code class="idl"><a data-link-type="idl" href="#dom-navigationoptions-info" id="ref-for-dom-navigationoptions-info①③">info</a></code> can be set to any value; it will populate the <code class="idl"><a data-link-type="idl" href="#dom-navigateevent-info" id="ref-for-dom-navigateevent-info③">info</a></code> property of the corresponding <code class="idl"><a data-link-type="idl" href="#eventdef-navigation-navigate" id="ref-for-eventdef-navigation-navigate①②">navigate</a></code> event. </p>
     <p>If a traversal to that <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsing-the-web.html#session-history-entry" id="ref-for-session-history-entry①①">session history entry</a> is already in progress, then this will return the promises for that original traversal, and <code class="idl"><a data-link-type="idl" href="#dom-navigationoptions-info" id="ref-for-dom-navigationoptions-info①④">info</a></code> will be ignored. </p>
     <p>The returned promises behave equivalently to those returned by <code class="idl"><a data-link-type="idl" href="#dom-navigation-traverseto" id="ref-for-dom-navigation-traverseto⑤">traverseTo()</a></code>. </p>
   </dl>
   <div class="algorithm" data-algorithm="traverseTo(key, options)" data-algorithm-for="Navigation">
     The <dfn class="dfn-paneled idl-code" data-dfn-for="Navigation" data-dfn-type="method" data-export data-lt="traverseTo(key, options)|traverseTo(key)" id="dom-navigation-traverseto"><code>traverseTo(<var>key</var>, <var>options</var>)</code></dfn> method steps are: 
    <ol>
     <li data-md>
      <p>If <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this" id="ref-for-this②①">this</a>'s <a data-link-type="dfn" href="#navigation-current-entry-index" id="ref-for-navigation-current-entry-index①④">current entry index</a> is −1, then return <a data-link-type="dfn" href="#an-early-error-result" id="ref-for-an-early-error-result①⓪">an early error result</a> for an "<code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#invalidstateerror" id="ref-for-invalidstateerror⑥">InvalidStateError</a></code>" <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-DOMException" id="ref-for-idl-DOMException①②">DOMException</a></code>.</p>
     <li data-md>
      <p>If <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this" id="ref-for-this②②">this</a>'s <a data-link-type="dfn" href="#navigation-entry-list" id="ref-for-navigation-entry-list①④">entry list</a> does not contain any <code class="idl"><a data-link-type="idl" href="#navigationhistoryentry" id="ref-for-navigationhistoryentry②⑦">NavigationHistoryEntry</a></code> whose <a data-link-type="dfn" href="#navigationhistoryentry-session-history-entry" id="ref-for-navigationhistoryentry-session-history-entry⑧">session history entry</a>'s <a data-link-type="dfn" href="#session-history-entry-navigation-api-key" id="ref-for-session-history-entry-navigation-api-key②">navigation API key</a> equals <var>key</var>, then return <a data-link-type="dfn" href="#an-early-error-result" id="ref-for-an-early-error-result①①">an early error result</a> for an "<code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#invalidstateerror" id="ref-for-invalidstateerror⑦">InvalidStateError</a></code>" <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-DOMException" id="ref-for-idl-DOMException①③">DOMException</a></code>.</p>
     <li data-md>
      <p>Return the result of <a data-link-type="dfn" href="#perform-a-navigation-api-traversal" id="ref-for-perform-a-navigation-api-traversal">performing a navigation API traversal</a> given <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this" id="ref-for-this②③">this</a>, <var>key</var>, and <var>options</var>.</p>
    </ol>
   </div>
   <div class="algorithm" data-algorithm="back(options)" data-algorithm-for="Navigation">
     The <dfn class="dfn-paneled idl-code" data-dfn-for="Navigation" data-dfn-type="method" data-export data-lt="back(options)|back()" id="dom-navigation-back"><code>back(<var>options</var>)</code></dfn> method steps are: 
    <ol>
     <li data-md>
      <p>If <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this" id="ref-for-this②④">this</a>'s <a data-link-type="dfn" href="#navigation-current-entry-index" id="ref-for-navigation-current-entry-index①⑤">current entry index</a> is −1 or 0, then return <a data-link-type="dfn" href="#an-early-error-result" id="ref-for-an-early-error-result①②">an early error result</a> for an "<code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#invalidstateerror" id="ref-for-invalidstateerror⑧">InvalidStateError</a></code>" <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-DOMException" id="ref-for-idl-DOMException①④">DOMException</a></code>.</p>
     <li data-md>
      <p>Let <var>key</var> be <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this" id="ref-for-this②⑤">this</a>'s <a data-link-type="dfn" href="#navigation-entry-list" id="ref-for-navigation-entry-list①⑤">entry list</a>[<a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this" id="ref-for-this②⑥">this</a>'s <a data-link-type="dfn" href="#navigation-current-entry-index" id="ref-for-navigation-current-entry-index①⑥">current entry index</a> − 1]'s <a data-link-type="dfn" href="#navigationhistoryentry-session-history-entry" id="ref-for-navigationhistoryentry-session-history-entry⑨">session history entry</a>'s <a data-link-type="dfn" href="#session-history-entry-navigation-api-key" id="ref-for-session-history-entry-navigation-api-key③">navigation API key</a>.</p>
     <li data-md>
      <p>Return the result of <a data-link-type="dfn" href="#perform-a-navigation-api-traversal" id="ref-for-perform-a-navigation-api-traversal①">performing a navigation API traversal</a> given <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this" id="ref-for-this②⑦">this</a>, <var>key</var>, and <var>options</var>.</p>
    </ol>
   </div>
   <div class="algorithm" data-algorithm="forward(options)" data-algorithm-for="Navigation">
     The <dfn class="dfn-paneled idl-code" data-dfn-for="Navigation" data-dfn-type="method" data-export data-lt="forward(options)|forward()" id="dom-navigation-forward"><code>forward(<var>options</var>)</code></dfn> method steps are: 
    <ol>
     <li data-md>
      <p>If <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this" id="ref-for-this②⑧">this</a>'s <a data-link-type="dfn" href="#navigation-current-entry-index" id="ref-for-navigation-current-entry-index①⑦">current entry index</a> is −1 or is equal to <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this" id="ref-for-this②⑨">this</a>'s <a data-link-type="dfn" href="#navigation-entry-list" id="ref-for-navigation-entry-list①⑥">entry list</a>'s <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-size" id="ref-for-list-size②">size</a> − 1, then return <a data-link-type="dfn" href="#an-early-error-result" id="ref-for-an-early-error-result①③">an early error result</a> for an "<code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#invalidstateerror" id="ref-for-invalidstateerror⑨">InvalidStateError</a></code>" <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-DOMException" id="ref-for-idl-DOMException①⑤">DOMException</a></code>.</p>
     <li data-md>
      <p>Let <var>key</var> be <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this" id="ref-for-this③⓪">this</a>'s <a data-link-type="dfn" href="#navigation-entry-list" id="ref-for-navigation-entry-list①⑦">entry list</a>[<a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this" id="ref-for-this③①">this</a>'s <a data-link-type="dfn" href="#navigation-current-entry-index" id="ref-for-navigation-current-entry-index①⑧">current entry index</a> + 1]'s <a data-link-type="dfn" href="#navigationhistoryentry-session-history-entry" id="ref-for-navigationhistoryentry-session-history-entry①⓪">session history entry</a>'s <a data-link-type="dfn" href="#session-history-entry-navigation-api-key" id="ref-for-session-history-entry-navigation-api-key④">navigation API key</a>.</p>
     <li data-md>
      <p>Return the result of <a data-link-type="dfn" href="#perform-a-navigation-api-traversal" id="ref-for-perform-a-navigation-api-traversal②">performing a navigation API traversal</a> given <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this" id="ref-for-this③②">this</a>, <var>key</var>, and <var>options</var>.</p>
    </ol>
   </div>
   <div class="algorithm" data-algorithm="perform a navigation API traversal">
     To <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="perform-a-navigation-api-traversal">perform a navigation API traversal</dfn> given a <code class="idl"><a data-link-type="idl" href="#navigation" id="ref-for-navigation②⑥">Navigation</a></code> object <var>navigation</var>, a string <var>key</var>, and a <code class="idl"><a data-link-type="idl" href="#dictdef-navigationoptions" id="ref-for-dictdef-navigationoptions⑤">NavigationOptions</a></code> <var>options</var>: 
    <ol>
     <li data-md>
      <p>Let <var>sourceDocument</var> be <var>navigation</var>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-global" id="ref-for-concept-relevant-global⑦">relevant global object</a>'s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/nav-history-apis.html#concept-document-window" id="ref-for-concept-document-window③">associated Document</a>.</p>
     <li data-md>
      <p>If <var>sourceDocument</var> is not <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/document-sequences.html#fully-active" id="ref-for-fully-active②">fully active</a>, then return <a data-link-type="dfn" href="#an-early-error-result" id="ref-for-an-early-error-result①④">an early error result</a> for an "<code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#invalidstateerror" id="ref-for-invalidstateerror①⓪">InvalidStateError</a></code>" <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-DOMException" id="ref-for-idl-DOMException①⑥">DOMException</a></code>.</p>
     <li data-md>
      <p>If <var>sourceDocument</var>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/document-lifecycle.html#unload-counter" id="ref-for-unload-counter②">unload counter</a> is greater than 0, then return <a data-link-type="dfn" href="#an-early-error-result" id="ref-for-an-early-error-result①⑤">an early error result</a> for an "<code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#invalidstateerror" id="ref-for-invalidstateerror①①">InvalidStateError</a></code>" <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-DOMException" id="ref-for-idl-DOMException①⑦">DOMException</a></code>.</p>
     <li data-md>
      <p>If <var>navigation</var>’s <a data-link-type="dfn" href="#navigation-current-entry" id="ref-for-navigation-current-entry⑥">current entry</a>'s <a data-link-type="dfn" href="#navigationhistoryentry-session-history-entry" id="ref-for-navigationhistoryentry-session-history-entry①①">session history entry</a>'s <a data-link-type="dfn" href="#session-history-entry-navigation-api-key" id="ref-for-session-history-entry-navigation-api-key⑤">navigation API key</a> equals <var>key</var>, then return «[ "<code class="idl"><a data-link-type="idl" href="#dom-navigationresult-committed" id="ref-for-dom-navigationresult-committed①⑦">committed</a></code>" → <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#a-promise-resolved-with" id="ref-for-a-promise-resolved-with">a promise resolved with</a> <var>navigation</var>’s <a data-link-type="dfn" href="#navigation-current-entry" id="ref-for-navigation-current-entry⑦">current entry</a>, "<code class="idl"><a data-link-type="idl" href="#dom-navigationresult-finished" id="ref-for-dom-navigationresult-finished①⑦">finished</a></code>" → <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#a-promise-resolved-with" id="ref-for-a-promise-resolved-with①">a promise resolved with</a> <var>navigation</var>’s <a data-link-type="dfn" href="#navigation-current-entry" id="ref-for-navigation-current-entry⑧">current entry</a> ]»</p>
     <li data-md>
      <p>If <var>navigation</var>’s <a data-link-type="dfn" href="#navigation-upcoming-traverse-navigations" id="ref-for-navigation-upcoming-traverse-navigations⑥">upcoming traverse navigations</a>[<var>key</var>] <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-exists" id="ref-for-map-exists③">exists</a>, then:</p>
      <ol>
       <li data-md>
        <p>Let <var>navigation</var> be <var>navigation</var>’s <a data-link-type="dfn" href="#navigation-upcoming-traverse-navigations" id="ref-for-navigation-upcoming-traverse-navigations⑦">upcoming traverse navigations</a>[<var>key</var>].</p>
       <li data-md>
        <p>Return «[ "<code class="idl"><a data-link-type="idl" href="#dom-navigationresult-committed" id="ref-for-dom-navigationresult-committed①⑧">committed</a></code>" → <var>navigation</var>’s <a data-link-type="dfn" href="#navigation-api-method-navigation-committed-promise" id="ref-for-navigation-api-method-navigation-committed-promise⑧">committed promise</a>, "<code class="idl"><a data-link-type="idl" href="#dom-navigationresult-finished" id="ref-for-dom-navigationresult-finished①⑧">finished</a></code>" → <var>navigation</var>’s <a data-link-type="dfn" href="#navigation-api-method-navigation-finished-promise" id="ref-for-navigation-api-method-navigation-finished-promise⑧">finished promise</a> ]».</p>
      </ol>
     <li data-md>
      <p>Let <var>info</var> be <var>options</var>["<code class="idl"><a data-link-type="idl" href="#dom-navigationoptions-info" id="ref-for-dom-navigationoptions-info①⑤">info</a></code>"] if it <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-exists" id="ref-for-map-exists④">exists</a>, or undefined otherwise.</p>
     <li data-md>
      <p>Let <var>ongoingNavigation</var> be the result of <a data-link-type="dfn" href="#navigation-set-an-upcoming-traverse-navigation" id="ref-for-navigation-set-an-upcoming-traverse-navigation">setting an upcoming traverse navigation</a> for <var>navigation</var> given <var>key</var> and <var>info</var>.</p>
     <li data-md>
      <p>Let <var>navigable</var> be <var>sourceDocument</var>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/document-sequences.html#node-navigable" id="ref-for-node-navigable">node navigable</a>.</p>
     <li data-md>
      <p>Let <var>traversable</var> be <var>navigable</var>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/document-sequences.html#nav-traversable" id="ref-for-nav-traversable">traversable navigable</a>.</p>
     <li data-md>
      <p>Let <var>sourceSnapshotParams</var> be the result of <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsing-the-web.html#snapshotting-source-snapshot-params" id="ref-for-snapshotting-source-snapshot-params">snapshotting source snapshot params</a> given <var>sourceDocument</var>.</p>
     <li data-md>
      <p><a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsing-the-web.html#tn-append-session-history-traversal-steps" id="ref-for-tn-append-session-history-traversal-steps">Append the following session history traversal steps</a> to <var>traversable</var>:</p>
      <ol>
       <li data-md>
        <p>Let <var>navigableEntries</var> be the result of <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsing-the-web.html#getting-session-history-entries" id="ref-for-getting-session-history-entries">getting session history entries</a> given <var>navigable</var>.</p>
       <li data-md>
        <p>Let <var>targetEntry</var> be the <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsing-the-web.html#session-history-entry" id="ref-for-session-history-entry①②">session history entry</a> in <var>navigableEntries</var> whose <a data-link-type="dfn" href="#session-history-entry-navigation-api-key" id="ref-for-session-history-entry-navigation-api-key⑥">navigation API key</a> equals <var>key</var>. If no such entry exists, then:</p>
        <ol>
         <li data-md>
          <p><a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-global-task" id="ref-for-queue-a-global-task①">Queue a global task</a> on the <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#navigation-and-traversal-task-source" id="ref-for-navigation-and-traversal-task-source①">navigation and traversal task source</a> given <var>sourceDocument</var>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-global" id="ref-for-concept-relevant-global⑧">relevant global object</a> to <a data-link-type="dfn" href="#navigation-api-method-navigation-reject-the-finished-promise" id="ref-for-navigation-api-method-navigation-reject-the-finished-promise">reject the finished promise</a> for <var>ongoingNavigation</var> with an "<code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#invalidstateerror" id="ref-for-invalidstateerror①②">InvalidStateError</a></code>" <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-DOMException" id="ref-for-idl-DOMException①⑧">DOMException</a></code>.</p>
         <li data-md>
          <p>Abort these steps.</p>
        </ol>
        <p class="note" role="note">This can occur if the <var>navigation</var> object’s view of session history is outdated, which can happen for brief periods while all the relevant threads and processes are being synchronized in reaction to a history change (such as the user clearing their history). </p>
       <li data-md>
        <p>If <var>targetEntry</var> is <var>navigable</var>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/document-sequences.html#nav-active-history-entry" id="ref-for-nav-active-history-entry">active session history entry</a>, then abort these steps.</p>
        <p class="note" role="note">This can occur if a previously-queued-up traversal already took us to this session history entry. In that case that previous traversal will have dealt with <var>ongoingNavigation</var> already. </p>
       <li data-md>
        <p><a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsing-the-web.html#apply-the-history-step" id="ref-for-apply-the-history-step">Apply the history step</a> given by <var>targetEntry</var>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsing-the-web.html#she-step" id="ref-for-she-step">step</a> to <var>traversable</var>, with <i><a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsing-the-web.html#apply-history-step-check" id="ref-for-apply-history-step-check">checkForUserCancellation</a></i> set to true, <i><a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsing-the-web.html#apply-history-step-source-snapshot" id="ref-for-apply-history-step-source-snapshot">sourceSnapshotParams</a></i> set to <var>sourceSnapshotParams</var>, and <i><a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsing-the-web.html#apply-history-step-initiator" id="ref-for-apply-history-step-initiator">initiatorToCheck</a></i> set to <var>navigable</var>.</p>
        <ul>
         <li data-md>
          <p>If this aborts due to user-canceled unloading or due to the <code class="idl"><a data-link-type="idl" href="#eventdef-navigation-navigate" id="ref-for-eventdef-navigation-navigate①③">navigate</a></code> event being canceled, then <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-global-task" id="ref-for-queue-a-global-task②">queue a global task</a> on the <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#navigation-and-traversal-task-source" id="ref-for-navigation-and-traversal-task-source②">navigation and traversal task source</a> given <var>sourceDocument</var>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-global" id="ref-for-concept-relevant-global⑨">relevant global object</a> to <a data-link-type="dfn" href="#finalize-with-an-aborted-navigation-error" id="ref-for-finalize-with-an-aborted-navigation-error①">finalize with an aborted navigation error</a> given <var>navigation</var> and <var>ongoingNavigation</var>.</p>
         <li data-md>
          <p>If this aborts due to the initiator allowed-to-navigate check, then <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-global-task" id="ref-for-queue-a-global-task③">queue a global task</a> on the <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#navigation-and-traversal-task-source" id="ref-for-navigation-and-traversal-task-source③">navigation and traversal task source</a> given <var>sourceDocument</var>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-global" id="ref-for-concept-relevant-global①⓪">relevant global object</a> to <a data-link-type="dfn" href="#finalize-with-an-aborted-navigation-error" id="ref-for-finalize-with-an-aborted-navigation-error②">finalize with an aborted navigation error</a> given <var>navigation</var>, <var>ongoingNavigation</var>, and a <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#new" id="ref-for-new③">new</a> "<code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#securityerror" id="ref-for-securityerror">SecurityError</a></code>" <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-DOMException" id="ref-for-idl-DOMException①⑨">DOMException</a></code> created in <var>navigation</var>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-realm" id="ref-for-concept-relevant-realm⑤">relevant realm</a>.</p>
        </ul>
        <p class="advisement">As part of merging this spec into HTML, we would modify <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsing-the-web.html#apply-the-history-step" id="ref-for-apply-the-history-step①">apply the history step</a> to have well-specified hooks for communicating these conditions back to its caller.</p>
      </ol>
     <li data-md>
      <p>Return «[ "<code class="idl"><a data-link-type="idl" href="#dom-navigationresult-committed" id="ref-for-dom-navigationresult-committed①⑨">committed</a></code>" → <var>ongoingNavigation</var>’s <a data-link-type="dfn" href="#navigation-api-method-navigation-committed-promise" id="ref-for-navigation-api-method-navigation-committed-promise⑨">committed promise</a>, "<code class="idl"><a data-link-type="idl" href="#dom-navigationresult-finished" id="ref-for-dom-navigationresult-finished①⑨">finished</a></code>" → <var>ongoingNavigation</var>’s <a data-link-type="dfn" href="#navigation-api-method-navigation-finished-promise" id="ref-for-navigation-api-method-navigation-finished-promise⑨">finished promise</a> ]».</p>
    </ol>
   </div>
   <h3 class="heading settled" data-level="1.6" id="global-events"><span class="secno">1.6. </span><span class="content">Event handlers</span><a class="self-link" href="#global-events"></a></h3>
   <p>The following are the <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#event-handlers" id="ref-for-event-handlers">event handlers</a> (and their corresponding <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#event-handler-event-type" id="ref-for-event-handler-event-type">event handler event types</a>) that must be supported, as <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#event-handler-idl-attributes" id="ref-for-event-handler-idl-attributes">event handler IDL attributes</a>, by objects implementing the <code class="idl"><a data-link-type="idl" href="#navigation" id="ref-for-navigation②⑦">Navigation</a></code> interface:</p>
   <table>
    <thead>
     <tr>
      <th><a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#event-handlers" id="ref-for-event-handlers①">Event handler</a> 
      <th><a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#event-handler-event-type" id="ref-for-event-handler-event-type①">Event handler event type</a> 
    <tbody>
     <tr>
      <td><dfn class="dfn-paneled idl-code" data-dfn-for="Navigation" data-dfn-type="attribute" data-export id="dom-navigation-onnavigate"><code>onnavigate</code></dfn> 
      <td><dfn class="dfn-paneled idl-code" data-dfn-for="Navigation" data-dfn-type="event" data-export id="eventdef-navigation-navigate"><code>navigate</code></dfn> 
     <tr>
      <td><dfn class="dfn-paneled idl-code" data-dfn-for="Navigation" data-dfn-type="attribute" data-export id="dom-navigation-onnavigatesuccess"><code>onnavigatesuccess</code></dfn> 
      <td><dfn class="dfn-paneled idl-code" data-dfn-for="Navigation" data-dfn-type="event" data-export id="eventdef-navigation-navigatesuccess"><code>navigatesuccess</code></dfn> 
     <tr>
      <td><dfn class="dfn-paneled idl-code" data-dfn-for="Navigation" data-dfn-type="attribute" data-export id="dom-navigation-onnavigateerror"><code>onnavigateerror</code></dfn> 
      <td><dfn class="dfn-paneled idl-code" data-dfn-for="Navigation" data-dfn-type="event" data-export id="eventdef-navigation-navigateerror"><code>navigateerror</code></dfn> 
     <tr>
      <td><dfn class="dfn-paneled idl-code" data-dfn-for="Navigation" data-dfn-type="attribute" data-export id="dom-navigation-oncurrententrychange"><code>oncurrententrychange</code></dfn> 
      <td><dfn class="dfn-paneled idl-code" data-dfn-for="Navigation" data-dfn-type="event" data-export id="eventdef-navigation-currententrychange"><code>currententrychange</code></dfn> 
   </table>
   <h2 class="heading settled" data-level="2" id="navigate-event"><span class="secno">2. </span><span class="content">The <code class="idl"><a data-link-type="idl" href="#eventdef-navigation-navigate" id="ref-for-eventdef-navigation-navigate①④">navigate</a></code> event</span><a class="self-link" href="#navigate-event"></a></h2>
   <h3 class="heading settled" data-level="2.1" id="navigate-event-class"><span class="secno">2.1. </span><span class="content">The <code class="idl"><a data-link-type="idl" href="#navigateevent" id="ref-for-navigateevent②">NavigateEvent</a></code> class</span><a class="self-link" href="#navigate-event-class"></a></h3>
<pre class="idl highlight def">[<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Exposed" id="ref-for-Exposed③"><c- g>Exposed</c-></a>=<c- n>Window</c->]
<c- b>interface</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="interface" data-export id="navigateevent"><code><c- g>NavigateEvent</c-></code></dfn> : <a data-link-type="idl-name" href="https://dom.spec.whatwg.org/#event" id="ref-for-event①"><c- n>Event</c-></a> {
  <dfn class="idl-code" data-dfn-for="NavigateEvent" data-dfn-type="constructor" data-export data-lt="NavigateEvent(type, eventInit)|constructor(type, eventInit)" id="dom-navigateevent-navigateevent"><code><c- g>constructor</c-></code><a class="self-link" href="#dom-navigateevent-navigateevent"></a></dfn>(<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString" id="ref-for-idl-DOMString②"><c- b>DOMString</c-></a> <dfn class="idl-code" data-dfn-for="NavigateEvent/NavigateEvent(type, eventInit), NavigateEvent/constructor(type, eventInit)" data-dfn-type="argument" data-export id="dom-navigateevent-navigateevent-type-eventinit-type"><code><c- g>type</c-></code><a class="self-link" href="#dom-navigateevent-navigateevent-type-eventinit-type"></a></dfn>, <a data-link-type="idl-name" href="#dictdef-navigateeventinit" id="ref-for-dictdef-navigateeventinit"><c- n>NavigateEventInit</c-></a> <dfn class="idl-code" data-dfn-for="NavigateEvent/NavigateEvent(type, eventInit), NavigateEvent/constructor(type, eventInit)" data-dfn-type="argument" data-export id="dom-navigateevent-navigateevent-type-eventinit-eventinit"><code><c- g>eventInit</c-></code><a class="self-link" href="#dom-navigateevent-navigateevent-type-eventinit-eventinit"></a></dfn>);

  <c- b>readonly</c-> <c- b>attribute</c-> <a data-link-type="idl-name" href="#enumdef-navigationtype" id="ref-for-enumdef-navigationtype⑤"><c- n>NavigationType</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="NavigationType" href="#dom-navigateevent-navigationtype" id="ref-for-dom-navigateevent-navigationtype"><c- g>navigationType</c-></a>;
  <c- b>readonly</c-> <c- b>attribute</c-> <a data-link-type="idl-name" href="#navigationdestination" id="ref-for-navigationdestination"><c- n>NavigationDestination</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="NavigationDestination" href="#dom-navigateevent-destination" id="ref-for-dom-navigateevent-destination"><c- g>destination</c-></a>;
  <c- b>readonly</c-> <c- b>attribute</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-boolean" id="ref-for-idl-boolean②"><c- b>boolean</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="boolean" href="#dom-navigateevent-canintercept" id="ref-for-dom-navigateevent-canintercept"><c- g>canIntercept</c-></a>;
  <c- b>readonly</c-> <c- b>attribute</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-boolean" id="ref-for-idl-boolean③"><c- b>boolean</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="boolean" href="#dom-navigateevent-userinitiated" id="ref-for-dom-navigateevent-userinitiated"><c- g>userInitiated</c-></a>;
  <c- b>readonly</c-> <c- b>attribute</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-boolean" id="ref-for-idl-boolean④"><c- b>boolean</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="boolean" href="#dom-navigateevent-hashchange" id="ref-for-dom-navigateevent-hashchange"><c- g>hashChange</c-></a>;
  <c- b>readonly</c-> <c- b>attribute</c-> <a data-link-type="idl-name" href="https://dom.spec.whatwg.org/#abortsignal" id="ref-for-abortsignal①"><c- n>AbortSignal</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="AbortSignal" href="#dom-navigateevent-signal" id="ref-for-dom-navigateevent-signal①"><c- g>signal</c-></a>;
  <c- b>readonly</c-> <c- b>attribute</c-> <a data-link-type="idl-name" href="https://xhr.spec.whatwg.org/#formdata" id="ref-for-formdata"><c- n>FormData</c-></a>? <a class="idl-code" data-link-type="attribute" data-readonly data-type="FormData?" href="#dom-navigateevent-formdata" id="ref-for-dom-navigateevent-formdata"><c- g>formData</c-></a>;
  <c- b>readonly</c-> <c- b>attribute</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString" id="ref-for-idl-DOMString③"><c- b>DOMString</c-></a>? <a class="idl-code" data-link-type="attribute" data-readonly data-type="DOMString?" href="#dom-navigateevent-downloadrequest" id="ref-for-dom-navigateevent-downloadrequest"><c- g>downloadRequest</c-></a>;
  <c- b>readonly</c-> <c- b>attribute</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-any" id="ref-for-idl-any④"><c- b>any</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="any" href="#dom-navigateevent-info" id="ref-for-dom-navigateevent-info④"><c- g>info</c-></a>;

  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-undefined" id="ref-for-idl-undefined②"><c- b>undefined</c-></a> <a class="idl-code" data-link-type="method" href="#dom-navigateevent-intercept" id="ref-for-dom-navigateevent-intercept①④"><c- g>intercept</c-></a>(<c- b>optional</c-> <a data-link-type="idl-name" href="#dictdef-navigationinterceptoptions" id="ref-for-dictdef-navigationinterceptoptions"><c- n>NavigationInterceptOptions</c-></a> <dfn class="idl-code" data-dfn-for="NavigateEvent/intercept(options), NavigateEvent/intercept()" data-dfn-type="argument" data-export id="dom-navigateevent-intercept-options-options"><code><c- g>options</c-></code><a class="self-link" href="#dom-navigateevent-intercept-options-options"></a></dfn> = {});
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-undefined" id="ref-for-idl-undefined③"><c- b>undefined</c-></a> <a class="idl-code" data-link-type="method" href="#dom-navigateevent-scroll" id="ref-for-dom-navigateevent-scroll"><c- g>scroll</c-></a>();
};

<c- b>dictionary</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="dictionary" data-export id="dictdef-navigateeventinit"><code><c- g>NavigateEventInit</c-></code></dfn> : <a data-link-type="idl-name" href="https://dom.spec.whatwg.org/#dictdef-eventinit" id="ref-for-dictdef-eventinit①"><c- n>EventInit</c-></a> {
  <a data-link-type="idl-name" href="#enumdef-navigationtype" id="ref-for-enumdef-navigationtype⑥"><c- n>NavigationType</c-></a> <dfn class="idl-code" data-default="&quot;push&quot;" data-dfn-for="NavigateEventInit" data-dfn-type="dict-member" data-export data-type="NavigationType " id="dom-navigateeventinit-navigationtype"><code><c- g>navigationType</c-></code><a class="self-link" href="#dom-navigateeventinit-navigationtype"></a></dfn> = "push";
  <c- b>required</c-> <a data-link-type="idl-name" href="#navigationdestination" id="ref-for-navigationdestination①"><c- n>NavigationDestination</c-></a> <dfn class="idl-code" data-dfn-for="NavigateEventInit" data-dfn-type="dict-member" data-export data-type="NavigationDestination " id="dom-navigateeventinit-destination"><code><c- g>destination</c-></code><a class="self-link" href="#dom-navigateeventinit-destination"></a></dfn>;
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-boolean" id="ref-for-idl-boolean⑤"><c- b>boolean</c-></a> <dfn class="idl-code" data-default="false" data-dfn-for="NavigateEventInit" data-dfn-type="dict-member" data-export data-type="boolean " id="dom-navigateeventinit-canintercept"><code><c- g>canIntercept</c-></code><a class="self-link" href="#dom-navigateeventinit-canintercept"></a></dfn> = <c- b>false</c->;
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-boolean" id="ref-for-idl-boolean⑥"><c- b>boolean</c-></a> <dfn class="idl-code" data-default="false" data-dfn-for="NavigateEventInit" data-dfn-type="dict-member" data-export data-type="boolean " id="dom-navigateeventinit-userinitiated"><code><c- g>userInitiated</c-></code><a class="self-link" href="#dom-navigateeventinit-userinitiated"></a></dfn> = <c- b>false</c->;
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-boolean" id="ref-for-idl-boolean⑦"><c- b>boolean</c-></a> <dfn class="idl-code" data-default="false" data-dfn-for="NavigateEventInit" data-dfn-type="dict-member" data-export data-type="boolean " id="dom-navigateeventinit-hashchange"><code><c- g>hashChange</c-></code><a class="self-link" href="#dom-navigateeventinit-hashchange"></a></dfn> = <c- b>false</c->;
  <c- b>required</c-> <a data-link-type="idl-name" href="https://dom.spec.whatwg.org/#abortsignal" id="ref-for-abortsignal②"><c- n>AbortSignal</c-></a> <dfn class="idl-code" data-dfn-for="NavigateEventInit" data-dfn-type="dict-member" data-export data-type="AbortSignal " id="dom-navigateeventinit-signal"><code><c- g>signal</c-></code><a class="self-link" href="#dom-navigateeventinit-signal"></a></dfn>;
  <a data-link-type="idl-name" href="https://xhr.spec.whatwg.org/#formdata" id="ref-for-formdata①"><c- n>FormData</c-></a>? <dfn class="idl-code" data-default="null" data-dfn-for="NavigateEventInit" data-dfn-type="dict-member" data-export data-type="FormData? " id="dom-navigateeventinit-formdata"><code><c- g>formData</c-></code><a class="self-link" href="#dom-navigateeventinit-formdata"></a></dfn> = <c- b>null</c->;
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString" id="ref-for-idl-DOMString④"><c- b>DOMString</c-></a>? <dfn class="idl-code" data-default="null" data-dfn-for="NavigateEventInit" data-dfn-type="dict-member" data-export data-type="DOMString? " id="dom-navigateeventinit-downloadrequest"><code><c- g>downloadRequest</c-></code><a class="self-link" href="#dom-navigateeventinit-downloadrequest"></a></dfn> = <c- b>null</c->;
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-any" id="ref-for-idl-any⑤"><c- b>any</c-></a> <dfn class="idl-code" data-dfn-for="NavigateEventInit" data-dfn-type="dict-member" data-export data-type="any " id="dom-navigateeventinit-info"><code><c- g>info</c-></code><a class="self-link" href="#dom-navigateeventinit-info"></a></dfn>;
};

<c- b>dictionary</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="dictionary" data-export id="dictdef-navigationinterceptoptions"><code><c- g>NavigationInterceptOptions</c-></code></dfn> {
  <a data-link-type="idl-name" href="#callbackdef-navigationintercepthandler" id="ref-for-callbackdef-navigationintercepthandler"><c- n>NavigationInterceptHandler</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="NavigationInterceptOptions" data-dfn-type="dict-member" data-export data-type="NavigationInterceptHandler " id="dom-navigationinterceptoptions-handler"><code><c- g>handler</c-></code></dfn>;
  <a data-link-type="idl-name" href="#enumdef-navigationfocusreset" id="ref-for-enumdef-navigationfocusreset"><c- n>NavigationFocusReset</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="NavigationInterceptOptions" data-dfn-type="dict-member" data-export data-type="NavigationFocusReset " id="dom-navigationinterceptoptions-focusreset"><code><c- g>focusReset</c-></code></dfn>;
  <a data-link-type="idl-name" href="#enumdef-navigationscrollbehavior" id="ref-for-enumdef-navigationscrollbehavior"><c- n>NavigationScrollBehavior</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="NavigationInterceptOptions" data-dfn-type="dict-member" data-export data-type="NavigationScrollBehavior " id="dom-navigationinterceptoptions-scroll"><code><c- g>scroll</c-></code></dfn>;
};

<c- b>enum</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="enum" data-export id="enumdef-navigationfocusreset"><code><c- g>NavigationFocusReset</c-></code></dfn> {
  <dfn class="dfn-paneled idl-code" data-dfn-for="NavigationFocusReset" data-dfn-type="enum-value" data-export id="dom-navigationfocusreset-after-transition"><code><c- s>"after-transition"</c-></code></dfn>,
  <dfn class="dfn-paneled idl-code" data-dfn-for="NavigationFocusReset" data-dfn-type="enum-value" data-export id="dom-navigationfocusreset-manual"><code><c- s>"manual"</c-></code></dfn>
};

<c- b>enum</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="enum" data-export id="enumdef-navigationscrollbehavior"><code><c- g>NavigationScrollBehavior</c-></code></dfn> {
  <dfn class="dfn-paneled idl-code" data-dfn-for="NavigationScrollBehavior" data-dfn-type="enum-value" data-export id="dom-navigationscrollbehavior-after-transition"><code><c- s>"after-transition"</c-></code></dfn>,
  <dfn class="dfn-paneled idl-code" data-dfn-for="NavigationScrollBehavior" data-dfn-type="enum-value" data-export id="dom-navigationscrollbehavior-manual"><code><c- s>"manual"</c-></code></dfn>
};

<c- b>callback</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="callback" data-export id="callbackdef-navigationintercepthandler"><code><c- g>NavigationInterceptHandler</c-></code></dfn> = <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise" id="ref-for-idl-promise⑨"><c- b>Promise</c-></a>&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-undefined" id="ref-for-idl-undefined④"><c- b>undefined</c-></a>> ();

<c- b>enum</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="enum" data-export id="enumdef-navigationtype"><code><c- g>NavigationType</c-></code></dfn> {
  <dfn class="dfn-paneled idl-code" data-dfn-for="NavigationType" data-dfn-type="enum-value" data-export id="dom-navigationtype-reload"><code><c- s>"reload"</c-></code></dfn>,
  <dfn class="dfn-paneled idl-code" data-dfn-for="NavigationType" data-dfn-type="enum-value" data-export id="dom-navigationtype-push"><code><c- s>"push"</c-></code></dfn>,
  <dfn class="dfn-paneled idl-code" data-dfn-for="NavigationType" data-dfn-type="enum-value" data-export id="dom-navigationtype-replace"><code><c- s>"replace"</c-></code></dfn>,
  <dfn class="dfn-paneled idl-code" data-dfn-for="NavigationType" data-dfn-type="enum-value" data-export id="dom-navigationtype-traverse"><code><c- s>"traverse"</c-></code></dfn>
};
</pre>
   <dl class="domintro non-normative">
    <dt><code><var>event</var>.<code class="idl"><a data-link-type="idl" href="#dom-navigateevent-navigationtype" id="ref-for-dom-navigateevent-navigationtype①">navigationType</a></code></code> 
    <dd>
     <p>One of "<code class="idl"><a data-link-type="idl" href="#dom-navigationtype-reload" id="ref-for-dom-navigationtype-reload①">reload</a></code>", "<code class="idl"><a data-link-type="idl" href="#dom-navigationtype-push" id="ref-for-dom-navigationtype-push③">push</a></code>", "<code class="idl"><a data-link-type="idl" href="#dom-navigationtype-replace" id="ref-for-dom-navigationtype-replace③">replace</a></code>", or "<code class="idl"><a data-link-type="idl" href="#dom-navigationtype-traverse" id="ref-for-dom-navigationtype-traverse④">traverse</a></code>", indicating what type of navigation this is. </p>
    <dt><code><var>event</var>.<code class="idl"><a data-link-type="idl" href="#dom-navigateevent-destination" id="ref-for-dom-navigateevent-destination①">destination</a></code></code> 
    <dd>
     <p>A <code class="idl"><a data-link-type="idl" href="#navigationdestination" id="ref-for-navigationdestination②">NavigationDestination</a></code> representing the destination of the navigation. </p>
    <dt><code><var>event</var>.<code class="idl"><a data-link-type="idl" href="#dom-navigateevent-canintercept" id="ref-for-dom-navigateevent-canintercept①">canIntercept</a></code></code> 
    <dd>
     <p>True if <code class="idl"><a data-link-type="idl" href="#dom-navigateevent-intercept" id="ref-for-dom-navigateevent-intercept①⑤">intercept()</a></code> can be called to intercept this navigation and convert it into a single-page navigation; false otherwise. </p>
     <p>Generally speaking, this will be true whenever the current <code class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#document" id="ref-for-document">Document</a></code> <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/nav-history-apis.html#can-have-its-url-rewritten" id="ref-for-can-have-its-url-rewritten">can have its URL rewritten</a> to the destination URL, except for cross-document back/forward navigations, where it will always be false. </p>
    <dt><code><var>event</var>.<code class="idl"><a data-link-type="idl" href="#dom-navigateevent-userinitiated" id="ref-for-dom-navigateevent-userinitiated①">userInitiated</a></code></code> 
    <dd>
     <p>True if this navigation was due to a user clicking on an <code><a data-link-type="element" href="https://html.spec.whatwg.org/multipage/text-level-semantics.html#the-a-element" id="ref-for-the-a-element">a</a></code> element, submitting a <code><a data-link-type="element" href="https://html.spec.whatwg.org/multipage/forms.html#the-form-element" id="ref-for-the-form-element">form</a></code> element, or using the browser UI to navigate; false otherwise. </p>
    <dt><code><var>event</var>.<code class="idl"><a data-link-type="idl" href="#dom-navigateevent-hashchange" id="ref-for-dom-navigateevent-hashchange①">hashChange</a></code></code> 
    <dd>
     <p>True if this navigation is a <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsing-the-web.html#navigate-fragid" id="ref-for-navigate-fragid①">fragment navigation</a>; false otherwise. </p>
    <dt><code><var>event</var>.<code class="idl"><a data-link-type="idl" href="#dom-navigateevent-signal" id="ref-for-dom-navigateevent-signal②">signal</a></code></code> 
    <dd>
     <p>An <code class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#abortsignal" id="ref-for-abortsignal③">AbortSignal</a></code> which will become aborted if the navigation gets canceled, e.g. by the user pressing their browser’s "Stop" button, or another higher-priority navigation interrupting this one. </p>
     <p>The expected pattern is for developers to pass this along to any async operations, such as <code class="idl"><a data-link-type="idl" href="https://fetch.spec.whatwg.org/#dom-global-fetch" id="ref-for-dom-global-fetch">fetch()</a></code>, which they perform as part of handling this navigation. </p>
    <dt><code><var>event</var>.<code class="idl"><a data-link-type="idl" href="#dom-navigateevent-formdata" id="ref-for-dom-navigateevent-formdata①">formData</a></code></code> 
    <dd>
     <p>The <code class="idl"><a data-link-type="idl" href="https://xhr.spec.whatwg.org/#formdata" id="ref-for-formdata②">FormData</a></code> representing the submitted form entries for this navigation, if this navigation is a "<code class="idl"><a data-link-type="idl" href="#dom-navigationtype-push" id="ref-for-dom-navigationtype-push④">push</a></code>" or "<code class="idl"><a data-link-type="idl" href="#dom-navigationtype-replace" id="ref-for-dom-navigationtype-replace④">replace</a></code>" navigation representing a POST <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/form-control-infrastructure.html#concept-form-submit" id="ref-for-concept-form-submit">form submission</a>; null otherwise. </p>
     <p>(Notably, this will be null even for "<code class="idl"><a data-link-type="idl" href="#dom-navigationtype-reload" id="ref-for-dom-navigationtype-reload②">reload</a></code>" and "<code class="idl"><a data-link-type="idl" href="#dom-navigationtype-traverse" id="ref-for-dom-navigationtype-traverse⑤">traverse</a></code>" navigations that are revisiting a session history entry that was originally created from a form submission.) </p>
    <dt><code><var>event</var>.<code class="idl"><a data-link-type="idl" href="#dom-navigateevent-downloadrequest" id="ref-for-dom-navigateevent-downloadrequest①">downloadRequest</a></code></code> 
    <dd>
     <p>Represents whether or not this navigation was requested to be a download, by using an <code><a data-link-type="element" href="https://html.spec.whatwg.org/multipage/text-level-semantics.html#the-a-element" id="ref-for-the-a-element①">a</a></code> or <code><a data-link-type="element" href="https://html.spec.whatwg.org/multipage/image-maps.html#the-area-element" id="ref-for-the-area-element">area</a></code> element’s <code><a data-link-type="element-sub" href="https://html.spec.whatwg.org/multipage/links.html#attr-hyperlink-download" id="ref-for-attr-hyperlink-download">download</a></code> attribute: </p>
     <ul>
      <li data-md>
       <p>If a download was not requested, then this property is null.</p>
      <li data-md>
       <p>If a download was requested, returns the filename that was supplied, via <code>&lt;a download="filename" href="..."></code>. (This could be the empty string, as in the case of <code>&lt;a download href="..."></code>.)</p>
     </ul>
     <p>Note that a download being requested does not always mean that a download will happen: for example, the download might be blocked by browser security policies, or end up being treated as a push navigation for <a class="XXX" href="https://github.com/whatwg/html/issues/7718">unspecified reasons</a>. </p>
     <p>Similarly, a navigation might end up being a download even if it was not requested to be one, due to the destination server responding with a <code>Content-Disposition: attachment</code> header. </p>
     <p>Finally, note that the <code class="idl"><a data-link-type="idl" href="#eventdef-navigation-navigate" id="ref-for-eventdef-navigation-navigate①⑤">navigate</a></code> event will not fire at all for downloads initiated using browser UI affordances, e.g., those created by right-clicking and choosing to save the target of the link. </p>
    <dt><code><var>event</var>.<code class="idl"><a data-link-type="idl" href="#dom-navigateevent-info" id="ref-for-dom-navigateevent-info⑤">info</a></code></code> 
    <dd>
     <p>An arbitrary JavaScript value passed via <code class="idl"><a data-link-type="idl" href="#dom-window-navigation" id="ref-for-dom-window-navigation②⓪">navigation</a></code> APIs that initiated this navigation, or null if the navigation was initiated by the user or via a non-<code class="idl"><a data-link-type="idl" href="#dom-window-navigation" id="ref-for-dom-window-navigation②①">navigation</a></code> API. </p>
    <dt><code><var>event</var>.<code class="idl"><a data-link-type="idl" href="#dom-navigateevent-intercept" id="ref-for-dom-navigateevent-intercept①⑥">intercept</a></code>({ <code class="idl"><a data-link-type="idl" href="#dom-navigationinterceptoptions-handler" id="ref-for-dom-navigationinterceptoptions-handler">handler</a></code>, <code class="idl"><a data-link-type="idl" href="#dom-navigationinterceptoptions-focusreset" id="ref-for-dom-navigationinterceptoptions-focusreset">focusReset</a></code>, <code class="idl"><a data-link-type="idl" href="#dom-navigationinterceptoptions-scroll" id="ref-for-dom-navigationinterceptoptions-scroll①">scroll</a></code> })</code> 
    <dd>
     <p>Intercepts this navigation, preventing its normally handling and instead converting it into a same-document navigation to the destination URL. </p>
     <p>The <code class="idl"><a data-link-type="idl" href="#dom-navigationinterceptoptions-handler" id="ref-for-dom-navigationinterceptoptions-handler①">handler</a></code> option can be a function that returns a promise. The handler function will run after the <code class="idl"><a data-link-type="idl" href="#eventdef-navigation-navigate" id="ref-for-eventdef-navigation-navigate①⑥">navigate</a></code> event has finished firing, and the <code class="idl"><a data-link-type="idl" href="#dom-navigation-currententry" id="ref-for-dom-navigation-currententry⑨">navigation.currentEntry</a></code> property has been synchronously updated. This promise is used to signal the duration, and success or failure, of the navigation. After it settles, the browser signals to the user (e.g. via a loading spinner UI, or assistive technology) that the navigation is finished. Additionally, it fires <code class="idl"><a data-link-type="idl" href="#eventdef-navigation-navigatesuccess" id="ref-for-eventdef-navigation-navigatesuccess③">navigatesuccess</a></code> or <code class="idl"><a data-link-type="idl" href="#eventdef-navigation-navigateerror" id="ref-for-eventdef-navigation-navigateerror④">navigateerror</a></code> events as appropriate, which other parts of the web application can respond to. </p>
     <p>By default, using this method will cause focus to reset when any handlers' returned promises settle. Focus will be reset to the first element with the <code><a data-link-type="element-sub" href="https://html.spec.whatwg.org/multipage/interaction.html#attr-fe-autofocus" id="ref-for-attr-fe-autofocus">autofocus</a></code> attribute set, or the <code><a data-link-type="element" href="https://html.spec.whatwg.org/multipage/sections.html#the-body-element" id="ref-for-the-body-element">body</a></code> element if the attribute isn’t present. The <code class="idl"><a data-link-type="idl" href="#dom-navigationinterceptoptions-focusreset" id="ref-for-dom-navigationinterceptoptions-focusreset①">focusReset</a></code> option can be set to "<code class="idl"><a data-link-type="idl" href="#dom-navigationfocusreset-manual" id="ref-for-dom-navigationfocusreset-manual">manual</a></code>" to avoid this behavior. </p>
     <p>By default, using this method will delay the browser’s scroll restoration logic for "<code class="idl"><a data-link-type="idl" href="#dom-navigationtype-traverse" id="ref-for-dom-navigationtype-traverse⑥">traverse</a></code>" or "<code class="idl"><a data-link-type="idl" href="#dom-navigationtype-reload" id="ref-for-dom-navigationtype-reload③">reload</a></code>" navigations, or its scroll-reset/scroll-to-a-fragment logic for "<code class="idl"><a data-link-type="idl" href="#dom-navigationtype-push" id="ref-for-dom-navigationtype-push⑤">push</a></code>" and "<code class="idl"><a data-link-type="idl" href="#dom-navigationtype-replace" id="ref-for-dom-navigationtype-replace⑤">replace</a></code>" navigations, until any handlers' returned promises settle. The <code class="idl"><a data-link-type="idl" href="#dom-navigationinterceptoptions-scroll" id="ref-for-dom-navigationinterceptoptions-scroll②">scroll</a></code> option can be set to "<code class="idl"><a data-link-type="idl" href="#dom-navigationscrollbehavior-manual" id="ref-for-dom-navigationscrollbehavior-manual">manual</a></code>" to turn off any browser-driven scroll behavior entirely for this navigation, or <code class="idl"><a data-link-type="idl" href="#dom-navigateevent-scroll" id="ref-for-dom-navigateevent-scroll①">event.scroll()</a></code> can be called before the promise settles to trigger this behavior early. </p>
     <p>This method will throw a "<code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#securityerror" id="ref-for-securityerror①">SecurityError</a></code>" <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-DOMException" id="ref-for-idl-DOMException②⓪">DOMException</a></code> if <code class="idl"><a data-link-type="idl" href="#dom-navigateevent-canintercept" id="ref-for-dom-navigateevent-canintercept②">canIntercept</a></code> is false, or if <code class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#dom-event-istrusted" id="ref-for-dom-event-istrusted">isTrusted</a></code> is false. It will throw an "<code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#invalidstateerror" id="ref-for-invalidstateerror①③">InvalidStateError</a></code>" <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-DOMException" id="ref-for-idl-DOMException②①">DOMException</a></code> if not called synchronously, during event dispatch. </p>
    <dt><code><var>event</var>.<code class="idl"><a data-link-type="idl" href="#dom-navigateevent-scroll" id="ref-for-dom-navigateevent-scroll②">scroll</a></code>()</code> 
    <dd>
     <p>For "<code class="idl"><a data-link-type="idl" href="#dom-navigationtype-traverse" id="ref-for-dom-navigationtype-traverse⑦">traverse</a></code>" or "<code class="idl"><a data-link-type="idl" href="#dom-navigationtype-reload" id="ref-for-dom-navigationtype-reload④">reload</a></code>" navigations, restores the scroll position using the browser’s usual scroll restoration logic. </p>
     <p>For "<code class="idl"><a data-link-type="idl" href="#dom-navigationtype-push" id="ref-for-dom-navigationtype-push⑥">push</a></code>" or "<code class="idl"><a data-link-type="idl" href="#dom-navigationtype-replace" id="ref-for-dom-navigationtype-replace⑥">replace</a></code>" navigations, either resets the scroll position to the top of the document or scrolls to the fragment specified by <code class="idl"><a data-link-type="idl" href="#dom-navigationdestination-url" id="ref-for-dom-navigationdestination-url">event.destination.url</a></code> if there is one. </p>
     <p>If called more than once, or called after automatic post-transition scroll processing has happened due to the <code class="idl"><a data-link-type="idl" href="#dom-navigationinterceptoptions-scroll" id="ref-for-dom-navigationinterceptoptions-scroll③">scroll</a></code> option being left as "<code class="idl"><a data-link-type="idl" href="#dom-navigationscrollbehavior-after-transition" id="ref-for-dom-navigationscrollbehavior-after-transition">after-transition</a></code>", this method will throw an "<code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#invalidstateerror" id="ref-for-invalidstateerror①④">InvalidStateError</a></code>" <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-DOMException" id="ref-for-idl-DOMException②②">DOMException</a></code>. </p>
   </dl>
   <p>The <dfn class="dfn-paneled idl-code" data-dfn-for="NavigateEvent" data-dfn-type="attribute" data-export id="dom-navigateevent-navigationtype"><code>navigationType</code></dfn>, <dfn class="dfn-paneled idl-code" data-dfn-for="NavigateEvent" data-dfn-type="attribute" data-export id="dom-navigateevent-destination"><code>destination</code></dfn>, <dfn class="dfn-paneled idl-code" data-dfn-for="NavigateEvent" data-dfn-type="attribute" data-export id="dom-navigateevent-canintercept"><code>canIntercept</code></dfn>, <dfn class="dfn-paneled idl-code" data-dfn-for="NavigateEvent" data-dfn-type="attribute" data-export id="dom-navigateevent-userinitiated"><code>userInitiated</code></dfn>, <dfn class="dfn-paneled idl-code" data-dfn-for="NavigateEvent" data-dfn-type="attribute" data-export id="dom-navigateevent-hashchange"><code>hashChange</code></dfn>, <dfn class="dfn-paneled idl-code" data-dfn-for="NavigateEvent" data-dfn-type="attribute" data-export id="dom-navigateevent-signal"><code>signal</code></dfn>, <dfn class="dfn-paneled idl-code" data-dfn-for="NavigateEvent" data-dfn-type="attribute" data-export id="dom-navigateevent-formdata"><code>formData</code></dfn>, <dfn class="dfn-paneled idl-code" data-dfn-for="NavigateEvent" data-dfn-type="attribute" data-export id="dom-navigateevent-downloadrequest"><code>downloadRequest</code></dfn>, and <dfn class="dfn-paneled idl-code" data-dfn-for="NavigateEvent" data-dfn-type="attribute" data-export id="dom-navigateevent-info"><code>info</code></dfn> getter steps are to return the value that the corresponding attribute was initialized to.</p>
   <p>A <code class="idl"><a data-link-type="idl" href="#navigateevent" id="ref-for-navigateevent③">NavigateEvent</a></code> has a <dfn class="dfn-paneled" data-dfn-for="NavigateEvent" data-dfn-type="dfn" data-noexport id="navigateevent-classic-history-api-serialized-data">classic history API serialized data</dfn>, a <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsing-the-web.html#serialized-state" id="ref-for-serialized-state②">serialized state</a>-or-null. It is only used in some cases where the event’s <code class="idl"><a data-link-type="idl" href="#dom-navigateevent-navigationtype" id="ref-for-dom-navigateevent-navigationtype②">navigationType</a></code> is "<code class="idl"><a data-link-type="idl" href="#dom-navigationtype-push" id="ref-for-dom-navigationtype-push⑦">push</a></code>" or "<code class="idl"><a data-link-type="idl" href="#dom-navigationtype-replace" id="ref-for-dom-navigationtype-replace⑦">replace</a></code>", and is set appropriately when the event is <a href="#navigate-event-firing">fired</a>.</p>
   <p>A <code class="idl"><a data-link-type="idl" href="#navigateevent" id="ref-for-navigateevent④">NavigateEvent</a></code> has a <dfn class="dfn-paneled" data-dfn-for="NavigateEvent" data-dfn-type="dfn" data-noexport id="navigateevent-focus-reset-behavior">focus reset behavior</dfn>, a <code class="idl"><a data-link-type="idl" href="#enumdef-navigationfocusreset" id="ref-for-enumdef-navigationfocusreset①">NavigationFocusReset</a></code>-or-null, initially null.</p>
   <p>A <code class="idl"><a data-link-type="idl" href="#navigateevent" id="ref-for-navigateevent⑤">NavigateEvent</a></code> has a <dfn class="dfn-paneled" data-dfn-for="NavigateEvent" data-dfn-type="dfn" data-noexport id="navigateevent-scroll-behavior">scroll behavior</dfn>, a <code class="idl"><a data-link-type="idl" href="#enumdef-navigationscrollbehavior" id="ref-for-enumdef-navigationscrollbehavior①">NavigationScrollBehavior</a></code>-or-null, initially null.</p>
   <p>A <code class="idl"><a data-link-type="idl" href="#navigateevent" id="ref-for-navigateevent⑥">NavigateEvent</a></code> has a <dfn class="dfn-paneled" data-dfn-for="NavigateEvent" data-dfn-type="dfn" data-noexport id="navigateevent-did-process-scroll-behavior">did process scroll behavior</dfn>, a boolean, initially false.</p>
   <p>A <code class="idl"><a data-link-type="idl" href="#navigateevent" id="ref-for-navigateevent⑦">NavigateEvent</a></code> has a <dfn class="dfn-paneled" data-dfn-for="NavigateEvent" data-dfn-type="dfn" data-noexport id="navigateevent-was-intercepted">was intercepted</dfn>, a boolean, initially false.</p>
   <p>A <code class="idl"><a data-link-type="idl" href="#navigateevent" id="ref-for-navigateevent⑧">NavigateEvent</a></code> has a <dfn class="dfn-paneled" data-dfn-for="NavigateEvent" data-dfn-type="dfn" data-noexport id="navigateevent-needs-continue">needs continue</dfn>, a boolean, initially false.</p>
   <p>A <code class="idl"><a data-link-type="idl" href="#navigateevent" id="ref-for-navigateevent⑨">NavigateEvent</a></code> has a <dfn class="dfn-paneled" data-dfn-for="NavigateEvent" data-dfn-type="dfn" data-noexport id="navigateevent-navigation-handler-list">navigation handler list</dfn>, which is a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list" id="ref-for-list④">list</a> of <code class="idl"><a data-link-type="idl" href="#callbackdef-navigationintercepthandler" id="ref-for-callbackdef-navigationintercepthandler①">NavigationInterceptHandler</a></code> callbacks, initially empty.</p>
   <div class="algorithm" data-algorithm="intercept(options)" data-algorithm-for="NavigateEvent">
     The <dfn class="dfn-paneled idl-code" data-dfn-for="NavigateEvent" data-dfn-type="method" data-export data-lt="intercept(options)|intercept()" id="dom-navigateevent-intercept"><code>intercept(<var>options</var>)</code></dfn> method steps are: 
    <ol>
     <li data-md>
      <p>If <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this" id="ref-for-this③③">this</a>'s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-global" id="ref-for-concept-relevant-global①①">relevant global object</a>'s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/nav-history-apis.html#concept-document-window" id="ref-for-concept-document-window④">associated Document</a> is not <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/document-sequences.html#fully-active" id="ref-for-fully-active③">fully active</a>, then throw an "<code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#invalidstateerror" id="ref-for-invalidstateerror①⑤">InvalidStateError</a></code>" <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-DOMException" id="ref-for-idl-DOMException②③">DOMException</a></code>.</p>
     <li data-md>
      <p>If <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this" id="ref-for-this③④">this</a>'s <code class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#dom-event-istrusted" id="ref-for-dom-event-istrusted①">isTrusted</a></code> attribute was initialized to false, then throw a "<code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#securityerror" id="ref-for-securityerror②">SecurityError</a></code>" <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-DOMException" id="ref-for-idl-DOMException②④">DOMException</a></code>.</p>
     <li data-md>
      <p>If <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this" id="ref-for-this③⑤">this</a>'s <code class="idl"><a data-link-type="idl" href="#dom-navigateevent-canintercept" id="ref-for-dom-navigateevent-canintercept③">canIntercept</a></code> attribute was initialized to false, then throw a "<code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#securityerror" id="ref-for-securityerror③">SecurityError</a></code>" <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-DOMException" id="ref-for-idl-DOMException②⑤">DOMException</a></code>.</p>
     <li data-md>
      <p>If <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this" id="ref-for-this③⑥">this</a>'s <a data-link-type="dfn" href="https://dom.spec.whatwg.org/#dispatch-flag" id="ref-for-dispatch-flag">dispatch flag</a> is unset, then throw an "<code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#invalidstateerror" id="ref-for-invalidstateerror①⑥">InvalidStateError</a></code>" <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-DOMException" id="ref-for-idl-DOMException②⑥">DOMException</a></code>.</p>
     <li data-md>
      <p>If <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this" id="ref-for-this③⑦">this</a>'s <a data-link-type="dfn" href="https://dom.spec.whatwg.org/#canceled-flag" id="ref-for-canceled-flag①">canceled flag</a> is set, then throw an "<code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#invalidstateerror" id="ref-for-invalidstateerror①⑦">InvalidStateError</a></code>" <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-DOMException" id="ref-for-idl-DOMException②⑦">DOMException</a></code>.</p>
     <li data-md>
      <p>If <var>options</var>["<code class="idl"><a data-link-type="idl" href="#dom-navigationinterceptoptions-handler" id="ref-for-dom-navigationinterceptoptions-handler②">handler</a></code>"] <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-exists" id="ref-for-map-exists⑤">exists</a>, then <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-append" id="ref-for-list-append④">append</a> it to <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this" id="ref-for-this③⑧">this</a>'s <a data-link-type="dfn" href="#navigateevent-navigation-handler-list" id="ref-for-navigateevent-navigation-handler-list">navigation handler list</a>.</p>
     <li data-md>
      <p>Set <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this" id="ref-for-this③⑨">this</a>'s <a data-link-type="dfn" href="#navigateevent-was-intercepted" id="ref-for-navigateevent-was-intercepted">was intercepted</a> to true.</p>
     <li data-md>
      <p>If <var>options</var>["<code class="idl"><a data-link-type="idl" href="#dom-navigationinterceptoptions-focusreset" id="ref-for-dom-navigationinterceptoptions-focusreset②">focusReset</a></code>"] <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-exists" id="ref-for-map-exists⑥">exists</a>, then:</p>
      <ol>
       <li data-md>
        <p>If <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this" id="ref-for-this④⓪">this</a>'s <a data-link-type="dfn" href="#navigateevent-focus-reset-behavior" id="ref-for-navigateevent-focus-reset-behavior">focus reset behavior</a> is not null, and it is not equal to <var>options</var>["<code class="idl"><a data-link-type="idl" href="#dom-navigationinterceptoptions-focusreset" id="ref-for-dom-navigationinterceptoptions-focusreset③">focusReset</a></code>"], then the user agent may <a data-link-type="dfn" href="https://console.spec.whatwg.org/#report-a-warning-to-the-console" id="ref-for-report-a-warning-to-the-console">report a warning to the console</a> indicating that the <code class="idl"><a data-link-type="idl" href="#dom-navigationinterceptoptions-focusreset" id="ref-for-dom-navigationinterceptoptions-focusreset④">focusReset</a></code> option for a previous call to <code class="idl"><a data-link-type="idl" href="#dom-navigateevent-intercept" id="ref-for-dom-navigateevent-intercept①⑦">intercept()</a></code> was overridden by this new value, and the previous value will be ignored.</p>
       <li data-md>
        <p>Set <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this" id="ref-for-this④①">this</a>'s <a data-link-type="dfn" href="#navigateevent-focus-reset-behavior" id="ref-for-navigateevent-focus-reset-behavior①">focus reset behavior</a> to <var>options</var>["<code class="idl"><a data-link-type="idl" href="#dom-navigationinterceptoptions-focusreset" id="ref-for-dom-navigationinterceptoptions-focusreset⑤">focusReset</a></code>"].</p>
      </ol>
     <li data-md>
      <p>If <var>options</var>["<code class="idl"><a data-link-type="idl" href="#dom-navigationinterceptoptions-scroll" id="ref-for-dom-navigationinterceptoptions-scroll④">scroll</a></code>"] <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-exists" id="ref-for-map-exists⑦">exists</a>, then:</p>
      <ol>
       <li data-md>
        <p>If <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this" id="ref-for-this④②">this</a>'s <a data-link-type="dfn" href="#navigateevent-scroll-behavior" id="ref-for-navigateevent-scroll-behavior">scroll behavior</a> is not null, and it is not equal to <var>options</var>["<code class="idl"><a data-link-type="idl" href="#dom-navigationinterceptoptions-scroll" id="ref-for-dom-navigationinterceptoptions-scroll⑤">scroll</a></code>"], then the user agent may <a data-link-type="dfn" href="https://console.spec.whatwg.org/#report-a-warning-to-the-console" id="ref-for-report-a-warning-to-the-console①">report a warning to the console</a> indicating that the <code class="idl"><a data-link-type="idl" href="#dom-navigationinterceptoptions-scroll" id="ref-for-dom-navigationinterceptoptions-scroll⑥">scroll</a></code> option for a previous call to <code class="idl"><a data-link-type="idl" href="#dom-navigateevent-intercept" id="ref-for-dom-navigateevent-intercept①⑧">intercept()</a></code> was overridden by this new value, and the previous value will be ignored.</p>
       <li data-md>
        <p>Set <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this" id="ref-for-this④③">this</a>'s <a data-link-type="dfn" href="#navigateevent-scroll-behavior" id="ref-for-navigateevent-scroll-behavior①">scroll behavior</a> to <var>options</var>["<code class="idl"><a data-link-type="idl" href="#dom-navigationinterceptoptions-scroll" id="ref-for-dom-navigationinterceptoptions-scroll⑦">scroll</a></code>"].</p>
      </ol>
    </ol>
   </div>
   <div class="algorithm" data-algorithm="scroll()" data-algorithm-for="NavigateEvent">
     The <dfn class="dfn-paneled idl-code" data-dfn-for="NavigateEvent" data-dfn-type="method" data-export id="dom-navigateevent-scroll"><code>scroll()</code></dfn> method steps are: 
    <ol>
     <li data-md>
      <p>If <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this" id="ref-for-this④④">this</a>'s <a data-link-type="dfn" href="#navigateevent-did-process-scroll-behavior" id="ref-for-navigateevent-did-process-scroll-behavior">did process scroll behavior</a> is true, then throw an "<code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#invalidstateerror" id="ref-for-invalidstateerror①⑧">InvalidStateError</a></code>" <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-DOMException" id="ref-for-idl-DOMException②⑧">DOMException</a></code>.</p>
     <li data-md>
      <p>If <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this" id="ref-for-this④⑤">this</a>'s <a data-link-type="dfn" href="#navigateevent-was-intercepted" id="ref-for-navigateevent-was-intercepted①">was intercepted</a> is false, then throw an "<code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#invalidstateerror" id="ref-for-invalidstateerror①⑨">InvalidStateError</a></code>" <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-DOMException" id="ref-for-idl-DOMException②⑨">DOMException</a></code>.</p>
     <li data-md>
      <p>If <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this" id="ref-for-this④⑥">this</a>'s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-global" id="ref-for-concept-relevant-global①②">relevant global object</a>'s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/nav-history-apis.html#concept-document-window" id="ref-for-concept-document-window⑤">associated Document</a> is not <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/document-sequences.html#fully-active" id="ref-for-fully-active④">fully active</a>, then throw an "<code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#invalidstateerror" id="ref-for-invalidstateerror②⓪">InvalidStateError</a></code>" <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-DOMException" id="ref-for-idl-DOMException③⓪">DOMException</a></code>.</p>
     <li data-md>
      <p><a data-link-type="dfn" href="#definitely-process-scroll-behavior" id="ref-for-definitely-process-scroll-behavior">Definitely process scroll behavior</a> given <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this" id="ref-for-this④⑦">this</a>.</p>
    </ol>
   </div>
   <h3 class="heading settled" data-level="2.2" id="navigate-event-destination"><span class="secno">2.2. </span><span class="content">The <code class="idl"><a data-link-type="idl" href="#navigationdestination" id="ref-for-navigationdestination③">NavigationDestination</a></code> class</span><a class="self-link" href="#navigate-event-destination"></a></h3>
<pre class="idl highlight def">[<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Exposed" id="ref-for-Exposed④"><c- g>Exposed</c-></a>=<c- n>Window</c->]
<c- b>interface</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="interface" data-export id="navigationdestination"><code><c- g>NavigationDestination</c-></code></dfn> {
  <c- b>readonly</c-> <c- b>attribute</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-USVString" id="ref-for-idl-USVString①"><c- b>USVString</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="USVString" href="#dom-navigationdestination-url" id="ref-for-dom-navigationdestination-url①"><c- g>url</c-></a>;
  <c- b>readonly</c-> <c- b>attribute</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString" id="ref-for-idl-DOMString⑤"><c- b>DOMString</c-></a>? <a class="idl-code" data-link-type="attribute" data-readonly data-type="DOMString?" href="#dom-navigationdestination-key" id="ref-for-dom-navigationdestination-key"><c- g>key</c-></a>;
  <c- b>readonly</c-> <c- b>attribute</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString" id="ref-for-idl-DOMString⑥"><c- b>DOMString</c-></a>? <a class="idl-code" data-link-type="attribute" data-readonly data-type="DOMString?" href="#dom-navigationdestination-id" id="ref-for-dom-navigationdestination-id"><c- g>id</c-></a>;
  <c- b>readonly</c-> <c- b>attribute</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-long-long" id="ref-for-idl-long-long"><c- b>long</c-> <c- b>long</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="long long" href="#dom-navigationdestination-index" id="ref-for-dom-navigationdestination-index"><c- g>index</c-></a>;
  <c- b>readonly</c-> <c- b>attribute</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-boolean" id="ref-for-idl-boolean⑧"><c- b>boolean</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="boolean" href="#dom-navigationdestination-samedocument" id="ref-for-dom-navigationdestination-samedocument"><c- g>sameDocument</c-></a>;

  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-any" id="ref-for-idl-any⑥"><c- b>any</c-></a> <a class="idl-code" data-link-type="method" href="#dom-navigationdestination-getstate" id="ref-for-dom-navigationdestination-getstate"><c- g>getState</c-></a>();
};
</pre>
   <dl class="domintro non-normative">
    <dt><code><var>event</var>.<code class="idl"><a data-link-type="idl" href="#dom-navigateevent-destination" id="ref-for-dom-navigateevent-destination②">destination</a></code>.<code class="idl"><a data-link-type="idl" href="#dom-navigationdestination-url" id="ref-for-dom-navigationdestination-url②">url</a></code></code> 
    <dd>
     <p>The URL being navigated to. </p>
    <dt><code><var>event</var>.<code class="idl"><a data-link-type="idl" href="#dom-navigateevent-destination" id="ref-for-dom-navigateevent-destination③">destination</a></code>.<code class="idl"><a data-link-type="idl" href="#dom-navigationdestination-key" id="ref-for-dom-navigationdestination-key①">key</a></code></code> 
    <dd>
     <p>The value of the <code class="idl"><a data-link-type="idl" href="#dom-navigationhistoryentry-key" id="ref-for-dom-navigationhistoryentry-key">key</a></code> property of the destination <code class="idl"><a data-link-type="idl" href="#navigationhistoryentry" id="ref-for-navigationhistoryentry②⑧">NavigationHistoryEntry</a></code>, if this is a "<code class="idl"><a data-link-type="idl" href="#dom-navigationtype-traverse" id="ref-for-dom-navigationtype-traverse⑧">traverse</a></code>" navigation, or null otherwise. </p>
    <dt><code><var>event</var>.<code class="idl"><a data-link-type="idl" href="#dom-navigateevent-destination" id="ref-for-dom-navigateevent-destination④">destination</a></code>.<code class="idl"><a data-link-type="idl" href="#dom-navigationdestination-id" id="ref-for-dom-navigationdestination-id①">id</a></code></code> 
    <dd>
     <p>The value of the <code class="idl"><a data-link-type="idl" href="#dom-navigationhistoryentry-id" id="ref-for-dom-navigationhistoryentry-id">id</a></code> property of the destination <code class="idl"><a data-link-type="idl" href="#navigationhistoryentry" id="ref-for-navigationhistoryentry②⑨">NavigationHistoryEntry</a></code>, if this is a "<code class="idl"><a data-link-type="idl" href="#dom-navigationtype-traverse" id="ref-for-dom-navigationtype-traverse⑨">traverse</a></code>" navigation, or null otherwise. </p>
    <dt><code><var>event</var>.<code class="idl"><a data-link-type="idl" href="#dom-navigateevent-destination" id="ref-for-dom-navigateevent-destination⑤">destination</a></code>.<code class="idl"><a data-link-type="idl" href="#dom-navigationdestination-index" id="ref-for-dom-navigationdestination-index①">index</a></code></code> 
    <dd>
     <p>The value of the <code class="idl"><a data-link-type="idl" href="#dom-navigationhistoryentry-index" id="ref-for-dom-navigationhistoryentry-index">index</a></code> property of the destination <code class="idl"><a data-link-type="idl" href="#navigationhistoryentry" id="ref-for-navigationhistoryentry③⓪">NavigationHistoryEntry</a></code>, if this is a "<code class="idl"><a data-link-type="idl" href="#dom-navigationtype-traverse" id="ref-for-dom-navigationtype-traverse①⓪">traverse</a></code>" navigation, or −1 otherwise. </p>
    <dt><code><var>event</var>.<code class="idl"><a data-link-type="idl" href="#dom-navigateevent-destination" id="ref-for-dom-navigateevent-destination⑥">destination</a></code>.<code class="idl"><a data-link-type="idl" href="#dom-navigationdestination-samedocument" id="ref-for-dom-navigationdestination-samedocument①">sameDocument</a></code></code> 
    <dd>
     <p>Indicates whether or not this navigation is to the same <code class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#document" id="ref-for-document①">Document</a></code> as the current <code class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/nav-history-apis.html#dom-document-2" id="ref-for-dom-document-2">document</a></code> value, or not. This will be true, for example, in cases of fragment navigations or <code class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/nav-history-apis.html#dom-history-pushstate" id="ref-for-dom-history-pushstate">history.pushState()</a></code> navigations. </p>
     <p>Note that this property indicates the original nature of the navigation. If a cross-document navigation is converted into a same-document navigation using <code class="idl"><a data-link-type="idl" href="#dom-navigateevent-intercept" id="ref-for-dom-navigateevent-intercept①⑨">event.intercept()</a></code>, that will not change the value of this property. </p>
    <dt><code><var>state</var> = <var>event</var>.<code class="idl"><a data-link-type="idl" href="#dom-navigateevent-destination" id="ref-for-dom-navigateevent-destination⑦">destination</a></code>.<code class="idl"><a data-link-type="idl" href="#dom-navigationdestination-getstate" id="ref-for-dom-navigationdestination-getstate①">getState()</a></code></code> 
    <dd>
     <p>For "<code class="idl"><a data-link-type="idl" href="#dom-navigationtype-traverse" id="ref-for-dom-navigationtype-traverse①①">traverse</a></code>" navigations, returns the deserialization of the state stored in the destination session history entry. </p>
     <p>For "<code class="idl"><a data-link-type="idl" href="#dom-navigationtype-push" id="ref-for-dom-navigationtype-push⑧">push</a></code>" and "<code class="idl"><a data-link-type="idl" href="#dom-navigationtype-replace" id="ref-for-dom-navigationtype-replace⑧">replace</a></code>" navigations, returns the deserialization of the state passed to <code class="idl"><a data-link-type="idl" href="#dom-navigation-navigate" id="ref-for-dom-navigation-navigate⑥">navigation.navigate()</a></code>, if the navigation was initiated in that way, or undefined if it wasn’t. </p>
     <p>For "<code class="idl"><a data-link-type="idl" href="#dom-navigationtype-reload" id="ref-for-dom-navigationtype-reload⑤">reload</a></code>" navigations, returns the deserialization of the state passed to <code class="idl"><a data-link-type="idl" href="#dom-navigation-reload" id="ref-for-dom-navigation-reload④">navigation.reload()</a></code>, if the reload was initiated in that way, or undefined if it wasn’t. </p>
   </dl>
   <p>A <code class="idl"><a data-link-type="idl" href="#navigationdestination" id="ref-for-navigationdestination④">NavigationDestination</a></code> has an associated <dfn class="dfn-paneled" data-dfn-for="NavigationDestination" data-dfn-type="dfn" data-noexport id="navigationdestination-url">URL</dfn>, which is a <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url" id="ref-for-concept-url">URL</a>.</p>
   <p>A <code class="idl"><a data-link-type="idl" href="#navigationdestination" id="ref-for-navigationdestination⑤">NavigationDestination</a></code> has an associated <dfn class="dfn-paneled" data-dfn-for="NavigationDestination" data-dfn-type="dfn" data-noexport id="navigationdestination-key">key</dfn>, which is a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#string" id="ref-for-string">string</a>-or-null.</p>
   <p>A <code class="idl"><a data-link-type="idl" href="#navigationdestination" id="ref-for-navigationdestination⑥">NavigationDestination</a></code> has an associated <dfn class="dfn-paneled" data-dfn-for="NavigationDestination" data-dfn-type="dfn" data-noexport id="navigationdestination-id">id</dfn>, which is a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#string" id="ref-for-string①">string</a>-or-null.</p>
   <p>A <code class="idl"><a data-link-type="idl" href="#navigationdestination" id="ref-for-navigationdestination⑦">NavigationDestination</a></code> has an associated <dfn class="dfn-paneled" data-dfn-for="NavigationDestination" data-dfn-type="dfn" data-noexport id="navigationdestination-index">index</dfn>, which is an integer.</p>
   <p>A <code class="idl"><a data-link-type="idl" href="#navigationdestination" id="ref-for-navigationdestination⑧">NavigationDestination</a></code> has an associated <dfn class="dfn-paneled" data-dfn-for="NavigationDestination" data-dfn-type="dfn" data-noexport id="navigationdestination-state">state</dfn>, which is a <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsing-the-web.html#serialized-state" id="ref-for-serialized-state③">serialized state</a>-or-null.</p>
   <p>A <code class="idl"><a data-link-type="idl" href="#navigationdestination" id="ref-for-navigationdestination⑨">NavigationDestination</a></code> has an associated <dfn class="dfn-paneled" data-dfn-for="NavigationDestination" data-dfn-type="dfn" data-noexport id="navigationdestination-is-same-document">is same document</dfn>, which is a boolean.</p>
   <p>The <dfn class="dfn-paneled idl-code" data-dfn-for="NavigationDestination" data-dfn-type="attribute" data-export id="dom-navigationdestination-url"><code>url</code></dfn> getter steps are to return <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this" id="ref-for-this④⑧">this</a>'s <a data-link-type="dfn" href="#navigationdestination-url" id="ref-for-navigationdestination-url">URL</a>, <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url-serializer" id="ref-for-concept-url-serializer">serialized</a>.</p>
   <p>The <dfn class="dfn-paneled idl-code" data-dfn-for="NavigationDestination" data-dfn-type="attribute" data-export id="dom-navigationdestination-key"><code>key</code></dfn> getter steps are to return <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this" id="ref-for-this④⑨">this</a>'s <a data-link-type="dfn" href="#navigationdestination-key" id="ref-for-navigationdestination-key">key</a>.</p>
   <p>The <dfn class="dfn-paneled idl-code" data-dfn-for="NavigationDestination" data-dfn-type="attribute" data-export id="dom-navigationdestination-id"><code>id</code></dfn> getter steps are to return <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this" id="ref-for-this⑤⓪">this</a>'s <a data-link-type="dfn" href="#navigationdestination-id" id="ref-for-navigationdestination-id">id</a>.</p>
   <p>The <dfn class="dfn-paneled idl-code" data-dfn-for="NavigationDestination" data-dfn-type="attribute" data-export id="dom-navigationdestination-index"><code>index</code></dfn> getter steps are to return <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this" id="ref-for-this⑤①">this</a>'s <a data-link-type="dfn" href="#navigationdestination-index" id="ref-for-navigationdestination-index">index</a>.</p>
   <p>The <dfn class="dfn-paneled idl-code" data-dfn-for="NavigationDestination" data-dfn-type="attribute" data-export id="dom-navigationdestination-samedocument"><code>sameDocument</code></dfn> getter steps are to return <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this" id="ref-for-this⑤②">this</a>'s <a data-link-type="dfn" href="#navigationdestination-is-same-document" id="ref-for-navigationdestination-is-same-document">is same document</a>.</p>
   <div class="algorithm" data-algorithm="getState()" data-algorithm-for="NavigationDestination">
     The <dfn class="dfn-paneled idl-code" data-dfn-for="NavigationDestination" data-dfn-type="method" data-export id="dom-navigationdestination-getstate"><code>getState()</code></dfn> method steps are: 
    <ol>
     <li data-md>
      <p>If <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this" id="ref-for-this⑤③">this</a>'s <a data-link-type="dfn" href="#navigationdestination-state" id="ref-for-navigationdestination-state">state</a> is null, then return undefined.</p>
     <li data-md>
      <p>Return <a data-link-type="abstract-op" href="https://html.spec.whatwg.org/multipage/structured-data.html#structureddeserialize" id="ref-for-structureddeserialize">StructuredDeserialize</a>(<a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this" id="ref-for-this⑤④">this</a>'s <a data-link-type="dfn" href="#navigationdestination-state" id="ref-for-navigationdestination-state①">state</a>).</p>
    </ol>
   </div>
   <h3 class="heading settled" data-level="2.3" id="navigate-event-firing"><span class="secno">2.3. </span><span class="content">Firing the event</span><a class="self-link" href="#navigate-event-firing"></a></h3>
   <div class="algorithm" data-algorithm="fire a traversal navigate event">
     To <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="fire-a-traversal-navigate-event">fire a traversal <code>navigate</code> event</dfn> at a <code class="idl"><a data-link-type="idl" href="#navigation" id="ref-for-navigation②⑧">Navigation</a></code> <var>navigation</var> given a <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsing-the-web.html#session-history-entry" id="ref-for-session-history-entry①③">session history entry</a> <dfn class="dfn-paneled" data-dfn-for="fire a traversal navigate event" data-dfn-type="dfn" data-noexport id="fire-a-traversal-navigate-event-destinationentry"><var>destinationEntry</var></dfn>, and an optional <a data-link-type="dfn" href="#user-navigation-involvement" id="ref-for-user-navigation-involvement">user navigation involvement</a> <dfn class="dfn-paneled" data-dfn-for="fire a traversal navigate event" data-dfn-type="dfn" data-noexport id="fire-a-traversal-navigate-event-userinvolvement"><var>userInvolvement</var></dfn> (default "<code><a data-link-type="dfn" href="#user-navigation-involvement-none" id="ref-for-user-navigation-involvement-none">none</a></code>"): 
    <ol>
     <li data-md>
      <p>Let <var>event</var> be the result of <a data-link-type="dfn" href="https://dom.spec.whatwg.org/#concept-event-create" id="ref-for-concept-event-create">creating an event</a> given <code class="idl"><a data-link-type="idl" href="#navigateevent" id="ref-for-navigateevent①⓪">NavigateEvent</a></code>, in <var>navigation</var>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-realm" id="ref-for-concept-relevant-realm⑥">relevant realm</a>.</p>
     <li data-md>
      <p>Set <var>event</var>’s <a data-link-type="dfn" href="#navigateevent-classic-history-api-serialized-data" id="ref-for-navigateevent-classic-history-api-serialized-data">classic history API serialized data</a> to null.</p>
     <li data-md>
      <p>Let <var>destination</var> be a <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#new" id="ref-for-new④">new</a> <code class="idl"><a data-link-type="idl" href="#navigationdestination" id="ref-for-navigationdestination①⓪">NavigationDestination</a></code> created in <var>navigation</var>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-realm" id="ref-for-concept-relevant-realm⑦">relevant realm</a>.</p>
     <li data-md>
      <p>Set <var>destination</var>’s <a data-link-type="dfn" href="#navigationdestination-url" id="ref-for-navigationdestination-url①">URL</a> to <var>destinationEntry</var>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsing-the-web.html#she-url" id="ref-for-she-url">URL</a>.</p>
     <li data-md>
      <p>If <var>destinationEntry</var>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsing-the-web.html#she-document-state" id="ref-for-she-document-state">document state</a>'s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsing-the-web.html#document-state-origin" id="ref-for-document-state-origin">origin</a> is <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsers.html#same-origin" id="ref-for-same-origin①">same origin</a> with <var>navigation</var>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#relevant-settings-object" id="ref-for-relevant-settings-object③">relevant settings object</a>'s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-settings-object-origin" id="ref-for-concept-settings-object-origin">origin</a>, then:</p>
      <ol>
       <li data-md>
        <p>Set <var>destination</var>’s <a data-link-type="dfn" href="#navigationdestination-key" id="ref-for-navigationdestination-key①">key</a> to <var>destinationEntry</var>’s <a data-link-type="dfn" href="#session-history-entry-navigation-api-key" id="ref-for-session-history-entry-navigation-api-key⑦">navigation API key</a>.</p>
       <li data-md>
        <p>Set <var>destination</var>’s <a data-link-type="dfn" href="#navigationdestination-id" id="ref-for-navigationdestination-id①">id</a> to <var>destinationEntry</var>’s <a data-link-type="dfn" href="#session-history-entry-navigation-api-id" id="ref-for-session-history-entry-navigation-api-id">navigation API ID</a>.</p>
       <li data-md>
        <p>Set <var>destination</var>’s <a data-link-type="dfn" href="#navigationdestination-index" id="ref-for-navigationdestination-index①">index</a> to the result of <a data-link-type="dfn" href="#get-the-navigation-api-history-index" id="ref-for-get-the-navigation-api-history-index②">getting the navigation API history index</a> of <var>destinationEntry</var> within <var>navigation</var>.</p>
       <li data-md>
        <p>Set <var>destination</var>’s <a data-link-type="dfn" href="#navigationdestination-state" id="ref-for-navigationdestination-state②">state</a> to <var>destinationEntry</var>’s <a data-link-type="dfn" href="#session-history-entry-navigation-api-state" id="ref-for-session-history-entry-navigation-api-state④">navigation API state</a>.</p>
      </ol>
     <li data-md>
      <p>Otherwise,</p>
      <ol>
       <li data-md>
        <p>Set <var>destination</var>’s <a data-link-type="dfn" href="#navigationdestination-key" id="ref-for-navigationdestination-key②">key</a> to null.</p>
       <li data-md>
        <p>Set <var>destination</var>’s <a data-link-type="dfn" href="#navigationdestination-id" id="ref-for-navigationdestination-id②">id</a> to null.</p>
       <li data-md>
        <p>Set <var>destination</var>’s <a data-link-type="dfn" href="#navigationdestination-index" id="ref-for-navigationdestination-index②">index</a> to −1.</p>
       <li data-md>
        <p>Set <var>destination</var>’s <a data-link-type="dfn" href="#navigationdestination-state" id="ref-for-navigationdestination-state③">state</a> to null.</p>
      </ol>
     <li data-md>
      <p>Set <var>destination</var>’s <a data-link-type="dfn" href="#navigationdestination-is-same-document" id="ref-for-navigationdestination-is-same-document①">is same document</a> to true if <var>destinationEntry</var>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsing-the-web.html#she-document" id="ref-for-she-document">document</a> is equal to <var>navigation</var>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-global" id="ref-for-concept-relevant-global①③">relevant global object</a>'s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/nav-history-apis.html#concept-document-window" id="ref-for-concept-document-window⑥">associated Document</a>; otherwise false.</p>
     <li data-md>
      <p>Return the result of performing the <a data-link-type="dfn" href="#inner-navigate-event-firing-algorithm" id="ref-for-inner-navigate-event-firing-algorithm②">inner navigate event firing algorithm</a> given <var>navigation</var>, "<code class="idl"><a data-link-type="idl" href="#dom-navigationtype-traverse" id="ref-for-dom-navigationtype-traverse①②">traverse</a></code>", <var>event</var>, <var>destination</var>, <var>userInvolvement</var>, null, and null.</p>
    </ol>
   </div>
   <div class="algorithm" data-algorithm="fire a non-traversal navigate event">
     To <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="fire-a-non-traversal-navigate-event">fire a non-traversal <code>navigate</code> event</dfn> at a <code class="idl"><a data-link-type="idl" href="#navigation" id="ref-for-navigation②⑨">Navigation</a></code> <var>navigation</var> given a <code class="idl"><a data-link-type="idl" href="#enumdef-navigationtype" id="ref-for-enumdef-navigationtype⑦">NavigationType</a></code> <dfn class="dfn-paneled" data-dfn-for="fire a non-traversal navigate event" data-dfn-type="dfn" data-noexport id="fire-a-non-traversal-navigate-event-navigationtype"><var>navigationType</var></dfn>, a <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url" id="ref-for-concept-url①">URL</a> <dfn class="dfn-paneled" data-dfn-for="fire a non-traversal navigate event" data-dfn-type="dfn" data-noexport id="fire-a-non-traversal-navigate-event-destinationurl"><var>destinationURL</var></dfn>, a boolean <dfn class="dfn-paneled" data-dfn-for="fire a non-traversal navigate event" data-dfn-type="dfn" data-noexport id="fire-a-non-traversal-navigate-event-issamedocument"><var>isSameDocument</var></dfn>, an optional <a data-link-type="dfn" href="#user-navigation-involvement" id="ref-for-user-navigation-involvement①">user navigation involvement</a> <dfn class="dfn-paneled" data-dfn-for="fire a non-traversal navigate event" data-dfn-type="dfn" data-noexport id="fire-a-non-traversal-navigate-event-userinvolvement"><var>userInvolvement</var></dfn> (default "<code><a data-link-type="dfn" href="#user-navigation-involvement-none" id="ref-for-user-navigation-involvement-none①">none</a></code>"), an optional <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsing-the-web.html#serialized-state" id="ref-for-serialized-state④">serialized state</a>-or-null <dfn class="dfn-paneled" data-dfn-for="fire a non-traversal navigate event" data-dfn-type="dfn" data-noexport id="fire-a-non-traversal-navigate-event-state"><var>state</var></dfn> (default null), an optional <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/form-control-infrastructure.html#entry-list" id="ref-for-entry-list">entry list</a> or null <dfn class="dfn-paneled" data-dfn-for="fire a non-traversal navigate event" data-dfn-type="dfn" data-noexport id="fire-a-non-traversal-navigate-event-formdataentrylist"><var>formDataEntryList</var></dfn> (default null), and an optional <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsing-the-web.html#serialized-state" id="ref-for-serialized-state⑤">serialized state</a>-or-null <dfn class="dfn-paneled" data-dfn-for="fire a non-traversal navigate event" data-dfn-type="dfn" data-noexport id="fire-a-non-traversal-navigate-event-classichistoryapiserializeddata"><var>classicHistoryAPISerializedData</var></dfn> (default null): 
    <ol>
     <li data-md>
      <p>Let <var>event</var> be the result of <a data-link-type="dfn" href="https://dom.spec.whatwg.org/#concept-event-create" id="ref-for-concept-event-create①">creating an event</a> given <code class="idl"><a data-link-type="idl" href="#navigateevent" id="ref-for-navigateevent①①">NavigateEvent</a></code>, in <var>navigation</var>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-realm" id="ref-for-concept-relevant-realm⑧">relevant realm</a>.</p>
     <li data-md>
      <p>Set <var>event</var>’s <a data-link-type="dfn" href="#navigateevent-classic-history-api-serialized-data" id="ref-for-navigateevent-classic-history-api-serialized-data①">classic history API serialized data</a> to <var>classicHistoryAPISerializedData</var>.</p>
     <li data-md>
      <p>Let <var>destination</var> be a <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#new" id="ref-for-new⑤">new</a> <code class="idl"><a data-link-type="idl" href="#navigationdestination" id="ref-for-navigationdestination①①">NavigationDestination</a></code> created in <var>navigation</var>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-realm" id="ref-for-concept-relevant-realm⑨">relevant realm</a>.</p>
     <li data-md>
      <p>Set <var>destination</var>’s <a data-link-type="dfn" href="#navigationdestination-url" id="ref-for-navigationdestination-url②">URL</a> to <var>destinationURL</var>.</p>
     <li data-md>
      <p>Set <var>destination</var>’s <a data-link-type="dfn" href="#navigationdestination-key" id="ref-for-navigationdestination-key③">key</a> to null.</p>
     <li data-md>
      <p>Set <var>destination</var>’s <a data-link-type="dfn" href="#navigationdestination-id" id="ref-for-navigationdestination-id③">id</a> to null.</p>
     <li data-md>
      <p>Set <var>destination</var>’s <a data-link-type="dfn" href="#navigationdestination-index" id="ref-for-navigationdestination-index③">index</a> to −1.</p>
     <li data-md>
      <p>Set <var>destination</var>’s <a data-link-type="dfn" href="#navigationdestination-state" id="ref-for-navigationdestination-state④">state</a> to <var>state</var>.</p>
     <li data-md>
      <p>Set <var>destination</var>’s <a data-link-type="dfn" href="#navigationdestination-is-same-document" id="ref-for-navigationdestination-is-same-document②">is same document</a> to <var>isSameDocument</var>.</p>
     <li data-md>
      <p>Return the result of performing the <a data-link-type="dfn" href="#inner-navigate-event-firing-algorithm" id="ref-for-inner-navigate-event-firing-algorithm③">inner navigate event firing algorithm</a> given <var>navigation</var>, <var>navigationType</var>, <var>event</var>, <var>destination</var>, <var>userInvolvement</var>, <var>formDataEntryList</var>, and null.</p>
    </ol>
   </div>
   <div class="algorithm" data-algorithm="fire a download-requested navigate event">
     To <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="fire-a-download-requested-navigate-event">fire a download-requested <code>navigate</code> event</dfn> at a <code class="idl"><a data-link-type="idl" href="#navigation" id="ref-for-navigation③⓪">Navigation</a></code> <var>navigation</var> given a <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url" id="ref-for-concept-url②">URL</a> <dfn class="dfn-paneled" data-dfn-for="fire a download-requested navigate event" data-dfn-type="dfn" data-noexport id="fire-a-download-requested-navigate-event-destinationurl"><var>destinationURL</var></dfn>, a <a data-link-type="dfn" href="#user-navigation-involvement" id="ref-for-user-navigation-involvement②">user navigation involvement</a> <dfn class="dfn-paneled" data-dfn-for="fire a download-requested navigate event" data-dfn-type="dfn" data-noexport id="fire-a-download-requested-navigate-event-userinvolvement"><var>userInvolvement</var></dfn>, and a string <dfn class="dfn-paneled" data-dfn-for="fire a download-requested navigate event" data-dfn-type="dfn" data-noexport id="fire-a-download-requested-navigate-event-filename"><var>filename</var></dfn>: 
    <ol>
     <li data-md>
      <p>Let <var>event</var> be the result of <a data-link-type="dfn" href="https://dom.spec.whatwg.org/#concept-event-create" id="ref-for-concept-event-create②">creating an event</a> given <code class="idl"><a data-link-type="idl" href="#navigateevent" id="ref-for-navigateevent①②">NavigateEvent</a></code>, in <var>navigation</var>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-realm" id="ref-for-concept-relevant-realm①⓪">relevant realm</a>.</p>
     <li data-md>
      <p>Set <var>event</var>’s <a data-link-type="dfn" href="#navigateevent-classic-history-api-serialized-data" id="ref-for-navigateevent-classic-history-api-serialized-data②">classic history API serialized data</a> to null.</p>
     <li data-md>
      <p>Let <var>destination</var> be a <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#new" id="ref-for-new⑥">new</a> <code class="idl"><a data-link-type="idl" href="#navigationdestination" id="ref-for-navigationdestination①②">NavigationDestination</a></code> created in <var>navigation</var>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-realm" id="ref-for-concept-relevant-realm①①">relevant realm</a>.</p>
     <li data-md>
      <p>Set <var>destination</var>’s <a data-link-type="dfn" href="#navigationdestination-url" id="ref-for-navigationdestination-url③">URL</a> to <var>destinationURL</var>.</p>
     <li data-md>
      <p>Set <var>destination</var>’s <a data-link-type="dfn" href="#navigationdestination-key" id="ref-for-navigationdestination-key④">key</a> to null.</p>
     <li data-md>
      <p>Set <var>destination</var>’s <a data-link-type="dfn" href="#navigationdestination-id" id="ref-for-navigationdestination-id④">id</a> to null.</p>
     <li data-md>
      <p>Set <var>destination</var>’s <a data-link-type="dfn" href="#navigationdestination-index" id="ref-for-navigationdestination-index④">index</a> to −1.</p>
     <li data-md>
      <p>Set <var>destination</var>’s <a data-link-type="dfn" href="#navigationdestination-state" id="ref-for-navigationdestination-state⑤">state</a> to null.</p>
     <li data-md>
      <p>Set <var>destination</var>’s <a data-link-type="dfn" href="#navigationdestination-is-same-document" id="ref-for-navigationdestination-is-same-document③">is same document</a> to false.</p>
     <li data-md>
      <p>Return the result of performing the <a data-link-type="dfn" href="#inner-navigate-event-firing-algorithm" id="ref-for-inner-navigate-event-firing-algorithm④">inner navigate event firing algorithm</a> given <var>navigation</var>, "<code class="idl"><a data-link-type="idl" href="#dom-navigationtype-push" id="ref-for-dom-navigationtype-push⑨">push</a></code>", <var>event</var>, <var>destination</var>, <var>userInvolvement</var>, null, and <var>filename</var>.</p>
    </ol>
   </div>
   <div class="algorithm" data-algorithm="inner navigate event firing algorithm">
     The <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="inner-navigate-event-firing-algorithm">inner <code>navigate</code> event firing algorithm</dfn> is the following steps, given a <code class="idl"><a data-link-type="idl" href="#navigation" id="ref-for-navigation③①">Navigation</a></code> <var>navigation</var>, a <code class="idl"><a data-link-type="idl" href="#enumdef-navigationtype" id="ref-for-enumdef-navigationtype⑧">NavigationType</a></code> <var>navigationType</var>, a <code class="idl"><a data-link-type="idl" href="#navigateevent" id="ref-for-navigateevent①③">NavigateEvent</a></code> <var>event</var>, a <code class="idl"><a data-link-type="idl" href="#navigationdestination" id="ref-for-navigationdestination①③">NavigationDestination</a></code> <var>destination</var>, a <a data-link-type="dfn" href="#user-navigation-involvement" id="ref-for-user-navigation-involvement③">user navigation involvement</a> <var>userInvolvement</var>, an <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/form-control-infrastructure.html#entry-list" id="ref-for-entry-list①">entry list</a> or null <var>formDataEntryList</var>, and a string or null <var>downloadRequestFilename</var>: 
    <ol>
     <li data-md>
      <p><a data-link-type="dfn" href="#navigation-promote-the-upcoming-navigation-to-ongoing" id="ref-for-navigation-promote-the-upcoming-navigation-to-ongoing②">Promote the upcoming navigation to ongoing</a> given <var>navigation</var> and <var>destination</var>’s <a data-link-type="dfn" href="#navigationdestination-key" id="ref-for-navigationdestination-key⑤">key</a>.</p>
     <li data-md>
      <p>Let <var>ongoingNavigation</var> be <var>navigation</var>’s <a data-link-type="dfn" href="#navigation-ongoing-navigation" id="ref-for-navigation-ongoing-navigation⑧">ongoing navigation</a>.</p>
     <li data-md>
      <p>If <var>navigation</var> <a data-link-type="dfn" href="#navigation-has-entries-and-events-disabled" id="ref-for-navigation-has-entries-and-events-disabled⑥">has entries and events disabled</a>, then:</p>
      <ol>
       <li data-md>
        <p>If <var>ongoingNavigation</var> is not null, then <a data-link-type="dfn" href="#navigation-api-method-navigation-clean-up" id="ref-for-navigation-api-method-navigation-clean-up②">clean up</a> <var>ongoingNavigation</var>.</p>
        <p class="note" role="note">In this case the <a data-link-type="dfn" href="#navigation-api-method-navigation-committed-promise" id="ref-for-navigation-api-method-navigation-committed-promise①⓪">committed promise</a> and <a data-link-type="dfn" href="#navigation-api-method-navigation-finished-promise" id="ref-for-navigation-api-method-navigation-finished-promise①⓪">finished promise</a> will never fulfill, since we never create <code class="idl"><a data-link-type="idl" href="#navigationhistoryentry" id="ref-for-navigationhistoryentry③①">NavigationHistoryEntry</a></code>s for the initial <code>about:blank</code> <code class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#document" id="ref-for-document②">Document</a></code> so we have nothing to <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#resolve" id="ref-for-resolve⑤">resolve</a> them with. </p>
       <li data-md>
        <p>Return true.</p>
      </ol>
     <li data-md>
      <p>Let <var>navigable</var> be <var>navigation</var>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-global" id="ref-for-concept-relevant-global①④">relevant global object</a>'s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/nav-history-apis.html#window-navigable" id="ref-for-window-navigable②">navigable</a>.</p>
     <li data-md>
      <p>Let <var>document</var> be <var>navigation</var>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-global" id="ref-for-concept-relevant-global①⑤">relevant global object</a>'s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/nav-history-apis.html#concept-document-window" id="ref-for-concept-document-window⑦">associated document</a>.</p>
     <li data-md>
      <p>If <var>document</var> <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/nav-history-apis.html#can-have-its-url-rewritten" id="ref-for-can-have-its-url-rewritten①">can have its URL rewritten</a> to <var>destination</var>’s <a data-link-type="dfn" href="#navigationdestination-url" id="ref-for-navigationdestination-url④">URL</a>, and either <var>destination</var>’s <a data-link-type="dfn" href="#navigationdestination-is-same-document" id="ref-for-navigationdestination-is-same-document④">is same document</a> is true or <var>navigationType</var> is not "<code class="idl"><a data-link-type="idl" href="#dom-navigationtype-traverse" id="ref-for-dom-navigationtype-traverse①③">traverse</a></code>", then initialize <var>event</var>’s <code class="idl"><a data-link-type="idl" href="#dom-navigateevent-canintercept" id="ref-for-dom-navigateevent-canintercept④">canIntercept</a></code> to true. Otherwise, initialize it to false.</p>
     <li data-md>
      <p>Let <var>traverseCanBeCanceled</var> be true if <var>userInvolvement</var> is not "<code><a data-link-type="dfn" href="#user-navigation-involvement-browser-ui" id="ref-for-user-navigation-involvement-browser-ui">browser UI</a></code>" or <var>navigation</var>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-global" id="ref-for-concept-relevant-global①⑥">relevant global object</a> has <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/interaction.html#transient-activation" id="ref-for-transient-activation">transient activation</a>; otherwise, false.</p>
      <p class="note" role="note">We are exploring the possibility of introducing the concept of a "consumable user activation" (i.e., a user activation that can be consumed like a transient user activation, but does not have the timeout of a transient user activation) instead of using transient activation here. This does not have a spec yet. </p>
     <li data-md>
      <p>If any of the following are true:</p>
      <ul>
       <li data-md>
        <p><var>navigationType</var> is not "<code class="idl"><a data-link-type="idl" href="#dom-navigationtype-traverse" id="ref-for-dom-navigationtype-traverse①④">traverse</a></code>"; or</p>
       <li data-md>
        <p><var>navigable</var> is a <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/document-sequences.html#top-level-traversable" id="ref-for-top-level-traversable">top-level traversable</a> and <var>traverseCanBeCanceled</var> is true</p>
      </ul>
      <p>then initialize <var>event</var>’s <code class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#dom-event-cancelable" id="ref-for-dom-event-cancelable">cancelable</a></code> to true. Otherwise, initialize it to false.</p>
     <li data-md>
      <p>Initialize <var>event</var>’s <code class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#dom-event-type" id="ref-for-dom-event-type">type</a></code> to "<code class="idl"><a data-link-type="idl" href="#eventdef-navigation-navigate" id="ref-for-eventdef-navigation-navigate①⑦">navigate</a></code>".</p>
     <li data-md>
      <p>Initialize <var>event</var>’s <code class="idl"><a data-link-type="idl" href="#dom-navigateevent-navigationtype" id="ref-for-dom-navigateevent-navigationtype③">navigationType</a></code> to <var>navigationType</var>.</p>
     <li data-md>
      <p>Initialize <var>event</var>’s <code class="idl"><a data-link-type="idl" href="#dom-navigateevent-destination" id="ref-for-dom-navigateevent-destination⑧">destination</a></code> to <var>destination</var>.</p>
     <li data-md>
      <p>Initialize <var>event</var>’s <code class="idl"><a data-link-type="idl" href="#dom-navigateevent-downloadrequest" id="ref-for-dom-navigateevent-downloadrequest②">downloadRequest</a></code> to <var>downloadRequestFilename</var>.</p>
     <li data-md>
      <p>If <var>ongoingNavigation</var> is not null, then initialize <var>event</var>’s <code class="idl"><a data-link-type="idl" href="#dom-navigateevent-info" id="ref-for-dom-navigateevent-info⑥">info</a></code> to <var>ongoingNavigation</var>’s <a data-link-type="dfn" href="#navigation-api-method-navigation-info" id="ref-for-navigation-api-method-navigation-info②">info</a>. Otherwise, initialize it to undefined.</p>
      <p class="note" role="note">At this point <var>ongoingNavigation</var>’s <a data-link-type="dfn" href="#navigation-api-method-navigation-info" id="ref-for-navigation-api-method-navigation-info③">info</a> is no longer needed and can be nulled out instead of keeping it alive for the lifetime of the <a data-link-type="dfn" href="#navigation-api-method-navigation" id="ref-for-navigation-api-method-navigation①②">navigation API method navigation</a>. </p>
     <li data-md>
      <p>Initialize <var>event</var>’s <code class="idl"><a data-link-type="idl" href="#dom-navigateevent-signal" id="ref-for-dom-navigateevent-signal③">signal</a></code> to a <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#new" id="ref-for-new⑦">new</a> <code class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#abortsignal" id="ref-for-abortsignal④">AbortSignal</a></code> created in <var>navigation</var>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-realm" id="ref-for-concept-relevant-realm①②">relevant realm</a>.</p>
     <li data-md>
      <p>Let <var>currentURL</var> be <var>document</var>’s <a data-link-type="dfn" href="https://dom.spec.whatwg.org/#concept-document-url" id="ref-for-concept-document-url①">URL</a>.</p>
     <li data-md>
      <p>If all of the following are true:</p>
      <ul>
       <li data-md>
        <p><var>destination</var>’s <a data-link-type="dfn" href="#navigationdestination-is-same-document" id="ref-for-navigationdestination-is-same-document⑤">is same document</a> is true;</p>
       <li data-md>
        <p><var>destination</var>’s <a data-link-type="dfn" href="#navigationdestination-url" id="ref-for-navigationdestination-url⑤">URL</a> <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url-equals" id="ref-for-concept-url-equals">equals</a> <var>currentURL</var> with <i><a data-link-type="dfn" href="https://url.spec.whatwg.org/#url-equals-exclude-fragments" id="ref-for-url-equals-exclude-fragments">exclude fragments</a></i> set to true; and</p>
       <li data-md>
        <p><var>destination</var>’s <a data-link-type="dfn" href="#navigationdestination-url" id="ref-for-navigationdestination-url⑥">URL</a>'s <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url-fragment" id="ref-for-concept-url-fragment">fragment</a> is not <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#string-is" id="ref-for-string-is">identical to</a> <var>currentURL</var>’s <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url-fragment" id="ref-for-concept-url-fragment①">fragment</a></p>
      </ul>
      <p>then initialize <var>event</var>’s <code class="idl"><a data-link-type="idl" href="#dom-navigateevent-hashchange" id="ref-for-dom-navigateevent-hashchange②">hashChange</a></code> to true. Otherwise, initialize it to false.</p>
     <li data-md>
      <p>If <var>userInvolvement</var> is not "<code><a data-link-type="dfn" href="#user-navigation-involvement-none" id="ref-for-user-navigation-involvement-none②">none</a></code>", then initialize <var>event</var>’s <code class="idl"><a data-link-type="idl" href="#dom-navigateevent-userinitiated" id="ref-for-dom-navigateevent-userinitiated②">userInitiated</a></code> to true. Otherwise, initialize it to false.</p>
     <li data-md>
      <p>If <var>formDataEntryList</var> is not null, then initialize <var>event</var>’s <code class="idl"><a data-link-type="idl" href="#dom-navigateevent-formdata" id="ref-for-dom-navigateevent-formdata②">formData</a></code> to a <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#new" id="ref-for-new⑧">new</a> <code class="idl"><a data-link-type="idl" href="https://xhr.spec.whatwg.org/#formdata" id="ref-for-formdata③">FormData</a></code> created in <var>navigation</var>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-realm" id="ref-for-concept-relevant-realm①③">relevant realm</a>, associated to <var>formDataEntryList</var>. Otherwise, initialize it to null.</p>
     <li data-md>
      <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#assert" id="ref-for-assert①⑥">Assert</a>: <var>navigation</var>’s <a data-link-type="dfn" href="#navigation-ongoing-navigate-event" id="ref-for-navigation-ongoing-navigate-event">ongoing navigate event</a> is null.</p>
     <li data-md>
      <p>Set <var>navigation</var>’s <a data-link-type="dfn" href="#navigation-ongoing-navigate-event" id="ref-for-navigation-ongoing-navigate-event①">ongoing navigate event</a> to <var>event</var>.</p>
     <li data-md>
      <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#assert" id="ref-for-assert①⑦">Assert</a>: <var>navigation</var>’s <a data-link-type="dfn" href="#navigation-ongoing-navigation-signal" id="ref-for-navigation-ongoing-navigation-signal①">ongoing navigation signal</a> is null.</p>
     <li data-md>
      <p>Set <var>navigation</var>’s <a data-link-type="dfn" href="#navigation-ongoing-navigation-signal" id="ref-for-navigation-ongoing-navigation-signal②">ongoing navigation signal</a> to <var>event</var>’s <code class="idl"><a data-link-type="idl" href="#dom-navigateevent-signal" id="ref-for-dom-navigateevent-signal④">signal</a></code>.</p>
     <li data-md>
      <p>Set <var>navigation</var>’s <a data-link-type="dfn" href="#navigation-focus-changed-during-ongoing-navigation" id="ref-for-navigation-focus-changed-during-ongoing-navigation①">focus changed during ongoing navigation</a> to false.</p>
     <li data-md>
      <p>Set <var>navigation</var>’s <a data-link-type="dfn" href="#navigation-suppress-normal-scroll-restoration-during-ongoing-navigation" id="ref-for-navigation-suppress-normal-scroll-restoration-during-ongoing-navigation①">suppress normal scroll restoration during ongoing navigation</a> to false.</p>
     <li data-md>
      <p>Let <var>dispatchResult</var> be the result of <a data-link-type="dfn" href="https://dom.spec.whatwg.org/#concept-event-dispatch" id="ref-for-concept-event-dispatch">dispatching</a> <var>event</var> at <var>navigation</var>.</p>
     <li data-md>
      <p>If <var>dispatchResult</var> is false:</p>
      <ol>
       <li data-md>
        <p>If <var>navigationType</var> is not "<code class="idl"><a data-link-type="idl" href="#dom-navigationtype-traverse" id="ref-for-dom-navigationtype-traverse①⑤">traverse</a></code>" and <var>event</var>’s <code class="idl"><a data-link-type="idl" href="#dom-navigateevent-signal" id="ref-for-dom-navigateevent-signal⑤">signal</a></code> is not <a data-link-type="dfn" href="https://dom.spec.whatwg.org/#abortsignal-aborted" id="ref-for-abortsignal-aborted">aborted</a>, then <a data-link-type="dfn" href="#finalize-with-an-aborted-navigation-error" id="ref-for-finalize-with-an-aborted-navigation-error③">finalize with an aborted navigation error</a> given <var>navigation</var> and <var>ongoingNavigation</var>.</p>
        <p class="note" role="note">If <var>navigationType</var> is "<code class="idl"><a data-link-type="idl" href="#dom-navigationtype-traverse" id="ref-for-dom-navigationtype-traverse①⑥">traverse</a></code>", then we will <a data-link-type="dfn" href="#finalize-with-an-aborted-navigation-error" id="ref-for-finalize-with-an-aborted-navigation-error④">finalize with an aborted navigation error</a> in <a data-link-type="dfn" href="#perform-a-navigation-api-traversal" id="ref-for-perform-a-navigation-api-traversal③">perform a navigation API traversal</a>. </p>
       <li data-md>
        <p>Return false.</p>
      </ol>
     <li data-md>
      <p>If <var>destination</var>’s <a data-link-type="dfn" href="#navigationdestination-is-same-document" id="ref-for-navigationdestination-is-same-document⑥">is same document</a> is true and <var>navigationType</var> is "<code class="idl"><a data-link-type="idl" href="#dom-navigationtype-traverse" id="ref-for-dom-navigationtype-traverse①⑦">traverse</a></code>":</p>
      <ol>
       <li data-md>
        <p>Set <var>event</var>’s <a data-link-type="dfn" href="#navigateevent-needs-continue" id="ref-for-navigateevent-needs-continue">needs continue</a> to true.</p>
       <li data-md>
        <p>Return true.</p>
      </ol>
     <li data-md>
      <p>Return the result of <a data-link-type="dfn" href="#react-to-navigate-event-result" id="ref-for-react-to-navigate-event-result">reacting to navigate event result</a> given <var>navigation</var> and <var>event</var>.</p>
    </ol>
   </div>
   <div class="algorithm" data-algorithm="react to navigate event result">
     To <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="react-to-navigate-event-result">react to <code>navigate</code> event result</dfn>, given a <code class="idl"><a data-link-type="idl" href="#navigation" id="ref-for-navigation③②">Navigation</a></code> <var>navigation</var> and a <code class="idl"><a data-link-type="idl" href="#navigateevent" id="ref-for-navigateevent①④">NavigateEvent</a></code> <var>event</var>: 
    <ol>
     <li data-md>
      <p>Let <var>document</var> be <var>navigation</var>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-global" id="ref-for-concept-relevant-global①⑦">relevant global object</a>'s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/nav-history-apis.html#concept-document-window" id="ref-for-concept-document-window⑧">associated document</a>.</p>
     <li data-md>
      <p>Let <var>destination</var> be <var>event</var>’s <code class="idl"><a data-link-type="idl" href="#dom-navigateevent-destination" id="ref-for-dom-navigateevent-destination⑨">destination</a></code>.</p>
     <li data-md>
      <p>Let <var>ongoingNavigation</var> be <var>navigation</var>’s <a data-link-type="dfn" href="#navigation-ongoing-navigation" id="ref-for-navigation-ongoing-navigation⑨">ongoing navigation</a>.</p>
     <li data-md>
      <p>Let <var>navigationType</var> be <var>event</var>’s <code class="idl"><a data-link-type="idl" href="#dom-navigateevent-navigationtype" id="ref-for-dom-navigateevent-navigationtype④">navigationType</a></code>.</p>
     <li data-md>
      <p>Let <var>endResultIsSameDocument</var> be true if <var>event</var>’s <a data-link-type="dfn" href="#navigateevent-was-intercepted" id="ref-for-navigateevent-was-intercepted②">was intercepted</a> is true or <var>destination</var>’s <a data-link-type="dfn" href="#navigationdestination-is-same-document" id="ref-for-navigationdestination-is-same-document⑦">is same document</a> is true.</p>
     <li data-md>
      <p><a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#prepare-to-run-script" id="ref-for-prepare-to-run-script①">Prepare to run script</a> given <var>event</var>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#relevant-settings-object" id="ref-for-relevant-settings-object④">relevant settings object</a>.</p>
      <div class="note" id="note-suppress-microtasks-during-navigation-events" role="note">
       <a class="self-link" href="#note-suppress-microtasks-during-navigation-events"></a> 
       <p>This is done to avoid the <a data-link-type="dfn" href="https://tc39.es/ecma262/multipage/executable-code-and-execution-contexts.html#execution-context-stack" id="ref-for-execution-context-stack">JavaScript execution context stack</a> becoming empty right after any <code class="idl"><a data-link-type="idl" href="#eventdef-navigation-currententrychange" id="ref-for-eventdef-navigation-currententrychange③">currententrychange</a></code> event handlers run as a result of the <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsing-the-web.html#url-and-history-update-steps" id="ref-for-url-and-history-update-steps">URL and history update steps</a> that could soon happen. If the stack were to become empty at that time, then it would immediately <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#perform-a-microtask-checkpoint" id="ref-for-perform-a-microtask-checkpoint">perform a microtask checkpoint</a>, causing various promise fulfillment handlers to run interleaved with the event handlers and before any handlers passed to <code class="idl"><a data-link-type="idl" href="#dom-navigateevent-intercept" id="ref-for-dom-navigateevent-intercept②⓪">navigateEvent.intercept()</a></code>. This is undesirable since it means promise handler ordering vs. <code class="idl"><a data-link-type="idl" href="#eventdef-navigation-currententrychange" id="ref-for-eventdef-navigation-currententrychange④">currententrychange</a></code> event handler ordering vs. <code class="idl"><a data-link-type="idl" href="#dom-navigateevent-intercept" id="ref-for-dom-navigateevent-intercept②①">intercept()</a></code> handler ordering is dependent on whether the navigation is happening with an empty <a data-link-type="dfn" href="https://tc39.es/ecma262/multipage/executable-code-and-execution-contexts.html#execution-context-stack" id="ref-for-execution-context-stack①">JavaScript execution context stack</a> (e.g., because the navigation was user-initiated) or with a nonempty one (e.g., because the navigation was caused by a JavaScript API call). </p>
       <p>By inserting an otherwise-unnecessary <a data-link-type="dfn" href="https://tc39.es/ecma262/multipage/executable-code-and-execution-contexts.html#sec-execution-contexts" id="ref-for-sec-execution-contexts">JavaScript execution context</a> onto the stack in this step, we essentially suppress the <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#perform-a-microtask-checkpoint" id="ref-for-perform-a-microtask-checkpoint①">perform a microtask checkpoint</a> algorithm until later, thus ensuring that the sequence is always: <code class="idl"><a data-link-type="idl" href="#eventdef-navigation-currententrychange" id="ref-for-eventdef-navigation-currententrychange⑤">currententrychange</a></code> event handlers, then <code class="idl"><a data-link-type="idl" href="#dom-navigateevent-intercept" id="ref-for-dom-navigateevent-intercept②②">intercept()</a></code> handlers, then promise handlers. </p>
      </div>
     <li data-md>
      <p>If <var>event</var>’s <a data-link-type="dfn" href="#navigateevent-was-intercepted" id="ref-for-navigateevent-was-intercepted③">was intercepted</a> is true:</p>
      <ol>
       <li data-md>
        <p>Let <var>fromEntry</var> be the <a data-link-type="dfn" href="#navigation-current-entry" id="ref-for-navigation-current-entry⑨">current entry</a> for <var>navigation</var>.</p>
       <li data-md>
        <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#assert" id="ref-for-assert①⑧">Assert</a>: <var>fromEntry</var> is not null.</p>
       <li data-md>
        <p>Set <var>navigation</var>’s <a data-link-type="dfn" href="#navigation-transition" id="ref-for-navigation-transition①">transition</a> to a <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#new" id="ref-for-new⑨">new</a> <code class="idl"><a data-link-type="idl" href="#navigationtransition" id="ref-for-navigationtransition⑥">NavigationTransition</a></code> created in <var>navigation</var>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-realm" id="ref-for-concept-relevant-realm①④">relevant realm</a>, whose <a data-link-type="dfn" href="#navigationtransition-navigation-type" id="ref-for-navigationtransition-navigation-type①">navigation type</a> is <var>navigationType</var>, <a data-link-type="dfn" href="#navigationtransition-from-entry" id="ref-for-navigationtransition-from-entry①">from entry</a> is <var>fromEntry</var>, and whose <a data-link-type="dfn" href="#navigationtransition-finished-promise" id="ref-for-navigationtransition-finished-promise①">finished promise</a> is <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#a-new-promise" id="ref-for-a-new-promise②">a new promise</a> created in <var>navigation</var>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-realm" id="ref-for-concept-relevant-realm①⑤">relevant realm</a>.</p>
       <li data-md>
        <p><a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#mark-a-promise-as-handled" id="ref-for-mark-a-promise-as-handled②">Mark as handled</a> <var>navigation</var>’s <a data-link-type="dfn" href="#navigation-transition" id="ref-for-navigation-transition②">transition</a>'s <a data-link-type="dfn" href="#navigationtransition-finished-promise" id="ref-for-navigationtransition-finished-promise②">finished promise</a>.</p>
        <p class="note" role="note">See <a href="#note-finished-promise-mark-as-handled">the discussion about other finished promises</a> as to why this is done.</p>
       <li data-md>
        <p>If <var>navigationType</var> is "<code class="idl"><a data-link-type="idl" href="#dom-navigationtype-traverse" id="ref-for-dom-navigationtype-traverse①⑧">traverse</a></code>", then set <var>navigation</var>’s <a data-link-type="dfn" href="#navigation-suppress-normal-scroll-restoration-during-ongoing-navigation" id="ref-for-navigation-suppress-normal-scroll-restoration-during-ongoing-navigation②">suppress normal scroll restoration during ongoing navigation</a> to true.</p>
        <p class="note" role="note">If <var>event</var>’s <a data-link-type="dfn" href="#navigateevent-scroll-behavior" id="ref-for-navigateevent-scroll-behavior②">scroll behavior</a> was set to "<code class="idl"><a data-link-type="idl" href="#dom-navigationscrollbehavior-after-transition" id="ref-for-dom-navigationscrollbehavior-after-transition①">after-transition</a></code>", then we will <a data-link-type="dfn" href="#potentially-process-scroll-behavior" id="ref-for-potentially-process-scroll-behavior">potentially perform scroll restoration</a> below. Otherwise, there will be no scroll restoration. That is, no navigation which is intercepted by <code class="idl"><a data-link-type="idl" href="#dom-navigateevent-intercept" id="ref-for-dom-navigateevent-intercept②③">intercept()</a></code> goes through the normal scroll restoration process; scroll restoration for such navigations is either done manually, by the web developer, or is done after the transition. </p>
       <li data-md>
        <p>If <var>navigationType</var> is "<code class="idl"><a data-link-type="idl" href="#dom-navigationtype-push" id="ref-for-dom-navigationtype-push①⓪">push</a></code>" or "<code class="idl"><a data-link-type="idl" href="#dom-navigationtype-replace" id="ref-for-dom-navigationtype-replace⑨">replace</a></code>", then run the <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsing-the-web.html#url-and-history-update-steps" id="ref-for-url-and-history-update-steps①">URL and history update steps</a> given <var>document</var> and <var>event</var>’s <code class="idl"><a data-link-type="idl" href="#dom-navigateevent-destination" id="ref-for-dom-navigateevent-destination①⓪">destination</a></code>'s <a data-link-type="dfn" href="#navigationdestination-url" id="ref-for-navigationdestination-url⑦">URL</a>, with <i><a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsing-the-web.html#uhus-serializeddata" id="ref-for-uhus-serializeddata">serializedData</a></i> set to <var>event</var>’s <a data-link-type="dfn" href="#navigateevent-classic-history-api-serialized-data" id="ref-for-navigateevent-classic-history-api-serialized-data③">classic history API serialized data</a> and <i><a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsing-the-web.html#uhus-historyhandling" id="ref-for-uhus-historyhandling">historyHandling</a></i> set to <var>navigationType</var>.</p>
        <p class="note" role="note">If <var>navigationType</var> is "<code class="idl"><a data-link-type="idl" href="#dom-navigationtype-reload" id="ref-for-dom-navigationtype-reload⑥">reload</a></code>", then we are converting a reload into a "same-document reload", for which the <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsing-the-web.html#url-and-history-update-steps" id="ref-for-url-and-history-update-steps②">URL and history update steps</a> are not appropriate. Navigation API-related stuff still happens, such as updating the <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/document-sequences.html#nav-active-history-entry" id="ref-for-nav-active-history-entry①">active session history entry</a>'s <a data-link-type="dfn" href="#session-history-entry-navigation-api-state" id="ref-for-session-history-entry-navigation-api-state⑤">navigation API state</a> if this was caused by a call to <code class="idl"><a data-link-type="idl" href="#dom-navigation-reload" id="ref-for-dom-navigation-reload⑤">navigation.reload()</a></code>, and all the <a href="#ongoing-state">ongoing navigation tracking</a>. </p>
      </ol>
     <li data-md>
      <p>If <var>endResultIsSameDocument</var> is true:</p>
      <ol>
       <li data-md>
        <p>Let <var>promisesList</var> be an empty <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list" id="ref-for-list⑤">list</a>.</p>
       <li data-md>
        <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-iterate" id="ref-for-list-iterate⑥">For each</a> <var>handler</var> of <var>event</var>’s <a data-link-type="dfn" href="#navigateevent-navigation-handler-list" id="ref-for-navigateevent-navigation-handler-list①">navigation handler list</a>:</p>
        <ol>
         <li data-md>
          <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-append" id="ref-for-list-append⑤">Append</a> the result of <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#invoke-a-callback-function" id="ref-for-invoke-a-callback-function">invoking</a> <var>handler</var> to <var>promisesList</var> with an empty arguments list.</p>
        </ol>
       <li data-md>
        <p>If <var>promisesList</var>’s <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-size" id="ref-for-list-size③">size</a> is 0, then set <var>promisesList</var> to « <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#a-promise-resolved-with" id="ref-for-a-promise-resolved-with②">a promise resolved with</a> <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-undefined" id="ref-for-idl-undefined⑤">undefined</a></code> ».</p>
        <p class="note" role="note">There is a subtle timing difference between how <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#wait-for-all" id="ref-for-wait-for-all">waiting for all</a> schedules its success and failure steps when given zero promises versus ≥1 promises. For most uses of <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#wait-for-all" id="ref-for-wait-for-all①">waiting for all</a>, this does not matter. However, with this API, there are so many events and promise handlers which could fire around the same time that the difference is pretty easily observable: it can cause the event/promise handler sequence to vary. (Some of the events and promises involved include: <code class="idl"><a data-link-type="idl" href="#eventdef-navigation-navigatesuccess" id="ref-for-eventdef-navigation-navigatesuccess④">navigatesuccess</a></code> / <code class="idl"><a data-link-type="idl" href="#eventdef-navigation-navigateerror" id="ref-for-eventdef-navigation-navigateerror⑤">navigateerror</a></code>, <code class="idl"><a data-link-type="idl" href="#eventdef-navigation-currententrychange" id="ref-for-eventdef-navigation-currententrychange⑥">currententrychange</a></code>, <code class="idl"><a data-link-type="idl" href="#eventdef-navigationhistoryentry-dispose" id="ref-for-eventdef-navigationhistoryentry-dispose④">dispose</a></code>, <var>ongoingNavigation</var>’s promises, and the <code class="idl"><a data-link-type="idl" href="#dom-navigationtransition-finished" id="ref-for-dom-navigationtransition-finished③">navigation.transition.finished</a></code> promise.) </p>
       <li data-md>
        <p><a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#wait-for-all" id="ref-for-wait-for-all②">Wait for all</a> of <var>promisesList</var>, with the following success steps:</p>
        <ol>
         <li data-md>
          <p>If <var>event</var>’s <code class="idl"><a data-link-type="idl" href="#dom-navigateevent-signal" id="ref-for-dom-navigateevent-signal⑥">signal</a></code> is <a data-link-type="dfn" href="https://dom.spec.whatwg.org/#abortsignal-aborted" id="ref-for-abortsignal-aborted①">aborted</a>, then abort these steps.</p>
         <li data-md>
          <p>If <var>event</var> equals <var>navigation</var>’s <a data-link-type="dfn" href="#navigation-ongoing-navigate-event" id="ref-for-navigation-ongoing-navigate-event②">ongoing navigate event</a>, set <var>navigation</var>’s <a data-link-type="dfn" href="#navigation-ongoing-navigate-event" id="ref-for-navigation-ongoing-navigate-event③">ongoing navigate event</a> to null.</p>
         <li data-md>
          <p><a data-link-type="dfn" href="https://dom.spec.whatwg.org/#concept-event-fire" id="ref-for-concept-event-fire④">Fire an event</a> named <code class="idl"><a data-link-type="idl" href="#eventdef-navigation-navigatesuccess" id="ref-for-eventdef-navigation-navigatesuccess⑤">navigatesuccess</a></code> at <var>navigation</var>.</p>
         <li data-md>
          <p>If <var>navigation</var>’s <a data-link-type="dfn" href="#navigation-transition" id="ref-for-navigation-transition③">transition</a> is not null, then <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#resolve" id="ref-for-resolve⑥">resolve</a> <var>navigation</var>’s <a data-link-type="dfn" href="#navigation-transition" id="ref-for-navigation-transition④">transition</a>'s <a data-link-type="dfn" href="#navigationtransition-finished-promise" id="ref-for-navigationtransition-finished-promise③">finished promise</a> with undefined.</p>
         <li data-md>
          <p>Set <var>navigation</var>’s <a data-link-type="dfn" href="#navigation-transition" id="ref-for-navigation-transition⑤">transition</a> to null.</p>
         <li data-md>
          <p>If <var>ongoingNavigation</var> is non-null, then <a data-link-type="dfn" href="#navigation-api-method-navigation-resolve-the-finished-promise" id="ref-for-navigation-api-method-navigation-resolve-the-finished-promise">resolve the finished promise</a> for <var>ongoingNavigation</var>.</p>
         <li data-md>
          <p><a data-link-type="dfn" href="#potentially-reset-the-focus" id="ref-for-potentially-reset-the-focus①">Potentially reset the focus</a> given <var>navigation</var> and <var>event</var>.</p>
         <li data-md>
          <p><a data-link-type="dfn" href="#potentially-process-scroll-behavior" id="ref-for-potentially-process-scroll-behavior①">Potentially process scroll behavior</a> given <var>event</var>.</p>
        </ol>
        and the following failure steps given reason <var>rejectionReason</var>: 
        <ol>
         <li data-md>
          <p>If <var>event</var>’s <code class="idl"><a data-link-type="idl" href="#dom-navigateevent-signal" id="ref-for-dom-navigateevent-signal⑦">signal</a></code> is <a data-link-type="dfn" href="https://dom.spec.whatwg.org/#abortsignal-aborted" id="ref-for-abortsignal-aborted②">aborted</a>, then abort these steps.</p>
         <li data-md>
          <p><a data-link-type="dfn" href="https://dom.spec.whatwg.org/#concept-event-fire" id="ref-for-concept-event-fire⑤">Fire an event</a> named <code class="idl"><a data-link-type="idl" href="#eventdef-navigation-navigateerror" id="ref-for-eventdef-navigation-navigateerror⑥">navigateerror</a></code> at <var>navigation</var> using <code class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/webappapis.html#errorevent" id="ref-for-errorevent">ErrorEvent</a></code>, with <code class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/webappapis.html#dom-errorevent-error" id="ref-for-dom-errorevent-error">error</a></code> initialized to <var>rejectionReason</var>, and <code class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/webappapis.html#dom-errorevent-message" id="ref-for-dom-errorevent-message">message</a></code>, <code class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/webappapis.html#dom-errorevent-filename" id="ref-for-dom-errorevent-filename">filename</a></code>, <code class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/webappapis.html#dom-errorevent-lineno" id="ref-for-dom-errorevent-lineno">lineno</a></code>, and <code class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/webappapis.html#dom-errorevent-colno" id="ref-for-dom-errorevent-colno">colno</a></code> initialized to appropriate values that can be extracted from <var>rejectionReason</var> in the same underspecified way the user agent typically does for the <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#report-the-exception" id="ref-for-report-the-exception">report an exception</a> algorithm.</p>
         <li data-md>
          <p>If <var>navigation</var>’s <a data-link-type="dfn" href="#navigation-transition" id="ref-for-navigation-transition⑥">transition</a> is not null, then <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#reject" id="ref-for-reject④">reject</a> <var>navigation</var>’s <a data-link-type="dfn" href="#navigation-transition" id="ref-for-navigation-transition⑦">transition</a>'s <a data-link-type="dfn" href="#navigationtransition-finished-promise" id="ref-for-navigationtransition-finished-promise④">finished promise</a> with <var>rejectionReason</var>.</p>
         <li data-md>
          <p>Set <var>navigation</var>’s <a data-link-type="dfn" href="#navigation-transition" id="ref-for-navigation-transition⑧">transition</a> to null.</p>
         <li data-md>
          <p>If <var>ongoingNavigation</var> is non-null, then <a data-link-type="dfn" href="#navigation-api-method-navigation-reject-the-finished-promise" id="ref-for-navigation-api-method-navigation-reject-the-finished-promise①">reject the finished promise</a> for <var>ongoingNavigation</var> with <var>rejectionReason</var>.</p>
         <li data-md>
          <p><a data-link-type="dfn" href="#potentially-reset-the-focus" id="ref-for-potentially-reset-the-focus②">Potentially reset the focus</a> given <var>navigation</var> and <var>event</var>.</p>
          <p class="note" role="note">Although we still <a data-link-type="dfn" href="#potentially-reset-the-focus" id="ref-for-potentially-reset-the-focus③">potentially reset the focus</a> for such failed transitions, we do <em>not</em> <a data-link-type="dfn" href="#potentially-process-scroll-behavior" id="ref-for-potentially-process-scroll-behavior②">potentially process scroll behavior</a> for them. </p>
        </ol>
      </ol>
     <li data-md>
      <p>Otherwise, if <var>ongoingNavigation</var> is non-null, then <a data-link-type="dfn" href="#navigation-api-method-navigation-clean-up" id="ref-for-navigation-api-method-navigation-clean-up③">clean up</a> <var>ongoingNavigation</var>.</p>
     <li data-md>
      <p><a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#clean-up-after-running-script" id="ref-for-clean-up-after-running-script①">Clean up after running script</a> given <var>event</var>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#relevant-settings-object" id="ref-for-relevant-settings-object⑤">relevant settings object</a>.</p>
      <p class="note" role="note">Per the <a href="#note-suppress-microtasks-during-navigation-events">previous note</a>, this stops suppressing any potential promise handler microtasks, causing them to run at this point or later.</p>
     <li data-md>
      <p>If <var>event</var>’s <a data-link-type="dfn" href="#navigateevent-was-intercepted" id="ref-for-navigateevent-was-intercepted④">was intercepted</a> is true, then return false.</p>
     <li data-md>
      <p>Return true.</p>
    </ol>
   </div>
   <div class="algorithm" data-algorithm="maybe continue the navigate event">
     To <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="maybe-continue-the-navigate-event">maybe continue the <code>navigate</code> event</dfn>, given a <code class="idl"><a data-link-type="idl" href="#navigation" id="ref-for-navigation③③">Navigation</a></code> <var>navigation</var>: 
    <ol>
     <li data-md>
      <p>If <var>navigation</var>’s <a data-link-type="dfn" href="#navigation-ongoing-navigate-event" id="ref-for-navigation-ongoing-navigate-event④">ongoing navigate event</a> is null, or <var>navigation</var>’s <a data-link-type="dfn" href="#navigation-ongoing-navigate-event" id="ref-for-navigation-ongoing-navigate-event⑤">ongoing navigate event</a>'s <a data-link-type="dfn" href="#navigateevent-needs-continue" id="ref-for-navigateevent-needs-continue①">needs continue</a> is false, then return.</p>
     <li data-md>
      <p><a data-link-type="dfn" href="#react-to-navigate-event-result" id="ref-for-react-to-navigate-event-result①">React to navigate event result</a> given <var>navigation</var> and <var>navigation</var>’s <a data-link-type="dfn" href="#navigation-ongoing-navigate-event" id="ref-for-navigation-ongoing-navigate-event⑥">ongoing navigate event</a>.</p>
    </ol>
   </div>
   <div class="algorithm" data-algorithm="finalize with an aborted navigation error">
     To <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="finalize-with-an-aborted-navigation-error">finalize with an aborted navigation error</dfn> given a <code class="idl"><a data-link-type="idl" href="#navigation" id="ref-for-navigation③④">Navigation</a></code> <var>navigation</var>, a <a data-link-type="dfn" href="#navigation-api-method-navigation" id="ref-for-navigation-api-method-navigation①③">navigation API method navigation</a> or null <var>ongoingNavigation</var>, and an optional <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-DOMException" id="ref-for-idl-DOMException③①">DOMException</a></code> <var>error</var>: 
    <ol>
     <li data-md>
      <p>Set <var>navigation</var>’s <a data-link-type="dfn" href="#navigation-focus-changed-during-ongoing-navigation" id="ref-for-navigation-focus-changed-during-ongoing-navigation②">focus changed during ongoing navigation</a> to false.</p>
     <li data-md>
      <p>Set <var>navigation</var>’s <a data-link-type="dfn" href="#navigation-suppress-normal-scroll-restoration-during-ongoing-navigation" id="ref-for-navigation-suppress-normal-scroll-restoration-during-ongoing-navigation③">suppress normal scroll restoration during ongoing navigation</a> to false.</p>
     <li data-md>
      <p>If <var>error</var> was not given, then set <var>error</var> to a <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#new" id="ref-for-new①⓪">new</a> "<code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#aborterror" id="ref-for-aborterror④">AbortError</a></code>" <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-DOMException" id="ref-for-idl-DOMException③②">DOMException</a></code>, created in <var>navigation</var>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-realm" id="ref-for-concept-relevant-realm①⑥">relevant realm</a>.</p>
     <li data-md>
      <p>If <var>navigation</var>’s <a data-link-type="dfn" href="#navigation-ongoing-navigate-event" id="ref-for-navigation-ongoing-navigate-event⑦">ongoing navigate event</a> is non-null, then:</p>
      <ol>
       <li data-md>
        <p>Set <var>navigation</var>’s <a data-link-type="dfn" href="#navigation-ongoing-navigate-event" id="ref-for-navigation-ongoing-navigate-event⑧">ongoing navigate event</a>'s <a data-link-type="dfn" href="https://dom.spec.whatwg.org/#canceled-flag" id="ref-for-canceled-flag②">canceled flag</a> to true.</p>
       <li data-md>
        <p>Set <var>navigation</var>’s <a data-link-type="dfn" href="#navigation-ongoing-navigate-event" id="ref-for-navigation-ongoing-navigate-event⑨">ongoing navigate event</a> to null.</p>
      </ol>
     <li data-md>
      <p>If <var>navigation</var>’s <a data-link-type="dfn" href="#navigation-ongoing-navigation-signal" id="ref-for-navigation-ongoing-navigation-signal③">ongoing navigation signal</a> is non-null, then:</p>
      <ol>
       <li data-md>
        <p><a data-link-type="dfn" href="https://dom.spec.whatwg.org/#abortsignal-signal-abort" id="ref-for-abortsignal-signal-abort①">Signal abort</a> on <var>navigation</var>’s <a data-link-type="dfn" href="#navigation-ongoing-navigation-signal" id="ref-for-navigation-ongoing-navigation-signal④">ongoing navigation signal</a> given <var>error</var>.</p>
       <li data-md>
        <p>Set <var>navigation</var>’s <a data-link-type="dfn" href="#navigation-ongoing-navigation-signal" id="ref-for-navigation-ongoing-navigation-signal⑤">ongoing navigation signal</a> to null.</p>
      </ol>
     <li data-md>
      <p><a data-link-type="dfn" href="https://dom.spec.whatwg.org/#concept-event-fire" id="ref-for-concept-event-fire⑥">Fire an event</a> named <code class="idl"><a data-link-type="idl" href="#eventdef-navigation-navigateerror" id="ref-for-eventdef-navigation-navigateerror⑦">navigateerror</a></code> at <var>navigation</var> using <code class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/webappapis.html#errorevent" id="ref-for-errorevent①">ErrorEvent</a></code>, with <code class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/webappapis.html#dom-errorevent-error" id="ref-for-dom-errorevent-error①">error</a></code> initialized to <var>error</var>, and <code class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/webappapis.html#dom-errorevent-message" id="ref-for-dom-errorevent-message①">message</a></code>, <code class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/webappapis.html#dom-errorevent-filename" id="ref-for-dom-errorevent-filename①">filename</a></code>, <code class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/webappapis.html#dom-errorevent-lineno" id="ref-for-dom-errorevent-lineno①">lineno</a></code>, and <code class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/webappapis.html#dom-errorevent-colno" id="ref-for-dom-errorevent-colno①">colno</a></code> initialized to appropriate values that can be extracted from <var>error</var> and the current JavaScript stack in the same underspecified way the user agent typically does for the <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#report-the-exception" id="ref-for-report-the-exception①">report an exception</a> algorithm.</p>
      <p class="note" role="note">Thus, for example, if this algorithm is reached because of a call to <code class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/nav-history-apis.html#dom-window-stop" id="ref-for-dom-window-stop">window.stop()</a></code>, these properties would probably end up initialized based on the line of script that called <code class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/nav-history-apis.html#dom-window-stop" id="ref-for-dom-window-stop①">window.stop()</a></code>. But if it’s because the user clicked the stop button, these properties would probably end up with default values like the empty string or 0. </p>
     <li data-md>
      <p>If <var>ongoingNavigation</var> is non-null, then <a data-link-type="dfn" href="#navigation-api-method-navigation-reject-the-finished-promise" id="ref-for-navigation-api-method-navigation-reject-the-finished-promise②">reject the finished promise</a> for <var>ongoingNavigation</var> with <var>error</var>.</p>
     <li data-md>
      <p>If <var>navigation</var>’s <a data-link-type="dfn" href="#navigation-transition" id="ref-for-navigation-transition⑨">transition</a> is not null, then:</p>
      <ol>
       <li data-md>
        <p><a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#reject" id="ref-for-reject⑤">Reject</a> <var>navigation</var>’s <a data-link-type="dfn" href="#navigation-transition" id="ref-for-navigation-transition①⓪">transition</a>'s <a data-link-type="dfn" href="#navigationtransition-finished-promise" id="ref-for-navigationtransition-finished-promise⑤">finished promise</a> with <var>error</var>.</p>
       <li data-md>
        <p>Set <var>navigation</var>’s <a data-link-type="dfn" href="#navigation-transition" id="ref-for-navigation-transition①①">transition</a> to null.</p>
      </ol>
    </ol>
   </div>
   <div class="algorithm" data-algorithm="inform the navigation API about canceling navigation">
     To <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="inform-the-navigation-api-about-canceling-navigation">inform the navigation API about canceling navigation</dfn> in a <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/document-sequences.html#navigable" id="ref-for-navigable①">navigable</a> <var>navigable</var>: 
    <ol>
     <li data-md>
      <p>Let <var>navigation</var> be <var>navigable</var>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/document-sequences.html#nav-window" id="ref-for-nav-window">active window</a>'s <a data-link-type="dfn" href="#window-navigation-api" id="ref-for-window-navigation-api①">navigation API</a>.</p>
     <li data-md>
      <p>If <var>navigation</var>’s <a data-link-type="dfn" href="#navigation-ongoing-navigation-signal" id="ref-for-navigation-ongoing-navigation-signal⑥">ongoing navigation signal</a> is null, then return.</p>
     <li data-md>
      <p><a data-link-type="dfn" href="#finalize-with-an-aborted-navigation-error" id="ref-for-finalize-with-an-aborted-navigation-error⑤">Finalize with an aborted navigation error</a> given <var>navigation</var> and <var>navigation</var>’s <a data-link-type="dfn" href="#navigation-ongoing-navigation" id="ref-for-navigation-ongoing-navigation①⓪">ongoing navigation</a>.</p>
    </ol>
   </div>
   <div class="algorithm" data-algorithm="inform the navigation API about nested navigable destruction">
     To <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="inform-the-navigation-api-about-nested-navigable-destruction">inform the navigation API about nested navigable destruction</dfn> given a <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/document-sequences.html#navigable" id="ref-for-navigable②">navigable</a> <var>navigable</var>: 
    <ol>
     <li data-md>
      <p><a data-link-type="dfn" href="#inform-the-navigation-api-about-canceling-navigation" id="ref-for-inform-the-navigation-api-about-canceling-navigation">Inform the navigation API about canceling navigation</a> in <var>navigable</var>.</p>
     <li data-md>
      <p>Let <var>navigation</var> be <var>navigable</var>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/document-sequences.html#nav-window" id="ref-for-nav-window①">active window</a>'s <a data-link-type="dfn" href="#window-navigation-api" id="ref-for-window-navigation-api②">navigation API</a>.</p>
     <li data-md>
      <p>Let <var>traversals</var> be a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-clone" id="ref-for-list-clone①">clone</a> of <var>navigation</var>’s <a data-link-type="dfn" href="#navigation-upcoming-traverse-navigations" id="ref-for-navigation-upcoming-traverse-navigations⑧">upcoming traverse navigations</a>.</p>
     <li data-md>
      <p>For each <var>traversal</var> of <var>traversals</var>: <a data-link-type="dfn" href="#finalize-with-an-aborted-navigation-error" id="ref-for-finalize-with-an-aborted-navigation-error⑥">finalize with an aborted navigation error</a> given <var>navigation</var> and <var>traversal</var>.</p>
    </ol>
   </div>
   <div class="algorithm" data-algorithm="potentially reset the focus">
     To <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="potentially-reset-the-focus">potentially reset the focus</dfn> given a <code class="idl"><a data-link-type="idl" href="#navigation" id="ref-for-navigation③⑤">Navigation</a></code> object <var>navigation</var> and an <code class="idl"><a data-link-type="idl" href="#navigateevent" id="ref-for-navigateevent①⑤">NavigateEvent</a></code> <var>event</var>: 
    <ol>
     <li data-md>
      <p>Let <var>focusChanged</var> be <var>navigation</var>’s <a data-link-type="dfn" href="#navigation-focus-changed-during-ongoing-navigation" id="ref-for-navigation-focus-changed-during-ongoing-navigation③">focus changed during ongoing navigation</a>.</p>
     <li data-md>
      <p>Set <var>navigation</var>’s <a data-link-type="dfn" href="#navigation-focus-changed-during-ongoing-navigation" id="ref-for-navigation-focus-changed-during-ongoing-navigation④">focus changed during ongoing navigation</a> to false.</p>
     <li data-md>
      <p>If <var>focusChanged</var> is true, then return.</p>
     <li data-md>
      <p>If <var>event</var>’s <a data-link-type="dfn" href="#navigateevent-was-intercepted" id="ref-for-navigateevent-was-intercepted⑤">was intercepted</a> is false, then return.</p>
     <li data-md>
      <p>If <var>event</var>’s <a data-link-type="dfn" href="#navigateevent-focus-reset-behavior" id="ref-for-navigateevent-focus-reset-behavior②">focus reset behavior</a> is "<code class="idl"><a data-link-type="idl" href="#dom-navigationfocusreset-manual" id="ref-for-dom-navigationfocusreset-manual①">manual</a></code>", then return.</p>
      <p class="note" role="note">If it was left as null, then we treat that as "<code class="idl"><a data-link-type="idl" href="#dom-navigationfocusreset-after-transition" id="ref-for-dom-navigationfocusreset-after-transition">after-transition</a></code>", and continue onward. </p>
     <li data-md>
      <p>Let <var>document</var> be <var>navigation</var>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-global" id="ref-for-concept-relevant-global①⑧">relevant global object</a>'s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/nav-history-apis.html#concept-document-window" id="ref-for-concept-document-window⑨">associated Document</a>.</p>
     <li data-md>
      <p>Let <var>focusTarget</var> be the <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/interaction.html#autofocus-delegate" id="ref-for-autofocus-delegate">autofocus delegate</a> for <var>document</var>.</p>
     <li data-md>
      <p>If <var>focusTarget</var> is null, then set <var>focusTarget</var> to <var>document</var>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/dom.html#the-body-element-2" id="ref-for-the-body-element-2">body element</a>.</p>
     <li data-md>
      <p>If <var>focusTarget</var> is null, then set <var>focusTarget</var> to <var>document</var>’s <a data-link-type="dfn" href="https://dom.spec.whatwg.org/#document-element" id="ref-for-document-element">document element</a>.</p>
     <li data-md>
      <p>Run the <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/interaction.html#focusing-steps" id="ref-for-focusing-steps①">focusing steps</a> for <var>focusTarget</var>, with <var>document</var>’s <a data-link-type="dfn" href="https://w3c.github.io/epub-specs/epub33/core/#dfn-viewport" id="ref-for-dfn-viewport">viewport</a> as the fallback target.</p>
     <li data-md>
      <p>Move the <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/interaction.html#sequential-focus-navigation-starting-point" id="ref-for-sequential-focus-navigation-starting-point">sequential focus navigation starting point</a> to <var>focusTarget</var>.</p>
    </ol>
   </div>
   <div class="algorithm" data-algorithm="potentially process scroll behavior">
     To <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="potentially-process-scroll-behavior">potentially process scroll behavior</dfn> given a <code class="idl"><a data-link-type="idl" href="#navigateevent" id="ref-for-navigateevent①⑥">NavigateEvent</a></code> <var>event</var>: 
    <ol>
     <li data-md>
      <p>If <var>event</var>’s <a data-link-type="dfn" href="#navigateevent-was-intercepted" id="ref-for-navigateevent-was-intercepted⑥">was intercepted</a> is false, then return.</p>
     <li data-md>
      <p>If <var>event</var>’s <a data-link-type="dfn" href="#navigateevent-scroll-behavior" id="ref-for-navigateevent-scroll-behavior③">scroll behavior</a> is "<code class="idl"><a data-link-type="idl" href="#dom-navigationscrollbehavior-manual" id="ref-for-dom-navigationscrollbehavior-manual①">manual</a></code>", then return.</p>
      <p class="note" role="note">If it was left as null, then we treat that as "<code class="idl"><a data-link-type="idl" href="#dom-navigationscrollbehavior-after-transition" id="ref-for-dom-navigationscrollbehavior-after-transition②">after-transition</a></code>", and continue onward. </p>
     <li data-md>
      <p>If <var>event</var>’s <a data-link-type="dfn" href="#navigateevent-did-process-scroll-behavior" id="ref-for-navigateevent-did-process-scroll-behavior①">did process scroll behavior</a> is true, then return.</p>
     <li data-md>
      <p><a data-link-type="dfn" href="#definitely-process-scroll-behavior" id="ref-for-definitely-process-scroll-behavior①">Definitely process scroll behavior</a> given <var>event</var>.</p>
    </ol>
   </div>
   <div class="algorithm" data-algorithm="definitely process scroll behavior">
     To <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="definitely-process-scroll-behavior">definitely process scroll behavior</dfn> given a <code class="idl"><a data-link-type="idl" href="#navigateevent" id="ref-for-navigateevent①⑦">NavigateEvent</a></code> <var>event</var>: 
    <ol>
     <li data-md>
      <p>Set <var>event</var>’s <a data-link-type="dfn" href="#navigateevent-did-process-scroll-behavior" id="ref-for-navigateevent-did-process-scroll-behavior②">did process scroll behavior</a> to true.</p>
     <li data-md>
      <p>If <var>event</var>’s <code class="idl"><a data-link-type="idl" href="#dom-navigateevent-navigationtype" id="ref-for-dom-navigateevent-navigationtype⑤">navigationType</a></code> was initialized to "<code class="idl"><a data-link-type="idl" href="#dom-navigationtype-traverse" id="ref-for-dom-navigationtype-traverse①⑨">traverse</a></code>" or "<code class="idl"><a data-link-type="idl" href="#dom-navigationtype-reload" id="ref-for-dom-navigationtype-reload⑦">reload</a></code>", then <a data-link-type="dfn" href="#restoring-scroll-position-data" id="ref-for-restoring-scroll-position-data">restore scroll position data</a> given <var>event</var>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-global" id="ref-for-concept-relevant-global①⑨">relevant global object</a>'s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/nav-history-apis.html#window-navigable" id="ref-for-window-navigable③">navigable</a>'s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/document-sequences.html#nav-active-history-entry" id="ref-for-nav-active-history-entry②">active session history entry</a>.</p>
     <li data-md>
      <p>Otherwise,</p>
      <ol>
       <li data-md>
        <p>Let <var>document</var> be <var>event</var>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-global" id="ref-for-concept-relevant-global②⓪">relevant global object</a>'s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/nav-history-apis.html#concept-document-window" id="ref-for-concept-document-window①⓪">associated Document</a>.</p>
       <li data-md>
        <p>If <var>document</var>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsing-the-web.html#the-indicated-part-of-the-document" id="ref-for-the-indicated-part-of-the-document">indicated part</a> is null, then <a data-link-type="dfn" href="https://drafts.csswg.org/cssom-view-1/#scroll-to-the-beginning-of-the-document" id="ref-for-scroll-to-the-beginning-of-the-document">scroll to the beginning of the document</a> given <var>document</var>.</p>
       <li data-md>
        <p>Otherwise, <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsing-the-web.html#scroll-to-the-fragment-identifier" id="ref-for-scroll-to-the-fragment-identifier">scroll to the fragment</a> given <var>document</var>.</p>
      </ol>
    </ol>
   </div>
   <h2 class="heading settled" data-level="3" id="NavigationHistoryEntry-class"><span class="secno">3. </span><span class="content">Navigation API history entries</span><a class="self-link" href="#NavigationHistoryEntry-class"></a></h2>
<pre class="idl highlight def">[<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Exposed" id="ref-for-Exposed⑤"><c- g>Exposed</c-></a>=<c- n>Window</c->]
<c- b>interface</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="interface" data-export id="navigationhistoryentry"><code><c- g>NavigationHistoryEntry</c-></code></dfn> : <a data-link-type="idl-name" href="https://dom.spec.whatwg.org/#eventtarget" id="ref-for-eventtarget①"><c- n>EventTarget</c-></a> {
  <c- b>readonly</c-> <c- b>attribute</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-USVString" id="ref-for-idl-USVString②"><c- b>USVString</c-></a>? <a class="idl-code" data-link-type="attribute" data-readonly data-type="USVString?" href="#dom-navigationhistoryentry-url" id="ref-for-dom-navigationhistoryentry-url"><c- g>url</c-></a>;
  <c- b>readonly</c-> <c- b>attribute</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString" id="ref-for-idl-DOMString⑦"><c- b>DOMString</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="DOMString" href="#dom-navigationhistoryentry-key" id="ref-for-dom-navigationhistoryentry-key①"><c- g>key</c-></a>;
  <c- b>readonly</c-> <c- b>attribute</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString" id="ref-for-idl-DOMString⑧"><c- b>DOMString</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="DOMString" href="#dom-navigationhistoryentry-id" id="ref-for-dom-navigationhistoryentry-id①"><c- g>id</c-></a>;
  <c- b>readonly</c-> <c- b>attribute</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-long-long" id="ref-for-idl-long-long①"><c- b>long</c-> <c- b>long</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="long long" href="#dom-navigationhistoryentry-index" id="ref-for-dom-navigationhistoryentry-index①"><c- g>index</c-></a>;
  <c- b>readonly</c-> <c- b>attribute</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-boolean" id="ref-for-idl-boolean⑨"><c- b>boolean</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="boolean" href="#dom-navigationhistoryentry-samedocument" id="ref-for-dom-navigationhistoryentry-samedocument"><c- g>sameDocument</c-></a>;

  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-any" id="ref-for-idl-any⑦"><c- b>any</c-></a> <a class="idl-code" data-link-type="method" href="#dom-navigationhistoryentry-getstate" id="ref-for-dom-navigationhistoryentry-getstate①"><c- g>getState</c-></a>();

  <c- b>attribute</c-> <a data-link-type="idl-name" href="https://html.spec.whatwg.org/multipage/webappapis.html#eventhandler" id="ref-for-eventhandler④"><c- n>EventHandler</c-></a> <a class="idl-code" data-link-type="attribute" data-type="EventHandler" href="#dom-navigationhistoryentry-ondispose" id="ref-for-dom-navigationhistoryentry-ondispose"><c- g>ondispose</c-></a>;
};
</pre>
   <dl class="domintro non-normative">
    <dt><code><var>entry</var>.<code class="idl"><a data-link-type="idl" href="#dom-navigationhistoryentry-url" id="ref-for-dom-navigationhistoryentry-url①">url</a></code></code> 
    <dd>
     <p>The URL of this navigation history entry. </p>
     <p>This can return null if the entry corresponds to a different <code class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#document" id="ref-for-document③">Document</a></code> than the current one (i.e. if <code class="idl"><a data-link-type="idl" href="#dom-navigationhistoryentry-samedocument" id="ref-for-dom-navigationhistoryentry-samedocument①">sameDocument</a></code> is false), and that <code class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#document" id="ref-for-document④">Document</a></code>'s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsers.html#policy-container-referrer-policy" id="ref-for-policy-container-referrer-policy">referrer policy</a> was <a data-link-type="dfn" href="https://w3c.github.io/webappsec-referrer-policy/#referrer-policy-no-referrer" id="ref-for-referrer-policy-no-referrer">"<code>no-referrer</code>"</a> or <a data-link-type="dfn" href="https://w3c.github.io/webappsec-referrer-policy/#referrer-policy-origin" id="ref-for-referrer-policy-origin">"<code>origin</code>"</a>, since that indicates the <code class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#document" id="ref-for-document⑤">Document</a></code> in question is hiding its URL even from other same-origin pages. </p>
    <dt><code><var>entry</var>.<code class="idl"><a data-link-type="idl" href="#dom-navigationhistoryentry-key" id="ref-for-dom-navigationhistoryentry-key②">key</a></code></code> 
    <dd>
     <p>A <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#user-agent" id="ref-for-user-agent">user agent</a>-generated random UUID string representing this navigation history entry’s place in the navigation history list. This value will be reused by other <code class="idl"><a data-link-type="idl" href="#navigationhistoryentry" id="ref-for-navigationhistoryentry③②">NavigationHistoryEntry</a></code> instances that replace this one due to replace-style navigations. This value will survive session restores. </p>
     <p>This is useful for navigating back to this entry in the navigation history list, using <code class="idl"><a data-link-type="idl" href="#dom-navigation-traverseto" id="ref-for-dom-navigation-traverseto⑥">navigation.traverseTo(key)</a></code>. </p>
    <dt><code><var>entry</var>.<code class="idl"><a data-link-type="idl" href="#dom-navigationhistoryentry-id" id="ref-for-dom-navigationhistoryentry-id②">id</a></code></code> 
    <dd>
     <p>A <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#user-agent" id="ref-for-user-agent①">user agent</a>-generated random UUID string representing this specific navigation history entry. This value will <em>not</em> be reused by other <code class="idl"><a data-link-type="idl" href="#navigationhistoryentry" id="ref-for-navigationhistoryentry③③">NavigationHistoryEntry</a></code> instances. This value will survive session restores. </p>
     <p>This is useful for associating data with this navigation history entry using other storage APIs. </p>
    <dt><code><var>entry</var>.<code class="idl"><a data-link-type="idl" href="#dom-navigationhistoryentry-index" id="ref-for-dom-navigationhistoryentry-index②">index</a></code></code> 
    <dd>
     <p>The index of this navigation history entry within <code class="idl"><a data-link-type="idl" href="#dom-navigation-entries" id="ref-for-dom-navigation-entries④">navigation.entries()</a></code>, or −1 if the entry is not in the navigation history entry list. </p>
    <dt><code><var>entry</var>.<code class="idl"><a data-link-type="idl" href="#dom-navigationhistoryentry-samedocument" id="ref-for-dom-navigationhistoryentry-samedocument②">sameDocument</a></code></code> 
    <dd>
     <p>Indicates whether or not this navigation history entry is for the same <code class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#document" id="ref-for-document⑥">Document</a></code> as the current <code class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/nav-history-apis.html#dom-document-2" id="ref-for-dom-document-2①">document</a></code> value, or not. This will be true, for example, when the entry represents a fragment navigation or single-page app navigations. </p>
    <dt><code><var>state</var> = <var>entry</var>.<code class="idl"><a data-link-type="idl" href="#dom-navigationhistoryentry-getstate" id="ref-for-dom-navigationhistoryentry-getstate②">getState</a></code>()</code> 
    <dd>
     <p>Returns the deserialization of the state stored in this entry, which was added to the entry using <code class="idl"><a data-link-type="idl" href="#dom-navigation-navigate" id="ref-for-dom-navigation-navigate⑦">navigation.navigate()</a></code>. This state survives session restores. </p>
     <p>Note that in general, unless the state value is a primitive, <code>entry.getState() !== entry.getState()</code>, since a fresh copy is returned each time. </p>
     <p>This state is unrelated to the classic history API’s <code class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/nav-history-apis.html#dom-history-state" id="ref-for-dom-history-state">history.state</a></code>. </p>
   </dl>
   <p>Each <code class="idl"><a data-link-type="idl" href="#navigationhistoryentry" id="ref-for-navigationhistoryentry③④">NavigationHistoryEntry</a></code> has an associated <dfn class="dfn-paneled" data-dfn-for="NavigationHistoryEntry" data-dfn-type="dfn" data-noexport id="navigationhistoryentry-session-history-entry">session history entry</dfn>, which is a <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsing-the-web.html#session-history-entry" id="ref-for-session-history-entry①④">session history entry</a>.</p>
   <p>Each <code class="idl"><a data-link-type="idl" href="#navigationhistoryentry" id="ref-for-navigationhistoryentry③⑤">NavigationHistoryEntry</a></code> has an associated <dfn class="dfn-paneled" data-dfn-for="NavigationHistoryEntry" data-dfn-type="dfn" data-noexport id="navigationhistoryentry-index">index</dfn>, which is an integer.</p>
   <div class="algorithm" data-algorithm="key" data-algorithm-for="NavigationHistoryEntry">
     The <dfn class="dfn-paneled idl-code" data-dfn-for="NavigationHistoryEntry" data-dfn-type="attribute" data-export id="dom-navigationhistoryentry-key"><code>key</code></dfn> getter steps are: 
    <ol>
     <li data-md>
      <p>If <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this" id="ref-for-this⑤⑤">this</a>'s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-global" id="ref-for-concept-relevant-global②①">relevant global object</a>'s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/nav-history-apis.html#concept-document-window" id="ref-for-concept-document-window①①">associated Document</a> is not <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/document-sequences.html#fully-active" id="ref-for-fully-active⑤">fully active</a>, then return the empty string.</p>
     <li data-md>
      <p>Return <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this" id="ref-for-this⑤⑥">this</a>'s <a data-link-type="dfn" href="#navigationhistoryentry-session-history-entry" id="ref-for-navigationhistoryentry-session-history-entry①②">session history entry</a>'s <a data-link-type="dfn" href="#session-history-entry-navigation-api-key" id="ref-for-session-history-entry-navigation-api-key⑧">navigation API key</a>.</p>
    </ol>
   </div>
   <div class="algorithm" data-algorithm="id" data-algorithm-for="NavigationHistoryEntry">
     The <dfn class="dfn-paneled idl-code" data-dfn-for="NavigationHistoryEntry" data-dfn-type="attribute" data-export id="dom-navigationhistoryentry-id"><code>id</code></dfn> getter steps are: 
    <ol>
     <li data-md>
      <p>If <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this" id="ref-for-this⑤⑦">this</a>'s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-global" id="ref-for-concept-relevant-global②②">relevant global object</a>'s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/nav-history-apis.html#concept-document-window" id="ref-for-concept-document-window①②">associated Document</a> is not <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/document-sequences.html#fully-active" id="ref-for-fully-active⑥">fully active</a>, then return the empty string.</p>
     <li data-md>
      <p>Return <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this" id="ref-for-this⑤⑧">this</a>'s <a data-link-type="dfn" href="#navigationhistoryentry-session-history-entry" id="ref-for-navigationhistoryentry-session-history-entry①③">session history entry</a>'s <a data-link-type="dfn" href="#session-history-entry-navigation-api-id" id="ref-for-session-history-entry-navigation-api-id①">navigation API ID</a>.</p>
    </ol>
   </div>
   <div class="algorithm" data-algorithm="url" data-algorithm-for="NavigationHistoryEntry">
     The <dfn class="dfn-paneled idl-code" data-dfn-for="NavigationHistoryEntry" data-dfn-type="attribute" data-export id="dom-navigationhistoryentry-url"><code>url</code></dfn> getter steps are: 
    <ol>
     <li data-md>
      <p>If <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this" id="ref-for-this⑤⑨">this</a>'s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-global" id="ref-for-concept-relevant-global②③">relevant global object</a>'s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/nav-history-apis.html#concept-document-window" id="ref-for-concept-document-window①③">associated Document</a> is not <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/document-sequences.html#fully-active" id="ref-for-fully-active⑦">fully active</a>, then return null.</p>
     <li data-md>
      <p>Let <var>she</var> be <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this" id="ref-for-this⑥⓪">this</a>'s <a data-link-type="dfn" href="#navigationhistoryentry-session-history-entry" id="ref-for-navigationhistoryentry-session-history-entry①④">session history entry</a>.</p>
     <li data-md>
      <p>If <var>she</var>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsing-the-web.html#she-document" id="ref-for-she-document①">document</a> does not equal <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this" id="ref-for-this⑥①">this</a>'s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-global" id="ref-for-concept-relevant-global②④">relevant global object</a>'s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/nav-history-apis.html#concept-document-window" id="ref-for-concept-document-window①④">associated Document</a>, and <var>she</var>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsing-the-web.html#she-document-state" id="ref-for-she-document-state①">document state</a>'s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsing-the-web.html#document-state-request-referrer-policy" id="ref-for-document-state-request-referrer-policy">request referrer policy</a> is <a data-link-type="dfn" href="https://w3c.github.io/webappsec-referrer-policy/#referrer-policy-no-referrer" id="ref-for-referrer-policy-no-referrer①">"<code>no-referrer</code>"</a> or <a data-link-type="dfn" href="https://w3c.github.io/webappsec-referrer-policy/#referrer-policy-origin" id="ref-for-referrer-policy-origin①">"<code>origin</code>"</a>, then return null.</p>
     <li data-md>
      <p>Return <var>she</var>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsing-the-web.html#she-url" id="ref-for-she-url①">URL</a>, <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url-serializer" id="ref-for-concept-url-serializer①">serialized</a>.</p>
    </ol>
   </div>
   <div class="algorithm" data-algorithm="index" data-algorithm-for="NavigationHistoryEntry">
     The <dfn class="dfn-paneled idl-code" data-dfn-for="NavigationHistoryEntry" data-dfn-type="attribute" data-export id="dom-navigationhistoryentry-index"><code>index</code></dfn> getter steps are: 
    <ol>
     <li data-md>
      <p>If <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this" id="ref-for-this⑥②">this</a>'s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-global" id="ref-for-concept-relevant-global②⑤">relevant global object</a>'s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/nav-history-apis.html#concept-document-window" id="ref-for-concept-document-window①⑤">associated Document</a> is not <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/document-sequences.html#fully-active" id="ref-for-fully-active⑧">fully active</a>, then return −1.</p>
     <li data-md>
      <p>Return <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this" id="ref-for-this⑥③">this</a>'s <a data-link-type="dfn" href="#navigationhistoryentry-index" id="ref-for-navigationhistoryentry-index①">index</a>.</p>
    </ol>
   </div>
   <div class="algorithm" data-algorithm="sameDocument" data-algorithm-for="NavigationHistoryEntry">
     The <dfn class="dfn-paneled idl-code" data-dfn-for="NavigationHistoryEntry" data-dfn-type="attribute" data-export id="dom-navigationhistoryentry-samedocument"><code>sameDocument</code></dfn> getter steps are: 
    <ol>
     <li data-md>
      <p>If <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this" id="ref-for-this⑥④">this</a>'s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-global" id="ref-for-concept-relevant-global②⑥">relevant global object</a>'s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/nav-history-apis.html#concept-document-window" id="ref-for-concept-document-window①⑥">associated Document</a> is not <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/document-sequences.html#fully-active" id="ref-for-fully-active⑨">fully active</a>, then return false.</p>
     <li data-md>
      <p>Return true if <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this" id="ref-for-this⑥⑤">this</a>'s <a data-link-type="dfn" href="#navigationhistoryentry-session-history-entry" id="ref-for-navigationhistoryentry-session-history-entry①⑤">session history entry</a>'s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsing-the-web.html#she-document" id="ref-for-she-document②">document</a> equals <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this" id="ref-for-this⑥⑥">this</a>'s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-global" id="ref-for-concept-relevant-global②⑦">relevant global object</a>'s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/nav-history-apis.html#concept-document-window" id="ref-for-concept-document-window①⑦">associated Document</a>, and false otherwise.</p>
    </ol>
   </div>
   <div class="algorithm" data-algorithm="getState()" data-algorithm-for="NavigationHistoryEntry">
     The <dfn class="dfn-paneled idl-code" data-dfn-for="NavigationHistoryEntry" data-dfn-type="method" data-export id="dom-navigationhistoryentry-getstate"><code>getState()</code></dfn> method steps are: 
    <ol>
     <li data-md>
      <p>If <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this" id="ref-for-this⑥⑦">this</a>'s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-global" id="ref-for-concept-relevant-global②⑧">relevant global object</a>'s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/nav-history-apis.html#concept-document-window" id="ref-for-concept-document-window①⑧">associated Document</a> is not <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/document-sequences.html#fully-active" id="ref-for-fully-active①⓪">fully active</a>, then return undefined.</p>
     <li data-md>
      <p>If <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this" id="ref-for-this⑥⑧">this</a>'s <a data-link-type="dfn" href="#navigationhistoryentry-session-history-entry" id="ref-for-navigationhistoryentry-session-history-entry①⑥">session history entry</a>'s <a data-link-type="dfn" href="#session-history-entry-navigation-api-state" id="ref-for-session-history-entry-navigation-api-state⑥">navigation API state</a> is null, then return undefined.</p>
     <li data-md>
      <p>Return <a data-link-type="abstract-op" href="https://html.spec.whatwg.org/multipage/structured-data.html#structureddeserialize" id="ref-for-structureddeserialize①">StructuredDeserialize</a>(<a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this" id="ref-for-this⑥⑨">this</a>'s <a data-link-type="dfn" href="#navigationhistoryentry-session-history-entry" id="ref-for-navigationhistoryentry-session-history-entry①⑦">session history entry</a>'s <a data-link-type="dfn" href="#session-history-entry-navigation-api-state" id="ref-for-session-history-entry-navigation-api-state⑦">navigation API state</a>).</p>
    </ol>
    <p class="note" role="note">Unlike <code class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/nav-history-apis.html#dom-history-state" id="ref-for-dom-history-state①">history.state</a></code>, this will deserialize upon each access. </p>
    <p class="note" role="note">This can in theory throw an exception, if attempting to deserialize a large <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-ArrayBuffer" id="ref-for-idl-ArrayBuffer">ArrayBuffer</a></code> when not enough memory is available. </p>
   </div>
   <p>The following are the <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#event-handlers" id="ref-for-event-handlers②">event handlers</a> (and their corresponding <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#event-handler-event-type" id="ref-for-event-handler-event-type②">event handler event types</a>) that must be supported, as <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#event-handler-idl-attributes" id="ref-for-event-handler-idl-attributes①">event handler IDL attributes</a>, by objects implementing the <code class="idl"><a data-link-type="idl" href="#navigationhistoryentry" id="ref-for-navigationhistoryentry③⑥">NavigationHistoryEntry</a></code> interface:</p>
   <table>
    <thead>
     <tr>
      <th><a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#event-handlers" id="ref-for-event-handlers③">Event handler</a> 
      <th><a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#event-handler-event-type" id="ref-for-event-handler-event-type③">Event handler event type</a> 
    <tbody>
     <tr>
      <td><dfn class="dfn-paneled idl-code" data-dfn-for="NavigationHistoryEntry" data-dfn-type="attribute" data-export id="dom-navigationhistoryentry-ondispose"><code>ondispose</code></dfn> 
      <td><dfn class="dfn-paneled idl-code" data-dfn-for="NavigationHistoryEntry" data-dfn-type="event" data-export id="eventdef-navigationhistoryentry-dispose"><code>dispose</code></dfn> 
   </table>
   <h2 class="heading settled" data-level="4" id="patches"><span class="secno">4. </span><span class="content">HTML Standard monkeypatches</span><a class="self-link" href="#patches"></a></h2>
   <h3 class="heading settled" data-level="4.1" id="session-history-new-she-fields"><span class="secno">4.1. </span><span class="content">New <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsing-the-web.html#session-history-entry" id="ref-for-session-history-entry①⑤">session history entry</a> items</span><a class="self-link" href="#session-history-new-she-fields"></a></h3>
   <p>Each <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsing-the-web.html#session-history-entry" id="ref-for-session-history-entry①⑥">session history entry</a> gains the following new <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#struct-item" id="ref-for-struct-item①">items</a>:</p>
   <ul>
    <li data-md>
     <p><dfn class="dfn-paneled" data-dfn-for="session history entry" data-dfn-type="dfn" data-noexport id="session-history-entry-navigation-api-key">navigation API key</dfn>, a string, initially set to the result of <a data-link-type="dfn" href="https://w3c.github.io/webcrypto/#dfn-generate-a-random-uuid" id="ref-for-dfn-generate-a-random-uuid">generating a random UUID</a></p>
    <li data-md>
     <p><dfn class="dfn-paneled" data-dfn-for="session history entry" data-dfn-type="dfn" data-noexport id="session-history-entry-navigation-api-id">navigation API ID</dfn>, a string, initially set to the result of <a data-link-type="dfn" href="https://w3c.github.io/webcrypto/#dfn-generate-a-random-uuid" id="ref-for-dfn-generate-a-random-uuid①">generating a random UUID</a></p>
    <li data-md>
     <p><dfn class="dfn-paneled" data-dfn-for="session history entry" data-dfn-type="dfn" data-noexport id="session-history-entry-navigation-api-state">navigation API state</dfn>, which is <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsing-the-web.html#serialized-state" id="ref-for-serialized-state⑥">serialized state</a> or null, initially null</p>
   </ul>
   <h3 class="heading settled" data-level="4.2" id="navigate-patch"><span class="secno">4.2. </span><span class="content">Navigate</span><a class="self-link" href="#navigate-patch"></a></h3>
   <div class="algorithm" data-algorithm="navigate" id="navigate-modifications">
     Modify the <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsing-the-web.html#navigate" id="ref-for-navigate③">navigate</a> algorithms parameter list as follows: 
    <ul>
     <li data-md>
      <p>Add an optional <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/form-control-infrastructure.html#entry-list" id="ref-for-entry-list②">entry list</a> or null <dfn class="dfn-paneled" data-dfn-for="navigate" data-dfn-type="dfn" data-noexport id="navigate-entrylist"><var>entryList</var></dfn> (default null)</p>
     <li data-md>
      <p>Add an optional <a data-link-type="dfn" href="#user-navigation-involvement" id="ref-for-user-navigation-involvement④">user navigation involvement</a> <dfn class="dfn-paneled" data-dfn-for="navigate" data-dfn-type="dfn" data-noexport id="navigate-userinvolvement"><var>userInvolvement</var></dfn> (default "<code><a data-link-type="dfn" href="#user-navigation-involvement-none" id="ref-for-user-navigation-involvement-none③">none</a></code>")</p>
     <li data-md>
      <p>Add an optional <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsing-the-web.html#serialized-state" id="ref-for-serialized-state⑦">serialized state</a> or null <dfn class="dfn-paneled" data-dfn-for="navigate" data-dfn-type="dfn" data-noexport id="navigate-navigationapistate"><var>navigationAPIState</var></dfn> (default null)</p>
     <li data-md>
      <p>Remove <var>cspNavigationType</var></p>
    </ul>
    <p>Add the following step early in the algorithm:</p>
    <ol>
     <li data-md>
      <p>Let <var>cspNavigationType</var> be "<code>form-submission</code>" if <var>entryList</var> is non-null; otherwise, "<code>other</code>".</p>
    </ol>
    <p>Add the following steps right before we go <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/infrastructure.html#in-parallel" id="ref-for-in-parallel">in parallel</a>:</p>
    <ol>
     <li data-md>
      <p>Let <var>navigation</var> be <var>navigable</var>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/document-sequences.html#nav-window" id="ref-for-nav-window②">active window</a>'s <a data-link-type="dfn" href="#window-navigation-api" id="ref-for-window-navigation-api③">navigation API</a>.</p>
     <li data-md>
      <p>If all of the following are false:</p>
      <ul>
       <li data-md>
        <p><var>userInvolvement</var> is "<code><a data-link-type="dfn" href="#user-navigation-involvement-browser-ui" id="ref-for-user-navigation-involvement-browser-ui①">browser UI</a></code>"</p>
       <li data-md>
        <p><var>navigable</var>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/document-sequences.html#nav-document" id="ref-for-nav-document">active document</a>'s <a data-link-type="dfn" href="https://dom.spec.whatwg.org/#concept-document-origin" id="ref-for-concept-document-origin①">origin</a> is not <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsers.html#same-origin-domain" id="ref-for-same-origin-domain①">same origin-domain</a> with <var>sourceDocument</var>’s <a data-link-type="dfn" href="https://dom.spec.whatwg.org/#concept-document-origin" id="ref-for-concept-document-origin②">origin</a></p>
       <li data-md>
        <p><var>navigable</var>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/document-sequences.html#nav-document" id="ref-for-nav-document①">active document</a>'s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/dom.html#is-initial-about:blank" id="ref-for-is-initial-about:blank②">is initial about:blank</a> is true</p>
       <li data-md>
        <p><var>url</var>’s <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url-scheme" id="ref-for-concept-url-scheme①">scheme</a> is not a <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#fetch-scheme" id="ref-for-fetch-scheme">fetch scheme</a></p>
      </ul>
      <p>then:</p>
      <ol>
       <li data-md>
        <p>Let <var>continue</var> be the result of <a data-link-type="dfn" href="#fire-a-non-traversal-navigate-event" id="ref-for-fire-a-non-traversal-navigate-event">firing a non-traversal navigate event</a> at <var>navigation</var> with <i><a data-link-type="dfn" href="#fire-a-non-traversal-navigate-event-navigationtype" id="ref-for-fire-a-non-traversal-navigate-event-navigationtype">navigationType</a></i> set to <var>historyHandling</var>, <i><a data-link-type="dfn" href="#fire-a-non-traversal-navigate-event-issamedocument" id="ref-for-fire-a-non-traversal-navigate-event-issamedocument">isSameDocument</a></i> set to false, <i><a data-link-type="dfn" href="#fire-a-non-traversal-navigate-event-userinvolvement" id="ref-for-fire-a-non-traversal-navigate-event-userinvolvement">userInvolvement</a></i> set to <var>userInvolvement</var>, <i><a data-link-type="dfn" href="#fire-a-non-traversal-navigate-event-formdataentrylist" id="ref-for-fire-a-non-traversal-navigate-event-formdataentrylist">formDataEntryList</a></i> set to <var>entryList</var>, <i><a data-link-type="dfn" href="#fire-a-non-traversal-navigate-event-destinationurl" id="ref-for-fire-a-non-traversal-navigate-event-destinationurl">destinationURL</a></i> set to <var>url</var>, and <i><a data-link-type="dfn" href="#fire-a-non-traversal-navigate-event-state" id="ref-for-fire-a-non-traversal-navigate-event-state">state</a></i> set to <var>navigationAPIState</var>.</p>
       <li data-md>
        <p>If <var>continue</var> is false, return.</p>
      </ol>
      <p class="note" role="note">"<code><a data-link-type="dfn" href="#user-navigation-involvement-browser-ui" id="ref-for-user-navigation-involvement-browser-ui②">browser UI</a></code>" or <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsers.html#same-origin-domain" id="ref-for-same-origin-domain②">cross origin-domain</a> navigations that cause <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsing-the-web.html#navigate-fragid" id="ref-for-navigate-fragid②">fragment navigations</a> <em>do</em> fire the <code class="idl"><a data-link-type="idl" href="#eventdef-navigation-navigate" id="ref-for-eventdef-navigation-navigate①⑧">navigate</a></code> event; those are handled as part of the <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsing-the-web.html#navigate-fragid" id="ref-for-navigate-fragid③">navigate to a fragment</a> algorithm called earlier in <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsing-the-web.html#navigate" id="ref-for-navigate④">navigate</a>, which is not guarded by this condition. </p>
    </ol>
   </div>
   <h3 class="heading settled" data-level="4.3" id="fragment-patch"><span class="secno">4.3. </span><span class="content">Navigate to a fragment</span><a class="self-link" href="#fragment-patch"></a></h3>
   <div class="algorithm" data-algorithm="navigate to a fragment">
     Modify the <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsing-the-web.html#navigate-fragid" id="ref-for-navigate-fragid④">navigate to a fragment</a> algorithm to take a new <var>userInvolvement</var> argument. Then prepend the following steps: 
    <ol>
     <li data-md>
      <p>Let <var>navigation</var> be <var>navigable</var>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/document-sequences.html#nav-window" id="ref-for-nav-window③">active window</a>'s <a data-link-type="dfn" href="#window-navigation-api" id="ref-for-window-navigation-api④">navigation API</a>.</p>
     <li data-md>
      <p>Let <var>continue</var> be the result of <a data-link-type="dfn" href="#fire-a-non-traversal-navigate-event" id="ref-for-fire-a-non-traversal-navigate-event①">firing a non-traversal navigate event</a> at <var>navigation</var> given with <i><a data-link-type="dfn" href="#fire-a-non-traversal-navigate-event-navigationtype" id="ref-for-fire-a-non-traversal-navigate-event-navigationtype①">navigationType</a></i> set to <var>historyHandling</var>, <i><a data-link-type="dfn" href="#fire-a-non-traversal-navigate-event-issamedocument" id="ref-for-fire-a-non-traversal-navigate-event-issamedocument①">isSameDocument</a></i> set to true, <i><a data-link-type="dfn" href="#fire-a-non-traversal-navigate-event-userinvolvement" id="ref-for-fire-a-non-traversal-navigate-event-userinvolvement①">userInvolvement</a></i> set to <var>userInvolvement</var>, and <i><a data-link-type="dfn" href="#fire-a-non-traversal-navigate-event-destinationurl" id="ref-for-fire-a-non-traversal-navigate-event-destinationurl①">destinationURL</a></i> set to <var>url</var>.</p>
     <li data-md>
      <p>If <var>continue</var> is false, then return.</p>
    </ol>
    <p>Modify the step which creates the new <var>historyEntry</var> to also copy over the <a data-link-type="dfn" href="#session-history-entry-navigation-api-state" id="ref-for-session-history-entry-navigation-api-state⑧">navigation API state</a> from the <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/document-sequences.html#nav-active-history-entry" id="ref-for-nav-active-history-entry③">active session history entry</a>.</p>
    <p>Insert the following step after the call to <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsing-the-web.html#update-document-for-history-step-application" id="ref-for-update-document-for-history-step-application">update document for history step application</a>:</p>
    <ol>
     <li data-md>
      <p><a data-link-type="dfn" href="#navigation-update-the-entries-for-a-same-document-navigation" id="ref-for-navigation-update-the-entries-for-a-same-document-navigation">Update the entries for a same-document navigation</a> given <var>navigable</var>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/document-sequences.html#nav-window" id="ref-for-nav-window④">active window</a>'s <a data-link-type="dfn" href="#window-navigation-api" id="ref-for-window-navigation-api⑤">navigation API</a>, <var>navigable</var>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/document-sequences.html#nav-active-history-entry" id="ref-for-nav-active-history-entry④">active session history entry</a>, and <var>historyHandling</var>.</p>
    </ol>
   </div>
   <h3 class="heading settled" data-level="4.4" id="push-replace-state-patch"><span class="secno">4.4. </span><span class="content">Shared history push/replace state steps</span><a class="self-link" href="#push-replace-state-patch"></a></h3>
   <div class="algorithm" data-algorithm="shared history push/replace steps">
     Modify the <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/nav-history-apis.html#shared-history-push/replace-state-steps" id="ref-for-shared-history-push/replace-state-steps">shared history push/replace state steps</a> by inserting the following steps right before the step that runs the <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsing-the-web.html#url-and-history-update-steps" id="ref-for-url-and-history-update-steps③">URL and history update steps</a>. 
    <ol>
     <li data-md>
      <p>Let <var>navigation</var> be <var>history</var>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-global" id="ref-for-concept-relevant-global②⑨">relevant global object</a>'s <a data-link-type="dfn" href="#window-navigation-api" id="ref-for-window-navigation-api⑥">navigation API</a>.</p>
     <li data-md>
      <p>Let <var>continue</var> be the result of <a data-link-type="dfn" href="#fire-a-non-traversal-navigate-event" id="ref-for-fire-a-non-traversal-navigate-event②">firing a non-traversal navigate event</a> at <var>navigation</var> with <i><a data-link-type="dfn" href="#fire-a-non-traversal-navigate-event-navigationtype" id="ref-for-fire-a-non-traversal-navigate-event-navigationtype②">navigationType</a></i> set to <var>historyHandling</var>, <i><a data-link-type="dfn" href="#fire-a-non-traversal-navigate-event-issamedocument" id="ref-for-fire-a-non-traversal-navigate-event-issamedocument②">isSameDocument</a></i> set to true, <i><a data-link-type="dfn" href="#fire-a-non-traversal-navigate-event-destinationurl" id="ref-for-fire-a-non-traversal-navigate-event-destinationurl②">destinationURL</a></i> set to <var>newURL</var>, and <i><a data-link-type="dfn" href="#fire-a-non-traversal-navigate-event-classichistoryapiserializeddata" id="ref-for-fire-a-non-traversal-navigate-event-classichistoryapiserializeddata">classicHistoryAPISerializedData</a></i> set to <var>serializedData</var>.</p>
     <li data-md>
      <p>If <var>continue</var> is false, then return.</p>
    </ol>
   </div>
   <h3 class="heading settled" data-level="4.5" id="uhus-patch"><span class="secno">4.5. </span><span class="content">URL and history update steps</span><a class="self-link" href="#uhus-patch"></a></h3>
   <div class="algorithm" data-algorithm="URL and history update steps update patch">
     Update the <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsing-the-web.html#url-and-history-update-steps" id="ref-for-url-and-history-update-steps④">URL and history update steps</a> by appending the following step right after setting the <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/document-sequences.html#nav-active-history-entry" id="ref-for-nav-active-history-entry⑤">active session history entry</a>: 
    <ol>
     <li data-md>
      <p><a data-link-type="dfn" href="#navigation-update-the-entries-for-a-same-document-navigation" id="ref-for-navigation-update-the-entries-for-a-same-document-navigation①">Update the entries for a same-document navigation</a> given <var>document</var>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-global" id="ref-for-concept-relevant-global③⓪">relevant global object</a>'s <a data-link-type="dfn" href="#window-navigation-api" id="ref-for-window-navigation-api⑦">navigation API</a>, <var>navigable</var>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/document-sequences.html#nav-active-history-entry" id="ref-for-nav-active-history-entry⑥">active session history entry</a>, and <var>historyHandling</var>.</p>
    </ol>
   </div>
   <h3 class="heading settled" data-level="4.6" id="update-for-history-step-patch"><span class="secno">4.6. </span><span class="content">Update document for history state application</span><a class="self-link" href="#update-for-history-step-patch"></a></h3>
   <div class="algorithm" data-algorithm="update document for history step application patch">
     Update the <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsing-the-web.html#update-document-for-history-step-application" id="ref-for-update-document-for-history-step-application①">update document for history step application</a> algorithm as follows: 
    <p>Prepend the following step:</p>
    <ol>
     <li data-md>
      <p>Let <var>navigation</var> be <var>document</var>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-global" id="ref-for-concept-relevant-global③①">relevant global object</a>'s <a data-link-type="dfn" href="#window-navigation-api" id="ref-for-window-navigation-api⑧">navigation API</a>.</p>
    </ol>
    <p>Inside the "<var>documentsEntryChanged</var> is true" block, after <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsing-the-web.html#restore-the-history-object-state" id="ref-for-restore-the-history-object-state">restore the history state object</a>:</p>
    <ol>
     <li data-md>
      <p>If <var>documentIsNew</var> is false, then <a data-link-type="dfn" href="#navigation-update-the-entries-for-a-same-document-navigation" id="ref-for-navigation-update-the-entries-for-a-same-document-navigation②">update the entries for a same-document navigation</a> given <var>navigation</var>, <var>entry</var>, and "<code class="idl"><a data-link-type="idl" href="#dom-navigationtype-traverse" id="ref-for-dom-navigationtype-traverse②⓪">traverse</a></code>".</p>
     <li data-md>
      <p>Otherwise, <a data-link-type="dfn" href="#navigation-initialize-the-entries-for-a-new-navigation" id="ref-for-navigation-initialize-the-entries-for-a-new-navigation①">initialize the entries for a new Navigation</a> given <var>navigation</var>, <var>sessionHistoryEntries</var> TODO pass this in, and <var>entry</var>.</p>
    </ol>
    <p class="note" role="note">This means any <code class="idl"><a data-link-type="idl" href="#eventdef-navigation-currententrychange" id="ref-for-eventdef-navigation-currententrychange⑦">currententrychange</a></code> event and <code class="idl"><a data-link-type="idl" href="#eventdef-navigationhistoryentry-dispose" id="ref-for-eventdef-navigationhistoryentry-dispose⑤">dispose</a></code> events will fire before the <code class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/indices.html#event-popstate" id="ref-for-event-popstate">popstate</a></code> and <code class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/indices.html#event-hashchange" id="ref-for-event-hashchange">hashchange</a></code> events, and those event handlers will see an updated <code class="idl"><a data-link-type="idl" href="#navigation" id="ref-for-navigation③⑥">Navigation</a></code> object. </p>
   </div>
   <h3 class="heading settled" data-level="4.7" id="finalize-patch"><span class="secno">4.7. </span><span class="content">Finalize a cross-document navigation</span><a class="self-link" href="#finalize-patch"></a></h3>
   <div class="algorithm" data-algorithm="finalize a cross-document navigation">
     Insert the following step into <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsing-the-web.html#finalize-a-cross-document-navigation" id="ref-for-finalize-a-cross-document-navigation">finalize a cross-document navigation</a>'s "Otherwise" branch (where <var>entryToReplace</var> is non-null): 
    <ol>
     <li data-md>
      <p>If <var>historyEntry</var>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsing-the-web.html#she-document-state" id="ref-for-she-document-state②">document state</a>'s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsing-the-web.html#document-state-origin" id="ref-for-document-state-origin①">origin</a> is the <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsers.html#same-origin" id="ref-for-same-origin②">same</a> as <var>entryToReplace</var>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsing-the-web.html#she-document-state" id="ref-for-she-document-state③">document state</a>'s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsing-the-web.html#document-state-origin" id="ref-for-document-state-origin②">origin</a>, then set <var>historyEntry</var>’s <a data-link-type="dfn" href="#session-history-entry-navigation-api-key" id="ref-for-session-history-entry-navigation-api-key⑨">navigation API key</a> to <var>entryToReplace</var>’s <a data-link-type="dfn" href="#session-history-entry-navigation-api-key" id="ref-for-session-history-entry-navigation-api-key①⓪">navigation API key</a>.</p>
    </ol>
   </div>
   <h3 class="heading settled" data-level="4.8" id="reactivate-patch"><span class="secno">4.8. </span><span class="content">Reactivate</span><a class="self-link" href="#reactivate-patch"></a></h3>
   <div class="algorithm" data-algorithm="reactivate patch">
     Update the <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsing-the-web.html#reactivate-a-document" id="ref-for-reactivate-a-document">reactivate</a> algorithm by adding the following step before the final top-level step which checks the current document readiness: 
    <ol>
     <li data-md>
      <p><a data-link-type="dfn" href="#navigation-update-the-entries-for-reactivation" id="ref-for-navigation-update-the-entries-for-reactivation①">Update the entries for reactivation</a> given <var>document</var>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-global" id="ref-for-concept-relevant-global③②">relevant global object</a>'s <a data-link-type="dfn" href="#window-navigation-api" id="ref-for-window-navigation-api⑨">navigation API</a>, <var>sessionHistoryEntries</var> TODO pass this in (harder), and <var>entry</var> TODO pass this in (easier).</p>
    </ol>
   </div>
   <h3 class="heading settled" data-level="4.9" id="reload-patch"><span class="secno">4.9. </span><span class="content">Reload</span><a class="self-link" href="#reload-patch"></a></h3>
   <div class="algorithm" data-algorithm="reload" id="reload-modifications">
     Modify the <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsing-the-web.html#reload" id="ref-for-reload②">reload</a> algorithm to take an optional <dfn class="dfn-paneled" data-dfn-for="reload" data-dfn-type="dfn" data-noexport id="reload-navigationapistate"><var>navigationAPIState</var></dfn> (default null) and an optional <dfn class="dfn-paneled" data-dfn-for="reload" data-dfn-type="dfn" data-noexport id="reload-userinvolvement"><var>userInvolvement</var></dfn> (default "<code><a data-link-type="dfn" href="#user-navigation-involvement-none" id="ref-for-user-navigation-involvement-none④">none</a></code>"). Then, prepend the following steps: 
    <ol>
     <li data-md>
      <p>Let <var>navigation</var> be <var>navigable</var>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/document-sequences.html#nav-window" id="ref-for-nav-window⑤">active window</a>'s <a data-link-type="dfn" href="#window-navigation-api" id="ref-for-window-navigation-api①⓪">navigation API</a>.</p>
     <li data-md>
      <p>If both of the following are true:</p>
      <ul>
       <li data-md>
        <p><var>userInvolvement</var> is not "<code><a data-link-type="dfn" href="#user-navigation-involvement-browser-ui" id="ref-for-user-navigation-involvement-browser-ui③">browser UI</a></code>"</p>
       <li data-md>
        <p><var>navigable</var>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/document-sequences.html#nav-document" id="ref-for-nav-document②">active document</a>'s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/dom.html#is-initial-about:blank" id="ref-for-is-initial-about:blank③">is initial about:blank</a> is false</p>
      </ul>
      <p>then:</p>
      <ol>
       <li data-md>
        <p>Let <var>continue</var> be the result of <a data-link-type="dfn" href="#fire-a-non-traversal-navigate-event" id="ref-for-fire-a-non-traversal-navigate-event③">firing a non-traversal navigate event</a> at <var>navigation</var> with <i><a data-link-type="dfn" href="#fire-a-non-traversal-navigate-event-navigationtype" id="ref-for-fire-a-non-traversal-navigate-event-navigationtype③">navigationType</a></i> set to "<code class="idl"><a data-link-type="idl" href="#dom-navigationtype-reload" id="ref-for-dom-navigationtype-reload⑧">reload</a></code>", <i><a data-link-type="dfn" href="#fire-a-non-traversal-navigate-event-issamedocument" id="ref-for-fire-a-non-traversal-navigate-event-issamedocument③">isSameDocument</a></i> set to false, <i><a data-link-type="dfn" href="#fire-a-non-traversal-navigate-event-userinvolvement" id="ref-for-fire-a-non-traversal-navigate-event-userinvolvement②">userInvolvement</a></i> set to <var>userInvolvement</var>, <i><a data-link-type="dfn" href="#fire-a-non-traversal-navigate-event-destinationurl" id="ref-for-fire-a-non-traversal-navigate-event-destinationurl③">destinationURL</a></i> set to <var>navigable</var>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/document-sequences.html#nav-document" id="ref-for-nav-document③">active document</a>'s <a data-link-type="dfn" href="https://dom.spec.whatwg.org/#concept-document-url" id="ref-for-concept-document-url②">URL</a>, and <i><a data-link-type="dfn" href="#fire-a-non-traversal-navigate-event-state" id="ref-for-fire-a-non-traversal-navigate-event-state①">state</a></i> set to <var>navigationAPIState</var>.</p>
       <li data-md>
        <p>If <var>continue</var> is false, return.</p>
      </ol>
    </ol>
   </div>
   <h3 class="heading settled" data-level="4.10" id="traverse-patch"><span class="secno">4.10. </span><span class="content">Traversal</span><a class="self-link" href="#traverse-patch"></a></h3>
   <p>Modify the <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsing-the-web.html#traverse-the-history-by-a-delta" id="ref-for-traverse-the-history-by-a-delta">traverse the history by a delta</a> algorithm to take an optional named argument <dfn class="dfn-paneled" data-dfn-for="traverse the history by a delta" data-dfn-type="dfn" data-noexport id="traverse-the-history-by-a-delta-userinvolvement"><var>userInvolvement</var></dfn> (default "<code><a data-link-type="dfn" href="#user-navigation-involvement-none" id="ref-for-user-navigation-involvement-none⑤">none</a></code>"). Pass it along when calling <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsing-the-web.html#apply-the-history-step" id="ref-for-apply-the-history-step②">apply the history step</a>, which also needs to be modified to take such a argument.</p>
   <h3 class="heading settled" data-level="4.11" id="navigate-event-download-patches"><span class="secno">4.11. </span><span class="content">Download a hyperlink</span><a class="self-link" href="#navigate-event-download-patches"></a></h3>
   <p>The current specification for <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/links.html#downloading-hyperlinks" id="ref-for-downloading-hyperlinks">downloading a hyperlink</a> has several known issues, most notably <a href="https://github.com/whatwg/html/issues/5548">whatwg/html#5548</a> which indicates that the specification should probably be merged into the general <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsing-the-web.html#navigate" id="ref-for-navigate⑤">navigation</a> algorithm.</p>
   <p>For the purposes of the navigation API, we need to fire the appropriate <code class="idl"><a data-link-type="idl" href="#eventdef-navigation-navigate" id="ref-for-eventdef-navigation-navigate①⑨">navigate</a></code> event, with <code class="idl"><a data-link-type="idl" href="#dom-navigateevent-downloadrequest" id="ref-for-dom-navigateevent-downloadrequest③">downloadRequest</a></code> set to the correct value. We could rigorously detail the ways to modify the current spec to accomplish this. But, given that the current spec will be rewritten anyway, this is probably not very useful. So until such a time as we can properly investigate and rewrite the <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/links.html#downloading-hyperlinks" id="ref-for-downloading-hyperlinks①">downloading a hyperlink</a> algorithm, we describe here the expected behavior in a less-formal fashion. We believe this is still enough to get interoperability.</p>
   <div class="algorithm" data-algorithm="download the hyperlink">
    <ul>
     <li>
      <p>Ensure that the algorithm gets an appropriate <a data-link-type="dfn" href="#user-navigation-involvement" id="ref-for-user-navigation-involvement⑤">user navigation involvement</a> value, <var>userInvolvement</var>, passed to it. This is similar to the modifications for the <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/links.html#following-hyperlinks-2" id="ref-for-following-hyperlinks-2">follow the hyperlink</a> algorithm described in <a href="#call-site-patch-userinvolvement">§ 4.15.1 User navigation involvement</a>. One key difference is that, for the case where the user indicates a preference for downloading, <var>userInvolvement</var> must be "<code><a data-link-type="dfn" href="#user-navigation-involvement-browser-ui" id="ref-for-user-navigation-involvement-browser-ui④">browser UI</a></code>", even if it is triggered as part of <a data-link-type="dfn" href="https://dom.spec.whatwg.org/#eventtarget-activation-behavior" id="ref-for-eventtarget-activation-behavior">activation behavior</a>. </p>
     <li>
      <p>Separate out the sandboxing checks in <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/links.html#allowed-to-download" id="ref-for-allowed-to-download">allowed to download</a> from the user-safeguarding checks. If the sandboxing checks fail, then the user agent must not fire a <code class="idl"><a data-link-type="idl" href="#eventdef-navigation-navigate" id="ref-for-eventdef-navigation-navigate②⓪">navigate</a></code> event. Whereas, the user-safeguarding checks generally happen later, probably <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/infrastructure.html#in-parallel" id="ref-for-in-parallel①">in parallel</a>. </p>
     <li>
      <p>Before we reach the point at which it’s time to actually go in parallel and fetch content from the server, and after the <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/links.html#cannot-navigate" id="ref-for-cannot-navigate">cannot navigate</a> check, the synchronously-possible part of the <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/links.html#allowed-to-download" id="ref-for-allowed-to-download①">allowed to download</a> check, the URL parsing step, and the hyperlink suffix appending step, run the equivalent of the following: </p>
      <ol>
       <li data-md>
        <p>If <var>userInvolvement</var> is not "<code><a data-link-type="dfn" href="#user-navigation-involvement-browser-ui" id="ref-for-user-navigation-involvement-browser-ui⑤">browser UI</a></code>", then:</p>
        <ol>
         <li data-md>
          <p>Let <var>navigation</var> be <var>subject</var>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-global" id="ref-for-concept-relevant-global③③">relevant global object</a>'s <a data-link-type="dfn" href="#window-navigation-api" id="ref-for-window-navigation-api①①">navigation API</a>.</p>
         <li data-md>
          <p>Let <var>filename</var> be the value of <var>subject</var>’s <code><a data-link-type="element-sub" href="https://html.spec.whatwg.org/multipage/links.html#attr-hyperlink-download" id="ref-for-attr-hyperlink-download①">download</a></code> attribute.</p>
         <li data-md>
          <p>Let <var>continue</var> be the result of <a data-link-type="dfn" href="#fire-a-download-requested-navigate-event" id="ref-for-fire-a-download-requested-navigate-event">firing a download-requested navigate event</a> at <var>navigation</var> with <i><a data-link-type="dfn" href="#fire-a-download-requested-navigate-event-destinationurl" id="ref-for-fire-a-download-requested-navigate-event-destinationurl">destinationURL</a></i> set to <var>URL</var>, <i><a data-link-type="dfn" href="#fire-a-download-requested-navigate-event-userinvolvement" id="ref-for-fire-a-download-requested-navigate-event-userinvolvement">userInvolvement</a></i> set to <var>userInvolvement</var>, and <i><a data-link-type="dfn" href="#fire-a-download-requested-navigate-event-filename" id="ref-for-fire-a-download-requested-navigate-event-filename">filename</a></i> set to <var>filename</var>.</p>
         <li data-md>
          <p>If <var>continue</var> is false, then return.</p>
        </ol>
      </ol>
      <p>Here the variables <var>subject</var> and <var>URL</var> refer to the same things they currently do in the <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/links.html#downloading-hyperlinks" id="ref-for-downloading-hyperlinks②">download the hyperlink</a> algorithm, i.e. the <code><a data-link-type="element" href="https://html.spec.whatwg.org/multipage/text-level-semantics.html#the-a-element" id="ref-for-the-a-element②">a</a></code> or <code><a data-link-type="element" href="https://html.spec.whatwg.org/multipage/image-maps.html#the-area-element" id="ref-for-the-area-element①">area</a></code> element in question, and the parsed <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url" id="ref-for-concept-url③">URL</a>. </p>
      <p>If we end up triggering the <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsing-the-web.html#navigate" id="ref-for-navigate⑥">navigate</a> algorithm from the <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/links.html#downloading-hyperlinks" id="ref-for-downloading-hyperlinks③">download the hyperlink</a> algorithm, then these steps won’t be directly incorporated into the <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/links.html#downloading-hyperlinks" id="ref-for-downloading-hyperlinks④">download the hyperlink</a> algorithm. Instead, the modifications in <a href="#navigate-patch">§ 4.2 Navigate</a> will get a bit more complicated, so as to use <a data-link-type="dfn" href="#fire-a-download-requested-navigate-event" id="ref-for-fire-a-download-requested-navigate-event①">fire a download-requested navigate event</a> with the above arguments, instead of <a data-link-type="dfn" href="#fire-a-non-traversal-navigate-event" id="ref-for-fire-a-non-traversal-navigate-event④">fire a non-traversal navigate event</a>, for downloads. </p>
    </ul>
   </div>
   <h3 class="heading settled" data-level="4.12" id="cancel-navigation"><span class="secno">4.12. </span><span class="content">Canceling navigations</span><a class="self-link" href="#cancel-navigation"></a></h3>
   <p>The navigation API introduces a new complication into canceling navigations, which is that a navigation might have been fully committed, but still be "ongoing", in the sense of <a href="#ongoing-state">§ 1.3 Ongoing navigation tracking</a>. That is, consider a case such as:</p>
<pre class="highlight">navigation<c- p>.</c->addEventListener<c- p>(</c-><c- u>"navigate"</c-><c- p>,</c-> e <c- p>=></c-> <c- p>{</c->
  e<c- p>.</c->intercept<c- p>({</c->
    handler<c- p>()</c-> <c- p>{</c->
      <c- k>return</c-> <c- ow>new</c-> Promise<c- p>(</c->r <c- p>=></c-> setTimeout<c- p>(</c->r<c- p>,</c-> <c- mf>1</c->_000<c- p>));</c->
    <c- p>}</c->
  <c- p>});</c->
  e<c- p>.</c->signal<c- p>.</c->addEventListener<c- p>(</c-><c- u>"abort"</c-><c- p>,</c-> <c- p>()</c-> <c- p>=></c-> <c- p>{</c-> <c- p>...</c-> <c- p>});</c->
<c- p>});</c->

<c- a>const</c-> p <c- o>=</c-> navigation<c- p>.</c->navigate<c- p>(</c-><c- u>"#1"</c-><c- p>);</c->

setTimeout<c- p>(()</c-> <c- p>=></c-> window<c- p>.</c->stop<c- p>(),</c-> <c- mf>500</c-><c- p>);</c->
</pre>
   <p>Without the <code class="idl"><a data-link-type="idl" href="#eventdef-navigation-navigate" id="ref-for-eventdef-navigation-navigate②①">navigate</a></code> event handler, this kind of synchronous fragment navigation would be straightforward: it matures synchronously, and the <code class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/nav-history-apis.html#dom-window-stop" id="ref-for-dom-window-stop②">stop()</a></code> call does nothing. But because we have used the <code class="idl"><a data-link-type="idl" href="#eventdef-navigation-navigate" id="ref-for-eventdef-navigation-navigate②②">navigate</a></code> handler to indicate that the navigation is still ongoing, we want the <code class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/nav-history-apis.html#dom-window-stop" id="ref-for-dom-window-stop③">stop()</a></code> call to <a data-link-type="dfn" href="#finalize-with-an-aborted-navigation-error" id="ref-for-finalize-with-an-aborted-navigation-error⑦">finalize that navigation with an aborted navigation error</a>, in particular causing <code>p</code> to reject and the <code class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#eventdef-abortsignal-abort" id="ref-for-eventdef-abortsignal-abort">abort</a></code> event to fire on <code>e.signal</code>.</p>
   <p>We thus need to add the following integrations:</p>
   <ul>
    <li data-md>
     <p>Wherever the spec currently modifies a <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/document-sequences.html#navigable" id="ref-for-navigable③">navigable</a> <var>navigable</var>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsing-the-web.html#ongoing-navigation" id="ref-for-ongoing-navigation">ongoing navigation</a>, and thus cancels not-yet-committed navigations, we also <a data-link-type="dfn" href="#inform-the-navigation-api-about-canceling-navigation" id="ref-for-inform-the-navigation-api-about-canceling-navigation①">inform the navigation API about canceling navigation</a> in <var>navigable</var>. (Regardless of whether or not the <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsing-the-web.html#ongoing-navigation" id="ref-for-ongoing-navigation①">ongoing navigation</a> is set to a <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsing-the-web.html#navigation-id" id="ref-for-navigation-id">navigation ID</a> or not.) This likely involves introducing a small abstraction around modifying the ongoing navigation.</p>
    <li data-md>
     <p>When <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/document-sequences.html#destroy-the-nested-navigable" id="ref-for-destroy-the-nested-navigable">destroy the nested navigable</a> algortihm runs given a <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/document-sequences.html#navigable" id="ref-for-navigable④">navigable</a> <var>navigable</var>, we also <a data-link-type="dfn" href="#inform-the-navigation-api-about-nested-navigable-destruction" id="ref-for-inform-the-navigation-api-about-nested-navigable-destruction">inform the navigation API about nested navigable destruction</a> given <var>navigable</var>.</p>
   </ul>
   <p>It would probably be a good idea to rename <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/document-sequences.html#navigable" id="ref-for-navigable⑤">navigable</a>'s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsing-the-web.html#ongoing-navigation" id="ref-for-ongoing-navigation②">ongoing navigation</a> concept and/or <code class="idl"><a data-link-type="idl" href="#navigation" id="ref-for-navigation③⑦">Navigation</a></code> objects' <a data-link-type="dfn" href="#navigation-ongoing-navigation" id="ref-for-navigation-ongoing-navigation①①">ongoing navigation</a>, to avoid the naming overlap, since they mean slightly different things.</p>
   <h3 class="heading settled" data-level="4.13" id="navigate-event-traversal-patches"><span class="secno">4.13. </span><span class="content">Check if unloading is user-canceled</span><a class="self-link" href="#navigate-event-traversal-patches"></a></h3>
   <div class="algorithm" data-algorithm="check if unloading is user-canceled">
     Modify the <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsing-the-web.html#checking-if-unloading-is-user-canceled" id="ref-for-checking-if-unloading-is-user-canceled">check if unloading is user-canceled</a> algorithm as follows: 
    <p>To <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsing-the-web.html#checking-if-unloading-is-user-canceled" id="ref-for-checking-if-unloading-is-user-canceled①">check if unloading is user-canceled</a> given a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list" id="ref-for-list⑥">list</a> of <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/document-sequences.html#navigable" id="ref-for-navigable⑥">navigables</a> <var>navigablesCrossingDocuments</var>, an optional <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/document-sequences.html#navigable" id="ref-for-navigable⑦">navigable</a> <var>traversable</var>, an optional integer <var>targetStep</var> (default null), and an optional <a data-link-type="dfn" href="#user-navigation-involvement" id="ref-for-user-navigation-involvement⑥">user navigation involvement</a> <var>userInvolvement</var> (default "<code><a data-link-type="dfn" href="#user-navigation-involvement-none" id="ref-for-user-navigation-involvement-none⑥">none</a></code>"):</p>
    <ol>
     <li data-md>
      <p>Let <var>unloadPromptShown</var> be false.</p>
     <li data-md>
      <p>Let <var>unloadPromptCanceled</var> be false.</p>
     <li data-md>
      <p>Let <var>changingNavigables</var> be a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list" id="ref-for-list⑦">list</a> of <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/document-sequences.html#navigable" id="ref-for-navigable⑧">navigables</a>, initially empty.</p>
     <li data-md>
      <p>If <var>traversable</var> is not null and <var>targetStep</var> is not null, append the result of <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsing-the-web.html#get-all-navigables-whose-current-session-history-entry-will-change-or-reload" id="ref-for-get-all-navigables-whose-current-session-history-entry-will-change-or-reload">get all navigables whose current session history entry will change or reload</a> given <var>traversable</var> and <var>targetStep</var> to <var>changingNavigables</var>.</p>
     <li data-md>
      <p>Otherwise, append <var>navigablesCrossingDocuments</var> to <var>changingNavigables</var>.</p>
     <li data-md>
      <p>Let <var>totalTasks</var> be the size of <var>changingNavigables</var>.</p>
     <li data-md>
      <p>Let <var>completedTasks</var> be 0.</p>
     <li data-md>
      <p>If <var>traversable</var> is not null and <var>changingNavigables</var> <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-contain" id="ref-for-list-contain①">contains</a> <var>traversable</var>:</p>
      <ol>
       <li data-md>
        <p>Let <var>targetEntry</var> be the result of <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsing-the-web.html#getting-the-target-history-entry" id="ref-for-getting-the-target-history-entry">getting the target history entry</a> given <var>traversable</var> and <var>targetStep</var>.</p>
       <li data-md>
        <p>Let <var>isSameOrigin</var> be true if <var>targetEntry</var>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsing-the-web.html#she-document-state" id="ref-for-she-document-state④">document state</a>'s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsing-the-web.html#document-state-origin" id="ref-for-document-state-origin③">origin</a> is the <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsers.html#same-origin" id="ref-for-same-origin③">same</a> as <var>traversable</var>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/document-sequences.html#nav-current-history-entry" id="ref-for-nav-current-history-entry">current session history entry</a>'s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsing-the-web.html#she-document-state" id="ref-for-she-document-state⑤">document state</a>'s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsing-the-web.html#document-state-origin" id="ref-for-document-state-origin④">origin</a>; otherwise, false.</p>
       <li data-md>
        <p><a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-global-task" id="ref-for-queue-a-global-task④">Queue a global task</a> on the <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#navigation-and-traversal-task-source" id="ref-for-navigation-and-traversal-task-source④">navigation and traversal task source</a> given <var>traversable</var>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/document-sequences.html#nav-window" id="ref-for-nav-window⑥">active window</a> to run the following steps:</p>
        <ol>
         <li data-md>
          <p>If <var>isSameOrigin</var> is true:</p>
          <ol>
           <li data-md>
            <p>Let <var>navigateEventResult</var> be the result of <a data-link-type="dfn" href="#fire-a-traversal-navigate-event" id="ref-for-fire-a-traversal-navigate-event">firing a traversal navigate event</a> at <var>traversable</var>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/document-sequences.html#nav-window" id="ref-for-nav-window⑦">active window</a>'s <a data-link-type="dfn" href="#window-navigation-api" id="ref-for-window-navigation-api①②">navigation API</a> with <i><a data-link-type="dfn" href="#fire-a-traversal-navigate-event-destinationentry" id="ref-for-fire-a-traversal-navigate-event-destinationentry">destinationEntry</a></i> set to <var>targetEntry</var> and <i><a data-link-type="dfn" href="#fire-a-traversal-navigate-event-userinvolvement" id="ref-for-fire-a-traversal-navigate-event-userinvolvement">userInvolvement</a></i> set to <var>userInvolvement</var>.</p>
           <li data-md>
            <p>If <var>navigateEventResult</var> is false, then set <var>unloadPromptCanceled</var> to true.</p>
          </ol>
         <li data-md>
          <p>If <var>unloadPromptCanceled</var> is false and <var>navigablesCrossingDocuments</var> <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-contain" id="ref-for-list-contain②">contains</a> <var>traversable</var>:</p>
          <ol>
           <li data-md>
            <p>Run the steps to fire a beforeunload event (currently steps 6.1 thru 6.8 in the <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsing-the-web.html#checking-if-unloading-is-user-canceled" id="ref-for-checking-if-unloading-is-user-canceled②">check if unloading is user-canceled</a> steps).</p>
          </ol>
         <li data-md>
          <p>Increment <var>completedTasks</var>.</p>
        </ol>
       <li data-md>
        <p>Wait for <var>completedTasks</var> to be 1.</p>
       <li data-md>
        <p>If <var>unloadPromptCanceled</var> is true, then return "<code>refuse</code>";</p>
      </ol>
     <li data-md>
      <p>For each <var>navigable</var> of <var>changingNavigables</var>:</p>
      <ol>
       <li data-md>
        <p>If <var>navigable</var> equals <var>traversable</var>, then <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#iteration-continue" id="ref-for-iteration-continue">continue</a>.</p>
       <li data-md>
        <p>Let <var>targetEntry</var> be the result of <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsing-the-web.html#getting-the-target-history-entry" id="ref-for-getting-the-target-history-entry①">getting the target history entry</a> given <var>traversable</var> and <var>targetStep</var>.</p>
       <li data-md>
        <p>Let <var>isSameOrigin</var> be true if <var>targetEntry</var>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsing-the-web.html#she-document-state" id="ref-for-she-document-state⑥">document state</a>'s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsing-the-web.html#document-state-origin" id="ref-for-document-state-origin⑤">origin</a> is the <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsers.html#same-origin" id="ref-for-same-origin④">same</a> as <var>navigable</var>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/document-sequences.html#nav-current-history-entry" id="ref-for-nav-current-history-entry①">current session history entry</a>'s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsing-the-web.html#she-document-state" id="ref-for-she-document-state⑦">document state</a>'s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsing-the-web.html#document-state-origin" id="ref-for-document-state-origin⑥">origin</a>; otherwise, false.</p>
       <li data-md>
        <p><a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-global-task" id="ref-for-queue-a-global-task⑤">Queue a global task</a> on the <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#navigation-and-traversal-task-source" id="ref-for-navigation-and-traversal-task-source⑤">navigation and traversal task source</a> given <var>navigable</var>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/document-sequences.html#nav-window" id="ref-for-nav-window⑧">active window</a> to run the following steps:</p>
        <ol>
         <li data-md>
          <p>If <var>isSameOrigin</var> is true:</p>
          <ol>
           <li data-md>
            <p>Let <var>navigateEventResult</var> be the result of <a data-link-type="dfn" href="#fire-a-traversal-navigate-event" id="ref-for-fire-a-traversal-navigate-event①">firing a traversal navigate event</a> at <var>navigable</var>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/document-sequences.html#nav-window" id="ref-for-nav-window⑨">active window</a>'s <a data-link-type="dfn" href="#window-navigation-api" id="ref-for-window-navigation-api①③">navigation API</a> with <i><a data-link-type="dfn" href="#fire-a-traversal-navigate-event-destinationentry" id="ref-for-fire-a-traversal-navigate-event-destinationentry①">destinationEntry</a></i> set to <var>targetEntry</var> and <i><a data-link-type="dfn" href="#fire-a-traversal-navigate-event-userinvolvement" id="ref-for-fire-a-traversal-navigate-event-userinvolvement①">userInvolvement</a></i> set to <var>userInvolvement</var>.</p>
           <li data-md>
            <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#assert" id="ref-for-assert①⑨">Assert</a>: <var>navigateEventResult</var> is true.</p>
          </ol>
         <li data-md>
          <p>If <var>navigablesCrossingDocuments</var> <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-contain" id="ref-for-list-contain③">contains</a> <var>navigable</var>:</p>
          <ol>
           <li data-md>
            <p>Run the steps to fire a beforeunload event (currently steps 6.1 thru 6.8 in the <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsing-the-web.html#checking-if-unloading-is-user-canceled" id="ref-for-checking-if-unloading-is-user-canceled③">check if unloading is user-canceled</a> steps).</p>
          </ol>
         <li data-md>
          <p>Increment <var>completedTasks</var>.</p>
        </ol>
      </ol>
     <li data-md>
      <p>Wait for <var>completedTasks</var> to be <var>totalTasks</var>.</p>
     <li data-md>
      <p>Return <var>unloadPromptCanceled</var>.</p>
    </ol>
   </div>
   <div class="algorithm" data-algorithm="apply the history step">
     Modify the <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsing-the-web.html#apply-the-history-step" id="ref-for-apply-the-history-step③">apply the history step</a> algorithm as follows: 
    <p>Change step 5 (which runs the <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsing-the-web.html#checking-if-unloading-is-user-canceled" id="ref-for-checking-if-unloading-is-user-canceled④">check if unloading is user-canceled</a> steps) to:</p>
    <ol>
     <li data-md>
      <p>If <var>checkForUserCancelation</var> is true, and the result of <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsing-the-web.html#checking-if-unloading-is-user-canceled" id="ref-for-checking-if-unloading-is-user-canceled⑤">checking if unloading is user-canceled</a> given <var>navigablesCrossingDocuments</var>, <var>traversable</var>, <var>targetStep</var> and <var>userInvolvement</var> is "<code>refuse</code>", then return.</p>
    </ol>
    <p>(Recall that we introduced the <var>userInvolvement</var> parameter as part of <a href="#traverse-patch">§ 4.10 Traversal</a>.)</p>
    <p>Before the update document for history step application (currently step 14.10.3), add the following step:</p>
    <ol>
     <li data-md>
      <p>If <var>changingNavigableContinuation</var>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsing-the-web.html#changing-nav-continuation-update-only" id="ref-for-changing-nav-continuation-update-only">update-only</a> is true, <a data-link-type="dfn" href="#maybe-continue-the-navigate-event" id="ref-for-maybe-continue-the-navigate-event">maybe continue the navigate event</a> given <var>displayedDocument</var>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-global" id="ref-for-concept-relevant-global③④">relevant global object</a>'s <a data-link-type="dfn" href="#window-navigation-api" id="ref-for-window-navigation-api①④">navigation API</a>.</p>
    </ol>
   </div>
   <p>Potentially rename <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsing-the-web.html#checking-if-unloading-is-user-canceled" id="ref-for-checking-if-unloading-is-user-canceled⑥">check if unloading is user-canceled</a> to something like "check for unloading cancelation" to reflect that we are now allowing programmatic cancelation, not just user cancelation.</p>
   <h3 class="heading settled" data-level="4.14" id="new-user-navigation-involvement"><span class="secno">4.14. </span><span class="content">User navigation involvement</span><a class="self-link" href="#new-user-navigation-involvement"></a></h3>
   <p>Introduce (right before the definition of the <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsing-the-web.html#navigate" id="ref-for-navigate⑦">navigate</a> algorithm) the concept of a <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="user-navigation-involvement">user navigation involvement</dfn>, which is one of the following:</p>
   <dl>
    <dt data-md>"<dfn class="dfn-paneled" data-dfn-for="user navigation involvement" data-dfn-type="dfn" data-noexport id="user-navigation-involvement-browser-ui"><code>browser UI</code></dfn>"
    <dd data-md>
     <p>The navigation was initiated by the user via browser UI mechanisms</p>
    <dt data-md>"<dfn class="dfn-paneled" data-dfn-for="user navigation involvement" data-dfn-type="dfn" data-noexport id="user-navigation-involvement-activation"><code>activation</code></dfn>"
    <dd data-md>
     <p>The navigation was initiated by the user via the <a data-link-type="dfn" href="https://dom.spec.whatwg.org/#eventtarget-activation-behavior" id="ref-for-eventtarget-activation-behavior①">activation behavior</a> of an element</p>
    <dt data-md>"<dfn class="dfn-paneled" data-dfn-for="user navigation involvement" data-dfn-type="dfn" data-noexport id="user-navigation-involvement-none"><code>none</code></dfn>"
    <dd data-md>
     <p>The navigation was not initiated by the user</p>
   </dl>
   <p class="note" role="note">This infrastructure partially solves <a href="https://github.com/whatwg/html/issues/5381">whatwg/html#5381</a>, and it’d be ideal to update the <span>`<code><a data-link-type="http-header" href="https://w3c.github.io/webappsec-fetch-metadata/#http-headerdef-sec-fetch-site" id="ref-for-http-headerdef-sec-fetch-site">Sec-Fetch-Site</a></code>`</span> spec at the same time.</p>
   <p>Define the <dfn class="dfn-paneled" data-dfn-for="Event" data-dfn-type="dfn" data-noexport id="event-user-navigation-involvement">user navigation involvement</dfn> for an <code class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#event" id="ref-for-event②">Event</a></code> <var>event</var> as "<code><a data-link-type="dfn" href="#user-navigation-involvement-activation" id="ref-for-user-navigation-involvement-activation">activation</a></code>" if <var>event</var>’s <code class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#dom-event-istrusted" id="ref-for-dom-event-istrusted②">isTrusted</a></code> attribute is initialized to true, and "<code><a data-link-type="dfn" href="#user-navigation-involvement-none" id="ref-for-user-navigation-involvement-none⑦">none</a></code>" otherwise.</p>
   <h3 class="heading settled" data-level="4.15" id="call-site-patch"><span class="secno">4.15. </span><span class="content">Various call site patches</span><a class="self-link" href="#call-site-patch"></a></h3>
   <h4 class="heading settled" data-level="4.15.1" id="call-site-patch-userinvolvement"><span class="secno">4.15.1. </span><span class="content">User navigation involvement</span><a class="self-link" href="#call-site-patch-userinvolvement"></a></h4>
   <p>Modify the <a href="https://html.spec.whatwg.org/multipage/document-lifecycle.html#nav-traversal-ui">Browser user interface considerations</a> section to require setting <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsing-the-web.html#navigate" id="ref-for-navigate⑧">navigate</a>'s <i><a data-link-type="dfn" href="#navigate-userinvolvement" id="ref-for-navigate-userinvolvement">userInvolvement</a></i>, <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsing-the-web.html#reload" id="ref-for-reload③">reload</a>’s <i><a data-link-type="dfn" href="#reload-userinvolvement" id="ref-for-reload-userinvolvement">userInvolvement</a></i>, and <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsing-the-web.html#traverse-the-history-by-a-delta" id="ref-for-traverse-the-history-by-a-delta①">traverse the history by a delta</a>'s <i><a data-link-type="dfn" href="#traverse-the-history-by-a-delta-userinvolvement" id="ref-for-traverse-the-history-by-a-delta-userinvolvement">userInvolvement</a></i> all to "<code><a data-link-type="dfn" href="#user-navigation-involvement-browser-ui" id="ref-for-user-navigation-involvement-browser-ui⑥">browser UI</a></code>" for all operations in that section.</p>
   <hr>
   <p>Modify the <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/links.html#following-hyperlinks-2" id="ref-for-following-hyperlinks-2①">follow the hyperlink</a> algorithm to take a new <var>userInvolvement</var> argument. Then, update the call to it from <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsing-the-web.html#navigate" id="ref-for-navigate⑨">navigate</a> to set <i><a data-link-type="dfn" href="#navigate-userinvolvement" id="ref-for-navigate-userinvolvement①">userInvolvement</a></i> to this <var>userInvolvement</var> value.</p>
   <div class="algorithm" data-algorithm="area activation behavior">
     Modify the <a data-link-type="dfn" href="https://dom.spec.whatwg.org/#eventtarget-activation-behavior" id="ref-for-eventtarget-activation-behavior②">activation behavior</a> of <code><a data-link-type="element" href="https://html.spec.whatwg.org/multipage/image-maps.html#the-area-element" id="ref-for-the-area-element②">area</a></code> elements by introducing the <var>event</var> argument and replacing the <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/links.html#following-hyperlinks-2" id="ref-for-following-hyperlinks-2②">follow the hyperlink</a> step with the following: 
    <ol>
     <li data-md>
      <p>Otherwise, <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/links.html#following-hyperlinks-2" id="ref-for-following-hyperlinks-2③">follow the hyperlink</a> created by <var>element</var> with the <a data-link-type="dfn" href="#event-user-navigation-involvement" id="ref-for-event-user-navigation-involvement">user navigation involvement</a> for <var>event</var>.</p>
    </ol>
   </div>
   <div class="algorithm" data-algorithm="a activation behavior">
     Modify the <a data-link-type="dfn" href="https://dom.spec.whatwg.org/#eventtarget-activation-behavior" id="ref-for-eventtarget-activation-behavior③">activation behavior</a> of <code><a data-link-type="element" href="https://html.spec.whatwg.org/multipage/text-level-semantics.html#the-a-element" id="ref-for-the-a-element③">a</a></code> elements by replacing its <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/links.html#following-hyperlinks-2" id="ref-for-following-hyperlinks-2④">follow the hyperlink</a> step with the following: 
    <ol>
     <li data-md>
      <p>Otherwise, <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/links.html#following-hyperlinks-2" id="ref-for-following-hyperlinks-2⑤">follow the hyperlink</a> created by <var>element</var> with the <a data-link-type="dfn" href="#event-user-navigation-involvement" id="ref-for-event-user-navigation-involvement①">user navigation involvement</a> for <var>event</var>.</p>
    </ol>
   </div>
   <p>Expand the section on "<a href="https://html.spec.whatwg.org/multipage/semantics.html#providing-users-with-a-means-to-follow-hyperlinks-created-using-the-link-element">Providing users with a means to follow hyperlinks created using the <code>link</code> element</a>" by adding the following sentence:</p>
   <blockquote>
    <ins>Such invocations of <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/links.html#following-hyperlinks-2" id="ref-for-following-hyperlinks-2⑥">follow the hyperlink</a> algorithm must set the <i><a data-link-type="dfn" href="#navigate-userinvolvement" id="ref-for-navigate-userinvolvement②">userInvolvement</a></i> argument to "<code><a data-link-type="dfn" href="#user-navigation-involvement-browser-ui" id="ref-for-user-navigation-involvement-browser-ui⑦">browser UI</a></code>".</ins>
   </blockquote>
   <hr>
   <p>Modify the <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/form-control-infrastructure.html#plan-to-navigate" id="ref-for-plan-to-navigate">plan to navigate</a> algorithm to take a <var>userInvolvement</var> argument. Then, update the call to it from <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsing-the-web.html#navigate" id="ref-for-navigate①⓪">navigate</a> to set <i><a data-link-type="dfn" href="#navigate-userinvolvement" id="ref-for-navigate-userinvolvement③">userInvolvement</a></i> to this <var>userInvolvement</var> value.</p>
   <p>Modify the <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/form-control-infrastructure.html#concept-form-submit" id="ref-for-concept-form-submit①">submit</a> algorithm to take an optional <var>userInvolvement</var> argument (default "<code><a data-link-type="dfn" href="#user-navigation-involvement-none" id="ref-for-user-navigation-involvement-none⑧">none</a></code>").  Have the <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/form-control-infrastructure.html#concept-form-submit" id="ref-for-concept-form-submit②">submit</a> algorithm pass along its value to all invocations of <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/form-control-infrastructure.html#plan-to-navigate" id="ref-for-plan-to-navigate①">plan to navigate</a>.</p>
   <p>Modify the definition of the <a data-link-type="dfn" href="https://dom.spec.whatwg.org/#eventtarget-activation-behavior" id="ref-for-eventtarget-activation-behavior④">activation behavior</a> for <code><a data-link-type="element" href="https://html.spec.whatwg.org/multipage/input.html#the-input-element" id="ref-for-the-input-element">input</a></code> elements to take an <var>event</var> argument. Then, pass along this argument to the invocation of the <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/input.html#input-activation-behavior" id="ref-for-input-activation-behavior">input activation behavior</a>.</p>
   <p>Modify the Submit Button state’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/input.html#input-activation-behavior" id="ref-for-input-activation-behavior①">input activation behavior</a> by having it take an <var>event<var> argument and pass along the <a data-link-type="dfn" href="#event-user-navigation-involvement" id="ref-for-event-user-navigation-involvement②">user navigation involvement</a> for <var>event</var> as the final argument when it calls <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/form-control-infrastructure.html#concept-form-submit" id="ref-for-concept-form-submit③">submit</a>.</var></var></p>
   <p>Modify the Image Button state’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/input.html#input-activation-behavior" id="ref-for-input-activation-behavior②">input activation behavior</a> by having it take an <var>event<var> argument and pass along the <a data-link-type="dfn" href="#event-user-navigation-involvement" id="ref-for-event-user-navigation-involvement③">user navigation involvement</a> for <var>event</var> as the final argument when it calls <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/form-control-infrastructure.html#concept-form-submit" id="ref-for-concept-form-submit④">submit</a>.</var></var></p>
   <p>Modify the <code><a data-link-type="element" href="https://html.spec.whatwg.org/multipage/form-elements.html#the-button-element" id="ref-for-the-button-element">button</a></code> element’s <a data-link-type="dfn" href="https://dom.spec.whatwg.org/#eventtarget-activation-behavior" id="ref-for-eventtarget-activation-behavior⑤">activation behavior</a> by having it take an <var>event</var> argument and, in the Submit Button case, to pass along the <a data-link-type="dfn" href="#event-user-navigation-involvement" id="ref-for-event-user-navigation-involvement④">user navigation involvement</a> for <var>event</var> as the final argument when it calls <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/form-control-infrastructure.html#concept-form-submit" id="ref-for-concept-form-submit⑤">submit</a>.</p>
   <p>Modify the no-<a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/form-elements.html#attr-button-type-submit-state" id="ref-for-attr-button-type-submit-state">submit button</a> case for <a href="https://html.spec.whatwg.org/multipage/form-control-infrastructure.html#implicit-submission">implicit form submission</a> to pass along "<code><a data-link-type="dfn" href="#user-navigation-involvement-activation" id="ref-for-user-navigation-involvement-activation①">activation</a></code>" as the final argument when it calls <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/form-control-infrastructure.html#concept-form-submit" id="ref-for-concept-form-submit⑥">submit</a>.</p>
   <p class="note" role="note">The case of implicit submission when a submit button is present is automatically taken care of because it fires a (trusted) click event at the submit button.</p>
   <hr>
   <p>Update the call to from <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsing-the-web.html#navigate" id="ref-for-navigate①①">navigate</a> into <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsing-the-web.html#navigate-fragid" id="ref-for-navigate-fragid⑤">navigate to a fragment</a> to pass along <var>userInvolvement</var>.</p>
   <h4 class="heading settled" data-level="4.15.2" id="call-site-patch-entrylist"><span class="secno">4.15.2. </span><span class="content">Form entry list</span><a class="self-link" href="#call-site-patch-entrylist"></a></h4>
   <p>Modify the <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/form-control-infrastructure.html#plan-to-navigate" id="ref-for-plan-to-navigate②">plan to navigate</a> algorithm to take an additional optional argument <var>entryList</var> (default null). Then, modify the step which calls <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsing-the-web.html#navigate" id="ref-for-navigate①②">navigate</a> to pass it along as <i><a data-link-type="dfn" href="#navigate-entrylist" id="ref-for-navigate-entrylist">entryList</a></i>, in place of <var>cspNavigationType</var>.</p>
   <p>Modify the <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/form-control-infrastructure.html#submit-body" id="ref-for-submit-body">submit as entity body</a> algorithm to pass <var>entry list</var> along to <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/form-control-infrastructure.html#plan-to-navigate" id="ref-for-plan-to-navigate③">plan to navigate</a> as a second argument.</p>
   <h3 class="heading settled" data-level="4.16" id="focus-patches"><span class="secno">4.16. </span><span class="content">Focus tracking</span><a class="self-link" href="#focus-patches"></a></h3>
   <p>To support the <code class="idl"><a data-link-type="idl" href="#dom-navigationinterceptoptions-focusreset" id="ref-for-dom-navigationinterceptoptions-focusreset⑥">focusReset</a></code> option, the following patches need to be made:</p>
   <p>Update the <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/interaction.html#focusing-steps" id="ref-for-focusing-steps②">focusing steps</a> to, right before they call the <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/interaction.html#focus-update-steps" id="ref-for-focus-update-steps">focus update steps</a>, set the <code class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#document" id="ref-for-document⑦">Document</a></code>'s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-global" id="ref-for-concept-relevant-global③⑤">relevant global object</a>'s <a data-link-type="dfn" href="#window-navigation-api" id="ref-for-window-navigation-api①⑤">navigation API</a>'s <a data-link-type="dfn" href="#navigation-focus-changed-during-ongoing-navigation" id="ref-for-navigation-focus-changed-during-ongoing-navigation⑤">focus changed during ongoing navigation</a> to true.</p>
   <p>Update the <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/interaction.html#focus-fixup-rule" id="ref-for-focus-fixup-rule">focus fixup rule</a> to additionally set the <code class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#document" id="ref-for-document⑧">Document</a></code>'s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-global" id="ref-for-concept-relevant-global③⑥">relevant global object</a>'s <a data-link-type="dfn" href="#window-navigation-api" id="ref-for-window-navigation-api①⑥">navigation API</a>'s <a data-link-type="dfn" href="#navigation-focus-changed-during-ongoing-navigation" id="ref-for-navigation-focus-changed-during-ongoing-navigation⑥">focus changed during ongoing navigation</a> to false.</p>
   <p class="note" role="note">In combination, these ensure that the <a data-link-type="dfn" href="#navigation-focus-changed-during-ongoing-navigation" id="ref-for-navigation-focus-changed-during-ongoing-navigation⑦">focus changed during ongoing navigation</a> reflects any developer- or user-initiated focus changes, unless they were undone by the focus fixup rule. For example, if the user moved focus to an element which was removed from the DOM while the promise returned from a handler passed to <code class="idl"><a data-link-type="idl" href="#dom-navigateevent-intercept" id="ref-for-dom-navigateevent-intercept②④">intercept()</a></code> was settling, then that would not count as a focus change. </p>
   <h3 class="heading settled" data-level="4.17" id="scroll-restoration-patches"><span class="secno">4.17. </span><span class="content">Scroll restoration</span><a class="self-link" href="#scroll-restoration-patches"></a></h3>
   <p>To support the <code class="idl"><a data-link-type="idl" href="#dom-navigationinterceptoptions-scroll" id="ref-for-dom-navigationinterceptoptions-scroll⑧">scroll</a></code> option, as well as to fix <a href="https://github.com/whatwg/html/issues/7517">whatwg/html#7517</a>, the following patches need to be made:</p>
   <p>Add a boolean, <dfn class="dfn-paneled" data-dfn-for="Document" data-dfn-type="dfn" data-noexport id="document-has-been-scrolled-by-the-user">has been scrolled by the user</dfn>, initially false, to <code class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#document" id="ref-for-document⑨">Document</a></code> objects. State that if the user scrolls the document, the user agent must set that document’s <a data-link-type="dfn" href="#document-has-been-scrolled-by-the-user" id="ref-for-document-has-been-scrolled-by-the-user">has been scrolled by the user</a> to true. Modify the <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/document-lifecycle.html#unload-a-document" id="ref-for-unload-a-document">unload a document</a> algorithm to set this back to false.</p>
   <div class="algorithm" data-algorithm="restoring scroll position data">
     Define the process of <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="restoring-scroll-position-data">restoring scroll position data</dfn> given a <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsing-the-web.html#session-history-entry" id="ref-for-session-history-entry①⑦">session history entry</a> <var>entry</var> as follows: 
    <ol>
     <li data-md>
      <p>Let <var>document</var> be <var>entry</var>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsing-the-web.html#she-document" id="ref-for-she-document③">document</a>.</p>
     <li data-md>
      <p>If <var>document</var>’s <a data-link-type="dfn" href="#document-has-been-scrolled-by-the-user" id="ref-for-document-has-been-scrolled-by-the-user①">has been scrolled by the user</a> is true, then the user agent should return.</p>
     <li data-md>
      <p>The user agent should attempt to use <var>entry</var>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsing-the-web.html#she-scroll-position" id="ref-for-she-scroll-position">scroll position data</a> to restore the scroll positions of <var>document</var>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsing-the-web.html#restorable-scrollable-regions" id="ref-for-restorable-scrollable-regions">restorable scrollable regions</a>. The user agent may continue to attempt to do so periodically, until <var>document</var>’s <a data-link-type="dfn" href="#document-has-been-scrolled-by-the-user" id="ref-for-document-has-been-scrolled-by-the-user②">has been scrolled by the user</a> becomes true.</p>
      <p class="note" role="note">This is formulated as an <em>attempt</em>, which is potentially repeated until success or until the user scrolls, due to the fact that relevant content indicated by the <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsing-the-web.html#she-scroll-position" id="ref-for-she-scroll-position①">scroll position data</a> might take some time to load from the network. </p>
      <p class="note" role="note">Scroll restoration might be affected by scroll anchoring. <a data-link-type="biblio" href="#biblio-css-scroll-anchoring-1" title="CSS Scroll Anchoring Module Level 1">[CSS-SCROLL-ANCHORING-1]</a> </p>
    </ol>
   </div>
   <div class="algorithm" data-algorithm="restore persisted state">
     With this in place, modify the <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsing-the-web.html#restore-persisted-state" id="ref-for-restore-persisted-state">restore persisted state</a> algorithm’s first step to read as follows: 
    <ol>
     <li data-md>
      <p>If <var>entry</var>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsing-the-web.html#she-scroll-restoration-mode" id="ref-for-she-scroll-restoration-mode">scroll restoration mode</a> is "<code class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/browsing-the-web.html#dom-scrollrestoration-auto" id="ref-for-dom-scrollrestoration-auto">auto</a></code>", and <var>entry</var>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsing-the-web.html#she-document" id="ref-for-she-document④">document</a>'s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-global" id="ref-for-concept-relevant-global③⑦">relevant global object</a>'s <a data-link-type="dfn" href="#window-navigation-api" id="ref-for-window-navigation-api①⑦">navigation API</a>'s <a data-link-type="dfn" href="#navigation-suppress-normal-scroll-restoration-during-ongoing-navigation" id="ref-for-navigation-suppress-normal-scroll-restoration-during-ongoing-navigation④">suppress normal scroll restoration during ongoing navigation</a> is false, then <a data-link-type="dfn" href="#restoring-scroll-position-data" id="ref-for-restoring-scroll-position-data①">restore scroll position data</a> given <var>entry</var>.</p>
    </ol>
    <p>In addition to the existing note, add the following one:</p>
    <p class="note" role="note">If the <a data-link-type="dfn" href="#navigation-suppress-normal-scroll-restoration-during-ongoing-navigation" id="ref-for-navigation-suppress-normal-scroll-restoration-during-ongoing-navigation⑤">suppress normal scroll restoration during ongoing navigation</a> boolean is true, then <a data-link-type="dfn" href="#restoring-scroll-position-data" id="ref-for-restoring-scroll-position-data②">restoring scroll position data</a> might still happen at a later point, as part of <a data-link-type="dfn" href="#potentially-process-scroll-behavior" id="ref-for-potentially-process-scroll-behavior③">potentially processing scroll behavior</a> for the relevant <code class="idl"><a data-link-type="idl" href="#navigation" id="ref-for-navigation③⑧">Navigation</a></code> object, or via a <code class="idl"><a data-link-type="idl" href="#dom-navigateevent-scroll" id="ref-for-dom-navigateevent-scroll③">navigateEvent.scroll()</a></code> method call. </p>
   </div>
   <h3 class="heading settled" data-level="4.18" id="new-failed-populate-note"><span class="secno">4.18. </span><span class="content">Helpful note: failed attempt to populate</span><a class="self-link" href="#new-failed-populate-note"></a></h3>
   <p>Inside <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsing-the-web.html#apply-the-history-step" id="ref-for-apply-the-history-step④">apply the history step</a>, expand the note which currently says</p>
   <blockquote>
    <p>This means we tried to populate the document, but were unable to do so, e.g. because of the server returning a 204. </p>
   </blockquote>
   <p>to instead say:</p>
   <div class="note" role="note">
    <p>This means we tried to populate the document, but were unable to do so, e.g. because of the server returning a 204. </p>
    <p>These kinds of failed navigations or traversals will not be signaled to the navigation API (e.g., through the promises of any <a data-link-type="dfn" href="#navigation-ongoing-navigation" id="ref-for-navigation-ongoing-navigation①②">ongoing navigation</a>, or the <code class="idl"><a data-link-type="idl" href="#dom-navigationtransition-finished" id="ref-for-dom-navigationtransition-finished④">navigation.transition.finished</a></code> promise, or the <code class="idl"><a data-link-type="idl" href="#eventdef-navigation-navigateerror" id="ref-for-eventdef-navigation-navigateerror⑧">navigateerror</a></code> event). Doing so would leak information about the timing of responses from other origins, in the cross-origin case, and providing different results in the cross-origin versus same-origin cases was deemed too confusing. </p>
    <p>However, implementations could use this opportunity to clear any promise handlers for the <code class="idl"><a data-link-type="idl" href="#dom-navigationtransition-finished" id="ref-for-dom-navigationtransition-finished⑤">navigation.transition.finished</a></code> promise, as they are guaranteed at this point to never run. And, they might wish to <a data-link-type="dfn" href="https://console.spec.whatwg.org/#report-a-warning-to-the-console" id="ref-for-report-a-warning-to-the-console②">report a warning to the console</a> if any part of the navigation API initiated these navigations, to make it clear to the web developer the reason why their promises will never settle and events will never fire. </p>
   </div>
   <h2 class="heading settled" data-level="5" id="security-privacy"><span class="secno">5. </span><span class="content">Security and privacy considerations</span><a class="self-link" href="#security-privacy"></a></h2>
   <div nonnormative>
    <h3 class="heading settled" data-level="5.1" id="sp-cross-site-tracking"><span class="secno">5.1. </span><span class="content">Cross-site tracking</span><a class="self-link" href="#sp-cross-site-tracking"></a></h3>
    <p>This specification does not enable any new cross-site tracking capabilities. This is largely because the <code class="idl"><a data-link-type="idl" href="#dom-navigation-entries" id="ref-for-dom-navigation-entries⑤">navigation.entries()</a></code> method only returns information about the same-origin, same-frame history entries.</p>
    <p>In more detail:</p>
    <ul>
     <li data-md>
      <p>The storage of <a data-link-type="dfn" href="#session-history-entry-navigation-api-state" id="ref-for-session-history-entry-navigation-api-state⑨">navigation API state</a> in session history entries is a convenience with no tracking abilities, since the state is only accessible same-origin. That is, it provides the same power as APIs such as <a href="https://github.com/privacycg/storage-partitioning">partitioned</a> <code class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/webstorage.html#dom-sessionstorage" id="ref-for-dom-sessionstorage">sessionStorage</a></code>.</p>
     <li data-md>
      <p>The browser-generated UUIDs stored as <a data-link-type="dfn" href="#session-history-entry-navigation-api-id" id="ref-for-session-history-entry-navigation-api-id②">navigation API ID</a> and <a data-link-type="dfn" href="#session-history-entry-navigation-api-key" id="ref-for-session-history-entry-navigation-api-key①①">navigation API key</a> live only for the lifetime of a browsing session; they are not stable user-specific identifiers, and in particular are not the same across different frames.</p>
    </ul>
    <h3 class="heading settled" data-level="5.2" id="sp-navigation-monitoring-interception"><span class="secno">5.2. </span><span class="content">Navigation monitoring and interception</span><a class="self-link" href="#sp-navigation-monitoring-interception"></a></h3>
    <p>Through the <code class="idl"><a data-link-type="idl" href="#eventdef-navigation-navigate" id="ref-for-eventdef-navigation-navigate②③">navigate</a></code> event, this API allows web developers to monitor navigations, and in some cases replace cross-document navigations with same-document ones, or prevent the navigation from going through.</p>
    <p>Care has been taken to avoid this being dangerous, or giving insight into user behavior that would not otherwise be available to the site. In particular:</p>
    <ul>
     <li data-md>
      <p>It is not possible to prevent a back/forward navigation, as this could lead to trapping the user on the page. (We would like to make this possible in the future by adding additional security mitigations; see <a href="https://github.com/WICG/navigation-api/issues/32">#32</a>.)</p>
     <li data-md>
      <p>Navigations initiated from cross-origin-domain frames do not fire <code class="idl"><a data-link-type="idl" href="#eventdef-navigation-navigate" id="ref-for-eventdef-navigation-navigate②④">navigate</a></code> events. An example would be such a frame calling <code>window.open(url, name)</code> with <code>name</code> targeting the current frame.</p>
     <li data-md>
      <p>Navigations initiated using browser UI, apart from back/forward navigations or fragment-only navigations, do not fire <code class="idl"><a data-link-type="idl" href="#eventdef-navigation-navigate" id="ref-for-eventdef-navigation-navigate②⑤">navigate</a></code> events. An example would be the user directly editing the URL bar.</p>
    </ul>
    <p>We also have a few more restrictions worth noting, which don’t directly address any attack, but reduce the surface area and complexity of the navigation interception feature, which can have indirect security benefits:</p>
    <ul>
     <li data-md>
      <p>Navigations initiated toward non-<a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#fetch-scheme" id="ref-for-fetch-scheme①">fetch scheme</a> URLs, such as <code>javascript:</code> URLs, do not fire <code class="idl"><a data-link-type="idl" href="#eventdef-navigation-navigate" id="ref-for-eventdef-navigation-navigate②⑥">navigate</a></code> events.</p>
     <li data-md>
      <p>Navigations initiated on the initial <code>about:blank</code> document do not fire <code class="idl"><a data-link-type="idl" href="#eventdef-navigation-navigate" id="ref-for-eventdef-navigation-navigate②⑦">navigate</a></code> events.</p>
     <li data-md>
      <p>Navigations initiated by <code class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/dynamic-markup-insertion.html#dom-document-open" id="ref-for-dom-document-open">document.open()</a></code> do not fire <code class="idl"><a data-link-type="idl" href="#eventdef-navigation-navigate" id="ref-for-eventdef-navigation-navigate②⑧">navigate</a></code> events.</p>
     <li data-md>
      <p>Cross-document traversals cannot be intercepted and converted into same-document traversals.</p>
    </ul>
    <h3 class="heading settled" data-level="5.3" id="sp-url-updates"><span class="secno">5.3. </span><span class="content">URL updates</span><a class="self-link" href="#sp-url-updates"></a></h3>
    <p>This API, like <code class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/nav-history-apis.html#dom-history-pushstate" id="ref-for-dom-history-pushstate①">history.pushState()</a></code> and <code class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/nav-history-apis.html#dom-history-replacestate" id="ref-for-dom-history-replacestate">history.replaceState()</a></code>, gives the ability to change what is shown in the browser’s URL bar. This is part of the navigation interception capability mentioned in the previous section.</p>
    <p>This is not dangerous, because the navigation API is subject to the same restrictions as the classic history API: namely, the page’s URL can only be changed if the page <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/nav-history-apis.html#can-have-its-url-rewritten" id="ref-for-can-have-its-url-rewritten②">can have its URL rewritten</a> to the new URL. So in particular no authority-granting components, such as the site or origin, are impacted.</p>
    <h3 class="heading settled" data-level="5.4" id="sp-ua-ui"><span class="secno">5.4. </span><span class="content">Other user agent UI</span><a class="self-link" href="#sp-ua-ui"></a></h3>
    <p>This specification does not add any requirements on how user agents implement their user interfaces. (Even the URL bar updates mentioned in the previous section are not technically part of the specification; the specification only governs the return value of other APIs, like <code class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/nav-history-apis.html#dom-location-href" id="ref-for-dom-location-href①">location.href</a></code>.) This preserves the ability for user agents to protect users through UI changes.</p>
    <p>For example, today some user agents take advantage of this flexibility to skip certain history entries when pressing the back button. This can be used to avoid back-trapping by abusive sites, by skipping entries with which the user did not interact and thus allowing the user to escape abusive sites faster.</p>
    <p>The navigation API preserves all of these freedoms.</p>
   </div>
  </main>
<script src="https://www.w3.org/scripts/TR/2021/fixup.js"></script>
  <h2 class="no-num no-ref heading settled" id="index"><span class="content">Index</span><a class="self-link" href="#index"></a></h2>
  <h3 class="no-num no-ref heading settled" id="index-defined-here"><span class="content">Terms defined by this specification</span><a class="self-link" href="#index-defined-here"></a></h3>
  <ul class="index">
   <li><a href="#user-navigation-involvement-activation">activation</a><span>, in § 4.14</span>
   <li>
    "after-transition"
    <ul>
     <li><a href="#dom-navigationfocusreset-after-transition">enum-value for NavigationFocusReset</a><span>, in § 2.1</span>
     <li><a href="#dom-navigationscrollbehavior-after-transition">enum-value for NavigationScrollBehavior</a><span>, in § 2.1</span>
    </ul>
   <li><a href="#an-early-error-result">an early error result</a><span>, in § 1.4</span>
   <li><a href="#dom-navigationhistorybehavior-auto">"auto"</a><span>, in § 1</span>
   <li><a href="#dom-navigation-back">back()</a><span>, in § 1.5</span>
   <li><a href="#dom-navigation-back">back(options)</a><span>, in § 1.5</span>
   <li><a href="#user-navigation-involvement-browser-ui">browser UI</a><span>, in § 4.14</span>
   <li><a href="#dom-navigation-cangoback">canGoBack</a><span>, in § 1.1</span>
   <li><a href="#dom-navigation-cangoforward">canGoForward</a><span>, in § 1.1</span>
   <li>
    canIntercept
    <ul>
     <li><a href="#dom-navigateevent-canintercept">attribute for NavigateEvent</a><span>, in § 2.1</span>
     <li><a href="#dom-navigateeventinit-canintercept">dict-member for NavigateEventInit</a><span>, in § 2.1</span>
    </ul>
   <li><a href="#navigateevent-classic-history-api-serialized-data">classic history API serialized data</a><span>, in § 2.1</span>
   <li><a href="#fire-a-non-traversal-navigate-event-classichistoryapiserializeddata">classicHistoryAPISerializedData</a><span>, in § 2.3</span>
   <li><a href="#navigation-api-method-navigation-clean-up">clean up</a><span>, in § 1.3</span>
   <li><a href="#dom-navigationresult-committed">committed</a><span>, in § 1</span>
   <li><a href="#navigation-api-method-navigation-committed-promise">committed promise</a><span>, in § 1.3</span>
   <li><a href="#navigation-api-method-navigation-committed-to-entry">committed-to entry</a><span>, in § 1.3</span>
   <li>
    constructor(type, eventInit)
    <ul>
     <li><a href="#dom-navigateevent-navigateevent">constructor for NavigateEvent</a><span>, in § 2.1</span>
     <li><a href="#dom-navigationcurrententrychangeevent-navigationcurrententrychangeevent">constructor for NavigationCurrentEntryChangeEvent</a><span>, in § 1.2</span>
    </ul>
   <li><a href="#navigation-current-entry">current entry</a><span>, in § 1.2</span>
   <li><a href="#dom-navigation-currententry">currentEntry</a><span>, in § 1.2</span>
   <li><a href="#eventdef-navigation-currententrychange">currententrychange</a><span>, in § 1.6</span>
   <li><a href="#navigation-current-entry-index">current entry index</a><span>, in § 1</span>
   <li><a href="#definitely-process-scroll-behavior">definitely process scroll behavior</a><span>, in § 2.3</span>
   <li>
    destination
    <ul>
     <li><a href="#dom-navigateevent-destination">attribute for NavigateEvent</a><span>, in § 2.1</span>
     <li><a href="#dom-navigateeventinit-destination">dict-member for NavigateEventInit</a><span>, in § 2.1</span>
     <li><a href="#dom-navigationcurrententrychangeeventinit-destination">dict-member for NavigationCurrentEntryChangeEventInit</a><span>, in § 1.2</span>
    </ul>
   <li><a href="#fire-a-traversal-navigate-event-destinationentry">destinationEntry</a><span>, in § 2.3</span>
   <li>
    destinationURL
    <ul>
     <li><a href="#fire-a-download-requested-navigate-event-destinationurl">dfn for fire a download-requested navigate event</a><span>, in § 2.3</span>
     <li><a href="#fire-a-non-traversal-navigate-event-destinationurl">dfn for fire a non-traversal navigate event</a><span>, in § 2.3</span>
    </ul>
   <li><a href="#navigateevent-did-process-scroll-behavior">did process scroll behavior</a><span>, in § 2.1</span>
   <li><a href="#eventdef-navigationhistoryentry-dispose">dispose</a><span>, in § 3</span>
   <li>
    downloadRequest
    <ul>
     <li><a href="#dom-navigateevent-downloadrequest">attribute for NavigateEvent</a><span>, in § 2.1</span>
     <li><a href="#dom-navigateeventinit-downloadrequest">dict-member for NavigateEventInit</a><span>, in § 2.1</span>
    </ul>
   <li><a href="#dom-navigation-entries">entries()</a><span>, in § 1.1</span>
   <li><a href="#navigation-entry-list">entry list</a><span>, in § 1</span>
   <li><a href="#navigate-entrylist">entryList</a><span>, in § 4.2</span>
   <li><a href="#fire-a-download-requested-navigate-event-filename">filename</a><span>, in § 2.3</span>
   <li><a href="#finalize-with-an-aborted-navigation-error">finalize with an aborted navigation error</a><span>, in § 2.3</span>
   <li>
    finished
    <ul>
     <li><a href="#dom-navigationtransition-finished">attribute for NavigationTransition</a><span>, in § 1.3</span>
     <li><a href="#dom-navigationresult-finished">dict-member for NavigationResult</a><span>, in § 1</span>
    </ul>
   <li>
    finished promise
    <ul>
     <li><a href="#navigationtransition-finished-promise">dfn for NavigationTransition</a><span>, in § 1.3</span>
     <li><a href="#navigation-api-method-navigation-finished-promise">dfn for navigation API method navigation</a><span>, in § 1.3</span>
    </ul>
   <li><a href="#fire-a-download-requested-navigate-event">fire a download-requested navigate event</a><span>, in § 2.3</span>
   <li><a href="#fire-a-non-traversal-navigate-event">fire a non-traversal navigate event</a><span>, in § 2.3</span>
   <li><a href="#fire-a-traversal-navigate-event">fire a traversal navigate event</a><span>, in § 2.3</span>
   <li><a href="#navigation-focus-changed-during-ongoing-navigation">focus changed during ongoing navigation</a><span>, in § 1.3</span>
   <li><a href="#dom-navigationinterceptoptions-focusreset">focusReset</a><span>, in § 2.1</span>
   <li><a href="#navigateevent-focus-reset-behavior">focus reset behavior</a><span>, in § 2.1</span>
   <li>
    formData
    <ul>
     <li><a href="#dom-navigateevent-formdata">attribute for NavigateEvent</a><span>, in § 2.1</span>
     <li><a href="#dom-navigateeventinit-formdata">dict-member for NavigateEventInit</a><span>, in § 2.1</span>
    </ul>
   <li><a href="#fire-a-non-traversal-navigate-event-formdataentrylist">formDataEntryList</a><span>, in § 2.3</span>
   <li><a href="#dom-navigation-forward">forward()</a><span>, in § 1.5</span>
   <li><a href="#dom-navigation-forward">forward(options)</a><span>, in § 1.5</span>
   <li>
    from
    <ul>
     <li><a href="#dom-navigationcurrententrychangeevent-from">attribute for NavigationCurrentEntryChangeEvent</a><span>, in § 1.2</span>
     <li><a href="#dom-navigationtransition-from">attribute for NavigationTransition</a><span>, in § 1.3</span>
    </ul>
   <li><a href="#navigationtransition-from-entry">from entry</a><span>, in § 1.3</span>
   <li>
    getState()
    <ul>
     <li><a href="#dom-navigationdestination-getstate">method for NavigationDestination</a><span>, in § 2.2</span>
     <li><a href="#dom-navigationhistoryentry-getstate">method for NavigationHistoryEntry</a><span>, in § 3</span>
    </ul>
   <li><a href="#get-the-navigation-api-history-index">get the navigation API history index</a><span>, in § 1</span>
   <li><a href="#dom-navigationinterceptoptions-handler">handler</a><span>, in § 2.1</span>
   <li><a href="#document-has-been-scrolled-by-the-user">has been scrolled by the user</a><span>, in § 4.17</span>
   <li><a href="#navigation-has-entries-and-events-disabled">has entries and events disabled</a><span>, in § 1</span>
   <li>
    hashChange
    <ul>
     <li><a href="#dom-navigateevent-hashchange">attribute for NavigateEvent</a><span>, in § 2.1</span>
     <li><a href="#dom-navigateeventinit-hashchange">dict-member for NavigateEventInit</a><span>, in § 2.1</span>
    </ul>
   <li><a href="#dom-navigationnavigateoptions-history">history</a><span>, in § 1</span>
   <li>
    id
    <ul>
     <li><a href="#dom-navigationdestination-id">attribute for NavigationDestination</a><span>, in § 2.2</span>
     <li><a href="#dom-navigationhistoryentry-id">attribute for NavigationHistoryEntry</a><span>, in § 3</span>
     <li><a href="#navigationdestination-id">dfn for NavigationDestination</a><span>, in § 2.2</span>
    </ul>
   <li>
    index
    <ul>
     <li><a href="#dom-navigationdestination-index">attribute for NavigationDestination</a><span>, in § 2.2</span>
     <li><a href="#dom-navigationhistoryentry-index">attribute for NavigationHistoryEntry</a><span>, in § 3</span>
     <li><a href="#navigationdestination-index">dfn for NavigationDestination</a><span>, in § 2.2</span>
     <li><a href="#navigationhistoryentry-index">dfn for NavigationHistoryEntry</a><span>, in § 3</span>
    </ul>
   <li>
    info
    <ul>
     <li><a href="#dom-navigateevent-info">attribute for NavigateEvent</a><span>, in § 2.1</span>
     <li><a href="#navigation-api-method-navigation-info">dfn for navigation API method navigation</a><span>, in § 1.3</span>
     <li><a href="#dom-navigateeventinit-info">dict-member for NavigateEventInit</a><span>, in § 2.1</span>
     <li><a href="#dom-navigationoptions-info">dict-member for NavigationOptions</a><span>, in § 1</span>
    </ul>
   <li><a href="#inform-the-navigation-api-about-canceling-navigation">inform the navigation API about canceling navigation</a><span>, in § 2.3</span>
   <li><a href="#inform-the-navigation-api-about-nested-navigable-destruction">inform the navigation API about nested navigable destruction</a><span>, in § 2.3</span>
   <li><a href="#navigation-initialize-the-entries-for-a-new-navigation">initialize the entries for a new Navigation</a><span>, in § 1</span>
   <li><a href="#inner-navigate-event-firing-algorithm">inner navigate event firing algorithm</a><span>, in § 2.3</span>
   <li><a href="#dom-navigateevent-intercept">intercept()</a><span>, in § 2.1</span>
   <li><a href="#dom-navigateevent-intercept">intercept(options)</a><span>, in § 2.1</span>
   <li><a href="#navigationdestination-is-same-document">is same document</a><span>, in § 2.2</span>
   <li><a href="#fire-a-non-traversal-navigate-event-issamedocument">isSameDocument</a><span>, in § 2.3</span>
   <li>
    key
    <ul>
     <li><a href="#dom-navigationdestination-key">attribute for NavigationDestination</a><span>, in § 2.2</span>
     <li><a href="#dom-navigationhistoryentry-key">attribute for NavigationHistoryEntry</a><span>, in § 3</span>
     <li><a href="#navigationdestination-key">dfn for NavigationDestination</a><span>, in § 2.2</span>
     <li><a href="#navigation-api-method-navigation-key">dfn for navigation API method navigation</a><span>, in § 1.3</span>
    </ul>
   <li>
    "manual"
    <ul>
     <li><a href="#dom-navigationfocusreset-manual">enum-value for NavigationFocusReset</a><span>, in § 2.1</span>
     <li><a href="#dom-navigationscrollbehavior-manual">enum-value for NavigationScrollBehavior</a><span>, in § 2.1</span>
    </ul>
   <li><a href="#maybe-continue-the-navigate-event">maybe continue the navigate event</a><span>, in § 2.3</span>
   <li><a href="#eventdef-navigation-navigate">navigate</a><span>, in § 1.6</span>
   <li><a href="#eventdef-navigation-navigateerror">navigateerror</a><span>, in § 1.6</span>
   <li><a href="#navigateevent">NavigateEvent</a><span>, in § 2.1</span>
   <li><a href="#dictdef-navigateeventinit">NavigateEventInit</a><span>, in § 2.1</span>
   <li><a href="#dom-navigateevent-navigateevent">NavigateEvent(type, eventInit)</a><span>, in § 2.1</span>
   <li><a href="#eventdef-navigation-navigatesuccess">navigatesuccess</a><span>, in § 1.6</span>
   <li><a href="#dom-navigation-navigate">navigate(url)</a><span>, in § 1.4</span>
   <li><a href="#dom-navigation-navigate">navigate(url, options)</a><span>, in § 1.4</span>
   <li><a href="#navigation">Navigation</a><span>, in § 1</span>
   <li><a href="#dom-window-navigation">navigation</a><span>, in § 1</span>
   <li><a href="#window-navigation-api">navigation API</a><span>, in § 1</span>
   <li><a href="#session-history-entry-navigation-api-id">navigation API ID</a><span>, in § 4.1</span>
   <li><a href="#session-history-entry-navigation-api-key">navigation API key</a><span>, in § 4.1</span>
   <li><a href="#navigation-api-method-navigation">navigation API method navigation</a><span>, in § 1.3</span>
   <li><a href="#session-history-entry-navigation-api-state">navigation API state</a><span>, in § 4.1</span>
   <li>
    navigationAPIState
    <ul>
     <li><a href="#navigate-navigationapistate">dfn for navigate</a><span>, in § 4.2</span>
     <li><a href="#reload-navigationapistate">dfn for reload</a><span>, in § 4.9</span>
    </ul>
   <li><a href="#navigationcurrententrychangeevent">NavigationCurrentEntryChangeEvent</a><span>, in § 1.2</span>
   <li><a href="#dictdef-navigationcurrententrychangeeventinit">NavigationCurrentEntryChangeEventInit</a><span>, in § 1.2</span>
   <li><a href="#dom-navigationcurrententrychangeevent-navigationcurrententrychangeevent">NavigationCurrentEntryChangeEvent(type, eventInit)</a><span>, in § 1.2</span>
   <li><a href="#navigationdestination">NavigationDestination</a><span>, in § 2.2</span>
   <li><a href="#enumdef-navigationfocusreset">NavigationFocusReset</a><span>, in § 2.1</span>
   <li><a href="#navigateevent-navigation-handler-list">navigation handler list</a><span>, in § 2.1</span>
   <li><a href="#enumdef-navigationhistorybehavior">NavigationHistoryBehavior</a><span>, in § 1</span>
   <li><a href="#navigationhistoryentry">NavigationHistoryEntry</a><span>, in § 3</span>
   <li><a href="#callbackdef-navigationintercepthandler">NavigationInterceptHandler</a><span>, in § 2.1</span>
   <li><a href="#dictdef-navigationinterceptoptions">NavigationInterceptOptions</a><span>, in § 2.1</span>
   <li><a href="#dictdef-navigationnavigateoptions">NavigationNavigateOptions</a><span>, in § 1</span>
   <li><a href="#navigation-api-method-navigation-navigation-object">navigation object</a><span>, in § 1.3</span>
   <li><a href="#dictdef-navigationoptions">NavigationOptions</a><span>, in § 1</span>
   <li><a href="#dictdef-navigationreloadoptions">NavigationReloadOptions</a><span>, in § 1</span>
   <li><a href="#dictdef-navigationresult">NavigationResult</a><span>, in § 1</span>
   <li><a href="#enumdef-navigationscrollbehavior">NavigationScrollBehavior</a><span>, in § 2.1</span>
   <li><a href="#navigationtransition">NavigationTransition</a><span>, in § 1.3</span>
   <li><a href="#navigationtransition-navigation-type">navigation type</a><span>, in § 1.3</span>
   <li><a href="#enumdef-navigationtype">NavigationType</a><span>, in § 2.1</span>
   <li>
    navigationType
    <ul>
     <li><a href="#dom-navigateevent-navigationtype">attribute for NavigateEvent</a><span>, in § 2.1</span>
     <li><a href="#dom-navigationcurrententrychangeevent-navigationtype">attribute for NavigationCurrentEntryChangeEvent</a><span>, in § 1.2</span>
     <li><a href="#dom-navigationtransition-navigationtype">attribute for NavigationTransition</a><span>, in § 1.3</span>
     <li><a href="#fire-a-non-traversal-navigate-event-navigationtype">dfn for fire a non-traversal navigate event</a><span>, in § 2.3</span>
     <li><a href="#dom-navigateeventinit-navigationtype">dict-member for NavigateEventInit</a><span>, in § 2.1</span>
     <li><a href="#dom-navigationcurrententrychangeeventinit-navigationtype">dict-member for NavigationCurrentEntryChangeEventInit</a><span>, in § 1.2</span>
    </ul>
   <li><a href="#dictdef-navigationupdatecurrententryoptions">NavigationUpdateCurrentEntryOptions</a><span>, in § 1</span>
   <li><a href="#navigateevent-needs-continue">needs continue</a><span>, in § 2.1</span>
   <li><a href="#user-navigation-involvement-none">none</a><span>, in § 4.14</span>
   <li><a href="#navigation-api-method-navigation-notify-about-the-committed-to-entry">notify about the committed-to entry</a><span>, in § 1.3</span>
   <li><a href="#dom-navigation-oncurrententrychange">oncurrententrychange</a><span>, in § 1.6</span>
   <li><a href="#dom-navigationhistoryentry-ondispose">ondispose</a><span>, in § 3</span>
   <li><a href="#navigation-ongoing-navigate-event">ongoing navigate event</a><span>, in § 1.3</span>
   <li><a href="#navigation-ongoing-navigation">ongoing navigation</a><span>, in § 1.3</span>
   <li><a href="#navigation-ongoing-navigation-signal">ongoing navigation signal</a><span>, in § 1.3</span>
   <li><a href="#dom-navigation-onnavigate">onnavigate</a><span>, in § 1.6</span>
   <li><a href="#dom-navigation-onnavigateerror">onnavigateerror</a><span>, in § 1.6</span>
   <li><a href="#dom-navigation-onnavigatesuccess">onnavigatesuccess</a><span>, in § 1.6</span>
   <li><a href="#perform-a-navigation-api-traversal">perform a navigation API traversal</a><span>, in § 1.5</span>
   <li><a href="#potentially-process-scroll-behavior">potentially process scroll behavior</a><span>, in § 2.3</span>
   <li><a href="#potentially-reset-the-focus">potentially reset the focus</a><span>, in § 2.3</span>
   <li><a href="#navigation-promote-the-upcoming-navigation-to-ongoing">promote the upcoming navigation to ongoing</a><span>, in § 1.3</span>
   <li>
    "push"
    <ul>
     <li><a href="#dom-navigationhistorybehavior-push">enum-value for NavigationHistoryBehavior</a><span>, in § 1</span>
     <li><a href="#dom-navigationtype-push">enum-value for NavigationType</a><span>, in § 2.1</span>
    </ul>
   <li><a href="#react-to-navigate-event-result">react to navigate event result</a><span>, in § 2.3</span>
   <li><a href="#navigation-api-method-navigation-reject-the-finished-promise">reject the finished promise</a><span>, in § 1.3</span>
   <li><a href="#dom-navigationtype-reload">"reload"</a><span>, in § 2.1</span>
   <li><a href="#dom-navigation-reload">reload()</a><span>, in § 1.4</span>
   <li><a href="#dom-navigation-reload">reload(options)</a><span>, in § 1.4</span>
   <li>
    "replace"
    <ul>
     <li><a href="#dom-navigationhistorybehavior-replace">enum-value for NavigationHistoryBehavior</a><span>, in § 1</span>
     <li><a href="#dom-navigationtype-replace">enum-value for NavigationType</a><span>, in § 2.1</span>
    </ul>
   <li><a href="#navigation-api-method-navigation-resolve-the-finished-promise">resolve the finished promise</a><span>, in § 1.3</span>
   <li><a href="#restoring-scroll-position-data">restoring scroll position data</a><span>, in § 4.17</span>
   <li>
    sameDocument
    <ul>
     <li><a href="#dom-navigationdestination-samedocument">attribute for NavigationDestination</a><span>, in § 2.2</span>
     <li><a href="#dom-navigationhistoryentry-samedocument">attribute for NavigationHistoryEntry</a><span>, in § 3</span>
    </ul>
   <li><a href="#dom-navigationinterceptoptions-scroll">scroll</a><span>, in § 2.1</span>
   <li><a href="#dom-navigateevent-scroll">scroll()</a><span>, in § 2.1</span>
   <li><a href="#navigateevent-scroll-behavior">scroll behavior</a><span>, in § 2.1</span>
   <li><a href="#navigation-api-method-navigation-serialized-state">serialized state</a><span>, in § 1.3</span>
   <li><a href="#navigationhistoryentry-session-history-entry">session history entry</a><span>, in § 3</span>
   <li><a href="#navigation-set-an-upcoming-traverse-navigation">set an upcoming traverse navigation</a><span>, in § 1.3</span>
   <li><a href="#navigation-set-the-upcoming-non-traverse-navigation">set the upcoming non-traverse navigation</a><span>, in § 1.3</span>
   <li>
    signal
    <ul>
     <li><a href="#dom-navigateevent-signal">attribute for NavigateEvent</a><span>, in § 2.1</span>
     <li><a href="#dom-navigateeventinit-signal">dict-member for NavigateEventInit</a><span>, in § 2.1</span>
    </ul>
   <li>
    state
    <ul>
     <li><a href="#navigationdestination-state">dfn for NavigationDestination</a><span>, in § 2.2</span>
     <li><a href="#fire-a-non-traversal-navigate-event-state">dfn for fire a non-traversal navigate event</a><span>, in § 2.3</span>
     <li><a href="#dom-navigationnavigateoptions-state">dict-member for NavigationNavigateOptions</a><span>, in § 1</span>
     <li><a href="#dom-navigationreloadoptions-state">dict-member for NavigationReloadOptions</a><span>, in § 1</span>
     <li><a href="#dom-navigationupdatecurrententryoptions-state">dict-member for NavigationUpdateCurrentEntryOptions</a><span>, in § 1</span>
    </ul>
   <li><a href="#navigation-suppress-normal-scroll-restoration-during-ongoing-navigation">suppress normal scroll restoration during ongoing navigation</a><span>, in § 1.3</span>
   <li>
    transition
    <ul>
     <li><a href="#dom-navigation-transition">attribute for Navigation</a><span>, in § 1.3</span>
     <li><a href="#navigation-transition">dfn for Navigation</a><span>, in § 1.3</span>
    </ul>
   <li><a href="#dom-navigationtype-traverse">"traverse"</a><span>, in § 2.1</span>
   <li><a href="#dom-navigation-traverseto">traverseTo(key)</a><span>, in § 1.5</span>
   <li><a href="#dom-navigation-traverseto">traverseTo(key, options)</a><span>, in § 1.5</span>
   <li><a href="#navigation-upcoming-non-traverse-navigation">upcoming non-traverse navigation</a><span>, in § 1.3</span>
   <li><a href="#navigation-upcoming-traverse-navigations">upcoming traverse navigations</a><span>, in § 1.3</span>
   <li><a href="#dom-navigation-updatecurrententry">updateCurrentEntry(options)</a><span>, in § 1.2</span>
   <li><a href="#navigation-update-the-entries-for-a-same-document-navigation">update the entries for a same-document navigation</a><span>, in § 1</span>
   <li><a href="#navigation-update-the-entries-for-reactivation">update the entries for reactivation</a><span>, in § 1</span>
   <li><a href="#navigationdestination-url">URL</a><span>, in § 2.2</span>
   <li>
    url
    <ul>
     <li><a href="#dom-navigationdestination-url">attribute for NavigationDestination</a><span>, in § 2.2</span>
     <li><a href="#dom-navigationhistoryentry-url">attribute for NavigationHistoryEntry</a><span>, in § 3</span>
    </ul>
   <li>
    userInitiated
    <ul>
     <li><a href="#dom-navigateevent-userinitiated">attribute for NavigateEvent</a><span>, in § 2.1</span>
     <li><a href="#dom-navigateeventinit-userinitiated">dict-member for NavigateEventInit</a><span>, in § 2.1</span>
    </ul>
   <li>
    userInvolvement
    <ul>
     <li><a href="#fire-a-download-requested-navigate-event-userinvolvement">dfn for fire a download-requested navigate event</a><span>, in § 2.3</span>
     <li><a href="#fire-a-non-traversal-navigate-event-userinvolvement">dfn for fire a non-traversal navigate event</a><span>, in § 2.3</span>
     <li><a href="#fire-a-traversal-navigate-event-userinvolvement">dfn for fire a traversal navigate event</a><span>, in § 2.3</span>
     <li><a href="#navigate-userinvolvement">dfn for navigate</a><span>, in § 4.2</span>
     <li><a href="#reload-userinvolvement">dfn for reload</a><span>, in § 4.9</span>
     <li><a href="#traverse-the-history-by-a-delta-userinvolvement">dfn for traverse the history by a delta</a><span>, in § 4.10</span>
    </ul>
   <li>
    user navigation involvement
    <ul>
     <li><a href="#user-navigation-involvement">definition of</a><span>, in § 4.14</span>
     <li><a href="#event-user-navigation-involvement">dfn for Event</a><span>, in § 4.14</span>
    </ul>
   <li><a href="#navigateevent-was-intercepted">was intercepted</a><span>, in § 2.1</span>
  </ul>
  <aside class="dfn-panel" data-for="term-for-report-a-warning-to-the-console">
   <a href="https://console.spec.whatwg.org/#report-a-warning-to-the-console">https://console.spec.whatwg.org/#report-a-warning-to-the-console</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-report-a-warning-to-the-console">2.1. The NavigateEvent class</a> <a href="#ref-for-report-a-warning-to-the-console①">(2)</a>
    <li><a href="#ref-for-report-a-warning-to-the-console②">4.18. Helpful note: failed attempt to populate</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="term-for-scroll-to-the-beginning-of-the-document">
   <a href="https://drafts.csswg.org/cssom-view-1/#scroll-to-the-beginning-of-the-document">https://drafts.csswg.org/cssom-view-1/#scroll-to-the-beginning-of-the-document</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-scroll-to-the-beginning-of-the-document">2.3. Firing the event</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="term-for-abortsignal">
   <a href="https://dom.spec.whatwg.org/#abortsignal">https://dom.spec.whatwg.org/#abortsignal</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-abortsignal">1.3. Ongoing navigation tracking</a>
    <li><a href="#ref-for-abortsignal①">2.1. The NavigateEvent class</a> <a href="#ref-for-abortsignal②">(2)</a> <a href="#ref-for-abortsignal③">(3)</a>
    <li><a href="#ref-for-abortsignal④">2.3. Firing the event</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="term-for-document">
   <a href="https://dom.spec.whatwg.org/#document">https://dom.spec.whatwg.org/#document</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-document">2.1. The NavigateEvent class</a>
    <li><a href="#ref-for-document①">2.2. The NavigationDestination class</a>
    <li><a href="#ref-for-document②">2.3. Firing the event</a>
    <li><a href="#ref-for-document③">3. Navigation API history entries</a> <a href="#ref-for-document④">(2)</a> <a href="#ref-for-document⑤">(3)</a> <a href="#ref-for-document⑥">(4)</a>
    <li><a href="#ref-for-document⑦">4.16. Focus tracking</a> <a href="#ref-for-document⑧">(2)</a>
    <li><a href="#ref-for-document⑨">4.17. Scroll restoration</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="term-for-event">
   <a href="https://dom.spec.whatwg.org/#event">https://dom.spec.whatwg.org/#event</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-event">1.2. The current entry</a>
    <li><a href="#ref-for-event①">2.1. The NavigateEvent class</a>
    <li><a href="#ref-for-event②">4.14. User navigation involvement</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="term-for-dictdef-eventinit">
   <a href="https://dom.spec.whatwg.org/#dictdef-eventinit">https://dom.spec.whatwg.org/#dictdef-eventinit</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dictdef-eventinit">1.2. The current entry</a>
    <li><a href="#ref-for-dictdef-eventinit①">2.1. The NavigateEvent class</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="term-for-eventtarget">
   <a href="https://dom.spec.whatwg.org/#eventtarget">https://dom.spec.whatwg.org/#eventtarget</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-eventtarget">1. The Navigation class</a>
    <li><a href="#ref-for-eventtarget①">3. Navigation API history entries</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="term-for-eventdef-abortsignal-abort">
   <a href="https://dom.spec.whatwg.org/#eventdef-abortsignal-abort">https://dom.spec.whatwg.org/#eventdef-abortsignal-abort</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-eventdef-abortsignal-abort">4.12. Canceling navigations</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="term-for-abortsignal-aborted">
   <a href="https://dom.spec.whatwg.org/#abortsignal-aborted">https://dom.spec.whatwg.org/#abortsignal-aborted</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-abortsignal-aborted">2.3. Firing the event</a> <a href="#ref-for-abortsignal-aborted①">(2)</a> <a href="#ref-for-abortsignal-aborted②">(3)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="term-for-eventtarget-activation-behavior">
   <a href="https://dom.spec.whatwg.org/#eventtarget-activation-behavior">https://dom.spec.whatwg.org/#eventtarget-activation-behavior</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-eventtarget-activation-behavior">4.11. Download a hyperlink</a>
    <li><a href="#ref-for-eventtarget-activation-behavior①">4.14. User navigation involvement</a>
    <li><a href="#ref-for-eventtarget-activation-behavior②">4.15.1. User navigation involvement</a> <a href="#ref-for-eventtarget-activation-behavior③">(2)</a> <a href="#ref-for-eventtarget-activation-behavior④">(3)</a> <a href="#ref-for-eventtarget-activation-behavior⑤">(4)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="term-for-dom-event-cancelable">
   <a href="https://dom.spec.whatwg.org/#dom-event-cancelable">https://dom.spec.whatwg.org/#dom-event-cancelable</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-event-cancelable">2.3. Firing the event</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="term-for-canceled-flag">
   <a href="https://dom.spec.whatwg.org/#canceled-flag">https://dom.spec.whatwg.org/#canceled-flag</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-canceled-flag">1.3. Ongoing navigation tracking</a>
    <li><a href="#ref-for-canceled-flag①">2.1. The NavigateEvent class</a>
    <li><a href="#ref-for-canceled-flag②">2.3. Firing the event</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="term-for-concept-event-create">
   <a href="https://dom.spec.whatwg.org/#concept-event-create">https://dom.spec.whatwg.org/#concept-event-create</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-concept-event-create">2.3. Firing the event</a> <a href="#ref-for-concept-event-create①">(2)</a> <a href="#ref-for-concept-event-create②">(3)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="term-for-concept-event-dispatch">
   <a href="https://dom.spec.whatwg.org/#concept-event-dispatch">https://dom.spec.whatwg.org/#concept-event-dispatch</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-concept-event-dispatch">2.3. Firing the event</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="term-for-dispatch-flag">
   <a href="https://dom.spec.whatwg.org/#dispatch-flag">https://dom.spec.whatwg.org/#dispatch-flag</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dispatch-flag">2.1. The NavigateEvent class</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="term-for-document-element">
   <a href="https://dom.spec.whatwg.org/#document-element">https://dom.spec.whatwg.org/#document-element</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-document-element">2.3. Firing the event</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="term-for-concept-event-fire">
   <a href="https://dom.spec.whatwg.org/#concept-event-fire">https://dom.spec.whatwg.org/#concept-event-fire</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-concept-event-fire">1. The Navigation class</a> <a href="#ref-for-concept-event-fire①">(2)</a> <a href="#ref-for-concept-event-fire②">(3)</a>
    <li><a href="#ref-for-concept-event-fire③">1.2. The current entry</a>
    <li><a href="#ref-for-concept-event-fire④">2.3. Firing the event</a> <a href="#ref-for-concept-event-fire⑤">(2)</a> <a href="#ref-for-concept-event-fire⑥">(3)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="term-for-dom-event-istrusted">
   <a href="https://dom.spec.whatwg.org/#dom-event-istrusted">https://dom.spec.whatwg.org/#dom-event-istrusted</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-event-istrusted">2.1. The NavigateEvent class</a> <a href="#ref-for-dom-event-istrusted①">(2)</a>
    <li><a href="#ref-for-dom-event-istrusted②">4.14. User navigation involvement</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="term-for-concept-document-origin">
   <a href="https://dom.spec.whatwg.org/#concept-document-origin">https://dom.spec.whatwg.org/#concept-document-origin</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-concept-document-origin">1. The Navigation class</a>
    <li><a href="#ref-for-concept-document-origin①">4.2. Navigate</a> <a href="#ref-for-concept-document-origin②">(2)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="term-for-abortsignal-signal-abort">
   <a href="https://dom.spec.whatwg.org/#abortsignal-signal-abort">https://dom.spec.whatwg.org/#abortsignal-signal-abort</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-abortsignal-signal-abort">1.3. Ongoing navigation tracking</a>
    <li><a href="#ref-for-abortsignal-signal-abort①">2.3. Firing the event</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="term-for-dom-event-type">
   <a href="https://dom.spec.whatwg.org/#dom-event-type">https://dom.spec.whatwg.org/#dom-event-type</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-event-type">2.3. Firing the event</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="term-for-concept-document-url">
   <a href="https://dom.spec.whatwg.org/#concept-document-url">https://dom.spec.whatwg.org/#concept-document-url</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-concept-document-url">1.4. Navigating</a>
    <li><a href="#ref-for-concept-document-url①">2.3. Firing the event</a>
    <li><a href="#ref-for-concept-document-url②">4.9. Reload</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="term-for-sec-execution-contexts">
   <a href="https://tc39.es/ecma262/multipage/executable-code-and-execution-contexts.html#sec-execution-contexts">https://tc39.es/ecma262/multipage/executable-code-and-execution-contexts.html#sec-execution-contexts</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-sec-execution-contexts">2.3. Firing the event</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="term-for-execution-context-stack">
   <a href="https://tc39.es/ecma262/multipage/executable-code-and-execution-contexts.html#execution-context-stack">https://tc39.es/ecma262/multipage/executable-code-and-execution-contexts.html#execution-context-stack</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-execution-context-stack">2.3. Firing the event</a> <a href="#ref-for-execution-context-stack①">(2)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="term-for-dfn-viewport">
   <a href="https://w3c.github.io/epub-specs/epub33/core/#dfn-viewport">https://w3c.github.io/epub-specs/epub33/core/#dfn-viewport</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dfn-viewport">2.3. Firing the event</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="term-for-fetch-scheme">
   <a href="https://fetch.spec.whatwg.org/#fetch-scheme">https://fetch.spec.whatwg.org/#fetch-scheme</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-fetch-scheme">4.2. Navigate</a>
    <li><a href="#ref-for-fetch-scheme①">5.2. Navigation monitoring and interception</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="term-for-dom-global-fetch">
   <a href="https://fetch.spec.whatwg.org/#dom-global-fetch">https://fetch.spec.whatwg.org/#dom-global-fetch</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-global-fetch">2.1. The NavigateEvent class</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="term-for-concept-response-status">
   <a href="https://fetch.spec.whatwg.org/#concept-response-status">https://fetch.spec.whatwg.org/#concept-response-status</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-concept-response-status">1.4. Navigating</a>
    <li><a href="#ref-for-concept-response-status①">1.5. Traversing</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="term-for-http-headerdef-sec-fetch-site">
   <a href="https://w3c.github.io/webappsec-fetch-metadata/#http-headerdef-sec-fetch-site">https://w3c.github.io/webappsec-fetch-metadata/#http-headerdef-sec-fetch-site</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-http-headerdef-sec-fetch-site">4.14. User navigation involvement</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="term-for-errorevent">
   <a href="https://html.spec.whatwg.org/multipage/webappapis.html#errorevent">https://html.spec.whatwg.org/multipage/webappapis.html#errorevent</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-errorevent">2.3. Firing the event</a> <a href="#ref-for-errorevent①">(2)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="term-for-eventhandler">
   <a href="https://html.spec.whatwg.org/multipage/webappapis.html#eventhandler">https://html.spec.whatwg.org/multipage/webappapis.html#eventhandler</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-eventhandler">1. The Navigation class</a> <a href="#ref-for-eventhandler①">(2)</a> <a href="#ref-for-eventhandler②">(3)</a> <a href="#ref-for-eventhandler③">(4)</a>
    <li><a href="#ref-for-eventhandler④">3. Navigation API history entries</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="term-for-structureddeserialize">
   <a href="https://html.spec.whatwg.org/multipage/structured-data.html#structureddeserialize">https://html.spec.whatwg.org/multipage/structured-data.html#structureddeserialize</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-structureddeserialize">2.2. The NavigationDestination class</a>
    <li><a href="#ref-for-structureddeserialize①">3. Navigation API history entries</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="term-for-structuredserializeforstorage">
   <a href="https://html.spec.whatwg.org/multipage/structured-data.html#structuredserializeforstorage">https://html.spec.whatwg.org/multipage/structured-data.html#structuredserializeforstorage</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-structuredserializeforstorage">1.2. The current entry</a>
    <li><a href="#ref-for-structuredserializeforstorage①">1.4. Navigating</a> <a href="#ref-for-structuredserializeforstorage②">(2)</a> <a href="#ref-for-structuredserializeforstorage③">(3)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="term-for-window">
   <a href="https://html.spec.whatwg.org/multipage/nav-history-apis.html#window">https://html.spec.whatwg.org/multipage/nav-history-apis.html#window</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-window">1. The Navigation class</a> <a href="#ref-for-window①">(2)</a> <a href="#ref-for-window②">(3)</a>
    <li><a href="#ref-for-window③">1.1. Introspecting the navigation API history entry list</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="term-for-the-a-element">
   <a href="https://html.spec.whatwg.org/multipage/text-level-semantics.html#the-a-element">https://html.spec.whatwg.org/multipage/text-level-semantics.html#the-a-element</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-the-a-element">2.1. The NavigateEvent class</a> <a href="#ref-for-the-a-element①">(2)</a>
    <li><a href="#ref-for-the-a-element②">4.11. Download a hyperlink</a>
    <li><a href="#ref-for-the-a-element③">4.15.1. User navigation involvement</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="term-for-nav-document">
   <a href="https://html.spec.whatwg.org/multipage/document-sequences.html#nav-document">https://html.spec.whatwg.org/multipage/document-sequences.html#nav-document</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-nav-document">4.2. Navigate</a> <a href="#ref-for-nav-document①">(2)</a>
    <li><a href="#ref-for-nav-document②">4.9. Reload</a> <a href="#ref-for-nav-document③">(2)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="term-for-nav-active-history-entry">
   <a href="https://html.spec.whatwg.org/multipage/document-sequences.html#nav-active-history-entry">https://html.spec.whatwg.org/multipage/document-sequences.html#nav-active-history-entry</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-nav-active-history-entry">1.5. Traversing</a>
    <li><a href="#ref-for-nav-active-history-entry①">2.3. Firing the event</a> <a href="#ref-for-nav-active-history-entry②">(2)</a>
    <li><a href="#ref-for-nav-active-history-entry③">4.3. Navigate to a fragment</a> <a href="#ref-for-nav-active-history-entry④">(2)</a>
    <li><a href="#ref-for-nav-active-history-entry⑤">4.5. URL and history update steps</a> <a href="#ref-for-nav-active-history-entry⑥">(2)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="term-for-nav-window">
   <a href="https://html.spec.whatwg.org/multipage/document-sequences.html#nav-window">https://html.spec.whatwg.org/multipage/document-sequences.html#nav-window</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-nav-window">2.3. Firing the event</a> <a href="#ref-for-nav-window①">(2)</a>
    <li><a href="#ref-for-nav-window②">4.2. Navigate</a>
    <li><a href="#ref-for-nav-window③">4.3. Navigate to a fragment</a> <a href="#ref-for-nav-window④">(2)</a>
    <li><a href="#ref-for-nav-window⑤">4.9. Reload</a>
    <li><a href="#ref-for-nav-window⑥">4.13. Check if unloading is user-canceled</a> <a href="#ref-for-nav-window⑦">(2)</a> <a href="#ref-for-nav-window⑧">(3)</a> <a href="#ref-for-nav-window⑨">(4)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="term-for-allowed-to-navigate">
   <a href="https://html.spec.whatwg.org/multipage/browsing-the-web.html#allowed-to-navigate">https://html.spec.whatwg.org/multipage/browsing-the-web.html#allowed-to-navigate</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-allowed-to-navigate">1.4. Navigating</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="term-for-allowed-to-download">
   <a href="https://html.spec.whatwg.org/multipage/links.html#allowed-to-download">https://html.spec.whatwg.org/multipage/links.html#allowed-to-download</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-allowed-to-download">4.11. Download a hyperlink</a> <a href="#ref-for-allowed-to-download①">(2)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="term-for-tn-append-session-history-traversal-steps">
   <a href="https://html.spec.whatwg.org/multipage/browsing-the-web.html#tn-append-session-history-traversal-steps">https://html.spec.whatwg.org/multipage/browsing-the-web.html#tn-append-session-history-traversal-steps</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-tn-append-session-history-traversal-steps">1.5. Traversing</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="term-for-apply-the-history-step">
   <a href="https://html.spec.whatwg.org/multipage/browsing-the-web.html#apply-the-history-step">https://html.spec.whatwg.org/multipage/browsing-the-web.html#apply-the-history-step</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-apply-the-history-step">1.5. Traversing</a> <a href="#ref-for-apply-the-history-step①">(2)</a>
    <li><a href="#ref-for-apply-the-history-step②">4.10. Traversal</a>
    <li><a href="#ref-for-apply-the-history-step③">4.13. Check if unloading is user-canceled</a>
    <li><a href="#ref-for-apply-the-history-step④">4.18. Helpful note: failed attempt to populate</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="term-for-the-area-element">
   <a href="https://html.spec.whatwg.org/multipage/image-maps.html#the-area-element">https://html.spec.whatwg.org/multipage/image-maps.html#the-area-element</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-the-area-element">2.1. The NavigateEvent class</a>
    <li><a href="#ref-for-the-area-element①">4.11. Download a hyperlink</a>
    <li><a href="#ref-for-the-area-element②">4.15.1. User navigation involvement</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="term-for-dom-location-assign">
   <a href="https://html.spec.whatwg.org/multipage/nav-history-apis.html#dom-location-assign">https://html.spec.whatwg.org/multipage/nav-history-apis.html#dom-location-assign</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-location-assign">1.4. Navigating</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="term-for-concept-document-window">
   <a href="https://html.spec.whatwg.org/multipage/nav-history-apis.html#concept-document-window">https://html.spec.whatwg.org/multipage/nav-history-apis.html#concept-document-window</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-concept-document-window">1. The Navigation class</a>
    <li><a href="#ref-for-concept-document-window①">1.4. Navigating</a> <a href="#ref-for-concept-document-window②">(2)</a>
    <li><a href="#ref-for-concept-document-window③">1.5. Traversing</a>
    <li><a href="#ref-for-concept-document-window④">2.1. The NavigateEvent class</a> <a href="#ref-for-concept-document-window⑤">(2)</a>
    <li><a href="#ref-for-concept-document-window⑥">2.3. Firing the event</a> <a href="#ref-for-concept-document-window⑦">(2)</a> <a href="#ref-for-concept-document-window⑧">(3)</a> <a href="#ref-for-concept-document-window⑨">(4)</a> <a href="#ref-for-concept-document-window①⓪">(5)</a>
    <li><a href="#ref-for-concept-document-window①①">3. Navigation API history entries</a> <a href="#ref-for-concept-document-window①②">(2)</a> <a href="#ref-for-concept-document-window①③">(3)</a> <a href="#ref-for-concept-document-window①④">(4)</a> <a href="#ref-for-concept-document-window①⑤">(5)</a> <a href="#ref-for-concept-document-window①⑥">(6)</a> <a href="#ref-for-concept-document-window①⑦">(7)</a> <a href="#ref-for-concept-document-window①⑧">(8)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="term-for-dom-scrollrestoration-auto">
   <a href="https://html.spec.whatwg.org/multipage/browsing-the-web.html#dom-scrollrestoration-auto">https://html.spec.whatwg.org/multipage/browsing-the-web.html#dom-scrollrestoration-auto</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-scrollrestoration-auto">4.17. Scroll restoration</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="term-for-attr-fe-autofocus">
   <a href="https://html.spec.whatwg.org/multipage/interaction.html#attr-fe-autofocus">https://html.spec.whatwg.org/multipage/interaction.html#attr-fe-autofocus</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-attr-fe-autofocus">2.1. The NavigateEvent class</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="term-for-autofocus-delegate">
   <a href="https://html.spec.whatwg.org/multipage/interaction.html#autofocus-delegate">https://html.spec.whatwg.org/multipage/interaction.html#autofocus-delegate</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-autofocus-delegate">2.3. Firing the event</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="term-for-the-body-element">
   <a href="https://html.spec.whatwg.org/multipage/sections.html#the-body-element">https://html.spec.whatwg.org/multipage/sections.html#the-body-element</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-the-body-element">2.1. The NavigateEvent class</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="term-for-window-bc">
   <a href="https://html.spec.whatwg.org/multipage/nav-history-apis.html#window-bc">https://html.spec.whatwg.org/multipage/nav-history-apis.html#window-bc</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-window-bc">1. The Navigation class</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="term-for-the-button-element">
   <a href="https://html.spec.whatwg.org/multipage/form-elements.html#the-button-element">https://html.spec.whatwg.org/multipage/form-elements.html#the-button-element</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-the-button-element">4.15.1. User navigation involvement</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="term-for-can-have-its-url-rewritten">
   <a href="https://html.spec.whatwg.org/multipage/nav-history-apis.html#can-have-its-url-rewritten">https://html.spec.whatwg.org/multipage/nav-history-apis.html#can-have-its-url-rewritten</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-can-have-its-url-rewritten">2.1. The NavigateEvent class</a>
    <li><a href="#ref-for-can-have-its-url-rewritten①">2.3. Firing the event</a>
    <li><a href="#ref-for-can-have-its-url-rewritten②">5.3. URL updates</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="term-for-cannot-navigate">
   <a href="https://html.spec.whatwg.org/multipage/links.html#cannot-navigate">https://html.spec.whatwg.org/multipage/links.html#cannot-navigate</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-cannot-navigate">4.11. Download a hyperlink</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="term-for-checking-if-unloading-is-user-canceled">
   <a href="https://html.spec.whatwg.org/multipage/browsing-the-web.html#checking-if-unloading-is-user-canceled">https://html.spec.whatwg.org/multipage/browsing-the-web.html#checking-if-unloading-is-user-canceled</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-checking-if-unloading-is-user-canceled">4.13. Check if unloading is user-canceled</a> <a href="#ref-for-checking-if-unloading-is-user-canceled①">(2)</a> <a href="#ref-for-checking-if-unloading-is-user-canceled②">(3)</a> <a href="#ref-for-checking-if-unloading-is-user-canceled③">(4)</a> <a href="#ref-for-checking-if-unloading-is-user-canceled④">(5)</a> <a href="#ref-for-checking-if-unloading-is-user-canceled⑤">(6)</a> <a href="#ref-for-checking-if-unloading-is-user-canceled⑥">(7)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="term-for-apply-history-step-check">
   <a href="https://html.spec.whatwg.org/multipage/browsing-the-web.html#apply-history-step-check">https://html.spec.whatwg.org/multipage/browsing-the-web.html#apply-history-step-check</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-apply-history-step-check">1.5. Traversing</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="term-for-clean-up-after-running-script">
   <a href="https://html.spec.whatwg.org/multipage/webappapis.html#clean-up-after-running-script">https://html.spec.whatwg.org/multipage/webappapis.html#clean-up-after-running-script</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-clean-up-after-running-script">1. The Navigation class</a>
    <li><a href="#ref-for-clean-up-after-running-script①">2.3. Firing the event</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="term-for-dom-errorevent-colno">
   <a href="https://html.spec.whatwg.org/multipage/webappapis.html#dom-errorevent-colno">https://html.spec.whatwg.org/multipage/webappapis.html#dom-errorevent-colno</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-errorevent-colno">2.3. Firing the event</a> <a href="#ref-for-dom-errorevent-colno①">(2)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="term-for-completely-loaded">
   <a href="https://html.spec.whatwg.org/multipage/document-lifecycle.html#completely-loaded">https://html.spec.whatwg.org/multipage/document-lifecycle.html#completely-loaded</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-completely-loaded">1.4. Navigating</a> <a href="#ref-for-completely-loaded①">(2)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="term-for-nav-current-history-entry">
   <a href="https://html.spec.whatwg.org/multipage/document-sequences.html#nav-current-history-entry">https://html.spec.whatwg.org/multipage/document-sequences.html#nav-current-history-entry</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-nav-current-history-entry">4.13. Check if unloading is user-canceled</a> <a href="#ref-for-nav-current-history-entry①">(2)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="term-for-destroy-the-nested-navigable">
   <a href="https://html.spec.whatwg.org/multipage/document-sequences.html#destroy-the-nested-navigable">https://html.spec.whatwg.org/multipage/document-sequences.html#destroy-the-nested-navigable</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-destroy-the-nested-navigable">4.12. Canceling navigations</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="term-for-dom-document-2">
   <a href="https://html.spec.whatwg.org/multipage/nav-history-apis.html#dom-document-2">https://html.spec.whatwg.org/multipage/nav-history-apis.html#dom-document-2</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-document-2">2.2. The NavigationDestination class</a>
    <li><a href="#ref-for-dom-document-2①">3. Navigation API history entries</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="term-for-she-document">
   <a href="https://html.spec.whatwg.org/multipage/browsing-the-web.html#she-document">https://html.spec.whatwg.org/multipage/browsing-the-web.html#she-document</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-she-document">2.3. Firing the event</a>
    <li><a href="#ref-for-she-document①">3. Navigation API history entries</a> <a href="#ref-for-she-document②">(2)</a>
    <li><a href="#ref-for-she-document③">4.17. Scroll restoration</a> <a href="#ref-for-she-document④">(2)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="term-for-she-document-state">
   <a href="https://html.spec.whatwg.org/multipage/browsing-the-web.html#she-document-state">https://html.spec.whatwg.org/multipage/browsing-the-web.html#she-document-state</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-she-document-state">2.3. Firing the event</a>
    <li><a href="#ref-for-she-document-state①">3. Navigation API history entries</a>
    <li><a href="#ref-for-she-document-state②">4.7. Finalize a cross-document navigation</a> <a href="#ref-for-she-document-state③">(2)</a>
    <li><a href="#ref-for-she-document-state④">4.13. Check if unloading is user-canceled</a> <a href="#ref-for-she-document-state⑤">(2)</a> <a href="#ref-for-she-document-state⑥">(3)</a> <a href="#ref-for-she-document-state⑦">(4)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="term-for-attr-hyperlink-download">
   <a href="https://html.spec.whatwg.org/multipage/links.html#attr-hyperlink-download">https://html.spec.whatwg.org/multipage/links.html#attr-hyperlink-download</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-attr-hyperlink-download">2.1. The NavigateEvent class</a>
    <li><a href="#ref-for-attr-hyperlink-download①">4.11. Download a hyperlink</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="term-for-downloading-hyperlinks">
   <a href="https://html.spec.whatwg.org/multipage/links.html#downloading-hyperlinks">https://html.spec.whatwg.org/multipage/links.html#downloading-hyperlinks</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-downloading-hyperlinks">4.11. Download a hyperlink</a> <a href="#ref-for-downloading-hyperlinks①">(2)</a> <a href="#ref-for-downloading-hyperlinks②">(3)</a> <a href="#ref-for-downloading-hyperlinks③">(4)</a> <a href="#ref-for-downloading-hyperlinks④">(5)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="term-for-entry-list">
   <a href="https://html.spec.whatwg.org/multipage/form-control-infrastructure.html#entry-list">https://html.spec.whatwg.org/multipage/form-control-infrastructure.html#entry-list</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-entry-list">2.3. Firing the event</a> <a href="#ref-for-entry-list①">(2)</a>
    <li><a href="#ref-for-entry-list②">4.2. Navigate</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="term-for-dom-errorevent-error">
   <a href="https://html.spec.whatwg.org/multipage/webappapis.html#dom-errorevent-error">https://html.spec.whatwg.org/multipage/webappapis.html#dom-errorevent-error</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-errorevent-error">2.3. Firing the event</a> <a href="#ref-for-dom-errorevent-error①">(2)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="term-for-event-handlers">
   <a href="https://html.spec.whatwg.org/multipage/webappapis.html#event-handlers">https://html.spec.whatwg.org/multipage/webappapis.html#event-handlers</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-event-handlers">1.6. Event handlers</a> <a href="#ref-for-event-handlers①">(2)</a>
    <li><a href="#ref-for-event-handlers②">3. Navigation API history entries</a> <a href="#ref-for-event-handlers③">(2)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="term-for-event-handler-event-type">
   <a href="https://html.spec.whatwg.org/multipage/webappapis.html#event-handler-event-type">https://html.spec.whatwg.org/multipage/webappapis.html#event-handler-event-type</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-event-handler-event-type">1.6. Event handlers</a> <a href="#ref-for-event-handler-event-type①">(2)</a>
    <li><a href="#ref-for-event-handler-event-type②">3. Navigation API history entries</a> <a href="#ref-for-event-handler-event-type③">(2)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="term-for-event-handler-idl-attributes">
   <a href="https://html.spec.whatwg.org/multipage/webappapis.html#event-handler-idl-attributes">https://html.spec.whatwg.org/multipage/webappapis.html#event-handler-idl-attributes</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-event-handler-idl-attributes">1.6. Event handlers</a>
    <li><a href="#ref-for-event-handler-idl-attributes①">3. Navigation API history entries</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="term-for-exceptions-enabled">
   <a href="https://html.spec.whatwg.org/multipage/browsing-the-web.html#exceptions-enabled">https://html.spec.whatwg.org/multipage/browsing-the-web.html#exceptions-enabled</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-exceptions-enabled">1.4. Navigating</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="term-for-dom-errorevent-filename">
   <a href="https://html.spec.whatwg.org/multipage/webappapis.html#dom-errorevent-filename">https://html.spec.whatwg.org/multipage/webappapis.html#dom-errorevent-filename</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-errorevent-filename">2.3. Firing the event</a> <a href="#ref-for-dom-errorevent-filename①">(2)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="term-for-finalize-a-cross-document-navigation">
   <a href="https://html.spec.whatwg.org/multipage/browsing-the-web.html#finalize-a-cross-document-navigation">https://html.spec.whatwg.org/multipage/browsing-the-web.html#finalize-a-cross-document-navigation</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-finalize-a-cross-document-navigation">4.7. Finalize a cross-document navigation</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="term-for-focus-fixup-rule">
   <a href="https://html.spec.whatwg.org/multipage/interaction.html#focus-fixup-rule">https://html.spec.whatwg.org/multipage/interaction.html#focus-fixup-rule</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-focus-fixup-rule">4.16. Focus tracking</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="term-for-focus-update-steps">
   <a href="https://html.spec.whatwg.org/multipage/interaction.html#focus-update-steps">https://html.spec.whatwg.org/multipage/interaction.html#focus-update-steps</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-focus-update-steps">4.16. Focus tracking</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="term-for-focusing-steps">
   <a href="https://html.spec.whatwg.org/multipage/interaction.html#focusing-steps">https://html.spec.whatwg.org/multipage/interaction.html#focusing-steps</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-focusing-steps">1.3. Ongoing navigation tracking</a>
    <li><a href="#ref-for-focusing-steps①">2.3. Firing the event</a>
    <li><a href="#ref-for-focusing-steps②">4.16. Focus tracking</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="term-for-following-hyperlinks-2">
   <a href="https://html.spec.whatwg.org/multipage/links.html#following-hyperlinks-2">https://html.spec.whatwg.org/multipage/links.html#following-hyperlinks-2</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-following-hyperlinks-2">4.11. Download a hyperlink</a>
    <li><a href="#ref-for-following-hyperlinks-2①">4.15.1. User navigation involvement</a> <a href="#ref-for-following-hyperlinks-2②">(2)</a> <a href="#ref-for-following-hyperlinks-2③">(3)</a> <a href="#ref-for-following-hyperlinks-2④">(4)</a> <a href="#ref-for-following-hyperlinks-2⑤">(5)</a> <a href="#ref-for-following-hyperlinks-2⑥">(6)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="term-for-the-form-element">
   <a href="https://html.spec.whatwg.org/multipage/forms.html#the-form-element">https://html.spec.whatwg.org/multipage/forms.html#the-form-element</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-the-form-element">2.1. The NavigateEvent class</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="term-for-fully-active">
   <a href="https://html.spec.whatwg.org/multipage/document-sequences.html#fully-active">https://html.spec.whatwg.org/multipage/document-sequences.html#fully-active</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-fully-active">1.4. Navigating</a> <a href="#ref-for-fully-active①">(2)</a>
    <li><a href="#ref-for-fully-active②">1.5. Traversing</a>
    <li><a href="#ref-for-fully-active③">2.1. The NavigateEvent class</a> <a href="#ref-for-fully-active④">(2)</a>
    <li><a href="#ref-for-fully-active⑤">3. Navigation API history entries</a> <a href="#ref-for-fully-active⑥">(2)</a> <a href="#ref-for-fully-active⑦">(3)</a> <a href="#ref-for-fully-active⑧">(4)</a> <a href="#ref-for-fully-active⑨">(5)</a> <a href="#ref-for-fully-active①⓪">(6)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="term-for-get-all-navigables-whose-current-session-history-entry-will-change-or-reload">
   <a href="https://html.spec.whatwg.org/multipage/browsing-the-web.html#get-all-navigables-whose-current-session-history-entry-will-change-or-reload">https://html.spec.whatwg.org/multipage/browsing-the-web.html#get-all-navigables-whose-current-session-history-entry-will-change-or-reload</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-get-all-navigables-whose-current-session-history-entry-will-change-or-reload">4.13. Check if unloading is user-canceled</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="term-for-getting-session-history-entries">
   <a href="https://html.spec.whatwg.org/multipage/browsing-the-web.html#getting-session-history-entries">https://html.spec.whatwg.org/multipage/browsing-the-web.html#getting-session-history-entries</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-getting-session-history-entries">1.5. Traversing</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="term-for-getting-the-target-history-entry">
   <a href="https://html.spec.whatwg.org/multipage/browsing-the-web.html#getting-the-target-history-entry">https://html.spec.whatwg.org/multipage/browsing-the-web.html#getting-the-target-history-entry</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-getting-the-target-history-entry">4.13. Check if unloading is user-canceled</a> <a href="#ref-for-getting-the-target-history-entry①">(2)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="term-for-event-hashchange">
   <a href="https://html.spec.whatwg.org/multipage/indices.html#event-hashchange">https://html.spec.whatwg.org/multipage/indices.html#event-hashchange</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-event-hashchange">4.6. Update document for history state application</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="term-for-uhus-historyhandling">
   <a href="https://html.spec.whatwg.org/multipage/browsing-the-web.html#uhus-historyhandling">https://html.spec.whatwg.org/multipage/browsing-the-web.html#uhus-historyhandling</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-uhus-historyhandling">2.3. Firing the event</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="term-for-navigation-hh">
   <a href="https://html.spec.whatwg.org/multipage/browsing-the-web.html#navigation-hh">https://html.spec.whatwg.org/multipage/browsing-the-web.html#navigation-hh</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-navigation-hh">1.4. Navigating</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="term-for-dom-location-href">
   <a href="https://html.spec.whatwg.org/multipage/nav-history-apis.html#dom-location-href">https://html.spec.whatwg.org/multipage/nav-history-apis.html#dom-location-href</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-location-href">1.3. Ongoing navigation tracking</a>
    <li><a href="#ref-for-dom-location-href①">5.4. Other user agent UI</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="term-for-in-parallel">
   <a href="https://html.spec.whatwg.org/multipage/infrastructure.html#in-parallel">https://html.spec.whatwg.org/multipage/infrastructure.html#in-parallel</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-in-parallel">4.2. Navigate</a>
    <li><a href="#ref-for-in-parallel①">4.11. Download a hyperlink</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="term-for-the-indicated-part-of-the-document">
   <a href="https://html.spec.whatwg.org/multipage/browsing-the-web.html#the-indicated-part-of-the-document">https://html.spec.whatwg.org/multipage/browsing-the-web.html#the-indicated-part-of-the-document</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-the-indicated-part-of-the-document">2.3. Firing the event</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="term-for-apply-history-step-initiator">
   <a href="https://html.spec.whatwg.org/multipage/browsing-the-web.html#apply-history-step-initiator">https://html.spec.whatwg.org/multipage/browsing-the-web.html#apply-history-step-initiator</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-apply-history-step-initiator">1.5. Traversing</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="term-for-the-input-element">
   <a href="https://html.spec.whatwg.org/multipage/input.html#the-input-element">https://html.spec.whatwg.org/multipage/input.html#the-input-element</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-the-input-element">4.15.1. User navigation involvement</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="term-for-input-activation-behavior">
   <a href="https://html.spec.whatwg.org/multipage/input.html#input-activation-behavior">https://html.spec.whatwg.org/multipage/input.html#input-activation-behavior</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-input-activation-behavior">4.15.1. User navigation involvement</a> <a href="#ref-for-input-activation-behavior①">(2)</a> <a href="#ref-for-input-activation-behavior②">(3)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="term-for-is-initial-about:blank">
   <a href="https://html.spec.whatwg.org/multipage/dom.html#is-initial-about:blank">https://html.spec.whatwg.org/multipage/dom.html#is-initial-about:blank</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-is-initial-about:blank">1. The Navigation class</a>
    <li><a href="#ref-for-is-initial-about:blank①">1.4. Navigating</a>
    <li><a href="#ref-for-is-initial-about:blank②">4.2. Navigate</a>
    <li><a href="#ref-for-is-initial-about:blank③">4.9. Reload</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="term-for-dom-errorevent-lineno">
   <a href="https://html.spec.whatwg.org/multipage/webappapis.html#dom-errorevent-lineno">https://html.spec.whatwg.org/multipage/webappapis.html#dom-errorevent-lineno</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-errorevent-lineno">2.3. Firing the event</a> <a href="#ref-for-dom-errorevent-lineno①">(2)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="term-for-dom-errorevent-message">
   <a href="https://html.spec.whatwg.org/multipage/webappapis.html#dom-errorevent-message">https://html.spec.whatwg.org/multipage/webappapis.html#dom-errorevent-message</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-errorevent-message">2.3. Firing the event</a> <a href="#ref-for-dom-errorevent-message①">(2)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="term-for-navigable">
   <a href="https://html.spec.whatwg.org/multipage/document-sequences.html#navigable">https://html.spec.whatwg.org/multipage/document-sequences.html#navigable</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-navigable">1.5. Traversing</a>
    <li><a href="#ref-for-navigable①">2.3. Firing the event</a> <a href="#ref-for-navigable②">(2)</a>
    <li><a href="#ref-for-navigable③">4.12. Canceling navigations</a> <a href="#ref-for-navigable④">(2)</a> <a href="#ref-for-navigable⑤">(3)</a>
    <li><a href="#ref-for-navigable⑥">4.13. Check if unloading is user-canceled</a> <a href="#ref-for-navigable⑦">(2)</a> <a href="#ref-for-navigable⑧">(3)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="term-for-window-navigable">
   <a href="https://html.spec.whatwg.org/multipage/nav-history-apis.html#window-navigable">https://html.spec.whatwg.org/multipage/nav-history-apis.html#window-navigable</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-window-navigable">1.4. Navigating</a> <a href="#ref-for-window-navigable①">(2)</a>
    <li><a href="#ref-for-window-navigable②">2.3. Firing the event</a> <a href="#ref-for-window-navigable③">(2)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="term-for-navigate">
   <a href="https://html.spec.whatwg.org/multipage/browsing-the-web.html#navigate">https://html.spec.whatwg.org/multipage/browsing-the-web.html#navigate</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-navigate">1.4. Navigating</a> <a href="#ref-for-navigate①">(2)</a> <a href="#ref-for-navigate②">(3)</a>
    <li><a href="#ref-for-navigate③">4.2. Navigate</a> <a href="#ref-for-navigate④">(2)</a>
    <li><a href="#ref-for-navigate⑤">4.11. Download a hyperlink</a> <a href="#ref-for-navigate⑥">(2)</a>
    <li><a href="#ref-for-navigate⑦">4.14. User navigation involvement</a>
    <li><a href="#ref-for-navigate⑧">4.15.1. User navigation involvement</a> <a href="#ref-for-navigate⑨">(2)</a> <a href="#ref-for-navigate①⓪">(3)</a> <a href="#ref-for-navigate①①">(4)</a>
    <li><a href="#ref-for-navigate①②">4.15.2. Form entry list</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="term-for-navigate-fragid">
   <a href="https://html.spec.whatwg.org/multipage/browsing-the-web.html#navigate-fragid">https://html.spec.whatwg.org/multipage/browsing-the-web.html#navigate-fragid</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-navigate-fragid">1.4. Navigating</a>
    <li><a href="#ref-for-navigate-fragid①">2.1. The NavigateEvent class</a>
    <li><a href="#ref-for-navigate-fragid②">4.2. Navigate</a> <a href="#ref-for-navigate-fragid③">(2)</a>
    <li><a href="#ref-for-navigate-fragid④">4.3. Navigate to a fragment</a>
    <li><a href="#ref-for-navigate-fragid⑤">4.15.1. User navigation involvement</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="term-for-navigation-and-traversal-task-source">
   <a href="https://html.spec.whatwg.org/multipage/webappapis.html#navigation-and-traversal-task-source">https://html.spec.whatwg.org/multipage/webappapis.html#navigation-and-traversal-task-source</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-navigation-and-traversal-task-source">1. The Navigation class</a>
    <li><a href="#ref-for-navigation-and-traversal-task-source①">1.5. Traversing</a> <a href="#ref-for-navigation-and-traversal-task-source②">(2)</a> <a href="#ref-for-navigation-and-traversal-task-source③">(3)</a>
    <li><a href="#ref-for-navigation-and-traversal-task-source④">4.13. Check if unloading is user-canceled</a> <a href="#ref-for-navigation-and-traversal-task-source⑤">(2)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="term-for-navigation-id">
   <a href="https://html.spec.whatwg.org/multipage/browsing-the-web.html#navigation-id">https://html.spec.whatwg.org/multipage/browsing-the-web.html#navigation-id</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-navigation-id">4.12. Canceling navigations</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="term-for-node-navigable">
   <a href="https://html.spec.whatwg.org/multipage/document-sequences.html#node-navigable">https://html.spec.whatwg.org/multipage/document-sequences.html#node-navigable</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-node-navigable">1.5. Traversing</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="term-for-ongoing-navigation">
   <a href="https://html.spec.whatwg.org/multipage/browsing-the-web.html#ongoing-navigation">https://html.spec.whatwg.org/multipage/browsing-the-web.html#ongoing-navigation</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-ongoing-navigation">4.12. Canceling navigations</a> <a href="#ref-for-ongoing-navigation①">(2)</a> <a href="#ref-for-ongoing-navigation②">(3)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="term-for-concept-origin-opaque">
   <a href="https://html.spec.whatwg.org/multipage/browsers.html#concept-origin-opaque">https://html.spec.whatwg.org/multipage/browsers.html#concept-origin-opaque</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-concept-origin-opaque">1. The Navigation class</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="term-for-dom-document-open">
   <a href="https://html.spec.whatwg.org/multipage/dynamic-markup-insertion.html#dom-document-open">https://html.spec.whatwg.org/multipage/dynamic-markup-insertion.html#dom-document-open</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-document-open">5.2. Navigation monitoring and interception</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="term-for-document-state-origin">
   <a href="https://html.spec.whatwg.org/multipage/browsing-the-web.html#document-state-origin">https://html.spec.whatwg.org/multipage/browsing-the-web.html#document-state-origin</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-document-state-origin">2.3. Firing the event</a>
    <li><a href="#ref-for-document-state-origin①">4.7. Finalize a cross-document navigation</a> <a href="#ref-for-document-state-origin②">(2)</a>
    <li><a href="#ref-for-document-state-origin③">4.13. Check if unloading is user-canceled</a> <a href="#ref-for-document-state-origin④">(2)</a> <a href="#ref-for-document-state-origin⑤">(3)</a> <a href="#ref-for-document-state-origin⑥">(4)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="term-for-concept-settings-object-origin">
   <a href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-settings-object-origin">https://html.spec.whatwg.org/multipage/webappapis.html#concept-settings-object-origin</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-concept-settings-object-origin">2.3. Firing the event</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="term-for-event-pageshow">
   <a href="https://html.spec.whatwg.org/multipage/indices.html#event-pageshow">https://html.spec.whatwg.org/multipage/indices.html#event-pageshow</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-event-pageshow">1. The Navigation class</a> <a href="#ref-for-event-pageshow①">(2)</a> <a href="#ref-for-event-pageshow②">(3)</a> <a href="#ref-for-event-pageshow③">(4)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="term-for-parse-a-url">
   <a href="https://html.spec.whatwg.org/multipage/urls-and-fetching.html#parse-a-url">https://html.spec.whatwg.org/multipage/urls-and-fetching.html#parse-a-url</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-parse-a-url">1.4. Navigating</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="term-for-perform-a-microtask-checkpoint">
   <a href="https://html.spec.whatwg.org/multipage/webappapis.html#perform-a-microtask-checkpoint">https://html.spec.whatwg.org/multipage/webappapis.html#perform-a-microtask-checkpoint</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-perform-a-microtask-checkpoint">2.3. Firing the event</a> <a href="#ref-for-perform-a-microtask-checkpoint①">(2)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="term-for-plan-to-navigate">
   <a href="https://html.spec.whatwg.org/multipage/form-control-infrastructure.html#plan-to-navigate">https://html.spec.whatwg.org/multipage/form-control-infrastructure.html#plan-to-navigate</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-plan-to-navigate">4.15.1. User navigation involvement</a> <a href="#ref-for-plan-to-navigate①">(2)</a>
    <li><a href="#ref-for-plan-to-navigate②">4.15.2. Form entry list</a> <a href="#ref-for-plan-to-navigate③">(2)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="term-for-event-popstate">
   <a href="https://html.spec.whatwg.org/multipage/indices.html#event-popstate">https://html.spec.whatwg.org/multipage/indices.html#event-popstate</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-event-popstate">4.6. Update document for history state application</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="term-for-prepare-to-run-script">
   <a href="https://html.spec.whatwg.org/multipage/webappapis.html#prepare-to-run-script">https://html.spec.whatwg.org/multipage/webappapis.html#prepare-to-run-script</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-prepare-to-run-script">1. The Navigation class</a>
    <li><a href="#ref-for-prepare-to-run-script①">2.3. Firing the event</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="term-for-hh-push">
   <a href="https://html.spec.whatwg.org/multipage/browsing-the-web.html#hh-push">https://html.spec.whatwg.org/multipage/browsing-the-web.html#hh-push</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-hh-push">1.4. Navigating</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="term-for-dom-history-pushstate">
   <a href="https://html.spec.whatwg.org/multipage/nav-history-apis.html#dom-history-pushstate">https://html.spec.whatwg.org/multipage/nav-history-apis.html#dom-history-pushstate</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-history-pushstate">2.2. The NavigationDestination class</a>
    <li><a href="#ref-for-dom-history-pushstate①">5.3. URL updates</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="term-for-queue-a-global-task">
   <a href="https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-global-task">https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-global-task</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-queue-a-global-task">1. The Navigation class</a>
    <li><a href="#ref-for-queue-a-global-task①">1.5. Traversing</a> <a href="#ref-for-queue-a-global-task②">(2)</a> <a href="#ref-for-queue-a-global-task③">(3)</a>
    <li><a href="#ref-for-queue-a-global-task④">4.13. Check if unloading is user-canceled</a> <a href="#ref-for-queue-a-global-task⑤">(2)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="term-for-reactivate-a-document">
   <a href="https://html.spec.whatwg.org/multipage/browsing-the-web.html#reactivate-a-document">https://html.spec.whatwg.org/multipage/browsing-the-web.html#reactivate-a-document</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-reactivate-a-document">4.8. Reactivate</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="term-for-policy-container-referrer-policy">
   <a href="https://html.spec.whatwg.org/multipage/browsers.html#policy-container-referrer-policy">https://html.spec.whatwg.org/multipage/browsers.html#policy-container-referrer-policy</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-policy-container-referrer-policy">3. Navigation API history entries</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="term-for-concept-relevant-global">
   <a href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-global">https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-global</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-concept-relevant-global">1. The Navigation class</a> <a href="#ref-for-concept-relevant-global①">(2)</a> <a href="#ref-for-concept-relevant-global②">(3)</a>
    <li><a href="#ref-for-concept-relevant-global③">1.4. Navigating</a> <a href="#ref-for-concept-relevant-global④">(2)</a> <a href="#ref-for-concept-relevant-global⑤">(3)</a> <a href="#ref-for-concept-relevant-global⑥">(4)</a>
    <li><a href="#ref-for-concept-relevant-global⑦">1.5. Traversing</a> <a href="#ref-for-concept-relevant-global⑧">(2)</a> <a href="#ref-for-concept-relevant-global⑨">(3)</a> <a href="#ref-for-concept-relevant-global①⓪">(4)</a>
    <li><a href="#ref-for-concept-relevant-global①①">2.1. The NavigateEvent class</a> <a href="#ref-for-concept-relevant-global①②">(2)</a>
    <li><a href="#ref-for-concept-relevant-global①③">2.3. Firing the event</a> <a href="#ref-for-concept-relevant-global①④">(2)</a> <a href="#ref-for-concept-relevant-global①⑤">(3)</a> <a href="#ref-for-concept-relevant-global①⑥">(4)</a> <a href="#ref-for-concept-relevant-global①⑦">(5)</a> <a href="#ref-for-concept-relevant-global①⑧">(6)</a> <a href="#ref-for-concept-relevant-global①⑨">(7)</a> <a href="#ref-for-concept-relevant-global②⓪">(8)</a>
    <li><a href="#ref-for-concept-relevant-global②①">3. Navigation API history entries</a> <a href="#ref-for-concept-relevant-global②②">(2)</a> <a href="#ref-for-concept-relevant-global②③">(3)</a> <a href="#ref-for-concept-relevant-global②④">(4)</a> <a href="#ref-for-concept-relevant-global②⑤">(5)</a> <a href="#ref-for-concept-relevant-global②⑥">(6)</a> <a href="#ref-for-concept-relevant-global②⑦">(7)</a> <a href="#ref-for-concept-relevant-global②⑧">(8)</a>
    <li><a href="#ref-for-concept-relevant-global②⑨">4.4. Shared history push/replace state steps</a>
    <li><a href="#ref-for-concept-relevant-global③⓪">4.5. URL and history update steps</a>
    <li><a href="#ref-for-concept-relevant-global③①">4.6. Update document for history state application</a>
    <li><a href="#ref-for-concept-relevant-global③②">4.8. Reactivate</a>
    <li><a href="#ref-for-concept-relevant-global③③">4.11. Download a hyperlink</a>
    <li><a href="#ref-for-concept-relevant-global③④">4.13. Check if unloading is user-canceled</a>
    <li><a href="#ref-for-concept-relevant-global③⑤">4.16. Focus tracking</a> <a href="#ref-for-concept-relevant-global③⑥">(2)</a>
    <li><a href="#ref-for-concept-relevant-global③⑦">4.17. Scroll restoration</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="term-for-concept-relevant-realm">
   <a href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-realm">https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-realm</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-concept-relevant-realm">1. The Navigation class</a> <a href="#ref-for-concept-relevant-realm①">(2)</a> <a href="#ref-for-concept-relevant-realm②">(3)</a>
    <li><a href="#ref-for-concept-relevant-realm③">1.3. Ongoing navigation tracking</a> <a href="#ref-for-concept-relevant-realm④">(2)</a>
    <li><a href="#ref-for-concept-relevant-realm⑤">1.5. Traversing</a>
    <li><a href="#ref-for-concept-relevant-realm⑥">2.3. Firing the event</a> <a href="#ref-for-concept-relevant-realm⑦">(2)</a> <a href="#ref-for-concept-relevant-realm⑧">(3)</a> <a href="#ref-for-concept-relevant-realm⑨">(4)</a> <a href="#ref-for-concept-relevant-realm①⓪">(5)</a> <a href="#ref-for-concept-relevant-realm①①">(6)</a> <a href="#ref-for-concept-relevant-realm①②">(7)</a> <a href="#ref-for-concept-relevant-realm①③">(8)</a> <a href="#ref-for-concept-relevant-realm①④">(9)</a> <a href="#ref-for-concept-relevant-realm①⑤">(10)</a> <a href="#ref-for-concept-relevant-realm①⑥">(11)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="term-for-relevant-settings-object">
   <a href="https://html.spec.whatwg.org/multipage/webappapis.html#relevant-settings-object">https://html.spec.whatwg.org/multipage/webappapis.html#relevant-settings-object</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-relevant-settings-object">1. The Navigation class</a> <a href="#ref-for-relevant-settings-object①">(2)</a>
    <li><a href="#ref-for-relevant-settings-object②">1.4. Navigating</a>
    <li><a href="#ref-for-relevant-settings-object③">2.3. Firing the event</a> <a href="#ref-for-relevant-settings-object④">(2)</a> <a href="#ref-for-relevant-settings-object⑤">(3)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="term-for-reload">
   <a href="https://html.spec.whatwg.org/multipage/browsing-the-web.html#reload">https://html.spec.whatwg.org/multipage/browsing-the-web.html#reload</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-reload">1.4. Navigating</a> <a href="#ref-for-reload①">(2)</a>
    <li><a href="#ref-for-reload②">4.9. Reload</a>
    <li><a href="#ref-for-reload③">4.15.1. User navigation involvement</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="term-for-hh-replace">
   <a href="https://html.spec.whatwg.org/multipage/browsing-the-web.html#hh-replace">https://html.spec.whatwg.org/multipage/browsing-the-web.html#hh-replace</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-hh-replace">1.4. Navigating</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="term-for-dom-history-replacestate">
   <a href="https://html.spec.whatwg.org/multipage/nav-history-apis.html#dom-history-replacestate">https://html.spec.whatwg.org/multipage/nav-history-apis.html#dom-history-replacestate</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-history-replacestate">5.3. URL updates</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="term-for-report-the-exception">
   <a href="https://html.spec.whatwg.org/multipage/webappapis.html#report-the-exception">https://html.spec.whatwg.org/multipage/webappapis.html#report-the-exception</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-report-the-exception">2.3. Firing the event</a> <a href="#ref-for-report-the-exception①">(2)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="term-for-document-state-request-referrer-policy">
   <a href="https://html.spec.whatwg.org/multipage/browsing-the-web.html#document-state-request-referrer-policy">https://html.spec.whatwg.org/multipage/browsing-the-web.html#document-state-request-referrer-policy</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-document-state-request-referrer-policy">3. Navigation API history entries</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="term-for-restorable-scrollable-regions">
   <a href="https://html.spec.whatwg.org/multipage/browsing-the-web.html#restorable-scrollable-regions">https://html.spec.whatwg.org/multipage/browsing-the-web.html#restorable-scrollable-regions</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-restorable-scrollable-regions">4.17. Scroll restoration</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="term-for-restore-persisted-state">
   <a href="https://html.spec.whatwg.org/multipage/browsing-the-web.html#restore-persisted-state">https://html.spec.whatwg.org/multipage/browsing-the-web.html#restore-persisted-state</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-restore-persisted-state">4.17. Scroll restoration</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="term-for-restore-the-history-object-state">
   <a href="https://html.spec.whatwg.org/multipage/browsing-the-web.html#restore-the-history-object-state">https://html.spec.whatwg.org/multipage/browsing-the-web.html#restore-the-history-object-state</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-restore-the-history-object-state">4.6. Update document for history state application</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="term-for-resulting-url-record">
   <a href="https://html.spec.whatwg.org/multipage/urls-and-fetching.html#resulting-url-record">https://html.spec.whatwg.org/multipage/urls-and-fetching.html#resulting-url-record</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-resulting-url-record">1.4. Navigating</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="term-for-same-origin">
   <a href="https://html.spec.whatwg.org/multipage/browsers.html#same-origin">https://html.spec.whatwg.org/multipage/browsers.html#same-origin</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-same-origin">1.1. Introspecting the navigation API history entry list</a>
    <li><a href="#ref-for-same-origin①">2.3. Firing the event</a>
    <li><a href="#ref-for-same-origin②">4.7. Finalize a cross-document navigation</a>
    <li><a href="#ref-for-same-origin③">4.13. Check if unloading is user-canceled</a> <a href="#ref-for-same-origin④">(2)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="term-for-same-origin-domain">
   <a href="https://html.spec.whatwg.org/multipage/browsers.html#same-origin-domain">https://html.spec.whatwg.org/multipage/browsers.html#same-origin-domain</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-same-origin-domain">1.4. Navigating</a>
    <li><a href="#ref-for-same-origin-domain①">4.2. Navigate</a> <a href="#ref-for-same-origin-domain②">(2)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="term-for-she-scroll-position">
   <a href="https://html.spec.whatwg.org/multipage/browsing-the-web.html#she-scroll-position">https://html.spec.whatwg.org/multipage/browsing-the-web.html#she-scroll-position</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-she-scroll-position">4.17. Scroll restoration</a> <a href="#ref-for-she-scroll-position①">(2)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="term-for-she-scroll-restoration-mode">
   <a href="https://html.spec.whatwg.org/multipage/browsing-the-web.html#she-scroll-restoration-mode">https://html.spec.whatwg.org/multipage/browsing-the-web.html#she-scroll-restoration-mode</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-she-scroll-restoration-mode">4.17. Scroll restoration</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="term-for-scroll-to-the-fragment-identifier">
   <a href="https://html.spec.whatwg.org/multipage/browsing-the-web.html#scroll-to-the-fragment-identifier">https://html.spec.whatwg.org/multipage/browsing-the-web.html#scroll-to-the-fragment-identifier</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-scroll-to-the-fragment-identifier">2.3. Firing the event</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="term-for-sequential-focus-navigation-starting-point">
   <a href="https://html.spec.whatwg.org/multipage/interaction.html#sequential-focus-navigation-starting-point">https://html.spec.whatwg.org/multipage/interaction.html#sequential-focus-navigation-starting-point</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-sequential-focus-navigation-starting-point">2.3. Firing the event</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="term-for-serializable-objects">
   <a href="https://html.spec.whatwg.org/multipage/structured-data.html#serializable-objects">https://html.spec.whatwg.org/multipage/structured-data.html#serializable-objects</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-serializable-objects">1.4. Navigating</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="term-for-serialized-state">
   <a href="https://html.spec.whatwg.org/multipage/browsing-the-web.html#serialized-state">https://html.spec.whatwg.org/multipage/browsing-the-web.html#serialized-state</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-serialized-state">1.3. Ongoing navigation tracking</a> <a href="#ref-for-serialized-state①">(2)</a>
    <li><a href="#ref-for-serialized-state②">2.1. The NavigateEvent class</a>
    <li><a href="#ref-for-serialized-state③">2.2. The NavigationDestination class</a>
    <li><a href="#ref-for-serialized-state④">2.3. Firing the event</a> <a href="#ref-for-serialized-state⑤">(2)</a>
    <li><a href="#ref-for-serialized-state⑥">4.1. New session history entry items</a>
    <li><a href="#ref-for-serialized-state⑦">4.2. Navigate</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="term-for-uhus-serializeddata">
   <a href="https://html.spec.whatwg.org/multipage/browsing-the-web.html#uhus-serializeddata">https://html.spec.whatwg.org/multipage/browsing-the-web.html#uhus-serializeddata</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-uhus-serializeddata">2.3. Firing the event</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="term-for-session-history-entry">
   <a href="https://html.spec.whatwg.org/multipage/browsing-the-web.html#session-history-entry">https://html.spec.whatwg.org/multipage/browsing-the-web.html#session-history-entry</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-session-history-entry">1. The Navigation class</a> <a href="#ref-for-session-history-entry①">(2)</a> <a href="#ref-for-session-history-entry②">(3)</a> <a href="#ref-for-session-history-entry③">(4)</a> <a href="#ref-for-session-history-entry④">(5)</a> <a href="#ref-for-session-history-entry⑤">(6)</a>
    <li><a href="#ref-for-session-history-entry⑥">1.5. Traversing</a> <a href="#ref-for-session-history-entry⑦">(2)</a> <a href="#ref-for-session-history-entry⑧">(3)</a> <a href="#ref-for-session-history-entry⑨">(4)</a> <a href="#ref-for-session-history-entry①⓪">(5)</a> <a href="#ref-for-session-history-entry①①">(6)</a> <a href="#ref-for-session-history-entry①②">(7)</a>
    <li><a href="#ref-for-session-history-entry①③">2.3. Firing the event</a>
    <li><a href="#ref-for-session-history-entry①④">3. Navigation API history entries</a>
    <li><a href="#ref-for-session-history-entry①⑤">4.1. New session history entry items</a> <a href="#ref-for-session-history-entry①⑥">(2)</a>
    <li><a href="#ref-for-session-history-entry①⑦">4.17. Scroll restoration</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="term-for-tn-session-history-traversal-queue">
   <a href="https://html.spec.whatwg.org/multipage/document-sequences.html#tn-session-history-traversal-queue">https://html.spec.whatwg.org/multipage/document-sequences.html#tn-session-history-traversal-queue</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-tn-session-history-traversal-queue">1.3. Ongoing navigation tracking</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="term-for-dom-sessionstorage">
   <a href="https://html.spec.whatwg.org/multipage/webstorage.html#dom-sessionstorage">https://html.spec.whatwg.org/multipage/webstorage.html#dom-sessionstorage</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-sessionstorage">5.1. Cross-site tracking</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="term-for-shared-history-push/replace-state-steps">
   <a href="https://html.spec.whatwg.org/multipage/nav-history-apis.html#shared-history-push/replace-state-steps">https://html.spec.whatwg.org/multipage/nav-history-apis.html#shared-history-push/replace-state-steps</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-shared-history-push/replace-state-steps">4.4. Shared history push/replace state steps</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="term-for-snapshotting-source-snapshot-params">
   <a href="https://html.spec.whatwg.org/multipage/browsing-the-web.html#snapshotting-source-snapshot-params">https://html.spec.whatwg.org/multipage/browsing-the-web.html#snapshotting-source-snapshot-params</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-snapshotting-source-snapshot-params">1.5. Traversing</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="term-for-apply-history-step-source-snapshot">
   <a href="https://html.spec.whatwg.org/multipage/browsing-the-web.html#apply-history-step-source-snapshot">https://html.spec.whatwg.org/multipage/browsing-the-web.html#apply-history-step-source-snapshot</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-apply-history-step-source-snapshot">1.5. Traversing</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="term-for-dom-history-state">
   <a href="https://html.spec.whatwg.org/multipage/nav-history-apis.html#dom-history-state">https://html.spec.whatwg.org/multipage/nav-history-apis.html#dom-history-state</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-history-state">3. Navigation API history entries</a> <a href="#ref-for-dom-history-state①">(2)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="term-for-she-step">
   <a href="https://html.spec.whatwg.org/multipage/browsing-the-web.html#she-step">https://html.spec.whatwg.org/multipage/browsing-the-web.html#she-step</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-she-step">1.5. Traversing</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="term-for-dom-window-stop">
   <a href="https://html.spec.whatwg.org/multipage/nav-history-apis.html#dom-window-stop">https://html.spec.whatwg.org/multipage/nav-history-apis.html#dom-window-stop</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-window-stop">2.3. Firing the event</a> <a href="#ref-for-dom-window-stop①">(2)</a>
    <li><a href="#ref-for-dom-window-stop②">4.12. Canceling navigations</a> <a href="#ref-for-dom-window-stop③">(2)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="term-for-submit-body">
   <a href="https://html.spec.whatwg.org/multipage/form-control-infrastructure.html#submit-body">https://html.spec.whatwg.org/multipage/form-control-infrastructure.html#submit-body</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-submit-body">4.15.2. Form entry list</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="term-for-attr-button-type-submit-state">
   <a href="https://html.spec.whatwg.org/multipage/form-elements.html#attr-button-type-submit-state">https://html.spec.whatwg.org/multipage/form-elements.html#attr-button-type-submit-state</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-attr-button-type-submit-state">4.15.1. User navigation involvement</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="term-for-concept-form-submit">
   <a href="https://html.spec.whatwg.org/multipage/form-control-infrastructure.html#concept-form-submit">https://html.spec.whatwg.org/multipage/form-control-infrastructure.html#concept-form-submit</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-concept-form-submit">2.1. The NavigateEvent class</a>
    <li><a href="#ref-for-concept-form-submit①">4.15.1. User navigation involvement</a> <a href="#ref-for-concept-form-submit②">(2)</a> <a href="#ref-for-concept-form-submit③">(3)</a> <a href="#ref-for-concept-form-submit④">(4)</a> <a href="#ref-for-concept-form-submit⑤">(5)</a> <a href="#ref-for-concept-form-submit⑥">(6)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="term-for-the-body-element-2">
   <a href="https://html.spec.whatwg.org/multipage/dom.html#the-body-element-2">https://html.spec.whatwg.org/multipage/dom.html#the-body-element-2</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-the-body-element-2">2.3. Firing the event</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="term-for-top-level-traversable">
   <a href="https://html.spec.whatwg.org/multipage/document-sequences.html#top-level-traversable">https://html.spec.whatwg.org/multipage/document-sequences.html#top-level-traversable</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-top-level-traversable">2.3. Firing the event</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="term-for-transient-activation">
   <a href="https://html.spec.whatwg.org/multipage/interaction.html#transient-activation">https://html.spec.whatwg.org/multipage/interaction.html#transient-activation</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-transient-activation">2.3. Firing the event</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="term-for-nav-traversable">
   <a href="https://html.spec.whatwg.org/multipage/document-sequences.html#nav-traversable">https://html.spec.whatwg.org/multipage/document-sequences.html#nav-traversable</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-nav-traversable">1.5. Traversing</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="term-for-traverse-the-history-by-a-delta">
   <a href="https://html.spec.whatwg.org/multipage/browsing-the-web.html#traverse-the-history-by-a-delta">https://html.spec.whatwg.org/multipage/browsing-the-web.html#traverse-the-history-by-a-delta</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-traverse-the-history-by-a-delta">4.10. Traversal</a>
    <li><a href="#ref-for-traverse-the-history-by-a-delta①">4.15.1. User navigation involvement</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="term-for-event-unhandledrejection">
   <a href="https://html.spec.whatwg.org/multipage/indices.html#event-unhandledrejection">https://html.spec.whatwg.org/multipage/indices.html#event-unhandledrejection</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-event-unhandledrejection">1.3. Ongoing navigation tracking</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="term-for-unload-a-document">
   <a href="https://html.spec.whatwg.org/multipage/document-lifecycle.html#unload-a-document">https://html.spec.whatwg.org/multipage/document-lifecycle.html#unload-a-document</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-unload-a-document">4.17. Scroll restoration</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="term-for-unload-counter">
   <a href="https://html.spec.whatwg.org/multipage/document-lifecycle.html#unload-counter">https://html.spec.whatwg.org/multipage/document-lifecycle.html#unload-counter</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-unload-counter">1.4. Navigating</a> <a href="#ref-for-unload-counter①">(2)</a>
    <li><a href="#ref-for-unload-counter②">1.5. Traversing</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="term-for-update-document-for-history-step-application">
   <a href="https://html.spec.whatwg.org/multipage/browsing-the-web.html#update-document-for-history-step-application">https://html.spec.whatwg.org/multipage/browsing-the-web.html#update-document-for-history-step-application</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-update-document-for-history-step-application">4.3. Navigate to a fragment</a>
    <li><a href="#ref-for-update-document-for-history-step-application①">4.6. Update document for history state application</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="term-for-changing-nav-continuation-update-only">
   <a href="https://html.spec.whatwg.org/multipage/browsing-the-web.html#changing-nav-continuation-update-only">https://html.spec.whatwg.org/multipage/browsing-the-web.html#changing-nav-continuation-update-only</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-changing-nav-continuation-update-only">4.13. Check if unloading is user-canceled</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="term-for-she-url">
   <a href="https://html.spec.whatwg.org/multipage/browsing-the-web.html#she-url">https://html.spec.whatwg.org/multipage/browsing-the-web.html#she-url</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-she-url">2.3. Firing the event</a>
    <li><a href="#ref-for-she-url①">3. Navigation API history entries</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="term-for-url-and-history-update-steps">
   <a href="https://html.spec.whatwg.org/multipage/browsing-the-web.html#url-and-history-update-steps">https://html.spec.whatwg.org/multipage/browsing-the-web.html#url-and-history-update-steps</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-url-and-history-update-steps">2.3. Firing the event</a> <a href="#ref-for-url-and-history-update-steps①">(2)</a> <a href="#ref-for-url-and-history-update-steps②">(3)</a>
    <li><a href="#ref-for-url-and-history-update-steps③">4.4. Shared history push/replace state steps</a>
    <li><a href="#ref-for-url-and-history-update-steps④">4.5. URL and history update steps</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="term-for-list-append">
   <a href="https://infra.spec.whatwg.org/#list-append">https://infra.spec.whatwg.org/#list-append</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-list-append">1. The Navigation class</a> <a href="#ref-for-list-append①">(2)</a> <a href="#ref-for-list-append②">(3)</a> <a href="#ref-for-list-append③">(4)</a>
    <li><a href="#ref-for-list-append④">2.1. The NavigateEvent class</a>
    <li><a href="#ref-for-list-append⑤">2.3. Firing the event</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="term-for-assert">
   <a href="https://infra.spec.whatwg.org/#assert">https://infra.spec.whatwg.org/#assert</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-assert">1. The Navigation class</a> <a href="#ref-for-assert①">(2)</a> <a href="#ref-for-assert②">(3)</a> <a href="#ref-for-assert③">(4)</a> <a href="#ref-for-assert④">(5)</a> <a href="#ref-for-assert⑤">(6)</a>
    <li><a href="#ref-for-assert⑥">1.1. Introspecting the navigation API history entry list</a> <a href="#ref-for-assert⑦">(2)</a>
    <li><a href="#ref-for-assert⑧">1.2. The current entry</a>
    <li><a href="#ref-for-assert⑨">1.3. Ongoing navigation tracking</a> <a href="#ref-for-assert①⓪">(2)</a> <a href="#ref-for-assert①①">(3)</a> <a href="#ref-for-assert①②">(4)</a> <a href="#ref-for-assert①③">(5)</a>
    <li><a href="#ref-for-assert①④">1.4. Navigating</a> <a href="#ref-for-assert①⑤">(2)</a>
    <li><a href="#ref-for-assert①⑥">2.3. Firing the event</a> <a href="#ref-for-assert①⑦">(2)</a> <a href="#ref-for-assert①⑧">(3)</a>
    <li><a href="#ref-for-assert①⑨">4.13. Check if unloading is user-canceled</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="term-for-list-clone">
   <a href="https://infra.spec.whatwg.org/#list-clone">https://infra.spec.whatwg.org/#list-clone</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-list-clone">1. The Navigation class</a>
    <li><a href="#ref-for-list-clone①">2.3. Firing the event</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="term-for-list-contain">
   <a href="https://infra.spec.whatwg.org/#list-contain">https://infra.spec.whatwg.org/#list-contain</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-list-contain">1. The Navigation class</a>
    <li><a href="#ref-for-list-contain①">4.13. Check if unloading is user-canceled</a> <a href="#ref-for-list-contain②">(2)</a> <a href="#ref-for-list-contain③">(3)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="term-for-iteration-continue">
   <a href="https://infra.spec.whatwg.org/#iteration-continue">https://infra.spec.whatwg.org/#iteration-continue</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-iteration-continue">4.13. Check if unloading is user-canceled</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="term-for-map-exists">
   <a href="https://infra.spec.whatwg.org/#map-exists">https://infra.spec.whatwg.org/#map-exists</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-map-exists">1.3. Ongoing navigation tracking</a> <a href="#ref-for-map-exists①">(2)</a>
    <li><a href="#ref-for-map-exists②">1.4. Navigating</a>
    <li><a href="#ref-for-map-exists③">1.5. Traversing</a> <a href="#ref-for-map-exists④">(2)</a>
    <li><a href="#ref-for-map-exists⑤">2.1. The NavigateEvent class</a> <a href="#ref-for-map-exists⑥">(2)</a> <a href="#ref-for-map-exists⑦">(3)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="term-for-list-iterate">
   <a href="https://infra.spec.whatwg.org/#list-iterate">https://infra.spec.whatwg.org/#list-iterate</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-list-iterate">1. The Navigation class</a> <a href="#ref-for-list-iterate①">(2)</a> <a href="#ref-for-list-iterate②">(3)</a> <a href="#ref-for-list-iterate③">(4)</a> <a href="#ref-for-list-iterate④">(5)</a> <a href="#ref-for-list-iterate⑤">(6)</a>
    <li><a href="#ref-for-list-iterate⑥">2.3. Firing the event</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="term-for-string-is">
   <a href="https://infra.spec.whatwg.org/#string-is">https://infra.spec.whatwg.org/#string-is</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-string-is">2.3. Firing the event</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="term-for-list-is-empty">
   <a href="https://infra.spec.whatwg.org/#list-is-empty">https://infra.spec.whatwg.org/#list-is-empty</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-list-is-empty">1. The Navigation class</a> <a href="#ref-for-list-is-empty①">(2)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="term-for-list-item">
   <a href="https://infra.spec.whatwg.org/#list-item">https://infra.spec.whatwg.org/#list-item</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-list-item">1. The Navigation class</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="term-for-struct-item">
   <a href="https://infra.spec.whatwg.org/#struct-item">https://infra.spec.whatwg.org/#struct-item</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-struct-item">1.3. Ongoing navigation tracking</a>
    <li><a href="#ref-for-struct-item①">4.1. New session history entry items</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="term-for-list">
   <a href="https://infra.spec.whatwg.org/#list">https://infra.spec.whatwg.org/#list</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-list">1. The Navigation class</a> <a href="#ref-for-list①">(2)</a> <a href="#ref-for-list②">(3)</a> <a href="#ref-for-list③">(4)</a>
    <li><a href="#ref-for-list④">2.1. The NavigateEvent class</a>
    <li><a href="#ref-for-list⑤">2.3. Firing the event</a>
    <li><a href="#ref-for-list⑥">4.13. Check if unloading is user-canceled</a> <a href="#ref-for-list⑦">(2)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="term-for-ordered-map">
   <a href="https://infra.spec.whatwg.org/#ordered-map">https://infra.spec.whatwg.org/#ordered-map</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-ordered-map">1.3. Ongoing navigation tracking</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="term-for-list-remove">
   <a href="https://infra.spec.whatwg.org/#list-remove">https://infra.spec.whatwg.org/#list-remove</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-list-remove">1. The Navigation class</a> <a href="#ref-for-list-remove①">(2)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="term-for-map-remove">
   <a href="https://infra.spec.whatwg.org/#map-remove">https://infra.spec.whatwg.org/#map-remove</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-map-remove">1.3. Ongoing navigation tracking</a> <a href="#ref-for-map-remove①">(2)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="term-for-list-size">
   <a href="https://infra.spec.whatwg.org/#list-size">https://infra.spec.whatwg.org/#list-size</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-list-size">1. The Navigation class</a>
    <li><a href="#ref-for-list-size①">1.1. Introspecting the navigation API history entry list</a>
    <li><a href="#ref-for-list-size②">1.5. Traversing</a>
    <li><a href="#ref-for-list-size③">2.3. Firing the event</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="term-for-string">
   <a href="https://infra.spec.whatwg.org/#string">https://infra.spec.whatwg.org/#string</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-string">2.2. The NavigationDestination class</a> <a href="#ref-for-string①">(2)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="term-for-struct">
   <a href="https://infra.spec.whatwg.org/#struct">https://infra.spec.whatwg.org/#struct</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-struct">1.3. Ongoing navigation tracking</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="term-for-user-agent">
   <a href="https://infra.spec.whatwg.org/#user-agent">https://infra.spec.whatwg.org/#user-agent</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-user-agent">3. Navigation API history entries</a> <a href="#ref-for-user-agent①">(2)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="term-for-iteration-while">
   <a href="https://infra.spec.whatwg.org/#iteration-while">https://infra.spec.whatwg.org/#iteration-while</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-iteration-while">1. The Navigation class</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="term-for-referrer-policy-no-referrer">
   <a href="https://w3c.github.io/webappsec-referrer-policy/#referrer-policy-no-referrer">https://w3c.github.io/webappsec-referrer-policy/#referrer-policy-no-referrer</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-referrer-policy-no-referrer">3. Navigation API history entries</a> <a href="#ref-for-referrer-policy-no-referrer①">(2)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="term-for-referrer-policy-origin">
   <a href="https://w3c.github.io/webappsec-referrer-policy/#referrer-policy-origin">https://w3c.github.io/webappsec-referrer-policy/#referrer-policy-origin</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-referrer-policy-origin">3. Navigation API history entries</a> <a href="#ref-for-referrer-policy-origin①">(2)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="term-for-concept-url-equals">
   <a href="https://url.spec.whatwg.org/#concept-url-equals">https://url.spec.whatwg.org/#concept-url-equals</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-concept-url-equals">2.3. Firing the event</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="term-for-url-equals-exclude-fragments">
   <a href="https://url.spec.whatwg.org/#url-equals-exclude-fragments">https://url.spec.whatwg.org/#url-equals-exclude-fragments</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-url-equals-exclude-fragments">2.3. Firing the event</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="term-for-concept-url-fragment">
   <a href="https://url.spec.whatwg.org/#concept-url-fragment">https://url.spec.whatwg.org/#concept-url-fragment</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-concept-url-fragment">2.3. Firing the event</a> <a href="#ref-for-concept-url-fragment①">(2)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="term-for-concept-url-scheme">
   <a href="https://url.spec.whatwg.org/#concept-url-scheme">https://url.spec.whatwg.org/#concept-url-scheme</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-concept-url-scheme">1.4. Navigating</a>
    <li><a href="#ref-for-concept-url-scheme①">4.2. Navigate</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="term-for-concept-url">
   <a href="https://url.spec.whatwg.org/#concept-url">https://url.spec.whatwg.org/#concept-url</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-concept-url">2.2. The NavigationDestination class</a>
    <li><a href="#ref-for-concept-url①">2.3. Firing the event</a> <a href="#ref-for-concept-url②">(2)</a>
    <li><a href="#ref-for-concept-url③">4.11. Download a hyperlink</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="term-for-concept-url-serializer">
   <a href="https://url.spec.whatwg.org/#concept-url-serializer">https://url.spec.whatwg.org/#concept-url-serializer</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-concept-url-serializer">2.2. The NavigationDestination class</a>
    <li><a href="#ref-for-concept-url-serializer①">3. Navigation API history entries</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="term-for-dfn-generate-a-random-uuid">
   <a href="https://w3c.github.io/webcrypto/#dfn-generate-a-random-uuid">https://w3c.github.io/webcrypto/#dfn-generate-a-random-uuid</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dfn-generate-a-random-uuid">4.1. New session history entry items</a> <a href="#ref-for-dfn-generate-a-random-uuid①">(2)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="term-for-aborterror">
   <a href="https://webidl.spec.whatwg.org/#aborterror">https://webidl.spec.whatwg.org/#aborterror</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-aborterror">1.4. Navigating</a> <a href="#ref-for-aborterror①">(2)</a> <a href="#ref-for-aborterror②">(3)</a> <a href="#ref-for-aborterror③">(4)</a>
    <li><a href="#ref-for-aborterror④">2.3. Firing the event</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="term-for-idl-ArrayBuffer">
   <a href="https://webidl.spec.whatwg.org/#idl-ArrayBuffer">https://webidl.spec.whatwg.org/#idl-ArrayBuffer</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-idl-ArrayBuffer">3. Navigation API history entries</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="term-for-idl-DOMException">
   <a href="https://webidl.spec.whatwg.org/#idl-DOMException">https://webidl.spec.whatwg.org/#idl-DOMException</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-idl-DOMException">1.2. The current entry</a>
    <li><a href="#ref-for-idl-DOMException①">1.4. Navigating</a> <a href="#ref-for-idl-DOMException②">(2)</a> <a href="#ref-for-idl-DOMException③">(3)</a> <a href="#ref-for-idl-DOMException④">(4)</a> <a href="#ref-for-idl-DOMException⑤">(5)</a> <a href="#ref-for-idl-DOMException⑥">(6)</a> <a href="#ref-for-idl-DOMException⑦">(7)</a> <a href="#ref-for-idl-DOMException⑧">(8)</a> <a href="#ref-for-idl-DOMException⑨">(9)</a> <a href="#ref-for-idl-DOMException①⓪">(10)</a>
    <li><a href="#ref-for-idl-DOMException①①">1.5. Traversing</a> <a href="#ref-for-idl-DOMException①②">(2)</a> <a href="#ref-for-idl-DOMException①③">(3)</a> <a href="#ref-for-idl-DOMException①④">(4)</a> <a href="#ref-for-idl-DOMException①⑤">(5)</a> <a href="#ref-for-idl-DOMException①⑥">(6)</a> <a href="#ref-for-idl-DOMException①⑦">(7)</a> <a href="#ref-for-idl-DOMException①⑧">(8)</a> <a href="#ref-for-idl-DOMException①⑨">(9)</a>
    <li><a href="#ref-for-idl-DOMException②⓪">2.1. The NavigateEvent class</a> <a href="#ref-for-idl-DOMException②①">(2)</a> <a href="#ref-for-idl-DOMException②②">(3)</a> <a href="#ref-for-idl-DOMException②③">(4)</a> <a href="#ref-for-idl-DOMException②④">(5)</a> <a href="#ref-for-idl-DOMException②⑤">(6)</a> <a href="#ref-for-idl-DOMException②⑥">(7)</a> <a href="#ref-for-idl-DOMException②⑦">(8)</a> <a href="#ref-for-idl-DOMException②⑧">(9)</a> <a href="#ref-for-idl-DOMException②⑨">(10)</a> <a href="#ref-for-idl-DOMException③⓪">(11)</a>
    <li><a href="#ref-for-idl-DOMException③①">2.3. Firing the event</a> <a href="#ref-for-idl-DOMException③②">(2)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="term-for-idl-DOMString">
   <a href="https://webidl.spec.whatwg.org/#idl-DOMString">https://webidl.spec.whatwg.org/#idl-DOMString</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-idl-DOMString">1. The Navigation class</a>
    <li><a href="#ref-for-idl-DOMString①">1.2. The current entry</a>
    <li><a href="#ref-for-idl-DOMString②">2.1. The NavigateEvent class</a> <a href="#ref-for-idl-DOMString③">(2)</a> <a href="#ref-for-idl-DOMString④">(3)</a>
    <li><a href="#ref-for-idl-DOMString⑤">2.2. The NavigationDestination class</a> <a href="#ref-for-idl-DOMString⑥">(2)</a>
    <li><a href="#ref-for-idl-DOMString⑦">3. Navigation API history entries</a> <a href="#ref-for-idl-DOMString⑧">(2)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="term-for-Exposed">
   <a href="https://webidl.spec.whatwg.org/#Exposed">https://webidl.spec.whatwg.org/#Exposed</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-Exposed">1. The Navigation class</a>
    <li><a href="#ref-for-Exposed①">1.2. The current entry</a>
    <li><a href="#ref-for-Exposed②">1.3. Ongoing navigation tracking</a>
    <li><a href="#ref-for-Exposed③">2.1. The NavigateEvent class</a>
    <li><a href="#ref-for-Exposed④">2.2. The NavigationDestination class</a>
    <li><a href="#ref-for-Exposed⑤">3. Navigation API history entries</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="term-for-invalidstateerror">
   <a href="https://webidl.spec.whatwg.org/#invalidstateerror">https://webidl.spec.whatwg.org/#invalidstateerror</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-invalidstateerror">1.2. The current entry</a>
    <li><a href="#ref-for-invalidstateerror①">1.4. Navigating</a> <a href="#ref-for-invalidstateerror②">(2)</a> <a href="#ref-for-invalidstateerror③">(3)</a> <a href="#ref-for-invalidstateerror④">(4)</a>
    <li><a href="#ref-for-invalidstateerror⑤">1.5. Traversing</a> <a href="#ref-for-invalidstateerror⑥">(2)</a> <a href="#ref-for-invalidstateerror⑦">(3)</a> <a href="#ref-for-invalidstateerror⑧">(4)</a> <a href="#ref-for-invalidstateerror⑨">(5)</a> <a href="#ref-for-invalidstateerror①⓪">(6)</a> <a href="#ref-for-invalidstateerror①①">(7)</a> <a href="#ref-for-invalidstateerror①②">(8)</a>
    <li><a href="#ref-for-invalidstateerror①③">2.1. The NavigateEvent class</a> <a href="#ref-for-invalidstateerror①④">(2)</a> <a href="#ref-for-invalidstateerror①⑤">(3)</a> <a href="#ref-for-invalidstateerror①⑥">(4)</a> <a href="#ref-for-invalidstateerror①⑦">(5)</a> <a href="#ref-for-invalidstateerror①⑧">(6)</a> <a href="#ref-for-invalidstateerror①⑨">(7)</a> <a href="#ref-for-invalidstateerror②⓪">(8)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="term-for-notsupportederror">
   <a href="https://webidl.spec.whatwg.org/#notsupportederror">https://webidl.spec.whatwg.org/#notsupportederror</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-notsupportederror">1.4. Navigating</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="term-for-idl-promise">
   <a href="https://webidl.spec.whatwg.org/#idl-promise">https://webidl.spec.whatwg.org/#idl-promise</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-idl-promise">1. The Navigation class</a> <a href="#ref-for-idl-promise①">(2)</a>
    <li><a href="#ref-for-idl-promise②">1.3. Ongoing navigation tracking</a> <a href="#ref-for-idl-promise③">(2)</a> <a href="#ref-for-idl-promise④">(3)</a> <a href="#ref-for-idl-promise⑤">(4)</a> <a href="#ref-for-idl-promise⑥">(5)</a> <a href="#ref-for-idl-promise⑦">(6)</a> <a href="#ref-for-idl-promise⑧">(7)</a>
    <li><a href="#ref-for-idl-promise⑨">2.1. The NavigateEvent class</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="term-for-Replaceable">
   <a href="https://webidl.spec.whatwg.org/#Replaceable">https://webidl.spec.whatwg.org/#Replaceable</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-Replaceable">1. The Navigation class</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="term-for-securityerror">
   <a href="https://webidl.spec.whatwg.org/#securityerror">https://webidl.spec.whatwg.org/#securityerror</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-securityerror">1.5. Traversing</a>
    <li><a href="#ref-for-securityerror①">2.1. The NavigateEvent class</a> <a href="#ref-for-securityerror②">(2)</a> <a href="#ref-for-securityerror③">(3)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="term-for-syntaxerror">
   <a href="https://webidl.spec.whatwg.org/#syntaxerror">https://webidl.spec.whatwg.org/#syntaxerror</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-syntaxerror">1.4. Navigating</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="term-for-idl-USVString">
   <a href="https://webidl.spec.whatwg.org/#idl-USVString">https://webidl.spec.whatwg.org/#idl-USVString</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-idl-USVString">1. The Navigation class</a>
    <li><a href="#ref-for-idl-USVString①">2.2. The NavigationDestination class</a>
    <li><a href="#ref-for-idl-USVString②">3. Navigation API history entries</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="term-for-a-new-promise">
   <a href="https://webidl.spec.whatwg.org/#a-new-promise">https://webidl.spec.whatwg.org/#a-new-promise</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-a-new-promise">1.3. Ongoing navigation tracking</a> <a href="#ref-for-a-new-promise①">(2)</a>
    <li><a href="#ref-for-a-new-promise②">2.3. Firing the event</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="term-for-a-promise-rejected-with">
   <a href="https://webidl.spec.whatwg.org/#a-promise-rejected-with">https://webidl.spec.whatwg.org/#a-promise-rejected-with</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-a-promise-rejected-with">1.4. Navigating</a> <a href="#ref-for-a-promise-rejected-with①">(2)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="term-for-a-promise-resolved-with">
   <a href="https://webidl.spec.whatwg.org/#a-promise-resolved-with">https://webidl.spec.whatwg.org/#a-promise-resolved-with</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-a-promise-resolved-with">1.5. Traversing</a> <a href="#ref-for-a-promise-resolved-with①">(2)</a>
    <li><a href="#ref-for-a-promise-resolved-with②">2.3. Firing the event</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="term-for-idl-any">
   <a href="https://webidl.spec.whatwg.org/#idl-any">https://webidl.spec.whatwg.org/#idl-any</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-idl-any">1. The Navigation class</a> <a href="#ref-for-idl-any①">(2)</a> <a href="#ref-for-idl-any②">(3)</a> <a href="#ref-for-idl-any③">(4)</a>
    <li><a href="#ref-for-idl-any④">2.1. The NavigateEvent class</a> <a href="#ref-for-idl-any⑤">(2)</a>
    <li><a href="#ref-for-idl-any⑥">2.2. The NavigationDestination class</a>
    <li><a href="#ref-for-idl-any⑦">3. Navigation API history entries</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="term-for-idl-boolean">
   <a href="https://webidl.spec.whatwg.org/#idl-boolean">https://webidl.spec.whatwg.org/#idl-boolean</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-idl-boolean">1. The Navigation class</a> <a href="#ref-for-idl-boolean①">(2)</a>
    <li><a href="#ref-for-idl-boolean②">2.1. The NavigateEvent class</a> <a href="#ref-for-idl-boolean③">(2)</a> <a href="#ref-for-idl-boolean④">(3)</a> <a href="#ref-for-idl-boolean⑤">(4)</a> <a href="#ref-for-idl-boolean⑥">(5)</a> <a href="#ref-for-idl-boolean⑦">(6)</a>
    <li><a href="#ref-for-idl-boolean⑧">2.2. The NavigationDestination class</a>
    <li><a href="#ref-for-idl-boolean⑨">3. Navigation API history entries</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="term-for-invoke-a-callback-function">
   <a href="https://webidl.spec.whatwg.org/#invoke-a-callback-function">https://webidl.spec.whatwg.org/#invoke-a-callback-function</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-invoke-a-callback-function">2.3. Firing the event</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="term-for-idl-long-long">
   <a href="https://webidl.spec.whatwg.org/#idl-long-long">https://webidl.spec.whatwg.org/#idl-long-long</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-idl-long-long">2.2. The NavigationDestination class</a>
    <li><a href="#ref-for-idl-long-long①">3. Navigation API history entries</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="term-for-mark-a-promise-as-handled">
   <a href="https://webidl.spec.whatwg.org/#mark-a-promise-as-handled">https://webidl.spec.whatwg.org/#mark-a-promise-as-handled</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-mark-a-promise-as-handled">1.3. Ongoing navigation tracking</a> <a href="#ref-for-mark-a-promise-as-handled①">(2)</a>
    <li><a href="#ref-for-mark-a-promise-as-handled②">2.3. Firing the event</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="term-for-new">
   <a href="https://webidl.spec.whatwg.org/#new">https://webidl.spec.whatwg.org/#new</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-new">1. The Navigation class</a> <a href="#ref-for-new①">(2)</a> <a href="#ref-for-new②">(3)</a>
    <li><a href="#ref-for-new③">1.5. Traversing</a>
    <li><a href="#ref-for-new④">2.3. Firing the event</a> <a href="#ref-for-new⑤">(2)</a> <a href="#ref-for-new⑥">(3)</a> <a href="#ref-for-new⑦">(4)</a> <a href="#ref-for-new⑧">(5)</a> <a href="#ref-for-new⑨">(6)</a> <a href="#ref-for-new①⓪">(7)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="term-for-reject">
   <a href="https://webidl.spec.whatwg.org/#reject">https://webidl.spec.whatwg.org/#reject</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-reject">1.3. Ongoing navigation tracking</a> <a href="#ref-for-reject①">(2)</a> <a href="#ref-for-reject②">(3)</a> <a href="#ref-for-reject③">(4)</a>
    <li><a href="#ref-for-reject④">2.3. Firing the event</a> <a href="#ref-for-reject⑤">(2)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="term-for-resolve">
   <a href="https://webidl.spec.whatwg.org/#resolve">https://webidl.spec.whatwg.org/#resolve</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-resolve">1.3. Ongoing navigation tracking</a> <a href="#ref-for-resolve①">(2)</a> <a href="#ref-for-resolve②">(3)</a> <a href="#ref-for-resolve③">(4)</a> <a href="#ref-for-resolve④">(5)</a>
    <li><a href="#ref-for-resolve⑤">2.3. Firing the event</a> <a href="#ref-for-resolve⑥">(2)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="term-for-idl-sequence">
   <a href="https://webidl.spec.whatwg.org/#idl-sequence">https://webidl.spec.whatwg.org/#idl-sequence</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-idl-sequence">1. The Navigation class</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="term-for-this">
   <a href="https://webidl.spec.whatwg.org/#this">https://webidl.spec.whatwg.org/#this</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-this">1. The Navigation class</a>
    <li><a href="#ref-for-this①">1.1. Introspecting the navigation API history entry list</a> <a href="#ref-for-this②">(2)</a> <a href="#ref-for-this③">(3)</a> <a href="#ref-for-this④">(4)</a> <a href="#ref-for-this⑤">(5)</a> <a href="#ref-for-this⑥">(6)</a> <a href="#ref-for-this⑦">(7)</a> <a href="#ref-for-this⑧">(8)</a> <a href="#ref-for-this⑨">(9)</a>
    <li><a href="#ref-for-this①⓪">1.2. The current entry</a> <a href="#ref-for-this①①">(2)</a> <a href="#ref-for-this①②">(3)</a>
    <li><a href="#ref-for-this①③">1.3. Ongoing navigation tracking</a> <a href="#ref-for-this①④">(2)</a> <a href="#ref-for-this①⑤">(3)</a> <a href="#ref-for-this①⑥">(4)</a>
    <li><a href="#ref-for-this①⑦">1.4. Navigating</a> <a href="#ref-for-this①⑧">(2)</a> <a href="#ref-for-this①⑨">(3)</a> <a href="#ref-for-this②⓪">(4)</a>
    <li><a href="#ref-for-this②①">1.5. Traversing</a> <a href="#ref-for-this②②">(2)</a> <a href="#ref-for-this②③">(3)</a> <a href="#ref-for-this②④">(4)</a> <a href="#ref-for-this②⑤">(5)</a> <a href="#ref-for-this②⑥">(6)</a> <a href="#ref-for-this②⑦">(7)</a> <a href="#ref-for-this②⑧">(8)</a> <a href="#ref-for-this②⑨">(9)</a> <a href="#ref-for-this③⓪">(10)</a> <a href="#ref-for-this③①">(11)</a> <a href="#ref-for-this③②">(12)</a>
    <li><a href="#ref-for-this③③">2.1. The NavigateEvent class</a> <a href="#ref-for-this③④">(2)</a> <a href="#ref-for-this③⑤">(3)</a> <a href="#ref-for-this③⑥">(4)</a> <a href="#ref-for-this③⑦">(5)</a> <a href="#ref-for-this③⑧">(6)</a> <a href="#ref-for-this③⑨">(7)</a> <a href="#ref-for-this④⓪">(8)</a> <a href="#ref-for-this④①">(9)</a> <a href="#ref-for-this④②">(10)</a> <a href="#ref-for-this④③">(11)</a> <a href="#ref-for-this④④">(12)</a> <a href="#ref-for-this④⑤">(13)</a> <a href="#ref-for-this④⑥">(14)</a> <a href="#ref-for-this④⑦">(15)</a>
    <li><a href="#ref-for-this④⑧">2.2. The NavigationDestination class</a> <a href="#ref-for-this④⑨">(2)</a> <a href="#ref-for-this⑤⓪">(3)</a> <a href="#ref-for-this⑤①">(4)</a> <a href="#ref-for-this⑤②">(5)</a> <a href="#ref-for-this⑤③">(6)</a> <a href="#ref-for-this⑤④">(7)</a>
    <li><a href="#ref-for-this⑤⑤">3. Navigation API history entries</a> <a href="#ref-for-this⑤⑥">(2)</a> <a href="#ref-for-this⑤⑦">(3)</a> <a href="#ref-for-this⑤⑧">(4)</a> <a href="#ref-for-this⑤⑨">(5)</a> <a href="#ref-for-this⑥⓪">(6)</a> <a href="#ref-for-this⑥①">(7)</a> <a href="#ref-for-this⑥②">(8)</a> <a href="#ref-for-this⑥③">(9)</a> <a href="#ref-for-this⑥④">(10)</a> <a href="#ref-for-this⑥⑤">(11)</a> <a href="#ref-for-this⑥⑥">(12)</a> <a href="#ref-for-this⑥⑦">(13)</a> <a href="#ref-for-this⑥⑧">(14)</a> <a href="#ref-for-this⑥⑨">(15)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="term-for-idl-undefined">
   <a href="https://webidl.spec.whatwg.org/#idl-undefined">https://webidl.spec.whatwg.org/#idl-undefined</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-idl-undefined">1. The Navigation class</a>
    <li><a href="#ref-for-idl-undefined①">1.3. Ongoing navigation tracking</a>
    <li><a href="#ref-for-idl-undefined②">2.1. The NavigateEvent class</a> <a href="#ref-for-idl-undefined③">(2)</a> <a href="#ref-for-idl-undefined④">(3)</a>
    <li><a href="#ref-for-idl-undefined⑤">2.3. Firing the event</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="term-for-wait-for-all">
   <a href="https://webidl.spec.whatwg.org/#wait-for-all">https://webidl.spec.whatwg.org/#wait-for-all</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-wait-for-all">2.3. Firing the event</a> <a href="#ref-for-wait-for-all①">(2)</a> <a href="#ref-for-wait-for-all②">(3)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="term-for-wait-for-all">
   <a href="https://webidl.spec.whatwg.org/#wait-for-all">https://webidl.spec.whatwg.org/#wait-for-all</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-wait-for-all">2.3. Firing the event</a> <a href="#ref-for-wait-for-all①">(2)</a> <a href="#ref-for-wait-for-all②">(3)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="term-for-formdata">
   <a href="https://xhr.spec.whatwg.org/#formdata">https://xhr.spec.whatwg.org/#formdata</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-formdata">2.1. The NavigateEvent class</a> <a href="#ref-for-formdata①">(2)</a> <a href="#ref-for-formdata②">(3)</a>
    <li><a href="#ref-for-formdata③">2.3. Firing the event</a>
   </ul>
  </aside>
  <h3 class="no-num no-ref heading settled" id="index-defined-elsewhere"><span class="content">Terms defined by reference</span><a class="self-link" href="#index-defined-elsewhere"></a></h3>
  <ul class="index">
   <li>
    <a data-link-type="biblio">[CONSOLE]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="term-for-report-a-warning-to-the-console">report a warning to the console</span>
    </ul>
   <li>
    <a data-link-type="biblio">[CSSOM-VIEW-1]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="term-for-scroll-to-the-beginning-of-the-document">scroll to the beginning of the document</span>
    </ul>
   <li>
    <a data-link-type="biblio">[DOM]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="term-for-abortsignal">AbortSignal</span>
     <li><span class="dfn-paneled" id="term-for-document">Document</span>
     <li><span class="dfn-paneled" id="term-for-event">Event</span>
     <li><span class="dfn-paneled" id="term-for-dictdef-eventinit">EventInit</span>
     <li><span class="dfn-paneled" id="term-for-eventtarget">EventTarget</span>
     <li><span class="dfn-paneled" id="term-for-eventdef-abortsignal-abort">abort</span>
     <li><span class="dfn-paneled" id="term-for-abortsignal-aborted">aborted</span>
     <li><span class="dfn-paneled" id="term-for-eventtarget-activation-behavior">activation behavior</span>
     <li><span class="dfn-paneled" id="term-for-dom-event-cancelable">cancelable</span>
     <li><span class="dfn-paneled" id="term-for-canceled-flag">canceled flag</span>
     <li><span class="dfn-paneled" id="term-for-concept-event-create">creating an event</span>
     <li><span class="dfn-paneled" id="term-for-concept-event-dispatch">dispatch</span>
     <li><span class="dfn-paneled" id="term-for-dispatch-flag">dispatch flag</span>
     <li><span class="dfn-paneled" id="term-for-document-element">document element</span>
     <li><span class="dfn-paneled" id="term-for-concept-event-fire">fire an event</span>
     <li><span class="dfn-paneled" id="term-for-dom-event-istrusted">isTrusted</span>
     <li><span class="dfn-paneled" id="term-for-concept-document-origin">origin</span>
     <li><span class="dfn-paneled" id="term-for-abortsignal-signal-abort">signal abort</span>
     <li><span class="dfn-paneled" id="term-for-dom-event-type">type</span>
     <li><span class="dfn-paneled" id="term-for-concept-document-url">url</span>
    </ul>
   <li>
    <a data-link-type="biblio">[ECMASCRIPT]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="term-for-sec-execution-contexts">execution context</span>
     <li><span class="dfn-paneled" id="term-for-execution-context-stack">execution context stack</span>
    </ul>
   <li>
    <a data-link-type="biblio">[EPUB-33]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="term-for-dfn-viewport">viewport</span>
    </ul>
   <li>
    <a data-link-type="biblio">[FETCH]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="term-for-fetch-scheme">fetch scheme</span>
     <li><span class="dfn-paneled" id="term-for-dom-global-fetch">fetch(input)</span>
     <li><span class="dfn-paneled" id="term-for-concept-response-status">status</span>
    </ul>
   <li>
    <a data-link-type="biblio">[FETCH-METADATA]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="term-for-http-headerdef-sec-fetch-site">sec-fetch-site</span>
    </ul>
   <li>
    <a data-link-type="biblio">[HTML]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="term-for-errorevent">ErrorEvent</span>
     <li><span class="dfn-paneled" id="term-for-eventhandler">EventHandler</span>
     <li><span class="dfn-paneled" id="term-for-structureddeserialize">StructuredDeserialize</span>
     <li><span class="dfn-paneled" id="term-for-structuredserializeforstorage">StructuredSerializeForStorage</span>
     <li><span class="dfn-paneled" id="term-for-window">Window</span>
     <li><span class="dfn-paneled" id="term-for-the-a-element">a</span>
     <li><span class="dfn-paneled" id="term-for-nav-document">active document</span>
     <li><span class="dfn-paneled" id="term-for-nav-active-history-entry">active session history entry</span>
     <li><span class="dfn-paneled" id="term-for-nav-window">active window</span>
     <li><span class="dfn-paneled" id="term-for-allowed-to-navigate">allowed by sandboxing to navigate</span>
     <li><span class="dfn-paneled" id="term-for-allowed-to-download">allowed to download</span>
     <li><span class="dfn-paneled" id="term-for-tn-append-session-history-traversal-steps">append the following session history traversal steps</span>
     <li><span class="dfn-paneled" id="term-for-apply-the-history-step">apply the history step</span>
     <li><span class="dfn-paneled" id="term-for-the-area-element">area</span>
     <li><span class="dfn-paneled" id="term-for-dom-location-assign">assign(url)</span>
     <li><span class="dfn-paneled" id="term-for-concept-document-window">associated document</span>
     <li><span class="dfn-paneled" id="term-for-dom-scrollrestoration-auto">auto</span>
     <li><span class="dfn-paneled" id="term-for-attr-fe-autofocus">autofocus</span>
     <li><span class="dfn-paneled" id="term-for-autofocus-delegate">autofocus delegate</span>
     <li><span class="dfn-paneled" id="term-for-the-body-element">body</span>
     <li><span class="dfn-paneled" id="term-for-window-bc">browsing context</span>
     <li><span class="dfn-paneled" id="term-for-the-button-element">button</span>
     <li><span class="dfn-paneled" id="term-for-can-have-its-url-rewritten">can have its url rewritten</span>
     <li><span class="dfn-paneled" id="term-for-cannot-navigate">cannot navigate</span>
     <li><span class="dfn-paneled" id="term-for-checking-if-unloading-is-user-canceled">check if unloading is user-canceled</span>
     <li><span class="dfn-paneled" id="term-for-apply-history-step-check">checkforusercancellation</span>
     <li><span class="dfn-paneled" id="term-for-clean-up-after-running-script">clean up after running script</span>
     <li><span class="dfn-paneled" id="term-for-dom-errorevent-colno">colno</span>
     <li><span class="dfn-paneled" id="term-for-completely-loaded">completely loaded</span>
     <li><span class="dfn-paneled" id="term-for-nav-current-history-entry">current session history entry</span>
     <li><span class="dfn-paneled" id="term-for-destroy-the-nested-navigable">destroy the nested navigable</span>
     <li><span class="dfn-paneled" id="term-for-dom-document-2">document <small>(for Window)</small></span>
     <li><span class="dfn-paneled" id="term-for-she-document">document <small>(for session history entry)</small></span>
     <li><span class="dfn-paneled" id="term-for-she-document-state">document state</span>
     <li><span class="dfn-paneled" id="term-for-attr-hyperlink-download">download</span>
     <li><span class="dfn-paneled" id="term-for-downloading-hyperlinks">download the hyperlink</span>
     <li><span class="dfn-paneled" id="term-for-entry-list">entry list</span>
     <li><span class="dfn-paneled" id="term-for-dom-errorevent-error">error</span>
     <li><span class="dfn-paneled" id="term-for-event-handlers">event handler</span>
     <li><span class="dfn-paneled" id="term-for-event-handler-event-type">event handler event type</span>
     <li><span class="dfn-paneled" id="term-for-event-handler-idl-attributes">event handler idl attribute</span>
     <li><span class="dfn-paneled" id="term-for-exceptions-enabled">exceptionsenabled</span>
     <li><span class="dfn-paneled" id="term-for-dom-errorevent-filename">filename</span>
     <li><span class="dfn-paneled" id="term-for-finalize-a-cross-document-navigation">finalize a cross-document navigation</span>
     <li><span class="dfn-paneled" id="term-for-focus-fixup-rule">focus fixup rule</span>
     <li><span class="dfn-paneled" id="term-for-focus-update-steps">focus update steps</span>
     <li><span class="dfn-paneled" id="term-for-focusing-steps">focusing steps</span>
     <li><span class="dfn-paneled" id="term-for-following-hyperlinks-2">follow the hyperlink</span>
     <li><span class="dfn-paneled" id="term-for-the-form-element">form</span>
     <li><span class="dfn-paneled" id="term-for-fully-active">fully active</span>
     <li><span class="dfn-paneled" id="term-for-get-all-navigables-whose-current-session-history-entry-will-change-or-reload">get all navigables whose current session history entry will change or reload</span>
     <li><span class="dfn-paneled" id="term-for-getting-session-history-entries">get session history entries</span>
     <li><span class="dfn-paneled" id="term-for-getting-the-target-history-entry">get the target history entry</span>
     <li><span class="dfn-paneled" id="term-for-event-hashchange">hashchange</span>
     <li><span class="dfn-paneled" id="term-for-uhus-historyhandling">historyhandling <small>(for URL and history update steps)</small></span>
     <li><span class="dfn-paneled" id="term-for-navigation-hh">historyhandling <small>(for navigate)</small></span>
     <li><span class="dfn-paneled" id="term-for-dom-location-href">href</span>
     <li><span class="dfn-paneled" id="term-for-in-parallel">in parallel</span>
     <li><span class="dfn-paneled" id="term-for-the-indicated-part-of-the-document">indicated part</span>
     <li><span class="dfn-paneled" id="term-for-apply-history-step-initiator">initiatortocheck</span>
     <li><span class="dfn-paneled" id="term-for-the-input-element">input</span>
     <li><span class="dfn-paneled" id="term-for-input-activation-behavior">input activation behavior</span>
     <li><span class="dfn-paneled" id="term-for-is-initial-about:blank">is initial about:blank</span>
     <li><span class="dfn-paneled" id="term-for-dom-errorevent-lineno">lineno</span>
     <li><span class="dfn-paneled" id="term-for-dom-errorevent-message">message</span>
     <li><span class="dfn-paneled" id="term-for-navigable">navigable</span>
     <li><span class="dfn-paneled" id="term-for-window-navigable">navigable <small>(for Window)</small></span>
     <li><span class="dfn-paneled" id="term-for-navigate">navigate</span>
     <li><span class="dfn-paneled" id="term-for-navigate-fragid">navigate to a fragment</span>
     <li><span class="dfn-paneled" id="term-for-navigation-and-traversal-task-source">navigation and traversal task source</span>
     <li><span class="dfn-paneled" id="term-for-navigation-id">navigation id</span>
     <li><span class="dfn-paneled" id="term-for-node-navigable">node navigable</span>
     <li><span class="dfn-paneled" id="term-for-ongoing-navigation">ongoing navigation</span>
     <li><span class="dfn-paneled" id="term-for-concept-origin-opaque">opaque origin</span>
     <li><span class="dfn-paneled" id="term-for-dom-document-open">open(unused1, unused2)</span>
     <li><span class="dfn-paneled" id="term-for-document-state-origin">origin <small>(for document state)</small></span>
     <li><span class="dfn-paneled" id="term-for-concept-settings-object-origin">origin <small>(for environment settings object)</small></span>
     <li><span class="dfn-paneled" id="term-for-event-pageshow">pageshow</span>
     <li><span class="dfn-paneled" id="term-for-parse-a-url">parse a url</span>
     <li><span class="dfn-paneled" id="term-for-perform-a-microtask-checkpoint">perform a microtask checkpoint</span>
     <li><span class="dfn-paneled" id="term-for-plan-to-navigate">plan to navigate</span>
     <li><span class="dfn-paneled" id="term-for-event-popstate">popstate</span>
     <li><span class="dfn-paneled" id="term-for-prepare-to-run-script">prepare to run script</span>
     <li><span class="dfn-paneled" id="term-for-hh-push">push</span>
     <li><span class="dfn-paneled" id="term-for-dom-history-pushstate">pushState(data, unused, url)</span>
     <li><span class="dfn-paneled" id="term-for-queue-a-global-task">queue a global task</span>
     <li><span class="dfn-paneled" id="term-for-reactivate-a-document">reactivate</span>
     <li><span class="dfn-paneled" id="term-for-policy-container-referrer-policy">referrer policy</span>
     <li><span class="dfn-paneled" id="term-for-concept-relevant-global">relevant global object</span>
     <li><span class="dfn-paneled" id="term-for-concept-relevant-realm">relevant realm</span>
     <li><span class="dfn-paneled" id="term-for-relevant-settings-object">relevant settings object</span>
     <li><span class="dfn-paneled" id="term-for-reload">reload</span>
     <li><span class="dfn-paneled" id="term-for-hh-replace">replace</span>
     <li><span class="dfn-paneled" id="term-for-dom-history-replacestate">replaceState(data, unused, url)</span>
     <li><span class="dfn-paneled" id="term-for-report-the-exception">report an exception</span>
     <li><span class="dfn-paneled" id="term-for-document-state-request-referrer-policy">request referrer policy</span>
     <li><span class="dfn-paneled" id="term-for-restorable-scrollable-regions">restorable scrollable regions</span>
     <li><span class="dfn-paneled" id="term-for-restore-persisted-state">restore persisted state</span>
     <li><span class="dfn-paneled" id="term-for-restore-the-history-object-state">restore the history state object</span>
     <li><span class="dfn-paneled" id="term-for-resulting-url-record">resulting url record</span>
     <li><span class="dfn-paneled" id="term-for-same-origin">same origin</span>
     <li><span class="dfn-paneled" id="term-for-same-origin-domain">same origin-domain</span>
     <li><span class="dfn-paneled" id="term-for-she-scroll-position">scroll position data</span>
     <li><span class="dfn-paneled" id="term-for-she-scroll-restoration-mode">scroll restoration mode</span>
     <li><span class="dfn-paneled" id="term-for-scroll-to-the-fragment-identifier">scroll to the fragment</span>
     <li><span class="dfn-paneled" id="term-for-sequential-focus-navigation-starting-point">sequential focus navigation starting point</span>
     <li><span class="dfn-paneled" id="term-for-serializable-objects">serializable objects</span>
     <li><span class="dfn-paneled" id="term-for-serialized-state">serialized state</span>
     <li><span class="dfn-paneled" id="term-for-uhus-serializeddata">serializeddata</span>
     <li><span class="dfn-paneled" id="term-for-session-history-entry">session history entry</span>
     <li><span class="dfn-paneled" id="term-for-tn-session-history-traversal-queue">session history traversal queue</span>
     <li><span class="dfn-paneled" id="term-for-dom-sessionstorage">sessionStorage</span>
     <li><span class="dfn-paneled" id="term-for-shared-history-push/replace-state-steps">shared history push/replace state steps</span>
     <li><span class="dfn-paneled" id="term-for-snapshotting-source-snapshot-params">snapshot source snapshot params</span>
     <li><span class="dfn-paneled" id="term-for-apply-history-step-source-snapshot">sourcesnapshotparams</span>
     <li><span class="dfn-paneled" id="term-for-dom-history-state">state</span>
     <li><span class="dfn-paneled" id="term-for-she-step">step</span>
     <li><span class="dfn-paneled" id="term-for-dom-window-stop">stop()</span>
     <li><span class="dfn-paneled" id="term-for-submit-body">submit as entity body</span>
     <li><span class="dfn-paneled" id="term-for-attr-button-type-submit-state">submit button</span>
     <li><span class="dfn-paneled" id="term-for-concept-form-submit">submitted</span>
     <li><span class="dfn-paneled" id="term-for-the-body-element-2">the body element</span>
     <li><span class="dfn-paneled" id="term-for-top-level-traversable">top-level traversable</span>
     <li><span class="dfn-paneled" id="term-for-transient-activation">transient activation</span>
     <li><span class="dfn-paneled" id="term-for-nav-traversable">traversable navigable</span>
     <li><span class="dfn-paneled" id="term-for-traverse-the-history-by-a-delta">traverse the history by a delta</span>
     <li><span class="dfn-paneled" id="term-for-event-unhandledrejection">unhandledrejection</span>
     <li><span class="dfn-paneled" id="term-for-unload-a-document">unload</span>
     <li><span class="dfn-paneled" id="term-for-unload-counter">unload counter</span>
     <li><span class="dfn-paneled" id="term-for-update-document-for-history-step-application">update document for history step application</span>
     <li><span class="dfn-paneled" id="term-for-changing-nav-continuation-update-only">update-only</span>
     <li><span class="dfn-paneled" id="term-for-she-url">url</span>
     <li><span class="dfn-paneled" id="term-for-url-and-history-update-steps">url and history update steps</span>
    </ul>
   <li>
    <a data-link-type="biblio">[INFRA]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="term-for-list-append">append</span>
     <li><span class="dfn-paneled" id="term-for-assert">assert</span>
     <li><span class="dfn-paneled" id="term-for-list-clone">clone</span>
     <li><span class="dfn-paneled" id="term-for-list-contain">contain</span>
     <li><span class="dfn-paneled" id="term-for-iteration-continue">continue</span>
     <li><span class="dfn-paneled" id="term-for-map-exists">exist</span>
     <li><span class="dfn-paneled" id="term-for-list-iterate">for each</span>
     <li><span class="dfn-paneled" id="term-for-string-is">is</span>
     <li><span class="dfn-paneled" id="term-for-list-is-empty">is empty</span>
     <li><span class="dfn-paneled" id="term-for-list-item">item <small>(for list)</small></span>
     <li><span class="dfn-paneled" id="term-for-struct-item">item <small>(for struct)</small></span>
     <li><span class="dfn-paneled" id="term-for-list">list</span>
     <li><span class="dfn-paneled" id="term-for-ordered-map">map</span>
     <li><span class="dfn-paneled" id="term-for-list-remove">remove <small>(for list)</small></span>
     <li><span class="dfn-paneled" id="term-for-map-remove">remove <small>(for map)</small></span>
     <li><span class="dfn-paneled" id="term-for-list-size">size</span>
     <li><span class="dfn-paneled" id="term-for-string">string</span>
     <li><span class="dfn-paneled" id="term-for-struct">struct</span>
     <li><span class="dfn-paneled" id="term-for-user-agent">user agent</span>
     <li><span class="dfn-paneled" id="term-for-iteration-while">while</span>
    </ul>
   <li>
    <a data-link-type="biblio">[REFERRER-POLICY]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="term-for-referrer-policy-no-referrer">"no-referrer"</span>
     <li><span class="dfn-paneled" id="term-for-referrer-policy-origin">"origin"</span>
    </ul>
   <li>
    <a data-link-type="biblio">[URL]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="term-for-concept-url-equals">equal</span>
     <li><span class="dfn-paneled" id="term-for-url-equals-exclude-fragments">exclude fragments</span>
     <li><span class="dfn-paneled" id="term-for-concept-url-fragment">fragment</span>
     <li><span class="dfn-paneled" id="term-for-concept-url-scheme">scheme</span>
     <li><span class="dfn-paneled" id="term-for-concept-url">url</span>
     <li><span class="dfn-paneled" id="term-for-concept-url-serializer">url serializer</span>
    </ul>
   <li>
    <a data-link-type="biblio">[WebCryptoAPI]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="term-for-dfn-generate-a-random-uuid">generate a random uuid</span>
    </ul>
   <li>
    <a data-link-type="biblio">[WEBIDL]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="term-for-aborterror">AbortError</span>
     <li><span class="dfn-paneled" id="term-for-idl-ArrayBuffer">ArrayBuffer</span>
     <li><span class="dfn-paneled" id="term-for-idl-DOMException">DOMException</span>
     <li><span class="dfn-paneled" id="term-for-idl-DOMString">DOMString</span>
     <li><span class="dfn-paneled" id="term-for-Exposed">Exposed</span>
     <li><span class="dfn-paneled" id="term-for-invalidstateerror">InvalidStateError</span>
     <li><span class="dfn-paneled" id="term-for-notsupportederror">NotSupportedError</span>
     <li><span class="dfn-paneled" id="term-for-idl-promise">Promise</span>
     <li><span class="dfn-paneled" id="term-for-Replaceable">Replaceable</span>
     <li><span class="dfn-paneled" id="term-for-securityerror">SecurityError</span>
     <li><span class="dfn-paneled" id="term-for-syntaxerror">SyntaxError</span>
     <li><span class="dfn-paneled" id="term-for-idl-USVString">USVString</span>
     <li><span class="dfn-paneled" id="term-for-a-new-promise">a new promise</span>
     <li><span class="dfn-paneled" id="term-for-a-promise-rejected-with">a promise rejected with</span>
     <li><span class="dfn-paneled" id="term-for-a-promise-resolved-with">a promise resolved with</span>
     <li><span class="dfn-paneled" id="term-for-idl-any">any</span>
     <li><span class="dfn-paneled" id="term-for-idl-boolean">boolean</span>
     <li><span class="dfn-paneled" id="term-for-invoke-a-callback-function">invoke</span>
     <li><span class="dfn-paneled" id="term-for-idl-long-long">long long</span>
     <li><span class="dfn-paneled" id="term-for-mark-a-promise-as-handled">mark as handled</span>
     <li><span class="dfn-paneled" id="term-for-new">new</span>
     <li><span class="dfn-paneled" id="term-for-reject">reject</span>
     <li><span class="dfn-paneled" id="term-for-resolve">resolve</span>
     <li><span class="dfn-paneled" id="term-for-idl-sequence">sequence</span>
     <li><span class="dfn-paneled" id="term-for-this">this</span>
     <li><span class="dfn-paneled" id="term-for-idl-undefined">undefined</span>
     <li><span class="dfn-paneled" id="term-for-wait-for-all">wait for all</span>
     <li><span class="dfn-paneled" id="term-for-wait-for-all①">waiting for all</span>
    </ul>
   <li>
    <a data-link-type="biblio">[XHR]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="term-for-formdata">FormData</span>
    </ul>
  </ul>
  <h2 class="no-num no-ref heading settled" id="references"><span class="content">References</span><a class="self-link" href="#references"></a></h2>
  <h3 class="no-num no-ref heading settled" id="normative"><span class="content">Normative References</span><a class="self-link" href="#normative"></a></h3>
  <dl>
   <dt id="biblio-console">[CONSOLE]
   <dd>Dominic Farolino; Robert Kowalski; Terin Stock. <a href="https://console.spec.whatwg.org/"><cite>Console Standard</cite></a>. Living Standard. URL: <a href="https://console.spec.whatwg.org/">https://console.spec.whatwg.org/</a>
   <dt id="biblio-cssom-view-1">[CSSOM-VIEW-1]
   <dd>Simon Pieters. <a href="https://drafts.csswg.org/cssom-view/"><cite>CSSOM View Module</cite></a>. URL: <a href="https://drafts.csswg.org/cssom-view/">https://drafts.csswg.org/cssom-view/</a>
   <dt id="biblio-dom">[DOM]
   <dd>Anne van Kesteren. <a href="https://dom.spec.whatwg.org/"><cite>DOM Standard</cite></a>. Living Standard. URL: <a href="https://dom.spec.whatwg.org/">https://dom.spec.whatwg.org/</a>
   <dt id="biblio-epub-33">[EPUB-33]
   <dd>Matt Garrish; Ivan Herman; Dave Cramer. <a href="https://w3c.github.io/epub-specs/epub33/core/"><cite>EPUB 3.3</cite></a>. URL: <a href="https://w3c.github.io/epub-specs/epub33/core/">https://w3c.github.io/epub-specs/epub33/core/</a>
   <dt id="biblio-fetch">[FETCH]
   <dd>Anne van Kesteren. <a href="https://fetch.spec.whatwg.org/"><cite>Fetch Standard</cite></a>. Living Standard. URL: <a href="https://fetch.spec.whatwg.org/">https://fetch.spec.whatwg.org/</a>
   <dt id="biblio-html">[HTML]
   <dd>Anne van Kesteren; et al. <a href="https://html.spec.whatwg.org/multipage/"><cite>HTML Standard</cite></a>. Living Standard. URL: <a href="https://html.spec.whatwg.org/multipage/">https://html.spec.whatwg.org/multipage/</a>
   <dt id="biblio-infra">[INFRA]
   <dd>Anne van Kesteren; Domenic Denicola. <a href="https://infra.spec.whatwg.org/"><cite>Infra Standard</cite></a>. Living Standard. URL: <a href="https://infra.spec.whatwg.org/">https://infra.spec.whatwg.org/</a>
   <dt id="biblio-referrer-policy">[REFERRER-POLICY]
   <dd>Jochen Eisinger; Emily Stark. <a href="https://w3c.github.io/webappsec-referrer-policy/"><cite>Referrer Policy</cite></a>. URL: <a href="https://w3c.github.io/webappsec-referrer-policy/">https://w3c.github.io/webappsec-referrer-policy/</a>
   <dt id="biblio-url">[URL]
   <dd>Anne van Kesteren. <a href="https://url.spec.whatwg.org/"><cite>URL Standard</cite></a>. Living Standard. URL: <a href="https://url.spec.whatwg.org/">https://url.spec.whatwg.org/</a>
   <dt id="biblio-webcryptoapi">[WebCryptoAPI]
   <dd>Mark Watson. <a href="https://w3c.github.io/webcrypto/"><cite>Web Cryptography API</cite></a>. URL: <a href="https://w3c.github.io/webcrypto/">https://w3c.github.io/webcrypto/</a>
   <dt id="biblio-webidl">[WEBIDL]
   <dd>Edgar Chen; Timothy Gu. <a href="https://webidl.spec.whatwg.org/"><cite>Web IDL Standard</cite></a>. Living Standard. URL: <a href="https://webidl.spec.whatwg.org/">https://webidl.spec.whatwg.org/</a>
   <dt id="biblio-xhr">[XHR]
   <dd>Anne van Kesteren. <a href="https://xhr.spec.whatwg.org/"><cite>XMLHttpRequest Standard</cite></a>. Living Standard. URL: <a href="https://xhr.spec.whatwg.org/">https://xhr.spec.whatwg.org/</a>
  </dl>
  <h3 class="no-num no-ref heading settled" id="informative"><span class="content">Informative References</span><a class="self-link" href="#informative"></a></h3>
  <dl>
   <dt id="biblio-css-scroll-anchoring-1">[CSS-SCROLL-ANCHORING-1]
   <dd>Tab Atkins Jr.. <a href="https://drafts.csswg.org/css-scroll-anchoring/"><cite>CSS Scroll Anchoring Module Level 1</cite></a>. URL: <a href="https://drafts.csswg.org/css-scroll-anchoring/">https://drafts.csswg.org/css-scroll-anchoring/</a>
   <dt id="biblio-ecmascript">[ECMASCRIPT]
   <dd><a href="https://tc39.es/ecma262/multipage/"><cite>ECMAScript Language Specification</cite></a>. URL: <a href="https://tc39.es/ecma262/multipage/">https://tc39.es/ecma262/multipage/</a>
   <dt id="biblio-fetch-metadata">[FETCH-METADATA]
   <dd>Mike West. <a href="https://w3c.github.io/webappsec-fetch-metadata/"><cite>Fetch Metadata Request Headers</cite></a>. URL: <a href="https://w3c.github.io/webappsec-fetch-metadata/">https://w3c.github.io/webappsec-fetch-metadata/</a>
  </dl>
  <h2 class="no-num no-ref heading settled" id="idl-index"><span class="content">IDL Index</span><a class="self-link" href="#idl-index"></a></h2>
<pre class="idl highlight def"><c- b>partial</c-> <c- b>interface</c-> <a class="idl-code" data-link-type="interface" href="https://html.spec.whatwg.org/multipage/nav-history-apis.html#window"><c- g>Window</c-></a> {
  [<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Replaceable"><c- g>Replaceable</c-></a>] <c- b>readonly</c-> <c- b>attribute</c-> <a data-link-type="idl-name" href="#navigation"><c- n>Navigation</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="Navigation" href="#dom-window-navigation"><c- g>navigation</c-></a>;
};

[<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Exposed"><c- g>Exposed</c-></a>=<c- n>Window</c->]
<c- b>interface</c-> <a href="#navigation"><code><c- g>Navigation</c-></code></a> : <a data-link-type="idl-name" href="https://dom.spec.whatwg.org/#eventtarget"><c- n>EventTarget</c-></a> {
  <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#idl-sequence"><c- b>sequence</c-></a>&lt;<a data-link-type="idl-name" href="#navigationhistoryentry"><c- n>NavigationHistoryEntry</c-></a>> <a class="idl-code" data-link-type="method" href="#dom-navigation-entries"><c- g>entries</c-></a>();
  <c- b>readonly</c-> <c- b>attribute</c-> <a data-link-type="idl-name" href="#navigationhistoryentry"><c- n>NavigationHistoryEntry</c-></a>? <a class="idl-code" data-link-type="attribute" data-readonly data-type="NavigationHistoryEntry?" href="#dom-navigation-currententry"><c- g>currentEntry</c-></a>;
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-undefined"><c- b>undefined</c-></a> <a class="idl-code" data-link-type="method" href="#dom-navigation-updatecurrententry"><c- g>updateCurrentEntry</c-></a>(<a data-link-type="idl-name" href="#dictdef-navigationupdatecurrententryoptions"><c- n>NavigationUpdateCurrentEntryOptions</c-></a> <a href="#dom-navigation-updatecurrententry-options-options"><code><c- g>options</c-></code></a>);
  <c- b>readonly</c-> <c- b>attribute</c-> <a data-link-type="idl-name" href="#navigationtransition"><c- n>NavigationTransition</c-></a>? <a class="idl-code" data-link-type="attribute" data-readonly data-type="NavigationTransition?" href="#dom-navigation-transition"><c- g>transition</c-></a>;

  <c- b>readonly</c-> <c- b>attribute</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-boolean"><c- b>boolean</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="boolean" href="#dom-navigation-cangoback"><c- g>canGoBack</c-></a>;
  <c- b>readonly</c-> <c- b>attribute</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-boolean"><c- b>boolean</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="boolean" href="#dom-navigation-cangoforward"><c- g>canGoForward</c-></a>;

  <a data-link-type="idl-name" href="#dictdef-navigationresult"><c- n>NavigationResult</c-></a> <a class="idl-code" data-link-type="method" href="#dom-navigation-navigate"><c- g>navigate</c-></a>(<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-USVString"><c- b>USVString</c-></a> <a href="#dom-navigation-navigate-url-options-url"><code><c- g>url</c-></code></a>, <c- b>optional</c-> <a data-link-type="idl-name" href="#dictdef-navigationnavigateoptions"><c- n>NavigationNavigateOptions</c-></a> <a href="#dom-navigation-navigate-url-options-options"><code><c- g>options</c-></code></a> = {});
  <a data-link-type="idl-name" href="#dictdef-navigationresult"><c- n>NavigationResult</c-></a> <a class="idl-code" data-link-type="method" href="#dom-navigation-reload"><c- g>reload</c-></a>(<c- b>optional</c-> <a data-link-type="idl-name" href="#dictdef-navigationreloadoptions"><c- n>NavigationReloadOptions</c-></a> <a href="#dom-navigation-reload-options-options"><code><c- g>options</c-></code></a> = {});

  <a data-link-type="idl-name" href="#dictdef-navigationresult"><c- n>NavigationResult</c-></a> <a class="idl-code" data-link-type="method" href="#dom-navigation-traverseto"><c- g>traverseTo</c-></a>(<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString"><c- b>DOMString</c-></a> <a href="#dom-navigation-traverseto-key-options-key"><code><c- g>key</c-></code></a>, <c- b>optional</c-> <a data-link-type="idl-name" href="#dictdef-navigationoptions"><c- n>NavigationOptions</c-></a> <a href="#dom-navigation-traverseto-key-options-options"><code><c- g>options</c-></code></a> = {});
  <a data-link-type="idl-name" href="#dictdef-navigationresult"><c- n>NavigationResult</c-></a> <a class="idl-code" data-link-type="method" href="#dom-navigation-back"><c- g>back</c-></a>(<c- b>optional</c-> <a data-link-type="idl-name" href="#dictdef-navigationoptions"><c- n>NavigationOptions</c-></a> <a href="#dom-navigation-back-options-options"><code><c- g>options</c-></code></a> = {});
  <a data-link-type="idl-name" href="#dictdef-navigationresult"><c- n>NavigationResult</c-></a> <a class="idl-code" data-link-type="method" href="#dom-navigation-forward"><c- g>forward</c-></a>(<c- b>optional</c-> <a data-link-type="idl-name" href="#dictdef-navigationoptions"><c- n>NavigationOptions</c-></a> <a href="#dom-navigation-forward-options-options"><code><c- g>options</c-></code></a> = {});

  <c- b>attribute</c-> <a data-link-type="idl-name" href="https://html.spec.whatwg.org/multipage/webappapis.html#eventhandler"><c- n>EventHandler</c-></a> <a class="idl-code" data-link-type="attribute" data-type="EventHandler" href="#dom-navigation-onnavigate"><c- g>onnavigate</c-></a>;
  <c- b>attribute</c-> <a data-link-type="idl-name" href="https://html.spec.whatwg.org/multipage/webappapis.html#eventhandler"><c- n>EventHandler</c-></a> <a class="idl-code" data-link-type="attribute" data-type="EventHandler" href="#dom-navigation-onnavigatesuccess"><c- g>onnavigatesuccess</c-></a>;
  <c- b>attribute</c-> <a data-link-type="idl-name" href="https://html.spec.whatwg.org/multipage/webappapis.html#eventhandler"><c- n>EventHandler</c-></a> <a class="idl-code" data-link-type="attribute" data-type="EventHandler" href="#dom-navigation-onnavigateerror"><c- g>onnavigateerror</c-></a>;
  <c- b>attribute</c-> <a data-link-type="idl-name" href="https://html.spec.whatwg.org/multipage/webappapis.html#eventhandler"><c- n>EventHandler</c-></a> <a class="idl-code" data-link-type="attribute" data-type="EventHandler" href="#dom-navigation-oncurrententrychange"><c- g>oncurrententrychange</c-></a>;
};

<c- b>dictionary</c-> <a href="#dictdef-navigationupdatecurrententryoptions"><code><c- g>NavigationUpdateCurrentEntryOptions</c-></code></a> {
  <c- b>required</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-any"><c- b>any</c-></a> <a data-type="any " href="#dom-navigationupdatecurrententryoptions-state"><code><c- g>state</c-></code></a>;
};

<c- b>dictionary</c-> <a href="#dictdef-navigationoptions"><code><c- g>NavigationOptions</c-></code></a> {
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-any"><c- b>any</c-></a> <a data-type="any " href="#dom-navigationoptions-info"><code><c- g>info</c-></code></a>;
};

<c- b>dictionary</c-> <a href="#dictdef-navigationnavigateoptions"><code><c- g>NavigationNavigateOptions</c-></code></a> : <a data-link-type="idl-name" href="#dictdef-navigationoptions"><c- n>NavigationOptions</c-></a> {
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-any"><c- b>any</c-></a> <a data-type="any " href="#dom-navigationnavigateoptions-state"><code><c- g>state</c-></code></a>;
  <a data-link-type="idl-name" href="#enumdef-navigationhistorybehavior"><c- n>NavigationHistoryBehavior</c-></a> <a data-default="&quot;auto&quot;" data-type="NavigationHistoryBehavior " href="#dom-navigationnavigateoptions-history"><code><c- g>history</c-></code></a> = "auto";
};

<c- b>dictionary</c-> <a href="#dictdef-navigationreloadoptions"><code><c- g>NavigationReloadOptions</c-></code></a> : <a data-link-type="idl-name" href="#dictdef-navigationoptions"><c- n>NavigationOptions</c-></a> {
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-any"><c- b>any</c-></a> <a data-type="any " href="#dom-navigationreloadoptions-state"><code><c- g>state</c-></code></a>;
};

<c- b>dictionary</c-> <a href="#dictdef-navigationresult"><code><c- g>NavigationResult</c-></code></a> {
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise"><c- b>Promise</c-></a>&lt;<a data-link-type="idl-name" href="#navigationhistoryentry"><c- n>NavigationHistoryEntry</c-></a>> <a data-type="Promise<NavigationHistoryEntry> " href="#dom-navigationresult-committed"><code><c- g>committed</c-></code></a>;
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise"><c- b>Promise</c-></a>&lt;<a data-link-type="idl-name" href="#navigationhistoryentry"><c- n>NavigationHistoryEntry</c-></a>> <a data-type="Promise<NavigationHistoryEntry> " href="#dom-navigationresult-finished"><code><c- g>finished</c-></code></a>;
};

<c- b>enum</c-> <a href="#enumdef-navigationhistorybehavior"><code><c- g>NavigationHistoryBehavior</c-></code></a> {
  <a href="#dom-navigationhistorybehavior-auto"><code><c- s>"auto"</c-></code></a>,
  <a href="#dom-navigationhistorybehavior-push"><code><c- s>"push"</c-></code></a>,
  <a href="#dom-navigationhistorybehavior-replace"><code><c- s>"replace"</c-></code></a>
};

[<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Exposed"><c- g>Exposed</c-></a>=<c- n>Window</c->]
<c- b>interface</c-> <a href="#navigationcurrententrychangeevent"><code><c- g>NavigationCurrentEntryChangeEvent</c-></code></a> : <a data-link-type="idl-name" href="https://dom.spec.whatwg.org/#event"><c- n>Event</c-></a> {
  <a href="#dom-navigationcurrententrychangeevent-navigationcurrententrychangeevent"><code><c- g>constructor</c-></code></a>(<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString"><c- b>DOMString</c-></a> <a href="#dom-navigationcurrententrychangeevent-navigationcurrententrychangeevent-type-eventinit-type"><code><c- g>type</c-></code></a>, <a data-link-type="idl-name" href="#dictdef-navigationcurrententrychangeeventinit"><c- n>NavigationCurrentEntryChangeEventInit</c-></a> <a href="#dom-navigationcurrententrychangeevent-navigationcurrententrychangeevent-type-eventinit-eventinit"><code><c- g>eventInit</c-></code></a>);

  <c- b>readonly</c-> <c- b>attribute</c-> <a data-link-type="idl-name" href="#enumdef-navigationtype"><c- n>NavigationType</c-></a>? <a data-readonly data-type="NavigationType?" href="#dom-navigationcurrententrychangeevent-navigationtype"><code><c- g>navigationType</c-></code></a>;
  <c- b>readonly</c-> <c- b>attribute</c-> <a data-link-type="idl-name" href="#navigationhistoryentry"><c- n>NavigationHistoryEntry</c-></a> <a data-readonly data-type="NavigationHistoryEntry" href="#dom-navigationcurrententrychangeevent-from"><code><c- g>from</c-></code></a>;
};

<c- b>dictionary</c-> <a href="#dictdef-navigationcurrententrychangeeventinit"><code><c- g>NavigationCurrentEntryChangeEventInit</c-></code></a> : <a data-link-type="idl-name" href="https://dom.spec.whatwg.org/#dictdef-eventinit"><c- n>EventInit</c-></a> {
  <a data-link-type="idl-name" href="#enumdef-navigationtype"><c- n>NavigationType</c-></a>? <a data-default="null" data-type="NavigationType? " href="#dom-navigationcurrententrychangeeventinit-navigationtype"><code><c- g>navigationType</c-></code></a> = <c- b>null</c->;
  <c- b>required</c-> <a data-link-type="idl-name" href="#navigationhistoryentry"><c- n>NavigationHistoryEntry</c-></a> <a data-type="NavigationHistoryEntry " href="#dom-navigationcurrententrychangeeventinit-destination"><code><c- g>destination</c-></code></a>;
};

[<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Exposed"><c- g>Exposed</c-></a>=<c- n>Window</c->]
<c- b>interface</c-> <a href="#navigationtransition"><code><c- g>NavigationTransition</c-></code></a> {
  <c- b>readonly</c-> <c- b>attribute</c-> <a data-link-type="idl-name" href="#enumdef-navigationtype"><c- n>NavigationType</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="NavigationType" href="#dom-navigationtransition-navigationtype"><c- g>navigationType</c-></a>;
  <c- b>readonly</c-> <c- b>attribute</c-> <a data-link-type="idl-name" href="#navigationhistoryentry"><c- n>NavigationHistoryEntry</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="NavigationHistoryEntry" href="#dom-navigationtransition-from"><c- g>from</c-></a>;
  <c- b>readonly</c-> <c- b>attribute</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise"><c- b>Promise</c-></a>&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-undefined"><c- b>undefined</c-></a>> <a class="idl-code" data-link-type="attribute" data-readonly data-type="Promise<undefined>" href="#dom-navigationtransition-finished"><c- g>finished</c-></a>;
};

[<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Exposed"><c- g>Exposed</c-></a>=<c- n>Window</c->]
<c- b>interface</c-> <a href="#navigateevent"><code><c- g>NavigateEvent</c-></code></a> : <a data-link-type="idl-name" href="https://dom.spec.whatwg.org/#event"><c- n>Event</c-></a> {
  <a href="#dom-navigateevent-navigateevent"><code><c- g>constructor</c-></code></a>(<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString"><c- b>DOMString</c-></a> <a href="#dom-navigateevent-navigateevent-type-eventinit-type"><code><c- g>type</c-></code></a>, <a data-link-type="idl-name" href="#dictdef-navigateeventinit"><c- n>NavigateEventInit</c-></a> <a href="#dom-navigateevent-navigateevent-type-eventinit-eventinit"><code><c- g>eventInit</c-></code></a>);

  <c- b>readonly</c-> <c- b>attribute</c-> <a data-link-type="idl-name" href="#enumdef-navigationtype"><c- n>NavigationType</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="NavigationType" href="#dom-navigateevent-navigationtype"><c- g>navigationType</c-></a>;
  <c- b>readonly</c-> <c- b>attribute</c-> <a data-link-type="idl-name" href="#navigationdestination"><c- n>NavigationDestination</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="NavigationDestination" href="#dom-navigateevent-destination"><c- g>destination</c-></a>;
  <c- b>readonly</c-> <c- b>attribute</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-boolean"><c- b>boolean</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="boolean" href="#dom-navigateevent-canintercept"><c- g>canIntercept</c-></a>;
  <c- b>readonly</c-> <c- b>attribute</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-boolean"><c- b>boolean</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="boolean" href="#dom-navigateevent-userinitiated"><c- g>userInitiated</c-></a>;
  <c- b>readonly</c-> <c- b>attribute</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-boolean"><c- b>boolean</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="boolean" href="#dom-navigateevent-hashchange"><c- g>hashChange</c-></a>;
  <c- b>readonly</c-> <c- b>attribute</c-> <a data-link-type="idl-name" href="https://dom.spec.whatwg.org/#abortsignal"><c- n>AbortSignal</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="AbortSignal" href="#dom-navigateevent-signal"><c- g>signal</c-></a>;
  <c- b>readonly</c-> <c- b>attribute</c-> <a data-link-type="idl-name" href="https://xhr.spec.whatwg.org/#formdata"><c- n>FormData</c-></a>? <a class="idl-code" data-link-type="attribute" data-readonly data-type="FormData?" href="#dom-navigateevent-formdata"><c- g>formData</c-></a>;
  <c- b>readonly</c-> <c- b>attribute</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString"><c- b>DOMString</c-></a>? <a class="idl-code" data-link-type="attribute" data-readonly data-type="DOMString?" href="#dom-navigateevent-downloadrequest"><c- g>downloadRequest</c-></a>;
  <c- b>readonly</c-> <c- b>attribute</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-any"><c- b>any</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="any" href="#dom-navigateevent-info"><c- g>info</c-></a>;

  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-undefined"><c- b>undefined</c-></a> <a class="idl-code" data-link-type="method" href="#dom-navigateevent-intercept"><c- g>intercept</c-></a>(<c- b>optional</c-> <a data-link-type="idl-name" href="#dictdef-navigationinterceptoptions"><c- n>NavigationInterceptOptions</c-></a> <a href="#dom-navigateevent-intercept-options-options"><code><c- g>options</c-></code></a> = {});
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-undefined"><c- b>undefined</c-></a> <a class="idl-code" data-link-type="method" href="#dom-navigateevent-scroll"><c- g>scroll</c-></a>();
};

<c- b>dictionary</c-> <a href="#dictdef-navigateeventinit"><code><c- g>NavigateEventInit</c-></code></a> : <a data-link-type="idl-name" href="https://dom.spec.whatwg.org/#dictdef-eventinit"><c- n>EventInit</c-></a> {
  <a data-link-type="idl-name" href="#enumdef-navigationtype"><c- n>NavigationType</c-></a> <a data-default="&quot;push&quot;" data-type="NavigationType " href="#dom-navigateeventinit-navigationtype"><code><c- g>navigationType</c-></code></a> = "push";
  <c- b>required</c-> <a data-link-type="idl-name" href="#navigationdestination"><c- n>NavigationDestination</c-></a> <a data-type="NavigationDestination " href="#dom-navigateeventinit-destination"><code><c- g>destination</c-></code></a>;
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-boolean"><c- b>boolean</c-></a> <a data-default="false" data-type="boolean " href="#dom-navigateeventinit-canintercept"><code><c- g>canIntercept</c-></code></a> = <c- b>false</c->;
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-boolean"><c- b>boolean</c-></a> <a data-default="false" data-type="boolean " href="#dom-navigateeventinit-userinitiated"><code><c- g>userInitiated</c-></code></a> = <c- b>false</c->;
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-boolean"><c- b>boolean</c-></a> <a data-default="false" data-type="boolean " href="#dom-navigateeventinit-hashchange"><code><c- g>hashChange</c-></code></a> = <c- b>false</c->;
  <c- b>required</c-> <a data-link-type="idl-name" href="https://dom.spec.whatwg.org/#abortsignal"><c- n>AbortSignal</c-></a> <a data-type="AbortSignal " href="#dom-navigateeventinit-signal"><code><c- g>signal</c-></code></a>;
  <a data-link-type="idl-name" href="https://xhr.spec.whatwg.org/#formdata"><c- n>FormData</c-></a>? <a data-default="null" data-type="FormData? " href="#dom-navigateeventinit-formdata"><code><c- g>formData</c-></code></a> = <c- b>null</c->;
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString"><c- b>DOMString</c-></a>? <a data-default="null" data-type="DOMString? " href="#dom-navigateeventinit-downloadrequest"><code><c- g>downloadRequest</c-></code></a> = <c- b>null</c->;
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-any"><c- b>any</c-></a> <a data-type="any " href="#dom-navigateeventinit-info"><code><c- g>info</c-></code></a>;
};

<c- b>dictionary</c-> <a href="#dictdef-navigationinterceptoptions"><code><c- g>NavigationInterceptOptions</c-></code></a> {
  <a data-link-type="idl-name" href="#callbackdef-navigationintercepthandler"><c- n>NavigationInterceptHandler</c-></a> <a data-type="NavigationInterceptHandler " href="#dom-navigationinterceptoptions-handler"><code><c- g>handler</c-></code></a>;
  <a data-link-type="idl-name" href="#enumdef-navigationfocusreset"><c- n>NavigationFocusReset</c-></a> <a data-type="NavigationFocusReset " href="#dom-navigationinterceptoptions-focusreset"><code><c- g>focusReset</c-></code></a>;
  <a data-link-type="idl-name" href="#enumdef-navigationscrollbehavior"><c- n>NavigationScrollBehavior</c-></a> <a data-type="NavigationScrollBehavior " href="#dom-navigationinterceptoptions-scroll"><code><c- g>scroll</c-></code></a>;
};

<c- b>enum</c-> <a href="#enumdef-navigationfocusreset"><code><c- g>NavigationFocusReset</c-></code></a> {
  <a href="#dom-navigationfocusreset-after-transition"><code><c- s>"after-transition"</c-></code></a>,
  <a href="#dom-navigationfocusreset-manual"><code><c- s>"manual"</c-></code></a>
};

<c- b>enum</c-> <a href="#enumdef-navigationscrollbehavior"><code><c- g>NavigationScrollBehavior</c-></code></a> {
  <a href="#dom-navigationscrollbehavior-after-transition"><code><c- s>"after-transition"</c-></code></a>,
  <a href="#dom-navigationscrollbehavior-manual"><code><c- s>"manual"</c-></code></a>
};

<c- b>callback</c-> <a href="#callbackdef-navigationintercepthandler"><code><c- g>NavigationInterceptHandler</c-></code></a> = <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise"><c- b>Promise</c-></a>&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-undefined"><c- b>undefined</c-></a>> ();

<c- b>enum</c-> <a href="#enumdef-navigationtype"><code><c- g>NavigationType</c-></code></a> {
  <a href="#dom-navigationtype-reload"><code><c- s>"reload"</c-></code></a>,
  <a href="#dom-navigationtype-push"><code><c- s>"push"</c-></code></a>,
  <a href="#dom-navigationtype-replace"><code><c- s>"replace"</c-></code></a>,
  <a href="#dom-navigationtype-traverse"><code><c- s>"traverse"</c-></code></a>
};

[<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Exposed"><c- g>Exposed</c-></a>=<c- n>Window</c->]
<c- b>interface</c-> <a href="#navigationdestination"><code><c- g>NavigationDestination</c-></code></a> {
  <c- b>readonly</c-> <c- b>attribute</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-USVString"><c- b>USVString</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="USVString" href="#dom-navigationdestination-url"><c- g>url</c-></a>;
  <c- b>readonly</c-> <c- b>attribute</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString"><c- b>DOMString</c-></a>? <a class="idl-code" data-link-type="attribute" data-readonly data-type="DOMString?" href="#dom-navigationdestination-key"><c- g>key</c-></a>;
  <c- b>readonly</c-> <c- b>attribute</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString"><c- b>DOMString</c-></a>? <a class="idl-code" data-link-type="attribute" data-readonly data-type="DOMString?" href="#dom-navigationdestination-id"><c- g>id</c-></a>;
  <c- b>readonly</c-> <c- b>attribute</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-long-long"><c- b>long</c-> <c- b>long</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="long long" href="#dom-navigationdestination-index"><c- g>index</c-></a>;
  <c- b>readonly</c-> <c- b>attribute</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-boolean"><c- b>boolean</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="boolean" href="#dom-navigationdestination-samedocument"><c- g>sameDocument</c-></a>;

  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-any"><c- b>any</c-></a> <a class="idl-code" data-link-type="method" href="#dom-navigationdestination-getstate"><c- g>getState</c-></a>();
};

[<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Exposed"><c- g>Exposed</c-></a>=<c- n>Window</c->]
<c- b>interface</c-> <a href="#navigationhistoryentry"><code><c- g>NavigationHistoryEntry</c-></code></a> : <a data-link-type="idl-name" href="https://dom.spec.whatwg.org/#eventtarget"><c- n>EventTarget</c-></a> {
  <c- b>readonly</c-> <c- b>attribute</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-USVString"><c- b>USVString</c-></a>? <a class="idl-code" data-link-type="attribute" data-readonly data-type="USVString?" href="#dom-navigationhistoryentry-url"><c- g>url</c-></a>;
  <c- b>readonly</c-> <c- b>attribute</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString"><c- b>DOMString</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="DOMString" href="#dom-navigationhistoryentry-key"><c- g>key</c-></a>;
  <c- b>readonly</c-> <c- b>attribute</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString"><c- b>DOMString</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="DOMString" href="#dom-navigationhistoryentry-id"><c- g>id</c-></a>;
  <c- b>readonly</c-> <c- b>attribute</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-long-long"><c- b>long</c-> <c- b>long</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="long long" href="#dom-navigationhistoryentry-index"><c- g>index</c-></a>;
  <c- b>readonly</c-> <c- b>attribute</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-boolean"><c- b>boolean</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="boolean" href="#dom-navigationhistoryentry-samedocument"><c- g>sameDocument</c-></a>;

  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-any"><c- b>any</c-></a> <a class="idl-code" data-link-type="method" href="#dom-navigationhistoryentry-getstate"><c- g>getState</c-></a>();

  <c- b>attribute</c-> <a data-link-type="idl-name" href="https://html.spec.whatwg.org/multipage/webappapis.html#eventhandler"><c- n>EventHandler</c-></a> <a class="idl-code" data-link-type="attribute" data-type="EventHandler" href="#dom-navigationhistoryentry-ondispose"><c- g>ondispose</c-></a>;
};

</pre>
  <aside class="dfn-panel" data-for="window-navigation-api">
   <b><a href="#window-navigation-api">#window-navigation-api</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-window-navigation-api">1. The Navigation class</a>
    <li><a href="#ref-for-window-navigation-api①">2.3. Firing the event</a> <a href="#ref-for-window-navigation-api②">(2)</a>
    <li><a href="#ref-for-window-navigation-api③">4.2. Navigate</a>
    <li><a href="#ref-for-window-navigation-api④">4.3. Navigate to a fragment</a> <a href="#ref-for-window-navigation-api⑤">(2)</a>
    <li><a href="#ref-for-window-navigation-api⑥">4.4. Shared history push/replace state steps</a>
    <li><a href="#ref-for-window-navigation-api⑦">4.5. URL and history update steps</a>
    <li><a href="#ref-for-window-navigation-api⑧">4.6. Update document for history state application</a>
    <li><a href="#ref-for-window-navigation-api⑨">4.8. Reactivate</a>
    <li><a href="#ref-for-window-navigation-api①⓪">4.9. Reload</a>
    <li><a href="#ref-for-window-navigation-api①①">4.11. Download a hyperlink</a>
    <li><a href="#ref-for-window-navigation-api①②">4.13. Check if unloading is user-canceled</a> <a href="#ref-for-window-navigation-api①③">(2)</a> <a href="#ref-for-window-navigation-api①④">(3)</a>
    <li><a href="#ref-for-window-navigation-api①⑤">4.16. Focus tracking</a> <a href="#ref-for-window-navigation-api①⑥">(2)</a>
    <li><a href="#ref-for-window-navigation-api①⑦">4.17. Scroll restoration</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dom-window-navigation">
   <b><a href="#dom-window-navigation">#dom-window-navigation</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-window-navigation">1. The Navigation class</a>
    <li><a href="#ref-for-dom-window-navigation①">1.1. Introspecting the navigation API history entry list</a> <a href="#ref-for-dom-window-navigation②">(2)</a> <a href="#ref-for-dom-window-navigation③">(3)</a>
    <li><a href="#ref-for-dom-window-navigation④">1.2. The current entry</a> <a href="#ref-for-dom-window-navigation⑤">(2)</a>
    <li><a href="#ref-for-dom-window-navigation⑥">1.3. Ongoing navigation tracking</a> <a href="#ref-for-dom-window-navigation⑦">(2)</a> <a href="#ref-for-dom-window-navigation⑧">(3)</a> <a href="#ref-for-dom-window-navigation⑨">(4)</a>
    <li><a href="#ref-for-dom-window-navigation①⓪">1.4. Navigating</a> <a href="#ref-for-dom-window-navigation①①">(2)</a> <a href="#ref-for-dom-window-navigation①②">(3)</a> <a href="#ref-for-dom-window-navigation①③">(4)</a>
    <li><a href="#ref-for-dom-window-navigation①④">1.5. Traversing</a> <a href="#ref-for-dom-window-navigation①⑤">(2)</a> <a href="#ref-for-dom-window-navigation①⑥">(3)</a> <a href="#ref-for-dom-window-navigation①⑦">(4)</a> <a href="#ref-for-dom-window-navigation①⑧">(5)</a> <a href="#ref-for-dom-window-navigation①⑨">(6)</a>
    <li><a href="#ref-for-dom-window-navigation②⓪">2.1. The NavigateEvent class</a> <a href="#ref-for-dom-window-navigation②①">(2)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="navigation">
   <b><a href="#navigation">#navigation</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-navigation">1. The Navigation class</a> <a href="#ref-for-navigation①">(2)</a> <a href="#ref-for-navigation②">(3)</a> <a href="#ref-for-navigation③">(4)</a> <a href="#ref-for-navigation④">(5)</a> <a href="#ref-for-navigation⑤">(6)</a> <a href="#ref-for-navigation⑥">(7)</a> <a href="#ref-for-navigation⑦">(8)</a> <a href="#ref-for-navigation⑧">(9)</a> <a href="#ref-for-navigation⑨">(10)</a> <a href="#ref-for-navigation①⓪">(11)</a>
    <li><a href="#ref-for-navigation①①">1.2. The current entry</a>
    <li><a href="#ref-for-navigation①②">1.3. Ongoing navigation tracking</a> <a href="#ref-for-navigation①③">(2)</a> <a href="#ref-for-navigation①④">(3)</a> <a href="#ref-for-navigation①⑤">(4)</a> <a href="#ref-for-navigation①⑥">(5)</a> <a href="#ref-for-navigation①⑦">(6)</a> <a href="#ref-for-navigation①⑧">(7)</a> <a href="#ref-for-navigation①⑨">(8)</a> <a href="#ref-for-navigation②⓪">(9)</a> <a href="#ref-for-navigation②①">(10)</a> <a href="#ref-for-navigation②②">(11)</a> <a href="#ref-for-navigation②③">(12)</a> <a href="#ref-for-navigation②④">(13)</a>
    <li><a href="#ref-for-navigation②⑤">1.4. Navigating</a>
    <li><a href="#ref-for-navigation②⑥">1.5. Traversing</a>
    <li><a href="#ref-for-navigation②⑦">1.6. Event handlers</a>
    <li><a href="#ref-for-navigation②⑧">2.3. Firing the event</a> <a href="#ref-for-navigation②⑨">(2)</a> <a href="#ref-for-navigation③⓪">(3)</a> <a href="#ref-for-navigation③①">(4)</a> <a href="#ref-for-navigation③②">(5)</a> <a href="#ref-for-navigation③③">(6)</a> <a href="#ref-for-navigation③④">(7)</a> <a href="#ref-for-navigation③⑤">(8)</a>
    <li><a href="#ref-for-navigation③⑥">4.6. Update document for history state application</a>
    <li><a href="#ref-for-navigation③⑦">4.12. Canceling navigations</a>
    <li><a href="#ref-for-navigation③⑧">4.17. Scroll restoration</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dictdef-navigationupdatecurrententryoptions">
   <b><a href="#dictdef-navigationupdatecurrententryoptions">#dictdef-navigationupdatecurrententryoptions</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dictdef-navigationupdatecurrententryoptions">1. The Navigation class</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dom-navigationupdatecurrententryoptions-state">
   <b><a href="#dom-navigationupdatecurrententryoptions-state">#dom-navigationupdatecurrententryoptions-state</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-navigationupdatecurrententryoptions-state">1.2. The current entry</a> <a href="#ref-for-dom-navigationupdatecurrententryoptions-state①">(2)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dictdef-navigationoptions">
   <b><a href="#dictdef-navigationoptions">#dictdef-navigationoptions</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dictdef-navigationoptions">1. The Navigation class</a> <a href="#ref-for-dictdef-navigationoptions①">(2)</a> <a href="#ref-for-dictdef-navigationoptions②">(3)</a> <a href="#ref-for-dictdef-navigationoptions③">(4)</a> <a href="#ref-for-dictdef-navigationoptions④">(5)</a>
    <li><a href="#ref-for-dictdef-navigationoptions⑤">1.5. Traversing</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dom-navigationoptions-info">
   <b><a href="#dom-navigationoptions-info">#dom-navigationoptions-info</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-navigationoptions-info">1.3. Ongoing navigation tracking</a>
    <li><a href="#ref-for-dom-navigationoptions-info①">1.4. Navigating</a> <a href="#ref-for-dom-navigationoptions-info②">(2)</a> <a href="#ref-for-dom-navigationoptions-info③">(3)</a> <a href="#ref-for-dom-navigationoptions-info④">(4)</a> <a href="#ref-for-dom-navigationoptions-info⑤">(5)</a>
    <li><a href="#ref-for-dom-navigationoptions-info⑥">1.5. Traversing</a> <a href="#ref-for-dom-navigationoptions-info⑦">(2)</a> <a href="#ref-for-dom-navigationoptions-info⑧">(3)</a> <a href="#ref-for-dom-navigationoptions-info⑨">(4)</a> <a href="#ref-for-dom-navigationoptions-info①⓪">(5)</a> <a href="#ref-for-dom-navigationoptions-info①①">(6)</a> <a href="#ref-for-dom-navigationoptions-info①②">(7)</a> <a href="#ref-for-dom-navigationoptions-info①③">(8)</a> <a href="#ref-for-dom-navigationoptions-info①④">(9)</a> <a href="#ref-for-dom-navigationoptions-info①⑤">(10)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dictdef-navigationnavigateoptions">
   <b><a href="#dictdef-navigationnavigateoptions">#dictdef-navigationnavigateoptions</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dictdef-navigationnavigateoptions">1. The Navigation class</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dom-navigationnavigateoptions-state">
   <b><a href="#dom-navigationnavigateoptions-state">#dom-navigationnavigateoptions-state</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-navigationnavigateoptions-state">1.3. Ongoing navigation tracking</a>
    <li><a href="#ref-for-dom-navigationnavigateoptions-state①">1.4. Navigating</a> <a href="#ref-for-dom-navigationnavigateoptions-state②">(2)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dom-navigationnavigateoptions-history">
   <b><a href="#dom-navigationnavigateoptions-history">#dom-navigationnavigateoptions-history</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-navigationnavigateoptions-history">1.4. Navigating</a> <a href="#ref-for-dom-navigationnavigateoptions-history①">(2)</a> <a href="#ref-for-dom-navigationnavigateoptions-history②">(3)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dictdef-navigationreloadoptions">
   <b><a href="#dictdef-navigationreloadoptions">#dictdef-navigationreloadoptions</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dictdef-navigationreloadoptions">1. The Navigation class</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dom-navigationreloadoptions-state">
   <b><a href="#dom-navigationreloadoptions-state">#dom-navigationreloadoptions-state</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-navigationreloadoptions-state">1.4. Navigating</a> <a href="#ref-for-dom-navigationreloadoptions-state①">(2)</a> <a href="#ref-for-dom-navigationreloadoptions-state②">(3)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dictdef-navigationresult">
   <b><a href="#dictdef-navigationresult">#dictdef-navigationresult</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dictdef-navigationresult">1. The Navigation class</a> <a href="#ref-for-dictdef-navigationresult①">(2)</a> <a href="#ref-for-dictdef-navigationresult②">(3)</a> <a href="#ref-for-dictdef-navigationresult③">(4)</a> <a href="#ref-for-dictdef-navigationresult④">(5)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dom-navigationresult-committed">
   <b><a href="#dom-navigationresult-committed">#dom-navigationresult-committed</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-navigationresult-committed">1.3. Ongoing navigation tracking</a> <a href="#ref-for-dom-navigationresult-committed①">(2)</a>
    <li><a href="#ref-for-dom-navigationresult-committed②">1.4. Navigating</a> <a href="#ref-for-dom-navigationresult-committed③">(2)</a> <a href="#ref-for-dom-navigationresult-committed④">(3)</a> <a href="#ref-for-dom-navigationresult-committed⑤">(4)</a> <a href="#ref-for-dom-navigationresult-committed⑥">(5)</a> <a href="#ref-for-dom-navigationresult-committed⑦">(6)</a> <a href="#ref-for-dom-navigationresult-committed⑧">(7)</a> <a href="#ref-for-dom-navigationresult-committed⑨">(8)</a>
    <li><a href="#ref-for-dom-navigationresult-committed①⓪">1.5. Traversing</a> <a href="#ref-for-dom-navigationresult-committed①①">(2)</a> <a href="#ref-for-dom-navigationresult-committed①②">(3)</a> <a href="#ref-for-dom-navigationresult-committed①③">(4)</a> <a href="#ref-for-dom-navigationresult-committed①④">(5)</a> <a href="#ref-for-dom-navigationresult-committed①⑤">(6)</a> <a href="#ref-for-dom-navigationresult-committed①⑥">(7)</a> <a href="#ref-for-dom-navigationresult-committed①⑦">(8)</a> <a href="#ref-for-dom-navigationresult-committed①⑧">(9)</a> <a href="#ref-for-dom-navigationresult-committed①⑨">(10)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dom-navigationresult-finished">
   <b><a href="#dom-navigationresult-finished">#dom-navigationresult-finished</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-navigationresult-finished">1.3. Ongoing navigation tracking</a> <a href="#ref-for-dom-navigationresult-finished①">(2)</a>
    <li><a href="#ref-for-dom-navigationresult-finished②">1.4. Navigating</a> <a href="#ref-for-dom-navigationresult-finished③">(2)</a> <a href="#ref-for-dom-navigationresult-finished④">(3)</a> <a href="#ref-for-dom-navigationresult-finished⑤">(4)</a> <a href="#ref-for-dom-navigationresult-finished⑥">(5)</a> <a href="#ref-for-dom-navigationresult-finished⑦">(6)</a> <a href="#ref-for-dom-navigationresult-finished⑧">(7)</a> <a href="#ref-for-dom-navigationresult-finished⑨">(8)</a>
    <li><a href="#ref-for-dom-navigationresult-finished①⓪">1.5. Traversing</a> <a href="#ref-for-dom-navigationresult-finished①①">(2)</a> <a href="#ref-for-dom-navigationresult-finished①②">(3)</a> <a href="#ref-for-dom-navigationresult-finished①③">(4)</a> <a href="#ref-for-dom-navigationresult-finished①④">(5)</a> <a href="#ref-for-dom-navigationresult-finished①⑤">(6)</a> <a href="#ref-for-dom-navigationresult-finished①⑥">(7)</a> <a href="#ref-for-dom-navigationresult-finished①⑦">(8)</a> <a href="#ref-for-dom-navigationresult-finished①⑧">(9)</a> <a href="#ref-for-dom-navigationresult-finished①⑨">(10)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="enumdef-navigationhistorybehavior">
   <b><a href="#enumdef-navigationhistorybehavior">#enumdef-navigationhistorybehavior</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-enumdef-navigationhistorybehavior">1. The Navigation class</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dom-navigationhistorybehavior-push">
   <b><a href="#dom-navigationhistorybehavior-push">#dom-navigationhistorybehavior-push</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-navigationhistorybehavior-push">1.4. Navigating</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dom-navigationhistorybehavior-replace">
   <b><a href="#dom-navigationhistorybehavior-replace">#dom-navigationhistorybehavior-replace</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-navigationhistorybehavior-replace">1.4. Navigating</a> <a href="#ref-for-dom-navigationhistorybehavior-replace①">(2)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="navigation-entry-list">
   <b><a href="#navigation-entry-list">#navigation-entry-list</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-navigation-entry-list">1. The Navigation class</a> <a href="#ref-for-navigation-entry-list①">(2)</a> <a href="#ref-for-navigation-entry-list②">(3)</a> <a href="#ref-for-navigation-entry-list③">(4)</a> <a href="#ref-for-navigation-entry-list④">(5)</a> <a href="#ref-for-navigation-entry-list⑤">(6)</a> <a href="#ref-for-navigation-entry-list⑥">(7)</a> <a href="#ref-for-navigation-entry-list⑦">(8)</a> <a href="#ref-for-navigation-entry-list⑧">(9)</a> <a href="#ref-for-navigation-entry-list⑨">(10)</a> <a href="#ref-for-navigation-entry-list①⓪">(11)</a>
    <li><a href="#ref-for-navigation-entry-list①①">1.1. Introspecting the navigation API history entry list</a> <a href="#ref-for-navigation-entry-list①②">(2)</a>
    <li><a href="#ref-for-navigation-entry-list①③">1.2. The current entry</a>
    <li><a href="#ref-for-navigation-entry-list①④">1.5. Traversing</a> <a href="#ref-for-navigation-entry-list①⑤">(2)</a> <a href="#ref-for-navigation-entry-list①⑥">(3)</a> <a href="#ref-for-navigation-entry-list①⑦">(4)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="navigation-current-entry-index">
   <b><a href="#navigation-current-entry-index">#navigation-current-entry-index</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-navigation-current-entry-index">1. The Navigation class</a> <a href="#ref-for-navigation-current-entry-index①">(2)</a> <a href="#ref-for-navigation-current-entry-index②">(3)</a> <a href="#ref-for-navigation-current-entry-index③">(4)</a> <a href="#ref-for-navigation-current-entry-index④">(5)</a> <a href="#ref-for-navigation-current-entry-index⑤">(6)</a> <a href="#ref-for-navigation-current-entry-index⑥">(7)</a> <a href="#ref-for-navigation-current-entry-index⑦">(8)</a>
    <li><a href="#ref-for-navigation-current-entry-index⑧">1.1. Introspecting the navigation API history entry list</a> <a href="#ref-for-navigation-current-entry-index⑨">(2)</a> <a href="#ref-for-navigation-current-entry-index①⓪">(3)</a> <a href="#ref-for-navigation-current-entry-index①①">(4)</a>
    <li><a href="#ref-for-navigation-current-entry-index①②">1.2. The current entry</a> <a href="#ref-for-navigation-current-entry-index①③">(2)</a>
    <li><a href="#ref-for-navigation-current-entry-index①④">1.5. Traversing</a> <a href="#ref-for-navigation-current-entry-index①⑤">(2)</a> <a href="#ref-for-navigation-current-entry-index①⑥">(3)</a> <a href="#ref-for-navigation-current-entry-index①⑦">(4)</a> <a href="#ref-for-navigation-current-entry-index①⑧">(5)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="navigation-has-entries-and-events-disabled">
   <b><a href="#navigation-has-entries-and-events-disabled">#navigation-has-entries-and-events-disabled</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-navigation-has-entries-and-events-disabled">1. The Navigation class</a> <a href="#ref-for-navigation-has-entries-and-events-disabled①">(2)</a>
    <li><a href="#ref-for-navigation-has-entries-and-events-disabled②">1.1. Introspecting the navigation API history entry list</a> <a href="#ref-for-navigation-has-entries-and-events-disabled③">(2)</a> <a href="#ref-for-navigation-has-entries-and-events-disabled④">(3)</a>
    <li><a href="#ref-for-navigation-has-entries-and-events-disabled⑤">1.2. The current entry</a>
    <li><a href="#ref-for-navigation-has-entries-and-events-disabled⑥">2.3. Firing the event</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="navigation-update-the-entries-for-a-same-document-navigation">
   <b><a href="#navigation-update-the-entries-for-a-same-document-navigation">#navigation-update-the-entries-for-a-same-document-navigation</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-navigation-update-the-entries-for-a-same-document-navigation">4.3. Navigate to a fragment</a>
    <li><a href="#ref-for-navigation-update-the-entries-for-a-same-document-navigation①">4.5. URL and history update steps</a>
    <li><a href="#ref-for-navigation-update-the-entries-for-a-same-document-navigation②">4.6. Update document for history state application</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="navigation-update-the-entries-for-reactivation">
   <b><a href="#navigation-update-the-entries-for-reactivation">#navigation-update-the-entries-for-reactivation</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-navigation-update-the-entries-for-reactivation">1. The Navigation class</a>
    <li><a href="#ref-for-navigation-update-the-entries-for-reactivation①">4.8. Reactivate</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="navigation-initialize-the-entries-for-a-new-navigation">
   <b><a href="#navigation-initialize-the-entries-for-a-new-navigation">#navigation-initialize-the-entries-for-a-new-navigation</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-navigation-initialize-the-entries-for-a-new-navigation">1. The Navigation class</a>
    <li><a href="#ref-for-navigation-initialize-the-entries-for-a-new-navigation①">4.6. Update document for history state application</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="get-the-navigation-api-history-index">
   <b><a href="#get-the-navigation-api-history-index">#get-the-navigation-api-history-index</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-get-the-navigation-api-history-index">1. The Navigation class</a> <a href="#ref-for-get-the-navigation-api-history-index①">(2)</a>
    <li><a href="#ref-for-get-the-navigation-api-history-index②">2.3. Firing the event</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dom-navigation-entries">
   <b><a href="#dom-navigation-entries">#dom-navigation-entries</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-navigation-entries">1. The Navigation class</a> <a href="#ref-for-dom-navigation-entries①">(2)</a>
    <li><a href="#ref-for-dom-navigation-entries②">1.1. Introspecting the navigation API history entry list</a>
    <li><a href="#ref-for-dom-navigation-entries③">1.5. Traversing</a>
    <li><a href="#ref-for-dom-navigation-entries④">3. Navigation API history entries</a>
    <li><a href="#ref-for-dom-navigation-entries⑤">5.1. Cross-site tracking</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dom-navigation-cangoback">
   <b><a href="#dom-navigation-cangoback">#dom-navigation-cangoback</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-navigation-cangoback">1. The Navigation class</a>
    <li><a href="#ref-for-dom-navigation-cangoback①">1.1. Introspecting the navigation API history entry list</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dom-navigation-cangoforward">
   <b><a href="#dom-navigation-cangoforward">#dom-navigation-cangoforward</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-navigation-cangoforward">1. The Navigation class</a>
    <li><a href="#ref-for-dom-navigation-cangoforward①">1.1. Introspecting the navigation API history entry list</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="navigationcurrententrychangeevent">
   <b><a href="#navigationcurrententrychangeevent">#navigationcurrententrychangeevent</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-navigationcurrententrychangeevent">1. The Navigation class</a>
    <li><a href="#ref-for-navigationcurrententrychangeevent①">1.2. The current entry</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dom-navigationcurrententrychangeevent-navigationtype">
   <b><a href="#dom-navigationcurrententrychangeevent-navigationtype">#dom-navigationcurrententrychangeevent-navigationtype</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-navigationcurrententrychangeevent-navigationtype">1. The Navigation class</a>
    <li><a href="#ref-for-dom-navigationcurrententrychangeevent-navigationtype①">1.2. The current entry</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dom-navigationcurrententrychangeevent-from">
   <b><a href="#dom-navigationcurrententrychangeevent-from">#dom-navigationcurrententrychangeevent-from</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-navigationcurrententrychangeevent-from">1. The Navigation class</a>
    <li><a href="#ref-for-dom-navigationcurrententrychangeevent-from①">1.2. The current entry</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dictdef-navigationcurrententrychangeeventinit">
   <b><a href="#dictdef-navigationcurrententrychangeeventinit">#dictdef-navigationcurrententrychangeeventinit</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dictdef-navigationcurrententrychangeeventinit">1.2. The current entry</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="navigation-current-entry">
   <b><a href="#navigation-current-entry">#navigation-current-entry</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-navigation-current-entry">1. The Navigation class</a> <a href="#ref-for-navigation-current-entry①">(2)</a> <a href="#ref-for-navigation-current-entry②">(3)</a>
    <li><a href="#ref-for-navigation-current-entry③">1.2. The current entry</a> <a href="#ref-for-navigation-current-entry④">(2)</a>
    <li><a href="#ref-for-navigation-current-entry⑤">1.4. Navigating</a>
    <li><a href="#ref-for-navigation-current-entry⑥">1.5. Traversing</a> <a href="#ref-for-navigation-current-entry⑦">(2)</a> <a href="#ref-for-navigation-current-entry⑧">(3)</a>
    <li><a href="#ref-for-navigation-current-entry⑨">2.3. Firing the event</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dom-navigation-currententry">
   <b><a href="#dom-navigation-currententry">#dom-navigation-currententry</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-navigation-currententry">1. The Navigation class</a> <a href="#ref-for-dom-navigation-currententry①">(2)</a>
    <li><a href="#ref-for-dom-navigation-currententry②">1.2. The current entry</a>
    <li><a href="#ref-for-dom-navigation-currententry③">1.3. Ongoing navigation tracking</a> <a href="#ref-for-dom-navigation-currententry④">(2)</a>
    <li><a href="#ref-for-dom-navigation-currententry⑤">1.5. Traversing</a> <a href="#ref-for-dom-navigation-currententry⑥">(2)</a> <a href="#ref-for-dom-navigation-currententry⑦">(3)</a> <a href="#ref-for-dom-navigation-currententry⑧">(4)</a>
    <li><a href="#ref-for-dom-navigation-currententry⑨">2.1. The NavigateEvent class</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dom-navigation-updatecurrententry">
   <b><a href="#dom-navigation-updatecurrententry">#dom-navigation-updatecurrententry</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-navigation-updatecurrententry">1. The Navigation class</a>
    <li><a href="#ref-for-dom-navigation-updatecurrententry①">1.2. The current entry</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="navigationtransition">
   <b><a href="#navigationtransition">#navigationtransition</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-navigationtransition">1. The Navigation class</a>
    <li><a href="#ref-for-navigationtransition①">1.3. Ongoing navigation tracking</a> <a href="#ref-for-navigationtransition②">(2)</a> <a href="#ref-for-navigationtransition③">(3)</a> <a href="#ref-for-navigationtransition④">(4)</a> <a href="#ref-for-navigationtransition⑤">(5)</a>
    <li><a href="#ref-for-navigationtransition⑥">2.3. Firing the event</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="navigation-transition">
   <b><a href="#navigation-transition">#navigation-transition</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-navigation-transition">1.3. Ongoing navigation tracking</a>
    <li><a href="#ref-for-navigation-transition①">2.3. Firing the event</a> <a href="#ref-for-navigation-transition②">(2)</a> <a href="#ref-for-navigation-transition③">(3)</a> <a href="#ref-for-navigation-transition④">(4)</a> <a href="#ref-for-navigation-transition⑤">(5)</a> <a href="#ref-for-navigation-transition⑥">(6)</a> <a href="#ref-for-navigation-transition⑦">(7)</a> <a href="#ref-for-navigation-transition⑧">(8)</a> <a href="#ref-for-navigation-transition⑨">(9)</a> <a href="#ref-for-navigation-transition①⓪">(10)</a> <a href="#ref-for-navigation-transition①①">(11)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dom-navigation-transition">
   <b><a href="#dom-navigation-transition">#dom-navigation-transition</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-navigation-transition">1. The Navigation class</a>
    <li><a href="#ref-for-dom-navigation-transition①">1.3. Ongoing navigation tracking</a> <a href="#ref-for-dom-navigation-transition②">(2)</a> <a href="#ref-for-dom-navigation-transition③">(3)</a> <a href="#ref-for-dom-navigation-transition④">(4)</a> <a href="#ref-for-dom-navigation-transition⑤">(5)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="navigationtransition-navigation-type">
   <b><a href="#navigationtransition-navigation-type">#navigationtransition-navigation-type</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-navigationtransition-navigation-type">1.3. Ongoing navigation tracking</a>
    <li><a href="#ref-for-navigationtransition-navigation-type①">2.3. Firing the event</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="navigationtransition-from-entry">
   <b><a href="#navigationtransition-from-entry">#navigationtransition-from-entry</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-navigationtransition-from-entry">1.3. Ongoing navigation tracking</a>
    <li><a href="#ref-for-navigationtransition-from-entry①">2.3. Firing the event</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="navigationtransition-finished-promise">
   <b><a href="#navigationtransition-finished-promise">#navigationtransition-finished-promise</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-navigationtransition-finished-promise">1.3. Ongoing navigation tracking</a>
    <li><a href="#ref-for-navigationtransition-finished-promise①">2.3. Firing the event</a> <a href="#ref-for-navigationtransition-finished-promise②">(2)</a> <a href="#ref-for-navigationtransition-finished-promise③">(3)</a> <a href="#ref-for-navigationtransition-finished-promise④">(4)</a> <a href="#ref-for-navigationtransition-finished-promise⑤">(5)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dom-navigationtransition-navigationtype">
   <b><a href="#dom-navigationtransition-navigationtype">#dom-navigationtransition-navigationtype</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-navigationtransition-navigationtype">1.3. Ongoing navigation tracking</a> <a href="#ref-for-dom-navigationtransition-navigationtype①">(2)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dom-navigationtransition-from">
   <b><a href="#dom-navigationtransition-from">#dom-navigationtransition-from</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-navigationtransition-from">1.3. Ongoing navigation tracking</a> <a href="#ref-for-dom-navigationtransition-from①">(2)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dom-navigationtransition-finished">
   <b><a href="#dom-navigationtransition-finished">#dom-navigationtransition-finished</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-navigationtransition-finished">1.3. Ongoing navigation tracking</a> <a href="#ref-for-dom-navigationtransition-finished①">(2)</a> <a href="#ref-for-dom-navigationtransition-finished②">(3)</a>
    <li><a href="#ref-for-dom-navigationtransition-finished③">2.3. Firing the event</a>
    <li><a href="#ref-for-dom-navigationtransition-finished④">4.18. Helpful note: failed attempt to populate</a> <a href="#ref-for-dom-navigationtransition-finished⑤">(2)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="navigation-ongoing-navigate-event">
   <b><a href="#navigation-ongoing-navigate-event">#navigation-ongoing-navigate-event</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-navigation-ongoing-navigate-event">2.3. Firing the event</a> <a href="#ref-for-navigation-ongoing-navigate-event①">(2)</a> <a href="#ref-for-navigation-ongoing-navigate-event②">(3)</a> <a href="#ref-for-navigation-ongoing-navigate-event③">(4)</a> <a href="#ref-for-navigation-ongoing-navigate-event④">(5)</a> <a href="#ref-for-navigation-ongoing-navigate-event⑤">(6)</a> <a href="#ref-for-navigation-ongoing-navigate-event⑥">(7)</a> <a href="#ref-for-navigation-ongoing-navigate-event⑦">(8)</a> <a href="#ref-for-navigation-ongoing-navigate-event⑧">(9)</a> <a href="#ref-for-navigation-ongoing-navigate-event⑨">(10)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="navigation-ongoing-navigation-signal">
   <b><a href="#navigation-ongoing-navigation-signal">#navigation-ongoing-navigation-signal</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-navigation-ongoing-navigation-signal">1.3. Ongoing navigation tracking</a>
    <li><a href="#ref-for-navigation-ongoing-navigation-signal①">2.3. Firing the event</a> <a href="#ref-for-navigation-ongoing-navigation-signal②">(2)</a> <a href="#ref-for-navigation-ongoing-navigation-signal③">(3)</a> <a href="#ref-for-navigation-ongoing-navigation-signal④">(4)</a> <a href="#ref-for-navigation-ongoing-navigation-signal⑤">(5)</a> <a href="#ref-for-navigation-ongoing-navigation-signal⑥">(6)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="navigation-focus-changed-during-ongoing-navigation">
   <b><a href="#navigation-focus-changed-during-ongoing-navigation">#navigation-focus-changed-during-ongoing-navigation</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-navigation-focus-changed-during-ongoing-navigation">1.3. Ongoing navigation tracking</a>
    <li><a href="#ref-for-navigation-focus-changed-during-ongoing-navigation①">2.3. Firing the event</a> <a href="#ref-for-navigation-focus-changed-during-ongoing-navigation②">(2)</a> <a href="#ref-for-navigation-focus-changed-during-ongoing-navigation③">(3)</a> <a href="#ref-for-navigation-focus-changed-during-ongoing-navigation④">(4)</a>
    <li><a href="#ref-for-navigation-focus-changed-during-ongoing-navigation⑤">4.16. Focus tracking</a> <a href="#ref-for-navigation-focus-changed-during-ongoing-navigation⑥">(2)</a> <a href="#ref-for-navigation-focus-changed-during-ongoing-navigation⑦">(3)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="navigation-suppress-normal-scroll-restoration-during-ongoing-navigation">
   <b><a href="#navigation-suppress-normal-scroll-restoration-during-ongoing-navigation">#navigation-suppress-normal-scroll-restoration-during-ongoing-navigation</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-navigation-suppress-normal-scroll-restoration-during-ongoing-navigation">1.3. Ongoing navigation tracking</a>
    <li><a href="#ref-for-navigation-suppress-normal-scroll-restoration-during-ongoing-navigation①">2.3. Firing the event</a> <a href="#ref-for-navigation-suppress-normal-scroll-restoration-during-ongoing-navigation②">(2)</a> <a href="#ref-for-navigation-suppress-normal-scroll-restoration-during-ongoing-navigation③">(3)</a>
    <li><a href="#ref-for-navigation-suppress-normal-scroll-restoration-during-ongoing-navigation④">4.17. Scroll restoration</a> <a href="#ref-for-navigation-suppress-normal-scroll-restoration-during-ongoing-navigation⑤">(2)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="navigation-ongoing-navigation">
   <b><a href="#navigation-ongoing-navigation">#navigation-ongoing-navigation</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-navigation-ongoing-navigation">1. The Navigation class</a> <a href="#ref-for-navigation-ongoing-navigation①">(2)</a> <a href="#ref-for-navigation-ongoing-navigation②">(3)</a>
    <li><a href="#ref-for-navigation-ongoing-navigation③">1.3. Ongoing navigation tracking</a> <a href="#ref-for-navigation-ongoing-navigation④">(2)</a> <a href="#ref-for-navigation-ongoing-navigation⑤">(3)</a> <a href="#ref-for-navigation-ongoing-navigation⑥">(4)</a> <a href="#ref-for-navigation-ongoing-navigation⑦">(5)</a>
    <li><a href="#ref-for-navigation-ongoing-navigation⑧">2.3. Firing the event</a> <a href="#ref-for-navigation-ongoing-navigation⑨">(2)</a> <a href="#ref-for-navigation-ongoing-navigation①⓪">(3)</a>
    <li><a href="#ref-for-navigation-ongoing-navigation①①">4.12. Canceling navigations</a>
    <li><a href="#ref-for-navigation-ongoing-navigation①②">4.18. Helpful note: failed attempt to populate</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="navigation-upcoming-non-traverse-navigation">
   <b><a href="#navigation-upcoming-non-traverse-navigation">#navigation-upcoming-non-traverse-navigation</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-navigation-upcoming-non-traverse-navigation">1.3. Ongoing navigation tracking</a> <a href="#ref-for-navigation-upcoming-non-traverse-navigation①">(2)</a> <a href="#ref-for-navigation-upcoming-non-traverse-navigation②">(3)</a> <a href="#ref-for-navigation-upcoming-non-traverse-navigation③">(4)</a> <a href="#ref-for-navigation-upcoming-non-traverse-navigation④">(5)</a>
    <li><a href="#ref-for-navigation-upcoming-non-traverse-navigation⑤">1.4. Navigating</a> <a href="#ref-for-navigation-upcoming-non-traverse-navigation⑥">(2)</a> <a href="#ref-for-navigation-upcoming-non-traverse-navigation⑦">(3)</a> <a href="#ref-for-navigation-upcoming-non-traverse-navigation⑧">(4)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="navigation-upcoming-traverse-navigations">
   <b><a href="#navigation-upcoming-traverse-navigations">#navigation-upcoming-traverse-navigations</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-navigation-upcoming-traverse-navigations">1.3. Ongoing navigation tracking</a> <a href="#ref-for-navigation-upcoming-traverse-navigations①">(2)</a> <a href="#ref-for-navigation-upcoming-traverse-navigations②">(3)</a> <a href="#ref-for-navigation-upcoming-traverse-navigations③">(4)</a> <a href="#ref-for-navigation-upcoming-traverse-navigations④">(5)</a> <a href="#ref-for-navigation-upcoming-traverse-navigations⑤">(6)</a>
    <li><a href="#ref-for-navigation-upcoming-traverse-navigations⑥">1.5. Traversing</a> <a href="#ref-for-navigation-upcoming-traverse-navigations⑦">(2)</a>
    <li><a href="#ref-for-navigation-upcoming-traverse-navigations⑧">2.3. Firing the event</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="navigation-api-method-navigation">
   <b><a href="#navigation-api-method-navigation">#navigation-api-method-navigation</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-navigation-api-method-navigation">1.3. Ongoing navigation tracking</a> <a href="#ref-for-navigation-api-method-navigation①">(2)</a> <a href="#ref-for-navigation-api-method-navigation②">(3)</a> <a href="#ref-for-navigation-api-method-navigation③">(4)</a> <a href="#ref-for-navigation-api-method-navigation④">(5)</a> <a href="#ref-for-navigation-api-method-navigation⑤">(6)</a> <a href="#ref-for-navigation-api-method-navigation⑥">(7)</a> <a href="#ref-for-navigation-api-method-navigation⑦">(8)</a> <a href="#ref-for-navigation-api-method-navigation⑧">(9)</a> <a href="#ref-for-navigation-api-method-navigation⑨">(10)</a> <a href="#ref-for-navigation-api-method-navigation①⓪">(11)</a> <a href="#ref-for-navigation-api-method-navigation①①">(12)</a>
    <li><a href="#ref-for-navigation-api-method-navigation①②">2.3. Firing the event</a> <a href="#ref-for-navigation-api-method-navigation①③">(2)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="navigation-api-method-navigation-navigation-object">
   <b><a href="#navigation-api-method-navigation-navigation-object">#navigation-api-method-navigation-navigation-object</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-navigation-api-method-navigation-navigation-object">1.3. Ongoing navigation tracking</a> <a href="#ref-for-navigation-api-method-navigation-navigation-object①">(2)</a> <a href="#ref-for-navigation-api-method-navigation-navigation-object②">(3)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="navigation-api-method-navigation-key">
   <b><a href="#navigation-api-method-navigation-key">#navigation-api-method-navigation-key</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-navigation-api-method-navigation-key">1.3. Ongoing navigation tracking</a> <a href="#ref-for-navigation-api-method-navigation-key①">(2)</a> <a href="#ref-for-navigation-api-method-navigation-key②">(3)</a> <a href="#ref-for-navigation-api-method-navigation-key③">(4)</a> <a href="#ref-for-navigation-api-method-navigation-key④">(5)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="navigation-api-method-navigation-info">
   <b><a href="#navigation-api-method-navigation-info">#navigation-api-method-navigation-info</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-navigation-api-method-navigation-info">1.3. Ongoing navigation tracking</a> <a href="#ref-for-navigation-api-method-navigation-info①">(2)</a>
    <li><a href="#ref-for-navigation-api-method-navigation-info②">2.3. Firing the event</a> <a href="#ref-for-navigation-api-method-navigation-info③">(2)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="navigation-api-method-navigation-serialized-state">
   <b><a href="#navigation-api-method-navigation-serialized-state">#navigation-api-method-navigation-serialized-state</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-navigation-api-method-navigation-serialized-state">1.3. Ongoing navigation tracking</a> <a href="#ref-for-navigation-api-method-navigation-serialized-state①">(2)</a> <a href="#ref-for-navigation-api-method-navigation-serialized-state②">(3)</a> <a href="#ref-for-navigation-api-method-navigation-serialized-state③">(4)</a> <a href="#ref-for-navigation-api-method-navigation-serialized-state④">(5)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="navigation-api-method-navigation-committed-to-entry">
   <b><a href="#navigation-api-method-navigation-committed-to-entry">#navigation-api-method-navigation-committed-to-entry</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-navigation-api-method-navigation-committed-to-entry">1.3. Ongoing navigation tracking</a> <a href="#ref-for-navigation-api-method-navigation-committed-to-entry①">(2)</a> <a href="#ref-for-navigation-api-method-navigation-committed-to-entry②">(3)</a> <a href="#ref-for-navigation-api-method-navigation-committed-to-entry③">(4)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="navigation-api-method-navigation-committed-promise">
   <b><a href="#navigation-api-method-navigation-committed-promise">#navigation-api-method-navigation-committed-promise</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-navigation-api-method-navigation-committed-promise">1.3. Ongoing navigation tracking</a> <a href="#ref-for-navigation-api-method-navigation-committed-promise①">(2)</a> <a href="#ref-for-navigation-api-method-navigation-committed-promise②">(3)</a> <a href="#ref-for-navigation-api-method-navigation-committed-promise③">(4)</a> <a href="#ref-for-navigation-api-method-navigation-committed-promise④">(5)</a> <a href="#ref-for-navigation-api-method-navigation-committed-promise⑤">(6)</a>
    <li><a href="#ref-for-navigation-api-method-navigation-committed-promise⑥">1.4. Navigating</a> <a href="#ref-for-navigation-api-method-navigation-committed-promise⑦">(2)</a>
    <li><a href="#ref-for-navigation-api-method-navigation-committed-promise⑧">1.5. Traversing</a> <a href="#ref-for-navigation-api-method-navigation-committed-promise⑨">(2)</a>
    <li><a href="#ref-for-navigation-api-method-navigation-committed-promise①⓪">2.3. Firing the event</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="navigation-api-method-navigation-finished-promise">
   <b><a href="#navigation-api-method-navigation-finished-promise">#navigation-api-method-navigation-finished-promise</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-navigation-api-method-navigation-finished-promise">1.3. Ongoing navigation tracking</a> <a href="#ref-for-navigation-api-method-navigation-finished-promise①">(2)</a> <a href="#ref-for-navigation-api-method-navigation-finished-promise②">(3)</a> <a href="#ref-for-navigation-api-method-navigation-finished-promise③">(4)</a> <a href="#ref-for-navigation-api-method-navigation-finished-promise④">(5)</a> <a href="#ref-for-navigation-api-method-navigation-finished-promise⑤">(6)</a>
    <li><a href="#ref-for-navigation-api-method-navigation-finished-promise⑥">1.4. Navigating</a> <a href="#ref-for-navigation-api-method-navigation-finished-promise⑦">(2)</a>
    <li><a href="#ref-for-navigation-api-method-navigation-finished-promise⑧">1.5. Traversing</a> <a href="#ref-for-navigation-api-method-navigation-finished-promise⑨">(2)</a>
    <li><a href="#ref-for-navigation-api-method-navigation-finished-promise①⓪">2.3. Firing the event</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="navigation-set-the-upcoming-non-traverse-navigation">
   <b><a href="#navigation-set-the-upcoming-non-traverse-navigation">#navigation-set-the-upcoming-non-traverse-navigation</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-navigation-set-the-upcoming-non-traverse-navigation">1.4. Navigating</a> <a href="#ref-for-navigation-set-the-upcoming-non-traverse-navigation①">(2)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="navigation-set-an-upcoming-traverse-navigation">
   <b><a href="#navigation-set-an-upcoming-traverse-navigation">#navigation-set-an-upcoming-traverse-navigation</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-navigation-set-an-upcoming-traverse-navigation">1.5. Traversing</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="navigation-promote-the-upcoming-navigation-to-ongoing">
   <b><a href="#navigation-promote-the-upcoming-navigation-to-ongoing">#navigation-promote-the-upcoming-navigation-to-ongoing</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-navigation-promote-the-upcoming-navigation-to-ongoing">1.4. Navigating</a> <a href="#ref-for-navigation-promote-the-upcoming-navigation-to-ongoing①">(2)</a>
    <li><a href="#ref-for-navigation-promote-the-upcoming-navigation-to-ongoing②">2.3. Firing the event</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="navigation-api-method-navigation-clean-up">
   <b><a href="#navigation-api-method-navigation-clean-up">#navigation-api-method-navigation-clean-up</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-navigation-api-method-navigation-clean-up">1.3. Ongoing navigation tracking</a> <a href="#ref-for-navigation-api-method-navigation-clean-up①">(2)</a>
    <li><a href="#ref-for-navigation-api-method-navigation-clean-up②">2.3. Firing the event</a> <a href="#ref-for-navigation-api-method-navigation-clean-up③">(2)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="navigation-api-method-navigation-notify-about-the-committed-to-entry">
   <b><a href="#navigation-api-method-navigation-notify-about-the-committed-to-entry">#navigation-api-method-navigation-notify-about-the-committed-to-entry</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-navigation-api-method-navigation-notify-about-the-committed-to-entry">1. The Navigation class</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="navigation-api-method-navigation-resolve-the-finished-promise">
   <b><a href="#navigation-api-method-navigation-resolve-the-finished-promise">#navigation-api-method-navigation-resolve-the-finished-promise</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-navigation-api-method-navigation-resolve-the-finished-promise">2.3. Firing the event</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="navigation-api-method-navigation-reject-the-finished-promise">
   <b><a href="#navigation-api-method-navigation-reject-the-finished-promise">#navigation-api-method-navigation-reject-the-finished-promise</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-navigation-api-method-navigation-reject-the-finished-promise">1.5. Traversing</a>
    <li><a href="#ref-for-navigation-api-method-navigation-reject-the-finished-promise①">2.3. Firing the event</a> <a href="#ref-for-navigation-api-method-navigation-reject-the-finished-promise②">(2)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dom-navigation-navigate">
   <b><a href="#dom-navigation-navigate">#dom-navigation-navigate</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-navigation-navigate">1. The Navigation class</a>
    <li><a href="#ref-for-dom-navigation-navigate①">1.2. The current entry</a>
    <li><a href="#ref-for-dom-navigation-navigate②">1.3. Ongoing navigation tracking</a>
    <li><a href="#ref-for-dom-navigation-navigate③">1.4. Navigating</a> <a href="#ref-for-dom-navigation-navigate④">(2)</a> <a href="#ref-for-dom-navigation-navigate⑤">(3)</a>
    <li><a href="#ref-for-dom-navigation-navigate⑥">2.2. The NavigationDestination class</a>
    <li><a href="#ref-for-dom-navigation-navigate⑦">3. Navigation API history entries</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dom-navigation-reload">
   <b><a href="#dom-navigation-reload">#dom-navigation-reload</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-navigation-reload">1. The Navigation class</a>
    <li><a href="#ref-for-dom-navigation-reload①">1.2. The current entry</a> <a href="#ref-for-dom-navigation-reload②">(2)</a>
    <li><a href="#ref-for-dom-navigation-reload③">1.4. Navigating</a>
    <li><a href="#ref-for-dom-navigation-reload④">2.2. The NavigationDestination class</a>
    <li><a href="#ref-for-dom-navigation-reload⑤">2.3. Firing the event</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="an-early-error-result">
   <b><a href="#an-early-error-result">#an-early-error-result</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-an-early-error-result">1.4. Navigating</a> <a href="#ref-for-an-early-error-result①">(2)</a> <a href="#ref-for-an-early-error-result②">(3)</a> <a href="#ref-for-an-early-error-result③">(4)</a> <a href="#ref-for-an-early-error-result④">(5)</a> <a href="#ref-for-an-early-error-result⑤">(6)</a> <a href="#ref-for-an-early-error-result⑥">(7)</a> <a href="#ref-for-an-early-error-result⑦">(8)</a> <a href="#ref-for-an-early-error-result⑧">(9)</a> <a href="#ref-for-an-early-error-result⑨">(10)</a>
    <li><a href="#ref-for-an-early-error-result①⓪">1.5. Traversing</a> <a href="#ref-for-an-early-error-result①①">(2)</a> <a href="#ref-for-an-early-error-result①②">(3)</a> <a href="#ref-for-an-early-error-result①③">(4)</a> <a href="#ref-for-an-early-error-result①④">(5)</a> <a href="#ref-for-an-early-error-result①⑤">(6)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dom-navigation-traverseto">
   <b><a href="#dom-navigation-traverseto">#dom-navigation-traverseto</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-navigation-traverseto">1. The Navigation class</a>
    <li><a href="#ref-for-dom-navigation-traverseto①">1.3. Ongoing navigation tracking</a>
    <li><a href="#ref-for-dom-navigation-traverseto②">1.5. Traversing</a> <a href="#ref-for-dom-navigation-traverseto③">(2)</a> <a href="#ref-for-dom-navigation-traverseto④">(3)</a> <a href="#ref-for-dom-navigation-traverseto⑤">(4)</a>
    <li><a href="#ref-for-dom-navigation-traverseto⑥">3. Navigation API history entries</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dom-navigation-back">
   <b><a href="#dom-navigation-back">#dom-navigation-back</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-navigation-back">1. The Navigation class</a>
    <li><a href="#ref-for-dom-navigation-back①">1.5. Traversing</a> <a href="#ref-for-dom-navigation-back②">(2)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dom-navigation-forward">
   <b><a href="#dom-navigation-forward">#dom-navigation-forward</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-navigation-forward">1. The Navigation class</a>
    <li><a href="#ref-for-dom-navigation-forward①">1.5. Traversing</a> <a href="#ref-for-dom-navigation-forward②">(2)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="perform-a-navigation-api-traversal">
   <b><a href="#perform-a-navigation-api-traversal">#perform-a-navigation-api-traversal</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-perform-a-navigation-api-traversal">1.5. Traversing</a> <a href="#ref-for-perform-a-navigation-api-traversal①">(2)</a> <a href="#ref-for-perform-a-navigation-api-traversal②">(3)</a>
    <li><a href="#ref-for-perform-a-navigation-api-traversal③">2.3. Firing the event</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dom-navigation-onnavigate">
   <b><a href="#dom-navigation-onnavigate">#dom-navigation-onnavigate</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-navigation-onnavigate">1. The Navigation class</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="eventdef-navigation-navigate">
   <b><a href="#eventdef-navigation-navigate">#eventdef-navigation-navigate</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-eventdef-navigation-navigate">1.3. Ongoing navigation tracking</a> <a href="#ref-for-eventdef-navigation-navigate①">(2)</a> <a href="#ref-for-eventdef-navigation-navigate②">(3)</a>
    <li><a href="#ref-for-eventdef-navigation-navigate③">1.4. Navigating</a> <a href="#ref-for-eventdef-navigation-navigate④">(2)</a> <a href="#ref-for-eventdef-navigation-navigate⑤">(3)</a> <a href="#ref-for-eventdef-navigation-navigate⑥">(4)</a> <a href="#ref-for-eventdef-navigation-navigate⑦">(5)</a> <a href="#ref-for-eventdef-navigation-navigate⑧">(6)</a>
    <li><a href="#ref-for-eventdef-navigation-navigate⑨">1.5. Traversing</a> <a href="#ref-for-eventdef-navigation-navigate①⓪">(2)</a> <a href="#ref-for-eventdef-navigation-navigate①①">(3)</a> <a href="#ref-for-eventdef-navigation-navigate①②">(4)</a> <a href="#ref-for-eventdef-navigation-navigate①③">(5)</a>
    <li><a href="#ref-for-eventdef-navigation-navigate①④">2. The navigate event</a>
    <li><a href="#ref-for-eventdef-navigation-navigate①⑤">2.1. The NavigateEvent class</a> <a href="#ref-for-eventdef-navigation-navigate①⑥">(2)</a>
    <li><a href="#ref-for-eventdef-navigation-navigate①⑦">2.3. Firing the event</a>
    <li><a href="#ref-for-eventdef-navigation-navigate①⑧">4.2. Navigate</a>
    <li><a href="#ref-for-eventdef-navigation-navigate①⑨">4.11. Download a hyperlink</a> <a href="#ref-for-eventdef-navigation-navigate②⓪">(2)</a>
    <li><a href="#ref-for-eventdef-navigation-navigate②①">4.12. Canceling navigations</a> <a href="#ref-for-eventdef-navigation-navigate②②">(2)</a>
    <li><a href="#ref-for-eventdef-navigation-navigate②③">5.2. Navigation monitoring and interception</a> <a href="#ref-for-eventdef-navigation-navigate②④">(2)</a> <a href="#ref-for-eventdef-navigation-navigate②⑤">(3)</a> <a href="#ref-for-eventdef-navigation-navigate②⑥">(4)</a> <a href="#ref-for-eventdef-navigation-navigate②⑦">(5)</a> <a href="#ref-for-eventdef-navigation-navigate②⑧">(6)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dom-navigation-onnavigatesuccess">
   <b><a href="#dom-navigation-onnavigatesuccess">#dom-navigation-onnavigatesuccess</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-navigation-onnavigatesuccess">1. The Navigation class</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="eventdef-navigation-navigatesuccess">
   <b><a href="#eventdef-navigation-navigatesuccess">#eventdef-navigation-navigatesuccess</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-eventdef-navigation-navigatesuccess">1.3. Ongoing navigation tracking</a> <a href="#ref-for-eventdef-navigation-navigatesuccess①">(2)</a> <a href="#ref-for-eventdef-navigation-navigatesuccess②">(3)</a>
    <li><a href="#ref-for-eventdef-navigation-navigatesuccess③">2.1. The NavigateEvent class</a>
    <li><a href="#ref-for-eventdef-navigation-navigatesuccess④">2.3. Firing the event</a> <a href="#ref-for-eventdef-navigation-navigatesuccess⑤">(2)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dom-navigation-onnavigateerror">
   <b><a href="#dom-navigation-onnavigateerror">#dom-navigation-onnavigateerror</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-navigation-onnavigateerror">1. The Navigation class</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="eventdef-navigation-navigateerror">
   <b><a href="#eventdef-navigation-navigateerror">#eventdef-navigation-navigateerror</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-eventdef-navigation-navigateerror">1.3. Ongoing navigation tracking</a> <a href="#ref-for-eventdef-navigation-navigateerror①">(2)</a> <a href="#ref-for-eventdef-navigation-navigateerror②">(3)</a> <a href="#ref-for-eventdef-navigation-navigateerror③">(4)</a>
    <li><a href="#ref-for-eventdef-navigation-navigateerror④">2.1. The NavigateEvent class</a>
    <li><a href="#ref-for-eventdef-navigation-navigateerror⑤">2.3. Firing the event</a> <a href="#ref-for-eventdef-navigation-navigateerror⑥">(2)</a> <a href="#ref-for-eventdef-navigation-navigateerror⑦">(3)</a>
    <li><a href="#ref-for-eventdef-navigation-navigateerror⑧">4.18. Helpful note: failed attempt to populate</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dom-navigation-oncurrententrychange">
   <b><a href="#dom-navigation-oncurrententrychange">#dom-navigation-oncurrententrychange</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-navigation-oncurrententrychange">1. The Navigation class</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="eventdef-navigation-currententrychange">
   <b><a href="#eventdef-navigation-currententrychange">#eventdef-navigation-currententrychange</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-eventdef-navigation-currententrychange">1. The Navigation class</a> <a href="#ref-for-eventdef-navigation-currententrychange①">(2)</a>
    <li><a href="#ref-for-eventdef-navigation-currententrychange②">1.2. The current entry</a>
    <li><a href="#ref-for-eventdef-navigation-currententrychange③">2.3. Firing the event</a> <a href="#ref-for-eventdef-navigation-currententrychange④">(2)</a> <a href="#ref-for-eventdef-navigation-currententrychange⑤">(3)</a> <a href="#ref-for-eventdef-navigation-currententrychange⑥">(4)</a>
    <li><a href="#ref-for-eventdef-navigation-currententrychange⑦">4.6. Update document for history state application</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="navigateevent">
   <b><a href="#navigateevent">#navigateevent</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-navigateevent">1.3. Ongoing navigation tracking</a> <a href="#ref-for-navigateevent①">(2)</a>
    <li><a href="#ref-for-navigateevent②">2.1. The NavigateEvent class</a> <a href="#ref-for-navigateevent③">(2)</a> <a href="#ref-for-navigateevent④">(3)</a> <a href="#ref-for-navigateevent⑤">(4)</a> <a href="#ref-for-navigateevent⑥">(5)</a> <a href="#ref-for-navigateevent⑦">(6)</a> <a href="#ref-for-navigateevent⑧">(7)</a> <a href="#ref-for-navigateevent⑨">(8)</a>
    <li><a href="#ref-for-navigateevent①⓪">2.3. Firing the event</a> <a href="#ref-for-navigateevent①①">(2)</a> <a href="#ref-for-navigateevent①②">(3)</a> <a href="#ref-for-navigateevent①③">(4)</a> <a href="#ref-for-navigateevent①④">(5)</a> <a href="#ref-for-navigateevent①⑤">(6)</a> <a href="#ref-for-navigateevent①⑥">(7)</a> <a href="#ref-for-navigateevent①⑦">(8)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dictdef-navigateeventinit">
   <b><a href="#dictdef-navigateeventinit">#dictdef-navigateeventinit</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dictdef-navigateeventinit">2.1. The NavigateEvent class</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dictdef-navigationinterceptoptions">
   <b><a href="#dictdef-navigationinterceptoptions">#dictdef-navigationinterceptoptions</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dictdef-navigationinterceptoptions">2.1. The NavigateEvent class</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dom-navigationinterceptoptions-handler">
   <b><a href="#dom-navigationinterceptoptions-handler">#dom-navigationinterceptoptions-handler</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-navigationinterceptoptions-handler">2.1. The NavigateEvent class</a> <a href="#ref-for-dom-navigationinterceptoptions-handler①">(2)</a> <a href="#ref-for-dom-navigationinterceptoptions-handler②">(3)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dom-navigationinterceptoptions-focusreset">
   <b><a href="#dom-navigationinterceptoptions-focusreset">#dom-navigationinterceptoptions-focusreset</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-navigationinterceptoptions-focusreset">2.1. The NavigateEvent class</a> <a href="#ref-for-dom-navigationinterceptoptions-focusreset①">(2)</a> <a href="#ref-for-dom-navigationinterceptoptions-focusreset②">(3)</a> <a href="#ref-for-dom-navigationinterceptoptions-focusreset③">(4)</a> <a href="#ref-for-dom-navigationinterceptoptions-focusreset④">(5)</a> <a href="#ref-for-dom-navigationinterceptoptions-focusreset⑤">(6)</a>
    <li><a href="#ref-for-dom-navigationinterceptoptions-focusreset⑥">4.16. Focus tracking</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dom-navigationinterceptoptions-scroll">
   <b><a href="#dom-navigationinterceptoptions-scroll">#dom-navigationinterceptoptions-scroll</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-navigationinterceptoptions-scroll">1.3. Ongoing navigation tracking</a>
    <li><a href="#ref-for-dom-navigationinterceptoptions-scroll①">2.1. The NavigateEvent class</a> <a href="#ref-for-dom-navigationinterceptoptions-scroll②">(2)</a> <a href="#ref-for-dom-navigationinterceptoptions-scroll③">(3)</a> <a href="#ref-for-dom-navigationinterceptoptions-scroll④">(4)</a> <a href="#ref-for-dom-navigationinterceptoptions-scroll⑤">(5)</a> <a href="#ref-for-dom-navigationinterceptoptions-scroll⑥">(6)</a> <a href="#ref-for-dom-navigationinterceptoptions-scroll⑦">(7)</a>
    <li><a href="#ref-for-dom-navigationinterceptoptions-scroll⑧">4.17. Scroll restoration</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="enumdef-navigationfocusreset">
   <b><a href="#enumdef-navigationfocusreset">#enumdef-navigationfocusreset</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-enumdef-navigationfocusreset">2.1. The NavigateEvent class</a> <a href="#ref-for-enumdef-navigationfocusreset①">(2)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dom-navigationfocusreset-after-transition">
   <b><a href="#dom-navigationfocusreset-after-transition">#dom-navigationfocusreset-after-transition</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-navigationfocusreset-after-transition">2.3. Firing the event</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dom-navigationfocusreset-manual">
   <b><a href="#dom-navigationfocusreset-manual">#dom-navigationfocusreset-manual</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-navigationfocusreset-manual">2.1. The NavigateEvent class</a>
    <li><a href="#ref-for-dom-navigationfocusreset-manual①">2.3. Firing the event</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="enumdef-navigationscrollbehavior">
   <b><a href="#enumdef-navigationscrollbehavior">#enumdef-navigationscrollbehavior</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-enumdef-navigationscrollbehavior">2.1. The NavigateEvent class</a> <a href="#ref-for-enumdef-navigationscrollbehavior①">(2)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dom-navigationscrollbehavior-after-transition">
   <b><a href="#dom-navigationscrollbehavior-after-transition">#dom-navigationscrollbehavior-after-transition</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-navigationscrollbehavior-after-transition">2.1. The NavigateEvent class</a>
    <li><a href="#ref-for-dom-navigationscrollbehavior-after-transition①">2.3. Firing the event</a> <a href="#ref-for-dom-navigationscrollbehavior-after-transition②">(2)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dom-navigationscrollbehavior-manual">
   <b><a href="#dom-navigationscrollbehavior-manual">#dom-navigationscrollbehavior-manual</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-navigationscrollbehavior-manual">2.1. The NavigateEvent class</a>
    <li><a href="#ref-for-dom-navigationscrollbehavior-manual①">2.3. Firing the event</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="callbackdef-navigationintercepthandler">
   <b><a href="#callbackdef-navigationintercepthandler">#callbackdef-navigationintercepthandler</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-callbackdef-navigationintercepthandler">2.1. The NavigateEvent class</a> <a href="#ref-for-callbackdef-navigationintercepthandler①">(2)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="enumdef-navigationtype">
   <b><a href="#enumdef-navigationtype">#enumdef-navigationtype</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-enumdef-navigationtype">1. The Navigation class</a>
    <li><a href="#ref-for-enumdef-navigationtype①">1.2. The current entry</a> <a href="#ref-for-enumdef-navigationtype②">(2)</a>
    <li><a href="#ref-for-enumdef-navigationtype③">1.3. Ongoing navigation tracking</a> <a href="#ref-for-enumdef-navigationtype④">(2)</a>
    <li><a href="#ref-for-enumdef-navigationtype⑤">2.1. The NavigateEvent class</a> <a href="#ref-for-enumdef-navigationtype⑥">(2)</a>
    <li><a href="#ref-for-enumdef-navigationtype⑦">2.3. Firing the event</a> <a href="#ref-for-enumdef-navigationtype⑧">(2)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dom-navigationtype-reload">
   <b><a href="#dom-navigationtype-reload">#dom-navigationtype-reload</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-navigationtype-reload">1.3. Ongoing navigation tracking</a>
    <li><a href="#ref-for-dom-navigationtype-reload①">2.1. The NavigateEvent class</a> <a href="#ref-for-dom-navigationtype-reload②">(2)</a> <a href="#ref-for-dom-navigationtype-reload③">(3)</a> <a href="#ref-for-dom-navigationtype-reload④">(4)</a>
    <li><a href="#ref-for-dom-navigationtype-reload⑤">2.2. The NavigationDestination class</a>
    <li><a href="#ref-for-dom-navigationtype-reload⑥">2.3. Firing the event</a> <a href="#ref-for-dom-navigationtype-reload⑦">(2)</a>
    <li><a href="#ref-for-dom-navigationtype-reload⑧">4.9. Reload</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dom-navigationtype-push">
   <b><a href="#dom-navigationtype-push">#dom-navigationtype-push</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-navigationtype-push">1. The Navigation class</a> <a href="#ref-for-dom-navigationtype-push①">(2)</a>
    <li><a href="#ref-for-dom-navigationtype-push②">1.3. Ongoing navigation tracking</a>
    <li><a href="#ref-for-dom-navigationtype-push③">2.1. The NavigateEvent class</a> <a href="#ref-for-dom-navigationtype-push④">(2)</a> <a href="#ref-for-dom-navigationtype-push⑤">(3)</a> <a href="#ref-for-dom-navigationtype-push⑥">(4)</a> <a href="#ref-for-dom-navigationtype-push⑦">(5)</a>
    <li><a href="#ref-for-dom-navigationtype-push⑧">2.2. The NavigationDestination class</a>
    <li><a href="#ref-for-dom-navigationtype-push⑨">2.3. Firing the event</a> <a href="#ref-for-dom-navigationtype-push①⓪">(2)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dom-navigationtype-replace">
   <b><a href="#dom-navigationtype-replace">#dom-navigationtype-replace</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-navigationtype-replace">1. The Navigation class</a> <a href="#ref-for-dom-navigationtype-replace①">(2)</a>
    <li><a href="#ref-for-dom-navigationtype-replace②">1.3. Ongoing navigation tracking</a>
    <li><a href="#ref-for-dom-navigationtype-replace③">2.1. The NavigateEvent class</a> <a href="#ref-for-dom-navigationtype-replace④">(2)</a> <a href="#ref-for-dom-navigationtype-replace⑤">(3)</a> <a href="#ref-for-dom-navigationtype-replace⑥">(4)</a> <a href="#ref-for-dom-navigationtype-replace⑦">(5)</a>
    <li><a href="#ref-for-dom-navigationtype-replace⑧">2.2. The NavigationDestination class</a>
    <li><a href="#ref-for-dom-navigationtype-replace⑨">2.3. Firing the event</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dom-navigationtype-traverse">
   <b><a href="#dom-navigationtype-traverse">#dom-navigationtype-traverse</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-navigationtype-traverse">1. The Navigation class</a>
    <li><a href="#ref-for-dom-navigationtype-traverse①">1.3. Ongoing navigation tracking</a> <a href="#ref-for-dom-navigationtype-traverse②">(2)</a> <a href="#ref-for-dom-navigationtype-traverse③">(3)</a>
    <li><a href="#ref-for-dom-navigationtype-traverse④">2.1. The NavigateEvent class</a> <a href="#ref-for-dom-navigationtype-traverse⑤">(2)</a> <a href="#ref-for-dom-navigationtype-traverse⑥">(3)</a> <a href="#ref-for-dom-navigationtype-traverse⑦">(4)</a>
    <li><a href="#ref-for-dom-navigationtype-traverse⑧">2.2. The NavigationDestination class</a> <a href="#ref-for-dom-navigationtype-traverse⑨">(2)</a> <a href="#ref-for-dom-navigationtype-traverse①⓪">(3)</a> <a href="#ref-for-dom-navigationtype-traverse①①">(4)</a>
    <li><a href="#ref-for-dom-navigationtype-traverse①②">2.3. Firing the event</a> <a href="#ref-for-dom-navigationtype-traverse①③">(2)</a> <a href="#ref-for-dom-navigationtype-traverse①④">(3)</a> <a href="#ref-for-dom-navigationtype-traverse①⑤">(4)</a> <a href="#ref-for-dom-navigationtype-traverse①⑥">(5)</a> <a href="#ref-for-dom-navigationtype-traverse①⑦">(6)</a> <a href="#ref-for-dom-navigationtype-traverse①⑧">(7)</a> <a href="#ref-for-dom-navigationtype-traverse①⑨">(8)</a>
    <li><a href="#ref-for-dom-navigationtype-traverse②⓪">4.6. Update document for history state application</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dom-navigateevent-navigationtype">
   <b><a href="#dom-navigateevent-navigationtype">#dom-navigateevent-navigationtype</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-navigateevent-navigationtype">2.1. The NavigateEvent class</a> <a href="#ref-for-dom-navigateevent-navigationtype①">(2)</a> <a href="#ref-for-dom-navigateevent-navigationtype②">(3)</a>
    <li><a href="#ref-for-dom-navigateevent-navigationtype③">2.3. Firing the event</a> <a href="#ref-for-dom-navigateevent-navigationtype④">(2)</a> <a href="#ref-for-dom-navigateevent-navigationtype⑤">(3)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dom-navigateevent-destination">
   <b><a href="#dom-navigateevent-destination">#dom-navigateevent-destination</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-navigateevent-destination">2.1. The NavigateEvent class</a> <a href="#ref-for-dom-navigateevent-destination①">(2)</a>
    <li><a href="#ref-for-dom-navigateevent-destination②">2.2. The NavigationDestination class</a> <a href="#ref-for-dom-navigateevent-destination③">(2)</a> <a href="#ref-for-dom-navigateevent-destination④">(3)</a> <a href="#ref-for-dom-navigateevent-destination⑤">(4)</a> <a href="#ref-for-dom-navigateevent-destination⑥">(5)</a> <a href="#ref-for-dom-navigateevent-destination⑦">(6)</a>
    <li><a href="#ref-for-dom-navigateevent-destination⑧">2.3. Firing the event</a> <a href="#ref-for-dom-navigateevent-destination⑨">(2)</a> <a href="#ref-for-dom-navigateevent-destination①⓪">(3)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dom-navigateevent-canintercept">
   <b><a href="#dom-navigateevent-canintercept">#dom-navigateevent-canintercept</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-navigateevent-canintercept">2.1. The NavigateEvent class</a> <a href="#ref-for-dom-navigateevent-canintercept①">(2)</a> <a href="#ref-for-dom-navigateevent-canintercept②">(3)</a> <a href="#ref-for-dom-navigateevent-canintercept③">(4)</a>
    <li><a href="#ref-for-dom-navigateevent-canintercept④">2.3. Firing the event</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dom-navigateevent-userinitiated">
   <b><a href="#dom-navigateevent-userinitiated">#dom-navigateevent-userinitiated</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-navigateevent-userinitiated">2.1. The NavigateEvent class</a> <a href="#ref-for-dom-navigateevent-userinitiated①">(2)</a>
    <li><a href="#ref-for-dom-navigateevent-userinitiated②">2.3. Firing the event</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dom-navigateevent-hashchange">
   <b><a href="#dom-navigateevent-hashchange">#dom-navigateevent-hashchange</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-navigateevent-hashchange">2.1. The NavigateEvent class</a> <a href="#ref-for-dom-navigateevent-hashchange①">(2)</a>
    <li><a href="#ref-for-dom-navigateevent-hashchange②">2.3. Firing the event</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dom-navigateevent-signal">
   <b><a href="#dom-navigateevent-signal">#dom-navigateevent-signal</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-navigateevent-signal">1.3. Ongoing navigation tracking</a>
    <li><a href="#ref-for-dom-navigateevent-signal①">2.1. The NavigateEvent class</a> <a href="#ref-for-dom-navigateevent-signal②">(2)</a>
    <li><a href="#ref-for-dom-navigateevent-signal③">2.3. Firing the event</a> <a href="#ref-for-dom-navigateevent-signal④">(2)</a> <a href="#ref-for-dom-navigateevent-signal⑤">(3)</a> <a href="#ref-for-dom-navigateevent-signal⑥">(4)</a> <a href="#ref-for-dom-navigateevent-signal⑦">(5)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dom-navigateevent-formdata">
   <b><a href="#dom-navigateevent-formdata">#dom-navigateevent-formdata</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-navigateevent-formdata">2.1. The NavigateEvent class</a> <a href="#ref-for-dom-navigateevent-formdata①">(2)</a>
    <li><a href="#ref-for-dom-navigateevent-formdata②">2.3. Firing the event</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dom-navigateevent-downloadrequest">
   <b><a href="#dom-navigateevent-downloadrequest">#dom-navigateevent-downloadrequest</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-navigateevent-downloadrequest">2.1. The NavigateEvent class</a> <a href="#ref-for-dom-navigateevent-downloadrequest①">(2)</a>
    <li><a href="#ref-for-dom-navigateevent-downloadrequest②">2.3. Firing the event</a>
    <li><a href="#ref-for-dom-navigateevent-downloadrequest③">4.11. Download a hyperlink</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dom-navigateevent-info">
   <b><a href="#dom-navigateevent-info">#dom-navigateevent-info</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-navigateevent-info">1.4. Navigating</a>
    <li><a href="#ref-for-dom-navigateevent-info①">1.5. Traversing</a> <a href="#ref-for-dom-navigateevent-info②">(2)</a> <a href="#ref-for-dom-navigateevent-info③">(3)</a>
    <li><a href="#ref-for-dom-navigateevent-info④">2.1. The NavigateEvent class</a> <a href="#ref-for-dom-navigateevent-info⑤">(2)</a>
    <li><a href="#ref-for-dom-navigateevent-info⑥">2.3. Firing the event</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="navigateevent-classic-history-api-serialized-data">
   <b><a href="#navigateevent-classic-history-api-serialized-data">#navigateevent-classic-history-api-serialized-data</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-navigateevent-classic-history-api-serialized-data">2.3. Firing the event</a> <a href="#ref-for-navigateevent-classic-history-api-serialized-data①">(2)</a> <a href="#ref-for-navigateevent-classic-history-api-serialized-data②">(3)</a> <a href="#ref-for-navigateevent-classic-history-api-serialized-data③">(4)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="navigateevent-focus-reset-behavior">
   <b><a href="#navigateevent-focus-reset-behavior">#navigateevent-focus-reset-behavior</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-navigateevent-focus-reset-behavior">2.1. The NavigateEvent class</a> <a href="#ref-for-navigateevent-focus-reset-behavior①">(2)</a>
    <li><a href="#ref-for-navigateevent-focus-reset-behavior②">2.3. Firing the event</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="navigateevent-scroll-behavior">
   <b><a href="#navigateevent-scroll-behavior">#navigateevent-scroll-behavior</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-navigateevent-scroll-behavior">2.1. The NavigateEvent class</a> <a href="#ref-for-navigateevent-scroll-behavior①">(2)</a>
    <li><a href="#ref-for-navigateevent-scroll-behavior②">2.3. Firing the event</a> <a href="#ref-for-navigateevent-scroll-behavior③">(2)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="navigateevent-did-process-scroll-behavior">
   <b><a href="#navigateevent-did-process-scroll-behavior">#navigateevent-did-process-scroll-behavior</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-navigateevent-did-process-scroll-behavior">2.1. The NavigateEvent class</a>
    <li><a href="#ref-for-navigateevent-did-process-scroll-behavior①">2.3. Firing the event</a> <a href="#ref-for-navigateevent-did-process-scroll-behavior②">(2)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="navigateevent-was-intercepted">
   <b><a href="#navigateevent-was-intercepted">#navigateevent-was-intercepted</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-navigateevent-was-intercepted">2.1. The NavigateEvent class</a> <a href="#ref-for-navigateevent-was-intercepted①">(2)</a>
    <li><a href="#ref-for-navigateevent-was-intercepted②">2.3. Firing the event</a> <a href="#ref-for-navigateevent-was-intercepted③">(2)</a> <a href="#ref-for-navigateevent-was-intercepted④">(3)</a> <a href="#ref-for-navigateevent-was-intercepted⑤">(4)</a> <a href="#ref-for-navigateevent-was-intercepted⑥">(5)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="navigateevent-needs-continue">
   <b><a href="#navigateevent-needs-continue">#navigateevent-needs-continue</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-navigateevent-needs-continue">2.3. Firing the event</a> <a href="#ref-for-navigateevent-needs-continue①">(2)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="navigateevent-navigation-handler-list">
   <b><a href="#navigateevent-navigation-handler-list">#navigateevent-navigation-handler-list</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-navigateevent-navigation-handler-list">2.1. The NavigateEvent class</a>
    <li><a href="#ref-for-navigateevent-navigation-handler-list①">2.3. Firing the event</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dom-navigateevent-intercept">
   <b><a href="#dom-navigateevent-intercept">#dom-navigateevent-intercept</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-navigateevent-intercept">1.3. Ongoing navigation tracking</a> <a href="#ref-for-dom-navigateevent-intercept①">(2)</a> <a href="#ref-for-dom-navigateevent-intercept②">(3)</a> <a href="#ref-for-dom-navigateevent-intercept③">(4)</a> <a href="#ref-for-dom-navigateevent-intercept④">(5)</a> <a href="#ref-for-dom-navigateevent-intercept⑤">(6)</a>
    <li><a href="#ref-for-dom-navigateevent-intercept⑥">1.4. Navigating</a> <a href="#ref-for-dom-navigateevent-intercept⑦">(2)</a> <a href="#ref-for-dom-navigateevent-intercept⑧">(3)</a> <a href="#ref-for-dom-navigateevent-intercept⑨">(4)</a> <a href="#ref-for-dom-navigateevent-intercept①⓪">(5)</a> <a href="#ref-for-dom-navigateevent-intercept①①">(6)</a>
    <li><a href="#ref-for-dom-navigateevent-intercept①②">1.5. Traversing</a> <a href="#ref-for-dom-navigateevent-intercept①③">(2)</a>
    <li><a href="#ref-for-dom-navigateevent-intercept①④">2.1. The NavigateEvent class</a> <a href="#ref-for-dom-navigateevent-intercept①⑤">(2)</a> <a href="#ref-for-dom-navigateevent-intercept①⑥">(3)</a> <a href="#ref-for-dom-navigateevent-intercept①⑦">(4)</a> <a href="#ref-for-dom-navigateevent-intercept①⑧">(5)</a>
    <li><a href="#ref-for-dom-navigateevent-intercept①⑨">2.2. The NavigationDestination class</a>
    <li><a href="#ref-for-dom-navigateevent-intercept②⓪">2.3. Firing the event</a> <a href="#ref-for-dom-navigateevent-intercept②①">(2)</a> <a href="#ref-for-dom-navigateevent-intercept②②">(3)</a> <a href="#ref-for-dom-navigateevent-intercept②③">(4)</a>
    <li><a href="#ref-for-dom-navigateevent-intercept②④">4.16. Focus tracking</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dom-navigateevent-scroll">
   <b><a href="#dom-navigateevent-scroll">#dom-navigateevent-scroll</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-navigateevent-scroll">2.1. The NavigateEvent class</a> <a href="#ref-for-dom-navigateevent-scroll①">(2)</a> <a href="#ref-for-dom-navigateevent-scroll②">(3)</a>
    <li><a href="#ref-for-dom-navigateevent-scroll③">4.17. Scroll restoration</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="navigationdestination">
   <b><a href="#navigationdestination">#navigationdestination</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-navigationdestination">2.1. The NavigateEvent class</a> <a href="#ref-for-navigationdestination①">(2)</a> <a href="#ref-for-navigationdestination②">(3)</a>
    <li><a href="#ref-for-navigationdestination③">2.2. The NavigationDestination class</a> <a href="#ref-for-navigationdestination④">(2)</a> <a href="#ref-for-navigationdestination⑤">(3)</a> <a href="#ref-for-navigationdestination⑥">(4)</a> <a href="#ref-for-navigationdestination⑦">(5)</a> <a href="#ref-for-navigationdestination⑧">(6)</a> <a href="#ref-for-navigationdestination⑨">(7)</a>
    <li><a href="#ref-for-navigationdestination①⓪">2.3. Firing the event</a> <a href="#ref-for-navigationdestination①①">(2)</a> <a href="#ref-for-navigationdestination①②">(3)</a> <a href="#ref-for-navigationdestination①③">(4)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="navigationdestination-url">
   <b><a href="#navigationdestination-url">#navigationdestination-url</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-navigationdestination-url">2.2. The NavigationDestination class</a>
    <li><a href="#ref-for-navigationdestination-url①">2.3. Firing the event</a> <a href="#ref-for-navigationdestination-url②">(2)</a> <a href="#ref-for-navigationdestination-url③">(3)</a> <a href="#ref-for-navigationdestination-url④">(4)</a> <a href="#ref-for-navigationdestination-url⑤">(5)</a> <a href="#ref-for-navigationdestination-url⑥">(6)</a> <a href="#ref-for-navigationdestination-url⑦">(7)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="navigationdestination-key">
   <b><a href="#navigationdestination-key">#navigationdestination-key</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-navigationdestination-key">2.2. The NavigationDestination class</a>
    <li><a href="#ref-for-navigationdestination-key①">2.3. Firing the event</a> <a href="#ref-for-navigationdestination-key②">(2)</a> <a href="#ref-for-navigationdestination-key③">(3)</a> <a href="#ref-for-navigationdestination-key④">(4)</a> <a href="#ref-for-navigationdestination-key⑤">(5)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="navigationdestination-id">
   <b><a href="#navigationdestination-id">#navigationdestination-id</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-navigationdestination-id">2.2. The NavigationDestination class</a>
    <li><a href="#ref-for-navigationdestination-id①">2.3. Firing the event</a> <a href="#ref-for-navigationdestination-id②">(2)</a> <a href="#ref-for-navigationdestination-id③">(3)</a> <a href="#ref-for-navigationdestination-id④">(4)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="navigationdestination-index">
   <b><a href="#navigationdestination-index">#navigationdestination-index</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-navigationdestination-index">2.2. The NavigationDestination class</a>
    <li><a href="#ref-for-navigationdestination-index①">2.3. Firing the event</a> <a href="#ref-for-navigationdestination-index②">(2)</a> <a href="#ref-for-navigationdestination-index③">(3)</a> <a href="#ref-for-navigationdestination-index④">(4)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="navigationdestination-state">
   <b><a href="#navigationdestination-state">#navigationdestination-state</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-navigationdestination-state">2.2. The NavigationDestination class</a> <a href="#ref-for-navigationdestination-state①">(2)</a>
    <li><a href="#ref-for-navigationdestination-state②">2.3. Firing the event</a> <a href="#ref-for-navigationdestination-state③">(2)</a> <a href="#ref-for-navigationdestination-state④">(3)</a> <a href="#ref-for-navigationdestination-state⑤">(4)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="navigationdestination-is-same-document">
   <b><a href="#navigationdestination-is-same-document">#navigationdestination-is-same-document</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-navigationdestination-is-same-document">2.2. The NavigationDestination class</a>
    <li><a href="#ref-for-navigationdestination-is-same-document①">2.3. Firing the event</a> <a href="#ref-for-navigationdestination-is-same-document②">(2)</a> <a href="#ref-for-navigationdestination-is-same-document③">(3)</a> <a href="#ref-for-navigationdestination-is-same-document④">(4)</a> <a href="#ref-for-navigationdestination-is-same-document⑤">(5)</a> <a href="#ref-for-navigationdestination-is-same-document⑥">(6)</a> <a href="#ref-for-navigationdestination-is-same-document⑦">(7)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dom-navigationdestination-url">
   <b><a href="#dom-navigationdestination-url">#dom-navigationdestination-url</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-navigationdestination-url">2.1. The NavigateEvent class</a>
    <li><a href="#ref-for-dom-navigationdestination-url①">2.2. The NavigationDestination class</a> <a href="#ref-for-dom-navigationdestination-url②">(2)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dom-navigationdestination-key">
   <b><a href="#dom-navigationdestination-key">#dom-navigationdestination-key</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-navigationdestination-key">2.2. The NavigationDestination class</a> <a href="#ref-for-dom-navigationdestination-key①">(2)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dom-navigationdestination-id">
   <b><a href="#dom-navigationdestination-id">#dom-navigationdestination-id</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-navigationdestination-id">2.2. The NavigationDestination class</a> <a href="#ref-for-dom-navigationdestination-id①">(2)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dom-navigationdestination-index">
   <b><a href="#dom-navigationdestination-index">#dom-navigationdestination-index</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-navigationdestination-index">2.2. The NavigationDestination class</a> <a href="#ref-for-dom-navigationdestination-index①">(2)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dom-navigationdestination-samedocument">
   <b><a href="#dom-navigationdestination-samedocument">#dom-navigationdestination-samedocument</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-navigationdestination-samedocument">2.2. The NavigationDestination class</a> <a href="#ref-for-dom-navigationdestination-samedocument①">(2)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dom-navigationdestination-getstate">
   <b><a href="#dom-navigationdestination-getstate">#dom-navigationdestination-getstate</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-navigationdestination-getstate">2.2. The NavigationDestination class</a> <a href="#ref-for-dom-navigationdestination-getstate①">(2)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="fire-a-traversal-navigate-event">
   <b><a href="#fire-a-traversal-navigate-event">#fire-a-traversal-navigate-event</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-fire-a-traversal-navigate-event">4.13. Check if unloading is user-canceled</a> <a href="#ref-for-fire-a-traversal-navigate-event①">(2)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="fire-a-traversal-navigate-event-destinationentry">
   <b><a href="#fire-a-traversal-navigate-event-destinationentry">#fire-a-traversal-navigate-event-destinationentry</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-fire-a-traversal-navigate-event-destinationentry">4.13. Check if unloading is user-canceled</a> <a href="#ref-for-fire-a-traversal-navigate-event-destinationentry①">(2)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="fire-a-traversal-navigate-event-userinvolvement">
   <b><a href="#fire-a-traversal-navigate-event-userinvolvement">#fire-a-traversal-navigate-event-userinvolvement</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-fire-a-traversal-navigate-event-userinvolvement">4.13. Check if unloading is user-canceled</a> <a href="#ref-for-fire-a-traversal-navigate-event-userinvolvement①">(2)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="fire-a-non-traversal-navigate-event">
   <b><a href="#fire-a-non-traversal-navigate-event">#fire-a-non-traversal-navigate-event</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-fire-a-non-traversal-navigate-event">4.2. Navigate</a>
    <li><a href="#ref-for-fire-a-non-traversal-navigate-event①">4.3. Navigate to a fragment</a>
    <li><a href="#ref-for-fire-a-non-traversal-navigate-event②">4.4. Shared history push/replace state steps</a>
    <li><a href="#ref-for-fire-a-non-traversal-navigate-event③">4.9. Reload</a>
    <li><a href="#ref-for-fire-a-non-traversal-navigate-event④">4.11. Download a hyperlink</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="fire-a-non-traversal-navigate-event-navigationtype">
   <b><a href="#fire-a-non-traversal-navigate-event-navigationtype">#fire-a-non-traversal-navigate-event-navigationtype</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-fire-a-non-traversal-navigate-event-navigationtype">4.2. Navigate</a>
    <li><a href="#ref-for-fire-a-non-traversal-navigate-event-navigationtype①">4.3. Navigate to a fragment</a>
    <li><a href="#ref-for-fire-a-non-traversal-navigate-event-navigationtype②">4.4. Shared history push/replace state steps</a>
    <li><a href="#ref-for-fire-a-non-traversal-navigate-event-navigationtype③">4.9. Reload</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="fire-a-non-traversal-navigate-event-destinationurl">
   <b><a href="#fire-a-non-traversal-navigate-event-destinationurl">#fire-a-non-traversal-navigate-event-destinationurl</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-fire-a-non-traversal-navigate-event-destinationurl">4.2. Navigate</a>
    <li><a href="#ref-for-fire-a-non-traversal-navigate-event-destinationurl①">4.3. Navigate to a fragment</a>
    <li><a href="#ref-for-fire-a-non-traversal-navigate-event-destinationurl②">4.4. Shared history push/replace state steps</a>
    <li><a href="#ref-for-fire-a-non-traversal-navigate-event-destinationurl③">4.9. Reload</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="fire-a-non-traversal-navigate-event-issamedocument">
   <b><a href="#fire-a-non-traversal-navigate-event-issamedocument">#fire-a-non-traversal-navigate-event-issamedocument</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-fire-a-non-traversal-navigate-event-issamedocument">4.2. Navigate</a>
    <li><a href="#ref-for-fire-a-non-traversal-navigate-event-issamedocument①">4.3. Navigate to a fragment</a>
    <li><a href="#ref-for-fire-a-non-traversal-navigate-event-issamedocument②">4.4. Shared history push/replace state steps</a>
    <li><a href="#ref-for-fire-a-non-traversal-navigate-event-issamedocument③">4.9. Reload</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="fire-a-non-traversal-navigate-event-userinvolvement">
   <b><a href="#fire-a-non-traversal-navigate-event-userinvolvement">#fire-a-non-traversal-navigate-event-userinvolvement</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-fire-a-non-traversal-navigate-event-userinvolvement">4.2. Navigate</a>
    <li><a href="#ref-for-fire-a-non-traversal-navigate-event-userinvolvement①">4.3. Navigate to a fragment</a>
    <li><a href="#ref-for-fire-a-non-traversal-navigate-event-userinvolvement②">4.9. Reload</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="fire-a-non-traversal-navigate-event-state">
   <b><a href="#fire-a-non-traversal-navigate-event-state">#fire-a-non-traversal-navigate-event-state</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-fire-a-non-traversal-navigate-event-state">4.2. Navigate</a>
    <li><a href="#ref-for-fire-a-non-traversal-navigate-event-state①">4.9. Reload</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="fire-a-non-traversal-navigate-event-formdataentrylist">
   <b><a href="#fire-a-non-traversal-navigate-event-formdataentrylist">#fire-a-non-traversal-navigate-event-formdataentrylist</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-fire-a-non-traversal-navigate-event-formdataentrylist">4.2. Navigate</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="fire-a-non-traversal-navigate-event-classichistoryapiserializeddata">
   <b><a href="#fire-a-non-traversal-navigate-event-classichistoryapiserializeddata">#fire-a-non-traversal-navigate-event-classichistoryapiserializeddata</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-fire-a-non-traversal-navigate-event-classichistoryapiserializeddata">4.4. Shared history push/replace state steps</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="fire-a-download-requested-navigate-event">
   <b><a href="#fire-a-download-requested-navigate-event">#fire-a-download-requested-navigate-event</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-fire-a-download-requested-navigate-event">4.11. Download a hyperlink</a> <a href="#ref-for-fire-a-download-requested-navigate-event①">(2)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="fire-a-download-requested-navigate-event-destinationurl">
   <b><a href="#fire-a-download-requested-navigate-event-destinationurl">#fire-a-download-requested-navigate-event-destinationurl</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-fire-a-download-requested-navigate-event-destinationurl">4.11. Download a hyperlink</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="fire-a-download-requested-navigate-event-userinvolvement">
   <b><a href="#fire-a-download-requested-navigate-event-userinvolvement">#fire-a-download-requested-navigate-event-userinvolvement</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-fire-a-download-requested-navigate-event-userinvolvement">4.11. Download a hyperlink</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="fire-a-download-requested-navigate-event-filename">
   <b><a href="#fire-a-download-requested-navigate-event-filename">#fire-a-download-requested-navigate-event-filename</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-fire-a-download-requested-navigate-event-filename">4.11. Download a hyperlink</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="inner-navigate-event-firing-algorithm">
   <b><a href="#inner-navigate-event-firing-algorithm">#inner-navigate-event-firing-algorithm</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-inner-navigate-event-firing-algorithm">1.4. Navigating</a> <a href="#ref-for-inner-navigate-event-firing-algorithm①">(2)</a>
    <li><a href="#ref-for-inner-navigate-event-firing-algorithm②">2.3. Firing the event</a> <a href="#ref-for-inner-navigate-event-firing-algorithm③">(2)</a> <a href="#ref-for-inner-navigate-event-firing-algorithm④">(3)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="react-to-navigate-event-result">
   <b><a href="#react-to-navigate-event-result">#react-to-navigate-event-result</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-react-to-navigate-event-result">2.3. Firing the event</a> <a href="#ref-for-react-to-navigate-event-result①">(2)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="maybe-continue-the-navigate-event">
   <b><a href="#maybe-continue-the-navigate-event">#maybe-continue-the-navigate-event</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-maybe-continue-the-navigate-event">4.13. Check if unloading is user-canceled</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="finalize-with-an-aborted-navigation-error">
   <b><a href="#finalize-with-an-aborted-navigation-error">#finalize-with-an-aborted-navigation-error</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-finalize-with-an-aborted-navigation-error">1.3. Ongoing navigation tracking</a>
    <li><a href="#ref-for-finalize-with-an-aborted-navigation-error①">1.5. Traversing</a> <a href="#ref-for-finalize-with-an-aborted-navigation-error②">(2)</a>
    <li><a href="#ref-for-finalize-with-an-aborted-navigation-error③">2.3. Firing the event</a> <a href="#ref-for-finalize-with-an-aborted-navigation-error④">(2)</a> <a href="#ref-for-finalize-with-an-aborted-navigation-error⑤">(3)</a> <a href="#ref-for-finalize-with-an-aborted-navigation-error⑥">(4)</a>
    <li><a href="#ref-for-finalize-with-an-aborted-navigation-error⑦">4.12. Canceling navigations</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="inform-the-navigation-api-about-canceling-navigation">
   <b><a href="#inform-the-navigation-api-about-canceling-navigation">#inform-the-navigation-api-about-canceling-navigation</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-inform-the-navigation-api-about-canceling-navigation">2.3. Firing the event</a>
    <li><a href="#ref-for-inform-the-navigation-api-about-canceling-navigation①">4.12. Canceling navigations</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="inform-the-navigation-api-about-nested-navigable-destruction">
   <b><a href="#inform-the-navigation-api-about-nested-navigable-destruction">#inform-the-navigation-api-about-nested-navigable-destruction</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-inform-the-navigation-api-about-nested-navigable-destruction">4.12. Canceling navigations</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="potentially-reset-the-focus">
   <b><a href="#potentially-reset-the-focus">#potentially-reset-the-focus</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-potentially-reset-the-focus">1.3. Ongoing navigation tracking</a>
    <li><a href="#ref-for-potentially-reset-the-focus①">2.3. Firing the event</a> <a href="#ref-for-potentially-reset-the-focus②">(2)</a> <a href="#ref-for-potentially-reset-the-focus③">(3)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="potentially-process-scroll-behavior">
   <b><a href="#potentially-process-scroll-behavior">#potentially-process-scroll-behavior</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-potentially-process-scroll-behavior">2.3. Firing the event</a> <a href="#ref-for-potentially-process-scroll-behavior①">(2)</a> <a href="#ref-for-potentially-process-scroll-behavior②">(3)</a>
    <li><a href="#ref-for-potentially-process-scroll-behavior③">4.17. Scroll restoration</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="definitely-process-scroll-behavior">
   <b><a href="#definitely-process-scroll-behavior">#definitely-process-scroll-behavior</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-definitely-process-scroll-behavior">2.1. The NavigateEvent class</a>
    <li><a href="#ref-for-definitely-process-scroll-behavior①">2.3. Firing the event</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="navigationhistoryentry">
   <b><a href="#navigationhistoryentry">#navigationhistoryentry</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-navigationhistoryentry">1. The Navigation class</a> <a href="#ref-for-navigationhistoryentry①">(2)</a> <a href="#ref-for-navigationhistoryentry②">(3)</a> <a href="#ref-for-navigationhistoryentry③">(4)</a> <a href="#ref-for-navigationhistoryentry④">(5)</a> <a href="#ref-for-navigationhistoryentry⑤">(6)</a> <a href="#ref-for-navigationhistoryentry⑥">(7)</a> <a href="#ref-for-navigationhistoryentry⑦">(8)</a> <a href="#ref-for-navigationhistoryentry⑧">(9)</a> <a href="#ref-for-navigationhistoryentry⑨">(10)</a> <a href="#ref-for-navigationhistoryentry①⓪">(11)</a>
    <li><a href="#ref-for-navigationhistoryentry①①">1.1. Introspecting the navigation API history entry list</a> <a href="#ref-for-navigationhistoryentry①②">(2)</a> <a href="#ref-for-navigationhistoryentry①③">(3)</a>
    <li><a href="#ref-for-navigationhistoryentry①④">1.2. The current entry</a> <a href="#ref-for-navigationhistoryentry①⑤">(2)</a> <a href="#ref-for-navigationhistoryentry①⑥">(3)</a> <a href="#ref-for-navigationhistoryentry①⑦">(4)</a>
    <li><a href="#ref-for-navigationhistoryentry①⑧">1.3. Ongoing navigation tracking</a> <a href="#ref-for-navigationhistoryentry①⑨">(2)</a> <a href="#ref-for-navigationhistoryentry②⓪">(3)</a> <a href="#ref-for-navigationhistoryentry②①">(4)</a> <a href="#ref-for-navigationhistoryentry②②">(5)</a> <a href="#ref-for-navigationhistoryentry②③">(6)</a>
    <li><a href="#ref-for-navigationhistoryentry②④">1.4. Navigating</a>
    <li><a href="#ref-for-navigationhistoryentry②⑤">1.5. Traversing</a> <a href="#ref-for-navigationhistoryentry②⑥">(2)</a> <a href="#ref-for-navigationhistoryentry②⑦">(3)</a>
    <li><a href="#ref-for-navigationhistoryentry②⑧">2.2. The NavigationDestination class</a> <a href="#ref-for-navigationhistoryentry②⑨">(2)</a> <a href="#ref-for-navigationhistoryentry③⓪">(3)</a>
    <li><a href="#ref-for-navigationhistoryentry③①">2.3. Firing the event</a>
    <li><a href="#ref-for-navigationhistoryentry③②">3. Navigation API history entries</a> <a href="#ref-for-navigationhistoryentry③③">(2)</a> <a href="#ref-for-navigationhistoryentry③④">(3)</a> <a href="#ref-for-navigationhistoryentry③⑤">(4)</a> <a href="#ref-for-navigationhistoryentry③⑥">(5)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="navigationhistoryentry-session-history-entry">
   <b><a href="#navigationhistoryentry-session-history-entry">#navigationhistoryentry-session-history-entry</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-navigationhistoryentry-session-history-entry">1. The Navigation class</a> <a href="#ref-for-navigationhistoryentry-session-history-entry①">(2)</a> <a href="#ref-for-navigationhistoryentry-session-history-entry②">(3)</a> <a href="#ref-for-navigationhistoryentry-session-history-entry③">(4)</a> <a href="#ref-for-navigationhistoryentry-session-history-entry④">(5)</a> <a href="#ref-for-navigationhistoryentry-session-history-entry⑤">(6)</a>
    <li><a href="#ref-for-navigationhistoryentry-session-history-entry⑥">1.2. The current entry</a>
    <li><a href="#ref-for-navigationhistoryentry-session-history-entry⑦">1.3. Ongoing navigation tracking</a>
    <li><a href="#ref-for-navigationhistoryentry-session-history-entry⑧">1.5. Traversing</a> <a href="#ref-for-navigationhistoryentry-session-history-entry⑨">(2)</a> <a href="#ref-for-navigationhistoryentry-session-history-entry①⓪">(3)</a> <a href="#ref-for-navigationhistoryentry-session-history-entry①①">(4)</a>
    <li><a href="#ref-for-navigationhistoryentry-session-history-entry①②">3. Navigation API history entries</a> <a href="#ref-for-navigationhistoryentry-session-history-entry①③">(2)</a> <a href="#ref-for-navigationhistoryentry-session-history-entry①④">(3)</a> <a href="#ref-for-navigationhistoryentry-session-history-entry①⑤">(4)</a> <a href="#ref-for-navigationhistoryentry-session-history-entry①⑥">(5)</a> <a href="#ref-for-navigationhistoryentry-session-history-entry①⑦">(6)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="navigationhistoryentry-index">
   <b><a href="#navigationhistoryentry-index">#navigationhistoryentry-index</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-navigationhistoryentry-index">1. The Navigation class</a>
    <li><a href="#ref-for-navigationhistoryentry-index①">3. Navigation API history entries</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dom-navigationhistoryentry-key">
   <b><a href="#dom-navigationhistoryentry-key">#dom-navigationhistoryentry-key</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-navigationhistoryentry-key">2.2. The NavigationDestination class</a>
    <li><a href="#ref-for-dom-navigationhistoryentry-key①">3. Navigation API history entries</a> <a href="#ref-for-dom-navigationhistoryentry-key②">(2)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dom-navigationhistoryentry-id">
   <b><a href="#dom-navigationhistoryentry-id">#dom-navigationhistoryentry-id</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-navigationhistoryentry-id">2.2. The NavigationDestination class</a>
    <li><a href="#ref-for-dom-navigationhistoryentry-id①">3. Navigation API history entries</a> <a href="#ref-for-dom-navigationhistoryentry-id②">(2)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dom-navigationhistoryentry-url">
   <b><a href="#dom-navigationhistoryentry-url">#dom-navigationhistoryentry-url</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-navigationhistoryentry-url">3. Navigation API history entries</a> <a href="#ref-for-dom-navigationhistoryentry-url①">(2)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dom-navigationhistoryentry-index">
   <b><a href="#dom-navigationhistoryentry-index">#dom-navigationhistoryentry-index</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-navigationhistoryentry-index">2.2. The NavigationDestination class</a>
    <li><a href="#ref-for-dom-navigationhistoryentry-index①">3. Navigation API history entries</a> <a href="#ref-for-dom-navigationhistoryentry-index②">(2)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dom-navigationhistoryentry-samedocument">
   <b><a href="#dom-navigationhistoryentry-samedocument">#dom-navigationhistoryentry-samedocument</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-navigationhistoryentry-samedocument">3. Navigation API history entries</a> <a href="#ref-for-dom-navigationhistoryentry-samedocument①">(2)</a> <a href="#ref-for-dom-navigationhistoryentry-samedocument②">(3)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dom-navigationhistoryentry-getstate">
   <b><a href="#dom-navigationhistoryentry-getstate">#dom-navigationhistoryentry-getstate</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-navigationhistoryentry-getstate">1.4. Navigating</a>
    <li><a href="#ref-for-dom-navigationhistoryentry-getstate①">3. Navigation API history entries</a> <a href="#ref-for-dom-navigationhistoryentry-getstate②">(2)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dom-navigationhistoryentry-ondispose">
   <b><a href="#dom-navigationhistoryentry-ondispose">#dom-navigationhistoryentry-ondispose</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-navigationhistoryentry-ondispose">3. Navigation API history entries</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="eventdef-navigationhistoryentry-dispose">
   <b><a href="#eventdef-navigationhistoryentry-dispose">#eventdef-navigationhistoryentry-dispose</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-eventdef-navigationhistoryentry-dispose">1. The Navigation class</a> <a href="#ref-for-eventdef-navigationhistoryentry-dispose①">(2)</a> <a href="#ref-for-eventdef-navigationhistoryentry-dispose②">(3)</a> <a href="#ref-for-eventdef-navigationhistoryentry-dispose③">(4)</a>
    <li><a href="#ref-for-eventdef-navigationhistoryentry-dispose④">2.3. Firing the event</a>
    <li><a href="#ref-for-eventdef-navigationhistoryentry-dispose⑤">4.6. Update document for history state application</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="session-history-entry-navigation-api-key">
   <b><a href="#session-history-entry-navigation-api-key">#session-history-entry-navigation-api-key</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-session-history-entry-navigation-api-key">1. The Navigation class</a> <a href="#ref-for-session-history-entry-navigation-api-key①">(2)</a>
    <li><a href="#ref-for-session-history-entry-navigation-api-key②">1.5. Traversing</a> <a href="#ref-for-session-history-entry-navigation-api-key③">(2)</a> <a href="#ref-for-session-history-entry-navigation-api-key④">(3)</a> <a href="#ref-for-session-history-entry-navigation-api-key⑤">(4)</a> <a href="#ref-for-session-history-entry-navigation-api-key⑥">(5)</a>
    <li><a href="#ref-for-session-history-entry-navigation-api-key⑦">2.3. Firing the event</a>
    <li><a href="#ref-for-session-history-entry-navigation-api-key⑧">3. Navigation API history entries</a>
    <li><a href="#ref-for-session-history-entry-navigation-api-key⑨">4.7. Finalize a cross-document navigation</a> <a href="#ref-for-session-history-entry-navigation-api-key①⓪">(2)</a>
    <li><a href="#ref-for-session-history-entry-navigation-api-key①①">5.1. Cross-site tracking</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="session-history-entry-navigation-api-id">
   <b><a href="#session-history-entry-navigation-api-id">#session-history-entry-navigation-api-id</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-session-history-entry-navigation-api-id">2.3. Firing the event</a>
    <li><a href="#ref-for-session-history-entry-navigation-api-id①">3. Navigation API history entries</a>
    <li><a href="#ref-for-session-history-entry-navigation-api-id②">5.1. Cross-site tracking</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="session-history-entry-navigation-api-state">
   <b><a href="#session-history-entry-navigation-api-state">#session-history-entry-navigation-api-state</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-session-history-entry-navigation-api-state">1.2. The current entry</a> <a href="#ref-for-session-history-entry-navigation-api-state①">(2)</a>
    <li><a href="#ref-for-session-history-entry-navigation-api-state②">1.3. Ongoing navigation tracking</a>
    <li><a href="#ref-for-session-history-entry-navigation-api-state③">1.4. Navigating</a>
    <li><a href="#ref-for-session-history-entry-navigation-api-state④">2.3. Firing the event</a> <a href="#ref-for-session-history-entry-navigation-api-state⑤">(2)</a>
    <li><a href="#ref-for-session-history-entry-navigation-api-state⑥">3. Navigation API history entries</a> <a href="#ref-for-session-history-entry-navigation-api-state⑦">(2)</a>
    <li><a href="#ref-for-session-history-entry-navigation-api-state⑧">4.3. Navigate to a fragment</a>
    <li><a href="#ref-for-session-history-entry-navigation-api-state⑨">5.1. Cross-site tracking</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="navigate-entrylist">
   <b><a href="#navigate-entrylist">#navigate-entrylist</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-navigate-entrylist">4.15.2. Form entry list</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="navigate-userinvolvement">
   <b><a href="#navigate-userinvolvement">#navigate-userinvolvement</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-navigate-userinvolvement">4.15.1. User navigation involvement</a> <a href="#ref-for-navigate-userinvolvement①">(2)</a> <a href="#ref-for-navigate-userinvolvement②">(3)</a> <a href="#ref-for-navigate-userinvolvement③">(4)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="navigate-navigationapistate">
   <b><a href="#navigate-navigationapistate">#navigate-navigationapistate</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-navigate-navigationapistate">1.4. Navigating</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="reload-navigationapistate">
   <b><a href="#reload-navigationapistate">#reload-navigationapistate</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-reload-navigationapistate">1.4. Navigating</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="reload-userinvolvement">
   <b><a href="#reload-userinvolvement">#reload-userinvolvement</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-reload-userinvolvement">4.15.1. User navigation involvement</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="traverse-the-history-by-a-delta-userinvolvement">
   <b><a href="#traverse-the-history-by-a-delta-userinvolvement">#traverse-the-history-by-a-delta-userinvolvement</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-traverse-the-history-by-a-delta-userinvolvement">4.15.1. User navigation involvement</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="user-navigation-involvement">
   <b><a href="#user-navigation-involvement">#user-navigation-involvement</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-user-navigation-involvement">2.3. Firing the event</a> <a href="#ref-for-user-navigation-involvement①">(2)</a> <a href="#ref-for-user-navigation-involvement②">(3)</a> <a href="#ref-for-user-navigation-involvement③">(4)</a>
    <li><a href="#ref-for-user-navigation-involvement④">4.2. Navigate</a>
    <li><a href="#ref-for-user-navigation-involvement⑤">4.11. Download a hyperlink</a>
    <li><a href="#ref-for-user-navigation-involvement⑥">4.13. Check if unloading is user-canceled</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="user-navigation-involvement-browser-ui">
   <b><a href="#user-navigation-involvement-browser-ui">#user-navigation-involvement-browser-ui</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-user-navigation-involvement-browser-ui">2.3. Firing the event</a>
    <li><a href="#ref-for-user-navigation-involvement-browser-ui①">4.2. Navigate</a> <a href="#ref-for-user-navigation-involvement-browser-ui②">(2)</a>
    <li><a href="#ref-for-user-navigation-involvement-browser-ui③">4.9. Reload</a>
    <li><a href="#ref-for-user-navigation-involvement-browser-ui④">4.11. Download a hyperlink</a> <a href="#ref-for-user-navigation-involvement-browser-ui⑤">(2)</a>
    <li><a href="#ref-for-user-navigation-involvement-browser-ui⑥">4.15.1. User navigation involvement</a> <a href="#ref-for-user-navigation-involvement-browser-ui⑦">(2)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="user-navigation-involvement-activation">
   <b><a href="#user-navigation-involvement-activation">#user-navigation-involvement-activation</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-user-navigation-involvement-activation">4.14. User navigation involvement</a>
    <li><a href="#ref-for-user-navigation-involvement-activation①">4.15.1. User navigation involvement</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="user-navigation-involvement-none">
   <b><a href="#user-navigation-involvement-none">#user-navigation-involvement-none</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-user-navigation-involvement-none">2.3. Firing the event</a> <a href="#ref-for-user-navigation-involvement-none①">(2)</a> <a href="#ref-for-user-navigation-involvement-none②">(3)</a>
    <li><a href="#ref-for-user-navigation-involvement-none③">4.2. Navigate</a>
    <li><a href="#ref-for-user-navigation-involvement-none④">4.9. Reload</a>
    <li><a href="#ref-for-user-navigation-involvement-none⑤">4.10. Traversal</a>
    <li><a href="#ref-for-user-navigation-involvement-none⑥">4.13. Check if unloading is user-canceled</a>
    <li><a href="#ref-for-user-navigation-involvement-none⑦">4.14. User navigation involvement</a>
    <li><a href="#ref-for-user-navigation-involvement-none⑧">4.15.1. User navigation involvement</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="event-user-navigation-involvement">
   <b><a href="#event-user-navigation-involvement">#event-user-navigation-involvement</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-event-user-navigation-involvement">4.15.1. User navigation involvement</a> <a href="#ref-for-event-user-navigation-involvement①">(2)</a> <a href="#ref-for-event-user-navigation-involvement②">(3)</a> <a href="#ref-for-event-user-navigation-involvement③">(4)</a> <a href="#ref-for-event-user-navigation-involvement④">(5)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="document-has-been-scrolled-by-the-user">
   <b><a href="#document-has-been-scrolled-by-the-user">#document-has-been-scrolled-by-the-user</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-document-has-been-scrolled-by-the-user">4.17. Scroll restoration</a> <a href="#ref-for-document-has-been-scrolled-by-the-user①">(2)</a> <a href="#ref-for-document-has-been-scrolled-by-the-user②">(3)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="restoring-scroll-position-data">
   <b><a href="#restoring-scroll-position-data">#restoring-scroll-position-data</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-restoring-scroll-position-data">2.3. Firing the event</a>
    <li><a href="#ref-for-restoring-scroll-position-data①">4.17. Scroll restoration</a> <a href="#ref-for-restoring-scroll-position-data②">(2)</a>
   </ul>
  </aside>
<script>/* script-dfn-panel */

document.body.addEventListener("click", function(e) {
    var queryAll = function(sel) { return [].slice.call(document.querySelectorAll(sel)); }
    // Find the dfn element or panel, if any, that was clicked on.
    var el = e.target;
    var target;
    var hitALink = false;
    while(el.parentElement) {
        if(el.tagName == "A") {
            // Clicking on a link in a <dfn> shouldn't summon the panel
            hitALink = true;
        }
        if(el.classList.contains("dfn-paneled")) {
            target = "dfn";
            break;
        }
        if(el.classList.contains("dfn-panel")) {
            target = "dfn-panel";
            break;
        }
        el = el.parentElement;
    }
    if(target != "dfn-panel") {
        // Turn off any currently "on" or "activated" panels.
        queryAll(".dfn-panel.on, .dfn-panel.activated").forEach(function(el){
            el.classList.remove("on");
            el.classList.remove("activated");
        });
    }
    if(target == "dfn" && !hitALink) {
        // open the panel
        var dfnPanel = document.querySelector(".dfn-panel[data-for='" + el.id + "']");
        if(dfnPanel) {
            dfnPanel.classList.add("on");
            var rect = el.getBoundingClientRect();
            dfnPanel.style.left = window.scrollX + rect.right + 5 + "px";
            dfnPanel.style.top = window.scrollY + rect.top + "px";
            var panelRect = dfnPanel.getBoundingClientRect();
            var panelWidth = panelRect.right - panelRect.left;
            if(panelRect.right > document.body.scrollWidth && (rect.left - (panelWidth + 5)) > 0) {
                // Reposition, because the panel is overflowing
                dfnPanel.style.left = window.scrollX + rect.left - (panelWidth + 5) + "px";
            }
        } else {
            console.log("Couldn't find .dfn-panel[data-for='" + el.id + "']");
        }
    } else if(target == "dfn-panel") {
        // Switch it to "activated" state, which pins it.
        el.classList.add("activated");
        el.style.left = null;
        el.style.top = null;
    }

});
</script>
<script>/* script-var-click-highlighting */

    "use strict";
    {
        document.addEventListener("click", e=>{
            if(e.target.nodeName == "VAR") {
                highlightSameAlgoVars(e.target);
            }
        });
        const indexCounts = new Map();
        const indexNames = new Map();
        function highlightSameAlgoVars(v) {
            // Find the algorithm container.
            let algoContainer = null;
            let searchEl = v;
            while(algoContainer == null && searchEl != document.body) {
                searchEl = searchEl.parentNode;
                if(searchEl.hasAttribute("data-algorithm")) {
                    algoContainer = searchEl;
                }
            }

            // Not highlighting document-global vars,
            // too likely to be unrelated.
            if(algoContainer == null) return;

            const algoName = algoContainer.getAttribute("data-algorithm");
            const varName = getVarName(v);
            const addClass = !v.classList.contains("selected");
            let highlightClass = null;
            if(addClass) {
                const index = chooseHighlightIndex(algoName, varName);
                indexCounts.get(algoName)[index] += 1;
                indexNames.set(algoName+"///"+varName, index);
                highlightClass = nameFromIndex(index);
            } else {
                const index = previousHighlightIndex(algoName, varName);
                indexCounts.get(algoName)[index] -= 1;
                highlightClass = nameFromIndex(index);
            }

            // Find all same-name vars, and toggle their class appropriately.
            for(const el of algoContainer.querySelectorAll("var")) {
                if(getVarName(el) == varName) {
                    el.classList.toggle("selected", addClass);
                    el.classList.toggle(highlightClass, addClass);
                }
            }
        }
        function getVarName(el) {
            return el.textContent.replace(/(\s|\xa0)+/, " ").trim();
        }
        function chooseHighlightIndex(algoName, varName) {
            let indexes = null;
            if(indexCounts.has(algoName)) {
                indexes = indexCounts.get(algoName);
            } else {
                // 7 classes right now
                indexes = [0,0,0,0,0,0,0];
                indexCounts.set(algoName, indexes);
            }

            // If the element was recently unclicked,
            // *and* that color is still unclaimed,
            // give it back the same color.
            const lastIndex = previousHighlightIndex(algoName, varName);
            if(indexes[lastIndex] === 0) return lastIndex;

            // Find the earliest index with the lowest count.
            const minCount = Math.min.apply(null, indexes);
            let index = null;
            for(var i = 0; i < indexes.length; i++) {
                if(indexes[i] == minCount) {
                    return i;
                }
            }
        }
        function previousHighlightIndex(algoName, varName) {
            return indexNames.get(algoName+"///"+varName);
        }
        function nameFromIndex(index) {
            return "selected" + index;
        }
    }
    </script>