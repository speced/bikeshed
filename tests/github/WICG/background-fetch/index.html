<!doctype html><html lang="en">
 <head>
  <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
  <title>Background Fetch</title>
  <meta content="width=device-width, initial-scale=1, shrink-to-fit=no" name="viewport">
  <link href="https://www.w3.org/StyleSheets/TR/2021/cg-draft" rel="stylesheet">
  <link href="https://wicg.github.io/background-fetch/" rel="canonical">
<style>
  .algorithm dl {
    overflow: hidden;
  }
  .algorithm dt {
    font-weight: normal;
    float: left;
    clear: left;
    line-height: 1.5;
    margin-right: 0.3em;
  }
  .algorithm dt::after {
    content: '- ';
  }
  .algorithm dd {
    margin-left: 0em;
  }
</style>
<style>/* style-autolinks */

.css.css, .property.property, .descriptor.descriptor {
    color: var(--a-normal-text);
    font-size: inherit;
    font-family: inherit;
}
.css::before, .property::before, .descriptor::before {
    content: "‘";
}
.css::after, .property::after, .descriptor::after {
    content: "’";
}
.property, .descriptor {
    /* Don't wrap property and descriptor names */
    white-space: nowrap;
}
.type { /* CSS value <type> */
    font-style: italic;
}
pre .property::before, pre .property::after {
    content: "";
}
[data-link-type="property"]::before,
[data-link-type="propdesc"]::before,
[data-link-type="descriptor"]::before,
[data-link-type="value"]::before,
[data-link-type="function"]::before,
[data-link-type="at-rule"]::before,
[data-link-type="selector"]::before,
[data-link-type="maybe"]::before {
    content: "‘";
}
[data-link-type="property"]::after,
[data-link-type="propdesc"]::after,
[data-link-type="descriptor"]::after,
[data-link-type="value"]::after,
[data-link-type="function"]::after,
[data-link-type="at-rule"]::after,
[data-link-type="selector"]::after,
[data-link-type="maybe"]::after {
    content: "’";
}

[data-link-type].production::before,
[data-link-type].production::after,
.prod [data-link-type]::before,
.prod [data-link-type]::after {
    content: "";
}

[data-link-type=element],
[data-link-type=element-attr] {
    font-family: Menlo, Consolas, "DejaVu Sans Mono", monospace;
    font-size: .9em;
}
[data-link-type=element]::before { content: "<" }
[data-link-type=element]::after  { content: ">" }

[data-link-type=biblio] {
    white-space: pre;
}</style>
<style>/* style-colors */

/* Any --*-text not paired with a --*-bg is assumed to have a transparent bg */
:root {
    color-scheme: light dark;

    --text: black;
    --bg: white;

    --unofficial-watermark: url(https://www.w3.org/StyleSheets/TR/2016/logos/UD-watermark);

    --logo-bg: #1a5e9a;
    --logo-active-bg: #c00;
    --logo-text: white;

    --tocnav-normal-text: #707070;
    --tocnav-normal-bg: var(--bg);
    --tocnav-hover-text: var(--tocnav-normal-text);
    --tocnav-hover-bg: #f8f8f8;
    --tocnav-active-text: #c00;
    --tocnav-active-bg: var(--tocnav-normal-bg);

    --tocsidebar-text: var(--text);
    --tocsidebar-bg: #f7f8f9;
    --tocsidebar-shadow: rgba(0,0,0,.1);
    --tocsidebar-heading-text: hsla(203,20%,40%,.7);

    --toclink-text: var(--text);
    --toclink-underline: #3980b5;
    --toclink-visited-text: var(--toclink-text);
    --toclink-visited-underline: #054572;

    --heading-text: #005a9c;

    --hr-text: var(--text);

    --algo-border: #def;

    --del-text: red;
    --del-bg: transparent;
    --ins-text: #080;
    --ins-bg: transparent;

    --a-normal-text: #034575;
    --a-normal-underline: #bbb;
    --a-visited-text: var(--a-normal-text);
    --a-visited-underline: #707070;
    --a-hover-bg: rgba(75%, 75%, 75%, .25);
    --a-active-text: #c00;
    --a-active-underline: #c00;

    --blockquote-border: silver;
    --blockquote-bg: transparent;
    --blockquote-text: currentcolor;

    --issue-border: #e05252;
    --issue-bg: #fbe9e9;
    --issue-text: var(--text);
    --issueheading-text: #831616;

    --example-border: #e0cb52;
    --example-bg: #fcfaee;
    --example-text: var(--text);
    --exampleheading-text: #574b0f;

    --note-border: #52e052;
    --note-bg: #e9fbe9;
    --note-text: var(--text);
    --noteheading-text: hsl(120, 70%, 30%);
    --notesummary-underline: silver;

    --assertion-border: #aaa;
    --assertion-bg: #eee;
    --assertion-text: black;

    --advisement-border: orange;
    --advisement-bg: #fec;
    --advisement-text: var(--text);
    --advisementheading-text: #b35f00;

    --warning-border: red;
    --warning-bg: hsla(40,100%,50%,0.95);
    --warning-text: var(--text);

    --amendment-border: #330099;
    --amendment-bg: #F5F0FF;
    --amendment-text: var(--text);
    --amendmentheading-text: #220066;

    --def-border: #8ccbf2;
    --def-bg: #def;
    --def-text: var(--text);
    --defrow-border: #bbd7e9;

    --datacell-border: silver;

    --indexinfo-text: #707070;

    --indextable-hover-text: black;
    --indextable-hover-bg: #f7f8f9;

    --outdatedspec-bg: rgba(0, 0, 0, .5);
    --outdatedspec-text: black;
    --outdated-bg: maroon;
    --outdated-text: white;
    --outdated-shadow: red;

    --editedrec-bg: darkorange;
}</style>
<style>/* style-counters */

body {
    counter-reset: example figure issue;
}
.issue {
    counter-increment: issue;
}
.issue:not(.no-marker)::before {
    content: "Issue " counter(issue);
}

.example {
    counter-increment: example;
}
.example:not(.no-marker)::before {
    content: "Example " counter(example);
}
.invalid.example:not(.no-marker)::before,
.illegal.example:not(.no-marker)::before {
    content: "Invalid Example" counter(example);
}

figcaption {
    counter-increment: figure;
}
figcaption:not(.no-marker)::before {
    content: "Figure " counter(figure) " ";
}</style>
<style>/* style-dfn-panel */

:root {
    --dfnpanel-bg: #ddd;
    --dfnpanel-text: var(--text);
}
.dfn-panel {
    position: absolute;
    z-index: 35;
    height: auto;
    width: -webkit-fit-content;
    width: fit-content;
    max-width: 300px;
    max-height: 500px;
    overflow: auto;
    padding: 0.5em 0.75em;
    font: small Helvetica Neue, sans-serif, Droid Sans Fallback;
    background: var(--dfnpanel-bg);
    color: var(--dfnpanel-text);
    border: outset 0.2em;
}
.dfn-panel:not(.on) { display: none; }
.dfn-panel * { margin: 0; padding: 0; text-indent: 0; }
.dfn-panel > b { display: block; }
.dfn-panel a { color: var(--dfnpanel-text); }
.dfn-panel a:not(:hover) { text-decoration: none !important; border-bottom: none !important; }
.dfn-panel > b + b { margin-top: 0.25em; }
.dfn-panel ul { padding: 0; }
.dfn-panel li { list-style: inside; }
.dfn-panel.activated {
    display: inline-block;
    position: fixed;
    left: .5em;
    bottom: 2em;
    margin: 0 auto;
    max-width: calc(100vw - 1.5em - .4em - .5em);
    max-height: 30vh;
}

.dfn-paneled { cursor: pointer; }
</style>
<style>/* style-issues */

a[href].issue-return {
    float: right;
    float: inline-end;
    color: var(--issueheading-text);
    font-weight: bold;
    text-decoration: none;
}
</style>
<style>/* style-md-lists */

/* This is a weird hack for me not yet following the commonmark spec
   regarding paragraph and lists. */
[data-md] > :first-child {
    margin-top: 0;
}
[data-md] > :last-child {
    margin-bottom: 0;
}</style>
<style>/* style-mdn-anno */
@media (max-width: 767px) {
	.mdn-anno {
		opacity: .1;
	}
}
:root {
	--mdn-bg: #EEE;
	--mdn-shadow: #999;
	--mdn-nosupport-text: #ccc;
}
.mdn-anno {
	font: 1em sans-serif;
	padding: 0.3em;
	position: absolute;
	z-index: 8;
	right: 0.3em;
	background: var(--mdn-bg, #EEE);
	color: var(--text, black);
	box-shadow: 0 0 3px var(--mdn-shadow, #999);
	overflow: hidden;
	border-collapse: initial;
	border-spacing: initial;
	min-width: 9em;
	max-width: min-content;
	white-space: nowrap;
	word-wrap: normal;
	hyphens: none;
	border-radius: .25em;
}
.mdn-anno:not(.wrapped) {
	opacity: 1;
	z-index: 9;
}
.mdn-anno.wrapped {
	min-width: 0;
}
.mdn-anno.wrapped > :not(button) {
	display: none;
}
.mdn-anno:hover {
	outline: var(--text, black) 1px solid;
}
.mdn-anno > .mdn-anno-btn {
	cursor: pointer;
	border: none;
	color: #000;
	background: transparent;
	margin: -8px;
	float: right;
	padding: 10px 8px 8px 8px;
	outline: none;
}
.mdn-anno > .mdn-anno-btn > .less-than-two-engines-flag {
	color: red;
	padding-right: 2px;
}
.mdn-anno > .mdn-anno-btn > .all-engines-flag {
	color: green;
	padding-right: 2px;
}
.mdn-anno > .mdn-anno-btn > span {
	color: #fff;
	background-color: #000;
	font-weight: normal;
	font-family: zillaslab, Palatino, "Palatino Linotype", serif;
	padding: 2px 3px 0px 3px;
	line-height: 1.3em;
	vertical-align: top;
}
.mdn-anno > .feature {
	margin-top: 20px;
}
.mdn-anno > .feature:not(:first-of-type) {
	border-top: 1px solid #999;
	margin-top: 6px;
	padding-top: 2px;
}
.mdn-anno > .feature > .less-than-two-engines-text {
	color: red;
}
.mdn-anno > .feature > .all-engines-text {
	color: green;
}
.mdn-anno > .feature > p {
	font-size: .75em;
	margin-top: 6px;
	margin-bottom: 0;
}
.mdn-anno > .feature > p + p {
	margin-top: 3px;
}
.mdn-anno > .feature > .support {
	display: block;
	font-size: 0.6em;
	margin: 0;
	padding: 0;
	margin-top: 2px;
}
.mdn-anno > .feature > .support + div {
	padding-top: 0.5em;
}
.mdn-anno > .feature > .support > hr {
	display: block;
	border: none;
	border-top: 1px dotted #999;
	padding: 3px 0px 0px 0px;
	margin: 2px 3px 0px 3px;
}
.mdn-anno > .feature > .support > hr::before {
	content: "";
}
.mdn-anno > .feature > .support > span {
	padding: 0.2em 0;
	display: block;
	display: table;
}
.mdn-anno > .feature > .support > span.no {
	color: var(--mdn-nosupport-text);
	filter: grayscale(100%);
}
.mdn-anno > .feature > .support > span.no::before {
	opacity: 0.5;
}
.mdn-anno > .feature > .support > span:first-of-type {
	padding-top: 0.5em;
}
.mdn-anno > .feature > .support > span > span {
	padding: 0 0.5em;
	display: table-cell;
}
.mdn-anno > .feature > .support > span > span:first-child {
	width: 100%;
}
.mdn-anno > .feature > .support > span > span:last-child {
	width: 100%;
	white-space: pre;
	padding: 0;
}
.mdn-anno > .feature > .support > span::before {
	content: ' ';
	display: table-cell;
	min-width: 1.5em;
	height: 1.5em;
	background: no-repeat center center;
	background-size: contain;
	text-align: right;
	font-size: 0.75em;
	font-weight: bold;
}
.mdn-anno > .feature > .support > .chrome_android::before {
	background-image: url(https://resources.whatwg.org/browser-logos/chrome.svg);
}
.mdn-anno > .feature > .support > .firefox_android::before {
	background-image: url(https://resources.whatwg.org/browser-logos/firefox.png);
}
.mdn-anno > .feature > .support > .chrome::before {
	background-image: url(https://resources.whatwg.org/browser-logos/chrome.svg);
}
.mdn-anno > .feature > .support > .edge_blink::before {
	background-image: url(https://resources.whatwg.org/browser-logos/edge.svg);
}
.mdn-anno > .feature > .support > .edge::before {
	background-image: url(https://resources.whatwg.org/browser-logos/edge_legacy.svg);
}
.mdn-anno > .feature > .support > .firefox::before {
	background-image: url(https://resources.whatwg.org/browser-logos/firefox.png);
}
.mdn-anno > .feature > .support > .ie::before {
	background-image: url(https://resources.whatwg.org/browser-logos/ie.png);
}
.mdn-anno > .feature > .support > .safari_ios::before {
	background-image: url(https://resources.whatwg.org/browser-logos/safari-ios.svg);
}
.mdn-anno > .feature > .support > .nodejs::before {
	background-image: url(https://nodejs.org/static/images/favicons/favicon.ico);
}
.mdn-anno > .feature > .support > .opera_android::before {
	background-image: url(https://resources.whatwg.org/browser-logos/opera.svg);
}
.mdn-anno > .feature > .support > .opera::before {
	background-image: url(https://resources.whatwg.org/browser-logos/opera.svg);
}
.mdn-anno > .feature > .support > .safari::before {
	background-image: url(https://resources.whatwg.org/browser-logos/safari.png);
}
.mdn-anno > .feature > .support > .samsunginternet_android::before {
	background-image: url(https://resources.whatwg.org/browser-logos/samsung.svg);
}
.mdn-anno > .feature > .support > .webview_android::before {
	background-image: url(https://resources.whatwg.org/browser-logos/android-webview.png);
}
.name-slug-mismatch {
	color: red;
}
.caniuse-status:hover {
	z-index: 9;
}
/* dt, li, .issue, .note, and .example are "position: relative", so to put annotation at right margin, must move to right of containing block */;
.h-entry:not(.status-LS) dt > .mdn-anno, .h-entry:not(.status-LS) li > .mdn-anno, .h-entry:not(.status-LS) .issue > .mdn-anno, .h-entry:not(.status-LS) .note > .mdn-anno, .h-entry:not(.status-LS) .example > .mdn-anno {
	right: -6.7em;
}
.h-entry p + .mdn-anno {
	margin-top: 0;
}
 h2 + .mdn-anno.after {
	margin: -48px 0 0 0;
}
 h3 + .mdn-anno.after {
	margin: -46px 0 0 0;
}
 h4 + .mdn-anno.after {
	margin: -42px 0 0 0;
}
 h5 + .mdn-anno.after {
	margin: -40px 0 0 0;
}
 h6 + .mdn-anno.after {
	margin: -40px 0 0 0;
}
</style>
<style>/* style-railroad */

    :root {
        --railroad-bg: hsl(30, 20%, 95%);
        --railroad-stroke: black;
        --railroad-fill: hsl(120,100%,90%);
    }
    svg.railroad-diagram {
        background-color: var(--railroad-bg);
    }
    svg.railroad-diagram path {
        stroke-width:3px;
        stroke: var(--railroad-stroke);
        fill:transparent;
    }
    svg.railroad-diagram text {
        font: bold 14px monospace;
        fill: var(--text, currentcolor);
        text-anchor:middle;
    }
    svg.railroad-diagram text.label {
        text-anchor:start;
    }
    svg.railroad-diagram text.comment {
        font:italic 12px monospace;
    }
    svg.railroad-diagram rect {
        stroke-width:3px;
        stroke: var(--railroad-stroke);
        fill: var(--railroad-fill);
    }</style>
<style>/* style-selflinks */

:root {
    --selflink-text: white;
    --selflink-bg: gray;
    --selflink-hover-text: black;
}
.heading, .issue, .note, .example, li, dt {
    position: relative;
}
a.self-link {
    position: absolute;
    top: 0;
    left: calc(-1 * (3.5rem - 26px));
    width: calc(3.5rem - 26px);
    height: 2em;
    text-align: center;
    border: none;
    transition: opacity .2s;
    opacity: .5;
}
a.self-link:hover {
    opacity: 1;
}
.heading > a.self-link {
    font-size: 83%;
}
.example > a.self-link,
.note > a.self-link,
.issue > a.self-link {
    /* These blocks are overflow:auto, so positioning outside
       doesn't work. */
    left: auto;
    right: 0;
}
li > a.self-link {
    left: calc(-1 * (3.5rem - 26px) - 2em);
}
dfn > a.self-link {
    top: auto;
    left: auto;
    opacity: 0;
    width: 1.5em;
    height: 1.5em;
    background: var(--selflink-bg);
    color: var(--selflink-text);
    font-style: normal;
    transition: opacity .2s, background-color .2s, color .2s;
}
dfn:hover > a.self-link {
    opacity: 1;
}
dfn > a.self-link:hover {
    color: var(--selflink-hover-text);
}

a.self-link::before            { content: "¶"; }
.heading > a.self-link::before { content: "§"; }
dfn > a.self-link::before      { content: "#"; }
</style>
<style>/* style-syntax-highlighting */

            pre.idl.highlight {
                background: var(--borderedblock-bg, var(--def-bg));
            }
            
code.highlight { padding: .1em; border-radius: .3em; }
pre.highlight, pre > code.highlight { display: block; padding: 1em; margin: .5em 0; overflow: auto; border-radius: 0; }

.highlight:not(.idl) { background: rgba(0, 0, 0, .03); }
c-[a] { color: #990055 } /* Keyword.Declaration */
c-[b] { color: #990055 } /* Keyword.Type */
c-[c] { color: #708090 } /* Comment */
c-[d] { color: #708090 } /* Comment.Multiline */
c-[e] { color: #0077aa } /* Name.Attribute */
c-[f] { color: #669900 } /* Name.Tag */
c-[g] { color: #222222 } /* Name.Variable */
c-[k] { color: #990055 } /* Keyword */
c-[l] { color: #000000 } /* Literal */
c-[m] { color: #000000 } /* Literal.Number */
c-[n] { color: #0077aa } /* Name */
c-[o] { color: #999999 } /* Operator */
c-[p] { color: #999999 } /* Punctuation */
c-[s] { color: #a67f59 } /* Literal.String */
c-[t] { color: #a67f59 } /* Literal.String.Single */
c-[u] { color: #a67f59 } /* Literal.String.Double */
c-[cp] { color: #708090 } /* Comment.Preproc */
c-[c1] { color: #708090 } /* Comment.Single */
c-[cs] { color: #708090 } /* Comment.Special */
c-[kc] { color: #990055 } /* Keyword.Constant */
c-[kn] { color: #990055 } /* Keyword.Namespace */
c-[kp] { color: #990055 } /* Keyword.Pseudo */
c-[kr] { color: #990055 } /* Keyword.Reserved */
c-[ld] { color: #000000 } /* Literal.Date */
c-[nc] { color: #0077aa } /* Name.Class */
c-[no] { color: #0077aa } /* Name.Constant */
c-[nd] { color: #0077aa } /* Name.Decorator */
c-[ni] { color: #0077aa } /* Name.Entity */
c-[ne] { color: #0077aa } /* Name.Exception */
c-[nf] { color: #0077aa } /* Name.Function */
c-[nl] { color: #0077aa } /* Name.Label */
c-[nn] { color: #0077aa } /* Name.Namespace */
c-[py] { color: #0077aa } /* Name.Property */
c-[ow] { color: #999999 } /* Operator.Word */
c-[mb] { color: #000000 } /* Literal.Number.Bin */
c-[mf] { color: #000000 } /* Literal.Number.Float */
c-[mh] { color: #000000 } /* Literal.Number.Hex */
c-[mi] { color: #000000 } /* Literal.Number.Integer */
c-[mo] { color: #000000 } /* Literal.Number.Oct */
c-[sb] { color: #a67f59 } /* Literal.String.Backtick */
c-[sc] { color: #a67f59 } /* Literal.String.Char */
c-[sd] { color: #a67f59 } /* Literal.String.Doc */
c-[se] { color: #a67f59 } /* Literal.String.Escape */
c-[sh] { color: #a67f59 } /* Literal.String.Heredoc */
c-[si] { color: #a67f59 } /* Literal.String.Interpol */
c-[sx] { color: #a67f59 } /* Literal.String.Other */
c-[sr] { color: #a67f59 } /* Literal.String.Regex */
c-[ss] { color: #a67f59 } /* Literal.String.Symbol */
c-[vc] { color: #0077aa } /* Name.Variable.Class */
c-[vg] { color: #0077aa } /* Name.Variable.Global */
c-[vi] { color: #0077aa } /* Name.Variable.Instance */
c-[il] { color: #000000 } /* Literal.Number.Integer.Long */
</style>
<style>/* style-var-click-highlighting */

    var { cursor: pointer; }
    var.selected0 { background-color: #F4D200; box-shadow: 0 0 0 2px #F4D200; }
    var.selected1 { background-color: #FF87A2; box-shadow: 0 0 0 2px #FF87A2; }
    var.selected2 { background-color: #96E885; box-shadow: 0 0 0 2px #96E885; }
    var.selected3 { background-color: #3EEED2; box-shadow: 0 0 0 2px #3EEED2; }
    var.selected4 { background-color: #EACFB6; box-shadow: 0 0 0 2px #EACFB6; }
    var.selected5 { background-color: #82DDFF; box-shadow: 0 0 0 2px #82DDFF; }
    var.selected6 { background-color: #FFBCF2; box-shadow: 0 0 0 2px #FFBCF2; }
    </style>
<style>/* style-darkmode */

@media (prefers-color-scheme: dark) {
    :root {
        --text: #ddd;
        --bg: black;

        --unofficial-watermark: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='400' height='400'%3E%3Cg fill='%23100808' transform='translate(200 200) rotate(-45) translate(-200 -200)' stroke='%23100808' stroke-width='3'%3E%3Ctext x='50%25' y='220' style='font: bold 70px sans-serif; text-anchor: middle; letter-spacing: 6px;'%3EUNOFFICIAL%3C/text%3E%3Ctext x='50%25' y='305' style='font: bold 70px sans-serif; text-anchor: middle; letter-spacing: 6px;'%3EDRAFT%3C/text%3E%3C/g%3E%3C/svg%3E");

        --logo-bg: #1a5e9a;
        --logo-active-bg: #c00;
        --logo-text: white;

        --tocnav-normal-text: #999;
        --tocnav-normal-bg: var(--bg);
        --tocnav-hover-text: var(--tocnav-normal-text);
        --tocnav-hover-bg: #080808;
        --tocnav-active-text: #f44;
        --tocnav-active-bg: var(--tocnav-normal-bg);

        --tocsidebar-text: var(--text);
        --tocsidebar-bg: #080808;
        --tocsidebar-shadow: rgba(255,255,255,.1);
        --tocsidebar-heading-text: hsla(203,20%,40%,.7);

        --toclink-text: var(--text);
        --toclink-underline: #6af;
        --toclink-visited-text: var(--toclink-text);
        --toclink-visited-underline: #054572;

        --heading-text: #8af;

        --hr-text: var(--text);

        --algo-border: #456;

        --del-text: #f44;
        --del-bg: transparent;
        --ins-text: #4a4;
        --ins-bg: transparent;

        --a-normal-text: #6af;
        --a-normal-underline: #555;
        --a-visited-text: var(--a-normal-text);
        --a-visited-underline: var(--a-normal-underline);
        --a-hover-bg: rgba(25%, 25%, 25%, .2);
        --a-active-text: #f44;
        --a-active-underline: var(--a-active-text);

        --borderedblock-bg: rgba(255, 255, 255, .05);

        --blockquote-border: silver;
        --blockquote-bg: var(--borderedblock-bg);
        --blockquote-text: currentcolor;

        --issue-border: #e05252;
        --issue-bg: var(--borderedblock-bg);
        --issue-text: var(--text);
        --issueheading-text: hsl(0deg, 70%, 70%);

        --example-border: hsl(50deg, 90%, 60%);
        --example-bg: var(--borderedblock-bg);
        --example-text: var(--text);
        --exampleheading-text: hsl(50deg, 70%, 70%);

        --note-border: hsl(120deg, 100%, 35%);
        --note-bg: var(--borderedblock-bg);
        --note-text: var(--text);
        --noteheading-text: hsl(120, 70%, 70%);
        --notesummary-underline: silver;

        --assertion-border: #444;
        --assertion-bg: var(--borderedblock-bg);
        --assertion-text: var(--text);

        --advisement-border: orange;
        --advisement-bg: #222218;
        --advisement-text: var(--text);
        --advisementheading-text: #f84;

        --warning-border: red;
        --warning-bg: hsla(40,100%,20%,0.95);
        --warning-text: var(--text);

        --amendment-border: #330099;
        --amendment-bg: #080010;
        --amendment-text: var(--text);
        --amendmentheading-text: #cc00ff;

        --def-border: #8ccbf2;
        --def-bg: #080818;
        --def-text: var(--text);
        --defrow-border: #136;

        --datacell-border: silver;

        --indexinfo-text: #aaa;

        --indextable-hover-text: var(--text);
        --indextable-hover-bg: #181818;

        --outdatedspec-bg: rgba(255, 255, 255, .5);
        --outdatedspec-text: black;
        --outdated-bg: maroon;
        --outdated-text: white;
        --outdated-shadow: red;

        --editedrec-bg: darkorange;
    }
    /* In case a transparent-bg image doesn't expect to be on a dark bg,
       which is quite common in practice... */
    img { background: white; }
}
@media (prefers-color-scheme: dark) {
    :root {
        --selflink-text: black;
        --selflink-bg: silver;
        --selflink-hover-text: white;
    }
}

    @media (prefers-color-scheme: dark) {
        :root {
            --railroad-bg: rgba(255, 255, 255, .05);
            --railroad-stroke: #bbb;
            --railroad-fill: hsla(240deg, 20%, 15%);
        }
    }
@media (prefers-color-scheme: dark) {
    :root {
        --dfnpanel-bg: #222;
        --dfnpanel-text: var(--text);
    }
}@media (prefers-color-scheme: dark) {
	:root {
		--mdn-bg: #222;
		--mdn-shadow: #444;
		--mdn-nosupport-text: #666;
	}
}
@media (prefers-color-scheme: dark) {
    .highlight:not(.idl) { background: rgba(255, 255, 255, .05); }

    c-[a] { color: #d33682 } /* Keyword.Declaration */
    c-[b] { color: #d33682 } /* Keyword.Type */
    c-[c] { color: #2aa198 } /* Comment */
    c-[d] { color: #2aa198 } /* Comment.Multiline */
    c-[e] { color: #268bd2 } /* Name.Attribute */
    c-[f] { color: #b58900 } /* Name.Tag */
    c-[g] { color: #cb4b16 } /* Name.Variable */
    c-[k] { color: #d33682 } /* Keyword */
    c-[l] { color: #657b83 } /* Literal */
    c-[m] { color: #657b83 } /* Literal.Number */
    c-[n] { color: #268bd2 } /* Name */
    c-[o] { color: #657b83 } /* Operator */
    c-[p] { color: #657b83 } /* Punctuation */
    c-[s] { color: #6c71c4 } /* Literal.String */
    c-[t] { color: #6c71c4 } /* Literal.String.Single */
    c-[u] { color: #6c71c4 } /* Literal.String.Double */
    c-[ch] { color: #2aa198 } /* Comment.Hashbang */
    c-[cp] { color: #2aa198 } /* Comment.Preproc */
    c-[cpf] { color: #2aa198 } /* Comment.PreprocFile */
    c-[c1] { color: #2aa198 } /* Comment.Single */
    c-[cs] { color: #2aa198 } /* Comment.Special */
    c-[kc] { color: #d33682 } /* Keyword.Constant */
    c-[kn] { color: #d33682 } /* Keyword.Namespace */
    c-[kp] { color: #d33682 } /* Keyword.Pseudo */
    c-[kr] { color: #d33682 } /* Keyword.Reserved */
    c-[ld] { color: #657b83 } /* Literal.Date */
    c-[nc] { color: #268bd2 } /* Name.Class */
    c-[no] { color: #268bd2 } /* Name.Constant */
    c-[nd] { color: #268bd2 } /* Name.Decorator */
    c-[ni] { color: #268bd2 } /* Name.Entity */
    c-[ne] { color: #268bd2 } /* Name.Exception */
    c-[nf] { color: #268bd2 } /* Name.Function */
    c-[nl] { color: #268bd2 } /* Name.Label */
    c-[nn] { color: #268bd2 } /* Name.Namespace */
    c-[py] { color: #268bd2 } /* Name.Property */
    c-[ow] { color: #657b83 } /* Operator.Word */
    c-[mb] { color: #657b83 } /* Literal.Number.Bin */
    c-[mf] { color: #657b83 } /* Literal.Number.Float */
    c-[mh] { color: #657b83 } /* Literal.Number.Hex */
    c-[mi] { color: #657b83 } /* Literal.Number.Integer */
    c-[mo] { color: #657b83 } /* Literal.Number.Oct */
    c-[sa] { color: #6c71c4 } /* Literal.String.Affix */
    c-[sb] { color: #6c71c4 } /* Literal.String.Backtick */
    c-[sc] { color: #6c71c4 } /* Literal.String.Char */
    c-[dl] { color: #6c71c4 } /* Literal.String.Delimiter */
    c-[sd] { color: #6c71c4 } /* Literal.String.Doc */
    c-[se] { color: #6c71c4 } /* Literal.String.Escape */
    c-[sh] { color: #6c71c4 } /* Literal.String.Heredoc */
    c-[si] { color: #6c71c4 } /* Literal.String.Interpol */
    c-[sx] { color: #6c71c4 } /* Literal.String.Other */
    c-[sr] { color: #6c71c4 } /* Literal.String.Regex */
    c-[ss] { color: #6c71c4 } /* Literal.String.Symbol */
    c-[fm] { color: #268bd2 } /* Name.Function.Magic */
    c-[vc] { color: #cb4b16 } /* Name.Variable.Class */
    c-[vg] { color: #cb4b16 } /* Name.Variable.Global */
    c-[vi] { color: #cb4b16 } /* Name.Variable.Instance */
    c-[vm] { color: #cb4b16 } /* Name.Variable.Magic */
    c-[il] { color: #657b83 } /* Literal.Number.Integer.Long */
}
</style>
 <body class="h-entry">
  <div class="head">
   <p data-fill-with="logo"><a class="logo" href="https://www.w3.org/"> <img alt="W3C" height="48" src="https://www.w3.org/StyleSheets/TR/2021/logos/W3C" width="72"> </a> </p>
   <h1 class="p-name no-ref" id="title">Background Fetch</h1>
   <p id="w3c-state"><a href="https://www.w3.org/standards/types#CG-DRAFT">Draft Community Group Report</a>, <time class="dt-updated" datetime="1970-01-01">1 January 1970</time></p>
   <div data-fill-with="spec-metadata">
    <dl>
     <dt>This version:
     <dd><a class="u-url" href="https://wicg.github.io/background-fetch/">https://wicg.github.io/background-fetch/</a>
     <dt class="editor">Editors:
     <dd class="editor p-author h-card vcard"><a class="p-name fn u-email email" href="mailto:jakearchibald@google.com">Jake Archibald</a> (<span class="p-org org">Google</span>)
     <dd class="editor p-author h-card vcard"><a class="p-name fn u-email email" href="mailto:beverloo@google.com">Peter Beverloo</a> (<span class="p-org org">Google</span>)
    </dl>
   </div>
   <div data-fill-with="warning"></div>
   <p class="copyright" data-fill-with="copyright"><a href="http://www.w3.org/Consortium/Legal/ipr-notice#Copyright">Copyright</a> © 1970 the Contributors to the Background Fetch Specification, published by the <a href="https://www.w3.org/community/wicg/">Web Platform Incubator Community Group</a> under the <a href="https://www.w3.org/community/about/agreements/cla/">W3C Community Contributor License Agreement (CLA)</a>.
A human-readable <a href="http://www.w3.org/community/about/agreements/cla-deed/">summary</a> is available. </p>
   <hr title="Separator for header">
  </div>
  <div class="p-summary" data-fill-with="abstract">
   <h2 class="no-num no-toc no-ref heading settled" id="abstract"><span class="content">Abstract</span></h2>
   <p>An API to handle large uploads/downloads in the background with user visibility.</p>
  </div>
  <div data-fill-with="at-risk"></div>
  <h2 class="no-num no-toc no-ref heading settled" id="status"><span class="content">Status of this document</span></h2>
  <div data-fill-with="status">
   <p> This specification was published by the <a href="https://www.w3.org/community/wicg/">Web Platform Incubator Community Group</a>.
  It is not a W3C Standard nor is it on the W3C Standards Track.

  Please note that under the <a href="https://www.w3.org/community/about/agreements/cla/">W3C Community Contributor License Agreement (CLA)</a> there is a limited opt-out and other conditions apply.

  Learn more about <a href="http://www.w3.org/community/">W3C Community and Business Groups</a>. </p>
   <p></p>
  </div>
  <div data-fill-with="at-risk"></div>
  <nav data-fill-with="table-of-contents" id="toc">
   <h2 class="no-num no-toc no-ref" id="contents">Table of Contents</h2>
   <ol class="toc" role="directory">
    <li><a href="#intro"><span class="secno">1</span> <span class="content">Introduction</span></a>
    <li><a href="#realms"><span class="secno">2</span> <span class="content">Realms</span></a>
    <li>
     <a href="#infrastructure"><span class="secno">3</span> <span class="content">Infrastructure</span></a>
     <ol class="toc">
      <li><a href="#service-worker-registration-concept-extensions"><span class="secno">3.1</span> <span class="content">Extensions to service worker registration</span></a>
      <li>
       <a href="#background-fetch-concept"><span class="secno">3.2</span> <span class="content"><span>Background fetch</span></span></a>
       <ol class="toc">
        <li><a href="#background-fetch-display-algorithm"><span class="secno">3.2.1</span> <span class="content"><span>Display</span></span></a>
       </ol>
      <li><a href="#background-fetch-record-concept"><span class="secno">3.3</span> <span class="content">Background fetch record</span></a>
      <li><a href="#background-fetch-response-concept"><span class="secno">3.4</span> <span class="content">Background fetch response</span></a>
     </ol>
    <li>
     <a href="#algorithms"><span class="secno">4</span> <span class="content">Algorithms</span></a>
     <ol class="toc">
      <li><a href="#perform-a-background-fetch-algorithm"><span class="secno">4.1</span> <span class="content"><span>Perform a background fetch</span></span></a>
      <li><a href="#complete-a-record-algorithm"><span class="secno">4.2</span> <span class="content"><span>Complete a record</span></span></a>
      <li><a href="#update-background-fetch-instance-algorithm"><span class="secno">4.3</span> <span class="content"><span>Update background fetch instances</span></span></a>
      <li><a href="#fire-a-background-fetch-click-event-algorithm"><span class="secno">4.4</span> <span class="content"><span>Fire a background fetch click event</span></span></a>
      <li><a href="#get-a-backgroundfetchregistration-instance-algorithm"><span class="secno">4.5</span> <span class="content"><span>Get a BackgroundFetchRegistration instance</span></span></a>
      <li><a href="#validate-partial-response-algorithm"><span class="secno">4.6</span> <span class="content"><span>Validate a partial response</span></span></a>
      <li><a href="#extract-content-range-values-algorithm"><span class="secno">4.7</span> <span class="content"><span>Extract content-range values</span></span></a>
      <li><a href="#create-settled-fetches-algorithm"><span class="secno">4.8</span> <span class="content"><span>Create record objects</span></span></a>
      <li><a href="#contains-background-fetch-algorithm"><span class="secno">4.9</span> <span class="content"><span>Contains background fetch</span></span></a>
     </ol>
    <li><a href="#header-syntax"><span class="secno">5</span> <span class="content">Header syntax</span></a>
    <li>
     <a href="#api"><span class="secno">6</span> <span class="content">API</span></a>
     <ol class="toc">
      <li>
       <a href="#extensions-to-service-worker-global"><span class="secno">6.1</span> <span class="content">Extensions to <code class="idl"><span>ServiceWorkerGlobalScope</span></code></span></a>
       <ol class="toc">
        <li><a href="#service-worker-global-events"><span class="secno">6.1.1</span> <span class="content">Events</span></a>
       </ol>
      <li><a href="#extensions-to-service-worker-registration"><span class="secno">6.2</span> <span class="content">Extensions to <code class="idl"><span>ServiceWorkerRegistration</span></code></span></a>
      <li>
       <a href="#background-fetch-manager"><span class="secno">6.3</span> <span class="content"><code class="idl"><span>BackgroundFetchManager</span></code></span></a>
       <ol class="toc">
        <li><a href="#background-fetch-manager-fetch"><span class="secno">6.3.1</span> <span class="content"><code class="idl"><span>fetch()</span></code></span></a>
        <li><a href="#background-fetch-manager-get"><span class="secno">6.3.2</span> <span class="content"><code class="idl"><span>get()</span></code></span></a>
        <li><a href="#background-fetch-manager-get-ids"><span class="secno">6.3.3</span> <span class="content"><code class="idl"><span>getIds()</span></code></span></a>
       </ol>
      <li>
       <a href="#background-fetch-registration"><span class="secno">6.4</span> <span class="content"><code class="idl"><span>BackgroundFetchRegistration</span></code></span></a>
       <ol class="toc">
        <li><a href="#background-fetch-registration-events"><span class="secno">6.4.1</span> <span class="content">Events</span></a>
        <li><a href="#background-fetch-registration-abort"><span class="secno">6.4.2</span> <span class="content"><code class="idl"><span>abort()</span></code></span></a>
        <li><a href="#background-fetch-registration-match"><span class="secno">6.4.3</span> <span class="content"><code class="idl"><span>match()</span></code></span></a>
        <li><a href="#background-fetch-registration-match-all"><span class="secno">6.4.4</span> <span class="content"><code class="idl"><span>matchAll()</span></code></span></a>
       </ol>
      <li><a href="#background-fetch-record-interface"><span class="secno">6.5</span> <span class="content"><code class="idl"><span>BackgroundFetchRecord</span></code></span></a>
      <li><a href="#background-fetch-event"><span class="secno">6.6</span> <span class="content"><code class="idl"><span>BackgroundFetchEvent</span></code></span></a>
      <li>
       <a href="#background-fetch-update-ui-event"><span class="secno">6.7</span> <span class="content"><code class="idl"><span>BackgroundFetchUpdateUIEvent</span></code></span></a>
       <ol class="toc">
        <li><a href="#background-fetch-update-ui-event-update-ui"><span class="secno">6.7.1</span> <span class="content"><code class="idl"><span>updateUI()</span></code></span></a>
       </ol>
     </ol>
    <li>
     <a href="#automation"><span class="secno">7</span> <span class="content">Automation</span></a>
     <ol class="toc">
      <li><a href="#automation-click"><span class="secno">7.1</span> <span class="content"><span>Click</span></span></a>
     </ol>
    <li><a href="#privacy-and-bandwidth-use"><span class="secno">8</span> <span class="content">Privacy and bandwidth usage</span></a>
    <li>
     <a href="#w3c-conformance"><span class="secno"></span> <span class="content">Conformance</span></a>
     <ol class="toc">
      <li><a href="#w3c-conventions"><span class="secno"></span> <span class="content">Document conventions</span></a>
      <li><a href="#w3c-conformant-algorithms"><span class="secno"></span> <span class="content">Conformant Algorithms</span></a>
     </ol>
    <li>
     <a href="#index"><span class="secno"></span> <span class="content">Index</span></a>
     <ol class="toc">
      <li><a href="#index-defined-here"><span class="secno"></span> <span class="content">Terms defined by this specification</span></a>
      <li><a href="#index-defined-elsewhere"><span class="secno"></span> <span class="content">Terms defined by reference</span></a>
     </ol>
    <li>
     <a href="#references"><span class="secno"></span> <span class="content">References</span></a>
     <ol class="toc">
      <li><a href="#normative"><span class="secno"></span> <span class="content">Normative References</span></a>
     </ol>
    <li><a href="#idl-index"><span class="secno"></span> <span class="content">IDL Index</span></a>
    <li><a href="#issues-index"><span class="secno"></span> <span class="content">Issues Index</span></a>
   </ol>
  </nav>
  <main>
   <h2 class="heading settled" data-level="1" id="intro"><span class="secno">1. </span><span class="content">Introduction</span><a class="self-link" href="#intro"></a></h2>
   <p>A <a data-link-type="dfn" href="https://w3c.github.io/ServiceWorker/#dfn-service-worker" id="ref-for-dfn-service-worker">service worker</a> is capable of fetching and caching assets, the size of which is restricted only by <a href="https://storage.spec.whatwg.org/#usage-and-quota">origin storage</a>. However, if the user navigates away from the site or closes the browser, the service worker is <a href="https://w3c.github.io/ServiceWorker/#service-worker-lifetime">likely to be killed</a>. This can happen even if there’s a pending promise passed to <code class="idl"><a data-link-type="idl" href="https://w3c.github.io/ServiceWorker/#dom-extendableevent-waituntil" id="ref-for-dom-extendableevent-waituntil">waitUntil()</a></code> - if it hasn’t resolved within a few minutes the browser may consider it an abuse of <a data-link-type="dfn" href="https://w3c.github.io/ServiceWorker/#dfn-service-worker" id="ref-for-dfn-service-worker①">service worker</a> and kill the process.</p>
   <p>This is excellent for battery and privacy, but it makes it difficult to download and cache large assets such as podcasts and movies, and upload video and images.</p>
   <p>This specification aims to:</p>
   <ul>
    <li data-md>
     <p>Allow fetches (requests &amp; responses) to continue even if the user closes all windows &amp; workers to the origin.</p>
    <li data-md>
     <p>Allow a single job to involve many requests, as defined by the app.</p>
    <li data-md>
     <p>Allow the browser/OS to show UI to indicate the progress of that job, and allow the user to pause/abort.</p>
    <li data-md>
     <p>Allow the browser/OS to deal with poor connectivity by pausing/resuming the download.</p>
    <li data-md>
     <p>Allow the app to react to success/failure of the job, perhaps by caching the results.</p>
    <li data-md>
     <p>Allow access to background-fetched resources as they fetch.</p>
   </ul>
   <h2 class="heading settled" data-level="2" id="realms"><span class="secno">2. </span><span class="content">Realms</span><a class="self-link" href="#realms"></a></h2>
   <p>All platform objects are created in the <a data-link-type="dfn">context object</a>'s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-realm" id="ref-for-concept-relevant-realm">relevant Realm</a> unless otherwise specified.</p>
   <h2 class="heading settled" data-level="3" id="infrastructure"><span class="secno">3. </span><span class="content">Infrastructure</span><a class="self-link" href="#infrastructure"></a></h2>
   <p>A resource is considered <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="temporarily-unavailable">temporarily unavailable</dfn> if the user agent believes the resource may soon become available. Reasons may include:</p>
   <ul>
    <li data-md>
     <p>The user agent is offline.</p>
    <li data-md>
     <p>The user agent is behind a captive portal.</p>
   </ul>
   <p>The <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="background-fetch-task-source">background fetch task source</dfn> is a <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#task-source" id="ref-for-task-source">task source</a>.</p>
   <div class="algorithm" data-algorithm="queue a bgfetch task"> To <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="queue-a-bgfetch-task">queue a bgfetch task</dfn> on an optional <var>eventLoop</var> (an <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-agent-event-loop" id="ref-for-concept-agent-event-loop">event loop</a>, defaulting to the caller’s <a data-link-type="dfn">context object</a>'s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#relevant-settings-object" id="ref-for-relevant-settings-object">relevant settings object</a>'s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#responsible-event-loop" id="ref-for-responsible-event-loop">responsible event loop</a>) with <var>steps</var> (steps), <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-task" id="ref-for-queue-a-task">queue a task</a> on <var>eventLoop</var> using the <a data-link-type="dfn" href="#background-fetch-task-source" id="ref-for-background-fetch-task-source">background fetch task source</a> to run <var>steps</var>. </div>
   <h3 class="heading settled" data-level="3.1" id="service-worker-registration-concept-extensions"><span class="secno">3.1. </span><span class="content">Extensions to service worker registration</span><a class="self-link" href="#service-worker-registration-concept-extensions"></a></h3>
   <p>A <a data-link-type="dfn" href="https://w3c.github.io/ServiceWorker/#dfn-service-worker-registration" id="ref-for-dfn-service-worker-registration">service worker registration</a> additionally has:</p>
   <div>
    <ul>
     <li data-md>
      <p><dfn class="dfn-paneled" data-dfn-for="service worker registration" data-dfn-type="dfn" data-noexport id="service-worker-registration-active-background-fetches">Active background fetches</dfn> (a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#ordered-map" id="ref-for-ordered-map">map</a>), where each key is a DOMString, and each item is a <a data-link-type="dfn" href="#background-fetch" id="ref-for-background-fetch">background fetch</a>. It is initially an empty <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#ordered-map" id="ref-for-ordered-map①">map</a>.</p>
     <li data-md>
      <p>An <dfn class="dfn-paneled" data-dfn-for="service worker registration" data-dfn-type="dfn" data-noexport id="service-worker-registration-active-background-fetches-edit-queue">active background fetches edit queue</dfn> (a <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/infrastructure.html#parallel-queue" id="ref-for-parallel-queue">parallel queue</a>), initially the result of <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/infrastructure.html#starting-a-new-parallel-queue" id="ref-for-starting-a-new-parallel-queue">starting a new parallel queue</a>.</p>
    </ul>
   </div>
   <h3 class="heading settled" data-level="3.2" id="background-fetch-concept"><span class="secno">3.2. </span><span class="content"><a data-link-type="dfn" href="#background-fetch" id="ref-for-background-fetch①">Background fetch</a></span><a class="self-link" href="#background-fetch-concept"></a></h3>
   <p>A <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="background-fetch">background fetch</dfn> consists of:</p>
   <div>
    <ul>
     <li data-md>
      <p>An <dfn class="dfn-paneled" data-dfn-for="background fetch" data-dfn-type="dfn" data-noexport id="background-fetch-id">id</dfn> (a DOMString).</p>
     <li data-md>
      <p><dfn class="dfn-paneled" data-dfn-for="background fetch" data-dfn-type="dfn" data-noexport id="background-fetch-records">Records</dfn> (a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list" id="ref-for-list">list</a> of <a data-link-type="dfn" href="#background-fetch-record" id="ref-for-background-fetch-record">background fetch records</a>).</p>
     <li data-md>
      <p>A <dfn class="dfn-paneled" data-dfn-for="background fetch" data-dfn-type="dfn" data-noexport id="background-fetch-title">title</dfn> (a DOMString).</p>
     <li data-md>
      <p>A <dfn class="dfn-paneled" data-dfn-for="background fetch" data-dfn-type="dfn" data-noexport id="background-fetch-download-total">download total</dfn> (a number).</p>
     <li data-md>
      <p>An <dfn class="dfn-paneled" data-dfn-for="background fetch" data-dfn-type="dfn" data-noexport id="background-fetch-upload-total">upload total</dfn> (a number).</p>
     <li data-md>
      <p>A <dfn class="dfn-paneled" data-dfn-for="background fetch" data-dfn-type="dfn" data-noexport id="background-fetch-uploaded">uploaded</dfn> (a number), initially 0.</p>
     <li data-md>
      <p>A <dfn class="dfn-paneled" data-dfn-for="background fetch" data-dfn-type="dfn" data-noexport id="background-fetch-result">result</dfn> (a <code class="idl"><a data-link-type="idl" href="#enumdef-backgroundfetchresult" id="ref-for-enumdef-backgroundfetchresult">BackgroundFetchResult</a></code>), initially the empty string.</p>
     <li data-md>
      <p>A <dfn class="dfn-paneled" data-dfn-for="background fetch" data-dfn-type="dfn" data-noexport id="background-fetch-failure-reason">failure reason</dfn> (a <code class="idl"><a data-link-type="idl" href="#enumdef-backgroundfetchfailurereason" id="ref-for-enumdef-backgroundfetchfailurereason">BackgroundFetchFailureReason</a></code>), initially the empty string.</p>
     <li data-md>
      <p>A <dfn class="dfn-paneled" data-dfn-for="background fetch" data-dfn-type="dfn" data-noexport id="background-fetch-records-available-flag">records available flag</dfn> initially set.</p>
     <li data-md>
      <p><dfn class="dfn-paneled" data-dfn-for="background fetch" data-dfn-type="dfn" data-noexport id="background-fetch-icons">Icons</dfn> (a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list" id="ref-for-list①">list</a> of <code class="idl"><a data-link-type="idl" href="https://w3c.github.io/image-resource/#dom-imageresource" id="ref-for-dom-imageresource">ImageResource</a></code>s).</p>
     <li data-md>
      <p>A <dfn class="dfn-paneled" data-dfn-for="background fetch" data-dfn-type="dfn" data-noexport id="background-fetch-service-worker-registration">service worker registration</dfn> (a <a data-link-type="dfn" href="https://w3c.github.io/ServiceWorker/#dfn-service-worker-registration" id="ref-for-dfn-service-worker-registration①">service worker registration</a>).</p>
     <li data-md>
      <p>A <dfn class="dfn-paneled" data-dfn-for="background fetch" data-dfn-type="dfn" data-noexport id="background-fetch-update-handling-queue">update handling queue</dfn> (a <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/infrastructure.html#parallel-queue" id="ref-for-parallel-queue①">parallel queue</a>), initially the result of <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/infrastructure.html#starting-a-new-parallel-queue" id="ref-for-starting-a-new-parallel-queue①">starting a new parallel queue</a>.</p>
     <li data-md>
      <p>A <dfn class="dfn-paneled" data-dfn-for="background fetch" data-dfn-type="dfn" data-noexport id="background-fetch-paused-flag">paused flag</dfn>, initially unset.</p>
     <li data-md>
      <p>A <dfn class="dfn-paneled" data-dfn-for="background fetch" data-dfn-type="dfn" data-noexport id="background-fetch-abort-all-flag">abort all flag</dfn>, initially unset.</p>
    </ul>
    <div class="algorithm" data-algorithm="stored body bytes total">
      To get a <a data-link-type="dfn" href="#background-fetch" id="ref-for-background-fetch②">background fetch</a>'s (<var>bgFetch</var>) <dfn class="dfn-paneled" data-dfn-for="background fetch" data-dfn-type="dfn" data-noexport id="background-fetch-stored-body-bytes-total">stored body bytes total</dfn>, run these steps: 
     <ol>
      <li data-md>
       <p>Let <var>total</var> be 0.</p>
      <li data-md>
       <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-iterate" id="ref-for-list-iterate">For each</a> <var>record</var> of <var>bgFetch</var>’s <a data-link-type="dfn" href="#background-fetch-records" id="ref-for-background-fetch-records">records</a>:</p>
       <ol>
        <li data-md>
         <p>Increment <var>total</var> by the <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#byte-sequence-length" id="ref-for-byte-sequence-length">length</a> of <var>record</var>’s <a data-link-type="dfn" href="#background-fetch-record-response-data" id="ref-for-background-fetch-record-response-data">response data</a>'s <a data-link-type="dfn" href="#background-fetch-response-bytes" id="ref-for-background-fetch-response-bytes">bytes</a>.</p>
       </ol>
      <li data-md>
       <p>Return <var>total</var>.</p>
     </ol>
    </div>
    <h4 class="heading settled" data-level="3.2.1" id="background-fetch-display-algorithm"><span class="secno">3.2.1. </span><span class="content"><a data-link-type="dfn" href="#background-fetch-display" id="ref-for-background-fetch-display">Display</a></span><a class="self-link" href="#background-fetch-display-algorithm"></a></h4>
    <div class="algorithm" data-algorithm="display">
      To <dfn class="dfn-paneled" data-dfn-for="background fetch" data-dfn-type="dfn" data-noexport id="background-fetch-display">display</dfn> a <a data-link-type="dfn" href="#background-fetch" id="ref-for-background-fetch③">background fetch</a> (<var>bgFetch</var>) for a given <var>environment</var> (an <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#environment-settings-object" id="ref-for-environment-settings-object">environment settings object</a>), the user agent must present a user interface that follows these rules: 
     <ul>
      <li data-md>
       <p>The UI must prominently display the <var>bgFetch</var>’s <a data-link-type="dfn" href="#background-fetch-service-worker-registration" id="ref-for-background-fetch-service-worker-registration">service worker registration</a>'s <a data-link-type="dfn" href="https://w3c.github.io/ServiceWorker/#dfn-scope-url" id="ref-for-dfn-scope-url">scope url</a>'s <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url-origin" id="ref-for-concept-url-origin">origin</a></p>
      <li data-md>
       <p>If the <var>bgFetch</var>’s <a data-link-type="dfn" href="#background-fetch-paused-flag" id="ref-for-background-fetch-paused-flag">paused flag</a> is unset, and <var>bgFetch</var>’s <a data-link-type="dfn" href="#background-fetch-result" id="ref-for-background-fetch-result">result</a> is not the empty string, then the UI must indicate that bandwidth is being used.</p>
      <li data-md>
       <p>The UI cannot be dismissed without aborting (e.g. swiped away) until <var>bgFetch</var>’s <a data-link-type="dfn" href="#background-fetch-result" id="ref-for-background-fetch-result①">result</a> is not the empty string.</p>
      <li data-md>
       <p>The UI may display <var>bgFetch</var>’s <a data-link-type="dfn" href="#background-fetch-title" id="ref-for-background-fetch-title">title</a>.</p>
      <li data-md>
       <p>The UI may select an <a data-link-type="dfn" href="https://w3c.github.io/image-resource/#image-resource" id="ref-for-image-resource">image resource</a> (<var>icon</var>) for display from <var>bgFetch</var>’s <a data-link-type="dfn" href="#background-fetch-icons" id="ref-for-background-fetch-icons">icons</a>, after successfully <a data-link-type="dfn" href="https://w3c.github.io/image-resource/#processing-an-imageresource-from-an-api" id="ref-for-processing-an-imageresource-from-an-api">processing</a> it, and <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-fetch" id="ref-for-concept-fetch">fetch</a> it using a new <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-request" id="ref-for-concept-request">request</a> with the following properties:</p>
       <dl>
        <dt data-md><a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-request-url" id="ref-for-concept-request-url">URL</a>
        <dd data-md>
         <p><var>icon</var>’s <a data-link-type="dfn" href="https://w3c.github.io/image-resource/#dfn-src" id="ref-for-dfn-src">src</a>.</p>
        <dt data-md><a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-request-client" id="ref-for-concept-request-client">Client</a>
        <dd data-md>
         <p><var>environment</var>.</p>
        <dt data-md><a data-link-type="dfn">Keepalive flag</a>
        <dd data-md>
         <p>Set.</p>
        <dt data-md><a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#request-service-workers-mode" id="ref-for-request-service-workers-mode">Service-workers mode</a>
        <dd data-md>
         <p>"<code>none</code>".</p>
        <dt data-md><a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-request-destination" id="ref-for-concept-request-destination">Destination</a>
        <dd data-md>
         <p>"<code>image</code>".</p>
        <dt data-md><a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-request-mode" id="ref-for-concept-request-mode">Mode</a>
        <dd data-md>
         <p>"<code>no-cors</code>".</p>
        <dt data-md><a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-request-credentials-mode" id="ref-for-concept-request-credentials-mode">Credentials mode</a>
        <dd data-md>
         <p>"<code>include</code>".</p>
       </dl>
       <p class="issue" id="issue-20b63876"><a class="self-link" href="#issue-20b63876"></a> <a href="https://github.com/w3c/manifest/pull/710">manifest/pull/710</a>.</p>
      <li data-md>
       <p>The UI may use <var>bgFetch</var>’s <a data-link-type="dfn" href="#background-fetch-download-total" id="ref-for-background-fetch-download-total">download total</a>, <a data-link-type="dfn" href="#background-fetch-upload-total" id="ref-for-background-fetch-upload-total">upload total</a>, <a data-link-type="dfn" href="#background-fetch-stored-body-bytes-total" id="ref-for-background-fetch-stored-body-bytes-total">stored body bytes total</a>, <a data-link-type="dfn" href="#background-fetch-uploaded" id="ref-for-background-fetch-uploaded">uploaded</a>, <a data-link-type="dfn" href="#background-fetch-paused-flag" id="ref-for-background-fetch-paused-flag①">paused flag</a>, and <a data-link-type="dfn" href="#background-fetch-result" id="ref-for-background-fetch-result②">result</a> to present the progress of the fetch.</p>
      <li data-md>
       <p>The UI must provide a way for the user to abort the <var>bgFetch</var> by setting <var>bgFetch</var>’s <a data-link-type="dfn" href="#background-fetch-abort-all-flag" id="ref-for-background-fetch-abort-all-flag">abort all flag</a>.</p>
      <li data-md>
       <p>If every <a data-link-type="dfn" href="#background-fetch-record-request" id="ref-for-background-fetch-record-request">request</a> in <var>bgFetch</var>’s <a data-link-type="dfn" href="#background-fetch-records" id="ref-for-background-fetch-records①">records</a> has the <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-request-method" id="ref-for-concept-request-method">method</a> `<code>GET</code>`, the UI may provide a way to toggle <var>bgFetch</var>’s <a data-link-type="dfn" href="#background-fetch-paused-flag" id="ref-for-background-fetch-paused-flag②">paused flag</a>.</p>
       <p class="note" role="note"><span class="marker">Note:</span> If a <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-request-method" id="ref-for-concept-request-method①">method</a> is not `<code>GET</code>`, reissuing the request may have unwanted side effects.</p>
      <li data-md>
       <p>The UI may be activated (for example, by clicking), in which case <a data-link-type="dfn" href="#fire-a-background-fetch-click-event" id="ref-for-fire-a-background-fetch-click-event">fire a background fetch click event</a> for <var>bgFetch</var>.</p>
      <li data-md>
       <p>The UI may remain once the operation is complete, in which case it can still be activated.</p>
     </ul>
     <p>Let <var>permission</var> be the <a data-link-type="dfn" href="https://w3c.github.io/permissions/#dfn-permission-state" id="ref-for-dfn-permission-state">permission state</a> for a <code class="idl"><a data-link-type="idl" href="https://w3c.github.io/permissions/#dom-permissiondescriptor" id="ref-for-dom-permissiondescriptor">PermissionDescriptor</a></code> with <code class="idl"><a data-link-type="idl" href="https://w3c.github.io/permissions/#dom-permissiondescriptor-name" id="ref-for-dom-permissiondescriptor-name">name</a></code> <code>"background-fetch"</code> and <var>environment</var>. If <var>permission</var> is <code>"prompt"</code>, then the user agent may set <var>bgFetch</var>’s <a data-link-type="dfn" href="#background-fetch-paused-flag" id="ref-for-background-fetch-paused-flag③">paused flag</a> at the beginning of this algorithm. The user agent should allow the user to either accept the background fetch (unsetting <var>bgFetch</var>’s <a data-link-type="dfn" href="#background-fetch-paused-flag" id="ref-for-background-fetch-paused-flag④">paused flag</a>), or refuse the background fetch (setting <var>bgFetch</var>’s <a data-link-type="dfn" href="#background-fetch-abort-all-flag" id="ref-for-background-fetch-abort-all-flag①">abort all flag</a>). The user agent may also provide always-allow and alway-deny options, which can be used as <a data-link-type="dfn" href="https://w3c.github.io/permissions/#dfn-new-information-about-the-user-s-intent" id="ref-for-dfn-new-information-about-the-user-s-intent">new information about the user’s intent</a> for this permission.</p>
     <p>The user agent may also consider setting <var>bgFetch</var>’s <a data-link-type="dfn" href="#background-fetch-paused-flag" id="ref-for-background-fetch-paused-flag⑤">paused flag</a> if the user is on a metered connection, or the background fetch was started in the background.</p>
    </div>
   </div>
   <h3 class="heading settled" data-level="3.3" id="background-fetch-record-concept"><span class="secno">3.3. </span><span class="content">Background fetch record</span><a class="self-link" href="#background-fetch-record-concept"></a></h3>
   <p>A <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="background-fetch-record">background fetch record</dfn> consists of:</p>
   <div>
    <ul>
     <li data-md>
      <p>A <dfn class="dfn-paneled" data-dfn-for="background fetch record" data-dfn-type="dfn" data-noexport id="background-fetch-record-request">request</dfn> (a <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-request" id="ref-for-concept-request①">request</a>).</p>
     <li data-md>
      <p>A <dfn class="dfn-paneled" data-dfn-for="background fetch record" data-dfn-type="dfn" data-noexport id="background-fetch-record-response-data">response data</dfn> (a <a data-link-type="dfn" href="#background-fetch-response" id="ref-for-background-fetch-response">background fetch response</a>), initially a new <a data-link-type="dfn" href="#background-fetch-response" id="ref-for-background-fetch-response①">background fetch response</a>.</p>
    </ul>
   </div>
   <h3 class="heading settled" data-level="3.4" id="background-fetch-response-concept"><span class="secno">3.4. </span><span class="content">Background fetch response</span><a class="self-link" href="#background-fetch-response-concept"></a></h3>
   <p>A <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="background-fetch-response">Background fetch response</dfn> consists of:</p>
   <div>
    <ul>
     <li data-md>
      <p>A <dfn class="dfn-paneled" data-dfn-for="background fetch response" data-dfn-type="dfn" data-noexport id="background-fetch-response-response">response</dfn> (a <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-response" id="ref-for-concept-response">response</a> or null), initially null.</p>
     <li data-md>
      <p><dfn class="dfn-paneled" data-dfn-for="background fetch response" data-dfn-type="dfn" data-noexport id="background-fetch-response-bytes">Bytes</dfn> (a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#byte-sequence" id="ref-for-byte-sequence">byte sequence</a>), initially an empty <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#byte-sequence" id="ref-for-byte-sequence①">byte sequence</a>.</p>
     <li data-md>
      <p>A <dfn class="dfn-paneled" data-dfn-for="background fetch response" data-dfn-type="dfn" data-noexport id="background-fetch-response-result">result</dfn>, (any <code class="idl"><a data-link-type="idl" href="#enumdef-backgroundfetchfailurereason" id="ref-for-enumdef-backgroundfetchfailurereason①">BackgroundFetchFailureReason</a></code>, <code>"success"</code>, or <code>"redundant"</code>), initially the empty string.</p>
    </ul>
    <p>The <a data-link-type="dfn" href="#background-fetch-response-response" id="ref-for-background-fetch-response-response">response</a> can be <dfn class="dfn-paneled" data-dfn-for="background fetch response" data-dfn-type="dfn" data-noexport id="background-fetch-response-exposed">exposed</dfn> if the <a data-link-type="dfn" href="#background-fetch-response-result" id="ref-for-background-fetch-response-result">result</a> is the empty string, <code>"success"</code>, or <code>"bad-status"</code>.</p>
   </div>
   <h2 class="heading settled" data-level="4" id="algorithms"><span class="secno">4. </span><span class="content">Algorithms</span><a class="self-link" href="#algorithms"></a></h2>
   <h3 class="heading settled" data-level="4.1" id="perform-a-background-fetch-algorithm"><span class="secno">4.1. </span><span class="content"><a data-link-type="dfn" href="#perform-a-background-fetch" id="ref-for-perform-a-background-fetch">Perform a background fetch</a></span><a class="self-link" href="#perform-a-background-fetch-algorithm"></a></h3>
   <p class="note" role="note"><span class="marker">Note:</span> This is the algorithm that manages the 'background' parts of a background fetch. Only one instance of this algorithm runs per <a data-link-type="dfn" href="#background-fetch" id="ref-for-background-fetch④">background fetch</a>.</p>
   <div class="algorithm" data-algorithm="perform a background fetch">
     To <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="perform-a-background-fetch">perform a background fetch</dfn> for <var>bgFetch</var> (a <a data-link-type="dfn" href="#background-fetch" id="ref-for-background-fetch⑤">background fetch</a>), run these steps: 
    <ol>
     <li data-md>
      <p>Let <var>swRegistration</var> be <var>bgFetch</var>’s <a data-link-type="dfn" href="#background-fetch-service-worker-registration" id="ref-for-background-fetch-service-worker-registration①">service worker registration</a>.</p>
     <li data-md>
      <p>Let <var>settledFetches</var> be 0.</p>
     <li data-md>
      <p>Let <var>immediateFailure</var> be false.</p>
     <li data-md>
      <p>Let <var>failureReason</var> be the empty string.</p>
     <li data-md>
      <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-iterate" id="ref-for-list-iterate①">For each</a> <var>record</var> in <var>bgFetch</var>’s <a data-link-type="dfn" href="#background-fetch-records" id="ref-for-background-fetch-records②">records</a>, run these steps <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/infrastructure.html#in-parallel" id="ref-for-in-parallel">in parallel</a>:</p>
      <ol>
       <li data-md>
        <p><a data-link-type="dfn" href="#complete-a-record" id="ref-for-complete-a-record">Complete a record</a> for <var>bgFetch</var> and <var>record</var>.</p>
       <li data-md>
        <p>Let <var>result</var> be <var>record</var>’s <a data-link-type="dfn" href="#background-fetch-record-response-data" id="ref-for-background-fetch-record-response-data①">response data</a>'s <a data-link-type="dfn" href="#background-fetch-response-result" id="ref-for-background-fetch-response-result①">result</a>.</p>
       <li data-md>
        <p>If <var>failureReason</var> is not the empty string:</p>
        <ol>
         <li data-md>
          <p class="assertion">Assert: <var>result</var> is not <code>"redundant"</code>.</p>
         <li data-md>
          <p>Set <var>failureReason</var> to <var>result</var>.</p>
        </ol>
       <li data-md>
        <p>Increment <var>settledFetches</var> by 1.</p>
       <li data-md>
        <p>If <var>result</var> is <code>"download-total-exceeded"</code>, then set <var>immediateFailure</var> to true.</p>
      </ol>
     <li data-md>
      <p>Wait for <var>settledFetches</var> to be <var>bgFetch</var>’s <a data-link-type="dfn" href="#background-fetch-records" id="ref-for-background-fetch-records③">records</a>'s <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-size" id="ref-for-list-size">size</a>, or <var>immediateFailure</var> to be true.</p>
     <li data-md>
      <p>If <var>immediateFailure</var> is true, set <var>bgFetch</var>’s <a data-link-type="dfn" href="#background-fetch-abort-all-flag" id="ref-for-background-fetch-abort-all-flag②">abort all flag</a>.</p>
      <p class="note" role="note"><span class="marker">Note:</span> The <a data-link-type="dfn" href="#complete-a-record" id="ref-for-complete-a-record①">complete a record</a> algorithm listens to this flag and terminates the fetch when set.</p>
     <li data-md>
      <p><a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/infrastructure.html#enqueue-the-following-steps" id="ref-for-enqueue-the-following-steps">Enqueue the following steps</a> to <var>swRegistration</var>’s <a data-link-type="dfn" href="#service-worker-registration-active-background-fetches-edit-queue" id="ref-for-service-worker-registration-active-background-fetches-edit-queue">active background fetches edit queue</a>:</p>
      <ol>
       <li data-md>
        <p>Let <var>activeBgFetches</var> be <var>swRegistration</var>’s <a data-link-type="dfn" href="#service-worker-registration-active-background-fetches" id="ref-for-service-worker-registration-active-background-fetches">active background fetches</a>.</p>
       <li data-md>
        <p>Let <var>id</var> be <var>bgFetch</var>’s <a data-link-type="dfn" href="#background-fetch-id" id="ref-for-background-fetch-id">id</a>.</p>
       <li data-md>
        <p>If <var>activeBgFetches</var> <a data-link-type="dfn" href="#contains-background-fetch" id="ref-for-contains-background-fetch">contains background fetch</a> <var>bgFetch</var>, then remove <var>activeBgFetches</var>[<var>id</var>].</p>
       <li data-md>
        <p>Otherwise, set <var>failureReason</var> to <code>"aborted"</code>.</p>
        <p class="note" role="note"><span class="marker">Note:</span> This handles a race condition where <code class="idl"><a data-link-type="idl" href="#dom-backgroundfetchregistration-abort" id="ref-for-dom-backgroundfetchregistration-abort">abort()</a></code> was successfully called but one of the fetches failed at the same time. If we’ve returned true from <code class="idl"><a data-link-type="idl" href="#dom-backgroundfetchregistration-abort" id="ref-for-dom-backgroundfetchregistration-abort①">abort()</a></code>, this ensures we fire the related abort event.</p>
       <li data-md>
        <p>If <var>failureReason</var> is not the empty string, then:</p>
        <ol>
         <li data-md>
          <p>Set <var>bgFetch</var>’s <a data-link-type="dfn" href="#background-fetch-result" id="ref-for-background-fetch-result③">result</a> to <code>"failure"</code>.</p>
         <li data-md>
          <p>Set <var>bgFetch</var>’s <a data-link-type="dfn" href="#background-fetch-failure-reason" id="ref-for-background-fetch-failure-reason">failure reason</a> to <var>failureReason</var>.</p>
        </ol>
       <li data-md>
        <p>Otherwise, set <var>bgFetch</var>’s <a data-link-type="dfn" href="#background-fetch-result" id="ref-for-background-fetch-result④">result</a> to <code>"success"</code>.</p>
       <li data-md>
        <p><a data-link-type="dfn" href="#update-background-fetch-instances" id="ref-for-update-background-fetch-instances">Update background fetch instances</a> for <var>bgFetch</var>.</p>
       <li data-md>
        <p>Let <var>eventName</var> be the empty string.</p>
       <li data-md>
        <p>Let <var>eventConstructor</var> be null.</p>
       <li data-md>
        <p>If <var>failureReason</var> is <code>"aborted"</code>, then:</p>
        <ol>
         <li data-md>
          <p>Set <var>eventName</var> to "<code>backgroundfetchabort</code>".</p>
         <li data-md>
          <p>Set <var>eventConstructor</var> to <code class="idl"><a data-link-type="idl" href="#backgroundfetchevent" id="ref-for-backgroundfetchevent">BackgroundFetchEvent</a></code>.</p>
        </ol>
       <li data-md>
        <p>Otherwise, if <var>failureReason</var> is not the empty string, then:</p>
        <ol>
         <li data-md>
          <p>Set <var>eventName</var> to "<code>backgroundfetchfail</code>".</p>
         <li data-md>
          <p>Set <var>eventConstructor</var> to <code class="idl"><a data-link-type="idl" href="#backgroundfetchupdateuievent" id="ref-for-backgroundfetchupdateuievent">BackgroundFetchUpdateUIEvent</a></code>.</p>
        </ol>
       <li data-md>
        <p>Otherwise:</p>
        <ol>
         <li data-md>
          <p>Set <var>eventName</var> to "<code>backgroundfetchsuccess</code>".</p>
         <li data-md>
          <p>Set <var>eventConstructor</var> to <code class="idl"><a data-link-type="idl" href="#backgroundfetchupdateuievent" id="ref-for-backgroundfetchupdateuievent①">BackgroundFetchUpdateUIEvent</a></code>.</p>
        </ol>
       <li data-md>
        <p><a data-link-type="dfn" href="https://w3c.github.io/ServiceWorker/#fire-functional-event" id="ref-for-fire-functional-event">Fire a functional event</a> named <var>eventName</var> using <var>eventConstructor</var> on <var>swRegistration</var> with the following properties:</p>
        <dl>
         <dt data-md><code class="idl"><a data-link-type="idl" href="#dom-backgroundfetchevent-registration" id="ref-for-dom-backgroundfetchevent-registration">registration</a></code>
         <dd data-md>
          <p>The result of <a data-link-type="dfn" href="#get-a-backgroundfetchregistration-instance" id="ref-for-get-a-backgroundfetchregistration-instance">getting a BackgroundFetchRegistration instance</a> for <var>bgFetch</var> in the event object’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-realm" id="ref-for-concept-relevant-realm①">relevant Realm</a>.</p>
        </dl>
        <p>Then run these steps with <var>dispatchedEvent</var> <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/infrastructure.html#in-parallel" id="ref-for-in-parallel①">in parallel</a>:</p>
        <ol>
         <li data-md>
          <p>Wait until <var>dispatchedEvent</var> is not <a data-link-type="dfn" href="https://w3c.github.io/ServiceWorker/#extendableevent-active" id="ref-for-extendableevent-active">active</a>.</p>
          <p class="issue" id="issue-b420dc4f"><a class="self-link" href="#issue-b420dc4f"></a> <a href="https://github.com/w3c/ServiceWorker/pull/1348">ServiceWorker/1348</a>.</p>
         <li data-md>
          <p>Unset <var>bgFetch</var>’s <a data-link-type="dfn" href="#background-fetch-records-available-flag" id="ref-for-background-fetch-records-available-flag">records available flag</a>.</p>
         <li data-md>
          <p><a data-link-type="dfn" href="#update-background-fetch-instances" id="ref-for-update-background-fetch-instances①">Update background fetch instances</a> for <var>bgFetch</var>.</p>
        </ol>
      </ol>
    </ol>
   </div>
   <h3 class="heading settled" data-level="4.2" id="complete-a-record-algorithm"><span class="secno">4.2. </span><span class="content"><a data-link-type="dfn" href="#complete-a-record" id="ref-for-complete-a-record②">Complete a record</a></span><a class="self-link" href="#complete-a-record-algorithm"></a></h3>
   <p class="note" role="note"><span class="marker">Note:</span> This algorithm manages the fetching of a <a data-link-type="dfn" href="#background-fetch-record" id="ref-for-background-fetch-record①">background fetch record</a>. One instance of this algorithm is started per <a data-link-type="dfn" href="#background-fetch-record" id="ref-for-background-fetch-record②">background fetch record</a>, but it is called recursively to retry fetches or to fetch the next part of a partial response.</p>
   <div class="algorithm" data-algorithm="complete a record">
     To <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="complete-a-record">complete a record</dfn> for <var>bgFetch</var> (a <a data-link-type="dfn" href="#background-fetch" id="ref-for-background-fetch⑥">background fetch</a>) and <var>record</var> (a <a data-link-type="dfn" href="#background-fetch-record" id="ref-for-background-fetch-record③">background fetch record</a>), run these steps: 
    <ol>
     <li data-md>
      <p>Let <var>responseData</var> be <var>record</var>’s <a data-link-type="dfn" href="#background-fetch-record-response-data" id="ref-for-background-fetch-record-response-data②">response data</a>.</p>
     <li data-md>
      <p>Let <var>downloadTotal</var> be <var>bgFetch</var>’s <a data-link-type="dfn" href="#background-fetch-download-total" id="ref-for-background-fetch-download-total①">download total</a> if it is not 0, otherwise infinity.</p>
     <li data-md>
      <p>Wait for <var>bgFetch</var>’s <a data-link-type="dfn" href="#background-fetch-paused-flag" id="ref-for-background-fetch-paused-flag⑥">paused flag</a> to be unset.</p>
     <li data-md>
      <p>Let <var>request</var> be a copy of <var>record</var>’s <a data-link-type="dfn" href="#background-fetch-record-request" id="ref-for-background-fetch-record-request①">request</a>.</p>
      <p class="note" role="note"><span class="marker">Note:</span> At this point the request is entirely held in storage, even if it started as a stream.</p>
     <li data-md>
      <p>Set <var>request</var>’s <a data-link-type="dfn">keepalive flag</a>.</p>
     <li data-md>
      <p>Set <var>request</var>’s <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#request-service-workers-mode" id="ref-for-request-service-workers-mode①">service-workers mode</a> to "<code>none</code>".</p>
     <li data-md>
      <p>Let <var>rangeStart</var> be the <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#byte-sequence-length" id="ref-for-byte-sequence-length①">length</a> of <var>responseData</var>’s <a data-link-type="dfn" href="#background-fetch-response-bytes" id="ref-for-background-fetch-response-bytes①">bytes</a>.</p>
     <li data-md>
      <p>If <var>rangeStart</var> is not 0, then <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-request-add-range-header" id="ref-for-concept-request-add-range-header">add a range header</a> to <var>request</var> with <var>rangeStart</var>.</p>
      <p class="note" role="note"><span class="marker">Note:</span> If the <var>rangeStart</var> is 0, a normal request is made. This allows the initial request to make use of content encoding, since <code>Accept-Encoding: identity</code> is added to requests with a range header.</p>
     <li data-md>
      <p>Let <var>fetchAttemptComplete</var> be false.</p>
     <li data-md>
      <p>Let <var>lastTransmittedSize</var> be 0.</p>
     <li data-md>
      <p><a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-fetch" id="ref-for-concept-fetch①">Fetch</a> <var>request</var>.</p>
      <p class="issue" id="issue-775cdb79"><a class="self-link" href="#issue-775cdb79"></a> The remainder of this step uses fetch "callbacks" which currently queue tasks. This isn’t desirable or possible here, so let’s pretend that tasks aren’t queued. (<a href="https://github.com/whatwg/fetch/issues/536#issuecomment-330184276">issue</a>)</p>
      <p>To <a data-link-type="dfn">process request body</a> for <var>request</var>, run these steps:</p>
      <ol>
       <li data-md>
        <p>Let <var>transmittedSize</var> be <var>request</var>’s <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-request-body" id="ref-for-concept-request-body">body</a>'s <a data-link-type="dfn">transmitted bytes</a>.</p>
       <li data-md>
        <p>Increment <var>bgFetch</var>’s <a data-link-type="dfn" href="#background-fetch-uploaded" id="ref-for-background-fetch-uploaded①">uploaded</a> by <var>transmittedSize</var> minus <var>lastTransmittedSize</var>.</p>
       <li data-md>
        <p>Set <var>lastTransmittedSize</var> to <var>transmittedSize</var>.</p>
       <li data-md>
        <p><a data-link-type="dfn" href="#update-background-fetch-instances" id="ref-for-update-background-fetch-instances②">Update background fetch instances</a> for <var>bgFetch</var>.</p>
      </ol>
      <p>To <a data-link-type="dfn">process response</a> for <var>response</var>, run these steps:</p>
      <ol>
       <li data-md>
        <p>If <var>response</var> is a <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-network-error" id="ref-for-concept-network-error">network error</a>, then:</p>
        <ol>
         <li data-md>
          <p>If the resource is <a data-link-type="dfn" href="#temporarily-unavailable" id="ref-for-temporarily-unavailable">temporarily unavailable</a> and <var>request</var>’s <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-request-method" id="ref-for-concept-request-method②">method</a> is `<code>GET</code>`, then wait until the resource is not <a data-link-type="dfn" href="#temporarily-unavailable" id="ref-for-temporarily-unavailable①">temporarily unavailable</a>, then set <var>fetchAttemptComplete</var> to true and abort these steps.</p>
          <p class="note" role="note"><span class="marker">Note:</span> If <var>request</var>’s <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-request-method" id="ref-for-concept-request-method③">method</a> is not `<code>GET</code>`, reissuing the request may have unwanted side effects. If a standard method to resume requests becomes available, it’ll be adopted here.</p>
         <li data-md>
          <p>If <var>response</var> is an <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-aborted-network-error" id="ref-for-concept-aborted-network-error">aborted network error</a>, then set <var>responseData</var>’s <a data-link-type="dfn" href="#background-fetch-response-result" id="ref-for-background-fetch-response-result②">result</a> to <code>"aborted"</code>, otherwise <code>"fetch-error"</code>.</p>
         <li data-md>
          <p>Set <var>fetchAttemptComplete</var> to true, and abort these steps.</p>
        </ol>
       <li data-md>
        <p>If <var>response</var>’s <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-response-status" id="ref-for-concept-response-status">status</a> is <code>206</code>, then:</p>
        <ol>
         <li data-md>
          <p>If <a data-link-type="dfn" href="#validate-a-partial-response" id="ref-for-validate-a-partial-response">validate a partial response</a> for <var>rangeStart</var>, <var>response</var>, and <var>responseData</var>’s <a data-link-type="dfn" href="#background-fetch-response-response" id="ref-for-background-fetch-response-response①">response</a> returns invalid, then:</p>
          <ol>
           <li data-md>
            <p>Set <var>responseData</var>’s <a data-link-type="dfn" href="#background-fetch-response-result" id="ref-for-background-fetch-response-result③">result</a> to <code>"fetch-error"</code>.</p>
           <li data-md>
            <p>Set <var>fetchAttemptComplete</var> to true.</p>
           <li data-md>
            <p><a data-link-type="dfn">Terminate</a> the ongoing fetch, and abort these steps.</p>
          </ol>
        </ol>
       <li data-md>
        <p>Otherwise:</p>
        <ol>
         <li data-md>
          <p>Set <var>responseData</var>’s <a data-link-type="dfn" href="#background-fetch-response-result" id="ref-for-background-fetch-response-result④">result</a> to <code>"redundant"</code>.</p>
         <li data-md>
          <p>Set <var>responseData</var> to a new <a data-link-type="dfn" href="#background-fetch-response" id="ref-for-background-fetch-response②">background fetch response</a>.</p>
         <li data-md>
          <p>Set <var>record</var>’s <a data-link-type="dfn" href="#background-fetch-record-response-data" id="ref-for-background-fetch-record-response-data③">response data</a> to <var>responseData</var>.</p>
          <p class="note" role="note"><span class="marker">Note:</span> The <a data-link-type="dfn" href="#create-record-objects" id="ref-for-create-record-objects">create record objects</a> algorithm may hold a reference to the previous <a data-link-type="dfn" href="#background-fetch-response" id="ref-for-background-fetch-response③">background fetch response</a>.</p>
         <li data-md>
          <p><a data-link-type="dfn" href="#update-background-fetch-instances" id="ref-for-update-background-fetch-instances③">Update background fetch instances</a> for <var>bgFetch</var>.</p>
        </ol>
       <li data-md>
        <p>If <var>rangeStart</var> is 0 or <var>response</var>’s <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-response-status" id="ref-for-concept-response-status①">status</a> is not <code>206</code>, then set <var>responseData</var>’s <a data-link-type="dfn" href="#background-fetch-response-response" id="ref-for-background-fetch-response-response②">response</a> to a copy of <var>response</var> except for its <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-response-body" id="ref-for-concept-response-body">body</a>.</p>
       <li data-md>
        <p>Let <var>stream</var> be the <var>response</var> <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-response-body" id="ref-for-concept-response-body①">body</a>'s <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-body-stream" id="ref-for-concept-body-stream">stream</a>.</p>
       <li data-md>
        <p>Whenever one or more bytes are transmitted from <var>stream</var>, let <var>bytes</var> be the transmitted bytes and run these steps:</p>
        <ol>
         <li data-md>
          <p>If <var>bgFetch</var>’s <a data-link-type="dfn" href="#background-fetch-stored-body-bytes-total" id="ref-for-background-fetch-stored-body-bytes-total①">stored body bytes total</a> plus the size of <var>bytes</var> is greater than <var>downloadTotal</var>, then:</p>
          <ol>
           <li data-md>
            <p><a data-link-type="dfn" href="https://streams.spec.whatwg.org/#readablestream-cancel" id="ref-for-readablestream-cancel">Cancel</a> <var>stream</var>.</p>
           <li data-md>
            <p>Set <var>responseData</var>’s <a data-link-type="dfn" href="#background-fetch-response-result" id="ref-for-background-fetch-response-result⑤">result</a> to <code>"download-total-exceeded"</code>, <var>fetchAttemptComplete</var> to true, and abort these steps.</p>
          </ol>
         <li data-md>
          <p>Append <var>bytes</var> to <var>responseData</var>’s <a data-link-type="dfn" href="#background-fetch-response-bytes" id="ref-for-background-fetch-response-bytes②">bytes</a>.</p>
         <li data-md>
          <p>If the previous step fails due to exceeding a quota limit, set <var>responseData</var>’s <a data-link-type="dfn" href="#background-fetch-response-result" id="ref-for-background-fetch-response-result⑥">result</a> to <code>"quota-exceeded"</code>, <var>fetchAttemptComplete</var> to true, and abort these steps.</p>
         <li data-md>
          <p><a data-link-type="dfn" href="#update-background-fetch-instances" id="ref-for-update-background-fetch-instances④">Update background fetch instances</a> for <var>bgFetch</var>.</p>
        </ol>
       <li data-md>
        <p>If at any point the bytes transmission for <var>stream</var> is done normally, then:</p>
        <ol>
         <li data-md>
          <p>If <var>response</var>’s <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-response-status" id="ref-for-concept-response-status②">status</a> is <code>206</code>, then:</p>
          <ol>
           <li data-md>
            <p>Let <var>firstBytePos</var>, <var>lastBytePos</var>, and <var>completeLength</var> be the result of <a data-link-type="dfn" href="#extract-content-range-values" id="ref-for-extract-content-range-values">extracting content-range values</a> from <var>response</var>.</p>
           <li data-md>
            <p>If <var>completeLength</var> is not null, and equal to the <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#byte-sequence-length" id="ref-for-byte-sequence-length②">length</a> of <var>responseData</var>’s <a data-link-type="dfn" href="#background-fetch-response-bytes" id="ref-for-background-fetch-response-bytes③">bytes</a>, set <var>responseData</var>’s <a data-link-type="dfn" href="#background-fetch-response-result" id="ref-for-background-fetch-response-result⑦">result</a> to <code>"success"</code>.</p>
            <p class="note" role="note"><span class="marker">Note:</span> Although we ask for the whole resource, or the remainder of the resource, the server may not have returned the remainder, in which case we need to make an additional request.</p>
          </ol>
         <li data-md>
          <p>Otherwise, if <var>response</var>’s <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-response-status" id="ref-for-concept-response-status③">status</a> is not an <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#ok-status" id="ref-for-ok-status">ok status</a>, set <var>responseData</var>’s <a data-link-type="dfn" href="#background-fetch-response-result" id="ref-for-background-fetch-response-result⑧">result</a> to <code>"bad-status"</code>.</p>
         <li data-md>
          <p>Otherwise, set <var>responseData</var>’s <a data-link-type="dfn" href="#background-fetch-response-result" id="ref-for-background-fetch-response-result⑨">result</a> to <code>"success"</code>.</p>
         <li data-md>
          <p>Set <var>fetchAttemptComplete</var> to true.</p>
        </ol>
       <li data-md>
        <p>If at any point <var>stream</var> becomes <a data-link-type="dfn" href="https://streams.spec.whatwg.org/#readablestream-errored" id="ref-for-readablestream-errored">errored</a>, then:</p>
        <ol>
         <li data-md>
          <p>If the resource is <a data-link-type="dfn" href="#temporarily-unavailable" id="ref-for-temporarily-unavailable②">temporarily unavailable</a> and <var>request</var>’s <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-request-method" id="ref-for-concept-request-method④">method</a> is `<code>GET</code>`, then   wait until the resource is not <a data-link-type="dfn" href="#temporarily-unavailable" id="ref-for-temporarily-unavailable③">temporarily unavailable</a>, then set <var>fetchAttemptComplete</var> to true.</p>
         <li data-md>
          <p>Otherwise, set <var>responseData</var>’s <a data-link-type="dfn" href="#background-fetch-response-result" id="ref-for-background-fetch-response-result①⓪">result</a> to <code>"fetch-error"</code> and <var>fetchAttemptComplete</var> to true.</p>
        </ol>
      </ol>
     <li data-md>
      <p>Let <var>result</var> be the empty string.</p>
     <li data-md>
      <p>Run these steps, but <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#abort-when" id="ref-for-abort-when">abort when</a> <var>bgFetch</var>’s <a data-link-type="dfn" href="#background-fetch-paused-flag" id="ref-for-background-fetch-paused-flag⑦">paused flag</a> or <a data-link-type="dfn" href="#background-fetch-abort-all-flag" id="ref-for-background-fetch-abort-all-flag③">abort all flag</a> is set:</p>
      <ol>
       <li data-md>
        <p>Wait for <var>fetchAttemptComplete</var> to be true.</p>
       <li data-md>
        <p>Set <var>result</var> to <var>responseData</var>’s <a data-link-type="dfn" href="#background-fetch-response-result" id="ref-for-background-fetch-response-result①①">result</a>.</p>
      </ol>
     <li data-md>
      <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#if-aborted" id="ref-for-if-aborted">If aborted</a>, then:</p>
      <ol>
       <li data-md>
        <p>If <var>bgFetch</var>’s <a data-link-type="dfn" href="#background-fetch-paused-flag" id="ref-for-background-fetch-paused-flag⑧">paused flag</a> is set, then assert <var>request</var>’s <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-request-method" id="ref-for-concept-request-method⑤">method</a> is `<code>GET</code>`.</p>
       <li data-md>
        <p>If <var>bgFetch</var>’s <a data-link-type="dfn" href="#background-fetch-abort-all-flag" id="ref-for-background-fetch-abort-all-flag④">abort all flag</a> is set, then set <var>responseData</var>’s <a data-link-type="dfn" href="#background-fetch-response-result" id="ref-for-background-fetch-response-result①②">result</a> to <code>"aborted"</code>.</p>
       <li data-md>
        <p>Set <var>result</var> to <var>responseData</var>’s <a data-link-type="dfn" href="#background-fetch-response-result" id="ref-for-background-fetch-response-result①③">result</a>.</p>
        <p class="note" role="note"><span class="marker">Note:</span> The result is stored now, as terminating the fetch may change the result.</p>
       <li data-md>
        <p><a data-link-type="dfn">Terminate</a> the ongoing fetch.</p>
      </ol>
     <li data-md>
      <p>If <var>result</var> is the empty string, then <a data-link-type="dfn" href="#complete-a-record" id="ref-for-complete-a-record③">complete a record</a> for <var>bgFetch</var> and <var>record</var>.</p>
    </ol>
   </div>
   <h3 class="heading settled" data-level="4.3" id="update-background-fetch-instance-algorithm"><span class="secno">4.3. </span><span class="content"><a data-link-type="dfn" href="#update-background-fetch-instances" id="ref-for-update-background-fetch-instances⑤">Update background fetch instances</a></span><a class="self-link" href="#update-background-fetch-instance-algorithm"></a></h3>
   <div class="algorithm" data-algorithm="update background fetch instances">
     To <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="update-background-fetch-instances">update background fetch instances</dfn> for <var>bgFetch</var> (a <a data-link-type="dfn" href="#background-fetch" id="ref-for-background-fetch⑦">background fetch</a>), <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/infrastructure.html#enqueue-the-following-steps" id="ref-for-enqueue-the-following-steps①">enqueue the following steps</a> to <var>bgFetch</var>’s <a data-link-type="dfn" href="#background-fetch-update-handling-queue" id="ref-for-background-fetch-update-handling-queue">update handling queue</a>: 
    <ol>
     <li data-md>
      <p>Let <var>downloaded</var> be <var>bgFetch</var>’s <a data-link-type="dfn" href="#background-fetch-stored-body-bytes-total" id="ref-for-background-fetch-stored-body-bytes-total②">stored body bytes total</a>.</p>
     <li data-md>
      <p>Let <var>uploaded</var> be <var>bgFetch</var>’s <a data-link-type="dfn" href="#background-fetch-uploaded" id="ref-for-background-fetch-uploaded②">uploaded</a>.</p>
     <li data-md>
      <p>Let <var>result</var> be <var>bgFetch</var>’s <a data-link-type="dfn" href="#background-fetch-result" id="ref-for-background-fetch-result⑤">result</a>.</p>
     <li data-md>
      <p>Let <var>failureReason</var> be <var>bgFetch</var>’s <a data-link-type="dfn" href="#background-fetch-failure-reason" id="ref-for-background-fetch-failure-reason①">failure reason</a>.</p>
     <li data-md>
      <p>Let <var>recordsAvailable</var> be true if <var>bgFetch</var>’s <a data-link-type="dfn" href="#background-fetch-records-available-flag" id="ref-for-background-fetch-records-available-flag①">records available flag</a> is set, otherwise false.</p>
     <li data-md>
      <p>For each <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#environment-settings-object" id="ref-for-environment-settings-object①">environment settings object</a> <var>env</var> whose <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-settings-object-origin" id="ref-for-concept-settings-object-origin">origin</a> is equal to <var>bgFetch</var>’s <a data-link-type="dfn" href="#background-fetch-service-worker-registration" id="ref-for-background-fetch-service-worker-registration②">service worker registration</a>'s <a data-link-type="dfn" href="https://w3c.github.io/ServiceWorker/#dfn-scope-url" id="ref-for-dfn-scope-url①">scope URL</a>'s <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url-origin" id="ref-for-concept-url-origin①">origin</a>, <a data-link-type="dfn" href="#queue-a-bgfetch-task" id="ref-for-queue-a-bgfetch-task">queue a bgfetch task</a> on <var>env</var>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#responsible-event-loop" id="ref-for-responsible-event-loop①">responsible event loop</a> to run these steps:</p>
      <ol>
       <li data-md>
        <p>Let <var>bgFetchRegistration</var> be the instance of <code class="idl"><a data-link-type="idl" href="#backgroundfetchregistration" id="ref-for-backgroundfetchregistration">BackgroundFetchRegistration</a></code> within the <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-realm" id="ref-for-concept-relevant-realm②">relevant realm</a> whose <a data-link-type="dfn" href="#backgroundfetchregistration-background-fetch" id="ref-for-backgroundfetchregistration-background-fetch">background fetch</a> is equal to <var>bgFetch</var>, or null if none exists.</p>
        <p class="note" role="note"><span class="marker">Note:</span> There will be at most one per environment, due to the <a data-link-type="dfn" href="#get-a-backgroundfetchregistration-instance" id="ref-for-get-a-backgroundfetchregistration-instance①">get a BackgroundFetchRegistration instance</a> algorithm.</p>
       <li data-md>
        <p>If <var>bgFetchRegistration</var> is null, then abort these steps.</p>
       <li data-md>
        <p>If <var>recordsAvailable</var> is false and <var>bgFetchRegistration</var>’s <a data-link-type="dfn" href="#backgroundfetchregistration-records-available-flag" id="ref-for-backgroundfetchregistration-records-available-flag">records available flag</a> is set, then unset <var>bgFetchRegistration</var>’s <a data-link-type="dfn" href="#backgroundfetchregistration-records-available-flag" id="ref-for-backgroundfetchregistration-records-available-flag①">records available flag</a>.</p>
       <li data-md>
        <p>If <var>bgFetchRegistration</var>’s <a data-link-type="dfn" href="#backgroundfetchregistration-result" id="ref-for-backgroundfetchregistration-result">result</a> is not the empty string, then abort these steps.</p>
        <p class="note" role="note"><span class="marker">Note:</span> This prevents progress being reported after the background fetch has settled. This is possible when the operation has aborted, but some fetches haven’t yet terminated.</p>
       <li data-md>
        <p>If all of the following are true:</p>
        <ul>
         <li data-md>
          <p><var>bgFetchRegistration</var>’s <a data-link-type="dfn" href="#backgroundfetchregistration-downloaded" id="ref-for-backgroundfetchregistration-downloaded">downloaded</a> is equal to <var>downloaded</var>.</p>
         <li data-md>
          <p><var>bgFetchRegistration</var>’s <a data-link-type="dfn" href="#backgroundfetchregistration-uploaded" id="ref-for-backgroundfetchregistration-uploaded">uploaded</a> is equal to <var>uploaded</var>.</p>
         <li data-md>
          <p><var>bgFetchRegistration</var>’s <a data-link-type="dfn" href="#backgroundfetchregistration-result" id="ref-for-backgroundfetchregistration-result①">result</a> is equal to <var>result</var>.</p>
         <li data-md>
          <p><var>bgFetchRegistration</var>’s <a data-link-type="dfn" href="#backgroundfetchregistration-failure-reason" id="ref-for-backgroundfetchregistration-failure-reason">failure reason</a> is equal to <var>failureReason</var>.</p>
        </ul>
        <p>Then abort these steps.</p>
       <li data-md>
        <p>Set <var>bgFetchRegistration</var>’s <a data-link-type="dfn" href="#backgroundfetchregistration-downloaded" id="ref-for-backgroundfetchregistration-downloaded①">downloaded</a> to <var>downloaded</var>.</p>
       <li data-md>
        <p>Set <var>bgFetchRegistration</var>’s <a data-link-type="dfn" href="#backgroundfetchregistration-uploaded" id="ref-for-backgroundfetchregistration-uploaded①">uploaded</a> to <var>uploaded</var>.</p>
       <li data-md>
        <p>Set <var>bgFetchRegistration</var>’s <a data-link-type="dfn" href="#backgroundfetchregistration-result" id="ref-for-backgroundfetchregistration-result②">result</a> to <var>result</var>.</p>
       <li data-md>
        <p>Set <var>bgFetchRegistration</var>’s <a data-link-type="dfn" href="#backgroundfetchregistration-failure-reason" id="ref-for-backgroundfetchregistration-failure-reason①">failure reason</a> to <var>failureReason</var>.</p>
       <li data-md>
        <p><a data-link-type="dfn" href="https://dom.spec.whatwg.org/#concept-event-fire" id="ref-for-concept-event-fire">Fire an event</a> named "<code>progress</code>" at <var>bgFetchRegistration</var>.</p>
      </ol>
      <p class="issue" id="issue-20ad71fa"><a class="self-link" href="#issue-20ad71fa"></a> I need to debounce this similar to how mouse move events debounce.</p>
    </ol>
   </div>
   <h3 class="heading settled" data-level="4.4" id="fire-a-background-fetch-click-event-algorithm"><span class="secno">4.4. </span><span class="content"><a data-link-type="dfn" href="#fire-a-background-fetch-click-event" id="ref-for-fire-a-background-fetch-click-event①">Fire a background fetch click event</a></span><a class="self-link" href="#fire-a-background-fetch-click-event-algorithm"></a></h3>
   <div class="algorithm" data-algorithm="fire a background fetch click event">
     To <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="fire-a-background-fetch-click-event">fire a background fetch click event</dfn> for a <var>bgFetch</var> (a <a data-link-type="dfn" href="#background-fetch" id="ref-for-background-fetch⑧">background fetch</a>), <a data-link-type="dfn" href="https://w3c.github.io/ServiceWorker/#fire-functional-event" id="ref-for-fire-functional-event①">fire a functional event</a> named "<code>backgroundfetchclick</code>" using <code class="idl"><a data-link-type="idl" href="#backgroundfetchevent" id="ref-for-backgroundfetchevent①">BackgroundFetchEvent</a></code> on <var>bgFetch</var>’s <a data-link-type="dfn" href="#background-fetch-service-worker-registration" id="ref-for-background-fetch-service-worker-registration③">service worker registration</a> with the following properties: 
    <dl>
     <dt data-md><code class="idl"><a data-link-type="idl" href="#dom-backgroundfetchevent-registration" id="ref-for-dom-backgroundfetchevent-registration①">registration</a></code>
     <dd data-md>
      <p>The result of <a data-link-type="dfn" href="#get-a-backgroundfetchregistration-instance" id="ref-for-get-a-backgroundfetchregistration-instance②">getting a BackgroundFetchRegistration instance</a> for <var>bgFetch</var> in the event object’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-realm" id="ref-for-concept-relevant-realm③">relevant Realm</a>.</p>
    </dl>
   </div>
   <h3 class="heading settled" data-level="4.5" id="get-a-backgroundfetchregistration-instance-algorithm"><span class="secno">4.5. </span><span class="content"><a data-link-type="dfn" href="#get-a-backgroundfetchregistration-instance" id="ref-for-get-a-backgroundfetchregistration-instance③">Get a BackgroundFetchRegistration instance</a></span><a class="self-link" href="#get-a-backgroundfetchregistration-instance-algorithm"></a></h3>
   <p class="note" role="note"><span class="marker">Note:</span> This algorithm ensures the same <code class="idl"><a data-link-type="idl" href="#backgroundfetchregistration" id="ref-for-backgroundfetchregistration①">BackgroundFetchRegistration</a></code> instance is returned for a given <a data-link-type="dfn" href="#background-fetch" id="ref-for-background-fetch⑨">background fetch</a> throughout the life of a <code class="idl"><a data-link-type="idl" href="#backgroundfetchmanager" id="ref-for-backgroundfetchmanager">BackgroundFetchManager</a></code>. It’s okay for browsers to optimise this, as long as there’s no way to tell that more than one instance has been created for a given <a data-link-type="dfn" href="#background-fetch" id="ref-for-background-fetch①⓪">background fetch</a> (e.g. through equality, expandos, or weakly-associated data).</p>
   <div class="algorithm" data-algorithm="get a BackgroundFetchRegistration instance">
     To <dfn class="dfn-paneled" data-dfn-type="dfn" data-lt="get a BackgroundFetchRegistration instance|getting a BackgroundFetchRegistration instance" data-noexport id="get-a-backgroundfetchregistration-instance">get a BackgroundFetchRegistration instance</dfn> for a <var>bgFetch</var> (a <a data-link-type="dfn" href="#background-fetch" id="ref-for-background-fetch①①">background fetch</a>) in <var>realm</var> (a <a data-link-type="dfn" href="https://tc39.github.io/ecma262/#realm" id="ref-for-realm">Realm</a>), run these steps: 
    <ol>
     <li data-md>
      <p>Let <var>instancesMap</var> be the <a data-link-type="dfn" href="#backgroundfetchmanager-backgroundfetchregistration-instances" id="ref-for-backgroundfetchmanager-backgroundfetchregistration-instances">BackgroundFetchRegistration instances</a> of the only instance of <code class="idl"><a data-link-type="idl" href="#backgroundfetchmanager" id="ref-for-backgroundfetchmanager①">BackgroundFetchManager</a></code> within this <var>realm</var>.</p>
     <li data-md>
      <p>If <var>instancesMap</var>[<var>bgFetch</var>] <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-exists" id="ref-for-map-exists">exists</a>, then return <var>instancesMap</var>[<var>bgFetch</var>].</p>
     <li data-md>
      <p>Let <var>instance</var> be a new <code class="idl"><a data-link-type="idl" href="#backgroundfetchregistration" id="ref-for-backgroundfetchregistration②">BackgroundFetchRegistration</a></code> in <var>realm</var>, with its <a data-link-type="dfn" href="#backgroundfetchregistration-background-fetch" id="ref-for-backgroundfetchregistration-background-fetch①">background fetch</a> set to <var>bgFetch</var>.</p>
     <li data-md>
      <p>Set <var>instancesMap</var>[<var>bgFetch</var>] to <var>instance</var>.</p>
     <li data-md>
      <p>Return <var>instance</var>.</p>
    </ol>
   </div>
   <h3 class="heading settled" data-level="4.6" id="validate-partial-response-algorithm"><span class="secno">4.6. </span><span class="content"><a data-link-type="dfn" href="#validate-a-partial-response" id="ref-for-validate-a-partial-response①">Validate a partial response</a></span><a class="self-link" href="#validate-partial-response-algorithm"></a></h3>
   <p class="note" role="note"><span class="marker">Note:</span> This algorithm checks if a partial response reasonably matches what was requested, and optionally checks if it should be combined with a previous response.</p>
   <div class="algorithm" data-algorithm="validate a partial response">
     To <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="validate-a-partial-response">validate a partial response</dfn> for an <var>expectedRangeStart</var> (a number), a <var>partialResponse</var> (a <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-response" id="ref-for-concept-response①">response</a>), and an optional <var>previousResponse</var> (a <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-response" id="ref-for-concept-response②">response</a> or null, null unless otherwise specified), run these steps: 
    <ol>
     <li data-md>
      <p class="assertion">Assert: <var>partialResponse</var>’s <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-response-status" id="ref-for-concept-response-status④">status</a> is <code>206</code>.</p>
     <li data-md>
      <p>Let <var>responseFirstBytePos</var>, <var>responseLastBytePos</var>, and <var>responseCompleteLength</var> be the result of <a data-link-type="dfn" href="#extract-content-range-values" id="ref-for-extract-content-range-values①">extracting content-range values</a> from <var>partialResponse</var>. If this fails, then return invalid.</p>
     <li data-md>
      <p>If <var>responseFirstBytePos</var> does not equal <var>expectedRangeStart</var>, then return invalid.</p>
     <li data-md>
      <p>If <var>previousResponse</var> is not null, then:</p>
      <ol>
       <li data-md>
        <p>For <var>headerName</var> of « `<code>ETag</code>`, `<code>Last-Modified</code>` »:</p>
        <ol>
         <li data-md>
          <p>If <var>previousResponse</var>’s <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-response-header-list" id="ref-for-concept-response-header-list">header list</a> <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#header-list-contains" id="ref-for-header-list-contains">contains</a> <var>headerName</var> and the <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-header-list-combine" id="ref-for-concept-header-list-combine">combined</a> value of <var>headerName</var> in <var>previousResponse</var>’s <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-response-header-list" id="ref-for-concept-response-header-list①">header list</a> does not equal the <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-header-list-combine" id="ref-for-concept-header-list-combine①">combined</a> value of <var>headerName</var> in <var>partialResponse</var>’s <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-response-header-list" id="ref-for-concept-response-header-list②">header list</a>, then return invalid.</p>
        </ol>
       <li data-md>
        <p>If <var>previousResponse</var>’s <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-response-status" id="ref-for-concept-response-status⑤">status</a> is <code>206</code>, then:</p>
        <ol>
         <li data-md>
          <p>Let <var>previousResponseFirstBytePos</var>, <var>previousResponseLastBytePos</var>, and <var>previousResponseCompleteLength</var> be the result of <a data-link-type="dfn" href="#extract-content-range-values" id="ref-for-extract-content-range-values②">extracting content-range values</a> from <var>previousResponse</var>. If this fails, then return invalid.</p>
         <li data-md>
          <p>If <var>previousResponseCompleteLength</var> is not null, and <var>responseCompleteLength</var> does not equal <var>previousResponseCompleteLength</var>, then return invalid.</p>
        </ol>
      </ol>
     <li data-md>
      <p>Return valid.</p>
    </ol>
   </div>
   <h3 class="heading settled" data-level="4.7" id="extract-content-range-values-algorithm"><span class="secno">4.7. </span><span class="content"><a data-link-type="dfn" href="#extract-content-range-values" id="ref-for-extract-content-range-values③">Extract content-range values</a></span><a class="self-link" href="#extract-content-range-values-algorithm"></a></h3>
   <p class="note" role="note"><span class="marker">Note:</span> This algorithm parses `<code>Content-Range</code>` as a <a data-link-type="dfn" href="#single-byte-content-range" id="ref-for-single-byte-content-range">single byte content-range</a> and extracts the values.</p>
   <div class="algorithm" data-algorithm="extract content-range values">
     To <dfn class="dfn-paneled" data-dfn-type="dfn" data-lt="extract content-range values|extracting content-range values" data-noexport id="extract-content-range-values">extract content-range values</dfn> from a <var>response</var> (a <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-response" id="ref-for-concept-response③">response</a>), run these steps: 
    <ol>
     <li data-md>
      <p>If <var>response</var>’s <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-response-header-list" id="ref-for-concept-response-header-list③">header list</a> does not <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#header-list-contains" id="ref-for-header-list-contains①">contain</a> `<code>Content-Range</code>`, then return failure.</p>
     <li data-md>
      <p>Let <var>contentRangeValue</var> be the <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-header-value" id="ref-for-concept-header-value">value</a> of the first <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-header" id="ref-for-concept-header">header</a> whose <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-header-name" id="ref-for-concept-header-name">name</a> is a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#byte-case-insensitive" id="ref-for-byte-case-insensitive">byte-case-insensitive</a> match for `<code>Content-Range</code>` in <var>response</var>’s <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-response-header-list" id="ref-for-concept-response-header-list④">header list</a>.</p>
     <li data-md>
      <p>If parsing <var>contentRangeValue</var> per <a data-link-type="dfn" href="#single-byte-content-range" id="ref-for-single-byte-content-range①">single byte content-range</a> fails, then return failure.</p>
     <li data-md>
      <p>Let <var>firstBytePos</var> be the portion of <var>contentRangeValue</var> named <code>first-byte-pos</code> when parsed as <a data-link-type="dfn" href="#single-byte-content-range" id="ref-for-single-byte-content-range②">single byte content-range</a>, parsed as an integer.</p>
     <li data-md>
      <p>Let <var>lastBytePos</var> be the portion of <var>contentRangeValue</var> named <code>last-byte-pos</code> when parsed as <a data-link-type="dfn" href="#single-byte-content-range" id="ref-for-single-byte-content-range③">single byte content-range</a>, parsed as an integer.</p>
     <li data-md>
      <p>Let <var>completeLength</var> be the portion of <var>contentRangeValue</var> named <code>complete-length</code> when parsed as <a data-link-type="dfn" href="#single-byte-content-range" id="ref-for-single-byte-content-range④">single byte content-range</a>.</p>
     <li data-md>
      <p>If <var>completeLength</var> is <code>"*"</code>, then set <var>completeLength</var> to null, otherwise set <var>completeLength</var> to <var>completeLength</var> parsed as an integer.</p>
     <li data-md>
      <p>Return <var>firstBytePos</var>, <var>lastBytePos</var>, and <var>completeLength</var>.</p>
    </ol>
    <p class="issue" id="issue-cddfe468"><a class="self-link" href="#issue-cddfe468"></a> Parsing as an integer <a href="https://github.com/whatwg/infra/issues/189">infra/189</a>.</p>
   </div>
   <h3 class="heading settled" data-level="4.8" id="create-settled-fetches-algorithm"><span class="secno">4.8. </span><span class="content"><a data-link-type="dfn" href="#create-record-objects" id="ref-for-create-record-objects①">Create record objects</a></span><a class="self-link" href="#create-settled-fetches-algorithm"></a></h3>
   <p class="note" role="note"><span class="marker">Note:</span> This algorithm creates platform objects for <a data-link-type="dfn" href="#background-fetch-record" id="ref-for-background-fetch-record④">background fetch records</a>. It also manages the streaming of the <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-response" id="ref-for-concept-response④">response</a> from the stored <a data-link-type="dfn" href="#background-fetch-response-bytes" id="ref-for-background-fetch-response-bytes④">bytes</a>. The background fetch operation may still be in progress at this point.</p>
   <div class="algorithm" data-algorithm="create record objects">
     To <dfn class="dfn-paneled" data-dfn-type="dfn" data-lt="create record objects|creating record objects" data-noexport id="create-record-objects">create record objects</dfn> from <var>records</var> (a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list" id="ref-for-list②">list</a> of <a data-link-type="dfn" href="#background-fetch-record" id="ref-for-background-fetch-record⑤">background fetch records</a>) in <var>realm</var> (a <a data-link-type="dfn" href="https://tc39.github.io/ecma262/#realm" id="ref-for-realm①">Realm</a>), run these steps: 
    <p>All platform objects must be created in <var>realm</var>.</p>
    <ol>
     <li data-md>
      <p>Let <var>recordObjects</var> be a new <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list" id="ref-for-list③">list</a>.</p>
     <li data-md>
      <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-iterate" id="ref-for-list-iterate②">For each</a> <var>record</var> of <var>records</var>:</p>
      <ol>
       <li data-md>
        <p>Let <var>responseData</var> be <var>record</var>’s <a data-link-type="dfn" href="#background-fetch-record-response-data" id="ref-for-background-fetch-record-response-data④">response data</a>.</p>
       <li data-md>
        <p>Let <var>recordObject</var> be a new <code class="idl"><a data-link-type="idl" href="#backgroundfetchrecord" id="ref-for-backgroundfetchrecord">BackgroundFetchRecord</a></code>.</p>
       <li data-md>
        <p>Set <var>recordObject</var>’s <code class="idl"><a data-link-type="idl" href="#dom-backgroundfetchrecord-responseready" id="ref-for-dom-backgroundfetchrecord-responseready">responseReady</a></code> to <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#a-new-promise" id="ref-for-a-new-promise">a new promise</a>.</p>
       <li data-md>
        <p>Let <var>requestObject</var> be a new <code class="idl"><a data-link-type="idl" href="https://fetch.spec.whatwg.org/#request" id="ref-for-request">Request</a></code> object with the following set:</p>
        <dl>
         <dt data-md><a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-request-request" id="ref-for-concept-request-request">Request</a>
         <dd data-md>
          <p>A copy of <var>record</var>’s <a data-link-type="dfn" href="#background-fetch-record-request" id="ref-for-background-fetch-record-request②">request</a>, including its <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-request-body" id="ref-for-concept-request-body①">body</a>.</p>
         <dt data-md><a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#request-headers" id="ref-for-request-headers">Headers</a>
         <dd data-md>
          <p>A new <code class="idl"><a data-link-type="idl" href="https://fetch.spec.whatwg.org/#headers" id="ref-for-headers">Headers</a></code> object associated with this <code class="idl"><a data-link-type="idl" href="https://fetch.spec.whatwg.org/#request" id="ref-for-request①">Request</a></code>'s <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-request-request" id="ref-for-concept-request-request①">request</a>'s <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-request-header-list" id="ref-for-concept-request-header-list">header list</a>.</p>
        </dl>
       <li data-md>
        <p>Set <var>recordObject</var>’s <code class="idl"><a data-link-type="idl" href="#dom-backgroundfetchrecord-request" id="ref-for-dom-backgroundfetchrecord-request">request</a></code> to <var>requestObject</var>.</p>
       <li data-md>
        <p>Let <var>transmittedBytes</var> be 0.</p>
       <li data-md>
        <p>Let <var>stream</var> be <a data-link-type="dfn">a new readable stream</a> with a pull action that returns <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#a-new-promise" id="ref-for-a-new-promise①">a new promise</a> <var>promise</var> and runs these steps <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/infrastructure.html#in-parallel" id="ref-for-in-parallel②">in parallel</a>:</p>
        <ol>
         <li data-md>
          <p>Wait for the <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#byte-sequence-length" id="ref-for-byte-sequence-length③">length</a> of <var>responseData</var>’s <a data-link-type="dfn" href="#background-fetch-response-bytes" id="ref-for-background-fetch-response-bytes⑤">bytes</a> to be greater than <var>transmittedBytes</var>, or <var>responseData</var>’s <a data-link-type="dfn" href="#background-fetch-response-result" id="ref-for-background-fetch-response-result①④">result</a> not to be the empty string.</p>
         <li data-md>
          <p>Let <var>bytes</var> be null.</p>
         <li data-md>
          <p>If the <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#byte-sequence-length" id="ref-for-byte-sequence-length④">length</a> of <var>responseData</var>’s <a data-link-type="dfn" href="#background-fetch-response-bytes" id="ref-for-background-fetch-response-bytes⑥">bytes</a> is greater than <var>transmittedBytes</var> and <var>responseData</var> may be <a data-link-type="dfn" href="#background-fetch-response-exposed" id="ref-for-background-fetch-response-exposed">exposed</a>, then:</p>
          <ol>
           <li data-md>
            <p>Set <var>bytes</var> to a user agent determined slice of <var>responseData</var>’s <a data-link-type="dfn" href="#background-fetch-response-bytes" id="ref-for-background-fetch-response-bytes⑦">bytes</a>, starting from an offset of <var>transmittedBytes</var>.</p>
            <p class="note" role="note"><span class="marker">Note:</span> This allows the user agent to stream the resource from storage at an appropriate rate.</p>
           <li data-md>
            <p>Increment <var>transmittedBytes</var> by <var>bytes</var>’ <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#byte-sequence-length" id="ref-for-byte-sequence-length⑤">length</a>.</p>
          </ol>
         <li data-md>
          <p><a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-task" id="ref-for-queue-a-task①">Queue a task</a> in <var>stream</var>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#relevant-settings-object" id="ref-for-relevant-settings-object①">relevant settings object</a>'s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#responsible-event-loop" id="ref-for-responsible-event-loop②">responsible event loop</a> using the <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#networking-task-source" id="ref-for-networking-task-source">networking task source</a> to run these steps:</p>
          <ol>
           <li data-md>
            <p>If <var>bytes</var> is not null, then:</p>
            <ol>
             <li data-md>
              <p>Let <var>array</var> be a new <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-Uint8Array" id="ref-for-idl-Uint8Array">Uint8Array</a></code> wrapping a new <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-ArrayBuffer" id="ref-for-idl-ArrayBuffer">ArrayBuffer</a></code> of <var>bytes</var>.</p>
             <li data-md>
              <p><a data-link-type="dfn" href="https://streams.spec.whatwg.org/#readablestream-enqueue" id="ref-for-readablestream-enqueue">Enqueue</a> <var>array</var> into <var>stream</var>.</p>
            </ol>
           <li data-md>
            <p>If <var>responseData</var> may be <a data-link-type="dfn" href="#background-fetch-response-exposed" id="ref-for-background-fetch-response-exposed①">exposed</a>, <var>responseData</var>’s <a data-link-type="dfn" href="#background-fetch-response-result" id="ref-for-background-fetch-response-result①⑤">result</a> is not the empty string, and <var>transmittedBytes</var> is the <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#byte-sequence-length" id="ref-for-byte-sequence-length⑥">length</a> of <var>responseData</var>’s <a data-link-type="dfn" href="#background-fetch-response-bytes" id="ref-for-background-fetch-response-bytes⑧">bytes</a>, then <a data-link-type="dfn" href="https://streams.spec.whatwg.org/#readablestream-close" id="ref-for-readablestream-close">close</a> <var>stream</var>.</p>
           <li data-md>
            <p>Otherwise, if <var>responseData</var>’s <a data-link-type="dfn" href="#background-fetch-response-result" id="ref-for-background-fetch-response-result①⑥">result</a> is <code>"aborted"</code>, then <a data-link-type="dfn" href="https://streams.spec.whatwg.org/#readablestream-error" id="ref-for-readablestream-error">error</a> <var>stream</var> with an <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#aborterror" id="ref-for-aborterror">AbortError</a></code> <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-DOMException" id="ref-for-idl-DOMException">DOMException</a></code>.</p>
           <li data-md>
            <p>Otherwise, if <var>responseData</var> may not be <a data-link-type="dfn" href="#background-fetch-response-exposed" id="ref-for-background-fetch-response-exposed②">exposed</a>, then <a data-link-type="dfn" href="https://streams.spec.whatwg.org/#readablestream-error" id="ref-for-readablestream-error①">error</a> <var>stream</var> with a <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#exceptiondef-typeerror" id="ref-for-exceptiondef-typeerror">TypeError</a></code>.</p>
           <li data-md>
            <p><a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#resolve" id="ref-for-resolve">Resolve</a> <var>promise</var>.</p>
          </ol>
        </ol>
       <li data-md>
        <p>Run these steps <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/infrastructure.html#in-parallel" id="ref-for-in-parallel③">in parallel</a>:</p>
        <ol>
         <li data-md>
          <p>Wait for <var>responseData</var>’s <a data-link-type="dfn" href="#background-fetch-response-response" id="ref-for-background-fetch-response-response③">response</a> to not be not-null.</p>
         <li data-md>
          <p>If <var>responseData</var> may be <a data-link-type="dfn" href="#background-fetch-response-exposed" id="ref-for-background-fetch-response-exposed③">exposed</a>, then:</p>
          <ol>
           <li data-md>
            <p>Let <var>response</var> be a copy of <var>responseData</var>’s <a data-link-type="dfn" href="#background-fetch-response-response" id="ref-for-background-fetch-response-response④">response</a>.</p>
           <li data-md>
            <p><a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-header-list-delete" id="ref-for-concept-header-list-delete">Delete</a> `<code>Content-Range</code>` from <var>response</var>’s <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-response-header-list" id="ref-for-concept-response-header-list⑤">header list</a>.</p>
           <li data-md>
            <p><a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-header-list-delete" id="ref-for-concept-header-list-delete①">Delete</a> `<code>Content-Length</code>` from <var>response</var>’s <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-response-header-list" id="ref-for-concept-response-header-list⑥">header list</a>.</p>
           <li data-md>
            <p>Let <var>body</var> be a new <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-body" id="ref-for-concept-body">body</a> with <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-body-stream" id="ref-for-concept-body-stream①">stream</a> set to <var>stream</var>.</p>
           <li data-md>
            <p>Set <var>response</var>’s <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-response-body" id="ref-for-concept-response-body②">body</a> to <var>body</var>.</p>
           <li data-md>
            <p><a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-task" id="ref-for-queue-a-task②">Queue a task</a> in <var>recordObject</var>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#relevant-settings-object" id="ref-for-relevant-settings-object②">relevant settings object</a>'s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#responsible-event-loop" id="ref-for-responsible-event-loop③">responsible event loop</a> using the <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#networking-task-source" id="ref-for-networking-task-source①">networking task source</a> to run these steps:</p>
            <ol>
             <li data-md>
              <p>Let <var>responseObject</var> be a new <code class="idl"><a data-link-type="idl" href="https://fetch.spec.whatwg.org/#response" id="ref-for-response">Response</a></code> object with the following set:</p>
              <dl>
               <dt data-md><a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-response-response" id="ref-for-concept-response-response">Response</a>
               <dd data-md>
                <p><var>response</var>.</p>
               <dt data-md><a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#response-headers" id="ref-for-response-headers">Headers</a>
               <dd data-md>
                <p>A new <code class="idl"><a data-link-type="idl" href="https://fetch.spec.whatwg.org/#headers" id="ref-for-headers①">Headers</a></code> object associated with this <code class="idl"><a data-link-type="idl" href="https://fetch.spec.whatwg.org/#response" id="ref-for-response①">Response</a></code>'s <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-response-response" id="ref-for-concept-response-response①">response</a>'s <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-response-header-list" id="ref-for-concept-response-header-list⑦">header list</a>.</p>
              </dl>
             <li data-md>
              <p><a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#resolve" id="ref-for-resolve①">Resolve</a> <var>recordObject</var>’s <code class="idl"><a data-link-type="idl" href="#dom-backgroundfetchrecord-responseready" id="ref-for-dom-backgroundfetchrecord-responseready①">responseReady</a></code> with <var>responseObject</var>.</p>
            </ol>
          </ol>
         <li data-md>
          <p>Otherwise, if <var>responseData</var>’s <a data-link-type="dfn" href="#background-fetch-response-result" id="ref-for-background-fetch-response-result①⑦">result</a> is <code>"aborted"</code>, then <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#reject" id="ref-for-reject">reject</a> <var>recordObject</var>’s <code class="idl"><a data-link-type="idl" href="#dom-backgroundfetchrecord-responseready" id="ref-for-dom-backgroundfetchrecord-responseready②">responseReady</a></code> with an <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#aborterror" id="ref-for-aborterror①">AbortError</a></code> <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-DOMException" id="ref-for-idl-DOMException①">DOMException</a></code>.</p>
         <li data-md>
          <p>Otherwise, <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#reject" id="ref-for-reject①">reject</a> <var>recordObject</var>’s <code class="idl"><a data-link-type="idl" href="#dom-backgroundfetchrecord-responseready" id="ref-for-dom-backgroundfetchrecord-responseready③">responseReady</a></code> with a <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#exceptiondef-typeerror" id="ref-for-exceptiondef-typeerror①">TypeError</a></code>.</p>
        </ol>
       <li data-md>
        <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-append" id="ref-for-list-append">Append</a> <var>recordObject</var> to <var>recordObjects</var>.</p>
      </ol>
     <li data-md>
      <p>Return <var>recordObjects</var>.</p>
    </ol>
   </div>
   <h3 class="heading settled" data-level="4.9" id="contains-background-fetch-algorithm"><span class="secno">4.9. </span><span class="content"><a data-link-type="dfn" href="#contains-background-fetch" id="ref-for-contains-background-fetch①">Contains background fetch</a></span><a class="self-link" href="#contains-background-fetch-algorithm"></a></h3>
   <div class="algorithm" data-algorithm="contains background fetch">
     To determine whether a <var>map</var> (a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#ordered-map" id="ref-for-ordered-map②">map</a>) <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="contains-background-fetch">contains background fetch</dfn> <var>bgFetch</var> (a <a data-link-type="dfn" href="#background-fetch" id="ref-for-background-fetch①②">background fetch</a>), run these steps: 
    <ol>
     <li data-md>
      <p>Let <var>id</var> be <var>bgFetch</var>’s <a data-link-type="dfn" href="#background-fetch-id" id="ref-for-background-fetch-id①">id</a>.</p>
     <li data-md>
      <p>If <var>map</var>[<var>id</var>] does not <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-exists" id="ref-for-map-exists①">exist</a>, then return false.</p>
     <li data-md>
      <p>If <var>map</var>[<var>id</var>] does not equal <var>bgFetch</var>, then return false.</p>
     <li data-md>
      <p>Return true.</p>
    </ol>
   </div>
   <div class="algorithm" data-algorithm="does not contain background fetch">
     To determine whether a <var>map</var> (a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#ordered-map" id="ref-for-ordered-map③">map</a>) <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="does-not-contain-background-fetch">does not contain background fetch</dfn> <var>bgFetch</var> (a <a data-link-type="dfn" href="#background-fetch" id="ref-for-background-fetch①③">background fetch</a>), run these steps: 
    <ol>
     <li data-md>
      <p>If <var>map</var> <a data-link-type="dfn" href="#contains-background-fetch" id="ref-for-contains-background-fetch②">contains background fetch</a> <var>bgFetch</var>, then return false.</p>
     <li data-md>
      <p>Return true.</p>
    </ol>
   </div>
   <h2 class="heading settled" data-level="5" id="header-syntax"><span class="secno">5. </span><span class="content">Header syntax</span><a class="self-link" href="#header-syntax"></a></h2>
   <p>The following is <a data-link-type="dfn" href="https://tools.ietf.org/html/rfc7230#section-7" id="ref-for-section-7">HTTP ABNF</a> for a <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="single-byte-content-range">single byte content-range</dfn>:</p>
<pre>"bytes=" first-byte-pos "-" last-byte-pos "/" complete-length
first-byte-pos = 1*DIGIT
last-byte-pos  = 1*DIGIT
complete-length = ( 1*DIGIT / "*" )</pre>
   <p class="note" role="note"><span class="marker">Note:</span> This is a subset of what <a href="https://tools.ietf.org/html/rfc7233#section-3.1">RFC 7233</a> allows.</p>
   <div class="note" role="note">
    <p>The above as a railroad diagram:</p>
    <div class="railroad">
     <svg class="railroad-diagram" height="197" viewBox="0 0 659.0 197" width="659.0" xlink="http://www.w3.org/1999/xlink" xmlns="http://www.w3.org/2000/svg">
      <g transform="translate(.5 .5)">
       <g>
        <path d="M20 21v20m10 -20v20m-10 -10h20"></path>
       </g>
       <path d="M40 31h10"></path>
       <g class="terminal ">
        <path d="M50 31h0.0"></path>
        <path d="M138.0 31h0.0"></path>
        <rect height="22" rx="10" ry="10" width="88" x="50" y="20"></rect>
        <text x="94" y="35">"bytes="</text>
       </g>
       <path d="M138.0 31h10"></path>
       <path d="M148.0 31h10"></path>
       <g>
        <path d="M158.0 31h0.0"></path>
        <path d="M158.0 31h10"></path>
        <g>
         <path d="M168.0 31h10.0"></path>
         <path d="M589.0 31h10.0"></path>
         <g class="non-terminal ">
          <path d="M178.0 31h0.0"></path>
          <path d="M286.0 31h0.0"></path>
          <text class="comment" x="232" y="36">first-byte-pos</text>
         </g>
         <path d="M286.0 31h10"></path>
         <path d="M296.0 31h10"></path>
         <g>
          <path d="M306.0 31h0.0"></path>
          <path d="M388.5 31h0.0"></path>
          <path d="M306.0 31h10"></path>
          <g class="non-terminal ">
           <path d="M316.0 31h0.0"></path>
           <path d="M378.5 31h0.0"></path>
           <rect height="22" width="62.5" x="316" y="20"></rect>
           <text x="347.25" y="35">digit</text>
          </g>
          <path d="M378.5 31h10"></path>
          <path d="M316.0 31a10 10 0 0 0 -10 10v0a10 10 0 0 0 10 10"></path>
          <g>
           <path d="M316.0 51h62.5"></path>
          </g>
          <path d="M378.5 51a10 10 0 0 0 10 -10v0a10 10 0 0 0 -10 -10"></path>
         </g>
         <path d="M388.5 31h10"></path>
         <path d="M398.5 31h10"></path>
         <g class="non-terminal ">
          <path d="M408.5 31h0.0"></path>
          <path d="M523.5 31h0.0"></path>
          <text class="comment" x="466" y="36">/first-byte-pos</text>
         </g>
         <path d="M523.5 31h10"></path>
         <path d="M533.5 31h10"></path>
         <g class="non-terminal ">
          <path d="M543.5 31h0.0"></path>
          <path d="M589.0 31h0.0"></path>
          <rect height="22" width="45.5" x="543.5" y="20"></rect>
          <text x="566.25" y="35">"/"</text>
         </g>
        </g>
        <path d="M599.0 31a10 10 0 0 1 10 10v8a10 10 0 0 1 -10 10h-431.0a10 10 0 0 0 -10 10v0a10 10 0 0 0 10 10"></path>
        <g>
         <path d="M168.0 79h17.0"></path>
         <path d="M582.0 79h17.0"></path>
         <g class="non-terminal ">
          <path d="M185.0 79h0.0"></path>
          <path d="M286.0 79h0.0"></path>
          <text class="comment" x="235.5" y="84">last-byte-pos</text>
         </g>
         <path d="M286.0 79h10"></path>
         <path d="M296.0 79h10"></path>
         <g>
          <path d="M306.0 79h0.0"></path>
          <path d="M388.5 79h0.0"></path>
          <path d="M306.0 79h10"></path>
          <g class="non-terminal ">
           <path d="M316.0 79h0.0"></path>
           <path d="M378.5 79h0.0"></path>
           <rect height="22" width="62.5" x="316" y="68"></rect>
           <text x="347.25" y="83">digit</text>
          </g>
          <path d="M378.5 79h10"></path>
          <path d="M316.0 79a10 10 0 0 0 -10 10v0a10 10 0 0 0 10 10"></path>
          <g>
           <path d="M316.0 99h62.5"></path>
          </g>
          <path d="M378.5 99a10 10 0 0 0 10 -10v0a10 10 0 0 0 -10 -10"></path>
         </g>
         <path d="M388.5 79h10"></path>
         <path d="M398.5 79h10"></path>
         <g class="non-terminal ">
          <path d="M408.5 79h0.0"></path>
          <path d="M516.5 79h0.0"></path>
          <text class="comment" x="462.5" y="84">/last-byte-pos</text>
         </g>
         <path d="M516.5 79h10"></path>
         <path d="M526.5 79h10"></path>
         <g class="non-terminal ">
          <path d="M536.5 79h0.0"></path>
          <path d="M582.0 79h0.0"></path>
          <rect height="22" width="45.5" x="536.5" y="68"></rect>
          <text x="559.25" y="83">"/"</text>
         </g>
        </g>
        <path d="M599.0 79a10 10 0 0 1 10 10v8a10 10 0 0 1 -10 10h-431.0a10 10 0 0 0 -10 10v0a10 10 0 0 0 10 10"></path>
        <g>
         <path d="M168.0 127h25.75"></path>
         <path d="M573.25 127h25.75"></path>
         <g class="non-terminal ">
          <path d="M193.75 127h0.0"></path>
          <path d="M308.75 127h0.0"></path>
          <text class="comment" x="251.25" y="132">complete-length</text>
         </g>
         <path d="M308.75 127h10"></path>
         <g>
          <path d="M318.75 127h0.0"></path>
          <path d="M441.25 127h0.0"></path>
          <path d="M318.75 127h20"></path>
          <g class="non-terminal ">
           <path d="M338.75 127h18.5"></path>
           <path d="M402.75 127h18.5"></path>
           <rect height="22" width="45.5" x="357.25" y="116"></rect>
           <text x="380" y="131">"*"</text>
          </g>
          <path d="M421.25 127h20"></path>
          <path d="M318.75 127a10 10 0 0 1 10 10v10a10 10 0 0 0 10 10"></path>
          <g>
           <path d="M338.75 157h0.0"></path>
           <path d="M421.25 157h0.0"></path>
           <path d="M338.75 157h10"></path>
           <g class="non-terminal ">
            <path d="M348.75 157h0.0"></path>
            <path d="M411.25 157h0.0"></path>
            <rect height="22" width="62.5" x="348.75" y="146"></rect>
            <text x="380" y="161">digit</text>
           </g>
           <path d="M411.25 157h10"></path>
           <path d="M348.75 157a10 10 0 0 0 -10 10v0a10 10 0 0 0 10 10"></path>
           <g>
            <path d="M348.75 177h62.5"></path>
           </g>
           <path d="M411.25 177a10 10 0 0 0 10 -10v0a10 10 0 0 0 -10 -10"></path>
          </g>
          <path d="M421.25 157a10 10 0 0 0 10 -10v-10a10 10 0 0 1 10 -10"></path>
         </g>
         <path d="M441.25 127h10"></path>
         <g class="non-terminal ">
          <path d="M451.25 127h0.0"></path>
          <path d="M573.25 127h0.0"></path>
          <text class="comment" x="512.25" y="132">/complete-length</text>
         </g>
        </g>
        <path d="M599.0 127h10"></path>
        <path d="M609.0 127h0.0"></path>
       </g>
       <path d="M609.0 127h10"></path>
       <path d="M 619.0 127 h 20 m -10 -10 v 20 m 10 -20 v 20"></path>
      </g>
     </svg>
    </div>
   </div>
   <h2 class="heading settled" data-level="6" id="api"><span class="secno">6. </span><span class="content">API</span><a class="self-link" href="#api"></a></h2>
   <h3 class="heading settled" data-level="6.1" id="extensions-to-service-worker-global"><span class="secno">6.1. </span><span class="content">Extensions to <code class="idl"><a data-link-type="idl" href="https://w3c.github.io/ServiceWorker/#serviceworkerglobalscope" id="ref-for-serviceworkerglobalscope">ServiceWorkerGlobalScope</a></code></span><a class="self-link" href="#extensions-to-service-worker-global"></a></h3>
<pre class="idl highlight def"><c- b>partial</c-> <c- b>interface</c-> <a class="idl-code" data-link-type="interface" href="https://w3c.github.io/ServiceWorker/#serviceworkerglobalscope" id="ref-for-serviceworkerglobalscope①"><c- g>ServiceWorkerGlobalScope</c-></a> {
  <c- b>attribute</c-> <a data-link-type="idl-name" href="https://html.spec.whatwg.org/multipage/webappapis.html#eventhandler" id="ref-for-eventhandler"><c- n>EventHandler</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="ServiceWorkerGlobalScope" data-dfn-type="attribute" data-export data-type="EventHandler" id="dom-serviceworkerglobalscope-onbackgroundfetchsuccess"><code><c- g>onbackgroundfetchsuccess</c-></code></dfn>;
  <c- b>attribute</c-> <a data-link-type="idl-name" href="https://html.spec.whatwg.org/multipage/webappapis.html#eventhandler" id="ref-for-eventhandler①"><c- n>EventHandler</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="ServiceWorkerGlobalScope" data-dfn-type="attribute" data-export data-type="EventHandler" id="dom-serviceworkerglobalscope-onbackgroundfetchfail"><code><c- g>onbackgroundfetchfail</c-></code></dfn>;
  <c- b>attribute</c-> <a data-link-type="idl-name" href="https://html.spec.whatwg.org/multipage/webappapis.html#eventhandler" id="ref-for-eventhandler②"><c- n>EventHandler</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="ServiceWorkerGlobalScope" data-dfn-type="attribute" data-export data-type="EventHandler" id="dom-serviceworkerglobalscope-onbackgroundfetchabort"><code><c- g>onbackgroundfetchabort</c-></code></dfn>;
  <c- b>attribute</c-> <a data-link-type="idl-name" href="https://html.spec.whatwg.org/multipage/webappapis.html#eventhandler" id="ref-for-eventhandler③"><c- n>EventHandler</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="ServiceWorkerGlobalScope" data-dfn-type="attribute" data-export data-type="EventHandler" id="dom-serviceworkerglobalscope-onbackgroundfetchclick"><code><c- g>onbackgroundfetchclick</c-></code></dfn>;
};
</pre>
   <h4 class="heading settled" data-level="6.1.1" id="service-worker-global-events"><span class="secno">6.1.1. </span><span class="content">Events</span><a class="self-link" href="#service-worker-global-events"></a></h4>
   <p>The following is the <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#event-handlers" id="ref-for-event-handlers">event handler</a> (and its corresponding <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#event-handler-event-type" id="ref-for-event-handler-event-type">event handler event type</a>) that must be supported, as <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#event-handler-idl-attributes" id="ref-for-event-handler-idl-attributes">event handler IDL attributes</a>, by all objects implementing <code class="idl"><a data-link-type="idl" href="https://w3c.github.io/ServiceWorker/#serviceworker" id="ref-for-serviceworker">ServiceWorker</a></code> interface:</p>
   <table class="data">
    <thead>
     <tr>
      <th><a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#event-handler-event-type" id="ref-for-event-handler-event-type①">event handler event type</a>
      <th><a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#event-handlers" id="ref-for-event-handlers①">event handler</a>
      <th>Interface
    <tbody>
     <tr>
      <td><dfn class="idl-code" data-dfn-for="ServiceWorkerGlobalScope" data-dfn-type="event" data-export id="eventdef-serviceworkerglobalscope-backgroundfetchsuccess"><code>backgroundfetchsuccess</code><a class="self-link" href="#eventdef-serviceworkerglobalscope-backgroundfetchsuccess"></a></dfn>
      <td><code class="idl"><a data-link-type="idl" href="#dom-serviceworkerglobalscope-onbackgroundfetchsuccess" id="ref-for-dom-serviceworkerglobalscope-onbackgroundfetchsuccess">onbackgroundfetchsuccess</a></code>
      <td><code class="idl"><a data-link-type="idl" href="#backgroundfetchupdateuievent" id="ref-for-backgroundfetchupdateuievent②">BackgroundFetchUpdateUIEvent</a></code>
     <tr>
      <td><dfn class="idl-code" data-dfn-for="ServiceWorkerGlobalScope" data-dfn-type="event" data-export id="eventdef-serviceworkerglobalscope-backgroundfetchfail"><code>backgroundfetchfail</code><a class="self-link" href="#eventdef-serviceworkerglobalscope-backgroundfetchfail"></a></dfn>
      <td><code class="idl"><a data-link-type="idl" href="#dom-serviceworkerglobalscope-onbackgroundfetchfail" id="ref-for-dom-serviceworkerglobalscope-onbackgroundfetchfail">onbackgroundfetchfail</a></code>
      <td><code class="idl"><a data-link-type="idl" href="#backgroundfetchupdateuievent" id="ref-for-backgroundfetchupdateuievent③">BackgroundFetchUpdateUIEvent</a></code>
     <tr>
      <td><dfn class="idl-code" data-dfn-for="ServiceWorkerGlobalScope" data-dfn-type="event" data-export id="eventdef-serviceworkerglobalscope-backgroundfetchabort"><code>backgroundfetchabort</code><a class="self-link" href="#eventdef-serviceworkerglobalscope-backgroundfetchabort"></a></dfn>
      <td><code class="idl"><a data-link-type="idl" href="#dom-serviceworkerglobalscope-onbackgroundfetchabort" id="ref-for-dom-serviceworkerglobalscope-onbackgroundfetchabort">onbackgroundfetchabort</a></code>
      <td><code class="idl"><a data-link-type="idl" href="#backgroundfetchevent" id="ref-for-backgroundfetchevent②">BackgroundFetchEvent</a></code>
     <tr>
      <td><dfn class="idl-code" data-dfn-for="ServiceWorkerGlobalScope" data-dfn-type="event" data-export id="eventdef-serviceworkerglobalscope-backgroundfetchclick"><code>backgroundfetchclick</code><a class="self-link" href="#eventdef-serviceworkerglobalscope-backgroundfetchclick"></a></dfn>
      <td><code class="idl"><a data-link-type="idl" href="#dom-serviceworkerglobalscope-onbackgroundfetchclick" id="ref-for-dom-serviceworkerglobalscope-onbackgroundfetchclick">onbackgroundfetchclick</a></code>
      <td><code class="idl"><a data-link-type="idl" href="#backgroundfetchevent" id="ref-for-backgroundfetchevent③">BackgroundFetchEvent</a></code>
   </table>
   <h3 class="heading settled" data-level="6.2" id="extensions-to-service-worker-registration"><span class="secno">6.2. </span><span class="content">Extensions to <code class="idl"><a data-link-type="idl" href="https://w3c.github.io/ServiceWorker/#serviceworkerregistration" id="ref-for-serviceworkerregistration">ServiceWorkerRegistration</a></code></span><a class="self-link" href="#extensions-to-service-worker-registration"></a></h3>
<pre class="idl highlight def"><c- b>partial</c-> <c- b>interface</c-> <a class="idl-code" data-link-type="interface" href="https://w3c.github.io/ServiceWorker/#serviceworkerregistration" id="ref-for-serviceworkerregistration①"><c- g>ServiceWorkerRegistration</c-></a> {
  <c- b>readonly</c-> <c- b>attribute</c-> <a data-link-type="idl-name" href="#backgroundfetchmanager" id="ref-for-backgroundfetchmanager②"><c- n>BackgroundFetchManager</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="BackgroundFetchManager" href="#dom-serviceworkerregistration-backgroundfetch" id="ref-for-dom-serviceworkerregistration-backgroundfetch"><c- g>backgroundFetch</c-></a>;
};
</pre>
   <div>
    <p>A <code class="idl"><a data-link-type="idl" href="https://w3c.github.io/ServiceWorker/#serviceworkerregistration" id="ref-for-serviceworkerregistration②">ServiceWorkerRegistration</a></code> has a <dfn class="dfn-paneled" data-dfn-for="ServiceWorkerRegistration" data-dfn-type="dfn" data-noexport id="serviceworkerregistration-background-fetch-manager">background fetch manager</dfn> (a <code class="idl"><a data-link-type="idl" href="#backgroundfetchmanager" id="ref-for-backgroundfetchmanager③">BackgroundFetchManager</a></code>), initially a new <code class="idl"><a data-link-type="idl" href="#backgroundfetchmanager" id="ref-for-backgroundfetchmanager④">BackgroundFetchManager</a></code> whose <a data-link-type="dfn" href="#backgroundfetchmanager-service-worker-registration" id="ref-for-backgroundfetchmanager-service-worker-registration">service worker registration</a> is the <a data-link-type="dfn">context object</a>'s <a data-link-type="dfn" href="https://w3c.github.io/ServiceWorker/#dfn-service-worker-registration" id="ref-for-dfn-service-worker-registration②">service worker registration</a>.</p>
    <p>The <dfn class="dfn-paneled idl-code" data-dfn-for="ServiceWorkerRegistration" data-dfn-type="attribute" data-export id="dom-serviceworkerregistration-backgroundfetch"><code>backgroundFetch</code></dfn> attribute’s getter must return the <a data-link-type="dfn">context object</a>'s <a data-link-type="dfn" href="#serviceworkerregistration-background-fetch-manager" id="ref-for-serviceworkerregistration-background-fetch-manager">background fetch manager</a>.</p>
   </div>
   <h3 class="heading settled" data-level="6.3" id="background-fetch-manager"><span class="secno">6.3. </span><span class="content"><code class="idl"><a data-link-type="idl" href="#backgroundfetchmanager" id="ref-for-backgroundfetchmanager⑤">BackgroundFetchManager</a></code></span><a class="self-link" href="#background-fetch-manager"></a></h3>
   <div class="mdn-anno wrapped after">
    <button class="mdn-anno-btn"><b class="less-than-two-engines-flag" title="This feature is in less than two current engines.">⚠</b><span>MDN</span></button>
    <div class="feature">
     <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/BackgroundFetchManager" title="The BackgroundFetchManager interface of the Background Fetch API is a map where the keys are background fetch IDs and the values are BackgroundFetchRegistration objects.">BackgroundFetchManager</a></p>
     <p class="less-than-two-engines-text">In only one current engine.</p>
     <div class="support">
      <span class="firefox no"><span>Firefox</span><span>None</span></span><span class="safari no"><span>Safari</span><span>None</span></span><span class="chrome yes"><span>Chrome</span><span>74+</span></span>
      <hr>
      <span class="opera no"><span>Opera</span><span>?</span></span><span class="edge_blink yes"><span>Edge</span><span>79+</span></span>
      <hr>
      <span class="edge no"><span>Edge (Legacy)</span><span>?</span></span><span class="ie no"><span>IE</span><span>None</span></span>
      <hr>
      <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span class="webview_android no"><span>Android WebView</span><span>None</span></span><span class="samsunginternet_android no"><span>Samsung Internet</span><span>?</span></span><span class="opera_android no"><span>Opera Mobile</span><span>?</span></span>
     </div>
    </div>
   </div>
<pre class="idl highlight def">[<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Exposed" id="ref-for-Exposed"><c- g>Exposed</c-></a>=(<c- n>Window</c->,<c- n>Worker</c->)]
<c- b>interface</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="interface" data-export id="backgroundfetchmanager"><code><c- g>BackgroundFetchManager</c-></code></dfn> {
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise" id="ref-for-idl-promise"><c- b>Promise</c-></a>&lt;<a data-link-type="idl-name" href="#backgroundfetchregistration" id="ref-for-backgroundfetchregistration③"><c- n>BackgroundFetchRegistration</c-></a>> <a class="idl-code" data-link-type="method" href="#dom-backgroundfetchmanager-fetch" id="ref-for-dom-backgroundfetchmanager-fetch"><c- g>fetch</c-></a>(<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString" id="ref-for-idl-DOMString"><c- b>DOMString</c-></a> <dfn class="idl-code" data-dfn-for="BackgroundFetchManager/fetch(id, requests, options), BackgroundFetchManager/fetch(id, requests)" data-dfn-type="argument" data-export id="dom-backgroundfetchmanager-fetch-id-requests-options-id"><code><c- g>id</c-></code><a class="self-link" href="#dom-backgroundfetchmanager-fetch-id-requests-options-id"></a></dfn>, (<a data-link-type="idl-name" href="https://fetch.spec.whatwg.org/#requestinfo" id="ref-for-requestinfo"><c- n>RequestInfo</c-></a> <c- b>or</c-> <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#idl-sequence" id="ref-for-idl-sequence"><c- b>sequence</c-></a>&lt;<a data-link-type="idl-name" href="https://fetch.spec.whatwg.org/#requestinfo" id="ref-for-requestinfo①"><c- n>RequestInfo</c-></a>>) <dfn class="idl-code" data-dfn-for="BackgroundFetchManager/fetch(id, requests, options), BackgroundFetchManager/fetch(id, requests)" data-dfn-type="argument" data-export id="dom-backgroundfetchmanager-fetch-id-requests-options-requests"><code><c- g>requests</c-></code><a class="self-link" href="#dom-backgroundfetchmanager-fetch-id-requests-options-requests"></a></dfn>, <c- b>optional</c-> <a data-link-type="idl-name" href="#dictdef-backgroundfetchoptions" id="ref-for-dictdef-backgroundfetchoptions"><c- n>BackgroundFetchOptions</c-></a> <dfn class="idl-code" data-dfn-for="BackgroundFetchManager/fetch(id, requests, options), BackgroundFetchManager/fetch(id, requests)" data-dfn-type="argument" data-export id="dom-backgroundfetchmanager-fetch-id-requests-options-options"><code><c- g>options</c-></code><a class="self-link" href="#dom-backgroundfetchmanager-fetch-id-requests-options-options"></a></dfn> = {});
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise" id="ref-for-idl-promise①"><c- b>Promise</c-></a>&lt;<a data-link-type="idl-name" href="#backgroundfetchregistration" id="ref-for-backgroundfetchregistration④"><c- n>BackgroundFetchRegistration</c-></a>?> <a class="idl-code" data-link-type="method" href="#dom-backgroundfetchmanager-get" id="ref-for-dom-backgroundfetchmanager-get"><c- g>get</c-></a>(<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString" id="ref-for-idl-DOMString①"><c- b>DOMString</c-></a> <dfn class="idl-code" data-dfn-for="BackgroundFetchManager/get(id)" data-dfn-type="argument" data-export id="dom-backgroundfetchmanager-get-id-id"><code><c- g>id</c-></code><a class="self-link" href="#dom-backgroundfetchmanager-get-id-id"></a></dfn>);
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise" id="ref-for-idl-promise②"><c- b>Promise</c-></a>&lt;<a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#idl-sequence" id="ref-for-idl-sequence①"><c- b>sequence</c-></a>&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString" id="ref-for-idl-DOMString②"><c- b>DOMString</c-></a>>> <a class="idl-code" data-link-type="method" href="#dom-backgroundfetchmanager-getids" id="ref-for-dom-backgroundfetchmanager-getids"><c- g>getIds</c-></a>();
};

<c- b>dictionary</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="dictionary" data-export id="dictdef-backgroundfetchuioptions"><code><c- g>BackgroundFetchUIOptions</c-></code></dfn> {
  <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#idl-sequence" id="ref-for-idl-sequence②"><c- b>sequence</c-></a>&lt;<a data-link-type="idl-name" href="https://w3c.github.io/image-resource/#dom-imageresource" id="ref-for-dom-imageresource①"><c- n>ImageResource</c-></a>> <dfn class="dfn-paneled idl-code" data-dfn-for="BackgroundFetchUIOptions" data-dfn-type="dict-member" data-export data-type="sequence<ImageResource> " id="dom-backgroundfetchuioptions-icons"><code><c- g>icons</c-></code></dfn>;
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString" id="ref-for-idl-DOMString③"><c- b>DOMString</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="BackgroundFetchUIOptions" data-dfn-type="dict-member" data-export data-type="DOMString " id="dom-backgroundfetchuioptions-title"><code><c- g>title</c-></code></dfn>;
};

<c- b>dictionary</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="dictionary" data-export id="dictdef-backgroundfetchoptions"><code><c- g>BackgroundFetchOptions</c-></code></dfn> : <a data-link-type="idl-name" href="#dictdef-backgroundfetchuioptions" id="ref-for-dictdef-backgroundfetchuioptions"><c- n>BackgroundFetchUIOptions</c-></a> {
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-unsigned-long-long" id="ref-for-idl-unsigned-long-long"><c- b>unsigned</c-> <c- b>long</c-> <c- b>long</c-></a> <dfn class="idl-code" data-default="0" data-dfn-for="BackgroundFetchOptions" data-dfn-type="dict-member" data-export data-type="unsigned long long " id="dom-backgroundfetchoptions-downloadtotal"><code><c- g>downloadTotal</c-></code><a class="self-link" href="#dom-backgroundfetchoptions-downloadtotal"></a></dfn> = 0;
};
</pre>
   <div>
    <p>A <code class="idl"><a data-link-type="idl" href="#backgroundfetchmanager" id="ref-for-backgroundfetchmanager⑥">BackgroundFetchManager</a></code> has:</p>
    <div>
     <ul>
      <li data-md>
       <p><dfn class="dfn-paneled" data-dfn-for="BackgroundFetchManager" data-dfn-type="dfn" data-noexport id="backgroundfetchmanager-backgroundfetchregistration-instances">BackgroundFetchRegistration instances</dfn> (a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#ordered-map" id="ref-for-ordered-map④">map</a>), where the keys are <a data-link-type="dfn" href="#background-fetch" id="ref-for-background-fetch①④">background fetches</a> and the values are <code class="idl"><a data-link-type="idl" href="#backgroundfetchregistration" id="ref-for-backgroundfetchregistration⑤">BackgroundFetchRegistration</a></code> objects. It is initially an empty <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#ordered-map" id="ref-for-ordered-map⑤">map</a>.</p>
      <li data-md>
       <p>A <dfn class="dfn-paneled" data-dfn-for="BackgroundFetchManager" data-dfn-type="dfn" data-noexport id="backgroundfetchmanager-service-worker-registration">service worker registration</dfn> (a <a data-link-type="dfn" href="https://w3c.github.io/ServiceWorker/#dfn-service-worker-registration" id="ref-for-dfn-service-worker-registration③">service worker registration</a>).</p>
     </ul>
    </div>
    <h4 class="heading settled" data-level="6.3.1" id="background-fetch-manager-fetch"><span class="secno">6.3.1. </span><span class="content"><code class="idl"><a data-link-type="idl" href="#dom-backgroundfetchmanager-fetch" id="ref-for-dom-backgroundfetchmanager-fetch①">fetch()</a></code></span><a class="self-link" href="#background-fetch-manager-fetch"></a></h4>
    <div class="mdn-anno wrapped after">
     <button class="mdn-anno-btn"><b class="less-than-two-engines-flag" title="This feature is in less than two current engines.">⚠</b><span>MDN</span></button>
     <div class="feature">
      <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/BackgroundFetchManager/fetch" title="The fetch() method of the BackgroundFetchManager interface returns a Promise that resolves with a BackgroundFetchRegistration object for a supplied array of URLs and Request objects.">BackgroundFetchManager/fetch</a></p>
      <p class="less-than-two-engines-text">In only one current engine.</p>
      <div class="support">
       <span class="firefox no"><span>Firefox</span><span>None</span></span><span class="safari no"><span>Safari</span><span>None</span></span><span class="chrome yes"><span>Chrome</span><span>74+</span></span>
       <hr>
       <span class="opera no"><span>Opera</span><span>?</span></span><span class="edge_blink yes"><span>Edge</span><span>79+</span></span>
       <hr>
       <span class="edge no"><span>Edge (Legacy)</span><span>?</span></span><span class="ie no"><span>IE</span><span>None</span></span>
       <hr>
       <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span class="webview_android no"><span>Android WebView</span><span>None</span></span><span class="samsunginternet_android no"><span>Samsung Internet</span><span>?</span></span><span class="opera_android no"><span>Opera Mobile</span><span>?</span></span>
      </div>
     </div>
    </div>
    <div class="algorithm" data-algorithm="fetch(id, requests, options)">
      The <dfn class="dfn-paneled idl-code" data-dfn-for="BackgroundFetchManager" data-dfn-type="method" data-export data-lt="fetch(id, requests, options)|fetch(id, requests)" id="dom-backgroundfetchmanager-fetch"><code>fetch(<var>id</var>, <var>requests</var>, <var>options</var>)</code></dfn> method, when invoked, run these steps: 
     <ol>
      <li data-md>
       <p>Let <var>registration</var> be the <a data-link-type="dfn">context object</a>'s <a data-link-type="dfn" href="#backgroundfetchmanager-service-worker-registration" id="ref-for-backgroundfetchmanager-service-worker-registration①">service worker registration</a>.</p>
      <li data-md>
       <p>Let <var>records</var> be a new <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list" id="ref-for-list④">list</a>.</p>
      <li data-md>
       <p>Let <var>uploadTotal</var> be 0.</p>
      <li data-md>
       <p>If <var>requests</var> is a <code class="idl"><a data-link-type="idl" href="https://fetch.spec.whatwg.org/#requestinfo" id="ref-for-requestinfo②">RequestInfo</a></code>, set <var>requests</var> to « <var>requests</var> ».</p>
      <li data-md>
       <p>If <var>requests</var> is <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-empty" id="ref-for-list-empty">empty</a>, then return <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#a-promise-rejected-with" id="ref-for-a-promise-rejected-with">a promise rejected with</a> a <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#exceptiondef-typeerror" id="ref-for-exceptiondef-typeerror②">TypeError</a></code>.</p>
      <li data-md>
       <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-iterate" id="ref-for-list-iterate③">For each</a> <var>request</var> of <var>requests</var>:</p>
       <ol>
        <li data-md>
         <p>Let <var>internalRequest</var> be the <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-request-request" id="ref-for-concept-request-request②">request</a> of the result of invoking the <code class="idl"><a data-link-type="idl" href="https://fetch.spec.whatwg.org/#request" id="ref-for-request②">Request</a></code> constructor with <var>request</var>. If this throws an exception, return <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#a-promise-rejected-with" id="ref-for-a-promise-rejected-with①">a promise rejected with</a> the exception.</p>
        <li data-md>
         <p>If <var>internalRequest</var>’s <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-request-mode" id="ref-for-concept-request-mode①">mode</a> is "<code>no-cors</code>", then return <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#a-promise-rejected-with" id="ref-for-a-promise-rejected-with②">a promise rejected with</a> a <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#exceptiondef-typeerror" id="ref-for-exceptiondef-typeerror③">TypeError</a></code>.</p>
        <li data-md>
         <p>Set <var>internalRequest</var>’s <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-request-client" id="ref-for-concept-request-client①">client</a> to null.</p>
        <li data-md>
         <p>Let <var>record</var> be a new <a data-link-type="dfn" href="#background-fetch-record" id="ref-for-background-fetch-record⑥">background fetch record</a>.</p>
        <li data-md>
         <p>Set <var>record</var>’s <a data-link-type="dfn" href="#background-fetch-record-request" id="ref-for-background-fetch-record-request③">request</a> to <var>internalRequest</var>.</p>
        <li data-md>
         <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-append" id="ref-for-list-append①">Append</a> <var>record</var> to <var>records</var>.</p>
       </ol>
      <li data-md>
       <p>Let <var>promise</var> be <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#a-new-promise" id="ref-for-a-new-promise②">a new promise</a>.</p>
      <li data-md>
       <p><a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/infrastructure.html#enqueue-the-following-steps" id="ref-for-enqueue-the-following-steps②">Enqueue the following steps</a> to <var>registration</var>’s <a data-link-type="dfn" href="#service-worker-registration-active-background-fetches-edit-queue" id="ref-for-service-worker-registration-active-background-fetches-edit-queue①">active background fetches edit queue</a>:</p>
       <ol>
        <li data-md>
         <p>Let <var>permission</var> be the <a data-link-type="dfn" href="https://w3c.github.io/permissions/#dfn-permission-state" id="ref-for-dfn-permission-state①">permission state</a> for a <code class="idl"><a data-link-type="idl" href="https://w3c.github.io/permissions/#dom-permissiondescriptor" id="ref-for-dom-permissiondescriptor①">PermissionDescriptor</a></code> with <code class="idl"><a data-link-type="idl" href="https://w3c.github.io/permissions/#dom-permissiondescriptor-name" id="ref-for-dom-permissiondescriptor-name①">name</a></code> <code>"background-fetch"</code>, and the <a data-link-type="dfn">context object</a>'s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#relevant-settings-object" id="ref-for-relevant-settings-object③">relevant settings object</a>.</p>
        <li data-md>
         <p>If <var>permission</var> is <code>"denied"</code>, then reject <var>promise</var> with a <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#notallowederror" id="ref-for-notallowederror">NotAllowedError</a></code> <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-DOMException" id="ref-for-idl-DOMException②">DOMException</a></code> and abort these steps.</p>
        <li data-md>
         <p>Let <var>bgFetchMap</var> be <var>registration</var>’s <a data-link-type="dfn" href="#service-worker-registration-active-background-fetches" id="ref-for-service-worker-registration-active-background-fetches①">active background fetches</a>.</p>
        <li data-md>
         <p>If <var>registration</var>’s <a data-link-type="dfn" href="https://w3c.github.io/ServiceWorker/#dfn-active-worker" id="ref-for-dfn-active-worker">active worker</a> is null, then reject <var>promise</var> with a <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#exceptiondef-typeerror" id="ref-for-exceptiondef-typeerror④">TypeError</a></code> and abort these steps.</p>
        <li data-md>
         <p>If <var>bgFetchMap</var>[<var>id</var>] <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-exists" id="ref-for-map-exists②">exists</a>, <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#reject" id="ref-for-reject②">reject</a> <var>promise</var> with a <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#exceptiondef-typeerror" id="ref-for-exceptiondef-typeerror⑤">TypeError</a></code> and abort these steps.</p>
        <li data-md>
         <p>Let <var>requestBodiesRemaining</var> be the <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-size" id="ref-for-list-size①">size</a> of <var>requests</var>.</p>
        <li data-md>
         <p>Let <var>requestReadFailed</var> be false.</p>
        <li data-md>
         <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-iterate" id="ref-for-list-iterate④">For each</a> <var>request</var> of <var>requests</var>:</p>
         <ol>
          <li data-md>
           <p>If <var>request</var>’s <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-request-body" id="ref-for-concept-request-body②">body</a> is null, then <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#iteration-continue" id="ref-for-iteration-continue">continue</a>.</p>
          <li data-md>
           <p>Let <var>stream</var> be <var>request</var>’s <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-request-body" id="ref-for-concept-request-body③">body</a>'s <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-body-stream" id="ref-for-concept-body-stream②">stream</a>.</p>
          <li data-md>
           <p>Run these steps <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/infrastructure.html#in-parallel" id="ref-for-in-parallel④">in parallel</a>:</p>
           <ol>
            <li data-md>
             <p>Run these steps but <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#abort-when" id="ref-for-abort-when①">abort when</a> <var>requestReadFailed</var> is true:</p>
             <ol>
              <li data-md>
               <p><a data-link-type="dfn">Wait</a> for <var>request</var>’s <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-request-body" id="ref-for-concept-request-body④">body</a>.</p>
              <li data-md>
               <p>If <var>stream</var> has <a data-link-type="dfn" href="https://streams.spec.whatwg.org/#readablestream-errored" id="ref-for-readablestream-errored①">errored</a>, then set <var>requestReadFailed</var> to true.</p>
             </ol>
             <p class="note" role="note"><span class="marker">Note:</span> This ensures we have a copy of the request bytes before resolving.</p>
            <li data-md>
             <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#if-aborted" id="ref-for-if-aborted①">If aborted</a> and <var>stream</var> is <a data-link-type="dfn" href="https://streams.spec.whatwg.org/#readablestream-readable" id="ref-for-readablestream-readable">readable</a>, then <a data-link-type="dfn" href="https://streams.spec.whatwg.org/#readablestream-error" id="ref-for-readablestream-error②">error</a> <var>stream</var> with an <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#aborterror" id="ref-for-aborterror②">AbortError</a></code> <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-DOMException" id="ref-for-idl-DOMException③">DOMException</a></code> and abort these steps.</p>
            <li data-md>
             <p>Increment <var>uploadTotal</var> by <var>request</var>’s <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-request-body" id="ref-for-concept-request-body⑤">body</a>'s <a data-link-type="dfn">total bytes</a>.</p>
            <li data-md>
             <p>Decrement <var>requestBodiesRemaining</var> by 1.</p>
           </ol>
         </ol>
        <li data-md>
         <p>If at any point storing <var>requests</var> fails due to exceeding a quota limit, <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#reject" id="ref-for-reject③">reject</a> <var>promise</var> with a <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#quotaexceedederror" id="ref-for-quotaexceedederror">QuotaExceededError</a></code> <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-DOMException" id="ref-for-idl-DOMException④">DOMException</a></code> and abort these steps.</p>
        <li data-md>
         <p>Wait for <var>requestBodiesRemaining</var> to be 0, or <var>requestReadFailed</var> to be true.</p>
        <li data-md>
         <p>If <var>requestReadFailed</var> is true, then <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#reject" id="ref-for-reject④">reject</a> <var>promise</var> with a <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#exceptiondef-typeerror" id="ref-for-exceptiondef-typeerror⑥">TypeError</a></code> and abort these steps.</p>
        <li data-md>
         <p>Let <var>bgFetch</var> be a new <a data-link-type="dfn" href="#background-fetch" id="ref-for-background-fetch①⑤">background fetch</a> with:</p>
         <dl>
          <dt data-md><a data-link-type="dfn" href="#background-fetch-id" id="ref-for-background-fetch-id②">id</a>
          <dd data-md>
           <p><var>id</var>.</p>
          <dt data-md><a data-link-type="dfn" href="#background-fetch-records" id="ref-for-background-fetch-records④">records</a>
          <dd data-md>
           <p><var>records</var>.</p>
          <dt data-md><a data-link-type="dfn" href="#background-fetch-download-total" id="ref-for-background-fetch-download-total②">download total</a>
          <dd data-md>
           <p><var>options</var>’ <code>downloadTotal</code> member.</p>
          <dt data-md><a data-link-type="dfn" href="#background-fetch-upload-total" id="ref-for-background-fetch-upload-total①">upload total</a>
          <dd data-md>
           <p><var>uploadTotal</var>.</p>
          <dt data-md><a data-link-type="dfn" href="#background-fetch-icons" id="ref-for-background-fetch-icons①">icons</a>
          <dd data-md>
           <p><var>options</var>’ <code>icons</code> member if present, otherwise an empty <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list" id="ref-for-list⑤">list</a>.</p>
          <dt data-md><a data-link-type="dfn" href="#background-fetch-title" id="ref-for-background-fetch-title①">title</a>
          <dd data-md>
           <p><var>options</var>’ <code>title</code> member if present, otherwise the empty string.</p>
          <dt data-md><a data-link-type="dfn" href="#background-fetch-service-worker-registration" id="ref-for-background-fetch-service-worker-registration④">service worker registration</a>
          <dd data-md>
           <p><var>registration</var>.</p>
         </dl>
        <li data-md>
         <p>Set <var>bgFetchMap</var>[<var>id</var>] to <var>bgFetch</var>.</p>
        <li data-md>
         <p><a data-link-type="dfn" href="#queue-a-bgfetch-task" id="ref-for-queue-a-bgfetch-task①">Queue a bgfetch task</a> to run these steps:</p>
         <ol>
          <li data-md>
           <p><a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#resolve" id="ref-for-resolve②">Resolve</a> <var>promise</var> with the result of <a data-link-type="dfn" href="#get-a-backgroundfetchregistration-instance" id="ref-for-get-a-backgroundfetchregistration-instance④">getting a BackgroundFetchRegistration instance</a> for <var>bgFetch</var> in the <a data-link-type="dfn">context object</a>'s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-realm" id="ref-for-concept-relevant-realm④">relevant Realm</a>.</p>
         </ol>
        <li data-md>
         <p><a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/infrastructure.html#in-parallel" id="ref-for-in-parallel⑤">In parallel</a>, <a data-link-type="dfn" href="#background-fetch-display" id="ref-for-background-fetch-display①">display</a> <var>bgFetch</var> from the <a data-link-type="dfn">context object</a>'s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#relevant-settings-object" id="ref-for-relevant-settings-object④">relevant settings object</a>.</p>
        <li data-md>
         <p><a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/infrastructure.html#in-parallel" id="ref-for-in-parallel⑥">In parallel</a>, <a data-link-type="dfn" href="#perform-a-background-fetch" id="ref-for-perform-a-background-fetch①">perform a background fetch</a> with <var>bgFetch</var>.</p>
       </ol>
      <li data-md>
       <p>Return <var>promise</var>.</p>
     </ol>
    </div>
    <h4 class="heading settled" data-level="6.3.2" id="background-fetch-manager-get"><span class="secno">6.3.2. </span><span class="content"><code class="idl"><a data-link-type="idl" href="#dom-backgroundfetchmanager-get" id="ref-for-dom-backgroundfetchmanager-get①">get()</a></code></span><a class="self-link" href="#background-fetch-manager-get"></a></h4>
    <div class="mdn-anno wrapped after">
     <button class="mdn-anno-btn"><b class="less-than-two-engines-flag" title="This feature is in less than two current engines.">⚠</b><span>MDN</span></button>
     <div class="feature">
      <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/BackgroundFetchManager/get" title="The get() method of the BackgroundFetchManager interface returns a Promise that resolves with the BackgroundFetchRegistration associated with the provided id or undefined if the id is not found.">BackgroundFetchManager/get</a></p>
      <p class="less-than-two-engines-text">In only one current engine.</p>
      <div class="support">
       <span class="firefox no"><span>Firefox</span><span>None</span></span><span class="safari no"><span>Safari</span><span>None</span></span><span class="chrome yes"><span>Chrome</span><span>74+</span></span>
       <hr>
       <span class="opera no"><span>Opera</span><span>?</span></span><span class="edge_blink yes"><span>Edge</span><span>79+</span></span>
       <hr>
       <span class="edge no"><span>Edge (Legacy)</span><span>?</span></span><span class="ie no"><span>IE</span><span>None</span></span>
       <hr>
       <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span class="webview_android no"><span>Android WebView</span><span>None</span></span><span class="samsunginternet_android no"><span>Samsung Internet</span><span>?</span></span><span class="opera_android no"><span>Opera Mobile</span><span>?</span></span>
      </div>
     </div>
    </div>
    <div class="algorithm" data-algorithm="get(id)">
      The <dfn class="dfn-paneled idl-code" data-dfn-for="BackgroundFetchManager" data-dfn-type="method" data-export id="dom-backgroundfetchmanager-get"><code>get(<var>id</var>)</code></dfn> method, when invoked, must return <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#a-new-promise" id="ref-for-a-new-promise③">a new promise</a> <var>promise</var> and run these steps <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/infrastructure.html#in-parallel" id="ref-for-in-parallel⑦">in parallel</a>: 
     <ol>
      <li data-md>
       <p>Let <var>registration</var> be the <a data-link-type="dfn">context object</a>'s associated <a data-link-type="dfn" href="#backgroundfetchmanager-service-worker-registration" id="ref-for-backgroundfetchmanager-service-worker-registration②">service worker registration</a>.</p>
      <li data-md>
       <p>Let <var>bgFetch</var> be <var>registration</var>’s <a data-link-type="dfn" href="#service-worker-registration-active-background-fetches" id="ref-for-service-worker-registration-active-background-fetches②">active background fetches</a>[<var>id</var>].</p>
      <li data-md>
       <p>If <var>bgFetch</var> is undefined, then <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#resolve" id="ref-for-resolve③">resolve</a> <var>promise</var> with undefined and abort these steps.</p>
      <li data-md>
       <p><a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/infrastructure.html#enqueue-the-following-steps" id="ref-for-enqueue-the-following-steps③">Enqueue the following steps</a> to <var>bgFetch</var>’s <a data-link-type="dfn" href="#background-fetch-update-handling-queue" id="ref-for-background-fetch-update-handling-queue①">update handling queue</a>:</p>
       <ol>
        <li data-md>
         <p><a data-link-type="dfn" href="#queue-a-bgfetch-task" id="ref-for-queue-a-bgfetch-task②">Queue a bgfetch task</a> <var>task</var> to run these steps:</p>
         <ol>
          <li data-md>
           <p>Let <var>bgFetchRegistration</var> be the result of <a data-link-type="dfn" href="#get-a-backgroundfetchregistration-instance" id="ref-for-get-a-backgroundfetchregistration-instance⑤">getting a BackgroundFetchRegistration instance</a> for <var>bgFetch</var> in the <a data-link-type="dfn">context object</a>'s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-realm" id="ref-for-concept-relevant-realm⑤">relevant Realm</a>.</p>
          <li data-md>
           <p><a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#resolve" id="ref-for-resolve④">Resolve</a> <var>promise</var> with <var>bgFetchRegistration</var>.</p>
         </ol>
        <li data-md>
         <p>Wait for <var>task</var> to complete.</p>
         <p class="note" role="note"><span class="marker">Note:</span> This ensures the potential new instance of <code class="idl"><a data-link-type="idl" href="#backgroundfetchregistration" id="ref-for-backgroundfetchregistration⑥">BackgroundFetchRegistration</a></code> doesn’t miss any <code class="idl"><a class="idl-code" data-link-type="event" href="#eventdef-backgroundfetchregistration-progress" id="ref-for-eventdef-backgroundfetchregistration-progress">progress</a></code> events.</p>
       </ol>
     </ol>
    </div>
    <h4 class="heading settled" data-level="6.3.3" id="background-fetch-manager-get-ids"><span class="secno">6.3.3. </span><span class="content"><code class="idl"><a data-link-type="idl" href="#dom-backgroundfetchmanager-getids" id="ref-for-dom-backgroundfetchmanager-getids①">getIds()</a></code></span><a class="self-link" href="#background-fetch-manager-get-ids"></a></h4>
    <div class="mdn-anno wrapped after">
     <button class="mdn-anno-btn"><b class="less-than-two-engines-flag" title="This feature is in less than two current engines.">⚠</b><span>MDN</span></button>
     <div class="feature">
      <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/BackgroundFetchManager/getIds" title="The getIds() method of the BackgroundFetchManager interface returns the IDs of all registered background fetches.">BackgroundFetchManager/getIds</a></p>
      <p class="less-than-two-engines-text">In only one current engine.</p>
      <div class="support">
       <span class="firefox no"><span>Firefox</span><span>None</span></span><span class="safari no"><span>Safari</span><span>None</span></span><span class="chrome yes"><span>Chrome</span><span>74+</span></span>
       <hr>
       <span class="opera no"><span>Opera</span><span>?</span></span><span class="edge_blink yes"><span>Edge</span><span>79+</span></span>
       <hr>
       <span class="edge no"><span>Edge (Legacy)</span><span>?</span></span><span class="ie no"><span>IE</span><span>None</span></span>
       <hr>
       <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span class="webview_android no"><span>Android WebView</span><span>None</span></span><span class="samsunginternet_android no"><span>Samsung Internet</span><span>?</span></span><span class="opera_android no"><span>Opera Mobile</span><span>?</span></span>
      </div>
     </div>
    </div>
    <div class="algorithm" data-algorithm="getIds()">
      The <dfn class="dfn-paneled idl-code" data-dfn-for="BackgroundFetchManager" data-dfn-type="method" data-export id="dom-backgroundfetchmanager-getids"><code>getIds()</code></dfn> method, when invoked, must return <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#a-new-promise" id="ref-for-a-new-promise④">a new promise</a> <var>promise</var> and run these steps <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/infrastructure.html#in-parallel" id="ref-for-in-parallel⑧">in parallel</a>: 
     <ol>
      <li data-md>
       <p>Let <var>registration</var> be the <a data-link-type="dfn">context object</a>'s associated <a data-link-type="dfn" href="#backgroundfetchmanager-service-worker-registration" id="ref-for-backgroundfetchmanager-service-worker-registration③">service worker registration</a>.</p>
      <li data-md>
       <p><a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#resolve" id="ref-for-resolve⑤">Resolve</a> <var>promise</var> with the result of <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-getting-the-keys" id="ref-for-map-getting-the-keys">getting the keys</a> of <var>registration</var>’s <a data-link-type="dfn" href="#service-worker-registration-active-background-fetches" id="ref-for-service-worker-registration-active-background-fetches③">active background fetches</a>.</p>
     </ol>
    </div>
   </div>
   <h3 class="heading settled" data-level="6.4" id="background-fetch-registration"><span class="secno">6.4. </span><span class="content"><code class="idl"><a data-link-type="idl" href="#backgroundfetchregistration" id="ref-for-backgroundfetchregistration⑦">BackgroundFetchRegistration</a></code></span><a class="self-link" href="#background-fetch-registration"></a></h3>
   <div class="mdn-anno wrapped after">
    <button class="mdn-anno-btn"><b class="less-than-two-engines-flag" title="This feature is in less than two current engines.">⚠</b><span>MDN</span></button>
    <div class="feature">
     <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/BackgroundFetchRegistration" title="The BackgroundFetchRegistration interface of the Background Fetch API represents an individual background fetch.">BackgroundFetchRegistration</a></p>
     <p class="less-than-two-engines-text">In only one current engine.</p>
     <div class="support">
      <span class="firefox no"><span>Firefox</span><span>None</span></span><span class="safari no"><span>Safari</span><span>None</span></span><span class="chrome yes"><span>Chrome</span><span>74+</span></span>
      <hr>
      <span class="opera no"><span>Opera</span><span>?</span></span><span class="edge_blink yes"><span>Edge</span><span>79+</span></span>
      <hr>
      <span class="edge no"><span>Edge (Legacy)</span><span>?</span></span><span class="ie no"><span>IE</span><span>None</span></span>
      <hr>
      <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span class="webview_android no"><span>Android WebView</span><span>None</span></span><span class="samsunginternet_android no"><span>Samsung Internet</span><span>?</span></span><span class="opera_android no"><span>Opera Mobile</span><span>?</span></span>
     </div>
    </div>
   </div>
<pre class="idl highlight def">[<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Exposed" id="ref-for-Exposed①"><c- g>Exposed</c-></a>=(<c- n>Window</c->,<c- n>Worker</c->)]
<c- b>interface</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="interface" data-export id="backgroundfetchregistration"><code><c- g>BackgroundFetchRegistration</c-></code></dfn> : <a data-link-type="idl-name" href="https://dom.spec.whatwg.org/#eventtarget" id="ref-for-eventtarget"><c- n>EventTarget</c-></a> {
  <c- b>readonly</c-> <c- b>attribute</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString" id="ref-for-idl-DOMString④"><c- b>DOMString</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="DOMString" href="#dom-backgroundfetchregistration-id" id="ref-for-dom-backgroundfetchregistration-id"><c- g>id</c-></a>;
  <c- b>readonly</c-> <c- b>attribute</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-unsigned-long-long" id="ref-for-idl-unsigned-long-long①"><c- b>unsigned</c-> <c- b>long</c-> <c- b>long</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="unsigned long long" href="#dom-backgroundfetchregistration-uploadtotal" id="ref-for-dom-backgroundfetchregistration-uploadtotal"><c- g>uploadTotal</c-></a>;
  <c- b>readonly</c-> <c- b>attribute</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-unsigned-long-long" id="ref-for-idl-unsigned-long-long②"><c- b>unsigned</c-> <c- b>long</c-> <c- b>long</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="unsigned long long" href="#dom-backgroundfetchregistration-uploaded" id="ref-for-dom-backgroundfetchregistration-uploaded"><c- g>uploaded</c-></a>;
  <c- b>readonly</c-> <c- b>attribute</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-unsigned-long-long" id="ref-for-idl-unsigned-long-long③"><c- b>unsigned</c-> <c- b>long</c-> <c- b>long</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="unsigned long long" href="#dom-backgroundfetchregistration-downloadtotal" id="ref-for-dom-backgroundfetchregistration-downloadtotal"><c- g>downloadTotal</c-></a>;
  <c- b>readonly</c-> <c- b>attribute</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-unsigned-long-long" id="ref-for-idl-unsigned-long-long④"><c- b>unsigned</c-> <c- b>long</c-> <c- b>long</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="unsigned long long" href="#dom-backgroundfetchregistration-downloaded" id="ref-for-dom-backgroundfetchregistration-downloaded"><c- g>downloaded</c-></a>;
  <c- b>readonly</c-> <c- b>attribute</c-> <a data-link-type="idl-name" href="#enumdef-backgroundfetchresult" id="ref-for-enumdef-backgroundfetchresult①"><c- n>BackgroundFetchResult</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="BackgroundFetchResult" href="#dom-backgroundfetchregistration-result" id="ref-for-dom-backgroundfetchregistration-result"><c- g>result</c-></a>;
  <c- b>readonly</c-> <c- b>attribute</c-> <a data-link-type="idl-name" href="#enumdef-backgroundfetchfailurereason" id="ref-for-enumdef-backgroundfetchfailurereason②"><c- n>BackgroundFetchFailureReason</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="BackgroundFetchFailureReason" href="#dom-backgroundfetchregistration-failurereason" id="ref-for-dom-backgroundfetchregistration-failurereason"><c- g>failureReason</c-></a>;
  <c- b>readonly</c-> <c- b>attribute</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-boolean" id="ref-for-idl-boolean"><c- b>boolean</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="boolean" href="#dom-backgroundfetchregistration-recordsavailable" id="ref-for-dom-backgroundfetchregistration-recordsavailable"><c- g>recordsAvailable</c-></a>;

  <c- b>attribute</c-> <a data-link-type="idl-name" href="https://html.spec.whatwg.org/multipage/webappapis.html#eventhandler" id="ref-for-eventhandler④"><c- n>EventHandler</c-></a> <a class="idl-code" data-link-type="attribute" data-type="EventHandler" href="#dom-backgroundfetchregistration-onprogress" id="ref-for-dom-backgroundfetchregistration-onprogress"><c- g>onprogress</c-></a>;

  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise" id="ref-for-idl-promise③"><c- b>Promise</c-></a>&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-boolean" id="ref-for-idl-boolean①"><c- b>boolean</c-></a>> <a class="idl-code" data-link-type="method" href="#dom-backgroundfetchregistration-abort" id="ref-for-dom-backgroundfetchregistration-abort②"><c- g>abort</c-></a>();
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise" id="ref-for-idl-promise④"><c- b>Promise</c-></a>&lt;<a data-link-type="idl-name" href="#backgroundfetchrecord" id="ref-for-backgroundfetchrecord①"><c- n>BackgroundFetchRecord</c-></a>> <a class="idl-code" data-link-type="method" href="#dom-backgroundfetchregistration-match" id="ref-for-dom-backgroundfetchregistration-match"><c- g>match</c-></a>(<a data-link-type="idl-name" href="https://fetch.spec.whatwg.org/#requestinfo" id="ref-for-requestinfo③"><c- n>RequestInfo</c-></a> <dfn class="idl-code" data-dfn-for="BackgroundFetchRegistration/match(request, options), BackgroundFetchRegistration/match(request)" data-dfn-type="argument" data-export id="dom-backgroundfetchregistration-match-request-options-request"><code><c- g>request</c-></code><a class="self-link" href="#dom-backgroundfetchregistration-match-request-options-request"></a></dfn>, <c- b>optional</c-> <a data-link-type="idl-name" href="https://w3c.github.io/ServiceWorker/#dictdef-cachequeryoptions" id="ref-for-dictdef-cachequeryoptions"><c- n>CacheQueryOptions</c-></a> <dfn class="idl-code" data-dfn-for="BackgroundFetchRegistration/match(request, options), BackgroundFetchRegistration/match(request)" data-dfn-type="argument" data-export id="dom-backgroundfetchregistration-match-request-options-options"><code><c- g>options</c-></code><a class="self-link" href="#dom-backgroundfetchregistration-match-request-options-options"></a></dfn> = {});
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise" id="ref-for-idl-promise⑤"><c- b>Promise</c-></a>&lt;<a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#idl-sequence" id="ref-for-idl-sequence③"><c- b>sequence</c-></a>&lt;<a data-link-type="idl-name" href="#backgroundfetchrecord" id="ref-for-backgroundfetchrecord②"><c- n>BackgroundFetchRecord</c-></a>>> <a class="idl-code" data-link-type="method" href="#dom-backgroundfetchregistration-matchall" id="ref-for-dom-backgroundfetchregistration-matchall"><c- g>matchAll</c-></a>(<c- b>optional</c-> <a data-link-type="idl-name" href="https://fetch.spec.whatwg.org/#requestinfo" id="ref-for-requestinfo④"><c- n>RequestInfo</c-></a> <dfn class="idl-code" data-dfn-for="BackgroundFetchRegistration/matchAll(request, options), BackgroundFetchRegistration/matchAll(request), BackgroundFetchRegistration/matchAll()" data-dfn-type="argument" data-export id="dom-backgroundfetchregistration-matchall-request-options-request"><code><c- g>request</c-></code><a class="self-link" href="#dom-backgroundfetchregistration-matchall-request-options-request"></a></dfn>, <c- b>optional</c-> <a data-link-type="idl-name" href="https://w3c.github.io/ServiceWorker/#dictdef-cachequeryoptions" id="ref-for-dictdef-cachequeryoptions①"><c- n>CacheQueryOptions</c-></a> <dfn class="idl-code" data-dfn-for="BackgroundFetchRegistration/matchAll(request, options), BackgroundFetchRegistration/matchAll(request), BackgroundFetchRegistration/matchAll()" data-dfn-type="argument" data-export id="dom-backgroundfetchregistration-matchall-request-options-options"><code><c- g>options</c-></code><a class="self-link" href="#dom-backgroundfetchregistration-matchall-request-options-options"></a></dfn> = {});
};

<c- b>enum</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="enum" data-export id="enumdef-backgroundfetchresult"><code><c- g>BackgroundFetchResult</c-></code></dfn> { <dfn class="idl-code" data-dfn-for="BackgroundFetchResult" data-dfn-type="enum-value" data-export id="dom-backgroundfetchresult"><code><c- s>""</c-></code><a class="self-link" href="#dom-backgroundfetchresult"></a></dfn>, <dfn class="idl-code" data-dfn-for="BackgroundFetchResult" data-dfn-type="enum-value" data-export id="dom-backgroundfetchresult-success"><code><c- s>"success"</c-></code><a class="self-link" href="#dom-backgroundfetchresult-success"></a></dfn>, <dfn class="idl-code" data-dfn-for="BackgroundFetchResult" data-dfn-type="enum-value" data-export id="dom-backgroundfetchresult-failure"><code><c- s>"failure"</c-></code><a class="self-link" href="#dom-backgroundfetchresult-failure"></a></dfn> };

<c- b>enum</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="enum" data-export id="enumdef-backgroundfetchfailurereason"><code><c- g>BackgroundFetchFailureReason</c-></code></dfn> {
  // The background fetch has not completed yet, or was successful.
  <dfn class="idl-code" data-dfn-for="BackgroundFetchFailureReason" data-dfn-type="enum-value" data-export id="dom-backgroundfetchfailurereason"><code><c- s>""</c-></code><a class="self-link" href="#dom-backgroundfetchfailurereason"></a></dfn>,
  // The operation was aborted by the user, or abort() was called.
  <dfn class="idl-code" data-dfn-for="BackgroundFetchFailureReason" data-dfn-type="enum-value" data-export id="dom-backgroundfetchfailurereason-aborted"><code><c- s>"aborted"</c-></code><a class="self-link" href="#dom-backgroundfetchfailurereason-aborted"></a></dfn>,
  // A response had a not-ok-status.
  <dfn class="idl-code" data-dfn-for="BackgroundFetchFailureReason" data-dfn-type="enum-value" data-export id="dom-backgroundfetchfailurereason-bad-status"><code><c- s>"bad-status"</c-></code><a class="self-link" href="#dom-backgroundfetchfailurereason-bad-status"></a></dfn>,
  // A fetch failed for other reasons, e.g. CORS, MIX, an invalid partial response,
  // or a general network failure for a fetch that cannot be retried.
  <dfn class="idl-code" data-dfn-for="BackgroundFetchFailureReason" data-dfn-type="enum-value" data-export id="dom-backgroundfetchfailurereason-fetch-error"><code><c- s>"fetch-error"</c-></code><a class="self-link" href="#dom-backgroundfetchfailurereason-fetch-error"></a></dfn>,
  // Storage quota was reached during the operation.
  <dfn class="idl-code" data-dfn-for="BackgroundFetchFailureReason" data-dfn-type="enum-value" data-export id="dom-backgroundfetchfailurereason-quota-exceeded"><code><c- s>"quota-exceeded"</c-></code><a class="self-link" href="#dom-backgroundfetchfailurereason-quota-exceeded"></a></dfn>,
  // The provided downloadTotal was exceeded.
  <dfn class="idl-code" data-dfn-for="BackgroundFetchFailureReason" data-dfn-type="enum-value" data-export id="dom-backgroundfetchfailurereason-download-total-exceeded"><code><c- s>"download-total-exceeded"</c-></code><a class="self-link" href="#dom-backgroundfetchfailurereason-download-total-exceeded"></a></dfn>
};
</pre>
   <div>
    <p>A <code class="idl"><a data-link-type="idl" href="#backgroundfetchregistration" id="ref-for-backgroundfetchregistration⑧">BackgroundFetchRegistration</a></code> instance has:</p>
    <ul>
     <li data-md>
      <p>A <dfn class="dfn-paneled" data-dfn-for="BackgroundFetchRegistration" data-dfn-type="dfn" data-noexport id="backgroundfetchregistration-background-fetch">background fetch</dfn> (a <a data-link-type="dfn" href="#background-fetch" id="ref-for-background-fetch①⑥">background fetch</a>).</p>
     <li data-md>
      <p>A <dfn class="dfn-paneled" data-dfn-for="BackgroundFetchRegistration" data-dfn-type="dfn" data-noexport id="backgroundfetchregistration-downloaded">downloaded</dfn> (a number), initially a copy of <a data-link-type="dfn" href="#backgroundfetchregistration-background-fetch" id="ref-for-backgroundfetchregistration-background-fetch②">background fetch</a>'s <a data-link-type="dfn" href="#background-fetch-stored-body-bytes-total" id="ref-for-background-fetch-stored-body-bytes-total③">stored body bytes total</a>.</p>
     <li data-md>
      <p>A <dfn class="dfn-paneled" data-dfn-for="BackgroundFetchRegistration" data-dfn-type="dfn" data-noexport id="backgroundfetchregistration-uploaded">uploaded</dfn> (a number), initially a copy of <a data-link-type="dfn" href="#backgroundfetchregistration-background-fetch" id="ref-for-backgroundfetchregistration-background-fetch③">background fetch</a>'s <a data-link-type="dfn" href="#background-fetch-uploaded" id="ref-for-background-fetch-uploaded③">uploaded</a>.</p>
     <li data-md>
      <p>A <dfn class="dfn-paneled" data-dfn-for="BackgroundFetchRegistration" data-dfn-type="dfn" data-noexport id="backgroundfetchregistration-result">result</dfn> (a <code class="idl"><a data-link-type="idl" href="#enumdef-backgroundfetchresult" id="ref-for-enumdef-backgroundfetchresult②">BackgroundFetchResult</a></code>), initially a copy of <a data-link-type="dfn" href="#backgroundfetchregistration-background-fetch" id="ref-for-backgroundfetchregistration-background-fetch④">background fetch</a>'s <a data-link-type="dfn" href="#background-fetch-result" id="ref-for-background-fetch-result⑥">result</a>.</p>
     <li data-md>
      <p>A <dfn class="dfn-paneled" data-dfn-for="BackgroundFetchRegistration" data-dfn-type="dfn" data-noexport id="backgroundfetchregistration-failure-reason">failure reason</dfn> (a <code class="idl"><a data-link-type="idl" href="#enumdef-backgroundfetchfailurereason" id="ref-for-enumdef-backgroundfetchfailurereason③">BackgroundFetchFailureReason</a></code>), initially a copy of <a data-link-type="dfn" href="#backgroundfetchregistration-background-fetch" id="ref-for-backgroundfetchregistration-background-fetch⑤">background fetch</a>'s <a data-link-type="dfn" href="#background-fetch-failure-reason" id="ref-for-background-fetch-failure-reason②">failure reason</a>.</p>
     <li data-md>
      <p>An <dfn class="dfn-paneled" data-dfn-for="BackgroundFetchRegistration" data-dfn-type="dfn" data-noexport id="backgroundfetchregistration-id">id</dfn> (a number), a copy of <a data-link-type="dfn" href="#backgroundfetchregistration-background-fetch" id="ref-for-backgroundfetchregistration-background-fetch⑥">background fetch</a>'s <a data-link-type="dfn" href="#background-fetch-id" id="ref-for-background-fetch-id③">id</a>.</p>
     <li data-md>
      <p>An <dfn class="dfn-paneled" data-dfn-for="BackgroundFetchRegistration" data-dfn-type="dfn" data-noexport id="backgroundfetchregistration-upload-total">upload total</dfn> (a number), a copy of <a data-link-type="dfn" href="#backgroundfetchregistration-background-fetch" id="ref-for-backgroundfetchregistration-background-fetch⑦">background fetch</a>'s <a data-link-type="dfn" href="#background-fetch-upload-total" id="ref-for-background-fetch-upload-total②">upload total</a>.</p>
     <li data-md>
      <p>A <dfn class="dfn-paneled" data-dfn-for="BackgroundFetchRegistration" data-dfn-type="dfn" data-noexport id="backgroundfetchregistration-download-total">download total</dfn> (a number), a copy of <a data-link-type="dfn" href="#backgroundfetchregistration-background-fetch" id="ref-for-backgroundfetchregistration-background-fetch⑧">background fetch</a>'s <a data-link-type="dfn" href="#background-fetch-download-total" id="ref-for-background-fetch-download-total③">download total</a>.</p>
     <li data-md>
      <p>A <dfn class="dfn-paneled" data-dfn-for="BackgroundFetchRegistration" data-dfn-type="dfn" data-noexport id="backgroundfetchregistration-records-available-flag">records available flag</dfn> initially set if <a data-link-type="dfn" href="#backgroundfetchregistration-background-fetch" id="ref-for-backgroundfetchregistration-background-fetch⑨">background fetch</a>'s <a data-link-type="dfn" href="#background-fetch-records-available-flag" id="ref-for-background-fetch-records-available-flag②">records available flag</a> is set, otherwise unset.</p>
    </ul>
    <p class="note" role="note"><span class="marker">Note:</span> The above values are copied so they’re available synchronously.</p>
    <div class="mdn-anno wrapped">
     <button class="mdn-anno-btn"><b class="less-than-two-engines-flag" title="This feature is in less than two current engines.">⚠</b><span>MDN</span></button>
     <div class="feature">
      <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/BackgroundFetchRegistration/id" title="The id read-only property of the BackgroundFetchRegistration interface returns a copy of the background fetch&apos;s ID.">BackgroundFetchRegistration/id</a></p>
      <p class="less-than-two-engines-text">In only one current engine.</p>
      <div class="support">
       <span class="firefox no"><span>Firefox</span><span>None</span></span><span class="safari no"><span>Safari</span><span>None</span></span><span class="chrome yes"><span>Chrome</span><span>74+</span></span>
       <hr>
       <span class="opera no"><span>Opera</span><span>?</span></span><span class="edge_blink yes"><span>Edge</span><span>79+</span></span>
       <hr>
       <span class="edge no"><span>Edge (Legacy)</span><span>?</span></span><span class="ie no"><span>IE</span><span>None</span></span>
       <hr>
       <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span class="webview_android no"><span>Android WebView</span><span>None</span></span><span class="samsunginternet_android no"><span>Samsung Internet</span><span>?</span></span><span class="opera_android no"><span>Opera Mobile</span><span>?</span></span>
      </div>
     </div>
    </div>
    <p>The <dfn class="dfn-paneled idl-code" data-dfn-for="BackgroundFetchRegistration" data-dfn-type="attribute" data-export id="dom-backgroundfetchregistration-id"><code>id</code></dfn> attribute’s getter must return the <a data-link-type="dfn">context object</a>'s <a data-link-type="dfn" href="#backgroundfetchregistration-id" id="ref-for-backgroundfetchregistration-id">id</a>.</p>
    <div class="mdn-anno wrapped">
     <button class="mdn-anno-btn"><b class="less-than-two-engines-flag" title="This feature is in less than two current engines.">⚠</b><span>MDN</span></button>
     <div class="feature">
      <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/BackgroundFetchRegistration/uploadTotal" title="The uploadTotal read-only property of the BackgroundFetchRegistration interface returns the total number of bytes to be sent to the server.">BackgroundFetchRegistration/uploadTotal</a></p>
      <p class="less-than-two-engines-text">In only one current engine.</p>
      <div class="support">
       <span class="firefox no"><span>Firefox</span><span>None</span></span><span class="safari no"><span>Safari</span><span>None</span></span><span class="chrome yes"><span>Chrome</span><span>74+</span></span>
       <hr>
       <span class="opera no"><span>Opera</span><span>?</span></span><span class="edge_blink yes"><span>Edge</span><span>79+</span></span>
       <hr>
       <span class="edge no"><span>Edge (Legacy)</span><span>?</span></span><span class="ie no"><span>IE</span><span>None</span></span>
       <hr>
       <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span class="webview_android no"><span>Android WebView</span><span>None</span></span><span class="samsunginternet_android no"><span>Samsung Internet</span><span>?</span></span><span class="opera_android no"><span>Opera Mobile</span><span>?</span></span>
      </div>
     </div>
    </div>
    <p>The <dfn class="dfn-paneled idl-code" data-dfn-for="BackgroundFetchRegistration" data-dfn-type="attribute" data-export id="dom-backgroundfetchregistration-uploadtotal"><code>uploadTotal</code></dfn> attribute’s getter must return the <a data-link-type="dfn">context object</a>'s <a data-link-type="dfn" href="#backgroundfetchregistration-upload-total" id="ref-for-backgroundfetchregistration-upload-total">upload total</a>.</p>
    <div class="mdn-anno wrapped">
     <button class="mdn-anno-btn"><b class="less-than-two-engines-flag" title="This feature is in less than two current engines.">⚠</b><span>MDN</span></button>
     <div class="feature">
      <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/BackgroundFetchRegistration/downloadTotal" title="The downloadTotal read-only property of the BackgroundFetchRegistration interface returns the total size in bytes of this download. This is set when the background fetch was registered, or 0 if not set.">BackgroundFetchRegistration/downloadTotal</a></p>
      <p class="less-than-two-engines-text">In only one current engine.</p>
      <div class="support">
       <span class="firefox no"><span>Firefox</span><span>None</span></span><span class="safari no"><span>Safari</span><span>None</span></span><span class="chrome yes"><span>Chrome</span><span>74+</span></span>
       <hr>
       <span class="opera no"><span>Opera</span><span>?</span></span><span class="edge_blink yes"><span>Edge</span><span>79+</span></span>
       <hr>
       <span class="edge no"><span>Edge (Legacy)</span><span>?</span></span><span class="ie no"><span>IE</span><span>None</span></span>
       <hr>
       <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span class="webview_android no"><span>Android WebView</span><span>None</span></span><span class="samsunginternet_android no"><span>Samsung Internet</span><span>?</span></span><span class="opera_android no"><span>Opera Mobile</span><span>?</span></span>
      </div>
     </div>
    </div>
    <p>The <dfn class="dfn-paneled idl-code" data-dfn-for="BackgroundFetchRegistration" data-dfn-type="attribute" data-export id="dom-backgroundfetchregistration-downloadtotal"><code>downloadTotal</code></dfn> attribute’s getter must return the <a data-link-type="dfn">context object</a>'s <a data-link-type="dfn" href="#backgroundfetchregistration-download-total" id="ref-for-backgroundfetchregistration-download-total">download total</a>.</p>
    <div class="mdn-anno wrapped">
     <button class="mdn-anno-btn"><b class="less-than-two-engines-flag" title="This feature is in less than two current engines.">⚠</b><span>MDN</span></button>
     <div class="feature">
      <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/BackgroundFetchRegistration/uploaded" title="The uploaded read-only property of the BackgroundFetchRegistration interface returns the size in bytes successfully sent, initially 0.">BackgroundFetchRegistration/uploaded</a></p>
      <p class="less-than-two-engines-text">In only one current engine.</p>
      <div class="support">
       <span class="firefox no"><span>Firefox</span><span>None</span></span><span class="safari no"><span>Safari</span><span>None</span></span><span class="chrome yes"><span>Chrome</span><span>74+</span></span>
       <hr>
       <span class="opera no"><span>Opera</span><span>?</span></span><span class="edge_blink yes"><span>Edge</span><span>79+</span></span>
       <hr>
       <span class="edge no"><span>Edge (Legacy)</span><span>?</span></span><span class="ie no"><span>IE</span><span>None</span></span>
       <hr>
       <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span class="webview_android no"><span>Android WebView</span><span>None</span></span><span class="samsunginternet_android no"><span>Samsung Internet</span><span>?</span></span><span class="opera_android no"><span>Opera Mobile</span><span>?</span></span>
      </div>
     </div>
    </div>
    <p>The <dfn class="dfn-paneled idl-code" data-dfn-for="BackgroundFetchRegistration" data-dfn-type="attribute" data-export id="dom-backgroundfetchregistration-uploaded"><code>uploaded</code></dfn> attribute’s getter must return the <a data-link-type="dfn">context object</a>'s <a data-link-type="dfn" href="#backgroundfetchregistration-uploaded" id="ref-for-backgroundfetchregistration-uploaded②">uploaded</a>.</p>
    <div class="mdn-anno wrapped">
     <button class="mdn-anno-btn"><b class="less-than-two-engines-flag" title="This feature is in less than two current engines.">⚠</b><span>MDN</span></button>
     <div class="feature">
      <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/BackgroundFetchRegistration/downloaded" title="The downloaded read-only property of the BackgroundFetchRegistration interface returns the size in bytes that has been downloaded, initially 0.">BackgroundFetchRegistration/downloaded</a></p>
      <p class="less-than-two-engines-text">In only one current engine.</p>
      <div class="support">
       <span class="firefox no"><span>Firefox</span><span>None</span></span><span class="safari no"><span>Safari</span><span>None</span></span><span class="chrome yes"><span>Chrome</span><span>74+</span></span>
       <hr>
       <span class="opera no"><span>Opera</span><span>?</span></span><span class="edge_blink yes"><span>Edge</span><span>79+</span></span>
       <hr>
       <span class="edge no"><span>Edge (Legacy)</span><span>?</span></span><span class="ie no"><span>IE</span><span>None</span></span>
       <hr>
       <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span class="webview_android no"><span>Android WebView</span><span>None</span></span><span class="samsunginternet_android no"><span>Samsung Internet</span><span>?</span></span><span class="opera_android no"><span>Opera Mobile</span><span>?</span></span>
      </div>
     </div>
    </div>
    <p>The <dfn class="dfn-paneled idl-code" data-dfn-for="BackgroundFetchRegistration" data-dfn-type="attribute" data-export id="dom-backgroundfetchregistration-downloaded"><code>downloaded</code></dfn> attribute’s getter must return the <a data-link-type="dfn">context object</a>'s <a data-link-type="dfn" href="#backgroundfetchregistration-downloaded" id="ref-for-backgroundfetchregistration-downloaded②">downloaded</a>.</p>
    <div class="mdn-anno wrapped">
     <button class="mdn-anno-btn"><b class="less-than-two-engines-flag" title="This feature is in less than two current engines.">⚠</b><span>MDN</span></button>
     <div class="feature">
      <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/BackgroundFetchRegistration/result" title="The result read-only property of the BackgroundFetchRegistration interface returns a string indicating whether the background fetch was successful or failed.">BackgroundFetchRegistration/result</a></p>
      <p class="less-than-two-engines-text">In only one current engine.</p>
      <div class="support">
       <span class="firefox no"><span>Firefox</span><span>None</span></span><span class="safari no"><span>Safari</span><span>None</span></span><span class="chrome yes"><span>Chrome</span><span>74+</span></span>
       <hr>
       <span class="opera no"><span>Opera</span><span>?</span></span><span class="edge_blink yes"><span>Edge</span><span>79+</span></span>
       <hr>
       <span class="edge no"><span>Edge (Legacy)</span><span>?</span></span><span class="ie no"><span>IE</span><span>None</span></span>
       <hr>
       <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span class="webview_android no"><span>Android WebView</span><span>None</span></span><span class="samsunginternet_android no"><span>Samsung Internet</span><span>?</span></span><span class="opera_android no"><span>Opera Mobile</span><span>?</span></span>
      </div>
     </div>
    </div>
    <p>The <dfn class="dfn-paneled idl-code" data-dfn-for="BackgroundFetchRegistration" data-dfn-type="attribute" data-export id="dom-backgroundfetchregistration-result"><code>result</code></dfn> attribute’s getter must return the <a data-link-type="dfn">context object</a>'s <a data-link-type="dfn" href="#backgroundfetchregistration-result" id="ref-for-backgroundfetchregistration-result③">result</a>.</p>
    <div class="mdn-anno wrapped">
     <button class="mdn-anno-btn"><b class="less-than-two-engines-flag" title="This feature is in less than two current engines.">⚠</b><span>MDN</span></button>
     <div class="feature">
      <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/BackgroundFetchRegistration/failureReason" title="The failureReason read-only property of the BackgroundFetchRegistration interface returns a string with a value that indicates a reason for a background fetch failure.">BackgroundFetchRegistration/failureReason</a></p>
      <p class="less-than-two-engines-text">In only one current engine.</p>
      <div class="support">
       <span class="firefox no"><span>Firefox</span><span>None</span></span><span class="safari no"><span>Safari</span><span>None</span></span><span class="chrome yes"><span>Chrome</span><span>74+</span></span>
       <hr>
       <span class="opera no"><span>Opera</span><span>?</span></span><span class="edge_blink yes"><span>Edge</span><span>79+</span></span>
       <hr>
       <span class="edge no"><span>Edge (Legacy)</span><span>?</span></span><span class="ie no"><span>IE</span><span>None</span></span>
       <hr>
       <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span class="webview_android no"><span>Android WebView</span><span>None</span></span><span class="samsunginternet_android no"><span>Samsung Internet</span><span>?</span></span><span class="opera_android no"><span>Opera Mobile</span><span>?</span></span>
      </div>
     </div>
    </div>
    <p>The <dfn class="dfn-paneled idl-code" data-dfn-for="BackgroundFetchRegistration" data-dfn-type="attribute" data-export id="dom-backgroundfetchregistration-failurereason"><code>failureReason</code></dfn> attribute’s getter must return the <a data-link-type="dfn">context object</a>'s <a data-link-type="dfn" href="#backgroundfetchregistration-failure-reason" id="ref-for-backgroundfetchregistration-failure-reason②">failure reason</a>.</p>
    <div class="mdn-anno wrapped">
     <button class="mdn-anno-btn"><b class="less-than-two-engines-flag" title="This feature is in less than two current engines.">⚠</b><span>MDN</span></button>
     <div class="feature">
      <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/BackgroundFetchRegistration/recordsAvailable" title="The recordsAvailable read-only property of the BackgroundFetchRegistration interface returns true if there are requests and responses to be accessed. If this returns false then match() and matchAll() can&apos;t be used.">BackgroundFetchRegistration/recordsAvailable</a></p>
      <p class="less-than-two-engines-text">In only one current engine.</p>
      <div class="support">
       <span class="firefox no"><span>Firefox</span><span>None</span></span><span class="safari no"><span>Safari</span><span>None</span></span><span class="chrome yes"><span>Chrome</span><span>74+</span></span>
       <hr>
       <span class="opera no"><span>Opera</span><span>?</span></span><span class="edge_blink yes"><span>Edge</span><span>79+</span></span>
       <hr>
       <span class="edge no"><span>Edge (Legacy)</span><span>?</span></span><span class="ie no"><span>IE</span><span>None</span></span>
       <hr>
       <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span class="webview_android no"><span>Android WebView</span><span>None</span></span><span class="samsunginternet_android no"><span>Samsung Internet</span><span>?</span></span><span class="opera_android no"><span>Opera Mobile</span><span>?</span></span>
      </div>
     </div>
    </div>
    <p>The <dfn class="dfn-paneled idl-code" data-dfn-for="BackgroundFetchRegistration" data-dfn-type="attribute" data-export id="dom-backgroundfetchregistration-recordsavailable"><code>recordsAvailable</code></dfn> attribute’s getter must return true if the <a data-link-type="dfn">context object</a>'s <a data-link-type="dfn" href="#backgroundfetchregistration-records-available-flag" id="ref-for-backgroundfetchregistration-records-available-flag②">records available flag</a> is set, otherwise false.</p>
    <h4 class="heading settled" data-level="6.4.1" id="background-fetch-registration-events"><span class="secno">6.4.1. </span><span class="content">Events</span><a class="self-link" href="#background-fetch-registration-events"></a></h4>
    <div class="mdn-anno wrapped after">
     <button class="mdn-anno-btn"><b class="less-than-two-engines-flag" title="This feature is in less than two current engines.">⚠</b><span>MDN</span></button>
     <div class="feature">
      <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/BackgroundFetchRegistration/progress_event" title="The progress event of the BackgroundFetchRegistration interface thrown when the associated background fetch progresses.">BackgroundFetchRegistration/progress_event</a></p>
      <p class="less-than-two-engines-text">In only one current engine.</p>
      <div class="support">
       <span class="firefox no"><span>Firefox</span><span>None</span></span><span class="safari no"><span>Safari</span><span>None</span></span><span class="chrome yes"><span>Chrome</span><span>74+</span></span>
       <hr>
       <span class="opera no"><span>Opera</span><span>?</span></span><span class="edge_blink yes"><span>Edge</span><span>79+</span></span>
       <hr>
       <span class="edge no"><span>Edge (Legacy)</span><span>?</span></span><span class="ie no"><span>IE</span><span>None</span></span>
       <hr>
       <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span class="webview_android no"><span>Android WebView</span><span>None</span></span><span class="samsunginternet_android no"><span>Samsung Internet</span><span>?</span></span><span class="opera_android no"><span>Opera Mobile</span><span>?</span></span>
      </div>
     </div>
    </div>
    <p>The <dfn class="dfn-paneled idl-code" data-dfn-for="BackgroundFetchRegistration" data-dfn-type="attribute" data-export id="dom-backgroundfetchregistration-onprogress"><code>onprogress</code></dfn> <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#event-handlers" id="ref-for-event-handlers②">event handler</a> has the <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#event-handler-event-type" id="ref-for-event-handler-event-type②">event handler event type</a> of <code class="idl"><a class="idl-code" data-link-type="event" href="#eventdef-backgroundfetchregistration-progress" id="ref-for-eventdef-backgroundfetchregistration-progress①">progress</a></code>.</p>
    <p>The <dfn class="dfn-paneled idl-code" data-dfn-for="BackgroundFetchRegistration" data-dfn-type="event" data-export id="eventdef-backgroundfetchregistration-progress"><code>progress</code></dfn> event uses the <code class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#event" id="ref-for-event">Event</a></code> interface.</p>
    <h4 class="heading settled" data-level="6.4.2" id="background-fetch-registration-abort"><span class="secno">6.4.2. </span><span class="content"><code class="idl"><a data-link-type="idl" href="#dom-backgroundfetchregistration-abort" id="ref-for-dom-backgroundfetchregistration-abort③">abort()</a></code></span><a class="self-link" href="#background-fetch-registration-abort"></a></h4>
    <div class="mdn-anno wrapped after">
     <button class="mdn-anno-btn"><b class="less-than-two-engines-flag" title="This feature is in less than two current engines.">⚠</b><span>MDN</span></button>
     <div class="feature">
      <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/BackgroundFetchRegistration/abort" title="The abort() method of the BackgroundFetchRegistration interface aborts an active background fetch.">BackgroundFetchRegistration/abort</a></p>
      <p class="less-than-two-engines-text">In only one current engine.</p>
      <div class="support">
       <span class="firefox no"><span>Firefox</span><span>None</span></span><span class="safari no"><span>Safari</span><span>None</span></span><span class="chrome yes"><span>Chrome</span><span>74+</span></span>
       <hr>
       <span class="opera no"><span>Opera</span><span>?</span></span><span class="edge_blink yes"><span>Edge</span><span>79+</span></span>
       <hr>
       <span class="edge no"><span>Edge (Legacy)</span><span>?</span></span><span class="ie no"><span>IE</span><span>None</span></span>
       <hr>
       <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span class="webview_android no"><span>Android WebView</span><span>None</span></span><span class="samsunginternet_android no"><span>Samsung Internet</span><span>?</span></span><span class="opera_android no"><span>Opera Mobile</span><span>?</span></span>
      </div>
     </div>
    </div>
    <div class="algorithm" data-algorithm="abort()">
      The <dfn class="dfn-paneled idl-code" data-dfn-for="BackgroundFetchRegistration" data-dfn-type="method" data-export id="dom-backgroundfetchregistration-abort"><code>abort()</code></dfn> method, when invoked, must return <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#a-new-promise" id="ref-for-a-new-promise⑤">a new promise</a> <var>promise</var> and run these steps <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/infrastructure.html#in-parallel" id="ref-for-in-parallel⑨">in parallel</a>: 
     <ol>
      <li data-md>
       <p>Let <var>bgFetch</var> be the <a data-link-type="dfn">context object</a>'s associated <a data-link-type="dfn" href="#backgroundfetchregistration-background-fetch" id="ref-for-backgroundfetchregistration-background-fetch①⓪">background fetch</a>.</p>
      <li data-md>
       <p>Let <var>swRegistration</var> be <var>bgFetch</var>’s <a data-link-type="dfn" href="#background-fetch-service-worker-registration" id="ref-for-background-fetch-service-worker-registration⑤">service worker registration</a>.</p>
      <li data-md>
       <p><a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/infrastructure.html#enqueue-the-following-steps" id="ref-for-enqueue-the-following-steps④">Enqueue the following steps</a> to <var>swRegistration</var>’s <a data-link-type="dfn" href="#service-worker-registration-active-background-fetches-edit-queue" id="ref-for-service-worker-registration-active-background-fetches-edit-queue②">active background fetches edit queue</a>:</p>
       <ol>
        <li data-md>
         <p>Let <var>activeBgFetches</var> be <var>swRegistration</var>’s <a data-link-type="dfn" href="#service-worker-registration-active-background-fetches" id="ref-for-service-worker-registration-active-background-fetches④">active background fetches</a>.</p>
        <li data-md>
         <p>Let <var>id</var> be <var>bgFetch</var>’s <a data-link-type="dfn" href="#background-fetch-id" id="ref-for-background-fetch-id④">id</a>.</p>
        <li data-md>
         <p>If <var>activeBgFetches</var> <a data-link-type="dfn" href="#does-not-contain-background-fetch" id="ref-for-does-not-contain-background-fetch">does not contain background fetch</a> <var>bgFetch</var>, then <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#resolve" id="ref-for-resolve⑥">resolve</a> <var>promise</var> with false and abort these steps.</p>
        <li data-md>
         <p>Remove <var>activeBgFetches</var>[<var>id</var>].</p>
        <li data-md>
         <p><a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#resolve" id="ref-for-resolve⑦">Resolve</a> <var>promise</var> with true.</p>
        <li data-md>
         <p>Set <var>bgFetch</var>’s <a data-link-type="dfn" href="#background-fetch-abort-all-flag" id="ref-for-background-fetch-abort-all-flag⑤">abort all flag</a>.</p>
       </ol>
     </ol>
    </div>
    <h4 class="heading settled" data-level="6.4.3" id="background-fetch-registration-match"><span class="secno">6.4.3. </span><span class="content"><code class="idl"><a data-link-type="idl" href="#dom-backgroundfetchregistration-match" id="ref-for-dom-backgroundfetchregistration-match①">match()</a></code></span><a class="self-link" href="#background-fetch-registration-match"></a></h4>
    <div class="mdn-anno wrapped after">
     <button class="mdn-anno-btn"><b class="less-than-two-engines-flag" title="This feature is in less than two current engines.">⚠</b><span>MDN</span></button>
     <div class="feature">
      <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/BackgroundFetchRegistration/match" title="The match() method of the BackgroundFetchRegistration interface returns the first matching BackgroundFetchRecord.">BackgroundFetchRegistration/match</a></p>
      <p class="less-than-two-engines-text">In only one current engine.</p>
      <div class="support">
       <span class="firefox no"><span>Firefox</span><span>None</span></span><span class="safari no"><span>Safari</span><span>None</span></span><span class="chrome yes"><span>Chrome</span><span>74+</span></span>
       <hr>
       <span class="opera no"><span>Opera</span><span>?</span></span><span class="edge_blink yes"><span>Edge</span><span>79+</span></span>
       <hr>
       <span class="edge no"><span>Edge (Legacy)</span><span>?</span></span><span class="ie no"><span>IE</span><span>None</span></span>
       <hr>
       <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span class="webview_android no"><span>Android WebView</span><span>None</span></span><span class="samsunginternet_android no"><span>Samsung Internet</span><span>?</span></span><span class="opera_android no"><span>Opera Mobile</span><span>?</span></span>
      </div>
     </div>
    </div>
    <div class="algorithm" data-algorithm="match(request, options)">
      The <dfn class="dfn-paneled idl-code" data-dfn-for="BackgroundFetchRegistration" data-dfn-type="method" data-export data-lt="match(request, options)|match(request)" id="dom-backgroundfetchregistration-match"><code>match(<var>request</var>, <var>options</var>)</code></dfn> method, when invoked, must run these steps: 
     <ol>
      <li data-md>
       <p>Let <var>promise</var> be the result of calling the algorithm <code class="idl"><a data-link-type="idl" href="#dom-backgroundfetchregistration-matchall" id="ref-for-dom-backgroundfetchregistration-matchall①">matchAll()</a></code> passing <var>request</var> and <var>options</var>.</p>
      <li data-md>
       <p>Return the result of <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#dfn-perform-steps-once-promise-is-settled" id="ref-for-dfn-perform-steps-once-promise-is-settled">reacting</a> to <var>promise</var> with a fulfilment handler that, when called with argument <var>matches</var>, returns <var>matches</var>[0].</p>
     </ol>
     <p class="note" role="note"><span class="marker">Note:</span> User agents are encouraged to optimise the above so it’s faster than calling <code class="idl"><a data-link-type="idl" href="#dom-backgroundfetchregistration-matchall" id="ref-for-dom-backgroundfetchregistration-matchall②">matchAll()</a></code>.</p>
    </div>
    <h4 class="heading settled" data-level="6.4.4" id="background-fetch-registration-match-all"><span class="secno">6.4.4. </span><span class="content"><code class="idl"><a data-link-type="idl" href="#dom-backgroundfetchregistration-matchall" id="ref-for-dom-backgroundfetchregistration-matchall③">matchAll()</a></code></span><a class="self-link" href="#background-fetch-registration-match-all"></a></h4>
    <div class="mdn-anno wrapped after">
     <button class="mdn-anno-btn"><b class="less-than-two-engines-flag" title="This feature is in less than two current engines.">⚠</b><span>MDN</span></button>
     <div class="feature">
      <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/BackgroundFetchRegistration/matchAll" title="The matchAll() method of the BackgroundFetchRegistration interface returns an array of matching BackgroundFetchRecord objects.">BackgroundFetchRegistration/matchAll</a></p>
      <p class="less-than-two-engines-text">In only one current engine.</p>
      <div class="support">
       <span class="firefox no"><span>Firefox</span><span>None</span></span><span class="safari no"><span>Safari</span><span>None</span></span><span class="chrome yes"><span>Chrome</span><span>74+</span></span>
       <hr>
       <span class="opera no"><span>Opera</span><span>?</span></span><span class="edge_blink yes"><span>Edge</span><span>79+</span></span>
       <hr>
       <span class="edge no"><span>Edge (Legacy)</span><span>?</span></span><span class="ie no"><span>IE</span><span>None</span></span>
       <hr>
       <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span class="webview_android no"><span>Android WebView</span><span>None</span></span><span class="samsunginternet_android no"><span>Samsung Internet</span><span>?</span></span><span class="opera_android no"><span>Opera Mobile</span><span>?</span></span>
      </div>
     </div>
    </div>
    <div class="algorithm" data-algorithm="matchAll(request, options)">
      The <dfn class="dfn-paneled idl-code" data-dfn-for="BackgroundFetchRegistration" data-dfn-type="method" data-export data-lt="matchAll(request, options)|matchAll(request)|matchAll()" id="dom-backgroundfetchregistration-matchall"><code>matchAll(<var>request</var>, <var>options</var>)</code></dfn> method, when invoked, must run these steps: 
     <ol>
      <li data-md>
       <p>If the <a data-link-type="dfn">context object</a>'s <a data-link-type="dfn" href="#backgroundfetchregistration-records-available-flag" id="ref-for-backgroundfetchregistration-records-available-flag③">records available flag</a> is unset, return <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#a-promise-rejected-with" id="ref-for-a-promise-rejected-with③">a promise rejected with</a> an <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#invalidstateerror" id="ref-for-invalidstateerror">InvalidStateError</a></code> <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-DOMException" id="ref-for-idl-DOMException⑤">DOMException</a></code>.</p>
      <li data-md>
       <p>Let <var>promise</var> be <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#a-new-promise" id="ref-for-a-new-promise⑥">a new promise</a>.</p>
      <li data-md>
       <p>Run these steps <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/infrastructure.html#in-parallel" id="ref-for-in-parallel①⓪">in parallel</a>:</p>
       <ol>
        <li data-md>
         <p>Let <var>matchingRecords</var> be an empty <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list" id="ref-for-list⑥">list</a>.</p>
        <li data-md>
         <p>For each <var>record</var> of <a data-link-type="dfn">context object</a>'s <a data-link-type="dfn" href="#backgroundfetchregistration-background-fetch" id="ref-for-backgroundfetchregistration-background-fetch①①">background fetch</a>'s <a data-link-type="dfn" href="#background-fetch-records" id="ref-for-background-fetch-records⑤">records</a>:</p>
         <ol>
          <li data-md>
           <p>If <a data-link-type="dfn" href="https://w3c.github.io/ServiceWorker/#request-matches-cached-item" id="ref-for-request-matches-cached-item">request matches cached item</a> for <var>request</var>, <var>record</var>’s <a data-link-type="dfn" href="#background-fetch-record-request" id="ref-for-background-fetch-record-request④">request</a>, <var>record</var>’s <a data-link-type="dfn" href="#background-fetch-record-response-data" id="ref-for-background-fetch-record-response-data⑤">response data</a>'s <a data-link-type="dfn" href="#background-fetch-response-response" id="ref-for-background-fetch-response-response⑤">response</a>, and <var>options</var> returns true, then <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-append" id="ref-for-list-append②">append</a> <var>record</var> to <var>matchingRecords</var>.</p>
         </ol>
        <li data-md>
         <p><a data-link-type="dfn" href="#queue-a-bgfetch-task" id="ref-for-queue-a-bgfetch-task③">Queue a bgfetch task</a> to <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#resolve" id="ref-for-resolve⑧">resolve</a> <var>promise</var> with the result of <a data-link-type="dfn" href="#create-record-objects" id="ref-for-create-record-objects②">creating record objects</a> from <var>matchingRecords</var> in the <a data-link-type="dfn">context object</a>'s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-realm" id="ref-for-concept-relevant-realm⑥">relevant Realm</a>.</p>
       </ol>
      <li data-md>
       <p>Return <var>promise</var>.</p>
     </ol>
    </div>
   </div>
   <h3 class="heading settled" data-level="6.5" id="background-fetch-record-interface"><span class="secno">6.5. </span><span class="content"><code class="idl"><a data-link-type="idl" href="#backgroundfetchrecord" id="ref-for-backgroundfetchrecord③">BackgroundFetchRecord</a></code></span><a class="self-link" href="#background-fetch-record-interface"></a></h3>
   <div class="mdn-anno wrapped after">
    <button class="mdn-anno-btn"><b class="less-than-two-engines-flag" title="This feature is in less than two current engines.">⚠</b><span>MDN</span></button>
    <div class="feature">
     <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/BackgroundFetchRecord" title="The BackgroundFetchRecord interface of the Background Fetch API represents an individual request and response.">BackgroundFetchRecord</a></p>
     <p class="less-than-two-engines-text">In only one current engine.</p>
     <div class="support">
      <span class="firefox no"><span>Firefox</span><span>None</span></span><span class="safari no"><span>Safari</span><span>None</span></span><span class="chrome yes"><span>Chrome</span><span>74+</span></span>
      <hr>
      <span class="opera no"><span>Opera</span><span>?</span></span><span class="edge_blink yes"><span>Edge</span><span>79+</span></span>
      <hr>
      <span class="edge no"><span>Edge (Legacy)</span><span>?</span></span><span class="ie no"><span>IE</span><span>None</span></span>
      <hr>
      <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span class="webview_android no"><span>Android WebView</span><span>None</span></span><span class="samsunginternet_android no"><span>Samsung Internet</span><span>?</span></span><span class="opera_android no"><span>Opera Mobile</span><span>?</span></span>
     </div>
    </div>
   </div>
<pre class="idl highlight def">[<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Exposed" id="ref-for-Exposed②"><c- g>Exposed</c-></a>=(<c- n>Window</c->,<c- n>Worker</c->)]
<c- b>interface</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="interface" data-export id="backgroundfetchrecord"><code><c- g>BackgroundFetchRecord</c-></code></dfn> {
  <c- b>readonly</c-> <c- b>attribute</c-> <a data-link-type="idl-name" href="https://fetch.spec.whatwg.org/#request" id="ref-for-request③"><c- n>Request</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="Request" href="#dom-backgroundfetchrecord-request" id="ref-for-dom-backgroundfetchrecord-request①"><c- g>request</c-></a>;
  <c- b>readonly</c-> <c- b>attribute</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise" id="ref-for-idl-promise⑥"><c- b>Promise</c-></a>&lt;<a data-link-type="idl-name" href="https://fetch.spec.whatwg.org/#response" id="ref-for-response②"><c- n>Response</c-></a>> <a class="idl-code" data-link-type="attribute" data-readonly data-type="Promise<Response>" href="#dom-backgroundfetchrecord-responseready" id="ref-for-dom-backgroundfetchrecord-responseready④"><c- g>responseReady</c-></a>;
};
</pre>
   <div>
     A <code class="idl"><a data-link-type="idl" href="#backgroundfetchrecord" id="ref-for-backgroundfetchrecord④">BackgroundFetchRecord</a></code> has: 
    <ul>
     <li data-md>
      <p>A <dfn class="dfn-paneled" data-dfn-for="BackgroundFetchRecord" data-dfn-type="dfn" data-noexport id="backgroundfetchrecord-request">request</dfn> (a <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-request" id="ref-for-concept-request②">request</a>).</p>
     <li data-md>
      <p>A <dfn class="dfn-paneled" data-dfn-for="BackgroundFetchRecord" data-dfn-type="dfn" data-noexport id="backgroundfetchrecord-response-promise">response promise</dfn> (a <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-promise" id="ref-for-idl-promise⑦">Promise</a></code> for a <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-response" id="ref-for-concept-response⑤">response</a>).</p>
    </ul>
    <div class="mdn-anno wrapped">
     <button class="mdn-anno-btn"><b class="less-than-two-engines-flag" title="This feature is in less than two current engines.">⚠</b><span>MDN</span></button>
     <div class="feature">
      <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/BackgroundFetchRecord/request" title="The request read-only property of the BackgroundFetchRecord interface returns the details of the resource to be fetched.">BackgroundFetchRecord/request</a></p>
      <p class="less-than-two-engines-text">In only one current engine.</p>
      <div class="support">
       <span class="firefox no"><span>Firefox</span><span>None</span></span><span class="safari no"><span>Safari</span><span>None</span></span><span class="chrome yes"><span>Chrome</span><span>74+</span></span>
       <hr>
       <span class="opera no"><span>Opera</span><span>?</span></span><span class="edge_blink yes"><span>Edge</span><span>79+</span></span>
       <hr>
       <span class="edge no"><span>Edge (Legacy)</span><span>?</span></span><span class="ie no"><span>IE</span><span>None</span></span>
       <hr>
       <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span class="webview_android no"><span>Android WebView</span><span>None</span></span><span class="samsunginternet_android no"><span>Samsung Internet</span><span>?</span></span><span class="opera_android no"><span>Opera Mobile</span><span>?</span></span>
      </div>
     </div>
    </div>
    <p>The <dfn class="dfn-paneled idl-code" data-dfn-for="BackgroundFetchRecord" data-dfn-type="attribute" data-export id="dom-backgroundfetchrecord-request"><code>request</code></dfn> attribute’s getter must return the <a data-link-type="dfn">context object</a>'s <a data-link-type="dfn" href="#backgroundfetchrecord-request" id="ref-for-backgroundfetchrecord-request">request</a>.</p>
    <div class="mdn-anno wrapped">
     <button class="mdn-anno-btn"><b class="less-than-two-engines-flag" title="This feature is in less than two current engines.">⚠</b><span>MDN</span></button>
     <div class="feature">
      <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/BackgroundFetchRecord/responseReady" title="The responseReady read-only property of the BackgroundFetchRecord interface returns a Promise that resolves with a Response.">BackgroundFetchRecord/responseReady</a></p>
      <p class="less-than-two-engines-text">In only one current engine.</p>
      <div class="support">
       <span class="firefox no"><span>Firefox</span><span>None</span></span><span class="safari no"><span>Safari</span><span>None</span></span><span class="chrome yes"><span>Chrome</span><span>74+</span></span>
       <hr>
       <span class="opera no"><span>Opera</span><span>?</span></span><span class="edge_blink yes"><span>Edge</span><span>79+</span></span>
       <hr>
       <span class="edge no"><span>Edge (Legacy)</span><span>?</span></span><span class="ie no"><span>IE</span><span>None</span></span>
       <hr>
       <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span class="webview_android no"><span>Android WebView</span><span>None</span></span><span class="samsunginternet_android no"><span>Samsung Internet</span><span>?</span></span><span class="opera_android no"><span>Opera Mobile</span><span>?</span></span>
      </div>
     </div>
    </div>
    <p>The <dfn class="dfn-paneled idl-code" data-dfn-for="BackgroundFetchRecord" data-dfn-type="attribute" data-export id="dom-backgroundfetchrecord-responseready"><code>responseReady</code></dfn> attribute’s getter must return the <a data-link-type="dfn">context object</a>'s <a data-link-type="dfn" href="#backgroundfetchrecord-response-promise" id="ref-for-backgroundfetchrecord-response-promise">response promise</a>.</p>
   </div>
   <h3 class="heading settled" data-level="6.6" id="background-fetch-event"><span class="secno">6.6. </span><span class="content"><code class="idl"><a data-link-type="idl" href="#backgroundfetchevent" id="ref-for-backgroundfetchevent④">BackgroundFetchEvent</a></code></span><a class="self-link" href="#background-fetch-event"></a></h3>
   <div class="mdn-anno wrapped after">
    <button class="mdn-anno-btn"><b class="less-than-two-engines-flag" title="This feature is in less than two current engines.">⚠</b><span>MDN</span></button>
    <div class="feature">
     <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/BackgroundFetchEvent" title="The BackgroundFetchEvent interface of the Background Fetch API is the event type for background fetch events dispatched on the service worker global scope.">BackgroundFetchEvent</a></p>
     <p class="less-than-two-engines-text">In only one current engine.</p>
     <div class="support">
      <span class="firefox no"><span>Firefox</span><span>None</span></span><span class="safari no"><span>Safari</span><span>None</span></span><span class="chrome yes"><span>Chrome</span><span>74+</span></span>
      <hr>
      <span class="opera no"><span>Opera</span><span>?</span></span><span class="edge_blink yes"><span>Edge</span><span>79+</span></span>
      <hr>
      <span class="edge no"><span>Edge (Legacy)</span><span>?</span></span><span class="ie no"><span>IE</span><span>None</span></span>
      <hr>
      <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span class="webview_android no"><span>Android WebView</span><span>None</span></span><span class="samsunginternet_android no"><span>Samsung Internet</span><span>?</span></span><span class="opera_android no"><span>Opera Mobile</span><span>?</span></span>
     </div>
    </div>
   </div>
   <div class="mdn-anno wrapped">
    <button class="mdn-anno-btn"><b class="less-than-two-engines-flag" title="This feature is in less than two current engines.">⚠</b><span>MDN</span></button>
    <div class="feature">
     <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/BackgroundFetchEvent/BackgroundFetchEvent" title="The BackgroundFetchEvent() constructor creates a new BackgroundFetchEvent object. This constructor is not typically used as the browser creates these objects itself and provides them to background fetch event callbacks.">BackgroundFetchEvent/BackgroundFetchEvent</a></p>
     <p class="less-than-two-engines-text">In only one current engine.</p>
     <div class="support">
      <span class="firefox no"><span>Firefox</span><span>None</span></span><span class="safari no"><span>Safari</span><span>None</span></span><span class="chrome yes"><span>Chrome</span><span>74+</span></span>
      <hr>
      <span class="opera no"><span>Opera</span><span>?</span></span><span class="edge_blink yes"><span>Edge</span><span>79+</span></span>
      <hr>
      <span class="edge no"><span>Edge (Legacy)</span><span>?</span></span><span class="ie no"><span>IE</span><span>None</span></span>
      <hr>
      <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span class="webview_android no"><span>Android WebView</span><span>None</span></span><span class="samsunginternet_android no"><span>Samsung Internet</span><span>?</span></span><span class="opera_android no"><span>Opera Mobile</span><span>?</span></span>
     </div>
    </div>
   </div>
<pre class="idl highlight def">[<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Exposed" id="ref-for-Exposed③"><c- g>Exposed</c-></a>=<c- n>ServiceWorker</c->]
<c- b>interface</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="interface" data-export id="backgroundfetchevent"><code><c- g>BackgroundFetchEvent</c-></code></dfn> : <a data-link-type="idl-name" href="https://w3c.github.io/ServiceWorker/#extendableevent" id="ref-for-extendableevent"><c- n>ExtendableEvent</c-></a> {
  <dfn class="idl-code" data-dfn-for="BackgroundFetchEvent" data-dfn-type="constructor" data-export data-lt="BackgroundFetchEvent(type, init)|constructor(type, init)" id="dom-backgroundfetchevent-backgroundfetchevent"><code><c- g>constructor</c-></code><a class="self-link" href="#dom-backgroundfetchevent-backgroundfetchevent"></a></dfn>(<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString" id="ref-for-idl-DOMString⑤"><c- b>DOMString</c-></a> <dfn class="idl-code" data-dfn-for="BackgroundFetchEvent/BackgroundFetchEvent(type, init), BackgroundFetchEvent/constructor(type, init)" data-dfn-type="argument" data-export id="dom-backgroundfetchevent-backgroundfetchevent-type-init-type"><code><c- g>type</c-></code><a class="self-link" href="#dom-backgroundfetchevent-backgroundfetchevent-type-init-type"></a></dfn>, <a data-link-type="idl-name" href="#dictdef-backgroundfetcheventinit" id="ref-for-dictdef-backgroundfetcheventinit"><c- n>BackgroundFetchEventInit</c-></a> <dfn class="idl-code" data-dfn-for="BackgroundFetchEvent/BackgroundFetchEvent(type, init), BackgroundFetchEvent/constructor(type, init)" data-dfn-type="argument" data-export id="dom-backgroundfetchevent-backgroundfetchevent-type-init-init"><code><c- g>init</c-></code><a class="self-link" href="#dom-backgroundfetchevent-backgroundfetchevent-type-init-init"></a></dfn>);
  <c- b>readonly</c-> <c- b>attribute</c-> <a data-link-type="idl-name" href="#backgroundfetchregistration" id="ref-for-backgroundfetchregistration⑨"><c- n>BackgroundFetchRegistration</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="BackgroundFetchRegistration" href="#dom-backgroundfetchevent-registration" id="ref-for-dom-backgroundfetchevent-registration②"><c- g>registration</c-></a>;
};

<c- b>dictionary</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="dictionary" data-export id="dictdef-backgroundfetcheventinit"><code><c- g>BackgroundFetchEventInit</c-></code></dfn> : <a data-link-type="idl-name" href="https://w3c.github.io/ServiceWorker/#dictdef-extendableeventinit" id="ref-for-dictdef-extendableeventinit"><c- n>ExtendableEventInit</c-></a> {
  <c- b>required</c-> <a data-link-type="idl-name" href="#backgroundfetchregistration" id="ref-for-backgroundfetchregistration①⓪"><c- n>BackgroundFetchRegistration</c-></a> <dfn class="idl-code" data-dfn-for="BackgroundFetchEventInit" data-dfn-type="dict-member" data-export data-type="BackgroundFetchRegistration " id="dom-backgroundfetcheventinit-registration"><code><c- g>registration</c-></code><a class="self-link" href="#dom-backgroundfetcheventinit-registration"></a></dfn>;
};
</pre>
   <div>
     A <code class="idl"><a data-link-type="idl" href="#backgroundfetchevent" id="ref-for-backgroundfetchevent⑤">BackgroundFetchEvent</a></code> has a <dfn class="dfn-paneled" data-dfn-for="BackgroundFetchEvent" data-dfn-type="dfn" data-noexport id="backgroundfetchevent-background-fetch">background fetch</dfn> (a <a data-link-type="dfn" href="#background-fetch" id="ref-for-background-fetch①⑦">background fetch</a>), initially the <a data-link-type="dfn" href="#backgroundfetchregistration-background-fetch" id="ref-for-backgroundfetchregistration-background-fetch①②">background fetch</a> of the value <code class="idl"><a data-link-type="idl" href="#dom-backgroundfetchevent-registration" id="ref-for-dom-backgroundfetchevent-registration③">registration</a></code> was initialized to. 
    <div class="mdn-anno wrapped">
     <button class="mdn-anno-btn"><b class="less-than-two-engines-flag" title="This feature is in less than two current engines.">⚠</b><span>MDN</span></button>
     <div class="feature">
      <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/BackgroundFetchEvent/registration" title="The registration read-only property of the BackgroundFetchEvent interface returns a BackgroundFetchRegistration object.">BackgroundFetchEvent/registration</a></p>
      <p class="less-than-two-engines-text">In only one current engine.</p>
      <div class="support">
       <span class="firefox no"><span>Firefox</span><span>None</span></span><span class="safari no"><span>Safari</span><span>None</span></span><span class="chrome yes"><span>Chrome</span><span>74+</span></span>
       <hr>
       <span class="opera no"><span>Opera</span><span>?</span></span><span class="edge_blink yes"><span>Edge</span><span>79+</span></span>
       <hr>
       <span class="edge no"><span>Edge (Legacy)</span><span>?</span></span><span class="ie no"><span>IE</span><span>None</span></span>
       <hr>
       <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span class="webview_android no"><span>Android WebView</span><span>None</span></span><span class="samsunginternet_android no"><span>Samsung Internet</span><span>?</span></span><span class="opera_android no"><span>Opera Mobile</span><span>?</span></span>
      </div>
     </div>
    </div>
    <p>The <dfn class="dfn-paneled idl-code" data-dfn-for="BackgroundFetchEvent" data-dfn-type="attribute" data-export id="dom-backgroundfetchevent-registration"><code>registration</code></dfn> attribute must return the value it was initialized to.</p>
   </div>
   <h3 class="heading settled" data-level="6.7" id="background-fetch-update-ui-event"><span class="secno">6.7. </span><span class="content"><code class="idl"><a data-link-type="idl" href="#backgroundfetchupdateuievent" id="ref-for-backgroundfetchupdateuievent④">BackgroundFetchUpdateUIEvent</a></code></span><a class="self-link" href="#background-fetch-update-ui-event"></a></h3>
   <div class="mdn-anno wrapped after">
    <button class="mdn-anno-btn"><b class="less-than-two-engines-flag" title="This feature is in less than two current engines.">⚠</b><span>MDN</span></button>
    <div class="feature">
     <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/BackgroundFetchUpdateUIEvent" title="The BackgroundFetchUpdateUIEvent interface of the Background Fetch API is an event type for the backgroundfetchsuccess and backgroundfetchfail events, and provides a method for updating the title and icon of the app to inform a user of the success or failure of a background fetch.">BackgroundFetchUpdateUIEvent</a></p>
     <p class="less-than-two-engines-text">In only one current engine.</p>
     <div class="support">
      <span class="firefox no"><span>Firefox</span><span>None</span></span><span class="safari no"><span>Safari</span><span>None</span></span><span class="chrome yes"><span>Chrome</span><span>74+</span></span>
      <hr>
      <span class="opera no"><span>Opera</span><span>?</span></span><span class="edge_blink yes"><span>Edge</span><span>79+</span></span>
      <hr>
      <span class="edge no"><span>Edge (Legacy)</span><span>?</span></span><span class="ie no"><span>IE</span><span>None</span></span>
      <hr>
      <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span class="webview_android no"><span>Android WebView</span><span>None</span></span><span class="samsunginternet_android no"><span>Samsung Internet</span><span>?</span></span><span class="opera_android no"><span>Opera Mobile</span><span>?</span></span>
     </div>
    </div>
   </div>
   <div class="mdn-anno wrapped">
    <button class="mdn-anno-btn"><b class="less-than-two-engines-flag" title="This feature is in less than two current engines.">⚠</b><span>MDN</span></button>
    <div class="feature">
     <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/BackgroundFetchUpdateUIEvent/BackgroundFetchUpdateUIEvent" title="The BackgroundFetchUpdateUIEvent() constructor creates a new BackgroundFetchUpdateUIEvent object. This constructor is not typically used as the browser creates these objects itself and provides them to background fetch event callbacks.">BackgroundFetchUpdateUIEvent/BackgroundFetchUpdateUIEvent</a></p>
     <p class="less-than-two-engines-text">In only one current engine.</p>
     <div class="support">
      <span class="firefox no"><span>Firefox</span><span>None</span></span><span class="safari no"><span>Safari</span><span>None</span></span><span class="chrome yes"><span>Chrome</span><span>74+</span></span>
      <hr>
      <span class="opera no"><span>Opera</span><span>?</span></span><span class="edge_blink yes"><span>Edge</span><span>79+</span></span>
      <hr>
      <span class="edge no"><span>Edge (Legacy)</span><span>?</span></span><span class="ie no"><span>IE</span><span>None</span></span>
      <hr>
      <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span class="webview_android no"><span>Android WebView</span><span>None</span></span><span class="samsunginternet_android no"><span>Samsung Internet</span><span>?</span></span><span class="opera_android no"><span>Opera Mobile</span><span>?</span></span>
     </div>
    </div>
   </div>
<pre class="idl highlight def">[<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Exposed" id="ref-for-Exposed④"><c- g>Exposed</c-></a>=<c- n>ServiceWorker</c->]
<c- b>interface</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="interface" data-export id="backgroundfetchupdateuievent"><code><c- g>BackgroundFetchUpdateUIEvent</c-></code></dfn> : <a data-link-type="idl-name" href="#backgroundfetchevent" id="ref-for-backgroundfetchevent⑥"><c- n>BackgroundFetchEvent</c-></a> {
  <dfn class="idl-code" data-dfn-for="BackgroundFetchUpdateUIEvent" data-dfn-type="constructor" data-export data-lt="BackgroundFetchUpdateUIEvent(type, init)|constructor(type, init)" id="dom-backgroundfetchupdateuievent-backgroundfetchupdateuievent"><code><c- g>constructor</c-></code><a class="self-link" href="#dom-backgroundfetchupdateuievent-backgroundfetchupdateuievent"></a></dfn>(<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString" id="ref-for-idl-DOMString⑥"><c- b>DOMString</c-></a> <dfn class="idl-code" data-dfn-for="BackgroundFetchUpdateUIEvent/BackgroundFetchUpdateUIEvent(type, init), BackgroundFetchUpdateUIEvent/constructor(type, init)" data-dfn-type="argument" data-export id="dom-backgroundfetchupdateuievent-backgroundfetchupdateuievent-type-init-type"><code><c- g>type</c-></code><a class="self-link" href="#dom-backgroundfetchupdateuievent-backgroundfetchupdateuievent-type-init-type"></a></dfn>, <a data-link-type="idl-name" href="#dictdef-backgroundfetcheventinit" id="ref-for-dictdef-backgroundfetcheventinit①"><c- n>BackgroundFetchEventInit</c-></a> <dfn class="idl-code" data-dfn-for="BackgroundFetchUpdateUIEvent/BackgroundFetchUpdateUIEvent(type, init), BackgroundFetchUpdateUIEvent/constructor(type, init)" data-dfn-type="argument" data-export id="dom-backgroundfetchupdateuievent-backgroundfetchupdateuievent-type-init-init"><code><c- g>init</c-></code><a class="self-link" href="#dom-backgroundfetchupdateuievent-backgroundfetchupdateuievent-type-init-init"></a></dfn>);
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise" id="ref-for-idl-promise⑧"><c- b>Promise</c-></a>&lt;<a data-link-type="idl-name"><c- n>void</c-></a>> <a class="idl-code" data-link-type="method" href="#dom-backgroundfetchupdateuievent-updateui" id="ref-for-dom-backgroundfetchupdateuievent-updateui"><c- g>updateUI</c-></a>(<c- b>optional</c-> <a data-link-type="idl-name" href="#dictdef-backgroundfetchuioptions" id="ref-for-dictdef-backgroundfetchuioptions①"><c- n>BackgroundFetchUIOptions</c-></a> <dfn class="idl-code" data-dfn-for="BackgroundFetchUpdateUIEvent/updateUI(options), BackgroundFetchUpdateUIEvent/updateUI()" data-dfn-type="argument" data-export id="dom-backgroundfetchupdateuievent-updateui-options-options"><code><c- g>options</c-></code><a class="self-link" href="#dom-backgroundfetchupdateuievent-updateui-options-options"></a></dfn> = {});
};
</pre>
   <div>
    <p>A <code class="idl"><a data-link-type="idl" href="#backgroundfetchupdateuievent" id="ref-for-backgroundfetchupdateuievent⑤">BackgroundFetchUpdateUIEvent</a></code> has an <dfn class="dfn-paneled" data-dfn-for="BackgroundFetchUpdateUIEvent" data-dfn-type="dfn" data-noexport id="backgroundfetchupdateuievent-ui-updated-flag">UI updated flag</dfn> which is initially unset.</p>
    <h4 class="heading settled" data-level="6.7.1" id="background-fetch-update-ui-event-update-ui"><span class="secno">6.7.1. </span><span class="content"><code class="idl"><a data-link-type="idl" href="#dom-backgroundfetchupdateuievent-updateui" id="ref-for-dom-backgroundfetchupdateuievent-updateui①">updateUI()</a></code></span><a class="self-link" href="#background-fetch-update-ui-event-update-ui"></a></h4>
    <div class="mdn-anno wrapped after">
     <button class="mdn-anno-btn"><b class="less-than-two-engines-flag" title="This feature is in less than two current engines.">⚠</b><span>MDN</span></button>
     <div class="feature">
      <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/BackgroundFetchUpdateUIEvent/updateUI" title="The updateUI() method of the BackgroundFetchUpdateUIEvent interface updates the title and icon in the user interface to show the status of a background fetch.">BackgroundFetchUpdateUIEvent/updateUI</a></p>
      <p class="less-than-two-engines-text">In only one current engine.</p>
      <div class="support">
       <span class="firefox no"><span>Firefox</span><span>None</span></span><span class="safari no"><span>Safari</span><span>None</span></span><span class="chrome yes"><span>Chrome</span><span>74+</span></span>
       <hr>
       <span class="opera no"><span>Opera</span><span>?</span></span><span class="edge_blink yes"><span>Edge</span><span>79+</span></span>
       <hr>
       <span class="edge no"><span>Edge (Legacy)</span><span>?</span></span><span class="ie no"><span>IE</span><span>None</span></span>
       <hr>
       <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span class="webview_android no"><span>Android WebView</span><span>None</span></span><span class="samsunginternet_android no"><span>Samsung Internet</span><span>?</span></span><span class="opera_android no"><span>Opera Mobile</span><span>?</span></span>
      </div>
     </div>
    </div>
    <div class="algorithm" data-algorithm="updateUI(options)">
      The <dfn class="dfn-paneled idl-code" data-dfn-for="BackgroundFetchUpdateUIEvent" data-dfn-type="method" data-export data-lt="updateUI(options)|updateUI()" id="dom-backgroundfetchupdateuievent-updateui"><code>updateUI(<var>options</var>)</code></dfn> method, when invoked, must return <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#a-new-promise" id="ref-for-a-new-promise⑦">a new promise</a> <var>promise</var> and run these steps <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/infrastructure.html#in-parallel" id="ref-for-in-parallel①①">in parallel</a>: 
     <ol>
      <li data-md>
       <p>If any of the following is true:</p>
       <ul>
        <li data-md>
         <p>The <a data-link-type="dfn">context object</a>'s <code class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#dom-event-istrusted" id="ref-for-dom-event-istrusted">isTrusted</a></code> attribute is false.</p>
        <li data-md>
         <p>The <a data-link-type="dfn">context object</a>'s <a data-link-type="dfn" href="#backgroundfetchupdateuievent-ui-updated-flag" id="ref-for-backgroundfetchupdateuievent-ui-updated-flag">UI updated flag</a> is set.</p>
        <li data-md>
         <p>The <a data-link-type="dfn">context object</a> is not <a data-link-type="dfn" href="https://w3c.github.io/ServiceWorker/#extendableevent-active" id="ref-for-extendableevent-active①">active</a>.</p>
         <p class="issue" id="issue-b420dc4f①"><a class="self-link" href="#issue-b420dc4f①"></a> <a href="https://github.com/w3c/ServiceWorker/pull/1348">ServiceWorker/1348</a>.</p>
       </ul>
       <p>Throw an <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#invalidstateerror" id="ref-for-invalidstateerror①">InvalidStateError</a></code> <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-DOMException" id="ref-for-idl-DOMException⑥">DOMException</a></code>.</p>
      <li data-md>
       <p>Set the <a data-link-type="dfn">context object</a>'s <a data-link-type="dfn" href="#backgroundfetchupdateuievent-ui-updated-flag" id="ref-for-backgroundfetchupdateuievent-ui-updated-flag①">UI updated flag</a>.</p>
      <li data-md>
       <p>If <var>options</var> is null, return.</p>
      <li data-md>
       <p>Let <var>bgFetch</var> be the <a data-link-type="dfn">context object</a>'s <a data-link-type="dfn" href="#backgroundfetchevent-background-fetch" id="ref-for-backgroundfetchevent-background-fetch">background fetch</a>.</p>
      <li data-md>
       <p>If <var>options</var>’s <code class="idl"><a data-link-type="idl" href="#dom-backgroundfetchuioptions-icons" id="ref-for-dom-backgroundfetchuioptions-icons">icons</a></code> member is present, set <var>bgFetch</var>’s <a data-link-type="dfn" href="#background-fetch-icons" id="ref-for-background-fetch-icons②">icons</a> to <var>options</var>’s <code class="idl"><a data-link-type="idl" href="#dom-backgroundfetchuioptions-icons" id="ref-for-dom-backgroundfetchuioptions-icons①">icons</a></code>.</p>
      <li data-md>
       <p>If <var>options</var>’s <code class="idl"><a data-link-type="idl" href="#dom-backgroundfetchuioptions-title" id="ref-for-dom-backgroundfetchuioptions-title">title</a></code> member is present, set <var>bgFetch</var>’s <a data-link-type="dfn" href="#background-fetch-title" id="ref-for-background-fetch-title②">title</a> to <var>options</var>’s <code class="idl"><a data-link-type="idl" href="#dom-backgroundfetchuioptions-title" id="ref-for-dom-backgroundfetchuioptions-title①">title</a></code>.</p>
      <li data-md>
       <p><a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#resolve" id="ref-for-resolve⑨">Resolve</a> <var>promise</var>.</p>
     </ol>
    </div>
   </div>
   <h2 class="heading settled" data-level="7" id="automation"><span class="secno">7. </span><span class="content">Automation</span><a class="self-link" href="#automation"></a></h2>
   <p>For the purposes of user-agent automation and application testing, this document defines the following <a data-link-type="dfn" href="https://w3c.github.io/webdriver/#dfn-extension-command" id="ref-for-dfn-extension-command">extension command</a> for the <a data-link-type="biblio" href="#biblio-webdriver" title="WebDriver">[WebDriver]</a> specification.</p>
   <h3 class="heading settled" data-level="7.1" id="automation-click"><span class="secno">7.1. </span><span class="content"><a data-link-type="dfn" href="#background-fetch-click" id="ref-for-background-fetch-click">Click</a></span><a class="self-link" href="#automation-click"></a></h3>
   <div class="algorithm" data-algorithm="background fetch click">
    <table>
     <tbody>
      <tr>
       <th><a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-request-method" id="ref-for-concept-request-method⑥">Method</a>
       <th><a data-link-type="dfn" href="https://w3c.github.io/webdriver/#dfn-extension-command-uri-template" id="ref-for-dfn-extension-command-uri-template">URI Template</a>
      <tr>
       <td>POST
       <td>/session/{session id}/backgroundfetch/{<var>id</var>}/click
    </table>
    <p>The <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="background-fetch-click">background fetch click</dfn> <a data-link-type="dfn" href="https://w3c.github.io/webdriver/#dfn-extension-command" id="ref-for-dfn-extension-command①">extension command</a> simulates the user activating the <a data-link-type="dfn" href="#background-fetch-display" id="ref-for-background-fetch-display②">display</a> of a <a data-link-type="dfn" href="#background-fetch" id="ref-for-background-fetch①⑧">background fetch</a>. The <a data-link-type="dfn" href="https://w3c.github.io/webdriver/#dfn-remote-end-steps" id="ref-for-dfn-remote-end-steps">remote end steps</a> are:</p>
    <ol>
     <li data-md>
      <p>If the <a data-link-type="dfn" href="https://w3c.github.io/webdriver/#dfn-current-top-level-browsing-context" id="ref-for-dfn-current-top-level-browsing-context">current top-level browsing context</a> is <a data-link-type="dfn" href="https://w3c.github.io/webdriver/#dfn-no-longer-open" id="ref-for-dfn-no-longer-open">no longer open</a>, then return a <a data-link-type="dfn" href="https://w3c.github.io/webdriver/#dfn-errors" id="ref-for-dfn-errors">WebDriver error</a> with <a data-link-type="dfn" href="https://w3c.github.io/webdriver/#dfn-error-code" id="ref-for-dfn-error-code">WebDriver error code</a> <a data-link-type="dfn" href="https://w3c.github.io/webdriver/#dfn-no-such-window" id="ref-for-dfn-no-such-window">no such window</a>.</p>
     <li data-md>
      <p>Let <var>pageURL</var> be the <a data-link-type="dfn" href="https://w3c.github.io/webdriver/#dfn-current-top-level-browsing-context" id="ref-for-dfn-current-top-level-browsing-context①">current top-level browsing context</a>'s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/document-sequences.html#nav-document" id="ref-for-nav-document">active document</a>'s <a data-link-type="dfn" href="https://dom.spec.whatwg.org/#concept-document-url" id="ref-for-concept-document-url">URL</a>.</p>
     <li data-md>
      <p>Let <var>swRegistration</var> be the <a data-link-type="dfn" href="https://w3c.github.io/ServiceWorker/#match-service-worker-registration" id="ref-for-match-service-worker-registration">matching service worker registration</a> for <var>pageURL</var>.</p>
     <li data-md>
      <p>If <var>swRegistration</var> is null, then return a <a data-link-type="dfn" href="https://w3c.github.io/webdriver/#dfn-errors" id="ref-for-dfn-errors①">WebDriver error</a> with <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-response-status" id="ref-for-concept-response-status⑥">status</a> <code>400</code> and JSON error code "<code>invalid service worker state</code>".</p>
     <li data-md>
      <p>Let <var>bgFetch</var> be the newest <a data-link-type="dfn" href="#background-fetch" id="ref-for-background-fetch①⑨">background fetch</a> with an <a data-link-type="dfn" href="#background-fetch-id" id="ref-for-background-fetch-id⑤">id</a> of <a data-link-type="dfn" href="https://w3c.github.io/webdriver/#dfn-url-variables" id="ref-for-dfn-url-variables">url variable</a> <var>id</var> and a <a data-link-type="dfn" href="#background-fetch-service-worker-registration" id="ref-for-background-fetch-service-worker-registration⑥">service worker registration</a> of <var>swRegistration</var>, or null if none exists.</p>
     <li data-md>
      <p>If <var>bgFetch</var> is null, then return a <a data-link-type="dfn" href="https://w3c.github.io/webdriver/#dfn-errors" id="ref-for-dfn-errors②">WebDriver error</a> with <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-response-status" id="ref-for-concept-response-status⑦">status</a> <code>404</code> and JSON error code "<code>background fetch not found</code>".</p>
     <li data-md>
      <p><a data-link-type="dfn" href="#fire-a-background-fetch-click-event" id="ref-for-fire-a-background-fetch-click-event②">Fire a background fetch click event</a> for <var>bgFetch</var>.</p>
     <li data-md>
      <p>Return <a data-link-type="dfn" href="https://w3c.github.io/webdriver/#dfn-success" id="ref-for-dfn-success">WebDriver success</a>.</p>
    </ol>
   </div>
   <h2 class="heading settled" data-level="8" id="privacy-and-bandwidth-use"><span class="secno">8. </span><span class="content">Privacy and bandwidth usage</span><a class="self-link" href="#privacy-and-bandwidth-use"></a></h2>
   <p>Fetches can be large and take a long time to complete. During this time the user will be fetching data from one or more servers. The user’s IP address, which may change during the operation, could be used to track the user’s location over time.</p>
   <p>To mitigate this, the steps for <a data-link-type="dfn" href="#background-fetch-display" id="ref-for-background-fetch-display③">displaying</a> a <a data-link-type="dfn" href="#background-fetch" id="ref-for-background-fetch②⓪">background fetch</a> require:</p>
   <ul>
    <li data-md>
     <p>Displaying the <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url-origin" id="ref-for-concept-url-origin②">origin</a> of the site making the fetch.</p>
    <li data-md>
     <p>The UI cannot be dismissed while the <a data-link-type="dfn" href="#background-fetch" id="ref-for-background-fetch②①">background fetch</a> is active.</p>
    <li data-md>
     <p>Allowing the operation to be easily aborted.</p>
    <li data-md>
     <p>Allowing the operation to start in a paused state, requiring user interaction to begin.</p>
   </ul>
   <p>The steps also allow a user agent to pause the <a data-link-type="dfn" href="#background-fetch" id="ref-for-background-fetch②②">background fetch</a> if the user is on a metered connection.</p>
   <p>All data stored is associated with a particular <a data-link-type="dfn" href="https://w3c.github.io/ServiceWorker/#dfn-service-worker-registration" id="ref-for-dfn-service-worker-registration④">service worker registration</a>. Clearing a <a data-link-type="dfn" href="https://w3c.github.io/ServiceWorker/#dfn-service-worker-registration" id="ref-for-dfn-service-worker-registration⑤">service worker registration</a> will clear all associated <a data-link-type="dfn" href="#background-fetch" id="ref-for-background-fetch②③">background fetches</a>.</p>
  </main>
  <div data-fill-with="conformance">
   <h2 class="no-ref no-num heading settled" id="w3c-conformance"><span class="content">Conformance</span><a class="self-link" href="#w3c-conformance"></a></h2>
   <h3 class="no-ref no-num heading settled" id="w3c-conventions"><span class="content">Document conventions</span><a class="self-link" href="#w3c-conventions"></a></h3>
   <p>Conformance requirements are expressed
    with a combination of descriptive assertions
    and RFC 2119 terminology.
    The key words “MUST”, “MUST NOT”, “REQUIRED”, “SHALL”, “SHALL NOT”, “SHOULD”, “SHOULD NOT”, “RECOMMENDED”, “MAY”, and “OPTIONAL”
    in the normative parts of this document
    are to be interpreted as described in RFC 2119.
    However, for readability,
    these words do not appear in all uppercase letters in this specification. </p>
   <p>All of the text of this specification is normative
    except sections explicitly marked as non-normative, examples, and notes. <a data-link-type="biblio" href="#biblio-rfc2119" title="Key words for use in RFCs to Indicate Requirement Levels">[RFC2119]</a> </p>
   <p>Examples in this specification are introduced with the words “for example”
    or are set apart from the normative text
    with <code>class="example"</code>,
    like this: </p>
   <div class="example" id="w3c-example">
    <a class="self-link" href="#w3c-example"></a> 
    <p>This is an example of an informative example. </p>
   </div>
   <p>Informative notes begin with the word “Note”
    and are set apart from the normative text
    with <code>class="note"</code>,
    like this: </p>
   <p class="note" role="note">Note, this is an informative note.</p>
   <h3 class="no-ref no-num heading settled" id="w3c-conformant-algorithms"><span class="content">Conformant Algorithms</span><a class="self-link" href="#w3c-conformant-algorithms"></a></h3>
   <p>Requirements phrased in the imperative as part of algorithms
    (such as "strip any leading space characters"
    or "return false and abort these steps")
    are to be interpreted with the meaning of the key word
    ("must", "should", "may", etc)
    used in introducing the algorithm. </p>
   <p>Conformance requirements phrased as algorithms or specific steps
    can be implemented in any manner,
    so long as the end result is equivalent.
    In particular, the algorithms defined in this specification
    are intended to be easy to understand
    and are not intended to be performant.
    Implementers are encouraged to optimize. </p>
  </div>
<script src="https://www.w3.org/scripts/TR/2021/fixup.js"></script>
  <h2 class="no-num no-ref heading settled" id="index"><span class="content">Index</span><a class="self-link" href="#index"></a></h2>
  <h3 class="no-num no-ref heading settled" id="index-defined-here"><span class="content">Terms defined by this specification</span><a class="self-link" href="#index-defined-here"></a></h3>
  <ul class="index">
   <li>
    ""
    <ul>
     <li><a href="#dom-backgroundfetchfailurereason">enum-value for BackgroundFetchFailureReason</a><span>, in § 6.4</span>
     <li><a href="#dom-backgroundfetchresult">enum-value for BackgroundFetchResult</a><span>, in § 6.4</span>
    </ul>
   <li><a href="#dom-backgroundfetchregistration-abort">abort()</a><span>, in § 6.4.2</span>
   <li><a href="#background-fetch-abort-all-flag">abort all flag</a><span>, in § 3.2</span>
   <li><a href="#dom-backgroundfetchfailurereason-aborted">"aborted"</a><span>, in § 6.4</span>
   <li><a href="#service-worker-registration-active-background-fetches">Active background fetches</a><span>, in § 3.1</span>
   <li><a href="#service-worker-registration-active-background-fetches-edit-queue">active background fetches edit queue</a><span>, in § 3.1</span>
   <li>
    background fetch
    <ul>
     <li><a href="#background-fetch">definition of</a><span>, in § 3.2</span>
     <li><a href="#backgroundfetchevent-background-fetch">dfn for BackgroundFetchEvent</a><span>, in § 6.6</span>
     <li><a href="#backgroundfetchregistration-background-fetch">dfn for BackgroundFetchRegistration</a><span>, in § 6.4</span>
    </ul>
   <li><a href="#dom-serviceworkerregistration-backgroundfetch">backgroundFetch</a><span>, in § 6.2</span>
   <li><a href="#eventdef-serviceworkerglobalscope-backgroundfetchabort">backgroundfetchabort</a><span>, in § 6.1.1</span>
   <li><a href="#background-fetch-click">background fetch click</a><span>, in § 7.1</span>
   <li><a href="#eventdef-serviceworkerglobalscope-backgroundfetchclick">backgroundfetchclick</a><span>, in § 6.1.1</span>
   <li><a href="#backgroundfetchevent">BackgroundFetchEvent</a><span>, in § 6.6</span>
   <li><a href="#dictdef-backgroundfetcheventinit">BackgroundFetchEventInit</a><span>, in § 6.6</span>
   <li><a href="#dom-backgroundfetchevent-backgroundfetchevent">BackgroundFetchEvent(type, init)</a><span>, in § 6.6</span>
   <li><a href="#eventdef-serviceworkerglobalscope-backgroundfetchfail">backgroundfetchfail</a><span>, in § 6.1.1</span>
   <li><a href="#enumdef-backgroundfetchfailurereason">BackgroundFetchFailureReason</a><span>, in § 6.4</span>
   <li><a href="#serviceworkerregistration-background-fetch-manager">background fetch manager</a><span>, in § 6.2</span>
   <li><a href="#backgroundfetchmanager">BackgroundFetchManager</a><span>, in § 6.3</span>
   <li><a href="#dictdef-backgroundfetchoptions">BackgroundFetchOptions</a><span>, in § 6.3</span>
   <li><a href="#background-fetch-record">background fetch record</a><span>, in § 3.3</span>
   <li><a href="#backgroundfetchrecord">BackgroundFetchRecord</a><span>, in § 6.5</span>
   <li><a href="#backgroundfetchregistration">BackgroundFetchRegistration</a><span>, in § 6.4</span>
   <li><a href="#backgroundfetchmanager-backgroundfetchregistration-instances">BackgroundFetchRegistration instances</a><span>, in § 6.3</span>
   <li><a href="#background-fetch-response">Background fetch response</a><span>, in § 3.4</span>
   <li><a href="#enumdef-backgroundfetchresult">BackgroundFetchResult</a><span>, in § 6.4</span>
   <li><a href="#eventdef-serviceworkerglobalscope-backgroundfetchsuccess">backgroundfetchsuccess</a><span>, in § 6.1.1</span>
   <li><a href="#background-fetch-task-source">background fetch task source</a><span>, in § 3</span>
   <li><a href="#dictdef-backgroundfetchuioptions">BackgroundFetchUIOptions</a><span>, in § 6.3</span>
   <li><a href="#backgroundfetchupdateuievent">BackgroundFetchUpdateUIEvent</a><span>, in § 6.7</span>
   <li><a href="#dom-backgroundfetchupdateuievent-backgroundfetchupdateuievent">BackgroundFetchUpdateUIEvent(type, init)</a><span>, in § 6.7</span>
   <li><a href="#dom-backgroundfetchfailurereason-bad-status">"bad-status"</a><span>, in § 6.4</span>
   <li><a href="#background-fetch-response-bytes">Bytes</a><span>, in § 3.4</span>
   <li><a href="#complete-a-record">complete a record</a><span>, in § 4.2</span>
   <li>
    constructor(type, init)
    <ul>
     <li><a href="#dom-backgroundfetchevent-backgroundfetchevent">constructor for BackgroundFetchEvent</a><span>, in § 6.6</span>
     <li><a href="#dom-backgroundfetchupdateuievent-backgroundfetchupdateuievent">constructor for BackgroundFetchUpdateUIEvent</a><span>, in § 6.7</span>
    </ul>
   <li><a href="#contains-background-fetch">contains background fetch</a><span>, in § 4.9</span>
   <li><a href="#create-record-objects">create record objects</a><span>, in § 4.8</span>
   <li><a href="#create-record-objects">creating record objects</a><span>, in § 4.8</span>
   <li><a href="#background-fetch-display">display</a><span>, in § 3.2.1</span>
   <li><a href="#does-not-contain-background-fetch">does not contain background fetch</a><span>, in § 4.9</span>
   <li>
    downloaded
    <ul>
     <li><a href="#dom-backgroundfetchregistration-downloaded">attribute for BackgroundFetchRegistration</a><span>, in § 6.4</span>
     <li><a href="#backgroundfetchregistration-downloaded">dfn for BackgroundFetchRegistration</a><span>, in § 6.4</span>
    </ul>
   <li>
    download total
    <ul>
     <li><a href="#backgroundfetchregistration-download-total">dfn for BackgroundFetchRegistration</a><span>, in § 6.4</span>
     <li><a href="#background-fetch-download-total">dfn for background fetch</a><span>, in § 3.2</span>
    </ul>
   <li>
    downloadTotal
    <ul>
     <li><a href="#dom-backgroundfetchregistration-downloadtotal">attribute for BackgroundFetchRegistration</a><span>, in § 6.4</span>
     <li><a href="#dom-backgroundfetchoptions-downloadtotal">dict-member for BackgroundFetchOptions</a><span>, in § 6.3</span>
    </ul>
   <li><a href="#dom-backgroundfetchfailurereason-download-total-exceeded">"download-total-exceeded"</a><span>, in § 6.4</span>
   <li><a href="#background-fetch-response-exposed">exposed</a><span>, in § 3.4</span>
   <li><a href="#extract-content-range-values">extract content-range values</a><span>, in § 4.7</span>
   <li><a href="#extract-content-range-values">extracting content-range values</a><span>, in § 4.7</span>
   <li><a href="#dom-backgroundfetchresult-failure">"failure"</a><span>, in § 6.4</span>
   <li>
    failure reason
    <ul>
     <li><a href="#backgroundfetchregistration-failure-reason">dfn for BackgroundFetchRegistration</a><span>, in § 6.4</span>
     <li><a href="#background-fetch-failure-reason">dfn for background fetch</a><span>, in § 3.2</span>
    </ul>
   <li><a href="#dom-backgroundfetchregistration-failurereason">failureReason</a><span>, in § 6.4</span>
   <li><a href="#dom-backgroundfetchfailurereason-fetch-error">"fetch-error"</a><span>, in § 6.4</span>
   <li><a href="#dom-backgroundfetchmanager-fetch">fetch(id, requests)</a><span>, in § 6.3.1</span>
   <li><a href="#dom-backgroundfetchmanager-fetch">fetch(id, requests, options)</a><span>, in § 6.3.1</span>
   <li><a href="#fire-a-background-fetch-click-event">fire a background fetch click event</a><span>, in § 4.4</span>
   <li><a href="#get-a-backgroundfetchregistration-instance">get a BackgroundFetchRegistration instance</a><span>, in § 4.5</span>
   <li><a href="#dom-backgroundfetchmanager-get">get(id)</a><span>, in § 6.3.2</span>
   <li><a href="#dom-backgroundfetchmanager-getids">getIds()</a><span>, in § 6.3.3</span>
   <li><a href="#get-a-backgroundfetchregistration-instance">getting a BackgroundFetchRegistration instance</a><span>, in § 4.5</span>
   <li><a href="#background-fetch-icons">Icons</a><span>, in § 3.2</span>
   <li><a href="#dom-backgroundfetchuioptions-icons">icons</a><span>, in § 6.3</span>
   <li>
    id
    <ul>
     <li><a href="#dom-backgroundfetchregistration-id">attribute for BackgroundFetchRegistration</a><span>, in § 6.4</span>
     <li><a href="#backgroundfetchregistration-id">dfn for BackgroundFetchRegistration</a><span>, in § 6.4</span>
     <li><a href="#background-fetch-id">dfn for background fetch</a><span>, in § 3.2</span>
    </ul>
   <li><a href="#dom-backgroundfetchregistration-matchall">matchAll()</a><span>, in § 6.4.4</span>
   <li><a href="#dom-backgroundfetchregistration-matchall">matchAll(request)</a><span>, in § 6.4.4</span>
   <li><a href="#dom-backgroundfetchregistration-matchall">matchAll(request, options)</a><span>, in § 6.4.4</span>
   <li><a href="#dom-backgroundfetchregistration-match">match(request)</a><span>, in § 6.4.3</span>
   <li><a href="#dom-backgroundfetchregistration-match">match(request, options)</a><span>, in § 6.4.3</span>
   <li><a href="#dom-serviceworkerglobalscope-onbackgroundfetchabort">onbackgroundfetchabort</a><span>, in § 6.1</span>
   <li><a href="#dom-serviceworkerglobalscope-onbackgroundfetchclick">onbackgroundfetchclick</a><span>, in § 6.1</span>
   <li><a href="#dom-serviceworkerglobalscope-onbackgroundfetchfail">onbackgroundfetchfail</a><span>, in § 6.1</span>
   <li><a href="#dom-serviceworkerglobalscope-onbackgroundfetchsuccess">onbackgroundfetchsuccess</a><span>, in § 6.1</span>
   <li><a href="#dom-backgroundfetchregistration-onprogress">onprogress</a><span>, in § 6.4.1</span>
   <li><a href="#background-fetch-paused-flag">paused flag</a><span>, in § 3.2</span>
   <li><a href="#perform-a-background-fetch">perform a background fetch</a><span>, in § 4.1</span>
   <li><a href="#eventdef-backgroundfetchregistration-progress">progress</a><span>, in § 6.4.1</span>
   <li><a href="#queue-a-bgfetch-task">queue a bgfetch task</a><span>, in § 3</span>
   <li><a href="#dom-backgroundfetchfailurereason-quota-exceeded">"quota-exceeded"</a><span>, in § 6.4</span>
   <li><a href="#background-fetch-records">Records</a><span>, in § 3.2</span>
   <li><a href="#dom-backgroundfetchregistration-recordsavailable">recordsAvailable</a><span>, in § 6.4</span>
   <li>
    records available flag
    <ul>
     <li><a href="#backgroundfetchregistration-records-available-flag">dfn for BackgroundFetchRegistration</a><span>, in § 6.4</span>
     <li><a href="#background-fetch-records-available-flag">dfn for background fetch</a><span>, in § 3.2</span>
    </ul>
   <li>
    registration
    <ul>
     <li><a href="#dom-backgroundfetchevent-registration">attribute for BackgroundFetchEvent</a><span>, in § 6.6</span>
     <li><a href="#dom-backgroundfetcheventinit-registration">dict-member for BackgroundFetchEventInit</a><span>, in § 6.6</span>
    </ul>
   <li>
    request
    <ul>
     <li><a href="#dom-backgroundfetchrecord-request">attribute for BackgroundFetchRecord</a><span>, in § 6.5</span>
     <li><a href="#backgroundfetchrecord-request">dfn for BackgroundFetchRecord</a><span>, in § 6.5</span>
     <li><a href="#background-fetch-record-request">dfn for background fetch record</a><span>, in § 3.3</span>
    </ul>
   <li><a href="#background-fetch-response-response">response</a><span>, in § 3.4</span>
   <li><a href="#background-fetch-record-response-data">response data</a><span>, in § 3.3</span>
   <li><a href="#backgroundfetchrecord-response-promise">response promise</a><span>, in § 6.5</span>
   <li><a href="#dom-backgroundfetchrecord-responseready">responseReady</a><span>, in § 6.5</span>
   <li>
    result
    <ul>
     <li><a href="#dom-backgroundfetchregistration-result">attribute for BackgroundFetchRegistration</a><span>, in § 6.4</span>
     <li><a href="#backgroundfetchregistration-result">dfn for BackgroundFetchRegistration</a><span>, in § 6.4</span>
     <li><a href="#background-fetch-result">dfn for background fetch</a><span>, in § 3.2</span>
     <li><a href="#background-fetch-response-result">dfn for background fetch response</a><span>, in § 3.4</span>
    </ul>
   <li>
    service worker registration
    <ul>
     <li><a href="#backgroundfetchmanager-service-worker-registration">dfn for BackgroundFetchManager</a><span>, in § 6.3</span>
     <li><a href="#background-fetch-service-worker-registration">dfn for background fetch</a><span>, in § 3.2</span>
    </ul>
   <li><a href="#single-byte-content-range">single byte content-range</a><span>, in § 5</span>
   <li><a href="#background-fetch-stored-body-bytes-total">stored body bytes total</a><span>, in § 3.2</span>
   <li><a href="#dom-backgroundfetchresult-success">"success"</a><span>, in § 6.4</span>
   <li><a href="#temporarily-unavailable">temporarily unavailable</a><span>, in § 3</span>
   <li>
    title
    <ul>
     <li><a href="#background-fetch-title">dfn for background fetch</a><span>, in § 3.2</span>
     <li><a href="#dom-backgroundfetchuioptions-title">dict-member for BackgroundFetchUIOptions</a><span>, in § 6.3</span>
    </ul>
   <li><a href="#backgroundfetchupdateuievent-ui-updated-flag">UI updated flag</a><span>, in § 6.7</span>
   <li><a href="#update-background-fetch-instances">update background fetch instances</a><span>, in § 4.3</span>
   <li><a href="#background-fetch-update-handling-queue">update handling queue</a><span>, in § 3.2</span>
   <li><a href="#dom-backgroundfetchupdateuievent-updateui">updateUI()</a><span>, in § 6.7.1</span>
   <li><a href="#dom-backgroundfetchupdateuievent-updateui">updateUI(options)</a><span>, in § 6.7.1</span>
   <li>
    uploaded
    <ul>
     <li><a href="#dom-backgroundfetchregistration-uploaded">attribute for BackgroundFetchRegistration</a><span>, in § 6.4</span>
     <li><a href="#backgroundfetchregistration-uploaded">dfn for BackgroundFetchRegistration</a><span>, in § 6.4</span>
     <li><a href="#background-fetch-uploaded">dfn for background fetch</a><span>, in § 3.2</span>
    </ul>
   <li>
    upload total
    <ul>
     <li><a href="#backgroundfetchregistration-upload-total">dfn for BackgroundFetchRegistration</a><span>, in § 6.4</span>
     <li><a href="#background-fetch-upload-total">dfn for background fetch</a><span>, in § 3.2</span>
    </ul>
   <li><a href="#dom-backgroundfetchregistration-uploadtotal">uploadTotal</a><span>, in § 6.4</span>
   <li><a href="#validate-a-partial-response">validate a partial response</a><span>, in § 4.6</span>
  </ul>
  <aside aria-labelledby="infopaneltitle-for-term-for-section-7" class="dfn-panel" data-for="term-for-section-7" id="infopanel-for-term-for-section-7" role="menu">
   <span id="infopaneltitle-for-term-for-section-7" style="display:none">Info about the 'http abnf' external reference.</span><a href="https://tools.ietf.org/html/rfc7230#section-7">https://tools.ietf.org/html/rfc7230#section-7</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-section-7">5. Header syntax</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-term-for-event" class="dfn-panel" data-for="term-for-event" id="infopanel-for-term-for-event" role="menu">
   <span id="infopaneltitle-for-term-for-event" style="display:none">Info about the 'Event' external reference.</span><a href="https://dom.spec.whatwg.org/#event">https://dom.spec.whatwg.org/#event</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-event">6.4.1. Events</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-term-for-eventtarget" class="dfn-panel" data-for="term-for-eventtarget" id="infopanel-for-term-for-eventtarget" role="menu">
   <span id="infopaneltitle-for-term-for-eventtarget" style="display:none">Info about the 'EventTarget' external reference.</span><a href="https://dom.spec.whatwg.org/#eventtarget">https://dom.spec.whatwg.org/#eventtarget</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-eventtarget">6.4. BackgroundFetchRegistration</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-term-for-concept-event-fire" class="dfn-panel" data-for="term-for-concept-event-fire" id="infopanel-for-term-for-concept-event-fire" role="menu">
   <span id="infopaneltitle-for-term-for-concept-event-fire" style="display:none">Info about the 'fire an event' external reference.</span><a href="https://dom.spec.whatwg.org/#concept-event-fire">https://dom.spec.whatwg.org/#concept-event-fire</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-concept-event-fire">4.3. Update background fetch instances</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-term-for-dom-event-istrusted" class="dfn-panel" data-for="term-for-dom-event-istrusted" id="infopanel-for-term-for-dom-event-istrusted" role="menu">
   <span id="infopaneltitle-for-term-for-dom-event-istrusted" style="display:none">Info about the 'isTrusted' external reference.</span><a href="https://dom.spec.whatwg.org/#dom-event-istrusted">https://dom.spec.whatwg.org/#dom-event-istrusted</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-event-istrusted">6.7.1. updateUI()</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-term-for-concept-document-url" class="dfn-panel" data-for="term-for-concept-document-url" id="infopanel-for-term-for-concept-document-url" role="menu">
   <span id="infopaneltitle-for-term-for-concept-document-url" style="display:none">Info about the 'url' external reference.</span><a href="https://dom.spec.whatwg.org/#concept-document-url">https://dom.spec.whatwg.org/#concept-document-url</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-concept-document-url">7.1. Click</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-term-for-realm" class="dfn-panel" data-for="term-for-realm" id="infopanel-for-term-for-realm" role="menu">
   <span id="infopaneltitle-for-term-for-realm" style="display:none">Info about the 'realm' external reference.</span><a href="https://tc39.github.io/ecma262/#realm">https://tc39.github.io/ecma262/#realm</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-realm">4.5. Get a BackgroundFetchRegistration instance</a>
    <li><a href="#ref-for-realm①">4.8. Create record objects</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-term-for-headers" class="dfn-panel" data-for="term-for-headers" id="infopanel-for-term-for-headers" role="menu">
   <span id="infopaneltitle-for-term-for-headers" style="display:none">Info about the 'Headers' external reference.</span><a href="https://fetch.spec.whatwg.org/#headers">https://fetch.spec.whatwg.org/#headers</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-headers">4.8. Create record objects</a> <a href="#ref-for-headers①">(2)</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-term-for-request" class="dfn-panel" data-for="term-for-request" id="infopanel-for-term-for-request" role="menu">
   <span id="infopaneltitle-for-term-for-request" style="display:none">Info about the 'Request' external reference.</span><a href="https://fetch.spec.whatwg.org/#request">https://fetch.spec.whatwg.org/#request</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-request">4.8. Create record objects</a> <a href="#ref-for-request①">(2)</a>
    <li><a href="#ref-for-request②">6.3.1. fetch()</a>
    <li><a href="#ref-for-request③">6.5. BackgroundFetchRecord</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-term-for-requestinfo" class="dfn-panel" data-for="term-for-requestinfo" id="infopanel-for-term-for-requestinfo" role="menu">
   <span id="infopaneltitle-for-term-for-requestinfo" style="display:none">Info about the 'RequestInfo' external reference.</span><a href="https://fetch.spec.whatwg.org/#requestinfo">https://fetch.spec.whatwg.org/#requestinfo</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-requestinfo">6.3. BackgroundFetchManager</a> <a href="#ref-for-requestinfo①">(2)</a>
    <li><a href="#ref-for-requestinfo②">6.3.1. fetch()</a>
    <li><a href="#ref-for-requestinfo③">6.4. BackgroundFetchRegistration</a> <a href="#ref-for-requestinfo④">(2)</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-term-for-response" class="dfn-panel" data-for="term-for-response" id="infopanel-for-term-for-response" role="menu">
   <span id="infopaneltitle-for-term-for-response" style="display:none">Info about the 'Response' external reference.</span><a href="https://fetch.spec.whatwg.org/#response">https://fetch.spec.whatwg.org/#response</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-response">4.8. Create record objects</a> <a href="#ref-for-response①">(2)</a>
    <li><a href="#ref-for-response②">6.5. BackgroundFetchRecord</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-term-for-concept-aborted-network-error" class="dfn-panel" data-for="term-for-concept-aborted-network-error" id="infopanel-for-term-for-concept-aborted-network-error" role="menu">
   <span id="infopaneltitle-for-term-for-concept-aborted-network-error" style="display:none">Info about the 'aborted network error' external reference.</span><a href="https://fetch.spec.whatwg.org/#concept-aborted-network-error">https://fetch.spec.whatwg.org/#concept-aborted-network-error</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-concept-aborted-network-error">4.2. Complete a record</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-term-for-concept-request-add-range-header" class="dfn-panel" data-for="term-for-concept-request-add-range-header" id="infopanel-for-term-for-concept-request-add-range-header" role="menu">
   <span id="infopaneltitle-for-term-for-concept-request-add-range-header" style="display:none">Info about the 'add a range header' external reference.</span><a href="https://fetch.spec.whatwg.org/#concept-request-add-range-header">https://fetch.spec.whatwg.org/#concept-request-add-range-header</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-concept-request-add-range-header">4.2. Complete a record</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-term-for-concept-body" class="dfn-panel" data-for="term-for-concept-body" id="infopanel-for-term-for-concept-body" role="menu">
   <span id="infopaneltitle-for-term-for-concept-body" style="display:none">Info about the 'body' external reference.</span><a href="https://fetch.spec.whatwg.org/#concept-body">https://fetch.spec.whatwg.org/#concept-body</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-concept-body">4.8. Create record objects</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-term-for-concept-request-body" class="dfn-panel" data-for="term-for-concept-request-body" id="infopanel-for-term-for-concept-request-body" role="menu">
   <span id="infopaneltitle-for-term-for-concept-request-body" style="display:none">Info about the 'body (for request)' external reference.</span><a href="https://fetch.spec.whatwg.org/#concept-request-body">https://fetch.spec.whatwg.org/#concept-request-body</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-concept-request-body">4.2. Complete a record</a>
    <li><a href="#ref-for-concept-request-body①">4.8. Create record objects</a>
    <li><a href="#ref-for-concept-request-body②">6.3.1. fetch()</a> <a href="#ref-for-concept-request-body③">(2)</a> <a href="#ref-for-concept-request-body④">(3)</a> <a href="#ref-for-concept-request-body⑤">(4)</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-term-for-concept-response-body" class="dfn-panel" data-for="term-for-concept-response-body" id="infopanel-for-term-for-concept-response-body" role="menu">
   <span id="infopaneltitle-for-term-for-concept-response-body" style="display:none">Info about the 'body (for response)' external reference.</span><a href="https://fetch.spec.whatwg.org/#concept-response-body">https://fetch.spec.whatwg.org/#concept-response-body</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-concept-response-body">4.2. Complete a record</a> <a href="#ref-for-concept-response-body①">(2)</a>
    <li><a href="#ref-for-concept-response-body②">4.8. Create record objects</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-term-for-concept-request-client" class="dfn-panel" data-for="term-for-concept-request-client" id="infopanel-for-term-for-concept-request-client" role="menu">
   <span id="infopaneltitle-for-term-for-concept-request-client" style="display:none">Info about the 'client' external reference.</span><a href="https://fetch.spec.whatwg.org/#concept-request-client">https://fetch.spec.whatwg.org/#concept-request-client</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-concept-request-client">3.2.1. Display</a>
    <li><a href="#ref-for-concept-request-client①">6.3.1. fetch()</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-term-for-concept-header-list-combine" class="dfn-panel" data-for="term-for-concept-header-list-combine" id="infopanel-for-term-for-concept-header-list-combine" role="menu">
   <span id="infopaneltitle-for-term-for-concept-header-list-combine" style="display:none">Info about the 'combine' external reference.</span><a href="https://fetch.spec.whatwg.org/#concept-header-list-combine">https://fetch.spec.whatwg.org/#concept-header-list-combine</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-concept-header-list-combine">4.6. Validate a partial response</a> <a href="#ref-for-concept-header-list-combine①">(2)</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-term-for-header-list-contains" class="dfn-panel" data-for="term-for-header-list-contains" id="infopanel-for-term-for-header-list-contains" role="menu">
   <span id="infopaneltitle-for-term-for-header-list-contains" style="display:none">Info about the 'contains' external reference.</span><a href="https://fetch.spec.whatwg.org/#header-list-contains">https://fetch.spec.whatwg.org/#header-list-contains</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-header-list-contains">4.6. Validate a partial response</a>
    <li><a href="#ref-for-header-list-contains①">4.7. Extract content-range values</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-term-for-concept-request-credentials-mode" class="dfn-panel" data-for="term-for-concept-request-credentials-mode" id="infopanel-for-term-for-concept-request-credentials-mode" role="menu">
   <span id="infopaneltitle-for-term-for-concept-request-credentials-mode" style="display:none">Info about the 'credentials mode' external reference.</span><a href="https://fetch.spec.whatwg.org/#concept-request-credentials-mode">https://fetch.spec.whatwg.org/#concept-request-credentials-mode</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-concept-request-credentials-mode">3.2.1. Display</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-term-for-concept-header-list-delete" class="dfn-panel" data-for="term-for-concept-header-list-delete" id="infopanel-for-term-for-concept-header-list-delete" role="menu">
   <span id="infopaneltitle-for-term-for-concept-header-list-delete" style="display:none">Info about the 'delete' external reference.</span><a href="https://fetch.spec.whatwg.org/#concept-header-list-delete">https://fetch.spec.whatwg.org/#concept-header-list-delete</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-concept-header-list-delete">4.8. Create record objects</a> <a href="#ref-for-concept-header-list-delete①">(2)</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-term-for-concept-request-destination" class="dfn-panel" data-for="term-for-concept-request-destination" id="infopanel-for-term-for-concept-request-destination" role="menu">
   <span id="infopaneltitle-for-term-for-concept-request-destination" style="display:none">Info about the 'destination' external reference.</span><a href="https://fetch.spec.whatwg.org/#concept-request-destination">https://fetch.spec.whatwg.org/#concept-request-destination</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-concept-request-destination">3.2.1. Display</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-term-for-concept-fetch" class="dfn-panel" data-for="term-for-concept-fetch" id="infopanel-for-term-for-concept-fetch" role="menu">
   <span id="infopaneltitle-for-term-for-concept-fetch" style="display:none">Info about the 'fetch' external reference.</span><a href="https://fetch.spec.whatwg.org/#concept-fetch">https://fetch.spec.whatwg.org/#concept-fetch</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-concept-fetch">3.2.1. Display</a>
    <li><a href="#ref-for-concept-fetch①">4.2. Complete a record</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-term-for-concept-header" class="dfn-panel" data-for="term-for-concept-header" id="infopanel-for-term-for-concept-header" role="menu">
   <span id="infopaneltitle-for-term-for-concept-header" style="display:none">Info about the 'header' external reference.</span><a href="https://fetch.spec.whatwg.org/#concept-header">https://fetch.spec.whatwg.org/#concept-header</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-concept-header">4.7. Extract content-range values</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-term-for-concept-request-header-list" class="dfn-panel" data-for="term-for-concept-request-header-list" id="infopanel-for-term-for-concept-request-header-list" role="menu">
   <span id="infopaneltitle-for-term-for-concept-request-header-list" style="display:none">Info about the 'header list (for request)' external reference.</span><a href="https://fetch.spec.whatwg.org/#concept-request-header-list">https://fetch.spec.whatwg.org/#concept-request-header-list</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-concept-request-header-list">4.8. Create record objects</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-term-for-concept-response-header-list" class="dfn-panel" data-for="term-for-concept-response-header-list" id="infopanel-for-term-for-concept-response-header-list" role="menu">
   <span id="infopaneltitle-for-term-for-concept-response-header-list" style="display:none">Info about the 'header list (for response)' external reference.</span><a href="https://fetch.spec.whatwg.org/#concept-response-header-list">https://fetch.spec.whatwg.org/#concept-response-header-list</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-concept-response-header-list">4.6. Validate a partial response</a> <a href="#ref-for-concept-response-header-list①">(2)</a> <a href="#ref-for-concept-response-header-list②">(3)</a>
    <li><a href="#ref-for-concept-response-header-list③">4.7. Extract content-range values</a> <a href="#ref-for-concept-response-header-list④">(2)</a>
    <li><a href="#ref-for-concept-response-header-list⑤">4.8. Create record objects</a> <a href="#ref-for-concept-response-header-list⑥">(2)</a> <a href="#ref-for-concept-response-header-list⑦">(3)</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-term-for-request-headers" class="dfn-panel" data-for="term-for-request-headers" id="infopanel-for-term-for-request-headers" role="menu">
   <span id="infopaneltitle-for-term-for-request-headers" style="display:none">Info about the 'headers (for Request)' external reference.</span><a href="https://fetch.spec.whatwg.org/#request-headers">https://fetch.spec.whatwg.org/#request-headers</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-request-headers">4.8. Create record objects</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-term-for-response-headers" class="dfn-panel" data-for="term-for-response-headers" id="infopanel-for-term-for-response-headers" role="menu">
   <span id="infopaneltitle-for-term-for-response-headers" style="display:none">Info about the 'headers (for Response)' external reference.</span><a href="https://fetch.spec.whatwg.org/#response-headers">https://fetch.spec.whatwg.org/#response-headers</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-response-headers">4.8. Create record objects</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-term-for-concept-request-method" class="dfn-panel" data-for="term-for-concept-request-method" id="infopanel-for-term-for-concept-request-method" role="menu">
   <span id="infopaneltitle-for-term-for-concept-request-method" style="display:none">Info about the 'method' external reference.</span><a href="https://fetch.spec.whatwg.org/#concept-request-method">https://fetch.spec.whatwg.org/#concept-request-method</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-concept-request-method">3.2.1. Display</a> <a href="#ref-for-concept-request-method①">(2)</a>
    <li><a href="#ref-for-concept-request-method②">4.2. Complete a record</a> <a href="#ref-for-concept-request-method③">(2)</a> <a href="#ref-for-concept-request-method④">(3)</a> <a href="#ref-for-concept-request-method⑤">(4)</a>
    <li><a href="#ref-for-concept-request-method⑥">7.1. Click</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-term-for-concept-request-mode" class="dfn-panel" data-for="term-for-concept-request-mode" id="infopanel-for-term-for-concept-request-mode" role="menu">
   <span id="infopaneltitle-for-term-for-concept-request-mode" style="display:none">Info about the 'mode' external reference.</span><a href="https://fetch.spec.whatwg.org/#concept-request-mode">https://fetch.spec.whatwg.org/#concept-request-mode</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-concept-request-mode">3.2.1. Display</a>
    <li><a href="#ref-for-concept-request-mode①">6.3.1. fetch()</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-term-for-concept-header-name" class="dfn-panel" data-for="term-for-concept-header-name" id="infopanel-for-term-for-concept-header-name" role="menu">
   <span id="infopaneltitle-for-term-for-concept-header-name" style="display:none">Info about the 'name' external reference.</span><a href="https://fetch.spec.whatwg.org/#concept-header-name">https://fetch.spec.whatwg.org/#concept-header-name</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-concept-header-name">4.7. Extract content-range values</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-term-for-concept-network-error" class="dfn-panel" data-for="term-for-concept-network-error" id="infopanel-for-term-for-concept-network-error" role="menu">
   <span id="infopaneltitle-for-term-for-concept-network-error" style="display:none">Info about the 'network error' external reference.</span><a href="https://fetch.spec.whatwg.org/#concept-network-error">https://fetch.spec.whatwg.org/#concept-network-error</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-concept-network-error">4.2. Complete a record</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-term-for-ok-status" class="dfn-panel" data-for="term-for-ok-status" id="infopanel-for-term-for-ok-status" role="menu">
   <span id="infopaneltitle-for-term-for-ok-status" style="display:none">Info about the 'ok status' external reference.</span><a href="https://fetch.spec.whatwg.org/#ok-status">https://fetch.spec.whatwg.org/#ok-status</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-ok-status">4.2. Complete a record</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-term-for-concept-request" class="dfn-panel" data-for="term-for-concept-request" id="infopanel-for-term-for-concept-request" role="menu">
   <span id="infopaneltitle-for-term-for-concept-request" style="display:none">Info about the 'request' external reference.</span><a href="https://fetch.spec.whatwg.org/#concept-request">https://fetch.spec.whatwg.org/#concept-request</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-concept-request">3.2.1. Display</a>
    <li><a href="#ref-for-concept-request①">3.3. Background fetch record</a>
    <li><a href="#ref-for-concept-request②">6.5. BackgroundFetchRecord</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-term-for-concept-request-request" class="dfn-panel" data-for="term-for-concept-request-request" id="infopanel-for-term-for-concept-request-request" role="menu">
   <span id="infopaneltitle-for-term-for-concept-request-request" style="display:none">Info about the 'request (for Request)' external reference.</span><a href="https://fetch.spec.whatwg.org/#concept-request-request">https://fetch.spec.whatwg.org/#concept-request-request</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-concept-request-request">4.8. Create record objects</a> <a href="#ref-for-concept-request-request①">(2)</a>
    <li><a href="#ref-for-concept-request-request②">6.3.1. fetch()</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-term-for-concept-response" class="dfn-panel" data-for="term-for-concept-response" id="infopanel-for-term-for-concept-response" role="menu">
   <span id="infopaneltitle-for-term-for-concept-response" style="display:none">Info about the 'response' external reference.</span><a href="https://fetch.spec.whatwg.org/#concept-response">https://fetch.spec.whatwg.org/#concept-response</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-concept-response">3.4. Background fetch response</a>
    <li><a href="#ref-for-concept-response①">4.6. Validate a partial response</a> <a href="#ref-for-concept-response②">(2)</a>
    <li><a href="#ref-for-concept-response③">4.7. Extract content-range values</a>
    <li><a href="#ref-for-concept-response④">4.8. Create record objects</a>
    <li><a href="#ref-for-concept-response⑤">6.5. BackgroundFetchRecord</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-term-for-concept-response-response" class="dfn-panel" data-for="term-for-concept-response-response" id="infopanel-for-term-for-concept-response-response" role="menu">
   <span id="infopaneltitle-for-term-for-concept-response-response" style="display:none">Info about the 'response (for Response)' external reference.</span><a href="https://fetch.spec.whatwg.org/#concept-response-response">https://fetch.spec.whatwg.org/#concept-response-response</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-concept-response-response">4.8. Create record objects</a> <a href="#ref-for-concept-response-response①">(2)</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-term-for-request-service-workers-mode" class="dfn-panel" data-for="term-for-request-service-workers-mode" id="infopanel-for-term-for-request-service-workers-mode" role="menu">
   <span id="infopaneltitle-for-term-for-request-service-workers-mode" style="display:none">Info about the 'service-workers mode' external reference.</span><a href="https://fetch.spec.whatwg.org/#request-service-workers-mode">https://fetch.spec.whatwg.org/#request-service-workers-mode</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-request-service-workers-mode">3.2.1. Display</a>
    <li><a href="#ref-for-request-service-workers-mode①">4.2. Complete a record</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-term-for-concept-response-status" class="dfn-panel" data-for="term-for-concept-response-status" id="infopanel-for-term-for-concept-response-status" role="menu">
   <span id="infopaneltitle-for-term-for-concept-response-status" style="display:none">Info about the 'status' external reference.</span><a href="https://fetch.spec.whatwg.org/#concept-response-status">https://fetch.spec.whatwg.org/#concept-response-status</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-concept-response-status">4.2. Complete a record</a> <a href="#ref-for-concept-response-status①">(2)</a> <a href="#ref-for-concept-response-status②">(3)</a> <a href="#ref-for-concept-response-status③">(4)</a>
    <li><a href="#ref-for-concept-response-status④">4.6. Validate a partial response</a> <a href="#ref-for-concept-response-status⑤">(2)</a>
    <li><a href="#ref-for-concept-response-status⑥">7.1. Click</a> <a href="#ref-for-concept-response-status⑦">(2)</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-term-for-concept-body-stream" class="dfn-panel" data-for="term-for-concept-body-stream" id="infopanel-for-term-for-concept-body-stream" role="menu">
   <span id="infopaneltitle-for-term-for-concept-body-stream" style="display:none">Info about the 'stream' external reference.</span><a href="https://fetch.spec.whatwg.org/#concept-body-stream">https://fetch.spec.whatwg.org/#concept-body-stream</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-concept-body-stream">4.2. Complete a record</a>
    <li><a href="#ref-for-concept-body-stream①">4.8. Create record objects</a>
    <li><a href="#ref-for-concept-body-stream②">6.3.1. fetch()</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-term-for-concept-request-url" class="dfn-panel" data-for="term-for-concept-request-url" id="infopanel-for-term-for-concept-request-url" role="menu">
   <span id="infopaneltitle-for-term-for-concept-request-url" style="display:none">Info about the 'url' external reference.</span><a href="https://fetch.spec.whatwg.org/#concept-request-url">https://fetch.spec.whatwg.org/#concept-request-url</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-concept-request-url">3.2.1. Display</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-term-for-concept-header-value" class="dfn-panel" data-for="term-for-concept-header-value" id="infopanel-for-term-for-concept-header-value" role="menu">
   <span id="infopaneltitle-for-term-for-concept-header-value" style="display:none">Info about the 'value' external reference.</span><a href="https://fetch.spec.whatwg.org/#concept-header-value">https://fetch.spec.whatwg.org/#concept-header-value</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-concept-header-value">4.7. Extract content-range values</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-term-for-eventhandler" class="dfn-panel" data-for="term-for-eventhandler" id="infopanel-for-term-for-eventhandler" role="menu">
   <span id="infopaneltitle-for-term-for-eventhandler" style="display:none">Info about the 'EventHandler' external reference.</span><a href="https://html.spec.whatwg.org/multipage/webappapis.html#eventhandler">https://html.spec.whatwg.org/multipage/webappapis.html#eventhandler</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-eventhandler">6.1. Extensions to ServiceWorkerGlobalScope</a> <a href="#ref-for-eventhandler①">(2)</a> <a href="#ref-for-eventhandler②">(3)</a> <a href="#ref-for-eventhandler③">(4)</a>
    <li><a href="#ref-for-eventhandler④">6.4. BackgroundFetchRegistration</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-term-for-nav-document" class="dfn-panel" data-for="term-for-nav-document" id="infopanel-for-term-for-nav-document" role="menu">
   <span id="infopaneltitle-for-term-for-nav-document" style="display:none">Info about the 'active document' external reference.</span><a href="https://html.spec.whatwg.org/multipage/document-sequences.html#nav-document">https://html.spec.whatwg.org/multipage/document-sequences.html#nav-document</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-nav-document">7.1. Click</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-term-for-enqueue-the-following-steps" class="dfn-panel" data-for="term-for-enqueue-the-following-steps" id="infopanel-for-term-for-enqueue-the-following-steps" role="menu">
   <span id="infopaneltitle-for-term-for-enqueue-the-following-steps" style="display:none">Info about the 'enqueue the following steps' external reference.</span><a href="https://html.spec.whatwg.org/multipage/infrastructure.html#enqueue-the-following-steps">https://html.spec.whatwg.org/multipage/infrastructure.html#enqueue-the-following-steps</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-enqueue-the-following-steps">4.1. Perform a background fetch</a>
    <li><a href="#ref-for-enqueue-the-following-steps①">4.3. Update background fetch instances</a>
    <li><a href="#ref-for-enqueue-the-following-steps②">6.3.1. fetch()</a>
    <li><a href="#ref-for-enqueue-the-following-steps③">6.3.2. get()</a>
    <li><a href="#ref-for-enqueue-the-following-steps④">6.4.2. abort()</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-term-for-environment-settings-object" class="dfn-panel" data-for="term-for-environment-settings-object" id="infopanel-for-term-for-environment-settings-object" role="menu">
   <span id="infopaneltitle-for-term-for-environment-settings-object" style="display:none">Info about the 'environment settings object' external reference.</span><a href="https://html.spec.whatwg.org/multipage/webappapis.html#environment-settings-object">https://html.spec.whatwg.org/multipage/webappapis.html#environment-settings-object</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-environment-settings-object">3.2.1. Display</a>
    <li><a href="#ref-for-environment-settings-object①">4.3. Update background fetch instances</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-term-for-event-handlers" class="dfn-panel" data-for="term-for-event-handlers" id="infopanel-for-term-for-event-handlers" role="menu">
   <span id="infopaneltitle-for-term-for-event-handlers" style="display:none">Info about the 'event handler' external reference.</span><a href="https://html.spec.whatwg.org/multipage/webappapis.html#event-handlers">https://html.spec.whatwg.org/multipage/webappapis.html#event-handlers</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-event-handlers">6.1.1. Events</a> <a href="#ref-for-event-handlers①">(2)</a>
    <li><a href="#ref-for-event-handlers②">6.4.1. Events</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-term-for-event-handler-event-type" class="dfn-panel" data-for="term-for-event-handler-event-type" id="infopanel-for-term-for-event-handler-event-type" role="menu">
   <span id="infopaneltitle-for-term-for-event-handler-event-type" style="display:none">Info about the 'event handler event type' external reference.</span><a href="https://html.spec.whatwg.org/multipage/webappapis.html#event-handler-event-type">https://html.spec.whatwg.org/multipage/webappapis.html#event-handler-event-type</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-event-handler-event-type">6.1.1. Events</a> <a href="#ref-for-event-handler-event-type①">(2)</a>
    <li><a href="#ref-for-event-handler-event-type②">6.4.1. Events</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-term-for-event-handler-idl-attributes" class="dfn-panel" data-for="term-for-event-handler-idl-attributes" id="infopanel-for-term-for-event-handler-idl-attributes" role="menu">
   <span id="infopaneltitle-for-term-for-event-handler-idl-attributes" style="display:none">Info about the 'event handler idl attribute' external reference.</span><a href="https://html.spec.whatwg.org/multipage/webappapis.html#event-handler-idl-attributes">https://html.spec.whatwg.org/multipage/webappapis.html#event-handler-idl-attributes</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-event-handler-idl-attributes">6.1.1. Events</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-term-for-concept-agent-event-loop" class="dfn-panel" data-for="term-for-concept-agent-event-loop" id="infopanel-for-term-for-concept-agent-event-loop" role="menu">
   <span id="infopaneltitle-for-term-for-concept-agent-event-loop" style="display:none">Info about the 'event loop' external reference.</span><a href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-agent-event-loop">https://html.spec.whatwg.org/multipage/webappapis.html#concept-agent-event-loop</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-concept-agent-event-loop">3. Infrastructure</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-term-for-in-parallel" class="dfn-panel" data-for="term-for-in-parallel" id="infopanel-for-term-for-in-parallel" role="menu">
   <span id="infopaneltitle-for-term-for-in-parallel" style="display:none">Info about the 'in parallel' external reference.</span><a href="https://html.spec.whatwg.org/multipage/infrastructure.html#in-parallel">https://html.spec.whatwg.org/multipage/infrastructure.html#in-parallel</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-in-parallel">4.1. Perform a background fetch</a> <a href="#ref-for-in-parallel①">(2)</a>
    <li><a href="#ref-for-in-parallel②">4.8. Create record objects</a> <a href="#ref-for-in-parallel③">(2)</a>
    <li><a href="#ref-for-in-parallel④">6.3.1. fetch()</a> <a href="#ref-for-in-parallel⑤">(2)</a> <a href="#ref-for-in-parallel⑥">(3)</a>
    <li><a href="#ref-for-in-parallel⑦">6.3.2. get()</a>
    <li><a href="#ref-for-in-parallel⑧">6.3.3. getIds()</a>
    <li><a href="#ref-for-in-parallel⑨">6.4.2. abort()</a>
    <li><a href="#ref-for-in-parallel①⓪">6.4.4. matchAll()</a>
    <li><a href="#ref-for-in-parallel①①">6.7.1. updateUI()</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-term-for-networking-task-source" class="dfn-panel" data-for="term-for-networking-task-source" id="infopanel-for-term-for-networking-task-source" role="menu">
   <span id="infopaneltitle-for-term-for-networking-task-source" style="display:none">Info about the 'networking task source' external reference.</span><a href="https://html.spec.whatwg.org/multipage/webappapis.html#networking-task-source">https://html.spec.whatwg.org/multipage/webappapis.html#networking-task-source</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-networking-task-source">4.8. Create record objects</a> <a href="#ref-for-networking-task-source①">(2)</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-term-for-concept-settings-object-origin" class="dfn-panel" data-for="term-for-concept-settings-object-origin" id="infopanel-for-term-for-concept-settings-object-origin" role="menu">
   <span id="infopaneltitle-for-term-for-concept-settings-object-origin" style="display:none">Info about the 'origin' external reference.</span><a href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-settings-object-origin">https://html.spec.whatwg.org/multipage/webappapis.html#concept-settings-object-origin</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-concept-settings-object-origin">4.3. Update background fetch instances</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-term-for-parallel-queue" class="dfn-panel" data-for="term-for-parallel-queue" id="infopanel-for-term-for-parallel-queue" role="menu">
   <span id="infopaneltitle-for-term-for-parallel-queue" style="display:none">Info about the 'parallel queue' external reference.</span><a href="https://html.spec.whatwg.org/multipage/infrastructure.html#parallel-queue">https://html.spec.whatwg.org/multipage/infrastructure.html#parallel-queue</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-parallel-queue">3.1. Extensions to service worker registration</a>
    <li><a href="#ref-for-parallel-queue①">3.2. Background fetch</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-term-for-queue-a-task" class="dfn-panel" data-for="term-for-queue-a-task" id="infopanel-for-term-for-queue-a-task" role="menu">
   <span id="infopaneltitle-for-term-for-queue-a-task" style="display:none">Info about the 'queue a task' external reference.</span><a href="https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-task">https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-task</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-queue-a-task">3. Infrastructure</a>
    <li><a href="#ref-for-queue-a-task①">4.8. Create record objects</a> <a href="#ref-for-queue-a-task②">(2)</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-term-for-concept-relevant-realm" class="dfn-panel" data-for="term-for-concept-relevant-realm" id="infopanel-for-term-for-concept-relevant-realm" role="menu">
   <span id="infopaneltitle-for-term-for-concept-relevant-realm" style="display:none">Info about the 'relevant realm' external reference.</span><a href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-realm">https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-realm</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-concept-relevant-realm">2. Realms</a>
    <li><a href="#ref-for-concept-relevant-realm①">4.1. Perform a background fetch</a>
    <li><a href="#ref-for-concept-relevant-realm②">4.3. Update background fetch instances</a>
    <li><a href="#ref-for-concept-relevant-realm③">4.4. Fire a background fetch click event</a>
    <li><a href="#ref-for-concept-relevant-realm④">6.3.1. fetch()</a>
    <li><a href="#ref-for-concept-relevant-realm⑤">6.3.2. get()</a>
    <li><a href="#ref-for-concept-relevant-realm⑥">6.4.4. matchAll()</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-term-for-relevant-settings-object" class="dfn-panel" data-for="term-for-relevant-settings-object" id="infopanel-for-term-for-relevant-settings-object" role="menu">
   <span id="infopaneltitle-for-term-for-relevant-settings-object" style="display:none">Info about the 'relevant settings object' external reference.</span><a href="https://html.spec.whatwg.org/multipage/webappapis.html#relevant-settings-object">https://html.spec.whatwg.org/multipage/webappapis.html#relevant-settings-object</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-relevant-settings-object">3. Infrastructure</a>
    <li><a href="#ref-for-relevant-settings-object①">4.8. Create record objects</a> <a href="#ref-for-relevant-settings-object②">(2)</a>
    <li><a href="#ref-for-relevant-settings-object③">6.3.1. fetch()</a> <a href="#ref-for-relevant-settings-object④">(2)</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-term-for-responsible-event-loop" class="dfn-panel" data-for="term-for-responsible-event-loop" id="infopanel-for-term-for-responsible-event-loop" role="menu">
   <span id="infopaneltitle-for-term-for-responsible-event-loop" style="display:none">Info about the 'responsible event loop' external reference.</span><a href="https://html.spec.whatwg.org/multipage/webappapis.html#responsible-event-loop">https://html.spec.whatwg.org/multipage/webappapis.html#responsible-event-loop</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-responsible-event-loop">3. Infrastructure</a>
    <li><a href="#ref-for-responsible-event-loop①">4.3. Update background fetch instances</a>
    <li><a href="#ref-for-responsible-event-loop②">4.8. Create record objects</a> <a href="#ref-for-responsible-event-loop③">(2)</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-term-for-starting-a-new-parallel-queue" class="dfn-panel" data-for="term-for-starting-a-new-parallel-queue" id="infopanel-for-term-for-starting-a-new-parallel-queue" role="menu">
   <span id="infopaneltitle-for-term-for-starting-a-new-parallel-queue" style="display:none">Info about the 'starting a new parallel queue' external reference.</span><a href="https://html.spec.whatwg.org/multipage/infrastructure.html#starting-a-new-parallel-queue">https://html.spec.whatwg.org/multipage/infrastructure.html#starting-a-new-parallel-queue</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-starting-a-new-parallel-queue">3.1. Extensions to service worker registration</a>
    <li><a href="#ref-for-starting-a-new-parallel-queue①">3.2. Background fetch</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-term-for-task-source" class="dfn-panel" data-for="term-for-task-source" id="infopanel-for-term-for-task-source" role="menu">
   <span id="infopaneltitle-for-term-for-task-source" style="display:none">Info about the 'task source' external reference.</span><a href="https://html.spec.whatwg.org/multipage/webappapis.html#task-source">https://html.spec.whatwg.org/multipage/webappapis.html#task-source</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-task-source">3. Infrastructure</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-term-for-dom-imageresource" class="dfn-panel" data-for="term-for-dom-imageresource" id="infopanel-for-term-for-dom-imageresource" role="menu">
   <span id="infopaneltitle-for-term-for-dom-imageresource" style="display:none">Info about the 'ImageResource' external reference.</span><a href="https://w3c.github.io/image-resource/#dom-imageresource">https://w3c.github.io/image-resource/#dom-imageresource</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-imageresource">3.2. Background fetch</a>
    <li><a href="#ref-for-dom-imageresource①">6.3. BackgroundFetchManager</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-term-for-image-resource" class="dfn-panel" data-for="term-for-image-resource" id="infopanel-for-term-for-image-resource" role="menu">
   <span id="infopaneltitle-for-term-for-image-resource" style="display:none">Info about the 'image resource' external reference.</span><a href="https://w3c.github.io/image-resource/#image-resource">https://w3c.github.io/image-resource/#image-resource</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-image-resource">3.2.1. Display</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-term-for-processing-an-imageresource-from-an-api" class="dfn-panel" data-for="term-for-processing-an-imageresource-from-an-api" id="infopanel-for-term-for-processing-an-imageresource-from-an-api" role="menu">
   <span id="infopaneltitle-for-term-for-processing-an-imageresource-from-an-api" style="display:none">Info about the 'processing' external reference.</span><a href="https://w3c.github.io/image-resource/#processing-an-imageresource-from-an-api">https://w3c.github.io/image-resource/#processing-an-imageresource-from-an-api</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-processing-an-imageresource-from-an-api">3.2.1. Display</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-term-for-dfn-src" class="dfn-panel" data-for="term-for-dfn-src" id="infopanel-for-term-for-dfn-src" role="menu">
   <span id="infopaneltitle-for-term-for-dfn-src" style="display:none">Info about the 'src' external reference.</span><a href="https://w3c.github.io/image-resource/#dfn-src">https://w3c.github.io/image-resource/#dfn-src</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dfn-src">3.2.1. Display</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-term-for-abort-when" class="dfn-panel" data-for="term-for-abort-when" id="infopanel-for-term-for-abort-when" role="menu">
   <span id="infopaneltitle-for-term-for-abort-when" style="display:none">Info about the 'abort when' external reference.</span><a href="https://infra.spec.whatwg.org/#abort-when">https://infra.spec.whatwg.org/#abort-when</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-abort-when">4.2. Complete a record</a>
    <li><a href="#ref-for-abort-when①">6.3.1. fetch()</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-term-for-list-append" class="dfn-panel" data-for="term-for-list-append" id="infopanel-for-term-for-list-append" role="menu">
   <span id="infopaneltitle-for-term-for-list-append" style="display:none">Info about the 'append' external reference.</span><a href="https://infra.spec.whatwg.org/#list-append">https://infra.spec.whatwg.org/#list-append</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-list-append">4.8. Create record objects</a>
    <li><a href="#ref-for-list-append①">6.3.1. fetch()</a>
    <li><a href="#ref-for-list-append②">6.4.4. matchAll()</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-term-for-byte-sequence" class="dfn-panel" data-for="term-for-byte-sequence" id="infopanel-for-term-for-byte-sequence" role="menu">
   <span id="infopaneltitle-for-term-for-byte-sequence" style="display:none">Info about the 'byte sequence' external reference.</span><a href="https://infra.spec.whatwg.org/#byte-sequence">https://infra.spec.whatwg.org/#byte-sequence</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-byte-sequence">3.4. Background fetch response</a> <a href="#ref-for-byte-sequence①">(2)</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-term-for-byte-case-insensitive" class="dfn-panel" data-for="term-for-byte-case-insensitive" id="infopanel-for-term-for-byte-case-insensitive" role="menu">
   <span id="infopaneltitle-for-term-for-byte-case-insensitive" style="display:none">Info about the 'byte-case-insensitive' external reference.</span><a href="https://infra.spec.whatwg.org/#byte-case-insensitive">https://infra.spec.whatwg.org/#byte-case-insensitive</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-byte-case-insensitive">4.7. Extract content-range values</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-term-for-iteration-continue" class="dfn-panel" data-for="term-for-iteration-continue" id="infopanel-for-term-for-iteration-continue" role="menu">
   <span id="infopaneltitle-for-term-for-iteration-continue" style="display:none">Info about the 'continue' external reference.</span><a href="https://infra.spec.whatwg.org/#iteration-continue">https://infra.spec.whatwg.org/#iteration-continue</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-iteration-continue">6.3.1. fetch()</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-term-for-list-empty" class="dfn-panel" data-for="term-for-list-empty" id="infopanel-for-term-for-list-empty" role="menu">
   <span id="infopaneltitle-for-term-for-list-empty" style="display:none">Info about the 'empty' external reference.</span><a href="https://infra.spec.whatwg.org/#list-empty">https://infra.spec.whatwg.org/#list-empty</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-list-empty">6.3.1. fetch()</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-term-for-map-exists" class="dfn-panel" data-for="term-for-map-exists" id="infopanel-for-term-for-map-exists" role="menu">
   <span id="infopaneltitle-for-term-for-map-exists" style="display:none">Info about the 'exist' external reference.</span><a href="https://infra.spec.whatwg.org/#map-exists">https://infra.spec.whatwg.org/#map-exists</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-map-exists">4.5. Get a BackgroundFetchRegistration instance</a>
    <li><a href="#ref-for-map-exists①">4.9. Contains background fetch</a>
    <li><a href="#ref-for-map-exists②">6.3.1. fetch()</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-term-for-list-iterate" class="dfn-panel" data-for="term-for-list-iterate" id="infopanel-for-term-for-list-iterate" role="menu">
   <span id="infopaneltitle-for-term-for-list-iterate" style="display:none">Info about the 'for each' external reference.</span><a href="https://infra.spec.whatwg.org/#list-iterate">https://infra.spec.whatwg.org/#list-iterate</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-list-iterate">3.2. Background fetch</a>
    <li><a href="#ref-for-list-iterate①">4.1. Perform a background fetch</a>
    <li><a href="#ref-for-list-iterate②">4.8. Create record objects</a>
    <li><a href="#ref-for-list-iterate③">6.3.1. fetch()</a> <a href="#ref-for-list-iterate④">(2)</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-term-for-map-getting-the-keys" class="dfn-panel" data-for="term-for-map-getting-the-keys" id="infopanel-for-term-for-map-getting-the-keys" role="menu">
   <span id="infopaneltitle-for-term-for-map-getting-the-keys" style="display:none">Info about the 'getting the keys' external reference.</span><a href="https://infra.spec.whatwg.org/#map-getting-the-keys">https://infra.spec.whatwg.org/#map-getting-the-keys</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-map-getting-the-keys">6.3.3. getIds()</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-term-for-if-aborted" class="dfn-panel" data-for="term-for-if-aborted" id="infopanel-for-term-for-if-aborted" role="menu">
   <span id="infopaneltitle-for-term-for-if-aborted" style="display:none">Info about the 'if aborted' external reference.</span><a href="https://infra.spec.whatwg.org/#if-aborted">https://infra.spec.whatwg.org/#if-aborted</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-if-aborted">4.2. Complete a record</a>
    <li><a href="#ref-for-if-aborted①">6.3.1. fetch()</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-term-for-byte-sequence-length" class="dfn-panel" data-for="term-for-byte-sequence-length" id="infopanel-for-term-for-byte-sequence-length" role="menu">
   <span id="infopaneltitle-for-term-for-byte-sequence-length" style="display:none">Info about the 'length' external reference.</span><a href="https://infra.spec.whatwg.org/#byte-sequence-length">https://infra.spec.whatwg.org/#byte-sequence-length</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-byte-sequence-length">3.2. Background fetch</a>
    <li><a href="#ref-for-byte-sequence-length①">4.2. Complete a record</a> <a href="#ref-for-byte-sequence-length②">(2)</a>
    <li><a href="#ref-for-byte-sequence-length③">4.8. Create record objects</a> <a href="#ref-for-byte-sequence-length④">(2)</a> <a href="#ref-for-byte-sequence-length⑤">(3)</a> <a href="#ref-for-byte-sequence-length⑥">(4)</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-term-for-list" class="dfn-panel" data-for="term-for-list" id="infopanel-for-term-for-list" role="menu">
   <span id="infopaneltitle-for-term-for-list" style="display:none">Info about the 'list' external reference.</span><a href="https://infra.spec.whatwg.org/#list">https://infra.spec.whatwg.org/#list</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-list">3.2. Background fetch</a> <a href="#ref-for-list①">(2)</a>
    <li><a href="#ref-for-list②">4.8. Create record objects</a> <a href="#ref-for-list③">(2)</a>
    <li><a href="#ref-for-list④">6.3.1. fetch()</a> <a href="#ref-for-list⑤">(2)</a>
    <li><a href="#ref-for-list⑥">6.4.4. matchAll()</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-term-for-ordered-map" class="dfn-panel" data-for="term-for-ordered-map" id="infopanel-for-term-for-ordered-map" role="menu">
   <span id="infopaneltitle-for-term-for-ordered-map" style="display:none">Info about the 'map' external reference.</span><a href="https://infra.spec.whatwg.org/#ordered-map">https://infra.spec.whatwg.org/#ordered-map</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-ordered-map">3.1. Extensions to service worker registration</a> <a href="#ref-for-ordered-map①">(2)</a>
    <li><a href="#ref-for-ordered-map②">4.9. Contains background fetch</a> <a href="#ref-for-ordered-map③">(2)</a>
    <li><a href="#ref-for-ordered-map④">6.3. BackgroundFetchManager</a> <a href="#ref-for-ordered-map⑤">(2)</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-term-for-list-size" class="dfn-panel" data-for="term-for-list-size" id="infopanel-for-term-for-list-size" role="menu">
   <span id="infopaneltitle-for-term-for-list-size" style="display:none">Info about the 'size' external reference.</span><a href="https://infra.spec.whatwg.org/#list-size">https://infra.spec.whatwg.org/#list-size</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-list-size">4.1. Perform a background fetch</a>
    <li><a href="#ref-for-list-size①">6.3.1. fetch()</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-term-for-dom-permissiondescriptor" class="dfn-panel" data-for="term-for-dom-permissiondescriptor" id="infopanel-for-term-for-dom-permissiondescriptor" role="menu">
   <span id="infopaneltitle-for-term-for-dom-permissiondescriptor" style="display:none">Info about the 'PermissionDescriptor' external reference.</span><a href="https://w3c.github.io/permissions/#dom-permissiondescriptor">https://w3c.github.io/permissions/#dom-permissiondescriptor</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-permissiondescriptor">3.2.1. Display</a>
    <li><a href="#ref-for-dom-permissiondescriptor①">6.3.1. fetch()</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-term-for-dom-permissiondescriptor-name" class="dfn-panel" data-for="term-for-dom-permissiondescriptor-name" id="infopanel-for-term-for-dom-permissiondescriptor-name" role="menu">
   <span id="infopaneltitle-for-term-for-dom-permissiondescriptor-name" style="display:none">Info about the 'name' external reference.</span><a href="https://w3c.github.io/permissions/#dom-permissiondescriptor-name">https://w3c.github.io/permissions/#dom-permissiondescriptor-name</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-permissiondescriptor-name">3.2.1. Display</a>
    <li><a href="#ref-for-dom-permissiondescriptor-name①">6.3.1. fetch()</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-term-for-dfn-new-information-about-the-user-s-intent" class="dfn-panel" data-for="term-for-dfn-new-information-about-the-user-s-intent" id="infopanel-for-term-for-dfn-new-information-about-the-user-s-intent" role="menu">
   <span id="infopaneltitle-for-term-for-dfn-new-information-about-the-user-s-intent" style="display:none">Info about the 'new information about the user's intent' external reference.</span><a href="https://w3c.github.io/permissions/#dfn-new-information-about-the-user-s-intent">https://w3c.github.io/permissions/#dfn-new-information-about-the-user-s-intent</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dfn-new-information-about-the-user-s-intent">3.2.1. Display</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-term-for-dfn-permission-state" class="dfn-panel" data-for="term-for-dfn-permission-state" id="infopanel-for-term-for-dfn-permission-state" role="menu">
   <span id="infopaneltitle-for-term-for-dfn-permission-state" style="display:none">Info about the 'permission state' external reference.</span><a href="https://w3c.github.io/permissions/#dfn-permission-state">https://w3c.github.io/permissions/#dfn-permission-state</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dfn-permission-state">3.2.1. Display</a>
    <li><a href="#ref-for-dfn-permission-state①">6.3.1. fetch()</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-term-for-dictdef-cachequeryoptions" class="dfn-panel" data-for="term-for-dictdef-cachequeryoptions" id="infopanel-for-term-for-dictdef-cachequeryoptions" role="menu">
   <span id="infopaneltitle-for-term-for-dictdef-cachequeryoptions" style="display:none">Info about the 'CacheQueryOptions' external reference.</span><a href="https://w3c.github.io/ServiceWorker/#dictdef-cachequeryoptions">https://w3c.github.io/ServiceWorker/#dictdef-cachequeryoptions</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dictdef-cachequeryoptions">6.4. BackgroundFetchRegistration</a> <a href="#ref-for-dictdef-cachequeryoptions①">(2)</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-term-for-extendableevent" class="dfn-panel" data-for="term-for-extendableevent" id="infopanel-for-term-for-extendableevent" role="menu">
   <span id="infopaneltitle-for-term-for-extendableevent" style="display:none">Info about the 'ExtendableEvent' external reference.</span><a href="https://w3c.github.io/ServiceWorker/#extendableevent">https://w3c.github.io/ServiceWorker/#extendableevent</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-extendableevent">6.6. BackgroundFetchEvent</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-term-for-dictdef-extendableeventinit" class="dfn-panel" data-for="term-for-dictdef-extendableeventinit" id="infopanel-for-term-for-dictdef-extendableeventinit" role="menu">
   <span id="infopaneltitle-for-term-for-dictdef-extendableeventinit" style="display:none">Info about the 'ExtendableEventInit' external reference.</span><a href="https://w3c.github.io/ServiceWorker/#dictdef-extendableeventinit">https://w3c.github.io/ServiceWorker/#dictdef-extendableeventinit</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dictdef-extendableeventinit">6.6. BackgroundFetchEvent</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-term-for-serviceworker" class="dfn-panel" data-for="term-for-serviceworker" id="infopanel-for-term-for-serviceworker" role="menu">
   <span id="infopaneltitle-for-term-for-serviceworker" style="display:none">Info about the 'ServiceWorker' external reference.</span><a href="https://w3c.github.io/ServiceWorker/#serviceworker">https://w3c.github.io/ServiceWorker/#serviceworker</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-serviceworker">6.1.1. Events</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-term-for-serviceworkerglobalscope" class="dfn-panel" data-for="term-for-serviceworkerglobalscope" id="infopanel-for-term-for-serviceworkerglobalscope" role="menu">
   <span id="infopaneltitle-for-term-for-serviceworkerglobalscope" style="display:none">Info about the 'ServiceWorkerGlobalScope' external reference.</span><a href="https://w3c.github.io/ServiceWorker/#serviceworkerglobalscope">https://w3c.github.io/ServiceWorker/#serviceworkerglobalscope</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-serviceworkerglobalscope">6.1. Extensions to ServiceWorkerGlobalScope</a> <a href="#ref-for-serviceworkerglobalscope①">(2)</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-term-for-serviceworkerregistration" class="dfn-panel" data-for="term-for-serviceworkerregistration" id="infopanel-for-term-for-serviceworkerregistration" role="menu">
   <span id="infopaneltitle-for-term-for-serviceworkerregistration" style="display:none">Info about the 'ServiceWorkerRegistration' external reference.</span><a href="https://w3c.github.io/ServiceWorker/#serviceworkerregistration">https://w3c.github.io/ServiceWorker/#serviceworkerregistration</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-serviceworkerregistration">6.2. Extensions to ServiceWorkerRegistration</a> <a href="#ref-for-serviceworkerregistration①">(2)</a> <a href="#ref-for-serviceworkerregistration②">(3)</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-term-for-extendableevent-active" class="dfn-panel" data-for="term-for-extendableevent-active" id="infopanel-for-term-for-extendableevent-active" role="menu">
   <span id="infopaneltitle-for-term-for-extendableevent-active" style="display:none">Info about the 'active' external reference.</span><a href="https://w3c.github.io/ServiceWorker/#extendableevent-active">https://w3c.github.io/ServiceWorker/#extendableevent-active</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-extendableevent-active">4.1. Perform a background fetch</a>
    <li><a href="#ref-for-extendableevent-active①">6.7.1. updateUI()</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-term-for-dfn-active-worker" class="dfn-panel" data-for="term-for-dfn-active-worker" id="infopanel-for-term-for-dfn-active-worker" role="menu">
   <span id="infopaneltitle-for-term-for-dfn-active-worker" style="display:none">Info about the 'active worker' external reference.</span><a href="https://w3c.github.io/ServiceWorker/#dfn-active-worker">https://w3c.github.io/ServiceWorker/#dfn-active-worker</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dfn-active-worker">6.3.1. fetch()</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-term-for-fire-functional-event" class="dfn-panel" data-for="term-for-fire-functional-event" id="infopanel-for-term-for-fire-functional-event" role="menu">
   <span id="infopaneltitle-for-term-for-fire-functional-event" style="display:none">Info about the 'fire a functional event' external reference.</span><a href="https://w3c.github.io/ServiceWorker/#fire-functional-event">https://w3c.github.io/ServiceWorker/#fire-functional-event</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-fire-functional-event">4.1. Perform a background fetch</a>
    <li><a href="#ref-for-fire-functional-event①">4.4. Fire a background fetch click event</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-term-for-match-service-worker-registration" class="dfn-panel" data-for="term-for-match-service-worker-registration" id="infopanel-for-term-for-match-service-worker-registration" role="menu">
   <span id="infopaneltitle-for-term-for-match-service-worker-registration" style="display:none">Info about the 'match service worker registration' external reference.</span><a href="https://w3c.github.io/ServiceWorker/#match-service-worker-registration">https://w3c.github.io/ServiceWorker/#match-service-worker-registration</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-match-service-worker-registration">7.1. Click</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-term-for-request-matches-cached-item" class="dfn-panel" data-for="term-for-request-matches-cached-item" id="infopanel-for-term-for-request-matches-cached-item" role="menu">
   <span id="infopaneltitle-for-term-for-request-matches-cached-item" style="display:none">Info about the 'request matches cached item' external reference.</span><a href="https://w3c.github.io/ServiceWorker/#request-matches-cached-item">https://w3c.github.io/ServiceWorker/#request-matches-cached-item</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-request-matches-cached-item">6.4.4. matchAll()</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-term-for-dfn-scope-url" class="dfn-panel" data-for="term-for-dfn-scope-url" id="infopanel-for-term-for-dfn-scope-url" role="menu">
   <span id="infopaneltitle-for-term-for-dfn-scope-url" style="display:none">Info about the 'scope url' external reference.</span><a href="https://w3c.github.io/ServiceWorker/#dfn-scope-url">https://w3c.github.io/ServiceWorker/#dfn-scope-url</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dfn-scope-url">3.2.1. Display</a>
    <li><a href="#ref-for-dfn-scope-url①">4.3. Update background fetch instances</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-term-for-dfn-service-worker" class="dfn-panel" data-for="term-for-dfn-service-worker" id="infopanel-for-term-for-dfn-service-worker" role="menu">
   <span id="infopaneltitle-for-term-for-dfn-service-worker" style="display:none">Info about the 'service worker' external reference.</span><a href="https://w3c.github.io/ServiceWorker/#dfn-service-worker">https://w3c.github.io/ServiceWorker/#dfn-service-worker</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dfn-service-worker">1. Introduction</a> <a href="#ref-for-dfn-service-worker①">(2)</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-term-for-dfn-service-worker-registration" class="dfn-panel" data-for="term-for-dfn-service-worker-registration" id="infopanel-for-term-for-dfn-service-worker-registration" role="menu">
   <span id="infopaneltitle-for-term-for-dfn-service-worker-registration" style="display:none">Info about the 'service worker registration' external reference.</span><a href="https://w3c.github.io/ServiceWorker/#dfn-service-worker-registration">https://w3c.github.io/ServiceWorker/#dfn-service-worker-registration</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dfn-service-worker-registration">3.1. Extensions to service worker registration</a>
    <li><a href="#ref-for-dfn-service-worker-registration①">3.2. Background fetch</a>
    <li><a href="#ref-for-dfn-service-worker-registration②">6.2. Extensions to ServiceWorkerRegistration</a>
    <li><a href="#ref-for-dfn-service-worker-registration③">6.3. BackgroundFetchManager</a>
    <li><a href="#ref-for-dfn-service-worker-registration④">8. Privacy and bandwidth usage</a> <a href="#ref-for-dfn-service-worker-registration⑤">(2)</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-term-for-dom-extendableevent-waituntil" class="dfn-panel" data-for="term-for-dom-extendableevent-waituntil" id="infopanel-for-term-for-dom-extendableevent-waituntil" role="menu">
   <span id="infopaneltitle-for-term-for-dom-extendableevent-waituntil" style="display:none">Info about the 'waitUntil(f)' external reference.</span><a href="https://w3c.github.io/ServiceWorker/#dom-extendableevent-waituntil">https://w3c.github.io/ServiceWorker/#dom-extendableevent-waituntil</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-extendableevent-waituntil">1. Introduction</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-term-for-readablestream-cancel" class="dfn-panel" data-for="term-for-readablestream-cancel" id="infopanel-for-term-for-readablestream-cancel" role="menu">
   <span id="infopaneltitle-for-term-for-readablestream-cancel" style="display:none">Info about the 'cancel' external reference.</span><a href="https://streams.spec.whatwg.org/#readablestream-cancel">https://streams.spec.whatwg.org/#readablestream-cancel</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-readablestream-cancel">4.2. Complete a record</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-term-for-readablestream-close" class="dfn-panel" data-for="term-for-readablestream-close" id="infopanel-for-term-for-readablestream-close" role="menu">
   <span id="infopaneltitle-for-term-for-readablestream-close" style="display:none">Info about the 'close' external reference.</span><a href="https://streams.spec.whatwg.org/#readablestream-close">https://streams.spec.whatwg.org/#readablestream-close</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-readablestream-close">4.8. Create record objects</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-term-for-readablestream-enqueue" class="dfn-panel" data-for="term-for-readablestream-enqueue" id="infopanel-for-term-for-readablestream-enqueue" role="menu">
   <span id="infopaneltitle-for-term-for-readablestream-enqueue" style="display:none">Info about the 'enqueue' external reference.</span><a href="https://streams.spec.whatwg.org/#readablestream-enqueue">https://streams.spec.whatwg.org/#readablestream-enqueue</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-readablestream-enqueue">4.8. Create record objects</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-term-for-readablestream-error" class="dfn-panel" data-for="term-for-readablestream-error" id="infopanel-for-term-for-readablestream-error" role="menu">
   <span id="infopaneltitle-for-term-for-readablestream-error" style="display:none">Info about the 'error' external reference.</span><a href="https://streams.spec.whatwg.org/#readablestream-error">https://streams.spec.whatwg.org/#readablestream-error</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-readablestream-error">4.8. Create record objects</a> <a href="#ref-for-readablestream-error①">(2)</a>
    <li><a href="#ref-for-readablestream-error②">6.3.1. fetch()</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-term-for-readablestream-errored" class="dfn-panel" data-for="term-for-readablestream-errored" id="infopanel-for-term-for-readablestream-errored" role="menu">
   <span id="infopaneltitle-for-term-for-readablestream-errored" style="display:none">Info about the 'errored' external reference.</span><a href="https://streams.spec.whatwg.org/#readablestream-errored">https://streams.spec.whatwg.org/#readablestream-errored</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-readablestream-errored">4.2. Complete a record</a>
    <li><a href="#ref-for-readablestream-errored①">6.3.1. fetch()</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-term-for-readablestream-readable" class="dfn-panel" data-for="term-for-readablestream-readable" id="infopanel-for-term-for-readablestream-readable" role="menu">
   <span id="infopaneltitle-for-term-for-readablestream-readable" style="display:none">Info about the 'readable' external reference.</span><a href="https://streams.spec.whatwg.org/#readablestream-readable">https://streams.spec.whatwg.org/#readablestream-readable</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-readablestream-readable">6.3.1. fetch()</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-term-for-concept-url-origin" class="dfn-panel" data-for="term-for-concept-url-origin" id="infopanel-for-term-for-concept-url-origin" role="menu">
   <span id="infopaneltitle-for-term-for-concept-url-origin" style="display:none">Info about the 'origin' external reference.</span><a href="https://url.spec.whatwg.org/#concept-url-origin">https://url.spec.whatwg.org/#concept-url-origin</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-concept-url-origin">3.2.1. Display</a>
    <li><a href="#ref-for-concept-url-origin①">4.3. Update background fetch instances</a>
    <li><a href="#ref-for-concept-url-origin②">8. Privacy and bandwidth usage</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-term-for-dfn-current-top-level-browsing-context" class="dfn-panel" data-for="term-for-dfn-current-top-level-browsing-context" id="infopanel-for-term-for-dfn-current-top-level-browsing-context" role="menu">
   <span id="infopaneltitle-for-term-for-dfn-current-top-level-browsing-context" style="display:none">Info about the 'current top-level browsing context' external reference.</span><a href="https://w3c.github.io/webdriver/#dfn-current-top-level-browsing-context">https://w3c.github.io/webdriver/#dfn-current-top-level-browsing-context</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dfn-current-top-level-browsing-context">7.1. Click</a> <a href="#ref-for-dfn-current-top-level-browsing-context①">(2)</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-term-for-dfn-extension-command" class="dfn-panel" data-for="term-for-dfn-extension-command" id="infopanel-for-term-for-dfn-extension-command" role="menu">
   <span id="infopaneltitle-for-term-for-dfn-extension-command" style="display:none">Info about the 'extension command' external reference.</span><a href="https://w3c.github.io/webdriver/#dfn-extension-command">https://w3c.github.io/webdriver/#dfn-extension-command</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dfn-extension-command">7. Automation</a>
    <li><a href="#ref-for-dfn-extension-command①">7.1. Click</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-term-for-dfn-extension-command-uri-template" class="dfn-panel" data-for="term-for-dfn-extension-command-uri-template" id="infopanel-for-term-for-dfn-extension-command-uri-template" role="menu">
   <span id="infopaneltitle-for-term-for-dfn-extension-command-uri-template" style="display:none">Info about the 'extension command uri template' external reference.</span><a href="https://w3c.github.io/webdriver/#dfn-extension-command-uri-template">https://w3c.github.io/webdriver/#dfn-extension-command-uri-template</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dfn-extension-command-uri-template">7.1. Click</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-term-for-dfn-no-longer-open" class="dfn-panel" data-for="term-for-dfn-no-longer-open" id="infopanel-for-term-for-dfn-no-longer-open" role="menu">
   <span id="infopaneltitle-for-term-for-dfn-no-longer-open" style="display:none">Info about the 'no longer open' external reference.</span><a href="https://w3c.github.io/webdriver/#dfn-no-longer-open">https://w3c.github.io/webdriver/#dfn-no-longer-open</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dfn-no-longer-open">7.1. Click</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-term-for-dfn-no-such-window" class="dfn-panel" data-for="term-for-dfn-no-such-window" id="infopanel-for-term-for-dfn-no-such-window" role="menu">
   <span id="infopaneltitle-for-term-for-dfn-no-such-window" style="display:none">Info about the 'no such window' external reference.</span><a href="https://w3c.github.io/webdriver/#dfn-no-such-window">https://w3c.github.io/webdriver/#dfn-no-such-window</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dfn-no-such-window">7.1. Click</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-term-for-dfn-remote-end-steps" class="dfn-panel" data-for="term-for-dfn-remote-end-steps" id="infopanel-for-term-for-dfn-remote-end-steps" role="menu">
   <span id="infopaneltitle-for-term-for-dfn-remote-end-steps" style="display:none">Info about the 'remote end steps' external reference.</span><a href="https://w3c.github.io/webdriver/#dfn-remote-end-steps">https://w3c.github.io/webdriver/#dfn-remote-end-steps</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dfn-remote-end-steps">7.1. Click</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-term-for-dfn-url-variables" class="dfn-panel" data-for="term-for-dfn-url-variables" id="infopanel-for-term-for-dfn-url-variables" role="menu">
   <span id="infopaneltitle-for-term-for-dfn-url-variables" style="display:none">Info about the 'url variable' external reference.</span><a href="https://w3c.github.io/webdriver/#dfn-url-variables">https://w3c.github.io/webdriver/#dfn-url-variables</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dfn-url-variables">7.1. Click</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-term-for-dfn-errors" class="dfn-panel" data-for="term-for-dfn-errors" id="infopanel-for-term-for-dfn-errors" role="menu">
   <span id="infopaneltitle-for-term-for-dfn-errors" style="display:none">Info about the 'webdriver error' external reference.</span><a href="https://w3c.github.io/webdriver/#dfn-errors">https://w3c.github.io/webdriver/#dfn-errors</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dfn-errors">7.1. Click</a> <a href="#ref-for-dfn-errors①">(2)</a> <a href="#ref-for-dfn-errors②">(3)</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-term-for-dfn-error-code" class="dfn-panel" data-for="term-for-dfn-error-code" id="infopanel-for-term-for-dfn-error-code" role="menu">
   <span id="infopaneltitle-for-term-for-dfn-error-code" style="display:none">Info about the 'webdriver error code' external reference.</span><a href="https://w3c.github.io/webdriver/#dfn-error-code">https://w3c.github.io/webdriver/#dfn-error-code</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dfn-error-code">7.1. Click</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-term-for-dfn-success" class="dfn-panel" data-for="term-for-dfn-success" id="infopanel-for-term-for-dfn-success" role="menu">
   <span id="infopaneltitle-for-term-for-dfn-success" style="display:none">Info about the 'webdriver success' external reference.</span><a href="https://w3c.github.io/webdriver/#dfn-success">https://w3c.github.io/webdriver/#dfn-success</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dfn-success">7.1. Click</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-term-for-aborterror" class="dfn-panel" data-for="term-for-aborterror" id="infopanel-for-term-for-aborterror" role="menu">
   <span id="infopaneltitle-for-term-for-aborterror" style="display:none">Info about the 'AbortError' external reference.</span><a href="https://webidl.spec.whatwg.org/#aborterror">https://webidl.spec.whatwg.org/#aborterror</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-aborterror">4.8. Create record objects</a> <a href="#ref-for-aborterror①">(2)</a>
    <li><a href="#ref-for-aborterror②">6.3.1. fetch()</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-term-for-idl-ArrayBuffer" class="dfn-panel" data-for="term-for-idl-ArrayBuffer" id="infopanel-for-term-for-idl-ArrayBuffer" role="menu">
   <span id="infopaneltitle-for-term-for-idl-ArrayBuffer" style="display:none">Info about the 'ArrayBuffer' external reference.</span><a href="https://webidl.spec.whatwg.org/#idl-ArrayBuffer">https://webidl.spec.whatwg.org/#idl-ArrayBuffer</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-idl-ArrayBuffer">4.8. Create record objects</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-term-for-idl-DOMException" class="dfn-panel" data-for="term-for-idl-DOMException" id="infopanel-for-term-for-idl-DOMException" role="menu">
   <span id="infopaneltitle-for-term-for-idl-DOMException" style="display:none">Info about the 'DOMException' external reference.</span><a href="https://webidl.spec.whatwg.org/#idl-DOMException">https://webidl.spec.whatwg.org/#idl-DOMException</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-idl-DOMException">4.8. Create record objects</a> <a href="#ref-for-idl-DOMException①">(2)</a>
    <li><a href="#ref-for-idl-DOMException②">6.3.1. fetch()</a> <a href="#ref-for-idl-DOMException③">(2)</a> <a href="#ref-for-idl-DOMException④">(3)</a>
    <li><a href="#ref-for-idl-DOMException⑤">6.4.4. matchAll()</a>
    <li><a href="#ref-for-idl-DOMException⑥">6.7.1. updateUI()</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-term-for-idl-DOMString" class="dfn-panel" data-for="term-for-idl-DOMString" id="infopanel-for-term-for-idl-DOMString" role="menu">
   <span id="infopaneltitle-for-term-for-idl-DOMString" style="display:none">Info about the 'DOMString' external reference.</span><a href="https://webidl.spec.whatwg.org/#idl-DOMString">https://webidl.spec.whatwg.org/#idl-DOMString</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-idl-DOMString">6.3. BackgroundFetchManager</a> <a href="#ref-for-idl-DOMString①">(2)</a> <a href="#ref-for-idl-DOMString②">(3)</a> <a href="#ref-for-idl-DOMString③">(4)</a>
    <li><a href="#ref-for-idl-DOMString④">6.4. BackgroundFetchRegistration</a>
    <li><a href="#ref-for-idl-DOMString⑤">6.6. BackgroundFetchEvent</a>
    <li><a href="#ref-for-idl-DOMString⑥">6.7. BackgroundFetchUpdateUIEvent</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-term-for-Exposed" class="dfn-panel" data-for="term-for-Exposed" id="infopanel-for-term-for-Exposed" role="menu">
   <span id="infopaneltitle-for-term-for-Exposed" style="display:none">Info about the 'Exposed' external reference.</span><a href="https://webidl.spec.whatwg.org/#Exposed">https://webidl.spec.whatwg.org/#Exposed</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-Exposed">6.3. BackgroundFetchManager</a>
    <li><a href="#ref-for-Exposed①">6.4. BackgroundFetchRegistration</a>
    <li><a href="#ref-for-Exposed②">6.5. BackgroundFetchRecord</a>
    <li><a href="#ref-for-Exposed③">6.6. BackgroundFetchEvent</a>
    <li><a href="#ref-for-Exposed④">6.7. BackgroundFetchUpdateUIEvent</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-term-for-invalidstateerror" class="dfn-panel" data-for="term-for-invalidstateerror" id="infopanel-for-term-for-invalidstateerror" role="menu">
   <span id="infopaneltitle-for-term-for-invalidstateerror" style="display:none">Info about the 'InvalidStateError' external reference.</span><a href="https://webidl.spec.whatwg.org/#invalidstateerror">https://webidl.spec.whatwg.org/#invalidstateerror</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-invalidstateerror">6.4.4. matchAll()</a>
    <li><a href="#ref-for-invalidstateerror①">6.7.1. updateUI()</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-term-for-notallowederror" class="dfn-panel" data-for="term-for-notallowederror" id="infopanel-for-term-for-notallowederror" role="menu">
   <span id="infopaneltitle-for-term-for-notallowederror" style="display:none">Info about the 'NotAllowedError' external reference.</span><a href="https://webidl.spec.whatwg.org/#notallowederror">https://webidl.spec.whatwg.org/#notallowederror</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-notallowederror">6.3.1. fetch()</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-term-for-idl-promise" class="dfn-panel" data-for="term-for-idl-promise" id="infopanel-for-term-for-idl-promise" role="menu">
   <span id="infopaneltitle-for-term-for-idl-promise" style="display:none">Info about the 'Promise' external reference.</span><a href="https://webidl.spec.whatwg.org/#idl-promise">https://webidl.spec.whatwg.org/#idl-promise</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-idl-promise">6.3. BackgroundFetchManager</a> <a href="#ref-for-idl-promise①">(2)</a> <a href="#ref-for-idl-promise②">(3)</a>
    <li><a href="#ref-for-idl-promise③">6.4. BackgroundFetchRegistration</a> <a href="#ref-for-idl-promise④">(2)</a> <a href="#ref-for-idl-promise⑤">(3)</a>
    <li><a href="#ref-for-idl-promise⑥">6.5. BackgroundFetchRecord</a> <a href="#ref-for-idl-promise⑦">(2)</a>
    <li><a href="#ref-for-idl-promise⑧">6.7. BackgroundFetchUpdateUIEvent</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-term-for-quotaexceedederror" class="dfn-panel" data-for="term-for-quotaexceedederror" id="infopanel-for-term-for-quotaexceedederror" role="menu">
   <span id="infopaneltitle-for-term-for-quotaexceedederror" style="display:none">Info about the 'QuotaExceededError' external reference.</span><a href="https://webidl.spec.whatwg.org/#quotaexceedederror">https://webidl.spec.whatwg.org/#quotaexceedederror</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-quotaexceedederror">6.3.1. fetch()</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-term-for-exceptiondef-typeerror" class="dfn-panel" data-for="term-for-exceptiondef-typeerror" id="infopanel-for-term-for-exceptiondef-typeerror" role="menu">
   <span id="infopaneltitle-for-term-for-exceptiondef-typeerror" style="display:none">Info about the 'TypeError' external reference.</span><a href="https://webidl.spec.whatwg.org/#exceptiondef-typeerror">https://webidl.spec.whatwg.org/#exceptiondef-typeerror</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-exceptiondef-typeerror">4.8. Create record objects</a> <a href="#ref-for-exceptiondef-typeerror①">(2)</a>
    <li><a href="#ref-for-exceptiondef-typeerror②">6.3.1. fetch()</a> <a href="#ref-for-exceptiondef-typeerror③">(2)</a> <a href="#ref-for-exceptiondef-typeerror④">(3)</a> <a href="#ref-for-exceptiondef-typeerror⑤">(4)</a> <a href="#ref-for-exceptiondef-typeerror⑥">(5)</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-term-for-idl-Uint8Array" class="dfn-panel" data-for="term-for-idl-Uint8Array" id="infopanel-for-term-for-idl-Uint8Array" role="menu">
   <span id="infopaneltitle-for-term-for-idl-Uint8Array" style="display:none">Info about the 'Uint8Array' external reference.</span><a href="https://webidl.spec.whatwg.org/#idl-Uint8Array">https://webidl.spec.whatwg.org/#idl-Uint8Array</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-idl-Uint8Array">4.8. Create record objects</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-term-for-a-new-promise" class="dfn-panel" data-for="term-for-a-new-promise" id="infopanel-for-term-for-a-new-promise" role="menu">
   <span id="infopaneltitle-for-term-for-a-new-promise" style="display:none">Info about the 'a new promise' external reference.</span><a href="https://webidl.spec.whatwg.org/#a-new-promise">https://webidl.spec.whatwg.org/#a-new-promise</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-a-new-promise">4.8. Create record objects</a> <a href="#ref-for-a-new-promise①">(2)</a>
    <li><a href="#ref-for-a-new-promise②">6.3.1. fetch()</a>
    <li><a href="#ref-for-a-new-promise③">6.3.2. get()</a>
    <li><a href="#ref-for-a-new-promise④">6.3.3. getIds()</a>
    <li><a href="#ref-for-a-new-promise⑤">6.4.2. abort()</a>
    <li><a href="#ref-for-a-new-promise⑥">6.4.4. matchAll()</a>
    <li><a href="#ref-for-a-new-promise⑦">6.7.1. updateUI()</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-term-for-a-promise-rejected-with" class="dfn-panel" data-for="term-for-a-promise-rejected-with" id="infopanel-for-term-for-a-promise-rejected-with" role="menu">
   <span id="infopaneltitle-for-term-for-a-promise-rejected-with" style="display:none">Info about the 'a promise rejected with' external reference.</span><a href="https://webidl.spec.whatwg.org/#a-promise-rejected-with">https://webidl.spec.whatwg.org/#a-promise-rejected-with</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-a-promise-rejected-with">6.3.1. fetch()</a> <a href="#ref-for-a-promise-rejected-with①">(2)</a> <a href="#ref-for-a-promise-rejected-with②">(3)</a>
    <li><a href="#ref-for-a-promise-rejected-with③">6.4.4. matchAll()</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-term-for-idl-boolean" class="dfn-panel" data-for="term-for-idl-boolean" id="infopanel-for-term-for-idl-boolean" role="menu">
   <span id="infopaneltitle-for-term-for-idl-boolean" style="display:none">Info about the 'boolean' external reference.</span><a href="https://webidl.spec.whatwg.org/#idl-boolean">https://webidl.spec.whatwg.org/#idl-boolean</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-idl-boolean">6.4. BackgroundFetchRegistration</a> <a href="#ref-for-idl-boolean①">(2)</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-term-for-dfn-perform-steps-once-promise-is-settled" class="dfn-panel" data-for="term-for-dfn-perform-steps-once-promise-is-settled" id="infopanel-for-term-for-dfn-perform-steps-once-promise-is-settled" role="menu">
   <span id="infopaneltitle-for-term-for-dfn-perform-steps-once-promise-is-settled" style="display:none">Info about the 'reacting' external reference.</span><a href="https://webidl.spec.whatwg.org/#dfn-perform-steps-once-promise-is-settled">https://webidl.spec.whatwg.org/#dfn-perform-steps-once-promise-is-settled</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dfn-perform-steps-once-promise-is-settled">6.4.3. match()</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-term-for-reject" class="dfn-panel" data-for="term-for-reject" id="infopanel-for-term-for-reject" role="menu">
   <span id="infopaneltitle-for-term-for-reject" style="display:none">Info about the 'reject' external reference.</span><a href="https://webidl.spec.whatwg.org/#reject">https://webidl.spec.whatwg.org/#reject</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-reject">4.8. Create record objects</a> <a href="#ref-for-reject①">(2)</a>
    <li><a href="#ref-for-reject②">6.3.1. fetch()</a> <a href="#ref-for-reject③">(2)</a> <a href="#ref-for-reject④">(3)</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-term-for-resolve" class="dfn-panel" data-for="term-for-resolve" id="infopanel-for-term-for-resolve" role="menu">
   <span id="infopaneltitle-for-term-for-resolve" style="display:none">Info about the 'resolve' external reference.</span><a href="https://webidl.spec.whatwg.org/#resolve">https://webidl.spec.whatwg.org/#resolve</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-resolve">4.8. Create record objects</a> <a href="#ref-for-resolve①">(2)</a>
    <li><a href="#ref-for-resolve②">6.3.1. fetch()</a>
    <li><a href="#ref-for-resolve③">6.3.2. get()</a> <a href="#ref-for-resolve④">(2)</a>
    <li><a href="#ref-for-resolve⑤">6.3.3. getIds()</a>
    <li><a href="#ref-for-resolve⑥">6.4.2. abort()</a> <a href="#ref-for-resolve⑦">(2)</a>
    <li><a href="#ref-for-resolve⑧">6.4.4. matchAll()</a>
    <li><a href="#ref-for-resolve⑨">6.7.1. updateUI()</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-term-for-idl-sequence" class="dfn-panel" data-for="term-for-idl-sequence" id="infopanel-for-term-for-idl-sequence" role="menu">
   <span id="infopaneltitle-for-term-for-idl-sequence" style="display:none">Info about the 'sequence' external reference.</span><a href="https://webidl.spec.whatwg.org/#idl-sequence">https://webidl.spec.whatwg.org/#idl-sequence</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-idl-sequence">6.3. BackgroundFetchManager</a> <a href="#ref-for-idl-sequence①">(2)</a> <a href="#ref-for-idl-sequence②">(3)</a>
    <li><a href="#ref-for-idl-sequence③">6.4. BackgroundFetchRegistration</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-term-for-idl-unsigned-long-long" class="dfn-panel" data-for="term-for-idl-unsigned-long-long" id="infopanel-for-term-for-idl-unsigned-long-long" role="menu">
   <span id="infopaneltitle-for-term-for-idl-unsigned-long-long" style="display:none">Info about the 'unsigned long long' external reference.</span><a href="https://webidl.spec.whatwg.org/#idl-unsigned-long-long">https://webidl.spec.whatwg.org/#idl-unsigned-long-long</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-idl-unsigned-long-long">6.3. BackgroundFetchManager</a>
    <li><a href="#ref-for-idl-unsigned-long-long①">6.4. BackgroundFetchRegistration</a> <a href="#ref-for-idl-unsigned-long-long②">(2)</a> <a href="#ref-for-idl-unsigned-long-long③">(3)</a> <a href="#ref-for-idl-unsigned-long-long④">(4)</a>
   </ul>
  </aside>
  <h3 class="no-num no-ref heading settled" id="index-defined-elsewhere"><span class="content">Terms defined by reference</span><a class="self-link" href="#index-defined-elsewhere"></a></h3>
  <ul class="index">
   <li>
    <a data-link-type="biblio">[]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="term-for-section-7">http abnf</span>
    </ul>
   <li>
    <a data-link-type="biblio">[DOM]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="term-for-event">Event</span>
     <li><span class="dfn-paneled" id="term-for-eventtarget">EventTarget</span>
     <li><span class="dfn-paneled" id="term-for-concept-event-fire">fire an event</span>
     <li><span class="dfn-paneled" id="term-for-dom-event-istrusted">isTrusted</span>
     <li><span class="dfn-paneled" id="term-for-concept-document-url">url</span>
    </ul>
   <li>
    <a data-link-type="biblio">[ECMASCRIPT]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="term-for-realm">realm</span>
    </ul>
   <li>
    <a data-link-type="biblio">[FETCH]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="term-for-headers">Headers</span>
     <li><span class="dfn-paneled" id="term-for-request">Request</span>
     <li><span class="dfn-paneled" id="term-for-requestinfo">RequestInfo</span>
     <li><span class="dfn-paneled" id="term-for-response">Response</span>
     <li><span class="dfn-paneled" id="term-for-concept-aborted-network-error">aborted network error</span>
     <li><span class="dfn-paneled" id="term-for-concept-request-add-range-header">add a range header</span>
     <li><span class="dfn-paneled" id="term-for-concept-body">body</span>
     <li><span class="dfn-paneled" id="term-for-concept-request-body">body <small>(for request)</small></span>
     <li><span class="dfn-paneled" id="term-for-concept-response-body">body <small>(for response)</small></span>
     <li><span class="dfn-paneled" id="term-for-concept-request-client">client</span>
     <li><span class="dfn-paneled" id="term-for-concept-header-list-combine">combine</span>
     <li><span class="dfn-paneled" id="term-for-header-list-contains">contains</span>
     <li><span class="dfn-paneled" id="term-for-concept-request-credentials-mode">credentials mode</span>
     <li><span class="dfn-paneled" id="term-for-concept-header-list-delete">delete</span>
     <li><span class="dfn-paneled" id="term-for-concept-request-destination">destination</span>
     <li><span class="dfn-paneled" id="term-for-concept-fetch">fetch</span>
     <li><span class="dfn-paneled" id="term-for-concept-header">header</span>
     <li><span class="dfn-paneled" id="term-for-concept-request-header-list">header list <small>(for request)</small></span>
     <li><span class="dfn-paneled" id="term-for-concept-response-header-list">header list <small>(for response)</small></span>
     <li><span class="dfn-paneled" id="term-for-request-headers">headers <small>(for Request)</small></span>
     <li><span class="dfn-paneled" id="term-for-response-headers">headers <small>(for Response)</small></span>
     <li><span class="dfn-paneled" id="term-for-concept-request-method">method</span>
     <li><span class="dfn-paneled" id="term-for-concept-request-mode">mode</span>
     <li><span class="dfn-paneled" id="term-for-concept-header-name">name</span>
     <li><span class="dfn-paneled" id="term-for-concept-network-error">network error</span>
     <li><span class="dfn-paneled" id="term-for-ok-status">ok status</span>
     <li><span class="dfn-paneled" id="term-for-concept-request">request</span>
     <li><span class="dfn-paneled" id="term-for-concept-request-request">request <small>(for Request)</small></span>
     <li><span class="dfn-paneled" id="term-for-concept-response">response</span>
     <li><span class="dfn-paneled" id="term-for-concept-response-response">response <small>(for Response)</small></span>
     <li><span class="dfn-paneled" id="term-for-request-service-workers-mode">service-workers mode</span>
     <li><span class="dfn-paneled" id="term-for-concept-response-status">status</span>
     <li><span class="dfn-paneled" id="term-for-concept-body-stream">stream</span>
     <li><span class="dfn-paneled" id="term-for-concept-request-url">url</span>
     <li><span class="dfn-paneled" id="term-for-concept-header-value">value</span>
    </ul>
   <li>
    <a data-link-type="biblio">[HTML]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="term-for-eventhandler">EventHandler</span>
     <li><span class="dfn-paneled" id="term-for-nav-document">active document</span>
     <li><span class="dfn-paneled" id="term-for-enqueue-the-following-steps">enqueue the following steps</span>
     <li><span class="dfn-paneled" id="term-for-environment-settings-object">environment settings object</span>
     <li><span class="dfn-paneled" id="term-for-event-handlers">event handler</span>
     <li><span class="dfn-paneled" id="term-for-event-handler-event-type">event handler event type</span>
     <li><span class="dfn-paneled" id="term-for-event-handler-idl-attributes">event handler idl attribute</span>
     <li><span class="dfn-paneled" id="term-for-concept-agent-event-loop">event loop</span>
     <li><span class="dfn-paneled" id="term-for-in-parallel">in parallel</span>
     <li><span class="dfn-paneled" id="term-for-networking-task-source">networking task source</span>
     <li><span class="dfn-paneled" id="term-for-concept-settings-object-origin">origin</span>
     <li><span class="dfn-paneled" id="term-for-parallel-queue">parallel queue</span>
     <li><span class="dfn-paneled" id="term-for-queue-a-task">queue a task</span>
     <li><span class="dfn-paneled" id="term-for-concept-relevant-realm">relevant realm</span>
     <li><span class="dfn-paneled" id="term-for-relevant-settings-object">relevant settings object</span>
     <li><span class="dfn-paneled" id="term-for-responsible-event-loop">responsible event loop</span>
     <li><span class="dfn-paneled" id="term-for-starting-a-new-parallel-queue">starting a new parallel queue</span>
     <li><span class="dfn-paneled" id="term-for-task-source">task source</span>
    </ul>
   <li>
    <a data-link-type="biblio">[IMAGE-RESOURCE]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="term-for-dom-imageresource">ImageResource</span>
     <li><span class="dfn-paneled" id="term-for-image-resource">image resource</span>
     <li><span class="dfn-paneled" id="term-for-processing-an-imageresource-from-an-api">processing</span>
     <li><span class="dfn-paneled" id="term-for-dfn-src">src</span>
    </ul>
   <li>
    <a data-link-type="biblio">[INFRA]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="term-for-abort-when">abort when</span>
     <li><span class="dfn-paneled" id="term-for-list-append">append</span>
     <li><span class="dfn-paneled" id="term-for-byte-sequence">byte sequence</span>
     <li><span class="dfn-paneled" id="term-for-byte-case-insensitive">byte-case-insensitive</span>
     <li><span class="dfn-paneled" id="term-for-iteration-continue">continue</span>
     <li><span class="dfn-paneled" id="term-for-list-empty">empty</span>
     <li><span class="dfn-paneled" id="term-for-map-exists">exist</span>
     <li><span class="dfn-paneled" id="term-for-list-iterate">for each</span>
     <li><span class="dfn-paneled" id="term-for-map-getting-the-keys">getting the keys</span>
     <li><span class="dfn-paneled" id="term-for-if-aborted">if aborted</span>
     <li><span class="dfn-paneled" id="term-for-byte-sequence-length">length</span>
     <li><span class="dfn-paneled" id="term-for-list">list</span>
     <li><span class="dfn-paneled" id="term-for-ordered-map">map</span>
     <li><span class="dfn-paneled" id="term-for-list-size">size</span>
    </ul>
   <li>
    <a data-link-type="biblio">[PERMISSIONS]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="term-for-dom-permissiondescriptor">PermissionDescriptor</span>
     <li><span class="dfn-paneled" id="term-for-dom-permissiondescriptor-name">name</span>
     <li><span class="dfn-paneled" id="term-for-dfn-new-information-about-the-user-s-intent">new information about the user's intent</span>
     <li><span class="dfn-paneled" id="term-for-dfn-permission-state">permission state</span>
    </ul>
   <li>
    <a data-link-type="biblio">[SERVICE-WORKERS]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="term-for-dictdef-cachequeryoptions">CacheQueryOptions</span>
     <li><span class="dfn-paneled" id="term-for-extendableevent">ExtendableEvent</span>
     <li><span class="dfn-paneled" id="term-for-dictdef-extendableeventinit">ExtendableEventInit</span>
     <li><span class="dfn-paneled" id="term-for-serviceworker">ServiceWorker</span>
     <li><span class="dfn-paneled" id="term-for-serviceworkerglobalscope">ServiceWorkerGlobalScope</span>
     <li><span class="dfn-paneled" id="term-for-serviceworkerregistration">ServiceWorkerRegistration</span>
     <li><span class="dfn-paneled" id="term-for-extendableevent-active">active</span>
     <li><span class="dfn-paneled" id="term-for-dfn-active-worker">active worker</span>
     <li><span class="dfn-paneled" id="term-for-fire-functional-event">fire a functional event</span>
     <li><span class="dfn-paneled" id="term-for-match-service-worker-registration">match service worker registration</span>
     <li><span class="dfn-paneled" id="term-for-request-matches-cached-item">request matches cached item</span>
     <li><span class="dfn-paneled" id="term-for-dfn-scope-url">scope url</span>
     <li><span class="dfn-paneled" id="term-for-dfn-service-worker">service worker</span>
     <li><span class="dfn-paneled" id="term-for-dfn-service-worker-registration">service worker registration</span>
     <li><span class="dfn-paneled" id="term-for-dom-extendableevent-waituntil">waitUntil(f)</span>
    </ul>
   <li>
    <a data-link-type="biblio">[STREAMS]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="term-for-readablestream-cancel">cancel</span>
     <li><span class="dfn-paneled" id="term-for-readablestream-close">close</span>
     <li><span class="dfn-paneled" id="term-for-readablestream-enqueue">enqueue</span>
     <li><span class="dfn-paneled" id="term-for-readablestream-error">error</span>
     <li><span class="dfn-paneled" id="term-for-readablestream-errored">errored</span>
     <li><span class="dfn-paneled" id="term-for-readablestream-readable">readable</span>
    </ul>
   <li>
    <a data-link-type="biblio">[URL]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="term-for-concept-url-origin">origin</span>
    </ul>
   <li>
    <a data-link-type="biblio">[WebDriver]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="term-for-dfn-current-top-level-browsing-context">current top-level browsing context</span>
     <li><span class="dfn-paneled" id="term-for-dfn-extension-command">extension command</span>
     <li><span class="dfn-paneled" id="term-for-dfn-extension-command-uri-template">extension command uri template</span>
     <li><span class="dfn-paneled" id="term-for-dfn-no-longer-open">no longer open</span>
     <li><span class="dfn-paneled" id="term-for-dfn-no-such-window">no such window</span>
     <li><span class="dfn-paneled" id="term-for-dfn-remote-end-steps">remote end steps</span>
     <li><span class="dfn-paneled" id="term-for-dfn-url-variables">url variable</span>
     <li><span class="dfn-paneled" id="term-for-dfn-errors">webdriver error</span>
     <li><span class="dfn-paneled" id="term-for-dfn-error-code">webdriver error code</span>
     <li><span class="dfn-paneled" id="term-for-dfn-success">webdriver success</span>
    </ul>
   <li>
    <a data-link-type="biblio">[WEBIDL]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="term-for-aborterror">AbortError</span>
     <li><span class="dfn-paneled" id="term-for-idl-ArrayBuffer">ArrayBuffer</span>
     <li><span class="dfn-paneled" id="term-for-idl-DOMException">DOMException</span>
     <li><span class="dfn-paneled" id="term-for-idl-DOMString">DOMString</span>
     <li><span class="dfn-paneled" id="term-for-Exposed">Exposed</span>
     <li><span class="dfn-paneled" id="term-for-invalidstateerror">InvalidStateError</span>
     <li><span class="dfn-paneled" id="term-for-notallowederror">NotAllowedError</span>
     <li><span class="dfn-paneled" id="term-for-idl-promise">Promise</span>
     <li><span class="dfn-paneled" id="term-for-quotaexceedederror">QuotaExceededError</span>
     <li><span class="dfn-paneled" id="term-for-exceptiondef-typeerror">TypeError</span>
     <li><span class="dfn-paneled" id="term-for-idl-Uint8Array">Uint8Array</span>
     <li><span class="dfn-paneled" id="term-for-a-new-promise">a new promise</span>
     <li><span class="dfn-paneled" id="term-for-a-promise-rejected-with">a promise rejected with</span>
     <li><span class="dfn-paneled" id="term-for-idl-boolean">boolean</span>
     <li><span class="dfn-paneled" id="term-for-dfn-perform-steps-once-promise-is-settled">reacting</span>
     <li><span class="dfn-paneled" id="term-for-reject">reject</span>
     <li><span class="dfn-paneled" id="term-for-resolve">resolve</span>
     <li><span class="dfn-paneled" id="term-for-idl-sequence">sequence</span>
     <li><span class="dfn-paneled" id="term-for-idl-unsigned-long-long">unsigned long long</span>
    </ul>
  </ul>
  <h2 class="no-num no-ref heading settled" id="references"><span class="content">References</span><a class="self-link" href="#references"></a></h2>
  <h3 class="no-num no-ref heading settled" id="normative"><span class="content">Normative References</span><a class="self-link" href="#normative"></a></h3>
  <dl>
   <dt id="biblio-dom">[DOM]
   <dd>Anne van Kesteren. <a href="https://dom.spec.whatwg.org/"><cite>DOM Standard</cite></a>. Living Standard. URL: <a href="https://dom.spec.whatwg.org/">https://dom.spec.whatwg.org/</a>
   <dt id="biblio-ecmascript">[ECMASCRIPT]
   <dd><a href="https://tc39.es/ecma262/multipage/"><cite>ECMAScript Language Specification</cite></a>. URL: <a href="https://tc39.es/ecma262/multipage/">https://tc39.es/ecma262/multipage/</a>
   <dt id="biblio-fetch">[FETCH]
   <dd>Anne van Kesteren. <a href="https://fetch.spec.whatwg.org/"><cite>Fetch Standard</cite></a>. Living Standard. URL: <a href="https://fetch.spec.whatwg.org/">https://fetch.spec.whatwg.org/</a>
   <dt id="biblio-html">[HTML]
   <dd>Anne van Kesteren; et al. <a href="https://html.spec.whatwg.org/multipage/"><cite>HTML Standard</cite></a>. Living Standard. URL: <a href="https://html.spec.whatwg.org/multipage/">https://html.spec.whatwg.org/multipage/</a>
   <dt id="biblio-image-resource">[IMAGE-RESOURCE]
   <dd>Aaron Gustafson; Rayan Kanso; Marcos Caceres. <a href="https://w3c.github.io/image-resource/"><cite>Image Resource</cite></a>. URL: <a href="https://w3c.github.io/image-resource/">https://w3c.github.io/image-resource/</a>
   <dt id="biblio-infra">[INFRA]
   <dd>Anne van Kesteren; Domenic Denicola. <a href="https://infra.spec.whatwg.org/"><cite>Infra Standard</cite></a>. Living Standard. URL: <a href="https://infra.spec.whatwg.org/">https://infra.spec.whatwg.org/</a>
   <dt id="biblio-permissions">[PERMISSIONS]
   <dd>Marcos Caceres; Mike Taylor. <a href="https://w3c.github.io/permissions/"><cite>Permissions</cite></a>. URL: <a href="https://w3c.github.io/permissions/">https://w3c.github.io/permissions/</a>
   <dt id="biblio-rfc2119">[RFC2119]
   <dd>S. Bradner. <a href="https://datatracker.ietf.org/doc/html/rfc2119"><cite>Key words for use in RFCs to Indicate Requirement Levels</cite></a>. March 1997. Best Current Practice. URL: <a href="https://datatracker.ietf.org/doc/html/rfc2119">https://datatracker.ietf.org/doc/html/rfc2119</a>
   <dt id="biblio-service-workers">[SERVICE-WORKERS]
   <dd>Jake Archibald; Marijn Kruisselbrink. <a href="https://w3c.github.io/ServiceWorker/"><cite>Service Workers</cite></a>. URL: <a href="https://w3c.github.io/ServiceWorker/">https://w3c.github.io/ServiceWorker/</a>
   <dt id="biblio-streams">[STREAMS]
   <dd>Adam Rice; et al. <a href="https://streams.spec.whatwg.org/"><cite>Streams Standard</cite></a>. Living Standard. URL: <a href="https://streams.spec.whatwg.org/">https://streams.spec.whatwg.org/</a>
   <dt id="biblio-url">[URL]
   <dd>Anne van Kesteren. <a href="https://url.spec.whatwg.org/"><cite>URL Standard</cite></a>. Living Standard. URL: <a href="https://url.spec.whatwg.org/">https://url.spec.whatwg.org/</a>
   <dt id="biblio-webdriver">[WebDriver]
   <dd>Simon Stewart; David Burns. <a href="https://w3c.github.io/webdriver/"><cite>WebDriver</cite></a>. URL: <a href="https://w3c.github.io/webdriver/">https://w3c.github.io/webdriver/</a>
   <dt id="biblio-webidl">[WEBIDL]
   <dd>Edgar Chen; Timothy Gu. <a href="https://webidl.spec.whatwg.org/"><cite>Web IDL Standard</cite></a>. Living Standard. URL: <a href="https://webidl.spec.whatwg.org/">https://webidl.spec.whatwg.org/</a>
  </dl>
  <h2 class="no-num no-ref heading settled" id="idl-index"><span class="content">IDL Index</span><a class="self-link" href="#idl-index"></a></h2>
<pre class="idl highlight def"><c- b>partial</c-> <c- b>interface</c-> <a class="idl-code" data-link-type="interface" href="https://w3c.github.io/ServiceWorker/#serviceworkerglobalscope"><c- g>ServiceWorkerGlobalScope</c-></a> {
  <c- b>attribute</c-> <a data-link-type="idl-name" href="https://html.spec.whatwg.org/multipage/webappapis.html#eventhandler"><c- n>EventHandler</c-></a> <a data-type="EventHandler" href="#dom-serviceworkerglobalscope-onbackgroundfetchsuccess"><code><c- g>onbackgroundfetchsuccess</c-></code></a>;
  <c- b>attribute</c-> <a data-link-type="idl-name" href="https://html.spec.whatwg.org/multipage/webappapis.html#eventhandler"><c- n>EventHandler</c-></a> <a data-type="EventHandler" href="#dom-serviceworkerglobalscope-onbackgroundfetchfail"><code><c- g>onbackgroundfetchfail</c-></code></a>;
  <c- b>attribute</c-> <a data-link-type="idl-name" href="https://html.spec.whatwg.org/multipage/webappapis.html#eventhandler"><c- n>EventHandler</c-></a> <a data-type="EventHandler" href="#dom-serviceworkerglobalscope-onbackgroundfetchabort"><code><c- g>onbackgroundfetchabort</c-></code></a>;
  <c- b>attribute</c-> <a data-link-type="idl-name" href="https://html.spec.whatwg.org/multipage/webappapis.html#eventhandler"><c- n>EventHandler</c-></a> <a data-type="EventHandler" href="#dom-serviceworkerglobalscope-onbackgroundfetchclick"><code><c- g>onbackgroundfetchclick</c-></code></a>;
};

<c- b>partial</c-> <c- b>interface</c-> <a class="idl-code" data-link-type="interface" href="https://w3c.github.io/ServiceWorker/#serviceworkerregistration"><c- g>ServiceWorkerRegistration</c-></a> {
  <c- b>readonly</c-> <c- b>attribute</c-> <a data-link-type="idl-name" href="#backgroundfetchmanager"><c- n>BackgroundFetchManager</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="BackgroundFetchManager" href="#dom-serviceworkerregistration-backgroundfetch"><c- g>backgroundFetch</c-></a>;
};

[<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Exposed"><c- g>Exposed</c-></a>=(<c- n>Window</c->,<c- n>Worker</c->)]
<c- b>interface</c-> <a href="#backgroundfetchmanager"><code><c- g>BackgroundFetchManager</c-></code></a> {
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise"><c- b>Promise</c-></a>&lt;<a data-link-type="idl-name" href="#backgroundfetchregistration"><c- n>BackgroundFetchRegistration</c-></a>> <a class="idl-code" data-link-type="method" href="#dom-backgroundfetchmanager-fetch"><c- g>fetch</c-></a>(<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString"><c- b>DOMString</c-></a> <a href="#dom-backgroundfetchmanager-fetch-id-requests-options-id"><code><c- g>id</c-></code></a>, (<a data-link-type="idl-name" href="https://fetch.spec.whatwg.org/#requestinfo"><c- n>RequestInfo</c-></a> <c- b>or</c-> <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#idl-sequence"><c- b>sequence</c-></a>&lt;<a data-link-type="idl-name" href="https://fetch.spec.whatwg.org/#requestinfo"><c- n>RequestInfo</c-></a>>) <a href="#dom-backgroundfetchmanager-fetch-id-requests-options-requests"><code><c- g>requests</c-></code></a>, <c- b>optional</c-> <a data-link-type="idl-name" href="#dictdef-backgroundfetchoptions"><c- n>BackgroundFetchOptions</c-></a> <a href="#dom-backgroundfetchmanager-fetch-id-requests-options-options"><code><c- g>options</c-></code></a> = {});
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise"><c- b>Promise</c-></a>&lt;<a data-link-type="idl-name" href="#backgroundfetchregistration"><c- n>BackgroundFetchRegistration</c-></a>?> <a class="idl-code" data-link-type="method" href="#dom-backgroundfetchmanager-get"><c- g>get</c-></a>(<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString"><c- b>DOMString</c-></a> <a href="#dom-backgroundfetchmanager-get-id-id"><code><c- g>id</c-></code></a>);
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise"><c- b>Promise</c-></a>&lt;<a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#idl-sequence"><c- b>sequence</c-></a>&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString"><c- b>DOMString</c-></a>>> <a class="idl-code" data-link-type="method" href="#dom-backgroundfetchmanager-getids"><c- g>getIds</c-></a>();
};

<c- b>dictionary</c-> <a href="#dictdef-backgroundfetchuioptions"><code><c- g>BackgroundFetchUIOptions</c-></code></a> {
  <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#idl-sequence"><c- b>sequence</c-></a>&lt;<a data-link-type="idl-name" href="https://w3c.github.io/image-resource/#dom-imageresource"><c- n>ImageResource</c-></a>> <a data-type="sequence<ImageResource> " href="#dom-backgroundfetchuioptions-icons"><code><c- g>icons</c-></code></a>;
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString"><c- b>DOMString</c-></a> <a data-type="DOMString " href="#dom-backgroundfetchuioptions-title"><code><c- g>title</c-></code></a>;
};

<c- b>dictionary</c-> <a href="#dictdef-backgroundfetchoptions"><code><c- g>BackgroundFetchOptions</c-></code></a> : <a data-link-type="idl-name" href="#dictdef-backgroundfetchuioptions"><c- n>BackgroundFetchUIOptions</c-></a> {
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-unsigned-long-long"><c- b>unsigned</c-> <c- b>long</c-> <c- b>long</c-></a> <a data-default="0" data-type="unsigned long long " href="#dom-backgroundfetchoptions-downloadtotal"><code><c- g>downloadTotal</c-></code></a> = 0;
};

[<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Exposed"><c- g>Exposed</c-></a>=(<c- n>Window</c->,<c- n>Worker</c->)]
<c- b>interface</c-> <a href="#backgroundfetchregistration"><code><c- g>BackgroundFetchRegistration</c-></code></a> : <a data-link-type="idl-name" href="https://dom.spec.whatwg.org/#eventtarget"><c- n>EventTarget</c-></a> {
  <c- b>readonly</c-> <c- b>attribute</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString"><c- b>DOMString</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="DOMString" href="#dom-backgroundfetchregistration-id"><c- g>id</c-></a>;
  <c- b>readonly</c-> <c- b>attribute</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-unsigned-long-long"><c- b>unsigned</c-> <c- b>long</c-> <c- b>long</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="unsigned long long" href="#dom-backgroundfetchregistration-uploadtotal"><c- g>uploadTotal</c-></a>;
  <c- b>readonly</c-> <c- b>attribute</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-unsigned-long-long"><c- b>unsigned</c-> <c- b>long</c-> <c- b>long</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="unsigned long long" href="#dom-backgroundfetchregistration-uploaded"><c- g>uploaded</c-></a>;
  <c- b>readonly</c-> <c- b>attribute</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-unsigned-long-long"><c- b>unsigned</c-> <c- b>long</c-> <c- b>long</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="unsigned long long" href="#dom-backgroundfetchregistration-downloadtotal"><c- g>downloadTotal</c-></a>;
  <c- b>readonly</c-> <c- b>attribute</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-unsigned-long-long"><c- b>unsigned</c-> <c- b>long</c-> <c- b>long</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="unsigned long long" href="#dom-backgroundfetchregistration-downloaded"><c- g>downloaded</c-></a>;
  <c- b>readonly</c-> <c- b>attribute</c-> <a data-link-type="idl-name" href="#enumdef-backgroundfetchresult"><c- n>BackgroundFetchResult</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="BackgroundFetchResult" href="#dom-backgroundfetchregistration-result"><c- g>result</c-></a>;
  <c- b>readonly</c-> <c- b>attribute</c-> <a data-link-type="idl-name" href="#enumdef-backgroundfetchfailurereason"><c- n>BackgroundFetchFailureReason</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="BackgroundFetchFailureReason" href="#dom-backgroundfetchregistration-failurereason"><c- g>failureReason</c-></a>;
  <c- b>readonly</c-> <c- b>attribute</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-boolean"><c- b>boolean</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="boolean" href="#dom-backgroundfetchregistration-recordsavailable"><c- g>recordsAvailable</c-></a>;

  <c- b>attribute</c-> <a data-link-type="idl-name" href="https://html.spec.whatwg.org/multipage/webappapis.html#eventhandler"><c- n>EventHandler</c-></a> <a class="idl-code" data-link-type="attribute" data-type="EventHandler" href="#dom-backgroundfetchregistration-onprogress"><c- g>onprogress</c-></a>;

  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise"><c- b>Promise</c-></a>&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-boolean"><c- b>boolean</c-></a>> <a class="idl-code" data-link-type="method" href="#dom-backgroundfetchregistration-abort"><c- g>abort</c-></a>();
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise"><c- b>Promise</c-></a>&lt;<a data-link-type="idl-name" href="#backgroundfetchrecord"><c- n>BackgroundFetchRecord</c-></a>> <a class="idl-code" data-link-type="method" href="#dom-backgroundfetchregistration-match"><c- g>match</c-></a>(<a data-link-type="idl-name" href="https://fetch.spec.whatwg.org/#requestinfo"><c- n>RequestInfo</c-></a> <a href="#dom-backgroundfetchregistration-match-request-options-request"><code><c- g>request</c-></code></a>, <c- b>optional</c-> <a data-link-type="idl-name" href="https://w3c.github.io/ServiceWorker/#dictdef-cachequeryoptions"><c- n>CacheQueryOptions</c-></a> <a href="#dom-backgroundfetchregistration-match-request-options-options"><code><c- g>options</c-></code></a> = {});
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise"><c- b>Promise</c-></a>&lt;<a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#idl-sequence"><c- b>sequence</c-></a>&lt;<a data-link-type="idl-name" href="#backgroundfetchrecord"><c- n>BackgroundFetchRecord</c-></a>>> <a class="idl-code" data-link-type="method" href="#dom-backgroundfetchregistration-matchall"><c- g>matchAll</c-></a>(<c- b>optional</c-> <a data-link-type="idl-name" href="https://fetch.spec.whatwg.org/#requestinfo"><c- n>RequestInfo</c-></a> <a href="#dom-backgroundfetchregistration-matchall-request-options-request"><code><c- g>request</c-></code></a>, <c- b>optional</c-> <a data-link-type="idl-name" href="https://w3c.github.io/ServiceWorker/#dictdef-cachequeryoptions"><c- n>CacheQueryOptions</c-></a> <a href="#dom-backgroundfetchregistration-matchall-request-options-options"><code><c- g>options</c-></code></a> = {});
};

<c- b>enum</c-> <a href="#enumdef-backgroundfetchresult"><code><c- g>BackgroundFetchResult</c-></code></a> { <a href="#dom-backgroundfetchresult"><code><c- s>""</c-></code></a>, <a href="#dom-backgroundfetchresult-success"><code><c- s>"success"</c-></code></a>, <a href="#dom-backgroundfetchresult-failure"><code><c- s>"failure"</c-></code></a> };

<c- b>enum</c-> <a href="#enumdef-backgroundfetchfailurereason"><code><c- g>BackgroundFetchFailureReason</c-></code></a> {
  // The background fetch has not completed yet, or was successful.
  <a href="#dom-backgroundfetchfailurereason"><code><c- s>""</c-></code></a>,
  // The operation was aborted by the user, or abort() was called.
  <a href="#dom-backgroundfetchfailurereason-aborted"><code><c- s>"aborted"</c-></code></a>,
  // A response had a not-ok-status.
  <a href="#dom-backgroundfetchfailurereason-bad-status"><code><c- s>"bad-status"</c-></code></a>,
  // A fetch failed for other reasons, e.g. CORS, MIX, an invalid partial response,
  // or a general network failure for a fetch that cannot be retried.
  <a href="#dom-backgroundfetchfailurereason-fetch-error"><code><c- s>"fetch-error"</c-></code></a>,
  // Storage quota was reached during the operation.
  <a href="#dom-backgroundfetchfailurereason-quota-exceeded"><code><c- s>"quota-exceeded"</c-></code></a>,
  // The provided downloadTotal was exceeded.
  <a href="#dom-backgroundfetchfailurereason-download-total-exceeded"><code><c- s>"download-total-exceeded"</c-></code></a>
};

[<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Exposed"><c- g>Exposed</c-></a>=(<c- n>Window</c->,<c- n>Worker</c->)]
<c- b>interface</c-> <a href="#backgroundfetchrecord"><code><c- g>BackgroundFetchRecord</c-></code></a> {
  <c- b>readonly</c-> <c- b>attribute</c-> <a data-link-type="idl-name" href="https://fetch.spec.whatwg.org/#request"><c- n>Request</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="Request" href="#dom-backgroundfetchrecord-request"><c- g>request</c-></a>;
  <c- b>readonly</c-> <c- b>attribute</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise"><c- b>Promise</c-></a>&lt;<a data-link-type="idl-name" href="https://fetch.spec.whatwg.org/#response"><c- n>Response</c-></a>> <a class="idl-code" data-link-type="attribute" data-readonly data-type="Promise<Response>" href="#dom-backgroundfetchrecord-responseready"><c- g>responseReady</c-></a>;
};

[<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Exposed"><c- g>Exposed</c-></a>=<c- n>ServiceWorker</c->]
<c- b>interface</c-> <a href="#backgroundfetchevent"><code><c- g>BackgroundFetchEvent</c-></code></a> : <a data-link-type="idl-name" href="https://w3c.github.io/ServiceWorker/#extendableevent"><c- n>ExtendableEvent</c-></a> {
  <a href="#dom-backgroundfetchevent-backgroundfetchevent"><code><c- g>constructor</c-></code></a>(<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString"><c- b>DOMString</c-></a> <a href="#dom-backgroundfetchevent-backgroundfetchevent-type-init-type"><code><c- g>type</c-></code></a>, <a data-link-type="idl-name" href="#dictdef-backgroundfetcheventinit"><c- n>BackgroundFetchEventInit</c-></a> <a href="#dom-backgroundfetchevent-backgroundfetchevent-type-init-init"><code><c- g>init</c-></code></a>);
  <c- b>readonly</c-> <c- b>attribute</c-> <a data-link-type="idl-name" href="#backgroundfetchregistration"><c- n>BackgroundFetchRegistration</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="BackgroundFetchRegistration" href="#dom-backgroundfetchevent-registration"><c- g>registration</c-></a>;
};

<c- b>dictionary</c-> <a href="#dictdef-backgroundfetcheventinit"><code><c- g>BackgroundFetchEventInit</c-></code></a> : <a data-link-type="idl-name" href="https://w3c.github.io/ServiceWorker/#dictdef-extendableeventinit"><c- n>ExtendableEventInit</c-></a> {
  <c- b>required</c-> <a data-link-type="idl-name" href="#backgroundfetchregistration"><c- n>BackgroundFetchRegistration</c-></a> <a data-type="BackgroundFetchRegistration " href="#dom-backgroundfetcheventinit-registration"><code><c- g>registration</c-></code></a>;
};

[<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Exposed"><c- g>Exposed</c-></a>=<c- n>ServiceWorker</c->]
<c- b>interface</c-> <a href="#backgroundfetchupdateuievent"><code><c- g>BackgroundFetchUpdateUIEvent</c-></code></a> : <a data-link-type="idl-name" href="#backgroundfetchevent"><c- n>BackgroundFetchEvent</c-></a> {
  <a href="#dom-backgroundfetchupdateuievent-backgroundfetchupdateuievent"><code><c- g>constructor</c-></code></a>(<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString"><c- b>DOMString</c-></a> <a href="#dom-backgroundfetchupdateuievent-backgroundfetchupdateuievent-type-init-type"><code><c- g>type</c-></code></a>, <a data-link-type="idl-name" href="#dictdef-backgroundfetcheventinit"><c- n>BackgroundFetchEventInit</c-></a> <a href="#dom-backgroundfetchupdateuievent-backgroundfetchupdateuievent-type-init-init"><code><c- g>init</c-></code></a>);
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise"><c- b>Promise</c-></a>&lt;<a data-link-type="idl-name"><c- n>void</c-></a>> <a class="idl-code" data-link-type="method" href="#dom-backgroundfetchupdateuievent-updateui"><c- g>updateUI</c-></a>(<c- b>optional</c-> <a data-link-type="idl-name" href="#dictdef-backgroundfetchuioptions"><c- n>BackgroundFetchUIOptions</c-></a> <a href="#dom-backgroundfetchupdateuievent-updateui-options-options"><code><c- g>options</c-></code></a> = {});
};

</pre>
  <h2 class="no-num no-ref heading settled" id="issues-index"><span class="content">Issues Index</span><a class="self-link" href="#issues-index"></a></h2>
  <div style="counter-reset:issue">
   <div class="issue"> <a href="https://github.com/w3c/manifest/pull/710">manifest/pull/710</a>. <a class="issue-return" href="#issue-20b63876" title="Jump to section">↵</a></div>
   <div class="issue"> <a href="https://github.com/w3c/ServiceWorker/pull/1348">ServiceWorker/1348</a>. <a class="issue-return" href="#issue-b420dc4f" title="Jump to section">↵</a></div>
   <div class="issue"> The remainder of this step uses fetch "callbacks" which currently queue tasks. This isn’t desirable or possible here, so let’s pretend that tasks aren’t queued. (<a href="https://github.com/whatwg/fetch/issues/536#issuecomment-330184276">issue</a>) <a class="issue-return" href="#issue-775cdb79" title="Jump to section">↵</a></div>
   <div class="issue"> I need to debounce this similar to how mouse move events debounce. <a class="issue-return" href="#issue-20ad71fa" title="Jump to section">↵</a></div>
   <div class="issue"> Parsing as an integer <a href="https://github.com/whatwg/infra/issues/189">infra/189</a>. <a class="issue-return" href="#issue-cddfe468" title="Jump to section">↵</a></div>
   <div class="issue"> <a href="https://github.com/w3c/ServiceWorker/pull/1348">ServiceWorker/1348</a>. <a class="issue-return" href="#issue-b420dc4f①" title="Jump to section">↵</a></div>
  </div>
  <aside aria-labelledby="infopaneltitle-for-temporarily-unavailable" class="dfn-panel" data-for="temporarily-unavailable" id="infopanel-for-temporarily-unavailable" role="dialog">
   <span id="infopaneltitle-for-temporarily-unavailable" style="display:none">Info about the 'temporarily unavailable' definition.</span><b><a href="#temporarily-unavailable">#temporarily-unavailable</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-temporarily-unavailable">4.2. Complete a record</a> <a href="#ref-for-temporarily-unavailable①">(2)</a> <a href="#ref-for-temporarily-unavailable②">(3)</a> <a href="#ref-for-temporarily-unavailable③">(4)</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-background-fetch-task-source" class="dfn-panel" data-for="background-fetch-task-source" id="infopanel-for-background-fetch-task-source" role="dialog">
   <span id="infopaneltitle-for-background-fetch-task-source" style="display:none">Info about the 'background fetch task source' definition.</span><b><a href="#background-fetch-task-source">#background-fetch-task-source</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-background-fetch-task-source">3. Infrastructure</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-queue-a-bgfetch-task" class="dfn-panel" data-for="queue-a-bgfetch-task" id="infopanel-for-queue-a-bgfetch-task" role="dialog">
   <span id="infopaneltitle-for-queue-a-bgfetch-task" style="display:none">Info about the 'queue a bgfetch task' definition.</span><b><a href="#queue-a-bgfetch-task">#queue-a-bgfetch-task</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-queue-a-bgfetch-task">4.3. Update background fetch instances</a>
    <li><a href="#ref-for-queue-a-bgfetch-task①">6.3.1. fetch()</a>
    <li><a href="#ref-for-queue-a-bgfetch-task②">6.3.2. get()</a>
    <li><a href="#ref-for-queue-a-bgfetch-task③">6.4.4. matchAll()</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-service-worker-registration-active-background-fetches" class="dfn-panel" data-for="service-worker-registration-active-background-fetches" id="infopanel-for-service-worker-registration-active-background-fetches" role="dialog">
   <span id="infopaneltitle-for-service-worker-registration-active-background-fetches" style="display:none">Info about the 'Active background fetches' definition.</span><b><a href="#service-worker-registration-active-background-fetches">#service-worker-registration-active-background-fetches</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-service-worker-registration-active-background-fetches">4.1. Perform a background fetch</a>
    <li><a href="#ref-for-service-worker-registration-active-background-fetches①">6.3.1. fetch()</a>
    <li><a href="#ref-for-service-worker-registration-active-background-fetches②">6.3.2. get()</a>
    <li><a href="#ref-for-service-worker-registration-active-background-fetches③">6.3.3. getIds()</a>
    <li><a href="#ref-for-service-worker-registration-active-background-fetches④">6.4.2. abort()</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-service-worker-registration-active-background-fetches-edit-queue" class="dfn-panel" data-for="service-worker-registration-active-background-fetches-edit-queue" id="infopanel-for-service-worker-registration-active-background-fetches-edit-queue" role="dialog">
   <span id="infopaneltitle-for-service-worker-registration-active-background-fetches-edit-queue" style="display:none">Info about the 'active background fetches edit queue' definition.</span><b><a href="#service-worker-registration-active-background-fetches-edit-queue">#service-worker-registration-active-background-fetches-edit-queue</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-service-worker-registration-active-background-fetches-edit-queue">4.1. Perform a background fetch</a>
    <li><a href="#ref-for-service-worker-registration-active-background-fetches-edit-queue①">6.3.1. fetch()</a>
    <li><a href="#ref-for-service-worker-registration-active-background-fetches-edit-queue②">6.4.2. abort()</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-background-fetch" class="dfn-panel" data-for="background-fetch" id="infopanel-for-background-fetch" role="dialog">
   <span id="infopaneltitle-for-background-fetch" style="display:none">Info about the 'background fetch' definition.</span><b><a href="#background-fetch">#background-fetch</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-background-fetch">3.1. Extensions to service worker registration</a>
    <li><a href="#ref-for-background-fetch①">3.2. Background fetch</a> <a href="#ref-for-background-fetch②">(2)</a>
    <li><a href="#ref-for-background-fetch③">3.2.1. Display</a>
    <li><a href="#ref-for-background-fetch④">4.1. Perform a background fetch</a> <a href="#ref-for-background-fetch⑤">(2)</a>
    <li><a href="#ref-for-background-fetch⑥">4.2. Complete a record</a>
    <li><a href="#ref-for-background-fetch⑦">4.3. Update background fetch instances</a>
    <li><a href="#ref-for-background-fetch⑧">4.4. Fire a background fetch click event</a>
    <li><a href="#ref-for-background-fetch⑨">4.5. Get a BackgroundFetchRegistration instance</a> <a href="#ref-for-background-fetch①⓪">(2)</a> <a href="#ref-for-background-fetch①①">(3)</a>
    <li><a href="#ref-for-background-fetch①②">4.9. Contains background fetch</a> <a href="#ref-for-background-fetch①③">(2)</a>
    <li><a href="#ref-for-background-fetch①④">6.3. BackgroundFetchManager</a>
    <li><a href="#ref-for-background-fetch①⑤">6.3.1. fetch()</a>
    <li><a href="#ref-for-background-fetch①⑥">6.4. BackgroundFetchRegistration</a>
    <li><a href="#ref-for-background-fetch①⑦">6.6. BackgroundFetchEvent</a>
    <li><a href="#ref-for-background-fetch①⑧">7.1. Click</a> <a href="#ref-for-background-fetch①⑨">(2)</a>
    <li><a href="#ref-for-background-fetch②⓪">8. Privacy and bandwidth usage</a> <a href="#ref-for-background-fetch②①">(2)</a> <a href="#ref-for-background-fetch②②">(3)</a> <a href="#ref-for-background-fetch②③">(4)</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-background-fetch-id" class="dfn-panel" data-for="background-fetch-id" id="infopanel-for-background-fetch-id" role="dialog">
   <span id="infopaneltitle-for-background-fetch-id" style="display:none">Info about the 'id' definition.</span><b><a href="#background-fetch-id">#background-fetch-id</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-background-fetch-id">4.1. Perform a background fetch</a>
    <li><a href="#ref-for-background-fetch-id①">4.9. Contains background fetch</a>
    <li><a href="#ref-for-background-fetch-id②">6.3.1. fetch()</a>
    <li><a href="#ref-for-background-fetch-id③">6.4. BackgroundFetchRegistration</a>
    <li><a href="#ref-for-background-fetch-id④">6.4.2. abort()</a>
    <li><a href="#ref-for-background-fetch-id⑤">7.1. Click</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-background-fetch-records" class="dfn-panel" data-for="background-fetch-records" id="infopanel-for-background-fetch-records" role="dialog">
   <span id="infopaneltitle-for-background-fetch-records" style="display:none">Info about the 'Records' definition.</span><b><a href="#background-fetch-records">#background-fetch-records</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-background-fetch-records">3.2. Background fetch</a>
    <li><a href="#ref-for-background-fetch-records①">3.2.1. Display</a>
    <li><a href="#ref-for-background-fetch-records②">4.1. Perform a background fetch</a> <a href="#ref-for-background-fetch-records③">(2)</a>
    <li><a href="#ref-for-background-fetch-records④">6.3.1. fetch()</a>
    <li><a href="#ref-for-background-fetch-records⑤">6.4.4. matchAll()</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-background-fetch-title" class="dfn-panel" data-for="background-fetch-title" id="infopanel-for-background-fetch-title" role="dialog">
   <span id="infopaneltitle-for-background-fetch-title" style="display:none">Info about the 'title' definition.</span><b><a href="#background-fetch-title">#background-fetch-title</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-background-fetch-title">3.2.1. Display</a>
    <li><a href="#ref-for-background-fetch-title①">6.3.1. fetch()</a>
    <li><a href="#ref-for-background-fetch-title②">6.7.1. updateUI()</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-background-fetch-download-total" class="dfn-panel" data-for="background-fetch-download-total" id="infopanel-for-background-fetch-download-total" role="dialog">
   <span id="infopaneltitle-for-background-fetch-download-total" style="display:none">Info about the 'download total' definition.</span><b><a href="#background-fetch-download-total">#background-fetch-download-total</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-background-fetch-download-total">3.2.1. Display</a>
    <li><a href="#ref-for-background-fetch-download-total①">4.2. Complete a record</a>
    <li><a href="#ref-for-background-fetch-download-total②">6.3.1. fetch()</a>
    <li><a href="#ref-for-background-fetch-download-total③">6.4. BackgroundFetchRegistration</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-background-fetch-upload-total" class="dfn-panel" data-for="background-fetch-upload-total" id="infopanel-for-background-fetch-upload-total" role="dialog">
   <span id="infopaneltitle-for-background-fetch-upload-total" style="display:none">Info about the 'upload total' definition.</span><b><a href="#background-fetch-upload-total">#background-fetch-upload-total</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-background-fetch-upload-total">3.2.1. Display</a>
    <li><a href="#ref-for-background-fetch-upload-total①">6.3.1. fetch()</a>
    <li><a href="#ref-for-background-fetch-upload-total②">6.4. BackgroundFetchRegistration</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-background-fetch-uploaded" class="dfn-panel" data-for="background-fetch-uploaded" id="infopanel-for-background-fetch-uploaded" role="dialog">
   <span id="infopaneltitle-for-background-fetch-uploaded" style="display:none">Info about the 'uploaded' definition.</span><b><a href="#background-fetch-uploaded">#background-fetch-uploaded</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-background-fetch-uploaded">3.2.1. Display</a>
    <li><a href="#ref-for-background-fetch-uploaded①">4.2. Complete a record</a>
    <li><a href="#ref-for-background-fetch-uploaded②">4.3. Update background fetch instances</a>
    <li><a href="#ref-for-background-fetch-uploaded③">6.4. BackgroundFetchRegistration</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-background-fetch-result" class="dfn-panel" data-for="background-fetch-result" id="infopanel-for-background-fetch-result" role="dialog">
   <span id="infopaneltitle-for-background-fetch-result" style="display:none">Info about the 'result' definition.</span><b><a href="#background-fetch-result">#background-fetch-result</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-background-fetch-result">3.2.1. Display</a> <a href="#ref-for-background-fetch-result①">(2)</a> <a href="#ref-for-background-fetch-result②">(3)</a>
    <li><a href="#ref-for-background-fetch-result③">4.1. Perform a background fetch</a> <a href="#ref-for-background-fetch-result④">(2)</a>
    <li><a href="#ref-for-background-fetch-result⑤">4.3. Update background fetch instances</a>
    <li><a href="#ref-for-background-fetch-result⑥">6.4. BackgroundFetchRegistration</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-background-fetch-failure-reason" class="dfn-panel" data-for="background-fetch-failure-reason" id="infopanel-for-background-fetch-failure-reason" role="dialog">
   <span id="infopaneltitle-for-background-fetch-failure-reason" style="display:none">Info about the 'failure reason' definition.</span><b><a href="#background-fetch-failure-reason">#background-fetch-failure-reason</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-background-fetch-failure-reason">4.1. Perform a background fetch</a>
    <li><a href="#ref-for-background-fetch-failure-reason①">4.3. Update background fetch instances</a>
    <li><a href="#ref-for-background-fetch-failure-reason②">6.4. BackgroundFetchRegistration</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-background-fetch-records-available-flag" class="dfn-panel" data-for="background-fetch-records-available-flag" id="infopanel-for-background-fetch-records-available-flag" role="dialog">
   <span id="infopaneltitle-for-background-fetch-records-available-flag" style="display:none">Info about the 'records available flag' definition.</span><b><a href="#background-fetch-records-available-flag">#background-fetch-records-available-flag</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-background-fetch-records-available-flag">4.1. Perform a background fetch</a>
    <li><a href="#ref-for-background-fetch-records-available-flag①">4.3. Update background fetch instances</a>
    <li><a href="#ref-for-background-fetch-records-available-flag②">6.4. BackgroundFetchRegistration</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-background-fetch-icons" class="dfn-panel" data-for="background-fetch-icons" id="infopanel-for-background-fetch-icons" role="dialog">
   <span id="infopaneltitle-for-background-fetch-icons" style="display:none">Info about the 'Icons' definition.</span><b><a href="#background-fetch-icons">#background-fetch-icons</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-background-fetch-icons">3.2.1. Display</a>
    <li><a href="#ref-for-background-fetch-icons①">6.3.1. fetch()</a>
    <li><a href="#ref-for-background-fetch-icons②">6.7.1. updateUI()</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-background-fetch-service-worker-registration" class="dfn-panel" data-for="background-fetch-service-worker-registration" id="infopanel-for-background-fetch-service-worker-registration" role="dialog">
   <span id="infopaneltitle-for-background-fetch-service-worker-registration" style="display:none">Info about the 'service worker registration' definition.</span><b><a href="#background-fetch-service-worker-registration">#background-fetch-service-worker-registration</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-background-fetch-service-worker-registration">3.2.1. Display</a>
    <li><a href="#ref-for-background-fetch-service-worker-registration①">4.1. Perform a background fetch</a>
    <li><a href="#ref-for-background-fetch-service-worker-registration②">4.3. Update background fetch instances</a>
    <li><a href="#ref-for-background-fetch-service-worker-registration③">4.4. Fire a background fetch click event</a>
    <li><a href="#ref-for-background-fetch-service-worker-registration④">6.3.1. fetch()</a>
    <li><a href="#ref-for-background-fetch-service-worker-registration⑤">6.4.2. abort()</a>
    <li><a href="#ref-for-background-fetch-service-worker-registration⑥">7.1. Click</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-background-fetch-update-handling-queue" class="dfn-panel" data-for="background-fetch-update-handling-queue" id="infopanel-for-background-fetch-update-handling-queue" role="dialog">
   <span id="infopaneltitle-for-background-fetch-update-handling-queue" style="display:none">Info about the 'update handling queue' definition.</span><b><a href="#background-fetch-update-handling-queue">#background-fetch-update-handling-queue</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-background-fetch-update-handling-queue">4.3. Update background fetch instances</a>
    <li><a href="#ref-for-background-fetch-update-handling-queue①">6.3.2. get()</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-background-fetch-paused-flag" class="dfn-panel" data-for="background-fetch-paused-flag" id="infopanel-for-background-fetch-paused-flag" role="dialog">
   <span id="infopaneltitle-for-background-fetch-paused-flag" style="display:none">Info about the 'paused flag' definition.</span><b><a href="#background-fetch-paused-flag">#background-fetch-paused-flag</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-background-fetch-paused-flag">3.2.1. Display</a> <a href="#ref-for-background-fetch-paused-flag①">(2)</a> <a href="#ref-for-background-fetch-paused-flag②">(3)</a> <a href="#ref-for-background-fetch-paused-flag③">(4)</a> <a href="#ref-for-background-fetch-paused-flag④">(5)</a> <a href="#ref-for-background-fetch-paused-flag⑤">(6)</a>
    <li><a href="#ref-for-background-fetch-paused-flag⑥">4.2. Complete a record</a> <a href="#ref-for-background-fetch-paused-flag⑦">(2)</a> <a href="#ref-for-background-fetch-paused-flag⑧">(3)</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-background-fetch-abort-all-flag" class="dfn-panel" data-for="background-fetch-abort-all-flag" id="infopanel-for-background-fetch-abort-all-flag" role="dialog">
   <span id="infopaneltitle-for-background-fetch-abort-all-flag" style="display:none">Info about the 'abort all flag' definition.</span><b><a href="#background-fetch-abort-all-flag">#background-fetch-abort-all-flag</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-background-fetch-abort-all-flag">3.2.1. Display</a> <a href="#ref-for-background-fetch-abort-all-flag①">(2)</a>
    <li><a href="#ref-for-background-fetch-abort-all-flag②">4.1. Perform a background fetch</a>
    <li><a href="#ref-for-background-fetch-abort-all-flag③">4.2. Complete a record</a> <a href="#ref-for-background-fetch-abort-all-flag④">(2)</a>
    <li><a href="#ref-for-background-fetch-abort-all-flag⑤">6.4.2. abort()</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-background-fetch-stored-body-bytes-total" class="dfn-panel" data-for="background-fetch-stored-body-bytes-total" id="infopanel-for-background-fetch-stored-body-bytes-total" role="dialog">
   <span id="infopaneltitle-for-background-fetch-stored-body-bytes-total" style="display:none">Info about the 'stored body bytes total' definition.</span><b><a href="#background-fetch-stored-body-bytes-total">#background-fetch-stored-body-bytes-total</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-background-fetch-stored-body-bytes-total">3.2.1. Display</a>
    <li><a href="#ref-for-background-fetch-stored-body-bytes-total①">4.2. Complete a record</a>
    <li><a href="#ref-for-background-fetch-stored-body-bytes-total②">4.3. Update background fetch instances</a>
    <li><a href="#ref-for-background-fetch-stored-body-bytes-total③">6.4. BackgroundFetchRegistration</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-background-fetch-display" class="dfn-panel" data-for="background-fetch-display" id="infopanel-for-background-fetch-display" role="dialog">
   <span id="infopaneltitle-for-background-fetch-display" style="display:none">Info about the 'display' definition.</span><b><a href="#background-fetch-display">#background-fetch-display</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-background-fetch-display">3.2.1. Display</a>
    <li><a href="#ref-for-background-fetch-display①">6.3.1. fetch()</a>
    <li><a href="#ref-for-background-fetch-display②">7.1. Click</a>
    <li><a href="#ref-for-background-fetch-display③">8. Privacy and bandwidth usage</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-background-fetch-record" class="dfn-panel" data-for="background-fetch-record" id="infopanel-for-background-fetch-record" role="dialog">
   <span id="infopaneltitle-for-background-fetch-record" style="display:none">Info about the 'background fetch record' definition.</span><b><a href="#background-fetch-record">#background-fetch-record</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-background-fetch-record">3.2. Background fetch</a>
    <li><a href="#ref-for-background-fetch-record①">4.2. Complete a record</a> <a href="#ref-for-background-fetch-record②">(2)</a> <a href="#ref-for-background-fetch-record③">(3)</a>
    <li><a href="#ref-for-background-fetch-record④">4.8. Create record objects</a> <a href="#ref-for-background-fetch-record⑤">(2)</a>
    <li><a href="#ref-for-background-fetch-record⑥">6.3.1. fetch()</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-background-fetch-record-request" class="dfn-panel" data-for="background-fetch-record-request" id="infopanel-for-background-fetch-record-request" role="dialog">
   <span id="infopaneltitle-for-background-fetch-record-request" style="display:none">Info about the 'request' definition.</span><b><a href="#background-fetch-record-request">#background-fetch-record-request</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-background-fetch-record-request">3.2.1. Display</a>
    <li><a href="#ref-for-background-fetch-record-request①">4.2. Complete a record</a>
    <li><a href="#ref-for-background-fetch-record-request②">4.8. Create record objects</a>
    <li><a href="#ref-for-background-fetch-record-request③">6.3.1. fetch()</a>
    <li><a href="#ref-for-background-fetch-record-request④">6.4.4. matchAll()</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-background-fetch-record-response-data" class="dfn-panel" data-for="background-fetch-record-response-data" id="infopanel-for-background-fetch-record-response-data" role="dialog">
   <span id="infopaneltitle-for-background-fetch-record-response-data" style="display:none">Info about the 'response data' definition.</span><b><a href="#background-fetch-record-response-data">#background-fetch-record-response-data</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-background-fetch-record-response-data">3.2. Background fetch</a>
    <li><a href="#ref-for-background-fetch-record-response-data①">4.1. Perform a background fetch</a>
    <li><a href="#ref-for-background-fetch-record-response-data②">4.2. Complete a record</a> <a href="#ref-for-background-fetch-record-response-data③">(2)</a>
    <li><a href="#ref-for-background-fetch-record-response-data④">4.8. Create record objects</a>
    <li><a href="#ref-for-background-fetch-record-response-data⑤">6.4.4. matchAll()</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-background-fetch-response" class="dfn-panel" data-for="background-fetch-response" id="infopanel-for-background-fetch-response" role="dialog">
   <span id="infopaneltitle-for-background-fetch-response" style="display:none">Info about the 'Background fetch response' definition.</span><b><a href="#background-fetch-response">#background-fetch-response</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-background-fetch-response">3.3. Background fetch record</a> <a href="#ref-for-background-fetch-response①">(2)</a>
    <li><a href="#ref-for-background-fetch-response②">4.2. Complete a record</a> <a href="#ref-for-background-fetch-response③">(2)</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-background-fetch-response-response" class="dfn-panel" data-for="background-fetch-response-response" id="infopanel-for-background-fetch-response-response" role="dialog">
   <span id="infopaneltitle-for-background-fetch-response-response" style="display:none">Info about the 'response' definition.</span><b><a href="#background-fetch-response-response">#background-fetch-response-response</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-background-fetch-response-response">3.4. Background fetch response</a>
    <li><a href="#ref-for-background-fetch-response-response①">4.2. Complete a record</a> <a href="#ref-for-background-fetch-response-response②">(2)</a>
    <li><a href="#ref-for-background-fetch-response-response③">4.8. Create record objects</a> <a href="#ref-for-background-fetch-response-response④">(2)</a>
    <li><a href="#ref-for-background-fetch-response-response⑤">6.4.4. matchAll()</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-background-fetch-response-bytes" class="dfn-panel" data-for="background-fetch-response-bytes" id="infopanel-for-background-fetch-response-bytes" role="dialog">
   <span id="infopaneltitle-for-background-fetch-response-bytes" style="display:none">Info about the 'Bytes' definition.</span><b><a href="#background-fetch-response-bytes">#background-fetch-response-bytes</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-background-fetch-response-bytes">3.2. Background fetch</a>
    <li><a href="#ref-for-background-fetch-response-bytes①">4.2. Complete a record</a> <a href="#ref-for-background-fetch-response-bytes②">(2)</a> <a href="#ref-for-background-fetch-response-bytes③">(3)</a>
    <li><a href="#ref-for-background-fetch-response-bytes④">4.8. Create record objects</a> <a href="#ref-for-background-fetch-response-bytes⑤">(2)</a> <a href="#ref-for-background-fetch-response-bytes⑥">(3)</a> <a href="#ref-for-background-fetch-response-bytes⑦">(4)</a> <a href="#ref-for-background-fetch-response-bytes⑧">(5)</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-background-fetch-response-result" class="dfn-panel" data-for="background-fetch-response-result" id="infopanel-for-background-fetch-response-result" role="dialog">
   <span id="infopaneltitle-for-background-fetch-response-result" style="display:none">Info about the 'result' definition.</span><b><a href="#background-fetch-response-result">#background-fetch-response-result</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-background-fetch-response-result">3.4. Background fetch response</a>
    <li><a href="#ref-for-background-fetch-response-result①">4.1. Perform a background fetch</a>
    <li><a href="#ref-for-background-fetch-response-result②">4.2. Complete a record</a> <a href="#ref-for-background-fetch-response-result③">(2)</a> <a href="#ref-for-background-fetch-response-result④">(3)</a> <a href="#ref-for-background-fetch-response-result⑤">(4)</a> <a href="#ref-for-background-fetch-response-result⑥">(5)</a> <a href="#ref-for-background-fetch-response-result⑦">(6)</a> <a href="#ref-for-background-fetch-response-result⑧">(7)</a> <a href="#ref-for-background-fetch-response-result⑨">(8)</a> <a href="#ref-for-background-fetch-response-result①⓪">(9)</a> <a href="#ref-for-background-fetch-response-result①①">(10)</a> <a href="#ref-for-background-fetch-response-result①②">(11)</a> <a href="#ref-for-background-fetch-response-result①③">(12)</a>
    <li><a href="#ref-for-background-fetch-response-result①④">4.8. Create record objects</a> <a href="#ref-for-background-fetch-response-result①⑤">(2)</a> <a href="#ref-for-background-fetch-response-result①⑥">(3)</a> <a href="#ref-for-background-fetch-response-result①⑦">(4)</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-background-fetch-response-exposed" class="dfn-panel" data-for="background-fetch-response-exposed" id="infopanel-for-background-fetch-response-exposed" role="dialog">
   <span id="infopaneltitle-for-background-fetch-response-exposed" style="display:none">Info about the 'exposed' definition.</span><b><a href="#background-fetch-response-exposed">#background-fetch-response-exposed</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-background-fetch-response-exposed">4.8. Create record objects</a> <a href="#ref-for-background-fetch-response-exposed①">(2)</a> <a href="#ref-for-background-fetch-response-exposed②">(3)</a> <a href="#ref-for-background-fetch-response-exposed③">(4)</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-perform-a-background-fetch" class="dfn-panel" data-for="perform-a-background-fetch" id="infopanel-for-perform-a-background-fetch" role="dialog">
   <span id="infopaneltitle-for-perform-a-background-fetch" style="display:none">Info about the 'perform a background fetch' definition.</span><b><a href="#perform-a-background-fetch">#perform-a-background-fetch</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-perform-a-background-fetch">4.1. Perform a background fetch</a>
    <li><a href="#ref-for-perform-a-background-fetch①">6.3.1. fetch()</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-complete-a-record" class="dfn-panel" data-for="complete-a-record" id="infopanel-for-complete-a-record" role="dialog">
   <span id="infopaneltitle-for-complete-a-record" style="display:none">Info about the 'complete a record' definition.</span><b><a href="#complete-a-record">#complete-a-record</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-complete-a-record">4.1. Perform a background fetch</a> <a href="#ref-for-complete-a-record①">(2)</a>
    <li><a href="#ref-for-complete-a-record②">4.2. Complete a record</a> <a href="#ref-for-complete-a-record③">(2)</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-update-background-fetch-instances" class="dfn-panel" data-for="update-background-fetch-instances" id="infopanel-for-update-background-fetch-instances" role="dialog">
   <span id="infopaneltitle-for-update-background-fetch-instances" style="display:none">Info about the 'update background fetch instances' definition.</span><b><a href="#update-background-fetch-instances">#update-background-fetch-instances</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-update-background-fetch-instances">4.1. Perform a background fetch</a> <a href="#ref-for-update-background-fetch-instances①">(2)</a>
    <li><a href="#ref-for-update-background-fetch-instances②">4.2. Complete a record</a> <a href="#ref-for-update-background-fetch-instances③">(2)</a> <a href="#ref-for-update-background-fetch-instances④">(3)</a>
    <li><a href="#ref-for-update-background-fetch-instances⑤">4.3. Update background fetch instances</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-fire-a-background-fetch-click-event" class="dfn-panel" data-for="fire-a-background-fetch-click-event" id="infopanel-for-fire-a-background-fetch-click-event" role="dialog">
   <span id="infopaneltitle-for-fire-a-background-fetch-click-event" style="display:none">Info about the 'fire a background fetch click event' definition.</span><b><a href="#fire-a-background-fetch-click-event">#fire-a-background-fetch-click-event</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-fire-a-background-fetch-click-event">3.2.1. Display</a>
    <li><a href="#ref-for-fire-a-background-fetch-click-event①">4.4. Fire a background fetch click event</a>
    <li><a href="#ref-for-fire-a-background-fetch-click-event②">7.1. Click</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-get-a-backgroundfetchregistration-instance" class="dfn-panel" data-for="get-a-backgroundfetchregistration-instance" id="infopanel-for-get-a-backgroundfetchregistration-instance" role="dialog">
   <span id="infopaneltitle-for-get-a-backgroundfetchregistration-instance" style="display:none">Info about the 'get a BackgroundFetchRegistration instance' definition.</span><b><a href="#get-a-backgroundfetchregistration-instance">#get-a-backgroundfetchregistration-instance</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-get-a-backgroundfetchregistration-instance">4.1. Perform a background fetch</a>
    <li><a href="#ref-for-get-a-backgroundfetchregistration-instance①">4.3. Update background fetch instances</a>
    <li><a href="#ref-for-get-a-backgroundfetchregistration-instance②">4.4. Fire a background fetch click event</a>
    <li><a href="#ref-for-get-a-backgroundfetchregistration-instance③">4.5. Get a BackgroundFetchRegistration instance</a>
    <li><a href="#ref-for-get-a-backgroundfetchregistration-instance④">6.3.1. fetch()</a>
    <li><a href="#ref-for-get-a-backgroundfetchregistration-instance⑤">6.3.2. get()</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-validate-a-partial-response" class="dfn-panel" data-for="validate-a-partial-response" id="infopanel-for-validate-a-partial-response" role="dialog">
   <span id="infopaneltitle-for-validate-a-partial-response" style="display:none">Info about the 'validate a partial response' definition.</span><b><a href="#validate-a-partial-response">#validate-a-partial-response</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-validate-a-partial-response">4.2. Complete a record</a>
    <li><a href="#ref-for-validate-a-partial-response①">4.6. Validate a partial response</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-extract-content-range-values" class="dfn-panel" data-for="extract-content-range-values" id="infopanel-for-extract-content-range-values" role="dialog">
   <span id="infopaneltitle-for-extract-content-range-values" style="display:none">Info about the 'extract content-range values' definition.</span><b><a href="#extract-content-range-values">#extract-content-range-values</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-extract-content-range-values">4.2. Complete a record</a>
    <li><a href="#ref-for-extract-content-range-values①">4.6. Validate a partial response</a> <a href="#ref-for-extract-content-range-values②">(2)</a>
    <li><a href="#ref-for-extract-content-range-values③">4.7. Extract content-range values</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-create-record-objects" class="dfn-panel" data-for="create-record-objects" id="infopanel-for-create-record-objects" role="dialog">
   <span id="infopaneltitle-for-create-record-objects" style="display:none">Info about the 'create record objects' definition.</span><b><a href="#create-record-objects">#create-record-objects</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-create-record-objects">4.2. Complete a record</a>
    <li><a href="#ref-for-create-record-objects①">4.8. Create record objects</a>
    <li><a href="#ref-for-create-record-objects②">6.4.4. matchAll()</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-contains-background-fetch" class="dfn-panel" data-for="contains-background-fetch" id="infopanel-for-contains-background-fetch" role="dialog">
   <span id="infopaneltitle-for-contains-background-fetch" style="display:none">Info about the 'contains background fetch' definition.</span><b><a href="#contains-background-fetch">#contains-background-fetch</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-contains-background-fetch">4.1. Perform a background fetch</a>
    <li><a href="#ref-for-contains-background-fetch①">4.9. Contains background fetch</a> <a href="#ref-for-contains-background-fetch②">(2)</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-does-not-contain-background-fetch" class="dfn-panel" data-for="does-not-contain-background-fetch" id="infopanel-for-does-not-contain-background-fetch" role="dialog">
   <span id="infopaneltitle-for-does-not-contain-background-fetch" style="display:none">Info about the 'does not contain background fetch' definition.</span><b><a href="#does-not-contain-background-fetch">#does-not-contain-background-fetch</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-does-not-contain-background-fetch">6.4.2. abort()</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-single-byte-content-range" class="dfn-panel" data-for="single-byte-content-range" id="infopanel-for-single-byte-content-range" role="dialog">
   <span id="infopaneltitle-for-single-byte-content-range" style="display:none">Info about the 'single byte content-range' definition.</span><b><a href="#single-byte-content-range">#single-byte-content-range</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-single-byte-content-range">4.7. Extract content-range values</a> <a href="#ref-for-single-byte-content-range①">(2)</a> <a href="#ref-for-single-byte-content-range②">(3)</a> <a href="#ref-for-single-byte-content-range③">(4)</a> <a href="#ref-for-single-byte-content-range④">(5)</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-dom-serviceworkerglobalscope-onbackgroundfetchsuccess" class="dfn-panel" data-for="dom-serviceworkerglobalscope-onbackgroundfetchsuccess" id="infopanel-for-dom-serviceworkerglobalscope-onbackgroundfetchsuccess" role="dialog">
   <span id="infopaneltitle-for-dom-serviceworkerglobalscope-onbackgroundfetchsuccess" style="display:none">Info about the 'onbackgroundfetchsuccess' definition.</span><b><a href="#dom-serviceworkerglobalscope-onbackgroundfetchsuccess">#dom-serviceworkerglobalscope-onbackgroundfetchsuccess</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-serviceworkerglobalscope-onbackgroundfetchsuccess">6.1.1. Events</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-dom-serviceworkerglobalscope-onbackgroundfetchfail" class="dfn-panel" data-for="dom-serviceworkerglobalscope-onbackgroundfetchfail" id="infopanel-for-dom-serviceworkerglobalscope-onbackgroundfetchfail" role="dialog">
   <span id="infopaneltitle-for-dom-serviceworkerglobalscope-onbackgroundfetchfail" style="display:none">Info about the 'onbackgroundfetchfail' definition.</span><b><a href="#dom-serviceworkerglobalscope-onbackgroundfetchfail">#dom-serviceworkerglobalscope-onbackgroundfetchfail</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-serviceworkerglobalscope-onbackgroundfetchfail">6.1.1. Events</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-dom-serviceworkerglobalscope-onbackgroundfetchabort" class="dfn-panel" data-for="dom-serviceworkerglobalscope-onbackgroundfetchabort" id="infopanel-for-dom-serviceworkerglobalscope-onbackgroundfetchabort" role="dialog">
   <span id="infopaneltitle-for-dom-serviceworkerglobalscope-onbackgroundfetchabort" style="display:none">Info about the 'onbackgroundfetchabort' definition.</span><b><a href="#dom-serviceworkerglobalscope-onbackgroundfetchabort">#dom-serviceworkerglobalscope-onbackgroundfetchabort</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-serviceworkerglobalscope-onbackgroundfetchabort">6.1.1. Events</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-dom-serviceworkerglobalscope-onbackgroundfetchclick" class="dfn-panel" data-for="dom-serviceworkerglobalscope-onbackgroundfetchclick" id="infopanel-for-dom-serviceworkerglobalscope-onbackgroundfetchclick" role="dialog">
   <span id="infopaneltitle-for-dom-serviceworkerglobalscope-onbackgroundfetchclick" style="display:none">Info about the 'onbackgroundfetchclick' definition.</span><b><a href="#dom-serviceworkerglobalscope-onbackgroundfetchclick">#dom-serviceworkerglobalscope-onbackgroundfetchclick</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-serviceworkerglobalscope-onbackgroundfetchclick">6.1.1. Events</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-serviceworkerregistration-background-fetch-manager" class="dfn-panel" data-for="serviceworkerregistration-background-fetch-manager" id="infopanel-for-serviceworkerregistration-background-fetch-manager" role="dialog">
   <span id="infopaneltitle-for-serviceworkerregistration-background-fetch-manager" style="display:none">Info about the 'background fetch manager' definition.</span><b><a href="#serviceworkerregistration-background-fetch-manager">#serviceworkerregistration-background-fetch-manager</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-serviceworkerregistration-background-fetch-manager">6.2. Extensions to ServiceWorkerRegistration</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-dom-serviceworkerregistration-backgroundfetch" class="dfn-panel" data-for="dom-serviceworkerregistration-backgroundfetch" id="infopanel-for-dom-serviceworkerregistration-backgroundfetch" role="dialog">
   <span id="infopaneltitle-for-dom-serviceworkerregistration-backgroundfetch" style="display:none">Info about the 'backgroundFetch' definition.</span><b><a href="#dom-serviceworkerregistration-backgroundfetch">#dom-serviceworkerregistration-backgroundfetch</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-serviceworkerregistration-backgroundfetch">6.2. Extensions to ServiceWorkerRegistration</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-backgroundfetchmanager" class="dfn-panel" data-for="backgroundfetchmanager" id="infopanel-for-backgroundfetchmanager" role="dialog">
   <span id="infopaneltitle-for-backgroundfetchmanager" style="display:none">Info about the 'BackgroundFetchManager' definition.</span><b><a href="#backgroundfetchmanager">#backgroundfetchmanager</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-backgroundfetchmanager">4.5. Get a BackgroundFetchRegistration instance</a> <a href="#ref-for-backgroundfetchmanager①">(2)</a>
    <li><a href="#ref-for-backgroundfetchmanager②">6.2. Extensions to ServiceWorkerRegistration</a> <a href="#ref-for-backgroundfetchmanager③">(2)</a> <a href="#ref-for-backgroundfetchmanager④">(3)</a>
    <li><a href="#ref-for-backgroundfetchmanager⑤">6.3. BackgroundFetchManager</a> <a href="#ref-for-backgroundfetchmanager⑥">(2)</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-dictdef-backgroundfetchuioptions" class="dfn-panel" data-for="dictdef-backgroundfetchuioptions" id="infopanel-for-dictdef-backgroundfetchuioptions" role="dialog">
   <span id="infopaneltitle-for-dictdef-backgroundfetchuioptions" style="display:none">Info about the 'BackgroundFetchUIOptions' definition.</span><b><a href="#dictdef-backgroundfetchuioptions">#dictdef-backgroundfetchuioptions</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dictdef-backgroundfetchuioptions">6.3. BackgroundFetchManager</a>
    <li><a href="#ref-for-dictdef-backgroundfetchuioptions①">6.7. BackgroundFetchUpdateUIEvent</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-dom-backgroundfetchuioptions-icons" class="dfn-panel" data-for="dom-backgroundfetchuioptions-icons" id="infopanel-for-dom-backgroundfetchuioptions-icons" role="dialog">
   <span id="infopaneltitle-for-dom-backgroundfetchuioptions-icons" style="display:none">Info about the 'icons' definition.</span><b><a href="#dom-backgroundfetchuioptions-icons">#dom-backgroundfetchuioptions-icons</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-backgroundfetchuioptions-icons">6.7.1. updateUI()</a> <a href="#ref-for-dom-backgroundfetchuioptions-icons①">(2)</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-dom-backgroundfetchuioptions-title" class="dfn-panel" data-for="dom-backgroundfetchuioptions-title" id="infopanel-for-dom-backgroundfetchuioptions-title" role="dialog">
   <span id="infopaneltitle-for-dom-backgroundfetchuioptions-title" style="display:none">Info about the 'title' definition.</span><b><a href="#dom-backgroundfetchuioptions-title">#dom-backgroundfetchuioptions-title</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-backgroundfetchuioptions-title">6.7.1. updateUI()</a> <a href="#ref-for-dom-backgroundfetchuioptions-title①">(2)</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-dictdef-backgroundfetchoptions" class="dfn-panel" data-for="dictdef-backgroundfetchoptions" id="infopanel-for-dictdef-backgroundfetchoptions" role="dialog">
   <span id="infopaneltitle-for-dictdef-backgroundfetchoptions" style="display:none">Info about the 'BackgroundFetchOptions' definition.</span><b><a href="#dictdef-backgroundfetchoptions">#dictdef-backgroundfetchoptions</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dictdef-backgroundfetchoptions">6.3. BackgroundFetchManager</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-backgroundfetchmanager-backgroundfetchregistration-instances" class="dfn-panel" data-for="backgroundfetchmanager-backgroundfetchregistration-instances" id="infopanel-for-backgroundfetchmanager-backgroundfetchregistration-instances" role="dialog">
   <span id="infopaneltitle-for-backgroundfetchmanager-backgroundfetchregistration-instances" style="display:none">Info about the 'BackgroundFetchRegistration instances' definition.</span><b><a href="#backgroundfetchmanager-backgroundfetchregistration-instances">#backgroundfetchmanager-backgroundfetchregistration-instances</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-backgroundfetchmanager-backgroundfetchregistration-instances">4.5. Get a BackgroundFetchRegistration instance</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-backgroundfetchmanager-service-worker-registration" class="dfn-panel" data-for="backgroundfetchmanager-service-worker-registration" id="infopanel-for-backgroundfetchmanager-service-worker-registration" role="dialog">
   <span id="infopaneltitle-for-backgroundfetchmanager-service-worker-registration" style="display:none">Info about the 'service worker registration' definition.</span><b><a href="#backgroundfetchmanager-service-worker-registration">#backgroundfetchmanager-service-worker-registration</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-backgroundfetchmanager-service-worker-registration">6.2. Extensions to ServiceWorkerRegistration</a>
    <li><a href="#ref-for-backgroundfetchmanager-service-worker-registration①">6.3.1. fetch()</a>
    <li><a href="#ref-for-backgroundfetchmanager-service-worker-registration②">6.3.2. get()</a>
    <li><a href="#ref-for-backgroundfetchmanager-service-worker-registration③">6.3.3. getIds()</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-dom-backgroundfetchmanager-fetch" class="dfn-panel" data-for="dom-backgroundfetchmanager-fetch" id="infopanel-for-dom-backgroundfetchmanager-fetch" role="dialog">
   <span id="infopaneltitle-for-dom-backgroundfetchmanager-fetch" style="display:none">Info about the 'fetch(id, requests, options)' definition.</span><b><a href="#dom-backgroundfetchmanager-fetch">#dom-backgroundfetchmanager-fetch</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-backgroundfetchmanager-fetch">6.3. BackgroundFetchManager</a>
    <li><a href="#ref-for-dom-backgroundfetchmanager-fetch①">6.3.1. fetch()</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-dom-backgroundfetchmanager-get" class="dfn-panel" data-for="dom-backgroundfetchmanager-get" id="infopanel-for-dom-backgroundfetchmanager-get" role="dialog">
   <span id="infopaneltitle-for-dom-backgroundfetchmanager-get" style="display:none">Info about the 'get(id)' definition.</span><b><a href="#dom-backgroundfetchmanager-get">#dom-backgroundfetchmanager-get</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-backgroundfetchmanager-get">6.3. BackgroundFetchManager</a>
    <li><a href="#ref-for-dom-backgroundfetchmanager-get①">6.3.2. get()</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-dom-backgroundfetchmanager-getids" class="dfn-panel" data-for="dom-backgroundfetchmanager-getids" id="infopanel-for-dom-backgroundfetchmanager-getids" role="dialog">
   <span id="infopaneltitle-for-dom-backgroundfetchmanager-getids" style="display:none">Info about the 'getIds()' definition.</span><b><a href="#dom-backgroundfetchmanager-getids">#dom-backgroundfetchmanager-getids</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-backgroundfetchmanager-getids">6.3. BackgroundFetchManager</a>
    <li><a href="#ref-for-dom-backgroundfetchmanager-getids①">6.3.3. getIds()</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-backgroundfetchregistration" class="dfn-panel" data-for="backgroundfetchregistration" id="infopanel-for-backgroundfetchregistration" role="dialog">
   <span id="infopaneltitle-for-backgroundfetchregistration" style="display:none">Info about the 'BackgroundFetchRegistration' definition.</span><b><a href="#backgroundfetchregistration">#backgroundfetchregistration</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-backgroundfetchregistration">4.3. Update background fetch instances</a>
    <li><a href="#ref-for-backgroundfetchregistration①">4.5. Get a BackgroundFetchRegistration instance</a> <a href="#ref-for-backgroundfetchregistration②">(2)</a>
    <li><a href="#ref-for-backgroundfetchregistration③">6.3. BackgroundFetchManager</a> <a href="#ref-for-backgroundfetchregistration④">(2)</a> <a href="#ref-for-backgroundfetchregistration⑤">(3)</a>
    <li><a href="#ref-for-backgroundfetchregistration⑥">6.3.2. get()</a>
    <li><a href="#ref-for-backgroundfetchregistration⑦">6.4. BackgroundFetchRegistration</a> <a href="#ref-for-backgroundfetchregistration⑧">(2)</a>
    <li><a href="#ref-for-backgroundfetchregistration⑨">6.6. BackgroundFetchEvent</a> <a href="#ref-for-backgroundfetchregistration①⓪">(2)</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-enumdef-backgroundfetchresult" class="dfn-panel" data-for="enumdef-backgroundfetchresult" id="infopanel-for-enumdef-backgroundfetchresult" role="dialog">
   <span id="infopaneltitle-for-enumdef-backgroundfetchresult" style="display:none">Info about the 'BackgroundFetchResult' definition.</span><b><a href="#enumdef-backgroundfetchresult">#enumdef-backgroundfetchresult</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-enumdef-backgroundfetchresult">3.2. Background fetch</a>
    <li><a href="#ref-for-enumdef-backgroundfetchresult①">6.4. BackgroundFetchRegistration</a> <a href="#ref-for-enumdef-backgroundfetchresult②">(2)</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-enumdef-backgroundfetchfailurereason" class="dfn-panel" data-for="enumdef-backgroundfetchfailurereason" id="infopanel-for-enumdef-backgroundfetchfailurereason" role="dialog">
   <span id="infopaneltitle-for-enumdef-backgroundfetchfailurereason" style="display:none">Info about the 'BackgroundFetchFailureReason' definition.</span><b><a href="#enumdef-backgroundfetchfailurereason">#enumdef-backgroundfetchfailurereason</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-enumdef-backgroundfetchfailurereason">3.2. Background fetch</a>
    <li><a href="#ref-for-enumdef-backgroundfetchfailurereason①">3.4. Background fetch response</a>
    <li><a href="#ref-for-enumdef-backgroundfetchfailurereason②">6.4. BackgroundFetchRegistration</a> <a href="#ref-for-enumdef-backgroundfetchfailurereason③">(2)</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-backgroundfetchregistration-background-fetch" class="dfn-panel" data-for="backgroundfetchregistration-background-fetch" id="infopanel-for-backgroundfetchregistration-background-fetch" role="dialog">
   <span id="infopaneltitle-for-backgroundfetchregistration-background-fetch" style="display:none">Info about the 'background fetch' definition.</span><b><a href="#backgroundfetchregistration-background-fetch">#backgroundfetchregistration-background-fetch</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-backgroundfetchregistration-background-fetch">4.3. Update background fetch instances</a>
    <li><a href="#ref-for-backgroundfetchregistration-background-fetch①">4.5. Get a BackgroundFetchRegistration instance</a>
    <li><a href="#ref-for-backgroundfetchregistration-background-fetch②">6.4. BackgroundFetchRegistration</a> <a href="#ref-for-backgroundfetchregistration-background-fetch③">(2)</a> <a href="#ref-for-backgroundfetchregistration-background-fetch④">(3)</a> <a href="#ref-for-backgroundfetchregistration-background-fetch⑤">(4)</a> <a href="#ref-for-backgroundfetchregistration-background-fetch⑥">(5)</a> <a href="#ref-for-backgroundfetchregistration-background-fetch⑦">(6)</a> <a href="#ref-for-backgroundfetchregistration-background-fetch⑧">(7)</a> <a href="#ref-for-backgroundfetchregistration-background-fetch⑨">(8)</a>
    <li><a href="#ref-for-backgroundfetchregistration-background-fetch①⓪">6.4.2. abort()</a>
    <li><a href="#ref-for-backgroundfetchregistration-background-fetch①①">6.4.4. matchAll()</a>
    <li><a href="#ref-for-backgroundfetchregistration-background-fetch①②">6.6. BackgroundFetchEvent</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-backgroundfetchregistration-downloaded" class="dfn-panel" data-for="backgroundfetchregistration-downloaded" id="infopanel-for-backgroundfetchregistration-downloaded" role="dialog">
   <span id="infopaneltitle-for-backgroundfetchregistration-downloaded" style="display:none">Info about the 'downloaded' definition.</span><b><a href="#backgroundfetchregistration-downloaded">#backgroundfetchregistration-downloaded</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-backgroundfetchregistration-downloaded">4.3. Update background fetch instances</a> <a href="#ref-for-backgroundfetchregistration-downloaded①">(2)</a>
    <li><a href="#ref-for-backgroundfetchregistration-downloaded②">6.4. BackgroundFetchRegistration</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-backgroundfetchregistration-uploaded" class="dfn-panel" data-for="backgroundfetchregistration-uploaded" id="infopanel-for-backgroundfetchregistration-uploaded" role="dialog">
   <span id="infopaneltitle-for-backgroundfetchregistration-uploaded" style="display:none">Info about the 'uploaded' definition.</span><b><a href="#backgroundfetchregistration-uploaded">#backgroundfetchregistration-uploaded</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-backgroundfetchregistration-uploaded">4.3. Update background fetch instances</a> <a href="#ref-for-backgroundfetchregistration-uploaded①">(2)</a>
    <li><a href="#ref-for-backgroundfetchregistration-uploaded②">6.4. BackgroundFetchRegistration</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-backgroundfetchregistration-result" class="dfn-panel" data-for="backgroundfetchregistration-result" id="infopanel-for-backgroundfetchregistration-result" role="dialog">
   <span id="infopaneltitle-for-backgroundfetchregistration-result" style="display:none">Info about the 'result' definition.</span><b><a href="#backgroundfetchregistration-result">#backgroundfetchregistration-result</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-backgroundfetchregistration-result">4.3. Update background fetch instances</a> <a href="#ref-for-backgroundfetchregistration-result①">(2)</a> <a href="#ref-for-backgroundfetchregistration-result②">(3)</a>
    <li><a href="#ref-for-backgroundfetchregistration-result③">6.4. BackgroundFetchRegistration</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-backgroundfetchregistration-failure-reason" class="dfn-panel" data-for="backgroundfetchregistration-failure-reason" id="infopanel-for-backgroundfetchregistration-failure-reason" role="dialog">
   <span id="infopaneltitle-for-backgroundfetchregistration-failure-reason" style="display:none">Info about the 'failure reason' definition.</span><b><a href="#backgroundfetchregistration-failure-reason">#backgroundfetchregistration-failure-reason</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-backgroundfetchregistration-failure-reason">4.3. Update background fetch instances</a> <a href="#ref-for-backgroundfetchregistration-failure-reason①">(2)</a>
    <li><a href="#ref-for-backgroundfetchregistration-failure-reason②">6.4. BackgroundFetchRegistration</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-backgroundfetchregistration-id" class="dfn-panel" data-for="backgroundfetchregistration-id" id="infopanel-for-backgroundfetchregistration-id" role="dialog">
   <span id="infopaneltitle-for-backgroundfetchregistration-id" style="display:none">Info about the 'id' definition.</span><b><a href="#backgroundfetchregistration-id">#backgroundfetchregistration-id</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-backgroundfetchregistration-id">6.4. BackgroundFetchRegistration</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-backgroundfetchregistration-upload-total" class="dfn-panel" data-for="backgroundfetchregistration-upload-total" id="infopanel-for-backgroundfetchregistration-upload-total" role="dialog">
   <span id="infopaneltitle-for-backgroundfetchregistration-upload-total" style="display:none">Info about the 'upload total' definition.</span><b><a href="#backgroundfetchregistration-upload-total">#backgroundfetchregistration-upload-total</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-backgroundfetchregistration-upload-total">6.4. BackgroundFetchRegistration</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-backgroundfetchregistration-download-total" class="dfn-panel" data-for="backgroundfetchregistration-download-total" id="infopanel-for-backgroundfetchregistration-download-total" role="dialog">
   <span id="infopaneltitle-for-backgroundfetchregistration-download-total" style="display:none">Info about the 'download total' definition.</span><b><a href="#backgroundfetchregistration-download-total">#backgroundfetchregistration-download-total</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-backgroundfetchregistration-download-total">6.4. BackgroundFetchRegistration</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-backgroundfetchregistration-records-available-flag" class="dfn-panel" data-for="backgroundfetchregistration-records-available-flag" id="infopanel-for-backgroundfetchregistration-records-available-flag" role="dialog">
   <span id="infopaneltitle-for-backgroundfetchregistration-records-available-flag" style="display:none">Info about the 'records available flag' definition.</span><b><a href="#backgroundfetchregistration-records-available-flag">#backgroundfetchregistration-records-available-flag</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-backgroundfetchregistration-records-available-flag">4.3. Update background fetch instances</a> <a href="#ref-for-backgroundfetchregistration-records-available-flag①">(2)</a>
    <li><a href="#ref-for-backgroundfetchregistration-records-available-flag②">6.4. BackgroundFetchRegistration</a>
    <li><a href="#ref-for-backgroundfetchregistration-records-available-flag③">6.4.4. matchAll()</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-dom-backgroundfetchregistration-id" class="dfn-panel" data-for="dom-backgroundfetchregistration-id" id="infopanel-for-dom-backgroundfetchregistration-id" role="dialog">
   <span id="infopaneltitle-for-dom-backgroundfetchregistration-id" style="display:none">Info about the 'id' definition.</span><b><a href="#dom-backgroundfetchregistration-id">#dom-backgroundfetchregistration-id</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-backgroundfetchregistration-id">6.4. BackgroundFetchRegistration</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-dom-backgroundfetchregistration-uploadtotal" class="dfn-panel" data-for="dom-backgroundfetchregistration-uploadtotal" id="infopanel-for-dom-backgroundfetchregistration-uploadtotal" role="dialog">
   <span id="infopaneltitle-for-dom-backgroundfetchregistration-uploadtotal" style="display:none">Info about the 'uploadTotal' definition.</span><b><a href="#dom-backgroundfetchregistration-uploadtotal">#dom-backgroundfetchregistration-uploadtotal</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-backgroundfetchregistration-uploadtotal">6.4. BackgroundFetchRegistration</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-dom-backgroundfetchregistration-downloadtotal" class="dfn-panel" data-for="dom-backgroundfetchregistration-downloadtotal" id="infopanel-for-dom-backgroundfetchregistration-downloadtotal" role="dialog">
   <span id="infopaneltitle-for-dom-backgroundfetchregistration-downloadtotal" style="display:none">Info about the 'downloadTotal' definition.</span><b><a href="#dom-backgroundfetchregistration-downloadtotal">#dom-backgroundfetchregistration-downloadtotal</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-backgroundfetchregistration-downloadtotal">6.4. BackgroundFetchRegistration</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-dom-backgroundfetchregistration-uploaded" class="dfn-panel" data-for="dom-backgroundfetchregistration-uploaded" id="infopanel-for-dom-backgroundfetchregistration-uploaded" role="dialog">
   <span id="infopaneltitle-for-dom-backgroundfetchregistration-uploaded" style="display:none">Info about the 'uploaded' definition.</span><b><a href="#dom-backgroundfetchregistration-uploaded">#dom-backgroundfetchregistration-uploaded</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-backgroundfetchregistration-uploaded">6.4. BackgroundFetchRegistration</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-dom-backgroundfetchregistration-downloaded" class="dfn-panel" data-for="dom-backgroundfetchregistration-downloaded" id="infopanel-for-dom-backgroundfetchregistration-downloaded" role="dialog">
   <span id="infopaneltitle-for-dom-backgroundfetchregistration-downloaded" style="display:none">Info about the 'downloaded' definition.</span><b><a href="#dom-backgroundfetchregistration-downloaded">#dom-backgroundfetchregistration-downloaded</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-backgroundfetchregistration-downloaded">6.4. BackgroundFetchRegistration</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-dom-backgroundfetchregistration-result" class="dfn-panel" data-for="dom-backgroundfetchregistration-result" id="infopanel-for-dom-backgroundfetchregistration-result" role="dialog">
   <span id="infopaneltitle-for-dom-backgroundfetchregistration-result" style="display:none">Info about the 'result' definition.</span><b><a href="#dom-backgroundfetchregistration-result">#dom-backgroundfetchregistration-result</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-backgroundfetchregistration-result">6.4. BackgroundFetchRegistration</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-dom-backgroundfetchregistration-failurereason" class="dfn-panel" data-for="dom-backgroundfetchregistration-failurereason" id="infopanel-for-dom-backgroundfetchregistration-failurereason" role="dialog">
   <span id="infopaneltitle-for-dom-backgroundfetchregistration-failurereason" style="display:none">Info about the 'failureReason' definition.</span><b><a href="#dom-backgroundfetchregistration-failurereason">#dom-backgroundfetchregistration-failurereason</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-backgroundfetchregistration-failurereason">6.4. BackgroundFetchRegistration</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-dom-backgroundfetchregistration-recordsavailable" class="dfn-panel" data-for="dom-backgroundfetchregistration-recordsavailable" id="infopanel-for-dom-backgroundfetchregistration-recordsavailable" role="dialog">
   <span id="infopaneltitle-for-dom-backgroundfetchregistration-recordsavailable" style="display:none">Info about the 'recordsAvailable' definition.</span><b><a href="#dom-backgroundfetchregistration-recordsavailable">#dom-backgroundfetchregistration-recordsavailable</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-backgroundfetchregistration-recordsavailable">6.4. BackgroundFetchRegistration</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-dom-backgroundfetchregistration-onprogress" class="dfn-panel" data-for="dom-backgroundfetchregistration-onprogress" id="infopanel-for-dom-backgroundfetchregistration-onprogress" role="dialog">
   <span id="infopaneltitle-for-dom-backgroundfetchregistration-onprogress" style="display:none">Info about the 'onprogress' definition.</span><b><a href="#dom-backgroundfetchregistration-onprogress">#dom-backgroundfetchregistration-onprogress</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-backgroundfetchregistration-onprogress">6.4. BackgroundFetchRegistration</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-eventdef-backgroundfetchregistration-progress" class="dfn-panel" data-for="eventdef-backgroundfetchregistration-progress" id="infopanel-for-eventdef-backgroundfetchregistration-progress" role="dialog">
   <span id="infopaneltitle-for-eventdef-backgroundfetchregistration-progress" style="display:none">Info about the 'progress' definition.</span><b><a href="#eventdef-backgroundfetchregistration-progress">#eventdef-backgroundfetchregistration-progress</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-eventdef-backgroundfetchregistration-progress">6.3.2. get()</a>
    <li><a href="#ref-for-eventdef-backgroundfetchregistration-progress①">6.4.1. Events</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-dom-backgroundfetchregistration-abort" class="dfn-panel" data-for="dom-backgroundfetchregistration-abort" id="infopanel-for-dom-backgroundfetchregistration-abort" role="dialog">
   <span id="infopaneltitle-for-dom-backgroundfetchregistration-abort" style="display:none">Info about the 'abort()' definition.</span><b><a href="#dom-backgroundfetchregistration-abort">#dom-backgroundfetchregistration-abort</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-backgroundfetchregistration-abort">4.1. Perform a background fetch</a> <a href="#ref-for-dom-backgroundfetchregistration-abort①">(2)</a>
    <li><a href="#ref-for-dom-backgroundfetchregistration-abort②">6.4. BackgroundFetchRegistration</a>
    <li><a href="#ref-for-dom-backgroundfetchregistration-abort③">6.4.2. abort()</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-dom-backgroundfetchregistration-match" class="dfn-panel" data-for="dom-backgroundfetchregistration-match" id="infopanel-for-dom-backgroundfetchregistration-match" role="dialog">
   <span id="infopaneltitle-for-dom-backgroundfetchregistration-match" style="display:none">Info about the 'match(request, options)' definition.</span><b><a href="#dom-backgroundfetchregistration-match">#dom-backgroundfetchregistration-match</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-backgroundfetchregistration-match">6.4. BackgroundFetchRegistration</a>
    <li><a href="#ref-for-dom-backgroundfetchregistration-match①">6.4.3. match()</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-dom-backgroundfetchregistration-matchall" class="dfn-panel" data-for="dom-backgroundfetchregistration-matchall" id="infopanel-for-dom-backgroundfetchregistration-matchall" role="dialog">
   <span id="infopaneltitle-for-dom-backgroundfetchregistration-matchall" style="display:none">Info about the 'matchAll(request, options)' definition.</span><b><a href="#dom-backgroundfetchregistration-matchall">#dom-backgroundfetchregistration-matchall</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-backgroundfetchregistration-matchall">6.4. BackgroundFetchRegistration</a>
    <li><a href="#ref-for-dom-backgroundfetchregistration-matchall①">6.4.3. match()</a> <a href="#ref-for-dom-backgroundfetchregistration-matchall②">(2)</a>
    <li><a href="#ref-for-dom-backgroundfetchregistration-matchall③">6.4.4. matchAll()</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-backgroundfetchrecord" class="dfn-panel" data-for="backgroundfetchrecord" id="infopanel-for-backgroundfetchrecord" role="dialog">
   <span id="infopaneltitle-for-backgroundfetchrecord" style="display:none">Info about the 'BackgroundFetchRecord' definition.</span><b><a href="#backgroundfetchrecord">#backgroundfetchrecord</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-backgroundfetchrecord">4.8. Create record objects</a>
    <li><a href="#ref-for-backgroundfetchrecord①">6.4. BackgroundFetchRegistration</a> <a href="#ref-for-backgroundfetchrecord②">(2)</a>
    <li><a href="#ref-for-backgroundfetchrecord③">6.5. BackgroundFetchRecord</a> <a href="#ref-for-backgroundfetchrecord④">(2)</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-backgroundfetchrecord-request" class="dfn-panel" data-for="backgroundfetchrecord-request" id="infopanel-for-backgroundfetchrecord-request" role="dialog">
   <span id="infopaneltitle-for-backgroundfetchrecord-request" style="display:none">Info about the 'request' definition.</span><b><a href="#backgroundfetchrecord-request">#backgroundfetchrecord-request</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-backgroundfetchrecord-request">6.5. BackgroundFetchRecord</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-backgroundfetchrecord-response-promise" class="dfn-panel" data-for="backgroundfetchrecord-response-promise" id="infopanel-for-backgroundfetchrecord-response-promise" role="dialog">
   <span id="infopaneltitle-for-backgroundfetchrecord-response-promise" style="display:none">Info about the 'response promise' definition.</span><b><a href="#backgroundfetchrecord-response-promise">#backgroundfetchrecord-response-promise</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-backgroundfetchrecord-response-promise">6.5. BackgroundFetchRecord</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-dom-backgroundfetchrecord-request" class="dfn-panel" data-for="dom-backgroundfetchrecord-request" id="infopanel-for-dom-backgroundfetchrecord-request" role="dialog">
   <span id="infopaneltitle-for-dom-backgroundfetchrecord-request" style="display:none">Info about the 'request' definition.</span><b><a href="#dom-backgroundfetchrecord-request">#dom-backgroundfetchrecord-request</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-backgroundfetchrecord-request">4.8. Create record objects</a>
    <li><a href="#ref-for-dom-backgroundfetchrecord-request①">6.5. BackgroundFetchRecord</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-dom-backgroundfetchrecord-responseready" class="dfn-panel" data-for="dom-backgroundfetchrecord-responseready" id="infopanel-for-dom-backgroundfetchrecord-responseready" role="dialog">
   <span id="infopaneltitle-for-dom-backgroundfetchrecord-responseready" style="display:none">Info about the 'responseReady' definition.</span><b><a href="#dom-backgroundfetchrecord-responseready">#dom-backgroundfetchrecord-responseready</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-backgroundfetchrecord-responseready">4.8. Create record objects</a> <a href="#ref-for-dom-backgroundfetchrecord-responseready①">(2)</a> <a href="#ref-for-dom-backgroundfetchrecord-responseready②">(3)</a> <a href="#ref-for-dom-backgroundfetchrecord-responseready③">(4)</a>
    <li><a href="#ref-for-dom-backgroundfetchrecord-responseready④">6.5. BackgroundFetchRecord</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-backgroundfetchevent" class="dfn-panel" data-for="backgroundfetchevent" id="infopanel-for-backgroundfetchevent" role="dialog">
   <span id="infopaneltitle-for-backgroundfetchevent" style="display:none">Info about the 'BackgroundFetchEvent' definition.</span><b><a href="#backgroundfetchevent">#backgroundfetchevent</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-backgroundfetchevent">4.1. Perform a background fetch</a>
    <li><a href="#ref-for-backgroundfetchevent①">4.4. Fire a background fetch click event</a>
    <li><a href="#ref-for-backgroundfetchevent②">6.1.1. Events</a> <a href="#ref-for-backgroundfetchevent③">(2)</a>
    <li><a href="#ref-for-backgroundfetchevent④">6.6. BackgroundFetchEvent</a> <a href="#ref-for-backgroundfetchevent⑤">(2)</a>
    <li><a href="#ref-for-backgroundfetchevent⑥">6.7. BackgroundFetchUpdateUIEvent</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-dictdef-backgroundfetcheventinit" class="dfn-panel" data-for="dictdef-backgroundfetcheventinit" id="infopanel-for-dictdef-backgroundfetcheventinit" role="dialog">
   <span id="infopaneltitle-for-dictdef-backgroundfetcheventinit" style="display:none">Info about the 'BackgroundFetchEventInit' definition.</span><b><a href="#dictdef-backgroundfetcheventinit">#dictdef-backgroundfetcheventinit</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dictdef-backgroundfetcheventinit">6.6. BackgroundFetchEvent</a>
    <li><a href="#ref-for-dictdef-backgroundfetcheventinit①">6.7. BackgroundFetchUpdateUIEvent</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-backgroundfetchevent-background-fetch" class="dfn-panel" data-for="backgroundfetchevent-background-fetch" id="infopanel-for-backgroundfetchevent-background-fetch" role="dialog">
   <span id="infopaneltitle-for-backgroundfetchevent-background-fetch" style="display:none">Info about the 'background fetch' definition.</span><b><a href="#backgroundfetchevent-background-fetch">#backgroundfetchevent-background-fetch</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-backgroundfetchevent-background-fetch">6.7.1. updateUI()</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-dom-backgroundfetchevent-registration" class="dfn-panel" data-for="dom-backgroundfetchevent-registration" id="infopanel-for-dom-backgroundfetchevent-registration" role="dialog">
   <span id="infopaneltitle-for-dom-backgroundfetchevent-registration" style="display:none">Info about the 'registration' definition.</span><b><a href="#dom-backgroundfetchevent-registration">#dom-backgroundfetchevent-registration</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-backgroundfetchevent-registration">4.1. Perform a background fetch</a>
    <li><a href="#ref-for-dom-backgroundfetchevent-registration①">4.4. Fire a background fetch click event</a>
    <li><a href="#ref-for-dom-backgroundfetchevent-registration②">6.6. BackgroundFetchEvent</a> <a href="#ref-for-dom-backgroundfetchevent-registration③">(2)</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-backgroundfetchupdateuievent" class="dfn-panel" data-for="backgroundfetchupdateuievent" id="infopanel-for-backgroundfetchupdateuievent" role="dialog">
   <span id="infopaneltitle-for-backgroundfetchupdateuievent" style="display:none">Info about the 'BackgroundFetchUpdateUIEvent' definition.</span><b><a href="#backgroundfetchupdateuievent">#backgroundfetchupdateuievent</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-backgroundfetchupdateuievent">4.1. Perform a background fetch</a> <a href="#ref-for-backgroundfetchupdateuievent①">(2)</a>
    <li><a href="#ref-for-backgroundfetchupdateuievent②">6.1.1. Events</a> <a href="#ref-for-backgroundfetchupdateuievent③">(2)</a>
    <li><a href="#ref-for-backgroundfetchupdateuievent④">6.7. BackgroundFetchUpdateUIEvent</a> <a href="#ref-for-backgroundfetchupdateuievent⑤">(2)</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-backgroundfetchupdateuievent-ui-updated-flag" class="dfn-panel" data-for="backgroundfetchupdateuievent-ui-updated-flag" id="infopanel-for-backgroundfetchupdateuievent-ui-updated-flag" role="dialog">
   <span id="infopaneltitle-for-backgroundfetchupdateuievent-ui-updated-flag" style="display:none">Info about the 'UI updated flag' definition.</span><b><a href="#backgroundfetchupdateuievent-ui-updated-flag">#backgroundfetchupdateuievent-ui-updated-flag</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-backgroundfetchupdateuievent-ui-updated-flag">6.7.1. updateUI()</a> <a href="#ref-for-backgroundfetchupdateuievent-ui-updated-flag①">(2)</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-dom-backgroundfetchupdateuievent-updateui" class="dfn-panel" data-for="dom-backgroundfetchupdateuievent-updateui" id="infopanel-for-dom-backgroundfetchupdateuievent-updateui" role="dialog">
   <span id="infopaneltitle-for-dom-backgroundfetchupdateuievent-updateui" style="display:none">Info about the 'updateUI(options)' definition.</span><b><a href="#dom-backgroundfetchupdateuievent-updateui">#dom-backgroundfetchupdateuievent-updateui</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-backgroundfetchupdateuievent-updateui">6.7. BackgroundFetchUpdateUIEvent</a>
    <li><a href="#ref-for-dom-backgroundfetchupdateuievent-updateui①">6.7.1. updateUI()</a>
   </ul>
  </aside>
  <aside aria-labelledby="infopaneltitle-for-background-fetch-click" class="dfn-panel" data-for="background-fetch-click" id="infopanel-for-background-fetch-click" role="dialog">
   <span id="infopaneltitle-for-background-fetch-click" style="display:none">Info about the 'background fetch click' definition.</span><b><a href="#background-fetch-click">#background-fetch-click</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-background-fetch-click">7.1. Click</a>
   </ul>
  </aside>
<script>/* script-dfn-panel */

"use strict";
{
    function queryAll(sel) {
        return [].slice.call(document.querySelectorAll(sel));
    }

    // Add popup behavior to all dfns to show the corresponding dfn-panel.
    var dfns = document.querySelectorAll('.dfn-paneled');
    for (let dfn of dfns) { insertDfnPopupAction(dfn); }

    document.body.addEventListener("click", (e) => {
        // If not handled already, just hide all dfn panels.
        hideAllDfnPanels();
    });

    function hideAllDfnPanels() {
        // Turn off any currently "on" or "activated" panels.
        queryAll(".dfn-panel.on, .dfn-panel.activated").forEach(el=>hideDfnPanel(el));
    }

    function showDfnPanel(dfnPanel, dfn) {
        hideAllDfnPanels(); // Only display one at this time.
        dfn.setAttribute("aria-expanded", "true");
        dfnPanel.classList.add("on");
        dfnPanel.style.left = "5px";
        dfnPanel.style.top = "0px";
        const panelRect = dfnPanel.getBoundingClientRect();
        const panelWidth = panelRect.right - panelRect.left;
        if (panelRect.right > document.body.scrollWidth) {
            // Panel's overflowing the screen.
            // Just drop it below the dfn and flip it rightward instead.
            // This still wont' fix things if the screen is *really* wide,
            // but fixing that's a lot harder without 'anchor()'.
            dfnPanel.style.top = "1.5em";
            dfnPanel.style.left = "auto";
            dfnPanel.style.right = "0px";
        }
    }

    function pinDfnPanel(dfnPanel) {
        // Switch it to "activated" state, which pins it.
        dfnPanel.classList.add("activated");
        dfnPanel.style.left = null;
        dfnPanel.style.top = null;
    }

    function hideDfnPanel(dfnPanel, dfn) {
        if(!dfn) {
            dfn = document.getElementById(dfnPanel.getAttribute("data-for"));
        }
        dfn.setAttribute("aria-expanded", "false")
        dfnPanel.classList.remove("on");
        dfnPanel.classList.remove("activated");
    }

    function toggleDfnPanel(dfnPanel, dfn) {
        if(dfnPanel.classList.contains("on")) {
            hideDfnPanel(dfnPanel, dfn);
        } else {
            showDfnPanel(dfnPanel, dfn);
        }
    }

    function insertDfnPopupAction(dfn) {
        // Find dfn panel
        const dfnPanel = document.querySelector(`.dfn-panel[data-for='${dfn.id}']`);
        if (dfnPanel) {
            const panelWrapper = document.createElement('span');
            panelWrapper.appendChild(dfnPanel);
            panelWrapper.style.position = "relative";
            panelWrapper.style.height = "0px";
            dfn.insertAdjacentElement("afterend", panelWrapper);
            dfn.setAttribute('role', 'button');
            dfn.setAttribute('aria-haspopup', 'menu');
            dfn.setAttribute('aria-expanded', 'false')
            dfn.tabIndex = 0;
            dfn.classList.add('has-dfn-panel');
            dfn.addEventListener('click', (event) => {
                showDfnPanel(dfnPanel, dfn);
                event.stopPropagation();
            });
            dfn.addEventListener('keypress', (event) => {
                const kc = event.keyCode;
                // 32->Space, 13->Enter
                if(kc == 32 || kc == 13) {
                    toggleDfnPanel(dfnPanel, dfn);
                    event.stopPropagation();
                    event.preventDefault();
                }
            });

            dfnPanel.addEventListener('click', (event) => {
                pinDfnPanel(dfnPanel);
                event.stopPropagation();
            });

            dfnPanel.addEventListener('keydown', (event) => {
                if(event.keyCode == 27) { // Escape key
                    hideDfnPanel(dfnPanel, dfn);
                    event.stopPropagation();
                    event.preventDefault();
                }
            })

        } else {
            console.log("Couldn't find .dfn-panel[data-for='" + dfn.id + "']");
        }
    }
}
</script>
<script>/* script-mdn-anno */
document.body.addEventListener("click", (e) => {
    if(e.target.closest(".mdn-anno-btn")) {
        e.target.closest(".mdn-anno").classList.toggle("wrapped");
    }
});</script>
<script>/* script-var-click-highlighting */

    "use strict";
    {
        document.addEventListener("click", e=>{
            if(e.target.nodeName == "VAR") {
                highlightSameAlgoVars(e.target);
            }
        });
        const indexCounts = new Map();
        const indexNames = new Map();
        function highlightSameAlgoVars(v) {
            // Find the algorithm container.
            let algoContainer = null;
            let searchEl = v;
            while(algoContainer == null && searchEl != document.body) {
                searchEl = searchEl.parentNode;
                if(searchEl.hasAttribute("data-algorithm")) {
                    algoContainer = searchEl;
                }
            }

            // Not highlighting document-global vars,
            // too likely to be unrelated.
            if(algoContainer == null) return;

            const algoName = algoContainer.getAttribute("data-algorithm");
            const varName = getVarName(v);
            const addClass = !v.classList.contains("selected");
            let highlightClass = null;
            if(addClass) {
                const index = chooseHighlightIndex(algoName, varName);
                indexCounts.get(algoName)[index] += 1;
                indexNames.set(algoName+"///"+varName, index);
                highlightClass = nameFromIndex(index);
            } else {
                const index = previousHighlightIndex(algoName, varName);
                indexCounts.get(algoName)[index] -= 1;
                highlightClass = nameFromIndex(index);
            }

            // Find all same-name vars, and toggle their class appropriately.
            for(const el of algoContainer.querySelectorAll("var")) {
                if(getVarName(el) == varName) {
                    el.classList.toggle("selected", addClass);
                    el.classList.toggle(highlightClass, addClass);
                }
            }
        }
        function getVarName(el) {
            return el.textContent.replace(/(\s|\xa0)+/, " ").trim();
        }
        function chooseHighlightIndex(algoName, varName) {
            let indexes = null;
            if(indexCounts.has(algoName)) {
                indexes = indexCounts.get(algoName);
            } else {
                // 7 classes right now
                indexes = [0,0,0,0,0,0,0];
                indexCounts.set(algoName, indexes);
            }

            // If the element was recently unclicked,
            // *and* that color is still unclaimed,
            // give it back the same color.
            const lastIndex = previousHighlightIndex(algoName, varName);
            if(indexes[lastIndex] === 0) return lastIndex;

            // Find the earliest index with the lowest count.
            const minCount = Math.min.apply(null, indexes);
            let index = null;
            for(var i = 0; i < indexes.length; i++) {
                if(indexes[i] == minCount) {
                    return i;
                }
            }
        }
        function previousHighlightIndex(algoName, varName) {
            return indexNames.get(algoName+"///"+varName);
        }
        function nameFromIndex(index) {
            return "selected" + index;
        }
    }
    </script>