<!doctype html><html lang="en">
 <head>
  <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
  <title>Background Fetch</title>
  <meta content="width=device-width, initial-scale=1, shrink-to-fit=no" name="viewport">
  <link href="https://www.w3.org/StyleSheets/TR/2021/cg-draft" rel="stylesheet">
  <link href="https://wicg.github.io/background-fetch/" rel="canonical">
  <meta content="dark light" name="color-scheme">
  <link href="https://www.w3.org/StyleSheets/TR/2021/dark.css" media="(prefers-color-scheme: dark)" rel="stylesheet" type="text/css">
<style>
  .algorithm dl {
    overflow: hidden;
  }
  .algorithm dt {
    font-weight: normal;
    float: left;
    clear: left;
    line-height: 1.5;
    margin-right: 0.3em;
  }
  .algorithm dt::after {
    content: '- ';
  }
  .algorithm dd {
    margin-left: 0em;
  }
</style>
<style>/* Boilerplate: style-autolinks */
.css.css, .property.property, .descriptor.descriptor {
    color: var(--a-normal-text);
    font-size: inherit;
    font-family: inherit;
}
.css::before, .property::before, .descriptor::before {
    content: "‘";
}
.css::after, .property::after, .descriptor::after {
    content: "’";
}
.property, .descriptor {
    /* Don't wrap property and descriptor names */
    white-space: nowrap;
}
.type { /* CSS value <type> */
    font-style: italic;
}
pre .property::before, pre .property::after {
    content: "";
}
[data-link-type="property"]::before,
[data-link-type="propdesc"]::before,
[data-link-type="descriptor"]::before,
[data-link-type="value"]::before,
[data-link-type="function"]::before,
[data-link-type="at-rule"]::before,
[data-link-type="selector"]::before,
[data-link-type="maybe"]::before {
    content: "‘";
}
[data-link-type="property"]::after,
[data-link-type="propdesc"]::after,
[data-link-type="descriptor"]::after,
[data-link-type="value"]::after,
[data-link-type="function"]::after,
[data-link-type="at-rule"]::after,
[data-link-type="selector"]::after,
[data-link-type="maybe"]::after {
    content: "’";
}

[data-link-type].production::before,
[data-link-type].production::after,
.prod [data-link-type]::before,
.prod [data-link-type]::after {
    content: "";
}

[data-link-type=element],
[data-link-type=element-attr] {
    font-family: Menlo, Consolas, "DejaVu Sans Mono", monospace;
    font-size: .9em;
}
[data-link-type=element]::before { content: "<" }
[data-link-type=element]::after  { content: ">" }

[data-link-type=biblio] {
    white-space: pre;
}

@media (prefers-color-scheme: dark) {
    :root {
        --selflink-text: black;
        --selflink-bg: silver;
        --selflink-hover-text: white;
    }
}
</style>
<style>/* Boilerplate: style-colors */
/* Any --*-text not paired with a --*-bg is assumed to have a transparent bg */
:root {
    color-scheme: light dark;

    --text: black;
    --bg: white;

    --unofficial-watermark: url(https://www.w3.org/StyleSheets/TR/2016/logos/UD-watermark);

    --logo-bg: #1a5e9a;
    --logo-active-bg: #c00;
    --logo-text: white;

    --tocnav-normal-text: #707070;
    --tocnav-normal-bg: var(--bg);
    --tocnav-hover-text: var(--tocnav-normal-text);
    --tocnav-hover-bg: #f8f8f8;
    --tocnav-active-text: #c00;
    --tocnav-active-bg: var(--tocnav-normal-bg);

    --tocsidebar-text: var(--text);
    --tocsidebar-bg: #f7f8f9;
    --tocsidebar-shadow: rgba(0,0,0,.1);
    --tocsidebar-heading-text: hsla(203,20%,40%,.7);

    --toclink-text: var(--text);
    --toclink-underline: #3980b5;
    --toclink-visited-text: var(--toclink-text);
    --toclink-visited-underline: #054572;

    --heading-text: #005a9c;

    --hr-text: var(--text);

    --algo-border: #def;

    --del-text: red;
    --del-bg: transparent;
    --ins-text: #080;
    --ins-bg: transparent;

    --a-normal-text: #034575;
    --a-normal-underline: #bbb;
    --a-visited-text: var(--a-normal-text);
    --a-visited-underline: #707070;
    --a-hover-bg: rgba(75%, 75%, 75%, .25);
    --a-active-text: #c00;
    --a-active-underline: #c00;

    --blockquote-border: silver;
    --blockquote-bg: transparent;
    --blockquote-text: currentcolor;

    --issue-border: #e05252;
    --issue-bg: #fbe9e9;
    --issue-text: var(--text);
    --issueheading-text: #831616;

    --example-border: #e0cb52;
    --example-bg: #fcfaee;
    --example-text: var(--text);
    --exampleheading-text: #574b0f;

    --note-border: #52e052;
    --note-bg: #e9fbe9;
    --note-text: var(--text);
    --noteheading-text: hsl(120, 70%, 30%);
    --notesummary-underline: silver;

    --assertion-border: #aaa;
    --assertion-bg: #eee;
    --assertion-text: black;

    --advisement-border: orange;
    --advisement-bg: #fec;
    --advisement-text: var(--text);
    --advisementheading-text: #b35f00;

    --warning-border: red;
    --warning-bg: hsla(40,100%,50%,0.95);
    --warning-text: var(--text);

    --amendment-border: #330099;
    --amendment-bg: #F5F0FF;
    --amendment-text: var(--text);
    --amendmentheading-text: #220066;

    --def-border: #8ccbf2;
    --def-bg: #def;
    --def-text: var(--text);
    --defrow-border: #bbd7e9;

    --datacell-border: silver;

    --indexinfo-text: #707070;

    --indextable-hover-text: black;
    --indextable-hover-bg: #f7f8f9;

    --outdatedspec-bg: rgba(0, 0, 0, .5);
    --outdatedspec-text: black;
    --outdated-bg: maroon;
    --outdated-text: white;
    --outdated-shadow: red;

    --editedrec-bg: darkorange;
}

@media (prefers-color-scheme: dark) {
    :root {
        --text: #ddd;
        --bg: black;

        --unofficial-watermark: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='400' height='400'%3E%3Cg fill='%23100808' transform='translate(200 200) rotate(-45) translate(-200 -200)' stroke='%23100808' stroke-width='3'%3E%3Ctext x='50%25' y='220' style='font: bold 70px sans-serif; text-anchor: middle; letter-spacing: 6px;'%3EUNOFFICIAL%3C/text%3E%3Ctext x='50%25' y='305' style='font: bold 70px sans-serif; text-anchor: middle; letter-spacing: 6px;'%3EDRAFT%3C/text%3E%3C/g%3E%3C/svg%3E");

        --logo-bg: #1a5e9a;
        --logo-active-bg: #c00;
        --logo-text: white;

        --tocnav-normal-text: #999;
        --tocnav-normal-bg: var(--bg);
        --tocnav-hover-text: var(--tocnav-normal-text);
        --tocnav-hover-bg: #080808;
        --tocnav-active-text: #f44;
        --tocnav-active-bg: var(--tocnav-normal-bg);

        --tocsidebar-text: var(--text);
        --tocsidebar-bg: #080808;
        --tocsidebar-shadow: rgba(255,255,255,.1);
        --tocsidebar-heading-text: hsla(203,20%,40%,.7);

        --toclink-text: var(--text);
        --toclink-underline: #6af;
        --toclink-visited-text: var(--toclink-text);
        --toclink-visited-underline: #054572;

        --heading-text: #8af;

        --hr-text: var(--text);

        --algo-border: #456;

        --del-text: #f44;
        --del-bg: transparent;
        --ins-text: #4a4;
        --ins-bg: transparent;

        --a-normal-text: #6af;
        --a-normal-underline: #555;
        --a-visited-text: var(--a-normal-text);
        --a-visited-underline: var(--a-normal-underline);
        --a-hover-bg: rgba(25%, 25%, 25%, .2);
        --a-active-text: #f44;
        --a-active-underline: var(--a-active-text);

        --borderedblock-bg: rgba(255, 255, 255, .05);

        --blockquote-border: silver;
        --blockquote-bg: var(--borderedblock-bg);
        --blockquote-text: currentcolor;

        --issue-border: #e05252;
        --issue-bg: var(--borderedblock-bg);
        --issue-text: var(--text);
        --issueheading-text: hsl(0deg, 70%, 70%);

        --example-border: hsl(50deg, 90%, 60%);
        --example-bg: var(--borderedblock-bg);
        --example-text: var(--text);
        --exampleheading-text: hsl(50deg, 70%, 70%);

        --note-border: hsl(120deg, 100%, 35%);
        --note-bg: var(--borderedblock-bg);
        --note-text: var(--text);
        --noteheading-text: hsl(120, 70%, 70%);
        --notesummary-underline: silver;

        --assertion-border: #444;
        --assertion-bg: var(--borderedblock-bg);
        --assertion-text: var(--text);

        --advisement-border: orange;
        --advisement-bg: #222218;
        --advisement-text: var(--text);
        --advisementheading-text: #f84;

        --warning-border: red;
        --warning-bg: hsla(40,100%,20%,0.95);
        --warning-text: var(--text);

        --amendment-border: #330099;
        --amendment-bg: #080010;
        --amendment-text: var(--text);
        --amendmentheading-text: #cc00ff;

        --def-border: #8ccbf2;
        --def-bg: #080818;
        --def-text: var(--text);
        --defrow-border: #136;

        --datacell-border: silver;

        --indexinfo-text: #aaa;

        --indextable-hover-text: var(--text);
        --indextable-hover-bg: #181818;

        --outdatedspec-bg: rgba(255, 255, 255, .5);
        --outdatedspec-text: black;
        --outdated-bg: maroon;
        --outdated-text: white;
        --outdated-shadow: red;

        --editedrec-bg: darkorange;
    }
    /* In case a transparent-bg image doesn't expect to be on a dark bg,
       which is quite common in practice... */
    img { background: white; }
}
</style>
<style>/* Boilerplate: style-counters */
body {
    counter-reset: example figure issue;
}
.issue {
    counter-increment: issue;
}
.issue:not(.no-marker)::before {
    content: "Issue " counter(issue);
}

.example {
    counter-increment: example;
}
.example:not(.no-marker)::before {
    content: "Example " counter(example);
}
.invalid.example:not(.no-marker)::before,
.illegal.example:not(.no-marker)::before {
    content: "Invalid Example" counter(example);
}

figcaption {
    counter-increment: figure;
}
figcaption:not(.no-marker)::before {
    content: "Figure " counter(figure) " ";
}
</style>
<style>/* Boilerplate: style-dfn-panel */
:root {
    --dfnpanel-bg: #ddd;
    --dfnpanel-text: var(--text);
    --dfnpanel-target-bg: #ffc;
    --dfnpanel-target-outline: orange;
}
@media (prefers-color-scheme: dark) {
    :root {
        --dfnpanel-bg: #222;
        --dfnpanel-text: var(--text);
        --dfnpanel-target-bg: #333;
        --dfnpanel-target-outline: silver;
    }
}
.dfn-panel {
    position: absolute;
    z-index: 35;
    width: 20em;
    width: 300px;
    height: auto;
    max-height: 500px;
    overflow: auto;
    padding: 0.5em 0.75em;
    font: small Helvetica Neue, sans-serif, Droid Sans Fallback;
    background: var(--dfnpanel-bg);
    color: var(--dfnpanel-text);
    border: outset 0.2em;
    white-space: normal; /* in case it's moved into a pre */
}
.dfn-panel:not(.on) { display: none; }
.dfn-panel * { margin: 0; padding: 0; text-indent: 0; }
.dfn-panel > b { display: block; }
.dfn-panel a { color: var(--dfnpanel-text); }
.dfn-panel a:not(:hover) { text-decoration: none !important; border-bottom: none !important; }
.dfn-panel a:focus {
    outline: 5px auto Highlight;
    outline: 5px auto -webkit-focus-ring-color;
}
.dfn-panel > b + b { margin-top: 0.25em; }
.dfn-panel ul { padding: 0 0 0 1em; list-style: none; }
.dfn-panel li a {
    max-width: calc(300px - 1.5em - 1em);
    overflow: hidden;
    text-overflow: ellipsis;
}

.dfn-panel.activated {
    display: inline-block;
    position: fixed;
    left: 8px;
    bottom: 2em;
    margin: 0 auto;
    max-width: calc(100vw - 1.5em - .4em - .5em);
    max-height: 30vh;
    transition: left 1s ease-out, bottom 1s ease-out;
}

.dfn-panel .link-item:hover {
    text-decoration: underline;
}
.dfn-panel .link-item .copy-icon {
    opacity: 0;
}
.dfn-panel .link-item:hover .copy-icon,
.dfn-panel .link-item .copy-icon:focus {
    opacity: 1;
}

.dfn-panel .copy-icon {
    display: inline-block;
    margin-right: 0.5em;
    width: 0.85em;
    height: 1em;
    border-radius: 3px;
    background-color: #ccc;
    cursor: pointer;
}

.dfn-panel .copy-icon .icon {
    width: 100%;
    height: 100%;
    background-color: #fff;
    display: flex;
    justify-content: center;
    align-items: center;
    position: relative;
}

.dfn-panel .copy-icon .icon::before {
    content: "";
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    border: 1px solid black;
    background-color: #ccc;
    opacity: 0.25;
    transform: translate(3px, -3px);
}

.dfn-panel .copy-icon:active .icon::before {
    opacity: 1;
}

.dfn-paneled[role="button"] { cursor: help; }

.highlighted {
    animation: target-fade 3s;
}

@keyframes target-fade {
    from {
        background-color: var(--dfnpanel-target-bg);
        outline: 5px solid var(--dfnpanel-target-outline);
    }
    to {
        color: var(--a-normal-text);
        background-color: transparent;
        outline: transparent;
    }
}
</style>
<style>/* Boilerplate: style-idl-highlighting */
pre.idl.highlight {
    background: var(--borderedblock-bg, var(--def-bg));
}
</style>
<style>/* Boilerplate: style-issues */
a[href].issue-return {
    float: right;
    float: inline-end;
    color: var(--issueheading-text);
    font-weight: bold;
    text-decoration: none;
}
</style>
<style>/* Boilerplate: style-md-lists */
/* This is a weird hack for me not yet following the commonmark spec
   regarding paragraph and lists. */
[data-md] > :first-child {
    margin-top: 0;
}
[data-md] > :last-child {
    margin-bottom: 0;
}
</style>
<style>/* Boilerplate: style-mdn-anno */
:root {
	--mdn-bg: #EEE;
	--mdn-shadow: #999;
	--mdn-nosupport-text: #ccc;
	--mdn-pass: green;
	--mdn-fail: red;
}
@media (prefers-color-scheme: dark) {
	:root {
		--mdn-bg: #222;
		--mdn-shadow: #444;
		--mdn-nosupport-text: #666;
		--mdn-pass: #690;
		--mdn-fail: #d22;
	}
}
.mdn-anno {
	background: var(--mdn-bg, #EEE);
	border-radius: .25em;
	box-shadow: 0 0 3px var(--mdn-shadow, #999);
	color: var(--text, black);
	font: 1em sans-serif;
	hyphens: none;
	max-width: min-content;
	overflow: hidden;
	padding: 0.2em;
	position: absolute;
	right: 0.3em;
	top: auto;
	white-space: nowrap;
	word-wrap: normal;
	z-index: 8;
}
.mdn-anno.unpositioned {
	display: none;
}
.mdn-anno.overlapping-main {
	opacity: .2;
	transition: opacity .1s;
}
.mdn-anno[open] {
	opacity: 1;
	z-index: 9;
	min-width: 9em;
}
.mdn-anno:hover {
	opacity: 1;
	outline: var(--text, black) 1px solid;
}
.mdn-anno > summary {
	font-weight: normal;
	text-align: right;
	cursor: pointer;
	display: block;
}
.mdn-anno > summary > .less-than-two-engines-flag {
	color: var(--mdn-fail);
	padding-right: 2px;
}
.mdn-anno > summary > .all-engines-flag {
	color: var(--mdn-pass);
	padding-right: 2px;
}
.mdn-anno > summary > span {
	color: #fff;
	background-color: #000;
	font-weight: normal;
	font-family: zillaslab, Palatino, "Palatino Linotype", serif;
	padding: 2px 3px 0px 3px;
	line-height: 1.3em;
	vertical-align: top;
}
.mdn-anno > .feature {
	margin-top: 20px;
}
.mdn-anno > .feature:not(:first-of-type) {
	border-top: 1px solid #999;
	margin-top: 6px;
	padding-top: 2px;
}
.mdn-anno > .feature > .less-than-two-engines-text {
	color: var(--mdn-fail);
}
.mdn-anno > .feature > .all-engines-text {
	color: var(--mdn-pass);
}
.mdn-anno > .feature > p {
	font-size: .75em;
	margin-top: 6px;
	margin-bottom: 0;
}
.mdn-anno > .feature > p + p {
	margin-top: 3px;
}
.mdn-anno > .feature > .support {
	display: block;
	font-size: 0.6em;
	margin: 0;
	padding: 0;
	margin-top: 2px;
}
.mdn-anno > .feature > .support + div {
	padding-top: 0.5em;
}
.mdn-anno > .feature > .support > hr {
	display: block;
	border: none;
	border-top: 1px dotted #999;
	padding: 3px 0px 0px 0px;
	margin: 2px 3px 0px 3px;
}
.mdn-anno > .feature > .support > hr::before {
	content: "";
}
.mdn-anno > .feature > .support > span {
	padding: 0.2em 0;
	display: block;
	display: table;
}
.mdn-anno > .feature > .support > span.no {
	color: var(--mdn-nosupport-text);
	filter: grayscale(100%);
}
.mdn-anno > .feature > .support > span.no::before {
	opacity: 0.5;
}
.mdn-anno > .feature > .support > span:first-of-type {
	padding-top: 0.5em;
}
.mdn-anno > .feature > .support > span > span {
	padding: 0 0.5em;
	display: table-cell;
}
.mdn-anno > .feature > .support > span > span:first-child {
	width: 100%;
}
.mdn-anno > .feature > .support > span > span:last-child {
	width: 100%;
	white-space: pre;
	padding: 0;
}
.mdn-anno > .feature > .support > span::before {
	content: ' ';
	display: table-cell;
	min-width: 1.5em;
	height: 1.5em;
	background: no-repeat center center;
	background-size: contain;
	text-align: right;
	font-size: 0.75em;
	font-weight: bold;
}
.mdn-anno > .feature > .support > .chrome_android::before {
	background-image: url(https://resources.whatwg.org/browser-logos/chrome.svg);
}
.mdn-anno > .feature > .support > .firefox_android::before {
	background-image: url(https://resources.whatwg.org/browser-logos/firefox.png);
}
.mdn-anno > .feature > .support > .chrome::before {
	background-image: url(https://resources.whatwg.org/browser-logos/chrome.svg);
}
.mdn-anno > .feature > .support > .edge_blink::before {
	background-image: url(https://resources.whatwg.org/browser-logos/edge.svg);
}
.mdn-anno > .feature > .support > .edge::before {
	background-image: url(https://resources.whatwg.org/browser-logos/edge_legacy.svg);
}
.mdn-anno > .feature > .support > .firefox::before {
	background-image: url(https://resources.whatwg.org/browser-logos/firefox.png);
}
.mdn-anno > .feature > .support > .ie::before {
	background-image: url(https://resources.whatwg.org/browser-logos/ie.png);
}
.mdn-anno > .feature > .support > .safari_ios::before {
	background-image: url(https://resources.whatwg.org/browser-logos/safari-ios.svg);
}
.mdn-anno > .feature > .support > .nodejs::before {
	background-image: url(https://nodejs.org/static/images/favicons/favicon.ico);
}
.mdn-anno > .feature > .support > .opera_android::before {
	background-image: url(https://resources.whatwg.org/browser-logos/opera.svg);
}
.mdn-anno > .feature > .support > .opera::before {
	background-image: url(https://resources.whatwg.org/browser-logos/opera.svg);
}
.mdn-anno > .feature > .support > .safari::before {
	background-image: url(https://resources.whatwg.org/browser-logos/safari.png);
}
.mdn-anno > .feature > .support > .samsunginternet_android::before {
	background-image: url(https://resources.whatwg.org/browser-logos/samsung.svg);
}
.mdn-anno > .feature > .support > .webview_android::before {
	background-image: url(https://resources.whatwg.org/browser-logos/android-webview.png);
}
.name-slug-mismatch {
	color: red;
}
.caniuse-status:hover {
	z-index: 9;
}
/* dt, li, .issue, .note, and .example are "position: relative", so to put annotation at right margin, must move to right of containing block */;
.h-entry:not(.status-LS) dt > .mdn-anno, .h-entry:not(.status-LS) li > .mdn-anno, .h-entry:not(.status-LS) .issue > .mdn-anno, .h-entry:not(.status-LS) .note > .mdn-anno, .h-entry:not(.status-LS) .example > .mdn-anno {
	right: -6.7em;
}
.h-entry p + .mdn-anno {
	margin-top: 0;
}
 h2 + .mdn-anno.after {
	margin: -48px 0 0 0;
}
 h3 + .mdn-anno.after {
	margin: -46px 0 0 0;
}
 h4 + .mdn-anno.after {
	margin: -42px 0 0 0;
}
 h5 + .mdn-anno.after {
	margin: -40px 0 0 0;
}
 h6 + .mdn-anno.after {
	margin: -40px 0 0 0;
}
</style>
<style>/* Boilerplate: style-railroad */
:root {
    --railroad-bg: hsl(30, 20%, 95%);
    --railroad-stroke: black;
    --railroad-fill: hsl(120,100%,90%);
}
svg.railroad-diagram {
    background-color: var(--railroad-bg);
}
svg.railroad-diagram path {
    stroke-width:3px;
    stroke: var(--railroad-stroke);
    fill:transparent;
}
svg.railroad-diagram text {
    font: bold 14px monospace;
    fill: var(--text, currentcolor);
    text-anchor:middle;
}
svg.railroad-diagram text.label {
    text-anchor:start;
}
svg.railroad-diagram text.comment {
    font:italic 12px monospace;
}
svg.railroad-diagram rect {
    stroke-width:3px;
    stroke: var(--railroad-stroke);
    fill: var(--railroad-fill);
}

@media (prefers-color-scheme: dark) {
    :root {
        --railroad-bg: rgba(255, 255, 255, .05);
        --railroad-stroke: #bbb;
        --railroad-fill: hsla(240deg, 20%, 15%);
    }
}
</style>
<style>/* Boilerplate: style-ref-hints */
:root {
    --ref-hint-bg: #ddd;
    --ref-hint-text: var(--text);
}
@media (prefers-color-scheme: dark) {
    :root {
        --ref-hint-bg: #222;
        --ref-hint-text: var(--text);
    }
}

.ref-hint {
    display: inline-block;
    position: absolute;
    z-index: 35;
    width: 20em;
    width: 300px;
    height: auto;
    max-height: 500px;
    overflow: auto;
    padding: 0.5em 0.5em;
    font: small Helvetica Neue, sans-serif, Droid Sans Fallback;
    background: var(--ref-hint-bg);
    color: var(--ref-hint-text);
    border: outset 0.2em;
    white-space: normal; /* in case it's moved into a pre */
}

.ref-hint * { margin: 0; padding: 0; text-indent: 0; }

.ref-hint ul { padding: 0 0 0 1em; list-style: none; }
</style>
<style>/* Boilerplate: style-selflinks */
:root {
    --selflink-text: white;
    --selflink-bg: gray;
    --selflink-hover-text: black;
}
.heading, .issue, .note, .example, li, dt {
    position: relative;
}
a.self-link {
    position: absolute;
    top: 0;
    left: calc(-1 * (3.5rem - 26px));
    width: calc(3.5rem - 26px);
    height: 2em;
    text-align: center;
    border: none;
    transition: opacity .2s;
    opacity: .5;
}
a.self-link:hover {
    opacity: 1;
}
.heading > a.self-link {
    font-size: 83%;
}
.example > a.self-link,
.note > a.self-link,
.issue > a.self-link {
    /* These blocks are overflow:auto, so positioning outside
       doesn't work. */
    left: auto;
    right: 0;
}
li > a.self-link {
    left: calc(-1 * (3.5rem - 26px) - 2em);
}
dfn > a.self-link {
    top: auto;
    left: auto;
    opacity: 0;
    width: 1.5em;
    height: 1.5em;
    background: var(--selflink-bg);
    color: var(--selflink-text);
    font-style: normal;
    transition: opacity .2s, background-color .2s, color .2s;
}
dfn:hover > a.self-link {
    opacity: 1;
}
dfn > a.self-link:hover {
    color: var(--selflink-hover-text);
}

a.self-link::before            { content: "¶"; }
.heading > a.self-link::before { content: "§"; }
dfn > a.self-link::before      { content: "#"; }
</style>
<style>/* Boilerplate: style-syntax-highlighting */
code.highlight { padding: .1em; border-radius: .3em; }
pre.highlight, pre > code.highlight { display: block; padding: 1em; margin: .5em 0; overflow: auto; border-radius: 0; }

.highlight:not(.idl) { background: rgba(0, 0, 0, .03); }
c-[a] { color: #990055 } /* Keyword.Declaration */
c-[b] { color: #990055 } /* Keyword.Type */
c-[c] { color: #708090 } /* Comment */
c-[d] { color: #708090 } /* Comment.Multiline */
c-[e] { color: #0077aa } /* Name.Attribute */
c-[f] { color: #669900 } /* Name.Tag */
c-[g] { color: #222222 } /* Name.Variable */
c-[k] { color: #990055 } /* Keyword */
c-[l] { color: #000000 } /* Literal */
c-[m] { color: #000000 } /* Literal.Number */
c-[n] { color: #0077aa } /* Name */
c-[o] { color: #999999 } /* Operator */
c-[p] { color: #999999 } /* Punctuation */
c-[s] { color: #a67f59 } /* Literal.String */
c-[t] { color: #a67f59 } /* Literal.String.Single */
c-[u] { color: #a67f59 } /* Literal.String.Double */
c-[cp] { color: #708090 } /* Comment.Preproc */
c-[c1] { color: #708090 } /* Comment.Single */
c-[cs] { color: #708090 } /* Comment.Special */
c-[kc] { color: #990055 } /* Keyword.Constant */
c-[kn] { color: #990055 } /* Keyword.Namespace */
c-[kp] { color: #990055 } /* Keyword.Pseudo */
c-[kr] { color: #990055 } /* Keyword.Reserved */
c-[ld] { color: #000000 } /* Literal.Date */
c-[nc] { color: #0077aa } /* Name.Class */
c-[no] { color: #0077aa } /* Name.Constant */
c-[nd] { color: #0077aa } /* Name.Decorator */
c-[ni] { color: #0077aa } /* Name.Entity */
c-[ne] { color: #0077aa } /* Name.Exception */
c-[nf] { color: #0077aa } /* Name.Function */
c-[nl] { color: #0077aa } /* Name.Label */
c-[nn] { color: #0077aa } /* Name.Namespace */
c-[py] { color: #0077aa } /* Name.Property */
c-[ow] { color: #999999 } /* Operator.Word */
c-[mb] { color: #000000 } /* Literal.Number.Bin */
c-[mf] { color: #000000 } /* Literal.Number.Float */
c-[mh] { color: #000000 } /* Literal.Number.Hex */
c-[mi] { color: #000000 } /* Literal.Number.Integer */
c-[mo] { color: #000000 } /* Literal.Number.Oct */
c-[sb] { color: #a67f59 } /* Literal.String.Backtick */
c-[sc] { color: #a67f59 } /* Literal.String.Char */
c-[sd] { color: #a67f59 } /* Literal.String.Doc */
c-[se] { color: #a67f59 } /* Literal.String.Escape */
c-[sh] { color: #a67f59 } /* Literal.String.Heredoc */
c-[si] { color: #a67f59 } /* Literal.String.Interpol */
c-[sx] { color: #a67f59 } /* Literal.String.Other */
c-[sr] { color: #a67f59 } /* Literal.String.Regex */
c-[ss] { color: #a67f59 } /* Literal.String.Symbol */
c-[vc] { color: #0077aa } /* Name.Variable.Class */
c-[vg] { color: #0077aa } /* Name.Variable.Global */
c-[vi] { color: #0077aa } /* Name.Variable.Instance */
c-[il] { color: #000000 } /* Literal.Number.Integer.Long */

@media (prefers-color-scheme: dark) {
    .highlight:not(.idl) { background: rgba(255, 255, 255, .05); }

    c-[a] { color: #d33682 } /* Keyword.Declaration */
    c-[b] { color: #d33682 } /* Keyword.Type */
    c-[c] { color: #2aa198 } /* Comment */
    c-[d] { color: #2aa198 } /* Comment.Multiline */
    c-[e] { color: #268bd2 } /* Name.Attribute */
    c-[f] { color: #b58900 } /* Name.Tag */
    c-[g] { color: #cb4b16 } /* Name.Variable */
    c-[k] { color: #d33682 } /* Keyword */
    c-[l] { color: #657b83 } /* Literal */
    c-[m] { color: #657b83 } /* Literal.Number */
    c-[n] { color: #268bd2 } /* Name */
    c-[o] { color: #657b83 } /* Operator */
    c-[p] { color: #657b83 } /* Punctuation */
    c-[s] { color: #6c71c4 } /* Literal.String */
    c-[t] { color: #6c71c4 } /* Literal.String.Single */
    c-[u] { color: #6c71c4 } /* Literal.String.Double */
    c-[ch] { color: #2aa198 } /* Comment.Hashbang */
    c-[cp] { color: #2aa198 } /* Comment.Preproc */
    c-[cpf] { color: #2aa198 } /* Comment.PreprocFile */
    c-[c1] { color: #2aa198 } /* Comment.Single */
    c-[cs] { color: #2aa198 } /* Comment.Special */
    c-[kc] { color: #d33682 } /* Keyword.Constant */
    c-[kn] { color: #d33682 } /* Keyword.Namespace */
    c-[kp] { color: #d33682 } /* Keyword.Pseudo */
    c-[kr] { color: #d33682 } /* Keyword.Reserved */
    c-[ld] { color: #657b83 } /* Literal.Date */
    c-[nc] { color: #268bd2 } /* Name.Class */
    c-[no] { color: #268bd2 } /* Name.Constant */
    c-[nd] { color: #268bd2 } /* Name.Decorator */
    c-[ni] { color: #268bd2 } /* Name.Entity */
    c-[ne] { color: #268bd2 } /* Name.Exception */
    c-[nf] { color: #268bd2 } /* Name.Function */
    c-[nl] { color: #268bd2 } /* Name.Label */
    c-[nn] { color: #268bd2 } /* Name.Namespace */
    c-[py] { color: #268bd2 } /* Name.Property */
    c-[ow] { color: #657b83 } /* Operator.Word */
    c-[mb] { color: #657b83 } /* Literal.Number.Bin */
    c-[mf] { color: #657b83 } /* Literal.Number.Float */
    c-[mh] { color: #657b83 } /* Literal.Number.Hex */
    c-[mi] { color: #657b83 } /* Literal.Number.Integer */
    c-[mo] { color: #657b83 } /* Literal.Number.Oct */
    c-[sa] { color: #6c71c4 } /* Literal.String.Affix */
    c-[sb] { color: #6c71c4 } /* Literal.String.Backtick */
    c-[sc] { color: #6c71c4 } /* Literal.String.Char */
    c-[dl] { color: #6c71c4 } /* Literal.String.Delimiter */
    c-[sd] { color: #6c71c4 } /* Literal.String.Doc */
    c-[se] { color: #6c71c4 } /* Literal.String.Escape */
    c-[sh] { color: #6c71c4 } /* Literal.String.Heredoc */
    c-[si] { color: #6c71c4 } /* Literal.String.Interpol */
    c-[sx] { color: #6c71c4 } /* Literal.String.Other */
    c-[sr] { color: #6c71c4 } /* Literal.String.Regex */
    c-[ss] { color: #6c71c4 } /* Literal.String.Symbol */
    c-[fm] { color: #268bd2 } /* Name.Function.Magic */
    c-[vc] { color: #cb4b16 } /* Name.Variable.Class */
    c-[vg] { color: #cb4b16 } /* Name.Variable.Global */
    c-[vi] { color: #cb4b16 } /* Name.Variable.Instance */
    c-[vm] { color: #cb4b16 } /* Name.Variable.Magic */
    c-[il] { color: #657b83 } /* Literal.Number.Integer.Long */
}
</style>
<style>/* Boilerplate: style-var-click-highlighting */
/*
Colors were chosen in Lab using https://nixsensor.com/free-color-converter/
D50 2deg illuminant, L in [0,100], a and b in [-128, 128]
0 = lab(85,0,85)
1 = lab(85,80,30)
2 = lab(85,-40,40)
3 = lab(85,-50,0)
4 = lab(85,5,15)
5 = lab(85,-10,-50)
6 = lab(85,35,-15)

For darkmode:
0 = oklab(50%   0%  108%)
1 = oklab(50% -51%   51%)
2 = oklab(50% -64%  -20%)
3 = oklab(50%   6%   19%)
4 = oklab(50% -12%  -64%)
5 = oklab(50%  44%  -19%)  
6 = oklab(50% 102%   38%)
*/

[data-algorithm] var { cursor: pointer; }
var[data-var-color] { background-color: var(--var-bg); box-shadow: 0 0 0 2px var(--var-bg); }

var[data-var-color] { --var-bg: #F4D200; }
var[data-var-color="1"] { --var-bg: #FF87A2; }
var[data-var-color="2"] { --var-bg: #96E885; }
var[data-var-color="3"] { --var-bg: #3EEED2; }
var[data-var-color="4"] { --var-bg: #EACFB6; }
var[data-var-color="5"] { --var-bg: #82DDFF; }
var[data-var-color="6"] { --var-vg: #FFBCF2; }

@media (prefers-color-scheme: dark) {
	var[data-var-color] { --var-bg: #bc1a00; }
	var[data-var-color="1"] { --var-bg: #007f00; }
	var[data-var-color="2"] { --var-bg: #008698; }
	var[data-var-color="3"] { --var-bg: #7f5b2b; }
	var[data-var-color="4"] { --var-bg: #004df3; }
	var[data-var-color="5"] { --var-bg: #a1248a; }
	var[data-var-color="6"] { --var-vg: #ff0000; }
}
</style>
 <body class="h-entry">
  <div class="head">
   <p data-fill-with="logo"><a class="logo" href="https://www.w3.org/"> <img alt="W3C" height="48" src="https://www.w3.org/StyleSheets/TR/2021/logos/W3C" width="72"> </a> </p>
   <h1 class="p-name no-ref" id="title">Background Fetch</h1>
   <p id="w3c-state"><a href="https://www.w3.org/standards/types#CG-DRAFT">Draft Community Group Report</a>, <time class="dt-updated" datetime="1970-01-01">1 January 1970</time></p>
   <div data-fill-with="spec-metadata">
    <dl>
     <dt>This version:
     <dd><a class="u-url" href="https://wicg.github.io/background-fetch/">https://wicg.github.io/background-fetch/</a>
     <dt class="editor">Editors:
     <dd class="editor p-author h-card vcard"><a class="p-name fn u-email email" href="mailto:jakearchibald@google.com">Jake Archibald</a> (<span class="p-org org">Google</span>)
     <dd class="editor p-author h-card vcard"><a class="p-name fn u-email email" href="mailto:beverloo@google.com">Peter Beverloo</a> (<span class="p-org org">Google</span>)
    </dl>
   </div>
   <div data-fill-with="warning"></div>
   <p class="copyright" data-fill-with="copyright"><a href="https://www.w3.org/policies/#copyright">Copyright</a> © 1970 the Contributors to the Background Fetch Specification, published by the <a href="https://www.w3.org/community/wicg/">Web Platform Incubator Community Group</a> under the <a href="https://www.w3.org/community/about/agreements/cla/">W3C Community Contributor License Agreement (CLA)</a>.
A human-readable <a href="http://www.w3.org/community/about/agreements/cla-deed/">summary</a> is available. </p>
   <hr title="Separator for header">
  </div>
  <div class="p-summary" data-fill-with="abstract">
   <h2 class="no-num no-toc no-ref heading settled" id="abstract"><span class="content">Abstract</span></h2>
   <p>An API to handle large uploads/downloads in the background with user visibility.</p>
  </div>
  <div data-fill-with="at-risk"></div>
  <h2 class="no-num no-toc no-ref heading settled" id="status"><span class="content">Status of this document</span></h2>
  <div data-fill-with="status">
   <p> This specification was published by the <a href="https://www.w3.org/community/wicg/">Web Platform Incubator Community Group</a>.
  It is not a W3C Standard nor is it on the W3C Standards Track.

  Please note that under the <a href="https://www.w3.org/community/about/agreements/cla/">W3C Community Contributor License Agreement (CLA)</a> there is a limited opt-out and other conditions apply.

  Learn more about <a href="http://www.w3.org/community/">W3C Community and Business Groups</a>. </p>
   <p></p>
  </div>
  <div data-fill-with="at-risk"></div>
  <nav data-fill-with="table-of-contents" id="toc">
   <h2 class="no-num no-toc no-ref" id="contents">Table of Contents</h2>
   <ol class="toc" role="directory">
    <li><a href="#intro"><span class="secno">1</span> <span class="content">Introduction</span></a>
    <li><a href="#realms"><span class="secno">2</span> <span class="content">Realms</span></a>
    <li>
     <a href="#infrastructure"><span class="secno">3</span> <span class="content">Infrastructure</span></a>
     <ol class="toc">
      <li><a href="#service-worker-registration-concept-extensions"><span class="secno">3.1</span> <span class="content">Extensions to service worker registration</span></a>
      <li>
       <a href="#background-fetch-concept"><span class="secno">3.2</span> <span class="content"><span>Background fetch</span></span></a>
       <ol class="toc">
        <li><a href="#background-fetch-display-algorithm"><span class="secno">3.2.1</span> <span class="content"><span>Display</span></span></a>
       </ol>
      <li><a href="#background-fetch-record-concept"><span class="secno">3.3</span> <span class="content">Background fetch record</span></a>
      <li><a href="#background-fetch-response-concept"><span class="secno">3.4</span> <span class="content">Background fetch response</span></a>
     </ol>
    <li>
     <a href="#algorithms"><span class="secno">4</span> <span class="content">Algorithms</span></a>
     <ol class="toc">
      <li><a href="#perform-a-background-fetch-algorithm"><span class="secno">4.1</span> <span class="content"><span>Perform a background fetch</span></span></a>
      <li><a href="#complete-a-record-algorithm"><span class="secno">4.2</span> <span class="content"><span>Complete a record</span></span></a>
      <li><a href="#update-background-fetch-instance-algorithm"><span class="secno">4.3</span> <span class="content"><span>Update background fetch instances</span></span></a>
      <li><a href="#fire-a-background-fetch-click-event-algorithm"><span class="secno">4.4</span> <span class="content"><span>Fire a background fetch click event</span></span></a>
      <li><a href="#get-a-backgroundfetchregistration-instance-algorithm"><span class="secno">4.5</span> <span class="content"><span>Get a BackgroundFetchRegistration instance</span></span></a>
      <li><a href="#validate-partial-response-algorithm"><span class="secno">4.6</span> <span class="content"><span>Validate a partial response</span></span></a>
      <li><a href="#extract-content-range-values-algorithm"><span class="secno">4.7</span> <span class="content"><span>Extract content-range values</span></span></a>
      <li><a href="#create-settled-fetches-algorithm"><span class="secno">4.8</span> <span class="content"><span>Create record objects</span></span></a>
      <li><a href="#contains-background-fetch-algorithm"><span class="secno">4.9</span> <span class="content"><span>Contains background fetch</span></span></a>
     </ol>
    <li><a href="#header-syntax"><span class="secno">5</span> <span class="content">Header syntax</span></a>
    <li>
     <a href="#api"><span class="secno">6</span> <span class="content">API</span></a>
     <ol class="toc">
      <li>
       <a href="#extensions-to-service-worker-global"><span class="secno">6.1</span> <span class="content">Extensions to <code class="idl"><span>ServiceWorkerGlobalScope</span></code></span></a>
       <ol class="toc">
        <li><a href="#service-worker-global-events"><span class="secno">6.1.1</span> <span class="content">Events</span></a>
       </ol>
      <li><a href="#extensions-to-service-worker-registration"><span class="secno">6.2</span> <span class="content">Extensions to <code class="idl"><span>ServiceWorkerRegistration</span></code></span></a>
      <li>
       <a href="#background-fetch-manager"><span class="secno">6.3</span> <span class="content"><code class="idl"><span>BackgroundFetchManager</span></code></span></a>
       <ol class="toc">
        <li><a href="#background-fetch-manager-fetch"><span class="secno">6.3.1</span> <span class="content"><code class="idl"><span>fetch()</span></code></span></a>
        <li><a href="#background-fetch-manager-get"><span class="secno">6.3.2</span> <span class="content"><code class="idl"><span>get()</span></code></span></a>
        <li><a href="#background-fetch-manager-get-ids"><span class="secno">6.3.3</span> <span class="content"><code class="idl"><span>getIds()</span></code></span></a>
       </ol>
      <li>
       <a href="#background-fetch-registration"><span class="secno">6.4</span> <span class="content"><code class="idl"><span>BackgroundFetchRegistration</span></code></span></a>
       <ol class="toc">
        <li><a href="#background-fetch-registration-events"><span class="secno">6.4.1</span> <span class="content">Events</span></a>
        <li><a href="#background-fetch-registration-abort"><span class="secno">6.4.2</span> <span class="content"><code class="idl"><span>abort()</span></code></span></a>
        <li><a href="#background-fetch-registration-match"><span class="secno">6.4.3</span> <span class="content"><code class="idl"><span>match()</span></code></span></a>
        <li><a href="#background-fetch-registration-match-all"><span class="secno">6.4.4</span> <span class="content"><code class="idl"><span>matchAll()</span></code></span></a>
       </ol>
      <li><a href="#background-fetch-record-interface"><span class="secno">6.5</span> <span class="content"><code class="idl"><span>BackgroundFetchRecord</span></code></span></a>
      <li><a href="#background-fetch-event"><span class="secno">6.6</span> <span class="content"><code class="idl"><span>BackgroundFetchEvent</span></code></span></a>
      <li>
       <a href="#background-fetch-update-ui-event"><span class="secno">6.7</span> <span class="content"><code class="idl"><span>BackgroundFetchUpdateUIEvent</span></code></span></a>
       <ol class="toc">
        <li><a href="#background-fetch-update-ui-event-update-ui"><span class="secno">6.7.1</span> <span class="content"><code class="idl"><span>updateUI()</span></code></span></a>
       </ol>
     </ol>
    <li>
     <a href="#automation"><span class="secno">7</span> <span class="content">Automation</span></a>
     <ol class="toc">
      <li><a href="#automation-click"><span class="secno">7.1</span> <span class="content"><span>Click</span></span></a>
     </ol>
    <li><a href="#privacy-and-bandwidth-use"><span class="secno">8</span> <span class="content">Privacy and bandwidth usage</span></a>
    <li>
     <a href="#w3c-conformance"><span class="secno"></span> <span class="content">Conformance</span></a>
     <ol class="toc">
      <li><a href="#w3c-conventions"><span class="secno"></span> <span class="content">Document conventions</span></a>
     </ol>
    <li>
     <a href="#index"><span class="secno"></span> <span class="content">Index</span></a>
     <ol class="toc">
      <li><a href="#index-defined-here"><span class="secno"></span> <span class="content">Terms defined by this specification</span></a>
      <li><a href="#index-defined-elsewhere"><span class="secno"></span> <span class="content">Terms defined by reference</span></a>
     </ol>
    <li>
     <a href="#references"><span class="secno"></span> <span class="content">References</span></a>
     <ol class="toc">
      <li><a href="#normative"><span class="secno"></span> <span class="content">Normative References</span></a>
     </ol>
    <li><a href="#idl-index"><span class="secno"></span> <span class="content">IDL Index</span></a>
    <li><a href="#issues-index"><span class="secno"></span> <span class="content">Issues Index</span></a>
   </ol>
  </nav>
  <main>
   <h2 class="heading settled" data-level="1" id="intro"><span class="secno">1. </span><span class="content">Introduction</span><a class="self-link" href="#intro"></a></h2>
   <p>A <a data-link-type="dfn" href="https://w3c.github.io/ServiceWorker/#dfn-service-worker" id="ref-for-dfn-service-worker">service worker</a> is capable of fetching and caching assets, the size of which is restricted only by <a href="https://storage.spec.whatwg.org/#usage-and-quota">origin storage</a>. However, if the user navigates away from the site or closes the browser, the service worker is <a href="https://w3c.github.io/ServiceWorker/#service-worker-lifetime">likely to be killed</a>. This can happen even if there’s a pending promise passed to <code class="idl"><a data-link-type="idl" href="https://w3c.github.io/ServiceWorker/#dom-extendableevent-waituntil" id="ref-for-dom-extendableevent-waituntil">waitUntil()</a></code> - if it hasn’t resolved within a few minutes the browser may consider it an abuse of <a data-link-type="dfn" href="https://w3c.github.io/ServiceWorker/#dfn-service-worker" id="ref-for-dfn-service-worker①">service worker</a> and kill the process.</p>
   <p>This is excellent for battery and privacy, but it makes it difficult to download and cache large assets such as podcasts and movies, and upload video and images.</p>
   <p>This specification aims to:</p>
   <ul>
    <li data-md>
     <p>Allow fetches (requests &amp; responses) to continue even if the user closes all windows &amp; workers to the origin.</p>
    <li data-md>
     <p>Allow a single job to involve many requests, as defined by the app.</p>
    <li data-md>
     <p>Allow the browser/OS to show UI to indicate the progress of that job, and allow the user to pause/abort.</p>
    <li data-md>
     <p>Allow the browser/OS to deal with poor connectivity by pausing/resuming the download.</p>
    <li data-md>
     <p>Allow the app to react to success/failure of the job, perhaps by caching the results.</p>
    <li data-md>
     <p>Allow access to background-fetched resources as they fetch.</p>
   </ul>
   <h2 class="heading settled" data-level="2" id="realms"><span class="secno">2. </span><span class="content">Realms</span><a class="self-link" href="#realms"></a></h2>
   <p>All platform objects are created in the <a data-link-type="dfn">context object</a>'s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-realm" id="ref-for-concept-relevant-realm">relevant Realm</a> unless otherwise specified.</p>
   <h2 class="heading settled" data-level="3" id="infrastructure"><span class="secno">3. </span><span class="content">Infrastructure</span><a class="self-link" href="#infrastructure"></a></h2>
   <p>A resource is considered <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="temporarily-unavailable">temporarily unavailable</dfn> if the user agent believes the resource may soon become available. Reasons may include:</p>
   <ul>
    <li data-md>
     <p>The user agent is offline.</p>
    <li data-md>
     <p>The user agent is behind a captive portal.</p>
   </ul>
   <p>The <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="background-fetch-task-source">background fetch task source</dfn> is a <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#task-source" id="ref-for-task-source">task source</a>.</p>
   <div class="algorithm" data-algorithm="queue a bgfetch task"> To <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="queue-a-bgfetch-task">queue a bgfetch task</dfn> on an optional <var>eventLoop</var> (an <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-agent-event-loop" id="ref-for-concept-agent-event-loop">event loop</a>, defaulting to the caller’s <a data-link-type="dfn">context object</a>'s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#relevant-settings-object" id="ref-for-relevant-settings-object">relevant settings object</a>'s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#responsible-event-loop" id="ref-for-responsible-event-loop">responsible event loop</a>) with <var>steps</var> (steps), <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-task" id="ref-for-queue-a-task">queue a task</a> on <var>eventLoop</var> using the <a data-link-type="dfn" href="#background-fetch-task-source" id="ref-for-background-fetch-task-source">background fetch task source</a> to run <var>steps</var>. </div>
   <h3 class="heading settled" data-level="3.1" id="service-worker-registration-concept-extensions"><span class="secno">3.1. </span><span class="content">Extensions to service worker registration</span><a class="self-link" href="#service-worker-registration-concept-extensions"></a></h3>
   <p>A <a data-link-type="dfn" href="https://w3c.github.io/ServiceWorker/#dfn-service-worker-registration" id="ref-for-dfn-service-worker-registration">service worker registration</a> additionally has:</p>
   <div>
    <ul>
     <li data-md>
      <p><dfn class="dfn-paneled" data-dfn-for="service worker registration" data-dfn-type="dfn" data-noexport id="service-worker-registration-active-background-fetches">Active background fetches</dfn> (a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#ordered-map" id="ref-for-ordered-map">map</a>), where each key is a DOMString, and each item is a <a data-link-type="dfn" href="#background-fetch" id="ref-for-background-fetch">background fetch</a>. It is initially an empty <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#ordered-map" id="ref-for-ordered-map①">map</a>.</p>
     <li data-md>
      <p>An <dfn class="dfn-paneled" data-dfn-for="service worker registration" data-dfn-type="dfn" data-noexport id="service-worker-registration-active-background-fetches-edit-queue">active background fetches edit queue</dfn> (a <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/infrastructure.html#parallel-queue" id="ref-for-parallel-queue">parallel queue</a>), initially the result of <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/infrastructure.html#starting-a-new-parallel-queue" id="ref-for-starting-a-new-parallel-queue">starting a new parallel queue</a>.</p>
    </ul>
   </div>
   <h3 class="heading settled" data-level="3.2" id="background-fetch-concept"><span class="secno">3.2. </span><span class="content"><a data-link-type="dfn" href="#background-fetch" id="ref-for-background-fetch①">Background fetch</a></span><a class="self-link" href="#background-fetch-concept"></a></h3>
   <p>A <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="background-fetch">background fetch</dfn> consists of:</p>
   <div>
    <ul>
     <li data-md>
      <p>An <dfn class="dfn-paneled" data-dfn-for="background fetch" data-dfn-type="dfn" data-noexport id="background-fetch-id">id</dfn> (a DOMString).</p>
     <li data-md>
      <p><dfn class="dfn-paneled" data-dfn-for="background fetch" data-dfn-type="dfn" data-noexport id="background-fetch-records">Records</dfn> (a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list" id="ref-for-list">list</a> of <a data-link-type="dfn" href="#background-fetch-record" id="ref-for-background-fetch-record">background fetch records</a>).</p>
     <li data-md>
      <p>A <dfn class="dfn-paneled" data-dfn-for="background fetch" data-dfn-type="dfn" data-noexport id="background-fetch-title">title</dfn> (a DOMString).</p>
     <li data-md>
      <p>A <dfn class="dfn-paneled" data-dfn-for="background fetch" data-dfn-type="dfn" data-noexport id="background-fetch-download-total">download total</dfn> (a number).</p>
     <li data-md>
      <p>An <dfn class="dfn-paneled" data-dfn-for="background fetch" data-dfn-type="dfn" data-noexport id="background-fetch-upload-total">upload total</dfn> (a number).</p>
     <li data-md>
      <p>A <dfn class="dfn-paneled" data-dfn-for="background fetch" data-dfn-type="dfn" data-noexport id="background-fetch-uploaded">uploaded</dfn> (a number), initially 0.</p>
     <li data-md>
      <p>A <dfn class="dfn-paneled" data-dfn-for="background fetch" data-dfn-type="dfn" data-noexport id="background-fetch-result">result</dfn> (a <code class="idl"><a data-link-type="idl" href="#enumdef-backgroundfetchresult" id="ref-for-enumdef-backgroundfetchresult">BackgroundFetchResult</a></code>), initially the empty string.</p>
     <li data-md>
      <p>A <dfn class="dfn-paneled" data-dfn-for="background fetch" data-dfn-type="dfn" data-noexport id="background-fetch-failure-reason">failure reason</dfn> (a <code class="idl"><a data-link-type="idl" href="#enumdef-backgroundfetchfailurereason" id="ref-for-enumdef-backgroundfetchfailurereason">BackgroundFetchFailureReason</a></code>), initially the empty string.</p>
     <li data-md>
      <p>A <dfn class="dfn-paneled" data-dfn-for="background fetch" data-dfn-type="dfn" data-noexport id="background-fetch-records-available-flag">records available flag</dfn> initially set.</p>
     <li data-md>
      <p><dfn class="dfn-paneled" data-dfn-for="background fetch" data-dfn-type="dfn" data-noexport id="background-fetch-icons">Icons</dfn> (a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list" id="ref-for-list①">list</a> of <code class="idl"><a data-link-type="idl" href="https://w3c.github.io/image-resource/#dom-imageresource" id="ref-for-dom-imageresource">ImageResource</a></code>s).</p>
     <li data-md>
      <p>A <dfn class="dfn-paneled" data-dfn-for="background fetch" data-dfn-type="dfn" data-noexport id="background-fetch-service-worker-registration">service worker registration</dfn> (a <a data-link-type="dfn" href="https://w3c.github.io/ServiceWorker/#dfn-service-worker-registration" id="ref-for-dfn-service-worker-registration①">service worker registration</a>).</p>
     <li data-md>
      <p>A <dfn class="dfn-paneled" data-dfn-for="background fetch" data-dfn-type="dfn" data-noexport id="background-fetch-update-handling-queue">update handling queue</dfn> (a <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/infrastructure.html#parallel-queue" id="ref-for-parallel-queue①">parallel queue</a>), initially the result of <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/infrastructure.html#starting-a-new-parallel-queue" id="ref-for-starting-a-new-parallel-queue①">starting a new parallel queue</a>.</p>
     <li data-md>
      <p>A <dfn class="dfn-paneled" data-dfn-for="background fetch" data-dfn-type="dfn" data-noexport id="background-fetch-paused-flag">paused flag</dfn>, initially unset.</p>
     <li data-md>
      <p>A <dfn class="dfn-paneled" data-dfn-for="background fetch" data-dfn-type="dfn" data-noexport id="background-fetch-abort-all-flag">abort all flag</dfn>, initially unset.</p>
    </ul>
    <div class="algorithm" data-algorithm="stored body bytes total">
      To get a <a data-link-type="dfn" href="#background-fetch" id="ref-for-background-fetch②">background fetch</a>'s (<var>bgFetch</var>) <dfn class="dfn-paneled" data-dfn-for="background fetch" data-dfn-type="dfn" data-noexport id="background-fetch-stored-body-bytes-total">stored body bytes total</dfn>, run these steps: 
     <ol>
      <li data-md>
       <p>Let <var>total</var> be 0.</p>
      <li data-md>
       <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-iterate" id="ref-for-list-iterate">For each</a> <var>record</var> of <var>bgFetch</var>’s <a data-link-type="dfn" href="#background-fetch-records" id="ref-for-background-fetch-records">records</a>:</p>
       <ol>
        <li data-md>
         <p>Increment <var>total</var> by the <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#byte-sequence-length" id="ref-for-byte-sequence-length">length</a> of <var>record</var>’s <a data-link-type="dfn" href="#background-fetch-record-response-data" id="ref-for-background-fetch-record-response-data">response data</a>'s <a data-link-type="dfn" href="#background-fetch-response-bytes" id="ref-for-background-fetch-response-bytes">bytes</a>.</p>
       </ol>
      <li data-md>
       <p>Return <var>total</var>.</p>
     </ol>
    </div>
    <h4 class="heading settled" data-level="3.2.1" id="background-fetch-display-algorithm"><span class="secno">3.2.1. </span><span class="content"><a data-link-type="dfn" href="#background-fetch-display" id="ref-for-background-fetch-display">Display</a></span><a class="self-link" href="#background-fetch-display-algorithm"></a></h4>
    <div class="algorithm" data-algorithm="display">
      To <dfn class="dfn-paneled" data-dfn-for="background fetch" data-dfn-type="dfn" data-noexport id="background-fetch-display">display</dfn> a <a data-link-type="dfn" href="#background-fetch" id="ref-for-background-fetch③">background fetch</a> (<var>bgFetch</var>) for a given <var>environment</var> (an <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#environment-settings-object" id="ref-for-environment-settings-object">environment settings object</a>), the user agent must present a user interface that follows these rules: 
     <ul>
      <li data-md>
       <p>The UI must prominently display the <var>bgFetch</var>’s <a data-link-type="dfn" href="#background-fetch-service-worker-registration" id="ref-for-background-fetch-service-worker-registration">service worker registration</a>'s <a data-link-type="dfn" href="https://w3c.github.io/ServiceWorker/#dfn-scope-url" id="ref-for-dfn-scope-url">scope url</a>'s <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url-origin" id="ref-for-concept-url-origin">origin</a></p>
      <li data-md>
       <p>If the <var>bgFetch</var>’s <a data-link-type="dfn" href="#background-fetch-paused-flag" id="ref-for-background-fetch-paused-flag">paused flag</a> is unset, and <var>bgFetch</var>’s <a data-link-type="dfn" href="#background-fetch-result" id="ref-for-background-fetch-result">result</a> is not the empty string, then the UI must indicate that bandwidth is being used.</p>
      <li data-md>
       <p>The UI cannot be dismissed without aborting (e.g. swiped away) until <var>bgFetch</var>’s <a data-link-type="dfn" href="#background-fetch-result" id="ref-for-background-fetch-result①">result</a> is not the empty string.</p>
      <li data-md>
       <p>The UI may display <var>bgFetch</var>’s <a data-link-type="dfn" href="#background-fetch-title" id="ref-for-background-fetch-title">title</a>.</p>
      <li data-md>
       <p>The UI may select an <a data-link-type="dfn" href="https://w3c.github.io/image-resource/#image-resource" id="ref-for-image-resource">image resource</a> (<var>icon</var>) for display from <var>bgFetch</var>’s <a data-link-type="dfn" href="#background-fetch-icons" id="ref-for-background-fetch-icons">icons</a>, after successfully <a data-link-type="dfn" href="https://w3c.github.io/image-resource/#processing-an-imageresource-from-an-api" id="ref-for-processing-an-imageresource-from-an-api">processing</a> it, and <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-fetch" id="ref-for-concept-fetch">fetch</a> it using a new <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-request" id="ref-for-concept-request">request</a> with the following properties:</p>
       <dl>
        <dt data-md><a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-request-url" id="ref-for-concept-request-url">URL</a>
        <dd data-md>
         <p><var>icon</var>’s <a data-link-type="dfn" href="https://w3c.github.io/image-resource/#dfn-src" id="ref-for-dfn-src">src</a>.</p>
        <dt data-md><a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-request-client" id="ref-for-concept-request-client">Client</a>
        <dd data-md>
         <p><var>environment</var>.</p>
        <dt data-md><a data-link-type="dfn">Keepalive flag</a>
        <dd data-md>
         <p>Set.</p>
        <dt data-md><a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#request-service-workers-mode" id="ref-for-request-service-workers-mode">Service-workers mode</a>
        <dd data-md>
         <p>"<code>none</code>".</p>
        <dt data-md><a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-request-destination" id="ref-for-concept-request-destination">Destination</a>
        <dd data-md>
         <p>"<code>image</code>".</p>
        <dt data-md><a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-request-mode" id="ref-for-concept-request-mode">Mode</a>
        <dd data-md>
         <p>"<code>no-cors</code>".</p>
        <dt data-md><a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-request-credentials-mode" id="ref-for-concept-request-credentials-mode">Credentials mode</a>
        <dd data-md>
         <p>"<code>include</code>".</p>
       </dl>
       <p class="issue" id="issue-20b63876"><a class="self-link" href="#issue-20b63876"></a> <a href="https://github.com/w3c/manifest/pull/710">manifest/pull/710</a>.</p>
      <li data-md>
       <p>The UI may use <var>bgFetch</var>’s <a data-link-type="dfn" href="#background-fetch-download-total" id="ref-for-background-fetch-download-total">download total</a>, <a data-link-type="dfn" href="#background-fetch-upload-total" id="ref-for-background-fetch-upload-total">upload total</a>, <a data-link-type="dfn" href="#background-fetch-stored-body-bytes-total" id="ref-for-background-fetch-stored-body-bytes-total">stored body bytes total</a>, <a data-link-type="dfn" href="#background-fetch-uploaded" id="ref-for-background-fetch-uploaded">uploaded</a>, <a data-link-type="dfn" href="#background-fetch-paused-flag" id="ref-for-background-fetch-paused-flag①">paused flag</a>, and <a data-link-type="dfn" href="#background-fetch-result" id="ref-for-background-fetch-result②">result</a> to present the progress of the fetch.</p>
      <li data-md>
       <p>The UI must provide a way for the user to abort the <var>bgFetch</var> by setting <var>bgFetch</var>’s <a data-link-type="dfn" href="#background-fetch-abort-all-flag" id="ref-for-background-fetch-abort-all-flag">abort all flag</a>.</p>
      <li data-md>
       <p>If every <a data-link-type="dfn" href="#background-fetch-record-request" id="ref-for-background-fetch-record-request">request</a> in <var>bgFetch</var>’s <a data-link-type="dfn" href="#background-fetch-records" id="ref-for-background-fetch-records①">records</a> has the <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-request-method" id="ref-for-concept-request-method">method</a> `<code>GET</code>`, the UI may provide a way to toggle <var>bgFetch</var>’s <a data-link-type="dfn" href="#background-fetch-paused-flag" id="ref-for-background-fetch-paused-flag②">paused flag</a>.</p>
       <p class="note" role="note"><span class="marker">Note:</span> If a <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-request-method" id="ref-for-concept-request-method①">method</a> is not `<code>GET</code>`, reissuing the request may have unwanted side effects.</p>
      <li data-md>
       <p>The UI may be activated (for example, by clicking), in which case <a data-link-type="dfn" href="#fire-a-background-fetch-click-event" id="ref-for-fire-a-background-fetch-click-event">fire a background fetch click event</a> for <var>bgFetch</var>.</p>
      <li data-md>
       <p>The UI may remain once the operation is complete, in which case it can still be activated.</p>
     </ul>
     <p>Let <var>permission</var> be the <a data-link-type="dfn" href="https://w3c.github.io/permissions/#dfn-permission-state" id="ref-for-dfn-permission-state">permission state</a> for a <code class="idl"><a data-link-type="idl" href="https://w3c.github.io/permissions/#dom-permissiondescriptor" id="ref-for-dom-permissiondescriptor">PermissionDescriptor</a></code> with <code class="idl"><a data-link-type="idl" href="https://w3c.github.io/permissions/#dom-permissiondescriptor-name" id="ref-for-dom-permissiondescriptor-name">name</a></code> <code>"background-fetch"</code> and <var>environment</var>. If <var>permission</var> is <code>"prompt"</code>, then the user agent may set <var>bgFetch</var>’s <a data-link-type="dfn" href="#background-fetch-paused-flag" id="ref-for-background-fetch-paused-flag③">paused flag</a> at the beginning of this algorithm. The user agent should allow the user to either accept the background fetch (unsetting <var>bgFetch</var>’s <a data-link-type="dfn" href="#background-fetch-paused-flag" id="ref-for-background-fetch-paused-flag④">paused flag</a>), or refuse the background fetch (setting <var>bgFetch</var>’s <a data-link-type="dfn" href="#background-fetch-abort-all-flag" id="ref-for-background-fetch-abort-all-flag①">abort all flag</a>). The user agent may also provide always-allow and alway-deny options, which can be used as <a data-link-type="dfn" href="https://w3c.github.io/permissions/#dfn-new-information-about-the-user-s-intent" id="ref-for-dfn-new-information-about-the-user-s-intent">new information about the user’s intent</a> for this permission.</p>
     <p>The user agent may also consider setting <var>bgFetch</var>’s <a data-link-type="dfn" href="#background-fetch-paused-flag" id="ref-for-background-fetch-paused-flag⑤">paused flag</a> if the user is on a metered connection, or the background fetch was started in the background.</p>
    </div>
   </div>
   <h3 class="heading settled" data-level="3.3" id="background-fetch-record-concept"><span class="secno">3.3. </span><span class="content">Background fetch record</span><a class="self-link" href="#background-fetch-record-concept"></a></h3>
   <p>A <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="background-fetch-record">background fetch record</dfn> consists of:</p>
   <div>
    <ul>
     <li data-md>
      <p>A <dfn class="dfn-paneled" data-dfn-for="background fetch record" data-dfn-type="dfn" data-noexport id="background-fetch-record-request">request</dfn> (a <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-request" id="ref-for-concept-request①">request</a>).</p>
     <li data-md>
      <p>A <dfn class="dfn-paneled" data-dfn-for="background fetch record" data-dfn-type="dfn" data-noexport id="background-fetch-record-response-data">response data</dfn> (a <a data-link-type="dfn" href="#background-fetch-response" id="ref-for-background-fetch-response">background fetch response</a>), initially a new <a data-link-type="dfn" href="#background-fetch-response" id="ref-for-background-fetch-response①">background fetch response</a>.</p>
    </ul>
   </div>
   <h3 class="heading settled" data-level="3.4" id="background-fetch-response-concept"><span class="secno">3.4. </span><span class="content">Background fetch response</span><a class="self-link" href="#background-fetch-response-concept"></a></h3>
   <p>A <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="background-fetch-response">Background fetch response</dfn> consists of:</p>
   <div>
    <ul>
     <li data-md>
      <p>A <dfn class="dfn-paneled" data-dfn-for="background fetch response" data-dfn-type="dfn" data-noexport id="background-fetch-response-response">response</dfn> (a <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-response" id="ref-for-concept-response">response</a> or null), initially null.</p>
     <li data-md>
      <p><dfn class="dfn-paneled" data-dfn-for="background fetch response" data-dfn-type="dfn" data-noexport id="background-fetch-response-bytes">Bytes</dfn> (a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#byte-sequence" id="ref-for-byte-sequence">byte sequence</a>), initially an empty <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#byte-sequence" id="ref-for-byte-sequence①">byte sequence</a>.</p>
     <li data-md>
      <p>A <dfn class="dfn-paneled" data-dfn-for="background fetch response" data-dfn-type="dfn" data-noexport id="background-fetch-response-result">result</dfn>, (any <code class="idl"><a data-link-type="idl" href="#enumdef-backgroundfetchfailurereason" id="ref-for-enumdef-backgroundfetchfailurereason①">BackgroundFetchFailureReason</a></code>, <code>"success"</code>, or <code>"redundant"</code>), initially the empty string.</p>
    </ul>
    <p>The <a data-link-type="dfn" href="#background-fetch-response-response" id="ref-for-background-fetch-response-response">response</a> can be <dfn class="dfn-paneled" data-dfn-for="background fetch response" data-dfn-type="dfn" data-noexport id="background-fetch-response-exposed">exposed</dfn> if the <a data-link-type="dfn" href="#background-fetch-response-result" id="ref-for-background-fetch-response-result">result</a> is the empty string, <code>"success"</code>, or <code>"bad-status"</code>.</p>
   </div>
   <h2 class="heading settled" data-level="4" id="algorithms"><span class="secno">4. </span><span class="content">Algorithms</span><a class="self-link" href="#algorithms"></a></h2>
   <h3 class="heading settled" data-level="4.1" id="perform-a-background-fetch-algorithm"><span class="secno">4.1. </span><span class="content"><a data-link-type="dfn" href="#perform-a-background-fetch" id="ref-for-perform-a-background-fetch">Perform a background fetch</a></span><a class="self-link" href="#perform-a-background-fetch-algorithm"></a></h3>
   <p class="note" role="note"><span class="marker">Note:</span> This is the algorithm that manages the 'background' parts of a background fetch. Only one instance of this algorithm runs per <a data-link-type="dfn" href="#background-fetch" id="ref-for-background-fetch④">background fetch</a>.</p>
   <div class="algorithm" data-algorithm="perform a background fetch">
     To <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="perform-a-background-fetch">perform a background fetch</dfn> for <var>bgFetch</var> (a <a data-link-type="dfn" href="#background-fetch" id="ref-for-background-fetch⑤">background fetch</a>), run these steps: 
    <ol>
     <li data-md>
      <p>Let <var>swRegistration</var> be <var>bgFetch</var>’s <a data-link-type="dfn" href="#background-fetch-service-worker-registration" id="ref-for-background-fetch-service-worker-registration①">service worker registration</a>.</p>
     <li data-md>
      <p>Let <var>settledFetches</var> be 0.</p>
     <li data-md>
      <p>Let <var>immediateFailure</var> be false.</p>
     <li data-md>
      <p>Let <var>failureReason</var> be the empty string.</p>
     <li data-md>
      <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-iterate" id="ref-for-list-iterate①">For each</a> <var>record</var> in <var>bgFetch</var>’s <a data-link-type="dfn" href="#background-fetch-records" id="ref-for-background-fetch-records②">records</a>, run these steps <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/infrastructure.html#in-parallel" id="ref-for-in-parallel">in parallel</a>:</p>
      <ol>
       <li data-md>
        <p><a data-link-type="dfn" href="#complete-a-record" id="ref-for-complete-a-record">Complete a record</a> for <var>bgFetch</var> and <var>record</var>.</p>
       <li data-md>
        <p>Let <var>result</var> be <var>record</var>’s <a data-link-type="dfn" href="#background-fetch-record-response-data" id="ref-for-background-fetch-record-response-data①">response data</a>'s <a data-link-type="dfn" href="#background-fetch-response-result" id="ref-for-background-fetch-response-result①">result</a>.</p>
       <li data-md>
        <p>If <var>failureReason</var> is not the empty string:</p>
        <ol>
         <li data-md>
          <p class="assertion">Assert: <var>result</var> is not <code>"redundant"</code>.</p>
         <li data-md>
          <p>Set <var>failureReason</var> to <var>result</var>.</p>
        </ol>
       <li data-md>
        <p>Increment <var>settledFetches</var> by 1.</p>
       <li data-md>
        <p>If <var>result</var> is <code>"download-total-exceeded"</code>, then set <var>immediateFailure</var> to true.</p>
      </ol>
     <li data-md>
      <p>Wait for <var>settledFetches</var> to be <var>bgFetch</var>’s <a data-link-type="dfn" href="#background-fetch-records" id="ref-for-background-fetch-records③">records</a>'s <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-size" id="ref-for-list-size">size</a>, or <var>immediateFailure</var> to be true.</p>
     <li data-md>
      <p>If <var>immediateFailure</var> is true, set <var>bgFetch</var>’s <a data-link-type="dfn" href="#background-fetch-abort-all-flag" id="ref-for-background-fetch-abort-all-flag②">abort all flag</a>.</p>
      <p class="note" role="note"><span class="marker">Note:</span> The <a data-link-type="dfn" href="#complete-a-record" id="ref-for-complete-a-record①">complete a record</a> algorithm listens to this flag and terminates the fetch when set.</p>
     <li data-md>
      <p><a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/infrastructure.html#enqueue-the-following-steps" id="ref-for-enqueue-the-following-steps">Enqueue the following steps</a> to <var>swRegistration</var>’s <a data-link-type="dfn" href="#service-worker-registration-active-background-fetches-edit-queue" id="ref-for-service-worker-registration-active-background-fetches-edit-queue">active background fetches edit queue</a>:</p>
      <ol>
       <li data-md>
        <p>Let <var>activeBgFetches</var> be <var>swRegistration</var>’s <a data-link-type="dfn" href="#service-worker-registration-active-background-fetches" id="ref-for-service-worker-registration-active-background-fetches">active background fetches</a>.</p>
       <li data-md>
        <p>Let <var>id</var> be <var>bgFetch</var>’s <a data-link-type="dfn" href="#background-fetch-id" id="ref-for-background-fetch-id">id</a>.</p>
       <li data-md>
        <p>If <var>activeBgFetches</var> <a data-link-type="dfn" href="#contains-background-fetch" id="ref-for-contains-background-fetch">contains background fetch</a> <var>bgFetch</var>, then remove <var>activeBgFetches</var>[<var>id</var>].</p>
       <li data-md>
        <p>Otherwise, set <var>failureReason</var> to <code>"aborted"</code>.</p>
        <p class="note" role="note"><span class="marker">Note:</span> This handles a race condition where <code class="idl"><a data-link-type="idl" href="#dom-backgroundfetchregistration-abort" id="ref-for-dom-backgroundfetchregistration-abort">abort()</a></code> was successfully called but one of the fetches failed at the same time. If we’ve returned true from <code class="idl"><a data-link-type="idl" href="#dom-backgroundfetchregistration-abort" id="ref-for-dom-backgroundfetchregistration-abort①">abort()</a></code>, this ensures we fire the related abort event.</p>
       <li data-md>
        <p>If <var>failureReason</var> is not the empty string, then:</p>
        <ol>
         <li data-md>
          <p>Set <var>bgFetch</var>’s <a data-link-type="dfn" href="#background-fetch-result" id="ref-for-background-fetch-result③">result</a> to <code>"failure"</code>.</p>
         <li data-md>
          <p>Set <var>bgFetch</var>’s <a data-link-type="dfn" href="#background-fetch-failure-reason" id="ref-for-background-fetch-failure-reason">failure reason</a> to <var>failureReason</var>.</p>
        </ol>
       <li data-md>
        <p>Otherwise, set <var>bgFetch</var>’s <a data-link-type="dfn" href="#background-fetch-result" id="ref-for-background-fetch-result④">result</a> to <code>"success"</code>.</p>
       <li data-md>
        <p><a data-link-type="dfn" href="#update-background-fetch-instances" id="ref-for-update-background-fetch-instances">Update background fetch instances</a> for <var>bgFetch</var>.</p>
       <li data-md>
        <p>Let <var>eventName</var> be the empty string.</p>
       <li data-md>
        <p>Let <var>eventConstructor</var> be null.</p>
       <li data-md>
        <p>If <var>failureReason</var> is <code>"aborted"</code>, then:</p>
        <ol>
         <li data-md>
          <p>Set <var>eventName</var> to "<code>backgroundfetchabort</code>".</p>
         <li data-md>
          <p>Set <var>eventConstructor</var> to <code class="idl"><a data-link-type="idl" href="#backgroundfetchevent" id="ref-for-backgroundfetchevent">BackgroundFetchEvent</a></code>.</p>
        </ol>
       <li data-md>
        <p>Otherwise, if <var>failureReason</var> is not the empty string, then:</p>
        <ol>
         <li data-md>
          <p>Set <var>eventName</var> to "<code>backgroundfetchfail</code>".</p>
         <li data-md>
          <p>Set <var>eventConstructor</var> to <code class="idl"><a data-link-type="idl" href="#backgroundfetchupdateuievent" id="ref-for-backgroundfetchupdateuievent">BackgroundFetchUpdateUIEvent</a></code>.</p>
        </ol>
       <li data-md>
        <p>Otherwise:</p>
        <ol>
         <li data-md>
          <p>Set <var>eventName</var> to "<code>backgroundfetchsuccess</code>".</p>
         <li data-md>
          <p>Set <var>eventConstructor</var> to <code class="idl"><a data-link-type="idl" href="#backgroundfetchupdateuievent" id="ref-for-backgroundfetchupdateuievent①">BackgroundFetchUpdateUIEvent</a></code>.</p>
        </ol>
       <li data-md>
        <p><a data-link-type="dfn" href="https://w3c.github.io/ServiceWorker/#fire-functional-event" id="ref-for-fire-functional-event">Fire a functional event</a> named <var>eventName</var> using <var>eventConstructor</var> on <var>swRegistration</var> with the following properties:</p>
        <dl>
         <dt data-md><code class="idl"><a data-link-type="idl" href="#dom-backgroundfetchevent-registration" id="ref-for-dom-backgroundfetchevent-registration">registration</a></code>
         <dd data-md>
          <p>The result of <a data-link-type="dfn" href="#get-a-backgroundfetchregistration-instance" id="ref-for-get-a-backgroundfetchregistration-instance">getting a BackgroundFetchRegistration instance</a> for <var>bgFetch</var> in the event object’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-realm" id="ref-for-concept-relevant-realm①">relevant Realm</a>.</p>
        </dl>
        <p>Then run these steps with <var>dispatchedEvent</var> <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/infrastructure.html#in-parallel" id="ref-for-in-parallel①">in parallel</a>:</p>
        <ol>
         <li data-md>
          <p>Wait until <var>dispatchedEvent</var> is not <a data-link-type="dfn" href="https://w3c.github.io/ServiceWorker/#extendableevent-active" id="ref-for-extendableevent-active">active</a>.</p>
          <p class="issue" id="issue-b420dc4f"><a class="self-link" href="#issue-b420dc4f"></a> <a href="https://github.com/w3c/ServiceWorker/pull/1348">ServiceWorker/1348</a>.</p>
         <li data-md>
          <p>Unset <var>bgFetch</var>’s <a data-link-type="dfn" href="#background-fetch-records-available-flag" id="ref-for-background-fetch-records-available-flag">records available flag</a>.</p>
         <li data-md>
          <p><a data-link-type="dfn" href="#update-background-fetch-instances" id="ref-for-update-background-fetch-instances①">Update background fetch instances</a> for <var>bgFetch</var>.</p>
        </ol>
      </ol>
    </ol>
   </div>
   <h3 class="heading settled" data-level="4.2" id="complete-a-record-algorithm"><span class="secno">4.2. </span><span class="content"><a data-link-type="dfn" href="#complete-a-record" id="ref-for-complete-a-record②">Complete a record</a></span><a class="self-link" href="#complete-a-record-algorithm"></a></h3>
   <p class="note" role="note"><span class="marker">Note:</span> This algorithm manages the fetching of a <a data-link-type="dfn" href="#background-fetch-record" id="ref-for-background-fetch-record①">background fetch record</a>. One instance of this algorithm is started per <a data-link-type="dfn" href="#background-fetch-record" id="ref-for-background-fetch-record②">background fetch record</a>, but it is called recursively to retry fetches or to fetch the next part of a partial response.</p>
   <div class="algorithm" data-algorithm="complete a record">
     To <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="complete-a-record">complete a record</dfn> for <var>bgFetch</var> (a <a data-link-type="dfn" href="#background-fetch" id="ref-for-background-fetch⑥">background fetch</a>) and <var>record</var> (a <a data-link-type="dfn" href="#background-fetch-record" id="ref-for-background-fetch-record③">background fetch record</a>), run these steps: 
    <ol>
     <li data-md>
      <p>Let <var>responseData</var> be <var>record</var>’s <a data-link-type="dfn" href="#background-fetch-record-response-data" id="ref-for-background-fetch-record-response-data②">response data</a>.</p>
     <li data-md>
      <p>Let <var>downloadTotal</var> be <var>bgFetch</var>’s <a data-link-type="dfn" href="#background-fetch-download-total" id="ref-for-background-fetch-download-total①">download total</a> if it is not 0, otherwise infinity.</p>
     <li data-md>
      <p>Wait for <var>bgFetch</var>’s <a data-link-type="dfn" href="#background-fetch-paused-flag" id="ref-for-background-fetch-paused-flag⑥">paused flag</a> to be unset.</p>
     <li data-md>
      <p>Let <var>request</var> be a copy of <var>record</var>’s <a data-link-type="dfn" href="#background-fetch-record-request" id="ref-for-background-fetch-record-request①">request</a>.</p>
      <p class="note" role="note"><span class="marker">Note:</span> At this point the request is entirely held in storage, even if it started as a stream.</p>
     <li data-md>
      <p>Set <var>request</var>’s <a data-link-type="dfn">keepalive flag</a>.</p>
     <li data-md>
      <p>Set <var>request</var>’s <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#request-service-workers-mode" id="ref-for-request-service-workers-mode①">service-workers mode</a> to "<code>none</code>".</p>
     <li data-md>
      <p>Let <var>rangeStart</var> be the <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#byte-sequence-length" id="ref-for-byte-sequence-length①">length</a> of <var>responseData</var>’s <a data-link-type="dfn" href="#background-fetch-response-bytes" id="ref-for-background-fetch-response-bytes①">bytes</a>.</p>
     <li data-md>
      <p>If <var>rangeStart</var> is not 0, then <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-request-add-range-header" id="ref-for-concept-request-add-range-header">add a range header</a> to <var>request</var> with <var>rangeStart</var>.</p>
      <p class="note" role="note"><span class="marker">Note:</span> If the <var>rangeStart</var> is 0, a normal request is made. This allows the initial request to make use of content encoding, since <code>Accept-Encoding: identity</code> is added to requests with a range header.</p>
     <li data-md>
      <p>Let <var>fetchAttemptComplete</var> be false.</p>
     <li data-md>
      <p>Let <var>lastTransmittedSize</var> be 0.</p>
     <li data-md>
      <p><a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-fetch" id="ref-for-concept-fetch①">Fetch</a> <var>request</var>.</p>
      <p class="issue" id="issue-775cdb79"><a class="self-link" href="#issue-775cdb79"></a> The remainder of this step uses fetch "callbacks" which currently queue tasks. This isn’t desirable or possible here, so let’s pretend that tasks aren’t queued. (<a href="https://github.com/whatwg/fetch/issues/536#issuecomment-330184276">issue</a>)</p>
      <p>To <a data-link-type="dfn">process request body</a> for <var>request</var>, run these steps:</p>
      <ol>
       <li data-md>
        <p>Let <var>transmittedSize</var> be <var>request</var>’s <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-request-body" id="ref-for-concept-request-body">body</a>'s <a data-link-type="dfn">transmitted bytes</a>.</p>
       <li data-md>
        <p>Increment <var>bgFetch</var>’s <a data-link-type="dfn" href="#background-fetch-uploaded" id="ref-for-background-fetch-uploaded①">uploaded</a> by <var>transmittedSize</var> minus <var>lastTransmittedSize</var>.</p>
       <li data-md>
        <p>Set <var>lastTransmittedSize</var> to <var>transmittedSize</var>.</p>
       <li data-md>
        <p><a data-link-type="dfn" href="#update-background-fetch-instances" id="ref-for-update-background-fetch-instances②">Update background fetch instances</a> for <var>bgFetch</var>.</p>
      </ol>
      <p>To <a data-link-type="dfn">process response</a> for <var>response</var>, run these steps:</p>
      <ol>
       <li data-md>
        <p>If <var>response</var> is a <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-network-error" id="ref-for-concept-network-error">network error</a>, then:</p>
        <ol>
         <li data-md>
          <p>If the resource is <a data-link-type="dfn" href="#temporarily-unavailable" id="ref-for-temporarily-unavailable">temporarily unavailable</a> and <var>request</var>’s <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-request-method" id="ref-for-concept-request-method②">method</a> is `<code>GET</code>`, then wait until the resource is not <a data-link-type="dfn" href="#temporarily-unavailable" id="ref-for-temporarily-unavailable①">temporarily unavailable</a>, then set <var>fetchAttemptComplete</var> to true and abort these steps.</p>
          <p class="note" role="note"><span class="marker">Note:</span> If <var>request</var>’s <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-request-method" id="ref-for-concept-request-method③">method</a> is not `<code>GET</code>`, reissuing the request may have unwanted side effects. If a standard method to resume requests becomes available, it’ll be adopted here.</p>
         <li data-md>
          <p>If <var>response</var> is an <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-aborted-network-error" id="ref-for-concept-aborted-network-error">aborted network error</a>, then set <var>responseData</var>’s <a data-link-type="dfn" href="#background-fetch-response-result" id="ref-for-background-fetch-response-result②">result</a> to <code>"aborted"</code>, otherwise <code>"fetch-error"</code>.</p>
         <li data-md>
          <p>Set <var>fetchAttemptComplete</var> to true, and abort these steps.</p>
        </ol>
       <li data-md>
        <p>If <var>response</var>’s <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-response-status" id="ref-for-concept-response-status">status</a> is <code>206</code>, then:</p>
        <ol>
         <li data-md>
          <p>If <a data-link-type="dfn" href="#validate-a-partial-response" id="ref-for-validate-a-partial-response">validate a partial response</a> for <var>rangeStart</var>, <var>response</var>, and <var>responseData</var>’s <a data-link-type="dfn" href="#background-fetch-response-response" id="ref-for-background-fetch-response-response①">response</a> returns invalid, then:</p>
          <ol>
           <li data-md>
            <p>Set <var>responseData</var>’s <a data-link-type="dfn" href="#background-fetch-response-result" id="ref-for-background-fetch-response-result③">result</a> to <code>"fetch-error"</code>.</p>
           <li data-md>
            <p>Set <var>fetchAttemptComplete</var> to true.</p>
           <li data-md>
            <p><a data-link-type="dfn">Terminate</a> the ongoing fetch, and abort these steps.</p>
          </ol>
        </ol>
       <li data-md>
        <p>Otherwise:</p>
        <ol>
         <li data-md>
          <p>Set <var>responseData</var>’s <a data-link-type="dfn" href="#background-fetch-response-result" id="ref-for-background-fetch-response-result④">result</a> to <code>"redundant"</code>.</p>
         <li data-md>
          <p>Set <var>responseData</var> to a new <a data-link-type="dfn" href="#background-fetch-response" id="ref-for-background-fetch-response②">background fetch response</a>.</p>
         <li data-md>
          <p>Set <var>record</var>’s <a data-link-type="dfn" href="#background-fetch-record-response-data" id="ref-for-background-fetch-record-response-data③">response data</a> to <var>responseData</var>.</p>
          <p class="note" role="note"><span class="marker">Note:</span> The <a data-link-type="dfn" href="#create-record-objects" id="ref-for-create-record-objects">create record objects</a> algorithm may hold a reference to the previous <a data-link-type="dfn" href="#background-fetch-response" id="ref-for-background-fetch-response③">background fetch response</a>.</p>
         <li data-md>
          <p><a data-link-type="dfn" href="#update-background-fetch-instances" id="ref-for-update-background-fetch-instances③">Update background fetch instances</a> for <var>bgFetch</var>.</p>
        </ol>
       <li data-md>
        <p>If <var>rangeStart</var> is 0 or <var>response</var>’s <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-response-status" id="ref-for-concept-response-status①">status</a> is not <code>206</code>, then set <var>responseData</var>’s <a data-link-type="dfn" href="#background-fetch-response-response" id="ref-for-background-fetch-response-response②">response</a> to a copy of <var>response</var> except for its <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-response-body" id="ref-for-concept-response-body">body</a>.</p>
       <li data-md>
        <p>Let <var>stream</var> be the <var>response</var> <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-response-body" id="ref-for-concept-response-body①">body</a>'s <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-body-stream" id="ref-for-concept-body-stream">stream</a>.</p>
       <li data-md>
        <p>Whenever one or more bytes are transmitted from <var>stream</var>, let <var>bytes</var> be the transmitted bytes and run these steps:</p>
        <ol>
         <li data-md>
          <p>If <var>bgFetch</var>’s <a data-link-type="dfn" href="#background-fetch-stored-body-bytes-total" id="ref-for-background-fetch-stored-body-bytes-total①">stored body bytes total</a> plus the size of <var>bytes</var> is greater than <var>downloadTotal</var>, then:</p>
          <ol>
           <li data-md>
            <p><a data-link-type="dfn" href="https://streams.spec.whatwg.org/#readablestream-cancel" id="ref-for-readablestream-cancel">Cancel</a> <var>stream</var>.</p>
           <li data-md>
            <p>Set <var>responseData</var>’s <a data-link-type="dfn" href="#background-fetch-response-result" id="ref-for-background-fetch-response-result⑤">result</a> to <code>"download-total-exceeded"</code>, <var>fetchAttemptComplete</var> to true, and abort these steps.</p>
          </ol>
         <li data-md>
          <p>Append <var>bytes</var> to <var>responseData</var>’s <a data-link-type="dfn" href="#background-fetch-response-bytes" id="ref-for-background-fetch-response-bytes②">bytes</a>.</p>
         <li data-md>
          <p>If the previous step fails due to exceeding a quota limit, set <var>responseData</var>’s <a data-link-type="dfn" href="#background-fetch-response-result" id="ref-for-background-fetch-response-result⑥">result</a> to <code>"quota-exceeded"</code>, <var>fetchAttemptComplete</var> to true, and abort these steps.</p>
         <li data-md>
          <p><a data-link-type="dfn" href="#update-background-fetch-instances" id="ref-for-update-background-fetch-instances④">Update background fetch instances</a> for <var>bgFetch</var>.</p>
        </ol>
       <li data-md>
        <p>If at any point the bytes transmission for <var>stream</var> is done normally, then:</p>
        <ol>
         <li data-md>
          <p>If <var>response</var>’s <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-response-status" id="ref-for-concept-response-status②">status</a> is <code>206</code>, then:</p>
          <ol>
           <li data-md>
            <p>Let <var>firstBytePos</var>, <var>lastBytePos</var>, and <var>completeLength</var> be the result of <a data-link-type="dfn" href="#extract-content-range-values" id="ref-for-extract-content-range-values">extracting content-range values</a> from <var>response</var>.</p>
           <li data-md>
            <p>If <var>completeLength</var> is not null, and equal to the <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#byte-sequence-length" id="ref-for-byte-sequence-length②">length</a> of <var>responseData</var>’s <a data-link-type="dfn" href="#background-fetch-response-bytes" id="ref-for-background-fetch-response-bytes③">bytes</a>, set <var>responseData</var>’s <a data-link-type="dfn" href="#background-fetch-response-result" id="ref-for-background-fetch-response-result⑦">result</a> to <code>"success"</code>.</p>
            <p class="note" role="note"><span class="marker">Note:</span> Although we ask for the whole resource, or the remainder of the resource, the server may not have returned the remainder, in which case we need to make an additional request.</p>
          </ol>
         <li data-md>
          <p>Otherwise, if <var>response</var>’s <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-response-status" id="ref-for-concept-response-status③">status</a> is not an <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#ok-status" id="ref-for-ok-status">ok status</a>, set <var>responseData</var>’s <a data-link-type="dfn" href="#background-fetch-response-result" id="ref-for-background-fetch-response-result⑧">result</a> to <code>"bad-status"</code>.</p>
         <li data-md>
          <p>Otherwise, set <var>responseData</var>’s <a data-link-type="dfn" href="#background-fetch-response-result" id="ref-for-background-fetch-response-result⑨">result</a> to <code>"success"</code>.</p>
         <li data-md>
          <p>Set <var>fetchAttemptComplete</var> to true.</p>
        </ol>
       <li data-md>
        <p>If at any point <var>stream</var> becomes <a data-link-type="dfn" href="https://streams.spec.whatwg.org/#readablestream-errored" id="ref-for-readablestream-errored">errored</a>, then:</p>
        <ol>
         <li data-md>
          <p>If the resource is <a data-link-type="dfn" href="#temporarily-unavailable" id="ref-for-temporarily-unavailable②">temporarily unavailable</a> and <var>request</var>’s <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-request-method" id="ref-for-concept-request-method④">method</a> is `<code>GET</code>`, then   wait until the resource is not <a data-link-type="dfn" href="#temporarily-unavailable" id="ref-for-temporarily-unavailable③">temporarily unavailable</a>, then set <var>fetchAttemptComplete</var> to true.</p>
         <li data-md>
          <p>Otherwise, set <var>responseData</var>’s <a data-link-type="dfn" href="#background-fetch-response-result" id="ref-for-background-fetch-response-result①⓪">result</a> to <code>"fetch-error"</code> and <var>fetchAttemptComplete</var> to true.</p>
        </ol>
      </ol>
     <li data-md>
      <p>Let <var>result</var> be the empty string.</p>
     <li data-md>
      <p>Run these steps, but <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#abort-when" id="ref-for-abort-when">abort when</a> <var>bgFetch</var>’s <a data-link-type="dfn" href="#background-fetch-paused-flag" id="ref-for-background-fetch-paused-flag⑦">paused flag</a> or <a data-link-type="dfn" href="#background-fetch-abort-all-flag" id="ref-for-background-fetch-abort-all-flag③">abort all flag</a> is set:</p>
      <ol>
       <li data-md>
        <p>Wait for <var>fetchAttemptComplete</var> to be true.</p>
       <li data-md>
        <p>Set <var>result</var> to <var>responseData</var>’s <a data-link-type="dfn" href="#background-fetch-response-result" id="ref-for-background-fetch-response-result①①">result</a>.</p>
      </ol>
     <li data-md>
      <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#if-aborted" id="ref-for-if-aborted">If aborted</a>, then:</p>
      <ol>
       <li data-md>
        <p>If <var>bgFetch</var>’s <a data-link-type="dfn" href="#background-fetch-paused-flag" id="ref-for-background-fetch-paused-flag⑧">paused flag</a> is set, then assert <var>request</var>’s <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-request-method" id="ref-for-concept-request-method⑤">method</a> is `<code>GET</code>`.</p>
       <li data-md>
        <p>If <var>bgFetch</var>’s <a data-link-type="dfn" href="#background-fetch-abort-all-flag" id="ref-for-background-fetch-abort-all-flag④">abort all flag</a> is set, then set <var>responseData</var>’s <a data-link-type="dfn" href="#background-fetch-response-result" id="ref-for-background-fetch-response-result①②">result</a> to <code>"aborted"</code>.</p>
       <li data-md>
        <p>Set <var>result</var> to <var>responseData</var>’s <a data-link-type="dfn" href="#background-fetch-response-result" id="ref-for-background-fetch-response-result①③">result</a>.</p>
        <p class="note" role="note"><span class="marker">Note:</span> The result is stored now, as terminating the fetch may change the result.</p>
       <li data-md>
        <p><a data-link-type="dfn">Terminate</a> the ongoing fetch.</p>
      </ol>
     <li data-md>
      <p>If <var>result</var> is the empty string, then <a data-link-type="dfn" href="#complete-a-record" id="ref-for-complete-a-record③">complete a record</a> for <var>bgFetch</var> and <var>record</var>.</p>
    </ol>
   </div>
   <h3 class="heading settled" data-level="4.3" id="update-background-fetch-instance-algorithm"><span class="secno">4.3. </span><span class="content"><a data-link-type="dfn" href="#update-background-fetch-instances" id="ref-for-update-background-fetch-instances⑤">Update background fetch instances</a></span><a class="self-link" href="#update-background-fetch-instance-algorithm"></a></h3>
   <div class="algorithm" data-algorithm="update background fetch instances">
     To <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="update-background-fetch-instances">update background fetch instances</dfn> for <var>bgFetch</var> (a <a data-link-type="dfn" href="#background-fetch" id="ref-for-background-fetch⑦">background fetch</a>), <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/infrastructure.html#enqueue-the-following-steps" id="ref-for-enqueue-the-following-steps①">enqueue the following steps</a> to <var>bgFetch</var>’s <a data-link-type="dfn" href="#background-fetch-update-handling-queue" id="ref-for-background-fetch-update-handling-queue">update handling queue</a>: 
    <ol>
     <li data-md>
      <p>Let <var>downloaded</var> be <var>bgFetch</var>’s <a data-link-type="dfn" href="#background-fetch-stored-body-bytes-total" id="ref-for-background-fetch-stored-body-bytes-total②">stored body bytes total</a>.</p>
     <li data-md>
      <p>Let <var>uploaded</var> be <var>bgFetch</var>’s <a data-link-type="dfn" href="#background-fetch-uploaded" id="ref-for-background-fetch-uploaded②">uploaded</a>.</p>
     <li data-md>
      <p>Let <var>result</var> be <var>bgFetch</var>’s <a data-link-type="dfn" href="#background-fetch-result" id="ref-for-background-fetch-result⑤">result</a>.</p>
     <li data-md>
      <p>Let <var>failureReason</var> be <var>bgFetch</var>’s <a data-link-type="dfn" href="#background-fetch-failure-reason" id="ref-for-background-fetch-failure-reason①">failure reason</a>.</p>
     <li data-md>
      <p>Let <var>recordsAvailable</var> be true if <var>bgFetch</var>’s <a data-link-type="dfn" href="#background-fetch-records-available-flag" id="ref-for-background-fetch-records-available-flag①">records available flag</a> is set, otherwise false.</p>
     <li data-md>
      <p>For each <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#environment-settings-object" id="ref-for-environment-settings-object①">environment settings object</a> <var>env</var> whose <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-settings-object-origin" id="ref-for-concept-settings-object-origin">origin</a> is equal to <var>bgFetch</var>’s <a data-link-type="dfn" href="#background-fetch-service-worker-registration" id="ref-for-background-fetch-service-worker-registration②">service worker registration</a>'s <a data-link-type="dfn" href="https://w3c.github.io/ServiceWorker/#dfn-scope-url" id="ref-for-dfn-scope-url①">scope URL</a>'s <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url-origin" id="ref-for-concept-url-origin①">origin</a>, <a data-link-type="dfn" href="#queue-a-bgfetch-task" id="ref-for-queue-a-bgfetch-task">queue a bgfetch task</a> on <var>env</var>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#responsible-event-loop" id="ref-for-responsible-event-loop①">responsible event loop</a> to run these steps:</p>
      <ol>
       <li data-md>
        <p>Let <var>bgFetchRegistration</var> be the instance of <code class="idl"><a data-link-type="idl" href="#backgroundfetchregistration" id="ref-for-backgroundfetchregistration">BackgroundFetchRegistration</a></code> within the <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-realm" id="ref-for-concept-relevant-realm②">relevant realm</a> whose <a data-link-type="dfn" href="#backgroundfetchregistration-background-fetch" id="ref-for-backgroundfetchregistration-background-fetch">background fetch</a> is equal to <var>bgFetch</var>, or null if none exists.</p>
        <p class="note" role="note"><span class="marker">Note:</span> There will be at most one per environment, due to the <a data-link-type="dfn" href="#get-a-backgroundfetchregistration-instance" id="ref-for-get-a-backgroundfetchregistration-instance①">get a BackgroundFetchRegistration instance</a> algorithm.</p>
       <li data-md>
        <p>If <var>bgFetchRegistration</var> is null, then abort these steps.</p>
       <li data-md>
        <p>If <var>recordsAvailable</var> is false and <var>bgFetchRegistration</var>’s <a data-link-type="dfn" href="#backgroundfetchregistration-records-available-flag" id="ref-for-backgroundfetchregistration-records-available-flag">records available flag</a> is set, then unset <var>bgFetchRegistration</var>’s <a data-link-type="dfn" href="#backgroundfetchregistration-records-available-flag" id="ref-for-backgroundfetchregistration-records-available-flag①">records available flag</a>.</p>
       <li data-md>
        <p>If <var>bgFetchRegistration</var>’s <a data-link-type="dfn" href="#backgroundfetchregistration-result" id="ref-for-backgroundfetchregistration-result">result</a> is not the empty string, then abort these steps.</p>
        <p class="note" role="note"><span class="marker">Note:</span> This prevents progress being reported after the background fetch has settled. This is possible when the operation has aborted, but some fetches haven’t yet terminated.</p>
       <li data-md>
        <p>If all of the following are true:</p>
        <ul>
         <li data-md>
          <p><var>bgFetchRegistration</var>’s <a data-link-type="dfn" href="#backgroundfetchregistration-downloaded" id="ref-for-backgroundfetchregistration-downloaded">downloaded</a> is equal to <var>downloaded</var>.</p>
         <li data-md>
          <p><var>bgFetchRegistration</var>’s <a data-link-type="dfn" href="#backgroundfetchregistration-uploaded" id="ref-for-backgroundfetchregistration-uploaded">uploaded</a> is equal to <var>uploaded</var>.</p>
         <li data-md>
          <p><var>bgFetchRegistration</var>’s <a data-link-type="dfn" href="#backgroundfetchregistration-result" id="ref-for-backgroundfetchregistration-result①">result</a> is equal to <var>result</var>.</p>
         <li data-md>
          <p><var>bgFetchRegistration</var>’s <a data-link-type="dfn" href="#backgroundfetchregistration-failure-reason" id="ref-for-backgroundfetchregistration-failure-reason">failure reason</a> is equal to <var>failureReason</var>.</p>
        </ul>
        <p>Then abort these steps.</p>
       <li data-md>
        <p>Set <var>bgFetchRegistration</var>’s <a data-link-type="dfn" href="#backgroundfetchregistration-downloaded" id="ref-for-backgroundfetchregistration-downloaded①">downloaded</a> to <var>downloaded</var>.</p>
       <li data-md>
        <p>Set <var>bgFetchRegistration</var>’s <a data-link-type="dfn" href="#backgroundfetchregistration-uploaded" id="ref-for-backgroundfetchregistration-uploaded①">uploaded</a> to <var>uploaded</var>.</p>
       <li data-md>
        <p>Set <var>bgFetchRegistration</var>’s <a data-link-type="dfn" href="#backgroundfetchregistration-result" id="ref-for-backgroundfetchregistration-result②">result</a> to <var>result</var>.</p>
       <li data-md>
        <p>Set <var>bgFetchRegistration</var>’s <a data-link-type="dfn" href="#backgroundfetchregistration-failure-reason" id="ref-for-backgroundfetchregistration-failure-reason①">failure reason</a> to <var>failureReason</var>.</p>
       <li data-md>
        <p><a data-link-type="dfn" href="https://dom.spec.whatwg.org/#concept-event-fire" id="ref-for-concept-event-fire">Fire an event</a> named "<code>progress</code>" at <var>bgFetchRegistration</var>.</p>
      </ol>
      <p class="issue" id="issue-20ad71fa"><a class="self-link" href="#issue-20ad71fa"></a> I need to debounce this similar to how mouse move events debounce.</p>
    </ol>
   </div>
   <h3 class="heading settled" data-level="4.4" id="fire-a-background-fetch-click-event-algorithm"><span class="secno">4.4. </span><span class="content"><a data-link-type="dfn" href="#fire-a-background-fetch-click-event" id="ref-for-fire-a-background-fetch-click-event①">Fire a background fetch click event</a></span><a class="self-link" href="#fire-a-background-fetch-click-event-algorithm"></a></h3>
   <div class="algorithm" data-algorithm="fire a background fetch click event">
     To <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="fire-a-background-fetch-click-event">fire a background fetch click event</dfn> for a <var>bgFetch</var> (a <a data-link-type="dfn" href="#background-fetch" id="ref-for-background-fetch⑧">background fetch</a>), <a data-link-type="dfn" href="https://w3c.github.io/ServiceWorker/#fire-functional-event" id="ref-for-fire-functional-event①">fire a functional event</a> named "<code>backgroundfetchclick</code>" using <code class="idl"><a data-link-type="idl" href="#backgroundfetchevent" id="ref-for-backgroundfetchevent①">BackgroundFetchEvent</a></code> on <var>bgFetch</var>’s <a data-link-type="dfn" href="#background-fetch-service-worker-registration" id="ref-for-background-fetch-service-worker-registration③">service worker registration</a> with the following properties: 
    <dl>
     <dt data-md><code class="idl"><a data-link-type="idl" href="#dom-backgroundfetchevent-registration" id="ref-for-dom-backgroundfetchevent-registration①">registration</a></code>
     <dd data-md>
      <p>The result of <a data-link-type="dfn" href="#get-a-backgroundfetchregistration-instance" id="ref-for-get-a-backgroundfetchregistration-instance②">getting a BackgroundFetchRegistration instance</a> for <var>bgFetch</var> in the event object’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-realm" id="ref-for-concept-relevant-realm③">relevant Realm</a>.</p>
    </dl>
   </div>
   <h3 class="heading settled" data-level="4.5" id="get-a-backgroundfetchregistration-instance-algorithm"><span class="secno">4.5. </span><span class="content"><a data-link-type="dfn" href="#get-a-backgroundfetchregistration-instance" id="ref-for-get-a-backgroundfetchregistration-instance③">Get a BackgroundFetchRegistration instance</a></span><a class="self-link" href="#get-a-backgroundfetchregistration-instance-algorithm"></a></h3>
   <p class="note" role="note"><span class="marker">Note:</span> This algorithm ensures the same <code class="idl"><a data-link-type="idl" href="#backgroundfetchregistration" id="ref-for-backgroundfetchregistration①">BackgroundFetchRegistration</a></code> instance is returned for a given <a data-link-type="dfn" href="#background-fetch" id="ref-for-background-fetch⑨">background fetch</a> throughout the life of a <code class="idl"><a data-link-type="idl" href="#backgroundfetchmanager" id="ref-for-backgroundfetchmanager">BackgroundFetchManager</a></code>. It’s okay for browsers to optimise this, as long as there’s no way to tell that more than one instance has been created for a given <a data-link-type="dfn" href="#background-fetch" id="ref-for-background-fetch①⓪">background fetch</a> (e.g. through equality, expandos, or weakly-associated data).</p>
   <div class="algorithm" data-algorithm="get a BackgroundFetchRegistration instance">
     To <dfn class="dfn-paneled" data-dfn-type="dfn" data-lt="get a BackgroundFetchRegistration instance|getting a BackgroundFetchRegistration instance" data-noexport id="get-a-backgroundfetchregistration-instance">get a BackgroundFetchRegistration instance</dfn> for a <var>bgFetch</var> (a <a data-link-type="dfn" href="#background-fetch" id="ref-for-background-fetch①①">background fetch</a>) in <var>realm</var> (a <a data-link-type="dfn" href="https://tc39.github.io/ecma262/#realm" id="ref-for-realm">Realm</a>), run these steps: 
    <ol>
     <li data-md>
      <p>Let <var>instancesMap</var> be the <a data-link-type="dfn" href="#backgroundfetchmanager-backgroundfetchregistration-instances" id="ref-for-backgroundfetchmanager-backgroundfetchregistration-instances">BackgroundFetchRegistration instances</a> of the only instance of <code class="idl"><a data-link-type="idl" href="#backgroundfetchmanager" id="ref-for-backgroundfetchmanager①">BackgroundFetchManager</a></code> within this <var>realm</var>.</p>
     <li data-md>
      <p>If <var>instancesMap</var>[<var>bgFetch</var>] <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-exists" id="ref-for-map-exists">exists</a>, then return <var>instancesMap</var>[<var>bgFetch</var>].</p>
     <li data-md>
      <p>Let <var>instance</var> be a new <code class="idl"><a data-link-type="idl" href="#backgroundfetchregistration" id="ref-for-backgroundfetchregistration②">BackgroundFetchRegistration</a></code> in <var>realm</var>, with its <a data-link-type="dfn" href="#backgroundfetchregistration-background-fetch" id="ref-for-backgroundfetchregistration-background-fetch①">background fetch</a> set to <var>bgFetch</var>.</p>
     <li data-md>
      <p>Set <var>instancesMap</var>[<var>bgFetch</var>] to <var>instance</var>.</p>
     <li data-md>
      <p>Return <var>instance</var>.</p>
    </ol>
   </div>
   <h3 class="heading settled" data-level="4.6" id="validate-partial-response-algorithm"><span class="secno">4.6. </span><span class="content"><a data-link-type="dfn" href="#validate-a-partial-response" id="ref-for-validate-a-partial-response①">Validate a partial response</a></span><a class="self-link" href="#validate-partial-response-algorithm"></a></h3>
   <p class="note" role="note"><span class="marker">Note:</span> This algorithm checks if a partial response reasonably matches what was requested, and optionally checks if it should be combined with a previous response.</p>
   <div class="algorithm" data-algorithm="validate a partial response">
     To <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="validate-a-partial-response">validate a partial response</dfn> for an <var>expectedRangeStart</var> (a number), a <var>partialResponse</var> (a <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-response" id="ref-for-concept-response①">response</a>), and an optional <var>previousResponse</var> (a <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-response" id="ref-for-concept-response②">response</a> or null, null unless otherwise specified), run these steps: 
    <ol>
     <li data-md>
      <p class="assertion">Assert: <var>partialResponse</var>’s <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-response-status" id="ref-for-concept-response-status④">status</a> is <code>206</code>.</p>
     <li data-md>
      <p>Let <var>responseFirstBytePos</var>, <var>responseLastBytePos</var>, and <var>responseCompleteLength</var> be the result of <a data-link-type="dfn" href="#extract-content-range-values" id="ref-for-extract-content-range-values①">extracting content-range values</a> from <var>partialResponse</var>. If this fails, then return invalid.</p>
     <li data-md>
      <p>If <var>responseFirstBytePos</var> does not equal <var>expectedRangeStart</var>, then return invalid.</p>
     <li data-md>
      <p>If <var>previousResponse</var> is not null, then:</p>
      <ol>
       <li data-md>
        <p>For <var>headerName</var> of « `<code>ETag</code>`, `<code>Last-Modified</code>` »:</p>
        <ol>
         <li data-md>
          <p>If <var>previousResponse</var>’s <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-response-header-list" id="ref-for-concept-response-header-list">header list</a> <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#header-list-contains" id="ref-for-header-list-contains">contains</a> <var>headerName</var> and the <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-header-list-combine" id="ref-for-concept-header-list-combine">combined</a> value of <var>headerName</var> in <var>previousResponse</var>’s <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-response-header-list" id="ref-for-concept-response-header-list①">header list</a> does not equal the <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-header-list-combine" id="ref-for-concept-header-list-combine①">combined</a> value of <var>headerName</var> in <var>partialResponse</var>’s <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-response-header-list" id="ref-for-concept-response-header-list②">header list</a>, then return invalid.</p>
        </ol>
       <li data-md>
        <p>If <var>previousResponse</var>’s <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-response-status" id="ref-for-concept-response-status⑤">status</a> is <code>206</code>, then:</p>
        <ol>
         <li data-md>
          <p>Let <var>previousResponseFirstBytePos</var>, <var>previousResponseLastBytePos</var>, and <var>previousResponseCompleteLength</var> be the result of <a data-link-type="dfn" href="#extract-content-range-values" id="ref-for-extract-content-range-values②">extracting content-range values</a> from <var>previousResponse</var>. If this fails, then return invalid.</p>
         <li data-md>
          <p>If <var>previousResponseCompleteLength</var> is not null, and <var>responseCompleteLength</var> does not equal <var>previousResponseCompleteLength</var>, then return invalid.</p>
        </ol>
      </ol>
     <li data-md>
      <p>Return valid.</p>
    </ol>
   </div>
   <h3 class="heading settled" data-level="4.7" id="extract-content-range-values-algorithm"><span class="secno">4.7. </span><span class="content"><a data-link-type="dfn" href="#extract-content-range-values" id="ref-for-extract-content-range-values③">Extract content-range values</a></span><a class="self-link" href="#extract-content-range-values-algorithm"></a></h3>
   <p class="note" role="note"><span class="marker">Note:</span> This algorithm parses `<code>Content-Range</code>` as a <a data-link-type="dfn" href="#single-byte-content-range" id="ref-for-single-byte-content-range">single byte content-range</a> and extracts the values.</p>
   <div class="algorithm" data-algorithm="extract content-range values">
     To <dfn class="dfn-paneled" data-dfn-type="dfn" data-lt="extract content-range values|extracting content-range values" data-noexport id="extract-content-range-values">extract content-range values</dfn> from a <var>response</var> (a <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-response" id="ref-for-concept-response③">response</a>), run these steps: 
    <ol>
     <li data-md>
      <p>If <var>response</var>’s <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-response-header-list" id="ref-for-concept-response-header-list③">header list</a> does not <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#header-list-contains" id="ref-for-header-list-contains①">contain</a> `<code>Content-Range</code>`, then return failure.</p>
     <li data-md>
      <p>Let <var>contentRangeValue</var> be the <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-header-value" id="ref-for-concept-header-value">value</a> of the first <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-header" id="ref-for-concept-header">header</a> whose <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-header-name" id="ref-for-concept-header-name">name</a> is a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#byte-case-insensitive" id="ref-for-byte-case-insensitive">byte-case-insensitive</a> match for `<code>Content-Range</code>` in <var>response</var>’s <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-response-header-list" id="ref-for-concept-response-header-list④">header list</a>.</p>
     <li data-md>
      <p>If parsing <var>contentRangeValue</var> per <a data-link-type="dfn" href="#single-byte-content-range" id="ref-for-single-byte-content-range①">single byte content-range</a> fails, then return failure.</p>
     <li data-md>
      <p>Let <var>firstBytePos</var> be the portion of <var>contentRangeValue</var> named <code>first-byte-pos</code> when parsed as <a data-link-type="dfn" href="#single-byte-content-range" id="ref-for-single-byte-content-range②">single byte content-range</a>, parsed as an integer.</p>
     <li data-md>
      <p>Let <var>lastBytePos</var> be the portion of <var>contentRangeValue</var> named <code>last-byte-pos</code> when parsed as <a data-link-type="dfn" href="#single-byte-content-range" id="ref-for-single-byte-content-range③">single byte content-range</a>, parsed as an integer.</p>
     <li data-md>
      <p>Let <var>completeLength</var> be the portion of <var>contentRangeValue</var> named <code>complete-length</code> when parsed as <a data-link-type="dfn" href="#single-byte-content-range" id="ref-for-single-byte-content-range④">single byte content-range</a>.</p>
     <li data-md>
      <p>If <var>completeLength</var> is <code>"*"</code>, then set <var>completeLength</var> to null, otherwise set <var>completeLength</var> to <var>completeLength</var> parsed as an integer.</p>
     <li data-md>
      <p>Return <var>firstBytePos</var>, <var>lastBytePos</var>, and <var>completeLength</var>.</p>
    </ol>
    <p class="issue" id="issue-cddfe468"><a class="self-link" href="#issue-cddfe468"></a> Parsing as an integer <a href="https://github.com/whatwg/infra/issues/189">infra/189</a>.</p>
   </div>
   <h3 class="heading settled" data-level="4.8" id="create-settled-fetches-algorithm"><span class="secno">4.8. </span><span class="content"><a data-link-type="dfn" href="#create-record-objects" id="ref-for-create-record-objects①">Create record objects</a></span><a class="self-link" href="#create-settled-fetches-algorithm"></a></h3>
   <p class="note" role="note"><span class="marker">Note:</span> This algorithm creates platform objects for <a data-link-type="dfn" href="#background-fetch-record" id="ref-for-background-fetch-record④">background fetch records</a>. It also manages the streaming of the <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-response" id="ref-for-concept-response④">response</a> from the stored <a data-link-type="dfn" href="#background-fetch-response-bytes" id="ref-for-background-fetch-response-bytes④">bytes</a>. The background fetch operation may still be in progress at this point.</p>
   <div class="algorithm" data-algorithm="create record objects">
     To <dfn class="dfn-paneled" data-dfn-type="dfn" data-lt="create record objects|creating record objects" data-noexport id="create-record-objects">create record objects</dfn> from <var>records</var> (a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list" id="ref-for-list②">list</a> of <a data-link-type="dfn" href="#background-fetch-record" id="ref-for-background-fetch-record⑤">background fetch records</a>) in <var>realm</var> (a <a data-link-type="dfn" href="https://tc39.github.io/ecma262/#realm" id="ref-for-realm①">Realm</a>), run these steps: 
    <p>All platform objects must be created in <var>realm</var>.</p>
    <ol>
     <li data-md>
      <p>Let <var>recordObjects</var> be a new <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list" id="ref-for-list③">list</a>.</p>
     <li data-md>
      <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-iterate" id="ref-for-list-iterate②">For each</a> <var>record</var> of <var>records</var>:</p>
      <ol>
       <li data-md>
        <p>Let <var>responseData</var> be <var>record</var>’s <a data-link-type="dfn" href="#background-fetch-record-response-data" id="ref-for-background-fetch-record-response-data④">response data</a>.</p>
       <li data-md>
        <p>Let <var>recordObject</var> be a new <code class="idl"><a data-link-type="idl" href="#backgroundfetchrecord" id="ref-for-backgroundfetchrecord">BackgroundFetchRecord</a></code>.</p>
       <li data-md>
        <p>Set <var>recordObject</var>’s <code class="idl"><a data-link-type="idl" href="#dom-backgroundfetchrecord-responseready" id="ref-for-dom-backgroundfetchrecord-responseready">responseReady</a></code> to <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#a-new-promise" id="ref-for-a-new-promise">a new promise</a>.</p>
       <li data-md>
        <p>Let <var>requestObject</var> be a new <code class="idl"><a data-link-type="idl" href="https://fetch.spec.whatwg.org/#request" id="ref-for-request">Request</a></code> object with the following set:</p>
        <dl>
         <dt data-md><a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-request-request" id="ref-for-concept-request-request">Request</a>
         <dd data-md>
          <p>A copy of <var>record</var>’s <a data-link-type="dfn" href="#background-fetch-record-request" id="ref-for-background-fetch-record-request②">request</a>, including its <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-request-body" id="ref-for-concept-request-body①">body</a>.</p>
         <dt data-md><a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#request-headers" id="ref-for-request-headers">Headers</a>
         <dd data-md>
          <p>A new <code class="idl"><a data-link-type="idl" href="https://fetch.spec.whatwg.org/#headers" id="ref-for-headers">Headers</a></code> object associated with this <code class="idl"><a data-link-type="idl" href="https://fetch.spec.whatwg.org/#request" id="ref-for-request①">Request</a></code>'s <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-request-request" id="ref-for-concept-request-request①">request</a>'s <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-request-header-list" id="ref-for-concept-request-header-list">header list</a>.</p>
        </dl>
       <li data-md>
        <p>Set <var>recordObject</var>’s <code class="idl"><a data-link-type="idl" href="#dom-backgroundfetchrecord-request" id="ref-for-dom-backgroundfetchrecord-request">request</a></code> to <var>requestObject</var>.</p>
       <li data-md>
        <p>Let <var>transmittedBytes</var> be 0.</p>
       <li data-md>
        <p>Let <var>stream</var> be <a data-link-type="dfn">a new readable stream</a> with a pull action that returns <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#a-new-promise" id="ref-for-a-new-promise①">a new promise</a> <var>promise</var> and runs these steps <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/infrastructure.html#in-parallel" id="ref-for-in-parallel②">in parallel</a>:</p>
        <ol>
         <li data-md>
          <p>Wait for the <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#byte-sequence-length" id="ref-for-byte-sequence-length③">length</a> of <var>responseData</var>’s <a data-link-type="dfn" href="#background-fetch-response-bytes" id="ref-for-background-fetch-response-bytes⑤">bytes</a> to be greater than <var>transmittedBytes</var>, or <var>responseData</var>’s <a data-link-type="dfn" href="#background-fetch-response-result" id="ref-for-background-fetch-response-result①④">result</a> not to be the empty string.</p>
         <li data-md>
          <p>Let <var>bytes</var> be null.</p>
         <li data-md>
          <p>If the <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#byte-sequence-length" id="ref-for-byte-sequence-length④">length</a> of <var>responseData</var>’s <a data-link-type="dfn" href="#background-fetch-response-bytes" id="ref-for-background-fetch-response-bytes⑥">bytes</a> is greater than <var>transmittedBytes</var> and <var>responseData</var> may be <a data-link-type="dfn" href="#background-fetch-response-exposed" id="ref-for-background-fetch-response-exposed">exposed</a>, then:</p>
          <ol>
           <li data-md>
            <p>Set <var>bytes</var> to a user agent determined slice of <var>responseData</var>’s <a data-link-type="dfn" href="#background-fetch-response-bytes" id="ref-for-background-fetch-response-bytes⑦">bytes</a>, starting from an offset of <var>transmittedBytes</var>.</p>
            <p class="note" role="note"><span class="marker">Note:</span> This allows the user agent to stream the resource from storage at an appropriate rate.</p>
           <li data-md>
            <p>Increment <var>transmittedBytes</var> by <var>bytes</var>’ <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#byte-sequence-length" id="ref-for-byte-sequence-length⑤">length</a>.</p>
          </ol>
         <li data-md>
          <p><a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-task" id="ref-for-queue-a-task①">Queue a task</a> in <var>stream</var>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#relevant-settings-object" id="ref-for-relevant-settings-object①">relevant settings object</a>'s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#responsible-event-loop" id="ref-for-responsible-event-loop②">responsible event loop</a> using the <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#networking-task-source" id="ref-for-networking-task-source">networking task source</a> to run these steps:</p>
          <ol>
           <li data-md>
            <p>If <var>bytes</var> is not null, then:</p>
            <ol>
             <li data-md>
              <p>Let <var>array</var> be a new <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-Uint8Array" id="ref-for-idl-Uint8Array">Uint8Array</a></code> wrapping a new <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-ArrayBuffer" id="ref-for-idl-ArrayBuffer">ArrayBuffer</a></code> of <var>bytes</var>.</p>
             <li data-md>
              <p><a data-link-type="dfn" href="https://streams.spec.whatwg.org/#readablestream-enqueue" id="ref-for-readablestream-enqueue">Enqueue</a> <var>array</var> into <var>stream</var>.</p>
            </ol>
           <li data-md>
            <p>If <var>responseData</var> may be <a data-link-type="dfn" href="#background-fetch-response-exposed" id="ref-for-background-fetch-response-exposed①">exposed</a>, <var>responseData</var>’s <a data-link-type="dfn" href="#background-fetch-response-result" id="ref-for-background-fetch-response-result①⑤">result</a> is not the empty string, and <var>transmittedBytes</var> is the <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#byte-sequence-length" id="ref-for-byte-sequence-length⑥">length</a> of <var>responseData</var>’s <a data-link-type="dfn" href="#background-fetch-response-bytes" id="ref-for-background-fetch-response-bytes⑧">bytes</a>, then <a data-link-type="dfn" href="https://streams.spec.whatwg.org/#readablestream-close" id="ref-for-readablestream-close">close</a> <var>stream</var>.</p>
           <li data-md>
            <p>Otherwise, if <var>responseData</var>’s <a data-link-type="dfn" href="#background-fetch-response-result" id="ref-for-background-fetch-response-result①⑥">result</a> is <code>"aborted"</code>, then <a data-link-type="dfn" href="https://streams.spec.whatwg.org/#readablestream-error" id="ref-for-readablestream-error">error</a> <var>stream</var> with an <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#aborterror" id="ref-for-aborterror">AbortError</a></code> <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-DOMException" id="ref-for-idl-DOMException">DOMException</a></code>.</p>
           <li data-md>
            <p>Otherwise, if <var>responseData</var> may not be <a data-link-type="dfn" href="#background-fetch-response-exposed" id="ref-for-background-fetch-response-exposed②">exposed</a>, then <a data-link-type="dfn" href="https://streams.spec.whatwg.org/#readablestream-error" id="ref-for-readablestream-error①">error</a> <var>stream</var> with a <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#exceptiondef-typeerror" id="ref-for-exceptiondef-typeerror">TypeError</a></code>.</p>
           <li data-md>
            <p><a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#resolve" id="ref-for-resolve">Resolve</a> <var>promise</var>.</p>
          </ol>
        </ol>
       <li data-md>
        <p>Run these steps <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/infrastructure.html#in-parallel" id="ref-for-in-parallel③">in parallel</a>:</p>
        <ol>
         <li data-md>
          <p>Wait for <var>responseData</var>’s <a data-link-type="dfn" href="#background-fetch-response-response" id="ref-for-background-fetch-response-response③">response</a> to not be not-null.</p>
         <li data-md>
          <p>If <var>responseData</var> may be <a data-link-type="dfn" href="#background-fetch-response-exposed" id="ref-for-background-fetch-response-exposed③">exposed</a>, then:</p>
          <ol>
           <li data-md>
            <p>Let <var>response</var> be a copy of <var>responseData</var>’s <a data-link-type="dfn" href="#background-fetch-response-response" id="ref-for-background-fetch-response-response④">response</a>.</p>
           <li data-md>
            <p><a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-header-list-delete" id="ref-for-concept-header-list-delete">Delete</a> `<code>Content-Range</code>` from <var>response</var>’s <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-response-header-list" id="ref-for-concept-response-header-list⑤">header list</a>.</p>
           <li data-md>
            <p><a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-header-list-delete" id="ref-for-concept-header-list-delete①">Delete</a> `<code>Content-Length</code>` from <var>response</var>’s <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-response-header-list" id="ref-for-concept-response-header-list⑥">header list</a>.</p>
           <li data-md>
            <p>Let <var>body</var> be a new <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-body" id="ref-for-concept-body">body</a> with <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-body-stream" id="ref-for-concept-body-stream①">stream</a> set to <var>stream</var>.</p>
           <li data-md>
            <p>Set <var>response</var>’s <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-response-body" id="ref-for-concept-response-body②">body</a> to <var>body</var>.</p>
           <li data-md>
            <p><a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-task" id="ref-for-queue-a-task②">Queue a task</a> in <var>recordObject</var>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#relevant-settings-object" id="ref-for-relevant-settings-object②">relevant settings object</a>'s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#responsible-event-loop" id="ref-for-responsible-event-loop③">responsible event loop</a> using the <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#networking-task-source" id="ref-for-networking-task-source①">networking task source</a> to run these steps:</p>
            <ol>
             <li data-md>
              <p>Let <var>responseObject</var> be a new <code class="idl"><a data-link-type="idl" href="https://fetch.spec.whatwg.org/#response" id="ref-for-response">Response</a></code> object with the following set:</p>
              <dl>
               <dt data-md><a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-response-response" id="ref-for-concept-response-response">Response</a>
               <dd data-md>
                <p><var>response</var>.</p>
               <dt data-md><a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#response-headers" id="ref-for-response-headers">Headers</a>
               <dd data-md>
                <p>A new <code class="idl"><a data-link-type="idl" href="https://fetch.spec.whatwg.org/#headers" id="ref-for-headers①">Headers</a></code> object associated with this <code class="idl"><a data-link-type="idl" href="https://fetch.spec.whatwg.org/#response" id="ref-for-response①">Response</a></code>'s <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-response-response" id="ref-for-concept-response-response①">response</a>'s <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-response-header-list" id="ref-for-concept-response-header-list⑦">header list</a>.</p>
              </dl>
             <li data-md>
              <p><a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#resolve" id="ref-for-resolve①">Resolve</a> <var>recordObject</var>’s <code class="idl"><a data-link-type="idl" href="#dom-backgroundfetchrecord-responseready" id="ref-for-dom-backgroundfetchrecord-responseready①">responseReady</a></code> with <var>responseObject</var>.</p>
            </ol>
          </ol>
         <li data-md>
          <p>Otherwise, if <var>responseData</var>’s <a data-link-type="dfn" href="#background-fetch-response-result" id="ref-for-background-fetch-response-result①⑦">result</a> is <code>"aborted"</code>, then <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#reject" id="ref-for-reject">reject</a> <var>recordObject</var>’s <code class="idl"><a data-link-type="idl" href="#dom-backgroundfetchrecord-responseready" id="ref-for-dom-backgroundfetchrecord-responseready②">responseReady</a></code> with an <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#aborterror" id="ref-for-aborterror①">AbortError</a></code> <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-DOMException" id="ref-for-idl-DOMException①">DOMException</a></code>.</p>
         <li data-md>
          <p>Otherwise, <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#reject" id="ref-for-reject①">reject</a> <var>recordObject</var>’s <code class="idl"><a data-link-type="idl" href="#dom-backgroundfetchrecord-responseready" id="ref-for-dom-backgroundfetchrecord-responseready③">responseReady</a></code> with a <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#exceptiondef-typeerror" id="ref-for-exceptiondef-typeerror①">TypeError</a></code>.</p>
        </ol>
       <li data-md>
        <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-append" id="ref-for-list-append">Append</a> <var>recordObject</var> to <var>recordObjects</var>.</p>
      </ol>
     <li data-md>
      <p>Return <var>recordObjects</var>.</p>
    </ol>
   </div>
   <h3 class="heading settled" data-level="4.9" id="contains-background-fetch-algorithm"><span class="secno">4.9. </span><span class="content"><a data-link-type="dfn" href="#contains-background-fetch" id="ref-for-contains-background-fetch①">Contains background fetch</a></span><a class="self-link" href="#contains-background-fetch-algorithm"></a></h3>
   <div class="algorithm" data-algorithm="contains background fetch">
     To determine whether a <var>map</var> (a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#ordered-map" id="ref-for-ordered-map②">map</a>) <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="contains-background-fetch">contains background fetch</dfn> <var>bgFetch</var> (a <a data-link-type="dfn" href="#background-fetch" id="ref-for-background-fetch①②">background fetch</a>), run these steps: 
    <ol>
     <li data-md>
      <p>Let <var>id</var> be <var>bgFetch</var>’s <a data-link-type="dfn" href="#background-fetch-id" id="ref-for-background-fetch-id①">id</a>.</p>
     <li data-md>
      <p>If <var>map</var>[<var>id</var>] does not <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-exists" id="ref-for-map-exists①">exist</a>, then return false.</p>
     <li data-md>
      <p>If <var>map</var>[<var>id</var>] does not equal <var>bgFetch</var>, then return false.</p>
     <li data-md>
      <p>Return true.</p>
    </ol>
   </div>
   <div class="algorithm" data-algorithm="does not contain background fetch">
     To determine whether a <var>map</var> (a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#ordered-map" id="ref-for-ordered-map③">map</a>) <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="does-not-contain-background-fetch">does not contain background fetch</dfn> <var>bgFetch</var> (a <a data-link-type="dfn" href="#background-fetch" id="ref-for-background-fetch①③">background fetch</a>), run these steps: 
    <ol>
     <li data-md>
      <p>If <var>map</var> <a data-link-type="dfn" href="#contains-background-fetch" id="ref-for-contains-background-fetch②">contains background fetch</a> <var>bgFetch</var>, then return false.</p>
     <li data-md>
      <p>Return true.</p>
    </ol>
   </div>
   <h2 class="heading settled" data-level="5" id="header-syntax"><span class="secno">5. </span><span class="content">Header syntax</span><a class="self-link" href="#header-syntax"></a></h2>
   <p>The following is <a data-link-type="dfn" href="https://tools.ietf.org/html/rfc7230#section-7" id="ref-for-section-7">HTTP ABNF</a> for a <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="single-byte-content-range">single byte content-range</dfn>:</p>
<pre>"bytes=" first-byte-pos "-" last-byte-pos "/" complete-length
first-byte-pos = 1*DIGIT
last-byte-pos  = 1*DIGIT
complete-length = ( 1*DIGIT / "*" )</pre>
   <p class="note" role="note"><span class="marker">Note:</span> This is a subset of what <a href="https://tools.ietf.org/html/rfc7233#section-3.1">RFC 7233</a> allows.</p>
   <div class="note" role="note">
    <p>The above as a railroad diagram:</p>
    <div class="railroad">
     <svg class="railroad-diagram" height="197" viewBox="0 0 659.0 197" width="659.0">
      <g transform="translate(.5 .5)">
       <g>
        <path d="M20 21v20m10 -20v20m-10 -10h20"></path>
       </g>
       <path d="M40 31h10"></path>
       <g class="terminal ">
        <path d="M50 31h0.0"></path>
        <path d="M138.0 31h0.0"></path>
        <rect height="22" rx="10" ry="10" width="88" x="50" y="20"></rect>
        <text x="94" y="35">"bytes="</text>
       </g>
       <path d="M138.0 31h10"></path>
       <path d="M148.0 31h10"></path>
       <g>
        <path d="M158.0 31h0.0"></path>
        <path d="M158.0 31h10"></path>
        <g>
         <path d="M168.0 31h10.0"></path>
         <path d="M589.0 31h10.0"></path>
         <g class="non-terminal ">
          <path d="M178.0 31h0.0"></path>
          <path d="M286.0 31h0.0"></path>
          <text class="comment" x="232" y="36">first-byte-pos</text>
         </g>
         <path d="M286.0 31h10"></path>
         <path d="M296.0 31h10"></path>
         <g>
          <path d="M306.0 31h0.0"></path>
          <path d="M388.5 31h0.0"></path>
          <path d="M306.0 31h10"></path>
          <g class="non-terminal ">
           <path d="M316.0 31h0.0"></path>
           <path d="M378.5 31h0.0"></path>
           <rect height="22" width="62.5" x="316" y="20"></rect>
           <text x="347.25" y="35">digit</text>
          </g>
          <path d="M378.5 31h10"></path>
          <path d="M316.0 31a10 10 0 0 0 -10 10v0a10 10 0 0 0 10 10"></path>
          <g>
           <path d="M316.0 51h62.5"></path>
          </g>
          <path d="M378.5 51a10 10 0 0 0 10 -10v0a10 10 0 0 0 -10 -10"></path>
         </g>
         <path d="M388.5 31h10"></path>
         <path d="M398.5 31h10"></path>
         <g class="non-terminal ">
          <path d="M408.5 31h0.0"></path>
          <path d="M523.5 31h0.0"></path>
          <text class="comment" x="466" y="36">/first-byte-pos</text>
         </g>
         <path d="M523.5 31h10"></path>
         <path d="M533.5 31h10"></path>
         <g class="non-terminal ">
          <path d="M543.5 31h0.0"></path>
          <path d="M589.0 31h0.0"></path>
          <rect height="22" width="45.5" x="543.5" y="20"></rect>
          <text x="566.25" y="35">"/"</text>
         </g>
        </g>
        <path d="M599.0 31a10 10 0 0 1 10 10v8a10 10 0 0 1 -10 10h-431.0a10 10 0 0 0 -10 10v0a10 10 0 0 0 10 10"></path>
        <g>
         <path d="M168.0 79h17.0"></path>
         <path d="M582.0 79h17.0"></path>
         <g class="non-terminal ">
          <path d="M185.0 79h0.0"></path>
          <path d="M286.0 79h0.0"></path>
          <text class="comment" x="235.5" y="84">last-byte-pos</text>
         </g>
         <path d="M286.0 79h10"></path>
         <path d="M296.0 79h10"></path>
         <g>
          <path d="M306.0 79h0.0"></path>
          <path d="M388.5 79h0.0"></path>
          <path d="M306.0 79h10"></path>
          <g class="non-terminal ">
           <path d="M316.0 79h0.0"></path>
           <path d="M378.5 79h0.0"></path>
           <rect height="22" width="62.5" x="316" y="68"></rect>
           <text x="347.25" y="83">digit</text>
          </g>
          <path d="M378.5 79h10"></path>
          <path d="M316.0 79a10 10 0 0 0 -10 10v0a10 10 0 0 0 10 10"></path>
          <g>
           <path d="M316.0 99h62.5"></path>
          </g>
          <path d="M378.5 99a10 10 0 0 0 10 -10v0a10 10 0 0 0 -10 -10"></path>
         </g>
         <path d="M388.5 79h10"></path>
         <path d="M398.5 79h10"></path>
         <g class="non-terminal ">
          <path d="M408.5 79h0.0"></path>
          <path d="M516.5 79h0.0"></path>
          <text class="comment" x="462.5" y="84">/last-byte-pos</text>
         </g>
         <path d="M516.5 79h10"></path>
         <path d="M526.5 79h10"></path>
         <g class="non-terminal ">
          <path d="M536.5 79h0.0"></path>
          <path d="M582.0 79h0.0"></path>
          <rect height="22" width="45.5" x="536.5" y="68"></rect>
          <text x="559.25" y="83">"/"</text>
         </g>
        </g>
        <path d="M599.0 79a10 10 0 0 1 10 10v8a10 10 0 0 1 -10 10h-431.0a10 10 0 0 0 -10 10v0a10 10 0 0 0 10 10"></path>
        <g>
         <path d="M168.0 127h25.75"></path>
         <path d="M573.25 127h25.75"></path>
         <g class="non-terminal ">
          <path d="M193.75 127h0.0"></path>
          <path d="M308.75 127h0.0"></path>
          <text class="comment" x="251.25" y="132">complete-length</text>
         </g>
         <path d="M308.75 127h10"></path>
         <g>
          <path d="M318.75 127h0.0"></path>
          <path d="M441.25 127h0.0"></path>
          <path d="M318.75 127h20"></path>
          <g class="non-terminal ">
           <path d="M338.75 127h18.5"></path>
           <path d="M402.75 127h18.5"></path>
           <rect height="22" width="45.5" x="357.25" y="116"></rect>
           <text x="380" y="131">"*"</text>
          </g>
          <path d="M421.25 127h20"></path>
          <path d="M318.75 127a10 10 0 0 1 10 10v10a10 10 0 0 0 10 10"></path>
          <g>
           <path d="M338.75 157h0.0"></path>
           <path d="M421.25 157h0.0"></path>
           <path d="M338.75 157h10"></path>
           <g class="non-terminal ">
            <path d="M348.75 157h0.0"></path>
            <path d="M411.25 157h0.0"></path>
            <rect height="22" width="62.5" x="348.75" y="146"></rect>
            <text x="380" y="161">digit</text>
           </g>
           <path d="M411.25 157h10"></path>
           <path d="M348.75 157a10 10 0 0 0 -10 10v0a10 10 0 0 0 10 10"></path>
           <g>
            <path d="M348.75 177h62.5"></path>
           </g>
           <path d="M411.25 177a10 10 0 0 0 10 -10v0a10 10 0 0 0 -10 -10"></path>
          </g>
          <path d="M421.25 157a10 10 0 0 0 10 -10v-10a10 10 0 0 1 10 -10"></path>
         </g>
         <path d="M441.25 127h10"></path>
         <g class="non-terminal ">
          <path d="M451.25 127h0.0"></path>
          <path d="M573.25 127h0.0"></path>
          <text class="comment" x="512.25" y="132">/complete-length</text>
         </g>
        </g>
        <path d="M599.0 127h10"></path>
        <path d="M609.0 127h0.0"></path>
       </g>
       <path d="M609.0 127h10"></path>
       <path d="M 619.0 127 h 20 m -10 -10 v 20 m 10 -20 v 20"></path>
      </g>
     </svg>
    </div>
   </div>
   <h2 class="heading settled" data-level="6" id="api"><span class="secno">6. </span><span class="content">API</span><a class="self-link" href="#api"></a></h2>
   <h3 class="heading settled" data-level="6.1" id="extensions-to-service-worker-global"><span class="secno">6.1. </span><span class="content">Extensions to <code class="idl"><a data-link-type="idl" href="https://w3c.github.io/ServiceWorker/#serviceworkerglobalscope" id="ref-for-serviceworkerglobalscope">ServiceWorkerGlobalScope</a></code></span><a class="self-link" href="#extensions-to-service-worker-global"></a></h3>
<pre class="idl highlight def"><c- b>partial</c-> <c- b>interface</c-> <a class="idl-code" data-link-type="interface" href="https://w3c.github.io/ServiceWorker/#serviceworkerglobalscope" id="ref-for-serviceworkerglobalscope①"><c- g>ServiceWorkerGlobalScope</c-></a> {
  <c- b>attribute</c-> <a data-link-type="idl-name" href="https://html.spec.whatwg.org/multipage/webappapis.html#eventhandler" id="ref-for-eventhandler"><c- n>EventHandler</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="ServiceWorkerGlobalScope" data-dfn-type="attribute" data-export data-type="EventHandler" id="dom-serviceworkerglobalscope-onbackgroundfetchsuccess"><code><c- g>onbackgroundfetchsuccess</c-></code></dfn>;
  <c- b>attribute</c-> <a data-link-type="idl-name" href="https://html.spec.whatwg.org/multipage/webappapis.html#eventhandler" id="ref-for-eventhandler①"><c- n>EventHandler</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="ServiceWorkerGlobalScope" data-dfn-type="attribute" data-export data-type="EventHandler" id="dom-serviceworkerglobalscope-onbackgroundfetchfail"><code><c- g>onbackgroundfetchfail</c-></code></dfn>;
  <c- b>attribute</c-> <a data-link-type="idl-name" href="https://html.spec.whatwg.org/multipage/webappapis.html#eventhandler" id="ref-for-eventhandler②"><c- n>EventHandler</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="ServiceWorkerGlobalScope" data-dfn-type="attribute" data-export data-type="EventHandler" id="dom-serviceworkerglobalscope-onbackgroundfetchabort"><code><c- g>onbackgroundfetchabort</c-></code></dfn>;
  <c- b>attribute</c-> <a data-link-type="idl-name" href="https://html.spec.whatwg.org/multipage/webappapis.html#eventhandler" id="ref-for-eventhandler③"><c- n>EventHandler</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="ServiceWorkerGlobalScope" data-dfn-type="attribute" data-export data-type="EventHandler" id="dom-serviceworkerglobalscope-onbackgroundfetchclick"><code><c- g>onbackgroundfetchclick</c-></code></dfn>;
};
</pre>
   <h4 class="heading settled" data-level="6.1.1" id="service-worker-global-events"><span class="secno">6.1.1. </span><span class="content">Events</span><a class="self-link" href="#service-worker-global-events"></a></h4>
   <p>The following is the <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#event-handlers" id="ref-for-event-handlers">event handler</a> (and its corresponding <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#event-handler-event-type" id="ref-for-event-handler-event-type">event handler event type</a>) that must be supported, as <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#event-handler-idl-attributes" id="ref-for-event-handler-idl-attributes">event handler IDL attributes</a>, by all objects implementing <code class="idl"><a data-link-type="idl" href="https://w3c.github.io/ServiceWorker/#serviceworker" id="ref-for-serviceworker">ServiceWorker</a></code> interface:</p>
   <table class="data">
    <thead>
     <tr>
      <th><a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#event-handler-event-type" id="ref-for-event-handler-event-type①">event handler event type</a>
      <th><a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#event-handlers" id="ref-for-event-handlers①">event handler</a>
      <th>Interface
    <tbody>
     <tr>
      <td><dfn class="dfn-paneled idl-code" data-dfn-for="ServiceWorkerGlobalScope" data-dfn-type="event" data-export id="eventdef-serviceworkerglobalscope-backgroundfetchsuccess"><code>backgroundfetchsuccess</code></dfn>
      <td><code class="idl"><a data-link-type="idl" href="#dom-serviceworkerglobalscope-onbackgroundfetchsuccess" id="ref-for-dom-serviceworkerglobalscope-onbackgroundfetchsuccess">onbackgroundfetchsuccess</a></code>
      <td><code class="idl"><a data-link-type="idl" href="#backgroundfetchupdateuievent" id="ref-for-backgroundfetchupdateuievent②">BackgroundFetchUpdateUIEvent</a></code>
     <tr>
      <td><dfn class="dfn-paneled idl-code" data-dfn-for="ServiceWorkerGlobalScope" data-dfn-type="event" data-export id="eventdef-serviceworkerglobalscope-backgroundfetchfail"><code>backgroundfetchfail</code></dfn>
      <td><code class="idl"><a data-link-type="idl" href="#dom-serviceworkerglobalscope-onbackgroundfetchfail" id="ref-for-dom-serviceworkerglobalscope-onbackgroundfetchfail">onbackgroundfetchfail</a></code>
      <td><code class="idl"><a data-link-type="idl" href="#backgroundfetchupdateuievent" id="ref-for-backgroundfetchupdateuievent③">BackgroundFetchUpdateUIEvent</a></code>
     <tr>
      <td><dfn class="dfn-paneled idl-code" data-dfn-for="ServiceWorkerGlobalScope" data-dfn-type="event" data-export id="eventdef-serviceworkerglobalscope-backgroundfetchabort"><code>backgroundfetchabort</code></dfn>
      <td><code class="idl"><a data-link-type="idl" href="#dom-serviceworkerglobalscope-onbackgroundfetchabort" id="ref-for-dom-serviceworkerglobalscope-onbackgroundfetchabort">onbackgroundfetchabort</a></code>
      <td><code class="idl"><a data-link-type="idl" href="#backgroundfetchevent" id="ref-for-backgroundfetchevent②">BackgroundFetchEvent</a></code>
     <tr>
      <td><dfn class="dfn-paneled idl-code" data-dfn-for="ServiceWorkerGlobalScope" data-dfn-type="event" data-export id="eventdef-serviceworkerglobalscope-backgroundfetchclick"><code>backgroundfetchclick</code></dfn>
      <td><code class="idl"><a data-link-type="idl" href="#dom-serviceworkerglobalscope-onbackgroundfetchclick" id="ref-for-dom-serviceworkerglobalscope-onbackgroundfetchclick">onbackgroundfetchclick</a></code>
      <td><code class="idl"><a data-link-type="idl" href="#backgroundfetchevent" id="ref-for-backgroundfetchevent③">BackgroundFetchEvent</a></code>
   </table>
   <h3 class="heading settled" data-level="6.2" id="extensions-to-service-worker-registration"><span class="secno">6.2. </span><span class="content">Extensions to <code class="idl"><a data-link-type="idl" href="https://w3c.github.io/ServiceWorker/#serviceworkerregistration" id="ref-for-serviceworkerregistration">ServiceWorkerRegistration</a></code></span><a class="self-link" href="#extensions-to-service-worker-registration"></a></h3>
<pre class="idl highlight def"><c- b>partial</c-> <c- b>interface</c-> <a class="idl-code" data-link-type="interface" href="https://w3c.github.io/ServiceWorker/#serviceworkerregistration" id="ref-for-serviceworkerregistration①"><c- g>ServiceWorkerRegistration</c-></a> {
  <c- b>readonly</c-> <c- b>attribute</c-> <a data-link-type="idl-name" href="#backgroundfetchmanager" id="ref-for-backgroundfetchmanager②"><c- n>BackgroundFetchManager</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="BackgroundFetchManager" href="#dom-serviceworkerregistration-backgroundfetch" id="ref-for-dom-serviceworkerregistration-backgroundfetch"><c- g>backgroundFetch</c-></a>;
};
</pre>
   <div>
    <p>A <code class="idl"><a data-link-type="idl" href="https://w3c.github.io/ServiceWorker/#serviceworkerregistration" id="ref-for-serviceworkerregistration②">ServiceWorkerRegistration</a></code> has a <dfn class="dfn-paneled" data-dfn-for="ServiceWorkerRegistration" data-dfn-type="dfn" data-noexport id="serviceworkerregistration-background-fetch-manager">background fetch manager</dfn> (a <code class="idl"><a data-link-type="idl" href="#backgroundfetchmanager" id="ref-for-backgroundfetchmanager③">BackgroundFetchManager</a></code>), initially a new <code class="idl"><a data-link-type="idl" href="#backgroundfetchmanager" id="ref-for-backgroundfetchmanager④">BackgroundFetchManager</a></code> whose <a data-link-type="dfn" href="#backgroundfetchmanager-service-worker-registration" id="ref-for-backgroundfetchmanager-service-worker-registration">service worker registration</a> is the <a data-link-type="dfn">context object</a>'s <a data-link-type="dfn" href="https://w3c.github.io/ServiceWorker/#dfn-service-worker-registration" id="ref-for-dfn-service-worker-registration②">service worker registration</a>.</p>
    <p>The <dfn class="dfn-paneled idl-code" data-dfn-for="ServiceWorkerRegistration" data-dfn-type="attribute" data-export id="dom-serviceworkerregistration-backgroundfetch"><code>backgroundFetch</code></dfn> attribute’s getter must return the <a data-link-type="dfn">context object</a>'s <a data-link-type="dfn" href="#serviceworkerregistration-background-fetch-manager" id="ref-for-serviceworkerregistration-background-fetch-manager">background fetch manager</a>.</p>
   </div>
   <h3 class="heading settled" data-level="6.3" id="background-fetch-manager"><span class="secno">6.3. </span><span class="content"><code class="idl"><a data-link-type="idl" href="#backgroundfetchmanager" id="ref-for-backgroundfetchmanager⑤">BackgroundFetchManager</a></code></span><a class="self-link" href="#background-fetch-manager"></a></h3>
<pre class="idl highlight def">[<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Exposed" id="ref-for-Exposed"><c- g>Exposed</c-></a>=(<c- n>Window</c->,<c- n>Worker</c->)]
<c- b>interface</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="interface" data-export id="backgroundfetchmanager"><code><c- g>BackgroundFetchManager</c-></code></dfn> {
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise" id="ref-for-idl-promise"><c- b>Promise</c-></a>&lt;<a data-link-type="idl-name" href="#backgroundfetchregistration" id="ref-for-backgroundfetchregistration③"><c- n>BackgroundFetchRegistration</c-></a>> <a class="idl-code" data-link-type="method" href="#dom-backgroundfetchmanager-fetch" id="ref-for-dom-backgroundfetchmanager-fetch"><c- g>fetch</c-></a>(<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString" id="ref-for-idl-DOMString"><c- b>DOMString</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="BackgroundFetchManager/fetch(id, requests, options), BackgroundFetchManager/fetch(id, requests)" data-dfn-type="argument" data-export id="dom-backgroundfetchmanager-fetch-id-requests-options-id"><code><c- g>id</c-></code></dfn>, (<a data-link-type="idl-name" href="https://fetch.spec.whatwg.org/#requestinfo" id="ref-for-requestinfo"><c- n>RequestInfo</c-></a> <c- b>or</c-> <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#idl-sequence" id="ref-for-idl-sequence"><c- b>sequence</c-></a>&lt;<a data-link-type="idl-name" href="https://fetch.spec.whatwg.org/#requestinfo" id="ref-for-requestinfo①"><c- n>RequestInfo</c-></a>>) <dfn class="dfn-paneled idl-code" data-dfn-for="BackgroundFetchManager/fetch(id, requests, options), BackgroundFetchManager/fetch(id, requests)" data-dfn-type="argument" data-export id="dom-backgroundfetchmanager-fetch-id-requests-options-requests"><code><c- g>requests</c-></code></dfn>, <c- b>optional</c-> <a data-link-type="idl-name" href="#dictdef-backgroundfetchoptions" id="ref-for-dictdef-backgroundfetchoptions"><c- n>BackgroundFetchOptions</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="BackgroundFetchManager/fetch(id, requests, options), BackgroundFetchManager/fetch(id, requests)" data-dfn-type="argument" data-export id="dom-backgroundfetchmanager-fetch-id-requests-options-options"><code><c- g>options</c-></code></dfn> = {});
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise" id="ref-for-idl-promise①"><c- b>Promise</c-></a>&lt;<a data-link-type="idl-name" href="#backgroundfetchregistration" id="ref-for-backgroundfetchregistration④"><c- n>BackgroundFetchRegistration</c-></a>?> <a class="idl-code" data-link-type="method" href="#dom-backgroundfetchmanager-get" id="ref-for-dom-backgroundfetchmanager-get"><c- g>get</c-></a>(<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString" id="ref-for-idl-DOMString①"><c- b>DOMString</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="BackgroundFetchManager/get(id)" data-dfn-type="argument" data-export id="dom-backgroundfetchmanager-get-id-id"><code><c- g>id</c-></code></dfn>);
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise" id="ref-for-idl-promise②"><c- b>Promise</c-></a>&lt;<a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#idl-sequence" id="ref-for-idl-sequence①"><c- b>sequence</c-></a>&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString" id="ref-for-idl-DOMString②"><c- b>DOMString</c-></a>>> <a class="idl-code" data-link-type="method" href="#dom-backgroundfetchmanager-getids" id="ref-for-dom-backgroundfetchmanager-getids"><c- g>getIds</c-></a>();
};

<c- b>dictionary</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="dictionary" data-export id="dictdef-backgroundfetchuioptions"><code><c- g>BackgroundFetchUIOptions</c-></code></dfn> {
  <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#idl-sequence" id="ref-for-idl-sequence②"><c- b>sequence</c-></a>&lt;<a data-link-type="idl-name" href="https://w3c.github.io/image-resource/#dom-imageresource" id="ref-for-dom-imageresource①"><c- n>ImageResource</c-></a>> <dfn class="dfn-paneled idl-code" data-dfn-for="BackgroundFetchUIOptions" data-dfn-type="dict-member" data-export data-type="sequence<ImageResource>" id="dom-backgroundfetchuioptions-icons"><code><c- g>icons</c-></code></dfn>;
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString" id="ref-for-idl-DOMString③"><c- b>DOMString</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="BackgroundFetchUIOptions" data-dfn-type="dict-member" data-export data-type="DOMString" id="dom-backgroundfetchuioptions-title"><code><c- g>title</c-></code></dfn>;
};

<c- b>dictionary</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="dictionary" data-export id="dictdef-backgroundfetchoptions"><code><c- g>BackgroundFetchOptions</c-></code></dfn> : <a data-link-type="idl-name" href="#dictdef-backgroundfetchuioptions" id="ref-for-dictdef-backgroundfetchuioptions"><c- n>BackgroundFetchUIOptions</c-></a> {
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-unsigned-long-long" id="ref-for-idl-unsigned-long-long"><c- b>unsigned</c-> <c- b>long</c-> <c- b>long</c-></a> <dfn class="dfn-paneled idl-code" data-default="0" data-dfn-for="BackgroundFetchOptions" data-dfn-type="dict-member" data-export data-type="unsigned long long" id="dom-backgroundfetchoptions-downloadtotal"><code><c- g>downloadTotal</c-></code></dfn> = 0;
};
</pre>
   <div>
    <p>A <code class="idl"><a data-link-type="idl" href="#backgroundfetchmanager" id="ref-for-backgroundfetchmanager⑥">BackgroundFetchManager</a></code> has:</p>
    <div>
     <ul>
      <li data-md>
       <p><dfn class="dfn-paneled" data-dfn-for="BackgroundFetchManager" data-dfn-type="dfn" data-noexport id="backgroundfetchmanager-backgroundfetchregistration-instances">BackgroundFetchRegistration instances</dfn> (a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#ordered-map" id="ref-for-ordered-map④">map</a>), where the keys are <a data-link-type="dfn" href="#background-fetch" id="ref-for-background-fetch①④">background fetches</a> and the values are <code class="idl"><a data-link-type="idl" href="#backgroundfetchregistration" id="ref-for-backgroundfetchregistration⑤">BackgroundFetchRegistration</a></code> objects. It is initially an empty <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#ordered-map" id="ref-for-ordered-map⑤">map</a>.</p>
      <li data-md>
       <p>A <dfn class="dfn-paneled" data-dfn-for="BackgroundFetchManager" data-dfn-type="dfn" data-noexport id="backgroundfetchmanager-service-worker-registration">service worker registration</dfn> (a <a data-link-type="dfn" href="https://w3c.github.io/ServiceWorker/#dfn-service-worker-registration" id="ref-for-dfn-service-worker-registration③">service worker registration</a>).</p>
     </ul>
    </div>
    <h4 class="heading settled" data-level="6.3.1" id="background-fetch-manager-fetch"><span class="secno">6.3.1. </span><span class="content"><code class="idl"><a data-link-type="idl" href="#dom-backgroundfetchmanager-fetch" id="ref-for-dom-backgroundfetchmanager-fetch①">fetch()</a></code></span><a class="self-link" href="#background-fetch-manager-fetch"></a></h4>
    <div class="algorithm" data-algorithm="fetch(id, requests, options)">
      The <dfn class="dfn-paneled idl-code" data-dfn-for="BackgroundFetchManager" data-dfn-type="method" data-export data-lt="fetch(id, requests, options)|fetch(id, requests)" id="dom-backgroundfetchmanager-fetch"><code>fetch(<var>id</var>, <var>requests</var>, <var>options</var>)</code></dfn> method, when invoked, run these steps: 
     <ol>
      <li data-md>
       <p>Let <var>registration</var> be the <a data-link-type="dfn">context object</a>'s <a data-link-type="dfn" href="#backgroundfetchmanager-service-worker-registration" id="ref-for-backgroundfetchmanager-service-worker-registration①">service worker registration</a>.</p>
      <li data-md>
       <p>Let <var>records</var> be a new <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list" id="ref-for-list④">list</a>.</p>
      <li data-md>
       <p>Let <var>uploadTotal</var> be 0.</p>
      <li data-md>
       <p>If <var>requests</var> is a <code class="idl"><a data-link-type="idl" href="https://fetch.spec.whatwg.org/#requestinfo" id="ref-for-requestinfo②">RequestInfo</a></code>, set <var>requests</var> to « <var>requests</var> ».</p>
      <li data-md>
       <p>If <var>requests</var> is <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-empty" id="ref-for-list-empty">empty</a>, then return <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#a-promise-rejected-with" id="ref-for-a-promise-rejected-with">a promise rejected with</a> a <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#exceptiondef-typeerror" id="ref-for-exceptiondef-typeerror②">TypeError</a></code>.</p>
      <li data-md>
       <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-iterate" id="ref-for-list-iterate③">For each</a> <var>request</var> of <var>requests</var>:</p>
       <ol>
        <li data-md>
         <p>Let <var>internalRequest</var> be the <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-request-request" id="ref-for-concept-request-request②">request</a> of the result of invoking the <code class="idl"><a data-link-type="idl" href="https://fetch.spec.whatwg.org/#request" id="ref-for-request②">Request</a></code> constructor with <var>request</var>. If this throws an exception, return <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#a-promise-rejected-with" id="ref-for-a-promise-rejected-with①">a promise rejected with</a> the exception.</p>
        <li data-md>
         <p>If <var>internalRequest</var>’s <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-request-mode" id="ref-for-concept-request-mode①">mode</a> is "<code>no-cors</code>", then return <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#a-promise-rejected-with" id="ref-for-a-promise-rejected-with②">a promise rejected with</a> a <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#exceptiondef-typeerror" id="ref-for-exceptiondef-typeerror③">TypeError</a></code>.</p>
        <li data-md>
         <p>Set <var>internalRequest</var>’s <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-request-client" id="ref-for-concept-request-client①">client</a> to null.</p>
        <li data-md>
         <p>Let <var>record</var> be a new <a data-link-type="dfn" href="#background-fetch-record" id="ref-for-background-fetch-record⑥">background fetch record</a>.</p>
        <li data-md>
         <p>Set <var>record</var>’s <a data-link-type="dfn" href="#background-fetch-record-request" id="ref-for-background-fetch-record-request③">request</a> to <var>internalRequest</var>.</p>
        <li data-md>
         <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-append" id="ref-for-list-append①">Append</a> <var>record</var> to <var>records</var>.</p>
       </ol>
      <li data-md>
       <p>Let <var>promise</var> be <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#a-new-promise" id="ref-for-a-new-promise②">a new promise</a>.</p>
      <li data-md>
       <p><a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/infrastructure.html#enqueue-the-following-steps" id="ref-for-enqueue-the-following-steps②">Enqueue the following steps</a> to <var>registration</var>’s <a data-link-type="dfn" href="#service-worker-registration-active-background-fetches-edit-queue" id="ref-for-service-worker-registration-active-background-fetches-edit-queue①">active background fetches edit queue</a>:</p>
       <ol>
        <li data-md>
         <p>Let <var>permission</var> be the <a data-link-type="dfn" href="https://w3c.github.io/permissions/#dfn-permission-state" id="ref-for-dfn-permission-state①">permission state</a> for a <code class="idl"><a data-link-type="idl" href="https://w3c.github.io/permissions/#dom-permissiondescriptor" id="ref-for-dom-permissiondescriptor①">PermissionDescriptor</a></code> with <code class="idl"><a data-link-type="idl" href="https://w3c.github.io/permissions/#dom-permissiondescriptor-name" id="ref-for-dom-permissiondescriptor-name①">name</a></code> <code>"background-fetch"</code>, and the <a data-link-type="dfn">context object</a>'s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#relevant-settings-object" id="ref-for-relevant-settings-object③">relevant settings object</a>.</p>
        <li data-md>
         <p>If <var>permission</var> is <code>"denied"</code>, then reject <var>promise</var> with a <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#notallowederror" id="ref-for-notallowederror">NotAllowedError</a></code> <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-DOMException" id="ref-for-idl-DOMException②">DOMException</a></code> and abort these steps.</p>
        <li data-md>
         <p>Let <var>bgFetchMap</var> be <var>registration</var>’s <a data-link-type="dfn" href="#service-worker-registration-active-background-fetches" id="ref-for-service-worker-registration-active-background-fetches①">active background fetches</a>.</p>
        <li data-md>
         <p>If <var>registration</var>’s <a data-link-type="dfn" href="https://w3c.github.io/ServiceWorker/#dfn-active-worker" id="ref-for-dfn-active-worker">active worker</a> is null, then reject <var>promise</var> with a <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#exceptiondef-typeerror" id="ref-for-exceptiondef-typeerror④">TypeError</a></code> and abort these steps.</p>
        <li data-md>
         <p>If <var>bgFetchMap</var>[<var>id</var>] <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-exists" id="ref-for-map-exists②">exists</a>, <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#reject" id="ref-for-reject②">reject</a> <var>promise</var> with a <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#exceptiondef-typeerror" id="ref-for-exceptiondef-typeerror⑤">TypeError</a></code> and abort these steps.</p>
        <li data-md>
         <p>Let <var>requestBodiesRemaining</var> be the <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-size" id="ref-for-list-size①">size</a> of <var>requests</var>.</p>
        <li data-md>
         <p>Let <var>requestReadFailed</var> be false.</p>
        <li data-md>
         <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-iterate" id="ref-for-list-iterate④">For each</a> <var>request</var> of <var>requests</var>:</p>
         <ol>
          <li data-md>
           <p>If <var>request</var>’s <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-request-body" id="ref-for-concept-request-body②">body</a> is null, then <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#iteration-continue" id="ref-for-iteration-continue">continue</a>.</p>
          <li data-md>
           <p>Let <var>stream</var> be <var>request</var>’s <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-request-body" id="ref-for-concept-request-body③">body</a>'s <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-body-stream" id="ref-for-concept-body-stream②">stream</a>.</p>
          <li data-md>
           <p>Run these steps <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/infrastructure.html#in-parallel" id="ref-for-in-parallel④">in parallel</a>:</p>
           <ol>
            <li data-md>
             <p>Run these steps but <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#abort-when" id="ref-for-abort-when①">abort when</a> <var>requestReadFailed</var> is true:</p>
             <ol>
              <li data-md>
               <p><a data-link-type="dfn">Wait</a> for <var>request</var>’s <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-request-body" id="ref-for-concept-request-body④">body</a>.</p>
              <li data-md>
               <p>If <var>stream</var> has <a data-link-type="dfn" href="https://streams.spec.whatwg.org/#readablestream-errored" id="ref-for-readablestream-errored①">errored</a>, then set <var>requestReadFailed</var> to true.</p>
             </ol>
             <p class="note" role="note"><span class="marker">Note:</span> This ensures we have a copy of the request bytes before resolving.</p>
            <li data-md>
             <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#if-aborted" id="ref-for-if-aborted①">If aborted</a> and <var>stream</var> is <a data-link-type="dfn" href="https://streams.spec.whatwg.org/#readablestream-readable" id="ref-for-readablestream-readable">readable</a>, then <a data-link-type="dfn" href="https://streams.spec.whatwg.org/#readablestream-error" id="ref-for-readablestream-error②">error</a> <var>stream</var> with an <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#aborterror" id="ref-for-aborterror②">AbortError</a></code> <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-DOMException" id="ref-for-idl-DOMException③">DOMException</a></code> and abort these steps.</p>
            <li data-md>
             <p>Increment <var>uploadTotal</var> by <var>request</var>’s <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-request-body" id="ref-for-concept-request-body⑤">body</a>'s <a data-link-type="dfn">total bytes</a>.</p>
            <li data-md>
             <p>Decrement <var>requestBodiesRemaining</var> by 1.</p>
           </ol>
         </ol>
        <li data-md>
         <p>If at any point storing <var>requests</var> fails due to exceeding a quota limit, <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#reject" id="ref-for-reject③">reject</a> <var>promise</var> with a <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#quotaexceedederror" id="ref-for-quotaexceedederror">QuotaExceededError</a></code> <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-DOMException" id="ref-for-idl-DOMException④">DOMException</a></code> and abort these steps.</p>
        <li data-md>
         <p>Wait for <var>requestBodiesRemaining</var> to be 0, or <var>requestReadFailed</var> to be true.</p>
        <li data-md>
         <p>If <var>requestReadFailed</var> is true, then <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#reject" id="ref-for-reject④">reject</a> <var>promise</var> with a <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#exceptiondef-typeerror" id="ref-for-exceptiondef-typeerror⑥">TypeError</a></code> and abort these steps.</p>
        <li data-md>
         <p>Let <var>bgFetch</var> be a new <a data-link-type="dfn" href="#background-fetch" id="ref-for-background-fetch①⑤">background fetch</a> with:</p>
         <dl>
          <dt data-md><a data-link-type="dfn" href="#background-fetch-id" id="ref-for-background-fetch-id②">id</a>
          <dd data-md>
           <p><var>id</var>.</p>
          <dt data-md><a data-link-type="dfn" href="#background-fetch-records" id="ref-for-background-fetch-records④">records</a>
          <dd data-md>
           <p><var>records</var>.</p>
          <dt data-md><a data-link-type="dfn" href="#background-fetch-download-total" id="ref-for-background-fetch-download-total②">download total</a>
          <dd data-md>
           <p><var>options</var>’ <code>downloadTotal</code> member.</p>
          <dt data-md><a data-link-type="dfn" href="#background-fetch-upload-total" id="ref-for-background-fetch-upload-total①">upload total</a>
          <dd data-md>
           <p><var>uploadTotal</var>.</p>
          <dt data-md><a data-link-type="dfn" href="#background-fetch-icons" id="ref-for-background-fetch-icons①">icons</a>
          <dd data-md>
           <p><var>options</var>’ <code>icons</code> member if present, otherwise an empty <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list" id="ref-for-list⑤">list</a>.</p>
          <dt data-md><a data-link-type="dfn" href="#background-fetch-title" id="ref-for-background-fetch-title①">title</a>
          <dd data-md>
           <p><var>options</var>’ <code>title</code> member if present, otherwise the empty string.</p>
          <dt data-md><a data-link-type="dfn" href="#background-fetch-service-worker-registration" id="ref-for-background-fetch-service-worker-registration④">service worker registration</a>
          <dd data-md>
           <p><var>registration</var>.</p>
         </dl>
        <li data-md>
         <p>Set <var>bgFetchMap</var>[<var>id</var>] to <var>bgFetch</var>.</p>
        <li data-md>
         <p><a data-link-type="dfn" href="#queue-a-bgfetch-task" id="ref-for-queue-a-bgfetch-task①">Queue a bgfetch task</a> to run these steps:</p>
         <ol>
          <li data-md>
           <p><a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#resolve" id="ref-for-resolve②">Resolve</a> <var>promise</var> with the result of <a data-link-type="dfn" href="#get-a-backgroundfetchregistration-instance" id="ref-for-get-a-backgroundfetchregistration-instance④">getting a BackgroundFetchRegistration instance</a> for <var>bgFetch</var> in the <a data-link-type="dfn">context object</a>'s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-realm" id="ref-for-concept-relevant-realm④">relevant Realm</a>.</p>
         </ol>
        <li data-md>
         <p><a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/infrastructure.html#in-parallel" id="ref-for-in-parallel⑤">In parallel</a>, <a data-link-type="dfn" href="#background-fetch-display" id="ref-for-background-fetch-display①">display</a> <var>bgFetch</var> from the <a data-link-type="dfn">context object</a>'s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#relevant-settings-object" id="ref-for-relevant-settings-object④">relevant settings object</a>.</p>
        <li data-md>
         <p><a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/infrastructure.html#in-parallel" id="ref-for-in-parallel⑥">In parallel</a>, <a data-link-type="dfn" href="#perform-a-background-fetch" id="ref-for-perform-a-background-fetch①">perform a background fetch</a> with <var>bgFetch</var>.</p>
       </ol>
      <li data-md>
       <p>Return <var>promise</var>.</p>
     </ol>
    </div>
    <h4 class="heading settled" data-level="6.3.2" id="background-fetch-manager-get"><span class="secno">6.3.2. </span><span class="content"><code class="idl"><a data-link-type="idl" href="#dom-backgroundfetchmanager-get" id="ref-for-dom-backgroundfetchmanager-get①">get()</a></code></span><a class="self-link" href="#background-fetch-manager-get"></a></h4>
    <div class="algorithm" data-algorithm="get(id)">
      The <dfn class="dfn-paneled idl-code" data-dfn-for="BackgroundFetchManager" data-dfn-type="method" data-export id="dom-backgroundfetchmanager-get"><code>get(<var>id</var>)</code></dfn> method, when invoked, must return <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#a-new-promise" id="ref-for-a-new-promise③">a new promise</a> <var>promise</var> and run these steps <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/infrastructure.html#in-parallel" id="ref-for-in-parallel⑦">in parallel</a>: 
     <ol>
      <li data-md>
       <p>Let <var>registration</var> be the <a data-link-type="dfn">context object</a>'s associated <a data-link-type="dfn" href="#backgroundfetchmanager-service-worker-registration" id="ref-for-backgroundfetchmanager-service-worker-registration②">service worker registration</a>.</p>
      <li data-md>
       <p>Let <var>bgFetch</var> be <var>registration</var>’s <a data-link-type="dfn" href="#service-worker-registration-active-background-fetches" id="ref-for-service-worker-registration-active-background-fetches②">active background fetches</a>[<var>id</var>].</p>
      <li data-md>
       <p>If <var>bgFetch</var> is undefined, then <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#resolve" id="ref-for-resolve③">resolve</a> <var>promise</var> with undefined and abort these steps.</p>
      <li data-md>
       <p><a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/infrastructure.html#enqueue-the-following-steps" id="ref-for-enqueue-the-following-steps③">Enqueue the following steps</a> to <var>bgFetch</var>’s <a data-link-type="dfn" href="#background-fetch-update-handling-queue" id="ref-for-background-fetch-update-handling-queue①">update handling queue</a>:</p>
       <ol>
        <li data-md>
         <p><a data-link-type="dfn" href="#queue-a-bgfetch-task" id="ref-for-queue-a-bgfetch-task②">Queue a bgfetch task</a> <var>task</var> to run these steps:</p>
         <ol>
          <li data-md>
           <p>Let <var>bgFetchRegistration</var> be the result of <a data-link-type="dfn" href="#get-a-backgroundfetchregistration-instance" id="ref-for-get-a-backgroundfetchregistration-instance⑤">getting a BackgroundFetchRegistration instance</a> for <var>bgFetch</var> in the <a data-link-type="dfn">context object</a>'s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-realm" id="ref-for-concept-relevant-realm⑤">relevant Realm</a>.</p>
          <li data-md>
           <p><a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#resolve" id="ref-for-resolve④">Resolve</a> <var>promise</var> with <var>bgFetchRegistration</var>.</p>
         </ol>
        <li data-md>
         <p>Wait for <var>task</var> to complete.</p>
         <p class="note" role="note"><span class="marker">Note:</span> This ensures the potential new instance of <code class="idl"><a data-link-type="idl" href="#backgroundfetchregistration" id="ref-for-backgroundfetchregistration⑥">BackgroundFetchRegistration</a></code> doesn’t miss any <code class="idl"><a class="idl-code" data-link-type="event" href="#eventdef-backgroundfetchregistration-progress" id="ref-for-eventdef-backgroundfetchregistration-progress">progress</a></code> events.</p>
       </ol>
     </ol>
    </div>
    <h4 class="heading settled" data-level="6.3.3" id="background-fetch-manager-get-ids"><span class="secno">6.3.3. </span><span class="content"><code class="idl"><a data-link-type="idl" href="#dom-backgroundfetchmanager-getids" id="ref-for-dom-backgroundfetchmanager-getids①">getIds()</a></code></span><a class="self-link" href="#background-fetch-manager-get-ids"></a></h4>
    <div class="algorithm" data-algorithm="getIds()">
      The <dfn class="dfn-paneled idl-code" data-dfn-for="BackgroundFetchManager" data-dfn-type="method" data-export id="dom-backgroundfetchmanager-getids"><code>getIds()</code></dfn> method, when invoked, must return <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#a-new-promise" id="ref-for-a-new-promise④">a new promise</a> <var>promise</var> and run these steps <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/infrastructure.html#in-parallel" id="ref-for-in-parallel⑧">in parallel</a>: 
     <ol>
      <li data-md>
       <p>Let <var>registration</var> be the <a data-link-type="dfn">context object</a>'s associated <a data-link-type="dfn" href="#backgroundfetchmanager-service-worker-registration" id="ref-for-backgroundfetchmanager-service-worker-registration③">service worker registration</a>.</p>
      <li data-md>
       <p><a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#resolve" id="ref-for-resolve⑤">Resolve</a> <var>promise</var> with the result of <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-getting-the-keys" id="ref-for-map-getting-the-keys">getting the keys</a> of <var>registration</var>’s <a data-link-type="dfn" href="#service-worker-registration-active-background-fetches" id="ref-for-service-worker-registration-active-background-fetches③">active background fetches</a>.</p>
     </ol>
    </div>
   </div>
   <h3 class="heading settled" data-level="6.4" id="background-fetch-registration"><span class="secno">6.4. </span><span class="content"><code class="idl"><a data-link-type="idl" href="#backgroundfetchregistration" id="ref-for-backgroundfetchregistration⑦">BackgroundFetchRegistration</a></code></span><a class="self-link" href="#background-fetch-registration"></a></h3>
<pre class="idl highlight def">[<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Exposed" id="ref-for-Exposed①"><c- g>Exposed</c-></a>=(<c- n>Window</c->,<c- n>Worker</c->)]
<c- b>interface</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="interface" data-export id="backgroundfetchregistration"><code><c- g>BackgroundFetchRegistration</c-></code></dfn> : <a data-link-type="idl-name" href="https://dom.spec.whatwg.org/#eventtarget" id="ref-for-eventtarget"><c- n>EventTarget</c-></a> {
  <c- b>readonly</c-> <c- b>attribute</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString" id="ref-for-idl-DOMString④"><c- b>DOMString</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="DOMString" href="#dom-backgroundfetchregistration-id" id="ref-for-dom-backgroundfetchregistration-id"><c- g>id</c-></a>;
  <c- b>readonly</c-> <c- b>attribute</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-unsigned-long-long" id="ref-for-idl-unsigned-long-long①"><c- b>unsigned</c-> <c- b>long</c-> <c- b>long</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="unsigned long long" href="#dom-backgroundfetchregistration-uploadtotal" id="ref-for-dom-backgroundfetchregistration-uploadtotal"><c- g>uploadTotal</c-></a>;
  <c- b>readonly</c-> <c- b>attribute</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-unsigned-long-long" id="ref-for-idl-unsigned-long-long②"><c- b>unsigned</c-> <c- b>long</c-> <c- b>long</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="unsigned long long" href="#dom-backgroundfetchregistration-uploaded" id="ref-for-dom-backgroundfetchregistration-uploaded"><c- g>uploaded</c-></a>;
  <c- b>readonly</c-> <c- b>attribute</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-unsigned-long-long" id="ref-for-idl-unsigned-long-long③"><c- b>unsigned</c-> <c- b>long</c-> <c- b>long</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="unsigned long long" href="#dom-backgroundfetchregistration-downloadtotal" id="ref-for-dom-backgroundfetchregistration-downloadtotal"><c- g>downloadTotal</c-></a>;
  <c- b>readonly</c-> <c- b>attribute</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-unsigned-long-long" id="ref-for-idl-unsigned-long-long④"><c- b>unsigned</c-> <c- b>long</c-> <c- b>long</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="unsigned long long" href="#dom-backgroundfetchregistration-downloaded" id="ref-for-dom-backgroundfetchregistration-downloaded"><c- g>downloaded</c-></a>;
  <c- b>readonly</c-> <c- b>attribute</c-> <a data-link-type="idl-name" href="#enumdef-backgroundfetchresult" id="ref-for-enumdef-backgroundfetchresult①"><c- n>BackgroundFetchResult</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="BackgroundFetchResult" href="#dom-backgroundfetchregistration-result" id="ref-for-dom-backgroundfetchregistration-result"><c- g>result</c-></a>;
  <c- b>readonly</c-> <c- b>attribute</c-> <a data-link-type="idl-name" href="#enumdef-backgroundfetchfailurereason" id="ref-for-enumdef-backgroundfetchfailurereason②"><c- n>BackgroundFetchFailureReason</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="BackgroundFetchFailureReason" href="#dom-backgroundfetchregistration-failurereason" id="ref-for-dom-backgroundfetchregistration-failurereason"><c- g>failureReason</c-></a>;
  <c- b>readonly</c-> <c- b>attribute</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-boolean" id="ref-for-idl-boolean"><c- b>boolean</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="boolean" href="#dom-backgroundfetchregistration-recordsavailable" id="ref-for-dom-backgroundfetchregistration-recordsavailable"><c- g>recordsAvailable</c-></a>;

  <c- b>attribute</c-> <a data-link-type="idl-name" href="https://html.spec.whatwg.org/multipage/webappapis.html#eventhandler" id="ref-for-eventhandler④"><c- n>EventHandler</c-></a> <a class="idl-code" data-link-type="attribute" data-type="EventHandler" href="#dom-backgroundfetchregistration-onprogress" id="ref-for-dom-backgroundfetchregistration-onprogress"><c- g>onprogress</c-></a>;

  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise" id="ref-for-idl-promise③"><c- b>Promise</c-></a>&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-boolean" id="ref-for-idl-boolean①"><c- b>boolean</c-></a>> <a class="idl-code" data-link-type="method" href="#dom-backgroundfetchregistration-abort" id="ref-for-dom-backgroundfetchregistration-abort②"><c- g>abort</c-></a>();
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise" id="ref-for-idl-promise④"><c- b>Promise</c-></a>&lt;<a data-link-type="idl-name" href="#backgroundfetchrecord" id="ref-for-backgroundfetchrecord①"><c- n>BackgroundFetchRecord</c-></a>> <a class="idl-code" data-link-type="method" href="#dom-backgroundfetchregistration-match" id="ref-for-dom-backgroundfetchregistration-match"><c- g>match</c-></a>(<a data-link-type="idl-name" href="https://fetch.spec.whatwg.org/#requestinfo" id="ref-for-requestinfo③"><c- n>RequestInfo</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="BackgroundFetchRegistration/match(request, options), BackgroundFetchRegistration/match(request)" data-dfn-type="argument" data-export id="dom-backgroundfetchregistration-match-request-options-request"><code><c- g>request</c-></code></dfn>, <c- b>optional</c-> <a data-link-type="idl-name" href="https://w3c.github.io/ServiceWorker/#dictdef-cachequeryoptions" id="ref-for-dictdef-cachequeryoptions"><c- n>CacheQueryOptions</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="BackgroundFetchRegistration/match(request, options), BackgroundFetchRegistration/match(request)" data-dfn-type="argument" data-export id="dom-backgroundfetchregistration-match-request-options-options"><code><c- g>options</c-></code></dfn> = {});
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise" id="ref-for-idl-promise⑤"><c- b>Promise</c-></a>&lt;<a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#idl-sequence" id="ref-for-idl-sequence③"><c- b>sequence</c-></a>&lt;<a data-link-type="idl-name" href="#backgroundfetchrecord" id="ref-for-backgroundfetchrecord②"><c- n>BackgroundFetchRecord</c-></a>>> <a class="idl-code" data-link-type="method" href="#dom-backgroundfetchregistration-matchall" id="ref-for-dom-backgroundfetchregistration-matchall"><c- g>matchAll</c-></a>(<c- b>optional</c-> <a data-link-type="idl-name" href="https://fetch.spec.whatwg.org/#requestinfo" id="ref-for-requestinfo④"><c- n>RequestInfo</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="BackgroundFetchRegistration/matchAll(request, options), BackgroundFetchRegistration/matchAll(request), BackgroundFetchRegistration/matchAll()" data-dfn-type="argument" data-export id="dom-backgroundfetchregistration-matchall-request-options-request"><code><c- g>request</c-></code></dfn>, <c- b>optional</c-> <a data-link-type="idl-name" href="https://w3c.github.io/ServiceWorker/#dictdef-cachequeryoptions" id="ref-for-dictdef-cachequeryoptions①"><c- n>CacheQueryOptions</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="BackgroundFetchRegistration/matchAll(request, options), BackgroundFetchRegistration/matchAll(request), BackgroundFetchRegistration/matchAll()" data-dfn-type="argument" data-export id="dom-backgroundfetchregistration-matchall-request-options-options"><code><c- g>options</c-></code></dfn> = {});
};

<c- b>enum</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="enum" data-export id="enumdef-backgroundfetchresult"><code><c- g>BackgroundFetchResult</c-></code></dfn> { <dfn class="dfn-paneled idl-code" data-dfn-for="BackgroundFetchResult" data-dfn-type="enum-value" data-export id="dom-backgroundfetchresult"><code><c- s>""</c-></code></dfn>, <dfn class="dfn-paneled idl-code" data-dfn-for="BackgroundFetchResult" data-dfn-type="enum-value" data-export id="dom-backgroundfetchresult-success"><code><c- s>"success"</c-></code></dfn>, <dfn class="dfn-paneled idl-code" data-dfn-for="BackgroundFetchResult" data-dfn-type="enum-value" data-export id="dom-backgroundfetchresult-failure"><code><c- s>"failure"</c-></code></dfn> };

<c- b>enum</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="enum" data-export id="enumdef-backgroundfetchfailurereason"><code><c- g>BackgroundFetchFailureReason</c-></code></dfn> {
  // The background fetch has not completed yet, or was successful.
  <dfn class="dfn-paneled idl-code" data-dfn-for="BackgroundFetchFailureReason" data-dfn-type="enum-value" data-export id="dom-backgroundfetchfailurereason"><code><c- s>""</c-></code></dfn>,
  // The operation was aborted by the user, or abort() was called.
  <dfn class="dfn-paneled idl-code" data-dfn-for="BackgroundFetchFailureReason" data-dfn-type="enum-value" data-export id="dom-backgroundfetchfailurereason-aborted"><code><c- s>"aborted"</c-></code></dfn>,
  // A response had a not-ok-status.
  <dfn class="dfn-paneled idl-code" data-dfn-for="BackgroundFetchFailureReason" data-dfn-type="enum-value" data-export id="dom-backgroundfetchfailurereason-bad-status"><code><c- s>"bad-status"</c-></code></dfn>,
  // A fetch failed for other reasons, e.g. CORS, MIX, an invalid partial response,
  // or a general network failure for a fetch that cannot be retried.
  <dfn class="dfn-paneled idl-code" data-dfn-for="BackgroundFetchFailureReason" data-dfn-type="enum-value" data-export id="dom-backgroundfetchfailurereason-fetch-error"><code><c- s>"fetch-error"</c-></code></dfn>,
  // Storage quota was reached during the operation.
  <dfn class="dfn-paneled idl-code" data-dfn-for="BackgroundFetchFailureReason" data-dfn-type="enum-value" data-export id="dom-backgroundfetchfailurereason-quota-exceeded"><code><c- s>"quota-exceeded"</c-></code></dfn>,
  // The provided downloadTotal was exceeded.
  <dfn class="dfn-paneled idl-code" data-dfn-for="BackgroundFetchFailureReason" data-dfn-type="enum-value" data-export id="dom-backgroundfetchfailurereason-download-total-exceeded"><code><c- s>"download-total-exceeded"</c-></code></dfn>
};
</pre>
   <div>
    <p>A <code class="idl"><a data-link-type="idl" href="#backgroundfetchregistration" id="ref-for-backgroundfetchregistration⑧">BackgroundFetchRegistration</a></code> instance has:</p>
    <ul>
     <li data-md>
      <p>A <dfn class="dfn-paneled" data-dfn-for="BackgroundFetchRegistration" data-dfn-type="dfn" data-noexport id="backgroundfetchregistration-background-fetch">background fetch</dfn> (a <a data-link-type="dfn" href="#background-fetch" id="ref-for-background-fetch①⑥">background fetch</a>).</p>
     <li data-md>
      <p>A <dfn class="dfn-paneled" data-dfn-for="BackgroundFetchRegistration" data-dfn-type="dfn" data-noexport id="backgroundfetchregistration-downloaded">downloaded</dfn> (a number), initially a copy of <a data-link-type="dfn" href="#backgroundfetchregistration-background-fetch" id="ref-for-backgroundfetchregistration-background-fetch②">background fetch</a>'s <a data-link-type="dfn" href="#background-fetch-stored-body-bytes-total" id="ref-for-background-fetch-stored-body-bytes-total③">stored body bytes total</a>.</p>
     <li data-md>
      <p>A <dfn class="dfn-paneled" data-dfn-for="BackgroundFetchRegistration" data-dfn-type="dfn" data-noexport id="backgroundfetchregistration-uploaded">uploaded</dfn> (a number), initially a copy of <a data-link-type="dfn" href="#backgroundfetchregistration-background-fetch" id="ref-for-backgroundfetchregistration-background-fetch③">background fetch</a>'s <a data-link-type="dfn" href="#background-fetch-uploaded" id="ref-for-background-fetch-uploaded③">uploaded</a>.</p>
     <li data-md>
      <p>A <dfn class="dfn-paneled" data-dfn-for="BackgroundFetchRegistration" data-dfn-type="dfn" data-noexport id="backgroundfetchregistration-result">result</dfn> (a <code class="idl"><a data-link-type="idl" href="#enumdef-backgroundfetchresult" id="ref-for-enumdef-backgroundfetchresult②">BackgroundFetchResult</a></code>), initially a copy of <a data-link-type="dfn" href="#backgroundfetchregistration-background-fetch" id="ref-for-backgroundfetchregistration-background-fetch④">background fetch</a>'s <a data-link-type="dfn" href="#background-fetch-result" id="ref-for-background-fetch-result⑥">result</a>.</p>
     <li data-md>
      <p>A <dfn class="dfn-paneled" data-dfn-for="BackgroundFetchRegistration" data-dfn-type="dfn" data-noexport id="backgroundfetchregistration-failure-reason">failure reason</dfn> (a <code class="idl"><a data-link-type="idl" href="#enumdef-backgroundfetchfailurereason" id="ref-for-enumdef-backgroundfetchfailurereason③">BackgroundFetchFailureReason</a></code>), initially a copy of <a data-link-type="dfn" href="#backgroundfetchregistration-background-fetch" id="ref-for-backgroundfetchregistration-background-fetch⑤">background fetch</a>'s <a data-link-type="dfn" href="#background-fetch-failure-reason" id="ref-for-background-fetch-failure-reason②">failure reason</a>.</p>
     <li data-md>
      <p>An <dfn class="dfn-paneled" data-dfn-for="BackgroundFetchRegistration" data-dfn-type="dfn" data-noexport id="backgroundfetchregistration-id">id</dfn> (a number), a copy of <a data-link-type="dfn" href="#backgroundfetchregistration-background-fetch" id="ref-for-backgroundfetchregistration-background-fetch⑥">background fetch</a>'s <a data-link-type="dfn" href="#background-fetch-id" id="ref-for-background-fetch-id③">id</a>.</p>
     <li data-md>
      <p>An <dfn class="dfn-paneled" data-dfn-for="BackgroundFetchRegistration" data-dfn-type="dfn" data-noexport id="backgroundfetchregistration-upload-total">upload total</dfn> (a number), a copy of <a data-link-type="dfn" href="#backgroundfetchregistration-background-fetch" id="ref-for-backgroundfetchregistration-background-fetch⑦">background fetch</a>'s <a data-link-type="dfn" href="#background-fetch-upload-total" id="ref-for-background-fetch-upload-total②">upload total</a>.</p>
     <li data-md>
      <p>A <dfn class="dfn-paneled" data-dfn-for="BackgroundFetchRegistration" data-dfn-type="dfn" data-noexport id="backgroundfetchregistration-download-total">download total</dfn> (a number), a copy of <a data-link-type="dfn" href="#backgroundfetchregistration-background-fetch" id="ref-for-backgroundfetchregistration-background-fetch⑧">background fetch</a>'s <a data-link-type="dfn" href="#background-fetch-download-total" id="ref-for-background-fetch-download-total③">download total</a>.</p>
     <li data-md>
      <p>A <dfn class="dfn-paneled" data-dfn-for="BackgroundFetchRegistration" data-dfn-type="dfn" data-noexport id="backgroundfetchregistration-records-available-flag">records available flag</dfn> initially set if <a data-link-type="dfn" href="#backgroundfetchregistration-background-fetch" id="ref-for-backgroundfetchregistration-background-fetch⑨">background fetch</a>'s <a data-link-type="dfn" href="#background-fetch-records-available-flag" id="ref-for-background-fetch-records-available-flag②">records available flag</a> is set, otherwise unset.</p>
    </ul>
    <p class="note" role="note"><span class="marker">Note:</span> The above values are copied so they’re available synchronously.</p>
    <p>The <dfn class="dfn-paneled idl-code" data-dfn-for="BackgroundFetchRegistration" data-dfn-type="attribute" data-export id="dom-backgroundfetchregistration-id"><code>id</code></dfn> attribute’s getter must return the <a data-link-type="dfn">context object</a>'s <a data-link-type="dfn" href="#backgroundfetchregistration-id" id="ref-for-backgroundfetchregistration-id">id</a>.</p>
    <p>The <dfn class="dfn-paneled idl-code" data-dfn-for="BackgroundFetchRegistration" data-dfn-type="attribute" data-export id="dom-backgroundfetchregistration-uploadtotal"><code>uploadTotal</code></dfn> attribute’s getter must return the <a data-link-type="dfn">context object</a>'s <a data-link-type="dfn" href="#backgroundfetchregistration-upload-total" id="ref-for-backgroundfetchregistration-upload-total">upload total</a>.</p>
    <p>The <dfn class="dfn-paneled idl-code" data-dfn-for="BackgroundFetchRegistration" data-dfn-type="attribute" data-export id="dom-backgroundfetchregistration-downloadtotal"><code>downloadTotal</code></dfn> attribute’s getter must return the <a data-link-type="dfn">context object</a>'s <a data-link-type="dfn" href="#backgroundfetchregistration-download-total" id="ref-for-backgroundfetchregistration-download-total">download total</a>.</p>
    <p>The <dfn class="dfn-paneled idl-code" data-dfn-for="BackgroundFetchRegistration" data-dfn-type="attribute" data-export id="dom-backgroundfetchregistration-uploaded"><code>uploaded</code></dfn> attribute’s getter must return the <a data-link-type="dfn">context object</a>'s <a data-link-type="dfn" href="#backgroundfetchregistration-uploaded" id="ref-for-backgroundfetchregistration-uploaded②">uploaded</a>.</p>
    <p>The <dfn class="dfn-paneled idl-code" data-dfn-for="BackgroundFetchRegistration" data-dfn-type="attribute" data-export id="dom-backgroundfetchregistration-downloaded"><code>downloaded</code></dfn> attribute’s getter must return the <a data-link-type="dfn">context object</a>'s <a data-link-type="dfn" href="#backgroundfetchregistration-downloaded" id="ref-for-backgroundfetchregistration-downloaded②">downloaded</a>.</p>
    <p>The <dfn class="dfn-paneled idl-code" data-dfn-for="BackgroundFetchRegistration" data-dfn-type="attribute" data-export id="dom-backgroundfetchregistration-result"><code>result</code></dfn> attribute’s getter must return the <a data-link-type="dfn">context object</a>'s <a data-link-type="dfn" href="#backgroundfetchregistration-result" id="ref-for-backgroundfetchregistration-result③">result</a>.</p>
    <p>The <dfn class="dfn-paneled idl-code" data-dfn-for="BackgroundFetchRegistration" data-dfn-type="attribute" data-export id="dom-backgroundfetchregistration-failurereason"><code>failureReason</code></dfn> attribute’s getter must return the <a data-link-type="dfn">context object</a>'s <a data-link-type="dfn" href="#backgroundfetchregistration-failure-reason" id="ref-for-backgroundfetchregistration-failure-reason②">failure reason</a>.</p>
    <p>The <dfn class="dfn-paneled idl-code" data-dfn-for="BackgroundFetchRegistration" data-dfn-type="attribute" data-export id="dom-backgroundfetchregistration-recordsavailable"><code>recordsAvailable</code></dfn> attribute’s getter must return true if the <a data-link-type="dfn">context object</a>'s <a data-link-type="dfn" href="#backgroundfetchregistration-records-available-flag" id="ref-for-backgroundfetchregistration-records-available-flag②">records available flag</a> is set, otherwise false.</p>
    <h4 class="heading settled" data-level="6.4.1" id="background-fetch-registration-events"><span class="secno">6.4.1. </span><span class="content">Events</span><a class="self-link" href="#background-fetch-registration-events"></a></h4>
    <p>The <dfn class="dfn-paneled idl-code" data-dfn-for="BackgroundFetchRegistration" data-dfn-type="attribute" data-export id="dom-backgroundfetchregistration-onprogress"><code>onprogress</code></dfn> <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#event-handlers" id="ref-for-event-handlers②">event handler</a> has the <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#event-handler-event-type" id="ref-for-event-handler-event-type②">event handler event type</a> of <code class="idl"><a class="idl-code" data-link-type="event" href="#eventdef-backgroundfetchregistration-progress" id="ref-for-eventdef-backgroundfetchregistration-progress①">progress</a></code>.</p>
    <p>The <dfn class="dfn-paneled idl-code" data-dfn-for="BackgroundFetchRegistration" data-dfn-type="event" data-export id="eventdef-backgroundfetchregistration-progress"><code>progress</code></dfn> event uses the <code class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#event" id="ref-for-event">Event</a></code> interface.</p>
    <h4 class="heading settled" data-level="6.4.2" id="background-fetch-registration-abort"><span class="secno">6.4.2. </span><span class="content"><code class="idl"><a data-link-type="idl" href="#dom-backgroundfetchregistration-abort" id="ref-for-dom-backgroundfetchregistration-abort③">abort()</a></code></span><a class="self-link" href="#background-fetch-registration-abort"></a></h4>
    <div class="algorithm" data-algorithm="abort()">
      The <dfn class="dfn-paneled idl-code" data-dfn-for="BackgroundFetchRegistration" data-dfn-type="method" data-export id="dom-backgroundfetchregistration-abort"><code>abort()</code></dfn> method, when invoked, must return <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#a-new-promise" id="ref-for-a-new-promise⑤">a new promise</a> <var>promise</var> and run these steps <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/infrastructure.html#in-parallel" id="ref-for-in-parallel⑨">in parallel</a>: 
     <ol>
      <li data-md>
       <p>Let <var>bgFetch</var> be the <a data-link-type="dfn">context object</a>'s associated <a data-link-type="dfn" href="#backgroundfetchregistration-background-fetch" id="ref-for-backgroundfetchregistration-background-fetch①⓪">background fetch</a>.</p>
      <li data-md>
       <p>Let <var>swRegistration</var> be <var>bgFetch</var>’s <a data-link-type="dfn" href="#background-fetch-service-worker-registration" id="ref-for-background-fetch-service-worker-registration⑤">service worker registration</a>.</p>
      <li data-md>
       <p><a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/infrastructure.html#enqueue-the-following-steps" id="ref-for-enqueue-the-following-steps④">Enqueue the following steps</a> to <var>swRegistration</var>’s <a data-link-type="dfn" href="#service-worker-registration-active-background-fetches-edit-queue" id="ref-for-service-worker-registration-active-background-fetches-edit-queue②">active background fetches edit queue</a>:</p>
       <ol>
        <li data-md>
         <p>Let <var>activeBgFetches</var> be <var>swRegistration</var>’s <a data-link-type="dfn" href="#service-worker-registration-active-background-fetches" id="ref-for-service-worker-registration-active-background-fetches④">active background fetches</a>.</p>
        <li data-md>
         <p>Let <var>id</var> be <var>bgFetch</var>’s <a data-link-type="dfn" href="#background-fetch-id" id="ref-for-background-fetch-id④">id</a>.</p>
        <li data-md>
         <p>If <var>activeBgFetches</var> <a data-link-type="dfn" href="#does-not-contain-background-fetch" id="ref-for-does-not-contain-background-fetch">does not contain background fetch</a> <var>bgFetch</var>, then <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#resolve" id="ref-for-resolve⑥">resolve</a> <var>promise</var> with false and abort these steps.</p>
        <li data-md>
         <p>Remove <var>activeBgFetches</var>[<var>id</var>].</p>
        <li data-md>
         <p><a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#resolve" id="ref-for-resolve⑦">Resolve</a> <var>promise</var> with true.</p>
        <li data-md>
         <p>Set <var>bgFetch</var>’s <a data-link-type="dfn" href="#background-fetch-abort-all-flag" id="ref-for-background-fetch-abort-all-flag⑤">abort all flag</a>.</p>
       </ol>
     </ol>
    </div>
    <h4 class="heading settled" data-level="6.4.3" id="background-fetch-registration-match"><span class="secno">6.4.3. </span><span class="content"><code class="idl"><a data-link-type="idl" href="#dom-backgroundfetchregistration-match" id="ref-for-dom-backgroundfetchregistration-match①">match()</a></code></span><a class="self-link" href="#background-fetch-registration-match"></a></h4>
    <div class="algorithm" data-algorithm="match(request, options)">
      The <dfn class="dfn-paneled idl-code" data-dfn-for="BackgroundFetchRegistration" data-dfn-type="method" data-export data-lt="match(request, options)|match(request)" id="dom-backgroundfetchregistration-match"><code>match(<var>request</var>, <var>options</var>)</code></dfn> method, when invoked, must run these steps: 
     <ol>
      <li data-md>
       <p>Let <var>promise</var> be the result of calling the algorithm <code class="idl"><a data-link-type="idl" href="#dom-backgroundfetchregistration-matchall" id="ref-for-dom-backgroundfetchregistration-matchall①">matchAll()</a></code> passing <var>request</var> and <var>options</var>.</p>
      <li data-md>
       <p>Return the result of <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#dfn-perform-steps-once-promise-is-settled" id="ref-for-dfn-perform-steps-once-promise-is-settled">reacting</a> to <var>promise</var> with a fulfilment handler that, when called with argument <var>matches</var>, returns <var>matches</var>[0].</p>
     </ol>
     <p class="note" role="note"><span class="marker">Note:</span> User agents are encouraged to optimise the above so it’s faster than calling <code class="idl"><a data-link-type="idl" href="#dom-backgroundfetchregistration-matchall" id="ref-for-dom-backgroundfetchregistration-matchall②">matchAll()</a></code>.</p>
    </div>
    <h4 class="heading settled" data-level="6.4.4" id="background-fetch-registration-match-all"><span class="secno">6.4.4. </span><span class="content"><code class="idl"><a data-link-type="idl" href="#dom-backgroundfetchregistration-matchall" id="ref-for-dom-backgroundfetchregistration-matchall③">matchAll()</a></code></span><a class="self-link" href="#background-fetch-registration-match-all"></a></h4>
    <div class="algorithm" data-algorithm="matchAll(request, options)">
      The <dfn class="dfn-paneled idl-code" data-dfn-for="BackgroundFetchRegistration" data-dfn-type="method" data-export data-lt="matchAll(request, options)|matchAll(request)|matchAll()" id="dom-backgroundfetchregistration-matchall"><code>matchAll(<var>request</var>, <var>options</var>)</code></dfn> method, when invoked, must run these steps: 
     <ol>
      <li data-md>
       <p>If the <a data-link-type="dfn">context object</a>'s <a data-link-type="dfn" href="#backgroundfetchregistration-records-available-flag" id="ref-for-backgroundfetchregistration-records-available-flag③">records available flag</a> is unset, return <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#a-promise-rejected-with" id="ref-for-a-promise-rejected-with③">a promise rejected with</a> an <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#invalidstateerror" id="ref-for-invalidstateerror">InvalidStateError</a></code> <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-DOMException" id="ref-for-idl-DOMException⑤">DOMException</a></code>.</p>
      <li data-md>
       <p>Let <var>promise</var> be <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#a-new-promise" id="ref-for-a-new-promise⑥">a new promise</a>.</p>
      <li data-md>
       <p>Run these steps <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/infrastructure.html#in-parallel" id="ref-for-in-parallel①⓪">in parallel</a>:</p>
       <ol>
        <li data-md>
         <p>Let <var>matchingRecords</var> be an empty <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list" id="ref-for-list⑥">list</a>.</p>
        <li data-md>
         <p>For each <var>record</var> of <a data-link-type="dfn">context object</a>'s <a data-link-type="dfn" href="#backgroundfetchregistration-background-fetch" id="ref-for-backgroundfetchregistration-background-fetch①①">background fetch</a>'s <a data-link-type="dfn" href="#background-fetch-records" id="ref-for-background-fetch-records⑤">records</a>:</p>
         <ol>
          <li data-md>
           <p>If <a data-link-type="dfn" href="https://w3c.github.io/ServiceWorker/#request-matches-cached-item" id="ref-for-request-matches-cached-item">request matches cached item</a> for <var>request</var>, <var>record</var>’s <a data-link-type="dfn" href="#background-fetch-record-request" id="ref-for-background-fetch-record-request④">request</a>, <var>record</var>’s <a data-link-type="dfn" href="#background-fetch-record-response-data" id="ref-for-background-fetch-record-response-data⑤">response data</a>'s <a data-link-type="dfn" href="#background-fetch-response-response" id="ref-for-background-fetch-response-response⑤">response</a>, and <var>options</var> returns true, then <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-append" id="ref-for-list-append②">append</a> <var>record</var> to <var>matchingRecords</var>.</p>
         </ol>
        <li data-md>
         <p><a data-link-type="dfn" href="#queue-a-bgfetch-task" id="ref-for-queue-a-bgfetch-task③">Queue a bgfetch task</a> to <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#resolve" id="ref-for-resolve⑧">resolve</a> <var>promise</var> with the result of <a data-link-type="dfn" href="#create-record-objects" id="ref-for-create-record-objects②">creating record objects</a> from <var>matchingRecords</var> in the <a data-link-type="dfn">context object</a>'s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-realm" id="ref-for-concept-relevant-realm⑥">relevant Realm</a>.</p>
       </ol>
      <li data-md>
       <p>Return <var>promise</var>.</p>
     </ol>
    </div>
   </div>
   <h3 class="heading settled" data-level="6.5" id="background-fetch-record-interface"><span class="secno">6.5. </span><span class="content"><code class="idl"><a data-link-type="idl" href="#backgroundfetchrecord" id="ref-for-backgroundfetchrecord③">BackgroundFetchRecord</a></code></span><a class="self-link" href="#background-fetch-record-interface"></a></h3>
<pre class="idl highlight def">[<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Exposed" id="ref-for-Exposed②"><c- g>Exposed</c-></a>=(<c- n>Window</c->,<c- n>Worker</c->)]
<c- b>interface</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="interface" data-export id="backgroundfetchrecord"><code><c- g>BackgroundFetchRecord</c-></code></dfn> {
  <c- b>readonly</c-> <c- b>attribute</c-> <a data-link-type="idl-name" href="https://fetch.spec.whatwg.org/#request" id="ref-for-request③"><c- n>Request</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="Request" href="#dom-backgroundfetchrecord-request" id="ref-for-dom-backgroundfetchrecord-request①"><c- g>request</c-></a>;
  <c- b>readonly</c-> <c- b>attribute</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise" id="ref-for-idl-promise⑥"><c- b>Promise</c-></a>&lt;<a data-link-type="idl-name" href="https://fetch.spec.whatwg.org/#response" id="ref-for-response②"><c- n>Response</c-></a>> <a class="idl-code" data-link-type="attribute" data-readonly data-type="Promise<Response>" href="#dom-backgroundfetchrecord-responseready" id="ref-for-dom-backgroundfetchrecord-responseready④"><c- g>responseReady</c-></a>;
};
</pre>
   <div>
     A <code class="idl"><a data-link-type="idl" href="#backgroundfetchrecord" id="ref-for-backgroundfetchrecord④">BackgroundFetchRecord</a></code> has: 
    <ul>
     <li data-md>
      <p>A <dfn class="dfn-paneled" data-dfn-for="BackgroundFetchRecord" data-dfn-type="dfn" data-noexport id="backgroundfetchrecord-request">request</dfn> (a <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-request" id="ref-for-concept-request②">request</a>).</p>
     <li data-md>
      <p>A <dfn class="dfn-paneled" data-dfn-for="BackgroundFetchRecord" data-dfn-type="dfn" data-noexport id="backgroundfetchrecord-response-promise">response promise</dfn> (a <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-promise" id="ref-for-idl-promise⑦">Promise</a></code> for a <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-response" id="ref-for-concept-response⑤">response</a>).</p>
    </ul>
    <p>The <dfn class="dfn-paneled idl-code" data-dfn-for="BackgroundFetchRecord" data-dfn-type="attribute" data-export id="dom-backgroundfetchrecord-request"><code>request</code></dfn> attribute’s getter must return the <a data-link-type="dfn">context object</a>'s <a data-link-type="dfn" href="#backgroundfetchrecord-request" id="ref-for-backgroundfetchrecord-request">request</a>.</p>
    <p>The <dfn class="dfn-paneled idl-code" data-dfn-for="BackgroundFetchRecord" data-dfn-type="attribute" data-export id="dom-backgroundfetchrecord-responseready"><code>responseReady</code></dfn> attribute’s getter must return the <a data-link-type="dfn">context object</a>'s <a data-link-type="dfn" href="#backgroundfetchrecord-response-promise" id="ref-for-backgroundfetchrecord-response-promise">response promise</a>.</p>
   </div>
   <h3 class="heading settled" data-level="6.6" id="background-fetch-event"><span class="secno">6.6. </span><span class="content"><code class="idl"><a data-link-type="idl" href="#backgroundfetchevent" id="ref-for-backgroundfetchevent④">BackgroundFetchEvent</a></code></span><a class="self-link" href="#background-fetch-event"></a></h3>
<pre class="idl highlight def">[<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Exposed" id="ref-for-Exposed③"><c- g>Exposed</c-></a>=<c- n>ServiceWorker</c->]
<c- b>interface</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="interface" data-export id="backgroundfetchevent"><code><c- g>BackgroundFetchEvent</c-></code></dfn> : <a data-link-type="idl-name" href="https://w3c.github.io/ServiceWorker/#extendableevent" id="ref-for-extendableevent"><c- n>ExtendableEvent</c-></a> {
  <dfn class="dfn-paneled idl-code" data-dfn-for="BackgroundFetchEvent" data-dfn-type="constructor" data-export data-lt="BackgroundFetchEvent(type, init)|constructor(type, init)" id="dom-backgroundfetchevent-backgroundfetchevent"><code><c- g>constructor</c-></code></dfn>(<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString" id="ref-for-idl-DOMString⑤"><c- b>DOMString</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="BackgroundFetchEvent/BackgroundFetchEvent(type, init), BackgroundFetchEvent/constructor(type, init)" data-dfn-type="argument" data-export id="dom-backgroundfetchevent-backgroundfetchevent-type-init-type"><code><c- g>type</c-></code></dfn>, <a data-link-type="idl-name" href="#dictdef-backgroundfetcheventinit" id="ref-for-dictdef-backgroundfetcheventinit"><c- n>BackgroundFetchEventInit</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="BackgroundFetchEvent/BackgroundFetchEvent(type, init), BackgroundFetchEvent/constructor(type, init)" data-dfn-type="argument" data-export id="dom-backgroundfetchevent-backgroundfetchevent-type-init-init"><code><c- g>init</c-></code></dfn>);
  <c- b>readonly</c-> <c- b>attribute</c-> <a data-link-type="idl-name" href="#backgroundfetchregistration" id="ref-for-backgroundfetchregistration⑨"><c- n>BackgroundFetchRegistration</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="BackgroundFetchRegistration" href="#dom-backgroundfetchevent-registration" id="ref-for-dom-backgroundfetchevent-registration②"><c- g>registration</c-></a>;
};

<c- b>dictionary</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="dictionary" data-export id="dictdef-backgroundfetcheventinit"><code><c- g>BackgroundFetchEventInit</c-></code></dfn> : <a data-link-type="idl-name" href="https://w3c.github.io/ServiceWorker/#dictdef-extendableeventinit" id="ref-for-dictdef-extendableeventinit"><c- n>ExtendableEventInit</c-></a> {
  <c- b>required</c-> <a data-link-type="idl-name" href="#backgroundfetchregistration" id="ref-for-backgroundfetchregistration①⓪"><c- n>BackgroundFetchRegistration</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="BackgroundFetchEventInit" data-dfn-type="dict-member" data-export data-type="BackgroundFetchRegistration" id="dom-backgroundfetcheventinit-registration"><code><c- g>registration</c-></code></dfn>;
};
</pre>
   <div>
     A <code class="idl"><a data-link-type="idl" href="#backgroundfetchevent" id="ref-for-backgroundfetchevent⑤">BackgroundFetchEvent</a></code> has a <dfn class="dfn-paneled" data-dfn-for="BackgroundFetchEvent" data-dfn-type="dfn" data-noexport id="backgroundfetchevent-background-fetch">background fetch</dfn> (a <a data-link-type="dfn" href="#background-fetch" id="ref-for-background-fetch①⑦">background fetch</a>), initially the <a data-link-type="dfn" href="#backgroundfetchregistration-background-fetch" id="ref-for-backgroundfetchregistration-background-fetch①②">background fetch</a> of the value <code class="idl"><a data-link-type="idl" href="#dom-backgroundfetchevent-registration" id="ref-for-dom-backgroundfetchevent-registration③">registration</a></code> was initialized to. 
    <p>The <dfn class="dfn-paneled idl-code" data-dfn-for="BackgroundFetchEvent" data-dfn-type="attribute" data-export id="dom-backgroundfetchevent-registration"><code>registration</code></dfn> attribute must return the value it was initialized to.</p>
   </div>
   <h3 class="heading settled" data-level="6.7" id="background-fetch-update-ui-event"><span class="secno">6.7. </span><span class="content"><code class="idl"><a data-link-type="idl" href="#backgroundfetchupdateuievent" id="ref-for-backgroundfetchupdateuievent④">BackgroundFetchUpdateUIEvent</a></code></span><a class="self-link" href="#background-fetch-update-ui-event"></a></h3>
<pre class="idl highlight def">[<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Exposed" id="ref-for-Exposed④"><c- g>Exposed</c-></a>=<c- n>ServiceWorker</c->]
<c- b>interface</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="interface" data-export id="backgroundfetchupdateuievent"><code><c- g>BackgroundFetchUpdateUIEvent</c-></code></dfn> : <a data-link-type="idl-name" href="#backgroundfetchevent" id="ref-for-backgroundfetchevent⑥"><c- n>BackgroundFetchEvent</c-></a> {
  <dfn class="dfn-paneled idl-code" data-dfn-for="BackgroundFetchUpdateUIEvent" data-dfn-type="constructor" data-export data-lt="BackgroundFetchUpdateUIEvent(type, init)|constructor(type, init)" id="dom-backgroundfetchupdateuievent-backgroundfetchupdateuievent"><code><c- g>constructor</c-></code></dfn>(<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString" id="ref-for-idl-DOMString⑥"><c- b>DOMString</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="BackgroundFetchUpdateUIEvent/BackgroundFetchUpdateUIEvent(type, init), BackgroundFetchUpdateUIEvent/constructor(type, init)" data-dfn-type="argument" data-export id="dom-backgroundfetchupdateuievent-backgroundfetchupdateuievent-type-init-type"><code><c- g>type</c-></code></dfn>, <a data-link-type="idl-name" href="#dictdef-backgroundfetcheventinit" id="ref-for-dictdef-backgroundfetcheventinit①"><c- n>BackgroundFetchEventInit</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="BackgroundFetchUpdateUIEvent/BackgroundFetchUpdateUIEvent(type, init), BackgroundFetchUpdateUIEvent/constructor(type, init)" data-dfn-type="argument" data-export id="dom-backgroundfetchupdateuievent-backgroundfetchupdateuievent-type-init-init"><code><c- g>init</c-></code></dfn>);
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise" id="ref-for-idl-promise⑧"><c- b>Promise</c-></a>&lt;<a data-link-type="idl-name"><c- n>void</c-></a>> <a class="idl-code" data-link-type="method" href="#dom-backgroundfetchupdateuievent-updateui" id="ref-for-dom-backgroundfetchupdateuievent-updateui"><c- g>updateUI</c-></a>(<c- b>optional</c-> <a data-link-type="idl-name" href="#dictdef-backgroundfetchuioptions" id="ref-for-dictdef-backgroundfetchuioptions①"><c- n>BackgroundFetchUIOptions</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="BackgroundFetchUpdateUIEvent/updateUI(options), BackgroundFetchUpdateUIEvent/updateUI()" data-dfn-type="argument" data-export id="dom-backgroundfetchupdateuievent-updateui-options-options"><code><c- g>options</c-></code></dfn> = {});
};
</pre>
   <div>
    <p>A <code class="idl"><a data-link-type="idl" href="#backgroundfetchupdateuievent" id="ref-for-backgroundfetchupdateuievent⑤">BackgroundFetchUpdateUIEvent</a></code> has an <dfn class="dfn-paneled" data-dfn-for="BackgroundFetchUpdateUIEvent" data-dfn-type="dfn" data-noexport id="backgroundfetchupdateuievent-ui-updated-flag">UI updated flag</dfn> which is initially unset.</p>
    <h4 class="heading settled" data-level="6.7.1" id="background-fetch-update-ui-event-update-ui"><span class="secno">6.7.1. </span><span class="content"><code class="idl"><a data-link-type="idl" href="#dom-backgroundfetchupdateuievent-updateui" id="ref-for-dom-backgroundfetchupdateuievent-updateui①">updateUI()</a></code></span><a class="self-link" href="#background-fetch-update-ui-event-update-ui"></a></h4>
    <div class="algorithm" data-algorithm="updateUI(options)">
      The <dfn class="dfn-paneled idl-code" data-dfn-for="BackgroundFetchUpdateUIEvent" data-dfn-type="method" data-export data-lt="updateUI(options)|updateUI()" id="dom-backgroundfetchupdateuievent-updateui"><code>updateUI(<var>options</var>)</code></dfn> method, when invoked, must return <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#a-new-promise" id="ref-for-a-new-promise⑦">a new promise</a> <var>promise</var> and run these steps <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/infrastructure.html#in-parallel" id="ref-for-in-parallel①①">in parallel</a>: 
     <ol>
      <li data-md>
       <p>If any of the following is true:</p>
       <ul>
        <li data-md>
         <p>The <a data-link-type="dfn">context object</a>'s <code class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#dom-event-istrusted" id="ref-for-dom-event-istrusted">isTrusted</a></code> attribute is false.</p>
        <li data-md>
         <p>The <a data-link-type="dfn">context object</a>'s <a data-link-type="dfn" href="#backgroundfetchupdateuievent-ui-updated-flag" id="ref-for-backgroundfetchupdateuievent-ui-updated-flag">UI updated flag</a> is set.</p>
        <li data-md>
         <p>The <a data-link-type="dfn">context object</a> is not <a data-link-type="dfn" href="https://w3c.github.io/ServiceWorker/#extendableevent-active" id="ref-for-extendableevent-active①">active</a>.</p>
         <p class="issue" id="issue-b420dc4f①"><a class="self-link" href="#issue-b420dc4f①"></a> <a href="https://github.com/w3c/ServiceWorker/pull/1348">ServiceWorker/1348</a>.</p>
       </ul>
       <p>Throw an <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#invalidstateerror" id="ref-for-invalidstateerror①">InvalidStateError</a></code> <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-DOMException" id="ref-for-idl-DOMException⑥">DOMException</a></code>.</p>
      <li data-md>
       <p>Set the <a data-link-type="dfn">context object</a>'s <a data-link-type="dfn" href="#backgroundfetchupdateuievent-ui-updated-flag" id="ref-for-backgroundfetchupdateuievent-ui-updated-flag①">UI updated flag</a>.</p>
      <li data-md>
       <p>If <var>options</var> is null, return.</p>
      <li data-md>
       <p>Let <var>bgFetch</var> be the <a data-link-type="dfn">context object</a>'s <a data-link-type="dfn" href="#backgroundfetchevent-background-fetch" id="ref-for-backgroundfetchevent-background-fetch">background fetch</a>.</p>
      <li data-md>
       <p>If <var>options</var>’s <code class="idl"><a data-link-type="idl" href="#dom-backgroundfetchuioptions-icons" id="ref-for-dom-backgroundfetchuioptions-icons">icons</a></code> member is present, set <var>bgFetch</var>’s <a data-link-type="dfn" href="#background-fetch-icons" id="ref-for-background-fetch-icons②">icons</a> to <var>options</var>’s <code class="idl"><a data-link-type="idl" href="#dom-backgroundfetchuioptions-icons" id="ref-for-dom-backgroundfetchuioptions-icons①">icons</a></code>.</p>
      <li data-md>
       <p>If <var>options</var>’s <code class="idl"><a data-link-type="idl" href="#dom-backgroundfetchuioptions-title" id="ref-for-dom-backgroundfetchuioptions-title">title</a></code> member is present, set <var>bgFetch</var>’s <a data-link-type="dfn" href="#background-fetch-title" id="ref-for-background-fetch-title②">title</a> to <var>options</var>’s <code class="idl"><a data-link-type="idl" href="#dom-backgroundfetchuioptions-title" id="ref-for-dom-backgroundfetchuioptions-title①">title</a></code>.</p>
      <li data-md>
       <p><a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#resolve" id="ref-for-resolve⑨">Resolve</a> <var>promise</var>.</p>
     </ol>
    </div>
   </div>
   <h2 class="heading settled" data-level="7" id="automation"><span class="secno">7. </span><span class="content">Automation</span><a class="self-link" href="#automation"></a></h2>
   <p>For the purposes of user-agent automation and application testing, this document defines the following <a data-link-type="dfn" href="https://w3c.github.io/webdriver/#dfn-extension-command" id="ref-for-dfn-extension-command">extension command</a> for the <a data-link-type="biblio" href="#biblio-webdriver" title="WebDriver">[WebDriver]</a> specification.</p>
   <h3 class="heading settled" data-level="7.1" id="automation-click"><span class="secno">7.1. </span><span class="content"><a data-link-type="dfn" href="#background-fetch-click" id="ref-for-background-fetch-click">Click</a></span><a class="self-link" href="#automation-click"></a></h3>
   <div class="algorithm" data-algorithm="background fetch click">
    <table>
     <tbody>
      <tr>
       <th><a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-request-method" id="ref-for-concept-request-method⑥">Method</a>
       <th><a data-link-type="dfn" href="https://w3c.github.io/webdriver/#dfn-extension-command-uri-template" id="ref-for-dfn-extension-command-uri-template">URI Template</a>
      <tr>
       <td>POST
       <td>/session/{session id}/backgroundfetch/{<var>id</var>}/click
    </table>
    <p>The <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="background-fetch-click">background fetch click</dfn> <a data-link-type="dfn" href="https://w3c.github.io/webdriver/#dfn-extension-command" id="ref-for-dfn-extension-command①">extension command</a> simulates the user activating the <a data-link-type="dfn" href="#background-fetch-display" id="ref-for-background-fetch-display②">display</a> of a <a data-link-type="dfn" href="#background-fetch" id="ref-for-background-fetch①⑧">background fetch</a>. The <a data-link-type="dfn" href="https://w3c.github.io/webdriver/#dfn-remote-end-steps" id="ref-for-dfn-remote-end-steps">remote end steps</a> are:</p>
    <ol>
     <li data-md>
      <p>If the <a data-link-type="dfn" href="https://w3c.github.io/webdriver/#dfn-current-top-level-browsing-context" id="ref-for-dfn-current-top-level-browsing-context">current top-level browsing context</a> is <a data-link-type="dfn" href="https://w3c.github.io/webdriver/#dfn-no-longer-open" id="ref-for-dfn-no-longer-open">no longer open</a>, then return a <a data-link-type="dfn" href="https://w3c.github.io/webdriver/#dfn-errors" id="ref-for-dfn-errors">WebDriver error</a> with <a data-link-type="dfn" href="https://w3c.github.io/webdriver/#dfn-error-code" id="ref-for-dfn-error-code">WebDriver error code</a> <a data-link-type="dfn" href="https://w3c.github.io/webdriver/#dfn-no-such-window" id="ref-for-dfn-no-such-window">no such window</a>.</p>
     <li data-md>
      <p>Let <var>pageURL</var> be the <a data-link-type="dfn" href="https://w3c.github.io/webdriver/#dfn-current-top-level-browsing-context" id="ref-for-dfn-current-top-level-browsing-context①">current top-level browsing context</a>'s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/document-sequences.html#nav-document" id="ref-for-nav-document">active document</a>'s <a data-link-type="dfn" href="https://dom.spec.whatwg.org/#concept-document-url" id="ref-for-concept-document-url">URL</a>.</p>
     <li data-md>
      <p>Let <var>swRegistration</var> be the <a data-link-type="dfn" href="https://w3c.github.io/ServiceWorker/#match-service-worker-registration" id="ref-for-match-service-worker-registration">matching service worker registration</a> for <var>pageURL</var>.</p>
     <li data-md>
      <p>If <var>swRegistration</var> is null, then return a <a data-link-type="dfn" href="https://w3c.github.io/webdriver/#dfn-errors" id="ref-for-dfn-errors①">WebDriver error</a> with <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-response-status" id="ref-for-concept-response-status⑥">status</a> <code>400</code> and JSON error code "<code>invalid service worker state</code>".</p>
     <li data-md>
      <p>Let <var>bgFetch</var> be the newest <a data-link-type="dfn" href="#background-fetch" id="ref-for-background-fetch①⑨">background fetch</a> with an <a data-link-type="dfn" href="#background-fetch-id" id="ref-for-background-fetch-id⑤">id</a> of <a data-link-type="dfn" href="https://w3c.github.io/webdriver/#dfn-url-variables" id="ref-for-dfn-url-variables">url variable</a> <var>id</var> and a <a data-link-type="dfn" href="#background-fetch-service-worker-registration" id="ref-for-background-fetch-service-worker-registration⑥">service worker registration</a> of <var>swRegistration</var>, or null if none exists.</p>
     <li data-md>
      <p>If <var>bgFetch</var> is null, then return a <a data-link-type="dfn" href="https://w3c.github.io/webdriver/#dfn-errors" id="ref-for-dfn-errors②">WebDriver error</a> with <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-response-status" id="ref-for-concept-response-status⑦">status</a> <code>404</code> and JSON error code "<code>background fetch not found</code>".</p>
     <li data-md>
      <p><a data-link-type="dfn" href="#fire-a-background-fetch-click-event" id="ref-for-fire-a-background-fetch-click-event②">Fire a background fetch click event</a> for <var>bgFetch</var>.</p>
     <li data-md>
      <p>Return <a data-link-type="dfn" href="https://w3c.github.io/webdriver/#dfn-success" id="ref-for-dfn-success">WebDriver success</a>.</p>
    </ol>
   </div>
   <h2 class="heading settled" data-level="8" id="privacy-and-bandwidth-use"><span class="secno">8. </span><span class="content">Privacy and bandwidth usage</span><a class="self-link" href="#privacy-and-bandwidth-use"></a></h2>
   <p>Fetches can be large and take a long time to complete. During this time the user will be fetching data from one or more servers. The user’s IP address, which may change during the operation, could be used to track the user’s location over time.</p>
   <p>To mitigate this, the steps for <a data-link-type="dfn" href="#background-fetch-display" id="ref-for-background-fetch-display③">displaying</a> a <a data-link-type="dfn" href="#background-fetch" id="ref-for-background-fetch②⓪">background fetch</a> require:</p>
   <ul>
    <li data-md>
     <p>Displaying the <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url-origin" id="ref-for-concept-url-origin②">origin</a> of the site making the fetch.</p>
    <li data-md>
     <p>The UI cannot be dismissed while the <a data-link-type="dfn" href="#background-fetch" id="ref-for-background-fetch②①">background fetch</a> is active.</p>
    <li data-md>
     <p>Allowing the operation to be easily aborted.</p>
    <li data-md>
     <p>Allowing the operation to start in a paused state, requiring user interaction to begin.</p>
   </ul>
   <p>The steps also allow a user agent to pause the <a data-link-type="dfn" href="#background-fetch" id="ref-for-background-fetch②②">background fetch</a> if the user is on a metered connection.</p>
   <p>All data stored is associated with a particular <a data-link-type="dfn" href="https://w3c.github.io/ServiceWorker/#dfn-service-worker-registration" id="ref-for-dfn-service-worker-registration④">service worker registration</a>. Clearing a <a data-link-type="dfn" href="https://w3c.github.io/ServiceWorker/#dfn-service-worker-registration" id="ref-for-dfn-service-worker-registration⑤">service worker registration</a> will clear all associated <a data-link-type="dfn" href="#background-fetch" id="ref-for-background-fetch②③">background fetches</a>.</p>
  </main>
  <div data-fill-with="conformance">
   <h2 class="no-ref no-num heading settled" id="w3c-conformance"><span class="content">Conformance</span><a class="self-link" href="#w3c-conformance"></a></h2>
   <h3 class="no-ref no-num heading settled" id="w3c-conventions"><span class="content">Document conventions</span><a class="self-link" href="#w3c-conventions"></a></h3>
   <p>Conformance requirements are expressed
    with a combination of descriptive assertions
    and RFC 2119 terminology.
    The key words “MUST”, “MUST NOT”, “REQUIRED”, “SHALL”, “SHALL NOT”, “SHOULD”, “SHOULD NOT”, “RECOMMENDED”, “MAY”, and “OPTIONAL”
    in the normative parts of this document
    are to be interpreted as described in RFC 2119.
    However, for readability,
    these words do not appear in all uppercase letters in this specification. </p>
   <p>All of the text of this specification is normative
    except sections explicitly marked as non-normative, examples, and notes. <a data-link-type="biblio" href="#biblio-rfc2119" title="Key words for use in RFCs to Indicate Requirement Levels">[RFC2119]</a> </p>
   <p>Examples in this specification are introduced with the words “for example”
    or are set apart from the normative text
    with <code>class="example"</code>,
    like this: </p>
   <div class="example" id="w3c-example">
    <a class="self-link" href="#w3c-example"></a> 
    <p>This is an example of an informative example. </p>
   </div>
   <p>Informative notes begin with the word “Note”
    and are set apart from the normative text
    with <code>class="note"</code>,
    like this: </p>
   <p class="note" role="note">Note, this is an informative note.</p>
  </div>
  <script src="https://www.w3.org/scripts/TR/2021/fixup.js"></script>
  <h2 class="no-num no-ref heading settled" id="index"><span class="content">Index</span><a class="self-link" href="#index"></a></h2>
  <h3 class="no-num no-ref heading settled" id="index-defined-here"><span class="content">Terms defined by this specification</span><a class="self-link" href="#index-defined-here"></a></h3>
  <ul class="index">
   <li>
    ""
    <ul>
     <li><a href="#dom-backgroundfetchfailurereason">enum-value for BackgroundFetchFailureReason</a><span>, in § 6.4</span>
     <li><a href="#dom-backgroundfetchresult">enum-value for BackgroundFetchResult</a><span>, in § 6.4</span>
    </ul>
   <li><a href="#dom-backgroundfetchregistration-abort">abort()</a><span>, in § 6.4.2</span>
   <li><a href="#background-fetch-abort-all-flag">abort all flag</a><span>, in § 3.2</span>
   <li><a href="#dom-backgroundfetchfailurereason-aborted">"aborted"</a><span>, in § 6.4</span>
   <li><a href="#service-worker-registration-active-background-fetches">Active background fetches</a><span>, in § 3.1</span>
   <li><a href="#service-worker-registration-active-background-fetches-edit-queue">active background fetches edit queue</a><span>, in § 3.1</span>
   <li>
    background fetch
    <ul>
     <li><a href="#background-fetch">definition of</a><span>, in § 3.2</span>
     <li><a href="#backgroundfetchevent-background-fetch">dfn for BackgroundFetchEvent</a><span>, in § 6.6</span>
     <li><a href="#backgroundfetchregistration-background-fetch">dfn for BackgroundFetchRegistration</a><span>, in § 6.4</span>
    </ul>
   <li><a href="#dom-serviceworkerregistration-backgroundfetch">backgroundFetch</a><span>, in § 6.2</span>
   <li><a href="#eventdef-serviceworkerglobalscope-backgroundfetchabort">backgroundfetchabort</a><span>, in § 6.1.1</span>
   <li><a href="#background-fetch-click">background fetch click</a><span>, in § 7.1</span>
   <li><a href="#eventdef-serviceworkerglobalscope-backgroundfetchclick">backgroundfetchclick</a><span>, in § 6.1.1</span>
   <li><a href="#backgroundfetchevent">BackgroundFetchEvent</a><span>, in § 6.6</span>
   <li><a href="#dictdef-backgroundfetcheventinit">BackgroundFetchEventInit</a><span>, in § 6.6</span>
   <li><a href="#dom-backgroundfetchevent-backgroundfetchevent">BackgroundFetchEvent(type, init)</a><span>, in § 6.6</span>
   <li><a href="#eventdef-serviceworkerglobalscope-backgroundfetchfail">backgroundfetchfail</a><span>, in § 6.1.1</span>
   <li><a href="#enumdef-backgroundfetchfailurereason">BackgroundFetchFailureReason</a><span>, in § 6.4</span>
   <li><a href="#serviceworkerregistration-background-fetch-manager">background fetch manager</a><span>, in § 6.2</span>
   <li><a href="#backgroundfetchmanager">BackgroundFetchManager</a><span>, in § 6.3</span>
   <li><a href="#dictdef-backgroundfetchoptions">BackgroundFetchOptions</a><span>, in § 6.3</span>
   <li><a href="#background-fetch-record">background fetch record</a><span>, in § 3.3</span>
   <li><a href="#backgroundfetchrecord">BackgroundFetchRecord</a><span>, in § 6.5</span>
   <li><a href="#backgroundfetchregistration">BackgroundFetchRegistration</a><span>, in § 6.4</span>
   <li><a href="#backgroundfetchmanager-backgroundfetchregistration-instances">BackgroundFetchRegistration instances</a><span>, in § 6.3</span>
   <li><a href="#background-fetch-response">Background fetch response</a><span>, in § 3.4</span>
   <li><a href="#enumdef-backgroundfetchresult">BackgroundFetchResult</a><span>, in § 6.4</span>
   <li><a href="#eventdef-serviceworkerglobalscope-backgroundfetchsuccess">backgroundfetchsuccess</a><span>, in § 6.1.1</span>
   <li><a href="#background-fetch-task-source">background fetch task source</a><span>, in § 3</span>
   <li><a href="#dictdef-backgroundfetchuioptions">BackgroundFetchUIOptions</a><span>, in § 6.3</span>
   <li><a href="#backgroundfetchupdateuievent">BackgroundFetchUpdateUIEvent</a><span>, in § 6.7</span>
   <li><a href="#dom-backgroundfetchupdateuievent-backgroundfetchupdateuievent">BackgroundFetchUpdateUIEvent(type, init)</a><span>, in § 6.7</span>
   <li><a href="#dom-backgroundfetchfailurereason-bad-status">"bad-status"</a><span>, in § 6.4</span>
   <li><a href="#background-fetch-response-bytes">Bytes</a><span>, in § 3.4</span>
   <li><a href="#complete-a-record">complete a record</a><span>, in § 4.2</span>
   <li>
    constructor(type, init)
    <ul>
     <li><a href="#dom-backgroundfetchevent-backgroundfetchevent">constructor for BackgroundFetchEvent</a><span>, in § 6.6</span>
     <li><a href="#dom-backgroundfetchupdateuievent-backgroundfetchupdateuievent">constructor for BackgroundFetchUpdateUIEvent</a><span>, in § 6.7</span>
    </ul>
   <li><a href="#contains-background-fetch">contains background fetch</a><span>, in § 4.9</span>
   <li><a href="#create-record-objects">create record objects</a><span>, in § 4.8</span>
   <li><a href="#create-record-objects">creating record objects</a><span>, in § 4.8</span>
   <li><a href="#background-fetch-display">display</a><span>, in § 3.2.1</span>
   <li><a href="#does-not-contain-background-fetch">does not contain background fetch</a><span>, in § 4.9</span>
   <li>
    downloaded
    <ul>
     <li><a href="#dom-backgroundfetchregistration-downloaded">attribute for BackgroundFetchRegistration</a><span>, in § 6.4</span>
     <li><a href="#backgroundfetchregistration-downloaded">dfn for BackgroundFetchRegistration</a><span>, in § 6.4</span>
    </ul>
   <li>
    download total
    <ul>
     <li><a href="#backgroundfetchregistration-download-total">dfn for BackgroundFetchRegistration</a><span>, in § 6.4</span>
     <li><a href="#background-fetch-download-total">dfn for background fetch</a><span>, in § 3.2</span>
    </ul>
   <li>
    downloadTotal
    <ul>
     <li><a href="#dom-backgroundfetchregistration-downloadtotal">attribute for BackgroundFetchRegistration</a><span>, in § 6.4</span>
     <li><a href="#dom-backgroundfetchoptions-downloadtotal">dict-member for BackgroundFetchOptions</a><span>, in § 6.3</span>
    </ul>
   <li><a href="#dom-backgroundfetchfailurereason-download-total-exceeded">"download-total-exceeded"</a><span>, in § 6.4</span>
   <li><a href="#background-fetch-response-exposed">exposed</a><span>, in § 3.4</span>
   <li><a href="#extract-content-range-values">extract content-range values</a><span>, in § 4.7</span>
   <li><a href="#extract-content-range-values">extracting content-range values</a><span>, in § 4.7</span>
   <li><a href="#dom-backgroundfetchresult-failure">"failure"</a><span>, in § 6.4</span>
   <li>
    failure reason
    <ul>
     <li><a href="#backgroundfetchregistration-failure-reason">dfn for BackgroundFetchRegistration</a><span>, in § 6.4</span>
     <li><a href="#background-fetch-failure-reason">dfn for background fetch</a><span>, in § 3.2</span>
    </ul>
   <li><a href="#dom-backgroundfetchregistration-failurereason">failureReason</a><span>, in § 6.4</span>
   <li><a href="#dom-backgroundfetchfailurereason-fetch-error">"fetch-error"</a><span>, in § 6.4</span>
   <li><a href="#dom-backgroundfetchmanager-fetch">fetch(id, requests)</a><span>, in § 6.3.1</span>
   <li><a href="#dom-backgroundfetchmanager-fetch">fetch(id, requests, options)</a><span>, in § 6.3.1</span>
   <li><a href="#fire-a-background-fetch-click-event">fire a background fetch click event</a><span>, in § 4.4</span>
   <li><a href="#get-a-backgroundfetchregistration-instance">get a BackgroundFetchRegistration instance</a><span>, in § 4.5</span>
   <li><a href="#dom-backgroundfetchmanager-get">get(id)</a><span>, in § 6.3.2</span>
   <li><a href="#dom-backgroundfetchmanager-getids">getIds()</a><span>, in § 6.3.3</span>
   <li><a href="#get-a-backgroundfetchregistration-instance">getting a BackgroundFetchRegistration instance</a><span>, in § 4.5</span>
   <li><a href="#background-fetch-icons">Icons</a><span>, in § 3.2</span>
   <li><a href="#dom-backgroundfetchuioptions-icons">icons</a><span>, in § 6.3</span>
   <li>
    id
    <ul>
     <li><a href="#dom-backgroundfetchregistration-id">attribute for BackgroundFetchRegistration</a><span>, in § 6.4</span>
     <li><a href="#backgroundfetchregistration-id">dfn for BackgroundFetchRegistration</a><span>, in § 6.4</span>
     <li><a href="#background-fetch-id">dfn for background fetch</a><span>, in § 3.2</span>
    </ul>
   <li><a href="#dom-backgroundfetchregistration-matchall">matchAll()</a><span>, in § 6.4.4</span>
   <li><a href="#dom-backgroundfetchregistration-matchall">matchAll(request)</a><span>, in § 6.4.4</span>
   <li><a href="#dom-backgroundfetchregistration-matchall">matchAll(request, options)</a><span>, in § 6.4.4</span>
   <li><a href="#dom-backgroundfetchregistration-match">match(request)</a><span>, in § 6.4.3</span>
   <li><a href="#dom-backgroundfetchregistration-match">match(request, options)</a><span>, in § 6.4.3</span>
   <li><a href="#dom-serviceworkerglobalscope-onbackgroundfetchabort">onbackgroundfetchabort</a><span>, in § 6.1</span>
   <li><a href="#dom-serviceworkerglobalscope-onbackgroundfetchclick">onbackgroundfetchclick</a><span>, in § 6.1</span>
   <li><a href="#dom-serviceworkerglobalscope-onbackgroundfetchfail">onbackgroundfetchfail</a><span>, in § 6.1</span>
   <li><a href="#dom-serviceworkerglobalscope-onbackgroundfetchsuccess">onbackgroundfetchsuccess</a><span>, in § 6.1</span>
   <li><a href="#dom-backgroundfetchregistration-onprogress">onprogress</a><span>, in § 6.4.1</span>
   <li><a href="#background-fetch-paused-flag">paused flag</a><span>, in § 3.2</span>
   <li><a href="#perform-a-background-fetch">perform a background fetch</a><span>, in § 4.1</span>
   <li><a href="#eventdef-backgroundfetchregistration-progress">progress</a><span>, in § 6.4.1</span>
   <li><a href="#queue-a-bgfetch-task">queue a bgfetch task</a><span>, in § 3</span>
   <li><a href="#dom-backgroundfetchfailurereason-quota-exceeded">"quota-exceeded"</a><span>, in § 6.4</span>
   <li><a href="#background-fetch-records">Records</a><span>, in § 3.2</span>
   <li><a href="#dom-backgroundfetchregistration-recordsavailable">recordsAvailable</a><span>, in § 6.4</span>
   <li>
    records available flag
    <ul>
     <li><a href="#backgroundfetchregistration-records-available-flag">dfn for BackgroundFetchRegistration</a><span>, in § 6.4</span>
     <li><a href="#background-fetch-records-available-flag">dfn for background fetch</a><span>, in § 3.2</span>
    </ul>
   <li>
    registration
    <ul>
     <li><a href="#dom-backgroundfetchevent-registration">attribute for BackgroundFetchEvent</a><span>, in § 6.6</span>
     <li><a href="#dom-backgroundfetcheventinit-registration">dict-member for BackgroundFetchEventInit</a><span>, in § 6.6</span>
    </ul>
   <li>
    request
    <ul>
     <li><a href="#dom-backgroundfetchrecord-request">attribute for BackgroundFetchRecord</a><span>, in § 6.5</span>
     <li><a href="#backgroundfetchrecord-request">dfn for BackgroundFetchRecord</a><span>, in § 6.5</span>
     <li><a href="#background-fetch-record-request">dfn for background fetch record</a><span>, in § 3.3</span>
    </ul>
   <li><a href="#background-fetch-response-response">response</a><span>, in § 3.4</span>
   <li><a href="#background-fetch-record-response-data">response data</a><span>, in § 3.3</span>
   <li><a href="#backgroundfetchrecord-response-promise">response promise</a><span>, in § 6.5</span>
   <li><a href="#dom-backgroundfetchrecord-responseready">responseReady</a><span>, in § 6.5</span>
   <li>
    result
    <ul>
     <li><a href="#dom-backgroundfetchregistration-result">attribute for BackgroundFetchRegistration</a><span>, in § 6.4</span>
     <li><a href="#backgroundfetchregistration-result">dfn for BackgroundFetchRegistration</a><span>, in § 6.4</span>
     <li><a href="#background-fetch-result">dfn for background fetch</a><span>, in § 3.2</span>
     <li><a href="#background-fetch-response-result">dfn for background fetch response</a><span>, in § 3.4</span>
    </ul>
   <li>
    service worker registration
    <ul>
     <li><a href="#backgroundfetchmanager-service-worker-registration">dfn for BackgroundFetchManager</a><span>, in § 6.3</span>
     <li><a href="#background-fetch-service-worker-registration">dfn for background fetch</a><span>, in § 3.2</span>
    </ul>
   <li><a href="#single-byte-content-range">single byte content-range</a><span>, in § 5</span>
   <li><a href="#background-fetch-stored-body-bytes-total">stored body bytes total</a><span>, in § 3.2</span>
   <li><a href="#dom-backgroundfetchresult-success">"success"</a><span>, in § 6.4</span>
   <li><a href="#temporarily-unavailable">temporarily unavailable</a><span>, in § 3</span>
   <li>
    title
    <ul>
     <li><a href="#background-fetch-title">dfn for background fetch</a><span>, in § 3.2</span>
     <li><a href="#dom-backgroundfetchuioptions-title">dict-member for BackgroundFetchUIOptions</a><span>, in § 6.3</span>
    </ul>
   <li><a href="#backgroundfetchupdateuievent-ui-updated-flag">UI updated flag</a><span>, in § 6.7</span>
   <li><a href="#update-background-fetch-instances">update background fetch instances</a><span>, in § 4.3</span>
   <li><a href="#background-fetch-update-handling-queue">update handling queue</a><span>, in § 3.2</span>
   <li><a href="#dom-backgroundfetchupdateuievent-updateui">updateUI()</a><span>, in § 6.7.1</span>
   <li><a href="#dom-backgroundfetchupdateuievent-updateui">updateUI(options)</a><span>, in § 6.7.1</span>
   <li>
    uploaded
    <ul>
     <li><a href="#dom-backgroundfetchregistration-uploaded">attribute for BackgroundFetchRegistration</a><span>, in § 6.4</span>
     <li><a href="#backgroundfetchregistration-uploaded">dfn for BackgroundFetchRegistration</a><span>, in § 6.4</span>
     <li><a href="#background-fetch-uploaded">dfn for background fetch</a><span>, in § 3.2</span>
    </ul>
   <li>
    upload total
    <ul>
     <li><a href="#backgroundfetchregistration-upload-total">dfn for BackgroundFetchRegistration</a><span>, in § 6.4</span>
     <li><a href="#background-fetch-upload-total">dfn for background fetch</a><span>, in § 3.2</span>
    </ul>
   <li><a href="#dom-backgroundfetchregistration-uploadtotal">uploadTotal</a><span>, in § 6.4</span>
   <li><a href="#validate-a-partial-response">validate a partial response</a><span>, in § 4.6</span>
  </ul>
  <h3 class="no-num no-ref heading settled" id="index-defined-elsewhere"><span class="content">Terms defined by reference</span><a class="self-link" href="#index-defined-elsewhere"></a></h3>
  <ul class="index">
   <li>
    <a data-link-type="biblio">[]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="ea82f84e">http abnf</span>
    </ul>
   <li>
    <a data-link-type="biblio">[DOM]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="129bdae8">Event</span>
     <li><span class="dfn-paneled" id="2bc0cdf4">EventTarget</span>
     <li><span class="dfn-paneled" id="5fd23811">fire an event</span>
     <li><span class="dfn-paneled" id="838900a7">isTrusted</span>
     <li><span class="dfn-paneled" id="347e8fe9">url</span>
    </ul>
   <li>
    <a data-link-type="biblio">[ECMASCRIPT]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="db6dbae4">realm</span>
    </ul>
   <li>
    <a data-link-type="biblio">[FETCH]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="e806d5a8">Headers</span>
     <li><span class="dfn-paneled" id="f9da6f1f">Request</span>
     <li><span class="dfn-paneled" id="8ba500d2">RequestInfo</span>
     <li><span class="dfn-paneled" id="08a12aad">Response</span>
     <li><span class="dfn-paneled" id="546da218">aborted network error</span>
     <li><span class="dfn-paneled" id="243ca234">add a range header</span>
     <li><span class="dfn-paneled" id="644cb530">body</span>
     <li><span class="dfn-paneled" id="8e9945a0">body <small>(for request)</small></span>
     <li><span class="dfn-paneled" id="81a76425">body <small>(for response)</small></span>
     <li><span class="dfn-paneled" id="857d5516">client</span>
     <li><span class="dfn-paneled" id="0a52a8b4">combine</span>
     <li><span class="dfn-paneled" id="d5434eef">contains</span>
     <li><span class="dfn-paneled" id="902380f7">credentials mode</span>
     <li><span class="dfn-paneled" id="ee95ecc7">delete</span>
     <li><span class="dfn-paneled" id="3ae34c95">destination</span>
     <li><span class="dfn-paneled" id="a33db89a">fetch</span>
     <li><span class="dfn-paneled" id="c9e7c11a">header</span>
     <li><span class="dfn-paneled" id="6ee0eab1">header list <small>(for request)</small></span>
     <li><span class="dfn-paneled" id="f7b00a8b">header list <small>(for response)</small></span>
     <li><span class="dfn-paneled" id="27b1a771">headers <small>(for Request)</small></span>
     <li><span class="dfn-paneled" id="145db468">headers <small>(for Response)</small></span>
     <li><span class="dfn-paneled" id="50b05fad">method</span>
     <li><span class="dfn-paneled" id="cb98f71f">mode</span>
     <li><span class="dfn-paneled" id="4b84a0bc">name</span>
     <li><span class="dfn-paneled" id="eb1b1af3">network error</span>
     <li><span class="dfn-paneled" id="a27468c5">ok status</span>
     <li><span class="dfn-paneled" id="55213b5b">request</span>
     <li><span class="dfn-paneled" id="162d2b51">request <small>(for Request)</small></span>
     <li><span class="dfn-paneled" id="ee7bba09">response</span>
     <li><span class="dfn-paneled" id="e3201629">response <small>(for Response)</small></span>
     <li><span class="dfn-paneled" id="6d1db60d">service-workers mode</span>
     <li><span class="dfn-paneled" id="a1d47575">status</span>
     <li><span class="dfn-paneled" id="db8aa4d8">stream</span>
     <li><span class="dfn-paneled" id="dc1cd39b">url</span>
     <li><span class="dfn-paneled" id="8a608b90">value</span>
    </ul>
   <li>
    <a data-link-type="biblio">[HTML]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="f0951476">EventHandler</span>
     <li><span class="dfn-paneled" id="35972864">active document</span>
     <li><span class="dfn-paneled" id="102df61f">enqueue the following steps</span>
     <li><span class="dfn-paneled" id="3e12e042">environment settings object</span>
     <li><span class="dfn-paneled" id="6a5a59a0">event handler</span>
     <li><span class="dfn-paneled" id="9d386f55">event handler event type</span>
     <li><span class="dfn-paneled" id="03675365">event handler idl attribute</span>
     <li><span class="dfn-paneled" id="b78d6a64">event loop</span>
     <li><span class="dfn-paneled" id="a72449dd">in parallel</span>
     <li><span class="dfn-paneled" id="b6ae4501">networking task source</span>
     <li><span class="dfn-paneled" id="43ac8374">origin</span>
     <li><span class="dfn-paneled" id="7de33c29">parallel queue</span>
     <li><span class="dfn-paneled" id="9a517a7d">queue a task</span>
     <li><span class="dfn-paneled" id="5991ccfb">relevant realm</span>
     <li><span class="dfn-paneled" id="9c4c1e66">relevant settings object</span>
     <li><span class="dfn-paneled" id="e3288657">responsible event loop</span>
     <li><span class="dfn-paneled" id="8219d486">starting a new parallel queue</span>
     <li><span class="dfn-paneled" id="c3b2d08c">task source</span>
    </ul>
   <li>
    <a data-link-type="biblio">[IMAGE-RESOURCE]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="ce860b8c">ImageResource</span>
     <li><span class="dfn-paneled" id="b864ab71">image resource</span>
     <li><span class="dfn-paneled" id="87c74de0">processing</span>
     <li><span class="dfn-paneled" id="4076459f">src</span>
    </ul>
   <li>
    <a data-link-type="biblio">[INFRA]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="1adcc035">abort when</span>
     <li><span class="dfn-paneled" id="53275e46">append</span>
     <li><span class="dfn-paneled" id="3de9e659">byte sequence</span>
     <li><span class="dfn-paneled" id="970896d2">byte-case-insensitive</span>
     <li><span class="dfn-paneled" id="f937b7b6">continue</span>
     <li><span class="dfn-paneled" id="03afaf9c">empty</span>
     <li><span class="dfn-paneled" id="1243a891">exist</span>
     <li><span class="dfn-paneled" id="16d07e10">for each</span>
     <li><span class="dfn-paneled" id="0850796c">getting the keys</span>
     <li><span class="dfn-paneled" id="715f22e4">if aborted</span>
     <li><span class="dfn-paneled" id="36333997">length</span>
     <li><span class="dfn-paneled" id="649608b9">list</span>
     <li><span class="dfn-paneled" id="3fca5a9e">map</span>
     <li><span class="dfn-paneled" id="0204d188">size</span>
    </ul>
   <li>
    <a data-link-type="biblio">[PERMISSIONS]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="ebb01253">PermissionDescriptor</span>
     <li><span class="dfn-paneled" id="0310eecd">name</span>
     <li><span class="dfn-paneled" id="123576dd">new information about the user's intent</span>
     <li><span class="dfn-paneled" id="d124397f">permission state</span>
    </ul>
   <li>
    <a data-link-type="biblio">[SERVICE-WORKERS]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="3326d984">CacheQueryOptions</span>
     <li><span class="dfn-paneled" id="76b107de">ExtendableEvent</span>
     <li><span class="dfn-paneled" id="5ceafb9f">ExtendableEventInit</span>
     <li><span class="dfn-paneled" id="1968aaab">ServiceWorker</span>
     <li><span class="dfn-paneled" id="86d2a717">ServiceWorkerGlobalScope</span>
     <li><span class="dfn-paneled" id="a51ea74c">ServiceWorkerRegistration</span>
     <li><span class="dfn-paneled" id="e2a51d55">active</span>
     <li><span class="dfn-paneled" id="5102209a">active worker</span>
     <li><span class="dfn-paneled" id="d2763ae9">fire a functional event</span>
     <li><span class="dfn-paneled" id="a5d528b5">match service worker registration</span>
     <li><span class="dfn-paneled" id="3699d7e6">request matches cached item</span>
     <li><span class="dfn-paneled" id="fc627dec">scope url</span>
     <li><span class="dfn-paneled" id="c60ed63a">service worker</span>
     <li><span class="dfn-paneled" id="02406c7f">service worker registration</span>
     <li><span class="dfn-paneled" id="e16711bc">waitUntil(f)</span>
    </ul>
   <li>
    <a data-link-type="biblio">[STREAMS]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="e3e2d506">cancel</span>
     <li><span class="dfn-paneled" id="b3cf1c94">close</span>
     <li><span class="dfn-paneled" id="6b6bb798">enqueue</span>
     <li><span class="dfn-paneled" id="3bd18bd6">error</span>
     <li><span class="dfn-paneled" id="41d0ebd7">errored</span>
     <li><span class="dfn-paneled" id="45e5c0e5">readable</span>
    </ul>
   <li>
    <a data-link-type="biblio">[URL]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="959ad97b">origin</span>
    </ul>
   <li>
    <a data-link-type="biblio">[WebDriver]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="1d6fcc5b">current top-level browsing context</span>
     <li><span class="dfn-paneled" id="bc7f2174">extension command</span>
     <li><span class="dfn-paneled" id="040c67fa">extension command uri template</span>
     <li><span class="dfn-paneled" id="b20e0377">no longer open</span>
     <li><span class="dfn-paneled" id="a1894061">no such window</span>
     <li><span class="dfn-paneled" id="82c23298">remote end steps</span>
     <li><span class="dfn-paneled" id="87236d2b">url variable</span>
     <li><span class="dfn-paneled" id="b3142fb3">webdriver error</span>
     <li><span class="dfn-paneled" id="7482107b">webdriver error code</span>
     <li><span class="dfn-paneled" id="df733259">webdriver success</span>
    </ul>
   <li>
    <a data-link-type="biblio">[WEBIDL]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="d25dfb2c">AbortError</span>
     <li><span class="dfn-paneled" id="2f8afbfe">ArrayBuffer</span>
     <li><span class="dfn-paneled" id="dca2de17">DOMException</span>
     <li><span class="dfn-paneled" id="8855a9aa">DOMString</span>
     <li><span class="dfn-paneled" id="889e932f">Exposed</span>
     <li><span class="dfn-paneled" id="797018a7">InvalidStateError</span>
     <li><span class="dfn-paneled" id="ba556545">NotAllowedError</span>
     <li><span class="dfn-paneled" id="bdbd19d1">Promise</span>
     <li><span class="dfn-paneled" id="5e129c74">QuotaExceededError</span>
     <li><span class="dfn-paneled" id="82ca3efc">TypeError</span>
     <li><span class="dfn-paneled" id="95d7775a">Uint8Array</span>
     <li><span class="dfn-paneled" id="dacde8b5">a new promise</span>
     <li><span class="dfn-paneled" id="d0b4a948">a promise rejected with</span>
     <li><span class="dfn-paneled" id="5372cca8">boolean</span>
     <li><span class="dfn-paneled" id="116848ac">reacting</span>
     <li><span class="dfn-paneled" id="b262501e">reject</span>
     <li><span class="dfn-paneled" id="3b90bdcd">resolve</span>
     <li><span class="dfn-paneled" id="9cce47fd">sequence</span>
     <li><span class="dfn-paneled" id="f14b47b8">unsigned long long</span>
    </ul>
  </ul>
  <h2 class="no-num no-ref heading settled" id="references"><span class="content">References</span><a class="self-link" href="#references"></a></h2>
  <h3 class="no-num no-ref heading settled" id="normative"><span class="content">Normative References</span><a class="self-link" href="#normative"></a></h3>
  <dl>
   <dt id="biblio-dom">[DOM]
   <dd>Anne van Kesteren. <a href="https://dom.spec.whatwg.org/"><cite>DOM Standard</cite></a>. Living Standard. URL: <a href="https://dom.spec.whatwg.org/">https://dom.spec.whatwg.org/</a>
   <dt id="biblio-ecmascript">[ECMASCRIPT]
   <dd><a href="https://tc39.es/ecma262/multipage/"><cite>ECMAScript Language Specification</cite></a>. URL: <a href="https://tc39.es/ecma262/multipage/">https://tc39.es/ecma262/multipage/</a>
   <dt id="biblio-fetch">[FETCH]
   <dd>Anne van Kesteren. <a href="https://fetch.spec.whatwg.org/"><cite>Fetch Standard</cite></a>. Living Standard. URL: <a href="https://fetch.spec.whatwg.org/">https://fetch.spec.whatwg.org/</a>
   <dt id="biblio-html">[HTML]
   <dd>Anne van Kesteren; et al. <a href="https://html.spec.whatwg.org/multipage/"><cite>HTML Standard</cite></a>. Living Standard. URL: <a href="https://html.spec.whatwg.org/multipage/">https://html.spec.whatwg.org/multipage/</a>
   <dt id="biblio-image-resource">[IMAGE-RESOURCE]
   <dd>Aaron Gustafson; Rayan Kanso; Marcos Caceres. <a href="https://w3c.github.io/image-resource/"><cite>Image Resource</cite></a>. URL: <a href="https://w3c.github.io/image-resource/">https://w3c.github.io/image-resource/</a>
   <dt id="biblio-infra">[INFRA]
   <dd>Anne van Kesteren; Domenic Denicola. <a href="https://infra.spec.whatwg.org/"><cite>Infra Standard</cite></a>. Living Standard. URL: <a href="https://infra.spec.whatwg.org/">https://infra.spec.whatwg.org/</a>
   <dt id="biblio-permissions">[PERMISSIONS]
   <dd>Marcos Caceres; Mike Taylor. <a href="https://w3c.github.io/permissions/"><cite>Permissions</cite></a>. URL: <a href="https://w3c.github.io/permissions/">https://w3c.github.io/permissions/</a>
   <dt id="biblio-rfc2119">[RFC2119]
   <dd>S. Bradner. <a href="https://datatracker.ietf.org/doc/html/rfc2119"><cite>Key words for use in RFCs to Indicate Requirement Levels</cite></a>. March 1997. Best Current Practice. URL: <a href="https://datatracker.ietf.org/doc/html/rfc2119">https://datatracker.ietf.org/doc/html/rfc2119</a>
   <dt id="biblio-service-workers">[SERVICE-WORKERS]
   <dd>Jake Archibald; Marijn Kruisselbrink. <a href="https://w3c.github.io/ServiceWorker/"><cite>Service Workers</cite></a>. URL: <a href="https://w3c.github.io/ServiceWorker/">https://w3c.github.io/ServiceWorker/</a>
   <dt id="biblio-streams">[STREAMS]
   <dd>Adam Rice; et al. <a href="https://streams.spec.whatwg.org/"><cite>Streams Standard</cite></a>. Living Standard. URL: <a href="https://streams.spec.whatwg.org/">https://streams.spec.whatwg.org/</a>
   <dt id="biblio-url">[URL]
   <dd>Anne van Kesteren. <a href="https://url.spec.whatwg.org/"><cite>URL Standard</cite></a>. Living Standard. URL: <a href="https://url.spec.whatwg.org/">https://url.spec.whatwg.org/</a>
   <dt id="biblio-webdriver">[WebDriver]
   <dd>Simon Stewart; David Burns. <a href="https://w3c.github.io/webdriver/"><cite>WebDriver</cite></a>. URL: <a href="https://w3c.github.io/webdriver/">https://w3c.github.io/webdriver/</a>
   <dt id="biblio-webidl">[WEBIDL]
   <dd>Edgar Chen; Timothy Gu. <a href="https://webidl.spec.whatwg.org/"><cite>Web IDL Standard</cite></a>. Living Standard. URL: <a href="https://webidl.spec.whatwg.org/">https://webidl.spec.whatwg.org/</a>
  </dl>
  <h2 class="no-num no-ref heading settled" id="idl-index"><span class="content">IDL Index</span><a class="self-link" href="#idl-index"></a></h2>
<pre class="idl highlight def"><c- b>partial</c-> <c- b>interface</c-> <a class="idl-code" data-link-type="interface" href="https://w3c.github.io/ServiceWorker/#serviceworkerglobalscope"><c- g>ServiceWorkerGlobalScope</c-></a> {
  <c- b>attribute</c-> <a data-link-type="idl-name" href="https://html.spec.whatwg.org/multipage/webappapis.html#eventhandler"><c- n>EventHandler</c-></a> <a data-type="EventHandler" href="#dom-serviceworkerglobalscope-onbackgroundfetchsuccess"><code><c- g>onbackgroundfetchsuccess</c-></code></a>;
  <c- b>attribute</c-> <a data-link-type="idl-name" href="https://html.spec.whatwg.org/multipage/webappapis.html#eventhandler"><c- n>EventHandler</c-></a> <a data-type="EventHandler" href="#dom-serviceworkerglobalscope-onbackgroundfetchfail"><code><c- g>onbackgroundfetchfail</c-></code></a>;
  <c- b>attribute</c-> <a data-link-type="idl-name" href="https://html.spec.whatwg.org/multipage/webappapis.html#eventhandler"><c- n>EventHandler</c-></a> <a data-type="EventHandler" href="#dom-serviceworkerglobalscope-onbackgroundfetchabort"><code><c- g>onbackgroundfetchabort</c-></code></a>;
  <c- b>attribute</c-> <a data-link-type="idl-name" href="https://html.spec.whatwg.org/multipage/webappapis.html#eventhandler"><c- n>EventHandler</c-></a> <a data-type="EventHandler" href="#dom-serviceworkerglobalscope-onbackgroundfetchclick"><code><c- g>onbackgroundfetchclick</c-></code></a>;
};

<c- b>partial</c-> <c- b>interface</c-> <a class="idl-code" data-link-type="interface" href="https://w3c.github.io/ServiceWorker/#serviceworkerregistration"><c- g>ServiceWorkerRegistration</c-></a> {
  <c- b>readonly</c-> <c- b>attribute</c-> <a data-link-type="idl-name" href="#backgroundfetchmanager"><c- n>BackgroundFetchManager</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="BackgroundFetchManager" href="#dom-serviceworkerregistration-backgroundfetch"><c- g>backgroundFetch</c-></a>;
};

[<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Exposed"><c- g>Exposed</c-></a>=(<c- n>Window</c->,<c- n>Worker</c->)]
<c- b>interface</c-> <a href="#backgroundfetchmanager"><code><c- g>BackgroundFetchManager</c-></code></a> {
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise"><c- b>Promise</c-></a>&lt;<a data-link-type="idl-name" href="#backgroundfetchregistration"><c- n>BackgroundFetchRegistration</c-></a>> <a class="idl-code" data-link-type="method" href="#dom-backgroundfetchmanager-fetch"><c- g>fetch</c-></a>(<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString"><c- b>DOMString</c-></a> <a href="#dom-backgroundfetchmanager-fetch-id-requests-options-id"><code><c- g>id</c-></code></a>, (<a data-link-type="idl-name" href="https://fetch.spec.whatwg.org/#requestinfo"><c- n>RequestInfo</c-></a> <c- b>or</c-> <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#idl-sequence"><c- b>sequence</c-></a>&lt;<a data-link-type="idl-name" href="https://fetch.spec.whatwg.org/#requestinfo"><c- n>RequestInfo</c-></a>>) <a href="#dom-backgroundfetchmanager-fetch-id-requests-options-requests"><code><c- g>requests</c-></code></a>, <c- b>optional</c-> <a data-link-type="idl-name" href="#dictdef-backgroundfetchoptions"><c- n>BackgroundFetchOptions</c-></a> <a href="#dom-backgroundfetchmanager-fetch-id-requests-options-options"><code><c- g>options</c-></code></a> = {});
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise"><c- b>Promise</c-></a>&lt;<a data-link-type="idl-name" href="#backgroundfetchregistration"><c- n>BackgroundFetchRegistration</c-></a>?> <a class="idl-code" data-link-type="method" href="#dom-backgroundfetchmanager-get"><c- g>get</c-></a>(<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString"><c- b>DOMString</c-></a> <a href="#dom-backgroundfetchmanager-get-id-id"><code><c- g>id</c-></code></a>);
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise"><c- b>Promise</c-></a>&lt;<a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#idl-sequence"><c- b>sequence</c-></a>&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString"><c- b>DOMString</c-></a>>> <a class="idl-code" data-link-type="method" href="#dom-backgroundfetchmanager-getids"><c- g>getIds</c-></a>();
};

<c- b>dictionary</c-> <a href="#dictdef-backgroundfetchuioptions"><code><c- g>BackgroundFetchUIOptions</c-></code></a> {
  <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#idl-sequence"><c- b>sequence</c-></a>&lt;<a data-link-type="idl-name" href="https://w3c.github.io/image-resource/#dom-imageresource"><c- n>ImageResource</c-></a>> <a data-type="sequence<ImageResource>" href="#dom-backgroundfetchuioptions-icons"><code><c- g>icons</c-></code></a>;
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString"><c- b>DOMString</c-></a> <a data-type="DOMString" href="#dom-backgroundfetchuioptions-title"><code><c- g>title</c-></code></a>;
};

<c- b>dictionary</c-> <a href="#dictdef-backgroundfetchoptions"><code><c- g>BackgroundFetchOptions</c-></code></a> : <a data-link-type="idl-name" href="#dictdef-backgroundfetchuioptions"><c- n>BackgroundFetchUIOptions</c-></a> {
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-unsigned-long-long"><c- b>unsigned</c-> <c- b>long</c-> <c- b>long</c-></a> <a data-default="0" data-type="unsigned long long" href="#dom-backgroundfetchoptions-downloadtotal"><code><c- g>downloadTotal</c-></code></a> = 0;
};

[<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Exposed"><c- g>Exposed</c-></a>=(<c- n>Window</c->,<c- n>Worker</c->)]
<c- b>interface</c-> <a href="#backgroundfetchregistration"><code><c- g>BackgroundFetchRegistration</c-></code></a> : <a data-link-type="idl-name" href="https://dom.spec.whatwg.org/#eventtarget"><c- n>EventTarget</c-></a> {
  <c- b>readonly</c-> <c- b>attribute</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString"><c- b>DOMString</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="DOMString" href="#dom-backgroundfetchregistration-id"><c- g>id</c-></a>;
  <c- b>readonly</c-> <c- b>attribute</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-unsigned-long-long"><c- b>unsigned</c-> <c- b>long</c-> <c- b>long</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="unsigned long long" href="#dom-backgroundfetchregistration-uploadtotal"><c- g>uploadTotal</c-></a>;
  <c- b>readonly</c-> <c- b>attribute</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-unsigned-long-long"><c- b>unsigned</c-> <c- b>long</c-> <c- b>long</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="unsigned long long" href="#dom-backgroundfetchregistration-uploaded"><c- g>uploaded</c-></a>;
  <c- b>readonly</c-> <c- b>attribute</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-unsigned-long-long"><c- b>unsigned</c-> <c- b>long</c-> <c- b>long</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="unsigned long long" href="#dom-backgroundfetchregistration-downloadtotal"><c- g>downloadTotal</c-></a>;
  <c- b>readonly</c-> <c- b>attribute</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-unsigned-long-long"><c- b>unsigned</c-> <c- b>long</c-> <c- b>long</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="unsigned long long" href="#dom-backgroundfetchregistration-downloaded"><c- g>downloaded</c-></a>;
  <c- b>readonly</c-> <c- b>attribute</c-> <a data-link-type="idl-name" href="#enumdef-backgroundfetchresult"><c- n>BackgroundFetchResult</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="BackgroundFetchResult" href="#dom-backgroundfetchregistration-result"><c- g>result</c-></a>;
  <c- b>readonly</c-> <c- b>attribute</c-> <a data-link-type="idl-name" href="#enumdef-backgroundfetchfailurereason"><c- n>BackgroundFetchFailureReason</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="BackgroundFetchFailureReason" href="#dom-backgroundfetchregistration-failurereason"><c- g>failureReason</c-></a>;
  <c- b>readonly</c-> <c- b>attribute</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-boolean"><c- b>boolean</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="boolean" href="#dom-backgroundfetchregistration-recordsavailable"><c- g>recordsAvailable</c-></a>;

  <c- b>attribute</c-> <a data-link-type="idl-name" href="https://html.spec.whatwg.org/multipage/webappapis.html#eventhandler"><c- n>EventHandler</c-></a> <a class="idl-code" data-link-type="attribute" data-type="EventHandler" href="#dom-backgroundfetchregistration-onprogress"><c- g>onprogress</c-></a>;

  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise"><c- b>Promise</c-></a>&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-boolean"><c- b>boolean</c-></a>> <a class="idl-code" data-link-type="method" href="#dom-backgroundfetchregistration-abort"><c- g>abort</c-></a>();
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise"><c- b>Promise</c-></a>&lt;<a data-link-type="idl-name" href="#backgroundfetchrecord"><c- n>BackgroundFetchRecord</c-></a>> <a class="idl-code" data-link-type="method" href="#dom-backgroundfetchregistration-match"><c- g>match</c-></a>(<a data-link-type="idl-name" href="https://fetch.spec.whatwg.org/#requestinfo"><c- n>RequestInfo</c-></a> <a href="#dom-backgroundfetchregistration-match-request-options-request"><code><c- g>request</c-></code></a>, <c- b>optional</c-> <a data-link-type="idl-name" href="https://w3c.github.io/ServiceWorker/#dictdef-cachequeryoptions"><c- n>CacheQueryOptions</c-></a> <a href="#dom-backgroundfetchregistration-match-request-options-options"><code><c- g>options</c-></code></a> = {});
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise"><c- b>Promise</c-></a>&lt;<a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#idl-sequence"><c- b>sequence</c-></a>&lt;<a data-link-type="idl-name" href="#backgroundfetchrecord"><c- n>BackgroundFetchRecord</c-></a>>> <a class="idl-code" data-link-type="method" href="#dom-backgroundfetchregistration-matchall"><c- g>matchAll</c-></a>(<c- b>optional</c-> <a data-link-type="idl-name" href="https://fetch.spec.whatwg.org/#requestinfo"><c- n>RequestInfo</c-></a> <a href="#dom-backgroundfetchregistration-matchall-request-options-request"><code><c- g>request</c-></code></a>, <c- b>optional</c-> <a data-link-type="idl-name" href="https://w3c.github.io/ServiceWorker/#dictdef-cachequeryoptions"><c- n>CacheQueryOptions</c-></a> <a href="#dom-backgroundfetchregistration-matchall-request-options-options"><code><c- g>options</c-></code></a> = {});
};

<c- b>enum</c-> <a href="#enumdef-backgroundfetchresult"><code><c- g>BackgroundFetchResult</c-></code></a> { <a href="#dom-backgroundfetchresult"><code><c- s>""</c-></code></a>, <a href="#dom-backgroundfetchresult-success"><code><c- s>"success"</c-></code></a>, <a href="#dom-backgroundfetchresult-failure"><code><c- s>"failure"</c-></code></a> };

<c- b>enum</c-> <a href="#enumdef-backgroundfetchfailurereason"><code><c- g>BackgroundFetchFailureReason</c-></code></a> {
  // The background fetch has not completed yet, or was successful.
  <a href="#dom-backgroundfetchfailurereason"><code><c- s>""</c-></code></a>,
  // The operation was aborted by the user, or abort() was called.
  <a href="#dom-backgroundfetchfailurereason-aborted"><code><c- s>"aborted"</c-></code></a>,
  // A response had a not-ok-status.
  <a href="#dom-backgroundfetchfailurereason-bad-status"><code><c- s>"bad-status"</c-></code></a>,
  // A fetch failed for other reasons, e.g. CORS, MIX, an invalid partial response,
  // or a general network failure for a fetch that cannot be retried.
  <a href="#dom-backgroundfetchfailurereason-fetch-error"><code><c- s>"fetch-error"</c-></code></a>,
  // Storage quota was reached during the operation.
  <a href="#dom-backgroundfetchfailurereason-quota-exceeded"><code><c- s>"quota-exceeded"</c-></code></a>,
  // The provided downloadTotal was exceeded.
  <a href="#dom-backgroundfetchfailurereason-download-total-exceeded"><code><c- s>"download-total-exceeded"</c-></code></a>
};

[<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Exposed"><c- g>Exposed</c-></a>=(<c- n>Window</c->,<c- n>Worker</c->)]
<c- b>interface</c-> <a href="#backgroundfetchrecord"><code><c- g>BackgroundFetchRecord</c-></code></a> {
  <c- b>readonly</c-> <c- b>attribute</c-> <a data-link-type="idl-name" href="https://fetch.spec.whatwg.org/#request"><c- n>Request</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="Request" href="#dom-backgroundfetchrecord-request"><c- g>request</c-></a>;
  <c- b>readonly</c-> <c- b>attribute</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise"><c- b>Promise</c-></a>&lt;<a data-link-type="idl-name" href="https://fetch.spec.whatwg.org/#response"><c- n>Response</c-></a>> <a class="idl-code" data-link-type="attribute" data-readonly data-type="Promise<Response>" href="#dom-backgroundfetchrecord-responseready"><c- g>responseReady</c-></a>;
};

[<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Exposed"><c- g>Exposed</c-></a>=<c- n>ServiceWorker</c->]
<c- b>interface</c-> <a href="#backgroundfetchevent"><code><c- g>BackgroundFetchEvent</c-></code></a> : <a data-link-type="idl-name" href="https://w3c.github.io/ServiceWorker/#extendableevent"><c- n>ExtendableEvent</c-></a> {
  <a href="#dom-backgroundfetchevent-backgroundfetchevent"><code><c- g>constructor</c-></code></a>(<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString"><c- b>DOMString</c-></a> <a href="#dom-backgroundfetchevent-backgroundfetchevent-type-init-type"><code><c- g>type</c-></code></a>, <a data-link-type="idl-name" href="#dictdef-backgroundfetcheventinit"><c- n>BackgroundFetchEventInit</c-></a> <a href="#dom-backgroundfetchevent-backgroundfetchevent-type-init-init"><code><c- g>init</c-></code></a>);
  <c- b>readonly</c-> <c- b>attribute</c-> <a data-link-type="idl-name" href="#backgroundfetchregistration"><c- n>BackgroundFetchRegistration</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="BackgroundFetchRegistration" href="#dom-backgroundfetchevent-registration"><c- g>registration</c-></a>;
};

<c- b>dictionary</c-> <a href="#dictdef-backgroundfetcheventinit"><code><c- g>BackgroundFetchEventInit</c-></code></a> : <a data-link-type="idl-name" href="https://w3c.github.io/ServiceWorker/#dictdef-extendableeventinit"><c- n>ExtendableEventInit</c-></a> {
  <c- b>required</c-> <a data-link-type="idl-name" href="#backgroundfetchregistration"><c- n>BackgroundFetchRegistration</c-></a> <a data-type="BackgroundFetchRegistration" href="#dom-backgroundfetcheventinit-registration"><code><c- g>registration</c-></code></a>;
};

[<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Exposed"><c- g>Exposed</c-></a>=<c- n>ServiceWorker</c->]
<c- b>interface</c-> <a href="#backgroundfetchupdateuievent"><code><c- g>BackgroundFetchUpdateUIEvent</c-></code></a> : <a data-link-type="idl-name" href="#backgroundfetchevent"><c- n>BackgroundFetchEvent</c-></a> {
  <a href="#dom-backgroundfetchupdateuievent-backgroundfetchupdateuievent"><code><c- g>constructor</c-></code></a>(<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString"><c- b>DOMString</c-></a> <a href="#dom-backgroundfetchupdateuievent-backgroundfetchupdateuievent-type-init-type"><code><c- g>type</c-></code></a>, <a data-link-type="idl-name" href="#dictdef-backgroundfetcheventinit"><c- n>BackgroundFetchEventInit</c-></a> <a href="#dom-backgroundfetchupdateuievent-backgroundfetchupdateuievent-type-init-init"><code><c- g>init</c-></code></a>);
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise"><c- b>Promise</c-></a>&lt;<a data-link-type="idl-name"><c- n>void</c-></a>> <a class="idl-code" data-link-type="method" href="#dom-backgroundfetchupdateuievent-updateui"><c- g>updateUI</c-></a>(<c- b>optional</c-> <a data-link-type="idl-name" href="#dictdef-backgroundfetchuioptions"><c- n>BackgroundFetchUIOptions</c-></a> <a href="#dom-backgroundfetchupdateuievent-updateui-options-options"><code><c- g>options</c-></code></a> = {});
};

</pre>
  <h2 class="no-num no-ref heading settled" id="issues-index"><span class="content">Issues Index</span><a class="self-link" href="#issues-index"></a></h2>
  <div style="counter-reset:issue">
   <div class="issue"> <a href="https://github.com/w3c/manifest/pull/710">manifest/pull/710</a>. <a class="issue-return" href="#issue-20b63876" title="Jump to section">↵</a></div>
   <div class="issue"> <a href="https://github.com/w3c/ServiceWorker/pull/1348">ServiceWorker/1348</a>. <a class="issue-return" href="#issue-b420dc4f" title="Jump to section">↵</a></div>
   <div class="issue"> The remainder of this step uses fetch "callbacks" which currently queue tasks. This isn’t desirable or possible here, so let’s pretend that tasks aren’t queued. (<a href="https://github.com/whatwg/fetch/issues/536#issuecomment-330184276">issue</a>) <a class="issue-return" href="#issue-775cdb79" title="Jump to section">↵</a></div>
   <div class="issue"> I need to debounce this similar to how mouse move events debounce. <a class="issue-return" href="#issue-20ad71fa" title="Jump to section">↵</a></div>
   <div class="issue"> Parsing as an integer <a href="https://github.com/whatwg/infra/issues/189">infra/189</a>. <a class="issue-return" href="#issue-cddfe468" title="Jump to section">↵</a></div>
   <div class="issue"> <a href="https://github.com/w3c/ServiceWorker/pull/1348">ServiceWorker/1348</a>. <a class="issue-return" href="#issue-b420dc4f①" title="Jump to section">↵</a></div>
  </div>
  <details class="mdn-anno unpositioned" data-anno-for="dom-backgroundfetchevent-backgroundfetchevent">
   <summary><b class="less-than-two-engines-flag" title="This feature is in less than two current engines.">⚠</b><span>MDN</span></summary>
   <div class="feature">
    <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/BackgroundFetchEvent/BackgroundFetchEvent" title="The BackgroundFetchEvent() constructor creates a new BackgroundFetchEvent object. This constructor is not typically used as the browser creates these objects itself and provides them to background fetch event callbacks.">BackgroundFetchEvent/BackgroundFetchEvent</a></p>
    <p class="less-than-two-engines-text">In only one current engine.</p>
    <div class="support">
     <span class="firefox no"><span>Firefox</span><span>None</span></span><span class="safari no"><span>Safari</span><span>None</span></span><span class="chrome yes"><span>Chrome</span><span>74+</span></span>
     <hr>
     <span class="opera no"><span>Opera</span><span>?</span></span><span class="edge_blink yes"><span>Edge</span><span>79+</span></span>
     <hr>
     <span class="edge no"><span>Edge (Legacy)</span><span>?</span></span><span class="ie no"><span>IE</span><span>None</span></span>
     <hr>
     <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span class="webview_android no"><span>Android WebView</span><span>None</span></span><span class="samsunginternet_android no"><span>Samsung Internet</span><span>?</span></span><span class="opera_android no"><span>Opera Mobile</span><span>?</span></span>
    </div>
   </div>
  </details>
  <details class="mdn-anno unpositioned" data-anno-for="dom-backgroundfetchevent-registration">
   <summary><b class="less-than-two-engines-flag" title="This feature is in less than two current engines.">⚠</b><span>MDN</span></summary>
   <div class="feature">
    <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/BackgroundFetchEvent/registration" title="The registration read-only property of the BackgroundFetchEvent interface returns a BackgroundFetchRegistration object.">BackgroundFetchEvent/registration</a></p>
    <p class="less-than-two-engines-text">In only one current engine.</p>
    <div class="support">
     <span class="firefox no"><span>Firefox</span><span>None</span></span><span class="safari no"><span>Safari</span><span>None</span></span><span class="chrome yes"><span>Chrome</span><span>74+</span></span>
     <hr>
     <span class="opera no"><span>Opera</span><span>?</span></span><span class="edge_blink yes"><span>Edge</span><span>79+</span></span>
     <hr>
     <span class="edge no"><span>Edge (Legacy)</span><span>?</span></span><span class="ie no"><span>IE</span><span>None</span></span>
     <hr>
     <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span class="webview_android no"><span>Android WebView</span><span>None</span></span><span class="samsunginternet_android no"><span>Samsung Internet</span><span>?</span></span><span class="opera_android no"><span>Opera Mobile</span><span>?</span></span>
    </div>
   </div>
  </details>
  <details class="mdn-anno unpositioned" data-anno-for="background-fetch-event">
   <summary><b class="less-than-two-engines-flag" title="This feature is in less than two current engines.">⚠</b><span>MDN</span></summary>
   <div class="feature">
    <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/BackgroundFetchEvent" title="The BackgroundFetchEvent interface of the Background Fetch API is the event type for background fetch events dispatched on the service worker global scope.">BackgroundFetchEvent</a></p>
    <p class="less-than-two-engines-text">In only one current engine.</p>
    <div class="support">
     <span class="firefox no"><span>Firefox</span><span>None</span></span><span class="safari no"><span>Safari</span><span>None</span></span><span class="chrome yes"><span>Chrome</span><span>74+</span></span>
     <hr>
     <span class="opera no"><span>Opera</span><span>?</span></span><span class="edge_blink yes"><span>Edge</span><span>79+</span></span>
     <hr>
     <span class="edge no"><span>Edge (Legacy)</span><span>?</span></span><span class="ie no"><span>IE</span><span>None</span></span>
     <hr>
     <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span class="webview_android no"><span>Android WebView</span><span>None</span></span><span class="samsunginternet_android no"><span>Samsung Internet</span><span>?</span></span><span class="opera_android no"><span>Opera Mobile</span><span>?</span></span>
    </div>
   </div>
  </details>
  <details class="mdn-anno unpositioned" data-anno-for="background-fetch-manager-fetch">
   <summary><b class="less-than-two-engines-flag" title="This feature is in less than two current engines.">⚠</b><span>MDN</span></summary>
   <div class="feature">
    <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/BackgroundFetchManager/fetch" title="The fetch() method of the BackgroundFetchManager interface initiates a background fetch operation, given one or more URLs or Request objects.">BackgroundFetchManager/fetch</a></p>
    <p class="less-than-two-engines-text">In only one current engine.</p>
    <div class="support">
     <span class="firefox no"><span>Firefox</span><span>None</span></span><span class="safari no"><span>Safari</span><span>None</span></span><span class="chrome yes"><span>Chrome</span><span>74+</span></span>
     <hr>
     <span class="opera no"><span>Opera</span><span>?</span></span><span class="edge_blink yes"><span>Edge</span><span>79+</span></span>
     <hr>
     <span class="edge no"><span>Edge (Legacy)</span><span>?</span></span><span class="ie no"><span>IE</span><span>None</span></span>
     <hr>
     <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span class="webview_android no"><span>Android WebView</span><span>None</span></span><span class="samsunginternet_android no"><span>Samsung Internet</span><span>?</span></span><span class="opera_android no"><span>Opera Mobile</span><span>?</span></span>
    </div>
   </div>
  </details>
  <details class="mdn-anno unpositioned" data-anno-for="background-fetch-manager-get">
   <summary><b class="less-than-two-engines-flag" title="This feature is in less than two current engines.">⚠</b><span>MDN</span></summary>
   <div class="feature">
    <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/BackgroundFetchManager/get" title="The get() method of the BackgroundFetchManager interface returns a Promise that resolves with the BackgroundFetchRegistration associated with the provided id or undefined if the id is not found.">BackgroundFetchManager/get</a></p>
    <p class="less-than-two-engines-text">In only one current engine.</p>
    <div class="support">
     <span class="firefox no"><span>Firefox</span><span>None</span></span><span class="safari no"><span>Safari</span><span>None</span></span><span class="chrome yes"><span>Chrome</span><span>74+</span></span>
     <hr>
     <span class="opera no"><span>Opera</span><span>?</span></span><span class="edge_blink yes"><span>Edge</span><span>79+</span></span>
     <hr>
     <span class="edge no"><span>Edge (Legacy)</span><span>?</span></span><span class="ie no"><span>IE</span><span>None</span></span>
     <hr>
     <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span class="webview_android no"><span>Android WebView</span><span>None</span></span><span class="samsunginternet_android no"><span>Samsung Internet</span><span>?</span></span><span class="opera_android no"><span>Opera Mobile</span><span>?</span></span>
    </div>
   </div>
  </details>
  <details class="mdn-anno unpositioned" data-anno-for="background-fetch-manager-get-ids">
   <summary><b class="less-than-two-engines-flag" title="This feature is in less than two current engines.">⚠</b><span>MDN</span></summary>
   <div class="feature">
    <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/BackgroundFetchManager/getIds" title="The getIds() method of the BackgroundFetchManager interface returns the IDs of all registered background fetches.">BackgroundFetchManager/getIds</a></p>
    <p class="less-than-two-engines-text">In only one current engine.</p>
    <div class="support">
     <span class="firefox no"><span>Firefox</span><span>None</span></span><span class="safari no"><span>Safari</span><span>None</span></span><span class="chrome yes"><span>Chrome</span><span>74+</span></span>
     <hr>
     <span class="opera no"><span>Opera</span><span>?</span></span><span class="edge_blink yes"><span>Edge</span><span>79+</span></span>
     <hr>
     <span class="edge no"><span>Edge (Legacy)</span><span>?</span></span><span class="ie no"><span>IE</span><span>None</span></span>
     <hr>
     <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span class="webview_android no"><span>Android WebView</span><span>None</span></span><span class="samsunginternet_android no"><span>Samsung Internet</span><span>?</span></span><span class="opera_android no"><span>Opera Mobile</span><span>?</span></span>
    </div>
   </div>
  </details>
  <details class="mdn-anno unpositioned" data-anno-for="background-fetch-manager">
   <summary><b class="less-than-two-engines-flag" title="This feature is in less than two current engines.">⚠</b><span>MDN</span></summary>
   <div class="feature">
    <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/BackgroundFetchManager" title="The BackgroundFetchManager interface of the Background Fetch API is a map where the keys are background fetch IDs and the values are BackgroundFetchRegistration objects.">BackgroundFetchManager</a></p>
    <p class="less-than-two-engines-text">In only one current engine.</p>
    <div class="support">
     <span class="firefox no"><span>Firefox</span><span>None</span></span><span class="safari no"><span>Safari</span><span>None</span></span><span class="chrome yes"><span>Chrome</span><span>74+</span></span>
     <hr>
     <span class="opera no"><span>Opera</span><span>?</span></span><span class="edge_blink yes"><span>Edge</span><span>79+</span></span>
     <hr>
     <span class="edge no"><span>Edge (Legacy)</span><span>?</span></span><span class="ie no"><span>IE</span><span>None</span></span>
     <hr>
     <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span class="webview_android no"><span>Android WebView</span><span>None</span></span><span class="samsunginternet_android no"><span>Samsung Internet</span><span>?</span></span><span class="opera_android no"><span>Opera Mobile</span><span>?</span></span>
    </div>
   </div>
  </details>
  <details class="mdn-anno unpositioned" data-anno-for="dom-backgroundfetchrecord-request">
   <summary><b class="less-than-two-engines-flag" title="This feature is in less than two current engines.">⚠</b><span>MDN</span></summary>
   <div class="feature">
    <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/BackgroundFetchRecord/request" title="The request read-only property of the BackgroundFetchRecord interface returns the details of the resource to be fetched.">BackgroundFetchRecord/request</a></p>
    <p class="less-than-two-engines-text">In only one current engine.</p>
    <div class="support">
     <span class="firefox no"><span>Firefox</span><span>None</span></span><span class="safari no"><span>Safari</span><span>None</span></span><span class="chrome yes"><span>Chrome</span><span>74+</span></span>
     <hr>
     <span class="opera no"><span>Opera</span><span>?</span></span><span class="edge_blink yes"><span>Edge</span><span>79+</span></span>
     <hr>
     <span class="edge no"><span>Edge (Legacy)</span><span>?</span></span><span class="ie no"><span>IE</span><span>None</span></span>
     <hr>
     <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span class="webview_android no"><span>Android WebView</span><span>None</span></span><span class="samsunginternet_android no"><span>Samsung Internet</span><span>?</span></span><span class="opera_android no"><span>Opera Mobile</span><span>?</span></span>
    </div>
   </div>
  </details>
  <details class="mdn-anno unpositioned" data-anno-for="dom-backgroundfetchrecord-responseready">
   <summary><b class="less-than-two-engines-flag" title="This feature is in less than two current engines.">⚠</b><span>MDN</span></summary>
   <div class="feature">
    <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/BackgroundFetchRecord/responseReady" title="The responseReady read-only property of the BackgroundFetchRecord interface returns a Promise that resolves with a Response.">BackgroundFetchRecord/responseReady</a></p>
    <p class="less-than-two-engines-text">In only one current engine.</p>
    <div class="support">
     <span class="firefox no"><span>Firefox</span><span>None</span></span><span class="safari no"><span>Safari</span><span>None</span></span><span class="chrome yes"><span>Chrome</span><span>74+</span></span>
     <hr>
     <span class="opera no"><span>Opera</span><span>?</span></span><span class="edge_blink yes"><span>Edge</span><span>79+</span></span>
     <hr>
     <span class="edge no"><span>Edge (Legacy)</span><span>?</span></span><span class="ie no"><span>IE</span><span>None</span></span>
     <hr>
     <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span class="webview_android no"><span>Android WebView</span><span>None</span></span><span class="samsunginternet_android no"><span>Samsung Internet</span><span>?</span></span><span class="opera_android no"><span>Opera Mobile</span><span>?</span></span>
    </div>
   </div>
  </details>
  <details class="mdn-anno unpositioned" data-anno-for="background-fetch-record-interface">
   <summary><b class="less-than-two-engines-flag" title="This feature is in less than two current engines.">⚠</b><span>MDN</span></summary>
   <div class="feature">
    <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/BackgroundFetchRecord" title="The BackgroundFetchRecord interface of the Background Fetch API represents an individual request and response.">BackgroundFetchRecord</a></p>
    <p class="less-than-two-engines-text">In only one current engine.</p>
    <div class="support">
     <span class="firefox no"><span>Firefox</span><span>None</span></span><span class="safari no"><span>Safari</span><span>None</span></span><span class="chrome yes"><span>Chrome</span><span>74+</span></span>
     <hr>
     <span class="opera no"><span>Opera</span><span>?</span></span><span class="edge_blink yes"><span>Edge</span><span>79+</span></span>
     <hr>
     <span class="edge no"><span>Edge (Legacy)</span><span>?</span></span><span class="ie no"><span>IE</span><span>None</span></span>
     <hr>
     <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span class="webview_android no"><span>Android WebView</span><span>None</span></span><span class="samsunginternet_android no"><span>Samsung Internet</span><span>?</span></span><span class="opera_android no"><span>Opera Mobile</span><span>?</span></span>
    </div>
   </div>
  </details>
  <details class="mdn-anno unpositioned" data-anno-for="background-fetch-registration-abort">
   <summary><b class="less-than-two-engines-flag" title="This feature is in less than two current engines.">⚠</b><span>MDN</span></summary>
   <div class="feature">
    <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/BackgroundFetchRegistration/abort" title="The abort() method of the BackgroundFetchRegistration interface aborts an active background fetch.">BackgroundFetchRegistration/abort</a></p>
    <p class="less-than-two-engines-text">In only one current engine.</p>
    <div class="support">
     <span class="firefox no"><span>Firefox</span><span>None</span></span><span class="safari no"><span>Safari</span><span>None</span></span><span class="chrome yes"><span>Chrome</span><span>74+</span></span>
     <hr>
     <span class="opera no"><span>Opera</span><span>?</span></span><span class="edge_blink yes"><span>Edge</span><span>79+</span></span>
     <hr>
     <span class="edge no"><span>Edge (Legacy)</span><span>?</span></span><span class="ie no"><span>IE</span><span>None</span></span>
     <hr>
     <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span class="webview_android no"><span>Android WebView</span><span>None</span></span><span class="samsunginternet_android no"><span>Samsung Internet</span><span>?</span></span><span class="opera_android no"><span>Opera Mobile</span><span>?</span></span>
    </div>
   </div>
  </details>
  <details class="mdn-anno unpositioned" data-anno-for="dom-backgroundfetchregistration-downloaded">
   <summary><b class="less-than-two-engines-flag" title="This feature is in less than two current engines.">⚠</b><span>MDN</span></summary>
   <div class="feature">
    <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/BackgroundFetchRegistration/downloaded" title="The downloaded read-only property of the BackgroundFetchRegistration interface returns the size in bytes that has been downloaded, initially 0.">BackgroundFetchRegistration/downloaded</a></p>
    <p class="less-than-two-engines-text">In only one current engine.</p>
    <div class="support">
     <span class="firefox no"><span>Firefox</span><span>None</span></span><span class="safari no"><span>Safari</span><span>None</span></span><span class="chrome yes"><span>Chrome</span><span>74+</span></span>
     <hr>
     <span class="opera no"><span>Opera</span><span>?</span></span><span class="edge_blink yes"><span>Edge</span><span>79+</span></span>
     <hr>
     <span class="edge no"><span>Edge (Legacy)</span><span>?</span></span><span class="ie no"><span>IE</span><span>None</span></span>
     <hr>
     <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span class="webview_android no"><span>Android WebView</span><span>None</span></span><span class="samsunginternet_android no"><span>Samsung Internet</span><span>?</span></span><span class="opera_android no"><span>Opera Mobile</span><span>?</span></span>
    </div>
   </div>
  </details>
  <details class="mdn-anno unpositioned" data-anno-for="dom-backgroundfetchregistration-downloadtotal">
   <summary><b class="less-than-two-engines-flag" title="This feature is in less than two current engines.">⚠</b><span>MDN</span></summary>
   <div class="feature">
    <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/BackgroundFetchRegistration/downloadTotal" title="The downloadTotal read-only property of the BackgroundFetchRegistration interface returns the total size in bytes of this download. This is set when the background fetch was registered, or 0 if not set.">BackgroundFetchRegistration/downloadTotal</a></p>
    <p class="less-than-two-engines-text">In only one current engine.</p>
    <div class="support">
     <span class="firefox no"><span>Firefox</span><span>None</span></span><span class="safari no"><span>Safari</span><span>None</span></span><span class="chrome yes"><span>Chrome</span><span>74+</span></span>
     <hr>
     <span class="opera no"><span>Opera</span><span>?</span></span><span class="edge_blink yes"><span>Edge</span><span>79+</span></span>
     <hr>
     <span class="edge no"><span>Edge (Legacy)</span><span>?</span></span><span class="ie no"><span>IE</span><span>None</span></span>
     <hr>
     <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span class="webview_android no"><span>Android WebView</span><span>None</span></span><span class="samsunginternet_android no"><span>Samsung Internet</span><span>?</span></span><span class="opera_android no"><span>Opera Mobile</span><span>?</span></span>
    </div>
   </div>
  </details>
  <details class="mdn-anno unpositioned" data-anno-for="dom-backgroundfetchregistration-failurereason">
   <summary><b class="less-than-two-engines-flag" title="This feature is in less than two current engines.">⚠</b><span>MDN</span></summary>
   <div class="feature">
    <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/BackgroundFetchRegistration/failureReason" title="The failureReason read-only property of the BackgroundFetchRegistration interface returns a string with a value that indicates a reason for a background fetch failure.">BackgroundFetchRegistration/failureReason</a></p>
    <p class="less-than-two-engines-text">In only one current engine.</p>
    <div class="support">
     <span class="firefox no"><span>Firefox</span><span>None</span></span><span class="safari no"><span>Safari</span><span>None</span></span><span class="chrome yes"><span>Chrome</span><span>74+</span></span>
     <hr>
     <span class="opera no"><span>Opera</span><span>?</span></span><span class="edge_blink yes"><span>Edge</span><span>79+</span></span>
     <hr>
     <span class="edge no"><span>Edge (Legacy)</span><span>?</span></span><span class="ie no"><span>IE</span><span>None</span></span>
     <hr>
     <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span class="webview_android no"><span>Android WebView</span><span>None</span></span><span class="samsunginternet_android no"><span>Samsung Internet</span><span>?</span></span><span class="opera_android no"><span>Opera Mobile</span><span>?</span></span>
    </div>
   </div>
  </details>
  <details class="mdn-anno unpositioned" data-anno-for="dom-backgroundfetchregistration-id">
   <summary><b class="less-than-two-engines-flag" title="This feature is in less than two current engines.">⚠</b><span>MDN</span></summary>
   <div class="feature">
    <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/BackgroundFetchRegistration/id" title="The id read-only property of the BackgroundFetchRegistration interface returns a copy of the background fetch&apos;s ID.">BackgroundFetchRegistration/id</a></p>
    <p class="less-than-two-engines-text">In only one current engine.</p>
    <div class="support">
     <span class="firefox no"><span>Firefox</span><span>None</span></span><span class="safari no"><span>Safari</span><span>None</span></span><span class="chrome yes"><span>Chrome</span><span>74+</span></span>
     <hr>
     <span class="opera no"><span>Opera</span><span>?</span></span><span class="edge_blink yes"><span>Edge</span><span>79+</span></span>
     <hr>
     <span class="edge no"><span>Edge (Legacy)</span><span>?</span></span><span class="ie no"><span>IE</span><span>None</span></span>
     <hr>
     <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span class="webview_android no"><span>Android WebView</span><span>None</span></span><span class="samsunginternet_android no"><span>Samsung Internet</span><span>?</span></span><span class="opera_android no"><span>Opera Mobile</span><span>?</span></span>
    </div>
   </div>
  </details>
  <details class="mdn-anno unpositioned" data-anno-for="background-fetch-registration-match">
   <summary><b class="less-than-two-engines-flag" title="This feature is in less than two current engines.">⚠</b><span>MDN</span></summary>
   <div class="feature">
    <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/BackgroundFetchRegistration/match" title="The match() method of the BackgroundFetchRegistration interface returns the first matching BackgroundFetchRecord.">BackgroundFetchRegistration/match</a></p>
    <p class="less-than-two-engines-text">In only one current engine.</p>
    <div class="support">
     <span class="firefox no"><span>Firefox</span><span>None</span></span><span class="safari no"><span>Safari</span><span>None</span></span><span class="chrome yes"><span>Chrome</span><span>74+</span></span>
     <hr>
     <span class="opera no"><span>Opera</span><span>?</span></span><span class="edge_blink yes"><span>Edge</span><span>79+</span></span>
     <hr>
     <span class="edge no"><span>Edge (Legacy)</span><span>?</span></span><span class="ie no"><span>IE</span><span>None</span></span>
     <hr>
     <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span class="webview_android no"><span>Android WebView</span><span>None</span></span><span class="samsunginternet_android no"><span>Samsung Internet</span><span>?</span></span><span class="opera_android no"><span>Opera Mobile</span><span>?</span></span>
    </div>
   </div>
  </details>
  <details class="mdn-anno unpositioned" data-anno-for="background-fetch-registration-match-all">
   <summary><b class="less-than-two-engines-flag" title="This feature is in less than two current engines.">⚠</b><span>MDN</span></summary>
   <div class="feature">
    <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/BackgroundFetchRegistration/matchAll" title="The matchAll() method of the BackgroundFetchRegistration interface returns an array of matching BackgroundFetchRecord objects.">BackgroundFetchRegistration/matchAll</a></p>
    <p class="less-than-two-engines-text">In only one current engine.</p>
    <div class="support">
     <span class="firefox no"><span>Firefox</span><span>None</span></span><span class="safari no"><span>Safari</span><span>None</span></span><span class="chrome yes"><span>Chrome</span><span>74+</span></span>
     <hr>
     <span class="opera no"><span>Opera</span><span>?</span></span><span class="edge_blink yes"><span>Edge</span><span>79+</span></span>
     <hr>
     <span class="edge no"><span>Edge (Legacy)</span><span>?</span></span><span class="ie no"><span>IE</span><span>None</span></span>
     <hr>
     <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span class="webview_android no"><span>Android WebView</span><span>None</span></span><span class="samsunginternet_android no"><span>Samsung Internet</span><span>?</span></span><span class="opera_android no"><span>Opera Mobile</span><span>?</span></span>
    </div>
   </div>
  </details>
  <details class="mdn-anno unpositioned" data-anno-for="background-fetch-registration-events">
   <summary><b class="less-than-two-engines-flag" title="This feature is in less than two current engines.">⚠</b><span>MDN</span></summary>
   <div class="feature">
    <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/BackgroundFetchRegistration/progress_event" title="The progress event of the BackgroundFetchRegistration interface thrown when the associated background fetch progresses.">BackgroundFetchRegistration/progress_event</a></p>
    <p class="less-than-two-engines-text">In only one current engine.</p>
    <div class="support">
     <span class="firefox no"><span>Firefox</span><span>None</span></span><span class="safari no"><span>Safari</span><span>None</span></span><span class="chrome yes"><span>Chrome</span><span>74+</span></span>
     <hr>
     <span class="opera no"><span>Opera</span><span>?</span></span><span class="edge_blink yes"><span>Edge</span><span>79+</span></span>
     <hr>
     <span class="edge no"><span>Edge (Legacy)</span><span>?</span></span><span class="ie no"><span>IE</span><span>None</span></span>
     <hr>
     <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span class="webview_android no"><span>Android WebView</span><span>None</span></span><span class="samsunginternet_android no"><span>Samsung Internet</span><span>?</span></span><span class="opera_android no"><span>Opera Mobile</span><span>?</span></span>
    </div>
   </div>
  </details>
  <details class="mdn-anno unpositioned" data-anno-for="dom-backgroundfetchregistration-recordsavailable">
   <summary><b class="less-than-two-engines-flag" title="This feature is in less than two current engines.">⚠</b><span>MDN</span></summary>
   <div class="feature">
    <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/BackgroundFetchRegistration/recordsAvailable" title="The recordsAvailable read-only property of the BackgroundFetchRegistration interface returns true if there are requests and responses to be accessed. If this returns false then match() and matchAll() can&apos;t be used.">BackgroundFetchRegistration/recordsAvailable</a></p>
    <p class="less-than-two-engines-text">In only one current engine.</p>
    <div class="support">
     <span class="firefox no"><span>Firefox</span><span>None</span></span><span class="safari no"><span>Safari</span><span>None</span></span><span class="chrome yes"><span>Chrome</span><span>74+</span></span>
     <hr>
     <span class="opera no"><span>Opera</span><span>?</span></span><span class="edge_blink yes"><span>Edge</span><span>79+</span></span>
     <hr>
     <span class="edge no"><span>Edge (Legacy)</span><span>?</span></span><span class="ie no"><span>IE</span><span>None</span></span>
     <hr>
     <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span class="webview_android no"><span>Android WebView</span><span>None</span></span><span class="samsunginternet_android no"><span>Samsung Internet</span><span>?</span></span><span class="opera_android no"><span>Opera Mobile</span><span>?</span></span>
    </div>
   </div>
  </details>
  <details class="mdn-anno unpositioned" data-anno-for="dom-backgroundfetchregistration-result">
   <summary><b class="less-than-two-engines-flag" title="This feature is in less than two current engines.">⚠</b><span>MDN</span></summary>
   <div class="feature">
    <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/BackgroundFetchRegistration/result" title="The result read-only property of the BackgroundFetchRegistration interface returns a string indicating whether the background fetch was successful or failed.">BackgroundFetchRegistration/result</a></p>
    <p class="less-than-two-engines-text">In only one current engine.</p>
    <div class="support">
     <span class="firefox no"><span>Firefox</span><span>None</span></span><span class="safari no"><span>Safari</span><span>None</span></span><span class="chrome yes"><span>Chrome</span><span>74+</span></span>
     <hr>
     <span class="opera no"><span>Opera</span><span>?</span></span><span class="edge_blink yes"><span>Edge</span><span>79+</span></span>
     <hr>
     <span class="edge no"><span>Edge (Legacy)</span><span>?</span></span><span class="ie no"><span>IE</span><span>None</span></span>
     <hr>
     <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span class="webview_android no"><span>Android WebView</span><span>None</span></span><span class="samsunginternet_android no"><span>Samsung Internet</span><span>?</span></span><span class="opera_android no"><span>Opera Mobile</span><span>?</span></span>
    </div>
   </div>
  </details>
  <details class="mdn-anno unpositioned" data-anno-for="dom-backgroundfetchregistration-uploaded">
   <summary><b class="less-than-two-engines-flag" title="This feature is in less than two current engines.">⚠</b><span>MDN</span></summary>
   <div class="feature">
    <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/BackgroundFetchRegistration/uploaded" title="The uploaded read-only property of the BackgroundFetchRegistration interface returns the size in bytes successfully sent, initially 0.">BackgroundFetchRegistration/uploaded</a></p>
    <p class="less-than-two-engines-text">In only one current engine.</p>
    <div class="support">
     <span class="firefox no"><span>Firefox</span><span>None</span></span><span class="safari no"><span>Safari</span><span>None</span></span><span class="chrome yes"><span>Chrome</span><span>74+</span></span>
     <hr>
     <span class="opera no"><span>Opera</span><span>?</span></span><span class="edge_blink yes"><span>Edge</span><span>79+</span></span>
     <hr>
     <span class="edge no"><span>Edge (Legacy)</span><span>?</span></span><span class="ie no"><span>IE</span><span>None</span></span>
     <hr>
     <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span class="webview_android no"><span>Android WebView</span><span>None</span></span><span class="samsunginternet_android no"><span>Samsung Internet</span><span>?</span></span><span class="opera_android no"><span>Opera Mobile</span><span>?</span></span>
    </div>
   </div>
  </details>
  <details class="mdn-anno unpositioned" data-anno-for="dom-backgroundfetchregistration-uploadtotal">
   <summary><b class="less-than-two-engines-flag" title="This feature is in less than two current engines.">⚠</b><span>MDN</span></summary>
   <div class="feature">
    <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/BackgroundFetchRegistration/uploadTotal" title="The uploadTotal read-only property of the BackgroundFetchRegistration interface returns the total number of bytes to be sent to the server.">BackgroundFetchRegistration/uploadTotal</a></p>
    <p class="less-than-two-engines-text">In only one current engine.</p>
    <div class="support">
     <span class="firefox no"><span>Firefox</span><span>None</span></span><span class="safari no"><span>Safari</span><span>None</span></span><span class="chrome yes"><span>Chrome</span><span>74+</span></span>
     <hr>
     <span class="opera no"><span>Opera</span><span>?</span></span><span class="edge_blink yes"><span>Edge</span><span>79+</span></span>
     <hr>
     <span class="edge no"><span>Edge (Legacy)</span><span>?</span></span><span class="ie no"><span>IE</span><span>None</span></span>
     <hr>
     <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span class="webview_android no"><span>Android WebView</span><span>None</span></span><span class="samsunginternet_android no"><span>Samsung Internet</span><span>?</span></span><span class="opera_android no"><span>Opera Mobile</span><span>?</span></span>
    </div>
   </div>
  </details>
  <details class="mdn-anno unpositioned" data-anno-for="background-fetch-registration">
   <summary><b class="less-than-two-engines-flag" title="This feature is in less than two current engines.">⚠</b><span>MDN</span></summary>
   <div class="feature">
    <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/BackgroundFetchRegistration" title="The BackgroundFetchRegistration interface of the Background Fetch API represents an individual background fetch.">BackgroundFetchRegistration</a></p>
    <p class="less-than-two-engines-text">In only one current engine.</p>
    <div class="support">
     <span class="firefox no"><span>Firefox</span><span>None</span></span><span class="safari no"><span>Safari</span><span>None</span></span><span class="chrome yes"><span>Chrome</span><span>74+</span></span>
     <hr>
     <span class="opera no"><span>Opera</span><span>?</span></span><span class="edge_blink yes"><span>Edge</span><span>79+</span></span>
     <hr>
     <span class="edge no"><span>Edge (Legacy)</span><span>?</span></span><span class="ie no"><span>IE</span><span>None</span></span>
     <hr>
     <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span class="webview_android no"><span>Android WebView</span><span>None</span></span><span class="samsunginternet_android no"><span>Samsung Internet</span><span>?</span></span><span class="opera_android no"><span>Opera Mobile</span><span>?</span></span>
    </div>
   </div>
  </details>
  <details class="mdn-anno unpositioned" data-anno-for="dom-backgroundfetchupdateuievent-backgroundfetchupdateuievent">
   <summary><b class="less-than-two-engines-flag" title="This feature is in less than two current engines.">⚠</b><span>MDN</span></summary>
   <div class="feature">
    <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/BackgroundFetchUpdateUIEvent/BackgroundFetchUpdateUIEvent" title="The BackgroundFetchUpdateUIEvent() constructor creates a new BackgroundFetchUpdateUIEvent object. This constructor is not typically used as the browser creates these objects itself and provides them to background fetch event callbacks.">BackgroundFetchUpdateUIEvent/BackgroundFetchUpdateUIEvent</a></p>
    <p class="less-than-two-engines-text">In only one current engine.</p>
    <div class="support">
     <span class="firefox no"><span>Firefox</span><span>None</span></span><span class="safari no"><span>Safari</span><span>None</span></span><span class="chrome yes"><span>Chrome</span><span>74+</span></span>
     <hr>
     <span class="opera no"><span>Opera</span><span>?</span></span><span class="edge_blink yes"><span>Edge</span><span>79+</span></span>
     <hr>
     <span class="edge no"><span>Edge (Legacy)</span><span>?</span></span><span class="ie no"><span>IE</span><span>None</span></span>
     <hr>
     <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span class="webview_android no"><span>Android WebView</span><span>None</span></span><span class="samsunginternet_android no"><span>Samsung Internet</span><span>?</span></span><span class="opera_android no"><span>Opera Mobile</span><span>?</span></span>
    </div>
   </div>
  </details>
  <details class="mdn-anno unpositioned" data-anno-for="background-fetch-update-ui-event-update-ui">
   <summary><b class="less-than-two-engines-flag" title="This feature is in less than two current engines.">⚠</b><span>MDN</span></summary>
   <div class="feature">
    <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/BackgroundFetchUpdateUIEvent/updateUI" title="The updateUI() method of the BackgroundFetchUpdateUIEvent interface updates the title and icon in the user interface to show the status of a background fetch.">BackgroundFetchUpdateUIEvent/updateUI</a></p>
    <p class="less-than-two-engines-text">In only one current engine.</p>
    <div class="support">
     <span class="firefox no"><span>Firefox</span><span>None</span></span><span class="safari no"><span>Safari</span><span>None</span></span><span class="chrome yes"><span>Chrome</span><span>74+</span></span>
     <hr>
     <span class="opera no"><span>Opera</span><span>?</span></span><span class="edge_blink yes"><span>Edge</span><span>79+</span></span>
     <hr>
     <span class="edge no"><span>Edge (Legacy)</span><span>?</span></span><span class="ie no"><span>IE</span><span>None</span></span>
     <hr>
     <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span class="webview_android no"><span>Android WebView</span><span>None</span></span><span class="samsunginternet_android no"><span>Samsung Internet</span><span>?</span></span><span class="opera_android no"><span>Opera Mobile</span><span>?</span></span>
    </div>
   </div>
  </details>
  <details class="mdn-anno unpositioned" data-anno-for="background-fetch-update-ui-event">
   <summary><b class="less-than-two-engines-flag" title="This feature is in less than two current engines.">⚠</b><span>MDN</span></summary>
   <div class="feature">
    <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/BackgroundFetchUpdateUIEvent" title="The BackgroundFetchUpdateUIEvent interface of the Background Fetch API is an event type for the backgroundfetchsuccess and backgroundfetchfail events, and provides a method for updating the title and icon of the app to inform a user of the success or failure of a background fetch.">BackgroundFetchUpdateUIEvent</a></p>
    <p class="less-than-two-engines-text">In only one current engine.</p>
    <div class="support">
     <span class="firefox no"><span>Firefox</span><span>None</span></span><span class="safari no"><span>Safari</span><span>None</span></span><span class="chrome yes"><span>Chrome</span><span>74+</span></span>
     <hr>
     <span class="opera no"><span>Opera</span><span>?</span></span><span class="edge_blink yes"><span>Edge</span><span>79+</span></span>
     <hr>
     <span class="edge no"><span>Edge (Legacy)</span><span>?</span></span><span class="ie no"><span>IE</span><span>None</span></span>
     <hr>
     <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span class="webview_android no"><span>Android WebView</span><span>None</span></span><span class="samsunginternet_android no"><span>Samsung Internet</span><span>?</span></span><span class="opera_android no"><span>Opera Mobile</span><span>?</span></span>
    </div>
   </div>
  </details>
  <details class="mdn-anno unpositioned" data-anno-for="dom-serviceworkerglobalscope-onbackgroundfetchabort">
   <summary><b class="less-than-two-engines-flag" title="This feature is in less than two current engines.">⚠</b><span>MDN</span></summary>
   <div class="feature">
    <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/ServiceWorkerGlobalScope/backgroundfetchabort_event" title="The backgroundfetchabort event of the ServiceWorkerGlobalScope interface is fired when the user or the app itself cancels a background fetch operation.">ServiceWorkerGlobalScope/backgroundfetchabort_event</a></p>
    <p class="less-than-two-engines-text">In only one current engine.</p>
    <div class="support">
     <span class="firefox no"><span>Firefox</span><span>None</span></span><span class="safari no"><span>Safari</span><span>None</span></span><span class="chrome yes"><span>Chrome</span><span>74+</span></span>
     <hr>
     <span class="opera no"><span>Opera</span><span>?</span></span><span class="edge_blink yes"><span>Edge</span><span>79+</span></span>
     <hr>
     <span class="edge no"><span>Edge (Legacy)</span><span>?</span></span><span class="ie no"><span>IE</span><span>None</span></span>
     <hr>
     <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span class="webview_android no"><span>Android WebView</span><span>None</span></span><span class="samsunginternet_android no"><span>Samsung Internet</span><span>?</span></span><span class="opera_android no"><span>Opera Mobile</span><span>?</span></span>
    </div>
   </div>
  </details>
  <details class="mdn-anno unpositioned" data-anno-for="dom-serviceworkerglobalscope-onbackgroundfetchclick">
   <summary><b class="less-than-two-engines-flag" title="This feature is in less than two current engines.">⚠</b><span>MDN</span></summary>
   <div class="feature">
    <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/ServiceWorkerGlobalScope/backgroundfetchclick_event" title="The backgroundfetchclick event of the ServiceWorkerGlobalScope interface is fired when the user clicks on the UI that the browser provides to show the user the progress of the background fetch operation.">ServiceWorkerGlobalScope/backgroundfetchclick_event</a></p>
    <p class="less-than-two-engines-text">In only one current engine.</p>
    <div class="support">
     <span class="firefox no"><span>Firefox</span><span>None</span></span><span class="safari no"><span>Safari</span><span>None</span></span><span class="chrome yes"><span>Chrome</span><span>74+</span></span>
     <hr>
     <span class="opera no"><span>Opera</span><span>?</span></span><span class="edge_blink yes"><span>Edge</span><span>79+</span></span>
     <hr>
     <span class="edge no"><span>Edge (Legacy)</span><span>?</span></span><span class="ie no"><span>IE</span><span>None</span></span>
     <hr>
     <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span class="webview_android no"><span>Android WebView</span><span>None</span></span><span class="samsunginternet_android no"><span>Samsung Internet</span><span>?</span></span><span class="opera_android no"><span>Opera Mobile</span><span>?</span></span>
    </div>
   </div>
  </details>
  <details class="mdn-anno unpositioned" data-anno-for="dom-serviceworkerglobalscope-onbackgroundfetchfail">
   <summary><b class="less-than-two-engines-flag" title="This feature is in less than two current engines.">⚠</b><span>MDN</span></summary>
   <div class="feature">
    <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/ServiceWorkerGlobalScope/backgroundfetchfail_event" title="The backgroundfetchfail event of the ServiceWorkerGlobalScope interface is fired when a background fetch operation has failed: that is, when at least one network request in the fetch has failed to complete successfully.">ServiceWorkerGlobalScope/backgroundfetchfail_event</a></p>
    <p class="less-than-two-engines-text">In only one current engine.</p>
    <div class="support">
     <span class="firefox no"><span>Firefox</span><span>None</span></span><span class="safari no"><span>Safari</span><span>None</span></span><span class="chrome yes"><span>Chrome</span><span>74+</span></span>
     <hr>
     <span class="opera no"><span>Opera</span><span>?</span></span><span class="edge_blink yes"><span>Edge</span><span>79+</span></span>
     <hr>
     <span class="edge no"><span>Edge (Legacy)</span><span>?</span></span><span class="ie no"><span>IE</span><span>None</span></span>
     <hr>
     <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span class="webview_android no"><span>Android WebView</span><span>None</span></span><span class="samsunginternet_android no"><span>Samsung Internet</span><span>?</span></span><span class="opera_android no"><span>Opera Mobile</span><span>?</span></span>
    </div>
   </div>
  </details>
  <details class="mdn-anno unpositioned" data-anno-for="dom-serviceworkerglobalscope-onbackgroundfetchsuccess">
   <summary><b class="less-than-two-engines-flag" title="This feature is in less than two current engines.">⚠</b><span>MDN</span></summary>
   <div class="feature">
    <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/ServiceWorkerGlobalScope/backgroundfetchsuccess_event" title="The backgroundfetchsuccess event of the ServiceWorkerGlobalScope interface is fired when a background fetch operation has completed successfully: that is, when all network requests in the fetch have completed successfully.">ServiceWorkerGlobalScope/backgroundfetchsuccess_event</a></p>
    <p class="less-than-two-engines-text">In only one current engine.</p>
    <div class="support">
     <span class="firefox no"><span>Firefox</span><span>None</span></span><span class="safari no"><span>Safari</span><span>None</span></span><span class="chrome yes"><span>Chrome</span><span>74+</span></span>
     <hr>
     <span class="opera no"><span>Opera</span><span>?</span></span><span class="edge_blink yes"><span>Edge</span><span>79+</span></span>
     <hr>
     <span class="edge no"><span>Edge (Legacy)</span><span>?</span></span><span class="ie no"><span>IE</span><span>None</span></span>
     <hr>
     <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span class="webview_android no"><span>Android WebView</span><span>None</span></span><span class="samsunginternet_android no"><span>Samsung Internet</span><span>?</span></span><span class="opera_android no"><span>Opera Mobile</span><span>?</span></span>
    </div>
   </div>
  </details>
  <details class="mdn-anno unpositioned" data-anno-for="dom-serviceworkerregistration-backgroundfetch">
   <summary><b class="less-than-two-engines-flag" title="This feature is in less than two current engines.">⚠</b><span>MDN</span></summary>
   <div class="feature">
    <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/ServiceWorkerRegistration/backgroundFetch" title="The backgroundFetch property of the ServiceWorkerRegistration interface returns a reference to a BackgroundFetchManager object, which can be used to initiate background fetch operations.">ServiceWorkerRegistration/backgroundFetch</a></p>
    <p class="less-than-two-engines-text">In only one current engine.</p>
    <div class="support">
     <span class="firefox no"><span>Firefox</span><span>None</span></span><span class="safari no"><span>Safari</span><span>None</span></span><span class="chrome yes"><span>Chrome</span><span>74+</span></span>
     <hr>
     <span class="opera no"><span>Opera</span><span>?</span></span><span class="edge_blink yes"><span>Edge</span><span>79+</span></span>
     <hr>
     <span class="edge no"><span>Edge (Legacy)</span><span>?</span></span><span class="ie no"><span>IE</span><span>None</span></span>
     <hr>
     <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span class="webview_android no"><span>Android WebView</span><span>None</span></span><span class="samsunginternet_android no"><span>Samsung Internet</span><span>?</span></span><span class="opera_android no"><span>Opera Mobile</span><span>?</span></span>
    </div>
   </div>
  </details>
<script>/* Boilerplate: script-dom-helper */
"use strict";
function query(sel) { return document.querySelector(sel); }

function queryAll(sel) { return [...document.querySelectorAll(sel)]; }

function iter(obj) {
	if(!obj) return [];
	var it = obj[Symbol.iterator];
	if(it) return it;
	return Object.entries(obj);
}

function mk(tagname, attrs, ...children) {
	const el = document.createElement(tagname);
	for(const [k,v] of iter(attrs)) {
		if(k.slice(0,3) == "_on") {
			const eventName = k.slice(3);
			el.addEventListener(eventName, v);
		} else if(k[0] == "_") {
			// property, not attribute
			el[k.slice(1)] = v;
		} else {
			if(v === false || v == null) {
        continue;
      } else if(v === true) {
        el.setAttribute(k, "");
        continue;
      } else {
  			el.setAttribute(k, v);
      }
		}
	}
	append(el, children);
	return el;
}

/* Create shortcuts for every known HTML element */
[
  "a",
  "abbr",
  "acronym",
  "address",
  "applet",
  "area",
  "article",
  "aside",
  "audio",
  "b",
  "base",
  "basefont",
  "bdo",
  "big",
  "blockquote",
  "body",
  "br",
  "button",
  "canvas",
  "caption",
  "center",
  "cite",
  "code",
  "col",
  "colgroup",
  "datalist",
  "dd",
  "del",
  "details",
  "dfn",
  "dialog",
  "div",
  "dl",
  "dt",
  "em",
  "embed",
  "fieldset",
  "figcaption",
  "figure",
  "font",
  "footer",
  "form",
  "frame",
  "frameset",
  "head",
  "header",
  "h1",
  "h2",
  "h3",
  "h4",
  "h5",
  "h6",
  "hr",
  "html",
  "i",
  "iframe",
  "img",
  "input",
  "ins",
  "kbd",
  "label",
  "legend",
  "li",
  "link",
  "main",
  "map",
  "mark",
  "meta",
  "meter",
  "nav",
  "nobr",
  "noscript",
  "object",
  "ol",
  "optgroup",
  "option",
  "output",
  "p",
  "param",
  "pre",
  "progress",
  "q",
  "s",
  "samp",
  "script",
  "section",
  "select",
  "small",
  "source",
  "span",
  "strike",
  "strong",
  "style",
  "sub",
  "summary",
  "sup",
  "table",
  "tbody",
  "td",
  "template",
  "textarea",
  "tfoot",
  "th",
  "thead",
  "time",
  "title",
  "tr",
  "u",
  "ul",
  "var",
  "video",
  "wbr",
  "xmp",
].forEach(tagname=>{
	mk[tagname] = (...args) => mk(tagname, ...args);
});

function* nodesFromChildList(children) {
	for(const child of children.flat(Infinity)) {
		if(child instanceof Node) {
			yield child;
		} else {
			yield new Text(child);
		}
	}
}
function append(el, ...children) {
	for(const child of nodesFromChildList(children)) {
		if(el instanceof Node) el.appendChild(child);
		else el.push(child);
	}
	return el;
}

function insertAfter(el, ...children) {
	for(const child of nodesFromChildList(children)) {
		el.parentNode.insertBefore(child, el.nextSibling);
	}
	return el;
}

function clearContents(el) {
	el.innerHTML = "";
	return el;
}

function parseHTML(markup) {
	if(markup.toLowerCase().trim().indexOf('<!doctype') === 0) {
		const doc = document.implementation.createHTMLDocument("");
		doc.documentElement.innerHTML = markup;
		return doc;
	} else {
		const el = mk.template({});
		el.innerHTML = markup;
		return el.content;
	}
}</script>
<script>/* Boilerplate: script-dfn-panel */
"use strict";
{
let dfnPanelData = {
"0204d188": {"dfnID":"0204d188","dfnText":"size","external":true,"refSections":[{"refs":[{"id":"ref-for-list-size"}],"title":"4.1. Perform a background fetch"},{"refs":[{"id":"ref-for-list-size\u2460"}],"title":"6.3.1. fetch()"}],"url":"https://infra.spec.whatwg.org/#list-size"},
"02406c7f": {"dfnID":"02406c7f","dfnText":"service worker registration","external":true,"refSections":[{"refs":[{"id":"ref-for-dfn-service-worker-registration"}],"title":"3.1. Extensions to service worker registration"},{"refs":[{"id":"ref-for-dfn-service-worker-registration\u2460"}],"title":"3.2. Background fetch"},{"refs":[{"id":"ref-for-dfn-service-worker-registration\u2461"}],"title":"6.2. Extensions to ServiceWorkerRegistration"},{"refs":[{"id":"ref-for-dfn-service-worker-registration\u2462"}],"title":"6.3. BackgroundFetchManager"},{"refs":[{"id":"ref-for-dfn-service-worker-registration\u2463"},{"id":"ref-for-dfn-service-worker-registration\u2464"}],"title":"8. Privacy and bandwidth usage"}],"url":"https://w3c.github.io/ServiceWorker/#dfn-service-worker-registration"},
"0310eecd": {"dfnID":"0310eecd","dfnText":"name","external":true,"refSections":[{"refs":[{"id":"ref-for-dom-permissiondescriptor-name"}],"title":"3.2.1. Display"},{"refs":[{"id":"ref-for-dom-permissiondescriptor-name\u2460"}],"title":"6.3.1. fetch()"}],"url":"https://w3c.github.io/permissions/#dom-permissiondescriptor-name"},
"03675365": {"dfnID":"03675365","dfnText":"event handler idl attribute","external":true,"refSections":[{"refs":[{"id":"ref-for-event-handler-idl-attributes"}],"title":"6.1.1. Events"}],"url":"https://html.spec.whatwg.org/multipage/webappapis.html#event-handler-idl-attributes"},
"03afaf9c": {"dfnID":"03afaf9c","dfnText":"empty","external":true,"refSections":[{"refs":[{"id":"ref-for-list-empty"}],"title":"6.3.1. fetch()"}],"url":"https://infra.spec.whatwg.org/#list-empty"},
"040c67fa": {"dfnID":"040c67fa","dfnText":"extension command uri template","external":true,"refSections":[{"refs":[{"id":"ref-for-dfn-extension-command-uri-template"}],"title":"7.1. Click"}],"url":"https://w3c.github.io/webdriver/#dfn-extension-command-uri-template"},
"0850796c": {"dfnID":"0850796c","dfnText":"getting the keys","external":true,"refSections":[{"refs":[{"id":"ref-for-map-getting-the-keys"}],"title":"6.3.3. getIds()"}],"url":"https://infra.spec.whatwg.org/#map-getting-the-keys"},
"08a12aad": {"dfnID":"08a12aad","dfnText":"Response","external":true,"refSections":[{"refs":[{"id":"ref-for-response"},{"id":"ref-for-response\u2460"}],"title":"4.8. Create record objects"},{"refs":[{"id":"ref-for-response\u2461"}],"title":"6.5. BackgroundFetchRecord"}],"url":"https://fetch.spec.whatwg.org/#response"},
"0a52a8b4": {"dfnID":"0a52a8b4","dfnText":"combine","external":true,"refSections":[{"refs":[{"id":"ref-for-concept-header-list-combine"},{"id":"ref-for-concept-header-list-combine\u2460"}],"title":"4.6. Validate a partial response"}],"url":"https://fetch.spec.whatwg.org/#concept-header-list-combine"},
"102df61f": {"dfnID":"102df61f","dfnText":"enqueue the following steps","external":true,"refSections":[{"refs":[{"id":"ref-for-enqueue-the-following-steps"}],"title":"4.1. Perform a background fetch"},{"refs":[{"id":"ref-for-enqueue-the-following-steps\u2460"}],"title":"4.3. Update background fetch instances"},{"refs":[{"id":"ref-for-enqueue-the-following-steps\u2461"}],"title":"6.3.1. fetch()"},{"refs":[{"id":"ref-for-enqueue-the-following-steps\u2462"}],"title":"6.3.2. get()"},{"refs":[{"id":"ref-for-enqueue-the-following-steps\u2463"}],"title":"6.4.2. abort()"}],"url":"https://html.spec.whatwg.org/multipage/infrastructure.html#enqueue-the-following-steps"},
"116848ac": {"dfnID":"116848ac","dfnText":"reacting","external":true,"refSections":[{"refs":[{"id":"ref-for-dfn-perform-steps-once-promise-is-settled"}],"title":"6.4.3. match()"}],"url":"https://webidl.spec.whatwg.org/#dfn-perform-steps-once-promise-is-settled"},
"123576dd": {"dfnID":"123576dd","dfnText":"new information about the user's intent","external":true,"refSections":[{"refs":[{"id":"ref-for-dfn-new-information-about-the-user-s-intent"}],"title":"3.2.1. Display"}],"url":"https://w3c.github.io/permissions/#dfn-new-information-about-the-user-s-intent"},
"1243a891": {"dfnID":"1243a891","dfnText":"exist","external":true,"refSections":[{"refs":[{"id":"ref-for-map-exists"}],"title":"4.5. Get a BackgroundFetchRegistration instance"},{"refs":[{"id":"ref-for-map-exists\u2460"}],"title":"4.9. Contains background fetch"},{"refs":[{"id":"ref-for-map-exists\u2461"}],"title":"6.3.1. fetch()"}],"url":"https://infra.spec.whatwg.org/#map-exists"},
"129bdae8": {"dfnID":"129bdae8","dfnText":"Event","external":true,"refSections":[{"refs":[{"id":"ref-for-event"}],"title":"6.4.1. Events"}],"url":"https://dom.spec.whatwg.org/#event"},
"145db468": {"dfnID":"145db468","dfnText":"headers (for Response)","external":true,"refSections":[{"refs":[{"id":"ref-for-response-headers"}],"title":"4.8. Create record objects"}],"url":"https://fetch.spec.whatwg.org/#response-headers"},
"162d2b51": {"dfnID":"162d2b51","dfnText":"request (for Request)","external":true,"refSections":[{"refs":[{"id":"ref-for-concept-request-request"},{"id":"ref-for-concept-request-request\u2460"}],"title":"4.8. Create record objects"},{"refs":[{"id":"ref-for-concept-request-request\u2461"}],"title":"6.3.1. fetch()"}],"url":"https://fetch.spec.whatwg.org/#concept-request-request"},
"16d07e10": {"dfnID":"16d07e10","dfnText":"for each","external":true,"refSections":[{"refs":[{"id":"ref-for-list-iterate"}],"title":"3.2. Background fetch"},{"refs":[{"id":"ref-for-list-iterate\u2460"}],"title":"4.1. Perform a background fetch"},{"refs":[{"id":"ref-for-list-iterate\u2461"}],"title":"4.8. Create record objects"},{"refs":[{"id":"ref-for-list-iterate\u2462"},{"id":"ref-for-list-iterate\u2463"}],"title":"6.3.1. fetch()"}],"url":"https://infra.spec.whatwg.org/#list-iterate"},
"1968aaab": {"dfnID":"1968aaab","dfnText":"ServiceWorker","external":true,"refSections":[{"refs":[{"id":"ref-for-serviceworker"}],"title":"6.1.1. Events"}],"url":"https://w3c.github.io/ServiceWorker/#serviceworker"},
"1adcc035": {"dfnID":"1adcc035","dfnText":"abort when","external":true,"refSections":[{"refs":[{"id":"ref-for-abort-when"}],"title":"4.2. Complete a record"},{"refs":[{"id":"ref-for-abort-when\u2460"}],"title":"6.3.1. fetch()"}],"url":"https://infra.spec.whatwg.org/#abort-when"},
"1d6fcc5b": {"dfnID":"1d6fcc5b","dfnText":"current top-level browsing context","external":true,"refSections":[{"refs":[{"id":"ref-for-dfn-current-top-level-browsing-context"},{"id":"ref-for-dfn-current-top-level-browsing-context\u2460"}],"title":"7.1. Click"}],"url":"https://w3c.github.io/webdriver/#dfn-current-top-level-browsing-context"},
"243ca234": {"dfnID":"243ca234","dfnText":"add a range header","external":true,"refSections":[{"refs":[{"id":"ref-for-concept-request-add-range-header"}],"title":"4.2. Complete a record"}],"url":"https://fetch.spec.whatwg.org/#concept-request-add-range-header"},
"27b1a771": {"dfnID":"27b1a771","dfnText":"headers (for Request)","external":true,"refSections":[{"refs":[{"id":"ref-for-request-headers"}],"title":"4.8. Create record objects"}],"url":"https://fetch.spec.whatwg.org/#request-headers"},
"2bc0cdf4": {"dfnID":"2bc0cdf4","dfnText":"EventTarget","external":true,"refSections":[{"refs":[{"id":"ref-for-eventtarget"}],"title":"6.4. BackgroundFetchRegistration"}],"url":"https://dom.spec.whatwg.org/#eventtarget"},
"2f8afbfe": {"dfnID":"2f8afbfe","dfnText":"ArrayBuffer","external":true,"refSections":[{"refs":[{"id":"ref-for-idl-ArrayBuffer"}],"title":"4.8. Create record objects"}],"url":"https://webidl.spec.whatwg.org/#idl-ArrayBuffer"},
"3326d984": {"dfnID":"3326d984","dfnText":"CacheQueryOptions","external":true,"refSections":[{"refs":[{"id":"ref-for-dictdef-cachequeryoptions"},{"id":"ref-for-dictdef-cachequeryoptions\u2460"}],"title":"6.4. BackgroundFetchRegistration"}],"url":"https://w3c.github.io/ServiceWorker/#dictdef-cachequeryoptions"},
"347e8fe9": {"dfnID":"347e8fe9","dfnText":"url","external":true,"refSections":[{"refs":[{"id":"ref-for-concept-document-url"}],"title":"7.1. Click"}],"url":"https://dom.spec.whatwg.org/#concept-document-url"},
"35972864": {"dfnID":"35972864","dfnText":"active document","external":true,"refSections":[{"refs":[{"id":"ref-for-nav-document"}],"title":"7.1. Click"}],"url":"https://html.spec.whatwg.org/multipage/document-sequences.html#nav-document"},
"36333997": {"dfnID":"36333997","dfnText":"length","external":true,"refSections":[{"refs":[{"id":"ref-for-byte-sequence-length"}],"title":"3.2. Background fetch"},{"refs":[{"id":"ref-for-byte-sequence-length\u2460"},{"id":"ref-for-byte-sequence-length\u2461"}],"title":"4.2. Complete a record"},{"refs":[{"id":"ref-for-byte-sequence-length\u2462"},{"id":"ref-for-byte-sequence-length\u2463"},{"id":"ref-for-byte-sequence-length\u2464"},{"id":"ref-for-byte-sequence-length\u2465"}],"title":"4.8. Create record objects"}],"url":"https://infra.spec.whatwg.org/#byte-sequence-length"},
"3699d7e6": {"dfnID":"3699d7e6","dfnText":"request matches cached item","external":true,"refSections":[{"refs":[{"id":"ref-for-request-matches-cached-item"}],"title":"6.4.4. matchAll()"}],"url":"https://w3c.github.io/ServiceWorker/#request-matches-cached-item"},
"3ae34c95": {"dfnID":"3ae34c95","dfnText":"destination","external":true,"refSections":[{"refs":[{"id":"ref-for-concept-request-destination"}],"title":"3.2.1. Display"}],"url":"https://fetch.spec.whatwg.org/#concept-request-destination"},
"3b90bdcd": {"dfnID":"3b90bdcd","dfnText":"resolve","external":true,"refSections":[{"refs":[{"id":"ref-for-resolve"},{"id":"ref-for-resolve\u2460"}],"title":"4.8. Create record objects"},{"refs":[{"id":"ref-for-resolve\u2461"}],"title":"6.3.1. fetch()"},{"refs":[{"id":"ref-for-resolve\u2462"},{"id":"ref-for-resolve\u2463"}],"title":"6.3.2. get()"},{"refs":[{"id":"ref-for-resolve\u2464"}],"title":"6.3.3. getIds()"},{"refs":[{"id":"ref-for-resolve\u2465"},{"id":"ref-for-resolve\u2466"}],"title":"6.4.2. abort()"},{"refs":[{"id":"ref-for-resolve\u2467"}],"title":"6.4.4. matchAll()"},{"refs":[{"id":"ref-for-resolve\u2468"}],"title":"6.7.1. updateUI()"}],"url":"https://webidl.spec.whatwg.org/#resolve"},
"3bd18bd6": {"dfnID":"3bd18bd6","dfnText":"error","external":true,"refSections":[{"refs":[{"id":"ref-for-readablestream-error"},{"id":"ref-for-readablestream-error\u2460"}],"title":"4.8. Create record objects"},{"refs":[{"id":"ref-for-readablestream-error\u2461"}],"title":"6.3.1. fetch()"}],"url":"https://streams.spec.whatwg.org/#readablestream-error"},
"3de9e659": {"dfnID":"3de9e659","dfnText":"byte sequence","external":true,"refSections":[{"refs":[{"id":"ref-for-byte-sequence"},{"id":"ref-for-byte-sequence\u2460"}],"title":"3.4. Background fetch response"}],"url":"https://infra.spec.whatwg.org/#byte-sequence"},
"3e12e042": {"dfnID":"3e12e042","dfnText":"environment settings object","external":true,"refSections":[{"refs":[{"id":"ref-for-environment-settings-object"}],"title":"3.2.1. Display"},{"refs":[{"id":"ref-for-environment-settings-object\u2460"}],"title":"4.3. Update background fetch instances"}],"url":"https://html.spec.whatwg.org/multipage/webappapis.html#environment-settings-object"},
"3fca5a9e": {"dfnID":"3fca5a9e","dfnText":"map","external":true,"refSections":[{"refs":[{"id":"ref-for-ordered-map"},{"id":"ref-for-ordered-map\u2460"}],"title":"3.1. Extensions to service worker registration"},{"refs":[{"id":"ref-for-ordered-map\u2461"},{"id":"ref-for-ordered-map\u2462"}],"title":"4.9. Contains background fetch"},{"refs":[{"id":"ref-for-ordered-map\u2463"},{"id":"ref-for-ordered-map\u2464"}],"title":"6.3. BackgroundFetchManager"}],"url":"https://infra.spec.whatwg.org/#ordered-map"},
"4076459f": {"dfnID":"4076459f","dfnText":"src","external":true,"refSections":[{"refs":[{"id":"ref-for-dfn-src"}],"title":"3.2.1. Display"}],"url":"https://w3c.github.io/image-resource/#dfn-src"},
"41d0ebd7": {"dfnID":"41d0ebd7","dfnText":"errored","external":true,"refSections":[{"refs":[{"id":"ref-for-readablestream-errored"}],"title":"4.2. Complete a record"},{"refs":[{"id":"ref-for-readablestream-errored\u2460"}],"title":"6.3.1. fetch()"}],"url":"https://streams.spec.whatwg.org/#readablestream-errored"},
"43ac8374": {"dfnID":"43ac8374","dfnText":"origin","external":true,"refSections":[{"refs":[{"id":"ref-for-concept-settings-object-origin"}],"title":"4.3. Update background fetch instances"}],"url":"https://html.spec.whatwg.org/multipage/webappapis.html#concept-settings-object-origin"},
"45e5c0e5": {"dfnID":"45e5c0e5","dfnText":"readable","external":true,"refSections":[{"refs":[{"id":"ref-for-readablestream-readable"}],"title":"6.3.1. fetch()"}],"url":"https://streams.spec.whatwg.org/#readablestream-readable"},
"4b84a0bc": {"dfnID":"4b84a0bc","dfnText":"name","external":true,"refSections":[{"refs":[{"id":"ref-for-concept-header-name"}],"title":"4.7. Extract content-range values"}],"url":"https://fetch.spec.whatwg.org/#concept-header-name"},
"50b05fad": {"dfnID":"50b05fad","dfnText":"method","external":true,"refSections":[{"refs":[{"id":"ref-for-concept-request-method"},{"id":"ref-for-concept-request-method\u2460"}],"title":"3.2.1. Display"},{"refs":[{"id":"ref-for-concept-request-method\u2461"},{"id":"ref-for-concept-request-method\u2462"},{"id":"ref-for-concept-request-method\u2463"},{"id":"ref-for-concept-request-method\u2464"}],"title":"4.2. Complete a record"},{"refs":[{"id":"ref-for-concept-request-method\u2465"}],"title":"7.1. Click"}],"url":"https://fetch.spec.whatwg.org/#concept-request-method"},
"5102209a": {"dfnID":"5102209a","dfnText":"active worker","external":true,"refSections":[{"refs":[{"id":"ref-for-dfn-active-worker"}],"title":"6.3.1. fetch()"}],"url":"https://w3c.github.io/ServiceWorker/#dfn-active-worker"},
"53275e46": {"dfnID":"53275e46","dfnText":"append","external":true,"refSections":[{"refs":[{"id":"ref-for-list-append"}],"title":"4.8. Create record objects"},{"refs":[{"id":"ref-for-list-append\u2460"}],"title":"6.3.1. fetch()"},{"refs":[{"id":"ref-for-list-append\u2461"}],"title":"6.4.4. matchAll()"}],"url":"https://infra.spec.whatwg.org/#list-append"},
"5372cca8": {"dfnID":"5372cca8","dfnText":"boolean","external":true,"refSections":[{"refs":[{"id":"ref-for-idl-boolean"},{"id":"ref-for-idl-boolean\u2460"}],"title":"6.4. BackgroundFetchRegistration"}],"url":"https://webidl.spec.whatwg.org/#idl-boolean"},
"546da218": {"dfnID":"546da218","dfnText":"aborted network error","external":true,"refSections":[{"refs":[{"id":"ref-for-concept-aborted-network-error"}],"title":"4.2. Complete a record"}],"url":"https://fetch.spec.whatwg.org/#concept-aborted-network-error"},
"55213b5b": {"dfnID":"55213b5b","dfnText":"request","external":true,"refSections":[{"refs":[{"id":"ref-for-concept-request"}],"title":"3.2.1. Display"},{"refs":[{"id":"ref-for-concept-request\u2460"}],"title":"3.3. Background fetch record"},{"refs":[{"id":"ref-for-concept-request\u2461"}],"title":"6.5. BackgroundFetchRecord"}],"url":"https://fetch.spec.whatwg.org/#concept-request"},
"5991ccfb": {"dfnID":"5991ccfb","dfnText":"relevant realm","external":true,"refSections":[{"refs":[{"id":"ref-for-concept-relevant-realm"}],"title":"2. Realms"},{"refs":[{"id":"ref-for-concept-relevant-realm\u2460"}],"title":"4.1. Perform a background fetch"},{"refs":[{"id":"ref-for-concept-relevant-realm\u2461"}],"title":"4.3. Update background fetch instances"},{"refs":[{"id":"ref-for-concept-relevant-realm\u2462"}],"title":"4.4. Fire a background fetch click event"},{"refs":[{"id":"ref-for-concept-relevant-realm\u2463"}],"title":"6.3.1. fetch()"},{"refs":[{"id":"ref-for-concept-relevant-realm\u2464"}],"title":"6.3.2. get()"},{"refs":[{"id":"ref-for-concept-relevant-realm\u2465"}],"title":"6.4.4. matchAll()"}],"url":"https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-realm"},
"5ceafb9f": {"dfnID":"5ceafb9f","dfnText":"ExtendableEventInit","external":true,"refSections":[{"refs":[{"id":"ref-for-dictdef-extendableeventinit"}],"title":"6.6. BackgroundFetchEvent"}],"url":"https://w3c.github.io/ServiceWorker/#dictdef-extendableeventinit"},
"5e129c74": {"dfnID":"5e129c74","dfnText":"QuotaExceededError","external":true,"refSections":[{"refs":[{"id":"ref-for-quotaexceedederror"}],"title":"6.3.1. fetch()"}],"url":"https://webidl.spec.whatwg.org/#quotaexceedederror"},
"5fd23811": {"dfnID":"5fd23811","dfnText":"fire an event","external":true,"refSections":[{"refs":[{"id":"ref-for-concept-event-fire"}],"title":"4.3. Update background fetch instances"}],"url":"https://dom.spec.whatwg.org/#concept-event-fire"},
"644cb530": {"dfnID":"644cb530","dfnText":"body","external":true,"refSections":[{"refs":[{"id":"ref-for-concept-body"}],"title":"4.8. Create record objects"}],"url":"https://fetch.spec.whatwg.org/#concept-body"},
"649608b9": {"dfnID":"649608b9","dfnText":"list","external":true,"refSections":[{"refs":[{"id":"ref-for-list"},{"id":"ref-for-list\u2460"}],"title":"3.2. Background fetch"},{"refs":[{"id":"ref-for-list\u2461"},{"id":"ref-for-list\u2462"}],"title":"4.8. Create record objects"},{"refs":[{"id":"ref-for-list\u2463"},{"id":"ref-for-list\u2464"}],"title":"6.3.1. fetch()"},{"refs":[{"id":"ref-for-list\u2465"}],"title":"6.4.4. matchAll()"}],"url":"https://infra.spec.whatwg.org/#list"},
"6a5a59a0": {"dfnID":"6a5a59a0","dfnText":"event handler","external":true,"refSections":[{"refs":[{"id":"ref-for-event-handlers"},{"id":"ref-for-event-handlers\u2460"}],"title":"6.1.1. Events"},{"refs":[{"id":"ref-for-event-handlers\u2461"}],"title":"6.4.1. Events"}],"url":"https://html.spec.whatwg.org/multipage/webappapis.html#event-handlers"},
"6b6bb798": {"dfnID":"6b6bb798","dfnText":"enqueue","external":true,"refSections":[{"refs":[{"id":"ref-for-readablestream-enqueue"}],"title":"4.8. Create record objects"}],"url":"https://streams.spec.whatwg.org/#readablestream-enqueue"},
"6d1db60d": {"dfnID":"6d1db60d","dfnText":"service-workers mode","external":true,"refSections":[{"refs":[{"id":"ref-for-request-service-workers-mode"}],"title":"3.2.1. Display"},{"refs":[{"id":"ref-for-request-service-workers-mode\u2460"}],"title":"4.2. Complete a record"}],"url":"https://fetch.spec.whatwg.org/#request-service-workers-mode"},
"6ee0eab1": {"dfnID":"6ee0eab1","dfnText":"header list (for request)","external":true,"refSections":[{"refs":[{"id":"ref-for-concept-request-header-list"}],"title":"4.8. Create record objects"}],"url":"https://fetch.spec.whatwg.org/#concept-request-header-list"},
"715f22e4": {"dfnID":"715f22e4","dfnText":"if aborted","external":true,"refSections":[{"refs":[{"id":"ref-for-if-aborted"}],"title":"4.2. Complete a record"},{"refs":[{"id":"ref-for-if-aborted\u2460"}],"title":"6.3.1. fetch()"}],"url":"https://infra.spec.whatwg.org/#if-aborted"},
"7482107b": {"dfnID":"7482107b","dfnText":"webdriver error code","external":true,"refSections":[{"refs":[{"id":"ref-for-dfn-error-code"}],"title":"7.1. Click"}],"url":"https://w3c.github.io/webdriver/#dfn-error-code"},
"76b107de": {"dfnID":"76b107de","dfnText":"ExtendableEvent","external":true,"refSections":[{"refs":[{"id":"ref-for-extendableevent"}],"title":"6.6. BackgroundFetchEvent"}],"url":"https://w3c.github.io/ServiceWorker/#extendableevent"},
"797018a7": {"dfnID":"797018a7","dfnText":"InvalidStateError","external":true,"refSections":[{"refs":[{"id":"ref-for-invalidstateerror"}],"title":"6.4.4. matchAll()"},{"refs":[{"id":"ref-for-invalidstateerror\u2460"}],"title":"6.7.1. updateUI()"}],"url":"https://webidl.spec.whatwg.org/#invalidstateerror"},
"7de33c29": {"dfnID":"7de33c29","dfnText":"parallel queue","external":true,"refSections":[{"refs":[{"id":"ref-for-parallel-queue"}],"title":"3.1. Extensions to service worker registration"},{"refs":[{"id":"ref-for-parallel-queue\u2460"}],"title":"3.2. Background fetch"}],"url":"https://html.spec.whatwg.org/multipage/infrastructure.html#parallel-queue"},
"81a76425": {"dfnID":"81a76425","dfnText":"body (for response)","external":true,"refSections":[{"refs":[{"id":"ref-for-concept-response-body"},{"id":"ref-for-concept-response-body\u2460"}],"title":"4.2. Complete a record"},{"refs":[{"id":"ref-for-concept-response-body\u2461"}],"title":"4.8. Create record objects"}],"url":"https://fetch.spec.whatwg.org/#concept-response-body"},
"8219d486": {"dfnID":"8219d486","dfnText":"starting a new parallel queue","external":true,"refSections":[{"refs":[{"id":"ref-for-starting-a-new-parallel-queue"}],"title":"3.1. Extensions to service worker registration"},{"refs":[{"id":"ref-for-starting-a-new-parallel-queue\u2460"}],"title":"3.2. Background fetch"}],"url":"https://html.spec.whatwg.org/multipage/infrastructure.html#starting-a-new-parallel-queue"},
"82c23298": {"dfnID":"82c23298","dfnText":"remote end steps","external":true,"refSections":[{"refs":[{"id":"ref-for-dfn-remote-end-steps"}],"title":"7.1. Click"}],"url":"https://w3c.github.io/webdriver/#dfn-remote-end-steps"},
"82ca3efc": {"dfnID":"82ca3efc","dfnText":"TypeError","external":true,"refSections":[{"refs":[{"id":"ref-for-exceptiondef-typeerror"},{"id":"ref-for-exceptiondef-typeerror\u2460"}],"title":"4.8. Create record objects"},{"refs":[{"id":"ref-for-exceptiondef-typeerror\u2461"},{"id":"ref-for-exceptiondef-typeerror\u2462"},{"id":"ref-for-exceptiondef-typeerror\u2463"},{"id":"ref-for-exceptiondef-typeerror\u2464"},{"id":"ref-for-exceptiondef-typeerror\u2465"}],"title":"6.3.1. fetch()"}],"url":"https://webidl.spec.whatwg.org/#exceptiondef-typeerror"},
"838900a7": {"dfnID":"838900a7","dfnText":"isTrusted","external":true,"refSections":[{"refs":[{"id":"ref-for-dom-event-istrusted"}],"title":"6.7.1. updateUI()"}],"url":"https://dom.spec.whatwg.org/#dom-event-istrusted"},
"857d5516": {"dfnID":"857d5516","dfnText":"client","external":true,"refSections":[{"refs":[{"id":"ref-for-concept-request-client"}],"title":"3.2.1. Display"},{"refs":[{"id":"ref-for-concept-request-client\u2460"}],"title":"6.3.1. fetch()"}],"url":"https://fetch.spec.whatwg.org/#concept-request-client"},
"86d2a717": {"dfnID":"86d2a717","dfnText":"ServiceWorkerGlobalScope","external":true,"refSections":[{"refs":[{"id":"ref-for-serviceworkerglobalscope"},{"id":"ref-for-serviceworkerglobalscope\u2460"}],"title":"6.1. Extensions to ServiceWorkerGlobalScope"}],"url":"https://w3c.github.io/ServiceWorker/#serviceworkerglobalscope"},
"87236d2b": {"dfnID":"87236d2b","dfnText":"url variable","external":true,"refSections":[{"refs":[{"id":"ref-for-dfn-url-variables"}],"title":"7.1. Click"}],"url":"https://w3c.github.io/webdriver/#dfn-url-variables"},
"87c74de0": {"dfnID":"87c74de0","dfnText":"processing","external":true,"refSections":[{"refs":[{"id":"ref-for-processing-an-imageresource-from-an-api"}],"title":"3.2.1. Display"}],"url":"https://w3c.github.io/image-resource/#processing-an-imageresource-from-an-api"},
"8855a9aa": {"dfnID":"8855a9aa","dfnText":"DOMString","external":true,"refSections":[{"refs":[{"id":"ref-for-idl-DOMString"},{"id":"ref-for-idl-DOMString\u2460"},{"id":"ref-for-idl-DOMString\u2461"},{"id":"ref-for-idl-DOMString\u2462"}],"title":"6.3. BackgroundFetchManager"},{"refs":[{"id":"ref-for-idl-DOMString\u2463"}],"title":"6.4. BackgroundFetchRegistration"},{"refs":[{"id":"ref-for-idl-DOMString\u2464"}],"title":"6.6. BackgroundFetchEvent"},{"refs":[{"id":"ref-for-idl-DOMString\u2465"}],"title":"6.7. BackgroundFetchUpdateUIEvent"}],"url":"https://webidl.spec.whatwg.org/#idl-DOMString"},
"889e932f": {"dfnID":"889e932f","dfnText":"Exposed","external":true,"refSections":[{"refs":[{"id":"ref-for-Exposed"}],"title":"6.3. BackgroundFetchManager"},{"refs":[{"id":"ref-for-Exposed\u2460"}],"title":"6.4. BackgroundFetchRegistration"},{"refs":[{"id":"ref-for-Exposed\u2461"}],"title":"6.5. BackgroundFetchRecord"},{"refs":[{"id":"ref-for-Exposed\u2462"}],"title":"6.6. BackgroundFetchEvent"},{"refs":[{"id":"ref-for-Exposed\u2463"}],"title":"6.7. BackgroundFetchUpdateUIEvent"}],"url":"https://webidl.spec.whatwg.org/#Exposed"},
"8a608b90": {"dfnID":"8a608b90","dfnText":"value","external":true,"refSections":[{"refs":[{"id":"ref-for-concept-header-value"}],"title":"4.7. Extract content-range values"}],"url":"https://fetch.spec.whatwg.org/#concept-header-value"},
"8ba500d2": {"dfnID":"8ba500d2","dfnText":"RequestInfo","external":true,"refSections":[{"refs":[{"id":"ref-for-requestinfo"},{"id":"ref-for-requestinfo\u2460"}],"title":"6.3. BackgroundFetchManager"},{"refs":[{"id":"ref-for-requestinfo\u2461"}],"title":"6.3.1. fetch()"},{"refs":[{"id":"ref-for-requestinfo\u2462"},{"id":"ref-for-requestinfo\u2463"}],"title":"6.4. BackgroundFetchRegistration"}],"url":"https://fetch.spec.whatwg.org/#requestinfo"},
"8e9945a0": {"dfnID":"8e9945a0","dfnText":"body (for request)","external":true,"refSections":[{"refs":[{"id":"ref-for-concept-request-body"}],"title":"4.2. Complete a record"},{"refs":[{"id":"ref-for-concept-request-body\u2460"}],"title":"4.8. Create record objects"},{"refs":[{"id":"ref-for-concept-request-body\u2461"},{"id":"ref-for-concept-request-body\u2462"},{"id":"ref-for-concept-request-body\u2463"},{"id":"ref-for-concept-request-body\u2464"}],"title":"6.3.1. fetch()"}],"url":"https://fetch.spec.whatwg.org/#concept-request-body"},
"902380f7": {"dfnID":"902380f7","dfnText":"credentials mode","external":true,"refSections":[{"refs":[{"id":"ref-for-concept-request-credentials-mode"}],"title":"3.2.1. Display"}],"url":"https://fetch.spec.whatwg.org/#concept-request-credentials-mode"},
"959ad97b": {"dfnID":"959ad97b","dfnText":"origin","external":true,"refSections":[{"refs":[{"id":"ref-for-concept-url-origin"}],"title":"3.2.1. Display"},{"refs":[{"id":"ref-for-concept-url-origin\u2460"}],"title":"4.3. Update background fetch instances"},{"refs":[{"id":"ref-for-concept-url-origin\u2461"}],"title":"8. Privacy and bandwidth usage"}],"url":"https://url.spec.whatwg.org/#concept-url-origin"},
"95d7775a": {"dfnID":"95d7775a","dfnText":"Uint8Array","external":true,"refSections":[{"refs":[{"id":"ref-for-idl-Uint8Array"}],"title":"4.8. Create record objects"}],"url":"https://webidl.spec.whatwg.org/#idl-Uint8Array"},
"970896d2": {"dfnID":"970896d2","dfnText":"byte-case-insensitive","external":true,"refSections":[{"refs":[{"id":"ref-for-byte-case-insensitive"}],"title":"4.7. Extract content-range values"}],"url":"https://infra.spec.whatwg.org/#byte-case-insensitive"},
"9a517a7d": {"dfnID":"9a517a7d","dfnText":"queue a task","external":true,"refSections":[{"refs":[{"id":"ref-for-queue-a-task"}],"title":"3. Infrastructure"},{"refs":[{"id":"ref-for-queue-a-task\u2460"},{"id":"ref-for-queue-a-task\u2461"}],"title":"4.8. Create record objects"}],"url":"https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-task"},
"9c4c1e66": {"dfnID":"9c4c1e66","dfnText":"relevant settings object","external":true,"refSections":[{"refs":[{"id":"ref-for-relevant-settings-object"}],"title":"3. Infrastructure"},{"refs":[{"id":"ref-for-relevant-settings-object\u2460"},{"id":"ref-for-relevant-settings-object\u2461"}],"title":"4.8. Create record objects"},{"refs":[{"id":"ref-for-relevant-settings-object\u2462"},{"id":"ref-for-relevant-settings-object\u2463"}],"title":"6.3.1. fetch()"}],"url":"https://html.spec.whatwg.org/multipage/webappapis.html#relevant-settings-object"},
"9cce47fd": {"dfnID":"9cce47fd","dfnText":"sequence","external":true,"refSections":[{"refs":[{"id":"ref-for-idl-sequence"},{"id":"ref-for-idl-sequence\u2460"},{"id":"ref-for-idl-sequence\u2461"}],"title":"6.3. BackgroundFetchManager"},{"refs":[{"id":"ref-for-idl-sequence\u2462"}],"title":"6.4. BackgroundFetchRegistration"}],"url":"https://webidl.spec.whatwg.org/#idl-sequence"},
"9d386f55": {"dfnID":"9d386f55","dfnText":"event handler event type","external":true,"refSections":[{"refs":[{"id":"ref-for-event-handler-event-type"},{"id":"ref-for-event-handler-event-type\u2460"}],"title":"6.1.1. Events"},{"refs":[{"id":"ref-for-event-handler-event-type\u2461"}],"title":"6.4.1. Events"}],"url":"https://html.spec.whatwg.org/multipage/webappapis.html#event-handler-event-type"},
"a1894061": {"dfnID":"a1894061","dfnText":"no such window","external":true,"refSections":[{"refs":[{"id":"ref-for-dfn-no-such-window"}],"title":"7.1. Click"}],"url":"https://w3c.github.io/webdriver/#dfn-no-such-window"},
"a1d47575": {"dfnID":"a1d47575","dfnText":"status","external":true,"refSections":[{"refs":[{"id":"ref-for-concept-response-status"},{"id":"ref-for-concept-response-status\u2460"},{"id":"ref-for-concept-response-status\u2461"},{"id":"ref-for-concept-response-status\u2462"}],"title":"4.2. Complete a record"},{"refs":[{"id":"ref-for-concept-response-status\u2463"},{"id":"ref-for-concept-response-status\u2464"}],"title":"4.6. Validate a partial response"},{"refs":[{"id":"ref-for-concept-response-status\u2465"},{"id":"ref-for-concept-response-status\u2466"}],"title":"7.1. Click"}],"url":"https://fetch.spec.whatwg.org/#concept-response-status"},
"a27468c5": {"dfnID":"a27468c5","dfnText":"ok status","external":true,"refSections":[{"refs":[{"id":"ref-for-ok-status"}],"title":"4.2. Complete a record"}],"url":"https://fetch.spec.whatwg.org/#ok-status"},
"a33db89a": {"dfnID":"a33db89a","dfnText":"fetch","external":true,"refSections":[{"refs":[{"id":"ref-for-concept-fetch"}],"title":"3.2.1. Display"},{"refs":[{"id":"ref-for-concept-fetch\u2460"}],"title":"4.2. Complete a record"}],"url":"https://fetch.spec.whatwg.org/#concept-fetch"},
"a51ea74c": {"dfnID":"a51ea74c","dfnText":"ServiceWorkerRegistration","external":true,"refSections":[{"refs":[{"id":"ref-for-serviceworkerregistration"},{"id":"ref-for-serviceworkerregistration\u2460"},{"id":"ref-for-serviceworkerregistration\u2461"}],"title":"6.2. Extensions to ServiceWorkerRegistration"}],"url":"https://w3c.github.io/ServiceWorker/#serviceworkerregistration"},
"a5d528b5": {"dfnID":"a5d528b5","dfnText":"match service worker registration","external":true,"refSections":[{"refs":[{"id":"ref-for-match-service-worker-registration"}],"title":"7.1. Click"}],"url":"https://w3c.github.io/ServiceWorker/#match-service-worker-registration"},
"a72449dd": {"dfnID":"a72449dd","dfnText":"in parallel","external":true,"refSections":[{"refs":[{"id":"ref-for-in-parallel"},{"id":"ref-for-in-parallel\u2460"}],"title":"4.1. Perform a background fetch"},{"refs":[{"id":"ref-for-in-parallel\u2461"},{"id":"ref-for-in-parallel\u2462"}],"title":"4.8. Create record objects"},{"refs":[{"id":"ref-for-in-parallel\u2463"},{"id":"ref-for-in-parallel\u2464"},{"id":"ref-for-in-parallel\u2465"}],"title":"6.3.1. fetch()"},{"refs":[{"id":"ref-for-in-parallel\u2466"}],"title":"6.3.2. get()"},{"refs":[{"id":"ref-for-in-parallel\u2467"}],"title":"6.3.3. getIds()"},{"refs":[{"id":"ref-for-in-parallel\u2468"}],"title":"6.4.2. abort()"},{"refs":[{"id":"ref-for-in-parallel\u2460\u24ea"}],"title":"6.4.4. matchAll()"},{"refs":[{"id":"ref-for-in-parallel\u2460\u2460"}],"title":"6.7.1. updateUI()"}],"url":"https://html.spec.whatwg.org/multipage/infrastructure.html#in-parallel"},
"b20e0377": {"dfnID":"b20e0377","dfnText":"no longer open","external":true,"refSections":[{"refs":[{"id":"ref-for-dfn-no-longer-open"}],"title":"7.1. Click"}],"url":"https://w3c.github.io/webdriver/#dfn-no-longer-open"},
"b262501e": {"dfnID":"b262501e","dfnText":"reject","external":true,"refSections":[{"refs":[{"id":"ref-for-reject"},{"id":"ref-for-reject\u2460"}],"title":"4.8. Create record objects"},{"refs":[{"id":"ref-for-reject\u2461"},{"id":"ref-for-reject\u2462"},{"id":"ref-for-reject\u2463"}],"title":"6.3.1. fetch()"}],"url":"https://webidl.spec.whatwg.org/#reject"},
"b3142fb3": {"dfnID":"b3142fb3","dfnText":"webdriver error","external":true,"refSections":[{"refs":[{"id":"ref-for-dfn-errors"},{"id":"ref-for-dfn-errors\u2460"},{"id":"ref-for-dfn-errors\u2461"}],"title":"7.1. Click"}],"url":"https://w3c.github.io/webdriver/#dfn-errors"},
"b3cf1c94": {"dfnID":"b3cf1c94","dfnText":"close","external":true,"refSections":[{"refs":[{"id":"ref-for-readablestream-close"}],"title":"4.8. Create record objects"}],"url":"https://streams.spec.whatwg.org/#readablestream-close"},
"b6ae4501": {"dfnID":"b6ae4501","dfnText":"networking task source","external":true,"refSections":[{"refs":[{"id":"ref-for-networking-task-source"},{"id":"ref-for-networking-task-source\u2460"}],"title":"4.8. Create record objects"}],"url":"https://html.spec.whatwg.org/multipage/webappapis.html#networking-task-source"},
"b78d6a64": {"dfnID":"b78d6a64","dfnText":"event loop","external":true,"refSections":[{"refs":[{"id":"ref-for-concept-agent-event-loop"}],"title":"3. Infrastructure"}],"url":"https://html.spec.whatwg.org/multipage/webappapis.html#concept-agent-event-loop"},
"b864ab71": {"dfnID":"b864ab71","dfnText":"image resource","external":true,"refSections":[{"refs":[{"id":"ref-for-image-resource"}],"title":"3.2.1. Display"}],"url":"https://w3c.github.io/image-resource/#image-resource"},
"ba556545": {"dfnID":"ba556545","dfnText":"NotAllowedError","external":true,"refSections":[{"refs":[{"id":"ref-for-notallowederror"}],"title":"6.3.1. fetch()"}],"url":"https://webidl.spec.whatwg.org/#notallowederror"},
"background-fetch": {"dfnID":"background-fetch","dfnText":"background fetch","external":false,"refSections":[{"refs":[{"id":"ref-for-background-fetch"}],"title":"3.1. Extensions to service worker registration"},{"refs":[{"id":"ref-for-background-fetch\u2460"},{"id":"ref-for-background-fetch\u2461"}],"title":"3.2. Background fetch"},{"refs":[{"id":"ref-for-background-fetch\u2462"}],"title":"3.2.1. Display"},{"refs":[{"id":"ref-for-background-fetch\u2463"},{"id":"ref-for-background-fetch\u2464"}],"title":"4.1. Perform a background fetch"},{"refs":[{"id":"ref-for-background-fetch\u2465"}],"title":"4.2. Complete a record"},{"refs":[{"id":"ref-for-background-fetch\u2466"}],"title":"4.3. Update background fetch instances"},{"refs":[{"id":"ref-for-background-fetch\u2467"}],"title":"4.4. Fire a background fetch click event"},{"refs":[{"id":"ref-for-background-fetch\u2468"},{"id":"ref-for-background-fetch\u2460\u24ea"},{"id":"ref-for-background-fetch\u2460\u2460"}],"title":"4.5. Get a BackgroundFetchRegistration instance"},{"refs":[{"id":"ref-for-background-fetch\u2460\u2461"},{"id":"ref-for-background-fetch\u2460\u2462"}],"title":"4.9. Contains background fetch"},{"refs":[{"id":"ref-for-background-fetch\u2460\u2463"}],"title":"6.3. BackgroundFetchManager"},{"refs":[{"id":"ref-for-background-fetch\u2460\u2464"}],"title":"6.3.1. fetch()"},{"refs":[{"id":"ref-for-background-fetch\u2460\u2465"}],"title":"6.4. BackgroundFetchRegistration"},{"refs":[{"id":"ref-for-background-fetch\u2460\u2466"}],"title":"6.6. BackgroundFetchEvent"},{"refs":[{"id":"ref-for-background-fetch\u2460\u2467"},{"id":"ref-for-background-fetch\u2460\u2468"}],"title":"7.1. Click"},{"refs":[{"id":"ref-for-background-fetch\u2461\u24ea"},{"id":"ref-for-background-fetch\u2461\u2460"},{"id":"ref-for-background-fetch\u2461\u2461"},{"id":"ref-for-background-fetch\u2461\u2462"}],"title":"8. Privacy and bandwidth usage"}],"url":"#background-fetch"},
"background-fetch-abort-all-flag": {"dfnID":"background-fetch-abort-all-flag","dfnText":"abort all flag","external":false,"refSections":[{"refs":[{"id":"ref-for-background-fetch-abort-all-flag"},{"id":"ref-for-background-fetch-abort-all-flag\u2460"}],"title":"3.2.1. Display"},{"refs":[{"id":"ref-for-background-fetch-abort-all-flag\u2461"}],"title":"4.1. Perform a background fetch"},{"refs":[{"id":"ref-for-background-fetch-abort-all-flag\u2462"},{"id":"ref-for-background-fetch-abort-all-flag\u2463"}],"title":"4.2. Complete a record"},{"refs":[{"id":"ref-for-background-fetch-abort-all-flag\u2464"}],"title":"6.4.2. abort()"}],"url":"#background-fetch-abort-all-flag"},
"background-fetch-click": {"dfnID":"background-fetch-click","dfnText":"background fetch click","external":false,"refSections":[{"refs":[{"id":"ref-for-background-fetch-click"}],"title":"7.1. Click"}],"url":"#background-fetch-click"},
"background-fetch-display": {"dfnID":"background-fetch-display","dfnText":"display","external":false,"refSections":[{"refs":[{"id":"ref-for-background-fetch-display"}],"title":"3.2.1. Display"},{"refs":[{"id":"ref-for-background-fetch-display\u2460"}],"title":"6.3.1. fetch()"},{"refs":[{"id":"ref-for-background-fetch-display\u2461"}],"title":"7.1. Click"},{"refs":[{"id":"ref-for-background-fetch-display\u2462"}],"title":"8. Privacy and bandwidth usage"}],"url":"#background-fetch-display"},
"background-fetch-download-total": {"dfnID":"background-fetch-download-total","dfnText":"download total","external":false,"refSections":[{"refs":[{"id":"ref-for-background-fetch-download-total"}],"title":"3.2.1. Display"},{"refs":[{"id":"ref-for-background-fetch-download-total\u2460"}],"title":"4.2. Complete a record"},{"refs":[{"id":"ref-for-background-fetch-download-total\u2461"}],"title":"6.3.1. fetch()"},{"refs":[{"id":"ref-for-background-fetch-download-total\u2462"}],"title":"6.4. BackgroundFetchRegistration"}],"url":"#background-fetch-download-total"},
"background-fetch-failure-reason": {"dfnID":"background-fetch-failure-reason","dfnText":"failure reason","external":false,"refSections":[{"refs":[{"id":"ref-for-background-fetch-failure-reason"}],"title":"4.1. Perform a background fetch"},{"refs":[{"id":"ref-for-background-fetch-failure-reason\u2460"}],"title":"4.3. Update background fetch instances"},{"refs":[{"id":"ref-for-background-fetch-failure-reason\u2461"}],"title":"6.4. BackgroundFetchRegistration"}],"url":"#background-fetch-failure-reason"},
"background-fetch-icons": {"dfnID":"background-fetch-icons","dfnText":"Icons","external":false,"refSections":[{"refs":[{"id":"ref-for-background-fetch-icons"}],"title":"3.2.1. Display"},{"refs":[{"id":"ref-for-background-fetch-icons\u2460"}],"title":"6.3.1. fetch()"},{"refs":[{"id":"ref-for-background-fetch-icons\u2461"}],"title":"6.7.1. updateUI()"}],"url":"#background-fetch-icons"},
"background-fetch-id": {"dfnID":"background-fetch-id","dfnText":"id","external":false,"refSections":[{"refs":[{"id":"ref-for-background-fetch-id"}],"title":"4.1. Perform a background fetch"},{"refs":[{"id":"ref-for-background-fetch-id\u2460"}],"title":"4.9. Contains background fetch"},{"refs":[{"id":"ref-for-background-fetch-id\u2461"}],"title":"6.3.1. fetch()"},{"refs":[{"id":"ref-for-background-fetch-id\u2462"}],"title":"6.4. BackgroundFetchRegistration"},{"refs":[{"id":"ref-for-background-fetch-id\u2463"}],"title":"6.4.2. abort()"},{"refs":[{"id":"ref-for-background-fetch-id\u2464"}],"title":"7.1. Click"}],"url":"#background-fetch-id"},
"background-fetch-paused-flag": {"dfnID":"background-fetch-paused-flag","dfnText":"paused flag","external":false,"refSections":[{"refs":[{"id":"ref-for-background-fetch-paused-flag"},{"id":"ref-for-background-fetch-paused-flag\u2460"},{"id":"ref-for-background-fetch-paused-flag\u2461"},{"id":"ref-for-background-fetch-paused-flag\u2462"},{"id":"ref-for-background-fetch-paused-flag\u2463"},{"id":"ref-for-background-fetch-paused-flag\u2464"}],"title":"3.2.1. Display"},{"refs":[{"id":"ref-for-background-fetch-paused-flag\u2465"},{"id":"ref-for-background-fetch-paused-flag\u2466"},{"id":"ref-for-background-fetch-paused-flag\u2467"}],"title":"4.2. Complete a record"}],"url":"#background-fetch-paused-flag"},
"background-fetch-record": {"dfnID":"background-fetch-record","dfnText":"background fetch record","external":false,"refSections":[{"refs":[{"id":"ref-for-background-fetch-record"}],"title":"3.2. Background fetch"},{"refs":[{"id":"ref-for-background-fetch-record\u2460"},{"id":"ref-for-background-fetch-record\u2461"},{"id":"ref-for-background-fetch-record\u2462"}],"title":"4.2. Complete a record"},{"refs":[{"id":"ref-for-background-fetch-record\u2463"},{"id":"ref-for-background-fetch-record\u2464"}],"title":"4.8. Create record objects"},{"refs":[{"id":"ref-for-background-fetch-record\u2465"}],"title":"6.3.1. fetch()"}],"url":"#background-fetch-record"},
"background-fetch-record-request": {"dfnID":"background-fetch-record-request","dfnText":"request","external":false,"refSections":[{"refs":[{"id":"ref-for-background-fetch-record-request"}],"title":"3.2.1. Display"},{"refs":[{"id":"ref-for-background-fetch-record-request\u2460"}],"title":"4.2. Complete a record"},{"refs":[{"id":"ref-for-background-fetch-record-request\u2461"}],"title":"4.8. Create record objects"},{"refs":[{"id":"ref-for-background-fetch-record-request\u2462"}],"title":"6.3.1. fetch()"},{"refs":[{"id":"ref-for-background-fetch-record-request\u2463"}],"title":"6.4.4. matchAll()"}],"url":"#background-fetch-record-request"},
"background-fetch-record-response-data": {"dfnID":"background-fetch-record-response-data","dfnText":"response data","external":false,"refSections":[{"refs":[{"id":"ref-for-background-fetch-record-response-data"}],"title":"3.2. Background fetch"},{"refs":[{"id":"ref-for-background-fetch-record-response-data\u2460"}],"title":"4.1. Perform a background fetch"},{"refs":[{"id":"ref-for-background-fetch-record-response-data\u2461"},{"id":"ref-for-background-fetch-record-response-data\u2462"}],"title":"4.2. Complete a record"},{"refs":[{"id":"ref-for-background-fetch-record-response-data\u2463"}],"title":"4.8. Create record objects"},{"refs":[{"id":"ref-for-background-fetch-record-response-data\u2464"}],"title":"6.4.4. matchAll()"}],"url":"#background-fetch-record-response-data"},
"background-fetch-records": {"dfnID":"background-fetch-records","dfnText":"Records","external":false,"refSections":[{"refs":[{"id":"ref-for-background-fetch-records"}],"title":"3.2. Background fetch"},{"refs":[{"id":"ref-for-background-fetch-records\u2460"}],"title":"3.2.1. Display"},{"refs":[{"id":"ref-for-background-fetch-records\u2461"},{"id":"ref-for-background-fetch-records\u2462"}],"title":"4.1. Perform a background fetch"},{"refs":[{"id":"ref-for-background-fetch-records\u2463"}],"title":"6.3.1. fetch()"},{"refs":[{"id":"ref-for-background-fetch-records\u2464"}],"title":"6.4.4. matchAll()"}],"url":"#background-fetch-records"},
"background-fetch-records-available-flag": {"dfnID":"background-fetch-records-available-flag","dfnText":"records available flag","external":false,"refSections":[{"refs":[{"id":"ref-for-background-fetch-records-available-flag"}],"title":"4.1. Perform a background fetch"},{"refs":[{"id":"ref-for-background-fetch-records-available-flag\u2460"}],"title":"4.3. Update background fetch instances"},{"refs":[{"id":"ref-for-background-fetch-records-available-flag\u2461"}],"title":"6.4. BackgroundFetchRegistration"}],"url":"#background-fetch-records-available-flag"},
"background-fetch-response": {"dfnID":"background-fetch-response","dfnText":"Background fetch response","external":false,"refSections":[{"refs":[{"id":"ref-for-background-fetch-response"},{"id":"ref-for-background-fetch-response\u2460"}],"title":"3.3. Background fetch record"},{"refs":[{"id":"ref-for-background-fetch-response\u2461"},{"id":"ref-for-background-fetch-response\u2462"}],"title":"4.2. Complete a record"}],"url":"#background-fetch-response"},
"background-fetch-response-bytes": {"dfnID":"background-fetch-response-bytes","dfnText":"Bytes","external":false,"refSections":[{"refs":[{"id":"ref-for-background-fetch-response-bytes"}],"title":"3.2. Background fetch"},{"refs":[{"id":"ref-for-background-fetch-response-bytes\u2460"},{"id":"ref-for-background-fetch-response-bytes\u2461"},{"id":"ref-for-background-fetch-response-bytes\u2462"}],"title":"4.2. Complete a record"},{"refs":[{"id":"ref-for-background-fetch-response-bytes\u2463"},{"id":"ref-for-background-fetch-response-bytes\u2464"},{"id":"ref-for-background-fetch-response-bytes\u2465"},{"id":"ref-for-background-fetch-response-bytes\u2466"},{"id":"ref-for-background-fetch-response-bytes\u2467"}],"title":"4.8. Create record objects"}],"url":"#background-fetch-response-bytes"},
"background-fetch-response-exposed": {"dfnID":"background-fetch-response-exposed","dfnText":"exposed","external":false,"refSections":[{"refs":[{"id":"ref-for-background-fetch-response-exposed"},{"id":"ref-for-background-fetch-response-exposed\u2460"},{"id":"ref-for-background-fetch-response-exposed\u2461"},{"id":"ref-for-background-fetch-response-exposed\u2462"}],"title":"4.8. Create record objects"}],"url":"#background-fetch-response-exposed"},
"background-fetch-response-response": {"dfnID":"background-fetch-response-response","dfnText":"response","external":false,"refSections":[{"refs":[{"id":"ref-for-background-fetch-response-response"}],"title":"3.4. Background fetch response"},{"refs":[{"id":"ref-for-background-fetch-response-response\u2460"},{"id":"ref-for-background-fetch-response-response\u2461"}],"title":"4.2. Complete a record"},{"refs":[{"id":"ref-for-background-fetch-response-response\u2462"},{"id":"ref-for-background-fetch-response-response\u2463"}],"title":"4.8. Create record objects"},{"refs":[{"id":"ref-for-background-fetch-response-response\u2464"}],"title":"6.4.4. matchAll()"}],"url":"#background-fetch-response-response"},
"background-fetch-response-result": {"dfnID":"background-fetch-response-result","dfnText":"result","external":false,"refSections":[{"refs":[{"id":"ref-for-background-fetch-response-result"}],"title":"3.4. Background fetch response"},{"refs":[{"id":"ref-for-background-fetch-response-result\u2460"}],"title":"4.1. Perform a background fetch"},{"refs":[{"id":"ref-for-background-fetch-response-result\u2461"},{"id":"ref-for-background-fetch-response-result\u2462"},{"id":"ref-for-background-fetch-response-result\u2463"},{"id":"ref-for-background-fetch-response-result\u2464"},{"id":"ref-for-background-fetch-response-result\u2465"},{"id":"ref-for-background-fetch-response-result\u2466"},{"id":"ref-for-background-fetch-response-result\u2467"},{"id":"ref-for-background-fetch-response-result\u2468"},{"id":"ref-for-background-fetch-response-result\u2460\u24ea"},{"id":"ref-for-background-fetch-response-result\u2460\u2460"},{"id":"ref-for-background-fetch-response-result\u2460\u2461"},{"id":"ref-for-background-fetch-response-result\u2460\u2462"}],"title":"4.2. Complete a record"},{"refs":[{"id":"ref-for-background-fetch-response-result\u2460\u2463"},{"id":"ref-for-background-fetch-response-result\u2460\u2464"},{"id":"ref-for-background-fetch-response-result\u2460\u2465"},{"id":"ref-for-background-fetch-response-result\u2460\u2466"}],"title":"4.8. Create record objects"}],"url":"#background-fetch-response-result"},
"background-fetch-result": {"dfnID":"background-fetch-result","dfnText":"result","external":false,"refSections":[{"refs":[{"id":"ref-for-background-fetch-result"},{"id":"ref-for-background-fetch-result\u2460"},{"id":"ref-for-background-fetch-result\u2461"}],"title":"3.2.1. Display"},{"refs":[{"id":"ref-for-background-fetch-result\u2462"},{"id":"ref-for-background-fetch-result\u2463"}],"title":"4.1. Perform a background fetch"},{"refs":[{"id":"ref-for-background-fetch-result\u2464"}],"title":"4.3. Update background fetch instances"},{"refs":[{"id":"ref-for-background-fetch-result\u2465"}],"title":"6.4. BackgroundFetchRegistration"}],"url":"#background-fetch-result"},
"background-fetch-service-worker-registration": {"dfnID":"background-fetch-service-worker-registration","dfnText":"service worker registration","external":false,"refSections":[{"refs":[{"id":"ref-for-background-fetch-service-worker-registration"}],"title":"3.2.1. Display"},{"refs":[{"id":"ref-for-background-fetch-service-worker-registration\u2460"}],"title":"4.1. Perform a background fetch"},{"refs":[{"id":"ref-for-background-fetch-service-worker-registration\u2461"}],"title":"4.3. Update background fetch instances"},{"refs":[{"id":"ref-for-background-fetch-service-worker-registration\u2462"}],"title":"4.4. Fire a background fetch click event"},{"refs":[{"id":"ref-for-background-fetch-service-worker-registration\u2463"}],"title":"6.3.1. fetch()"},{"refs":[{"id":"ref-for-background-fetch-service-worker-registration\u2464"}],"title":"6.4.2. abort()"},{"refs":[{"id":"ref-for-background-fetch-service-worker-registration\u2465"}],"title":"7.1. Click"}],"url":"#background-fetch-service-worker-registration"},
"background-fetch-stored-body-bytes-total": {"dfnID":"background-fetch-stored-body-bytes-total","dfnText":"stored body bytes total","external":false,"refSections":[{"refs":[{"id":"ref-for-background-fetch-stored-body-bytes-total"}],"title":"3.2.1. Display"},{"refs":[{"id":"ref-for-background-fetch-stored-body-bytes-total\u2460"}],"title":"4.2. Complete a record"},{"refs":[{"id":"ref-for-background-fetch-stored-body-bytes-total\u2461"}],"title":"4.3. Update background fetch instances"},{"refs":[{"id":"ref-for-background-fetch-stored-body-bytes-total\u2462"}],"title":"6.4. BackgroundFetchRegistration"}],"url":"#background-fetch-stored-body-bytes-total"},
"background-fetch-task-source": {"dfnID":"background-fetch-task-source","dfnText":"background fetch task source","external":false,"refSections":[{"refs":[{"id":"ref-for-background-fetch-task-source"}],"title":"3. Infrastructure"}],"url":"#background-fetch-task-source"},
"background-fetch-title": {"dfnID":"background-fetch-title","dfnText":"title","external":false,"refSections":[{"refs":[{"id":"ref-for-background-fetch-title"}],"title":"3.2.1. Display"},{"refs":[{"id":"ref-for-background-fetch-title\u2460"}],"title":"6.3.1. fetch()"},{"refs":[{"id":"ref-for-background-fetch-title\u2461"}],"title":"6.7.1. updateUI()"}],"url":"#background-fetch-title"},
"background-fetch-update-handling-queue": {"dfnID":"background-fetch-update-handling-queue","dfnText":"update handling queue","external":false,"refSections":[{"refs":[{"id":"ref-for-background-fetch-update-handling-queue"}],"title":"4.3. Update background fetch instances"},{"refs":[{"id":"ref-for-background-fetch-update-handling-queue\u2460"}],"title":"6.3.2. get()"}],"url":"#background-fetch-update-handling-queue"},
"background-fetch-upload-total": {"dfnID":"background-fetch-upload-total","dfnText":"upload total","external":false,"refSections":[{"refs":[{"id":"ref-for-background-fetch-upload-total"}],"title":"3.2.1. Display"},{"refs":[{"id":"ref-for-background-fetch-upload-total\u2460"}],"title":"6.3.1. fetch()"},{"refs":[{"id":"ref-for-background-fetch-upload-total\u2461"}],"title":"6.4. BackgroundFetchRegistration"}],"url":"#background-fetch-upload-total"},
"background-fetch-uploaded": {"dfnID":"background-fetch-uploaded","dfnText":"uploaded","external":false,"refSections":[{"refs":[{"id":"ref-for-background-fetch-uploaded"}],"title":"3.2.1. Display"},{"refs":[{"id":"ref-for-background-fetch-uploaded\u2460"}],"title":"4.2. Complete a record"},{"refs":[{"id":"ref-for-background-fetch-uploaded\u2461"}],"title":"4.3. Update background fetch instances"},{"refs":[{"id":"ref-for-background-fetch-uploaded\u2462"}],"title":"6.4. BackgroundFetchRegistration"}],"url":"#background-fetch-uploaded"},
"backgroundfetchevent": {"dfnID":"backgroundfetchevent","dfnText":"BackgroundFetchEvent","external":false,"refSections":[{"refs":[{"id":"ref-for-backgroundfetchevent"}],"title":"4.1. Perform a background fetch"},{"refs":[{"id":"ref-for-backgroundfetchevent\u2460"}],"title":"4.4. Fire a background fetch click event"},{"refs":[{"id":"ref-for-backgroundfetchevent\u2461"},{"id":"ref-for-backgroundfetchevent\u2462"}],"title":"6.1.1. Events"},{"refs":[{"id":"ref-for-backgroundfetchevent\u2463"},{"id":"ref-for-backgroundfetchevent\u2464"}],"title":"6.6. BackgroundFetchEvent"},{"refs":[{"id":"ref-for-backgroundfetchevent\u2465"}],"title":"6.7. BackgroundFetchUpdateUIEvent"}],"url":"#backgroundfetchevent"},
"backgroundfetchevent-background-fetch": {"dfnID":"backgroundfetchevent-background-fetch","dfnText":"background fetch","external":false,"refSections":[{"refs":[{"id":"ref-for-backgroundfetchevent-background-fetch"}],"title":"6.7.1. updateUI()"}],"url":"#backgroundfetchevent-background-fetch"},
"backgroundfetchmanager": {"dfnID":"backgroundfetchmanager","dfnText":"BackgroundFetchManager","external":false,"refSections":[{"refs":[{"id":"ref-for-backgroundfetchmanager"},{"id":"ref-for-backgroundfetchmanager\u2460"}],"title":"4.5. Get a BackgroundFetchRegistration instance"},{"refs":[{"id":"ref-for-backgroundfetchmanager\u2461"},{"id":"ref-for-backgroundfetchmanager\u2462"},{"id":"ref-for-backgroundfetchmanager\u2463"}],"title":"6.2. Extensions to ServiceWorkerRegistration"},{"refs":[{"id":"ref-for-backgroundfetchmanager\u2464"},{"id":"ref-for-backgroundfetchmanager\u2465"}],"title":"6.3. BackgroundFetchManager"}],"url":"#backgroundfetchmanager"},
"backgroundfetchmanager-backgroundfetchregistration-instances": {"dfnID":"backgroundfetchmanager-backgroundfetchregistration-instances","dfnText":"BackgroundFetchRegistration instances","external":false,"refSections":[{"refs":[{"id":"ref-for-backgroundfetchmanager-backgroundfetchregistration-instances"}],"title":"4.5. Get a BackgroundFetchRegistration instance"}],"url":"#backgroundfetchmanager-backgroundfetchregistration-instances"},
"backgroundfetchmanager-service-worker-registration": {"dfnID":"backgroundfetchmanager-service-worker-registration","dfnText":"service worker registration","external":false,"refSections":[{"refs":[{"id":"ref-for-backgroundfetchmanager-service-worker-registration"}],"title":"6.2. Extensions to ServiceWorkerRegistration"},{"refs":[{"id":"ref-for-backgroundfetchmanager-service-worker-registration\u2460"}],"title":"6.3.1. fetch()"},{"refs":[{"id":"ref-for-backgroundfetchmanager-service-worker-registration\u2461"}],"title":"6.3.2. get()"},{"refs":[{"id":"ref-for-backgroundfetchmanager-service-worker-registration\u2462"}],"title":"6.3.3. getIds()"}],"url":"#backgroundfetchmanager-service-worker-registration"},
"backgroundfetchrecord": {"dfnID":"backgroundfetchrecord","dfnText":"BackgroundFetchRecord","external":false,"refSections":[{"refs":[{"id":"ref-for-backgroundfetchrecord"}],"title":"4.8. Create record objects"},{"refs":[{"id":"ref-for-backgroundfetchrecord\u2460"},{"id":"ref-for-backgroundfetchrecord\u2461"}],"title":"6.4. BackgroundFetchRegistration"},{"refs":[{"id":"ref-for-backgroundfetchrecord\u2462"},{"id":"ref-for-backgroundfetchrecord\u2463"}],"title":"6.5. BackgroundFetchRecord"}],"url":"#backgroundfetchrecord"},
"backgroundfetchrecord-request": {"dfnID":"backgroundfetchrecord-request","dfnText":"request","external":false,"refSections":[{"refs":[{"id":"ref-for-backgroundfetchrecord-request"}],"title":"6.5. BackgroundFetchRecord"}],"url":"#backgroundfetchrecord-request"},
"backgroundfetchrecord-response-promise": {"dfnID":"backgroundfetchrecord-response-promise","dfnText":"response promise","external":false,"refSections":[{"refs":[{"id":"ref-for-backgroundfetchrecord-response-promise"}],"title":"6.5. BackgroundFetchRecord"}],"url":"#backgroundfetchrecord-response-promise"},
"backgroundfetchregistration": {"dfnID":"backgroundfetchregistration","dfnText":"BackgroundFetchRegistration","external":false,"refSections":[{"refs":[{"id":"ref-for-backgroundfetchregistration"}],"title":"4.3. Update background fetch instances"},{"refs":[{"id":"ref-for-backgroundfetchregistration\u2460"},{"id":"ref-for-backgroundfetchregistration\u2461"}],"title":"4.5. Get a BackgroundFetchRegistration instance"},{"refs":[{"id":"ref-for-backgroundfetchregistration\u2462"},{"id":"ref-for-backgroundfetchregistration\u2463"},{"id":"ref-for-backgroundfetchregistration\u2464"}],"title":"6.3. BackgroundFetchManager"},{"refs":[{"id":"ref-for-backgroundfetchregistration\u2465"}],"title":"6.3.2. get()"},{"refs":[{"id":"ref-for-backgroundfetchregistration\u2466"},{"id":"ref-for-backgroundfetchregistration\u2467"}],"title":"6.4. BackgroundFetchRegistration"},{"refs":[{"id":"ref-for-backgroundfetchregistration\u2468"},{"id":"ref-for-backgroundfetchregistration\u2460\u24ea"}],"title":"6.6. BackgroundFetchEvent"}],"url":"#backgroundfetchregistration"},
"backgroundfetchregistration-background-fetch": {"dfnID":"backgroundfetchregistration-background-fetch","dfnText":"background fetch","external":false,"refSections":[{"refs":[{"id":"ref-for-backgroundfetchregistration-background-fetch"}],"title":"4.3. Update background fetch instances"},{"refs":[{"id":"ref-for-backgroundfetchregistration-background-fetch\u2460"}],"title":"4.5. Get a BackgroundFetchRegistration instance"},{"refs":[{"id":"ref-for-backgroundfetchregistration-background-fetch\u2461"},{"id":"ref-for-backgroundfetchregistration-background-fetch\u2462"},{"id":"ref-for-backgroundfetchregistration-background-fetch\u2463"},{"id":"ref-for-backgroundfetchregistration-background-fetch\u2464"},{"id":"ref-for-backgroundfetchregistration-background-fetch\u2465"},{"id":"ref-for-backgroundfetchregistration-background-fetch\u2466"},{"id":"ref-for-backgroundfetchregistration-background-fetch\u2467"},{"id":"ref-for-backgroundfetchregistration-background-fetch\u2468"}],"title":"6.4. BackgroundFetchRegistration"},{"refs":[{"id":"ref-for-backgroundfetchregistration-background-fetch\u2460\u24ea"}],"title":"6.4.2. abort()"},{"refs":[{"id":"ref-for-backgroundfetchregistration-background-fetch\u2460\u2460"}],"title":"6.4.4. matchAll()"},{"refs":[{"id":"ref-for-backgroundfetchregistration-background-fetch\u2460\u2461"}],"title":"6.6. BackgroundFetchEvent"}],"url":"#backgroundfetchregistration-background-fetch"},
"backgroundfetchregistration-download-total": {"dfnID":"backgroundfetchregistration-download-total","dfnText":"download total","external":false,"refSections":[{"refs":[{"id":"ref-for-backgroundfetchregistration-download-total"}],"title":"6.4. BackgroundFetchRegistration"}],"url":"#backgroundfetchregistration-download-total"},
"backgroundfetchregistration-downloaded": {"dfnID":"backgroundfetchregistration-downloaded","dfnText":"downloaded","external":false,"refSections":[{"refs":[{"id":"ref-for-backgroundfetchregistration-downloaded"},{"id":"ref-for-backgroundfetchregistration-downloaded\u2460"}],"title":"4.3. Update background fetch instances"},{"refs":[{"id":"ref-for-backgroundfetchregistration-downloaded\u2461"}],"title":"6.4. BackgroundFetchRegistration"}],"url":"#backgroundfetchregistration-downloaded"},
"backgroundfetchregistration-failure-reason": {"dfnID":"backgroundfetchregistration-failure-reason","dfnText":"failure reason","external":false,"refSections":[{"refs":[{"id":"ref-for-backgroundfetchregistration-failure-reason"},{"id":"ref-for-backgroundfetchregistration-failure-reason\u2460"}],"title":"4.3. Update background fetch instances"},{"refs":[{"id":"ref-for-backgroundfetchregistration-failure-reason\u2461"}],"title":"6.4. BackgroundFetchRegistration"}],"url":"#backgroundfetchregistration-failure-reason"},
"backgroundfetchregistration-id": {"dfnID":"backgroundfetchregistration-id","dfnText":"id","external":false,"refSections":[{"refs":[{"id":"ref-for-backgroundfetchregistration-id"}],"title":"6.4. BackgroundFetchRegistration"}],"url":"#backgroundfetchregistration-id"},
"backgroundfetchregistration-records-available-flag": {"dfnID":"backgroundfetchregistration-records-available-flag","dfnText":"records available flag","external":false,"refSections":[{"refs":[{"id":"ref-for-backgroundfetchregistration-records-available-flag"},{"id":"ref-for-backgroundfetchregistration-records-available-flag\u2460"}],"title":"4.3. Update background fetch instances"},{"refs":[{"id":"ref-for-backgroundfetchregistration-records-available-flag\u2461"}],"title":"6.4. BackgroundFetchRegistration"},{"refs":[{"id":"ref-for-backgroundfetchregistration-records-available-flag\u2462"}],"title":"6.4.4. matchAll()"}],"url":"#backgroundfetchregistration-records-available-flag"},
"backgroundfetchregistration-result": {"dfnID":"backgroundfetchregistration-result","dfnText":"result","external":false,"refSections":[{"refs":[{"id":"ref-for-backgroundfetchregistration-result"},{"id":"ref-for-backgroundfetchregistration-result\u2460"},{"id":"ref-for-backgroundfetchregistration-result\u2461"}],"title":"4.3. Update background fetch instances"},{"refs":[{"id":"ref-for-backgroundfetchregistration-result\u2462"}],"title":"6.4. BackgroundFetchRegistration"}],"url":"#backgroundfetchregistration-result"},
"backgroundfetchregistration-upload-total": {"dfnID":"backgroundfetchregistration-upload-total","dfnText":"upload total","external":false,"refSections":[{"refs":[{"id":"ref-for-backgroundfetchregistration-upload-total"}],"title":"6.4. BackgroundFetchRegistration"}],"url":"#backgroundfetchregistration-upload-total"},
"backgroundfetchregistration-uploaded": {"dfnID":"backgroundfetchregistration-uploaded","dfnText":"uploaded","external":false,"refSections":[{"refs":[{"id":"ref-for-backgroundfetchregistration-uploaded"},{"id":"ref-for-backgroundfetchregistration-uploaded\u2460"}],"title":"4.3. Update background fetch instances"},{"refs":[{"id":"ref-for-backgroundfetchregistration-uploaded\u2461"}],"title":"6.4. BackgroundFetchRegistration"}],"url":"#backgroundfetchregistration-uploaded"},
"backgroundfetchupdateuievent": {"dfnID":"backgroundfetchupdateuievent","dfnText":"BackgroundFetchUpdateUIEvent","external":false,"refSections":[{"refs":[{"id":"ref-for-backgroundfetchupdateuievent"},{"id":"ref-for-backgroundfetchupdateuievent\u2460"}],"title":"4.1. Perform a background fetch"},{"refs":[{"id":"ref-for-backgroundfetchupdateuievent\u2461"},{"id":"ref-for-backgroundfetchupdateuievent\u2462"}],"title":"6.1.1. Events"},{"refs":[{"id":"ref-for-backgroundfetchupdateuievent\u2463"},{"id":"ref-for-backgroundfetchupdateuievent\u2464"}],"title":"6.7. BackgroundFetchUpdateUIEvent"}],"url":"#backgroundfetchupdateuievent"},
"backgroundfetchupdateuievent-ui-updated-flag": {"dfnID":"backgroundfetchupdateuievent-ui-updated-flag","dfnText":"UI updated flag","external":false,"refSections":[{"refs":[{"id":"ref-for-backgroundfetchupdateuievent-ui-updated-flag"},{"id":"ref-for-backgroundfetchupdateuievent-ui-updated-flag\u2460"}],"title":"6.7.1. updateUI()"}],"url":"#backgroundfetchupdateuievent-ui-updated-flag"},
"bc7f2174": {"dfnID":"bc7f2174","dfnText":"extension command","external":true,"refSections":[{"refs":[{"id":"ref-for-dfn-extension-command"}],"title":"7. Automation"},{"refs":[{"id":"ref-for-dfn-extension-command\u2460"}],"title":"7.1. Click"}],"url":"https://w3c.github.io/webdriver/#dfn-extension-command"},
"bdbd19d1": {"dfnID":"bdbd19d1","dfnText":"Promise","external":true,"refSections":[{"refs":[{"id":"ref-for-idl-promise"},{"id":"ref-for-idl-promise\u2460"},{"id":"ref-for-idl-promise\u2461"}],"title":"6.3. BackgroundFetchManager"},{"refs":[{"id":"ref-for-idl-promise\u2462"},{"id":"ref-for-idl-promise\u2463"},{"id":"ref-for-idl-promise\u2464"}],"title":"6.4. BackgroundFetchRegistration"},{"refs":[{"id":"ref-for-idl-promise\u2465"},{"id":"ref-for-idl-promise\u2466"}],"title":"6.5. BackgroundFetchRecord"},{"refs":[{"id":"ref-for-idl-promise\u2467"}],"title":"6.7. BackgroundFetchUpdateUIEvent"}],"url":"https://webidl.spec.whatwg.org/#idl-promise"},
"c3b2d08c": {"dfnID":"c3b2d08c","dfnText":"task source","external":true,"refSections":[{"refs":[{"id":"ref-for-task-source"}],"title":"3. Infrastructure"}],"url":"https://html.spec.whatwg.org/multipage/webappapis.html#task-source"},
"c60ed63a": {"dfnID":"c60ed63a","dfnText":"service worker","external":true,"refSections":[{"refs":[{"id":"ref-for-dfn-service-worker"},{"id":"ref-for-dfn-service-worker\u2460"}],"title":"1. Introduction"}],"url":"https://w3c.github.io/ServiceWorker/#dfn-service-worker"},
"c9e7c11a": {"dfnID":"c9e7c11a","dfnText":"header","external":true,"refSections":[{"refs":[{"id":"ref-for-concept-header"}],"title":"4.7. Extract content-range values"}],"url":"https://fetch.spec.whatwg.org/#concept-header"},
"cb98f71f": {"dfnID":"cb98f71f","dfnText":"mode","external":true,"refSections":[{"refs":[{"id":"ref-for-concept-request-mode"}],"title":"3.2.1. Display"},{"refs":[{"id":"ref-for-concept-request-mode\u2460"}],"title":"6.3.1. fetch()"}],"url":"https://fetch.spec.whatwg.org/#concept-request-mode"},
"ce860b8c": {"dfnID":"ce860b8c","dfnText":"ImageResource","external":true,"refSections":[{"refs":[{"id":"ref-for-dom-imageresource"}],"title":"3.2. Background fetch"},{"refs":[{"id":"ref-for-dom-imageresource\u2460"}],"title":"6.3. BackgroundFetchManager"}],"url":"https://w3c.github.io/image-resource/#dom-imageresource"},
"complete-a-record": {"dfnID":"complete-a-record","dfnText":"complete a record","external":false,"refSections":[{"refs":[{"id":"ref-for-complete-a-record"},{"id":"ref-for-complete-a-record\u2460"}],"title":"4.1. Perform a background fetch"},{"refs":[{"id":"ref-for-complete-a-record\u2461"},{"id":"ref-for-complete-a-record\u2462"}],"title":"4.2. Complete a record"}],"url":"#complete-a-record"},
"contains-background-fetch": {"dfnID":"contains-background-fetch","dfnText":"contains background fetch","external":false,"refSections":[{"refs":[{"id":"ref-for-contains-background-fetch"}],"title":"4.1. Perform a background fetch"},{"refs":[{"id":"ref-for-contains-background-fetch\u2460"},{"id":"ref-for-contains-background-fetch\u2461"}],"title":"4.9. Contains background fetch"}],"url":"#contains-background-fetch"},
"create-record-objects": {"dfnID":"create-record-objects","dfnText":"create record objects","external":false,"refSections":[{"refs":[{"id":"ref-for-create-record-objects"}],"title":"4.2. Complete a record"},{"refs":[{"id":"ref-for-create-record-objects\u2460"}],"title":"4.8. Create record objects"},{"refs":[{"id":"ref-for-create-record-objects\u2461"}],"title":"6.4.4. matchAll()"}],"url":"#create-record-objects"},
"d0b4a948": {"dfnID":"d0b4a948","dfnText":"a promise rejected with","external":true,"refSections":[{"refs":[{"id":"ref-for-a-promise-rejected-with"},{"id":"ref-for-a-promise-rejected-with\u2460"},{"id":"ref-for-a-promise-rejected-with\u2461"}],"title":"6.3.1. fetch()"},{"refs":[{"id":"ref-for-a-promise-rejected-with\u2462"}],"title":"6.4.4. matchAll()"}],"url":"https://webidl.spec.whatwg.org/#a-promise-rejected-with"},
"d124397f": {"dfnID":"d124397f","dfnText":"permission state","external":true,"refSections":[{"refs":[{"id":"ref-for-dfn-permission-state"}],"title":"3.2.1. Display"},{"refs":[{"id":"ref-for-dfn-permission-state\u2460"}],"title":"6.3.1. fetch()"}],"url":"https://w3c.github.io/permissions/#dfn-permission-state"},
"d25dfb2c": {"dfnID":"d25dfb2c","dfnText":"AbortError","external":true,"refSections":[{"refs":[{"id":"ref-for-aborterror"},{"id":"ref-for-aborterror\u2460"}],"title":"4.8. Create record objects"},{"refs":[{"id":"ref-for-aborterror\u2461"}],"title":"6.3.1. fetch()"}],"url":"https://webidl.spec.whatwg.org/#aborterror"},
"d2763ae9": {"dfnID":"d2763ae9","dfnText":"fire a functional event","external":true,"refSections":[{"refs":[{"id":"ref-for-fire-functional-event"}],"title":"4.1. Perform a background fetch"},{"refs":[{"id":"ref-for-fire-functional-event\u2460"}],"title":"4.4. Fire a background fetch click event"}],"url":"https://w3c.github.io/ServiceWorker/#fire-functional-event"},
"d5434eef": {"dfnID":"d5434eef","dfnText":"contains","external":true,"refSections":[{"refs":[{"id":"ref-for-header-list-contains"}],"title":"4.6. Validate a partial response"},{"refs":[{"id":"ref-for-header-list-contains\u2460"}],"title":"4.7. Extract content-range values"}],"url":"https://fetch.spec.whatwg.org/#header-list-contains"},
"dacde8b5": {"dfnID":"dacde8b5","dfnText":"a new promise","external":true,"refSections":[{"refs":[{"id":"ref-for-a-new-promise"},{"id":"ref-for-a-new-promise\u2460"}],"title":"4.8. Create record objects"},{"refs":[{"id":"ref-for-a-new-promise\u2461"}],"title":"6.3.1. fetch()"},{"refs":[{"id":"ref-for-a-new-promise\u2462"}],"title":"6.3.2. get()"},{"refs":[{"id":"ref-for-a-new-promise\u2463"}],"title":"6.3.3. getIds()"},{"refs":[{"id":"ref-for-a-new-promise\u2464"}],"title":"6.4.2. abort()"},{"refs":[{"id":"ref-for-a-new-promise\u2465"}],"title":"6.4.4. matchAll()"},{"refs":[{"id":"ref-for-a-new-promise\u2466"}],"title":"6.7.1. updateUI()"}],"url":"https://webidl.spec.whatwg.org/#a-new-promise"},
"db6dbae4": {"dfnID":"db6dbae4","dfnText":"realm","external":true,"refSections":[{"refs":[{"id":"ref-for-realm"}],"title":"4.5. Get a BackgroundFetchRegistration instance"},{"refs":[{"id":"ref-for-realm\u2460"}],"title":"4.8. Create record objects"}],"url":"https://tc39.github.io/ecma262/#realm"},
"db8aa4d8": {"dfnID":"db8aa4d8","dfnText":"stream","external":true,"refSections":[{"refs":[{"id":"ref-for-concept-body-stream"}],"title":"4.2. Complete a record"},{"refs":[{"id":"ref-for-concept-body-stream\u2460"}],"title":"4.8. Create record objects"},{"refs":[{"id":"ref-for-concept-body-stream\u2461"}],"title":"6.3.1. fetch()"}],"url":"https://fetch.spec.whatwg.org/#concept-body-stream"},
"dc1cd39b": {"dfnID":"dc1cd39b","dfnText":"url","external":true,"refSections":[{"refs":[{"id":"ref-for-concept-request-url"}],"title":"3.2.1. Display"}],"url":"https://fetch.spec.whatwg.org/#concept-request-url"},
"dca2de17": {"dfnID":"dca2de17","dfnText":"DOMException","external":true,"refSections":[{"refs":[{"id":"ref-for-idl-DOMException"},{"id":"ref-for-idl-DOMException\u2460"}],"title":"4.8. Create record objects"},{"refs":[{"id":"ref-for-idl-DOMException\u2461"},{"id":"ref-for-idl-DOMException\u2462"},{"id":"ref-for-idl-DOMException\u2463"}],"title":"6.3.1. fetch()"},{"refs":[{"id":"ref-for-idl-DOMException\u2464"}],"title":"6.4.4. matchAll()"},{"refs":[{"id":"ref-for-idl-DOMException\u2465"}],"title":"6.7.1. updateUI()"}],"url":"https://webidl.spec.whatwg.org/#idl-DOMException"},
"df733259": {"dfnID":"df733259","dfnText":"webdriver success","external":true,"refSections":[{"refs":[{"id":"ref-for-dfn-success"}],"title":"7.1. Click"}],"url":"https://w3c.github.io/webdriver/#dfn-success"},
"dictdef-backgroundfetcheventinit": {"dfnID":"dictdef-backgroundfetcheventinit","dfnText":"BackgroundFetchEventInit","external":false,"refSections":[{"refs":[{"id":"ref-for-dictdef-backgroundfetcheventinit"}],"title":"6.6. BackgroundFetchEvent"},{"refs":[{"id":"ref-for-dictdef-backgroundfetcheventinit\u2460"}],"title":"6.7. BackgroundFetchUpdateUIEvent"}],"url":"#dictdef-backgroundfetcheventinit"},
"dictdef-backgroundfetchoptions": {"dfnID":"dictdef-backgroundfetchoptions","dfnText":"BackgroundFetchOptions","external":false,"refSections":[{"refs":[{"id":"ref-for-dictdef-backgroundfetchoptions"}],"title":"6.3. BackgroundFetchManager"}],"url":"#dictdef-backgroundfetchoptions"},
"dictdef-backgroundfetchuioptions": {"dfnID":"dictdef-backgroundfetchuioptions","dfnText":"BackgroundFetchUIOptions","external":false,"refSections":[{"refs":[{"id":"ref-for-dictdef-backgroundfetchuioptions"}],"title":"6.3. BackgroundFetchManager"},{"refs":[{"id":"ref-for-dictdef-backgroundfetchuioptions\u2460"}],"title":"6.7. BackgroundFetchUpdateUIEvent"}],"url":"#dictdef-backgroundfetchuioptions"},
"does-not-contain-background-fetch": {"dfnID":"does-not-contain-background-fetch","dfnText":"does not contain background fetch","external":false,"refSections":[{"refs":[{"id":"ref-for-does-not-contain-background-fetch"}],"title":"6.4.2. abort()"}],"url":"#does-not-contain-background-fetch"},
"dom-backgroundfetchevent-backgroundfetchevent": {"dfnID":"dom-backgroundfetchevent-backgroundfetchevent","dfnText":"constructor","external":false,"refSections":[],"url":"#dom-backgroundfetchevent-backgroundfetchevent"},
"dom-backgroundfetchevent-backgroundfetchevent-type-init-init": {"dfnID":"dom-backgroundfetchevent-backgroundfetchevent-type-init-init","dfnText":"init","external":false,"refSections":[],"url":"#dom-backgroundfetchevent-backgroundfetchevent-type-init-init"},
"dom-backgroundfetchevent-backgroundfetchevent-type-init-type": {"dfnID":"dom-backgroundfetchevent-backgroundfetchevent-type-init-type","dfnText":"type","external":false,"refSections":[],"url":"#dom-backgroundfetchevent-backgroundfetchevent-type-init-type"},
"dom-backgroundfetchevent-registration": {"dfnID":"dom-backgroundfetchevent-registration","dfnText":"registration","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-backgroundfetchevent-registration"}],"title":"4.1. Perform a background fetch"},{"refs":[{"id":"ref-for-dom-backgroundfetchevent-registration\u2460"}],"title":"4.4. Fire a background fetch click event"},{"refs":[{"id":"ref-for-dom-backgroundfetchevent-registration\u2461"},{"id":"ref-for-dom-backgroundfetchevent-registration\u2462"}],"title":"6.6. BackgroundFetchEvent"}],"url":"#dom-backgroundfetchevent-registration"},
"dom-backgroundfetcheventinit-registration": {"dfnID":"dom-backgroundfetcheventinit-registration","dfnText":"registration","external":false,"refSections":[],"url":"#dom-backgroundfetcheventinit-registration"},
"dom-backgroundfetchfailurereason": {"dfnID":"dom-backgroundfetchfailurereason","dfnText":"\"\"","external":false,"refSections":[],"url":"#dom-backgroundfetchfailurereason"},
"dom-backgroundfetchfailurereason-aborted": {"dfnID":"dom-backgroundfetchfailurereason-aborted","dfnText":"\"aborted\"","external":false,"refSections":[],"url":"#dom-backgroundfetchfailurereason-aborted"},
"dom-backgroundfetchfailurereason-bad-status": {"dfnID":"dom-backgroundfetchfailurereason-bad-status","dfnText":"\"bad-status\"","external":false,"refSections":[],"url":"#dom-backgroundfetchfailurereason-bad-status"},
"dom-backgroundfetchfailurereason-download-total-exceeded": {"dfnID":"dom-backgroundfetchfailurereason-download-total-exceeded","dfnText":"\"download-total-exceeded\"","external":false,"refSections":[],"url":"#dom-backgroundfetchfailurereason-download-total-exceeded"},
"dom-backgroundfetchfailurereason-fetch-error": {"dfnID":"dom-backgroundfetchfailurereason-fetch-error","dfnText":"\"fetch-error\"","external":false,"refSections":[],"url":"#dom-backgroundfetchfailurereason-fetch-error"},
"dom-backgroundfetchfailurereason-quota-exceeded": {"dfnID":"dom-backgroundfetchfailurereason-quota-exceeded","dfnText":"\"quota-exceeded\"","external":false,"refSections":[],"url":"#dom-backgroundfetchfailurereason-quota-exceeded"},
"dom-backgroundfetchmanager-fetch": {"dfnID":"dom-backgroundfetchmanager-fetch","dfnText":"fetch(id, requests, options)","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-backgroundfetchmanager-fetch"}],"title":"6.3. BackgroundFetchManager"},{"refs":[{"id":"ref-for-dom-backgroundfetchmanager-fetch\u2460"}],"title":"6.3.1. fetch()"}],"url":"#dom-backgroundfetchmanager-fetch"},
"dom-backgroundfetchmanager-fetch-id-requests-options-id": {"dfnID":"dom-backgroundfetchmanager-fetch-id-requests-options-id","dfnText":"id","external":false,"refSections":[],"url":"#dom-backgroundfetchmanager-fetch-id-requests-options-id"},
"dom-backgroundfetchmanager-fetch-id-requests-options-options": {"dfnID":"dom-backgroundfetchmanager-fetch-id-requests-options-options","dfnText":"options","external":false,"refSections":[],"url":"#dom-backgroundfetchmanager-fetch-id-requests-options-options"},
"dom-backgroundfetchmanager-fetch-id-requests-options-requests": {"dfnID":"dom-backgroundfetchmanager-fetch-id-requests-options-requests","dfnText":"requests","external":false,"refSections":[],"url":"#dom-backgroundfetchmanager-fetch-id-requests-options-requests"},
"dom-backgroundfetchmanager-get": {"dfnID":"dom-backgroundfetchmanager-get","dfnText":"get(id)","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-backgroundfetchmanager-get"}],"title":"6.3. BackgroundFetchManager"},{"refs":[{"id":"ref-for-dom-backgroundfetchmanager-get\u2460"}],"title":"6.3.2. get()"}],"url":"#dom-backgroundfetchmanager-get"},
"dom-backgroundfetchmanager-get-id-id": {"dfnID":"dom-backgroundfetchmanager-get-id-id","dfnText":"id","external":false,"refSections":[],"url":"#dom-backgroundfetchmanager-get-id-id"},
"dom-backgroundfetchmanager-getids": {"dfnID":"dom-backgroundfetchmanager-getids","dfnText":"getIds()","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-backgroundfetchmanager-getids"}],"title":"6.3. BackgroundFetchManager"},{"refs":[{"id":"ref-for-dom-backgroundfetchmanager-getids\u2460"}],"title":"6.3.3. getIds()"}],"url":"#dom-backgroundfetchmanager-getids"},
"dom-backgroundfetchoptions-downloadtotal": {"dfnID":"dom-backgroundfetchoptions-downloadtotal","dfnText":"downloadTotal","external":false,"refSections":[],"url":"#dom-backgroundfetchoptions-downloadtotal"},
"dom-backgroundfetchrecord-request": {"dfnID":"dom-backgroundfetchrecord-request","dfnText":"request","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-backgroundfetchrecord-request"}],"title":"4.8. Create record objects"},{"refs":[{"id":"ref-for-dom-backgroundfetchrecord-request\u2460"}],"title":"6.5. BackgroundFetchRecord"}],"url":"#dom-backgroundfetchrecord-request"},
"dom-backgroundfetchrecord-responseready": {"dfnID":"dom-backgroundfetchrecord-responseready","dfnText":"responseReady","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-backgroundfetchrecord-responseready"},{"id":"ref-for-dom-backgroundfetchrecord-responseready\u2460"},{"id":"ref-for-dom-backgroundfetchrecord-responseready\u2461"},{"id":"ref-for-dom-backgroundfetchrecord-responseready\u2462"}],"title":"4.8. Create record objects"},{"refs":[{"id":"ref-for-dom-backgroundfetchrecord-responseready\u2463"}],"title":"6.5. BackgroundFetchRecord"}],"url":"#dom-backgroundfetchrecord-responseready"},
"dom-backgroundfetchregistration-abort": {"dfnID":"dom-backgroundfetchregistration-abort","dfnText":"abort()","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-backgroundfetchregistration-abort"},{"id":"ref-for-dom-backgroundfetchregistration-abort\u2460"}],"title":"4.1. Perform a background fetch"},{"refs":[{"id":"ref-for-dom-backgroundfetchregistration-abort\u2461"}],"title":"6.4. BackgroundFetchRegistration"},{"refs":[{"id":"ref-for-dom-backgroundfetchregistration-abort\u2462"}],"title":"6.4.2. abort()"}],"url":"#dom-backgroundfetchregistration-abort"},
"dom-backgroundfetchregistration-downloaded": {"dfnID":"dom-backgroundfetchregistration-downloaded","dfnText":"downloaded","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-backgroundfetchregistration-downloaded"}],"title":"6.4. BackgroundFetchRegistration"}],"url":"#dom-backgroundfetchregistration-downloaded"},
"dom-backgroundfetchregistration-downloadtotal": {"dfnID":"dom-backgroundfetchregistration-downloadtotal","dfnText":"downloadTotal","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-backgroundfetchregistration-downloadtotal"}],"title":"6.4. BackgroundFetchRegistration"}],"url":"#dom-backgroundfetchregistration-downloadtotal"},
"dom-backgroundfetchregistration-failurereason": {"dfnID":"dom-backgroundfetchregistration-failurereason","dfnText":"failureReason","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-backgroundfetchregistration-failurereason"}],"title":"6.4. BackgroundFetchRegistration"}],"url":"#dom-backgroundfetchregistration-failurereason"},
"dom-backgroundfetchregistration-id": {"dfnID":"dom-backgroundfetchregistration-id","dfnText":"id","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-backgroundfetchregistration-id"}],"title":"6.4. BackgroundFetchRegistration"}],"url":"#dom-backgroundfetchregistration-id"},
"dom-backgroundfetchregistration-match": {"dfnID":"dom-backgroundfetchregistration-match","dfnText":"match(request, options)","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-backgroundfetchregistration-match"}],"title":"6.4. BackgroundFetchRegistration"},{"refs":[{"id":"ref-for-dom-backgroundfetchregistration-match\u2460"}],"title":"6.4.3. match()"}],"url":"#dom-backgroundfetchregistration-match"},
"dom-backgroundfetchregistration-match-request-options-options": {"dfnID":"dom-backgroundfetchregistration-match-request-options-options","dfnText":"options","external":false,"refSections":[],"url":"#dom-backgroundfetchregistration-match-request-options-options"},
"dom-backgroundfetchregistration-match-request-options-request": {"dfnID":"dom-backgroundfetchregistration-match-request-options-request","dfnText":"request","external":false,"refSections":[],"url":"#dom-backgroundfetchregistration-match-request-options-request"},
"dom-backgroundfetchregistration-matchall": {"dfnID":"dom-backgroundfetchregistration-matchall","dfnText":"matchAll(request, options)","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-backgroundfetchregistration-matchall"}],"title":"6.4. BackgroundFetchRegistration"},{"refs":[{"id":"ref-for-dom-backgroundfetchregistration-matchall\u2460"},{"id":"ref-for-dom-backgroundfetchregistration-matchall\u2461"}],"title":"6.4.3. match()"},{"refs":[{"id":"ref-for-dom-backgroundfetchregistration-matchall\u2462"}],"title":"6.4.4. matchAll()"}],"url":"#dom-backgroundfetchregistration-matchall"},
"dom-backgroundfetchregistration-matchall-request-options-options": {"dfnID":"dom-backgroundfetchregistration-matchall-request-options-options","dfnText":"options","external":false,"refSections":[],"url":"#dom-backgroundfetchregistration-matchall-request-options-options"},
"dom-backgroundfetchregistration-matchall-request-options-request": {"dfnID":"dom-backgroundfetchregistration-matchall-request-options-request","dfnText":"request","external":false,"refSections":[],"url":"#dom-backgroundfetchregistration-matchall-request-options-request"},
"dom-backgroundfetchregistration-onprogress": {"dfnID":"dom-backgroundfetchregistration-onprogress","dfnText":"onprogress","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-backgroundfetchregistration-onprogress"}],"title":"6.4. BackgroundFetchRegistration"}],"url":"#dom-backgroundfetchregistration-onprogress"},
"dom-backgroundfetchregistration-recordsavailable": {"dfnID":"dom-backgroundfetchregistration-recordsavailable","dfnText":"recordsAvailable","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-backgroundfetchregistration-recordsavailable"}],"title":"6.4. BackgroundFetchRegistration"}],"url":"#dom-backgroundfetchregistration-recordsavailable"},
"dom-backgroundfetchregistration-result": {"dfnID":"dom-backgroundfetchregistration-result","dfnText":"result","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-backgroundfetchregistration-result"}],"title":"6.4. BackgroundFetchRegistration"}],"url":"#dom-backgroundfetchregistration-result"},
"dom-backgroundfetchregistration-uploaded": {"dfnID":"dom-backgroundfetchregistration-uploaded","dfnText":"uploaded","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-backgroundfetchregistration-uploaded"}],"title":"6.4. BackgroundFetchRegistration"}],"url":"#dom-backgroundfetchregistration-uploaded"},
"dom-backgroundfetchregistration-uploadtotal": {"dfnID":"dom-backgroundfetchregistration-uploadtotal","dfnText":"uploadTotal","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-backgroundfetchregistration-uploadtotal"}],"title":"6.4. BackgroundFetchRegistration"}],"url":"#dom-backgroundfetchregistration-uploadtotal"},
"dom-backgroundfetchresult": {"dfnID":"dom-backgroundfetchresult","dfnText":"\"\"","external":false,"refSections":[],"url":"#dom-backgroundfetchresult"},
"dom-backgroundfetchresult-failure": {"dfnID":"dom-backgroundfetchresult-failure","dfnText":"\"failure\"","external":false,"refSections":[],"url":"#dom-backgroundfetchresult-failure"},
"dom-backgroundfetchresult-success": {"dfnID":"dom-backgroundfetchresult-success","dfnText":"\"success\"","external":false,"refSections":[],"url":"#dom-backgroundfetchresult-success"},
"dom-backgroundfetchuioptions-icons": {"dfnID":"dom-backgroundfetchuioptions-icons","dfnText":"icons","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-backgroundfetchuioptions-icons"},{"id":"ref-for-dom-backgroundfetchuioptions-icons\u2460"}],"title":"6.7.1. updateUI()"}],"url":"#dom-backgroundfetchuioptions-icons"},
"dom-backgroundfetchuioptions-title": {"dfnID":"dom-backgroundfetchuioptions-title","dfnText":"title","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-backgroundfetchuioptions-title"},{"id":"ref-for-dom-backgroundfetchuioptions-title\u2460"}],"title":"6.7.1. updateUI()"}],"url":"#dom-backgroundfetchuioptions-title"},
"dom-backgroundfetchupdateuievent-backgroundfetchupdateuievent": {"dfnID":"dom-backgroundfetchupdateuievent-backgroundfetchupdateuievent","dfnText":"constructor","external":false,"refSections":[],"url":"#dom-backgroundfetchupdateuievent-backgroundfetchupdateuievent"},
"dom-backgroundfetchupdateuievent-backgroundfetchupdateuievent-type-init-init": {"dfnID":"dom-backgroundfetchupdateuievent-backgroundfetchupdateuievent-type-init-init","dfnText":"init","external":false,"refSections":[],"url":"#dom-backgroundfetchupdateuievent-backgroundfetchupdateuievent-type-init-init"},
"dom-backgroundfetchupdateuievent-backgroundfetchupdateuievent-type-init-type": {"dfnID":"dom-backgroundfetchupdateuievent-backgroundfetchupdateuievent-type-init-type","dfnText":"type","external":false,"refSections":[],"url":"#dom-backgroundfetchupdateuievent-backgroundfetchupdateuievent-type-init-type"},
"dom-backgroundfetchupdateuievent-updateui": {"dfnID":"dom-backgroundfetchupdateuievent-updateui","dfnText":"updateUI(options)","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-backgroundfetchupdateuievent-updateui"}],"title":"6.7. BackgroundFetchUpdateUIEvent"},{"refs":[{"id":"ref-for-dom-backgroundfetchupdateuievent-updateui\u2460"}],"title":"6.7.1. updateUI()"}],"url":"#dom-backgroundfetchupdateuievent-updateui"},
"dom-backgroundfetchupdateuievent-updateui-options-options": {"dfnID":"dom-backgroundfetchupdateuievent-updateui-options-options","dfnText":"options","external":false,"refSections":[],"url":"#dom-backgroundfetchupdateuievent-updateui-options-options"},
"dom-serviceworkerglobalscope-onbackgroundfetchabort": {"dfnID":"dom-serviceworkerglobalscope-onbackgroundfetchabort","dfnText":"onbackgroundfetchabort","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-serviceworkerglobalscope-onbackgroundfetchabort"}],"title":"6.1.1. Events"}],"url":"#dom-serviceworkerglobalscope-onbackgroundfetchabort"},
"dom-serviceworkerglobalscope-onbackgroundfetchclick": {"dfnID":"dom-serviceworkerglobalscope-onbackgroundfetchclick","dfnText":"onbackgroundfetchclick","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-serviceworkerglobalscope-onbackgroundfetchclick"}],"title":"6.1.1. Events"}],"url":"#dom-serviceworkerglobalscope-onbackgroundfetchclick"},
"dom-serviceworkerglobalscope-onbackgroundfetchfail": {"dfnID":"dom-serviceworkerglobalscope-onbackgroundfetchfail","dfnText":"onbackgroundfetchfail","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-serviceworkerglobalscope-onbackgroundfetchfail"}],"title":"6.1.1. Events"}],"url":"#dom-serviceworkerglobalscope-onbackgroundfetchfail"},
"dom-serviceworkerglobalscope-onbackgroundfetchsuccess": {"dfnID":"dom-serviceworkerglobalscope-onbackgroundfetchsuccess","dfnText":"onbackgroundfetchsuccess","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-serviceworkerglobalscope-onbackgroundfetchsuccess"}],"title":"6.1.1. Events"}],"url":"#dom-serviceworkerglobalscope-onbackgroundfetchsuccess"},
"dom-serviceworkerregistration-backgroundfetch": {"dfnID":"dom-serviceworkerregistration-backgroundfetch","dfnText":"backgroundFetch","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-serviceworkerregistration-backgroundfetch"}],"title":"6.2. Extensions to ServiceWorkerRegistration"}],"url":"#dom-serviceworkerregistration-backgroundfetch"},
"e16711bc": {"dfnID":"e16711bc","dfnText":"waitUntil(f)","external":true,"refSections":[{"refs":[{"id":"ref-for-dom-extendableevent-waituntil"}],"title":"1. Introduction"}],"url":"https://w3c.github.io/ServiceWorker/#dom-extendableevent-waituntil"},
"e2a51d55": {"dfnID":"e2a51d55","dfnText":"active","external":true,"refSections":[{"refs":[{"id":"ref-for-extendableevent-active"}],"title":"4.1. Perform a background fetch"},{"refs":[{"id":"ref-for-extendableevent-active\u2460"}],"title":"6.7.1. updateUI()"}],"url":"https://w3c.github.io/ServiceWorker/#extendableevent-active"},
"e3201629": {"dfnID":"e3201629","dfnText":"response (for Response)","external":true,"refSections":[{"refs":[{"id":"ref-for-concept-response-response"},{"id":"ref-for-concept-response-response\u2460"}],"title":"4.8. Create record objects"}],"url":"https://fetch.spec.whatwg.org/#concept-response-response"},
"e3288657": {"dfnID":"e3288657","dfnText":"responsible event loop","external":true,"refSections":[{"refs":[{"id":"ref-for-responsible-event-loop"}],"title":"3. Infrastructure"},{"refs":[{"id":"ref-for-responsible-event-loop\u2460"}],"title":"4.3. Update background fetch instances"},{"refs":[{"id":"ref-for-responsible-event-loop\u2461"},{"id":"ref-for-responsible-event-loop\u2462"}],"title":"4.8. Create record objects"}],"url":"https://html.spec.whatwg.org/multipage/webappapis.html#responsible-event-loop"},
"e3e2d506": {"dfnID":"e3e2d506","dfnText":"cancel","external":true,"refSections":[{"refs":[{"id":"ref-for-readablestream-cancel"}],"title":"4.2. Complete a record"}],"url":"https://streams.spec.whatwg.org/#readablestream-cancel"},
"e806d5a8": {"dfnID":"e806d5a8","dfnText":"Headers","external":true,"refSections":[{"refs":[{"id":"ref-for-headers"},{"id":"ref-for-headers\u2460"}],"title":"4.8. Create record objects"}],"url":"https://fetch.spec.whatwg.org/#headers"},
"ea82f84e": {"dfnID":"ea82f84e","dfnText":"http abnf","external":true,"refSections":[{"refs":[{"id":"ref-for-section-7"}],"title":"5. Header syntax"}],"url":"https://tools.ietf.org/html/rfc7230#section-7"},
"eb1b1af3": {"dfnID":"eb1b1af3","dfnText":"network error","external":true,"refSections":[{"refs":[{"id":"ref-for-concept-network-error"}],"title":"4.2. Complete a record"}],"url":"https://fetch.spec.whatwg.org/#concept-network-error"},
"ebb01253": {"dfnID":"ebb01253","dfnText":"PermissionDescriptor","external":true,"refSections":[{"refs":[{"id":"ref-for-dom-permissiondescriptor"}],"title":"3.2.1. Display"},{"refs":[{"id":"ref-for-dom-permissiondescriptor\u2460"}],"title":"6.3.1. fetch()"}],"url":"https://w3c.github.io/permissions/#dom-permissiondescriptor"},
"ee7bba09": {"dfnID":"ee7bba09","dfnText":"response","external":true,"refSections":[{"refs":[{"id":"ref-for-concept-response"}],"title":"3.4. Background fetch response"},{"refs":[{"id":"ref-for-concept-response\u2460"},{"id":"ref-for-concept-response\u2461"}],"title":"4.6. Validate a partial response"},{"refs":[{"id":"ref-for-concept-response\u2462"}],"title":"4.7. Extract content-range values"},{"refs":[{"id":"ref-for-concept-response\u2463"}],"title":"4.8. Create record objects"},{"refs":[{"id":"ref-for-concept-response\u2464"}],"title":"6.5. BackgroundFetchRecord"}],"url":"https://fetch.spec.whatwg.org/#concept-response"},
"ee95ecc7": {"dfnID":"ee95ecc7","dfnText":"delete","external":true,"refSections":[{"refs":[{"id":"ref-for-concept-header-list-delete"},{"id":"ref-for-concept-header-list-delete\u2460"}],"title":"4.8. Create record objects"}],"url":"https://fetch.spec.whatwg.org/#concept-header-list-delete"},
"enumdef-backgroundfetchfailurereason": {"dfnID":"enumdef-backgroundfetchfailurereason","dfnText":"BackgroundFetchFailureReason","external":false,"refSections":[{"refs":[{"id":"ref-for-enumdef-backgroundfetchfailurereason"}],"title":"3.2. Background fetch"},{"refs":[{"id":"ref-for-enumdef-backgroundfetchfailurereason\u2460"}],"title":"3.4. Background fetch response"},{"refs":[{"id":"ref-for-enumdef-backgroundfetchfailurereason\u2461"},{"id":"ref-for-enumdef-backgroundfetchfailurereason\u2462"}],"title":"6.4. BackgroundFetchRegistration"}],"url":"#enumdef-backgroundfetchfailurereason"},
"enumdef-backgroundfetchresult": {"dfnID":"enumdef-backgroundfetchresult","dfnText":"BackgroundFetchResult","external":false,"refSections":[{"refs":[{"id":"ref-for-enumdef-backgroundfetchresult"}],"title":"3.2. Background fetch"},{"refs":[{"id":"ref-for-enumdef-backgroundfetchresult\u2460"},{"id":"ref-for-enumdef-backgroundfetchresult\u2461"}],"title":"6.4. BackgroundFetchRegistration"}],"url":"#enumdef-backgroundfetchresult"},
"eventdef-backgroundfetchregistration-progress": {"dfnID":"eventdef-backgroundfetchregistration-progress","dfnText":"progress","external":false,"refSections":[{"refs":[{"id":"ref-for-eventdef-backgroundfetchregistration-progress"}],"title":"6.3.2. get()"},{"refs":[{"id":"ref-for-eventdef-backgroundfetchregistration-progress\u2460"}],"title":"6.4.1. Events"}],"url":"#eventdef-backgroundfetchregistration-progress"},
"eventdef-serviceworkerglobalscope-backgroundfetchabort": {"dfnID":"eventdef-serviceworkerglobalscope-backgroundfetchabort","dfnText":"backgroundfetchabort","external":false,"refSections":[],"url":"#eventdef-serviceworkerglobalscope-backgroundfetchabort"},
"eventdef-serviceworkerglobalscope-backgroundfetchclick": {"dfnID":"eventdef-serviceworkerglobalscope-backgroundfetchclick","dfnText":"backgroundfetchclick","external":false,"refSections":[],"url":"#eventdef-serviceworkerglobalscope-backgroundfetchclick"},
"eventdef-serviceworkerglobalscope-backgroundfetchfail": {"dfnID":"eventdef-serviceworkerglobalscope-backgroundfetchfail","dfnText":"backgroundfetchfail","external":false,"refSections":[],"url":"#eventdef-serviceworkerglobalscope-backgroundfetchfail"},
"eventdef-serviceworkerglobalscope-backgroundfetchsuccess": {"dfnID":"eventdef-serviceworkerglobalscope-backgroundfetchsuccess","dfnText":"backgroundfetchsuccess","external":false,"refSections":[],"url":"#eventdef-serviceworkerglobalscope-backgroundfetchsuccess"},
"extract-content-range-values": {"dfnID":"extract-content-range-values","dfnText":"extract content-range values","external":false,"refSections":[{"refs":[{"id":"ref-for-extract-content-range-values"}],"title":"4.2. Complete a record"},{"refs":[{"id":"ref-for-extract-content-range-values\u2460"},{"id":"ref-for-extract-content-range-values\u2461"}],"title":"4.6. Validate a partial response"},{"refs":[{"id":"ref-for-extract-content-range-values\u2462"}],"title":"4.7. Extract content-range values"}],"url":"#extract-content-range-values"},
"f0951476": {"dfnID":"f0951476","dfnText":"EventHandler","external":true,"refSections":[{"refs":[{"id":"ref-for-eventhandler"},{"id":"ref-for-eventhandler\u2460"},{"id":"ref-for-eventhandler\u2461"},{"id":"ref-for-eventhandler\u2462"}],"title":"6.1. Extensions to ServiceWorkerGlobalScope"},{"refs":[{"id":"ref-for-eventhandler\u2463"}],"title":"6.4. BackgroundFetchRegistration"}],"url":"https://html.spec.whatwg.org/multipage/webappapis.html#eventhandler"},
"f14b47b8": {"dfnID":"f14b47b8","dfnText":"unsigned long long","external":true,"refSections":[{"refs":[{"id":"ref-for-idl-unsigned-long-long"}],"title":"6.3. BackgroundFetchManager"},{"refs":[{"id":"ref-for-idl-unsigned-long-long\u2460"},{"id":"ref-for-idl-unsigned-long-long\u2461"},{"id":"ref-for-idl-unsigned-long-long\u2462"},{"id":"ref-for-idl-unsigned-long-long\u2463"}],"title":"6.4. BackgroundFetchRegistration"}],"url":"https://webidl.spec.whatwg.org/#idl-unsigned-long-long"},
"f7b00a8b": {"dfnID":"f7b00a8b","dfnText":"header list (for response)","external":true,"refSections":[{"refs":[{"id":"ref-for-concept-response-header-list"},{"id":"ref-for-concept-response-header-list\u2460"},{"id":"ref-for-concept-response-header-list\u2461"}],"title":"4.6. Validate a partial response"},{"refs":[{"id":"ref-for-concept-response-header-list\u2462"},{"id":"ref-for-concept-response-header-list\u2463"}],"title":"4.7. Extract content-range values"},{"refs":[{"id":"ref-for-concept-response-header-list\u2464"},{"id":"ref-for-concept-response-header-list\u2465"},{"id":"ref-for-concept-response-header-list\u2466"}],"title":"4.8. Create record objects"}],"url":"https://fetch.spec.whatwg.org/#concept-response-header-list"},
"f937b7b6": {"dfnID":"f937b7b6","dfnText":"continue","external":true,"refSections":[{"refs":[{"id":"ref-for-iteration-continue"}],"title":"6.3.1. fetch()"}],"url":"https://infra.spec.whatwg.org/#iteration-continue"},
"f9da6f1f": {"dfnID":"f9da6f1f","dfnText":"Request","external":true,"refSections":[{"refs":[{"id":"ref-for-request"},{"id":"ref-for-request\u2460"}],"title":"4.8. Create record objects"},{"refs":[{"id":"ref-for-request\u2461"}],"title":"6.3.1. fetch()"},{"refs":[{"id":"ref-for-request\u2462"}],"title":"6.5. BackgroundFetchRecord"}],"url":"https://fetch.spec.whatwg.org/#request"},
"fc627dec": {"dfnID":"fc627dec","dfnText":"scope url","external":true,"refSections":[{"refs":[{"id":"ref-for-dfn-scope-url"}],"title":"3.2.1. Display"},{"refs":[{"id":"ref-for-dfn-scope-url\u2460"}],"title":"4.3. Update background fetch instances"}],"url":"https://w3c.github.io/ServiceWorker/#dfn-scope-url"},
"fire-a-background-fetch-click-event": {"dfnID":"fire-a-background-fetch-click-event","dfnText":"fire a background fetch click event","external":false,"refSections":[{"refs":[{"id":"ref-for-fire-a-background-fetch-click-event"}],"title":"3.2.1. Display"},{"refs":[{"id":"ref-for-fire-a-background-fetch-click-event\u2460"}],"title":"4.4. Fire a background fetch click event"},{"refs":[{"id":"ref-for-fire-a-background-fetch-click-event\u2461"}],"title":"7.1. Click"}],"url":"#fire-a-background-fetch-click-event"},
"get-a-backgroundfetchregistration-instance": {"dfnID":"get-a-backgroundfetchregistration-instance","dfnText":"get a BackgroundFetchRegistration instance","external":false,"refSections":[{"refs":[{"id":"ref-for-get-a-backgroundfetchregistration-instance"}],"title":"4.1. Perform a background fetch"},{"refs":[{"id":"ref-for-get-a-backgroundfetchregistration-instance\u2460"}],"title":"4.3. Update background fetch instances"},{"refs":[{"id":"ref-for-get-a-backgroundfetchregistration-instance\u2461"}],"title":"4.4. Fire a background fetch click event"},{"refs":[{"id":"ref-for-get-a-backgroundfetchregistration-instance\u2462"}],"title":"4.5. Get a BackgroundFetchRegistration instance"},{"refs":[{"id":"ref-for-get-a-backgroundfetchregistration-instance\u2463"}],"title":"6.3.1. fetch()"},{"refs":[{"id":"ref-for-get-a-backgroundfetchregistration-instance\u2464"}],"title":"6.3.2. get()"}],"url":"#get-a-backgroundfetchregistration-instance"},
"perform-a-background-fetch": {"dfnID":"perform-a-background-fetch","dfnText":"perform a background fetch","external":false,"refSections":[{"refs":[{"id":"ref-for-perform-a-background-fetch"}],"title":"4.1. Perform a background fetch"},{"refs":[{"id":"ref-for-perform-a-background-fetch\u2460"}],"title":"6.3.1. fetch()"}],"url":"#perform-a-background-fetch"},
"queue-a-bgfetch-task": {"dfnID":"queue-a-bgfetch-task","dfnText":"queue a bgfetch task","external":false,"refSections":[{"refs":[{"id":"ref-for-queue-a-bgfetch-task"}],"title":"4.3. Update background fetch instances"},{"refs":[{"id":"ref-for-queue-a-bgfetch-task\u2460"}],"title":"6.3.1. fetch()"},{"refs":[{"id":"ref-for-queue-a-bgfetch-task\u2461"}],"title":"6.3.2. get()"},{"refs":[{"id":"ref-for-queue-a-bgfetch-task\u2462"}],"title":"6.4.4. matchAll()"}],"url":"#queue-a-bgfetch-task"},
"service-worker-registration-active-background-fetches": {"dfnID":"service-worker-registration-active-background-fetches","dfnText":"Active background fetches","external":false,"refSections":[{"refs":[{"id":"ref-for-service-worker-registration-active-background-fetches"}],"title":"4.1. Perform a background fetch"},{"refs":[{"id":"ref-for-service-worker-registration-active-background-fetches\u2460"}],"title":"6.3.1. fetch()"},{"refs":[{"id":"ref-for-service-worker-registration-active-background-fetches\u2461"}],"title":"6.3.2. get()"},{"refs":[{"id":"ref-for-service-worker-registration-active-background-fetches\u2462"}],"title":"6.3.3. getIds()"},{"refs":[{"id":"ref-for-service-worker-registration-active-background-fetches\u2463"}],"title":"6.4.2. abort()"}],"url":"#service-worker-registration-active-background-fetches"},
"service-worker-registration-active-background-fetches-edit-queue": {"dfnID":"service-worker-registration-active-background-fetches-edit-queue","dfnText":"active background fetches edit queue","external":false,"refSections":[{"refs":[{"id":"ref-for-service-worker-registration-active-background-fetches-edit-queue"}],"title":"4.1. Perform a background fetch"},{"refs":[{"id":"ref-for-service-worker-registration-active-background-fetches-edit-queue\u2460"}],"title":"6.3.1. fetch()"},{"refs":[{"id":"ref-for-service-worker-registration-active-background-fetches-edit-queue\u2461"}],"title":"6.4.2. abort()"}],"url":"#service-worker-registration-active-background-fetches-edit-queue"},
"serviceworkerregistration-background-fetch-manager": {"dfnID":"serviceworkerregistration-background-fetch-manager","dfnText":"background fetch manager","external":false,"refSections":[{"refs":[{"id":"ref-for-serviceworkerregistration-background-fetch-manager"}],"title":"6.2. Extensions to ServiceWorkerRegistration"}],"url":"#serviceworkerregistration-background-fetch-manager"},
"single-byte-content-range": {"dfnID":"single-byte-content-range","dfnText":"single byte content-range","external":false,"refSections":[{"refs":[{"id":"ref-for-single-byte-content-range"},{"id":"ref-for-single-byte-content-range\u2460"},{"id":"ref-for-single-byte-content-range\u2461"},{"id":"ref-for-single-byte-content-range\u2462"},{"id":"ref-for-single-byte-content-range\u2463"}],"title":"4.7. Extract content-range values"}],"url":"#single-byte-content-range"},
"temporarily-unavailable": {"dfnID":"temporarily-unavailable","dfnText":"temporarily unavailable","external":false,"refSections":[{"refs":[{"id":"ref-for-temporarily-unavailable"},{"id":"ref-for-temporarily-unavailable\u2460"},{"id":"ref-for-temporarily-unavailable\u2461"},{"id":"ref-for-temporarily-unavailable\u2462"}],"title":"4.2. Complete a record"}],"url":"#temporarily-unavailable"},
"update-background-fetch-instances": {"dfnID":"update-background-fetch-instances","dfnText":"update background fetch instances","external":false,"refSections":[{"refs":[{"id":"ref-for-update-background-fetch-instances"},{"id":"ref-for-update-background-fetch-instances\u2460"}],"title":"4.1. Perform a background fetch"},{"refs":[{"id":"ref-for-update-background-fetch-instances\u2461"},{"id":"ref-for-update-background-fetch-instances\u2462"},{"id":"ref-for-update-background-fetch-instances\u2463"}],"title":"4.2. Complete a record"},{"refs":[{"id":"ref-for-update-background-fetch-instances\u2464"}],"title":"4.3. Update background fetch instances"}],"url":"#update-background-fetch-instances"},
"validate-a-partial-response": {"dfnID":"validate-a-partial-response","dfnText":"validate a partial response","external":false,"refSections":[{"refs":[{"id":"ref-for-validate-a-partial-response"}],"title":"4.2. Complete a record"},{"refs":[{"id":"ref-for-validate-a-partial-response\u2460"}],"title":"4.6. Validate a partial response"}],"url":"#validate-a-partial-response"},
};

document.addEventListener("DOMContentLoaded", ()=>{
    genAllDfnPanels();

    document.body.addEventListener("click", (e) => {
        // If not handled already, just hide all dfn panels.
        hideAllDfnPanels();
    });
});

window.addEventListener("resize", () => {
    // Pin any visible dfn panel
    queryAll(".dfn-panel.on, .dfn-panel.activated").forEach(el=>positionDfnPanel(el));
});

function genAllDfnPanels() {
    for(const panelData of Object.values(dfnPanelData)) {
        const dfnID = panelData.dfnID;
        const dfn = document.getElementById(dfnID);
        if(!dfn) {
            console.log(`Can't find dfn#${dfnID}.`, panelData);
            continue;
        }
        dfn.panelData = panelData;
        insertDfnPopupAction(dfn);
    }
}

function genDfnPanel(dfn, { dfnID, url, dfnText, refSections, external }) {
    const dfnPanel = mk.aside({
        class: "dfn-panel on",
        id: `infopanel-for-${dfnID}`,
        "data-for": dfnID,
        "aria-labelled-by":`infopaneltitle-for-${dfnID}`,
        },
        mk.span({id:`infopaneltitle-for-${dfnID}`, style:"display:none"},
            `Info about the '${dfnText}' ${external?"external":""} reference.`),
        mk.a({href:url, class:"dfn-link"}, url),
        refSections.length == 0 ? [] :
            mk.b({}, "Referenced in:"),
            mk.ul({},
                ...refSections.map(section=>
                    mk.li({},
                        ...section.refs.map((ref, refI)=>
                            [
                                mk.a({ href: `#${ref.id}` },
                                    (refI == 0) ? section.title : `(${refI + 1})`
                                ),
                                " ",
                            ]
                        ),
                    ),
                ),
            ),
        genLinkingSyntaxes(dfn),
    );

    dfnPanel.addEventListener('click', (event) => {
        if (event.target.nodeName == 'A') {
            scrollToTargetAndHighlight(event);
            pinDfnPanel(dfnPanel);
        }
        event.stopPropagation();
        refocusOnTarget(event);
    });
    dfnPanel.addEventListener('keydown', (event) => {
        if(event.keyCode == 27) { // Escape key
            hideDfnPanel({dfnPanel});
            event.stopPropagation();
            event.preventDefault();
        }
    });

    dfnPanel.dfn = dfn;
    dfn.dfnPanel = dfnPanel;
    return dfnPanel;
}



function hideAllDfnPanels() {
    // Delete the currently-active dfn panel.
    queryAll(".dfn-panel").forEach(dfnPanel=>hideDfnPanel({dfnPanel}));
}

function showDfnPanel(dfn) {
    hideAllDfnPanels(); // Only display one at a time.

    dfn.setAttribute("aria-expanded", "true");

    const dfnPanel = genDfnPanel(dfn, dfn.panelData);

    // Give the dfn a unique tabindex, and then
    // give all the tabbable panel bits successive indexes.
    let tabIndex = 100;
    dfn.tabIndex = tabIndex++;
    const tabbable = dfnPanel.querySelectorAll(":is(a, button)");
    for (const el of tabbable) {
        el.tabIndex = tabIndex++;
    }

    append(document.body, dfnPanel);
    positionDfnPanel(dfnPanel);
}

function positionDfnPanel(dfnPanel) {
    const dfn = dfnPanel.dfn;
    const dfnPos = getBounds(dfn);
    dfnPanel.style.top = dfnPos.bottom + "px";
    dfnPanel.style.left = dfnPos.left + "px";

    const panelPos = dfnPanel.getBoundingClientRect();
    const panelMargin = 8;
    const maxRight = document.body.parentNode.clientWidth - panelMargin;
    if (panelPos.right > maxRight) {
        const overflowAmount = panelPos.right - maxRight;
        const newLeft = Math.max(panelMargin, dfnPos.left - overflowAmount);
        dfnPanel.style.left = newLeft + "px";
    }
}

function pinDfnPanel(dfnPanel) {
    // Switch it to "activated" state, which pins it.
    dfnPanel.classList.add("activated");
    dfnPanel.style.position = "fixed";
    dfnPanel.style.left = null;
    dfnPanel.style.top = null;
}

function hideDfnPanel({dfn, dfnPanel}) {
    if(!dfnPanel) dfnPanel = dfn.dfnPanel;
    if(!dfn) dfn = dfnPanel.dfn;
    dfn.dfnPanel = undefined;
    dfnPanel.dfn = undefined;
    dfn.setAttribute("aria-expanded", "false");
    dfn.tabIndex = undefined;
    dfnPanel.remove()
}

function toggleDfnPanel(dfn) {
    if(dfn.dfnPanel) {
        hideDfnPanel(dfn);
    } else {
        showDfnPanel(dfn);
    }
}

function insertDfnPopupAction(dfn) {
    dfn.setAttribute('role', 'button');
    dfn.setAttribute('aria-expanded', 'false')
    dfn.tabIndex = 0;
    dfn.classList.add('has-dfn-panel');
    dfn.addEventListener('click', (event) => {
        toggleDfnPanel(dfn);
        event.stopPropagation();
    });
    dfn.addEventListener('keypress', (event) => {
        const kc = event.keyCode;
        // 32->Space, 13->Enter
        if(kc == 32 || kc == 13) {
            toggleDfnPanel(dfn);
            event.stopPropagation();
            event.preventDefault();
        }
    });
}

function refocusOnTarget(event) {
    const target = event.target;
    setTimeout(() => {
        // Refocus on the event.target element.
        // This is needed after browser scrolls to the destination.
        target.focus();
    });
}

// TODO: shared util
// Returns the root-level absolute position {left and top} of element.
function getBounds(el, relativeTo=document.body) {
    const relativeRect = relativeTo.getBoundingClientRect();
    const elRect = el.getBoundingClientRect();
    const top = elRect.top - relativeRect.top;
    const left = elRect.left - relativeRect.left;
    return {
        top,
        left,
        bottom: top + elRect.height,
        right: left + elRect.width,
    }
}

function scrollToTargetAndHighlight(event) {
    let hash = event.target.hash;
    if (hash) {
        hash = decodeURIComponent(hash.substring(1));
        const dest = document.getElementById(hash);
        if (dest) {
            dest.classList.add('highlighted');
            setTimeout(() => dest.classList.remove('highlighted'), 1000);
        }
    }
}

// Functions, divided by link type, that wrap an autolink's
// contents with the appropriate outer syntax.
// Alternately, a string naming another type they format
// the same as.
function needsFor(type) {
    switch(type) {
        case "descriptor":
        case "value":
        case "element-attr":
        case "attr-value":
        case "element-state":
        case "method":
        case "constructor":
        case "argument":
        case "attribute":
        case "const":
        case "dict-member":
        case "event":
        case "enum-value":
        case "stringifier":
        case "serializer":
        case "iterator":
        case "maplike":
        case "setlike":
        case "state":
        case "mode":
        case "context":
        case "facet": return true;

        default: return false;
    }
}
function refusesFor(type) {
    switch(type) {
        case "property":
        case "element":
        case "interface":
        case "namespace":
        case "callback":
        case "dictionary":
        case "enum":
        case "exception":
        case "typedef":
        case "http-header":
        case "permission": return true;

        default: return false;
    }
}
function linkFormatterFromType(type) {
    switch(type) {
        case 'scheme':
        case 'permission':
        case 'dfn': return (text) => `[=${text}=]`;

        case 'abstract-op': return (text) => `[\$${text}\$]`;

        case 'function':
        case 'at-rule':
        case 'selector':
        case 'value': return (text) => `''${text}''`;

        case 'http-header': return (text) => `[:${text}:]`;

        case 'interface':
        case 'constructor':
        case 'method':
        case 'argument':
        case 'attribute':
        case 'callback':
        case 'dictionary':
        case 'dict-member':
        case 'enum':
        case 'enum-value':
        case 'exception':
        case 'const':
        case 'typedef':
        case 'stringifier':
        case 'serializer':
        case 'iterator':
        case 'maplike':
        case 'setlike':
        case 'extended-attribute':
        case 'event':
        case 'idl': return (text) => `{{${text}}}`;

        case 'element-state':
        case 'element-attr':
        case 'attr-value':
        case 'element': return (element) => `<{${element}}>`;

        case 'grammar': return (text) => `${text} (within a <pre class=prod>)`;

        case 'type': return (text)=> `<<${text}>>`;

        case 'descriptor':
        case 'property': return (text) => `'${text}'`;

        default: return;
    };
};

function genLinkingSyntaxes(dfn) {
    if(dfn.tagName != "DFN") return;

    const type = dfn.getAttribute('data-dfn-type');
    if(!type) {
        console.log(`<dfn> doesn't have a data-dfn-type:`, dfn);
        return [];
    }

    // Return a function that wraps link text based on the type
    const linkFormatter = linkFormatterFromType(type);
    if(!linkFormatter) {
        console.log(`<dfn> has an unknown data-dfn-type:`, dfn);
        return [];
    }

    let ltAlts;
    if(dfn.hasAttribute('data-lt')) {
        ltAlts = dfn.getAttribute('data-lt')
            .split("|")
            .map(x=>x.trim());
    } else {
        ltAlts = [dfn.textContent.trim()];
    }
    if(type == "type") {
        // lt of "<foo>", but "foo" is the interior;
        // <<foo/bar>> is how you write it with a for,
        // not <foo/<bar>> or whatever.
        for(var i = 0; i < ltAlts.length; i++) {
            const lt = ltAlts[i];
            const match = /<(.*)>/.exec(lt);
            if(match) { ltAlts[i] = match[1]; }
        }
    }

    let forAlts;
    if(dfn.hasAttribute('data-dfn-for')) {
        forAlts = dfn.getAttribute('data-dfn-for')
            .split(",")
            .map(x=>x.trim());
    } else {
        forAlts = [''];
    }

    let linkingSyntaxes = [];
    if(!needsFor(type)) {
        for(const lt of ltAlts) {
            linkingSyntaxes.push(linkFormatter(lt));
        }
    }
    if(!refusesFor(type)) {
        for(const f of forAlts) {
            linkingSyntaxes.push(linkFormatter(`${f}/${ltAlts[0]}`))
        }
    }
    return [
        mk.b({}, 'Possible linking syntaxes:'),
        mk.ul({},
            ...linkingSyntaxes.map(link => {
                const copyLink = async () =>
                    await navigator.clipboard.writeText(link);
                return mk.li({},
                    mk.div({ class: 'link-item' },
                        mk.button({
                            class: 'copy-icon', title: 'Copy',
                            type: 'button',
                            _onclick: copyLink,
                            tabindex: 0,
                        }, mk.span({ class: 'icon' }) ),
                        mk.span({}, link)
                    )
                );
            })
        )
    ];
}
}
</script>
<script>/* Boilerplate: script-position-annos */
"use strict";
{
function repositionAnnoPanels(){
    const panels = [...document.querySelectorAll("[data-anno-for]")];
    hydratePanels(panels);
    let vSoFar = 0;
    for(const panel of panels.sort(cmpTops)) {
        if(panel.top < vSoFar) {
            panel.top = vSoFar;
            panel.style.top = vSoFar + "px";
        }
        vSoFar = panel.top + panel.height + 15;
    }
}
function hydratePanels(panels) {
    const main = document.querySelector("main");
    let mainRect;
    if(main) mainRect = main.getBoundingClientRect();
    // First display them all, if they're not already visible.
    for(const panel of panels) {
        panel.classList.remove("unpositioned");
    }
    // Measure them all
    for(const panel of panels) {
        const dfn = document.getElementById(panel.getAttribute("data-anno-for"));
        if(!dfn) {
            console.log("Can't find the annotation panel target:", panel);
            continue;
        }
        panel.dfn = dfn;
        panel.top = window.scrollY + dfn.getBoundingClientRect().top;
        let panelRect = panel.getBoundingClientRect();
        panel.height = panelRect.height;
        if(main) {
            panel.overlappingMain = panelRect.left < mainRect.right;
        } else {
            panel.overlappingMain = false;
        }
    }
    // And finally position them
    for(const panel of panels) {
        const dfn = panel.dfn;
        if(!dfn) continue;
        panel.style.top = panel.top + "px";
        panel.classList.toggle("overlapping-main", panel.overlappingMain);
    }
}

function cmpTops(a,b) {
    return a.top - b.top;
}

window.addEventListener("load", repositionAnnoPanels);
window.addEventListener("resize", repositionAnnoPanels);
}
</script>
<script>/* Boilerplate: script-ref-hints */
"use strict";
{
let refsData = {
"#background-fetch": {"export":true,"for_":[],"level":"1","normative":true,"shortname":"background-fetch","spec":"background-fetch-1","status":"local","text":"background fetch","type":"dfn","url":"#background-fetch"},
"#background-fetch-abort-all-flag": {"export":true,"for_":["background fetch"],"level":"1","normative":true,"shortname":"background-fetch","spec":"background-fetch-1","status":"local","text":"abort all flag","type":"dfn","url":"#background-fetch-abort-all-flag"},
"#background-fetch-click": {"export":true,"for_":[],"level":"1","normative":true,"shortname":"background-fetch","spec":"background-fetch-1","status":"local","text":"background fetch click","type":"dfn","url":"#background-fetch-click"},
"#background-fetch-display": {"export":true,"for_":["background fetch"],"level":"1","normative":true,"shortname":"background-fetch","spec":"background-fetch-1","status":"local","text":"display","type":"dfn","url":"#background-fetch-display"},
"#background-fetch-download-total": {"export":true,"for_":["background fetch"],"level":"1","normative":true,"shortname":"background-fetch","spec":"background-fetch-1","status":"local","text":"download total","type":"dfn","url":"#background-fetch-download-total"},
"#background-fetch-failure-reason": {"export":true,"for_":["background fetch"],"level":"1","normative":true,"shortname":"background-fetch","spec":"background-fetch-1","status":"local","text":"failure reason","type":"dfn","url":"#background-fetch-failure-reason"},
"#background-fetch-icons": {"export":true,"for_":["background fetch"],"level":"1","normative":true,"shortname":"background-fetch","spec":"background-fetch-1","status":"local","text":"icons","type":"dfn","url":"#background-fetch-icons"},
"#background-fetch-id": {"export":true,"for_":["background fetch"],"level":"1","normative":true,"shortname":"background-fetch","spec":"background-fetch-1","status":"local","text":"id","type":"dfn","url":"#background-fetch-id"},
"#background-fetch-paused-flag": {"export":true,"for_":["background fetch"],"level":"1","normative":true,"shortname":"background-fetch","spec":"background-fetch-1","status":"local","text":"paused flag","type":"dfn","url":"#background-fetch-paused-flag"},
"#background-fetch-record": {"export":true,"for_":[],"level":"1","normative":true,"shortname":"background-fetch","spec":"background-fetch-1","status":"local","text":"background fetch record","type":"dfn","url":"#background-fetch-record"},
"#background-fetch-record-request": {"export":true,"for_":["background fetch record"],"level":"1","normative":true,"shortname":"background-fetch","spec":"background-fetch-1","status":"local","text":"request","type":"dfn","url":"#background-fetch-record-request"},
"#background-fetch-record-response-data": {"export":true,"for_":["background fetch record"],"level":"1","normative":true,"shortname":"background-fetch","spec":"background-fetch-1","status":"local","text":"response data","type":"dfn","url":"#background-fetch-record-response-data"},
"#background-fetch-records": {"export":true,"for_":["background fetch"],"level":"1","normative":true,"shortname":"background-fetch","spec":"background-fetch-1","status":"local","text":"records","type":"dfn","url":"#background-fetch-records"},
"#background-fetch-records-available-flag": {"export":true,"for_":["background fetch"],"level":"1","normative":true,"shortname":"background-fetch","spec":"background-fetch-1","status":"local","text":"records available flag","type":"dfn","url":"#background-fetch-records-available-flag"},
"#background-fetch-response": {"export":true,"for_":[],"level":"1","normative":true,"shortname":"background-fetch","spec":"background-fetch-1","status":"local","text":"background fetch response","type":"dfn","url":"#background-fetch-response"},
"#background-fetch-response-bytes": {"export":true,"for_":["background fetch response"],"level":"1","normative":true,"shortname":"background-fetch","spec":"background-fetch-1","status":"local","text":"bytes","type":"dfn","url":"#background-fetch-response-bytes"},
"#background-fetch-response-exposed": {"export":true,"for_":["background fetch response"],"level":"1","normative":true,"shortname":"background-fetch","spec":"background-fetch-1","status":"local","text":"exposed","type":"dfn","url":"#background-fetch-response-exposed"},
"#background-fetch-response-response": {"export":true,"for_":["background fetch response"],"level":"1","normative":true,"shortname":"background-fetch","spec":"background-fetch-1","status":"local","text":"response","type":"dfn","url":"#background-fetch-response-response"},
"#background-fetch-response-result": {"export":true,"for_":["background fetch response"],"level":"1","normative":true,"shortname":"background-fetch","spec":"background-fetch-1","status":"local","text":"result","type":"dfn","url":"#background-fetch-response-result"},
"#background-fetch-result": {"export":true,"for_":["background fetch"],"level":"1","normative":true,"shortname":"background-fetch","spec":"background-fetch-1","status":"local","text":"result","type":"dfn","url":"#background-fetch-result"},
"#background-fetch-service-worker-registration": {"export":true,"for_":["background fetch"],"level":"1","normative":true,"shortname":"background-fetch","spec":"background-fetch-1","status":"local","text":"service worker registration","type":"dfn","url":"#background-fetch-service-worker-registration"},
"#background-fetch-stored-body-bytes-total": {"export":true,"for_":["background fetch"],"level":"1","normative":true,"shortname":"background-fetch","spec":"background-fetch-1","status":"local","text":"stored body bytes total","type":"dfn","url":"#background-fetch-stored-body-bytes-total"},
"#background-fetch-task-source": {"export":true,"for_":[],"level":"1","normative":true,"shortname":"background-fetch","spec":"background-fetch-1","status":"local","text":"background fetch task source","type":"dfn","url":"#background-fetch-task-source"},
"#background-fetch-title": {"export":true,"for_":["background fetch"],"level":"1","normative":true,"shortname":"background-fetch","spec":"background-fetch-1","status":"local","text":"title","type":"dfn","url":"#background-fetch-title"},
"#background-fetch-update-handling-queue": {"export":true,"for_":["background fetch"],"level":"1","normative":true,"shortname":"background-fetch","spec":"background-fetch-1","status":"local","text":"update handling queue","type":"dfn","url":"#background-fetch-update-handling-queue"},
"#background-fetch-upload-total": {"export":true,"for_":["background fetch"],"level":"1","normative":true,"shortname":"background-fetch","spec":"background-fetch-1","status":"local","text":"upload total","type":"dfn","url":"#background-fetch-upload-total"},
"#background-fetch-uploaded": {"export":true,"for_":["background fetch"],"level":"1","normative":true,"shortname":"background-fetch","spec":"background-fetch-1","status":"local","text":"uploaded","type":"dfn","url":"#background-fetch-uploaded"},
"#backgroundfetchevent": {"export":true,"for_":[],"level":"1","normative":true,"shortname":"background-fetch","spec":"background-fetch-1","status":"local","text":"BackgroundFetchEvent","type":"interface","url":"#backgroundfetchevent"},
"#backgroundfetchevent-background-fetch": {"export":true,"for_":["BackgroundFetchEvent"],"level":"1","normative":true,"shortname":"background-fetch","spec":"background-fetch-1","status":"local","text":"background fetch","type":"dfn","url":"#backgroundfetchevent-background-fetch"},
"#backgroundfetchmanager": {"export":true,"for_":[],"level":"1","normative":true,"shortname":"background-fetch","spec":"background-fetch-1","status":"local","text":"BackgroundFetchManager","type":"interface","url":"#backgroundfetchmanager"},
"#backgroundfetchmanager-backgroundfetchregistration-instances": {"export":true,"for_":["BackgroundFetchManager"],"level":"1","normative":true,"shortname":"background-fetch","spec":"background-fetch-1","status":"local","text":"backgroundfetchregistration instances","type":"dfn","url":"#backgroundfetchmanager-backgroundfetchregistration-instances"},
"#backgroundfetchmanager-service-worker-registration": {"export":true,"for_":["BackgroundFetchManager"],"level":"1","normative":true,"shortname":"background-fetch","spec":"background-fetch-1","status":"local","text":"service worker registration","type":"dfn","url":"#backgroundfetchmanager-service-worker-registration"},
"#backgroundfetchrecord": {"export":true,"for_":[],"level":"1","normative":true,"shortname":"background-fetch","spec":"background-fetch-1","status":"local","text":"BackgroundFetchRecord","type":"interface","url":"#backgroundfetchrecord"},
"#backgroundfetchrecord-request": {"export":true,"for_":["BackgroundFetchRecord"],"level":"1","normative":true,"shortname":"background-fetch","spec":"background-fetch-1","status":"local","text":"request","type":"dfn","url":"#backgroundfetchrecord-request"},
"#backgroundfetchrecord-response-promise": {"export":true,"for_":["BackgroundFetchRecord"],"level":"1","normative":true,"shortname":"background-fetch","spec":"background-fetch-1","status":"local","text":"response promise","type":"dfn","url":"#backgroundfetchrecord-response-promise"},
"#backgroundfetchregistration": {"export":true,"for_":[],"level":"1","normative":true,"shortname":"background-fetch","spec":"background-fetch-1","status":"local","text":"BackgroundFetchRegistration","type":"interface","url":"#backgroundfetchregistration"},
"#backgroundfetchregistration-background-fetch": {"export":true,"for_":["BackgroundFetchRegistration"],"level":"1","normative":true,"shortname":"background-fetch","spec":"background-fetch-1","status":"local","text":"background fetch","type":"dfn","url":"#backgroundfetchregistration-background-fetch"},
"#backgroundfetchregistration-download-total": {"export":true,"for_":["BackgroundFetchRegistration"],"level":"1","normative":true,"shortname":"background-fetch","spec":"background-fetch-1","status":"local","text":"download total","type":"dfn","url":"#backgroundfetchregistration-download-total"},
"#backgroundfetchregistration-downloaded": {"export":true,"for_":["BackgroundFetchRegistration"],"level":"1","normative":true,"shortname":"background-fetch","spec":"background-fetch-1","status":"local","text":"downloaded","type":"dfn","url":"#backgroundfetchregistration-downloaded"},
"#backgroundfetchregistration-failure-reason": {"export":true,"for_":["BackgroundFetchRegistration"],"level":"1","normative":true,"shortname":"background-fetch","spec":"background-fetch-1","status":"local","text":"failure reason","type":"dfn","url":"#backgroundfetchregistration-failure-reason"},
"#backgroundfetchregistration-id": {"export":true,"for_":["BackgroundFetchRegistration"],"level":"1","normative":true,"shortname":"background-fetch","spec":"background-fetch-1","status":"local","text":"id","type":"dfn","url":"#backgroundfetchregistration-id"},
"#backgroundfetchregistration-records-available-flag": {"export":true,"for_":["BackgroundFetchRegistration"],"level":"1","normative":true,"shortname":"background-fetch","spec":"background-fetch-1","status":"local","text":"records available flag","type":"dfn","url":"#backgroundfetchregistration-records-available-flag"},
"#backgroundfetchregistration-result": {"export":true,"for_":["BackgroundFetchRegistration"],"level":"1","normative":true,"shortname":"background-fetch","spec":"background-fetch-1","status":"local","text":"result","type":"dfn","url":"#backgroundfetchregistration-result"},
"#backgroundfetchregistration-upload-total": {"export":true,"for_":["BackgroundFetchRegistration"],"level":"1","normative":true,"shortname":"background-fetch","spec":"background-fetch-1","status":"local","text":"upload total","type":"dfn","url":"#backgroundfetchregistration-upload-total"},
"#backgroundfetchregistration-uploaded": {"export":true,"for_":["BackgroundFetchRegistration"],"level":"1","normative":true,"shortname":"background-fetch","spec":"background-fetch-1","status":"local","text":"uploaded","type":"dfn","url":"#backgroundfetchregistration-uploaded"},
"#backgroundfetchupdateuievent": {"export":true,"for_":[],"level":"1","normative":true,"shortname":"background-fetch","spec":"background-fetch-1","status":"local","text":"BackgroundFetchUpdateUIEvent","type":"interface","url":"#backgroundfetchupdateuievent"},
"#backgroundfetchupdateuievent-ui-updated-flag": {"export":true,"for_":["BackgroundFetchUpdateUIEvent"],"level":"1","normative":true,"shortname":"background-fetch","spec":"background-fetch-1","status":"local","text":"ui updated flag","type":"dfn","url":"#backgroundfetchupdateuievent-ui-updated-flag"},
"#complete-a-record": {"export":true,"for_":[],"level":"1","normative":true,"shortname":"background-fetch","spec":"background-fetch-1","status":"local","text":"complete a record","type":"dfn","url":"#complete-a-record"},
"#contains-background-fetch": {"export":true,"for_":[],"level":"1","normative":true,"shortname":"background-fetch","spec":"background-fetch-1","status":"local","text":"contains background fetch","type":"dfn","url":"#contains-background-fetch"},
"#create-record-objects": {"export":true,"for_":[],"level":"1","normative":true,"shortname":"background-fetch","spec":"background-fetch-1","status":"local","text":"create record objects","type":"dfn","url":"#create-record-objects"},
"#dictdef-backgroundfetcheventinit": {"export":true,"for_":[],"level":"1","normative":true,"shortname":"background-fetch","spec":"background-fetch-1","status":"local","text":"BackgroundFetchEventInit","type":"dictionary","url":"#dictdef-backgroundfetcheventinit"},
"#dictdef-backgroundfetchoptions": {"export":true,"for_":[],"level":"1","normative":true,"shortname":"background-fetch","spec":"background-fetch-1","status":"local","text":"BackgroundFetchOptions","type":"dictionary","url":"#dictdef-backgroundfetchoptions"},
"#dictdef-backgroundfetchuioptions": {"export":true,"for_":[],"level":"1","normative":true,"shortname":"background-fetch","spec":"background-fetch-1","status":"local","text":"BackgroundFetchUIOptions","type":"dictionary","url":"#dictdef-backgroundfetchuioptions"},
"#does-not-contain-background-fetch": {"export":true,"for_":[],"level":"1","normative":true,"shortname":"background-fetch","spec":"background-fetch-1","status":"local","text":"does not contain background fetch","type":"dfn","url":"#does-not-contain-background-fetch"},
"#dom-backgroundfetchevent-registration": {"export":true,"for_":["BackgroundFetchEvent"],"level":"1","normative":true,"shortname":"background-fetch","spec":"background-fetch-1","status":"local","text":"registration","type":"attribute","url":"#dom-backgroundfetchevent-registration"},
"#dom-backgroundfetchmanager-fetch": {"export":true,"for_":["BackgroundFetchManager"],"level":"1","normative":true,"shortname":"background-fetch","spec":"background-fetch-1","status":"local","text":"fetch(id, requests, options)","type":"method","url":"#dom-backgroundfetchmanager-fetch"},
"#dom-backgroundfetchmanager-get": {"export":true,"for_":["BackgroundFetchManager"],"level":"1","normative":true,"shortname":"background-fetch","spec":"background-fetch-1","status":"local","text":"get(id)","type":"method","url":"#dom-backgroundfetchmanager-get"},
"#dom-backgroundfetchmanager-getids": {"export":true,"for_":["BackgroundFetchManager"],"level":"1","normative":true,"shortname":"background-fetch","spec":"background-fetch-1","status":"local","text":"getIds()","type":"method","url":"#dom-backgroundfetchmanager-getids"},
"#dom-backgroundfetchrecord-request": {"export":true,"for_":["BackgroundFetchRecord"],"level":"1","normative":true,"shortname":"background-fetch","spec":"background-fetch-1","status":"local","text":"request","type":"attribute","url":"#dom-backgroundfetchrecord-request"},
"#dom-backgroundfetchrecord-responseready": {"export":true,"for_":["BackgroundFetchRecord"],"level":"1","normative":true,"shortname":"background-fetch","spec":"background-fetch-1","status":"local","text":"responseReady","type":"attribute","url":"#dom-backgroundfetchrecord-responseready"},
"#dom-backgroundfetchregistration-abort": {"export":true,"for_":["BackgroundFetchRegistration"],"level":"1","normative":true,"shortname":"background-fetch","spec":"background-fetch-1","status":"local","text":"abort()","type":"method","url":"#dom-backgroundfetchregistration-abort"},
"#dom-backgroundfetchregistration-downloaded": {"export":true,"for_":["BackgroundFetchRegistration"],"level":"1","normative":true,"shortname":"background-fetch","spec":"background-fetch-1","status":"local","text":"downloaded","type":"attribute","url":"#dom-backgroundfetchregistration-downloaded"},
"#dom-backgroundfetchregistration-downloadtotal": {"export":true,"for_":["BackgroundFetchRegistration"],"level":"1","normative":true,"shortname":"background-fetch","spec":"background-fetch-1","status":"local","text":"downloadTotal","type":"attribute","url":"#dom-backgroundfetchregistration-downloadtotal"},
"#dom-backgroundfetchregistration-failurereason": {"export":true,"for_":["BackgroundFetchRegistration"],"level":"1","normative":true,"shortname":"background-fetch","spec":"background-fetch-1","status":"local","text":"failureReason","type":"attribute","url":"#dom-backgroundfetchregistration-failurereason"},
"#dom-backgroundfetchregistration-id": {"export":true,"for_":["BackgroundFetchRegistration"],"level":"1","normative":true,"shortname":"background-fetch","spec":"background-fetch-1","status":"local","text":"id","type":"attribute","url":"#dom-backgroundfetchregistration-id"},
"#dom-backgroundfetchregistration-match": {"export":true,"for_":["BackgroundFetchRegistration"],"level":"1","normative":true,"shortname":"background-fetch","spec":"background-fetch-1","status":"local","text":"match(request, options)","type":"method","url":"#dom-backgroundfetchregistration-match"},
"#dom-backgroundfetchregistration-matchall": {"export":true,"for_":["BackgroundFetchRegistration"],"level":"1","normative":true,"shortname":"background-fetch","spec":"background-fetch-1","status":"local","text":"matchAll(request, options)","type":"method","url":"#dom-backgroundfetchregistration-matchall"},
"#dom-backgroundfetchregistration-onprogress": {"export":true,"for_":["BackgroundFetchRegistration"],"level":"1","normative":true,"shortname":"background-fetch","spec":"background-fetch-1","status":"local","text":"onprogress","type":"attribute","url":"#dom-backgroundfetchregistration-onprogress"},
"#dom-backgroundfetchregistration-recordsavailable": {"export":true,"for_":["BackgroundFetchRegistration"],"level":"1","normative":true,"shortname":"background-fetch","spec":"background-fetch-1","status":"local","text":"recordsAvailable","type":"attribute","url":"#dom-backgroundfetchregistration-recordsavailable"},
"#dom-backgroundfetchregistration-result": {"export":true,"for_":["BackgroundFetchRegistration"],"level":"1","normative":true,"shortname":"background-fetch","spec":"background-fetch-1","status":"local","text":"result","type":"attribute","url":"#dom-backgroundfetchregistration-result"},
"#dom-backgroundfetchregistration-uploaded": {"export":true,"for_":["BackgroundFetchRegistration"],"level":"1","normative":true,"shortname":"background-fetch","spec":"background-fetch-1","status":"local","text":"uploaded","type":"attribute","url":"#dom-backgroundfetchregistration-uploaded"},
"#dom-backgroundfetchregistration-uploadtotal": {"export":true,"for_":["BackgroundFetchRegistration"],"level":"1","normative":true,"shortname":"background-fetch","spec":"background-fetch-1","status":"local","text":"uploadTotal","type":"attribute","url":"#dom-backgroundfetchregistration-uploadtotal"},
"#dom-backgroundfetchuioptions-icons": {"export":true,"for_":["BackgroundFetchUIOptions"],"level":"1","normative":true,"shortname":"background-fetch","spec":"background-fetch-1","status":"local","text":"icons","type":"dict-member","url":"#dom-backgroundfetchuioptions-icons"},
"#dom-backgroundfetchuioptions-title": {"export":true,"for_":["BackgroundFetchUIOptions"],"level":"1","normative":true,"shortname":"background-fetch","spec":"background-fetch-1","status":"local","text":"title","type":"dict-member","url":"#dom-backgroundfetchuioptions-title"},
"#dom-backgroundfetchupdateuievent-updateui": {"export":true,"for_":["BackgroundFetchUpdateUIEvent"],"level":"1","normative":true,"shortname":"background-fetch","spec":"background-fetch-1","status":"local","text":"updateUI(options)","type":"method","url":"#dom-backgroundfetchupdateuievent-updateui"},
"#dom-serviceworkerglobalscope-onbackgroundfetchabort": {"export":true,"for_":["ServiceWorkerGlobalScope"],"level":"1","normative":true,"shortname":"background-fetch","spec":"background-fetch-1","status":"local","text":"onbackgroundfetchabort","type":"attribute","url":"#dom-serviceworkerglobalscope-onbackgroundfetchabort"},
"#dom-serviceworkerglobalscope-onbackgroundfetchclick": {"export":true,"for_":["ServiceWorkerGlobalScope"],"level":"1","normative":true,"shortname":"background-fetch","spec":"background-fetch-1","status":"local","text":"onbackgroundfetchclick","type":"attribute","url":"#dom-serviceworkerglobalscope-onbackgroundfetchclick"},
"#dom-serviceworkerglobalscope-onbackgroundfetchfail": {"export":true,"for_":["ServiceWorkerGlobalScope"],"level":"1","normative":true,"shortname":"background-fetch","spec":"background-fetch-1","status":"local","text":"onbackgroundfetchfail","type":"attribute","url":"#dom-serviceworkerglobalscope-onbackgroundfetchfail"},
"#dom-serviceworkerglobalscope-onbackgroundfetchsuccess": {"export":true,"for_":["ServiceWorkerGlobalScope"],"level":"1","normative":true,"shortname":"background-fetch","spec":"background-fetch-1","status":"local","text":"onbackgroundfetchsuccess","type":"attribute","url":"#dom-serviceworkerglobalscope-onbackgroundfetchsuccess"},
"#dom-serviceworkerregistration-backgroundfetch": {"export":true,"for_":["ServiceWorkerRegistration"],"level":"1","normative":true,"shortname":"background-fetch","spec":"background-fetch-1","status":"local","text":"backgroundFetch","type":"attribute","url":"#dom-serviceworkerregistration-backgroundfetch"},
"#enumdef-backgroundfetchfailurereason": {"export":true,"for_":[],"level":"1","normative":true,"shortname":"background-fetch","spec":"background-fetch-1","status":"local","text":"BackgroundFetchFailureReason","type":"enum","url":"#enumdef-backgroundfetchfailurereason"},
"#enumdef-backgroundfetchresult": {"export":true,"for_":[],"level":"1","normative":true,"shortname":"background-fetch","spec":"background-fetch-1","status":"local","text":"BackgroundFetchResult","type":"enum","url":"#enumdef-backgroundfetchresult"},
"#eventdef-backgroundfetchregistration-progress": {"export":true,"for_":["BackgroundFetchRegistration"],"level":"1","normative":true,"shortname":"background-fetch","spec":"background-fetch-1","status":"local","text":"progress","type":"event","url":"#eventdef-backgroundfetchregistration-progress"},
"#extract-content-range-values": {"export":true,"for_":[],"level":"1","normative":true,"shortname":"background-fetch","spec":"background-fetch-1","status":"local","text":"extracting content-range values","type":"dfn","url":"#extract-content-range-values"},
"#fire-a-background-fetch-click-event": {"export":true,"for_":[],"level":"1","normative":true,"shortname":"background-fetch","spec":"background-fetch-1","status":"local","text":"fire a background fetch click event","type":"dfn","url":"#fire-a-background-fetch-click-event"},
"#get-a-backgroundfetchregistration-instance": {"export":true,"for_":[],"level":"1","normative":true,"shortname":"background-fetch","spec":"background-fetch-1","status":"local","text":"getting a backgroundfetchregistration instance","type":"dfn","url":"#get-a-backgroundfetchregistration-instance"},
"#perform-a-background-fetch": {"export":true,"for_":[],"level":"1","normative":true,"shortname":"background-fetch","spec":"background-fetch-1","status":"local","text":"perform a background fetch","type":"dfn","url":"#perform-a-background-fetch"},
"#queue-a-bgfetch-task": {"export":true,"for_":[],"level":"1","normative":true,"shortname":"background-fetch","spec":"background-fetch-1","status":"local","text":"queue a bgfetch task","type":"dfn","url":"#queue-a-bgfetch-task"},
"#service-worker-registration-active-background-fetches": {"export":true,"for_":["service worker registration"],"level":"1","normative":true,"shortname":"background-fetch","spec":"background-fetch-1","status":"local","text":"active background fetches","type":"dfn","url":"#service-worker-registration-active-background-fetches"},
"#service-worker-registration-active-background-fetches-edit-queue": {"export":true,"for_":["service worker registration"],"level":"1","normative":true,"shortname":"background-fetch","spec":"background-fetch-1","status":"local","text":"active background fetches edit queue","type":"dfn","url":"#service-worker-registration-active-background-fetches-edit-queue"},
"#serviceworkerregistration-background-fetch-manager": {"export":true,"for_":["ServiceWorkerRegistration"],"level":"1","normative":true,"shortname":"background-fetch","spec":"background-fetch-1","status":"local","text":"background fetch manager","type":"dfn","url":"#serviceworkerregistration-background-fetch-manager"},
"#single-byte-content-range": {"export":true,"for_":[],"level":"1","normative":true,"shortname":"background-fetch","spec":"background-fetch-1","status":"local","text":"single byte content-range","type":"dfn","url":"#single-byte-content-range"},
"#temporarily-unavailable": {"export":true,"for_":[],"level":"1","normative":true,"shortname":"background-fetch","spec":"background-fetch-1","status":"local","text":"temporarily unavailable","type":"dfn","url":"#temporarily-unavailable"},
"#update-background-fetch-instances": {"export":true,"for_":[],"level":"1","normative":true,"shortname":"background-fetch","spec":"background-fetch-1","status":"local","text":"update background fetch instances","type":"dfn","url":"#update-background-fetch-instances"},
"#validate-a-partial-response": {"export":true,"for_":[],"level":"1","normative":true,"shortname":"background-fetch","spec":"background-fetch-1","status":"local","text":"validate a partial response","type":"dfn","url":"#validate-a-partial-response"},
"https://dom.spec.whatwg.org/#concept-document-url": {"export":true,"for_":["Document"],"level":"1","normative":true,"shortname":"dom","spec":"dom","status":"current","text":"url","type":"dfn","url":"https://dom.spec.whatwg.org/#concept-document-url"},
"https://dom.spec.whatwg.org/#concept-event-fire": {"export":true,"for_":[],"level":"1","normative":true,"shortname":"dom","spec":"dom","status":"current","text":"fire an event","type":"dfn","url":"https://dom.spec.whatwg.org/#concept-event-fire"},
"https://dom.spec.whatwg.org/#dom-event-istrusted": {"export":true,"for_":["Event"],"level":"1","normative":true,"shortname":"dom","spec":"dom","status":"current","text":"isTrusted","type":"attribute","url":"https://dom.spec.whatwg.org/#dom-event-istrusted"},
"https://dom.spec.whatwg.org/#event": {"export":true,"for_":[],"level":"1","normative":true,"shortname":"dom","spec":"dom","status":"current","text":"Event","type":"interface","url":"https://dom.spec.whatwg.org/#event"},
"https://dom.spec.whatwg.org/#eventtarget": {"export":true,"for_":[],"level":"1","normative":true,"shortname":"dom","spec":"dom","status":"current","text":"EventTarget","type":"interface","url":"https://dom.spec.whatwg.org/#eventtarget"},
"https://fetch.spec.whatwg.org/#concept-aborted-network-error": {"export":true,"for_":[],"level":"1","normative":true,"shortname":"fetch","spec":"fetch","status":"current","text":"aborted network error","type":"dfn","url":"https://fetch.spec.whatwg.org/#concept-aborted-network-error"},
"https://fetch.spec.whatwg.org/#concept-body": {"export":true,"for_":[],"level":"1","normative":true,"shortname":"fetch","spec":"fetch","status":"current","text":"body","type":"dfn","url":"https://fetch.spec.whatwg.org/#concept-body"},
"https://fetch.spec.whatwg.org/#concept-body-stream": {"export":true,"for_":["body"],"level":"1","normative":true,"shortname":"fetch","spec":"fetch","status":"current","text":"stream","type":"dfn","url":"https://fetch.spec.whatwg.org/#concept-body-stream"},
"https://fetch.spec.whatwg.org/#concept-fetch": {"export":true,"for_":[],"level":"1","normative":true,"shortname":"fetch","spec":"fetch","status":"current","text":"fetch","type":"dfn","url":"https://fetch.spec.whatwg.org/#concept-fetch"},
"https://fetch.spec.whatwg.org/#concept-header": {"export":true,"for_":[],"level":"1","normative":true,"shortname":"fetch","spec":"fetch","status":"current","text":"header","type":"dfn","url":"https://fetch.spec.whatwg.org/#concept-header"},
"https://fetch.spec.whatwg.org/#concept-header-list-combine": {"export":true,"for_":["header list"],"level":"1","normative":true,"shortname":"fetch","spec":"fetch","status":"current","text":"combine","type":"dfn","url":"https://fetch.spec.whatwg.org/#concept-header-list-combine"},
"https://fetch.spec.whatwg.org/#concept-header-list-delete": {"export":true,"for_":["header list"],"level":"1","normative":true,"shortname":"fetch","spec":"fetch","status":"current","text":"delete","type":"dfn","url":"https://fetch.spec.whatwg.org/#concept-header-list-delete"},
"https://fetch.spec.whatwg.org/#concept-header-name": {"export":true,"for_":["header"],"level":"1","normative":true,"shortname":"fetch","spec":"fetch","status":"current","text":"name","type":"dfn","url":"https://fetch.spec.whatwg.org/#concept-header-name"},
"https://fetch.spec.whatwg.org/#concept-header-value": {"export":true,"for_":["header"],"level":"1","normative":true,"shortname":"fetch","spec":"fetch","status":"current","text":"value","type":"dfn","url":"https://fetch.spec.whatwg.org/#concept-header-value"},
"https://fetch.spec.whatwg.org/#concept-network-error": {"export":true,"for_":[],"level":"1","normative":true,"shortname":"fetch","spec":"fetch","status":"current","text":"network error","type":"dfn","url":"https://fetch.spec.whatwg.org/#concept-network-error"},
"https://fetch.spec.whatwg.org/#concept-request": {"export":true,"for_":[],"level":"1","normative":true,"shortname":"fetch","spec":"fetch","status":"current","text":"request","type":"dfn","url":"https://fetch.spec.whatwg.org/#concept-request"},
"https://fetch.spec.whatwg.org/#concept-request-add-range-header": {"export":true,"for_":["request"],"level":"1","normative":true,"shortname":"fetch","spec":"fetch","status":"current","text":"add a range header","type":"dfn","url":"https://fetch.spec.whatwg.org/#concept-request-add-range-header"},
"https://fetch.spec.whatwg.org/#concept-request-body": {"export":true,"for_":["request"],"level":"1","normative":true,"shortname":"fetch","spec":"fetch","status":"current","text":"body","type":"dfn","url":"https://fetch.spec.whatwg.org/#concept-request-body"},
"https://fetch.spec.whatwg.org/#concept-request-client": {"export":true,"for_":["request"],"level":"1","normative":true,"shortname":"fetch","spec":"fetch","status":"current","text":"client","type":"dfn","url":"https://fetch.spec.whatwg.org/#concept-request-client"},
"https://fetch.spec.whatwg.org/#concept-request-credentials-mode": {"export":true,"for_":["request"],"level":"1","normative":true,"shortname":"fetch","spec":"fetch","status":"current","text":"credentials mode","type":"dfn","url":"https://fetch.spec.whatwg.org/#concept-request-credentials-mode"},
"https://fetch.spec.whatwg.org/#concept-request-destination": {"export":true,"for_":["request"],"level":"1","normative":true,"shortname":"fetch","spec":"fetch","status":"current","text":"destination","type":"dfn","url":"https://fetch.spec.whatwg.org/#concept-request-destination"},
"https://fetch.spec.whatwg.org/#concept-request-header-list": {"export":true,"for_":["request"],"level":"1","normative":true,"shortname":"fetch","spec":"fetch","status":"current","text":"header list","type":"dfn","url":"https://fetch.spec.whatwg.org/#concept-request-header-list"},
"https://fetch.spec.whatwg.org/#concept-request-method": {"export":true,"for_":["request"],"level":"1","normative":true,"shortname":"fetch","spec":"fetch","status":"current","text":"method","type":"dfn","url":"https://fetch.spec.whatwg.org/#concept-request-method"},
"https://fetch.spec.whatwg.org/#concept-request-mode": {"export":true,"for_":["request"],"level":"1","normative":true,"shortname":"fetch","spec":"fetch","status":"current","text":"mode","type":"dfn","url":"https://fetch.spec.whatwg.org/#concept-request-mode"},
"https://fetch.spec.whatwg.org/#concept-request-request": {"export":true,"for_":["Request"],"level":"1","normative":true,"shortname":"fetch","spec":"fetch","status":"current","text":"request","type":"dfn","url":"https://fetch.spec.whatwg.org/#concept-request-request"},
"https://fetch.spec.whatwg.org/#concept-request-url": {"export":true,"for_":["request"],"level":"1","normative":true,"shortname":"fetch","spec":"fetch","status":"current","text":"url","type":"dfn","url":"https://fetch.spec.whatwg.org/#concept-request-url"},
"https://fetch.spec.whatwg.org/#concept-response": {"export":true,"for_":[],"level":"1","normative":true,"shortname":"fetch","spec":"fetch","status":"current","text":"response","type":"dfn","url":"https://fetch.spec.whatwg.org/#concept-response"},
"https://fetch.spec.whatwg.org/#concept-response-body": {"export":true,"for_":["response"],"level":"1","normative":true,"shortname":"fetch","spec":"fetch","status":"current","text":"body","type":"dfn","url":"https://fetch.spec.whatwg.org/#concept-response-body"},
"https://fetch.spec.whatwg.org/#concept-response-header-list": {"export":true,"for_":["response"],"level":"1","normative":true,"shortname":"fetch","spec":"fetch","status":"current","text":"header list","type":"dfn","url":"https://fetch.spec.whatwg.org/#concept-response-header-list"},
"https://fetch.spec.whatwg.org/#concept-response-response": {"export":true,"for_":["Response"],"level":"1","normative":true,"shortname":"fetch","spec":"fetch","status":"current","text":"response","type":"dfn","url":"https://fetch.spec.whatwg.org/#concept-response-response"},
"https://fetch.spec.whatwg.org/#concept-response-status": {"export":true,"for_":["response"],"level":"1","normative":true,"shortname":"fetch","spec":"fetch","status":"current","text":"status","type":"dfn","url":"https://fetch.spec.whatwg.org/#concept-response-status"},
"https://fetch.spec.whatwg.org/#header-list-contains": {"export":true,"for_":["header list"],"level":"1","normative":true,"shortname":"fetch","spec":"fetch","status":"current","text":"contains","type":"dfn","url":"https://fetch.spec.whatwg.org/#header-list-contains"},
"https://fetch.spec.whatwg.org/#headers": {"export":true,"for_":[],"level":"1","normative":true,"shortname":"fetch","spec":"fetch","status":"current","text":"Headers","type":"interface","url":"https://fetch.spec.whatwg.org/#headers"},
"https://fetch.spec.whatwg.org/#ok-status": {"export":true,"for_":[],"level":"1","normative":true,"shortname":"fetch","spec":"fetch","status":"current","text":"ok status","type":"dfn","url":"https://fetch.spec.whatwg.org/#ok-status"},
"https://fetch.spec.whatwg.org/#request": {"export":true,"for_":[],"level":"1","normative":true,"shortname":"fetch","spec":"fetch","status":"current","text":"Request","type":"interface","url":"https://fetch.spec.whatwg.org/#request"},
"https://fetch.spec.whatwg.org/#request-headers": {"export":true,"for_":["Request"],"level":"1","normative":true,"shortname":"fetch","spec":"fetch","status":"current","text":"headers","type":"dfn","url":"https://fetch.spec.whatwg.org/#request-headers"},
"https://fetch.spec.whatwg.org/#request-service-workers-mode": {"export":true,"for_":["request"],"level":"1","normative":true,"shortname":"fetch","spec":"fetch","status":"current","text":"service-workers mode","type":"dfn","url":"https://fetch.spec.whatwg.org/#request-service-workers-mode"},
"https://fetch.spec.whatwg.org/#requestinfo": {"export":true,"for_":[],"level":"1","normative":true,"shortname":"fetch","spec":"fetch","status":"current","text":"RequestInfo","type":"typedef","url":"https://fetch.spec.whatwg.org/#requestinfo"},
"https://fetch.spec.whatwg.org/#response": {"export":true,"for_":[],"level":"1","normative":true,"shortname":"fetch","spec":"fetch","status":"current","text":"Response","type":"interface","url":"https://fetch.spec.whatwg.org/#response"},
"https://fetch.spec.whatwg.org/#response-headers": {"export":true,"for_":["Response"],"level":"1","normative":true,"shortname":"fetch","spec":"fetch","status":"current","text":"headers","type":"dfn","url":"https://fetch.spec.whatwg.org/#response-headers"},
"https://html.spec.whatwg.org/multipage/document-sequences.html#nav-document": {"export":true,"for_":["navigable"],"level":"1","normative":true,"shortname":"html","spec":"html","status":"current","text":"active document","type":"dfn","url":"https://html.spec.whatwg.org/multipage/document-sequences.html#nav-document"},
"https://html.spec.whatwg.org/multipage/infrastructure.html#enqueue-the-following-steps": {"export":true,"for_":["parallel queue"],"level":"1","normative":true,"shortname":"html","spec":"html","status":"current","text":"enqueue the following steps","type":"dfn","url":"https://html.spec.whatwg.org/multipage/infrastructure.html#enqueue-the-following-steps"},
"https://html.spec.whatwg.org/multipage/infrastructure.html#in-parallel": {"export":true,"for_":[],"level":"1","normative":true,"shortname":"html","spec":"html","status":"current","text":"in parallel","type":"dfn","url":"https://html.spec.whatwg.org/multipage/infrastructure.html#in-parallel"},
"https://html.spec.whatwg.org/multipage/infrastructure.html#parallel-queue": {"export":true,"for_":[],"level":"1","normative":true,"shortname":"html","spec":"html","status":"current","text":"parallel queue","type":"dfn","url":"https://html.spec.whatwg.org/multipage/infrastructure.html#parallel-queue"},
"https://html.spec.whatwg.org/multipage/infrastructure.html#starting-a-new-parallel-queue": {"export":true,"for_":[],"level":"1","normative":true,"shortname":"html","spec":"html","status":"current","text":"starting a new parallel queue","type":"dfn","url":"https://html.spec.whatwg.org/multipage/infrastructure.html#starting-a-new-parallel-queue"},
"https://html.spec.whatwg.org/multipage/webappapis.html#concept-agent-event-loop": {"export":true,"for_":["agent"],"level":"1","normative":true,"shortname":"html","spec":"html","status":"current","text":"event loop","type":"dfn","url":"https://html.spec.whatwg.org/multipage/webappapis.html#concept-agent-event-loop"},
"https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-realm": {"export":true,"for_":[],"level":"1","normative":true,"shortname":"html","spec":"html","status":"current","text":"relevant realm","type":"dfn","url":"https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-realm"},
"https://html.spec.whatwg.org/multipage/webappapis.html#concept-settings-object-origin": {"export":true,"for_":["environment settings object"],"level":"1","normative":true,"shortname":"html","spec":"html","status":"current","text":"origin","type":"dfn","url":"https://html.spec.whatwg.org/multipage/webappapis.html#concept-settings-object-origin"},
"https://html.spec.whatwg.org/multipage/webappapis.html#environment-settings-object": {"export":true,"for_":[],"level":"1","normative":true,"shortname":"html","spec":"html","status":"current","text":"environment settings object","type":"dfn","url":"https://html.spec.whatwg.org/multipage/webappapis.html#environment-settings-object"},
"https://html.spec.whatwg.org/multipage/webappapis.html#event-handler-event-type": {"export":true,"for_":[],"level":"1","normative":true,"shortname":"html","spec":"html","status":"current","text":"event handler event type","type":"dfn","url":"https://html.spec.whatwg.org/multipage/webappapis.html#event-handler-event-type"},
"https://html.spec.whatwg.org/multipage/webappapis.html#event-handler-idl-attributes": {"export":true,"for_":[],"level":"1","normative":true,"shortname":"html","spec":"html","status":"current","text":"event handler idl attribute","type":"dfn","url":"https://html.spec.whatwg.org/multipage/webappapis.html#event-handler-idl-attributes"},
"https://html.spec.whatwg.org/multipage/webappapis.html#event-handlers": {"export":true,"for_":[],"level":"1","normative":true,"shortname":"html","spec":"html","status":"current","text":"event handler","type":"dfn","url":"https://html.spec.whatwg.org/multipage/webappapis.html#event-handlers"},
"https://html.spec.whatwg.org/multipage/webappapis.html#eventhandler": {"export":true,"for_":[],"level":"1","normative":true,"shortname":"html","spec":"html","status":"current","text":"EventHandler","type":"typedef","url":"https://html.spec.whatwg.org/multipage/webappapis.html#eventhandler"},
"https://html.spec.whatwg.org/multipage/webappapis.html#networking-task-source": {"export":true,"for_":[],"level":"1","normative":true,"shortname":"html","spec":"html","status":"current","text":"networking task source","type":"dfn","url":"https://html.spec.whatwg.org/multipage/webappapis.html#networking-task-source"},
"https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-task": {"export":true,"for_":[],"level":"1","normative":true,"shortname":"html","spec":"html","status":"current","text":"queue a task","type":"dfn","url":"https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-task"},
"https://html.spec.whatwg.org/multipage/webappapis.html#relevant-settings-object": {"export":true,"for_":[],"level":"1","normative":true,"shortname":"html","spec":"html","status":"current","text":"relevant settings object","type":"dfn","url":"https://html.spec.whatwg.org/multipage/webappapis.html#relevant-settings-object"},
"https://html.spec.whatwg.org/multipage/webappapis.html#responsible-event-loop": {"export":true,"for_":["environment settings object"],"level":"1","normative":true,"shortname":"html","spec":"html","status":"current","text":"responsible event loop","type":"dfn","url":"https://html.spec.whatwg.org/multipage/webappapis.html#responsible-event-loop"},
"https://html.spec.whatwg.org/multipage/webappapis.html#task-source": {"export":true,"for_":[],"level":"1","normative":true,"shortname":"html","spec":"html","status":"current","text":"task source","type":"dfn","url":"https://html.spec.whatwg.org/multipage/webappapis.html#task-source"},
"https://infra.spec.whatwg.org/#abort-when": {"export":true,"for_":[],"level":"1","normative":true,"shortname":"infra","spec":"infra","status":"current","text":"abort when","type":"dfn","url":"https://infra.spec.whatwg.org/#abort-when"},
"https://infra.spec.whatwg.org/#byte-case-insensitive": {"export":true,"for_":[],"level":"1","normative":true,"shortname":"infra","spec":"infra","status":"current","text":"byte-case-insensitive","type":"dfn","url":"https://infra.spec.whatwg.org/#byte-case-insensitive"},
"https://infra.spec.whatwg.org/#byte-sequence": {"export":true,"for_":[],"level":"1","normative":true,"shortname":"infra","spec":"infra","status":"current","text":"byte sequence","type":"dfn","url":"https://infra.spec.whatwg.org/#byte-sequence"},
"https://infra.spec.whatwg.org/#byte-sequence-length": {"export":true,"for_":["byte sequence"],"level":"1","normative":true,"shortname":"infra","spec":"infra","status":"current","text":"length","type":"dfn","url":"https://infra.spec.whatwg.org/#byte-sequence-length"},
"https://infra.spec.whatwg.org/#if-aborted": {"export":true,"for_":[],"level":"1","normative":true,"shortname":"infra","spec":"infra","status":"current","text":"if aborted","type":"dfn","url":"https://infra.spec.whatwg.org/#if-aborted"},
"https://infra.spec.whatwg.org/#iteration-continue": {"export":true,"for_":["iteration"],"level":"1","normative":true,"shortname":"infra","spec":"infra","status":"current","text":"continue","type":"dfn","url":"https://infra.spec.whatwg.org/#iteration-continue"},
"https://infra.spec.whatwg.org/#list": {"export":true,"for_":[],"level":"1","normative":true,"shortname":"infra","spec":"infra","status":"current","text":"list","type":"dfn","url":"https://infra.spec.whatwg.org/#list"},
"https://infra.spec.whatwg.org/#list-append": {"export":true,"for_":["list"],"level":"1","normative":true,"shortname":"infra","spec":"infra","status":"current","text":"append","type":"dfn","url":"https://infra.spec.whatwg.org/#list-append"},
"https://infra.spec.whatwg.org/#list-empty": {"export":true,"for_":["list","stack","queue","set"],"level":"1","normative":true,"shortname":"infra","spec":"infra","status":"current","text":"empty","type":"dfn","url":"https://infra.spec.whatwg.org/#list-empty"},
"https://infra.spec.whatwg.org/#list-iterate": {"export":true,"for_":["list","set"],"level":"1","normative":true,"shortname":"infra","spec":"infra","status":"current","text":"for each","type":"dfn","url":"https://infra.spec.whatwg.org/#list-iterate"},
"https://infra.spec.whatwg.org/#list-size": {"export":true,"for_":["list","stack","queue","set"],"level":"1","normative":true,"shortname":"infra","spec":"infra","status":"current","text":"size","type":"dfn","url":"https://infra.spec.whatwg.org/#list-size"},
"https://infra.spec.whatwg.org/#map-exists": {"export":true,"for_":["map"],"level":"1","normative":true,"shortname":"infra","spec":"infra","status":"current","text":"exist","type":"dfn","url":"https://infra.spec.whatwg.org/#map-exists"},
"https://infra.spec.whatwg.org/#map-getting-the-keys": {"export":true,"for_":["map"],"level":"1","normative":true,"shortname":"infra","spec":"infra","status":"current","text":"getting the keys","type":"dfn","url":"https://infra.spec.whatwg.org/#map-getting-the-keys"},
"https://infra.spec.whatwg.org/#ordered-map": {"export":true,"for_":[],"level":"1","normative":true,"shortname":"infra","spec":"infra","status":"current","text":"map","type":"dfn","url":"https://infra.spec.whatwg.org/#ordered-map"},
"https://streams.spec.whatwg.org/#readablestream-cancel": {"export":true,"for_":["ReadableStream"],"level":"1","normative":true,"shortname":"streams","spec":"streams","status":"current","text":"cancel","type":"dfn","url":"https://streams.spec.whatwg.org/#readablestream-cancel"},
"https://streams.spec.whatwg.org/#readablestream-close": {"export":true,"for_":["ReadableStream"],"level":"1","normative":true,"shortname":"streams","spec":"streams","status":"current","text":"close","type":"dfn","url":"https://streams.spec.whatwg.org/#readablestream-close"},
"https://streams.spec.whatwg.org/#readablestream-enqueue": {"export":true,"for_":["ReadableStream"],"level":"1","normative":true,"shortname":"streams","spec":"streams","status":"current","text":"enqueue","type":"dfn","url":"https://streams.spec.whatwg.org/#readablestream-enqueue"},
"https://streams.spec.whatwg.org/#readablestream-error": {"export":true,"for_":["ReadableStream"],"level":"1","normative":true,"shortname":"streams","spec":"streams","status":"current","text":"error","type":"dfn","url":"https://streams.spec.whatwg.org/#readablestream-error"},
"https://streams.spec.whatwg.org/#readablestream-errored": {"export":true,"for_":["ReadableStream"],"level":"1","normative":true,"shortname":"streams","spec":"streams","status":"current","text":"errored","type":"dfn","url":"https://streams.spec.whatwg.org/#readablestream-errored"},
"https://streams.spec.whatwg.org/#readablestream-readable": {"export":true,"for_":["ReadableStream"],"level":"1","normative":true,"shortname":"streams","spec":"streams","status":"current","text":"readable","type":"dfn","url":"https://streams.spec.whatwg.org/#readablestream-readable"},
"https://tc39.github.io/ecma262/#realm": {"export":true,"for_":[],"level":"262","normative":true,"shortname":"ecma","spec":"ecma-262","status":"anchor-block","text":"realm","type":"dfn","url":"https://tc39.github.io/ecma262/#realm"},
"https://tools.ietf.org/html/rfc7230#section-7": {"export":true,"for_":[],"level":"1","normative":true,"shortname":"background-fetch","spec":"","status":"anchor-block","text":"http abnf","type":"dfn","url":"https://tools.ietf.org/html/rfc7230#section-7"},
"https://url.spec.whatwg.org/#concept-url-origin": {"export":true,"for_":["url"],"level":"1","normative":true,"shortname":"url","spec":"url","status":"current","text":"origin","type":"dfn","url":"https://url.spec.whatwg.org/#concept-url-origin"},
"https://w3c.github.io/ServiceWorker/#dfn-active-worker": {"export":true,"for_":["service worker registration"],"level":"1","normative":true,"shortname":"service-workers","spec":"service-workers","status":"current","text":"active worker","type":"dfn","url":"https://w3c.github.io/ServiceWorker/#dfn-active-worker"},
"https://w3c.github.io/ServiceWorker/#dfn-scope-url": {"export":true,"for_":["service worker registration"],"level":"1","normative":true,"shortname":"service-workers","spec":"service-workers","status":"current","text":"scope url","type":"dfn","url":"https://w3c.github.io/ServiceWorker/#dfn-scope-url"},
"https://w3c.github.io/ServiceWorker/#dfn-service-worker": {"export":true,"for_":[],"level":"1","normative":true,"shortname":"service-workers","spec":"service-workers","status":"current","text":"service worker","type":"dfn","url":"https://w3c.github.io/ServiceWorker/#dfn-service-worker"},
"https://w3c.github.io/ServiceWorker/#dfn-service-worker-registration": {"export":true,"for_":[],"level":"1","normative":true,"shortname":"service-workers","spec":"service-workers","status":"current","text":"service worker registration","type":"dfn","url":"https://w3c.github.io/ServiceWorker/#dfn-service-worker-registration"},
"https://w3c.github.io/ServiceWorker/#dictdef-cachequeryoptions": {"export":true,"for_":[],"level":"1","normative":true,"shortname":"service-workers","spec":"service-workers","status":"current","text":"CacheQueryOptions","type":"dictionary","url":"https://w3c.github.io/ServiceWorker/#dictdef-cachequeryoptions"},
"https://w3c.github.io/ServiceWorker/#dictdef-extendableeventinit": {"export":true,"for_":[],"level":"1","normative":true,"shortname":"service-workers","spec":"service-workers","status":"current","text":"ExtendableEventInit","type":"dictionary","url":"https://w3c.github.io/ServiceWorker/#dictdef-extendableeventinit"},
"https://w3c.github.io/ServiceWorker/#dom-extendableevent-waituntil": {"export":true,"for_":["ExtendableEvent"],"level":"1","normative":true,"shortname":"service-workers","spec":"service-workers","status":"current","text":"waitUntil(f)","type":"method","url":"https://w3c.github.io/ServiceWorker/#dom-extendableevent-waituntil"},
"https://w3c.github.io/ServiceWorker/#extendableevent": {"export":true,"for_":[],"level":"1","normative":true,"shortname":"service-workers","spec":"service-workers","status":"current","text":"ExtendableEvent","type":"interface","url":"https://w3c.github.io/ServiceWorker/#extendableevent"},
"https://w3c.github.io/ServiceWorker/#extendableevent-active": {"export":true,"for_":["ExtendableEvent"],"level":"1","normative":true,"shortname":"service-workers","spec":"service-workers","status":"current","text":"active","type":"dfn","url":"https://w3c.github.io/ServiceWorker/#extendableevent-active"},
"https://w3c.github.io/ServiceWorker/#fire-functional-event": {"export":true,"for_":[],"level":"1","normative":true,"shortname":"service-workers","spec":"service-workers","status":"current","text":"fire a functional event","type":"dfn","url":"https://w3c.github.io/ServiceWorker/#fire-functional-event"},
"https://w3c.github.io/ServiceWorker/#match-service-worker-registration": {"export":true,"for_":[],"level":"1","normative":true,"shortname":"service-workers","spec":"service-workers","status":"current","text":"match service worker registration","type":"dfn","url":"https://w3c.github.io/ServiceWorker/#match-service-worker-registration"},
"https://w3c.github.io/ServiceWorker/#request-matches-cached-item": {"export":true,"for_":[],"level":"1","normative":true,"shortname":"service-workers","spec":"service-workers","status":"current","text":"request matches cached item","type":"dfn","url":"https://w3c.github.io/ServiceWorker/#request-matches-cached-item"},
"https://w3c.github.io/ServiceWorker/#serviceworker": {"export":true,"for_":[],"level":"1","normative":true,"shortname":"service-workers","spec":"service-workers","status":"current","text":"ServiceWorker","type":"interface","url":"https://w3c.github.io/ServiceWorker/#serviceworker"},
"https://w3c.github.io/ServiceWorker/#serviceworkerglobalscope": {"export":true,"for_":[],"level":"1","normative":true,"shortname":"service-workers","spec":"service-workers","status":"current","text":"ServiceWorkerGlobalScope","type":"interface","url":"https://w3c.github.io/ServiceWorker/#serviceworkerglobalscope"},
"https://w3c.github.io/ServiceWorker/#serviceworkerregistration": {"export":true,"for_":[],"level":"1","normative":true,"shortname":"service-workers","spec":"service-workers","status":"current","text":"ServiceWorkerRegistration","type":"interface","url":"https://w3c.github.io/ServiceWorker/#serviceworkerregistration"},
"https://w3c.github.io/image-resource/#dfn-src": {"export":true,"for_":["image resource"],"level":"","normative":true,"shortname":"image-resource","spec":"image-resource","status":"anchor-block","text":"src","type":"dfn","url":"https://w3c.github.io/image-resource/#dfn-src"},
"https://w3c.github.io/image-resource/#dom-imageresource": {"export":true,"for_":[],"level":"","normative":true,"shortname":"image-resource","spec":"image-resource","status":"anchor-block","text":"ImageResource","type":"dictionary","url":"https://w3c.github.io/image-resource/#dom-imageresource"},
"https://w3c.github.io/image-resource/#image-resource": {"export":true,"for_":[],"level":"","normative":true,"shortname":"image-resource","spec":"image-resource","status":"anchor-block","text":"image resource","type":"dfn","url":"https://w3c.github.io/image-resource/#image-resource"},
"https://w3c.github.io/image-resource/#processing-an-imageresource-from-an-api": {"export":true,"for_":[],"level":"","normative":true,"shortname":"image-resource","spec":"image-resource","status":"anchor-block","text":"processing","type":"dfn","url":"https://w3c.github.io/image-resource/#processing-an-imageresource-from-an-api"},
"https://w3c.github.io/permissions/#dfn-new-information-about-the-user-s-intent": {"export":true,"for_":[],"level":"1","normative":true,"shortname":"permissions","spec":"permissions","status":"current","text":"new information about the user's intent","type":"dfn","url":"https://w3c.github.io/permissions/#dfn-new-information-about-the-user-s-intent"},
"https://w3c.github.io/permissions/#dfn-permission-state": {"export":true,"for_":[],"level":"1","normative":true,"shortname":"permissions","spec":"permissions","status":"current","text":"permission state","type":"dfn","url":"https://w3c.github.io/permissions/#dfn-permission-state"},
"https://w3c.github.io/permissions/#dom-permissiondescriptor": {"export":true,"for_":[],"level":"1","normative":true,"shortname":"permissions","spec":"permissions","status":"current","text":"PermissionDescriptor","type":"dictionary","url":"https://w3c.github.io/permissions/#dom-permissiondescriptor"},
"https://w3c.github.io/permissions/#dom-permissiondescriptor-name": {"export":true,"for_":["PermissionDescriptor"],"level":"1","normative":true,"shortname":"permissions","spec":"permissions","status":"current","text":"name","type":"dict-member","url":"https://w3c.github.io/permissions/#dom-permissiondescriptor-name"},
"https://w3c.github.io/webdriver/#dfn-current-top-level-browsing-context": {"export":true,"for_":[],"level":"","normative":true,"shortname":"webdriver","spec":"webdriver","status":"anchor-block","text":"current top-level browsing context","type":"dfn","url":"https://w3c.github.io/webdriver/#dfn-current-top-level-browsing-context"},
"https://w3c.github.io/webdriver/#dfn-error-code": {"export":true,"for_":[],"level":"","normative":true,"shortname":"webdriver","spec":"webdriver","status":"anchor-block","text":"webdriver error code","type":"dfn","url":"https://w3c.github.io/webdriver/#dfn-error-code"},
"https://w3c.github.io/webdriver/#dfn-errors": {"export":true,"for_":[],"level":"","normative":true,"shortname":"webdriver","spec":"webdriver","status":"anchor-block","text":"webdriver error","type":"dfn","url":"https://w3c.github.io/webdriver/#dfn-errors"},
"https://w3c.github.io/webdriver/#dfn-extension-command": {"export":true,"for_":[],"level":"","normative":true,"shortname":"webdriver","spec":"webdriver","status":"anchor-block","text":"extension command","type":"dfn","url":"https://w3c.github.io/webdriver/#dfn-extension-command"},
"https://w3c.github.io/webdriver/#dfn-extension-command-uri-template": {"export":true,"for_":[],"level":"","normative":true,"shortname":"webdriver","spec":"webdriver","status":"anchor-block","text":"extension command uri template","type":"dfn","url":"https://w3c.github.io/webdriver/#dfn-extension-command-uri-template"},
"https://w3c.github.io/webdriver/#dfn-no-longer-open": {"export":true,"for_":[],"level":"","normative":true,"shortname":"webdriver","spec":"webdriver","status":"anchor-block","text":"no longer open","type":"dfn","url":"https://w3c.github.io/webdriver/#dfn-no-longer-open"},
"https://w3c.github.io/webdriver/#dfn-no-such-window": {"export":true,"for_":[],"level":"","normative":true,"shortname":"webdriver","spec":"webdriver","status":"anchor-block","text":"no such window","type":"dfn","url":"https://w3c.github.io/webdriver/#dfn-no-such-window"},
"https://w3c.github.io/webdriver/#dfn-remote-end-steps": {"export":true,"for_":[],"level":"","normative":true,"shortname":"webdriver","spec":"webdriver","status":"anchor-block","text":"remote end steps","type":"dfn","url":"https://w3c.github.io/webdriver/#dfn-remote-end-steps"},
"https://w3c.github.io/webdriver/#dfn-success": {"export":true,"for_":[],"level":"","normative":true,"shortname":"webdriver","spec":"webdriver","status":"anchor-block","text":"webdriver success","type":"dfn","url":"https://w3c.github.io/webdriver/#dfn-success"},
"https://w3c.github.io/webdriver/#dfn-url-variables": {"export":true,"for_":[],"level":"","normative":true,"shortname":"webdriver","spec":"webdriver","status":"anchor-block","text":"url variable","type":"dfn","url":"https://w3c.github.io/webdriver/#dfn-url-variables"},
"https://webidl.spec.whatwg.org/#Exposed": {"export":true,"for_":[],"level":"1","normative":true,"shortname":"webidl","spec":"webidl","status":"current","text":"Exposed","type":"extended-attribute","url":"https://webidl.spec.whatwg.org/#Exposed"},
"https://webidl.spec.whatwg.org/#a-new-promise": {"export":true,"for_":[],"level":"1","normative":true,"shortname":"webidl","spec":"webidl","status":"current","text":"a new promise","type":"dfn","url":"https://webidl.spec.whatwg.org/#a-new-promise"},
"https://webidl.spec.whatwg.org/#a-promise-rejected-with": {"export":true,"for_":[],"level":"1","normative":true,"shortname":"webidl","spec":"webidl","status":"current","text":"a promise rejected with","type":"dfn","url":"https://webidl.spec.whatwg.org/#a-promise-rejected-with"},
"https://webidl.spec.whatwg.org/#aborterror": {"export":true,"for_":[],"level":"1","normative":true,"shortname":"webidl","spec":"webidl","status":"current","text":"AbortError","type":"exception","url":"https://webidl.spec.whatwg.org/#aborterror"},
"https://webidl.spec.whatwg.org/#dfn-perform-steps-once-promise-is-settled": {"export":true,"for_":["promise"],"level":"1","normative":true,"shortname":"webidl","spec":"webidl","status":"current","text":"reacting","type":"dfn","url":"https://webidl.spec.whatwg.org/#dfn-perform-steps-once-promise-is-settled"},
"https://webidl.spec.whatwg.org/#exceptiondef-typeerror": {"export":true,"for_":[],"level":"1","normative":true,"shortname":"webidl","spec":"webidl","status":"current","text":"TypeError","type":"exception","url":"https://webidl.spec.whatwg.org/#exceptiondef-typeerror"},
"https://webidl.spec.whatwg.org/#idl-ArrayBuffer": {"export":true,"for_":[],"level":"1","normative":true,"shortname":"webidl","spec":"webidl","status":"current","text":"ArrayBuffer","type":"interface","url":"https://webidl.spec.whatwg.org/#idl-ArrayBuffer"},
"https://webidl.spec.whatwg.org/#idl-DOMException": {"export":true,"for_":[],"level":"1","normative":true,"shortname":"webidl","spec":"webidl","status":"current","text":"DOMException","type":"interface","url":"https://webidl.spec.whatwg.org/#idl-DOMException"},
"https://webidl.spec.whatwg.org/#idl-DOMString": {"export":true,"for_":[],"level":"1","normative":true,"shortname":"webidl","spec":"webidl","status":"current","text":"DOMString","type":"interface","url":"https://webidl.spec.whatwg.org/#idl-DOMString"},
"https://webidl.spec.whatwg.org/#idl-Uint8Array": {"export":true,"for_":[],"level":"1","normative":true,"shortname":"webidl","spec":"webidl","status":"current","text":"Uint8Array","type":"interface","url":"https://webidl.spec.whatwg.org/#idl-Uint8Array"},
"https://webidl.spec.whatwg.org/#idl-boolean": {"export":true,"for_":[],"level":"1","normative":true,"shortname":"webidl","spec":"webidl","status":"current","text":"boolean","type":"interface","url":"https://webidl.spec.whatwg.org/#idl-boolean"},
"https://webidl.spec.whatwg.org/#idl-promise": {"export":true,"for_":[],"level":"1","normative":true,"shortname":"webidl","spec":"webidl","status":"current","text":"Promise","type":"interface","url":"https://webidl.spec.whatwg.org/#idl-promise"},
"https://webidl.spec.whatwg.org/#idl-sequence": {"export":true,"for_":[],"level":"1","normative":true,"shortname":"webidl","spec":"webidl","status":"current","text":"sequence","type":"dfn","url":"https://webidl.spec.whatwg.org/#idl-sequence"},
"https://webidl.spec.whatwg.org/#idl-unsigned-long-long": {"export":true,"for_":[],"level":"1","normative":true,"shortname":"webidl","spec":"webidl","status":"current","text":"unsigned long long","type":"interface","url":"https://webidl.spec.whatwg.org/#idl-unsigned-long-long"},
"https://webidl.spec.whatwg.org/#invalidstateerror": {"export":true,"for_":[],"level":"1","normative":true,"shortname":"webidl","spec":"webidl","status":"current","text":"InvalidStateError","type":"exception","url":"https://webidl.spec.whatwg.org/#invalidstateerror"},
"https://webidl.spec.whatwg.org/#notallowederror": {"export":true,"for_":[],"level":"1","normative":true,"shortname":"webidl","spec":"webidl","status":"current","text":"NotAllowedError","type":"exception","url":"https://webidl.spec.whatwg.org/#notallowederror"},
"https://webidl.spec.whatwg.org/#quotaexceedederror": {"export":true,"for_":[],"level":"1","normative":true,"shortname":"webidl","spec":"webidl","status":"current","text":"QuotaExceededError","type":"exception","url":"https://webidl.spec.whatwg.org/#quotaexceedederror"},
"https://webidl.spec.whatwg.org/#reject": {"export":true,"for_":[],"level":"1","normative":true,"shortname":"webidl","spec":"webidl","status":"current","text":"reject","type":"dfn","url":"https://webidl.spec.whatwg.org/#reject"},
"https://webidl.spec.whatwg.org/#resolve": {"export":true,"for_":[],"level":"1","normative":true,"shortname":"webidl","spec":"webidl","status":"current","text":"resolve","type":"dfn","url":"https://webidl.spec.whatwg.org/#resolve"},
};

function mkRefHint(link, ref) {
    const linkText = link.textContent;
    let dfnTextElements = '';
    if (ref.text != linkText) {
        dfnTextElements =
            mk.li({},
                mk.b({}, "Term: "),
                mk.span({}, ref.text)
            );
    }
    const forList = ref.for_;
    let forListElements;
    if(forList.length == 0) {
        forListElements = [];
    } else if(forList.length == 1) {
        forListElements = mk.li({},
            mk.b({}, "For: "),
            mk.span({}, forList[0]),
        );
    } else {
        forListElements = mk.li({},
            mk.b({}, "For: "),
            mk.ul({},
                ...forList.map(forItem =>
                    mk.li({},
                        mk.span({}, forItem)
                    ),
                ),
            ),
        );
    }
    const url = ref.url;
    const safeUrl = encodeURIComponent(url);
    const hintPanel = mk.aside({
        class: "ref-hint",
        id: `ref-hint-for-${safeUrl}`,
        "data-for": url,
        "aria-labelled-by": `ref-hint-for-${safeUrl}`,
    },
        mk.ul({},
            dfnTextElements,
            mk.li({},
                mk.b({}, "URL: "),
                mk.a({ href: url, class: "ref" }, url),
            ),
            mk.li({},
                mk.b({}, "Type: "),
                mk.span({}, `${ref.type}`),
            ),
            mk.li({},
                mk.b({}, "Spec: "),
                mk.span({}, `${ref.spec ? ref.spec : ''}`),
            ),
            forListElements
        ),
    );
    hintPanel.forLink = link;
    setupRefHintEventListeners(link, hintPanel);
    return hintPanel;
}

function hideAllRefHints() {
    queryAll(".ref-hint").forEach(el=>hideRefHint(el));
}

function hideRefHint(refHint) {
    const link = refHint.forLink;
    link.setAttribute("aria-expanded", "false");
    if(refHint.teardownEventListeners) {
        refHint.teardownEventListeners();
    }
    refHint.remove();
}

function showRefHint(link) {
    if(link.classList.contains("dfn-link")) return;
    const url = link.getAttribute("href");
    const ref = refsData[url];
    if(!ref) return;

    hideAllRefHints(); // Only display one at this time.

    const refHint = mkRefHint(link, ref);
    append(document.body, refHint);
    link.setAttribute("aria-expanded", "true");
    positionRefHint(refHint);
}

function setupRefHintEventListeners(link, refHint) {
    if (refHint.teardownEventListeners) return;
    // Add event handlers to hide the refHint after the user moves away
    // from both the link and refHint, if not hovering either within one second.
    let timeout = null;
    const startHidingRefHint = (event) => {
        if (timeout) {
            clearTimeout(timeout);
        }
        timeout = setTimeout(() => {
            hideRefHint(refHint);
        }, 1000);
    }
    const resetHidingRefHint = (event) => {
        if (timeout) clearTimeout(timeout);
        timeout = null;
    };
    link.addEventListener("mouseleave", startHidingRefHint);
    link.addEventListener("mouseenter", resetHidingRefHint);
    link.addEventListener("blur", startHidingRefHint);
    link.addEventListener("focus", resetHidingRefHint);
    refHint.addEventListener("mouseleave", startHidingRefHint);
    refHint.addEventListener("mouseenter", resetHidingRefHint);
    refHint.addEventListener("blur", startHidingRefHint);
    refHint.addEventListener("focus", resetHidingRefHint);

    refHint.teardownEventListeners = () => {
        // remove event listeners
        resetHidingRefHint();
        link.removeEventListener("mouseleave", startHidingRefHint);
        link.removeEventListener("mouseenter", resetHidingRefHint);
        link.removeEventListener("blur", startHidingRefHint);
        link.removeEventListener("focus", resetHidingRefHint);
        refHint.removeEventListener("mouseleave", startHidingRefHint);
        refHint.removeEventListener("mouseenter", resetHidingRefHint);
        refHint.removeEventListener("blur", startHidingRefHint);
        refHint.removeEventListener("focus", resetHidingRefHint);
    };
}

function positionRefHint(refHint) {
    const link = refHint.forLink;
    const linkPos = getBounds(link);
    refHint.style.top = linkPos.bottom + "px";
    refHint.style.left = linkPos.left + "px";

    const panelPos = refHint.getBoundingClientRect();
    const panelMargin = 8;
    const maxRight = document.body.parentNode.clientWidth - panelMargin;
    if (panelPos.right > maxRight) {
        const overflowAmount = panelPos.right - maxRight;
        const newLeft = Math.max(panelMargin, linkPos.left - overflowAmount);
        refHint.style.left = newLeft + "px";
    }
}

// TODO: shared util
// Returns the root-level absolute position {left and top} of element.
function getBounds(el, relativeTo=document.body) {
    const relativeRect = relativeTo.getBoundingClientRect();
    const elRect = el.getBoundingClientRect();
    const top = elRect.top - relativeRect.top;
    const left = elRect.left - relativeRect.left;
    return {
        top,
        left,
        bottom: top + elRect.height,
        right: left + elRect.width,
    }
}

function showRefHintListener(e) {
    // If the target isn't in a link (or is a link),
    // just ignore it.
    let link = e.target.closest("a");
    if(!link) return;

    // If the target is in a ref-hint panel
    // (aka a link in the already-open one),
    // also just ignore it.
    if(link.closest(".ref-hint")) return;

    // Otherwise, show the panel for the link.
    showRefHint(link);
}

function hideAllHintsListener(e) {
    // If the click is inside a ref-hint panel, ignore it.
    if(e.target.closest(".ref-hint")) return;
    // Otherwise, close all the current panels.
    hideAllRefHints();
}

document.addEventListener("DOMContentLoaded", () => {
    document.body.addEventListener("mousedown", showRefHintListener);
    document.body.addEventListener("focus", showRefHintListener);

    document.body.addEventListener("click", hideAllHintsListener);
});

window.addEventListener("resize", () => {
    // Hide any open ref hint.
    hideAllRefHints();
});
}
</script>
<script>/* Boilerplate: script-var-click-highlighting */
"use strict";
{
/*
Color-choosing design:

* Colors are ordered by goodness.
* On clicking a var, give it the earliest color
    with the lowest usage in the algorithm.
* On re-clicking, re-use the var's most recent color
    if that's not currently being used elsewhere.
*/

const COLOR_COUNT = 7;

document.addEventListener("click", e=>{
    if(e.target.nodeName == "VAR") {
        highlightSameAlgoVars(e.target);
    }
});

function highlightSameAlgoVars(v) {
    // Find the algorithm container.
    let algoContainer = findAlgoContainer(v);

    // Not highlighting document-global vars,
    // too likely to be unrelated.
    if(algoContainer == null) return;

    const varName = nameFromVar(v);
    if(!v.hasAttribute("data-var-color")) {
        const newColor = chooseHighlightColor(algoContainer, v);
        for(const el of algoContainer.querySelectorAll("var")) {
            if(nameFromVar(el) == varName) {
                el.setAttribute("data-var-color", newColor);
                el.setAttribute("data-var-last-color", newColor);
            }
        }
    } else {
        for(const el of algoContainer.querySelectorAll("var")) {
            if(nameFromVar(el) == varName) {
                el.removeAttribute("data-var-color");
            }
        }
    }
}
function findAlgoContainer(el) {
    while(el != document.body) {
        if(el.hasAttribute("data-algorithm")) return el;
        el = el.parentNode;
    }
    return null;
}
function nameFromVar(el) {
    return el.textContent.replace(/(\s|\xa0)+/g, " ").trim();
}
function colorCountsFromContainer(container) {
    const namesFromColor = Array.from({length:COLOR_COUNT}, x=>new Set());
    for(let v of container.querySelectorAll("var[data-var-color]")) {
        let color = +v.getAttribute("data-var-color");
        namesFromColor[color].add(nameFromVar(v));
    }

    return namesFromColor.map(x=>x.size);
}
function leastUsedColor(colors) {
    // Find the earliest color with the lowest count.
    let minCount = Infinity;
    let minColor = null;
    for(var i = 0; i < colors.length; i++) {
        if(colors[i] < minCount) {
            minColor = i;
            minCount = colors[i];
        }
    }
    return minColor;
}
function chooseHighlightColor(container, v) {
    const colorCounts = colorCountsFromContainer(container);
    if(v.hasAttribute("data-var-last-color")) {
        let color = +v.getAttribute("data-var-last-color");
        if(colorCounts[color] == 0) return color;
    }
    return leastUsedColor(colorCounts);
}
}
</script>