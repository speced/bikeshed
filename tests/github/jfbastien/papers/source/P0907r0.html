<!doctype html><html lang="en">
 <head>
  <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
  <meta content="width=device-width, initial-scale=1, shrink-to-fit=no" name="viewport">
  <title>P0907R0: Signed Integers are Two’s Complement</title>
<style data-fill-with="stylesheet">
  </style>
<style>
    table, th, td {
      border: 1px solid black;
      border-collapse: collapse;
      vertical-align: top;
    }
    th, td {
      border-left: none;
      border-right: none;
      padding: 0px 10px;
    }
    th {
      text-align: center;
    }

    del { background: #fcc; color: #000; text-decoration: line-through; }
    ins { background: #cfc; color: #000; }
    blockquote .highlight:not(.idl) { background: initial; margin: initial; padding: 0.5em }
    blockquote ul { background: inherit; }
    blockquote code.highlight:not(.idl) { padding: initial; }
    blockquote c-[a] { color: inherit; } /* Keyword.Declaration */
    blockquote c-[b] { color: inherit; } /* Keyword.Type */
    blockquote c-[c] { color: inherit; } /* Comment */
    blockquote c-[d] { color: inherit; } /* Comment.Multiline */
    blockquote c-[e] { color: inherit; } /* Name.Attribute */
    blockquote c-[f] { color: inherit; } /* Name.Tag */
    blockquote c-[g] { color: inherit; } /* Name.Variable */
    blockquote c-[k] { color: inherit; } /* Keyword */
    blockquote c-[l] { color: inherit; } /* Literal */
    blockquote c-[m] { color: inherit; } /* Literal.Number */
    blockquote c-[n] { color: inherit; } /* Name */
    blockquote c-[o] { color: inherit; } /* Operator */
    blockquote c-[p] { color: inherit; } /* Punctuation */
    blockquote c-[s] { color: inherit; } /* Literal.String */
    blockquote c-[t] { color: inherit; } /* Literal.String.Single */
    blockquote c-[u] { color: inherit; } /* Literal.String.Double */
    blockquote c-[cp] { color: inherit; } /* Comment.Preproc */
    blockquote c-[c1] { color: inherit; } /* Comment.Single */
    blockquote c-[cs] { color: inherit; } /* Comment.Special */
    blockquote c-[kc] { color: inherit; } /* Keyword.Constant */
    blockquote c-[kn] { color: inherit; } /* Keyword.Namespace */
    blockquote c-[kp] { color: inherit; } /* Keyword.Pseudo */
    blockquote c-[kr] { color: inherit; } /* Keyword.Reserved */
    blockquote c-[ld] { color: inherit; } /* Literal.Date */
    blockquote c-[nc] { color: inherit; } /* Name.Class */
    blockquote c-[no] { color: inherit; } /* Name.Constant */
    blockquote c-[nd] { color: inherit; } /* Name.Decorator */
    blockquote c-[ni] { color: inherit; } /* Name.Entity */
    blockquote c-[ne] { color: inherit; } /* Name.Exception */
    blockquote c-[nf] { color: inherit; } /* Name.Function */
    blockquote c-[nl] { color: inherit; } /* Name.Label */
    blockquote c-[nn] { color: inherit; } /* Name.Namespace */
    blockquote c-[py] { color: inherit; } /* Name.Property */
    blockquote c-[ow] { color: inherit; } /* Operator.Word */
    blockquote c-[mb] { color: inherit; } /* Literal.Number.Bin */
    blockquote c-[mf] { color: inherit; } /* Literal.Number.Float */
    blockquote c-[mh] { color: inherit; } /* Literal.Number.Hex */
    blockquote c-[mi] { color: inherit; } /* Literal.Number.Integer */
    blockquote c-[mo] { color: inherit; } /* Literal.Number.Oct */
    blockquote c-[sb] { color: inherit; } /* Literal.String.Backtick */
    blockquote c-[sc] { color: inherit; } /* Literal.String.Char */
    blockquote c-[sd] { color: inherit; } /* Literal.String.Doc */
    blockquote c-[se] { color: inherit; } /* Literal.String.Escape */
    blockquote c-[sh] { color: inherit; } /* Literal.String.Heredoc */
    blockquote c-[si] { color: inherit; } /* Literal.String.Interpol */
    blockquote c-[sx] { color: inherit; } /* Literal.String.Other */
    blockquote c-[sr] { color: inherit; } /* Literal.String.Regex */
    blockquote c-[ss] { color: inherit; } /* Literal.String.Symbol */
    blockquote c-[vc] { color: inherit; } /* Name.Variable.Class */
    blockquote c-[vg] { color: inherit; } /* Name.Variable.Global */
    blockquote c-[vi] { color: inherit; } /* Name.Variable.Instance */
    blockquote c-[il] { color: inherit; } /* Literal.Number.Integer.Long */
  </style>
  <link href="http://wg21.link/P0907r0" rel="canonical">
  <link href="https://isocpp.org/favicon.ico" rel="icon">
  <meta content="dark light" name="color-scheme">
<style>/* Boilerplate: style-autolinks */
.css.css, .property.property, .descriptor.descriptor {
    color: var(--a-normal-text);
    font-size: inherit;
    font-family: inherit;
}
.css::before, .property::before, .descriptor::before {
    content: "‘";
}
.css::after, .property::after, .descriptor::after {
    content: "’";
}
.property, .descriptor {
    /* Don't wrap property and descriptor names */
    white-space: nowrap;
}
.type { /* CSS value <type> */
    font-style: italic;
}
pre .property::before, pre .property::after {
    content: "";
}
[data-link-type="property"]::before,
[data-link-type="propdesc"]::before,
[data-link-type="descriptor"]::before,
[data-link-type="value"]::before,
[data-link-type="function"]::before,
[data-link-type="at-rule"]::before,
[data-link-type="selector"]::before,
[data-link-type="maybe"]::before {
    content: "‘";
}
[data-link-type="property"]::after,
[data-link-type="propdesc"]::after,
[data-link-type="descriptor"]::after,
[data-link-type="value"]::after,
[data-link-type="function"]::after,
[data-link-type="at-rule"]::after,
[data-link-type="selector"]::after,
[data-link-type="maybe"]::after {
    content: "’";
}

[data-link-type].production::before,
[data-link-type].production::after,
.prod [data-link-type]::before,
.prod [data-link-type]::after {
    content: "";
}

[data-link-type=element],
[data-link-type=element-attr] {
    font-family: Menlo, Consolas, "DejaVu Sans Mono", monospace;
    font-size: .9em;
}
[data-link-type=element]::before { content: "<" }
[data-link-type=element]::after  { content: ">" }

[data-link-type=biblio] {
    white-space: pre;
}

@media (prefers-color-scheme: dark) {
    :root {
        --selflink-text: black;
        --selflink-bg: silver;
        --selflink-hover-text: white;
    }
}
</style>
<style>/* Boilerplate: style-colors */
/* Any --*-text not paired with a --*-bg is assumed to have a transparent bg */
:root {
    color-scheme: light dark;

    --text: black;
    --bg: white;

    --unofficial-watermark: url(https://www.w3.org/StyleSheets/TR/2016/logos/UD-watermark);

    --logo-bg: #1a5e9a;
    --logo-active-bg: #c00;
    --logo-text: white;

    --tocnav-normal-text: #707070;
    --tocnav-normal-bg: var(--bg);
    --tocnav-hover-text: var(--tocnav-normal-text);
    --tocnav-hover-bg: #f8f8f8;
    --tocnav-active-text: #c00;
    --tocnav-active-bg: var(--tocnav-normal-bg);

    --tocsidebar-text: var(--text);
    --tocsidebar-bg: #f7f8f9;
    --tocsidebar-shadow: rgba(0,0,0,.1);
    --tocsidebar-heading-text: hsla(203,20%,40%,.7);

    --toclink-text: var(--text);
    --toclink-underline: #3980b5;
    --toclink-visited-text: var(--toclink-text);
    --toclink-visited-underline: #054572;

    --heading-text: #005a9c;

    --hr-text: var(--text);

    --algo-border: #def;

    --del-text: red;
    --del-bg: transparent;
    --ins-text: #080;
    --ins-bg: transparent;

    --a-normal-text: #034575;
    --a-normal-underline: #bbb;
    --a-visited-text: var(--a-normal-text);
    --a-visited-underline: #707070;
    --a-hover-bg: rgba(75%, 75%, 75%, .25);
    --a-active-text: #c00;
    --a-active-underline: #c00;

    --blockquote-border: silver;
    --blockquote-bg: transparent;
    --blockquote-text: currentcolor;

    --issue-border: #e05252;
    --issue-bg: #fbe9e9;
    --issue-text: var(--text);
    --issueheading-text: #831616;

    --example-border: #e0cb52;
    --example-bg: #fcfaee;
    --example-text: var(--text);
    --exampleheading-text: #574b0f;

    --note-border: #52e052;
    --note-bg: #e9fbe9;
    --note-text: var(--text);
    --noteheading-text: hsl(120, 70%, 30%);
    --notesummary-underline: silver;

    --assertion-border: #aaa;
    --assertion-bg: #eee;
    --assertion-text: black;

    --advisement-border: orange;
    --advisement-bg: #fec;
    --advisement-text: var(--text);
    --advisementheading-text: #b35f00;

    --warning-border: red;
    --warning-bg: hsla(40,100%,50%,0.95);
    --warning-text: var(--text);

    --amendment-border: #330099;
    --amendment-bg: #F5F0FF;
    --amendment-text: var(--text);
    --amendmentheading-text: #220066;

    --def-border: #8ccbf2;
    --def-bg: #def;
    --def-text: var(--text);
    --defrow-border: #bbd7e9;

    --datacell-border: silver;

    --indexinfo-text: #707070;

    --indextable-hover-text: black;
    --indextable-hover-bg: #f7f8f9;

    --outdatedspec-bg: rgba(0, 0, 0, .5);
    --outdatedspec-text: black;
    --outdated-bg: maroon;
    --outdated-text: white;
    --outdated-shadow: red;

    --editedrec-bg: darkorange;
}

@media (prefers-color-scheme: dark) {
    :root {
        --text: #ddd;
        --bg: black;

        --unofficial-watermark: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='400' height='400'%3E%3Cg fill='%23100808' transform='translate(200 200) rotate(-45) translate(-200 -200)' stroke='%23100808' stroke-width='3'%3E%3Ctext x='50%25' y='220' style='font: bold 70px sans-serif; text-anchor: middle; letter-spacing: 6px;'%3EUNOFFICIAL%3C/text%3E%3Ctext x='50%25' y='305' style='font: bold 70px sans-serif; text-anchor: middle; letter-spacing: 6px;'%3EDRAFT%3C/text%3E%3C/g%3E%3C/svg%3E");

        --logo-bg: #1a5e9a;
        --logo-active-bg: #c00;
        --logo-text: white;

        --tocnav-normal-text: #999;
        --tocnav-normal-bg: var(--bg);
        --tocnav-hover-text: var(--tocnav-normal-text);
        --tocnav-hover-bg: #080808;
        --tocnav-active-text: #f44;
        --tocnav-active-bg: var(--tocnav-normal-bg);

        --tocsidebar-text: var(--text);
        --tocsidebar-bg: #080808;
        --tocsidebar-shadow: rgba(255,255,255,.1);
        --tocsidebar-heading-text: hsla(203,20%,40%,.7);

        --toclink-text: var(--text);
        --toclink-underline: #6af;
        --toclink-visited-text: var(--toclink-text);
        --toclink-visited-underline: #054572;

        --heading-text: #8af;

        --hr-text: var(--text);

        --algo-border: #456;

        --del-text: #f44;
        --del-bg: transparent;
        --ins-text: #4a4;
        --ins-bg: transparent;

        --a-normal-text: #6af;
        --a-normal-underline: #555;
        --a-visited-text: var(--a-normal-text);
        --a-visited-underline: var(--a-normal-underline);
        --a-hover-bg: rgba(25%, 25%, 25%, .2);
        --a-active-text: #f44;
        --a-active-underline: var(--a-active-text);

        --borderedblock-bg: rgba(255, 255, 255, .05);

        --blockquote-border: silver;
        --blockquote-bg: var(--borderedblock-bg);
        --blockquote-text: currentcolor;

        --issue-border: #e05252;
        --issue-bg: var(--borderedblock-bg);
        --issue-text: var(--text);
        --issueheading-text: hsl(0deg, 70%, 70%);

        --example-border: hsl(50deg, 90%, 60%);
        --example-bg: var(--borderedblock-bg);
        --example-text: var(--text);
        --exampleheading-text: hsl(50deg, 70%, 70%);

        --note-border: hsl(120deg, 100%, 35%);
        --note-bg: var(--borderedblock-bg);
        --note-text: var(--text);
        --noteheading-text: hsl(120, 70%, 70%);
        --notesummary-underline: silver;

        --assertion-border: #444;
        --assertion-bg: var(--borderedblock-bg);
        --assertion-text: var(--text);

        --advisement-border: orange;
        --advisement-bg: #222218;
        --advisement-text: var(--text);
        --advisementheading-text: #f84;

        --warning-border: red;
        --warning-bg: hsla(40,100%,20%,0.95);
        --warning-text: var(--text);

        --amendment-border: #330099;
        --amendment-bg: #080010;
        --amendment-text: var(--text);
        --amendmentheading-text: #cc00ff;

        --def-border: #8ccbf2;
        --def-bg: #080818;
        --def-text: var(--text);
        --defrow-border: #136;

        --datacell-border: silver;

        --indexinfo-text: #aaa;

        --indextable-hover-text: var(--text);
        --indextable-hover-bg: #181818;

        --outdatedspec-bg: rgba(255, 255, 255, .5);
        --outdatedspec-text: black;
        --outdated-bg: maroon;
        --outdated-text: white;
        --outdated-shadow: red;

        --editedrec-bg: darkorange;
    }
    /* In case a transparent-bg image doesn't expect to be on a dark bg,
       which is quite common in practice... */
    img { background: white; }
}
</style>
<style>/* Boilerplate: style-counters */
body {
    counter-reset: example figure issue;
}
.issue {
    counter-increment: issue;
}
.issue:not(.no-marker)::before {
    content: "Issue " counter(issue);
}

.example {
    counter-increment: example;
}
.example:not(.no-marker)::before {
    content: "Example " counter(example);
}
.invalid.example:not(.no-marker)::before,
.illegal.example:not(.no-marker)::before {
    content: "Invalid Example" counter(example);
}

figcaption {
    counter-increment: figure;
}
figcaption:not(.no-marker)::before {
    content: "Figure " counter(figure) " ";
}
</style>
<style>/* Boilerplate: style-hidedel */
#hidedel:checked ~ del,
#hidedel:checked ~ * del {
    display:none;
}
#hidedel ~ #hidedel-label::before,
#hidedel ~ * #hidedel-label::before {
    content: "☐ ";
}
#hidedel:checked ~ #hidedel-label::before,
#hidedel:checked ~ * #hidedel-label::before {
    content: "☑ ";
}
</style>
<style>/* Boilerplate: style-issues */
a[href].issue-return {
    float: right;
    float: inline-end;
    color: var(--issueheading-text);
    font-weight: bold;
    text-decoration: none;
}
</style>
<style>/* Boilerplate: style-md-lists */
/* This is a weird hack for me not yet following the commonmark spec
   regarding paragraph and lists. */
[data-md] > :first-child {
    margin-top: 0;
}
[data-md] > :last-child {
    margin-bottom: 0;
}
</style>
<style>/* Boilerplate: style-selflinks */
:root {
    --selflink-text: white;
    --selflink-bg: gray;
    --selflink-hover-text: black;
}
.heading, .issue, .note, .example, li, dt {
    position: relative;
}
a.self-link {
    position: absolute;
    top: 0;
    left: calc(-1 * (3.5rem - 26px));
    width: calc(3.5rem - 26px);
    height: 2em;
    text-align: center;
    border: none;
    transition: opacity .2s;
    opacity: .5;
}
a.self-link:hover {
    opacity: 1;
}
.heading > a.self-link {
    font-size: 83%;
}
.example > a.self-link,
.note > a.self-link,
.issue > a.self-link {
    /* These blocks are overflow:auto, so positioning outside
       doesn't work. */
    left: auto;
    right: 0;
}
li > a.self-link {
    left: calc(-1 * (3.5rem - 26px) - 2em);
}
dfn > a.self-link {
    top: auto;
    left: auto;
    opacity: 0;
    width: 1.5em;
    height: 1.5em;
    background: var(--selflink-bg);
    color: var(--selflink-text);
    font-style: normal;
    transition: opacity .2s, background-color .2s, color .2s;
}
dfn:hover > a.self-link {
    opacity: 1;
}
dfn > a.self-link:hover {
    color: var(--selflink-hover-text);
}

a.self-link::before            { content: "¶"; }
.heading > a.self-link::before { content: "§"; }
dfn > a.self-link::before      { content: "#"; }
</style>
 <body class="h-entry">
  <div class="head">
   <p data-fill-with="logo"></p>
   <h1 class="p-name no-ref" id="title">P0907R0<br>Signed Integers are Two’s Complement</h1>
   <h2 class="no-num no-toc no-ref heading settled" id="profile-and-date"><span class="content">Published Proposal, <time class="dt-updated" datetime="1970-01-01">1970-01-01</time></span></h2>
   <div data-fill-with="spec-metadata">
    <dl>
     <dt>This version:
     <dd><a class="u-url" href="http://wg21.link/P0907r0">http://wg21.link/P0907r0</a>
     <dt class="editor">Author:
     <dd class="editor p-author h-card vcard"><a class="p-name fn u-email email" href="mailto:jfbastien@apple.com">JF Bastien</a> (<span class="p-org org">Apple</span>)
     <dt>Audience:
     <dd>EWG, SG12
     <dt>Toggle Diffs:
     <dd>
      <label for="hidedel" id="hidedel-label">Hide deleted text</label>
     <dt>Project:
     <dd>ISO/IEC 14882 Programming Languages — C++, ISO/IEC JTC1/SC22/WG21
     <dt>Source:
     <dd><a href="https://github.com/jfbastien/papers/blob/master/source/P0907r0.bs">github.com/jfbastien/papers/blob/master/source/P0907r0.bs</a>
    </dl>
   </div>
   <div data-fill-with="warning"></div>
   <hr title="Separator for header">
  </div>
  <div class="p-summary" data-fill-with="abstract">
   <h2 class="no-num no-toc no-ref heading settled" id="abstract"><span class="content">Abstract</span><a class="self-link" href="#abstract"></a></h2>
   <p>There is One True Representation for signed integers, and that representation is two’s complement.</p>
  </div>
  <nav data-fill-with="table-of-contents" id="toc">
   <h2 class="no-num no-toc no-ref heading settled" id="contents"><span class="content">Table of Contents</span></h2>
   <ol class="toc" role="directory">
    <li><a href="#intro"><span class="secno">1</span> <span class="content">Introduction</span></a>
    <li><a href="#word"><span class="secno">2</span> <span class="content">Proposed Wording</span></a>
    <li><a href="#scope"><span class="secno">3</span> <span class="content">Out of Scope</span></a>
    <li><a href="#c-sign"><span class="secno">4</span> <span class="content">C Signed Integer Wording</span></a>
    <li><a href="#survey"><span class="secno">5</span> <span class="content">Survey of Signed Integer Representations</span></a>
    <li>
     <a href="#references"><span class="secno"></span> <span class="content">References</span></a>
     <ol class="toc">
      <li><a href="#informative"><span class="secno"></span> <span class="content">Informative References</span></a>
     </ol>
   </ol>
  </nav>
  <main></main>
<script>
(function() {
  "use strict";
  var collapseSidebarText = '<span aria-hidden="true">←</span> '
                          + '<span>Collapse Sidebar</span>';
  var expandSidebarText   = '<span aria-hidden="true">→</span> '
                          + '<span>Pop Out Sidebar</span>';
  var tocJumpText         = '<span aria-hidden="true">↑</span> '
                          + '<span>Jump to Table of Contents</span>';

  var sidebarMedia = window.matchMedia('screen and (min-width: 78em)');
  var autoToggle   = function(e){ toggleSidebar(e.matches) };
  if(sidebarMedia.addListener) {
    sidebarMedia.addListener(autoToggle);
  }

  function toggleSidebar(on) {
    if (on == undefined) {
      on = !document.body.classList.contains('toc-sidebar');
    }

    /* Don't scroll to compensate for the ToC if we're above it already. */
    var headY = 0;
    var head = document.querySelector('.head');
    if (head) {
      // terrible approx of "top of ToC"
      headY += head.offsetTop + head.offsetHeight;
    }
    var skipScroll = window.scrollY < headY;

    var toggle = document.getElementById('toc-toggle');
    var tocNav = document.getElementById('toc');
    if (on) {
      var tocHeight = tocNav.offsetHeight;
      document.body.classList.add('toc-sidebar');
      document.body.classList.remove('toc-inline');
      toggle.innerHTML = collapseSidebarText;
      if (!skipScroll) {
        window.scrollBy(0, 0 - tocHeight);
      }
      tocNav.focus();
      sidebarMedia.addListener(autoToggle); // auto-collapse when out of room
    }
    else {
      document.body.classList.add('toc-inline');
      document.body.classList.remove('toc-sidebar');
      toggle.innerHTML = expandSidebarText;
      if (!skipScroll) {
        window.scrollBy(0, tocNav.offsetHeight);
      }
      if (toggle.matches(':hover')) {
        /* Unfocus button when not using keyboard navigation,
           because I don't know where else to send the focus. */
        toggle.blur();
      }
    }
  }

  function createSidebarToggle() {
    /* Create the sidebar toggle in JS; it shouldn't exist when JS is off. */
    var toggle = document.createElement('a');
      /* This should probably be a button, but appearance isn't standards-track.*/
    toggle.id = 'toc-toggle';
    toggle.class = 'toc-toggle';
    toggle.href = '#toc';
    toggle.innerHTML = collapseSidebarText;

    sidebarMedia.addListener(autoToggle);
    var toggler = function(e) {
      e.preventDefault();
      sidebarMedia.removeListener(autoToggle); // persist explicit off states
      toggleSidebar();
      return false;
    }
    toggle.addEventListener('click', toggler, false);


    /* Get <nav id=toc-nav>, or make it if we don't have one. */
    var tocNav = document.getElementById('toc-nav');
    if (!tocNav) {
      tocNav = document.createElement('p');
      tocNav.id = 'toc-nav';
      /* Prepend for better keyboard navigation */
      document.body.insertBefore(tocNav, document.body.firstChild);
    }
    /* While we're at it, make sure we have a Jump to Toc link. */
    var tocJump = document.getElementById('toc-jump');
    if (!tocJump) {
      tocJump = document.createElement('a');
      tocJump.id = 'toc-jump';
      tocJump.href = '#toc';
      tocJump.innerHTML = tocJumpText;
      tocNav.appendChild(tocJump);
    }

    tocNav.appendChild(toggle);
  }

  var toc = document.getElementById('toc');
  if (toc) {
    createSidebarToggle();
    toggleSidebar(sidebarMedia.matches);

    /* If the sidebar has been manually opened and is currently overlaying the text
       (window too small for the MQ to add the margin to body),
       then auto-close the sidebar once you click on something in there. */
    toc.addEventListener('click', function(e) {
      if(e.target.tagName.toLowerCase() == "a" && document.body.classList.contains('toc-sidebar') && !sidebarMedia.matches) {
        toggleSidebar(false);
      }
    }, false);
  }
  else {
    console.warn("Can't find Table of Contents. Please use <nav id='toc'> around the ToC.");
  }

  /* Wrap tables in case they overflow */
  var tables = document.querySelectorAll(':not(.overlarge) > table.data, :not(.overlarge) > table.index');
  var numTables = tables.length;
  for (var i = 0; i < numTables; i++) {
    var table = tables[i];
    var wrapper = document.createElement('div');
    wrapper.className = 'overlarge';
    table.parentNode.insertBefore(wrapper, table);
    wrapper.appendChild(table);
  }

})();
</script>
   <bs-main> <h2 class="heading settled" data-level="1" id="intro"><span class="secno">1. </span><span class="content">Introduction</span><a class="self-link" href="#intro"></a></h2> <p><a data-link-type="biblio" href="#biblio-c11" title="Programming Languages — C">[C11]</a> Integer types allows three representations for signed integral types:</p> <ul><li data-md><p>Signed magnitude</p> </li><li data-md><p>Ones' complement</p> </li><li data-md><p>Two’s complement</p> </li></ul> <p>See <a href="#c-sign">§ 4 C Signed Integer Wording</a> for full wording.</p> <p>C++ inherits these three signed integer representations from C. To the author’s
knowledge no modern machine uses both C++ and a signed integer representation
other than two’s complement (see <a href="#survey">§ 5 Survey of Signed Integer Representations</a>). None of <a data-link-type="biblio" href="#biblio-msvc" title="MSVC C Implementation-Defined Behavior: Integers">[MSVC]</a>, <a data-link-type="biblio" href="#biblio-gcc" title="GCC C Implementation-Defined Behavior: Integers">[GCC]</a>, and <a data-link-type="biblio" href="#biblio-llvm" title="LLVM Language Reference Manual">[LLVM]</a> support other representations. This means that the C++ that is taught
is effectively two’s complement, and the C++ that is written is two’s
complement. It is extremely unlikely that there exist any significant code base
developed for two’s complement machines that would actually work when run on a
non-two’s complement machine.</p> <p>The C++ that is spec’d, however, is not two’s complement. Signed integers
currently allow for trap representations, extra padding bits, integral negative
zero, and introduce undefined behavior and implementation-defined behavior for
the sake of this <em>extremely</em> abstract machine.</p> <p>Specifically, the current wording has the following effects:</p> <ul><li data-md><p>Associativity and commutativity of integers is needlessly obtuse.</p> </li><li data-md><p>Naïve overflow checks, which are often security-critical, often get
eliminated by compilers. This leads to exploitable code when the intent was
clearly not to and the code, while naïve, was correctly performing security
checks for two’s complement integers. Correct overflow checks are difficult
to write and equally difficult to read, exponentially so in generic code.</p> </li><li data-md><p>Conversion between signed and unsigned are implementation-defined.</p> </li><li data-md><p>There is no portable way to generate an arithmetic right-shift, or to
sign-extend an integer, which every modern CPU supports.</p> </li><li data-md><p><code class="highlight"><c- k>constexpr</c-></code> is further restrained by this extraneous undefined behavior.</p> </li><li data-md><p>Atomic integral are already two’s complement and have no undefined results,
therefore even freestanding implementations already support two’s complement
in C++.</p> </li></ul> <p>Let’s stop pretending that the C++ abstract machine should represent integers as
signed magnitude or ones' complement. These theoretical implementations are a
different programming language, not our real-world C++. Users of C++ who require
signed magnitude or ones' complement integers would be better served by a
pure-library solution, and so would the rest of us.</p> <p>This proposal leaves C unchanged, it merely restricts further the subset of C
which applies to C++. The author will ensure that WG14 is made aware of this
paper’s outcome.</p> <p>A final argument to move to two’s complement is that few people spell "ones'
complement" correctly according to Knuth <a data-link-type="biblio" href="#biblio-taocp" title="The Art of Computer Programming, Volume 2 (3rd Ed.): Seminumerical Algorithms">[TAoCP]</a>. Reducing the nerd-snipe
potential inherent in C++ is a Good Thing™.</p> <blockquote> <p>Detail-oriented readers and copy editors should notice the position of the
  apostrophe in terms like “two’s complement” and “ones’ complement”: A two’s
  complement number is complemented with respect to a single power of 2, while a
  ones’ complement number is complemented with respect to a long sequence of
  1s. Indeed, there is also a “twos’ complement notation,” which has radix 3 and
  complementation with respect to (2 . . . 22)<sub>3</sub>.</p> </blockquote> <h2 class="heading settled" data-level="2" id="word"><span class="secno">2. </span><span class="content">Proposed Wording</span><a class="self-link" href="#word"></a></h2> <p>Modify Program execution [<strong>intro.execution</strong>] ❡8:</p> <blockquote> <p>[<em>Note:</em> Operators can be regrouped according to the usual mathematical
rules only where the operators really are associative or commutative.
For example, in the following fragment</p> <pre class="highlight"><c- b>int</c-> <c- n>a</c-><c- p>,</c-> <c- n>b</c-><c- p>;</c->
<c- d>/* ... */</c->
<c- n>a</c-> <c- o>=</c-> <c- n>a</c-> <c- o>+</c-> <c- mi>32760</c-> <c- o>+</c-> <c- n>b</c-> <c- o>+</c-> <c- mi>5</c-><c- p>;</c->
</pre> <p>the expression statement behaves exactly the same as</p> <pre class="highlight"><c- n>a</c-> <c- o>=</c-> <c- p>(((</c-><c- n>a</c-> <c- o>+</c-> <c- mi>32760</c-><c- p>)</c-> <c- o>+</c-> <c- n>b</c-><c- p>)</c-> <c- o>+</c-> <c- mi>5</c-><c- p>);</c->
</pre> <p>due to the associativity and precedence of these operators. Thus, the result of
the sum <code class="highlight"><c- p>(</c-><c- n>a</c-> <c- o>+</c-> <c- mi>32760</c-><c- p>)</c-></code> is next added to <code class="highlight"><c- n>b</c-></code>, and that result is then added to 5
which results in the value assigned to <code class="highlight"><c- n>a</c-></code>.<del> On a machine in which overflows
produce an exception and in which the range of values representable by an <code class="highlight"><c- b>int</c-></code> is <code class="highlight"><c- p>[</c-><c- mi>-32768</c-><c- p>,</c-> <c- o>+</c-><c- mi>32767</c-><c- p>]</c-></code>, the implementation cannot rewrite this expression as</del></p> <del><pre class="highlight">
  <c- n>a</c-> <c- o>=</c-> <c- p>((</c-><c- n>a</c-> <c- o>+</c-> <c- n>b</c-><c- p>)</c-> <c- o>+</c-> <c- mi>32765</c-><c- p>);</c->
</pre></del> <del>since if the values for <code class="highlight"><c- n>a</c-></code> and <code class="highlight"><c- n>b</c-></code> were, respectively, -32754 and -15, the sum <code class="highlight"><c- n>a</c-> <c- o>+</c-> <c- n>b</c-></code> would produce an exception while the original expression would not; nor
can the expression be rewritten either as</del> <del><pre class="highlight">
  <c- n>a</c-> <c- o>=</c-> <c- p>((</c-><c- n>a</c-> <c- o>+</c-> <c- mi>32765</c-><c- p>)</c-> <c- o>+</c-> <c- n>b</c-><c- p>);</c->
</pre></del> <del>or</del> <del><pre class="highlight">
  <c- n>a</c-> <c- o>=</c-> <c- p>(</c-><c- n>a</c-> <c- o>+</c-> <c- p>(</c-><c- n>b</c-> <c- o>+</c-> <c- mi>32765</c-><c- p>));</c->
</pre></del> <del>since the values for <code class="highlight"><c- n>a</c-></code> and <code class="highlight"><c- n>b</c-></code> might have been, respectively, 4 and -8 or -17
and 12. However on a machine in which overflows do not produce an exception and
in which the results of overflows are reversible, the above expression statement
can be rewritten by the implementation in any of the above ways because the same
result will occur.</del> —<em>end note</em>] </blockquote> <p>Modify Fundamental types [<strong>basic.fundamental</strong>] ❡4 onwards:</p> <blockquote> <p>Unsigned integers shall obey the laws of arithmetic modulo 2<sup>n</sup> where <em>n</em> is the number of bits in the value representation of that particular size of
integer.</p> <blockquote> <p>This implies that unsigned arithmetic does not overflow because a result that
  cannot be represented by the resulting unsigned integer type is reduced modulo
  the number that is one greater than the largest value that can be represented
  by the resulting unsigned integer type.</p> </blockquote> <p>Type <code class="highlight"><c- b>wchar_t</c-></code> is a distinct type whose values can represent distinct codes for
all members of the largest extended character set specified among the supported
locales. Type <code class="highlight"><c- b>wchar_t</c-></code> shall have the same size, signedness, and alignment
requirements as one of the other integral types, called its <em>underlying type</em>.
Types <code class="highlight"><c- b>char16_t</c-></code> and <code class="highlight"><c- b>char32_t</c-></code> denote distinct types with the same size,
signedness, and alignment as <code class="highlight"><c- b>uint_least16_t</c-></code> and <code class="highlight"><c- b>uint_least32_t</c-></code>,
respectively, in <code class="highlight"><c- o>&lt;</c-><c- n>cstdint</c-><c- o>></c-></code>, called the underlying types.</p> <p>Values of type <code class="highlight"><c- b>bool</c-></code> are either <code class="highlight">true</code> or <code class="highlight">false</code>. [<em>Note:</em> There are no <code class="highlight"><c- b>signed</c-></code>, <code class="highlight"><c- b>unsigned</c-></code>, <code class="highlight"><c- b>short</c-></code>, or <code class="highlight"><c- b>long</c-> <c- b>bool</c-></code> types or values. —<em>end note</em>]
Values of type <code class="highlight"><c- b>bool</c-></code> participate in integral promotions.</p> <p>Types <code class="highlight"><c- b>bool</c-></code>, <code class="highlight"><c- b>char</c-></code>, <code class="highlight"><c- b>char16_t</c-></code>, <code class="highlight"><c- b>char32_t</c-></code>, <code class="highlight"><c- b>wchar_t</c-></code>, and the signed and
unsigned integer types are collectively called <em>integral</em> types. A synonym for
integral type is <em>integer type</em>. <del>The representations of integral types
shall define values by use of a pure binary numeration system. [<em>Example:</em> This document permits two’s complement, ones' complement and signed magnitude
representations for integral types. —<em>end example</em>]</del></p> <ins>Signed integer types shall be repesented as two’s complement. Overflow in
the positive direction shall wrap around from the maximum integer value for the
type back to the minimum, and overflow in the negative direction shall wrap
around from the minimum value for the type to the maximum.
[<em>Note:</em> Addition, subtraction, and multiplication on signed and unsigned
integral values with the same object representation produce a value with the
same object representation, whereas division and modulo do not.
—<em>end note</em>]</ins> </blockquote> <p>Modify Integral conversions [<strong>conv.integral</strong>] ❡1 onwards:</p> <blockquote> <p>A prvalue of an integer type can be converted to a prvalue of another integer
type. A prvalue of an unscoped enumeration type can be converted to a prvalue of
an integer type.</p> <p>If the destination type is unsigned, the resulting value is the least unsigned
integer congruent to the source integer (modulo 2<sup>n</sup> where <em>n</em> is the
number of bits used to represent the unsigned type). <del>[<em>Note:</em> In a two’s
complement representation, t</del><ins>T</ins>his conversion is conceptual and there is no change
in the bit pattern (if there is no truncation).<del> —<em>end note</em>]</del></p> <p>If the destination type is signed, the value is unchanged if it can be
represented in the destination type; otherwise, <del>the value is
implementation-defined.</del><ins>the object representation remains the same if
the source and destination have the same size, or the least-significant source
bits are retained if the destination is smaller than the source.</ins></p> </blockquote> <p>Modify Static cast [<strong>expr.static.cast</strong>] ❡1 onwards:</p> <blockquote> <p>A value of a scoped enumeration type can be explicitly converted to an integral
type. When that type is <em>cv</em> <code class="highlight"><c- b>bool</c-></code>, the resulting value is <code class="highlight">false</code> if the
original value is zero and <code class="highlight">true</code> for all other values. For the remaining
integral types, the value is unchanged if the original value can be represented
by the specified type. Otherwise, the <del>resulting value is
unspecified</del><ins>the object representation remains the same if the source
and destination have the same size, or the least-significant source bits are
retained if the destination is smaller than the source</ins>. A value of a
scoped enumeration type can also be explicitly converted to a floating-point
type; the result is the same as that of converting from the original value to
the floating-point type.</p> <p>A value of integral or enumeration type can be explicitly converted to a
complete enumeration type.  If the enumeration type has a fixed underlying type,
the value is first converted to that type by integral conversion, if necessary,
and then to the enumeration type.  If the enumeration type does not have a fixed
underlying type, the value is unchanged if the original value is within the
range of the enumeration values, and otherwise, <del>the behavior is
undefined</del><ins>the object representation remains the same if the source and
destination have the same size, or the least-significant source bits are
retained if the destination is smaller than the source</ins>.  A value of
floating-point type can also be explicitly converted to an enumeration type.
The resulting value is the same as converting the original value to the
underlying type of the enumeration\iref{conv.fpint}, and subsequently to the
enumeration type.</p> </blockquote> <p>Modify Shift operators [<strong>expr.shift</strong>] ❡1 onwards:</p> <blockquote> <p>The operands shall be of integral or unscoped enumeration type and integral
promotions are performed. The type of the result is that of the promoted left
operand. The behavior is undefined if the right operand is negative, or greater
than or equal to the length in bits of the promoted left operand.</p> <p>The value of <code class="highlight"><c- n>E1</c-> <c- o>&lt;&lt;</c-> <c- n>E2</c-></code> is <code class="highlight"><c- n>E1</c-></code> left-shifted <code class="highlight"><c- n>E2</c-></code> bit positions; vacated bits
are zero-filled. <del>If <code class="highlight"><c- n>E1</c-></code> has an unsigned type, t</del><ins>T</ins>he value
of the result is E1×2<sup>E2</sup>, reduced modulo one more than the maximum
value representable in the result type.<del> Otherwise, if <code class="highlight"><c- n>E1</c-></code> has a signed
type and non-negative value, and E1×2<sup>E2</sup> is representable in the
corresponding unsigned type of the result type, then that value, converted to
the result type, is the resulting value; otherwise, the behavior is
undefined.</del></p> <p>The value of <code class="highlight"><c- n>E1</c-> <c- o>>></c-> <c- n>E2</c-></code> is <code class="highlight"><c- n>E1</c-></code> right-shifted <code class="highlight"><c- n>E2</c-></code> bit positions. If <code class="highlight"><c- n>E1</c-></code> has an
unsigned type or if <code class="highlight"><c- n>E1</c-></code> has a signed type and a non-negative value, the value
of the result is the integral part of the quotient of E1/2<sup>E2</sup>. If <code class="highlight"><c- n>E1</c-></code> has a signed type and a negative value, the resulting value <del>is
implementation-defined.</del><ins>the negative of the integral part of the
quotient of E1/2<sup>E2</sup>. [<em>Note</em>: This implies that right-shift on signed
integral types is an arithmetic right shift, and performs sign-extension.
—<em>end note</em>]</ins></p> </blockquote> <p>Modify Constant expressions [<strong>expr.const</strong>] ❡2:</p> <blockquote> <p>An expression <code class="highlight"><c- n>e</c-></code> is a <em>core constant expression</em> unless the evaluation of <code class="highlight"><c- n>e</c-></code>,
following the rules of the abstract machine, would evaluate one of the following
expressions:</p> <p>[…]</p> <ul><li data-md><p>an operation that would have undefined behavior as specified in Clause 4
through 19 of this document [<em>Note</em>: including, for example, <del>signed
integer overflow, </del>certain pointer arithmetic, division
by zero, or certain shift operations —<em>end note</em>]</p> </li></ul> </blockquote> <p>Modify Enumeration declarations [<strong>dcl.enum</strong>] ❡8:</p> <blockquote> <p>For an enumeration whose underlying type is fixed, the values of the enumeration
are the values of the underlying type. Otherwise, for an enumeration where
e<sub>min</sub> is the smallest enumerator and e<sub>max</sub> is the largest,
the values of the enumeration are the values in the range b<sub>min</sub> to
b<sub>max</sub>, defined as follows: <del>Let <em>K</em> be 1 for a two’s complement
representation and 0 for a ones' complement or sign-magnitude representation.</del> b<sub>max</sub> is the smallest value greater than or equal to
max(|e<sub>min</sub>| - <del>K</del><ins>1</ins>, |e<sub>max</sub>|) and equal to 2<sup>M</sup>-1,
where <em>M</em> is a non-negative integer. b<sub>min</sub> is zero if e<sub>min</sub> is non-negative and -(b<sub>max</sub>+<del>K</del><ins>1</ins>) otherwise. The size of the smallest
bit-field large enough to hold all the values of the enumeration type is
max(M,1) if b<sub>min</sub> is zero and M+1 otherwise. It is possible to define
an enumeration that has values not defined by any of its enumerators. If the <em>enumerator-list</em> is empty, the values of the enumeration are as if the
enumeration had a single enumerator with value 0.</p> </blockquote> <p>Modify <code class="highlight"><c- n>numeric_limits</c-></code> members [<strong>numeric.limits.members</strong>] ❡61 onwards:</p> <blockquote> <pre class="highlight"><c- k>static</c-> <c- k>constexpr</c-> <c- b>bool</c-> <c- n>is_modulo</c-><c- p>;</c-></pre> <p><code class="highlight">true</code> if the type is modulo. A type is modulo if, for any operation involving <code class="highlight"><c- o>+</c-></code>, <code class="highlight"><c- o>-</c-></code>, or <code class="highlight"><c- o>*</c-></code> on values of that type whose result would fall outside the
range <code class="highlight"><c- p>[</c-><c- n>min</c-><c- p>(),</c-> <c- n>max</c-><c- p>()]</c-></code>, the value returned differs from the true value by
an integer multiple of <code class="highlight"><c- n>max</c-><c- p>()</c-> <c- o>-</c-> <c- n>min</c-><c- p>()</c-> <c- o>+</c-> <c- mi>1</c-></code>.</p> <del>[<em>Example:</em><code class="highlight"><c- n>is_modulo</c-></code> is <code class="highlight">false</code> for signed integer types
unless an implementation, as an extension to this document,
defines signed integer overflow to wrap.  —<em>end example</em>]</del> <p>Meaningful for all specializations.</p> </blockquote> <p>Modify Class template <code class="highlight"><c- n>ratio</c-></code> [<strong>ratio.ratio</strong>] ❡1:</p> <blockquote> <p>If the template argument <code class="highlight"><c- n>D</c-></code> is zero or the absolute values of either of the
template arguments <code class="highlight"><c- n>N</c-></code> and <code class="highlight"><c- n>D</c-></code> is not representable by type <code class="highlight"><c- b>intmax_t</c-></code>, the
program is ill-formed. [<em>Note:</em> These rules ensure that infinite ratios are
avoided and that for any negative input, there exists a representable value of
its absolute value which is positive. <del>In a two’s complement representation, t</del><ins>T</ins>his
excludes the most negative value. —<em>end note</em>]</p> </blockquote> <p>Remove Specializations for integers [<strong>atomics.types.int</strong>] ❡7:</p> <blockquote> <del><em>Remarks:</em> For signed integer types, arithmetic is defined to use two’s
complement representation. There are no undefined results.</del> </blockquote> <h2 class="heading settled" data-level="3" id="scope"><span class="secno">3. </span><span class="content">Out of Scope</span><a class="self-link" href="#scope"></a></h2> <p>This proposal focuses on the representation of signed integers, and on
tightening the specification when that representation is constrained to two’s
complement. It is out of scope for this proposal to deal with related issues
which have more to them than simply the representation of signed integers.</p> <p>A non-comprehensive list of items left purposefully out:</p> <ul><li data-md><p>Left and right shift with a right-hand-side equal to or wider than the
bit-width of the left-hand-side.</p> </li><li data-md><p>Integral division or modulo by zero.</p> </li><li data-md><p>Integral division or modulo of the signed minimum integral value for a
particular integral type by minus one.</p> </li><li data-md><p>Overflow of pointer arithmetic.</p> </li><li data-md><p>Library solution for ones' complement integers.</p> </li><li data-md><p>Library solution for signed magnitude integers.</p> </li><li data-md><p>Library solution for two’s complement integers with trapping or undefined
overflow semantics.</p> </li><li data-md><p>Language support for explicit signed overflow truncation such as Swift’s
(<code class="highlight"><c- o>&amp;+</c-></code>, <code class="highlight"><c- o>&amp;-</c-></code>, and <code class="highlight"><c- o>&amp;*</c-></code>), or complementary trapping overflow operators.</p> </li><li data-md><p>Library or language support for saturating arithmetic.</p> </li><li data-md><p>Mechanism to let the compiler assume that integers, signed or unsigned, do
not experience signed or unsigned wrapping for:</p> <ul><li data-md><p>A specific integral variable.</p> </li><li data-md><p>All integral variables (à la <code class="highlight"><c- o>-</c-><c- n>ftrapv</c-></code>, <code class="highlight"><c- o>-</c-><c- n>fno</c-><c- o>-</c-><c- n>wrapv</c-></code>, and <code class="highlight"><c- o>-</c-><c- n>fstrict</c-><c- o>-</c-><c- n>overflow</c-></code>).</p> </li><li data-md><p>A specific loop’s induction variable.</p> </li></ul> </li><li data-md><p>Mechanism to have the compiler list places where it could benefit from
knowing that overflow cannot occur (à la <code class="highlight"><c- o>-</c-><c- n>Wstrict</c-><c- o>-</c-><c- n>overflow</c-></code>).</p> </li><li data-md><p>Endianness of integral storage (or endianness in general).</p> </li><li data-md><p>Bits per bytes, though we all know there are eight.</p> </li></ul> <p>These items could be tackled in separate proposals, unless the committee wants
them tackled here. This paper expresses no preference in whether they should be
addressed or how.</p> <h2 class="heading settled" data-level="4" id="c-sign"><span class="secno">4. </span><span class="content">C Signed Integer Wording</span><a class="self-link" href="#c-sign"></a></h2> <p>The following is the wording on integers from the C11 Standard.</p> <blockquote> <p>For unsigned integer types other than unsigned char, the bits of the object
  representation shall be divided into two groups: value bits and padding bits
  (there need not be any of the latter). If there are <em>N</em> value bits, each bit
  shall represent a different power of 2 between 1 and 2<sup>N−1</sup>, so that
  objects of that type shall be capable of representing values from 0 to
  2<sup>N</sup> − 1 using a pure binary representation; this shall be known as
  the value representation. The values of any padding bits are unspecified.</p> <p>For signed integer types, the bits of the object representation shall be
  divided into three groups: value bits, padding bits, and the sign bit. There
  need not be any padding bits; <code class="highlight"><c- b>signed</c-> <c- b>char</c-></code> shall not have any padding bits.
  There shall be exactly one sign bit. Each bit that is a value bit shall have
  the same value as the same bit in the object representation of the
  corresponding unsigned type (if there are <em>M</em> value bits in the signed type
  and <em>N</em> in the unsigned type, then M ≤ N). If the sign bit is zero, it shall
  not affect the resulting value. If the sign bit is one, the value shall be
  modified in one of the following ways:</p> <ul><li data-md><p>the corresponding value with sign bit 0 is negated (<em>sign and magnitude</em>);</p> </li><li data-md><p>the sign bit has the value −(2<sup>M</sup>) (<em>two’s complement</em>);</p> </li><li data-md><p>the sign bit has the value −(2<sup>M</sup> − 1) (<em>ones’ complement</em>).</p> </li></ul> <p>Which of these applies is implementation-defined, as is whether the value with
  sign bit 1 and all value bits zero (for the first two), or with sign bit and
  all value bits 1 (for ones’ complement), is a trap representation or a normal
  value. In the case of sign and magnitude and ones’ complement, if this
  representation is a normal value it is called a <em>negative zero</em>.</p> <p>If the implementation supports negative zeros, they shall be generated only
  by:</p> <ul><li data-md><p>the <code class="highlight"><c- o>&amp;</c-></code>, <code class="highlight"><c- o>|</c-></code>, <code class="highlight"><c- o>^</c-></code>, <code class="highlight"><c- o>~</c-></code>, <code class="highlight"><c- o>&lt;&lt;</c-></code>, and <code class="highlight"><c- o>>></c-></code> operators with operands that produce such a value;</p> </li><li data-md><p>the <code class="highlight"><c- o>+</c-></code>, <code class="highlight"><c- o>-</c-></code>, <code class="highlight"><c- o>*</c-></code>, <code class="highlight"><c- o>/</c-></code>, and <code class="highlight"><c- o>%</c-></code> operators where one operand is a negative zero and the result is zero;</p> </li><li data-md><p>compound assignment operators based on the above cases.</p> </li></ul> <p>It is unspecified whether these cases actually generate a negative zero or a
  normal zero, and whether a negative zero becomes a normal zero when stored in
  an object.</p> <p>If the implementation does not support negative zeros, the behavior of the <code class="highlight"><c- o>&amp;</c-></code>, <code class="highlight"><c- o>|</c-></code>, <code class="highlight"><c- o>^</c-></code>, <code class="highlight"><c- o>~</c-></code>, <code class="highlight"><c- o>&lt;&lt;</c-></code>, and <code class="highlight"><c- o>>></c-></code> operators with operands that would produce
  such a value is undefined.</p> <p>The values of any padding bits are unspecified. A valid (non-trap) object
  representation of a signed integer type where the sign bit is zero is a valid
  object representation of the corresponding unsigned type, and shall represent
  the same value. For any integer type, the object representation where all the
  bits are zero shall be a representation of the value zero in that type.</p> <p>The <em>precision</em> of an integer type is the number of bits it uses to represent
  values, excluding any sign and padding bits. The <em>width</em> of an integer type is
  the same but including any sign bit; thus for unsigned integer types the two
  values are the same, while for signed integer types the width is one greater
  than the precision.</p> </blockquote> <h2 class="heading settled" data-level="5" id="survey"><span class="secno">5. </span><span class="content">Survey of Signed Integer Representations</span><a class="self-link" href="#survey"></a></h2> <p>Here is a non-comprehensive history of signed integer representations:</p> <ul><li data-md><p>Two’s complement</p> <ul><li data-md><p>John von Neumann suggested use of two’s complement binary representation in his 1945 First Draft of a Report on the EDVAC proposal for an electronic stored-program digital computer.</p> </li><li data-md><p>The 1949 EDSAC, which was inspired by the First Draft, used two’s complement representation of binary numbers.</p> </li><li data-md><p>Early commercial two’s complement computers include the Digital Equipment Corporation PDP-5 and the 1963 PDP-6.</p> </li><li data-md><p>The System/360, introduced in 1964 by IBM, then the dominant player in the computer industry, made two’s complement the most widely used binary representation in the computer industry.</p> </li><li data-md><p>The first minicomputer, the PDP-8 introduced in 1965, uses two’s complement arithmetic as do the 1969 Data General Nova, the 1970 PDP-11.</p> </li></ul> </li><li data-md><p>Ones' complement</p> <ul><li data-md><p>Many early computers, including the CDC 6600, the LINC, the PDP-1, and the UNIVAC 1107.</p> </li><li data-md><p>Successors of the CDC 6600 continued to use ones' complement until the late 1980s.</p> </li><li data-md><p>Descendants of the UNIVAC 1107, the UNIVAC 1100/2200 series, continue to do so, although ClearPath machines are a common platform that implement either the 1100/2200 architecture (the ClearPath IX series) or the Burroughs large systems architecture (the ClearPath NX series). Everything is common except the actual CPUs, which are implemented as ASICs. In addition to the IX (1100/2200) CPUs and the NX (Burroughs large systems) CPU, the architecture had Xeon (and briefly Itanium) CPUs. Unisys' goal was to provide an orderly transition for their 1100/2200 customers to a more modern architecture.</p> </li></ul> </li><li data-md><p>Signed magnitude</p> <ul><li data-md><p>The IBM 700/7000 series scientific machines use sign/magnitude notation, except for the index registers which are two’s complement.</p> </li></ul></li></ul> <p><a href="https://en.wikipedia.org/wiki/Two%27s_complement">Wikipedia</a> offers
more details and has comprehensive sources for the above.</p> <p>In short, the only machine the author could find using non-two’s complement are
made by Unisys. Nowadays they emulate their old architecture using x86 CPUs for
customers who have legacy applications which they’ve been unable to
migrate. These applications are unlikely to be well served by modern C++, signed
integers are the least of their problem. Post-modern C++ should focus on serving
its existing users well, and incoming users should be blissfully unaware of
integer esoterica.</p> </bs-main>
  <h2 class="no-num no-ref heading settled" id="references"><span class="content">References</span><a class="self-link" href="#references"></a></h2>
  <h3 class="no-num no-ref heading settled" id="informative"><span class="content">Informative References</span><a class="self-link" href="#informative"></a></h3>
  <dl>
   <dt id="biblio-c11">[C11]
   <dd><a href="http://www.open-std.org/jtc1/sc22/wg14/www/docs/n1570.pdf"><cite>Programming Languages — C</cite></a>. URL: <a href="http://www.open-std.org/jtc1/sc22/wg14/www/docs/n1570.pdf">http://www.open-std.org/jtc1/sc22/wg14/www/docs/n1570.pdf</a>
   <dt id="biblio-gcc">[GCC]
   <dd><a href="https://gcc.gnu.org/onlinedocs/gcc/Integers-implementation.html"><cite>GCC C Implementation-Defined Behavior: Integers</cite></a>. URL: <a href="https://gcc.gnu.org/onlinedocs/gcc/Integers-implementation.html">https://gcc.gnu.org/onlinedocs/gcc/Integers-implementation.html</a>
   <dt id="biblio-llvm">[LLVM]
   <dd><a href="https://llvm.org/docs/LangRef.html"><cite>LLVM Language Reference Manual</cite></a>. URL: <a href="https://llvm.org/docs/LangRef.html">https://llvm.org/docs/LangRef.html</a>
   <dt id="biblio-msvc">[MSVC]
   <dd><a href="https://docs.microsoft.com/en-us/cpp/c-language/integers"><cite>MSVC C Implementation-Defined Behavior: Integers</cite></a>. URL: <a href="https://docs.microsoft.com/en-us/cpp/c-language/integers">https://docs.microsoft.com/en-us/cpp/c-language/integers</a>
   <dt id="biblio-taocp">[TAoCP]
   <dd>Donald Knuth. <cite>The Art of Computer Programming, Volume 2 (3rd Ed.): Seminumerical Algorithms</cite>. 
  </dl>